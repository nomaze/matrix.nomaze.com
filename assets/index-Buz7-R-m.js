(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"cc5169469acbc14ce096297aae841ceedd35f443"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="dee5a9f3-31e7-4e24-8e71-45008a6ba33b",e._sentryDebugIdIdentifier="sentry-dbid-dee5a9f3-31e7-4e24-8e71-45008a6ba33b")})()}catch{}function pVe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var YP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wB={exports:{}},g2={};var ule;function hVe(){if(ule)return g2;ule=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return g2.Fragment=t,g2.jsx=n,g2.jsxs=n,g2}var dle;function gVe(){return dle||(dle=1,wB.exports=hVe()),wB.exports}var h=gVe(),SB={exports:{}},Fn={};var fle;function mVe(){if(fle)return Fn;fle=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),f=Symbol.iterator;function p(z){return z===null||typeof z!="object"?null:(z=f&&z[f]||z["@@iterator"],typeof z=="function"?z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function x(z,W,X){this.props=z,this.context=W,this.refs=v,this.updater=X||g}x.prototype.isReactComponent={},x.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function w(){}w.prototype=x.prototype;function S(z,W,X){this.props=z,this.context=W,this.refs=v,this.updater=X||g}var C=S.prototype=new w;C.constructor=S,y(C,x.prototype),C.isPureReactComponent=!0;var k=Array.isArray;function T(){}var E={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function O(z,W,X){var Q=X.ref;return{$$typeof:e,type:z,key:W,ref:Q!==void 0?Q:null,props:X}}function I(z,W){return O(z.type,W,z.props)}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function P(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(X){return W[X]})}var $=/\/+/g;function D(z,W){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):W.toString(36)}function F(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(T,T):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function N(z,W,X,Q,ee){var ne=typeof z;(ne==="undefined"||ne==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(ne){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case e:case t:oe=!0;break;case u:return oe=z._init,N(oe(z._payload),W,X,Q,ee)}}if(oe)return ee=ee(z),oe=Q===""?"."+D(z,0):Q,k(ee)?(X="",oe!=null&&(X=oe.replace($,"$&/")+"/"),N(ee,W,X,"",function(ge){return ge})):ee!=null&&(j(ee)&&(ee=I(ee,X+(ee.key==null||z&&z.key===ee.key?"":(""+ee.key).replace($,"$&/")+"/")+oe)),W.push(ee)),1;oe=0;var ce=Q===""?".":Q+":";if(k(z))for(var re=0;re<z.length;re++)Q=z[re],ne=ce+D(Q,re),oe+=N(Q,W,X,ne,ee);else if(re=p(z),typeof re=="function")for(z=re.call(z),re=0;!(Q=z.next()).done;)Q=Q.value,ne=ce+D(Q,re++),oe+=N(Q,W,X,ne,ee);else if(ne==="object"){if(typeof z.then=="function")return N(F(z),W,X,Q,ee);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return oe}function V(z,W,X){if(z==null)return z;var Q=[],ee=0;return N(z,Q,"","",function(ne){return W.call(X,ne,ee++)}),Q}function H(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(X){(z._status===0||z._status===-1)&&(z._status=1,z._result=X)},function(X){(z._status===0||z._status===-1)&&(z._status=2,z._result=X)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var U=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},G={map:V,forEach:function(z,W,X){V(z,function(){W.apply(this,arguments)},X)},count:function(z){var W=0;return V(z,function(){W++}),W},toArray:function(z){return V(z,function(W){return W})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Fn.Activity=d,Fn.Children=G,Fn.Component=x,Fn.Fragment=n,Fn.Profiler=i,Fn.PureComponent=S,Fn.StrictMode=r,Fn.Suspense=l,Fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Fn.__COMPILER_RUNTIME={__proto__:null,c:function(z){return E.H.useMemoCache(z)}},Fn.cache=function(z){return function(){return z.apply(null,arguments)}},Fn.cacheSignal=function(){return null},Fn.cloneElement=function(z,W,X){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Q=y({},z.props),ee=z.key;if(W!=null)for(ne in W.key!==void 0&&(ee=""+W.key),W)!A.call(W,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&W.ref===void 0||(Q[ne]=W[ne]);var ne=arguments.length-2;if(ne===1)Q.children=X;else if(1<ne){for(var oe=Array(ne),ce=0;ce<ne;ce++)oe[ce]=arguments[ce+2];Q.children=oe}return O(z.type,ee,Q)},Fn.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Fn.createElement=function(z,W,X){var Q,ee={},ne=null;if(W!=null)for(Q in W.key!==void 0&&(ne=""+W.key),W)A.call(W,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ee[Q]=W[Q]);var oe=arguments.length-2;if(oe===1)ee.children=X;else if(1<oe){for(var ce=Array(oe),re=0;re<oe;re++)ce[re]=arguments[re+2];ee.children=ce}if(z&&z.defaultProps)for(Q in oe=z.defaultProps,oe)ee[Q]===void 0&&(ee[Q]=oe[Q]);return O(z,ne,ee)},Fn.createRef=function(){return{current:null}},Fn.forwardRef=function(z){return{$$typeof:a,render:z}},Fn.isValidElement=j,Fn.lazy=function(z){return{$$typeof:u,_payload:{_status:-1,_result:z},_init:H}},Fn.memo=function(z,W){return{$$typeof:c,type:z,compare:W===void 0?null:W}},Fn.startTransition=function(z){var W=E.T,X={};E.T=X;try{var Q=z(),ee=E.S;ee!==null&&ee(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(T,U)}catch(ne){U(ne)}finally{W!==null&&X.types!==null&&(W.types=X.types),E.T=W}},Fn.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Fn.use=function(z){return E.H.use(z)},Fn.useActionState=function(z,W,X){return E.H.useActionState(z,W,X)},Fn.useCallback=function(z,W){return E.H.useCallback(z,W)},Fn.useContext=function(z){return E.H.useContext(z)},Fn.useDebugValue=function(){},Fn.useDeferredValue=function(z,W){return E.H.useDeferredValue(z,W)},Fn.useEffect=function(z,W){return E.H.useEffect(z,W)},Fn.useEffectEvent=function(z){return E.H.useEffectEvent(z)},Fn.useId=function(){return E.H.useId()},Fn.useImperativeHandle=function(z,W,X){return E.H.useImperativeHandle(z,W,X)},Fn.useInsertionEffect=function(z,W){return E.H.useInsertionEffect(z,W)},Fn.useLayoutEffect=function(z,W){return E.H.useLayoutEffect(z,W)},Fn.useMemo=function(z,W){return E.H.useMemo(z,W)},Fn.useOptimistic=function(z,W){return E.H.useOptimistic(z,W)},Fn.useReducer=function(z,W,X){return E.H.useReducer(z,W,X)},Fn.useRef=function(z){return E.H.useRef(z)},Fn.useState=function(z){return E.H.useState(z)},Fn.useSyncExternalStore=function(z,W,X){return E.H.useSyncExternalStore(z,W,X)},Fn.useTransition=function(){return E.H.useTransition()},Fn.version="19.2.3",Fn}var ple;function y_(){return ple||(ple=1,SB.exports=mVe()),SB.exports}var R=y_();const Vt=k0(R),$j=pVe({__proto__:null,default:Vt},[R]);var _B={exports:{}},m2={},CB={exports:{}},kB={};var hle;function yVe(){return hle||(hle=1,(function(e){function t(N,V){var H=N.length;N.push(V);e:for(;0<H;){var U=H-1>>>1,G=N[U];if(0<i(G,V))N[U]=V,N[H]=G,H=U;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var V=N[0],H=N.pop();if(H!==V){N[0]=H;e:for(var U=0,G=N.length,z=G>>>1;U<z;){var W=2*(U+1)-1,X=N[W],Q=W+1,ee=N[Q];if(0>i(X,H))Q<G&&0>i(ee,X)?(N[U]=ee,N[Q]=H,U=Q):(N[U]=X,N[W]=H,U=W);else if(Q<G&&0>i(ee,H))N[U]=ee,N[Q]=H,U=Q;else break e}}return V}function i(N,V){var H=N.sortIndex-V.sortIndex;return H!==0?H:N.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function C(N){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=N)r(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function k(N){if(y=!1,C(N),!g)if(n(l)!==null)g=!0,T||(T=!0,P());else{var V=n(c);V!==null&&F(k,V.startTime-N)}}var T=!1,E=-1,A=5,O=-1;function I(){return v?!0:!(e.unstable_now()-O<A)}function j(){if(v=!1,T){var N=e.unstable_now();O=N;var V=!0;try{e:{g=!1,y&&(y=!1,w(E),E=-1),p=!0;var H=f;try{t:{for(C(N),d=n(l);d!==null&&!(d.expirationTime>N&&I());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var G=U(d.expirationTime<=N);if(N=e.unstable_now(),typeof G=="function"){d.callback=G,C(N),V=!0;break t}d===n(l)&&r(l),C(N)}else r(l);d=n(l)}if(d!==null)V=!0;else{var z=n(c);z!==null&&F(k,z.startTime-N),V=!1}}break e}finally{d=null,f=H,p=!1}V=void 0}}finally{V?P():T=!1}}}var P;if(typeof S=="function")P=function(){S(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=j,P=function(){D.postMessage(null)}}else P=function(){x(j,0)};function F(N,V){E=x(function(){N(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var H=f;f=V;try{return N()}finally{f=H}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=f;f=N;try{return V()}finally{f=H}},e.unstable_scheduleCallback=function(N,V,H){var U=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,N={id:u++,callback:V,priorityLevel:N,startTime:H,expirationTime:G,sortIndex:-1},H>U?(N.sortIndex=H,t(c,N),n(l)===null&&N===n(c)&&(y?(w(E),E=-1):y=!0,F(k,H-U))):(N.sortIndex=G,t(l,N),g||p||(g=!0,T||(T=!0,P()))),N},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(N){var V=f;return function(){var H=f;f=V;try{return N.apply(this,arguments)}finally{f=H}}}})(kB)),kB}var gle;function vVe(){return gle||(gle=1,CB.exports=yVe()),CB.exports}var EB={exports:{}},Zs={};var mle;function bVe(){if(mle)return Zs;mle=1;var e=y_();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(l,c,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:c,implementation:u}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zs.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return o(l,c,null,u)},Zs.flushSync=function(l){var c=s.T,u=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=c,r.p=u,r.d.f()}},Zs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Zs.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Zs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin),f=typeof c.integrity=="string"?c.integrity:void 0,p=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:f,fetchPriority:p}):u==="script"&&r.d.X(l,{crossOrigin:d,integrity:f,fetchPriority:p,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Zs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Zs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin);r.d.L(l,u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Zs.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Zs.requestFormReset=function(l){r.d.r(l)},Zs.unstable_batchedUpdates=function(l,c){return l(c)},Zs.useFormState=function(l,c,u){return s.H.useFormState(l,c,u)},Zs.useFormStatus=function(){return s.H.useHostTransitionStatus()},Zs.version="19.2.3",Zs}var yle;function Nwe(){if(yle)return EB.exports;yle=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),EB.exports=bVe(),EB.exports}var vle;function xVe(){if(vle)return m2;vle=1;var e=vVe(),t=y_(),n=Nwe();function r(m){var b="https://react.dev/errors/"+m;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function o(m){var b=m,_=m;if(m.alternate)for(;b.return;)b=b.return;else{m=b;do b=m,(b.flags&4098)!==0&&(_=b.return),m=b.return;while(m)}return b.tag===3?_:null}function s(m){if(m.tag===13){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function a(m){if(m.tag===31){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function l(m){if(o(m)!==m)throw Error(r(188))}function c(m){var b=m.alternate;if(!b){if(b=o(m),b===null)throw Error(r(188));return b!==m?null:m}for(var _=m,M=b;;){var L=_.return;if(L===null)break;var B=L.alternate;if(B===null){if(M=L.return,M!==null){_=M;continue}break}if(L.child===B.child){for(B=L.child;B;){if(B===_)return l(L),m;if(B===M)return l(L),b;B=B.sibling}throw Error(r(188))}if(_.return!==M.return)_=L,M=B;else{for(var K=!1,pe=L.child;pe;){if(pe===_){K=!0,_=L,M=B;break}if(pe===M){K=!0,M=L,_=B;break}pe=pe.sibling}if(!K){for(pe=B.child;pe;){if(pe===_){K=!0,_=B,M=L;break}if(pe===M){K=!0,M=B,_=L;break}pe=pe.sibling}if(!K)throw Error(r(189))}}if(_.alternate!==M)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?m:b}function u(m){var b=m.tag;if(b===5||b===26||b===27||b===6)return m;for(m=m.child;m!==null;){if(b=u(m),b!==null)return b;m=m.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function P(m){return m===null||typeof m!="object"?null:(m=j&&m[j]||m["@@iterator"],typeof m=="function"?m:null)}var $=Symbol.for("react.client.reference");function D(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===$?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case y:return"Fragment";case x:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case T:return"SuspenseList";case O:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case g:return"Portal";case S:return m.displayName||"Context";case w:return(m._context.displayName||"Context")+".Consumer";case C:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case E:return b=m.displayName||null,b!==null?b:D(m.type)||"Memo";case A:b=m._payload,m=m._init;try{return D(m(b))}catch{}}return null}var F=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},U=[],G=-1;function z(m){return{current:m}}function W(m){0>G||(m.current=U[G],U[G]=null,G--)}function X(m,b){G++,U[G]=m.current,m.current=b}var Q=z(null),ee=z(null),ne=z(null),oe=z(null);function ce(m,b){switch(X(ne,b),X(ee,m),X(Q,null),b.nodeType){case 9:case 11:m=(m=b.documentElement)&&(m=m.namespaceURI)?Oae(m):0;break;default:if(m=b.tagName,b=b.namespaceURI)b=Oae(b),m=Iae(b,m);else switch(m){case"svg":m=1;break;case"math":m=2;break;default:m=0}}W(Q),X(Q,m)}function re(){W(Q),W(ee),W(ne)}function ge(m){m.memoizedState!==null&&X(oe,m);var b=Q.current,_=Iae(b,m.type);b!==_&&(X(ee,m),X(Q,_))}function he(m){ee.current===m&&(W(Q),W(ee)),oe.current===m&&(W(oe),d2._currentValue=H)}var ie,xe;function q(m){if(ie===void 0)try{throw Error()}catch(_){var b=_.stack.trim().match(/\n( *(at )?)/);ie=b&&b[1]||"",xe=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+m+xe}var fe=!1;function se(m,b){if(!m||fe)return"";fe=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(b){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(ze){var Fe=ze}Reflect.construct(m,[],it)}else{try{it.call()}catch(ze){Fe=ze}m.call(it.prototype)}}else{try{throw Error()}catch(ze){Fe=ze}(it=m())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(ze){if(ze&&Fe&&typeof ze.stack=="string")return[ze.stack,Fe.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=M.DetermineComponentFrameRoot(),K=B[0],pe=B[1];if(K&&pe){var Ce=K.split(`
`),Ie=pe.split(`
`);for(L=M=0;M<Ce.length&&!Ce[M].includes("DetermineComponentFrameRoot");)M++;for(;L<Ie.length&&!Ie[L].includes("DetermineComponentFrameRoot");)L++;if(M===Ce.length||L===Ie.length)for(M=Ce.length-1,L=Ie.length-1;1<=M&&0<=L&&Ce[M]!==Ie[L];)L--;for(;1<=M&&0<=L;M--,L--)if(Ce[M]!==Ie[L]){if(M!==1||L!==1)do if(M--,L--,0>L||Ce[M]!==Ie[L]){var Ye=`
`+Ce[M].replace(" at new "," at ");return m.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",m.displayName)),Ye}while(1<=M&&0<=L);break}}}finally{fe=!1,Error.prepareStackTrace=_}return(_=m?m.displayName||m.name:"")?q(_):""}function J(m,b){switch(m.tag){case 26:case 27:case 5:return q(m.type);case 16:return q("Lazy");case 13:return m.child!==b&&b!==null?q("Suspense Fallback"):q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return se(m.type,!1);case 11:return se(m.type.render,!1);case 1:return se(m.type,!0);case 31:return q("Activity");default:return""}}function Z(m){try{var b="",_=null;do b+=J(m,_),_=m,m=m.return;while(m);return b}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}var ue=Object.prototype.hasOwnProperty,de=e.unstable_scheduleCallback,be=e.unstable_cancelCallback,le=e.unstable_shouldYield,Se=e.unstable_requestPaint,ye=e.unstable_now,ve=e.unstable_getCurrentPriorityLevel,_e=e.unstable_ImmediatePriority,Ae=e.unstable_UserBlockingPriority,Te=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,Le=e.unstable_IdlePriority,$e=e.log,at=e.unstable_setDisableYieldValue,Re=null,Ze=null;function Rt(m){if(typeof $e=="function"&&at(m),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Re,m)}catch{}}var Ct=Math.clz32?Math.clz32:Gt,De=Math.log,bt=Math.LN2;function Gt(m){return m>>>=0,m===0?32:31-(De(m)/bt|0)|0}var Cn=256,An=262144,Lt=4194304;function qt(m){var b=m&42;if(b!==0)return b;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return m&261888;case 262144:case 524288:case 1048576:case 2097152:return m&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function ur(m,b,_){var M=m.pendingLanes;if(M===0)return 0;var L=0,B=m.suspendedLanes,K=m.pingedLanes;m=m.warmLanes;var pe=M&134217727;return pe!==0?(M=pe&~B,M!==0?L=qt(M):(K&=pe,K!==0?L=qt(K):_||(_=pe&~m,_!==0&&(L=qt(_))))):(pe=M&~B,pe!==0?L=qt(pe):K!==0?L=qt(K):_||(_=M&~m,_!==0&&(L=qt(_)))),L===0?0:b!==0&&b!==L&&(b&B)===0&&(B=L&-L,_=b&-b,B>=_||B===32&&(_&4194048)!==0)?b:L}function ct(m,b){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&b)===0}function Yt(m,b){switch(m){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function St(){var m=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),m}function Ln(m){for(var b=[],_=0;31>_;_++)b.push(m);return b}function vt(m,b){m.pendingLanes|=b,b!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function Xt(m,b,_,M,L,B){var K=m.pendingLanes;m.pendingLanes=_,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=_,m.entangledLanes&=_,m.errorRecoveryDisabledLanes&=_,m.shellSuspendCounter=0;var pe=m.entanglements,Ce=m.expirationTimes,Ie=m.hiddenUpdates;for(_=K&~_;0<_;){var Ye=31-Ct(_),it=1<<Ye;pe[Ye]=0,Ce[Ye]=-1;var Fe=Ie[Ye];if(Fe!==null)for(Ie[Ye]=null,Ye=0;Ye<Fe.length;Ye++){var ze=Fe[Ye];ze!==null&&(ze.lane&=-536870913)}_&=~it}M!==0&&Pn(m,M,0),B!==0&&L===0&&m.tag!==0&&(m.suspendedLanes|=B&~(K&~b))}function Pn(m,b,_){m.pendingLanes|=b,m.suspendedLanes&=~b;var M=31-Ct(b);m.entangledLanes|=b,m.entanglements[M]=m.entanglements[M]|1073741824|_&261930}function Dn(m,b){var _=m.entangledLanes|=b;for(m=m.entanglements;_;){var M=31-Ct(_),L=1<<M;L&b|m[M]&b&&(m[M]|=b),_&=~L}}function Et(m,b){var _=b&-b;return _=(_&42)!==0?1:Gi(_),(_&(m.suspendedLanes|b))!==0?0:_}function Gi(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function nr(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function Br(){var m=V.p;return m!==0?m:(m=window.event,m===void 0?32:rle(m.type))}function Yi(m,b){var _=V.p;try{return V.p=m,b()}finally{V.p=_}}var kr=Math.random().toString(36).slice(2),Sn="__reactFiber$"+kr,Zn="__reactProps$"+kr,fs="__reactContainer$"+kr,tf="__reactEvents$"+kr,nf="__reactListeners$"+kr,vg="__reactHandles$"+kr,qe="__reactResources$"+kr,We="__reactMarker$"+kr;function Nt(m){delete m[Sn],delete m[Zn],delete m[tf],delete m[nf],delete m[vg]}function an(m){var b=m[Sn];if(b)return b;for(var _=m.parentNode;_;){if(b=_[fs]||_[Sn]){if(_=b.alternate,b.child!==null||_!==null&&_.child!==null)for(m=Bae(m);m!==null;){if(_=m[Sn])return _;m=Bae(m)}return b}m=_,_=m.parentNode}return null}function vn(m){if(m=m[Sn]||m[fs]){var b=m.tag;if(b===5||b===6||b===13||b===31||b===26||b===27||b===3)return m}return null}function di(m){var b=m.tag;if(b===5||b===26||b===27||b===6)return m.stateNode;throw Error(r(33))}function Ur(m){var b=m[qe];return b||(b=m[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function Er(m){m[We]=!0}var Ep=new Set,J0={};function Nc(m,b){Gu(m,b),Gu(m+"Capture",b)}function Gu(m,b){for(J0[m]=b,m=0;m<b.length;m++)Ep.add(b[m])}var dr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},Gl={};function Tp(m){return ue.call(Gl,m)?!0:ue.call(nl,m)?!1:dr.test(m)?Gl[m]=!0:(nl[m]=!0,!1)}function Cx(m,b,_){if(Tp(b))if(_===null)m.removeAttribute(b);else{switch(typeof _){case"undefined":case"function":case"symbol":m.removeAttribute(b);return;case"boolean":var M=b.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){m.removeAttribute(b);return}}m.setAttribute(b,""+_)}}function kx(m,b,_){if(_===null)m.removeAttribute(b);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(b);return}m.setAttribute(b,""+_)}}function Yu(m,b,_,M){if(M===null)m.removeAttribute(_);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(_);return}m.setAttributeNS(b,_,""+M)}}function rl(m){switch(typeof m){case"bigint":case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function $A(m){var b=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function gz(m,b,_){var M=Object.getOwnPropertyDescriptor(m.constructor.prototype,b);if(!m.hasOwnProperty(b)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var L=M.get,B=M.set;return Object.defineProperty(m,b,{configurable:!0,get:function(){return L.call(this)},set:function(K){_=""+K,B.call(this,K)}}),Object.defineProperty(m,b,{enumerable:M.enumerable}),{getValue:function(){return _},setValue:function(K){_=""+K},stopTracking:function(){m._valueTracker=null,delete m[b]}}}}function Ex(m){if(!m._valueTracker){var b=$A(m)?"checked":"value";m._valueTracker=gz(m,b,""+m[b])}}function FA(m){if(!m)return!1;var b=m._valueTracker;if(!b)return!0;var _=b.getValue(),M="";return m&&(M=$A(m)?m.checked?"true":"false":m.value),m=M,m!==_?(b.setValue(m),!0):!1}function ey(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}var mz=/[\n"\\]/g;function il(m){return m.replace(mz,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function ty(m,b,_,M,L,B,K,pe){m.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?m.type=K:m.removeAttribute("type"),b!=null?K==="number"?(b===0&&m.value===""||m.value!=b)&&(m.value=""+rl(b)):m.value!==""+rl(b)&&(m.value=""+rl(b)):K!=="submit"&&K!=="reset"||m.removeAttribute("value"),b!=null?TC(m,K,rl(b)):_!=null?TC(m,K,rl(_)):M!=null&&m.removeAttribute("value"),L==null&&B!=null&&(m.defaultChecked=!!B),L!=null&&(m.checked=L&&typeof L!="function"&&typeof L!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?m.name=""+rl(pe):m.removeAttribute("name")}function LA(m,b,_,M,L,B,K,pe){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(m.type=B),b!=null||_!=null){if(!(B!=="submit"&&B!=="reset"||b!=null)){Ex(m);return}_=_!=null?""+rl(_):"",b=b!=null?""+rl(b):_,pe||b===m.value||(m.value=b),m.defaultValue=b}M=M??L,M=typeof M!="function"&&typeof M!="symbol"&&!!M,m.checked=pe?m.checked:!!M,m.defaultChecked=!!M,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(m.name=K),Ex(m)}function TC(m,b,_){b==="number"&&ey(m.ownerDocument)===m||m.defaultValue===""+_||(m.defaultValue=""+_)}function Rp(m,b,_,M){if(m=m.options,b){b={};for(var L=0;L<_.length;L++)b["$"+_[L]]=!0;for(_=0;_<m.length;_++)L=b.hasOwnProperty("$"+m[_].value),m[_].selected!==L&&(m[_].selected=L),L&&M&&(m[_].defaultSelected=!0)}else{for(_=""+rl(_),b=null,L=0;L<m.length;L++){if(m[L].value===_){m[L].selected=!0,M&&(m[L].defaultSelected=!0);return}b!==null||m[L].disabled||(b=m[L])}b!==null&&(b.selected=!0)}}function Rie(m,b,_){if(b!=null&&(b=""+rl(b),b!==m.value&&(m.value=b),_==null)){m.defaultValue!==b&&(m.defaultValue=b);return}m.defaultValue=_!=null?""+rl(_):""}function Mie(m,b,_,M){if(b==null){if(M!=null){if(_!=null)throw Error(r(92));if(F(M)){if(1<M.length)throw Error(r(93));M=M[0]}_=M}_==null&&(_=""),b=_}_=rl(b),m.defaultValue=_,M=m.textContent,M===_&&M!==""&&M!==null&&(m.value=M),Ex(m)}function Tx(m,b){if(b){var _=m.firstChild;if(_&&_===m.lastChild&&_.nodeType===3){_.nodeValue=b;return}}m.textContent=b}var l7e=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Aie(m,b,_){var M=b.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?M?m.setProperty(b,""):b==="float"?m.cssFloat="":m[b]="":M?m.setProperty(b,_):typeof _!="number"||_===0||l7e.has(b)?b==="float"?m.cssFloat=_:m[b]=(""+_).trim():m[b]=_+"px"}function Pie(m,b,_){if(b!=null&&typeof b!="object")throw Error(r(62));if(m=m.style,_!=null){for(var M in _)!_.hasOwnProperty(M)||b!=null&&b.hasOwnProperty(M)||(M.indexOf("--")===0?m.setProperty(M,""):M==="float"?m.cssFloat="":m[M]="");for(var L in b)M=b[L],b.hasOwnProperty(L)&&_[L]!==M&&Aie(m,L,M)}else for(var B in b)b.hasOwnProperty(B)&&Aie(m,B,b[B])}function yz(m){if(m.indexOf("-")===-1)return!1;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c7e=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u7e=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function NA(m){return u7e.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}function Mp(){}var vz=null;function bz(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Rx=null,Mx=null;function Die(m){var b=vn(m);if(b&&(m=b.stateNode)){var _=m[Zn]||null;e:switch(m=b.stateNode,b.type){case"input":if(ty(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),b=_.name,_.type==="radio"&&b!=null){for(_=m;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+il(""+b)+'"][type="radio"]'),b=0;b<_.length;b++){var M=_[b];if(M!==m&&M.form===m.form){var L=M[Zn]||null;if(!L)throw Error(r(90));ty(M,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(b=0;b<_.length;b++)M=_[b],M.form===m.form&&FA(M)}break e;case"textarea":Rie(m,_.value,_.defaultValue);break e;case"select":b=_.value,b!=null&&Rp(m,!!_.multiple,b,!1)}}}var xz=!1;function Oie(m,b,_){if(xz)return m(b,_);xz=!0;try{var M=m(b);return M}finally{if(xz=!1,(Rx!==null||Mx!==null)&&(EP(),Rx&&(b=Rx,m=Mx,Mx=Rx=null,Die(b),m)))for(b=0;b<m.length;b++)Die(m[b])}}function RC(m,b){var _=m.stateNode;if(_===null)return null;var M=_[Zn]||null;if(M===null)return null;_=M[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(m=m.type,M=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!M;break e;default:m=!1}if(m)return null;if(_&&typeof _!="function")throw Error(r(231,b,typeof _));return _}var Ap=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wz=!1;if(Ap)try{var MC={};Object.defineProperty(MC,"passive",{get:function(){wz=!0}}),window.addEventListener("test",MC,MC),window.removeEventListener("test",MC,MC)}catch{wz=!1}var bg=null,Sz=null,zA=null;function Iie(){if(zA)return zA;var m,b=Sz,_=b.length,M,L="value"in bg?bg.value:bg.textContent,B=L.length;for(m=0;m<_&&b[m]===L[m];m++);var K=_-m;for(M=1;M<=K&&b[_-M]===L[B-M];M++);return zA=L.slice(m,1<M?1-M:void 0)}function BA(m){var b=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&b===13&&(m=13)):m=b,m===10&&(m=13),32<=m||m===13?m:0}function UA(){return!0}function jie(){return!1}function ol(m){function b(_,M,L,B,K){this._reactName=_,this._targetInst=L,this.type=M,this.nativeEvent=B,this.target=K,this.currentTarget=null;for(var pe in m)m.hasOwnProperty(pe)&&(_=m[pe],this[pe]=_?_(B):B[pe]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?UA:jie,this.isPropagationStopped=jie,this}return d(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=UA)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=UA)},persist:function(){},isPersistent:UA}),b}var ny={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VA=ol(ny),AC=d({},ny,{view:0,detail:0}),d7e=ol(AC),_z,Cz,PC,HA=d({},AC,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ez,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==PC&&(PC&&m.type==="mousemove"?(_z=m.screenX-PC.screenX,Cz=m.screenY-PC.screenY):Cz=_z=0,PC=m),_z)},movementY:function(m){return"movementY"in m?m.movementY:Cz}}),$ie=ol(HA),f7e=d({},HA,{dataTransfer:0}),p7e=ol(f7e),h7e=d({},AC,{relatedTarget:0}),kz=ol(h7e),g7e=d({},ny,{animationName:0,elapsedTime:0,pseudoElement:0}),m7e=ol(g7e),y7e=d({},ny,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),v7e=ol(y7e),b7e=d({},ny,{data:0}),Fie=ol(b7e),x7e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w7e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S7e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _7e(m){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(m):(m=S7e[m])?!!b[m]:!1}function Ez(){return _7e}var C7e=d({},AC,{key:function(m){if(m.key){var b=x7e[m.key]||m.key;if(b!=="Unidentified")return b}return m.type==="keypress"?(m=BA(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?w7e[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ez,charCode:function(m){return m.type==="keypress"?BA(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?BA(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),k7e=ol(C7e),E7e=d({},HA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lie=ol(E7e),T7e=d({},AC,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ez}),R7e=ol(T7e),M7e=d({},ny,{propertyName:0,elapsedTime:0,pseudoElement:0}),A7e=ol(M7e),P7e=d({},HA,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),D7e=ol(P7e),O7e=d({},ny,{newState:0,oldState:0}),I7e=ol(O7e),j7e=[9,13,27,32],Tz=Ap&&"CompositionEvent"in window,DC=null;Ap&&"documentMode"in document&&(DC=document.documentMode);var $7e=Ap&&"TextEvent"in window&&!DC,Nie=Ap&&(!Tz||DC&&8<DC&&11>=DC),zie=" ",Bie=!1;function Uie(m,b){switch(m){case"keyup":return j7e.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vie(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Ax=!1;function F7e(m,b){switch(m){case"compositionend":return Vie(b);case"keypress":return b.which!==32?null:(Bie=!0,zie);case"textInput":return m=b.data,m===zie&&Bie?null:m;default:return null}}function L7e(m,b){if(Ax)return m==="compositionend"||!Tz&&Uie(m,b)?(m=Iie(),zA=Sz=bg=null,Ax=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Nie&&b.locale!=="ko"?null:b.data;default:return null}}var N7e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hie(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b==="input"?!!N7e[m.type]:b==="textarea"}function Wie(m,b,_,M){Rx?Mx?Mx.push(M):Mx=[M]:Rx=M,b=OP(b,"onChange"),0<b.length&&(_=new VA("onChange","change",null,_,M),m.push({event:_,listeners:b}))}var OC=null,IC=null;function z7e(m){Tae(m,0)}function WA(m){var b=di(m);if(FA(b))return m}function qie(m,b){if(m==="change")return b}var Gie=!1;if(Ap){var Rz;if(Ap){var Mz="oninput"in document;if(!Mz){var Yie=document.createElement("div");Yie.setAttribute("oninput","return;"),Mz=typeof Yie.oninput=="function"}Rz=Mz}else Rz=!1;Gie=Rz&&(!document.documentMode||9<document.documentMode)}function Xie(){OC&&(OC.detachEvent("onpropertychange",Kie),IC=OC=null)}function Kie(m){if(m.propertyName==="value"&&WA(IC)){var b=[];Wie(b,IC,m,bz(m)),Oie(z7e,b)}}function B7e(m,b,_){m==="focusin"?(Xie(),OC=b,IC=_,OC.attachEvent("onpropertychange",Kie)):m==="focusout"&&Xie()}function U7e(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return WA(IC)}function V7e(m,b){if(m==="click")return WA(b)}function H7e(m,b){if(m==="input"||m==="change")return WA(b)}function W7e(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var Yl=typeof Object.is=="function"?Object.is:W7e;function jC(m,b){if(Yl(m,b))return!0;if(typeof m!="object"||m===null||typeof b!="object"||b===null)return!1;var _=Object.keys(m),M=Object.keys(b);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var L=_[M];if(!ue.call(b,L)||!Yl(m[L],b[L]))return!1}return!0}function Zie(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function Qie(m,b){var _=Zie(m);m=0;for(var M;_;){if(_.nodeType===3){if(M=m+_.textContent.length,m<=b&&M>=b)return{node:_,offset:b-m};m=M}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Zie(_)}}function Jie(m,b){return m&&b?m===b?!0:m&&m.nodeType===3?!1:b&&b.nodeType===3?Jie(m,b.parentNode):"contains"in m?m.contains(b):m.compareDocumentPosition?!!(m.compareDocumentPosition(b)&16):!1:!1}function eoe(m){m=m!=null&&m.ownerDocument!=null&&m.ownerDocument.defaultView!=null?m.ownerDocument.defaultView:window;for(var b=ey(m.document);b instanceof m.HTMLIFrameElement;){try{var _=typeof b.contentWindow.location.href=="string"}catch{_=!1}if(_)m=b.contentWindow;else break;b=ey(m.document)}return b}function Az(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b&&(b==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||b==="textarea"||m.contentEditable==="true")}var q7e=Ap&&"documentMode"in document&&11>=document.documentMode,Px=null,Pz=null,$C=null,Dz=!1;function toe(m,b,_){var M=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Dz||Px==null||Px!==ey(M)||(M=Px,"selectionStart"in M&&Az(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),$C&&jC($C,M)||($C=M,M=OP(Pz,"onSelect"),0<M.length&&(b=new VA("onSelect","select",null,b,_),m.push({event:b,listeners:M}),b.target=Px)))}function ry(m,b){var _={};return _[m.toLowerCase()]=b.toLowerCase(),_["Webkit"+m]="webkit"+b,_["Moz"+m]="moz"+b,_}var Dx={animationend:ry("Animation","AnimationEnd"),animationiteration:ry("Animation","AnimationIteration"),animationstart:ry("Animation","AnimationStart"),transitionrun:ry("Transition","TransitionRun"),transitionstart:ry("Transition","TransitionStart"),transitioncancel:ry("Transition","TransitionCancel"),transitionend:ry("Transition","TransitionEnd")},Oz={},noe={};Ap&&(noe=document.createElement("div").style,"AnimationEvent"in window||(delete Dx.animationend.animation,delete Dx.animationiteration.animation,delete Dx.animationstart.animation),"TransitionEvent"in window||delete Dx.transitionend.transition);function iy(m){if(Oz[m])return Oz[m];if(!Dx[m])return m;var b=Dx[m],_;for(_ in b)if(b.hasOwnProperty(_)&&_ in noe)return Oz[m]=b[_];return m}var roe=iy("animationend"),ioe=iy("animationiteration"),ooe=iy("animationstart"),G7e=iy("transitionrun"),Y7e=iy("transitionstart"),X7e=iy("transitioncancel"),soe=iy("transitionend"),aoe=new Map,Iz="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iz.push("scrollEnd");function Xu(m,b){aoe.set(m,b),Nc(b,[m])}var qA=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},zc=[],Ox=0,jz=0;function GA(){for(var m=Ox,b=jz=Ox=0;b<m;){var _=zc[b];zc[b++]=null;var M=zc[b];zc[b++]=null;var L=zc[b];zc[b++]=null;var B=zc[b];if(zc[b++]=null,M!==null&&L!==null){var K=M.pending;K===null?L.next=L:(L.next=K.next,K.next=L),M.pending=L}B!==0&&loe(_,L,B)}}function YA(m,b,_,M){zc[Ox++]=m,zc[Ox++]=b,zc[Ox++]=_,zc[Ox++]=M,jz|=M,m.lanes|=M,m=m.alternate,m!==null&&(m.lanes|=M)}function $z(m,b,_,M){return YA(m,b,_,M),XA(m)}function oy(m,b){return YA(m,null,null,b),XA(m)}function loe(m,b,_){m.lanes|=_;var M=m.alternate;M!==null&&(M.lanes|=_);for(var L=!1,B=m.return;B!==null;)B.childLanes|=_,M=B.alternate,M!==null&&(M.childLanes|=_),B.tag===22&&(m=B.stateNode,m===null||m._visibility&1||(L=!0)),m=B,B=B.return;return m.tag===3?(B=m.stateNode,L&&b!==null&&(L=31-Ct(_),m=B.hiddenUpdates,M=m[L],M===null?m[L]=[b]:M.push(b),b.lane=_|536870912),B):null}function XA(m){if(50<i2)throw i2=0,W6=null,Error(r(185));for(var b=m.return;b!==null;)m=b,b=m.return;return m.tag===3?m.stateNode:null}var Ix={};function K7e(m,b,_,M){this.tag=m,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xl(m,b,_,M){return new K7e(m,b,_,M)}function Fz(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Pp(m,b){var _=m.alternate;return _===null?(_=Xl(m.tag,b,m.key,m.mode),_.elementType=m.elementType,_.type=m.type,_.stateNode=m.stateNode,_.alternate=m,m.alternate=_):(_.pendingProps=b,_.type=m.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=m.flags&65011712,_.childLanes=m.childLanes,_.lanes=m.lanes,_.child=m.child,_.memoizedProps=m.memoizedProps,_.memoizedState=m.memoizedState,_.updateQueue=m.updateQueue,b=m.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},_.sibling=m.sibling,_.index=m.index,_.ref=m.ref,_.refCleanup=m.refCleanup,_}function coe(m,b){m.flags&=65011714;var _=m.alternate;return _===null?(m.childLanes=0,m.lanes=b,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,b=_.dependencies,m.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),m}function KA(m,b,_,M,L,B){var K=0;if(M=m,typeof m=="function")Fz(m)&&(K=1);else if(typeof m=="string")K=tVe(m,_,Q.current)?26:m==="html"||m==="head"||m==="body"?27:5;else e:switch(m){case O:return m=Xl(31,_,b,L),m.elementType=O,m.lanes=B,m;case y:return sy(_.children,L,B,b);case v:K=8,L|=24;break;case x:return m=Xl(12,_,b,L|2),m.elementType=x,m.lanes=B,m;case k:return m=Xl(13,_,b,L),m.elementType=k,m.lanes=B,m;case T:return m=Xl(19,_,b,L),m.elementType=T,m.lanes=B,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case S:K=10;break e;case w:K=9;break e;case C:K=11;break e;case E:K=14;break e;case A:K=16,M=null;break e}K=29,_=Error(r(130,m===null?"null":typeof m,"")),M=null}return b=Xl(K,_,b,L),b.elementType=m,b.type=M,b.lanes=B,b}function sy(m,b,_,M){return m=Xl(7,m,M,b),m.lanes=_,m}function Lz(m,b,_){return m=Xl(6,m,null,b),m.lanes=_,m}function uoe(m){var b=Xl(18,null,null,0);return b.stateNode=m,b}function Nz(m,b,_){return b=Xl(4,m.children!==null?m.children:[],m.key,b),b.lanes=_,b.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},b}var doe=new WeakMap;function Bc(m,b){if(typeof m=="object"&&m!==null){var _=doe.get(m);return _!==void 0?_:(b={value:m,source:b,stack:Z(b)},doe.set(m,b),b)}return{value:m,source:b,stack:Z(b)}}var jx=[],$x=0,ZA=null,FC=0,Uc=[],Vc=0,xg=null,rf=1,of="";function Dp(m,b){jx[$x++]=FC,jx[$x++]=ZA,ZA=m,FC=b}function foe(m,b,_){Uc[Vc++]=rf,Uc[Vc++]=of,Uc[Vc++]=xg,xg=m;var M=rf;m=of;var L=32-Ct(M)-1;M&=~(1<<L),_+=1;var B=32-Ct(b)+L;if(30<B){var K=L-L%5;B=(M&(1<<K)-1).toString(32),M>>=K,L-=K,rf=1<<32-Ct(b)+L|_<<L|M,of=B+m}else rf=1<<B|_<<L|M,of=m}function zz(m){m.return!==null&&(Dp(m,1),foe(m,1,0))}function Bz(m){for(;m===ZA;)ZA=jx[--$x],jx[$x]=null,FC=jx[--$x],jx[$x]=null;for(;m===xg;)xg=Uc[--Vc],Uc[Vc]=null,of=Uc[--Vc],Uc[Vc]=null,rf=Uc[--Vc],Uc[Vc]=null}function poe(m,b){Uc[Vc++]=rf,Uc[Vc++]=of,Uc[Vc++]=xg,rf=b.id,of=b.overflow,xg=m}var Ps=null,Ti=null,yr=!1,wg=null,Hc=!1,Uz=Error(r(519));function Sg(m){var b=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw LC(Bc(b,m)),Uz}function hoe(m){var b=m.stateNode,_=m.type,M=m.memoizedProps;switch(b[Sn]=m,b[Zn]=M,_){case"dialog":sr("cancel",b),sr("close",b);break;case"iframe":case"object":case"embed":sr("load",b);break;case"video":case"audio":for(_=0;_<s2.length;_++)sr(s2[_],b);break;case"source":sr("error",b);break;case"img":case"image":case"link":sr("error",b),sr("load",b);break;case"details":sr("toggle",b);break;case"input":sr("invalid",b),LA(b,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0);break;case"select":sr("invalid",b);break;case"textarea":sr("invalid",b),Mie(b,M.value,M.defaultValue,M.children)}_=M.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||b.textContent===""+_||M.suppressHydrationWarning===!0||Pae(b.textContent,_)?(M.popover!=null&&(sr("beforetoggle",b),sr("toggle",b)),M.onScroll!=null&&sr("scroll",b),M.onScrollEnd!=null&&sr("scrollend",b),M.onClick!=null&&(b.onclick=Mp),b=!0):b=!1,b||Sg(m,!0)}function goe(m){for(Ps=m.return;Ps;)switch(Ps.tag){case 5:case 31:case 13:Hc=!1;return;case 27:case 3:Hc=!0;return;default:Ps=Ps.return}}function Fx(m){if(m!==Ps)return!1;if(!yr)return goe(m),yr=!0,!1;var b=m.tag,_;if((_=b!==3&&b!==27)&&((_=b===5)&&(_=m.type,_=!(_!=="form"&&_!=="button")||sB(m.type,m.memoizedProps)),_=!_),_&&Ti&&Sg(m),goe(m),b===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));Ti=zae(m)}else if(b===31){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));Ti=zae(m)}else b===27?(b=Ti,$g(m.type)?(m=dB,dB=null,Ti=m):Ti=b):Ti=Ps?qc(m.stateNode.nextSibling):null;return!0}function ay(){Ti=Ps=null,yr=!1}function Vz(){var m=wg;return m!==null&&(cl===null?cl=m:cl.push.apply(cl,m),wg=null),m}function LC(m){wg===null?wg=[m]:wg.push(m)}var Hz=z(null),ly=null,Op=null;function _g(m,b,_){X(Hz,b._currentValue),b._currentValue=_}function Ip(m){m._currentValue=Hz.current,W(Hz)}function Wz(m,b,_){for(;m!==null;){var M=m.alternate;if((m.childLanes&b)!==b?(m.childLanes|=b,M!==null&&(M.childLanes|=b)):M!==null&&(M.childLanes&b)!==b&&(M.childLanes|=b),m===_)break;m=m.return}}function qz(m,b,_,M){var L=m.child;for(L!==null&&(L.return=m);L!==null;){var B=L.dependencies;if(B!==null){var K=L.child;B=B.firstContext;e:for(;B!==null;){var pe=B;B=L;for(var Ce=0;Ce<b.length;Ce++)if(pe.context===b[Ce]){B.lanes|=_,pe=B.alternate,pe!==null&&(pe.lanes|=_),Wz(B.return,_,m),M||(K=null);break e}B=pe.next}}else if(L.tag===18){if(K=L.return,K===null)throw Error(r(341));K.lanes|=_,B=K.alternate,B!==null&&(B.lanes|=_),Wz(K,_,m),K=null}else K=L.child;if(K!==null)K.return=L;else for(K=L;K!==null;){if(K===m){K=null;break}if(L=K.sibling,L!==null){L.return=K.return,K=L;break}K=K.return}L=K}}function Lx(m,b,_,M){m=null;for(var L=b,B=!1;L!==null;){if(!B){if((L.flags&524288)!==0)B=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var K=L.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var pe=L.type;Yl(L.pendingProps.value,K.value)||(m!==null?m.push(pe):m=[pe])}}else if(L===oe.current){if(K=L.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(m!==null?m.push(d2):m=[d2])}L=L.return}m!==null&&qz(b,m,_,M),b.flags|=262144}function QA(m){for(m=m.firstContext;m!==null;){if(!Yl(m.context._currentValue,m.memoizedValue))return!0;m=m.next}return!1}function cy(m){ly=m,Op=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function Ds(m){return moe(ly,m)}function JA(m,b){return ly===null&&cy(m),moe(m,b)}function moe(m,b){var _=b._currentValue;if(b={context:b,memoizedValue:_,next:null},Op===null){if(m===null)throw Error(r(308));Op=b,m.dependencies={lanes:0,firstContext:b},m.flags|=524288}else Op=Op.next=b;return _}var Z7e=typeof AbortController<"u"?AbortController:function(){var m=[],b=this.signal={aborted:!1,addEventListener:function(_,M){m.push(M)}};this.abort=function(){b.aborted=!0,m.forEach(function(_){return _()})}},Q7e=e.unstable_scheduleCallback,J7e=e.unstable_NormalPriority,Io={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gz(){return{controller:new Z7e,data:new Map,refCount:0}}function NC(m){m.refCount--,m.refCount===0&&Q7e(J7e,function(){m.controller.abort()})}var zC=null,Yz=0,Nx=0,zx=null;function eUe(m,b){if(zC===null){var _=zC=[];Yz=0,Nx=Z6(),zx={status:"pending",value:void 0,then:function(M){_.push(M)}}}return Yz++,b.then(yoe,yoe),b}function yoe(){if(--Yz===0&&zC!==null){zx!==null&&(zx.status="fulfilled");var m=zC;zC=null,Nx=0,zx=null;for(var b=0;b<m.length;b++)(0,m[b])()}}function tUe(m,b){var _=[],M={status:"pending",value:null,reason:null,then:function(L){_.push(L)}};return m.then(function(){M.status="fulfilled",M.value=b;for(var L=0;L<_.length;L++)(0,_[L])(b)},function(L){for(M.status="rejected",M.reason=L,L=0;L<_.length;L++)(0,_[L])(void 0)}),M}var voe=N.S;N.S=function(m,b){tae=ye(),typeof b=="object"&&b!==null&&typeof b.then=="function"&&eUe(m,b),voe!==null&&voe(m,b)};var uy=z(null);function Xz(){var m=uy.current;return m!==null?m:fi.pooledCache}function eP(m,b){b===null?X(uy,uy.current):X(uy,b.pool)}function boe(){var m=Xz();return m===null?null:{parent:Io._currentValue,pool:m}}var Bx=Error(r(460)),Kz=Error(r(474)),tP=Error(r(542)),nP={then:function(){}};function xoe(m){return m=m.status,m==="fulfilled"||m==="rejected"}function woe(m,b,_){switch(_=m[_],_===void 0?m.push(b):_!==b&&(b.then(Mp,Mp),b=_),b.status){case"fulfilled":return b.value;case"rejected":throw m=b.reason,_oe(m),m;default:if(typeof b.status=="string")b.then(Mp,Mp);else{if(m=fi,m!==null&&100<m.shellSuspendCounter)throw Error(r(482));m=b,m.status="pending",m.then(function(M){if(b.status==="pending"){var L=b;L.status="fulfilled",L.value=M}},function(M){if(b.status==="pending"){var L=b;L.status="rejected",L.reason=M}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw m=b.reason,_oe(m),m}throw fy=b,Bx}}function dy(m){try{var b=m._init;return b(m._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(fy=_,Bx):_}}var fy=null;function Soe(){if(fy===null)throw Error(r(459));var m=fy;return fy=null,m}function _oe(m){if(m===Bx||m===tP)throw Error(r(483))}var Ux=null,BC=0;function rP(m){var b=BC;return BC+=1,Ux===null&&(Ux=[]),woe(Ux,m,b)}function UC(m,b){b=b.props.ref,m.ref=b!==void 0?b:null}function iP(m,b){throw b.$$typeof===f?Error(r(525)):(m=Object.prototype.toString.call(b),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":m)))}function Coe(m){function b(Me,ke){if(m){var Oe=Me.deletions;Oe===null?(Me.deletions=[ke],Me.flags|=16):Oe.push(ke)}}function _(Me,ke){if(!m)return null;for(;ke!==null;)b(Me,ke),ke=ke.sibling;return null}function M(Me){for(var ke=new Map;Me!==null;)Me.key!==null?ke.set(Me.key,Me):ke.set(Me.index,Me),Me=Me.sibling;return ke}function L(Me,ke){return Me=Pp(Me,ke),Me.index=0,Me.sibling=null,Me}function B(Me,ke,Oe){return Me.index=Oe,m?(Oe=Me.alternate,Oe!==null?(Oe=Oe.index,Oe<ke?(Me.flags|=67108866,ke):Oe):(Me.flags|=67108866,ke)):(Me.flags|=1048576,ke)}function K(Me){return m&&Me.alternate===null&&(Me.flags|=67108866),Me}function pe(Me,ke,Oe,et){return ke===null||ke.tag!==6?(ke=Lz(Oe,Me.mode,et),ke.return=Me,ke):(ke=L(ke,Oe),ke.return=Me,ke)}function Ce(Me,ke,Oe,et){var hn=Oe.type;return hn===y?Ye(Me,ke,Oe.props.children,et,Oe.key):ke!==null&&(ke.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===A&&dy(hn)===ke.type)?(ke=L(ke,Oe.props),UC(ke,Oe),ke.return=Me,ke):(ke=KA(Oe.type,Oe.key,Oe.props,null,Me.mode,et),UC(ke,Oe),ke.return=Me,ke)}function Ie(Me,ke,Oe,et){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Oe.containerInfo||ke.stateNode.implementation!==Oe.implementation?(ke=Nz(Oe,Me.mode,et),ke.return=Me,ke):(ke=L(ke,Oe.children||[]),ke.return=Me,ke)}function Ye(Me,ke,Oe,et,hn){return ke===null||ke.tag!==7?(ke=sy(Oe,Me.mode,et,hn),ke.return=Me,ke):(ke=L(ke,Oe),ke.return=Me,ke)}function it(Me,ke,Oe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=Lz(""+ke,Me.mode,Oe),ke.return=Me,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case p:return Oe=KA(ke.type,ke.key,ke.props,null,Me.mode,Oe),UC(Oe,ke),Oe.return=Me,Oe;case g:return ke=Nz(ke,Me.mode,Oe),ke.return=Me,ke;case A:return ke=dy(ke),it(Me,ke,Oe)}if(F(ke)||P(ke))return ke=sy(ke,Me.mode,Oe,null),ke.return=Me,ke;if(typeof ke.then=="function")return it(Me,rP(ke),Oe);if(ke.$$typeof===S)return it(Me,JA(Me,ke),Oe);iP(Me,ke)}return null}function Fe(Me,ke,Oe,et){var hn=ke!==null?ke.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return hn!==null?null:pe(Me,ke,""+Oe,et);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return Oe.key===hn?Ce(Me,ke,Oe,et):null;case g:return Oe.key===hn?Ie(Me,ke,Oe,et):null;case A:return Oe=dy(Oe),Fe(Me,ke,Oe,et)}if(F(Oe)||P(Oe))return hn!==null?null:Ye(Me,ke,Oe,et,null);if(typeof Oe.then=="function")return Fe(Me,ke,rP(Oe),et);if(Oe.$$typeof===S)return Fe(Me,ke,JA(Me,Oe),et);iP(Me,Oe)}return null}function ze(Me,ke,Oe,et,hn){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Me=Me.get(Oe)||null,pe(ke,Me,""+et,hn);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case p:return Me=Me.get(et.key===null?Oe:et.key)||null,Ce(ke,Me,et,hn);case g:return Me=Me.get(et.key===null?Oe:et.key)||null,Ie(ke,Me,et,hn);case A:return et=dy(et),ze(Me,ke,Oe,et,hn)}if(F(et)||P(et))return Me=Me.get(Oe)||null,Ye(ke,Me,et,hn,null);if(typeof et.then=="function")return ze(Me,ke,Oe,rP(et),hn);if(et.$$typeof===S)return ze(Me,ke,Oe,JA(ke,et),hn);iP(ke,et)}return null}function Kt(Me,ke,Oe,et){for(var hn=null,Tr=null,tn=ke,Gn=ke=0,pr=null;tn!==null&&Gn<Oe.length;Gn++){tn.index>Gn?(pr=tn,tn=null):pr=tn.sibling;var Rr=Fe(Me,tn,Oe[Gn],et);if(Rr===null){tn===null&&(tn=pr);break}m&&tn&&Rr.alternate===null&&b(Me,tn),ke=B(Rr,ke,Gn),Tr===null?hn=Rr:Tr.sibling=Rr,Tr=Rr,tn=pr}if(Gn===Oe.length)return _(Me,tn),yr&&Dp(Me,Gn),hn;if(tn===null){for(;Gn<Oe.length;Gn++)tn=it(Me,Oe[Gn],et),tn!==null&&(ke=B(tn,ke,Gn),Tr===null?hn=tn:Tr.sibling=tn,Tr=tn);return yr&&Dp(Me,Gn),hn}for(tn=M(tn);Gn<Oe.length;Gn++)pr=ze(tn,Me,Gn,Oe[Gn],et),pr!==null&&(m&&pr.alternate!==null&&tn.delete(pr.key===null?Gn:pr.key),ke=B(pr,ke,Gn),Tr===null?hn=pr:Tr.sibling=pr,Tr=pr);return m&&tn.forEach(function(Bg){return b(Me,Bg)}),yr&&Dp(Me,Gn),hn}function _n(Me,ke,Oe,et){if(Oe==null)throw Error(r(151));for(var hn=null,Tr=null,tn=ke,Gn=ke=0,pr=null,Rr=Oe.next();tn!==null&&!Rr.done;Gn++,Rr=Oe.next()){tn.index>Gn?(pr=tn,tn=null):pr=tn.sibling;var Bg=Fe(Me,tn,Rr.value,et);if(Bg===null){tn===null&&(tn=pr);break}m&&tn&&Bg.alternate===null&&b(Me,tn),ke=B(Bg,ke,Gn),Tr===null?hn=Bg:Tr.sibling=Bg,Tr=Bg,tn=pr}if(Rr.done)return _(Me,tn),yr&&Dp(Me,Gn),hn;if(tn===null){for(;!Rr.done;Gn++,Rr=Oe.next())Rr=it(Me,Rr.value,et),Rr!==null&&(ke=B(Rr,ke,Gn),Tr===null?hn=Rr:Tr.sibling=Rr,Tr=Rr);return yr&&Dp(Me,Gn),hn}for(tn=M(tn);!Rr.done;Gn++,Rr=Oe.next())Rr=ze(tn,Me,Gn,Rr.value,et),Rr!==null&&(m&&Rr.alternate!==null&&tn.delete(Rr.key===null?Gn:Rr.key),ke=B(Rr,ke,Gn),Tr===null?hn=Rr:Tr.sibling=Rr,Tr=Rr);return m&&tn.forEach(function(fVe){return b(Me,fVe)}),yr&&Dp(Me,Gn),hn}function li(Me,ke,Oe,et){if(typeof Oe=="object"&&Oe!==null&&Oe.type===y&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:e:{for(var hn=Oe.key;ke!==null;){if(ke.key===hn){if(hn=Oe.type,hn===y){if(ke.tag===7){_(Me,ke.sibling),et=L(ke,Oe.props.children),et.return=Me,Me=et;break e}}else if(ke.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===A&&dy(hn)===ke.type){_(Me,ke.sibling),et=L(ke,Oe.props),UC(et,Oe),et.return=Me,Me=et;break e}_(Me,ke);break}else b(Me,ke);ke=ke.sibling}Oe.type===y?(et=sy(Oe.props.children,Me.mode,et,Oe.key),et.return=Me,Me=et):(et=KA(Oe.type,Oe.key,Oe.props,null,Me.mode,et),UC(et,Oe),et.return=Me,Me=et)}return K(Me);case g:e:{for(hn=Oe.key;ke!==null;){if(ke.key===hn)if(ke.tag===4&&ke.stateNode.containerInfo===Oe.containerInfo&&ke.stateNode.implementation===Oe.implementation){_(Me,ke.sibling),et=L(ke,Oe.children||[]),et.return=Me,Me=et;break e}else{_(Me,ke);break}else b(Me,ke);ke=ke.sibling}et=Nz(Oe,Me.mode,et),et.return=Me,Me=et}return K(Me);case A:return Oe=dy(Oe),li(Me,ke,Oe,et)}if(F(Oe))return Kt(Me,ke,Oe,et);if(P(Oe)){if(hn=P(Oe),typeof hn!="function")throw Error(r(150));return Oe=hn.call(Oe),_n(Me,ke,Oe,et)}if(typeof Oe.then=="function")return li(Me,ke,rP(Oe),et);if(Oe.$$typeof===S)return li(Me,ke,JA(Me,Oe),et);iP(Me,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,ke!==null&&ke.tag===6?(_(Me,ke.sibling),et=L(ke,Oe),et.return=Me,Me=et):(_(Me,ke),et=Lz(Oe,Me.mode,et),et.return=Me,Me=et),K(Me)):_(Me,ke)}return function(Me,ke,Oe,et){try{BC=0;var hn=li(Me,ke,Oe,et);return Ux=null,hn}catch(tn){if(tn===Bx||tn===tP)throw tn;var Tr=Xl(29,tn,null,Me.mode);return Tr.lanes=et,Tr.return=Me,Tr}}}var py=Coe(!0),koe=Coe(!1),Cg=!1;function Zz(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qz(m,b){m=m.updateQueue,b.updateQueue===m&&(b.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function kg(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Eg(m,b,_){var M=m.updateQueue;if(M===null)return null;if(M=M.shared,($r&2)!==0){var L=M.pending;return L===null?b.next=b:(b.next=L.next,L.next=b),M.pending=b,b=XA(m),loe(m,null,_),b}return YA(m,M,b,_),XA(m)}function VC(m,b,_){if(b=b.updateQueue,b!==null&&(b=b.shared,(_&4194048)!==0)){var M=b.lanes;M&=m.pendingLanes,_|=M,b.lanes=_,Dn(m,_)}}function Jz(m,b){var _=m.updateQueue,M=m.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var L=null,B=null;if(_=_.firstBaseUpdate,_!==null){do{var K={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};B===null?L=B=K:B=B.next=K,_=_.next}while(_!==null);B===null?L=B=b:B=B.next=b}else L=B=b;_={baseState:M.baseState,firstBaseUpdate:L,lastBaseUpdate:B,shared:M.shared,callbacks:M.callbacks},m.updateQueue=_;return}m=_.lastBaseUpdate,m===null?_.firstBaseUpdate=b:m.next=b,_.lastBaseUpdate=b}var e6=!1;function HC(){if(e6){var m=zx;if(m!==null)throw m}}function WC(m,b,_,M){e6=!1;var L=m.updateQueue;Cg=!1;var B=L.firstBaseUpdate,K=L.lastBaseUpdate,pe=L.shared.pending;if(pe!==null){L.shared.pending=null;var Ce=pe,Ie=Ce.next;Ce.next=null,K===null?B=Ie:K.next=Ie,K=Ce;var Ye=m.alternate;Ye!==null&&(Ye=Ye.updateQueue,pe=Ye.lastBaseUpdate,pe!==K&&(pe===null?Ye.firstBaseUpdate=Ie:pe.next=Ie,Ye.lastBaseUpdate=Ce))}if(B!==null){var it=L.baseState;K=0,Ye=Ie=Ce=null,pe=B;do{var Fe=pe.lane&-536870913,ze=Fe!==pe.lane;if(ze?(fr&Fe)===Fe:(M&Fe)===Fe){Fe!==0&&Fe===Nx&&(e6=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Kt=m,_n=pe;Fe=b;var li=_;switch(_n.tag){case 1:if(Kt=_n.payload,typeof Kt=="function"){it=Kt.call(li,it,Fe);break e}it=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=_n.payload,Fe=typeof Kt=="function"?Kt.call(li,it,Fe):Kt,Fe==null)break e;it=d({},it,Fe);break e;case 2:Cg=!0}}Fe=pe.callback,Fe!==null&&(m.flags|=64,ze&&(m.flags|=8192),ze=L.callbacks,ze===null?L.callbacks=[Fe]:ze.push(Fe))}else ze={lane:Fe,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Ye===null?(Ie=Ye=ze,Ce=it):Ye=Ye.next=ze,K|=Fe;if(pe=pe.next,pe===null){if(pe=L.shared.pending,pe===null)break;ze=pe,pe=ze.next,ze.next=null,L.lastBaseUpdate=ze,L.shared.pending=null}}while(!0);Ye===null&&(Ce=it),L.baseState=Ce,L.firstBaseUpdate=Ie,L.lastBaseUpdate=Ye,B===null&&(L.shared.lanes=0),Pg|=K,m.lanes=K,m.memoizedState=it}}function Eoe(m,b){if(typeof m!="function")throw Error(r(191,m));m.call(b)}function Toe(m,b){var _=m.callbacks;if(_!==null)for(m.callbacks=null,m=0;m<_.length;m++)Eoe(_[m],b)}var Vx=z(null),oP=z(0);function Roe(m,b){m=Vp,X(oP,m),X(Vx,b),Vp=m|b.baseLanes}function t6(){X(oP,Vp),X(Vx,Vx.current)}function n6(){Vp=oP.current,W(Vx),W(oP)}var Kl=z(null),Wc=null;function Tg(m){var b=m.alternate;X(So,So.current&1),X(Kl,m),Wc===null&&(b===null||Vx.current!==null||b.memoizedState!==null)&&(Wc=m)}function r6(m){X(So,So.current),X(Kl,m),Wc===null&&(Wc=m)}function Moe(m){m.tag===22?(X(So,So.current),X(Kl,m),Wc===null&&(Wc=m)):Rg()}function Rg(){X(So,So.current),X(Kl,Kl.current)}function Zl(m){W(Kl),Wc===m&&(Wc=null),W(So)}var So=z(0);function sP(m){for(var b=m;b!==null;){if(b.tag===13){var _=b.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||cB(_)||uB(_)))return b}else if(b.tag===19&&(b.memoizedProps.revealOrder==="forwards"||b.memoizedProps.revealOrder==="backwards"||b.memoizedProps.revealOrder==="unstable_legacy-backwards"||b.memoizedProps.revealOrder==="together")){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var jp=0,Vn=null,si=null,jo=null,aP=!1,Hx=!1,hy=!1,lP=0,qC=0,Wx=null,nUe=0;function io(){throw Error(r(321))}function i6(m,b){if(b===null)return!1;for(var _=0;_<b.length&&_<m.length;_++)if(!Yl(m[_],b[_]))return!1;return!0}function o6(m,b,_,M,L,B){return jp=B,Vn=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,N.H=m===null||m.memoizedState===null?fse:x6,hy=!1,B=_(M,L),hy=!1,Hx&&(B=Poe(b,_,M,L)),Aoe(m),B}function Aoe(m){N.H=XC;var b=si!==null&&si.next!==null;if(jp=0,jo=si=Vn=null,aP=!1,qC=0,Wx=null,b)throw Error(r(300));m===null||$o||(m=m.dependencies,m!==null&&QA(m)&&($o=!0))}function Poe(m,b,_,M){Vn=m;var L=0;do{if(Hx&&(Wx=null),qC=0,Hx=!1,25<=L)throw Error(r(301));if(L+=1,jo=si=null,m.updateQueue!=null){var B=m.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}N.H=pse,B=b(_,M)}while(Hx);return B}function rUe(){var m=N.H,b=m.useState()[0];return b=typeof b.then=="function"?GC(b):b,m=m.useState()[0],(si!==null?si.memoizedState:null)!==m&&(Vn.flags|=1024),b}function s6(){var m=lP!==0;return lP=0,m}function a6(m,b,_){b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~_}function l6(m){if(aP){for(m=m.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}aP=!1}jp=0,jo=si=Vn=null,Hx=!1,qC=lP=0,Wx=null}function ka(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jo===null?Vn.memoizedState=jo=m:jo=jo.next=m,jo}function _o(){if(si===null){var m=Vn.alternate;m=m!==null?m.memoizedState:null}else m=si.next;var b=jo===null?Vn.memoizedState:jo.next;if(b!==null)jo=b,si=m;else{if(m===null)throw Vn.alternate===null?Error(r(467)):Error(r(310));si=m,m={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},jo===null?Vn.memoizedState=jo=m:jo=jo.next=m}return jo}function cP(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function GC(m){var b=qC;return qC+=1,Wx===null&&(Wx=[]),m=woe(Wx,m,b),b=Vn,(jo===null?b.memoizedState:jo.next)===null&&(b=b.alternate,N.H=b===null||b.memoizedState===null?fse:x6),m}function uP(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return GC(m);if(m.$$typeof===S)return Ds(m)}throw Error(r(438,String(m)))}function c6(m){var b=null,_=Vn.updateQueue;if(_!==null&&(b=_.memoCache),b==null){var M=Vn.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(b={data:M.data.map(function(L){return L.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),_===null&&(_=cP(),Vn.updateQueue=_),_.memoCache=b,_=b.data[b.index],_===void 0)for(_=b.data[b.index]=Array(m),M=0;M<m;M++)_[M]=I;return b.index++,_}function $p(m,b){return typeof b=="function"?b(m):b}function dP(m){var b=_o();return u6(b,si,m)}function u6(m,b,_){var M=m.queue;if(M===null)throw Error(r(311));M.lastRenderedReducer=_;var L=m.baseQueue,B=M.pending;if(B!==null){if(L!==null){var K=L.next;L.next=B.next,B.next=K}b.baseQueue=L=B,M.pending=null}if(B=m.baseState,L===null)m.memoizedState=B;else{b=L.next;var pe=K=null,Ce=null,Ie=b,Ye=!1;do{var it=Ie.lane&-536870913;if(it!==Ie.lane?(fr&it)===it:(jp&it)===it){var Fe=Ie.revertLane;if(Fe===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),it===Nx&&(Ye=!0);else if((jp&Fe)===Fe){Ie=Ie.next,Fe===Nx&&(Ye=!0);continue}else it={lane:0,revertLane:Ie.revertLane,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Ce===null?(pe=Ce=it,K=B):Ce=Ce.next=it,Vn.lanes|=Fe,Pg|=Fe;it=Ie.action,hy&&_(B,it),B=Ie.hasEagerState?Ie.eagerState:_(B,it)}else Fe={lane:it,revertLane:Ie.revertLane,gesture:Ie.gesture,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Ce===null?(pe=Ce=Fe,K=B):Ce=Ce.next=Fe,Vn.lanes|=it,Pg|=it;Ie=Ie.next}while(Ie!==null&&Ie!==b);if(Ce===null?K=B:Ce.next=pe,!Yl(B,m.memoizedState)&&($o=!0,Ye&&(_=zx,_!==null)))throw _;m.memoizedState=B,m.baseState=K,m.baseQueue=Ce,M.lastRenderedState=B}return L===null&&(M.lanes=0),[m.memoizedState,M.dispatch]}function d6(m){var b=_o(),_=b.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=m;var M=_.dispatch,L=_.pending,B=b.memoizedState;if(L!==null){_.pending=null;var K=L=L.next;do B=m(B,K.action),K=K.next;while(K!==L);Yl(B,b.memoizedState)||($o=!0),b.memoizedState=B,b.baseQueue===null&&(b.baseState=B),_.lastRenderedState=B}return[B,M]}function Doe(m,b,_){var M=Vn,L=_o(),B=yr;if(B){if(_===void 0)throw Error(r(407));_=_()}else _=b();var K=!Yl((si||L).memoizedState,_);if(K&&(L.memoizedState=_,$o=!0),L=L.queue,h6(joe.bind(null,M,L,m),[m]),L.getSnapshot!==b||K||jo!==null&&jo.memoizedState.tag&1){if(M.flags|=2048,qx(9,{destroy:void 0},Ioe.bind(null,M,L,_,b),null),fi===null)throw Error(r(349));B||(jp&127)!==0||Ooe(M,b,_)}return _}function Ooe(m,b,_){m.flags|=16384,m={getSnapshot:b,value:_},b=Vn.updateQueue,b===null?(b=cP(),Vn.updateQueue=b,b.stores=[m]):(_=b.stores,_===null?b.stores=[m]:_.push(m))}function Ioe(m,b,_,M){b.value=_,b.getSnapshot=M,$oe(b)&&Foe(m)}function joe(m,b,_){return _(function(){$oe(b)&&Foe(m)})}function $oe(m){var b=m.getSnapshot;m=m.value;try{var _=b();return!Yl(m,_)}catch{return!0}}function Foe(m){var b=oy(m,2);b!==null&&ul(b,m,2)}function f6(m){var b=ka();if(typeof m=="function"){var _=m;if(m=_(),hy){Rt(!0);try{_()}finally{Rt(!1)}}}return b.memoizedState=b.baseState=m,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:m},b}function Loe(m,b,_,M){return m.baseState=_,u6(m,si,typeof M=="function"?M:$p)}function iUe(m,b,_,M,L){if(hP(m))throw Error(r(485));if(m=b.action,m!==null){var B={payload:L,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){B.listeners.push(K)}};N.T!==null?_(!0):B.isTransition=!1,M(B),_=b.pending,_===null?(B.next=b.pending=B,Noe(b,B)):(B.next=_.next,b.pending=_.next=B)}}function Noe(m,b){var _=b.action,M=b.payload,L=m.state;if(b.isTransition){var B=N.T,K={};N.T=K;try{var pe=_(L,M),Ce=N.S;Ce!==null&&Ce(K,pe),zoe(m,b,pe)}catch(Ie){p6(m,b,Ie)}finally{B!==null&&K.types!==null&&(B.types=K.types),N.T=B}}else try{B=_(L,M),zoe(m,b,B)}catch(Ie){p6(m,b,Ie)}}function zoe(m,b,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(M){Boe(m,b,M)},function(M){return p6(m,b,M)}):Boe(m,b,_)}function Boe(m,b,_){b.status="fulfilled",b.value=_,Uoe(b),m.state=_,b=m.pending,b!==null&&(_=b.next,_===b?m.pending=null:(_=_.next,b.next=_,Noe(m,_)))}function p6(m,b,_){var M=m.pending;if(m.pending=null,M!==null){M=M.next;do b.status="rejected",b.reason=_,Uoe(b),b=b.next;while(b!==M)}m.action=null}function Uoe(m){m=m.listeners;for(var b=0;b<m.length;b++)(0,m[b])()}function Voe(m,b){return b}function Hoe(m,b){if(yr){var _=fi.formState;if(_!==null){e:{var M=Vn;if(yr){if(Ti){t:{for(var L=Ti,B=Hc;L.nodeType!==8;){if(!B){L=null;break t}if(L=qc(L.nextSibling),L===null){L=null;break t}}B=L.data,L=B==="F!"||B==="F"?L:null}if(L){Ti=qc(L.nextSibling),M=L.data==="F!";break e}}Sg(M)}M=!1}M&&(b=_[0])}}return _=ka(),_.memoizedState=_.baseState=b,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Voe,lastRenderedState:b},_.queue=M,_=cse.bind(null,Vn,M),M.dispatch=_,M=f6(!1),B=b6.bind(null,Vn,!1,M.queue),M=ka(),L={state:b,dispatch:null,action:m,pending:null},M.queue=L,_=iUe.bind(null,Vn,L,B,_),L.dispatch=_,M.memoizedState=m,[b,_,!1]}function Woe(m){var b=_o();return qoe(b,si,m)}function qoe(m,b,_){if(b=u6(m,b,Voe)[0],m=dP($p)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var M=GC(b)}catch(K){throw K===Bx?tP:K}else M=b;b=_o();var L=b.queue,B=L.dispatch;return _!==b.memoizedState&&(Vn.flags|=2048,qx(9,{destroy:void 0},oUe.bind(null,L,_),null)),[M,B,m]}function oUe(m,b){m.action=b}function Goe(m){var b=_o(),_=si;if(_!==null)return qoe(b,_,m);_o(),b=b.memoizedState,_=_o();var M=_.queue.dispatch;return _.memoizedState=m,[b,M,!1]}function qx(m,b,_,M){return m={tag:m,create:_,deps:M,inst:b,next:null},b=Vn.updateQueue,b===null&&(b=cP(),Vn.updateQueue=b),_=b.lastEffect,_===null?b.lastEffect=m.next=m:(M=_.next,_.next=m,m.next=M,b.lastEffect=m),m}function Yoe(){return _o().memoizedState}function fP(m,b,_,M){var L=ka();Vn.flags|=m,L.memoizedState=qx(1|b,{destroy:void 0},_,M===void 0?null:M)}function pP(m,b,_,M){var L=_o();M=M===void 0?null:M;var B=L.memoizedState.inst;si!==null&&M!==null&&i6(M,si.memoizedState.deps)?L.memoizedState=qx(b,B,_,M):(Vn.flags|=m,L.memoizedState=qx(1|b,B,_,M))}function Xoe(m,b){fP(8390656,8,m,b)}function h6(m,b){pP(2048,8,m,b)}function sUe(m){Vn.flags|=4;var b=Vn.updateQueue;if(b===null)b=cP(),Vn.updateQueue=b,b.events=[m];else{var _=b.events;_===null?b.events=[m]:_.push(m)}}function Koe(m){var b=_o().memoizedState;return sUe({ref:b,nextImpl:m}),function(){if(($r&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}function Zoe(m,b){return pP(4,2,m,b)}function Qoe(m,b){return pP(4,4,m,b)}function Joe(m,b){if(typeof b=="function"){m=m();var _=b(m);return function(){typeof _=="function"?_():b(null)}}if(b!=null)return m=m(),b.current=m,function(){b.current=null}}function ese(m,b,_){_=_!=null?_.concat([m]):null,pP(4,4,Joe.bind(null,b,m),_)}function g6(){}function tse(m,b){var _=_o();b=b===void 0?null:b;var M=_.memoizedState;return b!==null&&i6(b,M[1])?M[0]:(_.memoizedState=[m,b],m)}function nse(m,b){var _=_o();b=b===void 0?null:b;var M=_.memoizedState;if(b!==null&&i6(b,M[1]))return M[0];if(M=m(),hy){Rt(!0);try{m()}finally{Rt(!1)}}return _.memoizedState=[M,b],M}function m6(m,b,_){return _===void 0||(jp&1073741824)!==0&&(fr&261930)===0?m.memoizedState=b:(m.memoizedState=_,m=rae(),Vn.lanes|=m,Pg|=m,_)}function rse(m,b,_,M){return Yl(_,b)?_:Vx.current!==null?(m=m6(m,_,M),Yl(m,b)||($o=!0),m):(jp&42)===0||(jp&1073741824)!==0&&(fr&261930)===0?($o=!0,m.memoizedState=_):(m=rae(),Vn.lanes|=m,Pg|=m,b)}function ise(m,b,_,M,L){var B=V.p;V.p=B!==0&&8>B?B:8;var K=N.T,pe={};N.T=pe,b6(m,!1,b,_);try{var Ce=L(),Ie=N.S;if(Ie!==null&&Ie(pe,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Ye=tUe(Ce,M);YC(m,b,Ye,ec(m))}else YC(m,b,M,ec(m))}catch(it){YC(m,b,{then:function(){},status:"rejected",reason:it},ec())}finally{V.p=B,K!==null&&pe.types!==null&&(K.types=pe.types),N.T=K}}function aUe(){}function y6(m,b,_,M){if(m.tag!==5)throw Error(r(476));var L=ose(m).queue;ise(m,L,b,H,_===null?aUe:function(){return sse(m),_(M)})}function ose(m){var b=m.memoizedState;if(b!==null)return b;b={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:H},next:null};var _={};return b.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:_},next:null},m.memoizedState=b,m=m.alternate,m!==null&&(m.memoizedState=b),b}function sse(m){var b=ose(m);b.next===null&&(b=m.alternate.memoizedState),YC(m,b.next.queue,{},ec())}function v6(){return Ds(d2)}function ase(){return _o().memoizedState}function lse(){return _o().memoizedState}function lUe(m){for(var b=m.return;b!==null;){switch(b.tag){case 24:case 3:var _=ec();m=kg(_);var M=Eg(b,m,_);M!==null&&(ul(M,b,_),VC(M,b,_)),b={cache:Gz()},m.payload=b;return}b=b.return}}function cUe(m,b,_){var M=ec();_={lane:M,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},hP(m)?use(b,_):(_=$z(m,b,_,M),_!==null&&(ul(_,m,M),dse(_,b,M)))}function cse(m,b,_){var M=ec();YC(m,b,_,M)}function YC(m,b,_,M){var L={lane:M,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(hP(m))use(b,L);else{var B=m.alternate;if(m.lanes===0&&(B===null||B.lanes===0)&&(B=b.lastRenderedReducer,B!==null))try{var K=b.lastRenderedState,pe=B(K,_);if(L.hasEagerState=!0,L.eagerState=pe,Yl(pe,K))return YA(m,b,L,0),fi===null&&GA(),!1}catch{}if(_=$z(m,b,L,M),_!==null)return ul(_,m,M),dse(_,b,M),!0}return!1}function b6(m,b,_,M){if(M={lane:2,revertLane:Z6(),gesture:null,action:M,hasEagerState:!1,eagerState:null,next:null},hP(m)){if(b)throw Error(r(479))}else b=$z(m,_,M,2),b!==null&&ul(b,m,2)}function hP(m){var b=m.alternate;return m===Vn||b!==null&&b===Vn}function use(m,b){Hx=aP=!0;var _=m.pending;_===null?b.next=b:(b.next=_.next,_.next=b),m.pending=b}function dse(m,b,_){if((_&4194048)!==0){var M=b.lanes;M&=m.pendingLanes,_|=M,b.lanes=_,Dn(m,_)}}var XC={readContext:Ds,use:uP,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useInsertionEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useSyncExternalStore:io,useId:io,useHostTransitionStatus:io,useFormState:io,useActionState:io,useOptimistic:io,useMemoCache:io,useCacheRefresh:io};XC.useEffectEvent=io;var fse={readContext:Ds,use:uP,useCallback:function(m,b){return ka().memoizedState=[m,b===void 0?null:b],m},useContext:Ds,useEffect:Xoe,useImperativeHandle:function(m,b,_){_=_!=null?_.concat([m]):null,fP(4194308,4,Joe.bind(null,b,m),_)},useLayoutEffect:function(m,b){return fP(4194308,4,m,b)},useInsertionEffect:function(m,b){fP(4,2,m,b)},useMemo:function(m,b){var _=ka();b=b===void 0?null:b;var M=m();if(hy){Rt(!0);try{m()}finally{Rt(!1)}}return _.memoizedState=[M,b],M},useReducer:function(m,b,_){var M=ka();if(_!==void 0){var L=_(b);if(hy){Rt(!0);try{_(b)}finally{Rt(!1)}}}else L=b;return M.memoizedState=M.baseState=L,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:L},M.queue=m,m=m.dispatch=cUe.bind(null,Vn,m),[M.memoizedState,m]},useRef:function(m){var b=ka();return m={current:m},b.memoizedState=m},useState:function(m){m=f6(m);var b=m.queue,_=cse.bind(null,Vn,b);return b.dispatch=_,[m.memoizedState,_]},useDebugValue:g6,useDeferredValue:function(m,b){var _=ka();return m6(_,m,b)},useTransition:function(){var m=f6(!1);return m=ise.bind(null,Vn,m.queue,!0,!1),ka().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,b,_){var M=Vn,L=ka();if(yr){if(_===void 0)throw Error(r(407));_=_()}else{if(_=b(),fi===null)throw Error(r(349));(fr&127)!==0||Ooe(M,b,_)}L.memoizedState=_;var B={value:_,getSnapshot:b};return L.queue=B,Xoe(joe.bind(null,M,B,m),[m]),M.flags|=2048,qx(9,{destroy:void 0},Ioe.bind(null,M,B,_,b),null),_},useId:function(){var m=ka(),b=fi.identifierPrefix;if(yr){var _=of,M=rf;_=(M&~(1<<32-Ct(M)-1)).toString(32)+_,b="_"+b+"R_"+_,_=lP++,0<_&&(b+="H"+_.toString(32)),b+="_"}else _=nUe++,b="_"+b+"r_"+_.toString(32)+"_";return m.memoizedState=b},useHostTransitionStatus:v6,useFormState:Hoe,useActionState:Hoe,useOptimistic:function(m){var b=ka();b.memoizedState=b.baseState=m;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=_,b=b6.bind(null,Vn,!0,_),_.dispatch=b,[m,b]},useMemoCache:c6,useCacheRefresh:function(){return ka().memoizedState=lUe.bind(null,Vn)},useEffectEvent:function(m){var b=ka(),_={impl:m};return b.memoizedState=_,function(){if(($r&2)!==0)throw Error(r(440));return _.impl.apply(void 0,arguments)}}},x6={readContext:Ds,use:uP,useCallback:tse,useContext:Ds,useEffect:h6,useImperativeHandle:ese,useInsertionEffect:Zoe,useLayoutEffect:Qoe,useMemo:nse,useReducer:dP,useRef:Yoe,useState:function(){return dP($p)},useDebugValue:g6,useDeferredValue:function(m,b){var _=_o();return rse(_,si.memoizedState,m,b)},useTransition:function(){var m=dP($p)[0],b=_o().memoizedState;return[typeof m=="boolean"?m:GC(m),b]},useSyncExternalStore:Doe,useId:ase,useHostTransitionStatus:v6,useFormState:Woe,useActionState:Woe,useOptimistic:function(m,b){var _=_o();return Loe(_,si,m,b)},useMemoCache:c6,useCacheRefresh:lse};x6.useEffectEvent=Koe;var pse={readContext:Ds,use:uP,useCallback:tse,useContext:Ds,useEffect:h6,useImperativeHandle:ese,useInsertionEffect:Zoe,useLayoutEffect:Qoe,useMemo:nse,useReducer:d6,useRef:Yoe,useState:function(){return d6($p)},useDebugValue:g6,useDeferredValue:function(m,b){var _=_o();return si===null?m6(_,m,b):rse(_,si.memoizedState,m,b)},useTransition:function(){var m=d6($p)[0],b=_o().memoizedState;return[typeof m=="boolean"?m:GC(m),b]},useSyncExternalStore:Doe,useId:ase,useHostTransitionStatus:v6,useFormState:Goe,useActionState:Goe,useOptimistic:function(m,b){var _=_o();return si!==null?Loe(_,si,m,b):(_.baseState=m,[m,_.queue.dispatch])},useMemoCache:c6,useCacheRefresh:lse};pse.useEffectEvent=Koe;function w6(m,b,_,M){b=m.memoizedState,_=_(M,b),_=_==null?b:d({},b,_),m.memoizedState=_,m.lanes===0&&(m.updateQueue.baseState=_)}var S6={enqueueSetState:function(m,b,_){m=m._reactInternals;var M=ec(),L=kg(M);L.payload=b,_!=null&&(L.callback=_),b=Eg(m,L,M),b!==null&&(ul(b,m,M),VC(b,m,M))},enqueueReplaceState:function(m,b,_){m=m._reactInternals;var M=ec(),L=kg(M);L.tag=1,L.payload=b,_!=null&&(L.callback=_),b=Eg(m,L,M),b!==null&&(ul(b,m,M),VC(b,m,M))},enqueueForceUpdate:function(m,b){m=m._reactInternals;var _=ec(),M=kg(_);M.tag=2,b!=null&&(M.callback=b),b=Eg(m,M,_),b!==null&&(ul(b,m,_),VC(b,m,_))}};function hse(m,b,_,M,L,B,K){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(M,B,K):b.prototype&&b.prototype.isPureReactComponent?!jC(_,M)||!jC(L,B):!0}function gse(m,b,_,M){m=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(_,M),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(_,M),b.state!==m&&S6.enqueueReplaceState(b,b.state,null)}function gy(m,b){var _=b;if("ref"in b){_={};for(var M in b)M!=="ref"&&(_[M]=b[M])}if(m=m.defaultProps){_===b&&(_=d({},_));for(var L in m)_[L]===void 0&&(_[L]=m[L])}return _}function mse(m){qA(m)}function yse(m){console.error(m)}function vse(m){qA(m)}function gP(m,b){try{var _=m.onUncaughtError;_(b.value,{componentStack:b.stack})}catch(M){setTimeout(function(){throw M})}}function bse(m,b,_){try{var M=m.onCaughtError;M(_.value,{componentStack:_.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function _6(m,b,_){return _=kg(_),_.tag=3,_.payload={element:null},_.callback=function(){gP(m,b)},_}function xse(m){return m=kg(m),m.tag=3,m}function wse(m,b,_,M){var L=_.type.getDerivedStateFromError;if(typeof L=="function"){var B=M.value;m.payload=function(){return L(B)},m.callback=function(){bse(b,_,M)}}var K=_.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(m.callback=function(){bse(b,_,M),typeof L!="function"&&(Dg===null?Dg=new Set([this]):Dg.add(this));var pe=M.stack;this.componentDidCatch(M.value,{componentStack:pe!==null?pe:""})})}function uUe(m,b,_,M,L){if(_.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(b=_.alternate,b!==null&&Lx(b,_,L,!0),_=Kl.current,_!==null){switch(_.tag){case 31:case 13:return Wc===null?TP():_.alternate===null&&oo===0&&(oo=3),_.flags&=-257,_.flags|=65536,_.lanes=L,M===nP?_.flags|=16384:(b=_.updateQueue,b===null?_.updateQueue=new Set([M]):b.add(M),Y6(m,M,L)),!1;case 22:return _.flags|=65536,M===nP?_.flags|=16384:(b=_.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([M])},_.updateQueue=b):(_=b.retryQueue,_===null?b.retryQueue=new Set([M]):_.add(M)),Y6(m,M,L)),!1}throw Error(r(435,_.tag))}return Y6(m,M,L),TP(),!1}if(yr)return b=Kl.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=L,M!==Uz&&(m=Error(r(422),{cause:M}),LC(Bc(m,_)))):(M!==Uz&&(b=Error(r(423),{cause:M}),LC(Bc(b,_))),m=m.current.alternate,m.flags|=65536,L&=-L,m.lanes|=L,M=Bc(M,_),L=_6(m.stateNode,M,L),Jz(m,L),oo!==4&&(oo=2)),!1;var B=Error(r(520),{cause:M});if(B=Bc(B,_),r2===null?r2=[B]:r2.push(B),oo!==4&&(oo=2),b===null)return!0;M=Bc(M,_),_=b;do{switch(_.tag){case 3:return _.flags|=65536,m=L&-L,_.lanes|=m,m=_6(_.stateNode,M,m),Jz(_,m),!1;case 1:if(b=_.type,B=_.stateNode,(_.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Dg===null||!Dg.has(B))))return _.flags|=65536,L&=-L,_.lanes|=L,L=xse(L),wse(L,m,_,M),Jz(_,L),!1}_=_.return}while(_!==null);return!1}var C6=Error(r(461)),$o=!1;function Os(m,b,_,M){b.child=m===null?koe(b,null,_,M):py(b,m.child,_,M)}function Sse(m,b,_,M,L){_=_.render;var B=b.ref;if("ref"in M){var K={};for(var pe in M)pe!=="ref"&&(K[pe]=M[pe])}else K=M;return cy(b),M=o6(m,b,_,K,B,L),pe=s6(),m!==null&&!$o?(a6(m,b,L),Fp(m,b,L)):(yr&&pe&&zz(b),b.flags|=1,Os(m,b,M,L),b.child)}function _se(m,b,_,M,L){if(m===null){var B=_.type;return typeof B=="function"&&!Fz(B)&&B.defaultProps===void 0&&_.compare===null?(b.tag=15,b.type=B,Cse(m,b,B,M,L)):(m=KA(_.type,null,M,b,b.mode,L),m.ref=b.ref,m.return=b,b.child=m)}if(B=m.child,!D6(m,L)){var K=B.memoizedProps;if(_=_.compare,_=_!==null?_:jC,_(K,M)&&m.ref===b.ref)return Fp(m,b,L)}return b.flags|=1,m=Pp(B,M),m.ref=b.ref,m.return=b,b.child=m}function Cse(m,b,_,M,L){if(m!==null){var B=m.memoizedProps;if(jC(B,M)&&m.ref===b.ref)if($o=!1,b.pendingProps=M=B,D6(m,L))(m.flags&131072)!==0&&($o=!0);else return b.lanes=m.lanes,Fp(m,b,L)}return k6(m,b,_,M,L)}function kse(m,b,_,M){var L=M.children,B=m!==null?m.memoizedState:null;if(m===null&&b.stateNode===null&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),M.mode==="hidden"){if((b.flags&128)!==0){if(B=B!==null?B.baseLanes|_:_,m!==null){for(M=b.child=m.child,L=0;M!==null;)L=L|M.lanes|M.childLanes,M=M.sibling;M=L&~B}else M=0,b.child=null;return Ese(m,b,B,_,M)}if((_&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},m!==null&&eP(b,B!==null?B.cachePool:null),B!==null?Roe(b,B):t6(),Moe(b);else return M=b.lanes=536870912,Ese(m,b,B!==null?B.baseLanes|_:_,_,M)}else B!==null?(eP(b,B.cachePool),Roe(b,B),Rg(),b.memoizedState=null):(m!==null&&eP(b,null),t6(),Rg());return Os(m,b,L,_),b.child}function KC(m,b){return m!==null&&m.tag===22||b.stateNode!==null||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function Ese(m,b,_,M,L){var B=Xz();return B=B===null?null:{parent:Io._currentValue,pool:B},b.memoizedState={baseLanes:_,cachePool:B},m!==null&&eP(b,null),t6(),Moe(b),m!==null&&Lx(m,b,M,!0),b.childLanes=L,null}function mP(m,b){return b=vP({mode:b.mode,children:b.children},m.mode),b.ref=m.ref,m.child=b,b.return=m,b}function Tse(m,b,_){return py(b,m.child,null,_),m=mP(b,b.pendingProps),m.flags|=2,Zl(b),b.memoizedState=null,m}function dUe(m,b,_){var M=b.pendingProps,L=(b.flags&128)!==0;if(b.flags&=-129,m===null){if(yr){if(M.mode==="hidden")return m=mP(b,M),b.lanes=536870912,KC(null,m);if(r6(b),(m=Ti)?(m=Nae(m,Hc),m=m!==null&&m.data==="&"?m:null,m!==null&&(b.memoizedState={dehydrated:m,treeContext:xg!==null?{id:rf,overflow:of}:null,retryLane:536870912,hydrationErrors:null},_=uoe(m),_.return=b,b.child=_,Ps=b,Ti=null)):m=null,m===null)throw Sg(b);return b.lanes=536870912,null}return mP(b,M)}var B=m.memoizedState;if(B!==null){var K=B.dehydrated;if(r6(b),L)if(b.flags&256)b.flags&=-257,b=Tse(m,b,_);else if(b.memoizedState!==null)b.child=m.child,b.flags|=128,b=null;else throw Error(r(558));else if($o||Lx(m,b,_,!1),L=(_&m.childLanes)!==0,$o||L){if(M=fi,M!==null&&(K=Et(M,_),K!==0&&K!==B.retryLane))throw B.retryLane=K,oy(m,K),ul(M,m,K),C6;TP(),b=Tse(m,b,_)}else m=B.treeContext,Ti=qc(K.nextSibling),Ps=b,yr=!0,wg=null,Hc=!1,m!==null&&poe(b,m),b=mP(b,M),b.flags|=4096;return b}return m=Pp(m.child,{mode:M.mode,children:M.children}),m.ref=b.ref,b.child=m,m.return=b,m}function yP(m,b){var _=b.ref;if(_===null)m!==null&&m.ref!==null&&(b.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(r(284));(m===null||m.ref!==_)&&(b.flags|=4194816)}}function k6(m,b,_,M,L){return cy(b),_=o6(m,b,_,M,void 0,L),M=s6(),m!==null&&!$o?(a6(m,b,L),Fp(m,b,L)):(yr&&M&&zz(b),b.flags|=1,Os(m,b,_,L),b.child)}function Rse(m,b,_,M,L,B){return cy(b),b.updateQueue=null,_=Poe(b,M,_,L),Aoe(m),M=s6(),m!==null&&!$o?(a6(m,b,B),Fp(m,b,B)):(yr&&M&&zz(b),b.flags|=1,Os(m,b,_,B),b.child)}function Mse(m,b,_,M,L){if(cy(b),b.stateNode===null){var B=Ix,K=_.contextType;typeof K=="object"&&K!==null&&(B=Ds(K)),B=new _(M,B),b.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=S6,b.stateNode=B,B._reactInternals=b,B=b.stateNode,B.props=M,B.state=b.memoizedState,B.refs={},Zz(b),K=_.contextType,B.context=typeof K=="object"&&K!==null?Ds(K):Ix,B.state=b.memoizedState,K=_.getDerivedStateFromProps,typeof K=="function"&&(w6(b,_,K,M),B.state=b.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(K=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),K!==B.state&&S6.enqueueReplaceState(B,B.state,null),WC(b,M,B,L),HC(),B.state=b.memoizedState),typeof B.componentDidMount=="function"&&(b.flags|=4194308),M=!0}else if(m===null){B=b.stateNode;var pe=b.memoizedProps,Ce=gy(_,pe);B.props=Ce;var Ie=B.context,Ye=_.contextType;K=Ix,typeof Ye=="object"&&Ye!==null&&(K=Ds(Ye));var it=_.getDerivedStateFromProps;Ye=typeof it=="function"||typeof B.getSnapshotBeforeUpdate=="function",pe=b.pendingProps!==pe,Ye||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(pe||Ie!==K)&&gse(b,B,M,K),Cg=!1;var Fe=b.memoizedState;B.state=Fe,WC(b,M,B,L),HC(),Ie=b.memoizedState,pe||Fe!==Ie||Cg?(typeof it=="function"&&(w6(b,_,it,M),Ie=b.memoizedState),(Ce=Cg||hse(b,_,Ce,M,Fe,Ie,K))?(Ye||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(b.flags|=4194308)):(typeof B.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=M,b.memoizedState=Ie),B.props=M,B.state=Ie,B.context=K,M=Ce):(typeof B.componentDidMount=="function"&&(b.flags|=4194308),M=!1)}else{B=b.stateNode,Qz(m,b),K=b.memoizedProps,Ye=gy(_,K),B.props=Ye,it=b.pendingProps,Fe=B.context,Ie=_.contextType,Ce=Ix,typeof Ie=="object"&&Ie!==null&&(Ce=Ds(Ie)),pe=_.getDerivedStateFromProps,(Ie=typeof pe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==it||Fe!==Ce)&&gse(b,B,M,Ce),Cg=!1,Fe=b.memoizedState,B.state=Fe,WC(b,M,B,L),HC();var ze=b.memoizedState;K!==it||Fe!==ze||Cg||m!==null&&m.dependencies!==null&&QA(m.dependencies)?(typeof pe=="function"&&(w6(b,_,pe,M),ze=b.memoizedState),(Ye=Cg||hse(b,_,Ye,M,Fe,ze,Ce)||m!==null&&m.dependencies!==null&&QA(m.dependencies))?(Ie||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(M,ze,Ce),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(M,ze,Ce)),typeof B.componentDidUpdate=="function"&&(b.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof B.componentDidUpdate!="function"||K===m.memoizedProps&&Fe===m.memoizedState||(b.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===m.memoizedProps&&Fe===m.memoizedState||(b.flags|=1024),b.memoizedProps=M,b.memoizedState=ze),B.props=M,B.state=ze,B.context=Ce,M=Ye):(typeof B.componentDidUpdate!="function"||K===m.memoizedProps&&Fe===m.memoizedState||(b.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===m.memoizedProps&&Fe===m.memoizedState||(b.flags|=1024),M=!1)}return B=M,yP(m,b),M=(b.flags&128)!==0,B||M?(B=b.stateNode,_=M&&typeof _.getDerivedStateFromError!="function"?null:B.render(),b.flags|=1,m!==null&&M?(b.child=py(b,m.child,null,L),b.child=py(b,null,_,L)):Os(m,b,_,L),b.memoizedState=B.state,m=b.child):m=Fp(m,b,L),m}function Ase(m,b,_,M){return ay(),b.flags|=256,Os(m,b,_,M),b.child}var E6={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T6(m){return{baseLanes:m,cachePool:boe()}}function R6(m,b,_){return m=m!==null?m.childLanes&~_:0,b&&(m|=Jl),m}function Pse(m,b,_){var M=b.pendingProps,L=!1,B=(b.flags&128)!==0,K;if((K=B)||(K=m!==null&&m.memoizedState===null?!1:(So.current&2)!==0),K&&(L=!0,b.flags&=-129),K=(b.flags&32)!==0,b.flags&=-33,m===null){if(yr){if(L?Tg(b):Rg(),(m=Ti)?(m=Nae(m,Hc),m=m!==null&&m.data!=="&"?m:null,m!==null&&(b.memoizedState={dehydrated:m,treeContext:xg!==null?{id:rf,overflow:of}:null,retryLane:536870912,hydrationErrors:null},_=uoe(m),_.return=b,b.child=_,Ps=b,Ti=null)):m=null,m===null)throw Sg(b);return uB(m)?b.lanes=32:b.lanes=536870912,null}var pe=M.children;return M=M.fallback,L?(Rg(),L=b.mode,pe=vP({mode:"hidden",children:pe},L),M=sy(M,L,_,null),pe.return=b,M.return=b,pe.sibling=M,b.child=pe,M=b.child,M.memoizedState=T6(_),M.childLanes=R6(m,K,_),b.memoizedState=E6,KC(null,M)):(Tg(b),M6(b,pe))}var Ce=m.memoizedState;if(Ce!==null&&(pe=Ce.dehydrated,pe!==null)){if(B)b.flags&256?(Tg(b),b.flags&=-257,b=A6(m,b,_)):b.memoizedState!==null?(Rg(),b.child=m.child,b.flags|=128,b=null):(Rg(),pe=M.fallback,L=b.mode,M=vP({mode:"visible",children:M.children},L),pe=sy(pe,L,_,null),pe.flags|=2,M.return=b,pe.return=b,M.sibling=pe,b.child=M,py(b,m.child,null,_),M=b.child,M.memoizedState=T6(_),M.childLanes=R6(m,K,_),b.memoizedState=E6,b=KC(null,M));else if(Tg(b),uB(pe)){if(K=pe.nextSibling&&pe.nextSibling.dataset,K)var Ie=K.dgst;K=Ie,M=Error(r(419)),M.stack="",M.digest=K,LC({value:M,source:null,stack:null}),b=A6(m,b,_)}else if($o||Lx(m,b,_,!1),K=(_&m.childLanes)!==0,$o||K){if(K=fi,K!==null&&(M=Et(K,_),M!==0&&M!==Ce.retryLane))throw Ce.retryLane=M,oy(m,M),ul(K,m,M),C6;cB(pe)||TP(),b=A6(m,b,_)}else cB(pe)?(b.flags|=192,b.child=m.child,b=null):(m=Ce.treeContext,Ti=qc(pe.nextSibling),Ps=b,yr=!0,wg=null,Hc=!1,m!==null&&poe(b,m),b=M6(b,M.children),b.flags|=4096);return b}return L?(Rg(),pe=M.fallback,L=b.mode,Ce=m.child,Ie=Ce.sibling,M=Pp(Ce,{mode:"hidden",children:M.children}),M.subtreeFlags=Ce.subtreeFlags&65011712,Ie!==null?pe=Pp(Ie,pe):(pe=sy(pe,L,_,null),pe.flags|=2),pe.return=b,M.return=b,M.sibling=pe,b.child=M,KC(null,M),M=b.child,pe=m.child.memoizedState,pe===null?pe=T6(_):(L=pe.cachePool,L!==null?(Ce=Io._currentValue,L=L.parent!==Ce?{parent:Ce,pool:Ce}:L):L=boe(),pe={baseLanes:pe.baseLanes|_,cachePool:L}),M.memoizedState=pe,M.childLanes=R6(m,K,_),b.memoizedState=E6,KC(m.child,M)):(Tg(b),_=m.child,m=_.sibling,_=Pp(_,{mode:"visible",children:M.children}),_.return=b,_.sibling=null,m!==null&&(K=b.deletions,K===null?(b.deletions=[m],b.flags|=16):K.push(m)),b.child=_,b.memoizedState=null,_)}function M6(m,b){return b=vP({mode:"visible",children:b},m.mode),b.return=m,m.child=b}function vP(m,b){return m=Xl(22,m,null,b),m.lanes=0,m}function A6(m,b,_){return py(b,m.child,null,_),m=M6(b,b.pendingProps.children),m.flags|=2,b.memoizedState=null,m}function Dse(m,b,_){m.lanes|=b;var M=m.alternate;M!==null&&(M.lanes|=b),Wz(m.return,b,_)}function P6(m,b,_,M,L,B){var K=m.memoizedState;K===null?m.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:L,treeForkCount:B}:(K.isBackwards=b,K.rendering=null,K.renderingStartTime=0,K.last=M,K.tail=_,K.tailMode=L,K.treeForkCount=B)}function Ose(m,b,_){var M=b.pendingProps,L=M.revealOrder,B=M.tail;M=M.children;var K=So.current,pe=(K&2)!==0;if(pe?(K=K&1|2,b.flags|=128):K&=1,X(So,K),Os(m,b,M,_),M=yr?FC:0,!pe&&m!==null&&(m.flags&128)!==0)e:for(m=b.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Dse(m,_,b);else if(m.tag===19)Dse(m,_,b);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===b)break e;for(;m.sibling===null;){if(m.return===null||m.return===b)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}switch(L){case"forwards":for(_=b.child,L=null;_!==null;)m=_.alternate,m!==null&&sP(m)===null&&(L=_),_=_.sibling;_=L,_===null?(L=b.child,b.child=null):(L=_.sibling,_.sibling=null),P6(b,!1,L,_,B,M);break;case"backwards":case"unstable_legacy-backwards":for(_=null,L=b.child,b.child=null;L!==null;){if(m=L.alternate,m!==null&&sP(m)===null){b.child=L;break}m=L.sibling,L.sibling=_,_=L,L=m}P6(b,!0,_,null,B,M);break;case"together":P6(b,!1,null,null,void 0,M);break;default:b.memoizedState=null}return b.child}function Fp(m,b,_){if(m!==null&&(b.dependencies=m.dependencies),Pg|=b.lanes,(_&b.childLanes)===0)if(m!==null){if(Lx(m,b,_,!1),(_&b.childLanes)===0)return null}else return null;if(m!==null&&b.child!==m.child)throw Error(r(153));if(b.child!==null){for(m=b.child,_=Pp(m,m.pendingProps),b.child=_,_.return=b;m.sibling!==null;)m=m.sibling,_=_.sibling=Pp(m,m.pendingProps),_.return=b;_.sibling=null}return b.child}function D6(m,b){return(m.lanes&b)!==0?!0:(m=m.dependencies,!!(m!==null&&QA(m)))}function fUe(m,b,_){switch(b.tag){case 3:ce(b,b.stateNode.containerInfo),_g(b,Io,m.memoizedState.cache),ay();break;case 27:case 5:ge(b);break;case 4:ce(b,b.stateNode.containerInfo);break;case 10:_g(b,b.type,b.memoizedProps.value);break;case 31:if(b.memoizedState!==null)return b.flags|=128,r6(b),null;break;case 13:var M=b.memoizedState;if(M!==null)return M.dehydrated!==null?(Tg(b),b.flags|=128,null):(_&b.child.childLanes)!==0?Pse(m,b,_):(Tg(b),m=Fp(m,b,_),m!==null?m.sibling:null);Tg(b);break;case 19:var L=(m.flags&128)!==0;if(M=(_&b.childLanes)!==0,M||(Lx(m,b,_,!1),M=(_&b.childLanes)!==0),L){if(M)return Ose(m,b,_);b.flags|=128}if(L=b.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),X(So,So.current),M)break;return null;case 22:return b.lanes=0,kse(m,b,_,b.pendingProps);case 24:_g(b,Io,m.memoizedState.cache)}return Fp(m,b,_)}function Ise(m,b,_){if(m!==null)if(m.memoizedProps!==b.pendingProps)$o=!0;else{if(!D6(m,_)&&(b.flags&128)===0)return $o=!1,fUe(m,b,_);$o=(m.flags&131072)!==0}else $o=!1,yr&&(b.flags&1048576)!==0&&foe(b,FC,b.index);switch(b.lanes=0,b.tag){case 16:e:{var M=b.pendingProps;if(m=dy(b.elementType),b.type=m,typeof m=="function")Fz(m)?(M=gy(m,M),b.tag=1,b=Mse(null,b,m,M,_)):(b.tag=0,b=k6(null,b,m,M,_));else{if(m!=null){var L=m.$$typeof;if(L===C){b.tag=11,b=Sse(null,b,m,M,_);break e}else if(L===E){b.tag=14,b=_se(null,b,m,M,_);break e}}throw b=D(m)||m,Error(r(306,b,""))}}return b;case 0:return k6(m,b,b.type,b.pendingProps,_);case 1:return M=b.type,L=gy(M,b.pendingProps),Mse(m,b,M,L,_);case 3:e:{if(ce(b,b.stateNode.containerInfo),m===null)throw Error(r(387));M=b.pendingProps;var B=b.memoizedState;L=B.element,Qz(m,b),WC(b,M,null,_);var K=b.memoizedState;if(M=K.cache,_g(b,Io,M),M!==B.cache&&qz(b,[Io],_,!0),HC(),M=K.element,B.isDehydrated)if(B={element:M,isDehydrated:!1,cache:K.cache},b.updateQueue.baseState=B,b.memoizedState=B,b.flags&256){b=Ase(m,b,M,_);break e}else if(M!==L){L=Bc(Error(r(424)),b),LC(L),b=Ase(m,b,M,_);break e}else{switch(m=b.stateNode.containerInfo,m.nodeType){case 9:m=m.body;break;default:m=m.nodeName==="HTML"?m.ownerDocument.body:m}for(Ti=qc(m.firstChild),Ps=b,yr=!0,wg=null,Hc=!0,_=koe(b,null,M,_),b.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(ay(),M===L){b=Fp(m,b,_);break e}Os(m,b,M,_)}b=b.child}return b;case 26:return yP(m,b),m===null?(_=Wae(b.type,null,b.pendingProps,null))?b.memoizedState=_:yr||(_=b.type,m=b.pendingProps,M=IP(ne.current).createElement(_),M[Sn]=b,M[Zn]=m,Is(M,_,m),Er(M),b.stateNode=M):b.memoizedState=Wae(b.type,m.memoizedProps,b.pendingProps,m.memoizedState),null;case 27:return ge(b),m===null&&yr&&(M=b.stateNode=Uae(b.type,b.pendingProps,ne.current),Ps=b,Hc=!0,L=Ti,$g(b.type)?(dB=L,Ti=qc(M.firstChild)):Ti=L),Os(m,b,b.pendingProps.children,_),yP(m,b),m===null&&(b.flags|=4194304),b.child;case 5:return m===null&&yr&&((L=M=Ti)&&(M=UUe(M,b.type,b.pendingProps,Hc),M!==null?(b.stateNode=M,Ps=b,Ti=qc(M.firstChild),Hc=!1,L=!0):L=!1),L||Sg(b)),ge(b),L=b.type,B=b.pendingProps,K=m!==null?m.memoizedProps:null,M=B.children,sB(L,B)?M=null:K!==null&&sB(L,K)&&(b.flags|=32),b.memoizedState!==null&&(L=o6(m,b,rUe,null,null,_),d2._currentValue=L),yP(m,b),Os(m,b,M,_),b.child;case 6:return m===null&&yr&&((m=_=Ti)&&(_=VUe(_,b.pendingProps,Hc),_!==null?(b.stateNode=_,Ps=b,Ti=null,m=!0):m=!1),m||Sg(b)),null;case 13:return Pse(m,b,_);case 4:return ce(b,b.stateNode.containerInfo),M=b.pendingProps,m===null?b.child=py(b,null,M,_):Os(m,b,M,_),b.child;case 11:return Sse(m,b,b.type,b.pendingProps,_);case 7:return Os(m,b,b.pendingProps,_),b.child;case 8:return Os(m,b,b.pendingProps.children,_),b.child;case 12:return Os(m,b,b.pendingProps.children,_),b.child;case 10:return M=b.pendingProps,_g(b,b.type,M.value),Os(m,b,M.children,_),b.child;case 9:return L=b.type._context,M=b.pendingProps.children,cy(b),L=Ds(L),M=M(L),b.flags|=1,Os(m,b,M,_),b.child;case 14:return _se(m,b,b.type,b.pendingProps,_);case 15:return Cse(m,b,b.type,b.pendingProps,_);case 19:return Ose(m,b,_);case 31:return dUe(m,b,_);case 22:return kse(m,b,_,b.pendingProps);case 24:return cy(b),M=Ds(Io),m===null?(L=Xz(),L===null&&(L=fi,B=Gz(),L.pooledCache=B,B.refCount++,B!==null&&(L.pooledCacheLanes|=_),L=B),b.memoizedState={parent:M,cache:L},Zz(b),_g(b,Io,L)):((m.lanes&_)!==0&&(Qz(m,b),WC(b,null,null,_),HC()),L=m.memoizedState,B=b.memoizedState,L.parent!==M?(L={parent:M,cache:M},b.memoizedState=L,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=L),_g(b,Io,M)):(M=B.cache,_g(b,Io,M),M!==L.cache&&qz(b,[Io],_,!0))),Os(m,b,b.pendingProps.children,_),b.child;case 29:throw b.pendingProps}throw Error(r(156,b.tag))}function Lp(m){m.flags|=4}function O6(m,b,_,M,L){if((b=(m.mode&32)!==0)&&(b=!1),b){if(m.flags|=16777216,(L&335544128)===L)if(m.stateNode.complete)m.flags|=8192;else if(aae())m.flags|=8192;else throw fy=nP,Kz}else m.flags&=-16777217}function jse(m,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)m.flags&=-16777217;else if(m.flags|=16777216,!Kae(b))if(aae())m.flags|=8192;else throw fy=nP,Kz}function bP(m,b){b!==null&&(m.flags|=4),m.flags&16384&&(b=m.tag!==22?St():536870912,m.lanes|=b,Kx|=b)}function ZC(m,b){if(!yr)switch(m.tailMode){case"hidden":b=m.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?m.tail=null:_.sibling=null;break;case"collapsed":_=m.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?b||m.tail===null?m.tail=null:m.tail.sibling=null:M.sibling=null}}function Ri(m){var b=m.alternate!==null&&m.alternate.child===m.child,_=0,M=0;if(b)for(var L=m.child;L!==null;)_|=L.lanes|L.childLanes,M|=L.subtreeFlags&65011712,M|=L.flags&65011712,L.return=m,L=L.sibling;else for(L=m.child;L!==null;)_|=L.lanes|L.childLanes,M|=L.subtreeFlags,M|=L.flags,L.return=m,L=L.sibling;return m.subtreeFlags|=M,m.childLanes=_,b}function pUe(m,b,_){var M=b.pendingProps;switch(Bz(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(b),null;case 1:return Ri(b),null;case 3:return _=b.stateNode,M=null,m!==null&&(M=m.memoizedState.cache),b.memoizedState.cache!==M&&(b.flags|=2048),Ip(Io),re(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(m===null||m.child===null)&&(Fx(b)?Lp(b):m===null||m.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,Vz())),Ri(b),null;case 26:var L=b.type,B=b.memoizedState;return m===null?(Lp(b),B!==null?(Ri(b),jse(b,B)):(Ri(b),O6(b,L,null,M,_))):B?B!==m.memoizedState?(Lp(b),Ri(b),jse(b,B)):(Ri(b),b.flags&=-16777217):(m=m.memoizedProps,m!==M&&Lp(b),Ri(b),O6(b,L,m,M,_)),null;case 27:if(he(b),_=ne.current,L=b.type,m!==null&&b.stateNode!=null)m.memoizedProps!==M&&Lp(b);else{if(!M){if(b.stateNode===null)throw Error(r(166));return Ri(b),null}m=Q.current,Fx(b)?hoe(b):(m=Uae(L,M,_),b.stateNode=m,Lp(b))}return Ri(b),null;case 5:if(he(b),L=b.type,m!==null&&b.stateNode!=null)m.memoizedProps!==M&&Lp(b);else{if(!M){if(b.stateNode===null)throw Error(r(166));return Ri(b),null}if(B=Q.current,Fx(b))hoe(b);else{var K=IP(ne.current);switch(B){case 1:B=K.createElementNS("http://www.w3.org/2000/svg",L);break;case 2:B=K.createElementNS("http://www.w3.org/1998/Math/MathML",L);break;default:switch(L){case"svg":B=K.createElementNS("http://www.w3.org/2000/svg",L);break;case"math":B=K.createElementNS("http://www.w3.org/1998/Math/MathML",L);break;case"script":B=K.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof M.is=="string"?K.createElement("select",{is:M.is}):K.createElement("select"),M.multiple?B.multiple=!0:M.size&&(B.size=M.size);break;default:B=typeof M.is=="string"?K.createElement(L,{is:M.is}):K.createElement(L)}}B[Sn]=b,B[Zn]=M;e:for(K=b.child;K!==null;){if(K.tag===5||K.tag===6)B.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===b)break e;for(;K.sibling===null;){if(K.return===null||K.return===b)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}b.stateNode=B;e:switch(Is(B,L,M),L){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}M&&Lp(b)}}return Ri(b),O6(b,b.type,m===null?null:m.memoizedProps,b.pendingProps,_),null;case 6:if(m&&b.stateNode!=null)m.memoizedProps!==M&&Lp(b);else{if(typeof M!="string"&&b.stateNode===null)throw Error(r(166));if(m=ne.current,Fx(b)){if(m=b.stateNode,_=b.memoizedProps,M=null,L=Ps,L!==null)switch(L.tag){case 27:case 5:M=L.memoizedProps}m[Sn]=b,m=!!(m.nodeValue===_||M!==null&&M.suppressHydrationWarning===!0||Pae(m.nodeValue,_)),m||Sg(b,!0)}else m=IP(m).createTextNode(M),m[Sn]=b,b.stateNode=m}return Ri(b),null;case 31:if(_=b.memoizedState,m===null||m.memoizedState!==null){if(M=Fx(b),_!==null){if(m===null){if(!M)throw Error(r(318));if(m=b.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(557));m[Sn]=b}else ay(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Ri(b),m=!1}else _=Vz(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=_),m=!0;if(!m)return b.flags&256?(Zl(b),b):(Zl(b),null);if((b.flags&128)!==0)throw Error(r(558))}return Ri(b),null;case 13:if(M=b.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(L=Fx(b),M!==null&&M.dehydrated!==null){if(m===null){if(!L)throw Error(r(318));if(L=b.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[Sn]=b}else ay(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Ri(b),L=!1}else L=Vz(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=L),L=!0;if(!L)return b.flags&256?(Zl(b),b):(Zl(b),null)}return Zl(b),(b.flags&128)!==0?(b.lanes=_,b):(_=M!==null,m=m!==null&&m.memoizedState!==null,_&&(M=b.child,L=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(L=M.alternate.memoizedState.cachePool.pool),B=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(B=M.memoizedState.cachePool.pool),B!==L&&(M.flags|=2048)),_!==m&&_&&(b.child.flags|=8192),bP(b,b.updateQueue),Ri(b),null);case 4:return re(),m===null&&tB(b.stateNode.containerInfo),Ri(b),null;case 10:return Ip(b.type),Ri(b),null;case 19:if(W(So),M=b.memoizedState,M===null)return Ri(b),null;if(L=(b.flags&128)!==0,B=M.rendering,B===null)if(L)ZC(M,!1);else{if(oo!==0||m!==null&&(m.flags&128)!==0)for(m=b.child;m!==null;){if(B=sP(m),B!==null){for(b.flags|=128,ZC(M,!1),m=B.updateQueue,b.updateQueue=m,bP(b,m),b.subtreeFlags=0,m=_,_=b.child;_!==null;)coe(_,m),_=_.sibling;return X(So,So.current&1|2),yr&&Dp(b,M.treeForkCount),b.child}m=m.sibling}M.tail!==null&&ye()>CP&&(b.flags|=128,L=!0,ZC(M,!1),b.lanes=4194304)}else{if(!L)if(m=sP(B),m!==null){if(b.flags|=128,L=!0,m=m.updateQueue,b.updateQueue=m,bP(b,m),ZC(M,!0),M.tail===null&&M.tailMode==="hidden"&&!B.alternate&&!yr)return Ri(b),null}else 2*ye()-M.renderingStartTime>CP&&_!==536870912&&(b.flags|=128,L=!0,ZC(M,!1),b.lanes=4194304);M.isBackwards?(B.sibling=b.child,b.child=B):(m=M.last,m!==null?m.sibling=B:b.child=B,M.last=B)}return M.tail!==null?(m=M.tail,M.rendering=m,M.tail=m.sibling,M.renderingStartTime=ye(),m.sibling=null,_=So.current,X(So,L?_&1|2:_&1),yr&&Dp(b,M.treeForkCount),m):(Ri(b),null);case 22:case 23:return Zl(b),n6(),M=b.memoizedState!==null,m!==null?m.memoizedState!==null!==M&&(b.flags|=8192):M&&(b.flags|=8192),M?(_&536870912)!==0&&(b.flags&128)===0&&(Ri(b),b.subtreeFlags&6&&(b.flags|=8192)):Ri(b),_=b.updateQueue,_!==null&&bP(b,_.retryQueue),_=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),M=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==_&&(b.flags|=2048),m!==null&&W(uy),null;case 24:return _=null,m!==null&&(_=m.memoizedState.cache),b.memoizedState.cache!==_&&(b.flags|=2048),Ip(Io),Ri(b),null;case 25:return null;case 30:return null}throw Error(r(156,b.tag))}function hUe(m,b){switch(Bz(b),b.tag){case 1:return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 3:return Ip(Io),re(),m=b.flags,(m&65536)!==0&&(m&128)===0?(b.flags=m&-65537|128,b):null;case 26:case 27:case 5:return he(b),null;case 31:if(b.memoizedState!==null){if(Zl(b),b.alternate===null)throw Error(r(340));ay()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 13:if(Zl(b),m=b.memoizedState,m!==null&&m.dehydrated!==null){if(b.alternate===null)throw Error(r(340));ay()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 19:return W(So),null;case 4:return re(),null;case 10:return Ip(b.type),null;case 22:case 23:return Zl(b),n6(),m!==null&&W(uy),m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 24:return Ip(Io),null;case 25:return null;default:return null}}function $se(m,b){switch(Bz(b),b.tag){case 3:Ip(Io),re();break;case 26:case 27:case 5:he(b);break;case 4:re();break;case 31:b.memoizedState!==null&&Zl(b);break;case 13:Zl(b);break;case 19:W(So);break;case 10:Ip(b.type);break;case 22:case 23:Zl(b),n6(),m!==null&&W(uy);break;case 24:Ip(Io)}}function QC(m,b){try{var _=b.updateQueue,M=_!==null?_.lastEffect:null;if(M!==null){var L=M.next;_=L;do{if((_.tag&m)===m){M=void 0;var B=_.create,K=_.inst;M=B(),K.destroy=M}_=_.next}while(_!==L)}}catch(pe){Qr(b,b.return,pe)}}function Mg(m,b,_){try{var M=b.updateQueue,L=M!==null?M.lastEffect:null;if(L!==null){var B=L.next;M=B;do{if((M.tag&m)===m){var K=M.inst,pe=K.destroy;if(pe!==void 0){K.destroy=void 0,L=b;var Ce=_,Ie=pe;try{Ie()}catch(Ye){Qr(L,Ce,Ye)}}}M=M.next}while(M!==B)}}catch(Ye){Qr(b,b.return,Ye)}}function Fse(m){var b=m.updateQueue;if(b!==null){var _=m.stateNode;try{Toe(b,_)}catch(M){Qr(m,m.return,M)}}}function Lse(m,b,_){_.props=gy(m.type,m.memoizedProps),_.state=m.memoizedState;try{_.componentWillUnmount()}catch(M){Qr(m,b,M)}}function JC(m,b){try{var _=m.ref;if(_!==null){switch(m.tag){case 26:case 27:case 5:var M=m.stateNode;break;case 30:M=m.stateNode;break;default:M=m.stateNode}typeof _=="function"?m.refCleanup=_(M):_.current=M}}catch(L){Qr(m,b,L)}}function sf(m,b){var _=m.ref,M=m.refCleanup;if(_!==null)if(typeof M=="function")try{M()}catch(L){Qr(m,b,L)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(L){Qr(m,b,L)}else _.current=null}function Nse(m){var b=m.type,_=m.memoizedProps,M=m.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":_.autoFocus&&M.focus();break e;case"img":_.src?M.src=_.src:_.srcSet&&(M.srcset=_.srcSet)}}catch(L){Qr(m,m.return,L)}}function I6(m,b,_){try{var M=m.stateNode;$Ue(M,m.type,_,b),M[Zn]=b}catch(L){Qr(m,m.return,L)}}function zse(m){return m.tag===5||m.tag===3||m.tag===26||m.tag===27&&$g(m.type)||m.tag===4}function j6(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||zse(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.tag===27&&$g(m.type)||m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function $6(m,b,_){var M=m.tag;if(M===5||M===6)m=m.stateNode,b?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(m,b):(b=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,b.appendChild(m),_=_._reactRootContainer,_!=null||b.onclick!==null||(b.onclick=Mp));else if(M!==4&&(M===27&&$g(m.type)&&(_=m.stateNode,b=null),m=m.child,m!==null))for($6(m,b,_),m=m.sibling;m!==null;)$6(m,b,_),m=m.sibling}function xP(m,b,_){var M=m.tag;if(M===5||M===6)m=m.stateNode,b?_.insertBefore(m,b):_.appendChild(m);else if(M!==4&&(M===27&&$g(m.type)&&(_=m.stateNode),m=m.child,m!==null))for(xP(m,b,_),m=m.sibling;m!==null;)xP(m,b,_),m=m.sibling}function Bse(m){var b=m.stateNode,_=m.memoizedProps;try{for(var M=m.type,L=b.attributes;L.length;)b.removeAttributeNode(L[0]);Is(b,M,_),b[Sn]=m,b[Zn]=_}catch(B){Qr(m,m.return,B)}}var Np=!1,Fo=!1,F6=!1,Use=typeof WeakSet=="function"?WeakSet:Set,ps=null;function gUe(m,b){if(m=m.containerInfo,iB=BP,m=eoe(m),Az(m)){if("selectionStart"in m)var _={start:m.selectionStart,end:m.selectionEnd};else e:{_=(_=m.ownerDocument)&&_.defaultView||window;var M=_.getSelection&&_.getSelection();if(M&&M.rangeCount!==0){_=M.anchorNode;var L=M.anchorOffset,B=M.focusNode;M=M.focusOffset;try{_.nodeType,B.nodeType}catch{_=null;break e}var K=0,pe=-1,Ce=-1,Ie=0,Ye=0,it=m,Fe=null;t:for(;;){for(var ze;it!==_||L!==0&&it.nodeType!==3||(pe=K+L),it!==B||M!==0&&it.nodeType!==3||(Ce=K+M),it.nodeType===3&&(K+=it.nodeValue.length),(ze=it.firstChild)!==null;)Fe=it,it=ze;for(;;){if(it===m)break t;if(Fe===_&&++Ie===L&&(pe=K),Fe===B&&++Ye===M&&(Ce=K),(ze=it.nextSibling)!==null)break;it=Fe,Fe=it.parentNode}it=ze}_=pe===-1||Ce===-1?null:{start:pe,end:Ce}}else _=null}_=_||{start:0,end:0}}else _=null;for(oB={focusedElem:m,selectionRange:_},BP=!1,ps=b;ps!==null;)if(b=ps,m=b.child,(b.subtreeFlags&1028)!==0&&m!==null)m.return=b,ps=m;else for(;ps!==null;){switch(b=ps,B=b.alternate,m=b.flags,b.tag){case 0:if((m&4)!==0&&(m=b.updateQueue,m=m!==null?m.events:null,m!==null))for(_=0;_<m.length;_++)L=m[_],L.ref.impl=L.nextImpl;break;case 11:case 15:break;case 1:if((m&1024)!==0&&B!==null){m=void 0,_=b,L=B.memoizedProps,B=B.memoizedState,M=_.stateNode;try{var Kt=gy(_.type,L);m=M.getSnapshotBeforeUpdate(Kt,B),M.__reactInternalSnapshotBeforeUpdate=m}catch(_n){Qr(_,_.return,_n)}}break;case 3:if((m&1024)!==0){if(m=b.stateNode.containerInfo,_=m.nodeType,_===9)lB(m);else if(_===1)switch(m.nodeName){case"HEAD":case"HTML":case"BODY":lB(m);break;default:m.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=b.sibling,m!==null){m.return=b.return,ps=m;break}ps=b.return}}function Vse(m,b,_){var M=_.flags;switch(_.tag){case 0:case 11:case 15:Bp(m,_),M&4&&QC(5,_);break;case 1:if(Bp(m,_),M&4)if(m=_.stateNode,b===null)try{m.componentDidMount()}catch(K){Qr(_,_.return,K)}else{var L=gy(_.type,b.memoizedProps);b=b.memoizedState;try{m.componentDidUpdate(L,b,m.__reactInternalSnapshotBeforeUpdate)}catch(K){Qr(_,_.return,K)}}M&64&&Fse(_),M&512&&JC(_,_.return);break;case 3:if(Bp(m,_),M&64&&(m=_.updateQueue,m!==null)){if(b=null,_.child!==null)switch(_.child.tag){case 27:case 5:b=_.child.stateNode;break;case 1:b=_.child.stateNode}try{Toe(m,b)}catch(K){Qr(_,_.return,K)}}break;case 27:b===null&&M&4&&Bse(_);case 26:case 5:Bp(m,_),b===null&&M&4&&Nse(_),M&512&&JC(_,_.return);break;case 12:Bp(m,_);break;case 31:Bp(m,_),M&4&&qse(m,_);break;case 13:Bp(m,_),M&4&&Gse(m,_),M&64&&(m=_.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&(_=CUe.bind(null,_),HUe(m,_))));break;case 22:if(M=_.memoizedState!==null||Np,!M){b=b!==null&&b.memoizedState!==null||Fo,L=Np;var B=Fo;Np=M,(Fo=b)&&!B?Up(m,_,(_.subtreeFlags&8772)!==0):Bp(m,_),Np=L,Fo=B}break;case 30:break;default:Bp(m,_)}}function Hse(m){var b=m.alternate;b!==null&&(m.alternate=null,Hse(b)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(b=m.stateNode,b!==null&&Nt(b)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}var Ni=null,sl=!1;function zp(m,b,_){for(_=_.child;_!==null;)Wse(m,b,_),_=_.sibling}function Wse(m,b,_){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Re,_)}catch{}switch(_.tag){case 26:Fo||sf(_,b),zp(m,b,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Fo||sf(_,b);var M=Ni,L=sl;$g(_.type)&&(Ni=_.stateNode,sl=!1),zp(m,b,_),l2(_.stateNode),Ni=M,sl=L;break;case 5:Fo||sf(_,b);case 6:if(M=Ni,L=sl,Ni=null,zp(m,b,_),Ni=M,sl=L,Ni!==null)if(sl)try{(Ni.nodeType===9?Ni.body:Ni.nodeName==="HTML"?Ni.ownerDocument.body:Ni).removeChild(_.stateNode)}catch(B){Qr(_,b,B)}else try{Ni.removeChild(_.stateNode)}catch(B){Qr(_,b,B)}break;case 18:Ni!==null&&(sl?(m=Ni,Fae(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,_.stateNode),i1(m)):Fae(Ni,_.stateNode));break;case 4:M=Ni,L=sl,Ni=_.stateNode.containerInfo,sl=!0,zp(m,b,_),Ni=M,sl=L;break;case 0:case 11:case 14:case 15:Mg(2,_,b),Fo||Mg(4,_,b),zp(m,b,_);break;case 1:Fo||(sf(_,b),M=_.stateNode,typeof M.componentWillUnmount=="function"&&Lse(_,b,M)),zp(m,b,_);break;case 21:zp(m,b,_);break;case 22:Fo=(M=Fo)||_.memoizedState!==null,zp(m,b,_),Fo=M;break;default:zp(m,b,_)}}function qse(m,b){if(b.memoizedState===null&&(m=b.alternate,m!==null&&(m=m.memoizedState,m!==null))){m=m.dehydrated;try{i1(m)}catch(_){Qr(b,b.return,_)}}}function Gse(m,b){if(b.memoizedState===null&&(m=b.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{i1(m)}catch(_){Qr(b,b.return,_)}}function mUe(m){switch(m.tag){case 31:case 13:case 19:var b=m.stateNode;return b===null&&(b=m.stateNode=new Use),b;case 22:return m=m.stateNode,b=m._retryCache,b===null&&(b=m._retryCache=new Use),b;default:throw Error(r(435,m.tag))}}function wP(m,b){var _=mUe(m);b.forEach(function(M){if(!_.has(M)){_.add(M);var L=kUe.bind(null,m,M);M.then(L,L)}})}function al(m,b){var _=b.deletions;if(_!==null)for(var M=0;M<_.length;M++){var L=_[M],B=m,K=b,pe=K;e:for(;pe!==null;){switch(pe.tag){case 27:if($g(pe.type)){Ni=pe.stateNode,sl=!1;break e}break;case 5:Ni=pe.stateNode,sl=!1;break e;case 3:case 4:Ni=pe.stateNode.containerInfo,sl=!0;break e}pe=pe.return}if(Ni===null)throw Error(r(160));Wse(B,K,L),Ni=null,sl=!1,B=L.alternate,B!==null&&(B.return=null),L.return=null}if(b.subtreeFlags&13886)for(b=b.child;b!==null;)Yse(b,m),b=b.sibling}var Ku=null;function Yse(m,b){var _=m.alternate,M=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:al(b,m),ll(m),M&4&&(Mg(3,m,m.return),QC(3,m),Mg(5,m,m.return));break;case 1:al(b,m),ll(m),M&512&&(Fo||_===null||sf(_,_.return)),M&64&&Np&&(m=m.updateQueue,m!==null&&(M=m.callbacks,M!==null&&(_=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=_===null?M:_.concat(M))));break;case 26:var L=Ku;if(al(b,m),ll(m),M&512&&(Fo||_===null||sf(_,_.return)),M&4){var B=_!==null?_.memoizedState:null;if(M=m.memoizedState,_===null)if(M===null)if(m.stateNode===null){e:{M=m.type,_=m.memoizedProps,L=L.ownerDocument||L;t:switch(M){case"title":B=L.getElementsByTagName("title")[0],(!B||B[We]||B[Sn]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=L.createElement(M),L.head.insertBefore(B,L.querySelector("head > title"))),Is(B,M,_),B[Sn]=m,Er(B),M=B;break e;case"link":var K=Yae("link","href",L).get(M+(_.href||""));if(K){for(var pe=0;pe<K.length;pe++)if(B=K[pe],B.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&B.getAttribute("rel")===(_.rel==null?null:_.rel)&&B.getAttribute("title")===(_.title==null?null:_.title)&&B.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){K.splice(pe,1);break t}}B=L.createElement(M),Is(B,M,_),L.head.appendChild(B);break;case"meta":if(K=Yae("meta","content",L).get(M+(_.content||""))){for(pe=0;pe<K.length;pe++)if(B=K[pe],B.getAttribute("content")===(_.content==null?null:""+_.content)&&B.getAttribute("name")===(_.name==null?null:_.name)&&B.getAttribute("property")===(_.property==null?null:_.property)&&B.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&B.getAttribute("charset")===(_.charSet==null?null:_.charSet)){K.splice(pe,1);break t}}B=L.createElement(M),Is(B,M,_),L.head.appendChild(B);break;default:throw Error(r(468,M))}B[Sn]=m,Er(B),M=B}m.stateNode=M}else Xae(L,m.type,m.stateNode);else m.stateNode=Gae(L,M,m.memoizedProps);else B!==M?(B===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):B.count--,M===null?Xae(L,m.type,m.stateNode):Gae(L,M,m.memoizedProps)):M===null&&m.stateNode!==null&&I6(m,m.memoizedProps,_.memoizedProps)}break;case 27:al(b,m),ll(m),M&512&&(Fo||_===null||sf(_,_.return)),_!==null&&M&4&&I6(m,m.memoizedProps,_.memoizedProps);break;case 5:if(al(b,m),ll(m),M&512&&(Fo||_===null||sf(_,_.return)),m.flags&32){L=m.stateNode;try{Tx(L,"")}catch(Kt){Qr(m,m.return,Kt)}}M&4&&m.stateNode!=null&&(L=m.memoizedProps,I6(m,L,_!==null?_.memoizedProps:L)),M&1024&&(F6=!0);break;case 6:if(al(b,m),ll(m),M&4){if(m.stateNode===null)throw Error(r(162));M=m.memoizedProps,_=m.stateNode;try{_.nodeValue=M}catch(Kt){Qr(m,m.return,Kt)}}break;case 3:if(FP=null,L=Ku,Ku=jP(b.containerInfo),al(b,m),Ku=L,ll(m),M&4&&_!==null&&_.memoizedState.isDehydrated)try{i1(b.containerInfo)}catch(Kt){Qr(m,m.return,Kt)}F6&&(F6=!1,Xse(m));break;case 4:M=Ku,Ku=jP(m.stateNode.containerInfo),al(b,m),ll(m),Ku=M;break;case 12:al(b,m),ll(m);break;case 31:al(b,m),ll(m),M&4&&(M=m.updateQueue,M!==null&&(m.updateQueue=null,wP(m,M)));break;case 13:al(b,m),ll(m),m.child.flags&8192&&m.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(_P=ye()),M&4&&(M=m.updateQueue,M!==null&&(m.updateQueue=null,wP(m,M)));break;case 22:L=m.memoizedState!==null;var Ce=_!==null&&_.memoizedState!==null,Ie=Np,Ye=Fo;if(Np=Ie||L,Fo=Ye||Ce,al(b,m),Fo=Ye,Np=Ie,ll(m),M&8192)e:for(b=m.stateNode,b._visibility=L?b._visibility&-2:b._visibility|1,L&&(_===null||Ce||Np||Fo||my(m)),_=null,b=m;;){if(b.tag===5||b.tag===26){if(_===null){Ce=_=b;try{if(B=Ce.stateNode,L)K=B.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{pe=Ce.stateNode;var it=Ce.memoizedProps.style,Fe=it!=null&&it.hasOwnProperty("display")?it.display:null;pe.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(Kt){Qr(Ce,Ce.return,Kt)}}}else if(b.tag===6){if(_===null){Ce=b;try{Ce.stateNode.nodeValue=L?"":Ce.memoizedProps}catch(Kt){Qr(Ce,Ce.return,Kt)}}}else if(b.tag===18){if(_===null){Ce=b;try{var ze=Ce.stateNode;L?Lae(ze,!0):Lae(Ce.stateNode,!1)}catch(Kt){Qr(Ce,Ce.return,Kt)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===m)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break e;for(;b.sibling===null;){if(b.return===null||b.return===m)break e;_===b&&(_=null),b=b.return}_===b&&(_=null),b.sibling.return=b.return,b=b.sibling}M&4&&(M=m.updateQueue,M!==null&&(_=M.retryQueue,_!==null&&(M.retryQueue=null,wP(m,_))));break;case 19:al(b,m),ll(m),M&4&&(M=m.updateQueue,M!==null&&(m.updateQueue=null,wP(m,M)));break;case 30:break;case 21:break;default:al(b,m),ll(m)}}function ll(m){var b=m.flags;if(b&2){try{for(var _,M=m.return;M!==null;){if(zse(M)){_=M;break}M=M.return}if(_==null)throw Error(r(160));switch(_.tag){case 27:var L=_.stateNode,B=j6(m);xP(m,B,L);break;case 5:var K=_.stateNode;_.flags&32&&(Tx(K,""),_.flags&=-33);var pe=j6(m);xP(m,pe,K);break;case 3:case 4:var Ce=_.stateNode.containerInfo,Ie=j6(m);$6(m,Ie,Ce);break;default:throw Error(r(161))}}catch(Ye){Qr(m,m.return,Ye)}m.flags&=-3}b&4096&&(m.flags&=-4097)}function Xse(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var b=m;Xse(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),m=m.sibling}}function Bp(m,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)Vse(m,b.alternate,b),b=b.sibling}function my(m){for(m=m.child;m!==null;){var b=m;switch(b.tag){case 0:case 11:case 14:case 15:Mg(4,b,b.return),my(b);break;case 1:sf(b,b.return);var _=b.stateNode;typeof _.componentWillUnmount=="function"&&Lse(b,b.return,_),my(b);break;case 27:l2(b.stateNode);case 26:case 5:sf(b,b.return),my(b);break;case 22:b.memoizedState===null&&my(b);break;case 30:my(b);break;default:my(b)}m=m.sibling}}function Up(m,b,_){for(_=_&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var M=b.alternate,L=m,B=b,K=B.flags;switch(B.tag){case 0:case 11:case 15:Up(L,B,_),QC(4,B);break;case 1:if(Up(L,B,_),M=B,L=M.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Ie){Qr(M,M.return,Ie)}if(M=B,L=M.updateQueue,L!==null){var pe=M.stateNode;try{var Ce=L.shared.hiddenCallbacks;if(Ce!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Ce.length;L++)Eoe(Ce[L],pe)}catch(Ie){Qr(M,M.return,Ie)}}_&&K&64&&Fse(B),JC(B,B.return);break;case 27:Bse(B);case 26:case 5:Up(L,B,_),_&&M===null&&K&4&&Nse(B),JC(B,B.return);break;case 12:Up(L,B,_);break;case 31:Up(L,B,_),_&&K&4&&qse(L,B);break;case 13:Up(L,B,_),_&&K&4&&Gse(L,B);break;case 22:B.memoizedState===null&&Up(L,B,_),JC(B,B.return);break;case 30:break;default:Up(L,B,_)}b=b.sibling}}function L6(m,b){var _=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),m=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(m=b.memoizedState.cachePool.pool),m!==_&&(m!=null&&m.refCount++,_!=null&&NC(_))}function N6(m,b){m=null,b.alternate!==null&&(m=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==m&&(b.refCount++,m!=null&&NC(m))}function Zu(m,b,_,M){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)Kse(m,b,_,M),b=b.sibling}function Kse(m,b,_,M){var L=b.flags;switch(b.tag){case 0:case 11:case 15:Zu(m,b,_,M),L&2048&&QC(9,b);break;case 1:Zu(m,b,_,M);break;case 3:Zu(m,b,_,M),L&2048&&(m=null,b.alternate!==null&&(m=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==m&&(b.refCount++,m!=null&&NC(m)));break;case 12:if(L&2048){Zu(m,b,_,M),m=b.stateNode;try{var B=b.memoizedProps,K=B.id,pe=B.onPostCommit;typeof pe=="function"&&pe(K,b.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Ce){Qr(b,b.return,Ce)}}else Zu(m,b,_,M);break;case 31:Zu(m,b,_,M);break;case 13:Zu(m,b,_,M);break;case 23:break;case 22:B=b.stateNode,K=b.alternate,b.memoizedState!==null?B._visibility&2?Zu(m,b,_,M):e2(m,b):B._visibility&2?Zu(m,b,_,M):(B._visibility|=2,Gx(m,b,_,M,(b.subtreeFlags&10256)!==0||!1)),L&2048&&L6(K,b);break;case 24:Zu(m,b,_,M),L&2048&&N6(b.alternate,b);break;default:Zu(m,b,_,M)}}function Gx(m,b,_,M,L){for(L=L&&((b.subtreeFlags&10256)!==0||!1),b=b.child;b!==null;){var B=m,K=b,pe=_,Ce=M,Ie=K.flags;switch(K.tag){case 0:case 11:case 15:Gx(B,K,pe,Ce,L),QC(8,K);break;case 23:break;case 22:var Ye=K.stateNode;K.memoizedState!==null?Ye._visibility&2?Gx(B,K,pe,Ce,L):e2(B,K):(Ye._visibility|=2,Gx(B,K,pe,Ce,L)),L&&Ie&2048&&L6(K.alternate,K);break;case 24:Gx(B,K,pe,Ce,L),L&&Ie&2048&&N6(K.alternate,K);break;default:Gx(B,K,pe,Ce,L)}b=b.sibling}}function e2(m,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var _=m,M=b,L=M.flags;switch(M.tag){case 22:e2(_,M),L&2048&&L6(M.alternate,M);break;case 24:e2(_,M),L&2048&&N6(M.alternate,M);break;default:e2(_,M)}b=b.sibling}}var t2=8192;function Yx(m,b,_){if(m.subtreeFlags&t2)for(m=m.child;m!==null;)Zse(m,b,_),m=m.sibling}function Zse(m,b,_){switch(m.tag){case 26:Yx(m,b,_),m.flags&t2&&m.memoizedState!==null&&nVe(_,Ku,m.memoizedState,m.memoizedProps);break;case 5:Yx(m,b,_);break;case 3:case 4:var M=Ku;Ku=jP(m.stateNode.containerInfo),Yx(m,b,_),Ku=M;break;case 22:m.memoizedState===null&&(M=m.alternate,M!==null&&M.memoizedState!==null?(M=t2,t2=16777216,Yx(m,b,_),t2=M):Yx(m,b,_));break;default:Yx(m,b,_)}}function Qse(m){var b=m.alternate;if(b!==null&&(m=b.child,m!==null)){b.child=null;do b=m.sibling,m.sibling=null,m=b;while(m!==null)}}function n2(m){var b=m.deletions;if((m.flags&16)!==0){if(b!==null)for(var _=0;_<b.length;_++){var M=b[_];ps=M,eae(M,m)}Qse(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Jse(m),m=m.sibling}function Jse(m){switch(m.tag){case 0:case 11:case 15:n2(m),m.flags&2048&&Mg(9,m,m.return);break;case 3:n2(m);break;case 12:n2(m);break;case 22:var b=m.stateNode;m.memoizedState!==null&&b._visibility&2&&(m.return===null||m.return.tag!==13)?(b._visibility&=-3,SP(m)):n2(m);break;default:n2(m)}}function SP(m){var b=m.deletions;if((m.flags&16)!==0){if(b!==null)for(var _=0;_<b.length;_++){var M=b[_];ps=M,eae(M,m)}Qse(m)}for(m=m.child;m!==null;){switch(b=m,b.tag){case 0:case 11:case 15:Mg(8,b,b.return),SP(b);break;case 22:_=b.stateNode,_._visibility&2&&(_._visibility&=-3,SP(b));break;default:SP(b)}m=m.sibling}}function eae(m,b){for(;ps!==null;){var _=ps;switch(_.tag){case 0:case 11:case 15:Mg(8,_,b);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var M=_.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:NC(_.memoizedState.cache)}if(M=_.child,M!==null)M.return=_,ps=M;else e:for(_=m;ps!==null;){M=ps;var L=M.sibling,B=M.return;if(Hse(M),M===_){ps=null;break e}if(L!==null){L.return=B,ps=L;break e}ps=B}}}var yUe={getCacheForType:function(m){var b=Ds(Io),_=b.data.get(m);return _===void 0&&(_=m(),b.data.set(m,_)),_},cacheSignal:function(){return Ds(Io).controller.signal}},vUe=typeof WeakMap=="function"?WeakMap:Map,$r=0,fi=null,or=null,fr=0,Zr=0,Ql=null,Ag=!1,Xx=!1,z6=!1,Vp=0,oo=0,Pg=0,yy=0,B6=0,Jl=0,Kx=0,r2=null,cl=null,U6=!1,_P=0,tae=0,CP=1/0,kP=null,Dg=null,Xo=0,Og=null,Zx=null,Hp=0,V6=0,H6=null,nae=null,i2=0,W6=null;function ec(){return($r&2)!==0&&fr!==0?fr&-fr:N.T!==null?Z6():Br()}function rae(){if(Jl===0)if((fr&536870912)===0||yr){var m=An;An<<=1,(An&3932160)===0&&(An=262144),Jl=m}else Jl=536870912;return m=Kl.current,m!==null&&(m.flags|=32),Jl}function ul(m,b,_){(m===fi&&(Zr===2||Zr===9)||m.cancelPendingCommit!==null)&&(Qx(m,0),Ig(m,fr,Jl,!1)),vt(m,_),(($r&2)===0||m!==fi)&&(m===fi&&(($r&2)===0&&(yy|=_),oo===4&&Ig(m,fr,Jl,!1)),af(m))}function iae(m,b,_){if(($r&6)!==0)throw Error(r(327));var M=!_&&(b&127)===0&&(b&m.expiredLanes)===0||ct(m,b),L=M?wUe(m,b):G6(m,b,!0),B=M;do{if(L===0){Xx&&!M&&Ig(m,b,0,!1);break}else{if(_=m.current.alternate,B&&!bUe(_)){L=G6(m,b,!1),B=!1;continue}if(L===2){if(B=b,m.errorRecoveryDisabledLanes&B)var K=0;else K=m.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){b=K;e:{var pe=m;L=r2;var Ce=pe.current.memoizedState.isDehydrated;if(Ce&&(Qx(pe,K).flags|=256),K=G6(pe,K,!1),K!==2){if(z6&&!Ce){pe.errorRecoveryDisabledLanes|=B,yy|=B,L=4;break e}B=cl,cl=L,B!==null&&(cl===null?cl=B:cl.push.apply(cl,B))}L=K}if(B=!1,L!==2)continue}}if(L===1){Qx(m,0),Ig(m,b,0,!0);break}e:{switch(M=m,B=L,B){case 0:case 1:throw Error(r(345));case 4:if((b&4194048)!==b)break;case 6:Ig(M,b,Jl,!Ag);break e;case 2:cl=null;break;case 3:case 5:break;default:throw Error(r(329))}if((b&62914560)===b&&(L=_P+300-ye(),10<L)){if(Ig(M,b,Jl,!Ag),ur(M,0,!0)!==0)break e;Hp=b,M.timeoutHandle=jae(oae.bind(null,M,_,cl,kP,U6,b,Jl,yy,Kx,Ag,B,"Throttled",-0,0),L);break e}oae(M,_,cl,kP,U6,b,Jl,yy,Kx,Ag,B,null,-0,0)}}break}while(!0);af(m)}function oae(m,b,_,M,L,B,K,pe,Ce,Ie,Ye,it,Fe,ze){if(m.timeoutHandle=-1,it=b.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mp},Zse(b,B,it);var Kt=(B&62914560)===B?_P-ye():(B&4194048)===B?tae-ye():0;if(Kt=rVe(it,Kt),Kt!==null){Hp=B,m.cancelPendingCommit=Kt(pae.bind(null,m,b,B,_,M,L,K,pe,Ce,Ye,it,null,Fe,ze)),Ig(m,B,K,!Ie);return}}pae(m,b,B,_,M,L,K,pe,Ce)}function bUe(m){for(var b=m;;){var _=b.tag;if((_===0||_===11||_===15)&&b.flags&16384&&(_=b.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var M=0;M<_.length;M++){var L=_[M],B=L.getSnapshot;L=L.value;try{if(!Yl(B(),L))return!1}catch{return!1}}if(_=b.child,b.subtreeFlags&16384&&_!==null)_.return=b,b=_;else{if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Ig(m,b,_,M){b&=~B6,b&=~yy,m.suspendedLanes|=b,m.pingedLanes&=~b,M&&(m.warmLanes|=b),M=m.expirationTimes;for(var L=b;0<L;){var B=31-Ct(L),K=1<<B;M[B]=-1,L&=~K}_!==0&&Pn(m,_,b)}function EP(){return($r&6)===0?(o2(0),!1):!0}function q6(){if(or!==null){if(Zr===0)var m=or.return;else m=or,Op=ly=null,l6(m),Ux=null,BC=0,m=or;for(;m!==null;)$se(m.alternate,m),m=m.return;or=null}}function Qx(m,b){var _=m.timeoutHandle;_!==-1&&(m.timeoutHandle=-1,NUe(_)),_=m.cancelPendingCommit,_!==null&&(m.cancelPendingCommit=null,_()),Hp=0,q6(),fi=m,or=_=Pp(m.current,null),fr=b,Zr=0,Ql=null,Ag=!1,Xx=ct(m,b),z6=!1,Kx=Jl=B6=yy=Pg=oo=0,cl=r2=null,U6=!1,(b&8)!==0&&(b|=b&32);var M=m.entangledLanes;if(M!==0)for(m=m.entanglements,M&=b;0<M;){var L=31-Ct(M),B=1<<L;b|=m[L],M&=~B}return Vp=b,GA(),_}function sae(m,b){Vn=null,N.H=XC,b===Bx||b===tP?(b=Soe(),Zr=3):b===Kz?(b=Soe(),Zr=4):Zr=b===C6?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,Ql=b,or===null&&(oo=1,gP(m,Bc(b,m.current)))}function aae(){var m=Kl.current;return m===null?!0:(fr&4194048)===fr?Wc===null:(fr&62914560)===fr||(fr&536870912)!==0?m===Wc:!1}function lae(){var m=N.H;return N.H=XC,m===null?XC:m}function cae(){var m=N.A;return N.A=yUe,m}function TP(){oo=4,Ag||(fr&4194048)!==fr&&Kl.current!==null||(Xx=!0),(Pg&134217727)===0&&(yy&134217727)===0||fi===null||Ig(fi,fr,Jl,!1)}function G6(m,b,_){var M=$r;$r|=2;var L=lae(),B=cae();(fi!==m||fr!==b)&&(kP=null,Qx(m,b)),b=!1;var K=oo;e:do try{if(Zr!==0&&or!==null){var pe=or,Ce=Ql;switch(Zr){case 8:q6(),K=6;break e;case 3:case 2:case 9:case 6:Kl.current===null&&(b=!0);var Ie=Zr;if(Zr=0,Ql=null,Jx(m,pe,Ce,Ie),_&&Xx){K=0;break e}break;default:Ie=Zr,Zr=0,Ql=null,Jx(m,pe,Ce,Ie)}}xUe(),K=oo;break}catch(Ye){sae(m,Ye)}while(!0);return b&&m.shellSuspendCounter++,Op=ly=null,$r=M,N.H=L,N.A=B,or===null&&(fi=null,fr=0,GA()),K}function xUe(){for(;or!==null;)uae(or)}function wUe(m,b){var _=$r;$r|=2;var M=lae(),L=cae();fi!==m||fr!==b?(kP=null,CP=ye()+500,Qx(m,b)):Xx=ct(m,b);e:do try{if(Zr!==0&&or!==null){b=or;var B=Ql;t:switch(Zr){case 1:Zr=0,Ql=null,Jx(m,b,B,1);break;case 2:case 9:if(xoe(B)){Zr=0,Ql=null,dae(b);break}b=function(){Zr!==2&&Zr!==9||fi!==m||(Zr=7),af(m)},B.then(b,b);break e;case 3:Zr=7;break e;case 4:Zr=5;break e;case 7:xoe(B)?(Zr=0,Ql=null,dae(b)):(Zr=0,Ql=null,Jx(m,b,B,7));break;case 5:var K=null;switch(or.tag){case 26:K=or.memoizedState;case 5:case 27:var pe=or;if(K?Kae(K):pe.stateNode.complete){Zr=0,Ql=null;var Ce=pe.sibling;if(Ce!==null)or=Ce;else{var Ie=pe.return;Ie!==null?(or=Ie,RP(Ie)):or=null}break t}}Zr=0,Ql=null,Jx(m,b,B,5);break;case 6:Zr=0,Ql=null,Jx(m,b,B,6);break;case 8:q6(),oo=6;break e;default:throw Error(r(462))}}SUe();break}catch(Ye){sae(m,Ye)}while(!0);return Op=ly=null,N.H=M,N.A=L,$r=_,or!==null?0:(fi=null,fr=0,GA(),oo)}function SUe(){for(;or!==null&&!le();)uae(or)}function uae(m){var b=Ise(m.alternate,m,Vp);m.memoizedProps=m.pendingProps,b===null?RP(m):or=b}function dae(m){var b=m,_=b.alternate;switch(b.tag){case 15:case 0:b=Rse(_,b,b.pendingProps,b.type,void 0,fr);break;case 11:b=Rse(_,b,b.pendingProps,b.type.render,b.ref,fr);break;case 5:l6(b);default:$se(_,b),b=or=coe(b,Vp),b=Ise(_,b,Vp)}m.memoizedProps=m.pendingProps,b===null?RP(m):or=b}function Jx(m,b,_,M){Op=ly=null,l6(b),Ux=null,BC=0;var L=b.return;try{if(uUe(m,L,b,_,fr)){oo=1,gP(m,Bc(_,m.current)),or=null;return}}catch(B){if(L!==null)throw or=L,B;oo=1,gP(m,Bc(_,m.current)),or=null;return}b.flags&32768?(yr||M===1?m=!0:Xx||(fr&536870912)!==0?m=!1:(Ag=m=!0,(M===2||M===9||M===3||M===6)&&(M=Kl.current,M!==null&&M.tag===13&&(M.flags|=16384))),fae(b,m)):RP(b)}function RP(m){var b=m;do{if((b.flags&32768)!==0){fae(b,Ag);return}m=b.return;var _=pUe(b.alternate,b,Vp);if(_!==null){or=_;return}if(b=b.sibling,b!==null){or=b;return}or=b=m}while(b!==null);oo===0&&(oo=5)}function fae(m,b){do{var _=hUe(m.alternate,m);if(_!==null){_.flags&=32767,or=_;return}if(_=m.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!b&&(m=m.sibling,m!==null)){or=m;return}or=m=_}while(m!==null);oo=6,or=null}function pae(m,b,_,M,L,B,K,pe,Ce){m.cancelPendingCommit=null;do MP();while(Xo!==0);if(($r&6)!==0)throw Error(r(327));if(b!==null){if(b===m.current)throw Error(r(177));if(B=b.lanes|b.childLanes,B|=jz,Xt(m,_,B,K,pe,Ce),m===fi&&(or=fi=null,fr=0),Zx=b,Og=m,Hp=_,V6=B,H6=L,nae=M,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,EUe(Te,function(){return vae(),null})):(m.callbackNode=null,m.callbackPriority=0),M=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||M){M=N.T,N.T=null,L=V.p,V.p=2,K=$r,$r|=4;try{gUe(m,b,_)}finally{$r=K,V.p=L,N.T=M}}Xo=1,hae(),gae(),mae()}}function hae(){if(Xo===1){Xo=0;var m=Og,b=Zx,_=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||_){_=N.T,N.T=null;var M=V.p;V.p=2;var L=$r;$r|=4;try{Yse(b,m);var B=oB,K=eoe(m.containerInfo),pe=B.focusedElem,Ce=B.selectionRange;if(K!==pe&&pe&&pe.ownerDocument&&Jie(pe.ownerDocument.documentElement,pe)){if(Ce!==null&&Az(pe)){var Ie=Ce.start,Ye=Ce.end;if(Ye===void 0&&(Ye=Ie),"selectionStart"in pe)pe.selectionStart=Ie,pe.selectionEnd=Math.min(Ye,pe.value.length);else{var it=pe.ownerDocument||document,Fe=it&&it.defaultView||window;if(Fe.getSelection){var ze=Fe.getSelection(),Kt=pe.textContent.length,_n=Math.min(Ce.start,Kt),li=Ce.end===void 0?_n:Math.min(Ce.end,Kt);!ze.extend&&_n>li&&(K=li,li=_n,_n=K);var Me=Qie(pe,_n),ke=Qie(pe,li);if(Me&&ke&&(ze.rangeCount!==1||ze.anchorNode!==Me.node||ze.anchorOffset!==Me.offset||ze.focusNode!==ke.node||ze.focusOffset!==ke.offset)){var Oe=it.createRange();Oe.setStart(Me.node,Me.offset),ze.removeAllRanges(),_n>li?(ze.addRange(Oe),ze.extend(ke.node,ke.offset)):(Oe.setEnd(ke.node,ke.offset),ze.addRange(Oe))}}}}for(it=[],ze=pe;ze=ze.parentNode;)ze.nodeType===1&&it.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<it.length;pe++){var et=it[pe];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}BP=!!iB,oB=iB=null}finally{$r=L,V.p=M,N.T=_}}m.current=b,Xo=2}}function gae(){if(Xo===2){Xo=0;var m=Og,b=Zx,_=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||_){_=N.T,N.T=null;var M=V.p;V.p=2;var L=$r;$r|=4;try{Vse(m,b.alternate,b)}finally{$r=L,V.p=M,N.T=_}}Xo=3}}function mae(){if(Xo===4||Xo===3){Xo=0,Se();var m=Og,b=Zx,_=Hp,M=nae;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?Xo=5:(Xo=0,Zx=Og=null,yae(m,m.pendingLanes));var L=m.pendingLanes;if(L===0&&(Dg=null),nr(_),b=b.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Re,b,void 0,(b.current.flags&128)===128)}catch{}if(M!==null){b=N.T,L=V.p,V.p=2,N.T=null;try{for(var B=m.onRecoverableError,K=0;K<M.length;K++){var pe=M[K];B(pe.value,{componentStack:pe.stack})}}finally{N.T=b,V.p=L}}(Hp&3)!==0&&MP(),af(m),L=m.pendingLanes,(_&261930)!==0&&(L&42)!==0?m===W6?i2++:(i2=0,W6=m):i2=0,o2(0)}}function yae(m,b){(m.pooledCacheLanes&=b)===0&&(b=m.pooledCache,b!=null&&(m.pooledCache=null,NC(b)))}function MP(){return hae(),gae(),mae(),vae()}function vae(){if(Xo!==5)return!1;var m=Og,b=V6;V6=0;var _=nr(Hp),M=N.T,L=V.p;try{V.p=32>_?32:_,N.T=null,_=H6,H6=null;var B=Og,K=Hp;if(Xo=0,Zx=Og=null,Hp=0,($r&6)!==0)throw Error(r(331));var pe=$r;if($r|=4,Jse(B.current),Kse(B,B.current,K,_),$r=pe,o2(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Re,B)}catch{}return!0}finally{V.p=L,N.T=M,yae(m,b)}}function bae(m,b,_){b=Bc(_,b),b=_6(m.stateNode,b,2),m=Eg(m,b,2),m!==null&&(vt(m,2),af(m))}function Qr(m,b,_){if(m.tag===3)bae(m,m,_);else for(;b!==null;){if(b.tag===3){bae(b,m,_);break}else if(b.tag===1){var M=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Dg===null||!Dg.has(M))){m=Bc(_,m),_=xse(2),M=Eg(b,_,2),M!==null&&(wse(_,M,b,m),vt(M,2),af(M));break}}b=b.return}}function Y6(m,b,_){var M=m.pingCache;if(M===null){M=m.pingCache=new vUe;var L=new Set;M.set(b,L)}else L=M.get(b),L===void 0&&(L=new Set,M.set(b,L));L.has(_)||(z6=!0,L.add(_),m=_Ue.bind(null,m,b,_),b.then(m,m))}function _Ue(m,b,_){var M=m.pingCache;M!==null&&M.delete(b),m.pingedLanes|=m.suspendedLanes&_,m.warmLanes&=~_,fi===m&&(fr&_)===_&&(oo===4||oo===3&&(fr&62914560)===fr&&300>ye()-_P?($r&2)===0&&Qx(m,0):B6|=_,Kx===fr&&(Kx=0)),af(m)}function xae(m,b){b===0&&(b=St()),m=oy(m,b),m!==null&&(vt(m,b),af(m))}function CUe(m){var b=m.memoizedState,_=0;b!==null&&(_=b.retryLane),xae(m,_)}function kUe(m,b){var _=0;switch(m.tag){case 31:case 13:var M=m.stateNode,L=m.memoizedState;L!==null&&(_=L.retryLane);break;case 19:M=m.stateNode;break;case 22:M=m.stateNode._retryCache;break;default:throw Error(r(314))}M!==null&&M.delete(b),xae(m,_)}function EUe(m,b){return de(m,b)}var AP=null,e1=null,X6=!1,PP=!1,K6=!1,jg=0;function af(m){m!==e1&&m.next===null&&(e1===null?AP=e1=m:e1=e1.next=m),PP=!0,X6||(X6=!0,RUe())}function o2(m,b){if(!K6&&PP){K6=!0;do for(var _=!1,M=AP;M!==null;){if(m!==0){var L=M.pendingLanes;if(L===0)var B=0;else{var K=M.suspendedLanes,pe=M.pingedLanes;B=(1<<31-Ct(42|m)+1)-1,B&=L&~(K&~pe),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(_=!0,Cae(M,B))}else B=fr,B=ur(M,M===fi?B:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),(B&3)===0||ct(M,B)||(_=!0,Cae(M,B));M=M.next}while(_);K6=!1}}function TUe(){wae()}function wae(){PP=X6=!1;var m=0;jg!==0&&LUe()&&(m=jg);for(var b=ye(),_=null,M=AP;M!==null;){var L=M.next,B=Sae(M,b);B===0?(M.next=null,_===null?AP=L:_.next=L,L===null&&(e1=_)):(_=M,(m!==0||(B&3)!==0)&&(PP=!0)),M=L}Xo!==0&&Xo!==5||o2(m),jg!==0&&(jg=0)}function Sae(m,b){for(var _=m.suspendedLanes,M=m.pingedLanes,L=m.expirationTimes,B=m.pendingLanes&-62914561;0<B;){var K=31-Ct(B),pe=1<<K,Ce=L[K];Ce===-1?((pe&_)===0||(pe&M)!==0)&&(L[K]=Yt(pe,b)):Ce<=b&&(m.expiredLanes|=pe),B&=~pe}if(b=fi,_=fr,_=ur(m,m===b?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),M=m.callbackNode,_===0||m===b&&(Zr===2||Zr===9)||m.cancelPendingCommit!==null)return M!==null&&M!==null&&be(M),m.callbackNode=null,m.callbackPriority=0;if((_&3)===0||ct(m,_)){if(b=_&-_,b===m.callbackPriority)return b;switch(M!==null&&be(M),nr(_)){case 2:case 8:_=Ae;break;case 32:_=Te;break;case 268435456:_=Le;break;default:_=Te}return M=_ae.bind(null,m),_=de(_,M),m.callbackPriority=b,m.callbackNode=_,b}return M!==null&&M!==null&&be(M),m.callbackPriority=2,m.callbackNode=null,2}function _ae(m,b){if(Xo!==0&&Xo!==5)return m.callbackNode=null,m.callbackPriority=0,null;var _=m.callbackNode;if(MP()&&m.callbackNode!==_)return null;var M=fr;return M=ur(m,m===fi?M:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),M===0?null:(iae(m,M,b),Sae(m,ye()),m.callbackNode!=null&&m.callbackNode===_?_ae.bind(null,m):null)}function Cae(m,b){if(MP())return null;iae(m,b,!0)}function RUe(){zUe(function(){($r&6)!==0?de(_e,TUe):wae()})}function Z6(){if(jg===0){var m=Nx;m===0&&(m=Cn,Cn<<=1,(Cn&261888)===0&&(Cn=256)),jg=m}return jg}function kae(m){return m==null||typeof m=="symbol"||typeof m=="boolean"?null:typeof m=="function"?m:NA(""+m)}function Eae(m,b){var _=b.ownerDocument.createElement("input");return _.name=b.name,_.value=b.value,m.id&&_.setAttribute("form",m.id),b.parentNode.insertBefore(_,b),m=new FormData(m),_.parentNode.removeChild(_),m}function MUe(m,b,_,M,L){if(b==="submit"&&_&&_.stateNode===L){var B=kae((L[Zn]||null).action),K=M.submitter;K&&(b=(b=K[Zn]||null)?kae(b.formAction):K.getAttribute("formAction"),b!==null&&(B=b,K=null));var pe=new VA("action","action",null,M,L);m.push({event:pe,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(jg!==0){var Ce=K?Eae(L,K):new FormData(L);y6(_,{pending:!0,data:Ce,method:L.method,action:B},null,Ce)}}else typeof B=="function"&&(pe.preventDefault(),Ce=K?Eae(L,K):new FormData(L),y6(_,{pending:!0,data:Ce,method:L.method,action:B},B,Ce))},currentTarget:L}]})}}for(var Q6=0;Q6<Iz.length;Q6++){var J6=Iz[Q6],AUe=J6.toLowerCase(),PUe=J6[0].toUpperCase()+J6.slice(1);Xu(AUe,"on"+PUe)}Xu(roe,"onAnimationEnd"),Xu(ioe,"onAnimationIteration"),Xu(ooe,"onAnimationStart"),Xu("dblclick","onDoubleClick"),Xu("focusin","onFocus"),Xu("focusout","onBlur"),Xu(G7e,"onTransitionRun"),Xu(Y7e,"onTransitionStart"),Xu(X7e,"onTransitionCancel"),Xu(soe,"onTransitionEnd"),Gu("onMouseEnter",["mouseout","mouseover"]),Gu("onMouseLeave",["mouseout","mouseover"]),Gu("onPointerEnter",["pointerout","pointerover"]),Gu("onPointerLeave",["pointerout","pointerover"]),Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var s2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DUe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(s2));function Tae(m,b){b=(b&4)!==0;for(var _=0;_<m.length;_++){var M=m[_],L=M.event;M=M.listeners;e:{var B=void 0;if(b)for(var K=M.length-1;0<=K;K--){var pe=M[K],Ce=pe.instance,Ie=pe.currentTarget;if(pe=pe.listener,Ce!==B&&L.isPropagationStopped())break e;B=pe,L.currentTarget=Ie;try{B(L)}catch(Ye){qA(Ye)}L.currentTarget=null,B=Ce}else for(K=0;K<M.length;K++){if(pe=M[K],Ce=pe.instance,Ie=pe.currentTarget,pe=pe.listener,Ce!==B&&L.isPropagationStopped())break e;B=pe,L.currentTarget=Ie;try{B(L)}catch(Ye){qA(Ye)}L.currentTarget=null,B=Ce}}}}function sr(m,b){var _=b[tf];_===void 0&&(_=b[tf]=new Set);var M=m+"__bubble";_.has(M)||(Rae(b,m,2,!1),_.add(M))}function eB(m,b,_){var M=0;b&&(M|=4),Rae(_,m,M,b)}var DP="_reactListening"+Math.random().toString(36).slice(2);function tB(m){if(!m[DP]){m[DP]=!0,Ep.forEach(function(_){_!=="selectionchange"&&(DUe.has(_)||eB(_,!1,m),eB(_,!0,m))});var b=m.nodeType===9?m:m.ownerDocument;b===null||b[DP]||(b[DP]=!0,eB("selectionchange",!1,b))}}function Rae(m,b,_,M){switch(rle(b)){case 2:var L=sVe;break;case 8:L=aVe;break;default:L=mB}_=L.bind(null,b,_,m),L=void 0,!wz||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(L=!0),M?L!==void 0?m.addEventListener(b,_,{capture:!0,passive:L}):m.addEventListener(b,_,!0):L!==void 0?m.addEventListener(b,_,{passive:L}):m.addEventListener(b,_,!1)}function nB(m,b,_,M,L){var B=M;if((b&1)===0&&(b&2)===0&&M!==null)e:for(;;){if(M===null)return;var K=M.tag;if(K===3||K===4){var pe=M.stateNode.containerInfo;if(pe===L)break;if(K===4)for(K=M.return;K!==null;){var Ce=K.tag;if((Ce===3||Ce===4)&&K.stateNode.containerInfo===L)return;K=K.return}for(;pe!==null;){if(K=an(pe),K===null)return;if(Ce=K.tag,Ce===5||Ce===6||Ce===26||Ce===27){M=B=K;continue e}pe=pe.parentNode}}M=M.return}Oie(function(){var Ie=B,Ye=bz(_),it=[];e:{var Fe=aoe.get(m);if(Fe!==void 0){var ze=VA,Kt=m;switch(m){case"keypress":if(BA(_)===0)break e;case"keydown":case"keyup":ze=k7e;break;case"focusin":Kt="focus",ze=kz;break;case"focusout":Kt="blur",ze=kz;break;case"beforeblur":case"afterblur":ze=kz;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=$ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=p7e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=R7e;break;case roe:case ioe:case ooe:ze=m7e;break;case soe:ze=A7e;break;case"scroll":case"scrollend":ze=d7e;break;case"wheel":ze=D7e;break;case"copy":case"cut":case"paste":ze=v7e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=Lie;break;case"toggle":case"beforetoggle":ze=I7e}var _n=(b&4)!==0,li=!_n&&(m==="scroll"||m==="scrollend"),Me=_n?Fe!==null?Fe+"Capture":null:Fe;_n=[];for(var ke=Ie,Oe;ke!==null;){var et=ke;if(Oe=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Oe===null||Me===null||(et=RC(ke,Me),et!=null&&_n.push(a2(ke,et,Oe))),li)break;ke=ke.return}0<_n.length&&(Fe=new ze(Fe,Kt,null,_,Ye),it.push({event:Fe,listeners:_n}))}}if((b&7)===0){e:{if(Fe=m==="mouseover"||m==="pointerover",ze=m==="mouseout"||m==="pointerout",Fe&&_!==vz&&(Kt=_.relatedTarget||_.fromElement)&&(an(Kt)||Kt[fs]))break e;if((ze||Fe)&&(Fe=Ye.window===Ye?Ye:(Fe=Ye.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,ze?(Kt=_.relatedTarget||_.toElement,ze=Ie,Kt=Kt?an(Kt):null,Kt!==null&&(li=o(Kt),_n=Kt.tag,Kt!==li||_n!==5&&_n!==27&&_n!==6)&&(Kt=null)):(ze=null,Kt=Ie),ze!==Kt)){if(_n=$ie,et="onMouseLeave",Me="onMouseEnter",ke="mouse",(m==="pointerout"||m==="pointerover")&&(_n=Lie,et="onPointerLeave",Me="onPointerEnter",ke="pointer"),li=ze==null?Fe:di(ze),Oe=Kt==null?Fe:di(Kt),Fe=new _n(et,ke+"leave",ze,_,Ye),Fe.target=li,Fe.relatedTarget=Oe,et=null,an(Ye)===Ie&&(_n=new _n(Me,ke+"enter",Kt,_,Ye),_n.target=Oe,_n.relatedTarget=li,et=_n),li=et,ze&&Kt)t:{for(_n=OUe,Me=ze,ke=Kt,Oe=0,et=Me;et;et=_n(et))Oe++;et=0;for(var hn=ke;hn;hn=_n(hn))et++;for(;0<Oe-et;)Me=_n(Me),Oe--;for(;0<et-Oe;)ke=_n(ke),et--;for(;Oe--;){if(Me===ke||ke!==null&&Me===ke.alternate){_n=Me;break t}Me=_n(Me),ke=_n(ke)}_n=null}else _n=null;ze!==null&&Mae(it,Fe,ze,_n,!1),Kt!==null&&li!==null&&Mae(it,li,Kt,_n,!0)}}e:{if(Fe=Ie?di(Ie):window,ze=Fe.nodeName&&Fe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Fe.type==="file")var Tr=qie;else if(Hie(Fe))if(Gie)Tr=H7e;else{Tr=U7e;var tn=B7e}else ze=Fe.nodeName,!ze||ze.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Ie&&yz(Ie.elementType)&&(Tr=qie):Tr=V7e;if(Tr&&(Tr=Tr(m,Ie))){Wie(it,Tr,_,Ye);break e}tn&&tn(m,Fe,Ie),m==="focusout"&&Ie&&Fe.type==="number"&&Ie.memoizedProps.value!=null&&TC(Fe,"number",Fe.value)}switch(tn=Ie?di(Ie):window,m){case"focusin":(Hie(tn)||tn.contentEditable==="true")&&(Px=tn,Pz=Ie,$C=null);break;case"focusout":$C=Pz=Px=null;break;case"mousedown":Dz=!0;break;case"contextmenu":case"mouseup":case"dragend":Dz=!1,toe(it,_,Ye);break;case"selectionchange":if(q7e)break;case"keydown":case"keyup":toe(it,_,Ye)}var Gn;if(Tz)e:{switch(m){case"compositionstart":var pr="onCompositionStart";break e;case"compositionend":pr="onCompositionEnd";break e;case"compositionupdate":pr="onCompositionUpdate";break e}pr=void 0}else Ax?Uie(m,_)&&(pr="onCompositionEnd"):m==="keydown"&&_.keyCode===229&&(pr="onCompositionStart");pr&&(Nie&&_.locale!=="ko"&&(Ax||pr!=="onCompositionStart"?pr==="onCompositionEnd"&&Ax&&(Gn=Iie()):(bg=Ye,Sz="value"in bg?bg.value:bg.textContent,Ax=!0)),tn=OP(Ie,pr),0<tn.length&&(pr=new Fie(pr,m,null,_,Ye),it.push({event:pr,listeners:tn}),Gn?pr.data=Gn:(Gn=Vie(_),Gn!==null&&(pr.data=Gn)))),(Gn=$7e?F7e(m,_):L7e(m,_))&&(pr=OP(Ie,"onBeforeInput"),0<pr.length&&(tn=new Fie("onBeforeInput","beforeinput",null,_,Ye),it.push({event:tn,listeners:pr}),tn.data=Gn)),MUe(it,m,Ie,_,Ye)}Tae(it,b)})}function a2(m,b,_){return{instance:m,listener:b,currentTarget:_}}function OP(m,b){for(var _=b+"Capture",M=[];m!==null;){var L=m,B=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||B===null||(L=RC(m,_),L!=null&&M.unshift(a2(m,L,B)),L=RC(m,b),L!=null&&M.push(a2(m,L,B))),m.tag===3)return M;m=m.return}return[]}function OUe(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5&&m.tag!==27);return m||null}function Mae(m,b,_,M,L){for(var B=b._reactName,K=[];_!==null&&_!==M;){var pe=_,Ce=pe.alternate,Ie=pe.stateNode;if(pe=pe.tag,Ce!==null&&Ce===M)break;pe!==5&&pe!==26&&pe!==27||Ie===null||(Ce=Ie,L?(Ie=RC(_,B),Ie!=null&&K.unshift(a2(_,Ie,Ce))):L||(Ie=RC(_,B),Ie!=null&&K.push(a2(_,Ie,Ce)))),_=_.return}K.length!==0&&m.push({event:b,listeners:K})}var IUe=/\r\n?/g,jUe=/\u0000|\uFFFD/g;function Aae(m){return(typeof m=="string"?m:""+m).replace(IUe,`
`).replace(jUe,"")}function Pae(m,b){return b=Aae(b),Aae(m)===b}function ai(m,b,_,M,L,B){switch(_){case"children":typeof M=="string"?b==="body"||b==="textarea"&&M===""||Tx(m,M):(typeof M=="number"||typeof M=="bigint")&&b!=="body"&&Tx(m,""+M);break;case"className":kx(m,"class",M);break;case"tabIndex":kx(m,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":kx(m,_,M);break;case"style":Pie(m,M,B);break;case"data":if(b!=="object"){kx(m,"data",M);break}case"src":case"href":if(M===""&&(b!=="a"||_!=="href")){m.removeAttribute(_);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){m.removeAttribute(_);break}M=NA(""+M),m.setAttribute(_,M);break;case"action":case"formAction":if(typeof M=="function"){m.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(_==="formAction"?(b!=="input"&&ai(m,b,"name",L.name,L,null),ai(m,b,"formEncType",L.formEncType,L,null),ai(m,b,"formMethod",L.formMethod,L,null),ai(m,b,"formTarget",L.formTarget,L,null)):(ai(m,b,"encType",L.encType,L,null),ai(m,b,"method",L.method,L,null),ai(m,b,"target",L.target,L,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){m.removeAttribute(_);break}M=NA(""+M),m.setAttribute(_,M);break;case"onClick":M!=null&&(m.onclick=Mp);break;case"onScroll":M!=null&&sr("scroll",m);break;case"onScrollEnd":M!=null&&sr("scrollend",m);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(r(61));if(_=M.__html,_!=null){if(L.children!=null)throw Error(r(60));m.innerHTML=_}}break;case"multiple":m.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":m.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){m.removeAttribute("xlink:href");break}_=NA(""+M),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?m.setAttribute(_,""+M):m.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?m.setAttribute(_,""):m.removeAttribute(_);break;case"capture":case"download":M===!0?m.setAttribute(_,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?m.setAttribute(_,M):m.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?m.setAttribute(_,M):m.removeAttribute(_);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?m.removeAttribute(_):m.setAttribute(_,M);break;case"popover":sr("beforetoggle",m),sr("toggle",m),Cx(m,"popover",M);break;case"xlinkActuate":Yu(m,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":Yu(m,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":Yu(m,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":Yu(m,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":Yu(m,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":Yu(m,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":Yu(m,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":Yu(m,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":Yu(m,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":Cx(m,"is",M);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=c7e.get(_)||_,Cx(m,_,M))}}function rB(m,b,_,M,L,B){switch(_){case"style":Pie(m,M,B);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(r(61));if(_=M.__html,_!=null){if(L.children!=null)throw Error(r(60));m.innerHTML=_}}break;case"children":typeof M=="string"?Tx(m,M):(typeof M=="number"||typeof M=="bigint")&&Tx(m,""+M);break;case"onScroll":M!=null&&sr("scroll",m);break;case"onScrollEnd":M!=null&&sr("scrollend",m);break;case"onClick":M!=null&&(m.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!J0.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(L=_.endsWith("Capture"),b=_.slice(2,L?_.length-7:void 0),B=m[Zn]||null,B=B!=null?B[_]:null,typeof B=="function"&&m.removeEventListener(b,B,L),typeof M=="function")){typeof B!="function"&&B!==null&&(_ in m?m[_]=null:m.hasAttribute(_)&&m.removeAttribute(_)),m.addEventListener(b,M,L);break e}_ in m?m[_]=M:M===!0?m.setAttribute(_,""):Cx(m,_,M)}}}function Is(m,b,_){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sr("error",m),sr("load",m);var M=!1,L=!1,B;for(B in _)if(_.hasOwnProperty(B)){var K=_[B];if(K!=null)switch(B){case"src":M=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:ai(m,b,B,K,_,null)}}L&&ai(m,b,"srcSet",_.srcSet,_,null),M&&ai(m,b,"src",_.src,_,null);return;case"input":sr("invalid",m);var pe=B=K=L=null,Ce=null,Ie=null;for(M in _)if(_.hasOwnProperty(M)){var Ye=_[M];if(Ye!=null)switch(M){case"name":L=Ye;break;case"type":K=Ye;break;case"checked":Ce=Ye;break;case"defaultChecked":Ie=Ye;break;case"value":B=Ye;break;case"defaultValue":pe=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,b));break;default:ai(m,b,M,Ye,_,null)}}LA(m,B,pe,Ce,Ie,K,L,!1);return;case"select":sr("invalid",m),M=K=B=null;for(L in _)if(_.hasOwnProperty(L)&&(pe=_[L],pe!=null))switch(L){case"value":B=pe;break;case"defaultValue":K=pe;break;case"multiple":M=pe;default:ai(m,b,L,pe,_,null)}b=B,_=K,m.multiple=!!M,b!=null?Rp(m,!!M,b,!1):_!=null&&Rp(m,!!M,_,!0);return;case"textarea":sr("invalid",m),B=L=M=null;for(K in _)if(_.hasOwnProperty(K)&&(pe=_[K],pe!=null))switch(K){case"value":M=pe;break;case"defaultValue":L=pe;break;case"children":B=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:ai(m,b,K,pe,_,null)}Mie(m,M,L,B);return;case"option":for(Ce in _)if(_.hasOwnProperty(Ce)&&(M=_[Ce],M!=null))switch(Ce){case"selected":m.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:ai(m,b,Ce,M,_,null)}return;case"dialog":sr("beforetoggle",m),sr("toggle",m),sr("cancel",m),sr("close",m);break;case"iframe":case"object":sr("load",m);break;case"video":case"audio":for(M=0;M<s2.length;M++)sr(s2[M],m);break;case"image":sr("error",m),sr("load",m);break;case"details":sr("toggle",m);break;case"embed":case"source":case"link":sr("error",m),sr("load",m);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in _)if(_.hasOwnProperty(Ie)&&(M=_[Ie],M!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:ai(m,b,Ie,M,_,null)}return;default:if(yz(b)){for(Ye in _)_.hasOwnProperty(Ye)&&(M=_[Ye],M!==void 0&&rB(m,b,Ye,M,_,void 0));return}}for(pe in _)_.hasOwnProperty(pe)&&(M=_[pe],M!=null&&ai(m,b,pe,M,_,null))}function $Ue(m,b,_,M){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,B=null,K=null,pe=null,Ce=null,Ie=null,Ye=null;for(ze in _){var it=_[ze];if(_.hasOwnProperty(ze)&&it!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":Ce=it;default:M.hasOwnProperty(ze)||ai(m,b,ze,null,M,it)}}for(var Fe in M){var ze=M[Fe];if(it=_[Fe],M.hasOwnProperty(Fe)&&(ze!=null||it!=null))switch(Fe){case"type":B=ze;break;case"name":L=ze;break;case"checked":Ie=ze;break;case"defaultChecked":Ye=ze;break;case"value":K=ze;break;case"defaultValue":pe=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,b));break;default:ze!==it&&ai(m,b,Fe,ze,M,it)}}ty(m,K,pe,Ce,Ie,Ye,B,L);return;case"select":ze=K=pe=Fe=null;for(B in _)if(Ce=_[B],_.hasOwnProperty(B)&&Ce!=null)switch(B){case"value":break;case"multiple":ze=Ce;default:M.hasOwnProperty(B)||ai(m,b,B,null,M,Ce)}for(L in M)if(B=M[L],Ce=_[L],M.hasOwnProperty(L)&&(B!=null||Ce!=null))switch(L){case"value":Fe=B;break;case"defaultValue":pe=B;break;case"multiple":K=B;default:B!==Ce&&ai(m,b,L,B,M,Ce)}b=pe,_=K,M=ze,Fe!=null?Rp(m,!!_,Fe,!1):!!M!=!!_&&(b!=null?Rp(m,!!_,b,!0):Rp(m,!!_,_?[]:"",!1));return;case"textarea":ze=Fe=null;for(pe in _)if(L=_[pe],_.hasOwnProperty(pe)&&L!=null&&!M.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:ai(m,b,pe,null,M,L)}for(K in M)if(L=M[K],B=_[K],M.hasOwnProperty(K)&&(L!=null||B!=null))switch(K){case"value":Fe=L;break;case"defaultValue":ze=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:L!==B&&ai(m,b,K,L,M,B)}Rie(m,Fe,ze);return;case"option":for(var Kt in _)if(Fe=_[Kt],_.hasOwnProperty(Kt)&&Fe!=null&&!M.hasOwnProperty(Kt))switch(Kt){case"selected":m.selected=!1;break;default:ai(m,b,Kt,null,M,Fe)}for(Ce in M)if(Fe=M[Ce],ze=_[Ce],M.hasOwnProperty(Ce)&&Fe!==ze&&(Fe!=null||ze!=null))switch(Ce){case"selected":m.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:ai(m,b,Ce,Fe,M,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _n in _)Fe=_[_n],_.hasOwnProperty(_n)&&Fe!=null&&!M.hasOwnProperty(_n)&&ai(m,b,_n,null,M,Fe);for(Ie in M)if(Fe=M[Ie],ze=_[Ie],M.hasOwnProperty(Ie)&&Fe!==ze&&(Fe!=null||ze!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,b));break;default:ai(m,b,Ie,Fe,M,ze)}return;default:if(yz(b)){for(var li in _)Fe=_[li],_.hasOwnProperty(li)&&Fe!==void 0&&!M.hasOwnProperty(li)&&rB(m,b,li,void 0,M,Fe);for(Ye in M)Fe=M[Ye],ze=_[Ye],!M.hasOwnProperty(Ye)||Fe===ze||Fe===void 0&&ze===void 0||rB(m,b,Ye,Fe,M,ze);return}}for(var Me in _)Fe=_[Me],_.hasOwnProperty(Me)&&Fe!=null&&!M.hasOwnProperty(Me)&&ai(m,b,Me,null,M,Fe);for(it in M)Fe=M[it],ze=_[it],!M.hasOwnProperty(it)||Fe===ze||Fe==null&&ze==null||ai(m,b,it,Fe,M,ze)}function Dae(m){switch(m){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FUe(){if(typeof performance.getEntriesByType=="function"){for(var m=0,b=0,_=performance.getEntriesByType("resource"),M=0;M<_.length;M++){var L=_[M],B=L.transferSize,K=L.initiatorType,pe=L.duration;if(B&&pe&&Dae(K)){for(K=0,pe=L.responseEnd,M+=1;M<_.length;M++){var Ce=_[M],Ie=Ce.startTime;if(Ie>pe)break;var Ye=Ce.transferSize,it=Ce.initiatorType;Ye&&Dae(it)&&(Ce=Ce.responseEnd,K+=Ye*(Ce<pe?1:(pe-Ie)/(Ce-Ie)))}if(--M,b+=8*(B+K)/(L.duration/1e3),m++,10<m)break}}if(0<m)return b/m/1e6}return navigator.connection&&(m=navigator.connection.downlink,typeof m=="number")?m:5}var iB=null,oB=null;function IP(m){return m.nodeType===9?m:m.ownerDocument}function Oae(m){switch(m){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iae(m,b){if(m===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return m===1&&b==="foreignObject"?0:m}function sB(m,b){return m==="textarea"||m==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var aB=null;function LUe(){var m=window.event;return m&&m.type==="popstate"?m===aB?!1:(aB=m,!0):(aB=null,!1)}var jae=typeof setTimeout=="function"?setTimeout:void 0,NUe=typeof clearTimeout=="function"?clearTimeout:void 0,$ae=typeof Promise=="function"?Promise:void 0,zUe=typeof queueMicrotask=="function"?queueMicrotask:typeof $ae<"u"?function(m){return $ae.resolve(null).then(m).catch(BUe)}:jae;function BUe(m){setTimeout(function(){throw m})}function $g(m){return m==="head"}function Fae(m,b){var _=b,M=0;do{var L=_.nextSibling;if(m.removeChild(_),L&&L.nodeType===8)if(_=L.data,_==="/$"||_==="/&"){if(M===0){m.removeChild(L),i1(b);return}M--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")M++;else if(_==="html")l2(m.ownerDocument.documentElement);else if(_==="head"){_=m.ownerDocument.head,l2(_);for(var B=_.firstChild;B;){var K=B.nextSibling,pe=B.nodeName;B[We]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&B.rel.toLowerCase()==="stylesheet"||_.removeChild(B),B=K}}else _==="body"&&l2(m.ownerDocument.body);_=L}while(_);i1(b)}function Lae(m,b){var _=m;m=0;do{var M=_.nextSibling;if(_.nodeType===1?b?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(b?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),M&&M.nodeType===8)if(_=M.data,_==="/$"){if(m===0)break;m--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||m++;_=M}while(_)}function lB(m){var b=m.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var _=b;switch(b=b.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":lB(_),Nt(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}m.removeChild(_)}}function UUe(m,b,_,M){for(;m.nodeType===1;){var L=_;if(m.nodeName.toLowerCase()!==b.toLowerCase()){if(!M&&(m.nodeName!=="INPUT"||m.type!=="hidden"))break}else if(M){if(!m[We])switch(b){case"meta":if(!m.hasAttribute("itemprop"))break;return m;case"link":if(B=m.getAttribute("rel"),B==="stylesheet"&&m.hasAttribute("data-precedence"))break;if(B!==L.rel||m.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||m.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||m.getAttribute("title")!==(L.title==null?null:L.title))break;return m;case"style":if(m.hasAttribute("data-precedence"))break;return m;case"script":if(B=m.getAttribute("src"),(B!==(L.src==null?null:L.src)||m.getAttribute("type")!==(L.type==null?null:L.type)||m.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&B&&m.hasAttribute("async")&&!m.hasAttribute("itemprop"))break;return m;default:return m}}else if(b==="input"&&m.type==="hidden"){var B=L.name==null?null:""+L.name;if(L.type==="hidden"&&m.getAttribute("name")===B)return m}else return m;if(m=qc(m.nextSibling),m===null)break}return null}function VUe(m,b,_){if(b==="")return null;for(;m.nodeType!==3;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!_||(m=qc(m.nextSibling),m===null))return null;return m}function Nae(m,b){for(;m.nodeType!==8;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!b||(m=qc(m.nextSibling),m===null))return null;return m}function cB(m){return m.data==="$?"||m.data==="$~"}function uB(m){return m.data==="$!"||m.data==="$?"&&m.ownerDocument.readyState!=="loading"}function HUe(m,b){var _=m.ownerDocument;if(m.data==="$~")m._reactRetry=b;else if(m.data!=="$?"||_.readyState!=="loading")b();else{var M=function(){b(),_.removeEventListener("DOMContentLoaded",M)};_.addEventListener("DOMContentLoaded",M),m._reactRetry=M}}function qc(m){for(;m!=null;m=m.nextSibling){var b=m.nodeType;if(b===1||b===3)break;if(b===8){if(b=m.data,b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"||b==="F!"||b==="F")break;if(b==="/$"||b==="/&")return null}}return m}var dB=null;function zae(m){m=m.nextSibling;for(var b=0;m;){if(m.nodeType===8){var _=m.data;if(_==="/$"||_==="/&"){if(b===0)return qc(m.nextSibling);b--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||b++}m=m.nextSibling}return null}function Bae(m){m=m.previousSibling;for(var b=0;m;){if(m.nodeType===8){var _=m.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(b===0)return m;b--}else _!=="/$"&&_!=="/&"||b++}m=m.previousSibling}return null}function Uae(m,b,_){switch(b=IP(_),m){case"html":if(m=b.documentElement,!m)throw Error(r(452));return m;case"head":if(m=b.head,!m)throw Error(r(453));return m;case"body":if(m=b.body,!m)throw Error(r(454));return m;default:throw Error(r(451))}}function l2(m){for(var b=m.attributes;b.length;)m.removeAttributeNode(b[0]);Nt(m)}var Gc=new Map,Vae=new Set;function jP(m){return typeof m.getRootNode=="function"?m.getRootNode():m.nodeType===9?m:m.ownerDocument}var Wp=V.d;V.d={f:WUe,r:qUe,D:GUe,C:YUe,L:XUe,m:KUe,X:QUe,S:ZUe,M:JUe};function WUe(){var m=Wp.f(),b=EP();return m||b}function qUe(m){var b=vn(m);b!==null&&b.tag===5&&b.type==="form"?sse(b):Wp.r(m)}var t1=typeof document>"u"?null:document;function Hae(m,b,_){var M=t1;if(M&&typeof b=="string"&&b){var L=il(b);L='link[rel="'+m+'"][href="'+L+'"]',typeof _=="string"&&(L+='[crossorigin="'+_+'"]'),Vae.has(L)||(Vae.add(L),m={rel:m,crossOrigin:_,href:b},M.querySelector(L)===null&&(b=M.createElement("link"),Is(b,"link",m),Er(b),M.head.appendChild(b)))}}function GUe(m){Wp.D(m),Hae("dns-prefetch",m,null)}function YUe(m,b){Wp.C(m,b),Hae("preconnect",m,b)}function XUe(m,b,_){Wp.L(m,b,_);var M=t1;if(M&&m&&b){var L='link[rel="preload"][as="'+il(b)+'"]';b==="image"&&_&&_.imageSrcSet?(L+='[imagesrcset="'+il(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(L+='[imagesizes="'+il(_.imageSizes)+'"]')):L+='[href="'+il(m)+'"]';var B=L;switch(b){case"style":B=n1(m);break;case"script":B=r1(m)}Gc.has(B)||(m=d({rel:"preload",href:b==="image"&&_&&_.imageSrcSet?void 0:m,as:b},_),Gc.set(B,m),M.querySelector(L)!==null||b==="style"&&M.querySelector(c2(B))||b==="script"&&M.querySelector(u2(B))||(b=M.createElement("link"),Is(b,"link",m),Er(b),M.head.appendChild(b)))}}function KUe(m,b){Wp.m(m,b);var _=t1;if(_&&m){var M=b&&typeof b.as=="string"?b.as:"script",L='link[rel="modulepreload"][as="'+il(M)+'"][href="'+il(m)+'"]',B=L;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=r1(m)}if(!Gc.has(B)&&(m=d({rel:"modulepreload",href:m},b),Gc.set(B,m),_.querySelector(L)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(u2(B)))return}M=_.createElement("link"),Is(M,"link",m),Er(M),_.head.appendChild(M)}}}function ZUe(m,b,_){Wp.S(m,b,_);var M=t1;if(M&&m){var L=Ur(M).hoistableStyles,B=n1(m);b=b||"default";var K=L.get(B);if(!K){var pe={loading:0,preload:null};if(K=M.querySelector(c2(B)))pe.loading=5;else{m=d({rel:"stylesheet",href:m,"data-precedence":b},_),(_=Gc.get(B))&&fB(m,_);var Ce=K=M.createElement("link");Er(Ce),Is(Ce,"link",m),Ce._p=new Promise(function(Ie,Ye){Ce.onload=Ie,Ce.onerror=Ye}),Ce.addEventListener("load",function(){pe.loading|=1}),Ce.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,$P(K,b,M)}K={type:"stylesheet",instance:K,count:1,state:pe},L.set(B,K)}}}function QUe(m,b){Wp.X(m,b);var _=t1;if(_&&m){var M=Ur(_).hoistableScripts,L=r1(m),B=M.get(L);B||(B=_.querySelector(u2(L)),B||(m=d({src:m,async:!0},b),(b=Gc.get(L))&&pB(m,b),B=_.createElement("script"),Er(B),Is(B,"link",m),_.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},M.set(L,B))}}function JUe(m,b){Wp.M(m,b);var _=t1;if(_&&m){var M=Ur(_).hoistableScripts,L=r1(m),B=M.get(L);B||(B=_.querySelector(u2(L)),B||(m=d({src:m,async:!0,type:"module"},b),(b=Gc.get(L))&&pB(m,b),B=_.createElement("script"),Er(B),Is(B,"link",m),_.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},M.set(L,B))}}function Wae(m,b,_,M){var L=(L=ne.current)?jP(L):null;if(!L)throw Error(r(446));switch(m){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(b=n1(_.href),_=Ur(L).hoistableStyles,M=_.get(b),M||(M={type:"style",instance:null,count:0,state:null},_.set(b,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){m=n1(_.href);var B=Ur(L).hoistableStyles,K=B.get(m);if(K||(L=L.ownerDocument||L,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(m,K),(B=L.querySelector(c2(m)))&&!B._p&&(K.instance=B,K.state.loading=5),Gc.has(m)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},Gc.set(m,_),B||eVe(L,m,_,K.state))),b&&M===null)throw Error(r(528,""));return K}if(b&&M!==null)throw Error(r(529,""));return null;case"script":return b=_.async,_=_.src,typeof _=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=r1(_),_=Ur(L).hoistableScripts,M=_.get(b),M||(M={type:"script",instance:null,count:0,state:null},_.set(b,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,m))}}function n1(m){return'href="'+il(m)+'"'}function c2(m){return'link[rel="stylesheet"]['+m+"]"}function qae(m){return d({},m,{"data-precedence":m.precedence,precedence:null})}function eVe(m,b,_,M){m.querySelector('link[rel="preload"][as="style"]['+b+"]")?M.loading=1:(b=m.createElement("link"),M.preload=b,b.addEventListener("load",function(){return M.loading|=1}),b.addEventListener("error",function(){return M.loading|=2}),Is(b,"link",_),Er(b),m.head.appendChild(b))}function r1(m){return'[src="'+il(m)+'"]'}function u2(m){return"script[async]"+m}function Gae(m,b,_){if(b.count++,b.instance===null)switch(b.type){case"style":var M=m.querySelector('style[data-href~="'+il(_.href)+'"]');if(M)return b.instance=M,Er(M),M;var L=d({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return M=(m.ownerDocument||m).createElement("style"),Er(M),Is(M,"style",L),$P(M,_.precedence,m),b.instance=M;case"stylesheet":L=n1(_.href);var B=m.querySelector(c2(L));if(B)return b.state.loading|=4,b.instance=B,Er(B),B;M=qae(_),(L=Gc.get(L))&&fB(M,L),B=(m.ownerDocument||m).createElement("link"),Er(B);var K=B;return K._p=new Promise(function(pe,Ce){K.onload=pe,K.onerror=Ce}),Is(B,"link",M),b.state.loading|=4,$P(B,_.precedence,m),b.instance=B;case"script":return B=r1(_.src),(L=m.querySelector(u2(B)))?(b.instance=L,Er(L),L):(M=_,(L=Gc.get(B))&&(M=d({},_),pB(M,L)),m=m.ownerDocument||m,L=m.createElement("script"),Er(L),Is(L,"link",M),m.head.appendChild(L),b.instance=L);case"void":return null;default:throw Error(r(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(M=b.instance,b.state.loading|=4,$P(M,_.precedence,m));return b.instance}function $P(m,b,_){for(var M=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=M.length?M[M.length-1]:null,B=L,K=0;K<M.length;K++){var pe=M[K];if(pe.dataset.precedence===b)B=pe;else if(B!==L)break}B?B.parentNode.insertBefore(m,B.nextSibling):(b=_.nodeType===9?_.head:_,b.insertBefore(m,b.firstChild))}function fB(m,b){m.crossOrigin==null&&(m.crossOrigin=b.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=b.referrerPolicy),m.title==null&&(m.title=b.title)}function pB(m,b){m.crossOrigin==null&&(m.crossOrigin=b.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=b.referrerPolicy),m.integrity==null&&(m.integrity=b.integrity)}var FP=null;function Yae(m,b,_){if(FP===null){var M=new Map,L=FP=new Map;L.set(_,M)}else L=FP,M=L.get(_),M||(M=new Map,L.set(_,M));if(M.has(m))return M;for(M.set(m,null),_=_.getElementsByTagName(m),L=0;L<_.length;L++){var B=_[L];if(!(B[We]||B[Sn]||m==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var K=B.getAttribute(b)||"";K=m+K;var pe=M.get(K);pe?pe.push(B):M.set(K,[B])}}return M}function Xae(m,b,_){m=m.ownerDocument||m,m.head.insertBefore(_,b==="title"?m.querySelector("head > title"):null)}function tVe(m,b,_){if(_===1||b.itemProp!=null)return!1;switch(m){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;switch(b.rel){case"stylesheet":return m=b.disabled,typeof b.precedence=="string"&&m==null;default:return!0}case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function Kae(m){return!(m.type==="stylesheet"&&(m.state.loading&3)===0)}function nVe(m,b,_,M){if(_.type==="stylesheet"&&(typeof M.media!="string"||matchMedia(M.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var L=n1(M.href),B=b.querySelector(c2(L));if(B){b=B._p,b!==null&&typeof b=="object"&&typeof b.then=="function"&&(m.count++,m=LP.bind(m),b.then(m,m)),_.state.loading|=4,_.instance=B,Er(B);return}B=b.ownerDocument||b,M=qae(M),(L=Gc.get(L))&&fB(M,L),B=B.createElement("link"),Er(B);var K=B;K._p=new Promise(function(pe,Ce){K.onload=pe,K.onerror=Ce}),Is(B,"link",M),_.instance=B}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(_,b),(b=_.state.preload)&&(_.state.loading&3)===0&&(m.count++,_=LP.bind(m),b.addEventListener("load",_),b.addEventListener("error",_))}}var hB=0;function rVe(m,b){return m.stylesheets&&m.count===0&&zP(m,m.stylesheets),0<m.count||0<m.imgCount?function(_){var M=setTimeout(function(){if(m.stylesheets&&zP(m,m.stylesheets),m.unsuspend){var B=m.unsuspend;m.unsuspend=null,B()}},6e4+b);0<m.imgBytes&&hB===0&&(hB=62500*FUe());var L=setTimeout(function(){if(m.waitingForImages=!1,m.count===0&&(m.stylesheets&&zP(m,m.stylesheets),m.unsuspend)){var B=m.unsuspend;m.unsuspend=null,B()}},(m.imgBytes>hB?50:800)+b);return m.unsuspend=_,function(){m.unsuspend=null,clearTimeout(M),clearTimeout(L)}}:null}function LP(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zP(this,this.stylesheets);else if(this.unsuspend){var m=this.unsuspend;this.unsuspend=null,m()}}}var NP=null;function zP(m,b){m.stylesheets=null,m.unsuspend!==null&&(m.count++,NP=new Map,b.forEach(iVe,m),NP=null,LP.call(m))}function iVe(m,b){if(!(b.state.loading&4)){var _=NP.get(m);if(_)var M=_.get(null);else{_=new Map,NP.set(m,_);for(var L=m.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<L.length;B++){var K=L[B];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(_.set(K.dataset.precedence,K),M=K)}M&&_.set(null,M)}L=b.instance,K=L.getAttribute("data-precedence"),B=_.get(K)||M,B===M&&_.set(null,L),_.set(K,L),this.count++,M=LP.bind(this),L.addEventListener("load",M),L.addEventListener("error",M),B?B.parentNode.insertBefore(L,B.nextSibling):(m=m.nodeType===9?m.head:m,m.insertBefore(L,m.firstChild)),b.state.loading|=4}}var d2={$$typeof:S,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function oVe(m,b,_,M,L,B,K,pe,Ce){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0),this.hiddenUpdates=Ln(null),this.identifierPrefix=M,this.onUncaughtError=L,this.onCaughtError=B,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function Zae(m,b,_,M,L,B,K,pe,Ce,Ie,Ye,it){return m=new oVe(m,b,_,K,Ce,Ie,Ye,it,pe),b=1,B===!0&&(b|=24),B=Xl(3,null,null,b),m.current=B,B.stateNode=m,b=Gz(),b.refCount++,m.pooledCache=b,b.refCount++,B.memoizedState={element:M,isDehydrated:_,cache:b},Zz(B),m}function Qae(m){return m?(m=Ix,m):Ix}function Jae(m,b,_,M,L,B){L=Qae(L),M.context===null?M.context=L:M.pendingContext=L,M=kg(b),M.payload={element:_},B=B===void 0?null:B,B!==null&&(M.callback=B),_=Eg(m,M,b),_!==null&&(ul(_,m,b),VC(_,m,b))}function ele(m,b){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var _=m.retryLane;m.retryLane=_!==0&&_<b?_:b}}function gB(m,b){ele(m,b),(m=m.alternate)&&ele(m,b)}function tle(m){if(m.tag===13||m.tag===31){var b=oy(m,67108864);b!==null&&ul(b,m,67108864),gB(m,67108864)}}function nle(m){if(m.tag===13||m.tag===31){var b=ec();b=Gi(b);var _=oy(m,b);_!==null&&ul(_,m,b),gB(m,b)}}var BP=!0;function sVe(m,b,_,M){var L=N.T;N.T=null;var B=V.p;try{V.p=2,mB(m,b,_,M)}finally{V.p=B,N.T=L}}function aVe(m,b,_,M){var L=N.T;N.T=null;var B=V.p;try{V.p=8,mB(m,b,_,M)}finally{V.p=B,N.T=L}}function mB(m,b,_,M){if(BP){var L=yB(M);if(L===null)nB(m,b,M,UP,_),ile(m,M);else if(cVe(L,m,b,_,M))M.stopPropagation();else if(ile(m,M),b&4&&-1<lVe.indexOf(m)){for(;L!==null;){var B=vn(L);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var K=qt(B.pendingLanes);if(K!==0){var pe=B;for(pe.pendingLanes|=2,pe.entangledLanes|=2;K;){var Ce=1<<31-Ct(K);pe.entanglements[1]|=Ce,K&=~Ce}af(B),($r&6)===0&&(CP=ye()+500,o2(0))}}break;case 31:case 13:pe=oy(B,2),pe!==null&&ul(pe,B,2),EP(),gB(B,2)}if(B=yB(M),B===null&&nB(m,b,M,UP,_),B===L)break;L=B}L!==null&&M.stopPropagation()}else nB(m,b,M,null,_)}}function yB(m){return m=bz(m),vB(m)}var UP=null;function vB(m){if(UP=null,m=an(m),m!==null){var b=o(m);if(b===null)m=null;else{var _=b.tag;if(_===13){if(m=s(b),m!==null)return m;m=null}else if(_===31){if(m=a(b),m!==null)return m;m=null}else if(_===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;m=null}else b!==m&&(m=null)}}return UP=m,null}function rle(m){switch(m){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case _e:return 2;case Ae:return 8;case Te:case Pe:return 32;case Le:return 268435456;default:return 32}default:return 32}}var bB=!1,Fg=null,Lg=null,Ng=null,f2=new Map,p2=new Map,zg=[],lVe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ile(m,b){switch(m){case"focusin":case"focusout":Fg=null;break;case"dragenter":case"dragleave":Lg=null;break;case"mouseover":case"mouseout":Ng=null;break;case"pointerover":case"pointerout":f2.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":p2.delete(b.pointerId)}}function h2(m,b,_,M,L,B){return m===null||m.nativeEvent!==B?(m={blockedOn:b,domEventName:_,eventSystemFlags:M,nativeEvent:B,targetContainers:[L]},b!==null&&(b=vn(b),b!==null&&tle(b)),m):(m.eventSystemFlags|=M,b=m.targetContainers,L!==null&&b.indexOf(L)===-1&&b.push(L),m)}function cVe(m,b,_,M,L){switch(b){case"focusin":return Fg=h2(Fg,m,b,_,M,L),!0;case"dragenter":return Lg=h2(Lg,m,b,_,M,L),!0;case"mouseover":return Ng=h2(Ng,m,b,_,M,L),!0;case"pointerover":var B=L.pointerId;return f2.set(B,h2(f2.get(B)||null,m,b,_,M,L)),!0;case"gotpointercapture":return B=L.pointerId,p2.set(B,h2(p2.get(B)||null,m,b,_,M,L)),!0}return!1}function ole(m){var b=an(m.target);if(b!==null){var _=o(b);if(_!==null){if(b=_.tag,b===13){if(b=s(_),b!==null){m.blockedOn=b,Yi(m.priority,function(){nle(_)});return}}else if(b===31){if(b=a(_),b!==null){m.blockedOn=b,Yi(m.priority,function(){nle(_)});return}}else if(b===3&&_.stateNode.current.memoizedState.isDehydrated){m.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}m.blockedOn=null}function VP(m){if(m.blockedOn!==null)return!1;for(var b=m.targetContainers;0<b.length;){var _=yB(m.nativeEvent);if(_===null){_=m.nativeEvent;var M=new _.constructor(_.type,_);vz=M,_.target.dispatchEvent(M),vz=null}else return b=vn(_),b!==null&&tle(b),m.blockedOn=_,!1;b.shift()}return!0}function sle(m,b,_){VP(m)&&_.delete(b)}function uVe(){bB=!1,Fg!==null&&VP(Fg)&&(Fg=null),Lg!==null&&VP(Lg)&&(Lg=null),Ng!==null&&VP(Ng)&&(Ng=null),f2.forEach(sle),p2.forEach(sle)}function HP(m,b){m.blockedOn===b&&(m.blockedOn=null,bB||(bB=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uVe)))}var WP=null;function ale(m){WP!==m&&(WP=m,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){WP===m&&(WP=null);for(var b=0;b<m.length;b+=3){var _=m[b],M=m[b+1],L=m[b+2];if(typeof M!="function"){if(vB(M||_)===null)continue;break}var B=vn(_);B!==null&&(m.splice(b,3),b-=3,y6(B,{pending:!0,data:L,method:_.method,action:M},M,L))}}))}function i1(m){function b(Ce){return HP(Ce,m)}Fg!==null&&HP(Fg,m),Lg!==null&&HP(Lg,m),Ng!==null&&HP(Ng,m),f2.forEach(b),p2.forEach(b);for(var _=0;_<zg.length;_++){var M=zg[_];M.blockedOn===m&&(M.blockedOn=null)}for(;0<zg.length&&(_=zg[0],_.blockedOn===null);)ole(_),_.blockedOn===null&&zg.shift();if(_=(m.ownerDocument||m).$$reactFormReplay,_!=null)for(M=0;M<_.length;M+=3){var L=_[M],B=_[M+1],K=L[Zn]||null;if(typeof B=="function")K||ale(_);else if(K){var pe=null;if(B&&B.hasAttribute("formAction")){if(L=B,K=B[Zn]||null)pe=K.formAction;else if(vB(L)!==null)continue}else pe=K.action;typeof pe=="function"?_[M+1]=pe:(_.splice(M,3),M-=3),ale(_)}}}function lle(){function m(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(K){return L=K})},focusReset:"manual",scroll:"manual"})}function b(){L!==null&&(L(),L=null),M||setTimeout(_,20)}function _(){if(!M&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var M=!1,L=null;return navigation.addEventListener("navigate",m),navigation.addEventListener("navigatesuccess",b),navigation.addEventListener("navigateerror",b),setTimeout(_,100),function(){M=!0,navigation.removeEventListener("navigate",m),navigation.removeEventListener("navigatesuccess",b),navigation.removeEventListener("navigateerror",b),L!==null&&(L(),L=null)}}}function xB(m){this._internalRoot=m}qP.prototype.render=xB.prototype.render=function(m){var b=this._internalRoot;if(b===null)throw Error(r(409));var _=b.current,M=ec();Jae(_,M,m,b,null,null)},qP.prototype.unmount=xB.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var b=m.containerInfo;Jae(m.current,2,null,m,null,null),EP(),b[fs]=null}};function qP(m){this._internalRoot=m}qP.prototype.unstable_scheduleHydration=function(m){if(m){var b=Br();m={blockedOn:null,target:m,priority:b};for(var _=0;_<zg.length&&b!==0&&b<zg[_].priority;_++);zg.splice(_,0,m),_===0&&ole(m)}};var cle=t.version;if(cle!=="19.2.3")throw Error(r(527,cle,"19.2.3"));V.findDOMNode=function(m){var b=m._reactInternals;if(b===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return m=c(b),m=m!==null?u(m):null,m=m===null?null:m.stateNode,m};var dVe={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var GP=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!GP.isDisabled&&GP.supportsFiber)try{Re=GP.inject(dVe),Ze=GP}catch{}}return m2.createRoot=function(m,b){if(!i(m))throw Error(r(299));var _=!1,M="",L=mse,B=yse,K=vse;return b!=null&&(b.unstable_strictMode===!0&&(_=!0),b.identifierPrefix!==void 0&&(M=b.identifierPrefix),b.onUncaughtError!==void 0&&(L=b.onUncaughtError),b.onCaughtError!==void 0&&(B=b.onCaughtError),b.onRecoverableError!==void 0&&(K=b.onRecoverableError)),b=Zae(m,1,!1,null,null,_,M,null,L,B,K,lle),m[fs]=b.current,tB(m),new xB(b)},m2.hydrateRoot=function(m,b,_){if(!i(m))throw Error(r(299));var M=!1,L="",B=mse,K=yse,pe=vse,Ce=null;return _!=null&&(_.unstable_strictMode===!0&&(M=!0),_.identifierPrefix!==void 0&&(L=_.identifierPrefix),_.onUncaughtError!==void 0&&(B=_.onUncaughtError),_.onCaughtError!==void 0&&(K=_.onCaughtError),_.onRecoverableError!==void 0&&(pe=_.onRecoverableError),_.formState!==void 0&&(Ce=_.formState)),b=Zae(m,1,!0,b,_??null,M,L,Ce,B,K,pe,lle),b.context=Qae(null),_=b.current,M=ec(),M=Gi(M),L=kg(M),L.callback=null,Eg(_,L,M),_=M,b.current.lanes=_,vt(b,_),af(b),m[fs]=b.current,tB(m),new qP(b)},m2.version="19.2.3",m2}var ble;function wVe(){if(ble)return _B.exports;ble=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_B.exports=xVe(),_B.exports}var SVe=wVe(),v_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_Ve={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},CVe=class{#e=_Ve;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ov=new CVe;function kVe(e){setTimeout(e,0)}var Wv=typeof window>"u"||"Deno"in globalThis;function $a(){}function EVe(e,t){return typeof e=="function"?e(t):e}function GU(e){return typeof e=="number"&&e>=0&&e!==1/0}function zwe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pm(e,t){return typeof e=="function"?e(t):e}function iu(e,t){return typeof e=="function"?e(t):e}function xle(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==sY(s,t.options))return!1}else if(!ZE(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function wle(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(qv(t.options.mutationKey)!==qv(o))return!1}else if(!ZE(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function sY(e,t){return(t?.queryKeyHashFn||qv)(e)}function qv(e){return JSON.stringify(e,(t,n)=>YU(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ZE(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ZE(e[n],t[n])):!1}var TVe=Object.prototype.hasOwnProperty;function Bwe(e,t){if(e===t)return e;const n=Sle(e)&&Sle(t);if(!n&&!(YU(e)&&YU(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),s=o.length,a=n?new Array(s):{};let l=0;for(let c=0;c<s;c++){const u=n?c:o[c],d=e[u],f=t[u];if(d===f){a[u]=d,(n?c<i:TVe.call(e,u))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[u]=f;continue}const p=Bwe(d,f);a[u]=p,p===d&&l++}return i===s&&l===i?e:a}function Fj(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Sle(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function YU(e){if(!_le(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!_le(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _le(e){return Object.prototype.toString.call(e)==="[object Object]"}function RVe(e){return new Promise(t=>{ov.setTimeout(t,e)})}function XU(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Bwe(e,t):t}function MVe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function AVe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var aY=Symbol();function Uwe(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===aY?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function lY(e,t){return typeof e=="function"?e(...t):!!e}function PVe(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var DVe=class extends v_{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Wv&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},cY=new DVe;function KU(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var OVe=kVe;function IVe(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=OVe;const o=a=>{t?e.push(a):i(()=>{n(a)})},s=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var No=IVe(),jVe=class extends v_{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Wv&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Lj=new jVe;function $Ve(e){return Math.min(1e3*2**e,3e4)}function Vwe(e){return(e??"online")==="online"?Lj.isOnline():!0}var ZU=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Hwe(e){let t=!1,n=0,r;const i=KU(),o=()=>i.status!=="pending",s=y=>{if(!o()){const v=new ZU(y);f(v),e.onCancel?.(v)}},a=()=>{t=!0},l=()=>{t=!1},c=()=>cY.isFocused()&&(e.networkMode==="always"||Lj.isOnline())&&e.canRun(),u=()=>Vwe(e.networkMode)&&e.canRun(),d=y=>{o()||(r?.(),i.resolve(y))},f=y=>{o()||(r?.(),i.reject(y))},p=()=>new Promise(y=>{r=v=>{(o()||c())&&y(v)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),g=()=>{if(o())return;let y;const v=n===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(d).catch(x=>{if(o())return;const w=e.retry??(Wv?0:3),S=e.retryDelay??$Ve,C=typeof S=="function"?S(n,x):S,k=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(t||!k){f(x);return}n++,e.onFail?.(n,x),RVe(C).then(()=>c()?void 0:p()).then(()=>{t?f(x):g()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r?.(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():p().then(g),i)}}var Wwe=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GU(this.gcTime)&&(this.#e=ov.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wv?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ov.clearTimeout(this.#e),this.#e=void 0)}},FVe=class extends Wwe{#e;#t;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kle(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=kle(this.options);t.data!==void 0&&(this.setState(Cle(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=XU(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then($a).catch($a):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>iu(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aY||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Pm(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!zwe(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const a=Uwe(this.options,t),c=(()=>{const u={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#o=!1,this.options.persister?this.options.persister(a,c,this):a(c)},s=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(a),a})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#s({type:"fetch",meta:s.fetchOptions?.meta}),this.#r=Hwe({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:a=>{a instanceof ZU&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,l)=>{this.#s({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof ZU){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#s({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qwe(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...Cle(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),No.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function qwe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vwe(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Cle(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function kle(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var LVe=class extends v_{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=KU(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#h;#g;#c;#u;#l;#d;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ele(this.#t,this.options)?this.#p():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return QU(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return QU(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof iu(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Fj(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Tle(this.#t,n,this.options,t)&&this.#p(),this.updateResult(),r&&(this.#t!==n||iu(this.options.enabled,this.#t)!==iu(t.enabled,this.#t)||Pm(this.options.staleTime,this.#t)!==Pm(t.staleTime,this.#t))&&this.#m();const i=this.#y();r&&(this.#t!==n||iu(this.options.enabled,this.#t)!==iu(t.enabled,this.#t)||i!==this.#d)&&this.#v(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return zVe(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#p(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch($a)),t}#m(){this.#x();const e=Pm(this.options.staleTime,this.#t);if(Wv||this.#i.isStale||!GU(e))return;const n=zwe(this.#i.dataUpdatedAt,e)+1;this.#u=ov.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#d=e,!(Wv||iu(this.options.enabled,this.#t)===!1||!GU(this.#d)||this.#d===0)&&(this.#l=ov.setInterval(()=>{(this.options.refetchIntervalInBackground||cY.isFocused())&&this.#p()},this.#d))}#b(){this.#m(),this.#v(this.#y())}#x(){this.#u&&(ov.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#l&&(ov.clearInterval(this.#l),this.#l=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#i,o=this.#r,s=this.#a,l=e!==n?e.state:this.#n,{state:c}=e;let u={...c},d=!1,f;if(t._optimisticResults){const A=this.hasListeners(),O=!A&&Ele(e,t),I=A&&Tle(e,n,t,r);(O||I)&&(u={...u,...qwe(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=u;f=u.data;let v=!1;if(t.placeholderData!==void 0&&f===void 0&&y==="pending"){let A;i?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(A=i.data,v=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,A!==void 0&&(y="success",f=XU(i?.data,A,t),d=!0)}if(t.select&&f!==void 0&&!v)if(i&&f===o?.data&&t.select===this.#h)f=this.#g;else try{this.#h=t.select,f=t.select(f),f=XU(i?.data,f,t),this.#g=f,this.#s=null}catch(A){this.#s=A}this.#s&&(p=this.#s,f=this.#g,g=Date.now(),y="error");const x=u.fetchStatus==="fetching",w=y==="pending",S=y==="error",C=w&&x,k=f!==void 0,E={status:y,fetchStatus:u.fetchStatus,isPending:w,isSuccess:y==="success",isError:S,isInitialLoading:C,isLoading:C,data:f,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:S&&!k,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:S&&k,isStale:uY(e,t),refetch:this.refetch,promise:this.#o,isEnabled:iu(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=j=>{E.status==="error"?j.reject(E.error):E.data!==void 0&&j.resolve(E.data)},O=()=>{const j=this.#o=E.promise=KU();A(j)},I=this.#o;switch(I.status){case"pending":e.queryHash===n.queryHash&&A(I);break;case"fulfilled":(E.status==="error"||E.data!==I.value)&&O();break;case"rejected":(E.status!=="error"||E.error!==I.reason)&&O();break}}return E}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#c=this.#t),Fj(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#f.size)return!0;const o=new Set(i??this.#f);return this.options.throwOnError&&o.add("error"),Object.keys(this.#i).some(s=>{const a=s;return this.#i[a]!==e[a]&&o.has(a)})};this.#_({listeners:n()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(e){No.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function NVe(e,t){return iu(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ele(e,t){return NVe(e,t)||e.state.data!==void 0&&QU(e,t,t.refetchOnMount)}function QU(e,t,n){if(iu(t.enabled,e)!==!1&&Pm(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&uY(e,t)}return!1}function Tle(e,t,n,r){return(e!==t||iu(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&uY(e,n)}function uY(e,t){return iu(t.enabled,e)!==!1&&e.isStaleByTime(Pm(t.staleTime,e))}function zVe(e,t){return!Fj(e.getCurrentResult(),t)}function Rle(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=g=>{PVe(g,()=>t.signal,()=>u=!0)},f=Uwe(t.options,t.fetchOptions),p=async(g,y,v)=>{if(u)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const w=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:y,direction:v?"backward":"forward",meta:t.options.meta};return d(T),T})(),S=await f(w),{maxPages:C}=t.options,k=v?AVe:MVe;return{pages:k(g.pages,S,C),pageParams:k(g.pageParams,y,C)}};if(i&&o.length){const g=i==="backward",y=g?BVe:Mle,v={pages:o,pageParams:s},x=y(r,v);a=await p(v,x,g)}else{const g=e??o.length;do{const y=l===0?s[0]??r.initialPageParam:Mle(r,a);if(l>0&&y==null)break;a=await p(a,y),l++}while(l<g)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Mle(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function BVe(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var UVe=class extends Wwe{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Gwe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Hwe({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,s)=>{this.#r({type:"failed",failureCount:o,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const s=await this.options.onMutate?.(e,n);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:i})}const o=await this.#i.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(s){Promise.reject(s)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(s){Promise.reject(s)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(s){Promise.reject(s)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(s){Promise.reject(s)}throw this.#r({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),No.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Gwe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var VVe=class extends v_{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new UVe({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=XP(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=XP(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=XP(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=XP(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){No.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>wle(t,n))}findAll(e={}){return this.getAll().filter(t=>wle(e,t))}notify(e){No.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return No.batch(()=>Promise.all(e.map(t=>t.continue().catch($a))))}};function XP(e){return e.options.scope?.id}var HVe=class extends v_{#e;#t=void 0;#n;#i;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Fj(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&qv(n.mutationKey)!==qv(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??Gwe();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){No.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#i.onSuccess?.(t.data,n,r,i)}catch(o){Promise.reject(o)}try{this.#i.onSettled?.(t.data,null,n,r,i)}catch(o){Promise.reject(o)}}else if(t?.type==="error"){try{this.#i.onError?.(t.error,n,r,i)}catch(o){Promise.reject(o)}try{this.#i.onSettled?.(void 0,t.error,n,r,i)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},WVe=class extends v_{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??sY(r,t);let o=this.get(i);return o||(o=new FVe({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){No.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>xle(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>xle(e,n)):t}notify(e){No.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){No.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){No.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qVe=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(e={}){this.#e=e.queryCache||new WVe,this.#t=e.mutationCache||new VVe,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=cY.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Lj.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Pm(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,s=EVe(t,o);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return No.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;No.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return No.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=No.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then($a).catch($a)}invalidateQueries(e,t={}){return No.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=No.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch($a)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then($a)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Pm(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($a).catch($a)}fetchInfiniteQuery(e){return e.behavior=Rle(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($a).catch($a)}ensureInfiniteQueryData(e){return e.behavior=Rle(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lj.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(qv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{ZE(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(qv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{ZE(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sY(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===aY&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ywe=R.createContext(void 0),pn=e=>{const t=R.useContext(Ywe);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},GVe=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(Ywe.Provider,{value:e,children:t})),Xwe=R.createContext(!1),YVe=()=>R.useContext(Xwe);Xwe.Provider;function XVe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KVe=R.createContext(XVe()),ZVe=()=>R.useContext(KVe),QVe=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?lY(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},JVe=e=>{R.useEffect(()=>{e.clearReset()},[e])},eHe=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||lY(n,[e.error,r])),tHe=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},nHe=(e,t)=>e.isLoading&&e.isFetching&&!t,rHe=(e,t)=>e?.suspense&&t.isPending,Ale=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function iHe(e,t,n){const r=YVe(),i=ZVe(),o=pn(),s=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s);const a=o.getQueryCache().get(s.queryHash);s._optimisticResults=r?"isRestoring":"optimistic",tHe(s),QVe(s,i,a),JVe(i);const l=!o.getQueryCache().get(s.queryHash),[c]=R.useState(()=>new t(o,s)),u=c.getOptimisticResult(s),d=!r&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(f=>{const p=d?c.subscribe(No.batchCalls(f)):$a;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),R.useEffect(()=>{c.setOptions(s)},[s,c]),rHe(s,u))throw Ale(s,c,i);if(eHe({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a,suspense:s.suspense}))throw u.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,u),s.experimental_prefetchInRender&&!Wv&&nHe(u,r)&&(l?Ale(s,c,i):a?.promise)?.catch($a).finally(()=>{c.updateResult()}),s.notifyOnChangeProps?u:c.trackResult(u)}function Hi(e,t){return iHe(e,LVe)}function Kwe(e,t){const n=pn(),r=n.getQueryCache();return R.useSyncExternalStore(R.useCallback(i=>r.subscribe(No.batchCalls(i)),[r]),()=>n.isFetching(e),()=>n.isFetching(e))}function kn(e,t){const n=pn(),[r]=R.useState(()=>new HVe(n,e));R.useEffect(()=>{r.setOptions(e)},[r,e]);const i=R.useSyncExternalStore(R.useCallback(s=>r.subscribe(No.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=R.useCallback((s,a)=>{r.mutate(s,a).catch($a)},[r]);if(i.error&&lY(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const JU=new WeakMap,oHe=new WeakMap,Nj={current:[]};let TB=!1,cE=0;const wk=new Set,KP=new Map;function Zwe(e){for(const t of e){if(Nj.current.includes(t))continue;Nj.current.push(t),t.recompute();const n=oHe.get(t);if(n)for(const r of n){const i=JU.get(r);i?.length&&Zwe(i)}}}function sHe(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function aHe(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function Qwe(e){if(cE>0&&!KP.has(e)&&KP.set(e,e.prevState),wk.add(e),!(cE>0)&&!TB)try{for(TB=!0;wk.size>0;){const t=Array.from(wk);wk.clear();for(const n of t){const r=KP.get(n)??n.prevState;n.prevState=r,sHe(n)}for(const n of t){const r=JU.get(n);r&&(Nj.current.push(n),Zwe(r))}for(const n of t){const r=JU.get(n);if(r)for(const i of r)aHe(i)}}}finally{TB=!1,Nj.current=[],KP.clear()}}function uE(e){cE++;try{e()}finally{if(cE--,cE===0){const t=wk.values().next().value;t&&Qwe(t)}}}function lHe(e){return typeof e=="function"}let cHe=class{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var i,o;this.listeners.add(r);const s=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),s?.()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,i;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):lHe(t)?this.state=t(this.prevState):this.state=t,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),Qwe(this)}};const Dm="__TSR_index",Ple="popstate",Dle="beforeunload";function uHe(e){let t=e.getLocation();const n=new Set,r=s=>{t=e.getLocation(),n.forEach(a=>a({location:t,action:s}))},i=s=>{e.notifyOnIndexChange??!0?r(s):t=e.getLocation()},o=async({task:s,navigateOpts:a,...l})=>{if(a?.ignoreBlocker??!1){s();return}const u=e.getBlockers?.()??[],d=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&u.length&&d)for(const f of u){const p=QE(l.path,l.state);if(await f.blockerFn({currentLocation:t,nextLocation:p,action:l.type})){e.onBlocked?.();return}}s()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:s=>(n.add(s),()=>{n.delete(s)}),push:(s,a,l)=>{const c=t.state[Dm];a=Ole(c+1,a),o({task:()=>{e.pushState(s,a),r({type:"PUSH"})},navigateOpts:l,type:"PUSH",path:s,state:a})},replace:(s,a,l)=>{const c=t.state[Dm];a=Ole(c,a),o({task:()=>{e.replaceState(s,a),r({type:"REPLACE"})},navigateOpts:l,type:"REPLACE",path:s,state:a})},go:(s,a)=>{o({task:()=>{e.go(s),i({type:"GO",index:s})},navigateOpts:a,type:"GO"})},back:s=>{o({task:()=>{e.back(s?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:s,type:"BACK"})},forward:s=>{o({task:()=>{e.forward(s?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:s,type:"FORWARD"})},canGoBack:()=>t.state[Dm]!==0,createHref:s=>e.createHref(s),block:s=>{if(!e.setBlockers)return()=>{};const a=e.getBlockers?.()??[];return e.setBlockers([...a,s]),()=>{const l=e.getBlockers?.()??[];e.setBlockers?.(l.filter(c=>c!==s))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:r}}function Ole(e,t){t||(t={});const n=dY();return{...t,key:n,__TSR_key:n,[Dm]:e}}function Jwe(e){const t=e?.window??(typeof document<"u"?window:void 0),n=t.history.pushState,r=t.history.replaceState;let i=[];const o=()=>i,s=A=>i=A,a=e?.createHref??(A=>A),l=e?.parseLocation??(()=>QE(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){const A=dY();t.history.replaceState({[Dm]:0,key:A,__TSR_key:A},"")}let c=l(),u,d=!1,f=!1,p=!1,g=!1;const y=()=>c;let v,x;const w=()=>{v&&(E._ignoreSubscribers=!0,(v.isPush?t.history.pushState:t.history.replaceState)(v.state,"",v.href),E._ignoreSubscribers=!1,v=void 0,x=void 0,u=void 0)},S=(A,O,I)=>{const j=a(O);x||(u=c),c=QE(O,I),v={href:j,state:I,isPush:v?.isPush||A==="push"},x||(x=Promise.resolve().then(()=>w()))},C=A=>{c=l(),E.notify({type:A})},k=async()=>{if(f){f=!1;return}const A=l(),O=A.state[Dm]-c.state[Dm],I=O===1,j=O===-1,P=!I&&!j||d;d=!1;const $=P?"GO":j?"BACK":"FORWARD",D=P?{type:"GO",index:O}:{type:j?"BACK":"FORWARD"};if(p)p=!1;else{const F=o();if(typeof document<"u"&&F.length){for(const N of F)if(await N.blockerFn({currentLocation:c,nextLocation:A,action:$})){f=!0,t.history.go(1),E.notify(D);return}}}c=l(),E.notify(D)},T=A=>{if(g){g=!1;return}let O=!1;const I=o();if(typeof document<"u"&&I.length)for(const j of I){const P=j.enableBeforeUnload??!0;if(P===!0){O=!0;break}if(typeof P=="function"&&P()===!0){O=!0;break}}if(O)return A.preventDefault(),A.returnValue=""},E=uHe({getLocation:y,getLength:()=>t.history.length,pushState:(A,O)=>S("push",A,O),replaceState:(A,O)=>S("replace",A,O),back:A=>(A&&(p=!0),g=!0,t.history.back()),forward:A=>{A&&(p=!0),g=!0,t.history.forward()},go:A=>{d=!0,t.history.go(A)},createHref:A=>a(A),flush:w,destroy:()=>{t.history.pushState=n,t.history.replaceState=r,t.removeEventListener(Dle,T,{capture:!0}),t.removeEventListener(Ple,k)},onBlocked:()=>{u&&c!==u&&(c=u)},getBlockers:o,setBlockers:s,notifyOnIndexChange:!1});return t.addEventListener(Dle,T,{capture:!0}),t.addEventListener(Ple,k),t.history.pushState=function(...A){const O=n.apply(t.history,A);return E._ignoreSubscribers||C("PUSH"),O},t.history.replaceState=function(...A){const O=r.apply(t.history,A);return E._ignoreSubscribers||C("REPLACE"),O},E}function dHe(e){const t=typeof document<"u"?window:void 0;return Jwe({window:t,parseLocation:()=>{const n=t.location.hash.split("#").slice(1),r=n[0]??"/",i=t.location.search,o=n.slice(1),s=o.length===0?"":`#${o.join("#")}`,a=`${r}${i}${s}`;return QE(a,t.history.state)},createHref:n=>`${t.location.pathname}${t.location.search}#${n}`})}function fHe(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function QE(e,t){const n=fHe(e),r=n.indexOf("#"),i=n.indexOf("?"),o=dY();return{href:n,pathname:n.substring(0,r>0?i>0?Math.min(r,i):r:i>0?i:n.length),hash:r>-1?n.substring(r):"",search:i>-1?n.slice(i,r===-1?void 0:r):"",state:t||{[Dm]:0,key:o,__TSR_key:o}}}function dY(){return(Math.random()+1).toString(36).substring(7)}function zj(e){return e[e.length-1]}function pHe(e){return typeof e=="function"}function gm(e,t){return pHe(e)?e(t):e}const hHe=Object.prototype.hasOwnProperty;function nu(e,t){if(e===t)return e;const n=t,r=$le(e)&&$le(n);if(!r&&!(Bj(e)&&Bj(n)))return n;const i=r?e:Ile(e);if(!i)return n;const o=r?n:Ile(n);if(!o)return n;const s=i.length,a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=r?u:o[u],f=e[d],p=n[d];if(f===p){l[d]=f,(r?u<s:hHe.call(e,d))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[d]=p;continue}const g=nu(f,p);l[d]=g,g===f&&c++}return s===a&&c===s?e:l}function Ile(e){const t=[],n=Object.getOwnPropertyNames(e);for(const i of n){if(!Object.prototype.propertyIsEnumerable.call(e,i))return!1;t.push(i)}const r=Object.getOwnPropertySymbols(e);for(const i of r){if(!Object.prototype.propertyIsEnumerable.call(e,i))return!1;t.push(i)}return t}function Bj(e){if(!jle(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!jle(n)||!n.hasOwnProperty("isPrototypeOf"))}function jle(e){return Object.prototype.toString.call(e)==="[object Object]"}function $le(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sv(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0,i=e.length;r<i;r++)if(!Sv(e[r],t[r],n))return!1;return!0}if(Bj(e)&&Bj(t)){const r=n?.ignoreUndefined??!0;if(n?.partial){for(const s in t)if((!r||t[s]!==void 0)&&!Sv(e[s],t[s],n))return!1;return!0}let i=0;if(!r)i=Object.keys(e).length;else for(const s in e)e[s]!==void 0&&i++;let o=0;for(const s in t)if((!r||t[s]!==void 0)&&(o++,o>i||!Sv(e[s],t[s],n)))return!1;return i===o}return!1}function qw(e){let t,n;const r=new Promise((i,o)=>{t=i,n=o});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,t(i),e?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function Om(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function gHe(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function Fle(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return gHe(t)}function Lle(e,t){if(!e)return e;const n=/%25|%5C/gi;let r=0,i="",o;for(;(o=n.exec(e))!==null;)i+=Fle(e.slice(r,o.index))+o[0],r=n.lastIndex;return i=i+Fle(r?e.slice(r):e),i.startsWith("//")&&(i="/"+i.replace(/^\/+/,"")),i}var mHe="Invariant failed";function Gf(e,t){if(!e)throw new Error(mHe)}function Uj(e){const t=new Map;let n,r;const i=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,r&&(r.next=o,o.prev=r)):(o.next.prev=void 0,n=o.next,o.next=void 0,r&&(o.prev=r,r.next=o)),r=o)};return{get(o){const s=t.get(o);if(s)return i(s),s.value},set(o,s){if(t.size>=e&&n){const l=n;t.delete(l.key),l.next&&(n=l.next,l.next.prev=void 0),l===r&&(r=void 0)}const a=t.get(o);if(a)a.value=s,i(a);else{const l={key:o,value:s,prev:r};r&&(r.next=l),r=l,n||(n=l),t.set(o,l)}},clear(){t.clear(),n=void 0,r=void 0}}}const Gw=0,Gv=1,Yv=2,JE=3,q1=4,yHe=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,vHe=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,bHe=/^([^{]*)\{\$\}([^}]*)$/;function fY(e,t,n=new Uint16Array(6)){const r=e.indexOf("/",t),i=r===-1?e.length:r,o=e.substring(t,i);if(!o||!o.includes("$"))return n[0]=Gw,n[1]=t,n[2]=t,n[3]=i,n[4]=i,n[5]=i,n;if(o==="$"){const c=e.length;return n[0]=Yv,n[1]=t,n[2]=t,n[3]=c,n[4]=c,n[5]=c,n}if(o.charCodeAt(0)===36)return n[0]=Gv,n[1]=t,n[2]=t+1,n[3]=i,n[4]=i,n[5]=i,n;const s=o.match(bHe);if(s){const u=s[1].length;return n[0]=Yv,n[1]=t+u,n[2]=t+u+1,n[3]=t+u+2,n[4]=t+u+3,n[5]=e.length,n}const a=o.match(vHe);if(a){const c=a[1],u=a[2],d=a[3],f=c.length;return n[0]=JE,n[1]=t+f,n[2]=t+f+3,n[3]=t+f+3+u.length,n[4]=i-d.length,n[5]=i,n}const l=o.match(yHe);if(l){const c=l[1],u=l[2],d=l[3],f=c.length;return n[0]=Gv,n[1]=t+f,n[2]=t+f+2,n[3]=t+f+2+u.length,n[4]=i-d.length,n[5]=i,n}return n[0]=Gw,n[1]=t,n[2]=t,n[3]=i,n[4]=i,n[5]=i,n}function J3(e,t,n,r,i,o,s){s?.(n);let a=r;{const l=n.fullPath??n.from,c=l.length,u=n.options?.caseSensitive??e;for(;a<c;){const f=fY(l,a,t);let p;const g=a,y=f[5];switch(a=y+1,o++,f[0]){case Gw:{const x=l.substring(f[2],f[3]);if(u){const w=i.static?.get(x);if(w)p=w;else{i.static??=new Map;const S=bw(n.fullPath??n.from);S.parent=i,S.depth=o,p=S,i.static.set(x,S)}}else{const w=x.toLowerCase(),S=i.staticInsensitive?.get(w);if(S)p=S;else{i.staticInsensitive??=new Map;const C=bw(n.fullPath??n.from);C.parent=i,C.depth=o,p=C,i.staticInsensitive.set(w,C)}}break}case Gv:{const x=l.substring(g,f[1]),w=l.substring(f[4],y),S=u&&!!(x||w),C=x?S?x:x.toLowerCase():void 0,k=w?S?w:w.toLowerCase():void 0,T=i.dynamic?.find(E=>E.caseSensitive===S&&E.prefix===C&&E.suffix===k);if(T)p=T;else{const E=MB(Gv,n.fullPath??n.from,S,C,k);p=E,E.depth=o,E.parent=i,i.dynamic??=[],i.dynamic.push(E)}break}case JE:{const x=l.substring(g,f[1]),w=l.substring(f[4],y),S=u&&!!(x||w),C=x?S?x:x.toLowerCase():void 0,k=w?S?w:w.toLowerCase():void 0,T=i.optional?.find(E=>E.caseSensitive===S&&E.prefix===C&&E.suffix===k);if(T)p=T;else{const E=MB(JE,n.fullPath??n.from,S,C,k);p=E,E.parent=i,E.depth=o,i.optional??=[],i.optional.push(E)}break}case Yv:{const x=l.substring(g,f[1]),w=l.substring(f[4],y),S=u&&!!(x||w),C=x?S?x:x.toLowerCase():void 0,k=w?S?w:w.toLowerCase():void 0,T=MB(Yv,n.fullPath??n.from,S,C,k);p=T,T.parent=i,T.depth=o,i.wildcard??=[],i.wildcard.push(T)}}i=p}const d=(n.path||!n.children)&&!n.isRoot;if(d&&l.endsWith("/")){const f=bw(n.fullPath??n.from);f.kind=q1,f.parent=i,o++,f.depth=o,i.index=f,i=f}d&&!i.route&&(i.route=n,i.fullPath=n.fullPath??n.from)}if(n.children)for(const l of n.children)J3(e,t,l,a,i,o,s)}function RB(e,t){if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function Yy(e){if(e.static)for(const t of e.static.values())Yy(t);if(e.staticInsensitive)for(const t of e.staticInsensitive.values())Yy(t);if(e.dynamic?.length){e.dynamic.sort(RB);for(const t of e.dynamic)Yy(t)}if(e.optional?.length){e.optional.sort(RB);for(const t of e.optional)Yy(t)}if(e.wildcard?.length){e.wildcard.sort(RB);for(const t of e.wildcard)Yy(t)}}function bw(e){return{kind:Gw,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null}}function MB(e,t,n,r,i){return{kind:e,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,caseSensitive:n,prefix:r,suffix:i}}function xHe(e,t){const n=bw("/"),r=new Uint16Array(6);for(const i of e)J3(!1,r,i,1,n,0);Yy(n),t.masksTree=n,t.flatCache=Uj(1e3)}function wHe(e,t){e||="/";const n=t.flatCache.get(e);if(n)return n;const r=pY(e,t.masksTree);return t.flatCache.set(e,r),r}function SHe(e,t,n,r,i){e||="/",r||="/";const o=t?`case\0${e}`:e;let s=i.singleCache.get(o);if(!s){s=bw("/");const a=new Uint16Array(6);J3(t,a,{from:e},1,s,0),i.singleCache.set(o,s)}return pY(r,s,n)}function _He(e,t,n=!1){const r=n?e:`nofuzz\0${e}`,i=t.matchCache.get(r);if(i!==void 0)return i;e||="/";const o=pY(e,t.segmentTree,n);return o&&(o.branch=THe(o.route)),t.matchCache.set(r,o),o}function CHe(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function kHe(e,t=!1,n){const r=bw(e.fullPath),i=new Uint16Array(6),o={},s={};let a=0;return J3(t,i,e,1,r,0,c=>{if(n?.(c,a),Gf(!(c.id in o),`Duplicate routes found with id: ${String(c.id)}`),o[c.id]=c,a!==0&&c.path){const u=CHe(c.fullPath);(!s[u]||c.fullPath.endsWith("/"))&&(s[u]=c)}a++}),Yy(r),{processedTree:{segmentTree:r,singleCache:Uj(1e3),matchCache:Uj(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:s}}function pY(e,t,n=!1){const r=e.split("/"),i=MHe(e,r,t,n);if(!i)return null;const o=EHe(e,r,i);return"**"in i&&(o["**"]=i["**"]),{route:i.node.route,params:o}}function EHe(e,t,n){const r=RHe(n.node);let i=null;const o={};for(let s=0,a=0,l=0;a<r.length;s++,a++,l++){const c=r[a],u=t[s],d=l;if(u&&(l+=u.length),c.kind===Gv){i??=n.node.fullPath.split("/");const f=i[a],p=c.prefix?.length??0;if(f.charCodeAt(p)===123){const y=c.suffix?.length??0,v=f.substring(p+2,f.length-y-1),x=u.substring(p,u.length-y);o[v]=decodeURIComponent(x)}else{const y=f.substring(1);o[y]=decodeURIComponent(u)}}else if(c.kind===JE){if(n.skipped&1<<a){s--;continue}i??=n.node.fullPath.split("/");const f=i[a],p=c.prefix?.length??0,g=c.suffix?.length??0,y=f.substring(p+3,f.length-g-1),v=c.suffix||c.prefix?u.substring(p,u.length-g):u;v&&(o[y]=decodeURIComponent(v))}else if(c.kind===Yv){const f=c,p=e.substring(d+(f.prefix?.length??0),e.length-(f.suffix?.length??0)),g=decodeURIComponent(p);o["*"]=g,o._splat=g;break}}return o}function THe(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function RHe(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function MHe(e,t,n,r){if(e==="/"&&n.index)return{node:n.index,skipped:0};const i=!zj(t),o=i&&e!=="/",s=t.length-(i?1:0),a=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let l=null,c=null,u=null;for(;a.length;){const d=a.pop();let{node:f,index:p,skipped:g,depth:y,statics:v,dynamics:x,optionals:w}=d;r&&f.route&&f.kind!==q1&&y2(c,d)&&(c=d);const S=p===s;if(S&&(f.route&&!o&&y2(u,d)&&(u=d),!f.optional&&!f.wildcard&&!f.index))continue;const C=S?void 0:t[p];let k;if(S&&f.index){const T={node:f.index,index:p,skipped:g,depth:y+1,statics:v,dynamics:x,optionals:w};if(v===s&&!x&&!w&&!g)return T;y2(u,T)&&(u=T)}if(f.wildcard&&y2(l,d))for(const T of f.wildcard){const{prefix:E,suffix:A}=T;if(!(E&&(S||!(T.caseSensitive?C:k??=C.toLowerCase()).startsWith(E)))){if(A){if(S)continue;const O=t.slice(p).join("/").slice(-A.length);if((T.caseSensitive?O:O.toLowerCase())!==A)continue}l={node:T,index:s,skipped:g,depth:y,statics:v,dynamics:x,optionals:w};break}}if(f.optional){const T=g|1<<y,E=y+1;for(let A=f.optional.length-1;A>=0;A--){const O=f.optional[A];a.push({node:O,index:p,skipped:T,depth:E,statics:v,dynamics:x,optionals:w})}if(!S)for(let A=f.optional.length-1;A>=0;A--){const O=f.optional[A],{prefix:I,suffix:j}=O;if(I||j){const P=O.caseSensitive?C:k??=C.toLowerCase();if(I&&!P.startsWith(I)||j&&!P.endsWith(j))continue}a.push({node:O,index:p+1,skipped:g,depth:E,statics:v,dynamics:x,optionals:w+1})}}if(!S&&f.dynamic&&C)for(let T=f.dynamic.length-1;T>=0;T--){const E=f.dynamic[T],{prefix:A,suffix:O}=E;if(A||O){const I=E.caseSensitive?C:k??=C.toLowerCase();if(A&&!I.startsWith(A)||O&&!I.endsWith(O))continue}a.push({node:E,index:p+1,skipped:g,depth:y+1,statics:v,dynamics:x+1,optionals:w})}if(!S&&f.staticInsensitive){const T=f.staticInsensitive.get(k??=C.toLowerCase());T&&a.push({node:T,index:p+1,skipped:g,depth:y+1,statics:v+1,dynamics:x,optionals:w})}if(!S&&f.static){const T=f.static.get(C);T&&a.push({node:T,index:p+1,skipped:g,depth:y+1,statics:v+1,dynamics:x,optionals:w})}}if(u&&l)return y2(l,u)?u:l;if(u)return u;if(l)return l;if(r&&c){let d=c.index;for(let p=0;p<c.index;p++)d+=t[p].length;const f=d===e.length?"/":e.slice(d);return{node:c.node,skipped:c.skipped,"**":decodeURIComponent(f)}}return null}function y2(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===q1)>(e.node.kind===q1)||t.node.kind===q1==(e.node.kind===q1)&&t.depth>e.depth))):!0}function bI(e){return hY(e.filter(t=>t!==void 0).join("/"))}function hY(e){return e.replace(/\/{2,}/g,"/")}function eSe(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function _v(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function tSe(e){return _v(eSe(e))}function Vj(e,t){return e?.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function AHe(e,t,n){return Vj(e,n)===Vj(t,n)}function PHe({base:e,to:t,trailingSlash:n="never",cache:r}){const i=t.startsWith("/"),o=!i&&t===".";let s;if(r){s=i?t:o?e:e+"\0"+t;const d=r.get(s);if(d)return d}let a;if(o)a=e.split("/");else if(i)a=t.split("/");else{for(a=e.split("/");a.length>1&&zj(a)==="";)a.pop();const d=t.split("/");for(let f=0,p=d.length;f<p;f++){const g=d[f];g===""?f?f===p-1&&a.push(g):a=[g]:g===".."?a.pop():g==="."||a.push(g)}}a.length>1&&(zj(a)===""?n==="never"&&a.pop():n==="always"&&a.push(""));let l,c="";for(let d=0;d<a.length;d++){d>0&&(c+="/");const f=a[d];if(!f)continue;l=fY(f,0,l);const p=l[0];if(p===Gw){c+=f;continue}const g=l[5],y=f.substring(0,l[1]),v=f.substring(l[4],g),x=f.substring(l[2],l[3]);p===Gv?c+=y||v?`${y}{$${x}}${v}`:`$${x}`:p===Yv?c+=y||v?`${y}{$}${v}`:"$":c+=`${y}{-$${x}}${v}`}c=hY(c);const u=c||"/";return s&&r&&r.set(s,u),u}function AB(e,t,n){const r=t[e];return typeof r!="string"?r:e==="_splat"?encodeURI(r):DHe(r,n)}function PB({path:e,params:t,decodeCharMap:n}){let r=!1;const i={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:i,isMissingParams:r};if(!e.includes("$"))return{interpolatedPath:e,usedParams:i,isMissingParams:r};const o=e.length;let s=0,a,l="";for(;s<o;){const u=s;a=fY(e,u,a);const d=a[5];if(s=d+1,u===d)continue;const f=a[0];if(f===Gw){l+="/"+e.substring(u,d);continue}if(f===Yv){const p=t._splat;i._splat=p,i["*"]=p;const g=e.substring(u,a[1]),y=e.substring(a[4],d);if(!p){r=!0,(g||y)&&(l+="/"+g+y);continue}const v=AB("_splat",t,n);l+="/"+g+v+y;continue}if(f===Gv){const p=e.substring(a[2],a[3]);!r&&!(p in t)&&(r=!0),i[p]=t[p];const g=e.substring(u,a[1]),y=e.substring(a[4],d),v=AB(p,t,n)??"undefined";l+="/"+g+v+y;continue}if(f===JE){const p=e.substring(a[2],a[3]),g=t[p];if(g==null)continue;i[p]=g;const y=e.substring(u,a[1]),v=e.substring(a[4],d),x=AB(p,t,n)??"";l+="/"+y+x+v;continue}}return e.endsWith("/")&&(l+="/"),{usedParams:i,interpolatedPath:l||"/",isMissingParams:r}}function DHe(e,t){let n=encodeURIComponent(e);if(t)for(const[r,i]of t)n=n.replaceAll(r,i);return n}function vc(e){return!!e?.isNotFound}function OHe(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Hj="tsr-scroll-restoration-v1_3",IHe=(e,t)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{e(...r),n=null},t))}};function jHe(){const e=OHe();if(!e)return null;const t=e.getItem(Hj);let n=t?JSON.parse(t):{};return{state:n,set:r=>{n=gm(r,n)||n;try{e.setItem(Hj,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const ZP=jHe(),eV=e=>e.state.__TSR_key||e.href;function $He(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let Wj=!1;function nSe({storageKey:e,key:t,behavior:n,shouldScrollRestoration:r,scrollToTopSelectors:i,location:o}){let s;try{s=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(c){console.error(c);return}const a=t||window.history.state?.__TSR_key,l=s[a];Wj=!0;e:{if(r&&l&&Object.keys(l).length>0){for(const d in l){const f=l[d];if(d==="window")window.scrollTo({top:f.scrollY,left:f.scrollX,behavior:n});else if(d){const p=document.querySelector(d);p&&(p.scrollLeft=f.scrollX,p.scrollTop=f.scrollY)}}break e}const c=(o??window.location).hash.split("#",2)[1];if(c){const d=window.history.state?.__hashScrollIntoViewOptions??!0;if(d){const f=document.getElementById(c);f&&f.scrollIntoView(d)}break e}const u={top:0,left:0,behavior:n};if(window.scrollTo(u),i)for(const d of i){if(d==="window")continue;const f=typeof d=="function"?d():document.querySelector(d);f&&f.scrollTo(u)}}Wj=!1}function FHe(e,t){if(!ZP&&!e.isServer||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isServer||e.isScrollRestorationSetup||!ZP))return;e.isScrollRestorationSetup=!0,Wj=!1;const r=e.options.getScrollRestorationKey||eV;window.history.scrollRestoration="manual";const i=o=>{if(Wj||!e.isScrollRestoring)return;let s="";if(o.target===document||o.target===window)s="window";else{const l=o.target.getAttribute("data-scroll-restoration-id");l?s=`[data-scroll-restoration-id="${l}"]`:s=$He(o.target)}const a=r(e.state.location);ZP.set(l=>{const c=l[a]||={},u=c[s]||={};if(s==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(s){const d=document.querySelector(s);d&&(u.scrollX=d.scrollLeft||0,u.scrollY=d.scrollTop||0)}return l})};typeof document<"u"&&document.addEventListener("scroll",IHe(i,100),!0),e.subscribe("onRendered",o=>{const s=r(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(nSe({storageKey:Hj,key:s,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&ZP.set(a=>(a[s]||={},a)))})}function LHe(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function NHe(e,t=String){const n=new URLSearchParams;for(const r in e){const i=e[r];i!==void 0&&n.set(r,t(i))}return n.toString()}function DB(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function zHe(e){const t=new URLSearchParams(e),n={};for(const[r,i]of t.entries()){const o=n[r];o==null?n[r]=DB(i):Array.isArray(o)?o.push(DB(i)):n[r]=[o,DB(i)]}return n}const BHe=VHe(JSON.parse),UHe=HHe(JSON.stringify,JSON.parse);function VHe(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=zHe(t);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=e(i)}catch{}}return n}}function HHe(e,t){const n=typeof t=="function";function r(i){if(typeof i=="object"&&i!==null)try{return e(i)}catch{}else if(n&&typeof i=="string")try{return t(i),e(i)}catch{}return i}return i=>{const o=NHe(i,r);return o?`?${o}`:""}}const ic="__root__";function WHe(e){if(e.statusCode=e.statusCode||e.code||307,!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function du(e){return e instanceof Response&&!!e.options}const xI=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},eF=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),gY=(e,t,n=!0)=>{const r={...e.router.options.context??{}},i=n?t:t-1;for(let o=0;o<=i;o++){const s=e.matches[o];if(!s)continue;const a=e.router.getMatch(s.id);a&&Object.assign(r,a.__routeContext,a.__beforeLoadContext)}return r},rSe=(e,t)=>{const n=e.router.routesById[t.routeId??""]??e.router.routeTree;!n.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=e.router.options.defaultNotFoundComponent),Gf(n.options.notFoundComponent);const r=e.matches.find(i=>i.routeId===n.id);Gf(r,"Could not find match for route: "+n.id),e.updateMatch(r.id,i=>({...i,status:"notFound",error:t,isFetching:!1})),t.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(t.routeId=n.parentRoute.id,rSe(e,t))},mm=(e,t,n)=>{if(!(!du(n)&&!vc(n))){if(du(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const r=du(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,i=>({...i,status:r,isFetching:!1,error:n})),vc(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw du(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(rSe(e,n),n)}},iSe=(e,t)=>{const n=e.router.getMatch(t);return!!(!e.router.isServer&&n._nonReactive.dehydrated||e.router.isServer&&n.ssr===!1)},v2=(e,t,n,r)=>{const{id:i,routeId:o}=e.matches[t],s=e.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=r,e.firstBadMatchIndex??=t,mm(e,e.router.getMatch(i),n);try{s.options.onError?.(n)}catch(a){n=a,mm(e,e.router.getMatch(i),n)}e.updateMatch(i,a=>(a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,a._nonReactive.loadPromise?.resolve(),{...a,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},qHe=(e,t,n,r)=>{const i=e.router.getMatch(t),o=e.matches[n-1]?.id,s=o?e.router.getMatch(o):void 0;if(e.router.isShell()){i.ssr=r.id===ic;return}if(s?.ssr===!1){i.ssr=!1;return}const a=p=>p===!0&&s?.ssr==="data-only"?"data-only":p,l=e.router.options.defaultSsr??!0;if(r.options.ssr===void 0){i.ssr=a(l);return}if(typeof r.options.ssr!="function"){i.ssr=a(r.options.ssr);return}const{search:c,params:u}=i,d={search:QP(c,i.searchError),params:QP(u,i.paramsError),location:e.location,matches:e.matches.map(p=>({index:p.index,pathname:p.pathname,fullPath:p.fullPath,staticData:p.staticData,id:p.id,routeId:p.routeId,search:QP(p.search,p.searchError),params:QP(p.params,p.paramsError),ssr:p.ssr}))},f=r.options.ssr(d);if(Om(f))return f.then(p=>{i.ssr=a(p??l)});i.ssr=a(f??l)},oSe=(e,t,n,r)=>{if(r._nonReactive.pendingTimeout!==void 0)return;const i=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!e.router.isServer&&!eF(e,t)&&(n.options.loader||n.options.beforeLoad||lSe(n))&&typeof i=="number"&&i!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent))){const s=setTimeout(()=>{xI(e)},i);r._nonReactive.pendingTimeout=s}},GHe=(e,t,n)=>{const r=e.router.getMatch(t);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;oSe(e,t,n,r);const i=()=>{const o=e.router.getMatch(t);o.preload&&(o.status==="redirected"||o.status==="notFound")&&mm(e,o,o.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(i):i()},YHe=(e,t,n,r)=>{const i=e.router.getMatch(t),o=i._nonReactive.loadPromise;i._nonReactive.loadPromise=qw(()=>{o?.resolve()});const{paramsError:s,searchError:a}=i;s&&v2(e,n,s,"PARSE_PARAMS"),a&&v2(e,n,a,"VALIDATE_SEARCH"),oSe(e,t,r,i);const l=new AbortController,c=e.matches[n-1]?.id;(c?e.router.getMatch(c):void 0)?.context??e.router.options.context;let d=!1;const f=()=>{d||(d=!0,e.updateMatch(t,T=>({...T,isFetching:"beforeLoad",fetchCount:T.fetchCount+1,abortController:l})))},p=()=>{i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,T=>({...T,isFetching:!1}))};if(!r.options.beforeLoad){uE(()=>{f(),p()});return}i._nonReactive.beforeLoadPromise=qw();const g={...gY(e,n,!1),...i.__routeContext},{search:y,params:v,cause:x}=i,w=eF(e,t),S={search:y,abortController:l,params:v,preload:w,context:g,location:e.location,navigate:T=>e.router.navigate({...T,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:w?"preload":x,matches:e.matches,...e.router.options.additionalContext},C=T=>{if(T===void 0){uE(()=>{f(),p()});return}(du(T)||vc(T))&&(f(),v2(e,n,T,"BEFORE_LOAD")),uE(()=>{f(),e.updateMatch(t,E=>({...E,__beforeLoadContext:T})),p()})};let k;try{if(k=r.options.beforeLoad(S),Om(k))return f(),k.catch(T=>{v2(e,n,T,"BEFORE_LOAD")}).then(C)}catch(T){f(),v2(e,n,T,"BEFORE_LOAD")}C(k)},XHe=(e,t)=>{const{id:n,routeId:r}=e.matches[t],i=e.router.looseRoutesById[r],o=()=>{if(e.router.isServer){const l=qHe(e,n,t,i);if(Om(l))return l.then(a)}return a()},s=()=>YHe(e,n,t,i),a=()=>{if(iSe(e,n))return;const l=GHe(e,n,i);return Om(l)?l.then(s):s()};return o()},KHe=(e,t,n)=>{const r=e.router.getMatch(t);if(!r||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const i={matches:e.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([n.options.head?.(i),n.options.scripts?.(i),n.options.headers?.(i)]).then(([o,s,a])=>{const l=o?.meta,c=o?.links,u=o?.scripts,d=o?.styles;return{meta:l,links:c,headScripts:u,headers:a,scripts:s,styles:d}})},sSe=(e,t,n,r)=>{const i=e.matchPromises[n-1],{params:o,loaderDeps:s,abortController:a,cause:l}=e.router.getMatch(t),c=gY(e,n),u=eF(e,t);return{params:o,deps:s,preload:!!u,parentMatchPromise:i,abortController:a,context:c,location:e.location,navigate:d=>e.router.navigate({...d,_fromLocation:e.location}),cause:u?"preload":l,route:r,...e.router.options.additionalContext}},Nle=async(e,t,n,r)=>{try{const i=e.router.getMatch(t);try{(!e.router.isServer||i.ssr===!0)&&aSe(r);const o=r.options.loader?.(sSe(e,t,n,r)),s=r.options.loader&&Om(o);if((s||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||i._nonReactive.minPendingPromise)&&e.updateMatch(t,c=>({...c,isFetching:"loader"})),r.options.loader){const c=s?await o:o;mm(e,e.router.getMatch(t),c),c!==void 0&&e.updateMatch(t,u=>({...u,loaderData:c}))}r._lazyPromise&&await r._lazyPromise;const l=i._nonReactive.minPendingPromise;l&&await l,r._componentsPromise&&await r._componentsPromise,e.updateMatch(t,c=>({...c,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let s=o;const a=i._nonReactive.minPendingPromise;a&&await a,vc(o)&&await r.options.notFoundComponent?.preload?.(),mm(e,e.router.getMatch(t),o);try{r.options.onError?.(o)}catch(l){s=l,mm(e,e.router.getMatch(t),l)}e.updateMatch(t,l=>({...l,error:s,status:"error",isFetching:!1}))}}catch(i){const o=e.router.getMatch(t);o&&(o._nonReactive.loaderPromise=void 0),mm(e,o,i)}},ZHe=async(e,t)=>{const{id:n,routeId:r}=e.matches[t];let i=!1,o=!1;const s=e.router.looseRoutesById[r],a=()=>{e.updateMatch(n,u=>({...u,context:gY(e,t)}))};if(iSe(e,n)){if(e.router.isServer)return e.router.getMatch(n)}else{const u=e.router.getMatch(n);if(u._nonReactive.loaderPromise){if(u.status==="success"&&!e.sync&&!u.preload)return u;await u._nonReactive.loaderPromise;const d=e.router.getMatch(n),f=d._nonReactive.error||d.error;f&&mm(e,d,f)}else{const d=Date.now()-u.updatedAt,f=eF(e,n),p=f?s.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:s.options.staleTime??e.router.options.defaultStaleTime??0,g=s.options.shouldReload,y=typeof g=="function"?g(sSe(e,n,t,s)):g,v=!!f&&!e.router.state.matches.some(C=>C.id===n),x=e.router.getMatch(n);x._nonReactive.loaderPromise=qw(),v!==x.preload&&e.updateMatch(n,C=>({...C,preload:v}));const{status:w,invalid:S}=x;i=w==="success"&&(S||(y??d>p)),f&&s.options.preload===!1||(i&&!e.sync?(o=!0,(async()=>{try{await Nle(e,n,t,s),a();const C=e.router.getMatch(n);C._nonReactive.loaderPromise?.resolve(),C._nonReactive.loadPromise?.resolve(),C._nonReactive.loaderPromise=void 0}catch(C){du(C)&&await e.router.navigate(C.options)}})()):(w!=="success"||i&&e.sync)&&await Nle(e,n,t,s))}}const l=e.router.getMatch(n);o||(l._nonReactive.loaderPromise?.resolve(),l._nonReactive.loadPromise?.resolve()),clearTimeout(l._nonReactive.pendingTimeout),l._nonReactive.pendingTimeout=void 0,o||(l._nonReactive.loaderPromise=void 0),l._nonReactive.dehydrated=void 0,o||a();const c=o?l.isFetching:!1;return c!==l.isFetching||l.invalid!==!1?(e.updateMatch(n,u=>({...u,isFetching:c,invalid:!1})),e.router.getMatch(n)):l};async function zle(e){const t=Object.assign(e,{matchPromises:[]});!t.router.isServer&&t.router.state.matches.some(n=>n._forcePending)&&xI(t);try{for(let a=0;a<t.matches.length;a++){const l=XHe(t,a);Om(l)&&await l}const n=t.firstBadMatchIndex??t.matches.length;for(let a=0;a<n;a++)t.matchPromises.push(ZHe(t,a));const i=(await Promise.allSettled(t.matchPromises)).filter(a=>a.status==="rejected").map(a=>a.reason);let o;for(const a of i){if(du(a))throw a;!o&&vc(a)&&(o=a)}for(const a of t.matches){const{id:l,routeId:c}=a,u=t.router.looseRoutesById[c];try{const d=KHe(t,l,u);if(d){const f=await d;t.updateMatch(l,p=>({...p,...f}))}}catch(d){console.error(`Error executing head for route ${c}:`,d)}}if(o)throw o;const s=xI(t);Om(s)&&await s}catch(n){if(vc(n)&&!t.preload){const r=xI(t);throw Om(r)&&await r,n}if(du(n))throw n}return t.matches}async function aSe(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...r}=t.options;Object.assign(e.options,r),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{const n=[];for(const r of cSe){const i=e.options[r]?.preload;i&&n.push(i())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function QP(e,t){return t?{status:"error",error:t}:{status:"success",value:e}}function lSe(e){for(const t of cSe)if(e.options[t]?.preload)return!0;return!1}const cSe=["component","errorComponent","pendingComponent","notFoundComponent"];function QHe(e){return{input:({url:t})=>{for(const n of e)t=uSe(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=dSe(e[n],t);return t}}}function JHe(e){const t=tSe(e.basepath),n=`/${t}`,r=`${n}/`,i=e.caseSensitive?n:n.toLowerCase(),o=e.caseSensitive?r:r.toLowerCase();return{input:({url:s})=>{const a=e.caseSensitive?s.pathname:s.pathname.toLowerCase();return a===i?s.pathname="/":a.startsWith(o)&&(s.pathname=s.pathname.slice(n.length)),s},output:({url:s})=>(s.pathname=bI(["/",t,s.pathname]),s)}}function uSe(e,t){const n=e?.input?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function dSe(e,t){const n=e?.output?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Cv(e){const t=e.resolvedLocation,n=e.location,r=t?.pathname!==n.pathname,i=t?.href!==n.href,o=t?.hash!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:r,hrefChanged:i,hashChanged:o}}class eWe{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,i=this.basepath??r?.basepath??"/",o=this.basepath===void 0,s=r?.rewrite;this.options={...r,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(f=>[encodeURIComponent(f),f])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=Jwe())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new cHe(nWe(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(f=>!["redirected"].includes(f.status))}}}),FHe(this));let a=!1;const l=this.options.basepath??"/",c=this.options.rewrite;if(o||i!==l||s!==c){this.basepath=l;const f=[];tSe(l)!==""&&f.push(JHe({basepath:l})),c&&f.push(c),this.rewrite=f.length===0?void 0:f.length===1?f[0]:QHe(f),this.history&&this.updateLatestLocation(),a=!0}a&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:r,processedTree:i}=kHe(this.routeTree,this.options.caseSensitive,(s,a)=>{s.init({originalIndex:a})});this.options.routeMasks&&xHe(this.options.routeMasks,i),this.routesById=n,this.routesByPath=r,this.processedTree=i;const o=this.options.notFoundRoute;o&&(o.init({originalIndex:99999999999}),this.routesById[o.id]=o)},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({href:l,state:c})=>{const u=new URL(l,this.origin),d=uSe(this.rewrite,u),f=this.options.parseSearch(d.search),p=this.options.stringifySearch(f);return d.search=p,{href:d.href.replace(d.origin,""),publicHref:l,url:d,pathname:Lle(d.pathname),searchStr:p,search:nu(r?.search,f),hash:d.hash.split("#").reverse()[0]??"",state:nu(r?.state,c)}},o=i(n),{__tempLocation:s,__tempKey:a}=o.state;if(s&&(!a||a===this.tempLocationKey)){const l=i(s);return l.state.key=o.state.key,l.state.__TSR_key=o.state.__TSR_key,delete l.state.__tempLocation,{...l,maskedLocation:o}}return o},this.resolvePathCache=Uj(1e3),this.resolvePathWithBase=(n,r)=>PHe({base:n,to:hY(r),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,r,i)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},i):this.matchRoutesInternal(n,r),this.getMatchedRoutes=n=>rWe({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),r=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...r]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const r=(o={})=>{const s=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,a=this.matchRoutes(s,{_buildLocation:!0}),l=zj(a);o.from;const c=o.unsafeRelative==="path"?s.pathname:o.from??l.fullPath,u=this.resolvePathWithBase(c,"."),d=l.search,f={...l.params},p=o.to?this.resolvePathWithBase(u,`${o.to}`):this.resolvePathWithBase(u,"."),g=o.params===!1||o.params===null?{}:(o.params??!0)===!0?f:Object.assign(f,gm(o.params,f)),y=PB({path:p,params:g}).interpolatedPath,v=this.matchRoutes(y,void 0,{_buildLocation:!0}).map(I=>this.looseRoutesById[I.routeId]);if(Object.keys(g).length>0)for(const I of v){const j=I.options.params?.stringify??I.options.stringifyParams;j&&Object.assign(g,j(g))}const x=n.leaveParams?p:Lle(PB({path:p,params:g,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let w=d;if(n._includeValidateSearch&&this.options.search?.strict){const I={};v.forEach(j=>{if(j.options.validateSearch)try{Object.assign(I,tV(j.options.validateSearch,{...I,...w}))}catch{}}),w=I}w=iWe({search:w,dest:o,destRoutes:v,_includeValidateSearch:n._includeValidateSearch}),w=nu(d,w);const S=this.options.stringifySearch(w),C=o.hash===!0?s.hash:o.hash?gm(o.hash,s.hash):void 0,k=C?`#${C}`:"";let T=o.state===!0?s.state:o.state?gm(o.state,s.state):{};T=nu(s.state,T);const E=`${x}${S}${k}`,A=new URL(E,this.origin),O=dSe(this.rewrite,A);return{publicHref:O.pathname+O.search+O.hash,href:E,url:O,pathname:x,search:w,searchStr:S,state:T,hash:C??"",unmaskOnReload:o.unmaskOnReload}},i=(o={},s)=>{const a=r(o);let l=s?r(s):void 0;if(!l){const c={};if(this.options.routeMasks){const u=wHe(a.pathname,this.processedTree);if(u){Object.assign(c,u.params);const{from:d,params:f,...p}=u.route,g=f===!1||f===null?{}:(f??!0)===!0?c:Object.assign(c,gm(f,c));s={from:n.from,...p,params:g},l=r(s)}}}return l&&(a.maskedLocation=l),a};return n.mask?i(n,{from:n.from,...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const o=()=>{const l=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];l.forEach(u=>{i.state[u]=this.latestLocation.state[u]});const c=Sv(i.state,this.latestLocation.state);return l.forEach(u=>{delete i.state[u]}),c},s=_v(this.latestLocation.href)===_v(i.href),a=this.commitLocationPromise;if(this.commitLocationPromise=qw(()=>{a?.resolve()}),s&&o())this.load();else{let{maskedLocation:l,hashScrollIntoView:c,url:u,...d}=i;l&&(d={...l,state:{...l.state,__tempKey:void 0,__tempLocation:{...d,search:d.searchStr,state:{...d.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(d.unmaskOnReload??this.options.unmaskOnReload??!1)&&(d.state.__tempKey=this.tempLocationKey)),d.state.__hashScrollIntoViewOptions=c??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](d.publicHref,d.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:o,ignoreBlocker:s,href:a,...l}={})=>{if(a){const d=this.history.location.state.__TSR_index,f=QE(a,{__TSR_index:n?d:d+1});l.to=f.pathname,l.search=this.options.parseSearch(f.search),l.hash=f.hash.slice(1)}const c=this.buildLocation({...l,_includeValidateSearch:!0});this.pendingBuiltLocation=c;const u=this.commitLocation({...c,viewTransition:o,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:s});return Promise.resolve().then(()=>{this.pendingBuiltLocation===c&&(this.pendingBuiltLocation=void 0)}),u},this.navigate=async({to:n,reloadDocument:r,href:i,publicHref:o,...s})=>{let a=!1;if(i)try{new URL(`${i}`),a=!0}catch{}if(a&&!r&&(r=!0),r){if(!i||!o&&!a){const c=this.buildLocation({to:n,...s});i=i??c.url.href,o=o??c.url.href}const l=!a&&o?o:i;if(!s.ignoreBlocker){const u=this.history.getBlockers?.()??[];for(const d of u)if(d?.blockerFn&&await d.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return s.replace?window.location.replace(l):window.location.href=l,Promise.resolve()}return this.buildAndCommitLocation({...s,href:i,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==r.publicHref||r.url.origin!==this.origin){const i=this.getParsedLocationHref(r);throw WHe({href:i})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:r.cachedMatches.filter(i=>!n.some(o=>o.id===i.id))}))},this.load=async n=>{let r,i,o;for(o=new Promise(a=>{this.startTransition(async()=>{try{this.beforeLoad();const l=this.latestLocation,c=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Cv({resolvedLocation:c,location:l})}),this.emit({type:"onBeforeLoad",...Cv({resolvedLocation:c,location:l})}),await zle({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:l,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let u=[],d=[],f=[];uE(()=>{this.__store.setState(p=>{const g=p.matches,y=p.pendingMatches||p.matches;return u=g.filter(v=>!y.some(x=>x.id===v.id)),d=y.filter(v=>!g.some(x=>x.id===v.id)),f=y.filter(v=>g.some(x=>x.id===v.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:y,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...u.filter(v=>v.status!=="error"&&v.status!=="notFound")]}}),this.clearExpiredCache()}),[[u,"onLeave"],[d,"onEnter"],[f,"onStay"]].forEach(([p,g])=>{p.forEach(y=>{this.looseRoutesById[y.routeId].options[g]?.(y)})})})})}})}catch(l){du(l)?(r=l,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):vc(l)&&(i=l),this.__store.setState(c=>({...c,statusCode:r?r.status:i?404:c.matches.some(u=>u.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let s;this.hasNotFoundMatch()?s=404:this.__store.state.matches.some(a=>a.status==="error")&&(s=500),s!==void 0&&this.__store.setState(a=>({...a,statusCode:s}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,s=this.state.resolvedLocation,a=typeof r.types=="function"?r.types(Cv({resolvedLocation:s,location:o})):r.types;if(a===!1){n();return}i={update:n,types:a}}else i=n;document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{this.startTransition(()=>{const i=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";i&&this.__store.setState(o=>({...o,[i]:o[i]?.map(s=>s.id===n?r(s):s)}))})},this.getMatch=n=>{const r=i=>i.id===n;return this.state.cachedMatches.find(r)??this.state.pendingMatches?.find(r)??this.state.matches.find(r)},this.invalidate=n=>{const r=i=>n?.filter?.(i)??!0?{...i,invalid:!0,...n?.forcePending||i.status==="error"||i.status==="notFound"?{status:"pending",error:void 0}:void 0}:i;return this.__store.setState(i=>({...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:i.pendingMatches?.map(r)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>{let r=n.url.href;return this.origin&&n.url.origin===this.origin&&(r=r.replace(this.origin,"")||"/"),r},this.resolveRedirect=n=>{if(!n.options.href){const r=this.buildLocation(n.options),i=this.getParsedLocationHref(r);n.options.href=r.href,n.headers.set("Location",i)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(o=>!r(o))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const o=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??300*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=aSe,this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),s=new Set([...o,...this.state.cachedMatches.map(a=>a.id)]);uE(()=>{i.forEach(a=>{s.has(a.id)||this.__store.setState(l=>({...l,cachedMatches:[...l.cachedMatches,a]}))})});try{return i=await zle({router:this,matches:i,location:r,preload:!0,updateMatch:(a,l)=>{o.has(a)?i=i.map(c=>c.id===a?l(c):c):this.updateMatch(a,l)}}),i}catch(a){if(du(a))return a.options.reloadDocument?void 0:await this.preloadRoute({...a.options,_fromLocation:r});vc(a)||console.error(a);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const a=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,l=SHe(o.pathname,r?.caseSensitive??!1,r?.fuzzy??!1,a.pathname,this.processedTree);return!l||n.params&&!Sv(l.params,n.params,{partial:!0})?!1:r?.includeSearch??!0?Sv(a.search,o.search,{partial:!0})?l.params:!1:l.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??UHe,parseSearch:t.parseSearch??BHe}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,n){const r=this.getMatchedRoutes(t.pathname),{foundRoute:i,routeParams:o}=r;let{matchedRoutes:s}=r,a=!1;(i?i.path!=="/"&&o["**"]:_v(t.pathname))&&(this.options.notFoundRoute?s=[...s,this.options.notFoundRoute]:a=!0);const l=(()=>{if(a){if(this.options.notFoundMode!=="root")for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.children)return f.id}return ic}})(),c=[],u=d=>d?.id?d.context??this.options.context??void 0:this.options.context??void 0;return s.forEach((d,f)=>{const p=c[f-1],[g,y,v]=(()=>{const $=p?.search??t.search,D=p?._strictSearch??void 0;try{const F=tV(d.options.validateSearch,{...$})??void 0;return[{...$,...F},{...D,...F},void 0]}catch(F){let N=F;if(F instanceof qj||(N=new qj(F.message,{cause:F})),n?.throwOnError)throw N;return[$,{},N]}})(),x=d.options.loaderDeps?.({search:g})??"",w=x?JSON.stringify(x):"",{interpolatedPath:S,usedParams:C}=PB({path:d.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),k=d.id+S+w,T=this.getMatch(k),E=this.state.matches.find($=>$.routeId===d.id),A=T?._strictParams??C;let O;if(!T){const $=d.options.params?.parse??d.options.parseParams;if($)try{Object.assign(A,$(A))}catch(D){if(vc(D)||du(D)?O=D:O=new tWe(D.message,{cause:D}),n?.throwOnError)throw O}}Object.assign(o,A);const I=E?"stay":"enter";let j;if(T)j={...T,cause:I,params:E?nu(E.params,o):o,_strictParams:A,search:nu(E?E.search:T.search,g),_strictSearch:y};else{const $=d.options.loader||d.options.beforeLoad||d.lazyFn||lSe(d)?"pending":"success";j={id:k,ssr:this.isServer?void 0:d.options.ssr,index:f,routeId:d.id,params:E?nu(E.params,o):o,_strictParams:A,pathname:S,updatedAt:Date.now(),search:E?nu(E.search,g):g,_strictSearch:y,searchError:void 0,status:$,isFetching:!1,error:void 0,paramsError:O,__routeContext:void 0,_nonReactive:{loadPromise:qw()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:I,loaderDeps:E?nu(E.loaderDeps,x):x,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:d.options.staticData||{},fullPath:d.fullPath}}n?.preload||(j.globalNotFound=l===d.id),j.searchError=v;const P=u(p);j.context={...P,...j.__routeContext,...j.__beforeLoadContext},c.push(j)}),c.forEach((d,f)=>{const p=this.looseRoutesById[d.routeId];if(!this.getMatch(d.id)&&n?._buildLocation!==!0){const y=c[f-1],v=u(y);if(p.options.context){const x={deps:d.loaderDeps,params:d.params,context:v??{},location:t,navigate:w=>this.navigate({...w,_fromLocation:t}),buildLocation:this.buildLocation,cause:d.cause,abortController:d.abortController,preload:!!d.preload,matches:c};d.__routeContext=p.options.context(x)??void 0}d.context={...v,...d.__routeContext,...d.__beforeLoadContext}}}),c}}class qj extends Error{}class tWe extends Error{}function nWe(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function tV(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new qj("Async validation not supported");if(n.issues)throw new qj(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function rWe({pathname:e,routesById:t,processedTree:n}){const r={},i=_v(e);let o;const s=_He(i,n,!0);return s&&(o=s.route,Object.assign(r,s.params)),{matchedRoutes:s?.branch||[t[ic]],routeParams:r,foundRoute:o}}function iWe({search:e,dest:t,destRoutes:n,_includeValidateSearch:r}){const i=n.reduce((a,l)=>{const c=[];if("search"in l.options)l.options.search?.middlewares&&c.push(...l.options.search.middlewares);else if(l.options.preSearchFilters||l.options.postSearchFilters){const u=({search:d,next:f})=>{let p=d;"preSearchFilters"in l.options&&l.options.preSearchFilters&&(p=l.options.preSearchFilters.reduce((y,v)=>v(y),d));const g=f(p);return"postSearchFilters"in l.options&&l.options.postSearchFilters?l.options.postSearchFilters.reduce((y,v)=>v(y),g):g};c.push(u)}if(r&&l.options.validateSearch){const u=({search:d,next:f})=>{const p=f(d);try{return{...p,...tV(l.options.validateSearch,p)??void 0}}catch{return p}};c.push(u)}return a.concat(c)},[])??[],o=({search:a})=>t.search?t.search===!0?a:gm(t.search,a):{};i.push(o);const s=(a,l)=>{if(a>=i.length)return l;const c=i[a];return c({search:l,next:d=>s(a+1,d)})};return s(0,e)}const oWe="Error preloading route! ";class fSe{constructor(t){if(this.init=n=>{this.originalIndex=n.originalIndex;const r=this.options,i=!r?.path&&!r?.id;this.parentRoute=this.options.getParentRoute?.(),i?this._path=ic:this.parentRoute||Gf(!1);let o=i?ic:r?.path;o&&o!=="/"&&(o=eSe(o));const s=r?.id||o;let a=i?ic:bI([this.parentRoute.id===ic?"":this.parentRoute.id,s]);o===ic&&(o="/"),a!==ic&&(a=bI(["/",a]));const l=a===ic?"/":bI([this.parentRoute.fullPath,o]);this._path=o,this._id=a,this._fullPath=l,this._to=l},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class sWe extends fSe{constructor(t){super(t)}}function mY(e){const t=e.errorComponent??tF;return h.jsx(aWe,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:r})=>n?R.createElement(t,{error:n,reset:r}):e.children})}class aWe extends R.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function tF({error:e}){const[t,n]=R.useState(!1);return h.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[h.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),h.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:t?"Hide Error":"Show Error"})]}),h.jsx("div",{style:{height:".25rem"}}),t?h.jsx("div",{children:h.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?h.jsx("code",{children:e.message}):null})}):null]})}function lWe({children:e,fallback:t=null}){return cWe()?h.jsx(Vt.Fragment,{children:e}):h.jsx(Vt.Fragment,{children:t})}function cWe(){return Vt.useSyncExternalStore(uWe,()=>!0,()=>!1)}function uWe(){return()=>{}}var OB={exports:{}},IB={},jB={exports:{}},$B={};var Ble;function dWe(){if(Ble)return $B;Ble=1;var e=y_();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(d,f){var p=f(),g=r({inst:{value:p,getSnapshot:f}}),y=g[0].inst,v=g[1];return o(function(){y.value=p,y.getSnapshot=f,l(y)&&v({inst:y})},[d,p,f]),i(function(){return l(y)&&v({inst:y}),d(function(){l(y)&&v({inst:y})})},[d]),s(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return $B.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,$B}var Ule;function fWe(){return Ule||(Ule=1,jB.exports=dWe()),jB.exports}var Vle;function pWe(){if(Vle)return IB;Vle=1;var e=y_(),t=fWe();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,a=e.useMemo,l=e.useDebugValue;return IB.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var g=o(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=a(function(){function x(T){if(!w){if(w=!0,S=T,T=f(T),p!==void 0&&y.hasValue){var E=y.value;if(p(E,T))return C=E}return C=T}if(E=C,r(S,T))return E;var A=f(T);return p!==void 0&&p(E,A)?(S=T,E):(S=T,C=A)}var w=!1,S,C,k=d===void 0?null:d;return[function(){return x(u())},k===null?void 0:function(){return x(k())}]},[u,d,f,p]);var v=i(c,g[0],g[1]);return s(function(){y.hasValue=!0,y.value=v},[v]),l(v),v},IB}var Hle;function hWe(){return Hle||(Hle=1,OB.exports=pWe()),OB.exports}var pSe=hWe();const gWe=k0(pSe);function nh(e,t=r=>r,n={}){const r=n.equal??mWe;return pSe.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,r)}function mWe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=Wle(e);if(n.length!==Wle(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Wle(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const FB=R.createContext(null);function hSe(){return typeof document>"u"?FB:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=FB,FB)}function zl(e){const t=R.useContext(hSe());return e?.warn,t}function Ga(e){const t=zl({warn:e?.router===void 0}),n=e?.router||t,r=R.useRef(void 0);return nh(n.__store,i=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const o=nu(r.current,e.select(i));return r.current=o,o}return e.select(i)}return i})}const nF=R.createContext(void 0),yWe=R.createContext(void 0);function Yf(e){const t=R.useContext(e.from?yWe:nF);return Ga({select:r=>{const i=r.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(Gf(!((e.shouldThrow??!0)&&!i),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),i!==void 0)return e.select?e.select(i):i},structuralSharing:e.structuralSharing})}function yY(e){return Yf({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function vY(e){const{select:t,...n}=e;return Yf({...n,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function bY(e){return Yf({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function xY(e){return Yf({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}const JP=typeof window<"u"?R.useLayoutEffect:R.useEffect;function LB(e){const t=R.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function vWe(e,t,n={},r={}){R.useEffect(()=>{if(!e.current||r.disabled||typeof IntersectionObserver!="function")return;const i=new IntersectionObserver(([o])=>{t(o)},n);return i.observe(e.current),()=>{i.disconnect()}},[t,n,r.disabled,e])}function bWe(e){const t=R.useRef(null);return R.useImperativeHandle(e,()=>t.current,[]),t}function Kr(e){const t=zl();return R.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var zd=Nwe();const Sk=k0(zd);function xWe(e,t){const n=zl(),[r,i]=R.useState(!1),o=R.useRef(!1),s=bWe(t),{activeProps:a,inactiveProps:l,activeOptions:c,to:u,preload:d,preloadDelay:f,hashScrollIntoView:p,replace:g,startTransition:y,resetScroll:v,viewTransition:x,children:w,target:S,disabled:C,style:k,className:T,onClick:E,onFocus:A,onMouseEnter:O,onMouseLeave:I,onTouchStart:j,ignoreBlocker:P,params:$,search:D,hash:F,state:N,mask:V,reloadDocument:H,unsafeRelative:U,from:G,_fromLocation:z,...W}=e,X=Ga({select:Se=>Se.location.search,structuralSharing:!0}),Q=e.from,ee=R.useMemo(()=>({...e,from:Q}),[n,X,Q,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),ne=R.useMemo(()=>n.buildLocation({...ee}),[n,ee]),oe=R.useMemo(()=>{if(C)return;let Se=ne.maskedLocation?ne.maskedLocation.url.href:ne.url.href,ye=!1;return n.origin&&(Se.startsWith(n.origin)?Se=n.history.createHref(Se.replace(n.origin,""))||"/":ye=!0),{href:Se,external:ye}},[C,ne.maskedLocation,ne.url,n.origin,n.history]),ce=R.useMemo(()=>{if(oe?.external)return oe.href;try{return new URL(u),u}catch{}},[u,oe]),re=e.reloadDocument||ce?!1:d??n.options.defaultPreload,ge=f??n.options.defaultPreloadDelay??0,he=Ga({select:Se=>{if(ce)return!1;if(c?.exact){if(!AHe(Se.location.pathname,ne.pathname,n.basepath))return!1}else{const ye=Vj(Se.location.pathname,n.basepath),ve=Vj(ne.pathname,n.basepath);if(!(ye.startsWith(ve)&&(ye.length===ve.length||ye[ve.length]==="/")))return!1}return(c?.includeSearch??!0)&&!Sv(Se.location.search,ne.search,{partial:!c?.exact,ignoreUndefined:!c?.explicitUndefined})?!1:c?.includeHash?Se.location.hash===ne.hash:!0}}),ie=R.useCallback(()=>{n.preloadRoute({...ee}).catch(Se=>{console.warn(Se),console.warn(oWe)})},[n,ee]),xe=R.useCallback(Se=>{Se?.isIntersecting&&ie()},[ie]);vWe(s,xe,kWe,{disabled:!!C||re!=="viewport"}),R.useEffect(()=>{o.current||!C&&re==="render"&&(ie(),o.current=!0)},[C,ie,re]);const q=Se=>{const ye=Se.currentTarget.getAttribute("target"),ve=S!==void 0?S:ye;if(!C&&!EWe(Se)&&!Se.defaultPrevented&&(!ve||ve==="_self")&&Se.button===0){Se.preventDefault(),zd.flushSync(()=>{i(!0)});const _e=n.subscribe("onResolved",()=>{_e(),i(!1)});n.navigate({...ee,replace:g,resetScroll:v,hashScrollIntoView:p,startTransition:y,viewTransition:x,ignoreBlocker:P})}};if(ce)return{...W,ref:s,href:ce,...w&&{children:w},...S&&{target:S},...C&&{disabled:C},...k&&{style:k},...T&&{className:T},...E&&{onClick:E},...A&&{onFocus:A},...O&&{onMouseEnter:O},...I&&{onMouseLeave:I},...j&&{onTouchStart:j}};const fe=Se=>{C||re&&ie()},se=fe,J=Se=>{if(!(C||!re))if(!ge)ie();else{const ye=Se.target;if(b2.has(ye))return;const ve=setTimeout(()=>{b2.delete(ye),ie()},ge);b2.set(ye,ve)}},Z=Se=>{if(C||!re||!ge)return;const ye=Se.target,ve=b2.get(ye);ve&&(clearTimeout(ve),b2.delete(ye))},ue=he?gm(a,{})??wWe:NB,de=he?NB:gm(l,{})??NB,be=[T,ue.className,de.className].filter(Boolean).join(" "),le=(k||ue.style||de.style)&&{...k,...ue.style,...de.style};return{...W,...ue,...de,href:oe?.href,ref:s,onClick:x2([E,q]),onFocus:x2([A,fe]),onMouseEnter:x2([O,J]),onMouseLeave:x2([I,Z]),onTouchStart:x2([j,se]),disabled:!!C,target:S,...le&&{style:le},...be&&{className:be},...C&&SWe,...he&&_We,...r&&CWe}}const NB={},wWe={className:"active"},SWe={role:"link","aria-disabled":!0},_We={"data-status":"active","aria-current":"page"},CWe={"data-transitioning":"transitioning"},b2=new WeakMap,kWe={rootMargin:"100px"},x2=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}},wY=R.forwardRef((e,t)=>{const{_asChild:n,...r}=e,{type:i,ref:o,...s}=xWe(r,t),a=typeof r.children=="function"?r.children({isActive:s["data-status"]==="active"}):r.children;return n===void 0&&delete s.disabled,R.createElement(n||"a",{...s,ref:o},a)});function EWe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let TWe=class extends fSe{constructor(t){super(t),this.useMatch=n=>Yf({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Yf({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>xY({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>bY({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>vY({...n,from:this.id}),this.useLoaderData=n=>yY({...n,from:this.id}),this.useNavigate=()=>Kr({from:this.fullPath}),this.Link=Vt.forwardRef((n,r)=>h.jsx(wY,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function RWe(e){return new TWe(e)}function MWe(){return e=>PWe(e)}class AWe extends sWe{constructor(t){super(t),this.useMatch=n=>Yf({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Yf({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>xY({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>bY({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>vY({...n,from:this.id}),this.useLoaderData=n=>yY({...n,from:this.id}),this.useNavigate=()=>Kr({from:this.fullPath}),this.Link=Vt.forwardRef((n,r)=>h.jsx(wY,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function PWe(e){return new AWe(e)}function mo(e){return typeof e=="object"?new qle(e,{silent:!0}).createRoute(e):new qle(e,{silent:!0}).createRoute}class qle{constructor(t,n){this.path=t,this.createRoute=r=>{this.silent;const i=RWe(r);return i.isRoot=!1,i},this.silent=n?.silent}}class Gle{constructor(t){this.useMatch=n=>Yf({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Yf({from:this.options.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>xY({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>bY({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>vY({...n,from:this.options.id}),this.useLoaderData=n=>yY({...n,from:this.options.id}),this.useNavigate=()=>{const n=zl();return Kr({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function Yle(e){return typeof e=="object"?new Gle(e):t=>new Gle({id:e,...t})}function DWe(){const e=zl(),t=R.useRef({router:e,mounted:!1}),[n,r]=R.useState(!1),{hasPendingMatches:i,isLoading:o}=Ga({select:d=>({isLoading:d.isLoading,hasPendingMatches:d.matches.some(f=>f.status==="pending")}),structuralSharing:!0}),s=LB(o),a=o||n||i,l=LB(a),c=o||i,u=LB(c);return e.startTransition=d=>{r(!0),R.startTransition(()=>{d(),r(!1)})},R.useEffect(()=>{const d=e.history.subscribe(e.load),f=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return _v(e.latestLocation.publicHref)!==_v(f.publicHref)&&e.commitLocation({...f,replace:!0}),()=>{d()}},[e,e.history]),JP(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(f){console.error(f)}})()},[e]),JP(()=>{s&&!o&&e.emit({type:"onLoad",...Cv(e.state)})},[s,e,o]),JP(()=>{u&&!c&&e.emit({type:"onBeforeRouteMount",...Cv(e.state)})},[c,u,e]),JP(()=>{if(l&&!a){const d=Cv(e.state);e.emit({type:"onResolved",...d}),e.__store.setState(f=>({...f,status:"idle",resolvedLocation:f.location})),d.hrefChanged&&LHe(e)}},[a,l,e]),null}function OWe(e){const t=Ga({select:n=>`not-found-${n.location.pathname}-${n.status}`});return h.jsx(mY,{getResetKey:()=>t,onCatch:(n,r)=>{if(vc(n))e.onCatch?.(n,r);else throw n},errorComponent:({error:n})=>{if(vc(n))return e.fallback?.(n);throw n},children:e.children})}function IWe(){return h.jsx("p",{children:"Not Found"})}function I1(e){return h.jsx(h.Fragment,{children:e.children})}function gSe(e,t,n){return t.options.notFoundComponent?h.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?h.jsx(e.options.defaultNotFoundComponent,{...n}):h.jsx(IWe,{})}function jWe({children:e}){const t=zl();return t.isServer?h.jsx("script",{nonce:t.options.ssr?.nonce,dangerouslySetInnerHTML:{__html:e+";document.currentScript.remove()"}}):null}function $We(){const e=zl();if(!e.isScrollRestoring||!e.isServer||typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation}))return null;const n=(e.options.getScrollRestorationKey||eV)(e.latestLocation),r=n!==eV(e.latestLocation)?n:void 0,i={storageKey:Hj,shouldScrollRestoration:!0};return r&&(i.key=r),h.jsx(jWe,{children:`(${nSe.toString()})(${JSON.stringify(i)})`})}const mSe=R.memo(function({matchId:t}){const n=zl(),r=Ga({select:x=>{const w=x.matches.find(S=>S.id===t);return Gf(w),{routeId:w.routeId,ssr:w.ssr,_displayPending:w._displayPending}},structuralSharing:!0}),i=n.routesById[r.routeId],o=i.options.pendingComponent??n.options.defaultPendingComponent,s=o?h.jsx(o,{}):null,a=i.options.errorComponent??n.options.defaultErrorComponent,l=i.options.onCatch??n.options.defaultOnCatch,c=i.isRoot?i.options.notFoundComponent??n.options.notFoundRoute?.options.component:i.options.notFoundComponent,u=r.ssr===!1||r.ssr==="data-only",d=(!i.isRoot||i.options.wrapInSuspense||u)&&(i.options.wrapInSuspense??o??(i.options.errorComponent?.preload||u))?R.Suspense:I1,f=a?mY:I1,p=c?OWe:I1,g=Ga({select:x=>x.loadedAt}),y=Ga({select:x=>{const w=x.matches.findIndex(S=>S.id===t);return x.matches[w-1]?.routeId}}),v=i.isRoot?i.options.shellComponent??I1:I1;return h.jsxs(v,{children:[h.jsx(nF.Provider,{value:t,children:h.jsx(d,{fallback:s,children:h.jsx(f,{getResetKey:()=>g,errorComponent:a||tF,onCatch:(x,w)=>{if(vc(x))throw x;l?.(x,w)},children:h.jsx(p,{fallback:x=>{if(!c||x.routeId&&x.routeId!==r.routeId||!x.routeId&&!i.isRoot)throw x;return R.createElement(c,x)},children:u||r._displayPending?h.jsx(lWe,{fallback:s,children:h.jsx(Xle,{matchId:t})}):h.jsx(Xle,{matchId:t})})})})}),y===ic&&n.options.scrollRestoration?h.jsxs(h.Fragment,{children:[h.jsx(FWe,{}),h.jsx($We,{})]}):null]})});function FWe(){const e=zl(),t=R.useRef(void 0);return h.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Cv(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const Xle=R.memo(function({matchId:t}){const n=zl(),{match:r,key:i,routeId:o}=Ga({select:l=>{const c=l.matches.find(g=>g.id===t),u=c.routeId,f=(n.routesById[u].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:u,loaderDeps:c.loaderDeps,params:c._strictParams,search:c._strictSearch});return{key:f?JSON.stringify(f):void 0,routeId:u,match:{id:c.id,status:c.status,error:c.error,invalid:c.invalid,_forcePending:c._forcePending,_displayPending:c._displayPending}}},structuralSharing:!0}),s=n.routesById[o],a=R.useMemo(()=>{const l=s.options.component??n.options.defaultComponent;return l?h.jsx(l,{},i):h.jsx(SY,{})},[i,s.options.component,n.options.defaultComponent]);if(r._displayPending)throw n.getMatch(r.id)?._nonReactive.displayPendingPromise;if(r._forcePending)throw n.getMatch(r.id)?._nonReactive.minPendingPromise;if(r.status==="pending"){const l=s.options.pendingMinMs??n.options.defaultPendingMinMs;if(l){const c=n.getMatch(r.id);if(c&&!c._nonReactive.minPendingPromise&&!n.isServer){const u=qw();c._nonReactive.minPendingPromise=u,setTimeout(()=>{u.resolve(),c._nonReactive.minPendingPromise=void 0},l)}}throw n.getMatch(r.id)?._nonReactive.loadPromise}if(r.status==="notFound")return Gf(vc(r.error)),gSe(n,s,r.error);if(r.status==="redirected")throw Gf(du(r.error)),n.getMatch(r.id)?._nonReactive.loadPromise;if(r.status==="error"){if(n.isServer){const l=(s.options.errorComponent??n.options.defaultErrorComponent)||tF;return h.jsx(l,{error:r.error,reset:void 0,info:{componentStack:""}})}throw r.error}return a}),SY=R.memo(function(){const t=zl(),n=R.useContext(nF),r=Ga({select:c=>c.matches.find(u=>u.id===n)?.routeId}),i=t.routesById[r],o=Ga({select:c=>{const d=c.matches.find(f=>f.id===n);return Gf(d),d.globalNotFound}}),s=Ga({select:c=>{const u=c.matches,d=u.findIndex(f=>f.id===n);return u[d+1]?.id}}),a=t.options.defaultPendingComponent?h.jsx(t.options.defaultPendingComponent,{}):null;if(o)return gSe(t,i,void 0);if(!s)return null;const l=h.jsx(mSe,{matchId:s});return r===ic?h.jsx(R.Suspense,{fallback:a,children:l}):l});function LWe(){const e=zl(),n=e.routesById[ic].options.pendingComponent??e.options.defaultPendingComponent,r=n?h.jsx(n,{}):null,i=e.isServer||typeof document<"u"&&e.ssr?I1:R.Suspense,o=h.jsxs(i,{fallback:r,children:[!e.isServer&&h.jsx(DWe,{}),h.jsx(NWe,{})]});return e.options.InnerWrap?h.jsx(e.options.InnerWrap,{children:o}):o}function NWe(){const e=zl(),t=Ga({select:i=>i.matches[0]?.id}),n=Ga({select:i=>i.loadedAt}),r=t?h.jsx(mSe,{matchId:t}):null;return h.jsx(nF.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?r:h.jsx(mY,{getResetKey:()=>n,errorComponent:tF,onCatch:i=>{i.message||i.toString()},children:r})})}const zWe=e=>new BWe(e);class BWe extends eWe{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=mo,globalThis.createLazyFileRoute=Yle):typeof window<"u"&&(window.createFileRoute=mo,window.createLazyFileRoute=Yle);function UWe({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const r=hSe(),i=h.jsx(r.Provider,{value:e,children:t});return e.options.Wrap?h.jsx(e.options.Wrap,{children:i}):i}function VWe({router:e,...t}){return h.jsx(UWe,{router:e,...t,children:h.jsx(LWe,{})})}function _Y(e){return Ga({select:t=>t.location})}function qo(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=qo(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var HWe={value:()=>{}};function RR(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wI(n)}function wI(e){this._=e}function WWe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wI.prototype=RR.prototype={constructor:wI,on:function(e,t){var n=this._,r=WWe(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=qWe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Kle(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Kle(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wI(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function qWe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Kle(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=HWe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var nV="http://www.w3.org/1999/xhtml";const Zle={svg:"http://www.w3.org/2000/svg",xhtml:nV,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rF(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zle.hasOwnProperty(t)?{space:Zle[t],local:e}:e}function GWe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nV&&t.documentElement.namespaceURI===nV?t.createElement(e):t.createElementNS(n,e)}}function YWe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ySe(e){var t=rF(e);return(t.local?YWe:GWe)(t)}function XWe(){}function CY(e){return e==null?XWe:function(){return this.querySelector(e)}}function KWe(e){typeof e!="function"&&(e=CY(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Tc(r,this._parents)}function ZWe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QWe(){return[]}function vSe(e){return e==null?QWe:function(){return this.querySelectorAll(e)}}function JWe(e){return function(){return ZWe(e.apply(this,arguments))}}function eqe(e){typeof e=="function"?e=JWe(e):e=vSe(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new Tc(r,i)}function bSe(e){return function(){return this.matches(e)}}function xSe(e){return function(t){return t.matches(e)}}var tqe=Array.prototype.find;function nqe(e){return function(){return tqe.call(this.children,e)}}function rqe(){return this.firstElementChild}function iqe(e){return this.select(e==null?rqe:nqe(typeof e=="function"?e:xSe(e)))}var oqe=Array.prototype.filter;function sqe(){return Array.from(this.children)}function aqe(e){return function(){return oqe.call(this.children,e)}}function lqe(e){return this.selectAll(e==null?sqe:aqe(typeof e=="function"?e:xSe(e)))}function cqe(e){typeof e!="function"&&(e=bSe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Tc(r,this._parents)}function wSe(e){return new Array(e.length)}function uqe(){return new Tc(this._enter||this._groups.map(wSe),this._parents)}function Gj(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gj.prototype={constructor:Gj,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function dqe(e){return function(){return e}}function fqe(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Gj(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function pqe(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,d=o.length,f=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(f[a]=p=s.call(l,l.__data__,a,t)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<d;++a)p=s.call(e,o[a],a,o)+"",(l=c.get(p))?(r[a]=l,l.__data__=o[a],c.delete(p)):n[a]=new Gj(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function hqe(e){return e.__data__}function gqe(e,t){if(!arguments.length)return Array.from(this,hqe);var n=t?pqe:fqe,r=this._parents,i=this._groups;typeof e!="function"&&(e=dqe(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,p=mqe(e.call(u,u&&u.__data__,c,r)),g=p.length,y=a[c]=new Array(g),v=s[c]=new Array(g),x=l[c]=new Array(f);n(u,d,y,v,x,p,t);for(var w=0,S=0,C,k;w<g;++w)if(C=y[w]){for(w>=S&&(S=w+1);!(k=v[S])&&++S<g;);C._next=k||null}}return s=new Tc(s,r),s._enter=a,s._exit=l,s}function mqe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yqe(){return new Tc(this._exit||this._groups.map(wSe),this._parents)}function vqe(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function bqe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),p,g=0;g<d;++g)(p=c[g]||u[g])&&(f[g]=p);for(;l<i;++l)a[l]=n[l];return new Tc(a,this._parents)}function xqe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function wqe(e){e||(e=Sqe);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new Tc(i,this._parents).order()}function Sqe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _qe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Cqe(){return Array.from(this)}function kqe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Eqe(){let e=0;for(const t of this)++e;return e}function Tqe(){return!this.node()}function Rqe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Mqe(e){return function(){this.removeAttribute(e)}}function Aqe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pqe(e,t){return function(){this.setAttribute(e,t)}}function Dqe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Oqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Iqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function jqe(e,t){var n=rF(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Aqe:Mqe:typeof t=="function"?n.local?Iqe:Oqe:n.local?Dqe:Pqe)(n,t))}function SSe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $qe(e){return function(){this.style.removeProperty(e)}}function Fqe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Lqe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Nqe(e,t,n){return arguments.length>1?this.each((t==null?$qe:typeof t=="function"?Lqe:Fqe)(e,t,n??"")):Yw(this.node(),e)}function Yw(e,t){return e.style.getPropertyValue(t)||SSe(e).getComputedStyle(e,null).getPropertyValue(t)}function zqe(e){return function(){delete this[e]}}function Bqe(e,t){return function(){this[e]=t}}function Uqe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Vqe(e,t){return arguments.length>1?this.each((t==null?zqe:typeof t=="function"?Uqe:Bqe)(e,t)):this.node()[e]}function _Se(e){return e.trim().split(/^|\s+/)}function kY(e){return e.classList||new CSe(e)}function CSe(e){this._node=e,this._names=_Se(e.getAttribute("class")||"")}CSe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function kSe(e,t){for(var n=kY(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ESe(e,t){for(var n=kY(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Hqe(e){return function(){kSe(this,e)}}function Wqe(e){return function(){ESe(this,e)}}function qqe(e,t){return function(){(t.apply(this,arguments)?kSe:ESe)(this,e)}}function Gqe(e,t){var n=_Se(e+"");if(arguments.length<2){for(var r=kY(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?qqe:t?Hqe:Wqe)(n,t))}function Yqe(){this.textContent=""}function Xqe(e){return function(){this.textContent=e}}function Kqe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Zqe(e){return arguments.length?this.each(e==null?Yqe:(typeof e=="function"?Kqe:Xqe)(e)):this.node().textContent}function Qqe(){this.innerHTML=""}function Jqe(e){return function(){this.innerHTML=e}}function eGe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function tGe(e){return arguments.length?this.each(e==null?Qqe:(typeof e=="function"?eGe:Jqe)(e)):this.node().innerHTML}function nGe(){this.nextSibling&&this.parentNode.appendChild(this)}function rGe(){return this.each(nGe)}function iGe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oGe(){return this.each(iGe)}function sGe(e){var t=typeof e=="function"?e:ySe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function aGe(){return null}function lGe(e,t){var n=typeof e=="function"?e:ySe(e),r=t==null?aGe:typeof t=="function"?t:CY(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cGe(){var e=this.parentNode;e&&e.removeChild(this)}function uGe(){return this.each(cGe)}function dGe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fGe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pGe(e){return this.select(e?fGe:dGe)}function hGe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function gGe(e){return function(t){e.call(this,t,this.__data__)}}function mGe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function yGe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function vGe(e,t,n){return function(){var r=this.__on,i,o=gGe(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function bGe(e,t,n){var r=mGe(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?vGe:yGe,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function TSe(e,t,n){var r=SSe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function xGe(e,t){return function(){return TSe(this,e,t)}}function wGe(e,t){return function(){return TSe(this,e,t.apply(this,arguments))}}function SGe(e,t){return this.each((typeof t=="function"?wGe:xGe)(e,t))}function*_Ge(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var RSe=[null];function Tc(e,t){this._groups=e,this._parents=t}function MR(){return new Tc([[document.documentElement]],RSe)}function CGe(){return this}Tc.prototype=MR.prototype={constructor:Tc,select:KWe,selectAll:eqe,selectChild:iqe,selectChildren:lqe,filter:cqe,data:gqe,enter:uqe,exit:yqe,join:vqe,merge:bqe,selection:CGe,order:xqe,sort:wqe,call:_qe,nodes:Cqe,node:kqe,size:Eqe,empty:Tqe,each:Rqe,attr:jqe,style:Nqe,property:Vqe,classed:Gqe,text:Zqe,html:tGe,raise:rGe,lower:oGe,append:sGe,insert:lGe,remove:uGe,clone:pGe,datum:hGe,on:bGe,dispatch:SGe,[Symbol.iterator]:_Ge};function uc(e){return typeof e=="string"?new Tc([[document.querySelector(e)]],[document.documentElement]):new Tc([[e]],RSe)}function kGe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function od(e,t){if(e=kGe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const EGe={passive:!1},eT={capture:!0,passive:!1};function zB(e){e.stopImmediatePropagation()}function xw(e){e.preventDefault(),e.stopImmediatePropagation()}function MSe(e){var t=e.document.documentElement,n=uc(e).on("dragstart.drag",xw,eT);"onselectstart"in t?n.on("selectstart.drag",xw,eT):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ASe(e,t){var n=e.document.documentElement,r=uc(e).on("dragstart.drag",null);t&&(r.on("click.drag",xw,eT),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const eD=e=>()=>e;function rV(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}rV.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function TGe(e){return!e.ctrlKey&&!e.button}function RGe(){return this.parentNode}function MGe(e,t){return t??{x:e.x,y:e.y}}function AGe(){return navigator.maxTouchPoints||"ontouchstart"in this}function PSe(){var e=TGe,t=RGe,n=MGe,r=AGe,i={},o=RR("start","drag","end"),s=0,a,l,c,u,d=0;function f(C){C.on("mousedown.drag",p).filter(r).on("touchstart.drag",v).on("touchmove.drag",x,EGe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(C,k){if(!(u||!e.call(this,C,k))){var T=S(this,t.call(this,C,k),C,k,"mouse");T&&(uc(C.view).on("mousemove.drag",g,eT).on("mouseup.drag",y,eT),MSe(C.view),zB(C),c=!1,a=C.clientX,l=C.clientY,T("start",C))}}function g(C){if(xw(C),!c){var k=C.clientX-a,T=C.clientY-l;c=k*k+T*T>d}i.mouse("drag",C)}function y(C){uc(C.view).on("mousemove.drag mouseup.drag",null),ASe(C.view,c),xw(C),i.mouse("end",C)}function v(C,k){if(e.call(this,C,k)){var T=C.changedTouches,E=t.call(this,C,k),A=T.length,O,I;for(O=0;O<A;++O)(I=S(this,E,C,k,T[O].identifier,T[O]))&&(zB(C),I("start",C,T[O]))}}function x(C){var k=C.changedTouches,T=k.length,E,A;for(E=0;E<T;++E)(A=i[k[E].identifier])&&(xw(C),A("drag",C,k[E]))}function w(C){var k=C.changedTouches,T=k.length,E,A;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),E=0;E<T;++E)(A=i[k[E].identifier])&&(zB(C),A("end",C,k[E]))}function S(C,k,T,E,A,O){var I=o.copy(),j=od(O||T,k),P,$,D;if((D=n.call(C,new rV("beforestart",{sourceEvent:T,target:f,identifier:A,active:s,x:j[0],y:j[1],dx:0,dy:0,dispatch:I}),E))!=null)return P=D.x-j[0]||0,$=D.y-j[1]||0,function F(N,V,H){var U=j,G;switch(N){case"start":i[A]=F,G=s++;break;case"end":delete i[A],--s;case"drag":j=od(H||V,k),G=s;break}I.call(N,C,new rV(N,{sourceEvent:V,subject:D,target:f,identifier:A,active:G,x:j[0]+P,y:j[1]+$,dx:j[0]-U[0],dy:j[1]-U[1],dispatch:I}),E)}}return f.filter=function(C){return arguments.length?(e=typeof C=="function"?C:eD(!!C),f):e},f.container=function(C){return arguments.length?(t=typeof C=="function"?C:eD(C),f):t},f.subject=function(C){return arguments.length?(n=typeof C=="function"?C:eD(C),f):n},f.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:eD(!!C),f):r},f.on=function(){var C=o.on.apply(o,arguments);return C===o?f:C},f.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,f):Math.sqrt(d)},f}function b_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function AR(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function E0(){}var Xv=.7,Xw=1/Xv,ww="\\s*([+-]?\\d+)\\s*",tT="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",If="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PGe=/^#([0-9a-f]{3,8})$/,DGe=new RegExp(`^rgb\\(${ww},${ww},${ww}\\)$`),OGe=new RegExp(`^rgb\\(${If},${If},${If}\\)$`),IGe=new RegExp(`^rgba\\(${ww},${ww},${ww},${tT}\\)$`),jGe=new RegExp(`^rgba\\(${If},${If},${If},${tT}\\)$`),$Ge=new RegExp(`^hsl\\(${tT},${If},${If}\\)$`),FGe=new RegExp(`^hsla\\(${tT},${If},${If},${tT}\\)$`),Qle={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b_(E0,Kv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jle,formatHex:Jle,formatHex8:LGe,formatHsl:NGe,formatRgb:ece,toString:ece});function Jle(){return this.rgb().formatHex()}function LGe(){return this.rgb().formatHex8()}function NGe(){return DSe(this).formatHsl()}function ece(){return this.rgb().formatRgb()}function Kv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=PGe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tce(t):n===3?new ms(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?tD(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?tD(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DGe.exec(e))?new ms(t[1],t[2],t[3],1):(t=OGe.exec(e))?new ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IGe.exec(e))?tD(t[1],t[2],t[3],t[4]):(t=jGe.exec(e))?tD(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$Ge.exec(e))?ice(t[1],t[2]/100,t[3]/100,1):(t=FGe.exec(e))?ice(t[1],t[2]/100,t[3]/100,t[4]):Qle.hasOwnProperty(e)?tce(Qle[e]):e==="transparent"?new ms(NaN,NaN,NaN,0):null}function tce(e){return new ms(e>>16&255,e>>8&255,e&255,1)}function tD(e,t,n,r){return r<=0&&(e=t=n=NaN),new ms(e,t,n,r)}function EY(e){return e instanceof E0||(e=Kv(e)),e?(e=e.rgb(),new ms(e.r,e.g,e.b,e.opacity)):new ms}function Ym(e,t,n,r){return arguments.length===1?EY(e):new ms(e,t,n,r??1)}function ms(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}b_(ms,Ym,AR(E0,{brighter(e){return e=e==null?Xw:Math.pow(Xw,e),new ms(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xv:Math.pow(Xv,e),new ms(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ms(kv(this.r),kv(this.g),kv(this.b),Yj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nce,formatHex:nce,formatHex8:zGe,formatRgb:rce,toString:rce}));function nce(){return`#${sv(this.r)}${sv(this.g)}${sv(this.b)}`}function zGe(){return`#${sv(this.r)}${sv(this.g)}${sv(this.b)}${sv((isNaN(this.opacity)?1:this.opacity)*255)}`}function rce(){const e=Yj(this.opacity);return`${e===1?"rgb(":"rgba("}${kv(this.r)}, ${kv(this.g)}, ${kv(this.b)}${e===1?")":`, ${e})`}`}function Yj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sv(e){return e=kv(e),(e<16?"0":"")+e.toString(16)}function ice(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pd(e,t,n,r)}function DSe(e){if(e instanceof pd)return new pd(e.h,e.s,e.l,e.opacity);if(e instanceof E0||(e=Kv(e)),!e)return new pd;if(e instanceof pd)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new pd(s,a,l,e.opacity)}function Xj(e,t,n,r){return arguments.length===1?DSe(e):new pd(e,t,n,r??1)}function pd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}b_(pd,Xj,AR(E0,{brighter(e){return e=e==null?Xw:Math.pow(Xw,e),new pd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xv:Math.pow(Xv,e),new pd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ms(BB(e>=240?e-240:e+120,i,r),BB(e,i,r),BB(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pd(oce(this.h),nD(this.s),nD(this.l),Yj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yj(this.opacity);return`${e===1?"hsl(":"hsla("}${oce(this.h)}, ${nD(this.s)*100}%, ${nD(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oce(e){return e=(e||0)%360,e<0?e+360:e}function nD(e){return Math.max(0,Math.min(1,e||0))}function BB(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const OSe=Math.PI/180,ISe=180/Math.PI,Kj=18,jSe=.96422,$Se=1,FSe=.82521,LSe=4/29,Sw=6/29,NSe=3*Sw*Sw,BGe=Sw*Sw*Sw;function zSe(e){if(e instanceof jf)return new jf(e.l,e.a,e.b,e.opacity);if(e instanceof hh)return BSe(e);e instanceof ms||(e=EY(e));var t=WB(e.r),n=WB(e.g),r=WB(e.b),i=UB((.2225045*t+.7168786*n+.0606169*r)/$Se),o,s;return t===n&&n===r?o=s=i:(o=UB((.4360747*t+.3850649*n+.1430804*r)/jSe),s=UB((.0139322*t+.0971045*n+.7141733*r)/FSe)),new jf(116*i-16,500*(o-i),200*(i-s),e.opacity)}function Zj(e,t,n,r){return arguments.length===1?zSe(e):new jf(e,t,n,r??1)}function jf(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}b_(jf,Zj,AR(E0,{brighter(e){return new jf(this.l+Kj*(e??1),this.a,this.b,this.opacity)},darker(e){return new jf(this.l-Kj*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=jSe*VB(t),e=$Se*VB(e),n=FSe*VB(n),new ms(HB(3.1338561*t-1.6168667*e-.4906146*n),HB(-.9787684*t+1.9161415*e+.033454*n),HB(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function UB(e){return e>BGe?Math.pow(e,1/3):e/NSe+LSe}function VB(e){return e>Sw?e*e*e:NSe*(e-LSe)}function HB(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function WB(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function UGe(e){if(e instanceof hh)return new hh(e.h,e.c,e.l,e.opacity);if(e instanceof jf||(e=zSe(e)),e.a===0&&e.b===0)return new hh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ISe;return new hh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Qj(e,t,n,r){return arguments.length===1?UGe(e):new hh(e,t,n,r??1)}function hh(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function BSe(e){if(isNaN(e.h))return new jf(e.l,0,0,e.opacity);var t=e.h*OSe;return new jf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}b_(hh,Qj,AR(E0,{brighter(e){return new hh(this.h,this.c,this.l+Kj*(e??1),this.opacity)},darker(e){return new hh(this.h,this.c,this.l-Kj*(e??1),this.opacity)},rgb(){return BSe(this).rgb()}}));var USe=-.14861,TY=1.78277,RY=-.29227,iF=-.90649,nT=1.97294,sce=nT*iF,ace=nT*TY,lce=TY*RY-iF*USe;function VGe(e){if(e instanceof Ev)return new Ev(e.h,e.s,e.l,e.opacity);e instanceof ms||(e=EY(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(lce*r+sce*t-ace*n)/(lce+sce-ace),o=r-i,s=(nT*(n-i)-RY*o)/iF,a=Math.sqrt(s*s+o*o)/(nT*i*(1-i)),l=a?Math.atan2(s,o)*ISe-120:NaN;return new Ev(l<0?l+360:l,a,i,e.opacity)}function iV(e,t,n,r){return arguments.length===1?VGe(e):new Ev(e,t,n,r??1)}function Ev(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}b_(Ev,iV,AR(E0,{brighter(e){return e=e==null?Xw:Math.pow(Xw,e),new Ev(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xv:Math.pow(Xv,e),new Ev(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*OSe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ms(255*(t+n*(USe*r+TY*i)),255*(t+n*(RY*r+iF*i)),255*(t+n*(nT*r)),this.opacity)}}));function VSe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function HSe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return VSe((n-r/t)*t,s,i,o,a)}}function WSe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return VSe((n-r/t)*t,i,o,s,a)}}const oF=e=>()=>e;function qSe(e,t){return function(n){return e+n*t}}function HGe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sF(e,t){var n=t-e;return n?qSe(e,n>180||n<-180?n-360*Math.round(n/360):n):oF(isNaN(e)?t:e)}function WGe(e){return(e=+e)==1?ys:function(t,n){return n-t?HGe(t,n,e):oF(isNaN(t)?n:t)}}function ys(e,t){var n=t-e;return n?qSe(e,n):oF(isNaN(e)?t:e)}const rT=(function e(t){var n=WGe(t);function r(i,o){var s=n((i=Ym(i)).r,(o=Ym(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=ys(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r})(1);function GSe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Ym(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var YSe=GSe(HSe),qGe=GSe(WSe);function MY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function XSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GGe(e,t){return(XSe(t)?MY:KSe)(e,t)}function KSe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ed(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function ZSe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function su(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function QSe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ed(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var oV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qB=new RegExp(oV.source,"g");function YGe(e){return function(){return e}}function XGe(e){return function(t){return e(t)+""}}function AY(e,t){var n=oV.lastIndex=qB.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=oV.exec(e))&&(i=qB.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:su(r,i)})),n=qB.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?XGe(l[0].x):YGe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Ed(e,t){var n=typeof t,r;return t==null||n==="boolean"?oF(t):(n==="number"?su:n==="string"?(r=Kv(t))?(t=r,rT):AY:t instanceof Kv?rT:t instanceof Date?ZSe:XSe(t)?MY:Array.isArray(t)?KSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QSe:su)(e,t)}function KGe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function ZGe(e,t){var n=sF(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function PR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var cce=180/Math.PI,sV={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function JSe(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*cce,skewX:Math.atan(l)*cce,scaleX:s,scaleY:a}}var rD;function QGe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?sV:JSe(t.a,t.b,t.c,t.d,t.e,t.f)}function JGe(e){return e==null||(rD||(rD=document.createElementNS("http://www.w3.org/2000/svg","g")),rD.setAttribute("transform",e),!(e=rD.transform.baseVal.consolidate()))?sV:(e=e.matrix,JSe(e.a,e.b,e.c,e.d,e.e,e.f))}function e_e(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,f,p,g){if(c!==d||u!==f){var y=p.push("translate(",null,t,null,n);g.push({i:y-4,x:su(c,d)},{i:y-2,x:su(u,f)})}else(d||f)&&p.push("translate("+d+t+f+n)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:su(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:su(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,p,g){if(c!==d||u!==f){var y=p.push(i(p)+"scale(",null,",",null,")");g.push({i:y-4,x:su(c,d)},{i:y-2,x:su(u,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(p){for(var g=-1,y=f.length,v;++g<y;)d[(v=f[g]).i]=v.x(p);return d.join("")}}}var t_e=e_e(QGe,"px, ","px)","deg)"),n_e=e_e(JGe,", ",")",")"),eYe=1e-12;function uce(e){return((e=Math.exp(e))+1/e)/2}function tYe(e){return((e=Math.exp(e))-1/e)/2}function nYe(e){return((e=Math.exp(2*e))-1)/(e+1)}const dE=(function e(t,n,r){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],d=s[1],f=s[2],p=u-a,g=d-l,y=p*p+g*g,v,x;if(y<eYe)x=Math.log(f/c)/t,v=function(E){return[a+E*p,l+E*g,c*Math.exp(t*E*x)]};else{var w=Math.sqrt(y),S=(f*f-c*c+r*y)/(2*c*n*w),C=(f*f-c*c-r*y)/(2*f*n*w),k=Math.log(Math.sqrt(S*S+1)-S),T=Math.log(Math.sqrt(C*C+1)-C);x=(T-k)/t,v=function(E){var A=E*x,O=uce(k),I=c/(n*w)*(O*nYe(t*A+k)-tYe(k));return[a+I*p,l+I*g,c*O/uce(t*A+k)]}}return v.duration=x*1e3*t/Math.SQRT2,v}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i})(Math.SQRT2,2,4);function r_e(e){return function(t,n){var r=e((t=Xj(t)).h,(n=Xj(n)).h),i=ys(t.s,n.s),o=ys(t.l,n.l),s=ys(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const rYe=r_e(sF);var iYe=r_e(ys);function oYe(e,t){var n=ys((e=Zj(e)).l,(t=Zj(t)).l),r=ys(e.a,t.a),i=ys(e.b,t.b),o=ys(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function i_e(e){return function(t,n){var r=e((t=Qj(t)).h,(n=Qj(n)).h),i=ys(t.c,n.c),o=ys(t.l,n.l),s=ys(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const sYe=i_e(sF);var aYe=i_e(ys);function o_e(e){return(function t(n){n=+n;function r(i,o){var s=e((i=iV(i)).h,(o=iV(o)).h),a=ys(i.s,o.s),l=ys(i.l,o.l),c=ys(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r})(1)}const lYe=o_e(sF);var cYe=o_e(ys);function PY(e,t){t===void 0&&(t=e,e=Ed);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function uYe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const dYe=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Ed,interpolateArray:GGe,interpolateBasis:HSe,interpolateBasisClosed:WSe,interpolateCubehelix:lYe,interpolateCubehelixLong:cYe,interpolateDate:ZSe,interpolateDiscrete:KGe,interpolateHcl:sYe,interpolateHclLong:aYe,interpolateHsl:rYe,interpolateHslLong:iYe,interpolateHue:ZGe,interpolateLab:oYe,interpolateNumber:su,interpolateNumberArray:MY,interpolateObject:QSe,interpolateRgb:rT,interpolateRgbBasis:YSe,interpolateRgbBasisClosed:qGe,interpolateRound:PR,interpolateString:AY,interpolateTransformCss:t_e,interpolateTransformSvg:n_e,interpolateZoom:dE,piecewise:PY,quantize:uYe},Symbol.toStringTag,{value:"Module"}));var Kw=0,_k=0,w2=0,s_e=1e3,Jj,Ck,e5=0,Zv=0,aF=0,iT=typeof performance=="object"&&performance.now?performance:Date,a_e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lF(){return Zv||(a_e(fYe),Zv=iT.now()+aF)}function fYe(){Zv=0}function oT(){this._call=this._time=this._next=null}oT.prototype=DY.prototype={constructor:oT,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lF():+n)+(t==null?0:+t),!this._next&&Ck!==this&&(Ck?Ck._next=this:Jj=this,Ck=this),this._call=e,this._time=n,aV()},stop:function(){this._call&&(this._call=null,this._time=1/0,aV())}};function DY(e,t,n){var r=new oT;return r.restart(e,t,n),r}function pYe(){lF(),++Kw;for(var e=Jj,t;e;)(t=Zv-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Kw}function dce(){Zv=(e5=iT.now())+aF,Kw=_k=0;try{pYe()}finally{Kw=0,gYe(),Zv=0}}function hYe(){var e=iT.now(),t=e-e5;t>s_e&&(aF-=t,e5=e)}function gYe(){for(var e,t=Jj,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jj=n);Ck=e,aV(r)}function aV(e){if(!Kw){_k&&(_k=clearTimeout(_k));var t=e-Zv;t>24?(e<1/0&&(_k=setTimeout(dce,e-iT.now()-aF)),w2&&(w2=clearInterval(w2))):(w2||(e5=iT.now(),w2=setInterval(hYe,s_e)),Kw=1,a_e(dce))}}function fce(e,t,n){var r=new oT;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function mYe(e,t,n){var r=new oT,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?lF():+a,r._restart(function l(c){c+=i,r._restart(l,i+=s,a),o(c)},s,a)},r.restart(e,t,n),r)}var yYe=RR("start","end","cancel","interrupt"),vYe=[],l_e=0,pce=1,lV=2,SI=3,hce=4,cV=5,_I=6;function cF(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;bYe(e,n,{name:t,index:r,group:i,on:yYe,tween:vYe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:l_e})}function OY(e,t){var n=Bd(e,t);if(n.state>l_e)throw new Error("too late; already scheduled");return n}function lp(e,t){var n=Bd(e,t);if(n.state>SI)throw new Error("too late; already running");return n}function Bd(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function bYe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=DY(o,0,n.time);function o(c){n.state=pce,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,f,p;if(n.state!==pce)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===SI)return fce(s);p.state===hce?(p.state=_I,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=_I,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if(fce(function(){n.state===SI&&(n.state=hce,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=lV,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lV){for(n.state=SI,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=cV,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===cV&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=_I,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function CI(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>lV&&r.state<cV,r.state=_I,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function xYe(e){return this.each(function(){CI(this,e)})}function wYe(e,t){var n,r;return function(){var i=lp(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function SYe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=lp(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function _Ye(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Bd(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?wYe:SYe)(n,e,t))}function IY(e,t,n){var r=e._id;return e.each(function(){var i=lp(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Bd(i,r).value[t]}}function c_e(e,t){var n;return(typeof t=="number"?su:t instanceof Kv?rT:(n=Kv(t))?(t=n,rT):AY)(e,t)}function CYe(e){return function(){this.removeAttribute(e)}}function kYe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EYe(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function TYe(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function RYe(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function MYe(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function AYe(e,t){var n=rF(e),r=n==="transform"?n_e:c_e;return this.attrTween(e,typeof t=="function"?(n.local?MYe:RYe)(n,r,IY(this,"attr."+e,t)):t==null?(n.local?kYe:CYe)(n):(n.local?TYe:EYe)(n,r,t))}function PYe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function DYe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function OYe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&DYe(e,o)),n}return i._value=t,i}function IYe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&PYe(e,o)),n}return i._value=t,i}function jYe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=rF(e);return this.tween(n,(r.local?OYe:IYe)(r,t))}function $Ye(e,t){return function(){OY(this,e).delay=+t.apply(this,arguments)}}function FYe(e,t){return t=+t,function(){OY(this,e).delay=t}}function LYe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$Ye:FYe)(t,e)):Bd(this.node(),t).delay}function NYe(e,t){return function(){lp(this,e).duration=+t.apply(this,arguments)}}function zYe(e,t){return t=+t,function(){lp(this,e).duration=t}}function BYe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NYe:zYe)(t,e)):Bd(this.node(),t).duration}function UYe(e,t){if(typeof t!="function")throw new Error;return function(){lp(this,e).ease=t}}function VYe(e){var t=this._id;return arguments.length?this.each(UYe(t,e)):Bd(this.node(),t).ease}function HYe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;lp(this,e).ease=n}}function WYe(e){if(typeof e!="function")throw new Error;return this.each(HYe(this._id,e))}function qYe(e){typeof e!="function"&&(e=bSe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Lh(r,this._parents,this._name,this._id)}function GYe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(d[p]=f);for(;a<r;++a)s[a]=t[a];return new Lh(s,this._parents,this._name,this._id)}function YYe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function XYe(e,t,n){var r,i,o=YYe(t)?OY:lp;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function KYe(e,t){var n=this._id;return arguments.length<2?Bd(this.node(),n).on.on(e):this.each(XYe(n,e,t))}function ZYe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function QYe(){return this.on("end.remove",ZYe(this._id))}function JYe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=CY(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,cF(c[f],t,n,f,c,Bd(u,n)));return new Lh(o,this._parents,t,n)}function eXe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vSe(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),p,g=Bd(u,n),y=0,v=f.length;y<v;++y)(p=f[y])&&cF(p,t,n,y,f,g);o.push(f),s.push(u)}return new Lh(o,s,t,n)}var tXe=MR.prototype.constructor;function nXe(){return new tXe(this._groups,this._parents)}function rXe(e,t){var n,r,i;return function(){var o=Yw(this,e),s=(this.style.removeProperty(e),Yw(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function u_e(e){return function(){this.style.removeProperty(e)}}function iXe(e,t,n){var r,i=n+"",o;return function(){var s=Yw(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function oXe(e,t,n){var r,i,o;return function(){var s=Yw(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Yw(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function sXe(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=lp(this,e),c=l.on,u=l.value[o]==null?a||(a=u_e(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function aXe(e,t,n){var r=(e+="")=="transform"?t_e:c_e;return t==null?this.styleTween(e,rXe(e,r)).on("end.style."+e,u_e(e)):typeof t=="function"?this.styleTween(e,oXe(e,r,IY(this,"style."+e,t))).each(sXe(this._id,e)):this.styleTween(e,iXe(e,r,t),n).on("end.style."+e,null)}function lXe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function cXe(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&lXe(e,s,n)),r}return o._value=t,o}function uXe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,cXe(e,t,n??""))}function dXe(e){return function(){this.textContent=e}}function fXe(e){return function(){var t=e(this);this.textContent=t??""}}function pXe(e){return this.tween("text",typeof e=="function"?fXe(IY(this,"text",e)):dXe(e==null?"":e+""))}function hXe(e){return function(t){this.textContent=e.call(this,t)}}function gXe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&hXe(i)),t}return r._value=e,r}function mXe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gXe(e))}function yXe(){for(var e=this._name,t=this._id,n=d_e(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=Bd(l,t);cF(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Lh(r,this._parents,e,n)}function vXe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=lp(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var bXe=0;function Lh(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function d_e(){return++bXe}var qp=MR.prototype;Lh.prototype={constructor:Lh,select:JYe,selectAll:eXe,selectChild:qp.selectChild,selectChildren:qp.selectChildren,filter:qYe,merge:GYe,selection:nXe,transition:yXe,call:qp.call,nodes:qp.nodes,node:qp.node,size:qp.size,empty:qp.empty,each:qp.each,on:KYe,attr:AYe,attrTween:jYe,style:aXe,styleTween:uXe,text:pXe,textTween:mXe,remove:QYe,tween:_Ye,delay:LYe,duration:BYe,ease:VYe,easeVarying:WYe,end:vXe,[Symbol.iterator]:qp[Symbol.iterator]};function xXe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var wXe={time:null,delay:0,duration:250,ease:xXe};function SXe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _Xe(e){var t,n;e instanceof Lh?(t=e._id,e=e._name):(t=d_e(),(n=wXe).time=lF(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&cF(l,e,t,c,s,n||SXe(l,t));return new Lh(r,this._parents,e,t)}MR.prototype.interrupt=xYe;MR.prototype.transition=_Xe;const iD=e=>()=>e;function CXe(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function gh(e,t,n){this.k=e,this.x=t,this.y=n}gh.prototype={constructor:gh,scale:function(e){return e===1?this:new gh(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gh(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var uF=new gh(1,0,0);f_e.prototype=gh.prototype;function f_e(e){for(;!e.__zoom;)if(!(e=e.parentNode))return uF;return e.__zoom}function GB(e){e.stopImmediatePropagation()}function S2(e){e.preventDefault(),e.stopImmediatePropagation()}function kXe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function EXe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gce(){return this.__zoom||uF}function TXe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function RXe(){return navigator.maxTouchPoints||"ontouchstart"in this}function MXe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function p_e(){var e=kXe,t=EXe,n=MXe,r=TXe,i=RXe,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=dE,c=RR("start","zoom","end"),u,d,f,p=500,g=150,y=0,v=10;function x(D){D.property("__zoom",gce).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",j).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(D,F,N,V){var H=D.selection?D.selection():D;H.property("__zoom",gce),D!==H?k(D,F,N,V):H.interrupt().each(function(){T(this,arguments).event(V).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},x.scaleBy=function(D,F,N,V){x.scaleTo(D,function(){var H=this.__zoom.k,U=typeof F=="function"?F.apply(this,arguments):F;return H*U},N,V)},x.scaleTo=function(D,F,N,V){x.transform(D,function(){var H=t.apply(this,arguments),U=this.__zoom,G=N==null?C(H):typeof N=="function"?N.apply(this,arguments):N,z=U.invert(G),W=typeof F=="function"?F.apply(this,arguments):F;return n(S(w(U,W),G,z),H,s)},N,V)},x.translateBy=function(D,F,N,V){x.transform(D,function(){return n(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),s)},null,V)},x.translateTo=function(D,F,N,V,H){x.transform(D,function(){var U=t.apply(this,arguments),G=this.__zoom,z=V==null?C(U):typeof V=="function"?V.apply(this,arguments):V;return n(uF.translate(z[0],z[1]).scale(G.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof N=="function"?-N.apply(this,arguments):-N),U,s)},V,H)};function w(D,F){return F=Math.max(o[0],Math.min(o[1],F)),F===D.k?D:new gh(F,D.x,D.y)}function S(D,F,N){var V=F[0]-N[0]*D.k,H=F[1]-N[1]*D.k;return V===D.x&&H===D.y?D:new gh(D.k,V,H)}function C(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function k(D,F,N,V){D.on("start.zoom",function(){T(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(V).end()}).tween("zoom",function(){var H=this,U=arguments,G=T(H,U).event(V),z=t.apply(H,U),W=N==null?C(z):typeof N=="function"?N.apply(H,U):N,X=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),Q=H.__zoom,ee=typeof F=="function"?F.apply(H,U):F,ne=l(Q.invert(W).concat(X/Q.k),ee.invert(W).concat(X/ee.k));return function(oe){if(oe===1)oe=ee;else{var ce=ne(oe),re=X/ce[2];oe=new gh(re,W[0]-ce[0]*re,W[1]-ce[1]*re)}G.zoom(null,oe)}})}function T(D,F,N){return!N&&D.__zooming||new E(D,F)}function E(D,F){this.that=D,this.args=F,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,F),this.taps=0}E.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,F){return this.mouse&&D!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var F=uc(this.that).datum();c.call(D,this.that,new CXe(D,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),F)}};function A(D,...F){if(!e.apply(this,arguments))return;var N=T(this,F).event(D),V=this.__zoom,H=Math.max(o[0],Math.min(o[1],V.k*Math.pow(2,r.apply(this,arguments)))),U=od(D);if(N.wheel)(N.mouse[0][0]!==U[0]||N.mouse[0][1]!==U[1])&&(N.mouse[1]=V.invert(N.mouse[0]=U)),clearTimeout(N.wheel);else{if(V.k===H)return;N.mouse=[U,V.invert(U)],CI(this),N.start()}S2(D),N.wheel=setTimeout(G,g),N.zoom("mouse",n(S(w(V,H),N.mouse[0],N.mouse[1]),N.extent,s));function G(){N.wheel=null,N.end()}}function O(D,...F){if(f||!e.apply(this,arguments))return;var N=D.currentTarget,V=T(this,F,!0).event(D),H=uc(D.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",X,!0),U=od(D,N),G=D.clientX,z=D.clientY;MSe(D.view),GB(D),V.mouse=[U,this.__zoom.invert(U)],CI(this),V.start();function W(Q){if(S2(Q),!V.moved){var ee=Q.clientX-G,ne=Q.clientY-z;V.moved=ee*ee+ne*ne>y}V.event(Q).zoom("mouse",n(S(V.that.__zoom,V.mouse[0]=od(Q,N),V.mouse[1]),V.extent,s))}function X(Q){H.on("mousemove.zoom mouseup.zoom",null),ASe(Q.view,V.moved),S2(Q),V.event(Q).end()}}function I(D,...F){if(e.apply(this,arguments)){var N=this.__zoom,V=od(D.changedTouches?D.changedTouches[0]:D,this),H=N.invert(V),U=N.k*(D.shiftKey?.5:2),G=n(S(w(N,U),V,H),t.apply(this,F),s);S2(D),a>0?uc(this).transition().duration(a).call(k,G,V,D):uc(this).call(x.transform,G,V,D)}}function j(D,...F){if(e.apply(this,arguments)){var N=D.touches,V=N.length,H=T(this,F,D.changedTouches.length===V).event(D),U,G,z,W;for(GB(D),G=0;G<V;++G)z=N[G],W=od(z,this),W=[W,this.__zoom.invert(W),z.identifier],H.touch0?!H.touch1&&H.touch0[2]!==W[2]&&(H.touch1=W,H.taps=0):(H.touch0=W,U=!0,H.taps=1+!!u);u&&(u=clearTimeout(u)),U&&(H.taps<2&&(d=W[0],u=setTimeout(function(){u=null},p)),CI(this),H.start())}}function P(D,...F){if(this.__zooming){var N=T(this,F).event(D),V=D.changedTouches,H=V.length,U,G,z,W;for(S2(D),U=0;U<H;++U)G=V[U],z=od(G,this),N.touch0&&N.touch0[2]===G.identifier?N.touch0[0]=z:N.touch1&&N.touch1[2]===G.identifier&&(N.touch1[0]=z);if(G=N.that.__zoom,N.touch1){var X=N.touch0[0],Q=N.touch0[1],ee=N.touch1[0],ne=N.touch1[1],oe=(oe=ee[0]-X[0])*oe+(oe=ee[1]-X[1])*oe,ce=(ce=ne[0]-Q[0])*ce+(ce=ne[1]-Q[1])*ce;G=w(G,Math.sqrt(oe/ce)),z=[(X[0]+ee[0])/2,(X[1]+ee[1])/2],W=[(Q[0]+ne[0])/2,(Q[1]+ne[1])/2]}else if(N.touch0)z=N.touch0[0],W=N.touch0[1];else return;N.zoom("touch",n(S(G,z,W),N.extent,s))}}function $(D,...F){if(this.__zooming){var N=T(this,F).event(D),V=D.changedTouches,H=V.length,U,G;for(GB(D),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),U=0;U<H;++U)G=V[U],N.touch0&&N.touch0[2]===G.identifier?delete N.touch0:N.touch1&&N.touch1[2]===G.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(G=od(G,this),Math.hypot(d[0]-G[0],d[1]-G[1])<v)){var z=uc(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return x.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:iD(+D),x):r},x.filter=function(D){return arguments.length?(e=typeof D=="function"?D:iD(!!D),x):e},x.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:iD(!!D),x):i},x.extent=function(D){return arguments.length?(t=typeof D=="function"?D:iD([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),x):t},x.scaleExtent=function(D){return arguments.length?(o[0]=+D[0],o[1]=+D[1],x):[o[0],o[1]]},x.translateExtent=function(D){return arguments.length?(s[0][0]=+D[0][0],s[1][0]=+D[1][0],s[0][1]=+D[0][1],s[1][1]=+D[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(D){return arguments.length?(n=D,x):n},x.duration=function(D){return arguments.length?(a=+D,x):a},x.interpolate=function(D){return arguments.length?(l=D,x):l},x.on=function(){var D=c.on.apply(c,arguments);return D===c?x:D},x.clickDistance=function(D){return arguments.length?(y=(D=+D)*D,x):Math.sqrt(y)},x.tapDistance=function(D){return arguments.length?(v=+D,x):v},x}const Xf={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},sT=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],h_e=["Enter"," ","Escape"],g_e={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Zw;(function(e){e.Strict="strict",e.Loose="loose"})(Zw||(Zw={}));var Tv;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Tv||(Tv={}));var aT;(function(e){e.Partial="partial",e.Full="full"})(aT||(aT={}));const m_e={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var um;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(um||(um={}));var t5;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(t5||(t5={}));var on;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(on||(on={}));const mce={[on.Left]:on.Right,[on.Right]:on.Left,[on.Top]:on.Bottom,[on.Bottom]:on.Top};function y_e(e){return e===null?null:e?"valid":"invalid"}const v_e=e=>"id"in e&&"source"in e&&"target"in e,AXe=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),jY=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),DR=(e,t=[0,0])=>{const{width:n,height:r}=rg(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},PXe=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):jY(i)?i:t.nodeLookup.get(i.id));const a=s?n5(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return dF(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return fF(n)},OR=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=dF(n,n5(i)),r=!0)}),r?fF(n):{x:0,y:0,width:0,height:0}},$Y=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...jR(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:u,selectable:d=!0,hidden:f=!1}=c;if(s&&!d||f)continue;const p=u.width??c.width??c.initialWidth??null,g=u.height??c.height??c.initialHeight??null,y=lT(a,Jw(c)),v=(p??0)*(g??0),x=o&&y>0;(!c.internals.handleBounds||x||y>=v||c.dragging)&&l.push(c)}return l},DXe=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function OXe(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function IXe({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=OXe(e,s),l=OR(a),c=FY(l,t,n,s?.minZoom??i,s?.maxZoom??o,s?.padding??.1);return await r.setViewport(c,{duration:s?.duration,ease:s?.ease,interpolate:s?.interpolate}),Promise.resolve(!0)}function b_e({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=s.origin??r;let d=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o?.("005",Xf.error005());else{const p=a.measured.width,g=a.measured.height;p&&g&&(d=[[l,c],[l+p,c+g]])}else a&&eS(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+c],[s.extent[1][0]+l,s.extent[1][1]+c]]);const f=eS(d)?Qv(t,d,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&o?.("015",Xf.error015()),{position:{x:f.x-l+(s.measured.width??0)*u[0],y:f.y-c+(s.measured.height??0)*u[1]},positionAbsolute:f}}async function jXe({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const p=o.has(f.id),g=!p&&f.parentId&&s.find(y=>y.id===f.parentId);(p||g)&&s.push(f)}const a=new Set(t.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=DXe(s,l);for(const f of l)a.has(f.id)&&!u.find(g=>g.id===f.id)&&u.push(f);if(!i)return{edges:u,nodes:s};const d=await i({nodes:s,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:s}:{edges:[],nodes:[]}:d}const Qw=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Qv=(e={x:0,y:0},t,n)=>({x:Qw(e.x,t[0][0],t[1][0]-(n?.width??0)),y:Qw(e.y,t[0][1],t[1][1]-(n?.height??0))});function x_e(e,t,n){const{width:r,height:i}=rg(n),{x:o,y:s}=n.internals.positionAbsolute;return Qv(e,[[o,s],[o+r,s+i]],t)}const yce=(e,t,n)=>e<t?Qw(Math.abs(e-t),1,t)/t:e>n?-Qw(Math.abs(e-n),1,t)/t:0,w_e=(e,t,n=15,r=40)=>{const i=yce(e.x,r,t.width-r)*n,o=yce(e.y,r,t.height-r)*n;return[i,o]},dF=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),uV=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),fF=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Jw=(e,t=[0,0])=>{const{x:n,y:r}=jY(e)?e.internals.positionAbsolute:DR(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},n5=(e,t=[0,0])=>{const{x:n,y:r}=jY(e)?e.internals.positionAbsolute:DR(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},S_e=(e,t)=>fF(dF(uV(e),uV(t))),lT=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},vce=e=>md(e.width)&&md(e.height)&&md(e.x)&&md(e.y),md=e=>!isNaN(e)&&isFinite(e),$Xe=(e,t)=>{},IR=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),jR=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?IR(a,s):a},r5=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function o1(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function FXe(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=o1(e,n),i=o1(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=o1(e.top??e.y??0,n),i=o1(e.bottom??e.y??0,n),o=o1(e.left??e.x??0,t),s=o1(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function LXe(e,t,n,r,i,o){const{x:s,y:a}=r5(e,[t,n,r]),{x:l,y:c}=r5({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=i-l,d=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(d)}}const FY=(e,t,n,r,i,o)=>{const s=FXe(o,t,n),a=(t-s.x)/e.width,l=(n-s.y)/e.height,c=Math.min(a,l),u=Qw(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,p=t/2-d*u,g=n/2-f*u,y=LXe(e,p,g,u,t,n),v={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:p-v.left+v.right,y:g-v.top+v.bottom,zoom:u}},cT=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function eS(e){return e!=null&&e!=="parent"}function rg(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function __e(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function C_e(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function bce(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function NXe(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function zXe(e){return{...g_e,...e||{}}}function fE(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=yd(e),a=jR({x:o-(i?.left??0),y:s-(i?.top??0)},r),{x:l,y:c}=n?IR(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const LY=e=>({width:e.offsetWidth,height:e.offsetHeight}),k_e=e=>e?.getRootNode?.()||window?.document,BXe=["INPUT","SELECT","TEXTAREA"];function E_e(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:BXe.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const T_e=e=>"clientX"in e,yd=(e,t)=>{const n=T_e(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},xce=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...LY(s)}})};function R_e({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function oD(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function wce({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case on.Left:return[t-oD(t-r,o),n];case on.Right:return[t+oD(r-t,o),n];case on.Top:return[t,n-oD(n-i,o)];case on.Bottom:return[t,n+oD(i-n,o)]}}function NY({sourceX:e,sourceY:t,sourcePosition:n=on.Bottom,targetX:r,targetY:i,targetPosition:o=on.Top,curvature:s=.25}){const[a,l]=wce({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,u]=wce({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,f,p,g]=R_e({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,d,f,p,g]}function M_e({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function UXe({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function VXe({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=dF(n5(e),n5(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return lT(s,fF(o))>0}const HXe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,WXe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),A_e=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||HXe;let i;return v_e(e)?i={...e}:i={...e,id:r(e)},WXe(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function P_e({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=M_e({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Sce={[on.Left]:{x:-1,y:0},[on.Right]:{x:1,y:0},[on.Top]:{x:0,y:-1},[on.Bottom]:{x:0,y:1}},qXe=({source:e,sourcePosition:t=on.Bottom,target:n})=>t===on.Left||t===on.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},_ce=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function GXe({source:e,sourcePosition:t=on.Bottom,target:n,targetPosition:r=on.Top,center:i,offset:o,stepPosition:s}){const a=Sce[t],l=Sce[r],c={x:e.x+a.x*o,y:e.y+a.y*o},u={x:n.x+l.x*o,y:n.y+l.y*o},d=qXe({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",p=d[f];let g=[],y,v;const x={x:0,y:0},w={x:0,y:0},[,,S,C]=M_e({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*l[f]===-1){f==="x"?(y=i.x??c.x+(u.x-c.x)*s,v=i.y??(c.y+u.y)/2):(y=i.x??(c.x+u.x)/2,v=i.y??c.y+(u.y-c.y)*s);const T=[{x:y,y:c.y},{x:y,y:u.y}],E=[{x:c.x,y:v},{x:u.x,y:v}];a[f]===p?g=f==="x"?T:E:g=f==="x"?E:T}else{const T=[{x:c.x,y:u.y}],E=[{x:u.x,y:c.y}];if(f==="x"?g=a.x===p?E:T:g=a.y===p?T:E,t===r){const P=Math.abs(e[f]-n[f]);if(P<=o){const $=Math.min(o-1,o-P);a[f]===p?x[f]=(c[f]>e[f]?-1:1)*$:w[f]=(u[f]>n[f]?-1:1)*$}}if(t!==r){const P=f==="x"?"y":"x",$=a[f]===l[P],D=c[P]>u[P],F=c[P]<u[P];(a[f]===1&&(!$&&D||$&&F)||a[f]!==1&&(!$&&F||$&&D))&&(g=f==="x"?T:E)}const A={x:c.x+x.x,y:c.y+x.y},O={x:u.x+w.x,y:u.y+w.y},I=Math.max(Math.abs(A.x-g[0].x),Math.abs(O.x-g[0].x)),j=Math.max(Math.abs(A.y-g[0].y),Math.abs(O.y-g[0].y));I>=j?(y=(A.x+O.x)/2,v=g[0].y):(y=g[0].x,v=(A.y+O.y)/2)}return[[e,{x:c.x+x.x,y:c.y+x.y},...g,{x:u.x+w.x,y:u.y+w.y},n],y,v,S,C]}function YXe(e,t,n,r){const i=Math.min(_ce(e,t)/2,_ce(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function dV({sourceX:e,sourceY:t,sourcePosition:n=on.Bottom,targetX:r,targetY:i,targetPosition:o=on.Top,borderRadius:s=5,centerX:a,centerY:l,offset:c=20,stepPosition:u=.5}){const[d,f,p,g,y]=GXe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:c,stepPosition:u});return[d.reduce((x,w,S)=>{let C="";return S>0&&S<d.length-1?C=YXe(d[S-1],w,d[S+1],s):C=`${S===0?"M":"L"}${w.x} ${w.y}`,x+=C,x},""),f,p,g,y]}function Cce(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function XXe(e){const{sourceNode:t,targetNode:n}=e;if(!Cce(t)||!Cce(n))return null;const r=t.internals.handleBounds||kce(t.handles),i=n.internals.handleBounds||kce(n.handles),o=Ece(r?.source??[],e.sourceHandle),s=Ece(e.connectionMode===Zw.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!o||!s)return e.onError?.("008",Xf.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=o?.position||on.Bottom,l=s?.position||on.Top,c=Jv(t,o,a),u=Jv(n,s,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function kce(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Jv(e,t,n=on.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,o=(t?.y??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??rg(e);if(r)return{x:i+s/2,y:o+a/2};switch(t?.position??n){case on.Top:return{x:i+s/2,y:o};case on.Right:return{x:i+s,y:o+a/2};case on.Bottom:return{x:i+s/2,y:o+a};case on.Left:return{x:i,y:o+a/2}}}function Ece(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function fV(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function KXe(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=fV(l,t);o.has(c)||(s.push({id:c,color:l.color||n,...l}),o.add(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const D_e=1e3,ZXe=10,zY={nodeOrigin:[0,0],nodeExtent:sT,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},QXe={...zY,checkEquality:!0};function BY(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function JXe(e,t,n){const r=BY(zY,n);for(const i of e.values())if(i.parentId)VY(i,e,t,r);else{const o=DR(i,r.nodeOrigin),s=eS(i.extent)?i.extent:r.nodeExtent,a=Qv(o,s,rg(i));i.internals.positionAbsolute=a}}function eKe(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function UY(e){return e==="manual"}function pV(e,t,n,r={}){const i=BY(QXe,r),o={i:0},s=new Map(t),a=i?.elevateNodesOnSelect&&!UY(i.zIndexMode)?D_e:0;let l=e.length>0;t.clear(),n.clear();for(const c of e){let u=s.get(c.id);if(i.checkEquality&&c===u?.internals.userNode)t.set(c.id,u);else{const d=DR(c,i.nodeOrigin),f=eS(c.extent)?c.extent:i.nodeExtent,p=Qv(d,f,rg(c));u={...i.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:p,handleBounds:eKe(c,u),z:O_e(c,a,i.zIndexMode),userNode:c}},t.set(c.id,u)}(u.measured===void 0||u.measured.width===void 0||u.measured.height===void 0)&&!u.hidden&&(l=!1),c.parentId&&VY(u,t,n,r,o)}return l}function tKe(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function VY(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:l}=BY(zY,r),c=e.parentId,u=t.get(c);if(!u){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}tKe(e,n),i&&!u.parentId&&u.internals.rootParentIndex===void 0&&l==="auto"&&(u.internals.rootParentIndex=++i.i,u.internals.z=u.internals.z+i.i*ZXe),i&&u.internals.rootParentIndex!==void 0&&(i.i=u.internals.rootParentIndex);const d=o&&!UY(l)?D_e:0,{x:f,y:p,z:g}=nKe(e,u,s,a,d,l),{positionAbsolute:y}=e.internals,v=f!==y.x||p!==y.y;(v||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:f,y:p}:y,z:g}})}function O_e(e,t,n){const r=md(e.zIndex)?e.zIndex:0;return UY(n)?r:r+(e.selected?t:0)}function nKe(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,l=rg(e),c=DR(e,n),u=eS(e.extent)?Qv(c,e.extent,l):c;let d=Qv({x:s+u.x,y:a+u.y},r,l);e.extent==="parent"&&(d=x_e(d,l,t));const f=O_e(e,i,o),p=t.internals.z??0;return{x:d.x,y:d.y,z:p>=f?p+1:f}}function HY(e,t,n,r=[0,0]){const i=[],o=new Map;for(const s of e){const a=t.get(s.parentId);if(!a)continue;const l=o.get(s.parentId)?.expandedRect??Jw(a),c=S_e(l,s.rect);o.set(s.parentId,{expandedRect:c,parent:a})}return o.size>0&&o.forEach(({expandedRect:s,parent:a},l)=>{const c=a.internals.positionAbsolute,u=rg(a),d=a.origin??r,f=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,p=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,g=Math.max(u.width,Math.round(s.width)),y=Math.max(u.height,Math.round(s.height)),v=(g-u.width)*d[0],x=(y-u.height)*d[1];(f>0||p>0||v||x)&&(i.push({id:l,type:"position",position:{x:a.position.x-f+v,y:a.position.y-p+x}}),n.get(l)?.forEach(w=>{e.some(S=>S.id===w.id)||i.push({id:w.id,type:"position",position:{x:w.position.x+f,y:w.position.y+p}})})),(u.width<s.width||u.height<s.height||f||p)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(f?d[0]*f-v:0),height:y+(p?d[1]*p-x:0)}})}),i}function rKe(e,t,n,r,i,o,s){const a=r?.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const c=[],u=window.getComputedStyle(a),{m22:d}=new window.DOMMatrixReadOnly(u.transform),f=[];for(const p of e.values()){const g=t.get(p.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),l=!0;continue}const y=LY(p.nodeElement),v=g.measured.width!==y.width||g.measured.height!==y.height;if(!!(y.width&&y.height&&(v||!g.internals.handleBounds||p.force))){const w=p.nodeElement.getBoundingClientRect(),S=eS(g.extent)?g.extent:o;let{positionAbsolute:C}=g.internals;g.parentId&&g.extent==="parent"?C=x_e(C,y,t.get(g.parentId)):S&&(C=Qv(C,S,y));const k={...g,measured:y,internals:{...g.internals,positionAbsolute:C,handleBounds:{source:xce("source",p.nodeElement,w,d,g.id),target:xce("target",p.nodeElement,w,d,g.id)}}};t.set(g.id,k),g.parentId&&VY(k,t,n,{nodeOrigin:i,zIndexMode:s}),l=!0,v&&(c.push({id:g.id,type:"dimensions",dimensions:y}),g.expandParent&&g.parentId&&f.push({id:g.id,parentId:g.parentId,rect:Jw(k,i)}))}}if(f.length>0){const p=HY(f,t,n,i);c.push(...p)}return{changes:c,updatedInternals:l}}async function iKe({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Tce(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function I_e(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c=`${i}-${s}--${o}-${a}`,u=`${o}-${a}--${i}-${s}`;Tce("source",l,u,e,i,s),Tce("target",l,c,e,o,a),t.set(r.id,r)}}function j_e(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:j_e(n,t):!1}function Rce(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function oKe(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!j_e(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function YB({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[s,a]of t){const l=n.get(s)?.internals.userNode;l&&i.push({...l,position:a.position,dragging:r})}if(!e)return[i[0],i];const o=n.get(e)?.internals.userNode;return[o?{...o,position:t.get(e)?.position||o.position,dragging:r}:i[0],i]}function sKe({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=IR(o,t);return{x:s.x-o.x,y:s.y-o.y}}function aKe({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,p=!1,g=!1,y=null;function v({noDragClassName:w,handleSelector:S,domNode:C,isSelectable:k,nodeId:T,nodeClickDistance:E=0}){f=uc(C);function A({x:P,y:$}){const{nodeLookup:D,nodeExtent:F,snapGrid:N,snapToGrid:V,nodeOrigin:H,onNodeDrag:U,onSelectionDrag:G,onError:z,updateNodePositions:W}=t();o={x:P,y:$};let X=!1;const Q=a.size>1,ee=Q&&F?uV(OR(a)):null,ne=Q&&V?sKe({dragItems:a,snapGrid:N,x:P,y:$}):null;for(const[oe,ce]of a){if(!D.has(oe))continue;let re={x:P-ce.distance.x,y:$-ce.distance.y};V&&(re=ne?{x:Math.round(re.x+ne.x),y:Math.round(re.y+ne.y)}:IR(re,N));let ge=null;if(Q&&F&&!ce.extent&&ee){const{positionAbsolute:xe}=ce.internals,q=xe.x-ee.x+F[0][0],fe=xe.x+ce.measured.width-ee.x2+F[1][0],se=xe.y-ee.y+F[0][1],J=xe.y+ce.measured.height-ee.y2+F[1][1];ge=[[q,se],[fe,J]]}const{position:he,positionAbsolute:ie}=b_e({nodeId:oe,nextPosition:re,nodeLookup:D,nodeExtent:ge||F,nodeOrigin:H,onError:z});X=X||ce.position.x!==he.x||ce.position.y!==he.y,ce.position=he,ce.internals.positionAbsolute=ie}if(g=g||X,!!X&&(W(a,!0),y&&(r||U||!T&&G))){const[oe,ce]=YB({nodeId:T,dragItems:a,nodeLookup:D});r?.(y,a,oe,ce),U?.(y,oe,ce),T||G?.(y,ce)}}async function O(){if(!u)return;const{transform:P,panBy:$,autoPanSpeed:D,autoPanOnNodeDrag:F}=t();if(!F){l=!1,cancelAnimationFrame(s);return}const[N,V]=w_e(c,u,D);(N!==0||V!==0)&&(o.x=(o.x??0)-N/P[2],o.y=(o.y??0)-V/P[2],await $({x:N,y:V})&&A(o)),s=requestAnimationFrame(O)}function I(P){const{nodeLookup:$,multiSelectionActive:D,nodesDraggable:F,transform:N,snapGrid:V,snapToGrid:H,selectNodesOnDrag:U,onNodeDragStart:G,onSelectionDragStart:z,unselectNodesAndEdges:W}=t();d=!0,(!U||!k)&&!D&&T&&($.get(T)?.selected||W()),k&&U&&T&&e?.(T);const X=fE(P.sourceEvent,{transform:N,snapGrid:V,snapToGrid:H,containerBounds:u});if(o=X,a=oKe($,F,X,T),a.size>0&&(n||G||!T&&z)){const[Q,ee]=YB({nodeId:T,dragItems:a,nodeLookup:$});n?.(P.sourceEvent,a,Q,ee),G?.(P.sourceEvent,Q,ee),T||z?.(P.sourceEvent,ee)}}const j=PSe().clickDistance(E).on("start",P=>{const{domNode:$,nodeDragThreshold:D,transform:F,snapGrid:N,snapToGrid:V}=t();u=$?.getBoundingClientRect()||null,p=!1,g=!1,y=P.sourceEvent,D===0&&I(P),o=fE(P.sourceEvent,{transform:F,snapGrid:N,snapToGrid:V,containerBounds:u}),c=yd(P.sourceEvent,u)}).on("drag",P=>{const{autoPanOnNodeDrag:$,transform:D,snapGrid:F,snapToGrid:N,nodeDragThreshold:V,nodeLookup:H}=t(),U=fE(P.sourceEvent,{transform:D,snapGrid:F,snapToGrid:N,containerBounds:u});if(y=P.sourceEvent,(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||T&&!H.has(T))&&(p=!0),!p){if(!l&&$&&d&&(l=!0,O()),!d){const G=yd(P.sourceEvent,u),z=G.x-c.x,W=G.y-c.y;Math.sqrt(z*z+W*W)>V&&I(P)}(o.x!==U.xSnapped||o.y!==U.ySnapped)&&a&&d&&(c=yd(P.sourceEvent,u),A(U))}}).on("end",P=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:$,updateNodePositions:D,onNodeDragStop:F,onSelectionDragStop:N}=t();if(g&&(D(a,!1),g=!1),i||F||!T&&N){const[V,H]=YB({nodeId:T,dragItems:a,nodeLookup:$,dragging:!1});i?.(P.sourceEvent,a,V,H),F?.(P.sourceEvent,V,H),T||N?.(P.sourceEvent,H)}}}).filter(P=>{const $=P.target;return!P.button&&(!w||!Rce($,`.${w}`,C))&&(!S||Rce($,S,C))});f.call(j)}function x(){f?.on(".drag",null)}return{update:v,destroy:x}}function lKe(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())lT(i,Jw(o))>0&&r.push(o);return r}const cKe=250;function uKe(e,t,n,r){let i=[],o=1/0;const s=lKe(e,n,t+cKe);for(const a of s){const l=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const c of l){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:u,y:d}=Jv(a,c,c.position,!0),f=Math.sqrt(Math.pow(u-e.x,2)+Math.pow(d-e.y,2));f>t||(f<o?(i=[{...c,x:u,y:d}],o=f):f===o&&i.push({...c,x:u,y:d}))}}if(!i.length)return null;if(i.length>1){const a=r.type==="source"?"target":"source";return i.find(l=>l.type===a)??i[0]}return i[0]}function $_e(e,t,n,r,i,o=!1){const s=r.get(e);if(!s)return null;const a=i==="strict"?s.internals.handleBounds?.[t]:[...s.internals.handleBounds?.source??[],...s.internals.handleBounds?.target??[]],l=(n?a?.find(c=>c.id===n):a?.[0])??null;return l&&o?{...l,...Jv(s,l,l.position,!0)}:l}function F_e(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function dKe(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const L_e=()=>!0;function fKe(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:p,onConnectStart:g,onConnect:y,onConnectEnd:v,isValidConnection:x=L_e,onReconnectEnd:w,updateConnection:S,getTransform:C,getFromHandle:k,autoPanSpeed:T,dragThreshold:E=1,handleDomNode:A}){const O=k_e(e.target);let I=0,j;const{x:P,y:$}=yd(e),D=F_e(o,A),F=a?.getBoundingClientRect();let N=!1;if(!F||!D)return;const V=$_e(i,D,r,l,t);if(!V)return;let H=yd(e,F),U=!1,G=null,z=!1,W=null;function X(){if(!u||!F)return;const[he,ie]=w_e(H,F,T);f({x:he,y:ie}),I=requestAnimationFrame(X)}const Q={...V,nodeId:i,type:D,position:V.position},ee=l.get(i);let oe={inProgress:!0,isValid:null,from:Jv(ee,Q,on.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ee,to:H,toHandle:null,toPosition:mce[Q.position],toNode:null,pointer:H};function ce(){N=!0,S(oe),g?.(e,{nodeId:i,handleId:r,handleType:D})}E===0&&ce();function re(he){if(!N){const{x:J,y:Z}=yd(he),ue=J-P,de=Z-$;if(!(ue*ue+de*de>E*E))return;ce()}if(!k()||!Q){ge(he);return}const ie=C();H=yd(he,F),j=uKe(jR(H,ie,!1,[1,1]),n,l,Q),U||(X(),U=!0);const xe=N_e(he,{handle:j,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:x,doc:O,lib:c,flowId:d,nodeLookup:l});W=xe.handleDomNode,G=xe.connection,z=dKe(!!j,xe.isValid);const q=l.get(i),fe=q?Jv(q,Q,on.Left,!0):oe.from,se={...oe,from:fe,isValid:z,to:xe.toHandle&&z?r5({x:xe.toHandle.x,y:xe.toHandle.y},ie):H,toHandle:xe.toHandle,toPosition:z&&xe.toHandle?xe.toHandle.position:mce[Q.position],toNode:xe.toHandle?l.get(xe.toHandle.nodeId):null,pointer:H};S(se),oe=se}function ge(he){if(!("touches"in he&&he.touches.length>0)){if(N){(j||W)&&G&&z&&y?.(G);const{inProgress:ie,...xe}=oe,q={...xe,toPosition:oe.toHandle?oe.toPosition:null};v?.(he,q),o&&w?.(he,q)}p(),cancelAnimationFrame(I),U=!1,z=!1,G=null,W=null,O.removeEventListener("mousemove",re),O.removeEventListener("mouseup",ge),O.removeEventListener("touchmove",re),O.removeEventListener("touchend",ge)}}O.addEventListener("mousemove",re),O.addEventListener("mouseup",ge),O.addEventListener("touchmove",re),O.addEventListener("touchend",ge)}function N_e(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:c=L_e,nodeLookup:u}){const d=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:g}=yd(e),y=s.elementFromPoint(p,g),v=y?.classList.contains(`${a}-flow__handle`)?y:f,x={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const w=F_e(void 0,v),S=v.getAttribute("data-nodeid"),C=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),T=v.classList.contains("connectableend");if(!S||!w)return x;const E={source:d?S:r,sourceHandle:d?C:i,target:d?r:S,targetHandle:d?i:C};x.connection=E;const O=k&&T&&(n===Zw.Strict?d&&w==="source"||!d&&w==="target":S!==r||C!==i);x.isValid=O&&c(E),x.toHandle=$_e(S,w,C,u,n,!0)}return x}const hV={onPointerDown:fKe,isValid:N_e};function pKe({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=uc(e);function o({translateExtent:a,width:l,height:c,zoomStep:u=1,pannable:d=!0,zoomable:f=!0,inversePan:p=!1}){const g=S=>{if(S.sourceEvent.type!=="wheel"||!t)return;const C=n(),k=S.sourceEvent.ctrlKey&&cT()?10:1,T=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*u,E=C[2]*Math.pow(2,T*k);t.scaleTo(E)};let y=[0,0];const v=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(y=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},x=S=>{const C=n();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!t)return;const k=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],T=[k[0]-y[0],k[1]-y[1]];y=k;const E=r()*Math.max(C[2],Math.log(C[2]))*(p?-1:1),A={x:C[0]-T[0]*E,y:C[1]-T[1]*E},O=[[0,0],[l,c]];t.setViewportConstrained({x:A.x,y:A.y,zoom:C[2]},O,a)},w=p_e().on("start",v).on("zoom",d?x:null).on("zoom.wheel",f?g:null);i.call(w,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:od}}const pF=e=>({x:e.x,y:e.y,zoom:e.k}),XB=({x:e,y:t,zoom:n})=>uF.translate(e,t).scale(n),G1=(e,t)=>e.target.closest(`.${t}`),z_e=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),hKe=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,KB=(e,t=0,n=hKe,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},B_e=e=>{const t=e.ctrlKey&&cT()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function gKe({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(G1(u,t))return u.ctrlKey&&u.preventDefault(),!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&s){const v=od(u),x=B_e(u),w=d*Math.pow(2,x);r.scaleTo(n,w,v,u);return}const f=u.deltaMode===1?20:1;let p=i===Tv.Vertical?0:u.deltaX*f,g=i===Tv.Horizontal?0:u.deltaY*f;!cT()&&u.shiftKey&&i!==Tv.Vertical&&(p=u.deltaY*f,g=0),r.translateBy(n,-(p/d)*o,-(g/d)*o,{internal:!0});const y=pF(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l?.(u,y),e.panScrollTimeout=setTimeout(()=>{c?.(u,y),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a?.(u,y))}}function mKe({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=G1(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function yKe({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=pF(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}function vKe({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{e.usedRightMouseButton=!!(n&&z_e(t,e.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,pF(o.transform))}}function bKe({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{if(!s.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,o&&z_e(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const a=pF(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(s.sourceEvent,a)},n?150:0)}}}function xKe({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:u}){return d=>{const f=e||t,p=n&&d.ctrlKey,g=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(G1(d,`${c}-flow__node`)||G1(d,`${c}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||s||u&&!g||G1(d,a)&&g||G1(d,l)&&(!g||i&&g&&!e)||!n&&d.ctrlKey&&g)return!1;if(!n&&d.type==="touchstart"&&d.touches?.length>1)return d.preventDefault(),!1;if(!f&&!i&&!p&&g||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||g)&&y}}function wKe({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:l}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},u=e.getBoundingClientRect(),d=p_e().scaleExtent([t,n]).translateExtent(r),f=uc(e).call(d);w({x:i.x,y:i.y,zoom:Qw(i.zoom,t,n)},[[0,0],[u.width,u.height]],r);const p=f.on("wheel.zoom"),g=f.on("dblclick.zoom");d.wheelDelta(B_e);function y(j,P){return f?new Promise($=>{d?.interpolate(P?.interpolate==="linear"?Ed:dE).transform(KB(f,P?.duration,P?.ease,()=>$(!0)),j)}):Promise.resolve(!1)}function v({noWheelClassName:j,noPanClassName:P,onPaneContextMenu:$,userSelectionActive:D,panOnScroll:F,panOnDrag:N,panOnScrollMode:V,panOnScrollSpeed:H,preventScrolling:U,zoomOnPinch:G,zoomOnScroll:z,zoomOnDoubleClick:W,zoomActivationKeyPressed:X,lib:Q,onTransformChange:ee,connectionInProgress:ne,paneClickDistance:oe,selectionOnDrag:ce}){D&&!c.isZoomingOrPanning&&x();const re=F&&!X&&!D;d.clickDistance(ce?1/0:!md(oe)||oe<0?0:oe);const ge=re?gKe({zoomPanValues:c,noWheelClassName:j,d3Selection:f,d3Zoom:d,panOnScrollMode:V,panOnScrollSpeed:H,zoomOnPinch:G,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):mKe({noWheelClassName:j,preventScrolling:U,d3ZoomHandler:p});if(f.on("wheel.zoom",ge,{passive:!1}),!D){const ie=yKe({zoomPanValues:c,onDraggingChange:l,onPanZoomStart:s});d.on("start",ie);const xe=vKe({zoomPanValues:c,panOnDrag:N,onPaneContextMenu:!!$,onPanZoom:o,onTransformChange:ee});d.on("zoom",xe);const q=bKe({zoomPanValues:c,panOnDrag:N,panOnScroll:F,onPaneContextMenu:$,onPanZoomEnd:a,onDraggingChange:l});d.on("end",q)}const he=xKe({zoomActivationKeyPressed:X,panOnDrag:N,zoomOnScroll:z,panOnScroll:F,zoomOnDoubleClick:W,zoomOnPinch:G,userSelectionActive:D,noPanClassName:P,noWheelClassName:j,lib:Q,connectionInProgress:ne});d.filter(he),W?f.on("dblclick.zoom",g):f.on("dblclick.zoom",null)}function x(){d.on("zoom",null)}async function w(j,P,$){const D=XB(j),F=d?.constrain()(D,P,$);return F&&await y(F),new Promise(N=>N(F))}async function S(j,P){const $=XB(j);return await y($,P),new Promise(D=>D($))}function C(j){if(f){const P=XB(j),$=f.property("__zoom");($.k!==j.zoom||$.x!==j.x||$.y!==j.y)&&d?.transform(f,P,null,{sync:!0})}}function k(){const j=f?f_e(f.node()):{x:0,y:0,k:1};return{x:j.x,y:j.y,zoom:j.k}}function T(j,P){return f?new Promise($=>{d?.interpolate(P?.interpolate==="linear"?Ed:dE).scaleTo(KB(f,P?.duration,P?.ease,()=>$(!0)),j)}):Promise.resolve(!1)}function E(j,P){return f?new Promise($=>{d?.interpolate(P?.interpolate==="linear"?Ed:dE).scaleBy(KB(f,P?.duration,P?.ease,()=>$(!0)),j)}):Promise.resolve(!1)}function A(j){d?.scaleExtent(j)}function O(j){d?.translateExtent(j)}function I(j){const P=!md(j)||j<0?0:j;d?.clickDistance(P)}return{update:v,destroy:x,setViewport:S,setViewportConstrained:w,getViewport:k,scaleTo:T,scaleBy:E,setScaleExtent:A,setTranslateExtent:O,syncViewport:C,setClickDistance:I}}var tS;(function(e){e.Line="line",e.Handle="handle"})(tS||(tS={}));function SKe({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function Mce(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Ug(e,t){return Math.max(0,t-e)}function Vg(e,t){return Math.max(0,e-t)}function sD(e,t,n){return Math.max(0,t-e,e-n)}function Ace(e,t){return e?!t:t}function _Ke(e,t,n,r,i,o,s,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:d}=t,f=u&&d,{xSnapped:p,ySnapped:g}=n,{minWidth:y,maxWidth:v,minHeight:x,maxHeight:w}=r,{x:S,y:C,width:k,height:T,aspectRatio:E}=e;let A=Math.floor(u?p-e.pointerX:0),O=Math.floor(d?g-e.pointerY:0);const I=k+(l?-A:A),j=T+(c?-O:O),P=-o[0]*k,$=-o[1]*T;let D=sD(I,y,v),F=sD(j,x,w);if(s){let H=0,U=0;l&&A<0?H=Ug(S+A+P,s[0][0]):!l&&A>0&&(H=Vg(S+I+P,s[1][0])),c&&O<0?U=Ug(C+O+$,s[0][1]):!c&&O>0&&(U=Vg(C+j+$,s[1][1])),D=Math.max(D,H),F=Math.max(F,U)}if(a){let H=0,U=0;l&&A>0?H=Vg(S+A,a[0][0]):!l&&A<0&&(H=Ug(S+I,a[1][0])),c&&O>0?U=Vg(C+O,a[0][1]):!c&&O<0&&(U=Ug(C+j,a[1][1])),D=Math.max(D,H),F=Math.max(F,U)}if(i){if(u){const H=sD(I/E,x,w)*E;if(D=Math.max(D,H),s){let U=0;!l&&!c||l&&!c&&f?U=Vg(C+$+I/E,s[1][1])*E:U=Ug(C+$+(l?A:-A)/E,s[0][1])*E,D=Math.max(D,U)}if(a){let U=0;!l&&!c||l&&!c&&f?U=Ug(C+I/E,a[1][1])*E:U=Vg(C+(l?A:-A)/E,a[0][1])*E,D=Math.max(D,U)}}if(d){const H=sD(j*E,y,v)/E;if(F=Math.max(F,H),s){let U=0;!l&&!c||c&&!l&&f?U=Vg(S+j*E+P,s[1][0])/E:U=Ug(S+(c?O:-O)*E+P,s[0][0])/E,F=Math.max(F,U)}if(a){let U=0;!l&&!c||c&&!l&&f?U=Ug(S+j*E,a[1][0])/E:U=Vg(S+(c?O:-O)*E,a[0][0])/E,F=Math.max(F,U)}}}O=O+(O<0?F:-F),A=A+(A<0?D:-D),i&&(f?I>j*E?O=(Ace(l,c)?-A:A)/E:A=(Ace(l,c)?-O:O)*E:u?(O=A/E,c=l):(A=O*E,l=c));const N=l?S+A:S,V=c?C+O:C;return{width:k+(l?-A:A),height:T+(c?-O:O),x:o[0]*A*(l?-1:1)+N,y:o[1]*O*(c?-1:1)+V}}const U_e={width:0,height:0,x:0,y:0},CKe={...U_e,pointerX:0,pointerY:0,aspectRatio:1};function kKe(e){return[[0,0],[e.measured.width,e.measured.height]]}function EKe(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function TKe({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=uc(e);let s={controlDirection:Mce("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:u,keepAspectRatio:d,resizeDirection:f,onResizeStart:p,onResize:g,onResizeEnd:y,shouldResize:v}){let x={...U_e},w={...CKe};s={boundaries:u,resizeDirection:f,keepAspectRatio:d,controlDirection:Mce(c)};let S,C=null,k=[],T,E,A,O=!1;const I=PSe().on("start",j=>{const{nodeLookup:P,transform:$,snapGrid:D,snapToGrid:F,nodeOrigin:N,paneDomNode:V}=n();if(S=P.get(t),!S)return;C=V?.getBoundingClientRect()??null;const{xSnapped:H,ySnapped:U}=fE(j.sourceEvent,{transform:$,snapGrid:D,snapToGrid:F,containerBounds:C});x={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},w={...x,pointerX:H,pointerY:U,aspectRatio:x.width/x.height},T=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(T=P.get(S.parentId),E=T&&S.extent==="parent"?kKe(T):void 0),k=[],A=void 0;for(const[G,z]of P)if(z.parentId===t&&(k.push({id:G,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const W=EKe(z,S,z.origin??N);A?A=[[Math.min(W[0][0],A[0][0]),Math.min(W[0][1],A[0][1])],[Math.max(W[1][0],A[1][0]),Math.max(W[1][1],A[1][1])]]:A=W}p?.(j,{...x})}).on("drag",j=>{const{transform:P,snapGrid:$,snapToGrid:D,nodeOrigin:F}=n(),N=fE(j.sourceEvent,{transform:P,snapGrid:$,snapToGrid:D,containerBounds:C}),V=[];if(!S)return;const{x:H,y:U,width:G,height:z}=x,W={},X=S.origin??F,{width:Q,height:ee,x:ne,y:oe}=_Ke(w,s.controlDirection,N,s.boundaries,s.keepAspectRatio,X,E,A),ce=Q!==G,re=ee!==z,ge=ne!==H&&ce,he=oe!==U&&re;if(!ge&&!he&&!ce&&!re)return;if((ge||he||X[0]===1||X[1]===1)&&(W.x=ge?ne:x.x,W.y=he?oe:x.y,x.x=W.x,x.y=W.y,k.length>0)){const fe=ne-H,se=oe-U;for(const J of k)J.position={x:J.position.x-fe+X[0]*(Q-G),y:J.position.y-se+X[1]*(ee-z)},V.push(J)}if((ce||re)&&(W.width=ce&&(!s.resizeDirection||s.resizeDirection==="horizontal")?Q:x.width,W.height=re&&(!s.resizeDirection||s.resizeDirection==="vertical")?ee:x.height,x.width=W.width,x.height=W.height),T&&S.expandParent){const fe=X[0]*(W.width??0);W.x&&W.x<fe&&(x.x=fe,w.x=w.x-(W.x-fe));const se=X[1]*(W.height??0);W.y&&W.y<se&&(x.y=se,w.y=w.y-(W.y-se))}const ie=SKe({width:x.width,prevWidth:G,height:x.height,prevHeight:z,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),xe={...x,direction:ie};v?.(j,xe)!==!1&&(O=!0,g?.(j,xe),r(W,V))}).on("end",j=>{O&&(y?.(j,{...x}),i?.({...x}),O=!1)});o.call(I)}function l(){o.on(".drag",null)}return{update:a,destroy:l}}const RKe={},Pce=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(RKe?"matrix":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},MKe=e=>e?Pce(e):Pce,{useDebugValue:AKe}=Vt,{useSyncExternalStoreWithSelector:PKe}=gWe,DKe=e=>e;function V_e(e,t=DKe,n){const r=PKe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return AKe(r),r}const Dce=(e,t)=>{const n=MKe(e),r=(i,o=t)=>V_e(n,i,o);return Object.assign(r,n),r},OKe=(e,t)=>e?Dce(e,t):Dce;function Ii(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const hF=R.createContext(null),IKe=hF.Provider,H_e=Xf.error001();function gr(e,t){const n=R.useContext(hF);if(n===null)throw new Error(H_e);return V_e(n,e,t)}function $i(){const e=R.useContext(hF);if(e===null)throw new Error(H_e);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Oce={display:"none"},jKe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},W_e="react-flow__node-desc",q_e="react-flow__edge-desc",$Ke="react-flow__aria-live",FKe=e=>e.ariaLiveMessage,LKe=e=>e.ariaLabelConfig;function NKe({rfId:e}){const t=gr(FKe);return h.jsx("div",{id:`${$Ke}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:jKe,children:t})}function zKe({rfId:e,disableKeyboardA11y:t}){const n=gr(LKe);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${W_e}-${e}`,style:Oce,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${q_e}-${e}`,style:Oce,children:n["edge.a11yDescription.default"]}),!t&&h.jsx(NKe,{rfId:e})]})}const gF=R.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=`${e}`.split("-");return h.jsx("div",{className:qo(["react-flow__panel",n,...s]),style:r,ref:o,...i,children:t})});gF.displayName="Panel";function BKe({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:h.jsx(gF,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const UKe=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},aD=e=>e.id;function VKe(e,t){return Ii(e.selectedNodes.map(aD),t.selectedNodes.map(aD))&&Ii(e.selectedEdges.map(aD),t.selectedEdges.map(aD))}function HKe({onSelectionChange:e}){const t=$i(),{selectedNodes:n,selectedEdges:r}=gr(UKe,VKe);return R.useEffect(()=>{const i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const WKe=e=>!!e.onSelectionChangeHandlers;function qKe({onSelectionChange:e}){const t=gr(WKe);return e||t?h.jsx(HKe,{onSelectionChange:e}):null}const G_e=[0,0],GKe={x:0,y:0,zoom:1},YKe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Ice=[...YKe,"rfId"],XKe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),jce={translateExtent:sT,nodeOrigin:G_e,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function KKe(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l}=gr(XKe,Ii),c=$i();R.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{u.current=jce,a()}),[]);const u=R.useRef(jce);return R.useEffect(()=>{for(const d of Ice){const f=e[d],p=u.current[d];f!==p&&(typeof e[d]>"u"||(d==="nodes"?t(f):d==="edges"?n(f):d==="minZoom"?r(f):d==="maxZoom"?i(f):d==="translateExtent"?o(f):d==="nodeExtent"?s(f):d==="ariaLabelConfig"?c.setState({ariaLabelConfig:zXe(f)}):d==="fitView"?c.setState({fitViewQueued:f}):d==="fitViewOptions"?c.setState({fitViewOptions:f}):c.setState({[d]:f})))}u.current=e},Ice.map(d=>e[d])),null}function $ce(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ZKe(e){const[t,n]=R.useState(e==="system"?null:e);return R.useEffect(()=>{if(e!=="system"){n(e);return}const r=$ce(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[e]),t!==null?t:$ce()?.matches?"dark":"light"}const Fce=typeof document<"u"?document:null;function uT(e=null,t={target:Fce,actInsideInputWithModifier:!0}){const[n,r]=R.useState(!1),i=R.useRef(!1),o=R.useRef(new Set([])),[s,a]=R.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((d,f)=>d.concat(...f),[]);return[c,u]}return[[],[]]},[e]);return R.useEffect(()=>{const l=t?.target??Fce,c=t?.actInsideInputWithModifier??!0;if(e!==null){const u=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!c)&&E_e(p))return!1;const y=Nce(p.code,a);if(o.current.add(p[y]),Lce(s,o.current,!1)){const v=p.composedPath?.()?.[0]||p.target,x=v?.nodeName==="BUTTON"||v?.nodeName==="A";t.preventDefault!==!1&&(i.current||!x)&&p.preventDefault(),r(!0)}},d=p=>{const g=Nce(p.code,a);Lce(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[g]),p.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return l?.addEventListener("keydown",u),l?.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l?.removeEventListener("keydown",u),l?.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function Lce(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Nce(e,t){return t.includes(e)?"code":"key"}const QKe=()=>{const e=$i();return R.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),l=FY(t,r,i,o,s,n?.padding??.1);return a?(await a.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:l}=s.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},u=n.snapGrid??i,d=n.snapToGrid??o;return jR(c,r,d,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=r5(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function Y_e(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)JKe(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function JKe(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function X_e(e,t){return Y_e(e,t)}function K_e(e,t){return Y_e(e,t)}function zy(e,t){return{id:e,type:"select",selected:t}}function Y1(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(zy(o.id,s)))}return r}function zce({items:e=[],lookup:t}){const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const s=t.get(o.id),a=s?.internals?.userNode??s;a!==void 0&&a!==o&&n.push({id:o.id,item:o,type:"replace"}),a===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Bce(e){return{id:e.id,type:"remove"}}const Uce=e=>AXe(e),eZe=e=>v_e(e);function Z_e(e){return R.forwardRef(e)}const tZe=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Vce(e){const[t,n]=R.useState(BigInt(0)),[r]=R.useState(()=>nZe(()=>n(i=>i+BigInt(1))));return tZe(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function nZe(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Q_e=R.createContext(null);function rZe({children:e}){const t=$i(),n=R.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:d,nodeLookup:f,fitViewQueued:p,onNodesChangeMiddlewareMap:g}=t.getState();let y=l;for(const x of a)y=typeof x=="function"?x(y):x;let v=zce({items:y,lookup:f});for(const x of g.values())v=x(v);u&&c(y),v.length>0?d?.(v):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:x,nodes:w,setNodes:S}=t.getState();x&&S(w)})},[]),r=Vce(n),i=R.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:d,edgeLookup:f}=t.getState();let p=l;for(const g of a)p=typeof g=="function"?g(p):g;u?c(p):d&&d(zce({items:p,lookup:f}))},[]),o=Vce(i),s=R.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return h.jsx(Q_e.Provider,{value:s,children:e})}function iZe(){const e=R.useContext(Q_e);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const oZe=e=>!!e.panZoom;function $R(){const e=QKe(),t=$i(),n=iZe(),r=gr(oZe),i=R.useMemo(()=>{const o=d=>t.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{const{nodeLookup:f,nodeOrigin:p}=t.getState(),g=Uce(d)?d:f.get(d.id),y=g.parentId?C_e(g.position,g.measured,g.parentId,f,p):g.position,v={...g,position:y,width:g.measured?.width??g.width,height:g.measured?.height??g.height};return Jw(v)},c=(d,f,p={replace:!1})=>{s(g=>g.map(y=>{if(y.id===d){const v=typeof f=="function"?f(y):f;return p.replace&&Uce(v)?v:{...y,...v}}return y}))},u=(d,f,p={replace:!1})=>{a(g=>g.map(y=>{if(y.id===d){const v=typeof f=="function"?f(y):f;return p.replace&&eZe(v)?v:{...y,...v}}return y}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>o(d)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(f=>({...f}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:s,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:p}=t.getState(),[g,y,v]=p;return{nodes:d.map(x=>({...x})),edges:f.map(x=>({...x})),viewport:{x:g,y,zoom:v}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:p,edges:g,onNodesDelete:y,onEdgesDelete:v,triggerNodeChanges:x,triggerEdgeChanges:w,onDelete:S,onBeforeDelete:C}=t.getState(),{nodes:k,edges:T}=await jXe({nodesToRemove:d,edgesToRemove:f,nodes:p,edges:g,onBeforeDelete:C}),E=T.length>0,A=k.length>0;if(E){const O=T.map(Bce);v?.(T),w(O)}if(A){const O=k.map(Bce);y?.(k),x(O)}return(A||E)&&S?.({nodes:k,edges:T}),{deletedNodes:k,deletedEdges:T}},getIntersectingNodes:(d,f=!0,p)=>{const g=vce(d),y=g?d:l(d),v=p!==void 0;return y?(p||t.getState().nodes).filter(x=>{const w=t.getState().nodeLookup.get(x.id);if(w&&!g&&(x.id===d.id||!w.internals.positionAbsolute))return!1;const S=Jw(v?x:w),C=lT(S,y);return f&&C>0||C>=S.width*S.height||C>=y.width*y.height}):[]},isNodeIntersecting:(d,f,p=!0)=>{const y=vce(d)?d:l(d);if(!y)return!1;const v=lT(y,f);return p&&v>0||v>=f.width*f.height||v>=y.width*y.height},updateNode:c,updateNodeData:(d,f,p={replace:!1})=>{c(d,g=>{const y=typeof f=="function"?f(g):f;return p.replace?{...g,data:y}:{...g,data:{...g.data,...y}}},p)},updateEdge:u,updateEdgeData:(d,f,p={replace:!1})=>{u(d,g=>{const y=typeof f=="function"?f(g):f;return p.replace?{...g,data:y}:{...g,data:{...g.data,...y}}},p)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:p}=t.getState();return PXe(d,{nodeLookup:f,nodeOrigin:p})},getHandleConnections:({type:d,id:f,nodeId:p})=>Array.from(t.getState().connectionLookup.get(`${p}-${d}${f?`-${f}`:""}`)?.values()??[]),getNodeConnections:({type:d,handleId:f,nodeId:p})=>Array.from(t.getState().connectionLookup.get(`${p}${d?f?`-${d}-${f}`:`-${d}`:""}`)?.values()??[]),fitView:async d=>{const f=t.getState().fitViewResolver??NXe();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),n.nodeQueue.push(p=>[...p]),f.promise}}},[]);return R.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Hce=e=>e.selected,sZe=typeof window<"u"?window:void 0;function aZe({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=$i(),{deleteElements:r}=$R(),i=uT(e,{actInsideInputWithModifier:!1}),o=uT(t,{target:sZe});R.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(Hce),edges:s.filter(Hce)}),n.setState({nodesSelectionActive:!1})}},[i]),R.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function lZe(e){const t=$i();R.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const r=LY(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",Xf.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const mF={position:"absolute",width:"100%",height:"100%",top:0,left:0},cZe=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function uZe({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Tv.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:p=!0,children:g,noWheelClassName:y,noPanClassName:v,onViewportChange:x,isControlledViewport:w,paneClickDistance:S,selectionOnDrag:C}){const k=$i(),T=R.useRef(null),{userSelectionActive:E,lib:A,connectionInProgress:O}=gr(cZe,Ii),I=uT(f),j=R.useRef();lZe(T);const P=R.useCallback($=>{x?.({x:$[0],y:$[1],zoom:$[2]}),w||k.setState({transform:$})},[x,w]);return R.useEffect(()=>{if(T.current){j.current=wKe({domNode:T.current,minZoom:u,maxZoom:d,translateExtent:c,viewport:l,onDraggingChange:N=>k.setState({paneDragging:N}),onPanZoomStart:(N,V)=>{const{onViewportChangeStart:H,onMoveStart:U}=k.getState();U?.(N,V),H?.(V)},onPanZoom:(N,V)=>{const{onViewportChange:H,onMove:U}=k.getState();U?.(N,V),H?.(V)},onPanZoomEnd:(N,V)=>{const{onViewportChangeEnd:H,onMoveEnd:U}=k.getState();U?.(N,V),H?.(V)}});const{x:$,y:D,zoom:F}=j.current.getViewport();return k.setState({panZoom:j.current,transform:[$,D,F],domNode:T.current.closest(".react-flow")}),()=>{j.current?.destroy()}}},[]),R.useEffect(()=>{j.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:I,preventScrolling:p,noPanClassName:v,userSelectionActive:E,noWheelClassName:y,lib:A,onTransformChange:P,connectionInProgress:O,selectionOnDrag:C,paneClickDistance:S})},[e,t,n,r,i,o,s,a,I,p,v,E,y,A,P,O,C,S]),h.jsx("div",{className:"react-flow__renderer",ref:T,style:mF,children:g})}const dZe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function fZe(){const{userSelectionActive:e,userSelectionRect:t}=gr(dZe,Ii);return e&&t?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ZB=(e,t)=>n=>{n.target===t.current&&e?.(n)},pZe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function hZe({isSelecting:e,selectionKeyPressed:t,selectionMode:n=aT.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:g}){const y=$i(),{userSelectionActive:v,elementsSelectable:x,dragging:w,connectionInProgress:S}=gr(pZe,Ii),C=x&&(e||v),k=R.useRef(null),T=R.useRef(),E=R.useRef(new Set),A=R.useRef(new Set),O=R.useRef(!1),I=H=>{if(O.current||S){O.current=!1;return}l?.(H),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},j=H=>{if(Array.isArray(r)&&r?.includes(2)){H.preventDefault();return}c?.(H)},P=u?H=>u(H):void 0,$=H=>{O.current&&(H.stopPropagation(),O.current=!1)},D=H=>{const{domNode:U}=y.getState();if(T.current=U?.getBoundingClientRect(),!T.current)return;const G=H.target===k.current;if(!G&&!!H.target.closest(".nokey")||!e||!(o&&G||t)||H.button!==0||!H.isPrimary)return;H.target?.setPointerCapture?.(H.pointerId),O.current=!1;const{x:X,y:Q}=yd(H.nativeEvent,T.current);y.setState({userSelectionRect:{width:0,height:0,startX:X,startY:Q,x:X,y:Q}}),G||(H.stopPropagation(),H.preventDefault())},F=H=>{const{userSelectionRect:U,transform:G,nodeLookup:z,edgeLookup:W,connectionLookup:X,triggerNodeChanges:Q,triggerEdgeChanges:ee,defaultEdgeOptions:ne,resetSelectedElements:oe}=y.getState();if(!T.current||!U)return;const{x:ce,y:re}=yd(H.nativeEvent,T.current),{startX:ge,startY:he}=U;if(!O.current){const se=t?0:i;if(Math.hypot(ce-ge,re-he)<=se)return;oe(),s?.(H)}O.current=!0;const ie={startX:ge,startY:he,x:ce<ge?ce:ge,y:re<he?re:he,width:Math.abs(ce-ge),height:Math.abs(re-he)},xe=E.current,q=A.current;E.current=new Set($Y(z,ie,G,n===aT.Partial,!0).map(se=>se.id)),A.current=new Set;const fe=ne?.selectable??!0;for(const se of E.current){const J=X.get(se);if(J)for(const{edgeId:Z}of J.values()){const ue=W.get(Z);ue&&(ue.selectable??fe)&&A.current.add(Z)}}if(!bce(xe,E.current)){const se=Y1(z,E.current,!0);Q(se)}if(!bce(q,A.current)){const se=Y1(W,A.current);ee(se)}y.setState({userSelectionRect:ie,userSelectionActive:!0,nodesSelectionActive:!1})},N=H=>{H.button===0&&(H.target?.releasePointerCapture?.(H.pointerId),!v&&H.target===k.current&&y.getState().userSelectionRect&&I?.(H),y.setState({userSelectionActive:!1,userSelectionRect:null}),O.current&&(a?.(H),y.setState({nodesSelectionActive:E.current.size>0})))},V=r===!0||Array.isArray(r)&&r.includes(0);return h.jsxs("div",{className:qo(["react-flow__pane",{draggable:V,dragging:w,selection:e}]),onClick:C?void 0:ZB(I,k),onContextMenu:ZB(j,k),onWheel:ZB(P,k),onPointerEnter:C?void 0:d,onPointerMove:C?F:f,onPointerUp:C?N:void 0,onPointerDownCapture:C?D:void 0,onClickCapture:C?$:void 0,onPointerLeave:p,ref:k,style:mF,children:[g,h.jsx(fZe,{})]})}function gV({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l?.("012",Xf.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])}function J_e({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=$i(),[l,c]=R.useState(!1),u=R.useRef();return R.useEffect(()=>{u.current=aKe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{gV({id:d,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),R.useEffect(()=>{if(t)u.current?.destroy();else if(e.current)return u.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{u.current?.destroy()}},[n,r,t,o,e,i]),l}const gZe=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function eCe(){const e=$i();return R.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=e.getState(),d=new Map,f=gZe(s),p=i?o[0]:5,g=i?o[1]:5,y=n.direction.x*p*n.factor,v=n.direction.y*g*n.factor;for(const[,x]of c){if(!f(x))continue;let w={x:x.internals.positionAbsolute.x+y,y:x.internals.positionAbsolute.y+v};i&&(w=IR(w,o));const{position:S,positionAbsolute:C}=b_e({nodeId:x.id,nextPosition:w,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});x.position=S,x.internals.positionAbsolute=C,d.set(x.id,x)}l(d)},[])}const WY=R.createContext(null),mZe=WY.Provider;WY.Consumer;const tCe=()=>R.useContext(WY),yZe=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),vZe=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:c}=s,u=l?.nodeId===e&&l?.id===t&&l?.type===n;return{connectingFrom:a?.nodeId===e&&a?.id===t&&a?.type===n,connectingTo:u,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===n,isPossibleEndHandle:o===Zw.Strict?a?.type!==n:e!==a?.nodeId||t!==a?.id,connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:u&&c}};function bZe({type:e="source",position:t=on.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...f},p){const g=s||null,y=e==="target",v=$i(),x=tCe(),{connectOnClick:w,noPanClassName:S,rfId:C}=gr(yZe,Ii),{connectingFrom:k,connectingTo:T,clickConnecting:E,isPossibleEndHandle:A,connectionInProcess:O,clickConnectionInProcess:I,valid:j}=gr(vZe(x,g,e),Ii);x||v.getState().onError?.("010",Xf.error010());const P=F=>{const{defaultEdgeOptions:N,onConnect:V,hasDefaultEdges:H}=v.getState(),U={...N,...F};if(H){const{edges:G,setEdges:z}=v.getState();z(A_e(U,G))}V?.(U),a?.(U)},$=F=>{if(!x)return;const N=T_e(F.nativeEvent);if(i&&(N&&F.button===0||!N)){const V=v.getState();hV.onPointerDown(F.nativeEvent,{handleDomNode:F.currentTarget,autoPanOnConnect:V.autoPanOnConnect,connectionMode:V.connectionMode,connectionRadius:V.connectionRadius,domNode:V.domNode,nodeLookup:V.nodeLookup,lib:V.lib,isTarget:y,handleId:g,nodeId:x,flowId:V.rfId,panBy:V.panBy,cancelConnection:V.cancelConnection,onConnectStart:V.onConnectStart,onConnectEnd:V.onConnectEnd,updateConnection:V.updateConnection,onConnect:P,isValidConnection:n||V.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:V.autoPanSpeed,dragThreshold:V.connectionDragThreshold})}N?u?.(F):d?.(F)},D=F=>{const{onClickConnectStart:N,onClickConnectEnd:V,connectionClickStartHandle:H,connectionMode:U,isValidConnection:G,lib:z,rfId:W,nodeLookup:X,connection:Q}=v.getState();if(!x||!H&&!i)return;if(!H){N?.(F.nativeEvent,{nodeId:x,handleId:g,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:x,type:e,id:g}});return}const ee=k_e(F.target),ne=n||G,{connection:oe,isValid:ce}=hV.isValid(F.nativeEvent,{handle:{nodeId:x,id:g,type:e},connectionMode:U,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:ne,flowId:W,doc:ee,lib:z,nodeLookup:X});ce&&oe&&P(oe);const re=structuredClone(Q);delete re.inProgress,re.toPosition=re.toHandle?re.toHandle.position:null,V?.(F,re),v.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":g,"data-nodeid":x,"data-handlepos":t,"data-id":`${C}-${x}-${g}-${e}`,className:qo(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,c,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:o,clickconnecting:E,connectingfrom:k,connectingto:T,valid:j,connectionindicator:r&&(!O||A)&&(O||I?o:i)}]),onMouseDown:$,onTouchStart:$,onClick:w?D:void 0,ref:p,...f,children:l})}const dT=R.memo(Z_e(bZe));function xZe({data:e,isConnectable:t,sourcePosition:n=on.Bottom}){return h.jsxs(h.Fragment,{children:[e?.label,h.jsx(dT,{type:"source",position:n,isConnectable:t})]})}function wZe({data:e,isConnectable:t,targetPosition:n=on.Top,sourcePosition:r=on.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(dT,{type:"target",position:n,isConnectable:t}),e?.label,h.jsx(dT,{type:"source",position:r,isConnectable:t})]})}function SZe(){return null}function _Ze({data:e,isConnectable:t,targetPosition:n=on.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(dT,{type:"target",position:n,isConnectable:t}),e?.label]})}const i5={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Wce={input:xZe,default:wZe,output:_Ze,group:SZe};function CZe(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const kZe=e=>{const{width:t,height:n,x:r,y:i}=OR(e.nodeLookup,{filter:o=>!!o.selected});return{width:md(t)?t:null,height:md(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function EZe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=$i(),{width:i,height:o,transformString:s,userSelectionActive:a}=gr(kZe,Ii),l=eCe(),c=R.useRef(null);if(R.useEffect(()=>{n||c.current?.focus({preventScroll:!0})},[n]),J_e({nodeRef:c}),a||!i||!o)return null;const u=e?f=>{const p=r.getState().nodes.filter(g=>g.selected);e(f,p)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(i5,f.key)&&(f.preventDefault(),l({direction:i5[f.key],factor:f.shiftKey?4:1}))};return h.jsx("div",{className:qo(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:h.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const qce=typeof window<"u"?window:void 0,TZe=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function nCe({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:g,panActivationKeyCode:y,zoomActivationKeyCode:v,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:E,panOnDrag:A,defaultViewport:O,translateExtent:I,minZoom:j,maxZoom:P,preventScrolling:$,onSelectionContextMenu:D,noWheelClassName:F,noPanClassName:N,disableKeyboardA11y:V,onViewportChange:H,isControlledViewport:U}){const{nodesSelectionActive:G,userSelectionActive:z}=gr(TZe,Ii),W=uT(c,{target:qce}),X=uT(y,{target:qce}),Q=X||A,ee=X||C,ne=u&&Q!==!0,oe=W||z||ne;return aZe({deleteKeyCode:l,multiSelectionKeyCode:g}),h.jsx(uZe,{onPaneContextMenu:o,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:ee,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:E,panOnDrag:!W&&Q,defaultViewport:O,translateExtent:I,minZoom:j,maxZoom:P,zoomActivationKeyCode:v,preventScrolling:$,noWheelClassName:F,noPanClassName:N,onViewportChange:H,isControlledViewport:U,paneClickDistance:a,selectionOnDrag:ne,children:h.jsxs(hZe,{onSelectionStart:f,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:Q,isSelecting:!!oe,selectionMode:d,selectionKeyPressed:W,paneClickDistance:a,selectionOnDrag:ne,children:[e,G&&h.jsx(EZe,{onSelectionContextMenu:D,noPanClassName:N,disableKeyboardA11y:V})]})})}nCe.displayName="FlowRenderer";const RZe=R.memo(nCe),MZe=e=>t=>e?$Y(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function AZe(e){return gr(R.useCallback(MZe(e),[e]),Ii)}const PZe=e=>e.updateNodeInternals;function DZe(){const e=gr(PZe),[t]=R.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return R.useEffect(()=>()=>{t?.disconnect()},[t]),t}function OZe({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=$i(),o=R.useRef(null),s=R.useRef(null),a=R.useRef(e.sourcePosition),l=R.useRef(e.targetPosition),c=R.useRef(t),u=n&&!!e.internals.handleBounds;return R.useEffect(()=>{o.current&&!e.hidden&&(!u||s.current!==o.current)&&(s.current&&r?.unobserve(s.current),r?.observe(o.current),s.current=o.current)},[u,e.hidden]),R.useEffect(()=>()=>{s.current&&(r?.unobserve(s.current),s.current=null)},[]),R.useEffect(()=>{if(o.current){const d=c.current!==t,f=a.current!==e.sourcePosition,p=l.current!==e.targetPosition;(d||f||p)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function IZe({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:d,noDragClassName:f,noPanClassName:p,disableKeyboardA11y:g,rfId:y,nodeTypes:v,nodeClickDistance:x,onError:w}){const{node:S,internals:C,isParent:k}=gr(ce=>{const re=ce.nodeLookup.get(e),ge=ce.parentLookup.has(e);return{node:re,internals:re.internals,isParent:ge}},Ii);let T=S.type||"default",E=v?.[T]||Wce[T];E===void 0&&(w?.("003",Xf.error003(T)),T="default",E=v?.default||Wce.default);const A=!!(S.draggable||a&&typeof S.draggable>"u"),O=!!(S.selectable||l&&typeof S.selectable>"u"),I=!!(S.connectable||c&&typeof S.connectable>"u"),j=!!(S.focusable||u&&typeof S.focusable>"u"),P=$i(),$=__e(S),D=OZe({node:S,nodeType:T,hasDimensions:$,resizeObserver:d}),F=J_e({nodeRef:D,disabled:S.hidden||!A,noDragClassName:f,handleSelector:S.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:x}),N=eCe();if(S.hidden)return null;const V=rg(S),H=CZe(S),U=O||A||t||n||r||i,G=n?ce=>n(ce,{...C.userNode}):void 0,z=r?ce=>r(ce,{...C.userNode}):void 0,W=i?ce=>i(ce,{...C.userNode}):void 0,X=o?ce=>o(ce,{...C.userNode}):void 0,Q=s?ce=>s(ce,{...C.userNode}):void 0,ee=ce=>{const{selectNodesOnDrag:re,nodeDragThreshold:ge}=P.getState();O&&(!re||!A||ge>0)&&gV({id:e,store:P,nodeRef:D}),t&&t(ce,{...C.userNode})},ne=ce=>{if(!(E_e(ce.nativeEvent)||g)){if(h_e.includes(ce.key)&&O){const re=ce.key==="Escape";gV({id:e,store:P,unselect:re,nodeRef:D})}else if(A&&S.selected&&Object.prototype.hasOwnProperty.call(i5,ce.key)){ce.preventDefault();const{ariaLabelConfig:re}=P.getState();P.setState({ariaLiveMessage:re["node.a11yDescription.ariaLiveMessage"]({direction:ce.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),N({direction:i5[ce.key],factor:ce.shiftKey?4:1})}}},oe=()=>{if(g||!D.current?.matches(":focus-visible"))return;const{transform:ce,width:re,height:ge,autoPanOnNodeFocus:he,setCenter:ie}=P.getState();if(!he)return;$Y(new Map([[e,S]]),{x:0,y:0,width:re,height:ge},ce,!0).length>0||ie(S.position.x+V.width/2,S.position.y+V.height/2,{zoom:ce[2]})};return h.jsx("div",{className:qo(["react-flow__node",`react-flow__node-${T}`,{[p]:A},S.className,{selected:S.selected,selectable:O,parent:k,draggable:A,dragging:F}]),ref:D,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:$?"visible":"hidden",...S.style,...H},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:z,onMouseLeave:W,onContextMenu:X,onClick:ee,onDoubleClick:Q,onKeyDown:j?ne:void 0,tabIndex:j?0:void 0,onFocus:j?oe:void 0,role:S.ariaRole??(j?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${W_e}-${y}`,"aria-label":S.ariaLabel,...S.domAttributes,children:h.jsx(mZe,{value:e,children:h.jsx(E,{id:e,data:S.data,type:T,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:S.selected??!1,selectable:O,draggable:A,deletable:S.deletable??!0,isConnectable:I,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:F,dragHandle:S.dragHandle,zIndex:C.z,parentId:S.parentId,...V})})})}var jZe=R.memo(IZe);const $Ze=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function rCe(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=gr($Ze,Ii),s=AZe(e.onlyRenderVisibleElements),a=DZe();return h.jsx("div",{className:"react-flow__nodes",style:mF,children:s.map(l=>h.jsx(jZe,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}rCe.displayName="NodeRenderer";const FZe=R.memo(rCe);function LZe(e){return gr(R.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&VXe({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Ii)}const NZe=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return h.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},zZe=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return h.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Gce={[t5.Arrow]:NZe,[t5.ArrowClosed]:zZe};function BZe(e){const t=$i();return R.useMemo(()=>Object.prototype.hasOwnProperty.call(Gce,e)?Gce[e]:(t.getState().onError?.("009",Xf.error009(e)),null),[e])}const UZe=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=BZe(t);return l?h.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:h.jsx(l,{color:n,strokeWidth:s})}):null},iCe=({defaultColor:e,rfId:t})=>{const n=gr(o=>o.edges),r=gr(o=>o.defaultEdgeOptions),i=R.useMemo(()=>KXe(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return i.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:i.map(o=>h.jsx(UZe,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};iCe.displayName="MarkerDefinitions";var VZe=R.memo(iCe);function oCe({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[d,f]=R.useState({x:1,y:0,width:0,height:0}),p=qo(["react-flow__edge-textwrapper",c]),g=R.useRef(null);return R.useEffect(()=>{if(g.current){const y=g.current.getBBox();f({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?h.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...u,children:[i&&h.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),h.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:g,style:r,children:n}),l]}):null}oCe.displayName="EdgeText";const HZe=R.memo(oCe);function FR({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...u,d:e,fill:"none",className:qo(["react-flow__edge-path",u.className])}),c?h.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&md(t)&&md(n)?h.jsx(HZe,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Yce({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===on.Left||e===on.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function sCe({sourceX:e,sourceY:t,sourcePosition:n=on.Bottom,targetX:r,targetY:i,targetPosition:o=on.Top}){const[s,a]=Yce({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=Yce({pos:o,x1:r,y1:i,x2:e,y2:t}),[u,d,f,p]=R_e({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${a} ${l},${c} ${r},${i}`,u,d,f,p]}function aCe(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:v,interactionWidth:x})=>{const[w,S,C]=sCe({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),k=e.isInternal?void 0:t;return h.jsx(FR,{id:k,path:w,labelX:S,labelY:C,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:v,interactionWidth:x})})}const WZe=aCe({isInternal:!1}),lCe=aCe({isInternal:!0});WZe.displayName="SimpleBezierEdge";lCe.displayName="SimpleBezierEdgeInternal";function cCe(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:p=on.Bottom,targetPosition:g=on.Top,markerEnd:y,markerStart:v,pathOptions:x,interactionWidth:w})=>{const[S,C,k]=dV({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:g,borderRadius:x?.borderRadius,offset:x?.offset,stepPosition:x?.stepPosition}),T=e.isInternal?void 0:t;return h.jsx(FR,{id:T,path:S,labelX:C,labelY:k,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:y,markerStart:v,interactionWidth:w})})}const uCe=cCe({isInternal:!1}),dCe=cCe({isInternal:!0});uCe.displayName="SmoothStepEdge";dCe.displayName="SmoothStepEdgeInternal";function fCe(e){return R.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return h.jsx(uCe,{...n,id:r,pathOptions:R.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const qZe=fCe({isInternal:!1}),pCe=fCe({isInternal:!0});qZe.displayName="StepEdge";pCe.displayName="StepEdgeInternal";function hCe(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,interactionWidth:y})=>{const[v,x,w]=P_e({sourceX:n,sourceY:r,targetX:i,targetY:o}),S=e.isInternal?void 0:t;return h.jsx(FR,{id:S,path:v,labelX:x,labelY:w,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,interactionWidth:y})})}const GZe=hCe({isInternal:!1}),gCe=hCe({isInternal:!0});GZe.displayName="StraightEdge";gCe.displayName="StraightEdgeInternal";function mCe(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=on.Bottom,targetPosition:a=on.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:v,pathOptions:x,interactionWidth:w})=>{const[S,C,k]=NY({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:x?.curvature}),T=e.isInternal?void 0:t;return h.jsx(FR,{id:T,path:S,labelX:C,labelY:k,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:v,interactionWidth:w})})}const YZe=mCe({isInternal:!1}),yCe=mCe({isInternal:!0});YZe.displayName="BezierEdge";yCe.displayName="BezierEdgeInternal";const Xce={default:yCe,straight:gCe,step:pCe,smoothstep:dCe,simplebezier:lCe},Kce={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},XZe=(e,t,n)=>n===on.Left?e-t:n===on.Right?e+t:e,KZe=(e,t,n)=>n===on.Top?e-t:n===on.Bottom?e+t:e,Zce="react-flow__edgeupdater";function Qce({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return h.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:qo([Zce,`${Zce}-${a}`]),cx:XZe(t,r,e),cy:KZe(n,r,e),r,stroke:"transparent",fill:"transparent"})}function ZZe({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:d,setReconnecting:f,setUpdateHover:p}){const g=$i(),y=(C,k)=>{if(C.button!==0)return;const{autoPanOnConnect:T,domNode:E,isValidConnection:A,connectionMode:O,connectionRadius:I,lib:j,onConnectStart:P,onConnectEnd:$,cancelConnection:D,nodeLookup:F,rfId:N,panBy:V,updateConnection:H}=g.getState(),U=k.type==="target",G=(X,Q)=>{f(!1),d?.(X,n,k.type,Q)},z=X=>c?.(n,X),W=(X,Q)=>{f(!0),u?.(C,n,k.type),P?.(X,Q)};hV.onPointerDown(C.nativeEvent,{autoPanOnConnect:T,connectionMode:O,connectionRadius:I,domNode:E,handleId:k.id,nodeId:k.nodeId,nodeLookup:F,isTarget:U,edgeUpdaterType:k.type,lib:j,flowId:N,cancelConnection:D,panBy:V,isValidConnection:A,onConnect:z,onConnectStart:W,onConnectEnd:$,onReconnectEnd:G,updateConnection:H,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:C.currentTarget})},v=C=>y(C,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=C=>y(C,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),w=()=>p(!0),S=()=>p(!1);return h.jsxs(h.Fragment,{children:[(e===!0||e==="source")&&h.jsx(Qce,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:v,onMouseEnter:w,onMouseOut:S,type:"source"}),(e===!0||e==="target")&&h.jsx(Qce,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:x,onMouseEnter:w,onMouseOut:S,type:"target"})]})}function QZe({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,rfId:g,edgeTypes:y,noPanClassName:v,onError:x,disableKeyboardA11y:w}){let S=gr(ie=>ie.edgeLookup.get(e));const C=gr(ie=>ie.defaultEdgeOptions);S=C?{...C,...S}:S;let k=S.type||"default",T=y?.[k]||Xce[k];T===void 0&&(x?.("011",Xf.error011(k)),k="default",T=y?.default||Xce.default);const E=!!(S.focusable||t&&typeof S.focusable>"u"),A=typeof d<"u"&&(S.reconnectable||n&&typeof S.reconnectable>"u"),O=!!(S.selectable||r&&typeof S.selectable>"u"),I=R.useRef(null),[j,P]=R.useState(!1),[$,D]=R.useState(!1),F=$i(),{zIndex:N,sourceX:V,sourceY:H,targetX:U,targetY:G,sourcePosition:z,targetPosition:W}=gr(R.useCallback(ie=>{const xe=ie.nodeLookup.get(S.source),q=ie.nodeLookup.get(S.target);if(!xe||!q)return{zIndex:S.zIndex,...Kce};const fe=XXe({id:e,sourceNode:xe,targetNode:q,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:ie.connectionMode,onError:x});return{zIndex:UXe({selected:S.selected,zIndex:S.zIndex,sourceNode:xe,targetNode:q,elevateOnSelect:ie.elevateEdgesOnSelect,zIndexMode:ie.zIndexMode}),...fe||Kce}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),Ii),X=R.useMemo(()=>S.markerStart?`url('#${fV(S.markerStart,g)}')`:void 0,[S.markerStart,g]),Q=R.useMemo(()=>S.markerEnd?`url('#${fV(S.markerEnd,g)}')`:void 0,[S.markerEnd,g]);if(S.hidden||V===null||H===null||U===null||G===null)return null;const ee=ie=>{const{addSelectedEdges:xe,unselectNodesAndEdges:q,multiSelectionActive:fe}=F.getState();O&&(F.setState({nodesSelectionActive:!1}),S.selected&&fe?(q({nodes:[],edges:[S]}),I.current?.blur()):xe([e])),i&&i(ie,S)},ne=o?ie=>{o(ie,{...S})}:void 0,oe=s?ie=>{s(ie,{...S})}:void 0,ce=a?ie=>{a(ie,{...S})}:void 0,re=l?ie=>{l(ie,{...S})}:void 0,ge=c?ie=>{c(ie,{...S})}:void 0,he=ie=>{if(!w&&h_e.includes(ie.key)&&O){const{unselectNodesAndEdges:xe,addSelectedEdges:q}=F.getState();ie.key==="Escape"?(I.current?.blur(),xe({edges:[S]})):q([e])}};return h.jsx("svg",{style:{zIndex:N},children:h.jsxs("g",{className:qo(["react-flow__edge",`react-flow__edge-${k}`,S.className,v,{selected:S.selected,animated:S.animated,inactive:!O&&!i,updating:j,selectable:O}]),onClick:ee,onDoubleClick:ne,onContextMenu:oe,onMouseEnter:ce,onMouseMove:re,onMouseLeave:ge,onKeyDown:E?he:void 0,tabIndex:E?0:void 0,role:S.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":E?`${q_e}-${g}`:void 0,ref:I,...S.domAttributes,children:[!$&&h.jsx(T,{id:e,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:O,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:V,sourceY:H,targetX:U,targetY:G,sourcePosition:z,targetPosition:W,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:X,markerEnd:Q,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),A&&h.jsx(ZZe,{edge:S,isReconnectable:A,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,sourceX:V,sourceY:H,targetX:U,targetY:G,sourcePosition:z,targetPosition:W,setUpdateHover:P,setReconnecting:D})]})})}var JZe=R.memo(QZe);const eQe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function vCe({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:p,onReconnectEnd:g,disableKeyboardA11y:y}){const{edgesFocusable:v,edgesReconnectable:x,elementsSelectable:w,onError:S}=gr(eQe,Ii),C=LZe(t);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(VZe,{defaultColor:e,rfId:n}),C.map(k=>h.jsx(JZe,{id:k,edgesFocusable:v,edgesReconnectable:x,elementsSelectable:w,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:f,onReconnectStart:p,onReconnectEnd:g,rfId:n,onError:S,edgeTypes:r,disableKeyboardA11y:y},k))]})}vCe.displayName="EdgeRenderer";const tQe=R.memo(vCe),nQe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rQe({children:e}){const t=gr(nQe);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function iQe(e){const t=$R(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const oQe=e=>e.panZoom?.syncViewport;function sQe(e){const t=gr(oQe),n=$i();return R.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function aQe(e){return e.connection.inProgress?{...e.connection,to:jR(e.connection.to,e.transform)}:{...e.connection}}function lQe(e){return aQe}function cQe(e){const t=lQe();return gr(t,Ii)}const uQe=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function dQe({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=gr(uQe,Ii);return!(o&&i&&l)?null:h.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:qo(["react-flow__connection",y_e(a)]),children:h.jsx(bCe,{style:t,type:n,CustomComponent:r,isValid:a})})})}const bCe=({style:e,type:t=um.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:d,toPosition:f,pointer:p}=cQe();if(!i)return;if(n)return h.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:f,connectionStatus:y_e(r),toNode:u,toHandle:d,pointer:p});let g="";const y={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:f};switch(t){case um.Bezier:[g]=NY(y);break;case um.SimpleBezier:[g]=sCe(y);break;case um.Step:[g]=dV({...y,borderRadius:0});break;case um.SmoothStep:[g]=dV(y);break;default:[g]=P_e(y)}return h.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};bCe.displayName="ConnectionLine";const fQe={};function Jce(e=fQe){R.useRef(e),$i(),R.useEffect(()=>{},[e])}function pQe(){$i(),R.useRef(!1),R.useEffect(()=>{},[])}function xCe({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:p,connectionLineType:g,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:x,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:k,panActivationKeyCode:T,zoomActivationKeyCode:E,deleteKeyCode:A,onlyRenderVisibleElements:O,elementsSelectable:I,defaultViewport:j,translateExtent:P,minZoom:$,maxZoom:D,preventScrolling:F,defaultMarkerColor:N,zoomOnScroll:V,zoomOnPinch:H,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:z,zoomOnDoubleClick:W,panOnDrag:X,onPaneClick:Q,onPaneMouseEnter:ee,onPaneMouseMove:ne,onPaneMouseLeave:oe,onPaneScroll:ce,onPaneContextMenu:re,paneClickDistance:ge,nodeClickDistance:he,onEdgeContextMenu:ie,onEdgeMouseEnter:xe,onEdgeMouseMove:q,onEdgeMouseLeave:fe,reconnectRadius:se,onReconnect:J,onReconnectStart:Z,onReconnectEnd:ue,noDragClassName:de,noWheelClassName:be,noPanClassName:le,disableKeyboardA11y:Se,nodeExtent:ye,rfId:ve,viewport:_e,onViewportChange:Ae}){return Jce(e),Jce(t),pQe(),iQe(n),sQe(_e),h.jsx(RZe,{onPaneClick:Q,onPaneMouseEnter:ee,onPaneMouseMove:ne,onPaneMouseLeave:oe,onPaneContextMenu:re,onPaneScroll:ce,paneClickDistance:ge,deleteKeyCode:A,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:k,panActivationKeyCode:T,zoomActivationKeyCode:E,elementsSelectable:I,zoomOnScroll:V,zoomOnPinch:H,zoomOnDoubleClick:W,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:z,panOnDrag:X,defaultViewport:j,translateExtent:P,minZoom:$,maxZoom:D,onSelectionContextMenu:d,preventScrolling:F,noDragClassName:de,noWheelClassName:be,noPanClassName:le,disableKeyboardA11y:Se,onViewportChange:Ae,isControlledViewport:!!_e,children:h.jsxs(rQe,{children:[h.jsx(tQe,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:J,onReconnectStart:Z,onReconnectEnd:ue,onlyRenderVisibleElements:O,onEdgeContextMenu:ie,onEdgeMouseEnter:xe,onEdgeMouseMove:q,onEdgeMouseLeave:fe,reconnectRadius:se,defaultMarkerColor:N,noPanClassName:le,disableKeyboardA11y:Se,rfId:ve}),h.jsx(dQe,{style:y,type:g,component:v,containerStyle:x}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(FZe,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:he,onlyRenderVisibleElements:O,noPanClassName:le,noDragClassName:de,disableKeyboardA11y:Se,nodeExtent:ye,rfId:ve}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}xCe.displayName="GraphView";const hQe=R.memo(xCe),eue=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:d,zIndexMode:f="basic"}={})=>{const p=new Map,g=new Map,y=new Map,v=new Map,x=r??t??[],w=n??e??[],S=u??[0,0],C=d??sT;I_e(y,v,x);const k=pV(w,p,g,{nodeOrigin:S,nodeExtent:C,zIndexMode:f});let T=[0,0,1];if(s&&i&&o){const E=OR(p,{filter:j=>!!((j.width||j.initialWidth)&&(j.height||j.initialHeight))}),{x:A,y:O,zoom:I}=FY(E,i,o,l,c,a?.padding??.1);T=[A,O,I]}return{rfId:"1",width:i??0,height:o??0,transform:T,nodes:w,nodesInitialized:k,nodeLookup:p,parentLookup:g,edges:x,edgeLookup:v,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:sT,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Zw.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...m_e},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:$Xe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:g_e,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},gQe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:d,zIndexMode:f})=>OKe((p,g)=>{async function y(){const{nodeLookup:v,panZoom:x,fitViewOptions:w,fitViewResolver:S,width:C,height:k,minZoom:T,maxZoom:E}=g();x&&(await IXe({nodes:v,width:C,height:k,panZoom:x,minZoom:T,maxZoom:E},w),S?.resolve(!0),p({fitViewResolver:null}))}return{...eue({nodes:e,edges:t,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:d,defaultNodes:n,defaultEdges:r,zIndexMode:f}),setNodes:v=>{const{nodeLookup:x,parentLookup:w,nodeOrigin:S,elevateNodesOnSelect:C,fitViewQueued:k,zIndexMode:T}=g(),E=pV(v,x,w,{nodeOrigin:S,nodeExtent:d,elevateNodesOnSelect:C,checkEquality:!0,zIndexMode:T});k&&E?(y(),p({nodes:v,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:v,nodesInitialized:E})},setEdges:v=>{const{connectionLookup:x,edgeLookup:w}=g();I_e(x,w,v),p({edges:v})},setDefaultNodesAndEdges:(v,x)=>{if(v){const{setNodes:w}=g();w(v),p({hasDefaultNodes:!0})}if(x){const{setEdges:w}=g();w(x),p({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:x,nodeLookup:w,parentLookup:S,domNode:C,nodeOrigin:k,nodeExtent:T,debug:E,fitViewQueued:A,zIndexMode:O}=g(),{changes:I,updatedInternals:j}=rKe(v,w,S,C,k,T,O);j&&(JXe(w,S,{nodeOrigin:k,nodeExtent:T,zIndexMode:O}),A?(y(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),I?.length>0&&(E&&console.log("React Flow: trigger node changes",I),x?.(I)))},updateNodePositions:(v,x=!1)=>{const w=[];let S=[];const{nodeLookup:C,triggerNodeChanges:k,connection:T,updateConnection:E,onNodesChangeMiddlewareMap:A}=g();for(const[O,I]of v){const j=C.get(O),P=!!(j?.expandParent&&j?.parentId&&I?.position),$={id:O,type:"position",position:P?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:x};if(j&&T.inProgress&&T.fromNode.id===j.id){const D=Jv(j,T.fromHandle,on.Left,!0);E({...T,from:D})}P&&j.parentId&&w.push({id:O,parentId:j.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width??0,height:I.measured.height??0}}),S.push($)}if(w.length>0){const{parentLookup:O,nodeOrigin:I}=g(),j=HY(w,C,O,I);S.push(...j)}for(const O of A.values())S=O(S);k(S)},triggerNodeChanges:v=>{const{onNodesChange:x,setNodes:w,nodes:S,hasDefaultNodes:C,debug:k}=g();if(v?.length){if(C){const T=X_e(v,S);w(T)}k&&console.log("React Flow: trigger node changes",v),x?.(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:x,setEdges:w,edges:S,hasDefaultEdges:C,debug:k}=g();if(v?.length){if(C){const T=K_e(v,S);w(T)}k&&console.log("React Flow: trigger edge changes",v),x?.(v)}},addSelectedNodes:v=>{const{multiSelectionActive:x,edgeLookup:w,nodeLookup:S,triggerNodeChanges:C,triggerEdgeChanges:k}=g();if(x){const T=v.map(E=>zy(E,!0));C(T);return}C(Y1(S,new Set([...v]),!0)),k(Y1(w))},addSelectedEdges:v=>{const{multiSelectionActive:x,edgeLookup:w,nodeLookup:S,triggerNodeChanges:C,triggerEdgeChanges:k}=g();if(x){const T=v.map(E=>zy(E,!0));k(T);return}k(Y1(w,new Set([...v]))),C(Y1(S,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:x}={})=>{const{edges:w,nodes:S,nodeLookup:C,triggerNodeChanges:k,triggerEdgeChanges:T}=g(),E=v||S,A=x||w,O=E.map(j=>{const P=C.get(j.id);return P&&(P.selected=!1),zy(j.id,!1)}),I=A.map(j=>zy(j.id,!1));k(O),T(I)},setMinZoom:v=>{const{panZoom:x,maxZoom:w}=g();x?.setScaleExtent([v,w]),p({minZoom:v})},setMaxZoom:v=>{const{panZoom:x,minZoom:w}=g();x?.setScaleExtent([w,v]),p({maxZoom:v})},setTranslateExtent:v=>{g().panZoom?.setTranslateExtent(v),p({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:x,triggerNodeChanges:w,triggerEdgeChanges:S,elementsSelectable:C}=g();if(!C)return;const k=x.reduce((E,A)=>A.selected?[...E,zy(A.id,!1)]:E,[]),T=v.reduce((E,A)=>A.selected?[...E,zy(A.id,!1)]:E,[]);w(k),S(T)},setNodeExtent:v=>{const{nodes:x,nodeLookup:w,parentLookup:S,nodeOrigin:C,elevateNodesOnSelect:k,nodeExtent:T,zIndexMode:E}=g();v[0][0]===T[0][0]&&v[0][1]===T[0][1]&&v[1][0]===T[1][0]&&v[1][1]===T[1][1]||(pV(x,w,S,{nodeOrigin:C,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:E}),p({nodeExtent:v}))},panBy:v=>{const{transform:x,width:w,height:S,panZoom:C,translateExtent:k}=g();return iKe({delta:v,panZoom:C,transform:x,translateExtent:k,width:w,height:S})},setCenter:async(v,x,w)=>{const{width:S,height:C,maxZoom:k,panZoom:T}=g();if(!T)return Promise.resolve(!1);const E=typeof w?.zoom<"u"?w.zoom:k;return await T.setViewport({x:S/2-v*E,y:C/2-x*E,zoom:E},{duration:w?.duration,ease:w?.ease,interpolate:w?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...m_e}})},updateConnection:v=>{p({connection:v})},reset:()=>p({...eue()})}},Object.is);function wCe({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:u,nodeExtent:d,zIndexMode:f,children:p}){const[g]=R.useState(()=>gQe({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:c,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:u,nodeExtent:d,zIndexMode:f}));return h.jsx(IKe,{value:g,children:h.jsx(rZe,{children:p})})}function mQe({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:p}){return R.useContext(hF)?h.jsx(h.Fragment,{children:e}):h.jsx(wCe,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:p,children:e})}const yQe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function vQe({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:g,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:T,onNodeDragStart:E,onNodeDrag:A,onNodeDragStop:O,onNodesDelete:I,onEdgesDelete:j,onDelete:P,onSelectionChange:$,onSelectionDragStart:D,onSelectionDrag:F,onSelectionDragStop:N,onSelectionContextMenu:V,onSelectionStart:H,onSelectionEnd:U,onBeforeDelete:G,connectionMode:z,connectionLineType:W=um.Bezier,connectionLineStyle:X,connectionLineComponent:Q,connectionLineContainerStyle:ee,deleteKeyCode:ne="Backspace",selectionKeyCode:oe="Shift",selectionOnDrag:ce=!1,selectionMode:re=aT.Full,panActivationKeyCode:ge="Space",multiSelectionKeyCode:he=cT()?"Meta":"Control",zoomActivationKeyCode:ie=cT()?"Meta":"Control",snapToGrid:xe,snapGrid:q,onlyRenderVisibleElements:fe=!1,selectNodesOnDrag:se,nodesDraggable:J,autoPanOnNodeFocus:Z,nodesConnectable:ue,nodesFocusable:de,nodeOrigin:be=G_e,edgesFocusable:le,edgesReconnectable:Se,elementsSelectable:ye=!0,defaultViewport:ve=GKe,minZoom:_e=.5,maxZoom:Ae=2,translateExtent:Te=sT,preventScrolling:Pe=!0,nodeExtent:Le,defaultMarkerColor:$e="#b1b1b7",zoomOnScroll:at=!0,zoomOnPinch:Re=!0,panOnScroll:Ze=!1,panOnScrollSpeed:Rt=.5,panOnScrollMode:Ct=Tv.Free,zoomOnDoubleClick:De=!0,panOnDrag:bt=!0,onPaneClick:Gt,onPaneMouseEnter:Cn,onPaneMouseMove:An,onPaneMouseLeave:Lt,onPaneScroll:qt,onPaneContextMenu:ur,paneClickDistance:ct=1,nodeClickDistance:Yt=0,children:St,onReconnect:Ln,onReconnectStart:vt,onReconnectEnd:Xt,onEdgeContextMenu:Pn,onEdgeDoubleClick:Dn,onEdgeMouseEnter:Et,onEdgeMouseMove:Gi,onEdgeMouseLeave:nr,reconnectRadius:Br=10,onNodesChange:Yi,onEdgesChange:kr,noDragClassName:Sn="nodrag",noWheelClassName:Zn="nowheel",noPanClassName:fs="nopan",fitView:tf,fitViewOptions:nf,connectOnClick:vg,attributionPosition:qe,proOptions:We,defaultEdgeOptions:Nt,elevateNodesOnSelect:an=!0,elevateEdgesOnSelect:vn=!1,disableKeyboardA11y:di=!1,autoPanOnConnect:Ur,autoPanOnNodeDrag:Er,autoPanSpeed:Ep,connectionRadius:J0,isValidConnection:Nc,onError:Gu,style:dr,id:nl,nodeDragThreshold:Gl,connectionDragThreshold:Tp,viewport:Cx,onViewportChange:kx,width:Yu,height:rl,colorMode:$A="light",debug:gz,onScroll:Ex,ariaLabelConfig:FA,zIndexMode:ey="basic",...mz},il){const ty=nl||"1",LA=ZKe($A),TC=R.useCallback(Rp=>{Rp.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ex?.(Rp)},[Ex]);return h.jsx("div",{"data-testid":"rf__wrapper",...mz,onScroll:TC,style:{...dr,...yQe},ref:il,className:qo(["react-flow",i,LA]),id:nl,role:"application",children:h.jsxs(mQe,{nodes:e,edges:t,width:Yu,height:rl,fitView:tf,fitViewOptions:nf,minZoom:_e,maxZoom:Ae,nodeOrigin:be,nodeExtent:Le,zIndexMode:ey,children:[h.jsx(hQe,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:T,nodeTypes:o,edgeTypes:s,connectionLineType:W,connectionLineStyle:X,connectionLineComponent:Q,connectionLineContainerStyle:ee,selectionKeyCode:oe,selectionOnDrag:ce,selectionMode:re,deleteKeyCode:ne,multiSelectionKeyCode:he,panActivationKeyCode:ge,zoomActivationKeyCode:ie,onlyRenderVisibleElements:fe,defaultViewport:ve,translateExtent:Te,minZoom:_e,maxZoom:Ae,preventScrolling:Pe,zoomOnScroll:at,zoomOnPinch:Re,zoomOnDoubleClick:De,panOnScroll:Ze,panOnScrollSpeed:Rt,panOnScrollMode:Ct,panOnDrag:bt,onPaneClick:Gt,onPaneMouseEnter:Cn,onPaneMouseMove:An,onPaneMouseLeave:Lt,onPaneScroll:qt,onPaneContextMenu:ur,paneClickDistance:ct,nodeClickDistance:Yt,onSelectionContextMenu:V,onSelectionStart:H,onSelectionEnd:U,onReconnect:Ln,onReconnectStart:vt,onReconnectEnd:Xt,onEdgeContextMenu:Pn,onEdgeDoubleClick:Dn,onEdgeMouseEnter:Et,onEdgeMouseMove:Gi,onEdgeMouseLeave:nr,reconnectRadius:Br,defaultMarkerColor:$e,noDragClassName:Sn,noWheelClassName:Zn,noPanClassName:fs,rfId:ty,disableKeyboardA11y:di,nodeExtent:Le,viewport:Cx,onViewportChange:kx}),h.jsx(KKe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:g,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:x,nodesDraggable:J,autoPanOnNodeFocus:Z,nodesConnectable:ue,nodesFocusable:de,edgesFocusable:le,edgesReconnectable:Se,elementsSelectable:ye,elevateNodesOnSelect:an,elevateEdgesOnSelect:vn,minZoom:_e,maxZoom:Ae,nodeExtent:Le,onNodesChange:Yi,onEdgesChange:kr,snapToGrid:xe,snapGrid:q,connectionMode:z,translateExtent:Te,connectOnClick:vg,defaultEdgeOptions:Nt,fitView:tf,fitViewOptions:nf,onNodesDelete:I,onEdgesDelete:j,onDelete:P,onNodeDragStart:E,onNodeDrag:A,onNodeDragStop:O,onSelectionDrag:F,onSelectionDragStart:D,onSelectionDragStop:N,onMove:u,onMoveStart:d,onMoveEnd:f,noPanClassName:fs,nodeOrigin:be,rfId:ty,autoPanOnConnect:Ur,autoPanOnNodeDrag:Er,autoPanSpeed:Ep,onError:Gu,connectionRadius:J0,isValidConnection:Nc,selectNodesOnDrag:se,nodeDragThreshold:Gl,connectionDragThreshold:Tp,onBeforeDelete:G,debug:gz,ariaLabelConfig:FA,zIndexMode:ey}),h.jsx(qKe,{onSelectionChange:$}),St,h.jsx(BKe,{proOptions:We,position:qe}),h.jsx(zKe,{rfId:ty,disableKeyboardA11y:di})]})})}var bQe=Z_e(vQe);const xQe=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function wQe({children:e}){const t=gr(xQe);return t?zd.createPortal(e,t):null}const SQe=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function _Qe(){return gr(SQe,Ii)}function CQe(e){const[t,n]=R.useState(e),r=R.useCallback(i=>n(o=>X_e(i,o)),[]);return[t,n,r]}function kQe(e){const[t,n]=R.useState(e),r=R.useCallback(i=>n(o=>K_e(i,o)),[]);return[t,n,r]}function EQe({onStart:e,onChange:t,onEnd:n}){const r=$i();R.useEffect(()=>{r.setState({onViewportChangeStart:e})},[e]),R.useEffect(()=>{r.setState({onViewportChange:t})},[t]),R.useEffect(()=>{r.setState({onViewportChangeEnd:n})},[n])}function TQe({dimensions:e,lineWidth:t,variant:n,className:r}){return h.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:qo(["react-flow__background-pattern",n,r])})}function RQe({radius:e,className:t}){return h.jsx("circle",{cx:e,cy:e,r:e,className:qo(["react-flow__background-pattern","dots",t])})}var Im;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Im||(Im={}));const MQe={[Im.Dots]:1,[Im.Lines]:1,[Im.Cross]:6},AQe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function SCe({id:e,variant:t=Im.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:c,patternClassName:u}){const d=R.useRef(null),{transform:f,patternId:p}=gr(AQe,Ii),g=r||MQe[t],y=t===Im.Dots,v=t===Im.Cross,x=Array.isArray(n)?n:[n,n],w=[x[0]*f[2]||1,x[1]*f[2]||1],S=g*f[2],C=Array.isArray(o)?o:[o,o],k=v?[S,S]:w,T=[C[0]*f[2]||1+k[0]/2,C[1]*f[2]||1+k[1]/2],E=`${p}${e||""}`;return h.jsxs("svg",{className:qo(["react-flow__background",c]),style:{...l,...mF,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[h.jsx("pattern",{id:E,x:f[0]%w[0],y:f[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:y?h.jsx(RQe,{radius:S/2,className:u}):h.jsx(TQe,{dimensions:k,lineWidth:i,variant:t,className:u})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}SCe.displayName="Background";const PQe=R.memo(SCe);function DQe(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function OQe(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function IQe(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function jQe(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function $Qe(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function lD({children:e,className:t,...n}){return h.jsx("button",{type:"button",className:qo(["react-flow__controls-button",t]),...n,children:e})}const FQe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function _Ce({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left",orientation:f="vertical","aria-label":p}){const g=$i(),{isInteractive:y,minZoomReached:v,maxZoomReached:x,ariaLabelConfig:w}=gr(FQe,Ii),{zoomIn:S,zoomOut:C,fitView:k}=$R(),T=()=>{S(),o?.()},E=()=>{C(),s?.()},A=()=>{k(i),a?.()},O=()=>{g.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l?.(!y)},I=f==="horizontal"?"horizontal":"vertical";return h.jsxs(gF,{className:qo(["react-flow__controls",I,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":p??w["controls.ariaLabel"],children:[t&&h.jsxs(h.Fragment,{children:[h.jsx(lD,{onClick:T,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:x,children:h.jsx(DQe,{})}),h.jsx(lD,{onClick:E,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:v,children:h.jsx(OQe,{})})]}),n&&h.jsx(lD,{className:"react-flow__controls-fitview",onClick:A,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:h.jsx(IQe,{})}),r&&h.jsx(lD,{className:"react-flow__controls-interactive",onClick:O,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:y?h.jsx($Qe,{}):h.jsx(jQe,{})}),u]})}_Ce.displayName="Controls";const LQe=R.memo(_Ce);function NQe({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,selected:f,onClick:p}){const{background:g,backgroundColor:y}=o||{},v=s||g||y;return h.jsx("rect",{className:qo(["react-flow__minimap-node",{selected:f},c]),x:t,y:n,rx:u,ry:u,width:r,height:i,style:{fill:v,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?x=>p(x,e):void 0})}const zQe=R.memo(NQe),BQe=e=>e.nodes.map(t=>t.id),QB=e=>e instanceof Function?e:()=>e;function UQe({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=zQe,onClick:s}){const a=gr(BQe,Ii),l=QB(t),c=QB(e),u=QB(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:a.map(f=>h.jsx(HQe,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},f))})}function VQe({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:c,x:u,y:d,width:f,height:p}=gr(g=>{const{internals:y}=g.nodeLookup.get(e),v=y.userNode,{x,y:w}=y.positionAbsolute,{width:S,height:C}=rg(v);return{node:v,x,y:w,width:S,height:C}},Ii);return!c||c.hidden||!__e(c)?null:h.jsx(a,{x:u,y:d,width:f,height:p,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:o,shapeRendering:s,onClick:l,id:c.id})}const HQe=R.memo(VQe);var WQe=R.memo(UQe);const qQe=200,GQe=150,YQe=e=>!e.hidden,XQe=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?S_e(OR(e.nodeLookup,{filter:YQe}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},KQe="react-flow__minimap-desc";function CCe({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:d,position:f="bottom-right",onClick:p,onNodeClick:g,pannable:y=!1,zoomable:v=!1,ariaLabel:x,inversePan:w,zoomStep:S=1,offsetScale:C=5}){const k=$i(),T=R.useRef(null),{boundingRect:E,viewBB:A,rfId:O,panZoom:I,translateExtent:j,flowWidth:P,flowHeight:$,ariaLabelConfig:D}=gr(XQe,Ii),F=e?.width??qQe,N=e?.height??GQe,V=E.width/F,H=E.height/N,U=Math.max(V,H),G=U*F,z=U*N,W=C*U,X=E.x-(G-E.width)/2-W,Q=E.y-(z-E.height)/2-W,ee=G+W*2,ne=z+W*2,oe=`${KQe}-${O}`,ce=R.useRef(0),re=R.useRef();ce.current=U,R.useEffect(()=>{if(T.current&&I)return re.current=pKe({domNode:T.current,panZoom:I,getTransform:()=>k.getState().transform,getViewScale:()=>ce.current}),()=>{re.current?.destroy()}},[I]),R.useEffect(()=>{re.current?.update({translateExtent:j,width:P,height:$,inversePan:w,pannable:y,zoomStep:S,zoomable:v})},[y,v,w,S,j,P,$]);const ge=p?xe=>{const[q,fe]=re.current?.pointer(xe)||[0,0];p(xe,{x:q,y:fe})}:void 0,he=g?R.useCallback((xe,q)=>{const fe=k.getState().nodeLookup.get(q).internals.userNode;g(xe,fe)},[]):void 0,ie=x??D["minimap.ariaLabel"];return h.jsx(gF,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*U:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:qo(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:F,height:N,viewBox:`${X} ${Q} ${ee} ${ne}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":oe,ref:T,onClick:ge,children:[ie&&h.jsx("title",{id:oe,children:ie}),h.jsx(WQe,{onClick:he,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-W},${Q-W}h${ee+W*2}v${ne+W*2}h${-ee-W*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}CCe.displayName="MiniMap";R.memo(CCe);const ZQe=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,QQe={[tS.Line]:"right",[tS.Handle]:"bottom-right"};function JQe({nodeId:e,position:t,variant:n=tS.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:f,autoScale:p=!0,shouldResize:g,onResizeStart:y,onResize:v,onResizeEnd:x}){const w=tCe(),S=typeof e=="string"?e:w,C=$i(),k=R.useRef(null),T=n===tS.Handle,E=gr(R.useCallback(ZQe(T&&p),[T,p]),Ii),A=R.useRef(null),O=t??QQe[n];R.useEffect(()=>{if(!(!k.current||!S))return A.current||(A.current=TKe({domNode:k.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:j,transform:P,snapGrid:$,snapToGrid:D,nodeOrigin:F,domNode:N}=C.getState();return{nodeLookup:j,transform:P,snapGrid:$,snapToGrid:D,nodeOrigin:F,paneDomNode:N}},onChange:(j,P)=>{const{triggerNodeChanges:$,nodeLookup:D,parentLookup:F,nodeOrigin:N}=C.getState(),V=[],H={x:j.x,y:j.y},U=D.get(S);if(U&&U.expandParent&&U.parentId){const G=U.origin??N,z=j.width??U.measured.width??0,W=j.height??U.measured.height??0,X={id:U.id,parentId:U.parentId,rect:{width:z,height:W,...C_e({x:j.x??U.position.x,y:j.y??U.position.y},{width:z,height:W},U.parentId,D,G)}},Q=HY([X],D,F,N);V.push(...Q),H.x=j.x?Math.max(G[0]*z,j.x):void 0,H.y=j.y?Math.max(G[1]*W,j.y):void 0}if(H.x!==void 0&&H.y!==void 0){const G={id:S,type:"position",position:{...H}};V.push(G)}if(j.width!==void 0&&j.height!==void 0){const z={id:S,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:j.width,height:j.height}};V.push(z)}for(const G of P){const z={...G,type:"position"};V.push(z)}$(V)},onEnd:({width:j,height:P})=>{const $={id:S,type:"dimensions",resizing:!1,dimensions:{width:j,height:P}};C.getState().triggerNodeChanges([$])}})),A.current.update({controlPosition:O,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:d,resizeDirection:f,onResizeStart:y,onResize:v,onResizeEnd:x,shouldResize:g}),()=>{A.current?.destroy()}},[O,a,l,c,u,d,y,v,x,g]);const I=O.split("-");return h.jsx("div",{className:qo(["react-flow__resize-control","nodrag",...I,n,r]),ref:k,style:{...i,scale:E,...s&&{[T?"backgroundColor":"borderColor"]:s}},children:o})}R.memo(JQe);var Ve=typeof window<"u"?window:void 0,Bs=typeof globalThis<"u"?globalThis:Ve;typeof self>"u"&&(Bs.self=Bs),typeof File>"u"&&(Bs.File=function(){});var kCe=Array.prototype,tue=kCe.forEach,nue=kCe.indexOf,pc=Bs?.navigator,Bt=Bs?.document,ml=Bs?.location,mV=Bs?.fetch,yV=Bs!=null&&Bs.XMLHttpRequest&&"withCredentials"in new Bs.XMLHttpRequest?Bs.XMLHttpRequest:void 0,rue=Bs?.AbortController,pl=pc?.userAgent,bn=Ve??{},rh={DEBUG:!1,LIB_VERSION:"1.315.0"};function iue(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function oue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(l){iue(o,r,i,s,a,"next",l)}function a(l){iue(o,r,i,s,a,"throw",l)}s(void 0)}))}}function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(null,arguments)}function ECe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eJe=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],sue=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var n=e.toLowerCase();return eJe.concat(t).some((r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1}))},tJe=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function lr(e,t){return e.indexOf(t)!==-1}var yF=function(e){return e.trim()},vV=function(e){return e.replace(/^\$/,"")},nJe=Array.isArray,TCe=Object.prototype,RCe=TCe.hasOwnProperty,vF=TCe.toString,qr=nJe||function(e){return vF.call(e)==="[object Array]"},jm=e=>typeof e=="function",hs=e=>e===Object(e)&&!qr(e),X1=e=>{if(hs(e)){for(var t in e)if(RCe.call(e,t))return!1;return!0}return!1},Ot=e=>e===void 0,Jo=e=>vF.call(e)=="[object String]",bV=e=>Jo(e)&&e.trim().length===0,Ud=e=>e===null,Wr=e=>Ot(e)||Ud(e),Kf=e=>vF.call(e)=="[object Number]",Sh=e=>vF.call(e)==="[object Boolean]",rJe=e=>e instanceof FormData,iJe=e=>lr(tJe,e);function xV(e){return e===null||typeof e!="object"}function o5(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function MCe(e){return!Ot(Event)&&(function(t,n){try{return t instanceof n}catch{return!1}})(e,Event)}var oJe=[!0,"true",1,"1","yes"],JB=e=>lr(oJe,e),sJe=[!1,"false",0,"0","no"];function Af(e,t,n,r,i){return t>n&&(r.warn("min cannot be greater than max."),t=n),Kf(e)?e>n?(r.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(r.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+i),Af(i||n,t,n,r))}class aJe{constructor(t){this.t={},this.i=t.i,this.o=Af(t.bucketSize,0,100,t.h),this.m=Af(t.refillRate,0,this.o,t.h),this.$=Af(t.refillInterval,0,864e5,t.h)}S(t,n){var r=n-t.lastAccess,i=Math.floor(r/this.$);if(i>0){var o=i*this.m;t.tokens=Math.min(t.tokens+o,this.o),t.lastAccess=t.lastAccess+i*this.$}}consumeRateLimit(t){var n,r=Date.now(),i=String(t),o=this.t[i];return o?this.S(o,r):(o={tokens:this.o,lastAccess:r},this.t[i]=o),o.tokens===0||(o.tokens--,o.tokens===0&&((n=this.i)==null||n.call(this,t)),o.tokens===0)}stop(){this.t={}}}var vu="Mobile",s5="iOS",mh="Android",fT="Tablet",ACe=mh+" "+fT,PCe="iPad",DCe="Apple",OCe=DCe+" Watch",pT="Safari",nS="BlackBerry",ICe="Samsung",jCe=ICe+"Browser",$Ce=ICe+" Internet",eb="Chrome",lJe=eb+" OS",FCe=eb+" "+s5,qY="Internet Explorer",LCe=qY+" "+vu,GY="Opera",cJe=GY+" Mini",YY="Edge",NCe="Microsoft "+YY,_w="Firefox",zCe=_w+" "+s5,hT="Nintendo",gT="PlayStation",Cw="Xbox",BCe=mh+" "+vu,UCe=vu+" "+pT,kk="Windows",wV=kk+" Phone",aue="Nokia",SV="Ouya",VCe="Generic",uJe=VCe+" "+vu.toLowerCase(),HCe=VCe+" "+fT.toLowerCase(),_V="Konqueror",Ma="(\\d+(\\.\\d+)?)",e8=new RegExp("Version/"+Ma),dJe=new RegExp(Cw,"i"),fJe=new RegExp(gT+" \\w+","i"),pJe=new RegExp(hT+" \\w+","i"),XY=new RegExp(nS+"|PlayBook|BB10","i"),hJe={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},cD,lue,t8,gJe=(e,t)=>t&&lr(t,DCe)||(function(n){return lr(n,pT)&&!lr(n,eb)&&!lr(n,mh)})(e),WCe=function(e,t){return t=t||"",lr(e," OPR/")&&lr(e,"Mini")?cJe:lr(e," OPR/")?GY:XY.test(e)?nS:lr(e,"IE"+vu)||lr(e,"WPDesktop")?LCe:lr(e,jCe)?$Ce:lr(e,YY)||lr(e,"Edg/")?NCe:lr(e,"FBIOS")?"Facebook "+vu:lr(e,"UCWEB")||lr(e,"UCBrowser")?"UC Browser":lr(e,"CriOS")?FCe:lr(e,"CrMo")||lr(e,eb)?eb:lr(e,mh)&&lr(e,pT)?BCe:lr(e,"FxiOS")?zCe:lr(e.toLowerCase(),_V.toLowerCase())?_V:gJe(e,t)?lr(e,vu)?UCe:pT:lr(e,_w)?_w:lr(e,"MSIE")||lr(e,"Trident/")?qY:lr(e,"Gecko")?_w:""},mJe={[LCe]:[new RegExp("rv:"+Ma)],[NCe]:[new RegExp(YY+"?\\/"+Ma)],[eb]:[new RegExp("("+eb+"|CrMo)\\/"+Ma)],[FCe]:[new RegExp("CriOS\\/"+Ma)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ma)],[pT]:[e8],[UCe]:[e8],[GY]:[new RegExp("(Opera|OPR)\\/"+Ma)],[_w]:[new RegExp(_w+"\\/"+Ma)],[zCe]:[new RegExp("FxiOS\\/"+Ma)],[_V]:[new RegExp("Konqueror[:/]?"+Ma,"i")],[nS]:[new RegExp(nS+" "+Ma),e8],[BCe]:[new RegExp("android\\s"+Ma,"i")],[$Ce]:[new RegExp(jCe+"\\/"+Ma)],[qY]:[new RegExp("(rv:|MSIE )"+Ma)],Mozilla:[new RegExp("rv:"+Ma)]},yJe=function(e,t){var n=WCe(e,t),r=mJe[n];if(Ot(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},cue=[[new RegExp(Cw+"; "+Cw+" (.*?)[);]","i"),e=>[Cw,e&&e[1]||""]],[new RegExp(hT,"i"),[hT,""]],[new RegExp(gT,"i"),[gT,""]],[XY,[nS,""]],[new RegExp(kk,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[wV,""];if(new RegExp(vu).test(t)&&!/IEMobile\b/.test(t))return[kk+" "+vu,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=hJe[r]||"";return/arm/i.test(t)&&(i="RT"),[kk,i]}return[kk,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[s5,t.join(".")]}return[s5,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Ot(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+mh+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+mh+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[mh,t.join(".")]}return[mh,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[lJe,""]],[/Linux|debian/i,["Linux",""]]],uue=function(e){return pJe.test(e)?hT:fJe.test(e)?gT:dJe.test(e)?Cw:new RegExp(SV,"i").test(e)?SV:new RegExp("("+wV+"|WPDesktop)","i").test(e)?wV:/iPad/.test(e)?PCe:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?OCe:XY.test(e)?nS:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(aue,"i").test(e)?aue:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?new RegExp(vu).test(e)&&!/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)||/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?mh:ACe:new RegExp("(pda|"+vu+")","i").test(e)?uJe:new RegExp(fT,"i").test(e)&&!new RegExp(fT+" pc","i").test(e)?HCe:""},vJe=e=>e instanceof Error;function bJe(e){var t=globalThis._posthogChunkIds;if(t){var n=Object.keys(t);return t8&&n.length===lue||(lue=n.length,t8=n.reduce(((r,i)=>{cD||(cD={});var o=cD[i];if(o)r[o[0]]=o[1];else for(var s=e(i),a=s.length-1;a>=0;a--){var l=s[a],c=l?.filename,u=t[i];if(c&&u){r[c]=u,cD[i]=[c,u];break}}return r}),{})),t8}}class xJe{constructor(t,n,r){r===void 0&&(r=[]),this.coercers=t,this.stackParser=n,this.modifiers=r}buildFromUnknown(t,n){n===void 0&&(n={});var r=n&&n.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(r,n,0).apply(t),o=this.buildParsingContext(),s=this.parseStacktrace(i,o);return{$exception_list:this.convertToExceptionList(s,r),$exception_level:"error"}}modifyFrames(t){var n=this;return oue((function*(){for(var r of t)r.stacktrace&&r.stacktrace.frames&&qr(r.stacktrace.frames)&&(r.stacktrace.frames=yield n.applyModifiers(r.stacktrace.frames));return t}))()}coerceFallback(t){var n;return{type:"Error",value:"Unknown error",stack:(n=t.syntheticException)==null?void 0:n.stack,synthetic:!0}}parseStacktrace(t,n){var r,i;return t.cause!=null&&(r=this.parseStacktrace(t.cause,n)),t.stack!=""&&t.stack!=null&&(i=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),n.chunkIdMap)),Ht({},t,{cause:r,stack:i})}applyChunkIds(t,n){return t.map((r=>(r.filename&&n&&(r.chunk_id=n[r.filename]),r)))}applyCoercers(t,n){for(var r of this.coercers)if(r.match(t))return r.coerce(t,n);return this.coerceFallback(n)}applyModifiers(t){var n=this;return oue((function*(){var r=t;for(var i of n.modifiers)r=yield i(r);return r}))()}convertToExceptionList(t,n){var r,i,o,s={type:t.type,value:t.value,mechanism:{type:(r=n.type)!==null&&r!==void 0?r:"generic",handled:(i=n.handled)===null||i===void 0||i,synthetic:(o=t.synthetic)!==null&&o!==void 0&&o}};t.stack&&(s.stacktrace={type:"raw",frames:t.stack});var a=[s];return t.cause!=null&&a.push(...this.convertToExceptionList(t.cause,Ht({},n,{handled:!0}))),a}buildParsingContext(){return{chunkIdMap:bJe(this.stackParser)}}buildCoercingContext(t,n,r){r===void 0&&(r=0);var i=(o,s)=>{if(s<=4){var a=this.buildCoercingContext(t,n,s);return this.applyCoercers(o,a)}};return Ht({},n,{syntheticException:r==0?n.syntheticException:void 0,mechanism:t,apply:o=>i(o,r),next:o=>i(o,r+1)})}}var rS="?";function CV(e,t,n,r,i){var o={platform:e,filename:t,function:n==="<anonymous>"?rS:n,in_app:!0};return Ot(r)||(o.lineno=r),Ot(i)||(o.colno=i),o}var qCe=(e,t)=>{var n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:rS,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},wJe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,SJe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_Je=/\((\S*)(?::(\d+))(?::(\d+))\)/,CJe=(e,t)=>{var n=wJe.exec(e);if(n){var[,r,i,o]=n;return CV(t,r,rS,+i,+o)}var s=SJe.exec(e);if(s){if(s[2]&&s[2].indexOf("eval")===0){var a=_Je.exec(s[2]);a&&(s[2]=a[1],s[3]=a[2],s[4]=a[3])}var[l,c]=qCe(s[1]||rS,s[2]);return CV(t,c,l,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}},kJe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,EJe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,TJe=(e,t)=>{var n=kJe.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=EJe.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],o=n[1]||rS;return[o,i]=qCe(o,i),CV(t,i,o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}},due=/\(error: (.*)\)/,fue=50;function RJe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(i,o){o===void 0&&(o=0);for(var s=[],a=i.split(`
`),l=o;l<a.length;l++){var c=a[l];if(!(c.length>1024)){var u=due.test(c)?c.replace(due,"$1"):c;if(!u.match(/\S*Error: /)){for(var d of n){var f=d(u,e);if(f){s.push(f);break}}if(s.length>=fue)break}}}return(function(p){if(!p.length)return[];var g=Array.from(p);return g.reverse(),g.slice(0,fue).map((y=>{return Ht({},y,{filename:y.filename||(v=g,v[v.length-1]||{}).filename,function:y.function||rS});var v}))})(s)}}class MJe{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,n){var r=Jo(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:r?t.stack:void 0,cause:t.cause?n.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var n=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?n+": "+t.message:n}isDOMException(t){return o5(t,"DOMException")}isDOMError(t){return o5(t,"DOMError")}}class AJe{match(t){return(n=>n instanceof Error)(t)}coerce(t,n){return{type:this.getType(t),value:this.getMessage(t,n),stack:this.getStack(t),cause:t.cause?n.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,n){var r=t.message;return r.error&&typeof r.error.message=="string"?String(r.error.message):String(r)}getStack(t){return t.stacktrace||t.stack||void 0}}class PJe{constructor(){}match(t){return o5(t,"ErrorEvent")&&t.error!=null}coerce(t,n){var r,i=n.apply(t.error);return i||{type:"ErrorEvent",value:t.message,stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}}var DJe=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let OJe=class{match(t){return typeof t=="string"}coerce(t,n){var r,[i,o]=this.getInfos(t);return{type:i??"Error",value:o??t,stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}getInfos(t){var n="Error",r=t,i=t.match(DJe);return i&&(n=i[1],r=i[2]),[n,r]}};var IJe=["fatal","error","warning","log","info","debug"];function GCe(e,t){t===void 0&&(t=40);var n=Object.keys(e);if(n.sort(),!n.length)return"[object has no keys]";for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length||i.length<=t?i:i.slice(0,t)+"..."}return""}class jJe{match(t){return typeof t=="object"&&t!==null}coerce(t,n){var r,i=this.getErrorPropertyFromObject(t);return i?n.apply(i):{type:this.getType(t),value:this.getValue(t),stack:(r=n.syntheticException)==null?void 0:r.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return MCe(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var n="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(n+=" with message: '"+t.message+"'"),n}if("message"in t&&typeof t.message=="string")return t.message;var r=this.getObjectClassName(t);return(r&&r!=="Object"?"'"+r+"'":"Object")+" captured as exception with keys: "+GCe(t)}isSeverityLevel(t){return Jo(t)&&!bV(t)&&IJe.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];if(vJe(r))return r}}getObjectClassName(t){try{var n=Object.getPrototypeOf(t);return n?n.constructor.name:void 0}catch{return}}}class $Je{match(t){return MCe(t)}coerce(t,n){var r,i=t.constructor.name;return{type:i,value:i+" captured as exception with keys: "+GCe(t),stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class FJe{match(t){return xV(t)}coerce(t,n){var r;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class LJe{match(t){return o5(t,"PromiseRejectionEvent")}coerce(t,n){var r,i=this.getUnhandledRejectionReason(t);return xV(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}:n.apply(i)}getUnhandledRejectionReason(t){if(xV(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}}var YCe=function(e,t){var{debugEnabled:n}=t===void 0?{}:t,r={k:function(i){if(Ve&&(rh.DEBUG||bn.POSTHOG_DEBUG||n)&&!Ot(Ve.console)&&Ve.console){for(var o=("__rrweb_original__"in Ve.console[i])?Ve.console[i].__rrweb_original__:Ve.console[i],s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];o(e,...a)}},info:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.k("log",...o)},warn:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.k("warn",...o)},error:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.k("error",...o)},critical:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];console.error(e,...o)},uninitializedWarning:i=>{r.error("You must initialize PostHog before calling "+i)},createLogger:(i,o)=>YCe(e+" "+i,o)};return r},zt=YCe("[PostHog.js]"),Ao=zt.createLogger,NJe=Ao("[ExternalScriptsLoader]"),pue=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return NJe.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var r=Bt?.querySelectorAll("script");if(r){for(var i,o=function(){if(r[s].src===t){var l=r[s];return l.__posthog_loading_callback_fired?{v:n()}:(l.addEventListener("load",(c=>{l.__posthog_loading_callback_fired=!0,n(void 0,c)})),l.onerror=c=>n(c),{v:void 0})}},s=0;s<r.length;s++)if(i=o())return i.v}var a=()=>{if(!Bt)return n("document not found");var l=Bt.createElement("script");if(l.type="text/javascript",l.crossOrigin="anonymous",l.src=t,l.onload=d=>{l.__posthog_loading_callback_fired=!0,n(void 0,d)},l.onerror=d=>n(d),e.config.prepare_external_dependency_script&&(l=e.config.prepare_external_dependency_script(l)),!l)return n("prepare_external_dependency_script returned null");var c,u=Bt.querySelectorAll("body > script");u.length>0?(c=u[0].parentNode)==null||c.insertBefore(l,u[0]):Bt.body.appendChild(l)};Bt!=null&&Bt.body?a():Bt?.addEventListener("DOMContentLoaded",a)};bn.__PosthogExtensions__=bn.__PosthogExtensions__||{},bn.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(r="/array/"+e.config.token+"/config.js"),t==="toolbar"){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var o=e.requestRouter.endpointFor("assets",r);pue(e,o,n)},bn.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);pue(e,r,n)};var a5={};function $m(e,t,n){if(qr(e)){if(tue&&e.forEach===tue)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===a5)return}}}function _i(e,t,n){if(!Wr(e)){if(qr(e))return $m(e,t,n);if(rJe(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===a5)return}else for(var i in e)if(RCe.call(e,i)&&t.call(n,e[i],i)===a5)return}}var ko=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $m(n,(function(i){for(var o in i)i[o]!==void 0&&(e[o]=i[o])})),e},x_=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $m(n,(function(i){$m(i,(function(o){e.push(o)}))})),e};function kI(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var hue=function(e){try{return e()}catch{return}},zJe=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){zt.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),zt.critical(i)}}},KY=function(e){var t={};return _i(e,(function(n,r){(Jo(n)&&n.length>0||Kf(n))&&(t[r]=n)})),t};function BJe(e,t){return n=e,r=o=>Jo(o)&&!Ud(t)?o.slice(0,t):o,i=new Set,(function o(s,a){return s!==Object(s)?r?r(s,a):s:i.has(s)?void 0:(i.add(s),qr(s)?(l=[],$m(s,(c=>{l.push(o(c))}))):(l={},_i(s,((c,u)=>{i.has(c)||(l[u]=o(c,u))}))),l);var l})(n);var n,r,i}var UJe=["herokuapp.com","vercel.app","netlify.app"];function VJe(e){var t=e?.hostname;if(!Jo(t))return!1;var n=t.split(".").slice(-2).join(".");for(var r of UJe)if(n===r)return!1;return!0}function XCe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Bo(e,t,n,r){var{capture:i=!1,passive:o=!0}=r??{};e?.addEventListener(t,n,{capture:i,passive:o})}var KCe="$people_distinct_id",Ek="__alias",Tk="__timers",gue="$autocapture_disabled_server_side",kV="$heatmaps_enabled_server_side",mue="$exception_capture_enabled_server_side",EV="$error_tracking_suppression_rules",yue="$error_tracking_capture_extension_exceptions",vue="$web_vitals_enabled_server_side",ZCe="$dead_clicks_enabled_server_side",bue="$product_tours_enabled_server_side",xue="$web_vitals_allowed_metrics",n8="$session_recording_remote_config",l5="$sesid",QCe="$session_is_sampled",K1="$enabled_feature_flags",Rk="$early_access_features",TV="$feature_flag_details",Mk="$stored_person_properties",By="$stored_group_properties",RV="$surveys",c5="$flag_call_reported",ih="$user_state",MV="$client_session_props",AV="$capture_rate_limit",PV="$initial_campaign_params",DV="$initial_referrer_info",u5="$initial_person_info",d5="$epp",JCe="__POSTHOG_TOOLBAR__",_2="$posthog_cookieless",HJe=[KCe,Ek,"__cmpns",Tk,"$session_recording_enabled_server_side",kV,l5,K1,EV,ih,Rk,TV,By,Mk,RV,c5,MV,AV,PV,DV,d5,u5,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function wue(e){return e instanceof Element&&(e.id===JCe||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function bF(e){return!!e&&e.nodeType===1}function Fm(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function e2e(e){return!!e&&e.nodeType===3}function t2e(e){return!!e&&e.nodeType===11}function ZY(e){return e?yF(e).split(/\s+/):[]}function Sue(e){var t=Ve?.location.href;return!!(t&&e&&e.some((n=>t.match(n))))}function f5(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return ZY(t)}function n2e(e){return Wr(e)?null:yF(e).split(/(\s+)/).filter((t=>mT(t))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function LR(e){var t="";return OV(e)&&!a2e(e)&&e.childNodes&&e.childNodes.length&&_i(e.childNodes,(function(n){var r;e2e(n)&&n.textContent&&(t+=(r=n2e(n.textContent))!==null&&r!==void 0?r:"")})),yF(t)}function r2e(e){return Ot(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var QY=["a","button","form","input","select","textarea","label"];function i2e(e,t){if(Ot(t))return!0;var n,r=function(o){if(t.some((s=>o.matches(s))))return{v:!0}};for(var i of e)if(n=r(i))return n.v;return!1}function o2e(e){var t=e.parentNode;return!(!t||!bF(t))&&t}var WJe=["next","previous","prev",">","<"],_ue=10,Cue=[".ph-no-rageclick",".ph-no-capture"];function qJe(e,t){if(!Ve||JY(e))return!1;var n,r,i;if(Sh(t)?(n=!!t&&Cue,r=void 0):(n=(i=t?.css_selector_ignorelist)!==null&&i!==void 0?i:Cue,r=t?.content_ignorelist),n===!1)return!1;var{targetElementList:o}=s2e(e,!1);return!(function(s,a){if(s===!1||Ot(s))return!1;var l;if(s===!0)l=WJe;else{if(!qr(s))return!1;if(s.length>_ue)return zt.error("[PostHog] content_ignorelist array cannot exceed "+_ue+" items. Use css_selector_ignorelist for more complex matching."),!1;l=s.map((c=>c.toLowerCase()))}return a.some((c=>{var{safeText:u,ariaLabel:d}=c;return l.some((f=>u.includes(f)||d.includes(f)))}))})(r,o.map((s=>{var a;return{safeText:LR(s).toLowerCase(),ariaLabel:((a=s.getAttribute("aria-label"))==null?void 0:a.toLowerCase().trim())||""}})))&&!i2e(o,n)}var JY=e=>!e||Fm(e,"html")||!bF(e),s2e=(e,t)=>{if(!Ve||JY(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var n=!1,r=[e],i=e;i.parentNode&&!Fm(i,"body");)if(t2e(i.parentNode))r.push(i.parentNode.host),i=i.parentNode.host;else{var o=o2e(i);if(!o)break;if(t||QY.indexOf(o.tagName.toLowerCase())>-1)n=!0;else{var s=Ve.getComputedStyle(o);s&&s.getPropertyValue("cursor")==="pointer"&&(n=!0)}r.push(o),i=o}return{parentIsUsefulElement:n,targetElementList:r}};function GJe(e,t,n,r,i){var o,s,a,l;if(n===void 0&&(n=void 0),!Ve||JY(e)||(o=n)!=null&&o.url_allowlist&&!Sue(n.url_allowlist)||(s=n)!=null&&s.url_ignorelist&&Sue(n.url_ignorelist))return!1;if((a=n)!=null&&a.dom_event_allowlist){var c=n.dom_event_allowlist;if(c&&!c.some((g=>t.type===g)))return!1}var{parentIsUsefulElement:u,targetElementList:d}=s2e(e,r);if(!(function(g,y){var v=y?.element_allowlist;if(Ot(v))return!0;var x,w=function(C){if(v.some((k=>C.tagName.toLowerCase()===k)))return{v:!0}};for(var S of g)if(x=w(S))return x.v;return!1})(d,n)||!i2e(d,(l=n)==null?void 0:l.css_selector_allowlist))return!1;var f=Ve.getComputedStyle(e);if(f&&f.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var p=e.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return u?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(QY.indexOf(p)>-1||e.getAttribute("contenteditable")==="true")}}function OV(e){for(var t=e;t.parentNode&&!Fm(t,"body");t=t.parentNode){var n=f5(t);if(lr(n,"ph-sensitive")||lr(n,"ph-no-capture"))return!1}if(lr(f5(e),"ph-include"))return!0;var r=e.type||"";if(Jo(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(Jo(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function a2e(e){return!!(Fm(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Fm(e,"select")||Fm(e,"textarea")||e.getAttribute("contenteditable")==="true")}var l2e="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",YJe=new RegExp("^(?:"+l2e+")$"),XJe=new RegExp(l2e),c2e="\\d{3}-?\\d{2}-?\\d{4}",KJe=new RegExp("^("+c2e+")$"),ZJe=new RegExp("("+c2e+")");function mT(e,t){return t===void 0&&(t=!0),!(Wr(e)||Jo(e)&&(e=yF(e),(t?YJe:XJe).test((e||"").replace(/[- ]/g,""))||(t?KJe:ZJe).test(e)))}function u2e(e){var t=LR(e);return mT(t=(t+" "+d2e(e)).trim())?t:""}function d2e(e){var t="";return e&&e.childNodes&&e.childNodes.length&&_i(e.childNodes,(function(n){var r;if(n&&((r=n.tagName)==null?void 0:r.toLowerCase())==="span")try{var i=LR(n);t=(t+" "+i).trim(),n.childNodes&&n.childNodes.length&&(t=(t+" "+d2e(n)).trim())}catch(o){zt.error("[AutoCapture]",o)}})),t}function QJe(e){return(function(t){var n=t.map((r=>{var i,o,s="";if(r.tag_name&&(s+=r.tag_name),r.attr_class)for(var a of(r.attr_class.sort(),r.attr_class))s+="."+a.replace(/"/g,"");var l=Ht({},r.text?{text:r.text}:{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),c={};return kI(l).sort(((u,d)=>{var[f]=u,[p]=d;return f.localeCompare(p)})).forEach((u=>{var[d,f]=u;return c[kue(d.toString())]=kue(f.toString())})),s+=":",s+=kI(c).map((u=>{var[d,f]=u;return d+'="'+f+'"'})).join("")}));return n.join(";")})((function(t){return t.map((n=>{var r,i,o={text:(r=n.$el_text)==null?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)==null?void 0:i.slice(0,2048),attr_class:JJe(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return kI(n).filter((s=>{var[a]=s;return a.indexOf("attr__")===0})).forEach((s=>{var[a,l]=s;return o.attributes[a]=l})),o}))})(e))}function kue(e){return e.replace(/"|\\"/g,'\\"')}function JJe(e){var t=e.attr__class;return t?qr(t)?t:ZY(t):void 0}let f2e=class{constructor(t){this.disabled=t===!1;var n=hs(t)?t:{};this.thresholdPx=n.threshold_px||30,this.timeoutMs=n.timeout_ms||1e3,this.clickCount=n.click_count||3,this.clicks=[]}isRageClick(t,n,r){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<this.thresholdPx&&r-i.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}};var p5=e=>{var t=Bt?.createElement("a");return Ot(t)?null:(t.href=e,t)},eet=function(e,t){var n,r;t===void 0&&(t="&");var i=[];return _i(e,(function(o,s){Ot(o)||Ot(s)||s==="undefined"||(n=encodeURIComponent((a=>a instanceof File)(o)?o.name:o.toString()),r=encodeURIComponent(s),i[i.length]=r+"="+n)})),i.join(t)},h5=function(e,t){for(var n,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!qr(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch{zt.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},NR=function(e,t,n){if(!e||!t||!t.length)return e;for(var r=e.split("#"),i=r[0]||"",o=r[1],s=i.split("?"),a=s[1],l=s[0],c=(a||"").split("&"),u=[],d=0;d<c.length;d++){var f=c[d].split("=");qr(f)&&(t.includes(f[0])?u.push(f[0]+"="+n):u.push(c[d]))}var p=l;return a!=null&&(p+="?"+u.join("&")),o!=null&&(p+="#"+o),p},g5=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},r8="$copy_autocapture",Eue=Ao("[AutoCapture]");function i8(e,t){return t.length>e?t.slice(0,e)+"...":t}function tet(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!bF(t));return t}function net(e,t,n,r){var i=e.tagName.toLowerCase(),o={tag_name:i};QY.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=i8(1024,u2e(e)):o.$el_text=i8(1024,LR(e)));var s=f5(e);s.length>0&&(o.classes=s.filter((function(u){return u!==""}))),_i(e.attributes,(function(u){var d;if((!a2e(e)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(r==null||!r.includes(u.name))&&!t&&mT(u.value)&&(d=u.name,!Jo(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var f=u.value;u.name==="class"&&(f=ZY(f).join(" ")),o["attr__"+u.name]=i8(1024,f)}}));for(var a=1,l=1,c=e;c=tet(c);)a++,c.tagName===e.tagName&&l++;return o.nth_child=a,o.nth_of_type=l,o}function ret(e,t){for(var n,r,{e:i,maskAllElementAttributes:o,maskAllText:s,elementAttributeIgnoreList:a,elementsChainAsString:l}=t,c=[e],u=e;u.parentNode&&!Fm(u,"body");)t2e(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,f=[],p={},g=!1,y=!1;if(_i(c,(C=>{var k=OV(C);C.tagName.toLowerCase()==="a"&&(g=C.getAttribute("href"),g=k&&g&&mT(g)&&g),lr(f5(C),"ph-no-capture")&&(y=!0),f.push(net(C,o,s,a));var T=(function(E){if(!OV(E))return{};var A={};return _i(E.attributes,(function(O){if(O.name&&O.name.indexOf("data-ph-capture-attribute")===0){var I=O.name.replace("data-ph-capture-attribute-",""),j=O.value;I&&j&&mT(j)&&(A[I]=j)}})),A})(C);ko(p,T)})),y)return{props:{},explicitNoCapture:y};if(s||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?f[0].$el_text=u2e(e):f[0].$el_text=LR(e)),g){var v,x;f[0].attr__href=g;var w=(v=p5(g))==null?void 0:v.host,S=Ve==null||(x=Ve.location)==null?void 0:x.host;w&&S&&w!==S&&(d=g)}return{props:ko({$event_type:i.type,$ce_version:1},l?{}:{$elements:f},{$elements_chain:QJe(f)},(n=f[0])!=null&&n.$el_text?{$el_text:(r=f[0])==null?void 0:r.$el_text}:{},d&&i.type==="click"?{$external_click_url:d}:{},p)}}class iet{constructor(t){this.P=!1,this.T=null,this.I=!1,this.instance=t,this.rageclicks=new f2e(t.config.rageclick),this.C=null}get R(){var t,n,r=hs(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)==null?void 0:t.map((i=>new RegExp(i))),r.url_ignorelist=(n=r.url_ignorelist)==null?void 0:n.map((i=>new RegExp(i))),r}F(){if(this.isBrowserSupported()){if(Ve&&Bt){var t=r=>{r=r||Ve?.event;try{this.M(r)}catch(i){Eue.error("Failed to capture event",i)}};if(Bo(Bt,"submit",t,{capture:!0}),Bo(Bt,"change",t,{capture:!0}),Bo(Bt,"click",t,{capture:!0}),this.R.capture_copied_text){var n=r=>{r=r||Ve?.event,this.M(r,r8)};Bo(Bt,"copy",n,{capture:!0}),Bo(Bt,"cut",n,{capture:!0})}}}else Eue.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.I=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[gue]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.C=t}getElementSelectors(t){var n,r=[];return(n=this.C)==null||n.forEach((i=>{var o=Bt?.querySelectorAll(i);o?.forEach((s=>{t===s&&r.push(i)}))})),r}get isEnabled(){var t,n,r=(t=this.instance.persistence)==null?void 0:t.props[gue],i=this.T;if(Ud(i)&&!Sh(r)&&!this.instance.O())return!1;var o=(n=this.T)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!o}M(t,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var r,i=r2e(t);e2e(i)&&(i=i.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&qJe(i,this.instance.config.rageclick)&&this.M(t,"$rageclick");var o=n===r8;if(i&&GJe(i,t,this.R,o,o?["copy","cut"]:void 0)){var{props:s,explicitNoCapture:a}=ret(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.R.element_attribute_ignorelist,elementsChainAsString:this.I});if(a)return!1;var l=this.getElementSelectors(i);if(l&&l.length>0&&(s.$element_selectors=l),n===r8){var c,u=n2e(Ve==null||(c=Ve.getSelection())==null?void 0:c.toString()),d=t.type||"clipboard";if(!u)return!1;s.$selected_content=u,s.$copy_type=d}return this.instance.capture(n,s),!0}}}isBrowserSupported(){return jm(Bt?.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Kf(e)&&isFinite(e)&&Math.floor(e)===e});var Tue="0123456789abcdef";class m5{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new m5(o)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+Tue.charAt(this.bytes[n]>>>4)+Tue.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new m5(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class oet{constructor(){this.A=0,this.D=0,this.j=new set}generate(){var t=this.generateOrAbort();if(Ot(t)){this.A=0;var n=this.generateOrAbort();if(Ot(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return m5.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var Rue,p2e=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};Ve&&!Ot(Ve.crypto)&&crypto.getRandomValues&&(p2e=e=>crypto.getRandomValues(e));class set{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(p2e(this.N),this.U=0),this.N[this.U++]}}var ym=()=>aet().toString(),aet=()=>(Rue||(Rue=new oet)).generate(),C2="",cet=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function uet(e,t){if(t){var n=(function(i,o){if(o===void 0&&(o=Bt),C2)return C2;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var s=i.split("."),a=Math.min(s.length,8),l="dmn_chk_"+ym();!C2&&a--;){var c=s.slice(a).join("."),u=l+"=1;domain=."+c+";path=/";o.cookie=u+";max-age=3",o.cookie.includes(l)&&(o.cookie=u+";max-age=0",C2=c)}return C2})(e);if(!n){var r=(i=>{var o=i.match(cet);return o?o[0]:""})(e);r!==n&&zt.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Cf={H:()=>!!Bt,B:function(e){zt.error("cookieStore error: "+e)},q:function(e){if(Bt){try{for(var t=e+"=",n=Bt.cookie.split(";").filter((o=>o.length)),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Cf.q(e))||{}}catch{}return t},G:function(e,t,n,r,i){if(Bt)try{var o="",s="",a=uet(Bt.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return c.length>3686.4&&zt.warn("cookieStore warning: large cookie, len="+c.length),Bt.cookie=c,c}catch{return}},V:function(e,t){if(Bt!=null&&Bt.cookie)try{Cf.G(e,"",-1,t)}catch{return}}},o8=null,Qi={H:function(){if(!Ud(o8))return o8;var e=!0;if(Ot(Ve))e=!1;else try{var t="__mplssupport__";Qi.G(t,"xyz"),Qi.q(t)!=='"xyz"'&&(e=!1),Qi.V(t)}catch{e=!1}return e||zt.error("localStorage unsupported; falling back to cookie store"),o8=e,e},B:function(e){zt.error("localStorage error: "+e)},q:function(e){try{return Ve?.localStorage.getItem(e)}catch(t){Qi.B(t)}return null},W:function(e){try{return JSON.parse(Qi.q(e))||{}}catch{}return null},G:function(e,t){try{Ve?.localStorage.setItem(e,JSON.stringify(t))}catch(n){Qi.B(n)}},V:function(e){try{Ve?.localStorage.removeItem(e)}catch(t){Qi.B(t)}}},det=["$device_id","distinct_id",l5,QCe,d5,u5],uD={},fet={H:function(){return!0},B:function(e){zt.error("memoryStorage error: "+e)},q:function(e){return uD[e]||null},W:function(e){return uD[e]||null},G:function(e,t){uD[e]=t},V:function(e){delete uD[e]}},vy=null,js={H:function(){if(!Ud(vy))return vy;if(vy=!0,Ot(Ve))vy=!1;else try{var e="__support__";js.G(e,"xyz"),js.q(e)!=='"xyz"'&&(vy=!1),js.V(e)}catch{vy=!1}return vy},B:function(e){zt.error("sessionStorage error: ",e)},q:function(e){try{return Ve?.sessionStorage.getItem(e)}catch(t){js.B(t)}return null},W:function(e){try{return JSON.parse(js.q(e))||null}catch{}return null},G:function(e,t){try{Ve?.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){js.B(n)}},V:function(e){try{Ve?.sessionStorage.removeItem(e)}catch(t){js.B(t)}}},oh=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});class pet{constructor(t){this._instance=t}get R(){return this._instance.config}get consent(){return this.J()?oh.DENIED:this.K}isOptedOut(){return this.R.cookieless_mode==="always"||this.consent===oh.DENIED||this.consent===oh.PENDING&&(this.R.opt_out_capturing_by_default||this.R.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===oh.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.R.cookie_expiration,this.R.cross_subdomain_cookie,this.R.secure_cookie)}reset(){this.Y.V(this.X,this.R.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:n,consent_persistence_name:r}=this._instance.config;return r||(n?n+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return JB(t)?oh.GRANTED:lr(sJe,t)?oh.DENIED:oh.PENDING}get Y(){if(!this.Z){var t=this.R.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?Qi:Cf;var n=t==="localStorage"?Cf:Qi;n.q(this.X)&&(this.Z.q(this.X)||this.optInOut(JB(n.q(this.X))),n.V(this.X,this.R.cross_subdomain_cookie))}return this.Z}J(){return!!this.R.respect_dnt&&!!XCe([pc?.doNotTrack,pc?.msDoNotTrack,bn.doNotTrack],(t=>JB(t)))}}var dD=Ao("[Dead Clicks]"),het=()=>!0,get=e=>{var t,n=!((t=e.instance.persistence)==null||!t.get_property(ZCe)),r=e.instance.config.capture_dead_clicks;return Sh(r)?r:!!hs(r)||n};class h2e{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,n,r){this.instance=t,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[ZCe]:t?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var n,r;(n=bn.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&t(),(r=bn.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",(i=>{i?dD.error("failed to load script",i):t()}))}et(){var t;if(Bt){if(!this.tt&&(t=bn.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var n=hs(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.tt=bn.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.tt.start(Bt),dD.info("starting...")}}else dD.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,dD.info("stopping..."))}}var k2=Ao("[ExceptionAutocapture]");class met{constructor(t){var n,r,i;this.rt=()=>{var o;if(Ve&&this.isEnabled&&(o=bn.__PosthogExtensions__)!=null&&o.errorWrappingFunctions){var s=bn.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=bn.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,l=bn.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.R.capture_unhandled_errors&&(this.st=s(this.captureException.bind(this))),!this.nt&&this.R.capture_unhandled_rejections&&(this.nt=a(this.captureException.bind(this))),!this.ot&&this.R.capture_console_errors&&(this.ot=l(this.captureException.bind(this)))}catch(c){k2.error("failed to start",c),this.ut()}}},this._instance=t,this.ht=!((n=this._instance.persistence)==null||!n.props[mue]),this.dt=new aJe({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:k2}),this.R=this.vt(),this.startIfEnabledOrStop()}vt(){var t=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return hs(t)?n=Ht({},n,t):(Ot(t)?this.ht:t)&&(n=Ht({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.R.capture_console_errors||this.R.capture_unhandled_errors||this.R.capture_unhandled_rejections}startIfEnabledOrStop(){this.isEnabled?(k2.info("enabled"),this.ut(),this.it(this.rt)):this.ut()}it(t){var n,r;(n=bn.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&t(),(r=bn.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",(i=>{if(i)return k2.error("failed to load script",i);t()}))}ut(){var t,n,r;(t=this.st)==null||t.call(this),this.st=void 0,(n=this.nt)==null||n.call(this),this.nt=void 0,(r=this.ot)==null||r.call(this),this.ot=void 0}onRemoteConfig(t){var n=t.autocaptureExceptions;this.ht=!!n||!1,this._instance.persistence&&this._instance.persistence.register({[mue]:this.ht}),this.R=this.vt(),this.startIfEnabledOrStop()}onConfigChange(){this.R=this.vt()}captureException(t){var n,r,i=(n=t==null||(r=t.$exception_list)==null||(r=r[0])==null?void 0:r.type)!==null&&n!==void 0?n:"Exception";this.dt.consumeRateLimit(i)?k2.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(t)}}function Mue(e,t,n){try{if(!(t in e))return()=>{};var r=e[t],i=n(r);return jm(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}class yet{constructor(t){var n;this._instance=t,this.ct=(Ve==null||(n=Ve.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(zt.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ft&&this.ft(),this.ft=void 0,zt.info("History API monitoring stopped")}monitorHistoryChanges(){var t,n;if(Ve&&Ve.history){var r=this;(t=Ve.history.pushState)!=null&&t.__posthog_wrapped__||Mue(Ve.history,"pushState",(i=>function(o,s,a){i.call(this,o,s,a),r._t("pushState")})),(n=Ve.history.replaceState)!=null&&n.__posthog_wrapped__||Mue(Ve.history,"replaceState",(i=>function(o,s,a){i.call(this,o,s,a),r._t("replaceState")})),this.yt()}}_t(t){try{var n,r=Ve==null||(n=Ve.location)==null?void 0:n.pathname;if(!r)return;r!==this.ct&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.ct=r}catch(i){zt.error("Error capturing "+t+" pageview",i)}}yt(){if(!this.ft){var t=()=>{this._t("popstate")};Bo(Ve,"popstate",t),this.ft=()=>{Ve&&Ve.removeEventListener("popstate",t)}}}}var s8=Ao("[SegmentIntegration]");function vet(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var o=r.config.segment;if(!o)return i();var s=l=>{var c=()=>l.anonymousId()||ym();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(ih,"identified")),i()},a=o.user();"then"in a&&jm(a.then)?a.then(s):s(a)})(e,(()=>{n.register((r=>{Promise&&Promise.resolve||s8.warn("This browser does not have Promise support, and can not use the segment integration");var i=(o,s)=>{if(!s)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||(s8.info("No userId set, resetting PostHog"),r.reset()),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(s8.info("UserId set, identifying with PostHog"),r.identify(o.event.userId));var a=r.calculateEventProperties(s,o.event.properties);return o.event.properties=Object.assign({},a,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:o=>i(o,o.event.event),page:o=>i(o,"$pageview"),identify:o=>i(o,"$identify"),screen:o=>i(o,"$screen")}})(e)).then((()=>{t()}))}))}var g2e="posthog-js";function m2e(e,t){var{organization:n,projectId:r,prefix:i,severityAllowList:o=["error"],sendExceptionsToPostHog:s=!0}=t===void 0?{}:t;return a=>{var l,c,u,d,f;if(!(o==="*"||o.includes(a.level))||!e.__loaded)return a;a.tags||(a.tags={});var p=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());a.tags["PostHog Person URL"]=p,e.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)==null?void 0:l.values)||[],y=g.map((x=>Ht({},x,{stacktrace:x.stacktrace?Ht({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map((w=>Ht({},w,{platform:"web:javascript"})))}):void 0}))),v={$exception_message:((c=g[0])==null?void 0:c.value)||a.message,$exception_type:(u=g[0])==null?void 0:u.type,$exception_level:a.level,$exception_list:y,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])==null?void 0:d.value)||a.message,$sentry_exception_type:(f=g[0])==null?void 0:f.type,$sentry_tags:a.tags};return n&&r&&(v.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),s&&e.exceptions.sendExceptionEvent(v),a}}class bet{constructor(t,n,r,i,o,s){this.name=g2e,this.setupOnce=function(a){a(m2e(t,{organization:n,projectId:r,prefix:i,severityAllowList:o,sendExceptionsToPostHog:s==null||s}))}}}var xet=Ve!=null&&Ve.location?g5(Ve.location.hash,"__posthog")||g5(location.hash,"state"):null,Aue="_postHogToolbarParams",Pue=Ao("[Toolbar]"),Zg=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(Zg||{});class wet{constructor(t){this.instance=t}bt(t){bn.ph_toolbar_state=t}wt(){var t;return(t=bn.ph_toolbar_state)!==null&&t!==void 0?t:Zg.UNINITIALIZED}maybeLoadToolbar(t,n,r){if(t===void 0&&(t=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),!Ve||!Bt)return!1;t=t??Ve.location,r=r??Ve.history;try{if(!n){try{Ve.localStorage.setItem("test","test"),Ve.localStorage.removeItem("test")}catch{return!1}n=Ve?.localStorage}var i,o=xet||g5(t.hash,"__posthog")||g5(t.hash,"state"),s=o?hue((()=>JSON.parse(atob(decodeURIComponent(o)))))||hue((()=>JSON.parse(decodeURIComponent(o)))):null;return s&&s.action==="ph_authorize"?((i=s).source="url",i&&Object.keys(i).length>0&&(s.desiredHash?t.hash=s.desiredHash:r?r.replaceState(r.state,"",t.pathname+t.search):t.hash="")):((i=JSON.parse(n.getItem(Aue)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}xt(t){var n=bn.ph_load_toolbar||bn.ph_load_editor;!Wr(n)&&jm(n)?n(t,this.instance):Pue.warn("No toolbar load function found")}loadToolbar(t){var n=!(Bt==null||!Bt.getElementById(JCe));if(!Ve||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ht({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(Ve.localStorage.setItem(Aue,JSON.stringify(Ht({},i,{source:void 0}))),this.wt()===Zg.LOADED)this.xt(i);else if(this.wt()===Zg.UNINITIALIZED){var o;this.bt(Zg.LOADING),(o=bn.__PosthogExtensions__)==null||o.loadExternalDependency==null||o.loadExternalDependency(this.instance,"toolbar",(s=>{if(s)return Pue.error("[Toolbar] Failed to load",s),void this.bt(Zg.UNINITIALIZED);this.bt(Zg.LOADED),this.xt(i)})),Bo(Ve,"turbolinks:load",(()=>{this.bt(Zg.UNINITIALIZED),this.loadToolbar(i)}))}return!0}Et(t){return this.loadToolbar(t)}maybeLoadEditor(t,n,r){return t===void 0&&(t=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(t,n,r)}}var _et=Ao("[TracingHeaders]");class Cet{constructor(t){this.$t=void 0,this.St=void 0,this.rt=()=>{var n,r;Ot(this.$t)&&((n=bn.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Ot(this.St)&&((r=bn.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var n,r;(n=bn.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&t(),(r=bn.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",(i=>{if(i)return _et.error("failed to load script",i);t()}))}startIfEnabledOrStop(){var t,n;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.$t)==null||t.call(this),(n=this.St)==null||n.call(this),this.$t=void 0,this.St=void 0)}}var fD="https?://(.*)",w_=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],ket=x_(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],w_),zR="<masked>",Eet=["li_fat_id"];function y2e(e,t,n){if(!Bt)return{};var r,i=t?x_([],w_,n||[]):[],o=v2e(NR(Bt.URL,i,zR),e),s=(r={},_i(Eet,(function(a){var l=Cf.q(a);r[a]=l||null})),r);return ko(s,o)}function v2e(e,t){var n=ket.concat(t||[]),r={};return _i(n,(function(i){var o=h5(e,i);r[i]=o||null})),r}function b2e(e){var t=(function(o){return o?o.search(fD+"google.([^/?]*)")===0?"google":o.search(fD+"bing.com")===0?"bing":o.search(fD+"yahoo.com")===0?"yahoo":o.search(fD+"duckduckgo.com")===0?"duckduckgo":null:null})(e),n=t!="yahoo"?"q":"p",r={};if(!Ud(t)){r.$search_engine=t;var i=Bt?h5(Bt.referrer,n):"";i.length&&(r.ph_keyword=i)}return r}function Due(){return navigator.language||navigator.userLanguage}function x2e(){return Bt?.referrer||"$direct"}function w2e(e,t){var n=e?x_([],w_,t||[]):[],r=ml?.href.substring(0,1e3);return{r:x2e().substring(0,1e3),u:r?NR(r,n,zR):void 0}}function S2e(e){var t,{r:n,u:r}=e,i={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=p5(n))==null?void 0:t.host};if(r){i.$current_url=r;var o=p5(r);i.$host=o?.host,i.$pathname=o?.pathname;var s=v2e(r);ko(i,s)}if(n){var a=b2e(n);ko(i,a)}return i}function _2e(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function Tet(){try{return new Date().getTimezoneOffset()}catch{return}}function Ret(e,t){if(!pl)return{};var n,r,i,o=e?x_([],w_,t||[]):[],[s,a]=(function(l){for(var c=0;c<cue.length;c++){var[u,d]=cue[c],f=u.exec(l),p=f&&(jm(d)?d(f,l):d);if(p)return p}return["",""]})(pl);return ko(KY({$os:s,$os_version:a,$browser:WCe(pl,navigator.vendor),$device:uue(pl),$device_type:(r=pl,i=uue(r),i===PCe||i===ACe||i==="Kobo"||i==="Kindle Fire"||i===HCe?fT:i===hT||i===Cw||i===gT||i===SV?"Console":i===OCe?"Wearable":i?vu:"Desktop"),$timezone:_2e(),$timezone_offset:Tet()}),{$current_url:NR(ml?.href,o,zR),$host:ml?.host,$pathname:ml?.pathname,$raw_user_agent:pl.length>1e3?pl.substring(0,997)+"...":pl,$browser_version:yJe(pl,navigator.vendor),$browser_language:Due(),$browser_language_prefix:(n=Due(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:Ve?.screen.height,$screen_width:Ve?.screen.width,$viewport_height:Ve?.innerHeight,$viewport_width:Ve?.innerWidth,$lib:"web",$lib_version:rh.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Hg=Ao("[Web Vitals]"),Oue=9e5;class Met{constructor(t){var n;this.kt=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Pt=()=>{clearTimeout(this.Tt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((r,i)=>Ht({},r,{["$web_vitals_"+i.name+"_event"]:Ht({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.It=r=>{var i,o=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(Ot(o))Hg.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var s=this.Ct();Ot(s)||(Wr(r?.name)||Wr(r?.value)?Hg.error("Invalid metric received",r):this.Rt&&r.value>=this.Rt?Hg.error("Ignoring metric with value >= "+this.Rt,r):(this.N.url!==s&&(this.Pt(),this.Tt=setTimeout(this.Pt,this.flushToCaptureTimeoutMs)),Ot(this.N.url)&&(this.N.url=s),this.N.firstMetricTimestamp=Ot(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.N.metrics.push(Ht({},r,{$current_url:s,$session_id:o.sessionId,$window_id:o.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.Pt()))}},this.rt=()=>{var r,i,o,s,a=bn.__PosthogExtensions__;Ot(a)||Ot(a.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:o,onINP:s}=a.postHogWebVitalsCallbacks),r&&i&&o&&s?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.It.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.It.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&o(this.It.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&s(this.It.bind(this)),this.P=!0):Hg.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.kt=!((n=this._instance.persistence)==null||!n.props[vue]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=hs(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Ot(r)?((n=this._instance.persistence)==null?void 0:n.props[xue])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(hs(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Rt(){var t=hs(this._instance.config.capture_performance)&&Kf(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Oue;return 0<t&&t<=6e4?Oue:t}get isEnabled(){var t=ml?.protocol;if(t!=="http:"&&t!=="https:")return Hg.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=hs(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Sh(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Sh(n)?n:this.kt}startIfEnabled(){this.isEnabled&&!this.P&&(Hg.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var n=hs(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=hs(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[vue]:n}),this._instance.persistence.register({[xue]:r})),this.kt=n,this.startIfEnabled()}it(t){var n,r;(n=bn.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&t(),(r=bn.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",(i=>{i?Hg.error("failed to load script",i):t()}))}Ct(){var t=Ve?Ve.location.href:void 0;if(t){var n=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,i=n?x_([],w_,r||[]):[];return NR(t,i,zR)}Hg.error("Could not determine current URL")}}var Aet=Ao("[Heatmaps]");function Iue(e){return hs(e)&&"clientX"in e&&"clientY"in e&&Kf(e.clientX)&&Kf(e.clientY)}class Pet{constructor(t){var n;this.kt=!1,this.P=!1,this.Ft=null,this.instance=t,this.kt=!((n=this.instance.persistence)==null||!n.props[kV]),this.rageclicks=new f2e(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return hs(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Ot(this.instance.config.capture_heatmaps)?Ot(this.instance.config.enable_heatmaps)?this.kt:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;Aet.info("starting..."),this.Mt(),this.Ot()}else{var t;clearInterval((t=this.Ft)!==null&&t!==void 0?t:void 0),this.At(),this.getAndClearBuffer()}}onRemoteConfig(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[kV]:n}),this.kt=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Dt(t){this.jt(t.originalEvent,"deadclick")}Ot(){this.Ft&&clearInterval(this.Ft),this.Ft=(function(t){return t?.visibilityState==="visible"})(Bt)?setInterval(this.Lt.bind(this),this.flushIntervalMilliseconds):null}Mt(){Ve&&Bt&&(this.Nt=this.Lt.bind(this),Bo(Ve,"beforeunload",this.Nt),this.Ut=t=>this.jt(t||Ve?.event),Bo(Bt,"click",this.Ut,{capture:!0}),this.zt=t=>this.Ht(t||Ve?.event),Bo(Bt,"mousemove",this.zt,{capture:!0}),this.Bt=new h2e(this.instance,het,this.Dt.bind(this)),this.Bt.startIfEnabled(),this.qt=this.Ot.bind(this),Bo(Bt,"visibilitychange",this.qt),this.P=!0)}At(){var t;Ve&&Bt&&(this.Nt&&Ve.removeEventListener("beforeunload",this.Nt),this.Ut&&Bt.removeEventListener("click",this.Ut,{capture:!0}),this.zt&&Bt.removeEventListener("mousemove",this.zt,{capture:!0}),this.qt&&Bt.removeEventListener("visibilitychange",this.qt),clearTimeout(this.Wt),(t=this.Bt)==null||t.stop(),this.P=!1)}Gt(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),s=(function(a,l,c){for(var u=a;u&&bF(u)&&!Fm(u,"body");){if(u===c)return!1;if(lr(l,Ve?.getComputedStyle(u).position))return!0;u=o2e(u)}return!1})(r2e(t),["fixed","sticky"],o);return{x:t.clientX+(s?0:i),y:t.clientY+(s?0:r),target_fixed:s,type:n}}jt(t,n){var r;if(n===void 0&&(n="click"),!wue(t.target)&&Iue(t)){var i=this.Gt(t,n);(r=this.rageclicks)!=null&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Vt(Ht({},i,{type:"rageclick"})),this.Vt(i)}}Ht(t){!wue(t.target)&&Iue(t)&&(clearTimeout(this.Wt),this.Wt=setTimeout((()=>{this.Vt(this.Gt(t,"mousemove"))}),500))}Vt(t){if(Ve){var n=Ve.location.href,r=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,o=r?x_([],w_,i||[]):[],s=NR(n,o,zR);this.N=this.N||{},this.N[s]||(this.N[s]=[]),this.N[s].push(t)}}Lt(){this.N&&!X1(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class jue{constructor(t){this.Jt=(n,r,i)=>{i&&(i.noSessionId||i.activityTimeout||i.sessionPastMaximumLength)&&(zt.info("[PageViewManager] Session rotated, clearing pageview state",{sessionId:n,changeReason:i}),this.Kt=void 0,this._instance.scrollManager.resetContext())},this._instance=t,this.Yt()}Yt(){var t;this.Xt=(t=this._instance.sessionManager)==null?void 0:t.onSessionId(this.Jt)}destroy(){var t;(t=this.Xt)==null||t.call(this),this.Xt=void 0}doPageView(t,n){var r,i=this.Qt(t,n);return this.Kt={pathname:(r=Ve?.location.pathname)!==null&&r!==void 0?r:"",pageViewId:n,timestamp:t},this._instance.scrollManager.resetContext(),i}doPageLeave(t){var n;return this.Qt(t,(n=this.Kt)==null?void 0:n.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Kt)==null?void 0:t.pageViewId}}Qt(t,n){var r=this.Kt;if(!r)return{$pageview_id:n};var i={$pageview_id:n,$prev_pageview_id:r.pageViewId},o=this._instance.scrollManager.getContext();if(o&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:d}=o;if(!(Ot(s)||Ot(a)||Ot(l)||Ot(c)||Ot(u)||Ot(d))){s=Math.ceil(s),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d);var f=s<=1?1:Af(a/s,0,1,zt),p=s<=1?1:Af(l/s,0,1,zt),g=c<=1?1:Af(u/c,0,1,zt),y=c<=1?1:Af(d/c,0,1,zt);i=ko(i,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:f,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:p,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:y})}}return r.pathname&&(i.$prev_pageview_pathname=r.pathname),r.timestamp&&(i.$prev_pageview_duration=(t.getTime()-r.timestamp.getTime())/1e3),i}}var uh=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),bu=Uint8Array,bl=Uint16Array,iS=Uint32Array,eX=new bu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tX=new bu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$ue=new bu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C2e=function(e,t){for(var n=new bl(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new iS(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},k2e=C2e(eX,2),Det=k2e[0],IV=k2e[1];Det[28]=258,IV[258]=28;for(var Fue=C2e(tX,0)[1],E2e=new bl(32768),Di=0;Di<32768;++Di){var by=(43690&Di)>>>1|(21845&Di)<<1;by=(61680&(by=(52428&by)>>>2|(13107&by)<<2))>>>4|(3855&by)<<4,E2e[Di]=((65280&by)>>>8|(255&by)<<8)>>>1}var pE=function(e,t,n){for(var r=e.length,i=0,o=new bl(t);i<r;++i)++o[e[i]-1];var s,a=new bl(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;for(s=new bl(r),i=0;i<r;++i)s[i]=E2e[a[e[i]-1]++]>>>15-e[i];return s},tb=new bu(288);for(Di=0;Di<144;++Di)tb[Di]=8;for(Di=144;Di<256;++Di)tb[Di]=9;for(Di=256;Di<280;++Di)tb[Di]=7;for(Di=280;Di<288;++Di)tb[Di]=8;var y5=new bu(32);for(Di=0;Di<32;++Di)y5[Di]=5;var Oet=pE(tb,9),Iet=pE(y5,5),T2e=function(e){return(e/8>>0)+(7&e&&1)},R2e=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof bl?bl:e instanceof iS?iS:bu)(n-t);return r.set(e.subarray(t,n)),r},Gp=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},E2=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},a8=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new bu(0),0];if(i==1){var s=new bu(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(k,T){return k.f-T.f})),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var f=o[0].s;for(r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var p=new bl(f+1),g=jV(n[u-1],p,0);if(g>t){r=0;var y=0,v=g-t,x=1<<v;for(o.sort((function(k,T){return p[T.s]-p[k.s]||k.f-T.f}));r<i;++r){var w=o[r].s;if(!(p[w]>t))break;y+=x-(1<<g-p[w]),p[w]=t}for(y>>>=v;y>0;){var S=o[r].s;p[S]<t?y-=1<<t-p[S]++-1:++r}for(;r>=0&&y;--r){var C=o[r].s;p[C]==t&&(--p[C],++y)}g=t}return[new bu(p),g]},jV=function(e,t,n){return e.s==-1?Math.max(jV(e.l,t,n+1),jV(e.r,t,n+1)):t[e.s]=n},Lue=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new bl(++t),r=0,i=e[0],o=1,s=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},T2=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},$V=function(e,t,n){var r=n.length,i=T2e(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},Nue=function(e,t,n,r,i,o,s,a,l,c,u){Gp(t,u++,n),++i[256];for(var d=a8(i,15),f=d[0],p=d[1],g=a8(o,15),y=g[0],v=g[1],x=Lue(f),w=x[0],S=x[1],C=Lue(y),k=C[0],T=C[1],E=new bl(19),A=0;A<w.length;++A)E[31&w[A]]++;for(A=0;A<k.length;++A)E[31&k[A]]++;for(var O=a8(E,7),I=O[0],j=O[1],P=19;P>4&&!I[$ue[P-1]];--P);var $,D,F,N,V=c+5<<3,H=T2(i,tb)+T2(o,y5)+s,U=T2(i,f)+T2(o,y)+s+14+3*P+T2(E,I)+(2*E[16]+3*E[17]+7*E[18]);if(V<=H&&V<=U)return $V(t,u,e.subarray(l,l+c));if(Gp(t,u,1+(U<H)),u+=2,U<H){$=pE(f,p),D=f,F=pE(y,v),N=y;var G=pE(I,j);for(Gp(t,u,S-257),Gp(t,u+5,T-1),Gp(t,u+10,P-4),u+=14,A=0;A<P;++A)Gp(t,u+3*A,I[$ue[A]]);u+=3*P;for(var z=[w,k],W=0;W<2;++W){var X=z[W];for(A=0;A<X.length;++A){var Q=31&X[A];Gp(t,u,G[Q]),u+=I[Q],Q>15&&(Gp(t,u,X[A]>>>5&127),u+=X[A]>>>12)}}}else $=Oet,D=tb,F=Iet,N=y5;for(A=0;A<a;++A)if(r[A]>255){Q=r[A]>>>18&31,E2(t,u,$[Q+257]),u+=D[Q+257],Q>7&&(Gp(t,u,r[A]>>>23&31),u+=eX[Q]);var ee=31&r[A];E2(t,u,F[ee]),u+=N[ee],ee>3&&(E2(t,u,r[A]>>>5&8191),u+=tX[ee])}else E2(t,u,$[r[A]]),u+=D[r[A]];return E2(t,u,$[256]),u+D[256]},jet=new iS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$et=(function(){for(var e=new iS(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e})(),Fet=function(e,t,n,r,i){return(function(o,s,a,l,c,u){var d=o.length,f=new bu(l+d+5*(1+Math.floor(d/7e3))+c),p=f.subarray(l,f.length-c),g=0;if(!s||d<8)for(var y=0;y<=d;y+=65535){var v=y+65535;v<d?g=$V(p,g,o.subarray(y,v)):(p[y]=u,g=$V(p,g,o.subarray(y,d)))}else{for(var x=jet[s-1],w=x>>>13,S=8191&x,C=(1<<a)-1,k=new bl(32768),T=new bl(C+1),E=Math.ceil(a/3),A=2*E,O=function(J){return(o[J]^o[J+1]<<E^o[J+2]<<A)&C},I=new iS(25e3),j=new bl(288),P=new bl(32),$=0,D=0,F=(y=0,0),N=0,V=0;y<d;++y){var H=O(y),U=32767&y,G=T[H];if(k[U]=G,T[H]=U,N<=y){var z=d-y;if(($>7e3||F>24576)&&z>423){g=Nue(o,p,0,I,j,P,D,F,V,y-V,g),F=$=D=0,V=y;for(var W=0;W<286;++W)j[W]=0;for(W=0;W<30;++W)P[W]=0}var X=2,Q=0,ee=S,ne=U-G&32767;if(z>2&&H==O(y-ne))for(var oe=Math.min(w,z)-1,ce=Math.min(32767,y),re=Math.min(258,z);ne<=ce&&--ee&&U!=G;){if(o[y+X]==o[y+X-ne]){for(var ge=0;ge<re&&o[y+ge]==o[y+ge-ne];++ge);if(ge>X){if(X=ge,Q=ne,ge>oe)break;var he=Math.min(ne,ge-2),ie=0;for(W=0;W<he;++W){var xe=y-ne+W+32768&32767,q=xe-k[xe]+32768&32767;q>ie&&(ie=q,G=xe)}}}ne+=(U=G)-(G=k[U])+32768&32767}if(Q){I[F++]=268435456|IV[X]<<18|Fue[Q];var fe=31&IV[X],se=31&Fue[Q];D+=eX[fe]+tX[se],++j[257+fe],++P[se],N=y+X,++$}else I[F++]=o[y],++j[o[y]]}}g=Nue(o,p,u,I,j,P,D,F,V,y-V,g)}return R2e(f,0,l+T2e(g)+c)})(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!0)},l8=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function Let(e,t){t===void 0&&(t={});var n=(function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=$et[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}})(),r=e.length;n.p(e);var i,o=Fet(e,t,10+((i=t).filename&&i.filename.length+1||0),8),s=o.length;return(function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&l8(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}})(o,t),l8(o,s-8,n.d()),l8(o,s-4,r),o}var Net=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),Ud(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},zet=!!yV||!!mV,zue="text/plain",v5=function(e,t,n){var r;n===void 0&&(n=!0);var[i,o]=e.split("?"),s=Ht({},t),a=(r=o?.split("&").map((c=>{var u,[d,f]=c.split("="),p=n&&(u=s[d])!==null&&u!==void 0?u:f;return delete s[d],d+"="+p})))!==null&&r!==void 0?r:[],l=eet(s);return l&&a.push(l),i+"?"+a.join("&")},Ak=(e,t)=>JSON.stringify(e,((n,r)=>typeof r=="bigint"?r.toString():r),t),c8=e=>{var{data:t,compression:n}=e;if(t){if(n===uh.GZipJS){var r=Let((function(l,c){var u=l.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(l);for(var d=new bu(l.length+(l.length>>>1)),f=0,p=function(x){d[f++]=x},g=0;g<u;++g){if(f+5>d.length){var y=new bu(f+8+(u-g<<1));y.set(d),d=y}var v=l.charCodeAt(g);v<128||c?p(v):v<2048?(p(192|v>>>6),p(128|63&v)):v>55295&&v<57344?(p(240|(v=65536+(1047552&v)|1023&l.charCodeAt(++g))>>>18),p(128|v>>>12&63),p(128|v>>>6&63),p(128|63&v)):(p(224|v>>>12),p(128|v>>>6&63),p(128|63&v))}return R2e(d,0,f)})(Ak(t)),{mtime:0}),i=new Blob([r],{type:zue});return{contentType:zue,body:i,estimatedSize:i.size}}if(n===uh.Base64){var o=(function(l){var c,u,d,f,p,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y=0,v=0,x="",w=[];if(!l)return l;l=Net(l);do c=(p=l.charCodeAt(y++)<<16|l.charCodeAt(y++)<<8|l.charCodeAt(y++))>>18&63,u=p>>12&63,d=p>>6&63,f=63&p,w[v++]=g.charAt(c)+g.charAt(u)+g.charAt(d)+g.charAt(f);while(y<l.length);switch(x=w.join(""),l.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x})(Ak(t)),s=(l=>"data="+encodeURIComponent(typeof l=="string"?l:Ak(l)))(o);return{contentType:"application/x-www-form-urlencoded",body:s,estimatedSize:new Blob([s]).size}}var a=Ak(t);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},EI=[];mV&&EI.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:o}=(t=c8(e))!==null&&t!==void 0?t:{},s=new Headers;_i(e.headers,(function(u,d){s.append(d,u)})),r&&s.append("Content-Type",r);var a=e.url,l=null;if(rue){var c=new rue;l={signal:c.signal,timeout:setTimeout((()=>c.abort()),e.timeout)}}mV(a,Ht({method:e?.method||"GET",headers:s,keepalive:e.method==="POST"&&(o||0)<52428.8,body:i,signal:(n=l)==null?void 0:n.signal},e.fetchOptions)).then((u=>u.text().then((d=>{var f={statusCode:u.status,text:d};if(u.status===200)try{f.json=JSON.parse(d)}catch(p){zt.error(p)}e.callback==null||e.callback(f)})))).catch((u=>{zt.error(u),e.callback==null||e.callback({statusCode:0,text:u})})).finally((()=>l?clearTimeout(l.timeout):null))}}),yV&&EI.push({transport:"XHR",method:e=>{var t,n=new yV;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=c8(e))!==null&&t!==void 0?t:{};_i(e.headers,(function(o,s){n.setRequestHeader(s,o)})),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),e.disableXHRCredentials||(n.withCredentials=!0),n.onreadystatechange=()=>{if(n.readyState===4){var o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}e.callback==null||e.callback(o)}},n.send(i)}}),pc!=null&&pc.sendBeacon&&EI.push({transport:"sendBeacon",method:e=>{var t=v5(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=c8(e))!==null&&n!==void 0?n:{},o=typeof i=="string"?new Blob([i],{type:r}):i;pc.sendBeacon(t,o)}catch{}}});var b5=function(e,t){if(!(function(n){try{new RegExp(n)}catch{return!1}return!0})(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function Bue(e,t,n){return Ak({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:n})}var M2e={exact:(e,t)=>t.some((n=>e.some((r=>n===r)))),is_not:(e,t)=>t.every((n=>e.every((r=>n!==r)))),regex:(e,t)=>t.some((n=>e.some((r=>b5(n,r))))),not_regex:(e,t)=>t.every((n=>e.every((r=>!b5(n,r))))),icontains:(e,t)=>t.map(pD).some((n=>e.map(pD).some((r=>n.includes(r))))),not_icontains:(e,t)=>t.map(pD).every((n=>e.map(pD).every((r=>!n.includes(r))))),gt:(e,t)=>t.some((n=>{var r=parseFloat(n);return!isNaN(r)&&e.some((i=>r>parseFloat(i)))})),lt:(e,t)=>t.some((n=>{var r=parseFloat(n);return!isNaN(r)&&e.some((i=>r<parseFloat(i)))}))},pD=e=>e.toLowerCase();function A2e(e,t){return!e||Object.entries(e).every((n=>{var[r,i]=n,o=t?.[r];if(Ot(o)||Ud(o))return!1;var s=[String(o)],a=M2e[i.operator];return!!a&&a(i.values,s)}))}var u8=Ao("[Error tracking]");class Bet{constructor(t){var n,r;this.Zt=[],this.ti=new xJe([new MJe,new LJe,new PJe,new AJe,new $Je,new jJe,new OJe,new FJe],RJe("web:javascript",CJe,TJe)),this._instance=t,this.Zt=(n=(r=this._instance.persistence)==null?void 0:r.get_property(EV))!==null&&n!==void 0?n:[]}onRemoteConfig(t){var n,r,i,o=(n=(r=t.errorTracking)==null?void 0:r.suppressionRules)!==null&&n!==void 0?n:[],s=(i=t.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Zt=o,this._instance.persistence&&this._instance.persistence.register({[EV]:this.Zt,[yue]:s})}get ii(){var t,n=!!this._instance.get_property(yue),r=this._instance.config.error_tracking.captureExtensionExceptions;return(t=r??n)!==null&&t!==void 0&&t}buildProperties(t,n){return this.ti.buildFromUnknown(t,{syntheticException:n?.syntheticException,mechanism:{handled:n?.handled}})}sendExceptionEvent(t){var n=t.$exception_list;if(this.ei(n)){if(this.ri(n))return void u8.info("Skipping exception capture because a suppression rule matched");if(!this.ii&&this.si(n))return void u8.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ni(n))return void u8.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}ri(t){if(t.length===0)return!1;var n=t.reduce(((r,i)=>{var{type:o,value:s}=i;return Jo(o)&&o.length>0&&r.$exception_types.push(o),Jo(s)&&s.length>0&&r.$exception_values.push(s),r}),{$exception_types:[],$exception_values:[]});return this.Zt.some((r=>{var i=r.values.map((o=>{var s,a=M2e[o.operator],l=qr(o.value)?o.value:[o.value],c=(s=n[o.key])!==null&&s!==void 0?s:[];return l.length>0&&a(l,c)}));return r.type==="OR"?i.some(Boolean):i.every(Boolean)}))}si(t){return t.flatMap((n=>{var r,i;return(r=(i=n.stacktrace)==null?void 0:i.frames)!==null&&r!==void 0?r:[]})).some((n=>n.filename&&n.filename.startsWith("chrome-extension://")))}ni(t){if(t.length>0){var n,r,i,o,s=(n=(r=t[0].stacktrace)==null?void 0:r.frames)!==null&&n!==void 0?n:[],a=s[s.length-1];return(i=a==null||(o=a.filename)==null?void 0:o.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}ei(t){return!Wr(t)&&qr(t)}}var td=Ao("[FeatureFlags]"),R2=Ao("[FeatureFlags]",{debugEnabled:!0}),d8="$active_feature_flags",s1="$override_feature_flags",Uue="$feature_flag_payloads",M2="$override_feature_flag_payloads",Vue="$feature_flag_request_id",Hue="$feature_flag_evaluated_at",Wue=e=>{var t={};for(var[n,r]of kI(e||{}))r&&(t[n]=r);return t},Uet=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((n=>{var r;return[n,(r=t[n].variant)!==null&&r!==void 0?r:t[n].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((n=>t[n].enabled)).filter((n=>{var r;return(r=t[n].metadata)==null?void 0:r.payload})).map((n=>{var r;return[n,(r=t[n].metadata)==null?void 0:r.payload]})))):td.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},Vet=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class Het{constructor(t){this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this.vi=!1,this._instance=t,this.featureFlagEventHandlers=[]}ci(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter((n=>{var r=n&&typeof n=="string"&&n.trim().length>0;return r||td.error("Invalid evaluation environment found:",n,"Expected non-empty string"),r})):[]}fi(){return this.ci().length>0}flags(){if(this._instance.config.__preview_remote_config)this.di=!0;else{var t=!this.pi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.gi({disableFlags:t})}}get hasLoadedFlags(){return this.ai}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(TV),n=this._instance.get_property(s1),r=this._instance.get_property(M2);if(!r&&!n)return t||{};var i=ko({},t||{}),o=[...new Set([...Object.keys(r||{}),...Object.keys(n||{})])];for(var s of o){var a,l,c=i[s],u=n?.[s],d=Ot(u)?(a=c?.enabled)!==null&&a!==void 0&&a:!!u,f=Ot(u)?c.variant:typeof u=="string"?u:void 0,p=r?.[s],g=Ht({},c,{enabled:d,variant:d?f??c?.variant:void 0});d!==c?.enabled&&(g.original_enabled=c?.enabled),f!==c?.variant&&(g.original_variant=c?.variant),p&&(g.metadata=Ht({},c?.metadata,{payload:p,original_payload:c==null||(l=c.metadata)==null?void 0:l.payload})),i[s]=g}return this.oi||(td.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:r,finalDetails:i}),this.oi=!0),i}getFlagVariants(){var t=this._instance.get_property(K1),n=this._instance.get_property(s1);if(!n)return t||{};for(var r=ko({},t),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this.oi||(td.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this.oi=!0),r}getFlagPayloads(){var t=this._instance.get_property(Uue),n=this._instance.get_property(M2);if(!n)return t||{};for(var r=ko({},t||{}),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this.oi||(td.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:n,finalPayloads:r}),this.oi=!0),r}reloadFeatureFlags(){this.ui||this._instance.config.advanced_disable_feature_flags||this.pi||(this.pi=setTimeout((()=>{this.gi()}),5))}mi(){clearTimeout(this.pi),this.pi=void 0}ensureFlagsLoaded(){this.ai||this.li||this.pi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.ui=t}gi(t){var n;if(this.mi(),!this._instance.O())if(this.li)this.hi=!0;else{var r=this._instance.config.token,i=this._instance.get_property("$device_id"),o={token:r,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Ht({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(Mk)||{}),group_properties:this._instance.get_property(By)};Ud(i)||Ot(i)||(o.$device_id=i),(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(o.disable_flags=!0),this.fi()&&(o.evaluation_environments=this.ci());var s=this._instance.config.__preview_remote_config,a=s?"/flags/?v=2":"/flags/?v=2&config=true",l=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",c=this._instance.requestRouter.endpointFor("flags",a+l);s&&(o.timezone=_2e()),this.li=!0,this._instance._send_request({method:"POST",url:c,data:o,compression:this._instance.config.disable_compression?void 0:uh.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:u=>{var d,f,p=!0;if(u.statusCode===200&&(this.hi||(this.$anon_distinct_id=void 0),p=!1),this.li=!1,this.di||(this.di=!0,this._instance.yi((f=u.json)!==null&&f!==void 0?f:{})),!o.disable_flags||this.hi)if(this.vi=!p,u.json&&(d=u.json.quotaLimited)!=null&&d.includes(Vet.FeatureFlags))td.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var g;o.disable_flags||this.receivedFeatureFlags((g=u.json)!==null&&g!==void 0?g:{},p),this.hi&&(this.hi=!1,this.gi())}}})}}getFeatureFlag(t,n){if(n===void 0&&(n={}),this.ai||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[t],i=""+r,o=this._instance.get_property(Vue)||void 0,s=this._instance.get_property(Hue)||void 0,a=this._instance.get_property(c5)||{};if((n.send_event||!("send_event"in n))&&(!(t in a)||!a[t].includes(i))){var l,c,u,d,f,p,g,y,v;qr(a[t])?a[t].push(i):a[t]=[i],(l=this._instance.persistence)==null||l.register({[c5]:a});var x=this.getFeatureFlagDetails(t),w={$feature_flag:t,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:o,$feature_flag_evaluated_at:s,$feature_flag_bootstrapped_response:((c=this._instance.config.bootstrap)==null||(c=c.featureFlags)==null?void 0:c[t])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(u=u.featureFlagPayloads)==null?void 0:u[t])||null,$used_bootstrap_value:!this.vi};Ot(x==null||(d=x.metadata)==null?void 0:d.version)||(w.$feature_flag_version=x.metadata.version);var S,C=(f=x==null||(p=x.reason)==null?void 0:p.description)!==null&&f!==void 0?f:x==null||(g=x.reason)==null?void 0:g.code;C&&(w.$feature_flag_reason=C),x!=null&&(y=x.metadata)!=null&&y.id&&(w.$feature_flag_id=x.metadata.id),Ot(x?.original_variant)&&Ot(x?.original_enabled)||(w.$feature_flag_original_response=Ot(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(v=x.metadata)!=null&&v.original_payload&&(w.$feature_flag_original_payload=x==null||(S=x.metadata)==null?void 0:S.original_payload),this._instance.capture("$feature_flag_called",w)}return r}td.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,n){var r=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:r};this.fi()&&(i.evaluation_environments=this.ci()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:uh.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:o=>{var s,a=(s=o.json)==null?void 0:s.featureFlagPayloads;n(a?.[t]||void 0)}})}isFeatureEnabled(t,n){if(n===void 0&&(n={}),this.ai||this.getFlags()&&this.getFlags().length>0){var r=this.getFeatureFlag(t,n);return Ot(r)?void 0:!!r}td.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((n=>n!==t))}receivedFeatureFlags(t,n){if(this._instance.persistence){this.ai=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads(),o=this.getFlagsWithDetails();(function(s,a,l,c,u){l===void 0&&(l={}),c===void 0&&(c={}),u===void 0&&(u={});var d=Uet(s),f=d.flags,p=d.featureFlags,g=d.featureFlagPayloads;if(p){var y=s.requestId,v=s.evaluatedAt;if(qr(p)){td.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(p)for(var w=0;w<p.length;w++)x[p[w]]=!0;a&&a.register({[d8]:p,[K1]:x})}else{var S=p,C=g,k=f;s.errorsWhileComputingFlags&&(S=Ht({},l,S),C=Ht({},c,C),k=Ht({},u,k)),a&&a.register(Ht({[d8]:Object.keys(Wue(S)),[K1]:S||{},[Uue]:C||{},[TV]:k||{}},y?{[Vue]:y}:{},v?{[Hue]:v}:{}))}}})(t,this._instance.persistence,r,i,o),this.bi(n)}}override(t,n){n===void 0&&(n=!1),td.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:n})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return td.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(s1),this._instance.persistence.unregister(M2),this.bi(),R2.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var n,r=t;if(this.oi=!!((n=r.suppressWarning)!==null&&n!==void 0&&n),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(s1),R2.info("Flag overrides cleared");else if(r.flags){if(qr(r.flags)){for(var i={},o=0;o<r.flags.length;o++)i[r.flags[o]]=!0;this._instance.persistence.register({[s1]:i})}else this._instance.persistence.register({[s1]:r.flags});R2.info("Flag overrides set",{flags:r.flags})}}return"payloads"in r&&(r.payloads===!1?(this._instance.persistence.unregister(M2),R2.info("Payload overrides cleared")):r.payloads&&(this._instance.persistence.register({[M2]:r.payloads}),R2.info("Payload overrides set",{payloads:r.payloads}))),void this.bi()}this.bi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ai){var{flags:n,flagVariants:r}=this.wi();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n,r){var i,o=(this._instance.get_property(Rk)||[]).find((c=>c.flagKey===t)),s={["$feature_enrollment/"+t]:n},a={$feature_flag:t,$feature_enrollment:n,$set:s};o&&(a.$early_access_feature_name=o.name),r&&(a.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(s,!1);var l=Ht({},this.getFlagVariants(),{[t]:n});(i=this._instance.persistence)==null||i.register({[d8]:Object.keys(Wue(l)),[K1]:l}),this.bi()}getEarlyAccessFeatures(t,n,r){n===void 0&&(n=!1);var i=this._instance.get_property(Rk),o=r?"&"+r.map((s=>"stage="+s)).join("&"):"";if(i&&!n)return t(i);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+o),method:"GET",callback:s=>{var a,l;if(s.json){var c=s.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.unregister(Rk),(l=this._instance.persistence)==null||l.register({[Rk]:c}),t(c)}}})}wi(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter((r=>n[r])),flagVariants:Object.keys(n).filter((r=>n[r])).reduce(((r,i)=>(r[i]=n[i],r)),{})}}bi(t){var{flags:n,flagVariants:r}=this.wi();this.featureFlagEventHandlers.forEach((i=>i(n,r,{errorsLoading:t})))}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0);var r=this._instance.get_property(Mk)||{};this._instance.register({[Mk]:Ht({},r,t)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Mk)}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0);var r=this._instance.get_property(By)||{};Object.keys(r).length!==0&&Object.keys(r).forEach((i=>{r[i]=Ht({},r[i],t[i]),delete t[i]})),this._instance.register({[By]:Ht({},r,t)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this._instance.get_property(By)||{};this._instance.register({[By]:Ht({},n,{[t]:{}})})}else this._instance.unregister(By)}reset(){this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this.vi=!1,this.$anon_distinct_id=void 0,this.mi(),this.oi=!1}}var Wet=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class f8{constructor(t,n){this.R=t,this.props={},this.xi=!1,this.Ei=(r=>{var i="";return r.token&&(i=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+i+"_posthog"})(t),this.Y=this.$i(t),this.load(),t.debug&&zt.info("Persistence loaded",t.persistence,Ht({},this.props)),this.update_config(t,t,n),this.save()}isDisabled(){return!!this.Si}$i(t){Wet.indexOf(t.persistence.toLowerCase())===-1&&(zt.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=(function(i){i===void 0&&(i=[]);var o=[...det,...i];return Ht({},Qi,{W:function(s){try{var a={};try{a=Cf.W(s)||{}}catch{}var l=ko(a,JSON.parse(Qi.q(s)||"{}"));return Qi.G(s,l),l}catch{}return null},G:function(s,a,l,c,u,d){try{Qi.G(s,a,void 0,void 0,d);var f={};o.forEach((p=>{a[p]&&(f[p]=a[p])})),Object.keys(f).length&&Cf.G(s,f,l,c,u,d)}catch(p){Qi.B(p)}},V:function(s,a){try{Ve?.localStorage.removeItem(s),Cf.V(s,a)}catch(l){Qi.B(l)}}})})(t.cookie_persisted_properties||[]),r=t.persistence.toLowerCase();return r==="localstorage"&&Qi.H()?Qi:r==="localstorage+cookie"&&n.H()?n:r==="sessionstorage"&&js.H()?js:r==="memory"?fet:r==="cookie"?Cf:n.H()?n:Cf}properties(){var t={};return _i(this.props,(function(n,r){if(r===K1&&hs(n))for(var i=Object.keys(n),o=0;o<i.length;o++)t["$feature/"+i[o]]=n[i[o]];else a=r,l=!1,(Ud(s=HJe)?l:nue&&s.indexOf===nue?s.indexOf(a)!=-1:(_i(s,(function(c){if(l||(l=c===a))return a5})),l))||(t[r]=n);var s,a,l})),t}load(){if(!this.Si){var t=this.Y.W(this.Ei);t&&(this.props=ko({},t))}}save(){this.Si||this.Y.G(this.Ei,this.props,this.ki,this.Pi,this.Ti,this.R.debug)}remove(){this.Y.V(this.Ei,!1),this.Y.V(this.Ei,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(hs(t)){Ot(n)&&(n="None"),this.ki=Ot(r)?this.Ii:r;var i=!1;if(_i(t,((o,s)=>{this.props.hasOwnProperty(s)&&this.props[s]!==n||(this.props[s]=o,i=!0)})),i)return this.save(),!0}return!1}register(t,n){if(hs(t)){this.ki=Ot(n)?this.Ii:n;var r=!1;if(_i(t,((i,o)=>{t.hasOwnProperty(o)&&this.props[o]!==i&&(this.props[o]=i,r=!0)})),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.xi){var t=y2e(this.R.custom_campaign_params,this.R.mask_personal_data_properties,this.R.custom_personal_data_properties);X1(KY(t))||this.register(t),this.xi=!0}}update_search_keyword(){var t;this.register((t=Bt?.referrer)?b2e(t):{})}update_referrer_info(){var t;this.register_once({$referrer:x2e(),$referring_domain:Bt!=null&&Bt.referrer&&((t=p5(Bt.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[PV]||this.props[DV]||this.register_once({[u5]:w2e(this.R.mask_personal_data_properties,this.R.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};_i([DV,PV],(s=>{var a=this.props[s];a&&_i(a,(function(l,c){t["$initial_"+vV(c)]=l}))}));var n,r,i=this.props[u5];if(i){var o=(n=S2e(i),r={},_i(n,(function(s,a){r["$initial_"+vV(a)]=s})),r);ko(t,o)}return t}safe_merge(t){return _i(this.props,(function(n,r){r in t||(t[r]=n)})),t}update_config(t,n,r){if(this.Ii=this.ki=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!r),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence||!((s,a)=>{if(s.length!==a.length)return!1;var l=[...s].sort(),c=[...a].sort();return l.every(((u,d)=>u===c[d]))})(t.cookie_persisted_properties||[],n.cookie_persisted_properties||[])){var i=this.$i(t),o=this.props;this.clear(),this.Y=i,this.props=o,this.save()}}set_disabled(t){this.Si=t,this.Si?this.remove():this.save()}set_cross_subdomain(t){t!==this.Pi&&(this.Pi=t,this.remove(),this.save())}set_secure(t){t!==this.Ti&&(this.Ti=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[Tk]||{};r[t]=n,this.props[Tk]=r,this.save()}remove_event_timer(t){var n=(this.props[Tk]||{})[t];return Ot(n)||(delete this.props[Tk][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}var que=Ao("[Product Tours]"),p8="ph_product_tours";class qet{constructor(t){this.Ci=null,this.Ri=null,this._instance=t}onRemoteConfig(t){this._instance.persistence&&this._instance.persistence.register({[bue]:!(t==null||!t.productTours)}),this.loadIfEnabled()}loadIfEnabled(){var t,n;this.Ci||(t=this._instance).config.disable_product_tours||(n=t.persistence)==null||!n.get_property(bue)||this.it((()=>this.Fi()))}it(t){var n,r;(n=bn.__PosthogExtensions__)!=null&&n.generateProductTours?t():(r=bn.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"product-tours",(i=>{i?que.error("Could not load product tours script",i):t()}))}Fi(){var t;!this.Ci&&(t=bn.__PosthogExtensions__)!=null&&t.generateProductTours&&(this.Ci=bn.__PosthogExtensions__.generateProductTours(this._instance,!0))}getProductTours(t,n){if(n===void 0&&(n=!1),!qr(this.Ri)||n){var r=this._instance.persistence;if(r){var i=r.props[p8];if(qr(i)&&!n)return this.Ri=i,void t(i,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:o=>{var s=o.statusCode;if(s!==200||!o.json){var a="Product Tours API could not be loaded, status: "+s;return que.error(a),void t([],{isLoaded:!1,error:a})}var l=qr(o.json.product_tours)?o.json.product_tours:[];this.Ri=l,r&&r.register({[p8]:l}),t(l,{isLoaded:!0})}})}else t(this.Ri,{isLoaded:!0})}getActiveProductTours(t){Wr(this.Ci)?t([],{isLoaded:!1,error:"Product tours not loaded"}):this.Ci.getActiveProductTours(t)}showProductTour(t){var n;(n=this.Ci)==null||n.showTourById(t)}previewTour(t){this.Ci?this.Ci.previewTour(t):this.it((()=>{var n;this.Fi(),(n=this.Ci)==null||n.previewTour(t)}))}dismissProductTour(){var t;(t=this.Ci)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.Ci)==null||t.nextStep()}previousStep(){var t;(t=this.Ci)==null||t.previousStep()}clearCache(){var t;this.Ri=null,(t=this._instance.persistence)==null||t.unregister(p8)}resetTour(t){var n;(n=this.Ci)==null||n.resetTour(t)}resetAllTours(){var t;(t=this.Ci)==null||t.resetAllTours()}cancelPendingTour(t){var n;(n=this.Ci)==null||n.cancelPendingTour(t)}}var A2=(function(e){return e.Activation="events",e.Cancellation="cancelEvents",e})({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var h8=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var Pk=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e.ABANDONED="survey abandoned",e})({}),g8=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e.PRODUCT_TOUR_ID="$product_tour_id",e.SURVEY_LAST_SEEN_DATE="$survey_last_seen_date",e})({}),P2e=(function(e){return e.Popover="popover",e.Inline="inline",e})({}),wi=Ao("[Surveys]"),D2e="seenSurvey_",Get=(e,t)=>{var n="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(n="$survey_"+t+"/"+e.id+"/"+e.current_iteration),n},Gue=e=>((t,n)=>{var r=""+t+n.id;return n.current_iteration&&n.current_iteration>0&&(r=""+t+n.id+"_"+n.current_iteration),r})(D2e,e),Yet=[h8.Popover,h8.Widget,h8.API],Xet={ignoreConditions:!1,ignoreDelay:!1,displayType:P2e.Popover};class nX{constructor(){this.Mi={},this.Mi={}}on(t,n){return this.Mi[t]||(this.Mi[t]=[]),this.Mi[t].push(n),()=>{this.Mi[t]=this.Mi[t].filter((r=>r!==n))}}emit(t,n){for(var r of this.Mi[t]||[])r(n);for(var i of this.Mi["*"]||[])i(t,n)}}function a1(e,t,n){if(Wr(e))return!1;switch(n){case"exact":return e===t;case"contains":var r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(r,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class Ket{constructor(t){this.Oi=new nX,this.Ai=(n,r)=>this.Di(n,r)&&this.ji(n,r)&&this.Li(n,r)&&this.Ni(n,r),this.Di=(n,r)=>r==null||!r.event||n?.event===r?.event,this._instance=t,this.Ui=new Set,this.zi=new Set}init(){var t;if(!Ot((t=this._instance)==null?void 0:t.Hi)){var n;(n=this._instance)==null||n.Hi(((r,i)=>{this.on(r,i)}))}}register(t){var n,r;if(!Ot((n=this._instance)==null?void 0:n.Hi)&&(t.forEach((s=>{var a,l;(a=this.zi)==null||a.add(s),(l=s.steps)==null||l.forEach((c=>{var u;(u=this.Ui)==null||u.add(c?.event||"")}))})),(r=this._instance)!=null&&r.autocapture)){var i,o=new Set;t.forEach((s=>{var a;(a=s.steps)==null||a.forEach((l=>{l!=null&&l.selector&&o.add(l?.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(o)}}on(t,n){var r;n!=null&&t.length!=0&&(this.Ui.has(t)||this.Ui.has(n?.event))&&this.zi&&((r=this.zi)==null?void 0:r.size)>0&&this.zi.forEach((i=>{this.Bi(n,i)&&this.Oi.emit("actionCaptured",i.name)}))}qi(t){this.onAction("actionCaptured",(n=>t(n)))}Bi(t,n){if(n?.steps==null)return!1;for(var r of n.steps)if(this.Ai(t,r))return!0;return!1}onAction(t,n){return this.Oi.on(t,n)}ji(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)==null?void 0:r.$current_url;if(!i||typeof i!="string"||!a1(i,n.url,n.url_matching||"contains"))return!1}return!0}Li(t,n){return!!this.Wi(t,n)&&!!this.Gi(t,n)&&!!this.Vi(t,n)}Wi(t,n){var r;if(n==null||!n.href)return!0;var i=this.Ji(t);if(i.length>0)return i.some((a=>a1(a.href,n.href,n.href_matching||"exact")));var o,s=(t==null||(r=t.properties)==null?void 0:r.$elements_chain)||"";return!!s&&a1((o=s.match(/(?::|")href="(.*?)"/))?o[1]:"",n.href,n.href_matching||"exact")}Gi(t,n){var r;if(n==null||!n.text)return!0;var i=this.Ji(t);if(i.length>0)return i.some((c=>a1(c.text,n.text,n.text_matching||"exact")||a1(c.$el_text,n.text,n.text_matching||"exact")));var o,s,a,l=(t==null||(r=t.properties)==null?void 0:r.$elements_chain)||"";return!!l&&(o=(function(c){for(var u,d=[],f=/(?::|")text="(.*?)"/g;!Wr(u=f.exec(c));)d.includes(u[1])||d.push(u[1]);return d})(l),s=n.text,a=n.text_matching||"exact",o.some((c=>a1(c,s,a))))}Vi(t,n){var r,i;if(n==null||!n.selector)return!0;var o=t==null||(r=t.properties)==null?void 0:r.$element_selectors;if(o!=null&&o.includes(n.selector))return!0;var s=(t==null||(i=t.properties)==null?void 0:i.$elements_chain)||"";if(n.selector_regex&&s)try{return new RegExp(n.selector_regex).test(s)}catch{return!1}return!1}Ji(t){var n;return(t==null||(n=t.properties)==null?void 0:n.$elements)==null?[]:t?.properties.$elements}Ni(t,n){return n==null||!n.properties||n.properties.length===0||A2e(n.properties.reduce(((r,i)=>{var o=qr(i.value)?i.value.map(String):i.value!=null?[String(i.value)]:[];return r[i.key]={values:o,operator:i.operator||"exact"},r}),{}),t?.properties)}}class Zet{constructor(t){this._instance=t,this.Ki=new Map,this.Yi=new Map,this.Xi=new Map}Qi(t,n){return!!t&&A2e(t.propertyFilters,n?.properties)}Zi(t,n){var r=new Map;return t.forEach((i=>{var o;(o=i.conditions)==null||(o=o[n])==null||(o=o.values)==null||o.forEach((s=>{if(s!=null&&s.name){var a=r.get(s.name)||[];a.push(i.id),r.set(s.name,a)}}))})),r}te(t,n,r){var i=(r===A2.Activation?this.Ki:this.Yi).get(t),o=[];return this.ie((s=>{o=s.filter((a=>i?.includes(a.id)))})),o.filter((s=>{var a,l=(a=s.conditions)==null||(a=a[r])==null||(a=a.values)==null?void 0:a.find((c=>c.name===t));return this.Qi(l,n)}))}register(t){var n;Ot((n=this._instance)==null?void 0:n.Hi)||(this.ee(t),this.re(t))}re(t){var n=t.filter((r=>{var i,o;return((i=r.conditions)==null?void 0:i.actions)&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0}));n.length!==0&&(this.se==null&&(this.se=new Ket(this._instance),this.se.init(),this.se.qi((r=>{this.onAction(r)}))),n.forEach((r=>{var i,o,s,a,l;r.conditions&&(i=r.conditions)!=null&&i.actions&&(o=r.conditions)!=null&&(o=o.actions)!=null&&o.values&&((s=r.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0&&((a=this.se)==null||a.register(r.conditions.actions.values),(l=r.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach((c=>{if(c&&c.name){var u=this.Xi.get(c.name);u&&u.push(r.id),this.Xi.set(c.name,u||[r.id])}})))})))}ee(t){var n,r=t.filter((o=>{var s,a;return((s=o.conditions)==null?void 0:s.events)&&((a=o.conditions)==null||(a=a.events)==null||(a=a.values)==null?void 0:a.length)>0})),i=t.filter((o=>{var s,a;return((s=o.conditions)==null?void 0:s.cancelEvents)&&((a=o.conditions)==null||(a=a.cancelEvents)==null||(a=a.values)==null?void 0:a.length)>0}));(r.length!==0||i.length!==0)&&((n=this._instance)==null||n.Hi(((o,s)=>{this.onEvent(o,s)})),this.Ki=this.Zi(t,A2.Activation),this.Yi=this.Zi(t,A2.Cancellation))}onEvent(t,n){var r,i=this.ne(),o=this.oe(),s=this.ae(),a=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[o])||[];if(s===t&&n&&a.length>0){var l,c;i.info("event matched, removing item from activated items",{event:t,eventPayload:n,existingActivatedItems:a});var u=(n==null||(l=n.properties)==null?void 0:l.$survey_id)||(n==null||(c=n.properties)==null?void 0:c.$product_tour_id);if(u){var d=a.indexOf(u);d>=0&&(a.splice(d,1),this.le(a))}}else{if(this.Yi.has(t)){var f=this.te(t,n,A2.Cancellation);f.length>0&&(i.info("cancel event matched, cancelling items",{event:t,itemsToCancel:f.map((g=>g.id))}),f.forEach((g=>{var y=a.indexOf(g.id);y>=0&&a.splice(y,1),this.ue(g.id)})),this.le(a))}if(this.Ki.has(t)){i.info("event name matched",{event:t,eventPayload:n,items:this.Ki.get(t)});var p=this.te(t,n,A2.Activation);this.le(a.concat(p.map((g=>g.id))||[]))}}}onAction(t){var n,r=this.oe(),i=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[r])||[];this.Xi.has(t)&&this.le(i.concat(this.Xi.get(t)||[]))}le(t){var n,r=this.ne(),i=this.oe(),o=[...new Set(t)].filter((s=>!this.he(s)));r.info("updating activated items",{activatedItems:o}),(n=this._instance)==null||(n=n.persistence)==null||n.register({[i]:o})}getActivatedIds(){var t,n=this.oe(),r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[n];return r||[]}getEventToItemsMap(){return this.Ki}de(){return this.se}}class Qet extends Zet{constructor(t){super(t)}oe(){return"$surveys_activated"}ae(){return Pk.SHOWN}ie(t){var n;(n=this._instance)==null||n.getSurveys(t)}ue(t){var n;(n=this._instance)==null||n.cancelPendingSurvey(t)}ne(){return wi}he(){return!1}getSurveys(){return this.getActivatedIds()}getEventToSurveys(){return this.getEventToItemsMap()}}class Jet{constructor(t){this.ve=void 0,this._surveyManager=null,this.ce=!1,this.fe=[],this.pe=null,this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var n=t.surveys;if(Wr(n))return wi.warn("Flags not loaded yet. Not loading surveys.");var r=qr(n);this.ve=r?n.length>0:n,wi.info("flags response received, isSurveysEnabled: "+this.ve),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);(r!=null&&r.startsWith(D2e)||r!=null&&r.startsWith("inProgressSurvey_"))&&t.push(r)}t.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.ce)wi.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)wi.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())wi.info("Not loading surveys in cookieless mode without consent.");else{var t=bn?.__PosthogExtensions__;if(t){if(!Ot(this.ve)||this._instance.config.advanced_enable_surveys){var n=this.ve||this._instance.config.advanced_enable_surveys;this.ce=!0;try{var r=t.generateSurveys;if(r)return void this.ge(r,n);var i=t.loadExternalDependency;if(!i)return void this._e("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(o=>{o||!t.generateSurveys?this._e("Could not load surveys script",o):this.ge(t.generateSurveys,n)}))}catch(o){throw this._e("Error initializing surveys",o),o}finally{this.ce=!1}}}else wi.error("PostHog Extensions not found.")}}ge(t,n){this._surveyManager=t(this._instance,n),this._surveyEventReceiver=new Qet(this._instance),wi.info("Surveys loaded successfully"),this.me({isLoaded:!0})}_e(t,n){wi.error(t,n),this.me({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.fe.push(t),this._surveyManager&&this.me({isLoaded:!0}),()=>{this.fe=this.fe.filter((n=>n!==t))}}getSurveys(t,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return wi.info("Disabled. Not loading surveys."),t([]);var r,i=this._instance.get_property(RV);if(i&&!n)return t(i,{isLoaded:!0});typeof Promise<"u"&&this.pe?this.pe.then((o=>{var{surveys:s,context:a}=o;return t(s,a)})):(typeof Promise<"u"&&(this.pe=new Promise((o=>{r=o}))),this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:o=>{var s;this.pe=null;var a=o.statusCode;if(a!==200||!o.json){var l="Surveys API could not be loaded, status: "+a;wi.error(l);var c={isLoaded:!1,error:l};return t([],c),void(r==null||r({surveys:[],context:c}))}var u,d=o.json.surveys||[],f=d.filter((g=>(function(y){return!(!y.start_date||y.end_date)})(g)&&((function(y){var v;return!((v=y.conditions)==null||(v=v.events)==null||(v=v.values)==null||!v.length)})(g)||(function(y){var v;return!((v=y.conditions)==null||(v=v.actions)==null||(v=v.values)==null||!v.length)})(g))));f.length>0&&((u=this._surveyEventReceiver)==null||u.register(f)),(s=this._instance.persistence)==null||s.register({[RV]:d});var p={isLoaded:!0};t(d,p),r?.({surveys:d,context:p})}}))}me(t){for(var n of this.fe)try{if(!t.isLoaded)return n([],t);this.getSurveys(n)}catch(r){wi.error("Error in survey callback",r)}}getActiveMatchingSurveys(t,n){if(n===void 0&&(n=!1),!Wr(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,n);wi.warn("init was not called")}ye(t){var n=null;return this.getSurveys((r=>{var i;n=(i=r.find((o=>o.id===t)))!==null&&i!==void 0?i:null})),n}be(t){if(Wr(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof t=="string"?this.ye(t):t;return n?this._surveyManager.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(Wr(this._surveyManager))return wi.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.be(t);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(t,n){return Wr(this._surveyManager)?(wi.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((r=>{this.getSurveys((i=>{var o,s=(o=i.find((l=>l.id===t)))!==null&&o!==void 0?o:null;if(s){var a=this.be(s);r({visible:a.eligible,disabledReason:a.reason})}else r({visible:!1,disabledReason:"Survey not found"})}),n)}))}renderSurvey(t,n){var r;if(Wr(this._surveyManager))wi.warn("init was not called");else{var i=typeof t=="string"?this.ye(t):t;if(i!=null&&i.id)if(Yet.includes(i.type)){var o=Bt?.querySelector(n);if(o)return(r=i.appearance)!=null&&r.surveyPopupDelaySeconds?(wi.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var s,a;wi.info("Rendering survey "+i.id+" with delay of "+((s=i.appearance)==null?void 0:s.surveyPopupDelaySeconds)+" seconds"),(a=this._surveyManager)==null||a.renderSurvey(i,o),wi.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,o);wi.warn("Survey element not found")}else wi.warn("Surveys of type "+i.type+" cannot be rendered in the app");else wi.warn("Survey not found")}}displaySurvey(t,n){var r;if(Wr(this._surveyManager))wi.warn("init was not called");else{var i=this.ye(t);if(i){var o=i;if((r=i.appearance)!=null&&r.surveyPopupDelaySeconds&&n.ignoreDelay&&(o=Ht({},i,{appearance:Ht({},i.appearance,{surveyPopupDelaySeconds:0})})),n.ignoreConditions===!1){var s=this.canRenderSurvey(i);if(!s.visible)return void wi.warn("Survey is not eligible to be displayed: ",s.disabledReason)}n.displayType!==P2e.Inline?this._surveyManager.handlePopoverSurvey(o):this.renderSurvey(o,n.selector)}else wi.warn("Survey not found")}}cancelPendingSurvey(t){Wr(this._surveyManager)?wi.warn("init was not called"):this._surveyManager.cancelSurvey(t)}handlePageUnload(){var t;(t=this._surveyManager)==null||t.handlePageUnload()}}var P2=Ao("[Conversations]");class ett{constructor(t){this.we=void 0,this._conversationsManager=null,this.xe=!1,this.Ee=null,this._instance=t}onRemoteConfig(t){if(!this._instance.config.disable_conversations){var n=t.conversations;Wr(n)||(Sh(n)?this.we=n:(this.we=n.enabled,this.Ee=n),this.loadIfEnabled())}}reset(){var t;(t=this._conversationsManager)==null||t.reset(),this._conversationsManager=null,this.we=void 0,this.Ee=null}loadIfEnabled(){if(!this._conversationsManager&&!this.xe&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var t=bn?.__PosthogExtensions__;if(t&&!Ot(this.we)&&this.we)if(this.Ee&&this.Ee.token){this.xe=!0;try{var n=t.initConversations;if(n)return this.$e(n),void(this.xe=!1);var r=t.loadExternalDependency;if(!r)return void this.Se("PostHog loadExternalDependency extension not found.");r(this._instance,"conversations",(i=>{i||!t.initConversations?this.Se("Could not load conversations script",i):this.$e(t.initConversations),this.xe=!1}))}catch(i){this.Se("Error initializing conversations",i),this.xe=!1}}else P2.error("Conversations enabled but missing token in remote config.")}}$e(t){if(this.Ee)try{this._conversationsManager=t(this.Ee,this._instance),P2.info("Conversations loaded successfully")}catch(n){this.Se("Error completing conversations initialization",n)}else P2.error("Cannot complete initialization: remote config is null")}Se(t,n){P2.error(t,n),this._conversationsManager=null,this.xe=!1}enable(){this._conversationsManager?this._conversationsManager.enable():P2.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!Ud(this._conversationsManager)}isEnabled(){return this.we===!0}isWidgetEnabled(){var t;return((t=this.Ee)==null?void 0:t.widgetEnabled)===!0}isWidgetVisible(){var t,n;return(t=(n=this._conversationsManager)==null?void 0:n.isWidgetVisible())!==null&&t!==void 0&&t}}var Yue=Ao("[RateLimiter]");class ttt{constructor(t){var n,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var o=i.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach((s=>{Yue.info((s||"events")+" is quota limited."),this.serverLimits[s]=new Date().getTime()+6e4}))}catch(s){return void Yue.warn('could not rate limit - continuing. Error: "'+s?.message+'"',{text:o})}},this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var n,r,i;t===void 0&&(t=!1);var o=new Date().getTime(),s=(n=(r=this.instance.persistence)==null?void 0:r.get_property(AV))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:o};s.tokens+=(o-s.last)/1e3*this.captureEventsPerSecond,s.last=o,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var a=s.tokens<1;return a||t||(s.tokens=Math.max(0,s.tokens-1)),!a||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(i=this.instance.persistence)==null||i.set_property(AV,s),{isRateLimited:a,remainingTokens:s.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var xy=Ao("[RemoteConfig]");class ntt{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=bn._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}ke(t){var n,r;(n=bn.__PosthogExtensions__)!=null&&n.loadExternalDependency?(r=bn.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",(()=>t(this.remoteConfig))):(xy.error("PostHog Extensions not found. Cannot load remote config."),t())}Pe(t){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{t(n.json)}})}load(){try{if(this.remoteConfig)return xy.info("Using preloaded remote config",this.remoteConfig),void this.yi(this.remoteConfig);if(this._instance.O())return void xy.warn("Remote config is disabled. Falling back to local config.");this.ke((t=>{if(!t)return xy.info("No config found after loading remote JS config. Falling back to JSON."),void this.Pe((n=>{this.yi(n)}));this.yi(t)}))}catch(t){xy.error("Error loading remote config",t)}}yi(t){t?this._instance.config.__preview_remote_config?(this._instance.yi(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):xy.info("__preview_remote_config is disabled. Logging config instead",t):xy.error("Failed to fetch remote config from PostHog.")}}var FV=3e3;class rtt{constructor(t,n){this.Te=!0,this.Ie=[],this.Ce=Af(n?.flush_interval_ms||FV,250,5e3,zt.createLogger("flush interval"),FV),this.Re=t}enqueue(t){this.Ie.push(t),this.Fe||this.Me()}unload(){this.Oe();var t=this.Ie.length>0?this.Ae():{},n=Object.values(t);[...n.filter((r=>r.url.indexOf("/e")===0)),...n.filter((r=>r.url.indexOf("/e")!==0))].map((r=>{this.Re(Ht({},r,{transport:"sendBeacon"}))}))}enable(){this.Te=!1,this.Me()}Me(){var t=this;this.Te||(this.Fe=setTimeout((()=>{if(this.Oe(),this.Ie.length>0){var n=this.Ae(),r=function(){var o=n[i],s=new Date().getTime();o.data&&qr(o.data)&&_i(o.data,(a=>{a.offset=Math.abs(a.timestamp-s),delete a.timestamp})),t.Re(o)};for(var i in n)r()}}),this.Ce))}Oe(){clearTimeout(this.Fe),this.Fe=void 0}Ae(){var t={};return _i(this.Ie,(n=>{var r,i=n,o=(i?i.batchKey:null)||i.url;Ot(t[o])&&(t[o]=Ht({},i,{data:[]})),(r=t[o].data)==null||r.push(i.data)})),this.Ie=[],t}}var itt=["retriesPerformedSoFar"];let ott=class{constructor(t){this.De=!1,this.je=3e3,this.Ie=[],this._instance=t,this.Ie=[],this.Le=!0,!Ot(Ve)&&"onLine"in Ve.navigator&&(this.Le=Ve.navigator.onLine,this.Ne=()=>{this.Le=!0,this.Lt()},this.Ue=()=>{this.Le=!1},Bo(Ve,"online",this.Ne),Bo(Ve,"offline",this.Ue))}get length(){return this.Ie.length}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=ECe(t,itt);Kf(n)&&n>0&&(r.url=v5(r.url,{retry_count:n})),this._instance._send_request(Ht({},r,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.ze(Ht({retriesPerformedSoFar:n},r)):r.callback==null||r.callback(i)}}))}ze(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=(function(s){var a=3e3*Math.pow(2,s),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)})(n),i=Date.now()+r;this.Ie.push({retryAt:i,requestOptions:t});var o="Enqueued failed request for retry in "+r;navigator.onLine||(o+=" (Browser is offline)"),zt.warn(o),this.De||(this.De=!0,this.He())}He(){if(this.Be&&clearTimeout(this.Be),this.Ie.length===0)return this.De=!1,void(this.Be=void 0);this.Be=setTimeout((()=>{this.Le&&this.Ie.length>0&&this.Lt(),this.He()}),this.je)}Lt(){var t=Date.now(),n=[],r=this.Ie.filter((o=>o.retryAt<t||(n.push(o),!1)));if(this.Ie=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.Be&&(clearTimeout(this.Be),this.Be=void 0),this.De=!1,Ot(Ve)||(this.Ne&&(Ve.removeEventListener("online",this.Ne),this.Ne=void 0),this.Ue&&(Ve.removeEventListener("offline",this.Ue),this.Ue=void 0)),this.Ie))try{this._instance._send_request(Ht({},t,{transport:"sendBeacon"}))}catch(n){zt.error(n)}this.Ie=[]}};class stt{constructor(t){this.qe=()=>{var n,r,i,o;this.We||(this.We={});var s=this.scrollElement(),a=this.scrollY(),l=s?Math.max(0,s.scrollHeight-s.clientHeight):0,c=a+(s?.clientHeight||0),u=s?.scrollHeight||0;this.We.lastScrollY=Math.ceil(a),this.We.maxScrollY=Math.max(a,(n=this.We.maxScrollY)!==null&&n!==void 0?n:0),this.We.maxScrollHeight=Math.max(l,(r=this.We.maxScrollHeight)!==null&&r!==void 0?r:0),this.We.lastContentY=c,this.We.maxContentY=Math.max(c,(i=this.We.maxContentY)!==null&&i!==void 0?i:0),this.We.maxContentHeight=Math.max(u,(o=this.We.maxContentHeight)!==null&&o!==void 0?o:0)},this._instance=t}getContext(){return this.We}resetContext(){var t=this.We;return setTimeout(this.qe,0),t}startMeasuringScrollPosition(){Bo(Ve,"scroll",this.qe,{capture:!0}),Bo(Ve,"scrollend",this.qe,{capture:!0}),Bo(Ve,"resize",this.qe)}scrollElement(){if(!this._instance.config.scroll_root_selector)return Ve?.document.documentElement;var t=qr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of t){var r=Ve?.document.querySelector(n);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return Ve&&(Ve.scrollY||Ve.pageYOffset||Ve.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return Ve&&(Ve.scrollX||Ve.pageXOffset||Ve.document.documentElement.scrollLeft)||0}}var att=e=>w2e(e?.config.mask_personal_data_properties,e?.config.custom_personal_data_properties);class Xue{constructor(t,n,r,i){this.Ge=o=>{var s=this.Ve();if(!s||s.sessionId!==o){var a={sessionId:o,props:this.Je(this._instance)};this.Ke.register({[MV]:a})}},this._instance=t,this.Ye=n,this.Ke=r,this.Je=i||att,this.Ye.onSessionId(this.Ge)}Ve(){return this.Ke.props[MV]}getSetOnceProps(){var t,n=(t=this.Ve())==null?void 0:t.props;return n?"r"in n?S2e(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var t={};return _i(KY(this.getSetOnceProps()),((n,r)=>{r==="$current_url"&&(r="url"),t["$session_entry_"+vV(r)]=n})),t}}var m8=Ao("[SessionId]");class Kue{on(t,n){return this.Xe.on(t,n)}constructor(t,n,r){var i;if(this.Qe=[],this.Ze=void 0,this.Xe=new nX,this.tr=(u,d)=>Math.abs(u-d)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.R=t.config,this.Ke=t.persistence,this.ir=void 0,this.er=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.rr=n||ym,this.sr=r||ym;var o=this.R.persistence_name||this.R.token,s=this.R.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Af(s,60,36e3,m8.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.nr(),this.ar="ph_"+o+"_window_id",this.lr="ph_"+o+"_primary_window_exists",this.ur()){var a=js.W(this.ar),l=js.W(this.lr);a&&!l?this.ir=a:js.V(this.ar),js.G(this.lr,!0)}if((i=this.R.bootstrap)!=null&&i.sessionID)try{var c=(u=>{var d=u.replace(/-/g,"");if(d.length!==32)throw new Error("Not a valid UUID");if(d[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(d.substring(0,12),16)})(this.R.bootstrap.sessionID);this.hr(this.R.bootstrap.sessionID,new Date().getTime(),c)}catch(u){m8.error("Invalid sessionID in bootstrap",u)}this.dr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Ot(this.Qe)&&(this.Qe=[]),this.Qe.push(t),this.er&&t(this.er,this.ir),()=>{this.Qe=this.Qe.filter((n=>n!==t))}}ur(){return this.R.persistence!=="memory"&&!this.Ke.Si&&js.H()}vr(t){t!==this.ir&&(this.ir=t,this.ur()&&js.G(this.ar,t))}cr(){return this.ir?this.ir:this.ur()?js.W(this.ar):null}hr(t,n,r){t===this.er&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this.er=t,this.Ke.register({[l5]:[n,t,r]}))}pr(){var t=this.Ke.props[l5];return qr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.hr(null,null,null)}destroy(){clearTimeout(this.gr),this.gr=void 0,this.Ze&&Ve&&(Ve.removeEventListener("beforeunload",this.Ze,{capture:!1}),this.Ze=void 0),this.Qe=[]}dr(){this.Ze=()=>{this.ur()&&js.V(this.lr)},Bo(Ve,"beforeunload",this.Ze,{capture:!1})}checkAndGetSessionAndWindowId(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.R.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=n||new Date().getTime(),[i,o,s]=this.pr(),a=this.cr(),l=Kf(s)&&s>0&&Math.abs(r-s)>864e5,c=!1,u=!o,d=!u&&!t&&this.tr(r,i);u||d||l?(o=this.rr(),a=this.sr(),m8.info("new session ID generated",{sessionId:o,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),s=r,c=!0):a||(a=this.sr(),c=!0);var f=i===0||!t||l?r:i,p=s===0?new Date().getTime():s;return this.vr(a),this.hr(o,f,p),t||this.nr(),c&&this.Qe.forEach((g=>g(o,a,c?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}:void 0))),{sessionId:o,windowId:a,sessionStartTimestamp:p,changeReason:c?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:i}}nr(){clearTimeout(this.gr),this.gr=setTimeout((()=>{var[t]=this.pr();if(this.tr(new Date().getTime(),t)){var n=this.er;this.resetSessionId(),this.Xe.emit("forcedIdleReset",{idleSessionId:n})}}),1.1*this.sessionTimeoutMs)}}var ltt=["$set_once","$set"],Wg=Ao("[SiteApps]");class ctt{constructor(t){this._instance=t,this._r=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}mr(t,n){if(n){var r=this.globalsForEvent(n);this._r.push(r),this._r.length>1e3&&(this._r=this._r.slice(10))}}get siteAppLoaders(){var t;return(t=bn._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Hi(this.mr.bind(this));this.yr=()=>{t(),this._r=[],this.yr=void 0}}}globalsForEvent(t){var n,r,i,o,s,a,l;if(!t)throw new Error("Event payload is required");var c={},u=this._instance.get_property("$groups")||[],d=this._instance.get_property("$stored_group_properties")||{};for(var[f,p]of Object.entries(d))c[f]={id:u[f],type:f,properties:p};var{$set_once:g,$set:y}=t;return{event:Ht({},ECe(t,ltt),{properties:Ht({},t.properties,y?{$set:Ht({},(n=(r=t.properties)==null?void 0:r.$set)!==null&&n!==void 0?n:{},y)}:{},g?{$set_once:Ht({},(i=(o=t.properties)==null?void 0:o.$set_once)!==null&&i!==void 0?i:{},g)}:{}),elements_chain:(s=(a=t.properties)==null?void 0:a.$elements_chain)!==null&&s!==void 0?s:"",distinct_id:(l=t.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:c}}setupSiteApp(t){var n=this.apps[t.id],r=()=>{var a;!n.errored&&this._r.length&&(Wg.info("Processing "+this._r.length+" events for site app with id "+t.id),this._r.forEach((l=>n.processEvent==null?void 0:n.processEvent(l))),n.processedBuffer=!0),Object.values(this.apps).every((l=>l.processedBuffer||l.errored))&&((a=this.yr)==null||a.call(this))},i=!1,o=a=>{n.errored=!a,n.loaded=!0,Wg.info("Site app with id "+t.id+" "+(a?"loaded":"errored")),i&&r()};try{var{processEvent:s}=t.init({posthog:this._instance,callback:a=>{o(a)}});s&&(n.processEvent=s),i=!0}catch(a){Wg.error("Error while initializing PostHog app with config id "+t.id,a),o(!1)}if(i&&n.loaded)try{r()}catch(a){Wg.error("Error while processing buffered events PostHog app with config id "+t.id,a),n.errored=!0}}br(){var t=this.siteAppLoaders||[];for(var n of t)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of t)this.setupSiteApp(r)}wr(t){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(t);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(n)}catch(i){Wg.error("Error while processing event "+t.event+" for site app "+r.id,i)}}}onRemoteConfig(t){var n,r,i,o=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.br(),void this._instance.on("eventCaptured",(c=>this.wr(c)))):void Wg.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.yr)==null||r.call(this),(i=t.siteApps)!=null&&i.length)if(this.isEnabled){var s=function(c){var u;bn["__$$ph_site_app_"+c]=o._instance,(u=bn.__PosthogExtensions__)==null||u.loadSiteApp==null||u.loadSiteApp(o._instance,l,(d=>{if(d)return Wg.error("Error while initializing PostHog app with config id "+c,d)}))};for(var{id:a,url:l}of t.siteApps)s(a)}else Wg.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var O2e=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&sue(n,t))return!0;try{var r=e?.userAgentData;if(r!=null&&r.brands&&r.brands.some((i=>sue(i?.brand,t))))return!0}catch{}return!!e.webdriver},Dk=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),Zue="i.posthog.com";class utt{constructor(t){this.Er={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,n=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+Zue,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.Er[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Er[this.apiHost]=Dk.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Er[this.apiHost]=Dk.EU:this.Er[this.apiHost]=Dk.CUSTOM),this.Er[this.apiHost]}endpointFor(t,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),t==="ui")return this.uiHost+n;if(t==="flags")return this.flagsApiHost+n;if(this.region===Dk.CUSTOM)return this.apiHost+n;var r=Zue+n;switch(t){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var dtt={icontains:(e,t)=>!!Ve&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!Ve&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!Ve&&b5(t.href,e),not_regex:(e,t)=>!!Ve&&!b5(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class na{constructor(t){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),n.getWebExperiments((i=>{na.$r("retrieved web experiments from the server"),n.Sr=new Map,i.forEach((o=>{if(o.feature_flag_key){var s;n.Sr&&(na.$r("setting flag key ",o.feature_flag_key," to web experiment ",o),(s=n.Sr)==null||s.set(o.feature_flag_key,o));var a=n._instance.getFeatureFlag(o.feature_flag_key);Jo(a)&&o.variants[a]&&n.kr(o.name,a,o.variants[a].transforms)}else if(o.variants)for(var l in o.variants){var c=o.variants[l];na.Pr(c)&&n.kr(o.name,l,c.transforms)}}))}),r)},this._instance=t,this._instance.onFeatureFlags((r=>{this.onFeatureFlags(r)}))}onFeatureFlags(t){if(this._is_bot())na.$r("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Wr(this.Sr))return this.Sr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();na.$r("applying feature flags",t),t.forEach((n=>{var r;if(this.Sr&&(r=this.Sr)!=null&&r.has(n)){var i,o=this._instance.getFeatureFlag(n),s=(i=this.Sr)==null?void 0:i.get(n);o&&s!=null&&s.variants[o]&&this.kr(s.name,o,s.variants[o].transforms)}}))}}previewWebExperiment(){var t=na.getWindowLocation();if(t!=null&&t.search){var n=h5(t?.search,"__experiment_id"),r=h5(t?.search,"__experiment_variant");n&&r&&(na.$r("previewing web experiments "+n+" && "+r),this.getWebExperiments((i=>{this.Tr(parseInt(n),r,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this._instance.config.disable_web_experiments&&!r)return t([]);var i=this._instance.get_property("$web_experiments");if(i&&!n)return t(i);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:o=>{if(o.statusCode!==200||!o.json)return t([]);var s=o.json.experiments||[];return t(s)}})}Tr(t,n,r){var i=r.filter((o=>o.id===t));i&&i.length>0&&(na.$r("Previewing web experiment ["+i[0].name+"] with variant ["+n+"]"),this.kr(i[0].name,n,i[0].variants[n].transforms))}static Pr(t){return!Wr(t.conditions)&&na.Ir(t)&&na.Cr(t)}static Ir(t){var n;if(Wr(t.conditions)||Wr((n=t.conditions)==null?void 0:n.url))return!0;var r,i,o,s=na.getWindowLocation();return!!s&&((r=t.conditions)==null||!r.url||dtt[(i=(o=t.conditions)==null?void 0:o.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,s))}static getWindowLocation(){return Ve?.location}static Cr(t){var n;if(Wr(t.conditions)||Wr((n=t.conditions)==null?void 0:n.utm))return!0;var r=y2e();if(r.utm_source){var i,o,s,a,l,c,u,d,f=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((o=t.conditions)==null||(o=o.utm)==null?void 0:o.utm_campaign)==r.utm_campaign,p=(s=t.conditions)==null||(s=s.utm)==null||!s.utm_source||((a=t.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==r.utm_source,g=(l=t.conditions)==null||(l=l.utm)==null||!l.utm_medium||((c=t.conditions)==null||(c=c.utm)==null?void 0:c.utm_medium)==r.utm_medium,y=(u=t.conditions)==null||(u=u.utm)==null||!u.utm_term||((d=t.conditions)==null||(d=d.utm)==null?void 0:d.utm_term)==r.utm_term;return f&&g&&y&&p}return!1}static $r(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];zt.info("[WebExperiments] "+t,r)}kr(t,n,r){this._is_bot()?na.$r("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach((i=>{if(i.selector){var o;na.$r("applying transform of variant "+n+" for experiment "+t+" ",i);var s=(o=document)==null?void 0:o.querySelectorAll(i.selector);s?.forEach((a=>{var l=a;i.html&&(l.innerHTML=i.html),i.css&&l.setAttribute("style",i.css)}))}})):na.$r("Control variants leave the page unmodified.")}_is_bot(){return pc&&this._instance?O2e(pc,this._instance.config.custom_blocked_useragents):void 0}}var ftt=Ao("[PostHog ExternalIntegrations]"),ptt={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class htt{constructor(t){this._instance=t}it(t,n){var r;(r=bn.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,t,(i=>{if(i)return ftt.error("failed to load script",i);n()}))}startIfEnabledOrStop(){var t=this,n=function(s){var a,l,c;!i||(a=bn.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[s]||t.it(ptt[s],(()=>{var u;(u=bn.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[s])==null||u.start(t._instance)})),!i&&(l=bn.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[s]&&((c=bn.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[s])==null||c.stop())};for(var[r,i]of Object.entries((o=this._instance.config.integrations)!==null&&o!==void 0?o:{})){var o;n(r)}}}var LV="[SessionRecording]",D2=Ao(LV);class Que{get started(){var t;return!((t=this.Rr)==null||!t.isStarted)}get status(){return this.Rr?this.Rr.status:this.Fr&&!this.Mr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.Fr=!1,this.Or=void 0,this._instance=t,!this._instance.sessionManager)throw D2.error("started without valid sessionManager"),new Error(LV+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(LV+' cannot be used with cookieless_mode="always"')}get Mr(){var t,n=!((t=this._instance.get_property(n8))==null||!t.enabled),r=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return Ve&&n&&r&&!i}startIfEnabledOrStop(t){var n;if(!this.Mr||(n=this.Rr)==null||!n.isStarted){var r=!Ot(Object.assign)&&!Ot(Array.from);this.Mr&&r?(this.Ar(t),D2.info("starting")):this.stopRecording()}}Ar(t){var n,r,i;this.Mr&&(bn!=null&&(n=bn.__PosthogExtensions__)!=null&&(n=n.rrweb)!=null&&n.record&&(r=bn.__PosthogExtensions__)!=null&&r.initSessionRecording?this.Dr(t):(i=bn.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.jr,(o=>{if(o)return D2.error("could not load recorder",o);this.Dr(t)})))}stopRecording(){var t,n;(t=this.Or)==null||t.call(this),this.Or=void 0,(n=this.Rr)==null||n.stop()}Lr(){var t;(t=this._instance.persistence)==null||t.unregister(QCe)}Nr(t){if(this._instance.persistence){var n,r,i=this._instance.persistence,o=()=>{var s=t.sessionRecording===!1?void 0:t.sessionRecording,a=s?.sampleRate,l=Wr(a)?null:parseFloat(a);Wr(l)&&this.Lr();var c=s?.minimumDurationMilliseconds;i.register({[n8]:Ht({enabled:!!s},s,{networkPayloadCapture:Ht({capturePerformance:t.capturePerformance},s?.networkPayloadCapture),canvasRecording:{enabled:s?.recordCanvas,fps:s?.canvasFps,quality:s?.canvasQuality},sampleRate:l,minimumDurationMilliseconds:Ot(c)?null:c,endpoint:s?.endpoint,triggerMatchType:s?.triggerMatchType,masking:s?.masking,urlTriggers:s?.urlTriggers})})};o(),(n=this.Or)==null||n.call(this),this.Or=(r=this._instance.sessionManager)==null?void 0:r.onSessionId(o)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.Nr(t),this.Fr=!0,this.startIfEnabledOrStop()):this.Fr=!0:D2.info("skipping remote config with no sessionRecording",t)}log(t,n){var r;n===void 0&&(n="log"),(r=this.Rr)!=null&&r.log?this.Rr.log(t,n):D2.warn("log called before recorder was ready")}get jr(){var t,n,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(n8);return(r==null||(n=r.scriptConfig)==null?void 0:n.script)||"lazy-recorder"}Dr(t){var n,r;if((n=bn.__PosthogExtensions__)==null||!n.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.Rr||(this.Rr=(r=bn.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.Rr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.Rr.start(t)}onRRwebEmit(t){var n;(n=this.Rr)==null||n.onRRwebEmit==null||n.onRRwebEmit(t)}overrideLinkedFlag(){var t,n;this.Rr||(n=this._instance.persistence)==null||n.register({$replay_override_linked_flag:!0}),(t=this.Rr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,n;this.Rr||(n=this._instance.persistence)==null||n.register({$replay_override_sampling:!0}),(t=this.Rr)==null||t.overrideSampling()}overrideTrigger(t){var n,r;this.Rr||(r=this._instance.persistence)==null||r.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(n=this.Rr)==null||n.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.Rr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,n){var r;return!((r=this.Rr)==null||!r.tryAddCustomEvent(t,n))}}var hE={},NV=()=>{},j1="posthog",I2e=!zet&&pl?.indexOf("MSIE")===-1&&pl?.indexOf("Mozilla")===-1,Jue=e=>{var t;return Ht({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:VJe(Bt?.location),persistence:"localStorage+cookie",persistence_name:"",cookie_persisted_properties:[],loaded:NV,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:ml&&Jo(ml?.search)&&ml.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(Ve==null||(t=Ve.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:n=>{var r="Bad HTTP status: "+n.statusCode+" "+n.text;zt.error(r)},get_device_id:n=>n,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:FV},error_tracking:{},_onCapture:NV,__preview_eager_load_replay:!1},(n=>({rageclick:!(n&&n>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(n&&n>="2025-05-24")||"history_change",session_recording:n&&n>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},ede=e=>{var t={};Ot(e.process_person)||(t.person_profiles=e.process_person),Ot(e.xhr_headers)||(t.request_headers=e.xhr_headers),Ot(e.cookie_name)||(t.persistence_name=e.cookie_name),Ot(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Ot(e.store_google)||(t.save_campaign_params=e.store_google),Ot(e.verbose)||(t.debug=e.verbose);var n=ko({},t,e);return qr(e.property_blacklist)&&(Ot(e.property_denylist)?n.property_denylist=e.property_blacklist:qr(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:zt.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class gtt{constructor(){this.__forceAllowLocalhost=!1}get Ur(){return this.__forceAllowLocalhost}set Ur(t){zt.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class xF{get decideEndpointWasHit(){var t,n;return(t=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,n;return(t=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new gtt,this.zr=!1,this.version=rh.LIB_VERSION,this.Hr=new nX,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Jue(),this.SentryIntegration=bet,this.sentryIntegration=t=>(function(n,r){var i=m2e(n,r);return{name:g2e,processEvent:o=>i(o)}})(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Br=!1,this.qr=null,this.Wr=null,this.Gr=null,this.featureFlags=new Het(this),this.toolbar=new wet(this),this.scrollManager=new stt(this),this.pageViewManager=new jue(this),this.surveys=new Jet(this),this.conversations=new ett(this),this.experiments=new na(this),this.exceptions=new Bet(this),this.rateLimiter=new ttt(this),this.requestRouter=new utt(this),this.consent=new pet(this),this.externalIntegrations=new htt(this),this.people={set:(t,n,r)=>{var i=Jo(t)?{[t]:n}:t;this.setPersonProperties(i),r?.({})},set_once:(t,n,r)=>{var i=Jo(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r?.({})}},this.on("eventCaptured",(t=>zt.info('send "'+t?.event+'"',t)))}init(t,n,r){if(r&&r!==j1){var i,o=(i=hE[r])!==null&&i!==void 0?i:new xF;return o._init(t,n,r),hE[r]=o,hE[j1][r]=o,o}return this._init(t,n,r)}_init(t,n,r){var i;if(n===void 0&&(n={}),Ot(t)||bV(t))return zt.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},n.debug=this.Vr(n.debug),this.Jr=n,this.Kr=[],n.person_profiles&&(this.Wr=n.person_profiles),this.set_config(ko({},Jue(n.defaults),ede(n),{name:r,token:t})),this.config.on_xhr_error&&zt.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:uh.GZipJS;var o=this.Yr();this.persistence=new f8(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new f8(Ht({},this.config,{persistence:"sessionStorage"}),o);var s=Ht({},this.persistence.props),a=Ht({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Xr=new rtt((w=>this.Qr(w)),this.config.request_queue_config),this.Zr=new ott(this),this.__request_queue=[];var l=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new Kue(this),this.sessionPropsManager=new Xue(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(zt.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.ts(l)}),0)):(zt.info("Initializing extensions synchronously"),this.ts(l)),rh.DEBUG=rh.DEBUG||this.config.debug,rh.DEBUG&&zt.info("Starting in debug mode",{this:this,config:n,thisC:Ht({},this.config),p:s,s:a}),((i=n.bootstrap)==null?void 0:i.distinctID)!==void 0){var c,u,d=this.config.get_device_id(ym()),f=(c=n.bootstrap)!=null&&c.isIdentifiedID?d:n.bootstrap.distinctID;this.persistence.set_property(ih,(u=n.bootstrap)!=null&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:f})}if(this.es()){var p,g,y=Object.keys(((p=n.bootstrap)==null?void 0:p.featureFlags)||{}).filter((w=>{var S;return!((S=n.bootstrap)==null||(S=S.featureFlags)==null||!S[w])})).reduce(((w,S)=>{var C;return w[S]=((C=n.bootstrap)==null||(C=C.featureFlags)==null?void 0:C[S])||!1,w}),{}),v=Object.keys(((g=n.bootstrap)==null?void 0:g.featureFlagPayloads)||{}).filter((w=>y[w])).reduce(((w,S)=>{var C,k;return(C=n.bootstrap)!=null&&(C=C.featureFlagPayloads)!=null&&C[S]&&(w[S]=(k=n.bootstrap)==null||(k=k.featureFlagPayloads)==null?void 0:k[S]),w}),{});this.featureFlags.receivedFeatureFlags({featureFlags:y,featureFlagPayloads:v})}if(l)this.register_once({distinct_id:_2,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id(ym());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(ih,"anonymous")}return Bo(Ve,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?vet(this,(()=>this.rs())):this.rs(),jm(this.config._onCapture)&&this.config._onCapture!==NV&&(zt.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(w=>this.config._onCapture(w.event,w)))),this.config.ip&&zt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}ts(t){var n=performance.now();this.historyAutocapture=new yet(this),this.historyAutocapture.startIfEnabled();var r=[];r.push((()=>{new Cet(this).startIfEnabledOrStop()})),r.push((()=>{var i;this.siteApps=new ctt(this),(i=this.siteApps)==null||i.init()})),t||r.push((()=>{this.sessionRecording=new Que(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||r.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),r.push((()=>{this.autocapture=new iet(this),this.autocapture.startIfEnabled()})),r.push((()=>{this.surveys.loadIfEnabled()})),r.push((()=>{this.conversations.loadIfEnabled()})),r.push((()=>{this.productTours=new qet(this),this.productTours.loadIfEnabled()})),r.push((()=>{this.heatmaps=new Pet(this),this.heatmaps.startIfEnabled()})),r.push((()=>{this.webVitalsAutocapture=new Met(this)})),r.push((()=>{this.exceptionObserver=new met(this),this.exceptionObserver.startIfEnabledOrStop()})),r.push((()=>{this.deadClicksAutocapture=new h2e(this,get),this.deadClicksAutocapture.startIfEnabled()})),r.push((()=>{if(this.ss){var i=this.ss;this.ss=void 0,this.yi(i)}})),this.ns(r,n)}ns(t,n){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-n>=30&&t.length>0)return void setTimeout((()=>{this.ns(t,n)}),0);var r=t.shift();if(r)try{r()}catch(o){zt.error("Error initializing extension:",o)}}var i=Math.round(performance.now()-n);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&zt.info("PostHog extensions initialized ("+i+"ms)")}yi(t){var n,r,i,o,s,a,l,c,u;if(!Bt||!Bt.body)return zt.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.yi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.ss=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=lr(t.supportedCompression,uh.GZipJS)?uh.GZipJS:lr(t.supportedCompression,uh.Base64)?uh.Base64:void 0),(n=t.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Wr?this.Wr:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(t),(i=this.sessionRecording)==null||i.onRemoteConfig(t),(o=this.autocapture)==null||o.onRemoteConfig(t),(s=this.heatmaps)==null||s.onRemoteConfig(t),this.surveys.onRemoteConfig(t),this.conversations.onRemoteConfig(t),(a=this.productTours)==null||a.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}rs(){try{this.config.loaded(this)}catch(t){zt.critical("`loaded` function failed",t)}this.os(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.ls()}),1),new ntt(this).load(),this.featureFlags.flags()}os(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Xr)==null||t.enable())}_dom_loaded(){this.is_capturing()&&$m(this.__request_queue,(t=>this.Qr(t))),this.__request_queue=[],this.os()}_handle_unload(){var t,n;this.surveys.handlePageUnload(),this.config.request_batching?(this.us()&&this.capture("$pageleave"),(t=this.Xr)==null||t.unload(),(n=this.Zr)==null||n.unload()):this.us()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(I2e?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=v5(t.url,{ip:this.config.ip?1:0}),t.headers=Ht({},this.config.request_headers,t.headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(n=>{var r,i,o,s=Ht({},n);s.timeout=s.timeout||6e4,s.url=v5(s.url,{_:new Date().getTime().toString(),ver:rh.LIB_VERSION,compression:s.compression});var a=(r=s.transport)!==null&&r!==void 0?r:"fetch",l=EI.filter((u=>!s.disableTransport||!u.transport||!s.disableTransport.includes(u.transport))),c=(i=(o=XCe(l,(u=>u.transport===a)))==null?void 0:o.method)!==null&&i!==void 0?i:l[0].method;if(!c)throw new Error("No available transport method");c(s)})(Ht({},t,{callback:n=>{var r,i;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((r=(i=this.config).on_request_error)==null||r.call(i,n)),t.callback==null||t.callback(n)}}))))}Qr(t){this.Zr?this.Zr.retriableRequest(t):this._send_request(t)}_execute_array(t){var n,r=[],i=[],o=[];$m(t,(a=>{a&&(n=a[0],qr(n)?o.push(a):jm(a)?a.call(this):qr(a)&&n==="alias"?r.push(a):qr(a)&&n.indexOf("capture")!==-1&&jm(this[n])?o.push(a):i.push(a))}));var s=function(a,l){$m(a,(function(c){if(qr(c[0])){var u=l;_i(c,(function(d){u=u[d[0]].apply(u,d.slice(1))}))}else this[c[0]].apply(this,c.slice(1))}),l)};s(r,this),s(i,this),s(o,this)}es(){var t,n;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Xr){if(this.is_capturing())if(!Ot(t)&&Jo(t)){var o=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(o&&!this.config.__preview_capture_bot_pageviews)){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){n!=null&&n.$current_url&&!Jo(n?.$current_url)&&(zt.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var a=new Date,l=r?.timestamp||a,c=ym(),u={uuid:c,event:t,properties:this.calculateEventProperties(t,n||{},l,c)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&o&&(u.event="$bot_pageview",u.properties.$browser_type="bot"),s&&(u.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r?.$set&&(u.$set=r?.$set);var d,f=t!=="$groupidentify",p=this.hs(r?.$set_once,f);if(p&&(u.$set_once=p),(u=BJe(u,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=l,Ot(r?.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=a),t===Pk.DISMISSED||t===Pk.SENT){var g=n?.[g8.SURVEY_ID],y=n?.[g8.SURVEY_ITERATION];d={id:g,current_iteration:y},localStorage.getItem(Gue(d))||localStorage.setItem(Gue(d),"true"),u.$set=Ht({},u.$set,{[Get({id:g,current_iteration:y},t===Pk.SENT?"responded":"dismissed")]:!0})}else t===Pk.SHOWN&&(u.$set=Ht({},u.$set,{[g8.SURVEY_LAST_SEEN_DATE]:new Date().toISOString()}));var v=Ht({},u.properties.$set,u.$set);if(X1(v)||this.setPersonPropertiesForFlags(v),!Wr(this.config.before_send)){var x=this.ds(u);if(!x)return;u=x}this.Hr.emit("eventCaptured",u);var w={method:"POST",url:(i=r?._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:r?._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.Qr(w):this.Xr.enqueue(w),u}zt.critical("This capture call is ignored due to client rate limiting.")}}else zt.error("No event name provided to posthog.capture")}else zt.uninitializedWarning("posthog.capture")}Hi(t){return this.on("eventCaptured",(n=>t(n.event,n)))}calculateEventProperties(t,n,r,i,o){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var s=o?void 0:this.persistence.remove_event_timer(t),a=Ht({},n);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),t==="$snapshot"){var l=Ht({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!Jo(a.distinct_id)&&!Kf(a.distinct_id)||bV(a.distinct_id))&&zt.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var c,u=Ret(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:d,windowId:f}=this.sessionManager.checkAndGetSessionAndWindowId(o,r.getTime());a.$session_id=d,a.$window_id=f}this.sessionPropsManager&&ko(a,this.sessionPropsManager.getSessionProps());try{var p;this.sessionRecording&&ko(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(p=this.Zr)==null?void 0:p.length}catch(x){a.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===Dk.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),c=t!=="$pageview"||o?t!=="$pageleave"||o?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,i),a=ko(a,c),t==="$pageview"&&Bt&&(a.title=Bt.title),!Ot(s)){var g=r.getTime()-s;a.$duration=parseFloat((g/1e3).toFixed(3))}pl&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=ko({},u,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),qr(this.config.property_denylist)?_i(this.config.property_denylist,(function(x){delete a[x]})):zt.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var y=this.config.sanitize_properties;y&&(zt.error("sanitize_properties is deprecated. Use before_send instead"),a=y(a,t));var v=this.vs();return a.$process_person_profile=v,v&&!o&&this.cs("_calculate_event_properties"),a}hs(t,n){var r;if(n===void 0&&(n=!0),!this.persistence||!this.vs()||this.zr)return t;var i=this.persistence.get_initial_props(),o=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),s=ko({},i,o||{},t||{}),a=this.config.sanitize_properties;return a&&(zt.error("sanitize_properties is deprecated. Use before_send instead"),s=a(s,"$set_once")),n&&(this.zr=!0),X1(s)?void 0:s}register(t,n){var r;(r=this.persistence)==null||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)==null||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)==null||n.register(t)}unregister(t){var n;(n=this.persistence)==null||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)==null||n.unregister(t)}fs(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateFlags(t,n,r){var i=r!=null&&r.merge?this.featureFlags.getFlagVariants():{},o=r!=null&&r.merge?this.featureFlags.getFlagPayloads():{},s=Ht({},i,t),a=Ht({},o,n),l={};for(var[c,u]of Object.entries(s)){var d=typeof u=="string";l[c]={key:c,enabled:!!d||!!u,variant:d?u:void 0,reason:void 0,metadata:Ot(a?.[c])?void 0:{id:0,version:void 0,description:void 0,payload:a[c]}}}this.featureFlags.receivedFeatureFlags({flags:l})}updateEarlyAccessFeatureEnrollment(t,n,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n,r)}getEarlyAccessFeatures(t,n,r){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(t,n,r)}on(t,n){return this.Hr.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)==null?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t,n){n===void 0&&(n=!1),this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}displaySurvey(t,n){n===void 0&&(n=Xet),this.surveys.displaySurvey(t,n)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(t,n)}identify(t,n,r){if(!this.__loaded||!this.persistence)return zt.uninitializedWarning("posthog.identify");if(Kf(t)&&(t=t.toString(),zt.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))zt.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==_2){if(this.cs("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(Ek)&&(this.unregister(Ek),this.register({distinct_id:t}));var s=(this.persistence.get_property(ih)||"anonymous")==="anonymous";t!==i&&s?(this.persistence.set_property(ih,"identified"),this.setPersonPropertiesForFlags(Ht({},r||{},n||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.Gr=Bue(t,n,r),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(c5))}}else zt.critical('The string "'+_2+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else zt.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){if((t||n)&&this.cs("posthog.setPersonProperties")){var r=Bue(this.get_distinct_id(),t,n);this.Gr!==r?(this.setPersonPropertiesForFlags(Ht({},n||{},t||{})),this.capture("$set",{$set:t||{},$set_once:n||{}}),this.Gr=r):zt.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,n,r){if(t&&n){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ht({},i,{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}else zt.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0),this.cs("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,o;if(zt.info("reset"),!this.__loaded)return zt.uninitializedWarning("posthog.reset");var s=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(ih,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.Gr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:_2,$device_id:null},"");else{var a=this.config.get_device_id(ym());this.register_once({distinct_id:a,$device_id:t?a:s},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(t!=null&&t.withTimestamp&&r){var o,s=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!r)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-s,0)}return i}alias(t,n){return t===this.get_property(KCe)?(zt.critical("Attempting to create alias for existing People user - aborting."),-2):this.cs("posthog.alias")?(Ot(n)&&(n=this.get_distinct_id()),t!==n?(this.fs(Ek,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(zt.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n=Ht({},this.config);if(hs(t)){var r,i,o,s,a,l,c;ko(this.config,ede(t));var u=this.Yr();(r=this.persistence)==null||r.update_config(this.config,n,u),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new f8(Ht({},this.config,{persistence:"sessionStorage"}),u);var d=this.Vr(this.config.debug);Sh(d)&&(this.config.debug=d),Sh(this.config.debug)&&(this.config.debug?(rh.DEBUG=!0,Qi.H()&&Qi.G("ph_debug","true"),zt.info("set_config",{config:t,oldConfig:n,newConfig:Ht({},this.config)})):(rh.DEBUG=!1,Qi.H()&&Qi.V("ph_debug"))),(i=this.exceptionObserver)==null||i.onConfigChange(),(o=this.sessionRecording)==null||o.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),(l=this.exceptionObserver)==null||l.startIfEnabledOrStop(),this.surveys.loadIfEnabled(),this.ps(),(c=this.externalIntegrations)==null||c.startIfEnabledOrStop()}}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,o,s,a,l;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),r.sampling&&((o=this.sessionRecording)==null||o.overrideSampling()),r.linked_flag&&((s=this.sessionRecording)==null||s.overrideLinkedFlag()),r.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),r.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,n){var r=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(t,{handled:!0,syntheticException:r});return this.exceptions.sendExceptionEvent(Ht({},i,n))}startExceptionAutocapture(t){this.set_config({capture_exceptions:t==null||t})}stopExceptionAutocapture(){this.set_config({capture_exceptions:!1})}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)==null?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)==null?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:j1;return n!==j1&&(n=j1+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)==null?void 0:t.get_property(ih))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(ih))==="identified"}vs(){var t,n;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&X1(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Ek])&&((n=this.persistence)==null||(n=n.props)==null||!n[d5]))}us(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.vs()||this.cs("posthog.createPersonProfile")&&this.setPersonProperties({},{})}cs(t){return this.config.person_profiles==="never"?(zt.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.fs(d5,!0),!0)}Yr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!n}ps(){var t,n,r,i,o=this.Yr();return((t=this.persistence)==null?void 0:t.Si)!==o&&((r=this.persistence)==null||r.set_disabled(o)),((n=this.sessionPersistence)==null?void 0:n.Si)!==o&&((i=this.sessionPersistence)==null||i.set_disabled(o)),o}opt_in_capturing(t){var n;if(this.config.cookieless_mode!=="always"){var r,i,o;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(r=this.sessionManager)==null||r.destroy(),(i=this.pageViewManager)==null||i.destroy(),this.sessionManager=new Kue(this),this.pageViewManager=new jue(this),this.persistence&&(this.sessionPropsManager=new Xue(this,this.sessionManager,this.persistence)),this.sessionRecording=new Que(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.ps(),this.os(),(n=this.sessionRecording)==null||n.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Ot(t?.captureEventName)||t!=null&&t.captureEventName)&&this.capture((o=t?.captureEventName)!==null&&o!==void 0?o:"$opt_in",t?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.ls()}else zt.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,n,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.ps(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:_2,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),(n=this.pageViewManager)==null||n.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.ls())):zt.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===oh.GRANTED?"granted":t===oh.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.ps()}_is_bot(){return pc?O2e(pc,this.config.custom_blocked_useragents):void 0}ls(){Bt&&(Bt.visibilityState==="visible"?this.Br||(this.Br=!0,this.capture("$pageview",{title:Bt.title},{send_instantly:!0}),this.qr&&(Bt.removeEventListener("visibilitychange",this.qr),this.qr=null)):this.qr||(this.qr=this.ls.bind(this),Bo(Bt,"visibilitychange",this.qr)))}debug(t){t===!1?(Ve?.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(Ve?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,n,r,i,o,s,a,l=this.Jr||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(zt.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",i=!1,o=zt,s=(n="advanced_disable_flags")in(t=l)&&!Ot(t[n]),a=r in t&&!Ot(t[r]),s?t[n]:a?(o&&o.warn("Config field '"+r+"' is deprecated. Please use '"+n+"' instead. The old field will be removed in a future major version."),t[r]):i)}ds(t){if(Wr(this.config.before_send))return t;var n=qr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),Wr(r)){var o="Event '"+t.event+"' was rejected in beforeSend function";return iJe(t.event)?zt.warn(o+". This can cause unexpected behavior."):zt.info(o),null}r.properties&&!X1(r.properties)||zt.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var t;return(t=this.pageViewManager.Kt)==null?void 0:t.pageViewId}captureTraceFeedback(t,n){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:n})}captureTraceMetric(t,n,r){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:n,$ai_metric_value:String(r)})}Vr(t){var n=Sh(t)&&!t,r=Qi.H()&&Qi.q("ph_debug")==="true";return!n&&(!!r||t)}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=zJe(e.prototype[t[n]])})(xF,["identify"]);var tde,dh=(tde=hE[j1]=new xF,(function(){function e(){e.done||(e.done=!0,I2e=!1,_i(hE,(function(t){t._dom_loaded()})))}Bt!=null&&Bt.addEventListener?Bt.readyState==="complete"?e():Bo(Bt,"DOMContentLoaded",e,{capture:!1}):Ve&&zt.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),tde),j2e=R.createContext({client:dh,bootstrap:void 0});function $2e(e,t,n){if(n===void 0&&(n=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(n.has(e)&&n.get(e)===t)return!0;n.set(e,t);var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0,s=r;o<s.length;o++){var a=s[o];if(!i.includes(a)||!$2e(e[a],t[a],n))return!1}return!0}function mtt(e){var t,n,r=e.children,i=e.client,o=e.apiKey,s=e.options,a=R.useRef(null),l=R.useMemo(function(){return i?(o&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),s&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(o||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),dh)},[i,o,JSON.stringify(s)]);return R.useEffect(function(){if(!i){var c=a.current;c?(o!==c.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),s&&!$2e(s,c.options)&&dh.set_config(s),a.current={apiKey:o,options:s??{}}):(dh.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),dh.init(o,s),a.current={apiKey:o,options:s??{}})}},[i,o,JSON.stringify(s)]),Vt.createElement(j2e.Provider,{value:{client:l,bootstrap:(t=s?.bootstrap)!==null&&t!==void 0?t:(n=i?.config)===null||n===void 0?void 0:n.bootstrap}},r)}var y8=function(e){return typeof e=="function"},zV=function(e,t){return zV=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zV(e,t)};function ytt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zV(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vtt={componentStack:null,exceptionEvent:null,error:null},btt={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){ytt(t,e);function t(n){var r=e.call(this,n)||this;return r.state=vtt,r}return t.prototype.componentDidCatch=function(n,r){var i=this.props.additionalProperties,o;y8(i)?o=i(n):typeof i=="object"&&(o=i);var s=this.context.client,a=s.captureException(n,o),l=r.componentStack;this.setState({error:n,componentStack:l??null,exceptionEvent:a})},t.prototype.render=function(){var n=this.props,r=n.children,i=n.fallback,o=this.state;if(o.componentStack==null)return y8(r)?r():r;var s=y8(i)?Vt.createElement(i,{error:o.error,componentStack:o.componentStack,exceptionEvent:o.exceptionEvent}):i;return Vt.isValidElement(s)?s:(console.warn(btt.INVALID_FALLBACK),Vt.createElement(Vt.Fragment,null))},t.contextType=j2e,t})(Vt.Component);function Nh(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const xu="$$material";function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(null,arguments)}function xtt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function wtt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Stt=(function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wtt(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=xtt(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e})(),ta="-ms-",x5="-moz-",Fr="-webkit-",F2e="comm",rX="rule",iX="decl",_tt="@import",L2e="@keyframes",Ctt="@layer",ktt=Math.abs,wF=String.fromCharCode,Ett=Object.assign;function Ttt(e,t){return Fs(e,0)^45?(((t<<2^Fs(e,0))<<2^Fs(e,1))<<2^Fs(e,2))<<2^Fs(e,3):0}function N2e(e){return e.trim()}function Rtt(e,t){return(e=t.exec(e))?e[0]:e}function Lr(e,t,n){return e.replace(t,n)}function BV(e,t){return e.indexOf(t)}function Fs(e,t){return e.charCodeAt(t)|0}function yT(e,t,n){return e.slice(t,n)}function xf(e){return e.length}function oX(e){return e.length}function hD(e,t){return t.push(e),e}function Mtt(e,t){return e.map(t).join("")}var SF=1,oS=1,z2e=0,Pl=0,zo=0,S_="";function _F(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:SF,column:oS,length:s,return:""}}function O2(e,t){return Ett(_F("",null,null,"",null,null,0),e,{length:-e.length},t)}function Att(){return zo}function Ptt(){return zo=Pl>0?Fs(S_,--Pl):0,oS--,zo===10&&(oS=1,SF--),zo}function bc(){return zo=Pl<z2e?Fs(S_,Pl++):0,oS++,zo===10&&(oS=1,SF++),zo}function $f(){return Fs(S_,Pl)}function TI(){return Pl}function BR(e,t){return yT(S_,e,t)}function vT(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B2e(e){return SF=oS=1,z2e=xf(S_=e),Pl=0,[]}function U2e(e){return S_="",e}function RI(e){return N2e(BR(Pl-1,UV(e===91?e+2:e===40?e+1:e)))}function Dtt(e){for(;(zo=$f())&&zo<33;)bc();return vT(e)>2||vT(zo)>3?"":" "}function Ott(e,t){for(;--t&&bc()&&!(zo<48||zo>102||zo>57&&zo<65||zo>70&&zo<97););return BR(e,TI()+(t<6&&$f()==32&&bc()==32))}function UV(e){for(;bc();)switch(zo){case e:return Pl;case 34:case 39:e!==34&&e!==39&&UV(zo);break;case 40:e===41&&UV(e);break;case 92:bc();break}return Pl}function Itt(e,t){for(;bc()&&e+zo!==57;)if(e+zo===84&&$f()===47)break;return"/*"+BR(t,Pl-1)+"*"+wF(e===47?e:bc())}function jtt(e){for(;!vT($f());)bc();return BR(e,Pl)}function $tt(e){return U2e(MI("",null,null,null,[""],e=B2e(e),0,[0],e))}function MI(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,p=0,g=0,y=1,v=1,x=1,w=0,S="",C=i,k=o,T=r,E=S;v;)switch(g=w,w=bc()){case 40:if(g!=108&&Fs(E,d-1)==58){BV(E+=Lr(RI(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=RI(w);break;case 9:case 10:case 13:case 32:E+=Dtt(g);break;case 92:E+=Ott(TI()-1,7);continue;case 47:switch($f()){case 42:case 47:hD(Ftt(Itt(bc(),TI()),t,n),l);break;default:E+="/"}break;case 123*y:a[c++]=xf(E)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+u:x==-1&&(E=Lr(E,/\f/g,"")),p>0&&xf(E)-d&&hD(p>32?rde(E+";",r,n,d-1):rde(Lr(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(hD(T=nde(E,t,n,c,u,i,a,S,C=[],k=[],d),o),w===123)if(u===0)MI(E,t,T,T,C,o,d,a,k);else switch(f===99&&Fs(E,3)===110?100:f){case 100:case 108:case 109:case 115:MI(e,T,T,r&&hD(nde(e,T,T,0,0,i,a,S,i,C=[],d),k),i,k,d,a,r?C:k);break;default:MI(E,T,T,T,[""],k,0,a,k)}}c=u=p=0,y=x=1,S=E="",d=s;break;case 58:d=1+xf(E),p=g;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&Ptt()==125)continue}switch(E+=wF(w),w*y){case 38:x=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(xf(E)-1)*x,x=1;break;case 64:$f()===45&&(E+=RI(bc())),f=$f(),u=d=xf(S=E+=jtt(TI())),w++;break;case 45:g===45&&xf(E)==2&&(y=0)}}return o}function nde(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],p=oX(f),g=0,y=0,v=0;g<r;++g)for(var x=0,w=yT(e,d+1,d=ktt(y=s[g])),S=e;x<p;++x)(S=N2e(y>0?f[x]+" "+w:Lr(w,/&\f/g,f[x])))&&(l[v++]=S);return _F(e,t,n,i===0?rX:a,l,c,u)}function Ftt(e,t,n){return _F(e,t,n,F2e,wF(Att()),yT(e,2,-2),0)}function rde(e,t,n,r){return _F(e,t,n,iX,yT(e,0,r),yT(e,r+1,-1),r)}function kw(e,t){for(var n="",r=oX(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Ltt(e,t,n,r){switch(e.type){case Ctt:if(e.children.length)break;case _tt:case iX:return e.return=e.return||e.value;case F2e:return"";case L2e:return e.return=e.value+"{"+kw(e.children,r)+"}";case rX:e.value=e.props.join(",")}return xf(n=kw(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ntt(e){var t=oX(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function ztt(e){return function(t){t.root||(t=t.return)&&e(t)}}function V2e(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Btt=function(t,n,r){for(var i=0,o=0;i=o,o=$f(),i===38&&o===12&&(n[r]=1),!vT(o);)bc();return BR(t,Pl)},Utt=function(t,n){var r=-1,i=44;do switch(vT(i)){case 0:i===38&&$f()===12&&(n[r]=1),t[r]+=Btt(Pl-1,n,r);break;case 2:t[r]+=RI(i);break;case 4:if(i===44){t[++r]=$f()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wF(i)}while(i=bc());return t},Vtt=function(t,n){return U2e(Utt(B2e(t),n))},ide=new WeakMap,Htt=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!ide.get(r))&&!i){ide.set(t,!0);for(var o=[],s=Vtt(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},Wtt=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function H2e(e,t){switch(Ttt(e,t)){case 5103:return Fr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Fr+e+x5+e+ta+e+e;case 6828:case 4268:return Fr+e+ta+e+e;case 6165:return Fr+e+ta+"flex-"+e+e;case 5187:return Fr+e+Lr(e,/(\w+).+(:[^]+)/,Fr+"box-$1$2"+ta+"flex-$1$2")+e;case 5443:return Fr+e+ta+"flex-item-"+Lr(e,/flex-|-self/,"")+e;case 4675:return Fr+e+ta+"flex-line-pack"+Lr(e,/align-content|flex-|-self/,"")+e;case 5548:return Fr+e+ta+Lr(e,"shrink","negative")+e;case 5292:return Fr+e+ta+Lr(e,"basis","preferred-size")+e;case 6060:return Fr+"box-"+Lr(e,"-grow","")+Fr+e+ta+Lr(e,"grow","positive")+e;case 4554:return Fr+Lr(e,/([^-])(transform)/g,"$1"+Fr+"$2")+e;case 6187:return Lr(Lr(Lr(e,/(zoom-|grab)/,Fr+"$1"),/(image-set)/,Fr+"$1"),e,"")+e;case 5495:case 3959:return Lr(e,/(image-set\([^]*)/,Fr+"$1$`$1");case 4968:return Lr(Lr(e,/(.+:)(flex-)?(.*)/,Fr+"box-pack:$3"+ta+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fr+e+e;case 4095:case 3583:case 4068:case 2532:return Lr(e,/(.+)-inline(.+)/,Fr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xf(e)-1-t>6)switch(Fs(e,t+1)){case 109:if(Fs(e,t+4)!==45)break;case 102:return Lr(e,/(.+:)(.+)-([^]+)/,"$1"+Fr+"$2-$3$1"+x5+(Fs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~BV(e,"stretch")?H2e(Lr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fs(e,t+1)!==115)break;case 6444:switch(Fs(e,xf(e)-3-(~BV(e,"!important")&&10))){case 107:return Lr(e,":",":"+Fr)+e;case 101:return Lr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fr+(Fs(e,14)===45?"inline-":"")+"box$3$1"+Fr+"$2$3$1"+ta+"$2box$3")+e}break;case 5936:switch(Fs(e,t+11)){case 114:return Fr+e+ta+Lr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Fr+e+ta+Lr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Fr+e+ta+Lr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Fr+e+ta+e+e}return e}var qtt=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case iX:t.return=H2e(t.value,t.length);break;case L2e:return kw([O2(t,{value:Lr(t.value,"@","@"+Fr)})],i);case rX:if(t.length)return Mtt(t.props,function(o){switch(Rtt(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kw([O2(t,{props:[Lr(o,/:(read-\w+)/,":"+x5+"$1")]})],i);case"::placeholder":return kw([O2(t,{props:[Lr(o,/:(plac\w+)/,":"+Fr+"input-$1")]}),O2(t,{props:[Lr(o,/:(plac\w+)/,":"+x5+"$1")]}),O2(t,{props:[Lr(o,/:(plac\w+)/,ta+"input-$1")]})],i)}return""})}},Gtt=[qtt],Ytt=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var v=y.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||Gtt,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var v=y.getAttribute("data-emotion").split(" "),x=1;x<v.length;x++)o[v[x]]=!0;a.push(y)});var l,c=[Htt,Wtt];{var u,d=[Ltt,ztt(function(y){u.insert(y)})],f=Ntt(c.concat(i,d)),p=function(v){return kw($tt(v),f)};l=function(v,x,w,S){u=w,p(v?v+"{"+x.styles+"}":x.styles),S&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new Stt({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},v8={exports:{}},Vr={};var ode;function Xtt(){if(ode)return Vr;ode=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function S(k){if(typeof k=="object"&&k!==null){var T=k.$$typeof;switch(T){case t:switch(k=k.type,k){case l:case c:case r:case o:case i:case d:return k;default:switch(k=k&&k.$$typeof,k){case a:case u:case g:case p:case s:return k;default:return T}}case n:return T}}}function C(k){return S(k)===c}return Vr.AsyncMode=l,Vr.ConcurrentMode=c,Vr.ContextConsumer=a,Vr.ContextProvider=s,Vr.Element=t,Vr.ForwardRef=u,Vr.Fragment=r,Vr.Lazy=g,Vr.Memo=p,Vr.Portal=n,Vr.Profiler=o,Vr.StrictMode=i,Vr.Suspense=d,Vr.isAsyncMode=function(k){return C(k)||S(k)===l},Vr.isConcurrentMode=C,Vr.isContextConsumer=function(k){return S(k)===a},Vr.isContextProvider=function(k){return S(k)===s},Vr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},Vr.isForwardRef=function(k){return S(k)===u},Vr.isFragment=function(k){return S(k)===r},Vr.isLazy=function(k){return S(k)===g},Vr.isMemo=function(k){return S(k)===p},Vr.isPortal=function(k){return S(k)===n},Vr.isProfiler=function(k){return S(k)===o},Vr.isStrictMode=function(k){return S(k)===i},Vr.isSuspense=function(k){return S(k)===d},Vr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===c||k===o||k===i||k===d||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===p||k.$$typeof===s||k.$$typeof===a||k.$$typeof===u||k.$$typeof===v||k.$$typeof===x||k.$$typeof===w||k.$$typeof===y)},Vr.typeOf=S,Vr}var sde;function Ktt(){return sde||(sde=1,v8.exports=Xtt()),v8.exports}var b8,ade;function Ztt(){if(ade)return b8;ade=1;var e=Ktt(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function s(g){return e.isMemo(g)?i:o[g.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(g,y,v){if(typeof y!="string"){if(f){var x=d(y);x&&x!==f&&p(g,x,v)}var w=l(y);c&&(w=w.concat(c(y)));for(var S=s(g),C=s(y),k=0;k<w.length;++k){var T=w[k];if(!n[T]&&!(v&&v[T])&&!(C&&C[T])&&!(S&&S[T])){var E=u(y,T);try{a(g,T,E)}catch{}}}}return g}return b8=p,b8}Ztt();var Qtt=!0;function W2e(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var sX=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Qtt===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},aX=function(t,n,r){sX(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Jtt(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ent={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tnt=/[A-Z]|^ms/g,nnt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,q2e=function(t){return t.charCodeAt(1)===45},lde=function(t){return t!=null&&typeof t!="boolean"},x8=V2e(function(e){return q2e(e)?e:e.replace(tnt,"-$&").toLowerCase()}),cde=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(nnt,function(r,i,o){return wf={name:i,styles:o,next:wf},i})}return ent[t]!==1&&!q2e(t)&&typeof n=="number"&&n!==0?n+"px":n};function bT(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return wf={name:i.name,styles:i.styles,next:wf},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)wf={name:s.name,styles:s.styles,next:wf},s=s.next;var a=o.styles+";";return a}return rnt(e,t,n)}case"function":{if(e!==void 0){var l=wf,c=n(e);return wf=l,bT(e,t,c)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function rnt(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=bT(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":lde(a)&&(r+=x8(o)+":"+cde(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)lde(s[l])&&(r+=x8(o)+":"+cde(o,s[l])+";");else{var c=bT(e,t,s);switch(o){case"animation":case"animationName":{r+=x8(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var ude=/label:\s*([^\s;{]+)\s*(;|$)/g,wf;function UR(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";wf=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=bT(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=bT(n,t,e[a]),r){var l=o;i+=l[a]}ude.lastIndex=0;for(var c="",u;(u=ude.exec(i))!==null;)c+="-"+u[1];var d=Jtt(i)+c;return{name:d,styles:i,next:wf}}var int=function(t){return t()},G2e=$j.useInsertionEffect?$j.useInsertionEffect:!1,Y2e=G2e||int,dde=G2e||R.useLayoutEffect,X2e=R.createContext(typeof HTMLElement<"u"?Ytt({key:"css"}):null);X2e.Provider;var lX=function(t){return R.forwardRef(function(n,r){var i=R.useContext(X2e);return t(n,i,r)})},VR=R.createContext({}),cX={}.hasOwnProperty,VV="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ont=function(t,n){var r={};for(var i in n)cX.call(n,i)&&(r[i]=n[i]);return r[VV]=t,r},snt=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return sX(n,r,i),Y2e(function(){return aX(n,r,i)}),null},ant=lX(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[VV],o=[r],s="";typeof e.className=="string"?s=W2e(t.registered,o,e.className):e.className!=null&&(s=e.className+" ");var a=UR(o,void 0,R.useContext(VR));s+=t.key+"-"+a.name;var l={};for(var c in e)cX.call(e,c)&&c!=="css"&&c!==VV&&(l[c]=e[c]);return l.className=s,n&&(l.ref=n),R.createElement(R.Fragment,null,R.createElement(snt,{cache:t,serialized:a,isStringTag:typeof i=="string"}),R.createElement(i,l))}),lnt=ant,fde=function(t,n){var r=arguments;if(n==null||!cX.call(n,"css"))return R.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=lnt,o[1]=ont(t,n);for(var s=2;s<i;s++)o[s]=r[s];return R.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(fde||(fde={}));var cnt=lX(function(e,t){var n=e.styles,r=UR([n],void 0,R.useContext(VR)),i=R.useRef();return dde(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),dde(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&aX(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function T0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UR(t)}function cp(){var e=T0.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var unt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dnt=V2e(function(e){return unt.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),fnt=dnt,pnt=function(t){return t!=="theme"},pde=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?fnt:pnt},hde=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},hnt=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return sX(n,r,i),Y2e(function(){return aX(n,r,i)}),null},gnt=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=hde(t,n,r),l=a||pde(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var p=u.length,g=1;g<p;g++)d.push(u[g],f[g])}var y=lX(function(v,x,w){var S=c&&v.as||i,C="",k=[],T=v;if(v.theme==null){T={};for(var E in v)T[E]=v[E];T.theme=R.useContext(VR)}typeof v.className=="string"?C=W2e(x.registered,k,v.className):v.className!=null&&(C=v.className+" ");var A=UR(d.concat(k),x.registered,T);C+=x.key+"-"+A.name,s!==void 0&&(C+=" "+s);var O=c&&a===void 0?pde(S):l,I={};for(var j in v)c&&j==="as"||O(j)&&(I[j]=v[j]);return I.className=C,w&&(I.ref=w),R.createElement(R.Fragment,null,R.createElement(hnt,{cache:x,serialized:A,isStringTag:typeof S=="string"}),R.createElement(S,I))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(v,x){var w=e(v,me({},n,x,{shouldForwardProp:hde(y,x,!0)}));return w.apply(void 0,d)},y}},mnt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],HV=gnt.bind(null);mnt.forEach(function(e){HV[e]=HV(e)});var w8={exports:{}},S8,gde;function ynt(){if(gde)return S8;gde=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return S8=e,S8}var _8,mde;function vnt(){if(mde)return _8;mde=1;var e=ynt();function t(){}function n(){}return n.resetWarningCache=t,_8=function(){function r(s,a,l,c,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},_8}var yde;function bnt(){return yde||(yde=1,w8.exports=vnt()()),w8.exports}var xnt=bnt();const te=k0(xnt);function wnt(e){return e==null||Object.keys(e).length===0}function K2e(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(wnt(i)?n:i):t;return h.jsx(cnt,{styles:r})}function Z2e(e,t){return HV(e,t)}function Snt(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const vde=[];function Lm(e){return vde[0]=e,UR(vde)}var C8={exports:{}},ci={};var bde;function _nt(){if(bde)return ci;bde=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(y){if(typeof y=="object"&&y!==null){var v=y.$$typeof;switch(v){case e:switch(y=y.type,y){case n:case i:case r:case l:case c:case f:return y;default:switch(y=y&&y.$$typeof,y){case s:case a:case d:case u:return y;case o:return y;default:return v}}case t:return v}}}return ci.ContextConsumer=o,ci.ContextProvider=s,ci.Element=e,ci.ForwardRef=a,ci.Fragment=n,ci.Lazy=d,ci.Memo=u,ci.Portal=t,ci.Profiler=i,ci.StrictMode=r,ci.Suspense=l,ci.SuspenseList=c,ci.isContextConsumer=function(y){return g(y)===o},ci.isContextProvider=function(y){return g(y)===s},ci.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},ci.isForwardRef=function(y){return g(y)===a},ci.isFragment=function(y){return g(y)===n},ci.isLazy=function(y){return g(y)===d},ci.isMemo=function(y){return g(y)===u},ci.isPortal=function(y){return g(y)===t},ci.isProfiler=function(y){return g(y)===i},ci.isStrictMode=function(y){return g(y)===r},ci.isSuspense=function(y){return g(y)===l},ci.isSuspenseList=function(y){return g(y)===c},ci.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===l||y===c||typeof y=="object"&&y!==null&&(y.$$typeof===d||y.$$typeof===u||y.$$typeof===s||y.$$typeof===o||y.$$typeof===a||y.$$typeof===p||y.getModuleId!==void 0)},ci.typeOf=g,ci}var xde;function Cnt(){return xde||(xde=1,C8.exports=_nt()),C8.exports}var Q2e=Cnt();function kf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function J2e(e){if(R.isValidElement(e)||Q2e.isValidElementType(e)||!kf(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=J2e(e[n])}),t}function Eo(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return kf(e)&&kf(t)&&Object.keys(t).forEach(i=>{R.isValidElement(t[i])||Q2e.isValidElementType(t[i])?r[i]=t[i]:kf(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&kf(e[i])?r[i]=Eo(e[i],t[i],n):n.clone?r[i]=kf(t[i])?J2e(t[i]):t[i]:r[i]=t[i]}),r}const knt=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Ent(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=knt(t),s=Object.keys(o);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function c(f,p){const g=s.indexOf(p);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:p)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function d(f){const p=s.indexOf(f);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}function wde(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function Tnt(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Rnt(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function Mnt(e){const t=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>t(e.breakpoints.up(...a),s),o.down=(...a)=>t(e.breakpoints.down(...a),s),o.between=(...a)=>t(e.breakpoints.between(...a),s),o.only=(...a)=>t(e.breakpoints.only(...a),s),o.not=(...a)=>{const l=t(e.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const Ant={borderRadius:4};function gE(e,t){return t?Eo(e,t,{clone:!1}):e}const CF={xs:0,sm:600,md:900,lg:1200,xl:1536},Sde={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${CF[e]}px)`},Pnt={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:CF[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Cl(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||Sde;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||Sde;return Object.keys(t).reduce((s,a)=>{if(Tnt(o.keys,a)){const l=Rnt(r.containerQueries?r:Pnt,a);l&&(s[l]=n(t[a],a))}else if(Object.keys(o.values||CF).includes(a)){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function eke(e={}){return e.keys?.reduce((n,r)=>{const i=e.up(r);return n[i]={},n},{})||{}}function WV(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Dnt(e,...t){const n=eke(e),r=[n,...t].reduce((i,o)=>Eo(i,o),{});return WV(Object.keys(n),r)}function Ont(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function mE({values:e,breakpoints:t,base:n}){const r=n||Ont(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,l)=>(Array.isArray(e)?(s[a]=e[l]!=null?e[l]:e[o],o=l):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function Ee(e){if(typeof e!="string")throw new Error(Nh(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Sf(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function w5(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Sf(e,n)||r,t&&(i=t(i,r,e)),i}function Po(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=Sf(l,r)||{};return Cl(s,a,d=>{let f=w5(c,i,d);return d===f&&typeof d=="string"&&(f=w5(c,i,`${t}${d==="default"?"":Ee(d)}`,d)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[t],o}function Int(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const jnt={m:"margin",p:"padding"},$nt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_de={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Fnt=Int(e=>{if(e.length>2)if(_de[e])e=_de[e];else return[e];const[t,n]=e.split(""),r=jnt[t],i=$nt[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),uX=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],dX=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...uX,...dX];function HR(e,t,n,r){const i=Sf(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function WR(e){return HR(e,"spacing",8)}function Ff(e,t){return typeof t=="string"||t==null?t:e(t)}function Lnt(e,t){return n=>e.reduce((r,i)=>(r[i]=Ff(t,n),r),{})}function Nnt(e,t,n,r){if(!t.includes(n))return null;const i=Fnt(n),o=Lnt(i,r),s=e[n];return Cl(e,s,o)}function tke(e,t){const n=WR(e.theme);return Object.keys(e).map(r=>Nnt(e,t,r,n)).reduce(gE,{})}function ao(e){return tke(e,uX)}ao.propTypes={};ao.filterProps=uX;function lo(e){return tke(e,dX)}lo.propTypes={};lo.filterProps=dX;function nke(e=8,t=WR({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function kF(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?gE(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function au(e){return typeof e!="number"?e:`${e}px solid`}function zu(e,t){return Po({prop:e,themeKey:"borders",transform:t})}const znt=zu("border",au),Bnt=zu("borderTop",au),Unt=zu("borderRight",au),Vnt=zu("borderBottom",au),Hnt=zu("borderLeft",au),Wnt=zu("borderColor"),qnt=zu("borderTopColor"),Gnt=zu("borderRightColor"),Ynt=zu("borderBottomColor"),Xnt=zu("borderLeftColor"),Knt=zu("outline",au),Znt=zu("outlineColor"),EF=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=HR(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ff(t,r)});return Cl(e,e.borderRadius,n)}return null};EF.propTypes={};EF.filterProps=["borderRadius"];kF(znt,Bnt,Unt,Vnt,Hnt,Wnt,qnt,Gnt,Ynt,Xnt,EF,Knt,Znt);const TF=e=>{if(e.gap!==void 0&&e.gap!==null){const t=HR(e.theme,"spacing",8),n=r=>({gap:Ff(t,r)});return Cl(e,e.gap,n)}return null};TF.propTypes={};TF.filterProps=["gap"];const RF=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=HR(e.theme,"spacing",8),n=r=>({columnGap:Ff(t,r)});return Cl(e,e.columnGap,n)}return null};RF.propTypes={};RF.filterProps=["columnGap"];const MF=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=HR(e.theme,"spacing",8),n=r=>({rowGap:Ff(t,r)});return Cl(e,e.rowGap,n)}return null};MF.propTypes={};MF.filterProps=["rowGap"];const Qnt=Po({prop:"gridColumn"}),Jnt=Po({prop:"gridRow"}),ert=Po({prop:"gridAutoFlow"}),trt=Po({prop:"gridAutoColumns"}),nrt=Po({prop:"gridAutoRows"}),rrt=Po({prop:"gridTemplateColumns"}),irt=Po({prop:"gridTemplateRows"}),ort=Po({prop:"gridTemplateAreas"}),srt=Po({prop:"gridArea"});kF(TF,RF,MF,Qnt,Jnt,ert,trt,nrt,rrt,irt,ort,srt);function Ew(e,t){return t==="grey"?t:e}const art=Po({prop:"color",themeKey:"palette",transform:Ew}),lrt=Po({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ew}),crt=Po({prop:"backgroundColor",themeKey:"palette",transform:Ew});kF(art,lrt,crt);function dc(e){return e<=1&&e!==0?`${e*100}%`:e}const urt=Po({prop:"width",transform:dc}),fX=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{const r=e.theme?.breakpoints?.values?.[n]||CF[n];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:dc(n)}};return Cl(e,e.maxWidth,t)}return null};fX.filterProps=["maxWidth"];const drt=Po({prop:"minWidth",transform:dc}),frt=Po({prop:"height",transform:dc}),prt=Po({prop:"maxHeight",transform:dc}),hrt=Po({prop:"minHeight",transform:dc});Po({prop:"size",cssProperty:"width",transform:dc});Po({prop:"size",cssProperty:"height",transform:dc});const grt=Po({prop:"boxSizing"});kF(urt,fX,drt,frt,prt,hrt,grt);const qR={border:{themeKey:"borders",transform:au},borderTop:{themeKey:"borders",transform:au},borderRight:{themeKey:"borders",transform:au},borderBottom:{themeKey:"borders",transform:au},borderLeft:{themeKey:"borders",transform:au},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:au},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:EF},color:{themeKey:"palette",transform:Ew},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ew},backgroundColor:{themeKey:"palette",transform:Ew},p:{style:lo},pt:{style:lo},pr:{style:lo},pb:{style:lo},pl:{style:lo},px:{style:lo},py:{style:lo},padding:{style:lo},paddingTop:{style:lo},paddingRight:{style:lo},paddingBottom:{style:lo},paddingLeft:{style:lo},paddingX:{style:lo},paddingY:{style:lo},paddingInline:{style:lo},paddingInlineStart:{style:lo},paddingInlineEnd:{style:lo},paddingBlock:{style:lo},paddingBlockStart:{style:lo},paddingBlockEnd:{style:lo},m:{style:ao},mt:{style:ao},mr:{style:ao},mb:{style:ao},ml:{style:ao},mx:{style:ao},my:{style:ao},margin:{style:ao},marginTop:{style:ao},marginRight:{style:ao},marginBottom:{style:ao},marginLeft:{style:ao},marginX:{style:ao},marginY:{style:ao},marginInline:{style:ao},marginInlineStart:{style:ao},marginInlineEnd:{style:ao},marginBlock:{style:ao},marginBlockStart:{style:ao},marginBlockEnd:{style:ao},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:TF},rowGap:{style:MF},columnGap:{style:RF},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dc},maxWidth:{style:fX},minWidth:{transform:dc},height:{transform:dc},maxHeight:{transform:dc},minHeight:{transform:dc},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function mrt(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function yrt(e,t){return typeof e=="function"?e(t):e}function vrt(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Sf(i,c)||{};return d?d(s):Cl(s,r,g=>{let y=w5(f,u,g);return g===y&&typeof g=="string"&&(y=w5(f,u,`${n}${g==="default"?"":Ee(g)}`,g)),l===!1?y:{[l]:y}})}function t(n){const{sx:r,theme:i={},nested:o}=n||{};if(!r)return null;const s=i.unstable_sxConfig??qR;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=eke(i.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const g=yrt(c[p],i);if(g!=null)if(typeof g=="object")if(s[p])f=gE(f,e(p,g,i,s));else{const y=Cl({theme:i},g,v=>({[p]:v}));mrt(y,g)?f[p]=t({sx:g,theme:i,nested:!0}):f=gE(f,y)}else f=gE(f,e(p,g,i,s))}),!o&&i.modularCssLayers?{"@layer sx":wde(i,WV(d,f))}:wde(i,WV(d,f))}return Array.isArray(r)?r.map(a):a(r)}return t}const Xm=vrt();Xm.filterProps=["sx"];function brt(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(e);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}function __(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=e,a=Ent(n),l=nke(i);let c=Eo({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Ant,...o}},s);return c=Mnt(c),c.applyStyles=brt,c=t.reduce((u,d)=>Eo(u,d),c),c.unstable_sxConfig={...qR,...s?.unstable_sxConfig},c.unstable_sx=function(d){return Xm({sx:d,theme:this})},c}function xrt(e){return Object.keys(e).length===0}function AF(e=null){const t=R.useContext(VR);return!t||xrt(t)?e:t}const wrt=__();function GR(e=wrt){return AF(e)}function k8(e){const t=Lm(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function rke({styles:e,themeId:t,defaultTheme:n={}}){const r=GR(n),i=t&&r[t]||r;let o=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(s=>k8(typeof s=="function"?s(i):s)):o=k8(o)),h.jsx(K2e,{styles:o})}const Srt=e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??qR;return Object.keys(e).forEach(r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function PF(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Srt(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return kf(a)?{...r,...a}:r}:o={...r,...t},{...i,sx:o}}const Cde=e=>e,_rt=()=>{let e=Cde;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Cde}}},ike=_rt();function oke(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oke(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function je(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oke(e))&&(r&&(r+=" "),r+=t);return r}function Crt(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=Z2e("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Xm);return R.forwardRef(function(l,c){const u=GR(n),{className:d,component:f="div",...p}=PF(l);return h.jsx(o,{as:f,ref:c,className:je(d,i?i(r):r),theme:t&&u[t]||u,...p})})}const krt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tt(e,t,n="Mui"){const r=krt[t];return r?`${n}-${r}`:`${ike.generate(e)}-${t}`}function rt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=tt(e,i,n)}),r}function ske(e){const{variants:t,...n}=e,r={variants:t,style:Lm(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=Lm(i.style))}),r}const Ert=__();function kl(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function av(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Trt(e){return e?(t,n)=>n[e]:null}function Rrt(e,t,n){e.theme=Art(e.theme)?n:e.theme[t]||e.theme}function AI(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(i=>AI(e,i,n));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=n?av(r.style,n):r.style;else{const{variants:o,...s}=r;i=n?av(Lm(s),n):s}return ake(e,r.variants,[i],n)}return r?.isProcessed?n?av(Lm(r.style),n):r.style:n?av(Lm(r),n):r}function ake(e,t,n=[],r=void 0){let i;e:for(let o=0;o<t.length;o+=1){const s=t[o];if(typeof s.props=="function"){if(i??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(i))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&e.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(i??={...e,...e.ownerState,ownerState:e.ownerState},n.push(r?av(Lm(s.style(i)),r):s.style(i))):n.push(r?av(Lm(s.style),r):s.style)}return n}function lke(e={}){const{themeId:t,defaultTheme:n=Ert,rootShouldForwardProp:r=kl,slotShouldForwardProp:i=kl}=e;function o(a){Rrt(a,t,n)}return(a,l={})=>{Snt(a,T=>T.filter(E=>E!==Xm));const{name:c,slot:u,skipVariantsResolver:d,skipSx:f,overridesResolver:p=Trt(Drt(u)),...g}=l,y=c&&c.startsWith("Mui")||u?"components":"custom",v=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,x=f||!1;let w=kl;u==="Root"||u==="root"?w=r:u?w=i:Prt(a)&&(w=void 0);const S=Z2e(a,{shouldForwardProp:w,label:Mrt(),...g}),C=T=>{if(T.__emotion_real===T)return T;if(typeof T=="function")return function(A){return AI(A,T,A.theme.modularCssLayers?y:void 0)};if(kf(T)){const E=ske(T);return function(O){return E.variants?AI(O,E,O.theme.modularCssLayers?y:void 0):O.theme.modularCssLayers?av(E.style,y):E.style}}return T},k=(...T)=>{const E=[],A=T.map(C),O=[];if(E.push(o),c&&p&&O.push(function($){const F=$.theme.components?.[c]?.styleOverrides;if(!F)return null;const N={};for(const V in F)N[V]=AI($,F[V],$.theme.modularCssLayers?"theme":void 0);return p($,N)}),c&&!v&&O.push(function($){const F=$.theme?.components?.[c]?.variants;return F?ake($,F,[],$.theme.modularCssLayers?"theme":void 0):null}),x||O.push(Xm),Array.isArray(A[0])){const P=A.shift(),$=new Array(E.length).fill(""),D=new Array(O.length).fill("");let F;F=[...$,...P,...D],F.raw=[...$,...P.raw,...D],E.unshift(F)}const I=[...E,...A,...O],j=S(...I);return a.muiName&&(j.muiName=a.muiName),j};return S.withConfig&&(k.withConfig=S.withConfig),k}}function Mrt(e,t){return void 0}function Art(e){for(const t in e)return!1;return!0}function Prt(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Drt(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const pX=lke();function sS(e,t,n=!1){const r={...t};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=i;if(o==="components"||o==="slots")r[o]={...e[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const s=e[o],a=t[o];if(!a)r[o]=s||{};else if(!s)r[o]=a;else{r[o]={...a};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const c=l;r[o][c]=sS(s[c],a[c],n)}}}else o==="className"&&n&&t.className?r.className=je(e?.className,t?.className):o==="style"&&n&&t.style?r.style={...e?.style,...t?.style}:r[o]===void 0&&(r[o]=e[o])}return r}function cke(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:sS(t.components[n].defaultProps,r)}function DF({props:e,name:t,defaultTheme:n,themeId:r}){let i=GR(n);return r&&(i=i[r]||i),cke({theme:i,name:t,props:e})}const ii=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Ort(e,t,n,r,i){const[o,s]=R.useState(()=>i&&n?n(e).matches:r?r(e).matches:t);return ii(()=>{if(!n)return;const a=n(e),l=()=>{s(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[e,n]),o}const Irt={...$j},uke=Irt.useSyncExternalStore;function jrt(e,t,n,r,i){const o=R.useCallback(()=>t,[t]),s=R.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return o},[o,e,r,i,n]),[a,l]=R.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(e);return[()=>u.matches,d=>(u.addEventListener("change",d),()=>{u.removeEventListener("change",d)})]},[o,n,e]);return uke(l,a,s)}function dke(e={}){const{themeId:t}=e;return function(r,i={}){let o=AF();o&&t&&(o=o[t]||o);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:u=!1}=cke({name:"MuiUseMediaQuery",props:i,theme:o});let d=typeof r=="function"?r(o):r;return d=d.replace(/^@media( ?)/m,""),d.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(uke!==void 0?jrt:Ort)(d,a,l,c,u)}}dke();function $1(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function hX(e,t=0,n=1){return $1(e,t,n)}function $rt(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Km(e){if(e.type)return e;if(e.charAt(0)==="#")return Km($rt(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Nh(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Nh(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const Frt=e=>{const t=Km(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Ok=(e,t)=>{try{return Frt(e)}catch{return e}};function OF(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function fke(e){e=Km(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),OF({type:a,values:l})}function qV(e){e=Km(e);let t=e.type==="hsl"||e.type==="hsla"?Km(fke(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Lrt(e,t){const n=qV(e),r=qV(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ut(e,t){return e=Km(e),t=hX(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,OF(e)}function wy(e,t,n){try{return ut(e,t)}catch{return e}}function es(e,t){if(e=Km(e),t=hX(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return OF(e)}function Jr(e,t,n){try{return es(e,t)}catch{return e}}function Mr(e,t){if(e=Km(e),t=hX(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return OF(e)}function ei(e,t,n){try{return Mr(e,t)}catch{return e}}function GV(e,t=.15){return qV(e)>.5?es(e,t):Mr(e,t)}function gD(e,t,n){try{return GV(e,t)}catch{return e}}const pke=R.createContext(null);function gX(){return R.useContext(pke)}const Nrt=typeof Symbol=="function"&&Symbol.for,zrt=Nrt?Symbol.for("mui.nested"):"__THEME_NESTED__";function Brt(e,t){return typeof t=="function"?t(e):{...e,...t}}function Urt(e){const{children:t,theme:n}=e,r=gX(),i=R.useMemo(()=>{const o=r===null?{...n}:Brt(r,n);return o!=null&&(o[zrt]=r!==null),o},[n,r]);return h.jsx(pke.Provider,{value:i,children:t})}const hke=R.createContext();function Vrt({value:e,...t}){return h.jsx(hke.Provider,{value:e??!0,...t})}const ss=()=>R.useContext(hke)??!1,gke=R.createContext(void 0);function Hrt({value:e,children:t}){return h.jsx(gke.Provider,{value:e,children:t})}function Wrt(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?sS(i.defaultProps,r,t.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?sS(i,r,t.components.mergeClassNameAndStyle):r}function qrt({props:e,name:t}){const n=R.useContext(gke);return Wrt({props:e,name:t,theme:{components:n}})}let kde=0;function Grt(e){const[t,n]=R.useState(e),r=e||t;return R.useEffect(()=>{t==null&&(kde+=1,n(`mui-${kde}`))},[t]),r}const Yrt={...$j},Ede=Yrt.useId;function $c(e){if(Ede!==void 0){const t=Ede();return e??t}return Grt(e)}function Xrt(e){const t=AF(),n=$c()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,ii(()=>{const o=document.querySelector("head");if(!o)return;const s=o.firstChild;if(i){if(s&&s.hasAttribute?.("data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===n)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",n),a.textContent=i,o.prepend(a)}else o.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[i,n]),i?h.jsx(rke,{styles:i}):null}const Tde={};function Rde(e,t,n,r=!1){return R.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?{...t,[e]:o}:o;return r?()=>s:s}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function mke(e){const{children:t,theme:n,themeId:r}=e,i=AF(Tde),o=gX()||Tde,s=Rde(r,i,n),a=Rde(r,o,n,!0),l=(r?s[r]:s).direction==="rtl",c=Xrt(s);return h.jsx(Urt,{theme:a,children:h.jsx(VR.Provider,{value:s,children:h.jsx(Vrt,{value:l,children:h.jsxs(Hrt,{value:r?s[r].components:s.components,children:[c,t]})})})})}const Mde={theme:void 0};function Krt(e){let t,n;return function(i){let o=t;return(o===void 0||i.theme!==n)&&(Mde.theme=i.theme,o=ske(e(Mde)),t=o,n=i.theme),o}}const mX="mode",yX="color-scheme",Zrt="data-color-scheme";function Qrt(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=mX,colorSchemeStorageKey:o=yX,attribute:s=Zrt,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};let c="",u=s;if(s==="class"&&(u=".%s"),s==="data"&&(u="[data-%s]"),u.startsWith(".")){const f=u.substring(1);c+=`${a}.classList.remove('${f}'.replace('%s', light), '${f}'.replace('%s', dark));
      ${a}.classList.add('${f}'.replace('%s', colorScheme));`}const d=u.match(/\[([^[\]]+)\]/);if(d){const[f,p]=d[1].split("=");p||(c+=`${a}.removeAttribute('${f}'.replace('%s', light));
      ${a}.removeAttribute('${f}'.replace('%s', dark));`),c+=`
      ${a}.setAttribute('${f}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else u!==".%s"&&(c+=`${a}.setAttribute('${u}', colorScheme);`);return h.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${o}-dark') || '${r}';
  const light = localStorage.getItem('${o}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Jrt(){}const eit=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(n){if(typeof window>"u")return;if(!t)return n;let r;try{r=t.localStorage.getItem(e)}catch{}return r||n},set:n=>{if(t)try{t.localStorage.setItem(e,n)}catch{}},subscribe:n=>{if(!t)return Jrt;const r=i=>{const o=i.newValue;i.key===e&&n(o)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function E8(){}function Ade(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function yke(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function tit(e){return yke(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function nit(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:o=mX,colorSchemeStorageKey:s=yX,storageWindow:a=typeof window>"u"?void 0:window,storageManager:l=eit,noSsr:c=!1}=e,u=i.join(","),d=i.length>1,f=R.useMemo(()=>l?.({key:o,storageWindow:a}),[l,o,a]),p=R.useMemo(()=>l?.({key:`${s}-light`,storageWindow:a}),[l,s,a]),g=R.useMemo(()=>l?.({key:`${s}-dark`,storageWindow:a}),[l,s,a]),[y,v]=R.useState(()=>{const A=f?.get(t)||t,O=p?.get(n)||n,I=g?.get(r)||r;return{mode:A,systemMode:Ade(A),lightColorScheme:O,darkColorScheme:I}}),[x,w]=R.useState(c||!d);R.useEffect(()=>{w(!0)},[]);const S=tit(y),C=R.useCallback(A=>{v(O=>{if(A===O.mode)return O;const I=A??t;return f?.set(I),{...O,mode:I,systemMode:Ade(I)}})},[f,t]),k=R.useCallback(A=>{A?typeof A=="string"?A&&!u.includes(A)?console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`):v(O=>{const I={...O};return yke(O,j=>{j==="light"&&(p?.set(A),I.lightColorScheme=A),j==="dark"&&(g?.set(A),I.darkColorScheme=A)}),I}):v(O=>{const I={...O},j=A.light===null?n:A.light,P=A.dark===null?r:A.dark;return j&&(u.includes(j)?(I.lightColorScheme=j,p?.set(j)):console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`)),P&&(u.includes(P)?(I.darkColorScheme=P,g?.set(P)):console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`)),I}):v(O=>(p?.set(n),g?.set(r),{...O,lightColorScheme:n,darkColorScheme:r}))},[u,p,g,n,r]),T=R.useCallback(A=>{y.mode==="system"&&v(O=>{const I=A?.matches?"dark":"light";return O.systemMode===I?O:{...O,systemMode:I}})},[y.mode]),E=R.useRef(T);return E.current=T,R.useEffect(()=>{if(typeof window.matchMedia!="function"||!d)return;const A=(...I)=>E.current(...I),O=window.matchMedia("(prefers-color-scheme: dark)");return O.addListener(A),A(O),()=>{O.removeListener(A)}},[d]),R.useEffect(()=>{if(d){const A=f?.subscribe(j=>{(!j||["light","dark","system"].includes(j))&&C(j||t)})||E8,O=p?.subscribe(j=>{(!j||u.match(j))&&k({light:j})})||E8,I=g?.subscribe(j=>{(!j||u.match(j))&&k({dark:j})})||E8;return()=>{A(),O(),I()}}},[k,C,u,t,a,d,f,p,g]),{...y,mode:x?y.mode:void 0,systemMode:x?y.systemMode:void 0,colorScheme:x?S:void 0,setMode:C,setColorScheme:k}}const rit="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function iit(e){const{themeId:t,theme:n={},modeStorageKey:r=mX,colorSchemeStorageKey:i=yX,disableTransitionOnChange:o=!1,defaultColorScheme:s,resolveTheme:a}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=R.createContext(void 0),u=()=>R.useContext(c)||l,d={},f={};function p(x){const{children:w,theme:S,modeStorageKey:C=r,colorSchemeStorageKey:k=i,disableTransitionOnChange:T=o,storageManager:E,storageWindow:A=typeof window>"u"?void 0:window,documentNode:O=typeof document>"u"?void 0:document,colorSchemeNode:I=typeof document>"u"?void 0:document.documentElement,disableNestedContext:j=!1,disableStyleSheetGeneration:P=!1,defaultMode:$="system",forceThemeRerender:D=!1,noSsr:F}=x,N=R.useRef(!1),V=gX(),H=R.useContext(c),U=!!H&&!j,G=R.useMemo(()=>S||(typeof n=="function"?n():n),[S]),z=G[t],W=z||G,{colorSchemes:X=d,components:Q=f,cssVarPrefix:ee}=W,ne=Object.keys(X).filter(_e=>!!X[_e]).join(","),oe=R.useMemo(()=>ne.split(","),[ne]),ce=typeof s=="string"?s:s.light,re=typeof s=="string"?s:s.dark,ge=X[ce]&&X[re]?$:X[W.defaultColorScheme]?.palette?.mode||W.palette?.mode,{mode:he,setMode:ie,systemMode:xe,lightColorScheme:q,darkColorScheme:fe,colorScheme:se,setColorScheme:J}=nit({supportedColorSchemes:oe,defaultLightColorScheme:ce,defaultDarkColorScheme:re,modeStorageKey:C,colorSchemeStorageKey:k,defaultMode:ge,storageManager:E,storageWindow:A,noSsr:F});let Z=he,ue=se;U&&(Z=H.mode,ue=H.colorScheme);let de=ue||W.defaultColorScheme;W.vars&&!D&&(de=W.defaultColorScheme);const be=R.useMemo(()=>{const _e=W.generateThemeVars?.()||W.vars,Ae={...W,components:Q,colorSchemes:X,cssVarPrefix:ee,vars:_e};if(typeof Ae.generateSpacing=="function"&&(Ae.spacing=Ae.generateSpacing()),de){const Te=X[de];Te&&typeof Te=="object"&&Object.keys(Te).forEach(Pe=>{Te[Pe]&&typeof Te[Pe]=="object"?Ae[Pe]={...Ae[Pe],...Te[Pe]}:Ae[Pe]=Te[Pe]})}return a?a(Ae):Ae},[W,de,Q,X,ee]),le=W.colorSchemeSelector;ii(()=>{if(ue&&I&&le&&le!=="media"){const _e=le;let Ae=le;if(_e==="class"&&(Ae=".%s"),_e==="data"&&(Ae="[data-%s]"),_e?.startsWith("data-")&&!_e.includes("%s")&&(Ae=`[${_e}="%s"]`),Ae.startsWith("."))I.classList.remove(...oe.map(Te=>Ae.substring(1).replace("%s",Te))),I.classList.add(Ae.substring(1).replace("%s",ue));else{const Te=Ae.replace("%s",ue).match(/\[([^\]]+)\]/);if(Te){const[Pe,Le]=Te[1].split("=");Le||oe.forEach($e=>{I.removeAttribute(Pe.replace(ue,$e))}),I.setAttribute(Pe,Le?Le.replace(/"|'/g,""):"")}else I.setAttribute(Ae,ue)}}},[ue,le,I,oe]),R.useEffect(()=>{let _e;if(T&&N.current&&O){const Ae=O.createElement("style");Ae.appendChild(O.createTextNode(rit)),O.head.appendChild(Ae),window.getComputedStyle(O.body),_e=setTimeout(()=>{O.head.removeChild(Ae)},1)}return()=>{clearTimeout(_e)}},[ue,T,O]),R.useEffect(()=>(N.current=!0,()=>{N.current=!1}),[]);const Se=R.useMemo(()=>({allColorSchemes:oe,colorScheme:ue,darkColorScheme:fe,lightColorScheme:q,mode:Z,setColorScheme:J,setMode:ie,systemMode:xe}),[oe,ue,fe,q,Z,J,ie,xe,be.colorSchemeSelector]);let ye=!0;(P||W.cssVariables===!1||U&&V?.cssVarPrefix===ee)&&(ye=!1);const ve=h.jsxs(R.Fragment,{children:[h.jsx(mke,{themeId:z?t:void 0,theme:be,children:w}),ye&&h.jsx(K2e,{styles:be.generateStyleSheets?.()||[]})]});return U?ve:h.jsx(c.Provider,{value:Se,children:ve})}const g=typeof s=="string"?s:s.light,y=typeof s=="string"?s:s.dark;return{CssVarsProvider:p,useColorScheme:u,getInitColorSchemeScript:x=>Qrt({colorSchemeStorageKey:i,defaultLightColorScheme:g,defaultDarkColorScheme:y,modeStorageKey:r,...x})}}function oit(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const Pde=(e,t,n,r=[])=>{let i=e;t.forEach((o,s)=>{s===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},sit=(e,t,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):t([...o,a],l,s))})}r(e)},ait=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function T8(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return sit(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=ait(a,l);Object.assign(i,{[u]:d}),Pde(o,a,`var(${u})`,c),Pde(s,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function lit(e,t={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:o}=t,{colorSchemes:s={},components:a,defaultColorScheme:l="light",...c}=e,{vars:u,css:d,varsWithDefaults:f}=T8(c,t);let p=f;const g={},{[l]:y,...v}=s;if(Object.entries(v||{}).forEach(([C,k])=>{const{vars:T,css:E,varsWithDefaults:A}=T8(k,t);p=Eo(p,A),g[C]={css:E,vars:T}}),y){const{css:C,vars:k,varsWithDefaults:T}=T8(y,t);p=Eo(p,T),g[l]={css:C,vars:k}}function x(C,k){let T=i;if(i==="class"&&(T=".%s"),i==="data"&&(T="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(T=`[${i}="%s"]`),C){if(T==="media")return e.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${s[C]?.palette?.mode||C})`]:{":root":k}};if(T)return e.defaultColorScheme===C?`:root, ${T.replace("%s",String(C))}`:T.replace("%s",String(C))}return":root"}return{vars:p,generateThemeVars:()=>{let C={...u};return Object.entries(g).forEach(([,{vars:k}])=>{C=Eo(C,k)}),C},generateStyleSheets:()=>{const C=[],k=e.defaultColorScheme||"light";function T(O,I){Object.keys(I).length&&C.push(typeof O=="string"?{[O]:{...I}}:O)}T(n(void 0,{...d}),d);const{[k]:E,...A}=g;if(E){const{css:O}=E,I=s[k]?.palette?.mode,j=!r&&I?{colorScheme:I,...O}:{...O};T(n(k,{...j}),j)}return Object.entries(A).forEach(([O,{css:I}])=>{const j=s[O]?.palette?.mode,P=!r&&j?{colorScheme:j,...I}:{...I};T(n(O,{...P}),P)}),o&&C.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),C}}}function cit(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function Qe(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}const uit=__(),dit=pX("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ee(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),fit=e=>DF({props:e,name:"MuiContainer",defaultTheme:uit}),pit=(e,t)=>{const n=l=>tt(t,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${Ee(String(s))}`,i&&"fixed",o&&"disableGutters"]};return Qe(a,n,r)};function hit(e={}){const{createStyledComponent:t=dit,useThemeProps:n=fit,componentName:r="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return R.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:f=!1,fixed:p=!1,maxWidth:g="lg",classes:y,...v}=c,x={...c,component:d,disableGutters:f,fixed:p,maxWidth:g},w=pit(x,r);return h.jsx(i,{as:d,ownerState:x,className:je(w.root,u),ref:l,...v})})}function yE(e,t){return R.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}const git=(e,t)=>e.filter(n=>t.includes(n)),C_=(e,t,n)=>{const r=e.keys[0];Array.isArray(t)?t.forEach((i,o)=>{n((s,a)=>{o<=e.keys.length-1&&(o===0?Object.assign(s,a):s[e.up(e.keys[o])]=a)},i)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:git(e.keys,Object.keys(t))).forEach(o=>{if(e.keys.includes(o)){const s=t[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[e.up(o)]=l},s)}}):(typeof t=="number"||typeof t=="string")&&n((i,o)=>{Object.assign(i,o)},t)};function S5(e){return`--Grid-${e}Spacing`}function IF(e){return`--Grid-parent-${e}Spacing`}const Dde="--Grid-columns",Tw="--Grid-parent-columns",mit=({theme:e,ownerState:t})=>{const n={};return C_(e.breakpoints,t.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${Tw}) - (var(${Tw}) - ${i}) * (var(${IF("column")}) / var(${Tw})))`}),r(n,o)}),n},yit=({theme:e,ownerState:t})=>{const n={};return C_(e.breakpoints,t.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${Tw}) + var(${IF("column")}) * ${i} / var(${Tw}))`}),r(n,o)}),n},vit=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={[Dde]:12};return C_(e.breakpoints,t.columns,(r,i)=>{const o=i??12;r(n,{[Dde]:o,"> *":{[Tw]:o}})}),n},bit=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return C_(e.breakpoints,t.rowSpacing,(r,i)=>{const o=typeof i=="string"?i:e.spacing?.(i);r(n,{[S5("row")]:o,"> *":{[IF("row")]:o}})}),n},xit=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return C_(e.breakpoints,t.columnSpacing,(r,i)=>{const o=typeof i=="string"?i:e.spacing?.(i);r(n,{[S5("column")]:o,"> *":{[IF("column")]:o}})}),n},wit=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return C_(e.breakpoints,t.direction,(r,i)=>{r(n,{flexDirection:i})}),n},Sit=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${S5("row")}) var(${S5("column")})`}}),_it=e=>{const t=[];return Object.entries(e).forEach(([n,r])=>{r!==!1&&r!==void 0&&t.push(`grid-${n}-${String(r)}`)}),t},Cit=(e,t="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const r=[];return Object.entries(e).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},kit=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,n])=>`direction-${t}-${n}`):[`direction-xs-${String(e)}`];function Eit(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(n=>{e[n]!==void 0&&delete e[n]})}const Tit=__(),Rit=pX("div",{name:"MuiGrid",slot:"Root"});function Mit(e){return DF({props:e,name:"MuiGrid",defaultTheme:Tit})}function Ait(e={}){const{createStyledComponent:t=Rit,useThemeProps:n=Mit,useTheme:r=GR,componentName:i="MuiGrid"}=e,o=(c,u)=>{const{container:d,direction:f,spacing:p,wrap:g,size:y}=c,v={root:["root",d&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...kit(f),..._it(y),...d?Cit(p,u.breakpoints.keys[0]):[]]};return Qe(v,x=>tt(i,x),{})};function s(c,u,d=()=>!0){const f={};return c===null||(Array.isArray(c)?c.forEach((p,g)=>{p!==null&&d(p)&&u.keys[g]&&(f[u.keys[g]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const g=c[p];g!=null&&d(g)&&(f[p]=g)}):f[u.keys[0]]=c),f}const a=t(vit,xit,bit,mit,wit,Sit,yit),l=R.forwardRef(function(u,d){const f=r(),p=n(u),g=PF(p);Eit(g,f.breakpoints);const{className:y,children:v,columns:x=12,container:w=!1,component:S="div",direction:C="row",wrap:k="wrap",size:T={},offset:E={},spacing:A=0,rowSpacing:O=A,columnSpacing:I=A,unstable_level:j=0,...P}=g,$=s(T,f.breakpoints,z=>z!==!1),D=s(E,f.breakpoints),F=u.columns??(j?void 0:x),N=u.spacing??(j?void 0:A),V=u.rowSpacing??u.spacing??(j?void 0:O),H=u.columnSpacing??u.spacing??(j?void 0:I),U={...g,level:j,columns:F,container:w,direction:C,wrap:k,spacing:N,rowSpacing:V,columnSpacing:H,size:$,offset:D},G=o(U,f);return h.jsx(a,{ref:d,as:S,ownerState:U,className:je(G.root,y),...P,children:R.Children.map(v,z=>R.isValidElement(z)&&yE(z,["Grid"])&&w&&z.props.container?R.cloneElement(z,{unstable_level:z.props?.unstable_level??j+1}):z)})});return l.muiName="Grid",l}const Pit=__(),Dit=pX("div",{name:"MuiStack",slot:"Root"});function Oit(e){return DF({props:e,name:"MuiStack",defaultTheme:Pit})}function Iit(e,t){const n=R.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(R.cloneElement(t,{key:`separator-${o}`})),r),[])}const jit=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],$it=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...Cl({theme:t},mE({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=WR(t),i=Object.keys(t.breakpoints.values).reduce((l,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(l[c]=!0),l),{}),o=mE({values:e.direction,base:i}),s=mE({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const f=c>0?o[u[c-1]]:"column";o[l]=f}}),n=Eo(n,Cl({theme:t},s,(l,c)=>e.useFlexGap?{gap:Ff(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${jit(c?o[c]:e.direction)}`]:Ff(r,l)}}))}return n=Dnt(t.breakpoints,n),n};function Fit(e={}){const{createStyledComponent:t=Dit,useThemeProps:n=Oit,componentName:r="MuiStack"}=e,i=()=>Qe({root:["root"]},l=>tt(r,l),{}),o=t($it);return R.forwardRef(function(l,c){const u=n(l),d=PF(u),{component:f="div",direction:p="column",spacing:g=0,divider:y,children:v,className:x,useFlexGap:w=!1,...S}=d,C={direction:p,spacing:g,useFlexGap:w},k=i();return h.jsx(o,{as:f,ownerState:C,ref:c,className:je(k.root,x),...S,children:y?Iit(v,y):v})})}const xT={black:"#000",white:"#fff"},Lit={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},l1={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},c1={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},I2={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},u1={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},d1={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},f1={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function vke(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xT.white,default:xT.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const bke=vke();function xke(){return{text:{primary:xT.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xT.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const YV=xke();function Ode(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Mr(e.main,i):t==="dark"&&(e.dark=es(e.main,o)))}function Ide(e,t,n,r,i){const o=i.light||i,s=i.dark||i*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(o*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function Nit(e="light"){return e==="dark"?{main:u1[200],light:u1[50],dark:u1[400]}:{main:u1[700],light:u1[400],dark:u1[800]}}function zit(e="light"){return e==="dark"?{main:l1[200],light:l1[50],dark:l1[400]}:{main:l1[500],light:l1[300],dark:l1[700]}}function Bit(e="light"){return e==="dark"?{main:c1[500],light:c1[300],dark:c1[700]}:{main:c1[700],light:c1[400],dark:c1[800]}}function Uit(e="light"){return e==="dark"?{main:d1[400],light:d1[300],dark:d1[700]}:{main:d1[700],light:d1[500],dark:d1[900]}}function Vit(e="light"){return e==="dark"?{main:f1[400],light:f1[300],dark:f1[700]}:{main:f1[800],light:f1[500],dark:f1[900]}}function Hit(e="light"){return e==="dark"?{main:I2[400],light:I2[300],dark:I2[700]}:{main:"#ed6c02",light:I2[500],dark:I2[900]}}function Wit(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function vX(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i,...o}=e,s=e.primary||Nit(t),a=e.secondary||zit(t),l=e.error||Bit(t),c=e.info||Uit(t),u=e.success||Vit(t),d=e.warning||Hit(t);function f(v){return i?Wit(v):Lrt(v,YV.text.primary)>=n?YV.text.primary:bke.text.primary}const p=({color:v,name:x,mainShade:w=500,lightShade:S=300,darkShade:C=700})=>{if(v={...v},!v.main&&v[w]&&(v.main=v[w]),!v.hasOwnProperty("main"))throw new Error(Nh(11,x?` (${x})`:"",w));if(typeof v.main!="string")throw new Error(Nh(12,x?` (${x})`:"",JSON.stringify(v.main)));return i?(Ide(i,v,"light",S,r),Ide(i,v,"dark",C,r)):(Ode(v,"light",S,r),Ode(v,"dark",C,r)),v.contrastText||(v.contrastText=f(v.main)),v};let g;return t==="light"?g=vke():t==="dark"&&(g=xke()),Eo({common:{...xT},mode:t,primary:p({color:s,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:u,name:"success"}),grey:Lit,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r,...g},o)}function qit(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function Git(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Yit(e){return Math.round(e*1e5)/1e5}const jde={textTransform:"uppercase"},$de='"Roboto", "Helvetica", "Arial", sans-serif';function wke(e,t){const{fontFamily:n=$de,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,f=r/14,p=u||(v=>`${v/l*f}rem`),g=(v,x,w,S,C)=>({fontFamily:n,fontWeight:v,fontSize:p(x),lineHeight:w,...n===$de?{letterSpacing:`${Yit(S/x)}em`}:{},...C,...c}),y={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(s,14,1.75,.4,jde),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,jde),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Eo({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...y},d,{clone:!1})}const Xit=.2,Kit=.14,Zit=.12;function zi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Xit})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Kit})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Zit})`].join(",")}const Qit=["none",zi(0,2,1,-1,0,1,1,0,0,1,3,0),zi(0,3,1,-2,0,2,2,0,0,1,5,0),zi(0,3,3,-2,0,3,4,0,0,1,8,0),zi(0,2,4,-1,0,4,5,0,0,1,10,0),zi(0,3,5,-1,0,5,8,0,0,1,14,0),zi(0,3,5,-1,0,6,10,0,0,1,18,0),zi(0,4,5,-2,0,7,10,1,0,2,16,1),zi(0,5,5,-3,0,8,10,1,0,3,14,2),zi(0,5,6,-3,0,9,12,1,0,3,16,2),zi(0,6,6,-3,0,10,14,1,0,4,18,3),zi(0,6,7,-4,0,11,15,1,0,4,20,3),zi(0,7,8,-4,0,12,17,2,0,5,22,4),zi(0,7,8,-4,0,13,19,2,0,5,24,4),zi(0,7,9,-4,0,14,21,2,0,5,26,4),zi(0,8,9,-5,0,15,22,2,0,6,28,5),zi(0,8,10,-5,0,16,24,2,0,6,30,5),zi(0,8,11,-5,0,17,26,2,0,6,32,5),zi(0,9,11,-5,0,18,28,2,0,7,34,6),zi(0,9,12,-6,0,19,29,2,0,7,36,6),zi(0,10,13,-6,0,20,31,3,0,8,38,7),zi(0,10,13,-6,0,21,33,3,0,8,40,7),zi(0,10,14,-6,0,22,35,3,0,8,42,7),zi(0,11,14,-7,0,23,36,3,0,9,44,8),zi(0,11,15,-7,0,24,38,3,0,9,46,8)],Jit={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ske={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Fde(e){return`${Math.round(e)}ms`}function eot(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function tot(e){const t={...Jit,...e.easing},n={...Ske,...e.duration};return{getAutoHeightDuration:eot,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:Fde(s)} ${a} ${typeof l=="string"?l:Fde(l)}`).join(",")},...e,easing:t,duration:n}}const not={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function rot(e){return kf(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function _ke(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!rot(a)||s.startsWith("unstable_")?delete r[s]:kf(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Lde(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const iot=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function oot(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:ut(t,iot(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${Lde(n)})`:Mr(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${Lde(n)})`:es(t,n)}})}function XV(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,colorSpace:c,...u}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Nh(20));const d=vX({...o,colorSpace:c}),f=__(e);let p=Eo(f,{mixins:Git(f.breakpoints,r),palette:d,shadows:Qit.slice(),typography:wke(d,a),transitions:tot(s),zIndex:{...not}});return p=Eo(p,u),p=t.reduce((g,y)=>Eo(g,y),p),p.unstable_sxConfig={...qR,...u?.unstable_sxConfig},p.unstable_sx=function(y){return Xm({sx:y,theme:this})},p.toRuntimeSource=_ke,oot(p),p}function KV(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const sot=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=KV(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Cke(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function kke(e){return e==="dark"?sot:[]}function aot(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:i,...o}=e,s=vX({...t,colorSpace:i});return{palette:s,opacity:{...Cke(s.mode),...n},overlays:r||kke(s.mode),...o}}function lot(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const cot=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],uot=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return cot(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",t)]:s,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function dot(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function Xe(e,t,n){!e[t]&&n&&(e[t]=n)}function Ik(e){return typeof e!="string"||!e.startsWith("hsl")?e:fke(e)}function Yp(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Ok(Ik(e[t])))}function fot(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const lf=e=>{try{return e()}catch{}},pot=(e="mui")=>oit(e);function R8(e,t,n,r,i){if(!n)return;n=n===!0?{}:n;const o=i==="dark"?"dark":"light";if(!r){t[i]=aot({...n,palette:{mode:o,...n?.palette},colorSpace:e});return}const{palette:s,...a}=XV({...r,palette:{mode:o,...n?.palette},colorSpace:e});return t[i]={...n,palette:s,opacity:{...Cke(o),...n?.opacity},overlays:n?.overlays||kke(o)},a}function hot(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=lot,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:c=":root",...u}=e,d=Object.keys(n)[0],f=r||(n.light&&d!=="light"?"light":d),p=pot(o),{[f]:g,light:y,dark:v,...x}=n,w={...x};let S=g;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(S=!0),!S)throw new Error(Nh(21,f));let C;s&&(C="oklch");const k=R8(C,w,S,u,f);y&&!w.light&&R8(C,w,y,void 0,"light"),v&&!w.dark&&R8(C,w,v,void 0,"dark");let T={defaultColorScheme:f,...k,cssVarPrefix:o,colorSchemeSelector:l,rootSelector:c,getCssVar:p,colorSchemes:w,font:{...qit(k.typography),...k.font},spacing:fot(u.spacing)};Object.keys(T.colorSchemes).forEach(j=>{const P=T.colorSchemes[j].palette,$=F=>{const N=F.split("-"),V=N[1],H=N[2];return p(F,P[V][H])};P.mode==="light"&&(Xe(P.common,"background","#fff"),Xe(P.common,"onBackground","#000")),P.mode==="dark"&&(Xe(P.common,"background","#000"),Xe(P.common,"onBackground","#fff"));function D(F,N,V){if(C){let H;return F===wy&&(H=`transparent ${((1-V)*100).toFixed(0)}%`),F===Jr&&(H=`#000 ${(V*100).toFixed(0)}%`),F===ei&&(H=`#fff ${(V*100).toFixed(0)}%`),`color-mix(in ${C}, ${N}, ${H})`}return F(N,V)}if(dot(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){Xe(P.Alert,"errorColor",D(Jr,P.error.light,.6)),Xe(P.Alert,"infoColor",D(Jr,P.info.light,.6)),Xe(P.Alert,"successColor",D(Jr,P.success.light,.6)),Xe(P.Alert,"warningColor",D(Jr,P.warning.light,.6)),Xe(P.Alert,"errorFilledBg",$("palette-error-main")),Xe(P.Alert,"infoFilledBg",$("palette-info-main")),Xe(P.Alert,"successFilledBg",$("palette-success-main")),Xe(P.Alert,"warningFilledBg",$("palette-warning-main")),Xe(P.Alert,"errorFilledColor",lf(()=>P.getContrastText(P.error.main))),Xe(P.Alert,"infoFilledColor",lf(()=>P.getContrastText(P.info.main))),Xe(P.Alert,"successFilledColor",lf(()=>P.getContrastText(P.success.main))),Xe(P.Alert,"warningFilledColor",lf(()=>P.getContrastText(P.warning.main))),Xe(P.Alert,"errorStandardBg",D(ei,P.error.light,.9)),Xe(P.Alert,"infoStandardBg",D(ei,P.info.light,.9)),Xe(P.Alert,"successStandardBg",D(ei,P.success.light,.9)),Xe(P.Alert,"warningStandardBg",D(ei,P.warning.light,.9)),Xe(P.Alert,"errorIconColor",$("palette-error-main")),Xe(P.Alert,"infoIconColor",$("palette-info-main")),Xe(P.Alert,"successIconColor",$("palette-success-main")),Xe(P.Alert,"warningIconColor",$("palette-warning-main")),Xe(P.AppBar,"defaultBg",$("palette-grey-100")),Xe(P.Avatar,"defaultBg",$("palette-grey-400")),Xe(P.Button,"inheritContainedBg",$("palette-grey-300")),Xe(P.Button,"inheritContainedHoverBg",$("palette-grey-A100")),Xe(P.Chip,"defaultBorder",$("palette-grey-400")),Xe(P.Chip,"defaultAvatarColor",$("palette-grey-700")),Xe(P.Chip,"defaultIconColor",$("palette-grey-700")),Xe(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Xe(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Xe(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Xe(P.LinearProgress,"primaryBg",D(ei,P.primary.main,.62)),Xe(P.LinearProgress,"secondaryBg",D(ei,P.secondary.main,.62)),Xe(P.LinearProgress,"errorBg",D(ei,P.error.main,.62)),Xe(P.LinearProgress,"infoBg",D(ei,P.info.main,.62)),Xe(P.LinearProgress,"successBg",D(ei,P.success.main,.62)),Xe(P.LinearProgress,"warningBg",D(ei,P.warning.main,.62)),Xe(P.Skeleton,"bg",C?D(wy,P.text.primary,.11):`rgba(${$("palette-text-primaryChannel")} / 0.11)`),Xe(P.Slider,"primaryTrack",D(ei,P.primary.main,.62)),Xe(P.Slider,"secondaryTrack",D(ei,P.secondary.main,.62)),Xe(P.Slider,"errorTrack",D(ei,P.error.main,.62)),Xe(P.Slider,"infoTrack",D(ei,P.info.main,.62)),Xe(P.Slider,"successTrack",D(ei,P.success.main,.62)),Xe(P.Slider,"warningTrack",D(ei,P.warning.main,.62));const F=C?D(Jr,P.background.default,.6825):gD(P.background.default,.8);Xe(P.SnackbarContent,"bg",F),Xe(P.SnackbarContent,"color",lf(()=>C?YV.text.primary:P.getContrastText(F))),Xe(P.SpeedDialAction,"fabHoverBg",gD(P.background.paper,.15)),Xe(P.StepConnector,"border",$("palette-grey-400")),Xe(P.StepContent,"border",$("palette-grey-400")),Xe(P.Switch,"defaultColor",$("palette-common-white")),Xe(P.Switch,"defaultDisabledColor",$("palette-grey-100")),Xe(P.Switch,"primaryDisabledColor",D(ei,P.primary.main,.62)),Xe(P.Switch,"secondaryDisabledColor",D(ei,P.secondary.main,.62)),Xe(P.Switch,"errorDisabledColor",D(ei,P.error.main,.62)),Xe(P.Switch,"infoDisabledColor",D(ei,P.info.main,.62)),Xe(P.Switch,"successDisabledColor",D(ei,P.success.main,.62)),Xe(P.Switch,"warningDisabledColor",D(ei,P.warning.main,.62)),Xe(P.TableCell,"border",D(ei,D(wy,P.divider,1),.88)),Xe(P.Tooltip,"bg",D(wy,P.grey[700],.92))}if(P.mode==="dark"){Xe(P.Alert,"errorColor",D(ei,P.error.light,.6)),Xe(P.Alert,"infoColor",D(ei,P.info.light,.6)),Xe(P.Alert,"successColor",D(ei,P.success.light,.6)),Xe(P.Alert,"warningColor",D(ei,P.warning.light,.6)),Xe(P.Alert,"errorFilledBg",$("palette-error-dark")),Xe(P.Alert,"infoFilledBg",$("palette-info-dark")),Xe(P.Alert,"successFilledBg",$("palette-success-dark")),Xe(P.Alert,"warningFilledBg",$("palette-warning-dark")),Xe(P.Alert,"errorFilledColor",lf(()=>P.getContrastText(P.error.dark))),Xe(P.Alert,"infoFilledColor",lf(()=>P.getContrastText(P.info.dark))),Xe(P.Alert,"successFilledColor",lf(()=>P.getContrastText(P.success.dark))),Xe(P.Alert,"warningFilledColor",lf(()=>P.getContrastText(P.warning.dark))),Xe(P.Alert,"errorStandardBg",D(Jr,P.error.light,.9)),Xe(P.Alert,"infoStandardBg",D(Jr,P.info.light,.9)),Xe(P.Alert,"successStandardBg",D(Jr,P.success.light,.9)),Xe(P.Alert,"warningStandardBg",D(Jr,P.warning.light,.9)),Xe(P.Alert,"errorIconColor",$("palette-error-main")),Xe(P.Alert,"infoIconColor",$("palette-info-main")),Xe(P.Alert,"successIconColor",$("palette-success-main")),Xe(P.Alert,"warningIconColor",$("palette-warning-main")),Xe(P.AppBar,"defaultBg",$("palette-grey-900")),Xe(P.AppBar,"darkBg",$("palette-background-paper")),Xe(P.AppBar,"darkColor",$("palette-text-primary")),Xe(P.Avatar,"defaultBg",$("palette-grey-600")),Xe(P.Button,"inheritContainedBg",$("palette-grey-800")),Xe(P.Button,"inheritContainedHoverBg",$("palette-grey-700")),Xe(P.Chip,"defaultBorder",$("palette-grey-700")),Xe(P.Chip,"defaultAvatarColor",$("palette-grey-300")),Xe(P.Chip,"defaultIconColor",$("palette-grey-300")),Xe(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Xe(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Xe(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Xe(P.LinearProgress,"primaryBg",D(Jr,P.primary.main,.5)),Xe(P.LinearProgress,"secondaryBg",D(Jr,P.secondary.main,.5)),Xe(P.LinearProgress,"errorBg",D(Jr,P.error.main,.5)),Xe(P.LinearProgress,"infoBg",D(Jr,P.info.main,.5)),Xe(P.LinearProgress,"successBg",D(Jr,P.success.main,.5)),Xe(P.LinearProgress,"warningBg",D(Jr,P.warning.main,.5)),Xe(P.Skeleton,"bg",C?D(wy,P.text.primary,.13):`rgba(${$("palette-text-primaryChannel")} / 0.13)`),Xe(P.Slider,"primaryTrack",D(Jr,P.primary.main,.5)),Xe(P.Slider,"secondaryTrack",D(Jr,P.secondary.main,.5)),Xe(P.Slider,"errorTrack",D(Jr,P.error.main,.5)),Xe(P.Slider,"infoTrack",D(Jr,P.info.main,.5)),Xe(P.Slider,"successTrack",D(Jr,P.success.main,.5)),Xe(P.Slider,"warningTrack",D(Jr,P.warning.main,.5));const F=C?D(ei,P.background.default,.985):gD(P.background.default,.98);Xe(P.SnackbarContent,"bg",F),Xe(P.SnackbarContent,"color",lf(()=>C?bke.text.primary:P.getContrastText(F))),Xe(P.SpeedDialAction,"fabHoverBg",gD(P.background.paper,.15)),Xe(P.StepConnector,"border",$("palette-grey-600")),Xe(P.StepContent,"border",$("palette-grey-600")),Xe(P.Switch,"defaultColor",$("palette-grey-300")),Xe(P.Switch,"defaultDisabledColor",$("palette-grey-600")),Xe(P.Switch,"primaryDisabledColor",D(Jr,P.primary.main,.55)),Xe(P.Switch,"secondaryDisabledColor",D(Jr,P.secondary.main,.55)),Xe(P.Switch,"errorDisabledColor",D(Jr,P.error.main,.55)),Xe(P.Switch,"infoDisabledColor",D(Jr,P.info.main,.55)),Xe(P.Switch,"successDisabledColor",D(Jr,P.success.main,.55)),Xe(P.Switch,"warningDisabledColor",D(Jr,P.warning.main,.55)),Xe(P.TableCell,"border",D(Jr,D(wy,P.divider,1),.68)),Xe(P.Tooltip,"bg",D(wy,P.grey[700],.92))}Yp(P.background,"default"),Yp(P.background,"paper"),Yp(P.common,"background"),Yp(P.common,"onBackground"),Yp(P,"divider"),Object.keys(P).forEach(F=>{const N=P[F];F!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&Xe(P[F],"mainChannel",Ok(Ik(N.main))),N.light&&Xe(P[F],"lightChannel",Ok(Ik(N.light))),N.dark&&Xe(P[F],"darkChannel",Ok(Ik(N.dark))),N.contrastText&&Xe(P[F],"contrastTextChannel",Ok(Ik(N.contrastText))),F==="text"&&(Yp(P[F],"primary"),Yp(P[F],"secondary")),F==="action"&&(N.active&&Yp(P[F],"active"),N.selected&&Yp(P[F],"selected")))})}),T=t.reduce((j,P)=>Eo(j,P),T);const E={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:uot(T),enableContrastVars:s},{vars:A,generateThemeVars:O,generateStyleSheets:I}=lit(T,E);return T.vars=A,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([j,P])=>{T[j]=P}),T.generateThemeVars=O,T.generateStyleSheets=I,T.generateSpacing=function(){return nke(u.spacing,WR(this))},T.getColorSchemeSelector=cit(l),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=a,T.unstable_sxConfig={...qR,...u?.unstable_sxConfig},T.unstable_sx=function(P){return Xm({sx:P,theme:this})},T.toRuntimeSource=_ke,T}function Nde(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:vX({...n===!0?{}:n.palette,mode:t})})}function jF(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n?.mode,...s}=e,a=o||"light",l=i?.[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return XV(e,...t);let u=n;"palette"in e||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=XV({...e,palette:u},...t);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},Nde(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},Nde(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),hot({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}function got(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function mot(e){return parseFloat(e)}const $F=jF();function xt(){const e=GR($F);return e[xu]||e}function qn({props:e,name:t}){return DF({props:e,name:t,defaultTheme:$F,themeId:xu})}function FF(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const as=e=>FF(e)&&e!=="classes",we=lke({themeId:xu,defaultTheme:$F,rootShouldForwardProp:as});function yot({theme:e,...t}){const n=xu in e?e[xu]:void 0;return h.jsx(mke,{...t,themeId:n?xu:void 0,theme:n||e})}const mD={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:vot}=iit({themeId:xu,theme:()=>jF({cssVariables:!0}),colorSchemeStorageKey:mD.colorSchemeStorageKey,modeStorageKey:mD.modeStorageKey,defaultColorScheme:{light:mD.defaultLightColorScheme,dark:mD.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:wke(e.palette,e.typography)};return t.unstable_sx=function(r){return Xm({sx:r,theme:this})},t}}),bot=vot;function zde({theme:e,...t}){const n=R.useMemo(()=>{if(typeof e=="function")return e;const r=xu in e?e[xu]:e;return"colorSchemes"in r?null:"vars"in r?e:{...e,vars:null}},[e]);return n?h.jsx(yot,{theme:n,...t}):h.jsx(bot,{theme:e,...t})}const xot=()=>{const e=xt();return h.jsxs(h.Fragment,{children:[h.jsx("title",{children:e.text.title.main}),h.jsx("link",{rel:"icon",href:e.img.favicon.main})]})};function ZV(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function wot(e){return h.jsx(rke,{...e,defaultTheme:$F,themeId:xu})}function bX(e){return function(n){return h.jsx(wot,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function Sot(){return PF}const pt=Krt;function kt(e){return qrt(e)}function _ot(e){return tt("MuiSvgIcon",e)}rt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Cot=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Ee(t)}`,`fontSize${Ee(n)}`]};return Qe(i,_ot,r)},kot=we("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ee(n.color)}`],t[`fontSize${Ee(n.fontSize)}`]]}})(pt(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),QV=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24",...p}=r,g=R.isValidElement(i)&&i.type==="svg",y={...r,color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g},v={};u||(v.viewBox=f);const x=Cot(y);return h.jsxs(kot,{as:a,className:je(x.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...v,...p,...g&&i.props,ownerState:y,children:[g?i.props.children:i,d?h.jsx("title",{children:d}):null]})});QV.muiName="SvgIcon";function He(e,t){function n(r,i){return h.jsx(QV,{"data-testid":void 0,ref:i,...r,children:e})}return n.muiName=QV.muiName,R.memo(R.forwardRef(n))}function Ub(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function ki(e){return e&&e.ownerDocument||document}function Rc(e){return ki(e).defaultView||window}function JV(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ws(e){const{controlled:t,default:n,name:r,state:i="value"}=e,{current:o}=R.useRef(t!==void 0),[s,a]=R.useState(n),l=o?t:s,c=R.useCallback(u=>{o||a(u)},[]);return[l,c]}function mt(e){const t=R.useRef(e);return ii(()=>{t.current=e}),R.useRef((...n)=>(0,t.current)(...n)).current}function Un(...e){const t=R.useRef(void 0),n=R.useCallback(r=>{const i=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},e);return R.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function Eot(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function xX(e,t){if(!e)return t;function n(s,a){const l={};return Object.keys(a).forEach(c=>{Eot(c,a[c])&&typeof s[c]=="function"&&(l[c]=(...u)=>{s[c](...u),a[c](...u)})}),l}if(typeof e=="function"||typeof t=="function")return s=>{const a=typeof t=="function"?t(s):t,l=typeof e=="function"?e({...s,...a}):e,c=je(s?.className,a?.className,l?.className),u=n(l,a);return{...a,...l,...u,...!!c&&{className:c},...a?.style&&l?.style&&{style:{...a.style,...l.style}},...a?.sx&&l?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=t,i=n(e,r),o=je(r?.className,e?.className);return{...t,...e,...i,...!!o&&{className:o},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}const Tot=He(h.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"})),YR=He(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),LF=He(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Rot=He([h.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),h.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")]),wX=He(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"})),SX=He(h.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Eke=He(h.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"})),Tke=He(h.jsx("path",{d:"m7 10 5 5 5-5z"})),vE=He(h.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),Mot=He(h.jsx("path",{d:"m10 17 5-5-5-5z"})),Aot=He(h.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"})),_5=He(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"})),Pot=He(h.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"})),Dot=He(h.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"})),Rke=He(h.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"})),Oot=He(h.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"})),Mke=He(h.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),Iot=He(h.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),C5=He(h.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),jot=He(h.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),_X=He(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),$ot=He(h.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Fot=He(h.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Lot=He(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Not=He(h.jsx("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"})),Vb=He(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),zot=He(h.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),Bot=He(h.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"})),zh=He(h.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),Hb=He(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Uot=He(h.jsx("path",{d:"M3 3h18v2H3zm0 16h18v2H3z"})),Vot=He(h.jsx("path",{d:"M3 3h18v2H3zm0 16h18v2H3zm0-8h18v2H3z"})),Hot=He(h.jsx("path",{d:"M3 2h18v2H3zm0 18h18v2H3zm0-6h18v2H3zm0-6h18v2H3z"})),Ake=He(h.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})),Wot=He(h.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),qot=He(h.jsx("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"})),Got=He(h.jsx("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83M6.21 18H5v-1.21l8.66-8.66 1.21 1.21zM11 20l4-4h6v4z"})),Yot=He([h.jsx("path",{d:"M8 8H6v7c0 1.1.9 2 2 2h9v-2H8z"},"0"),h.jsx("path",{d:"M20 3h-8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 8h-8V7h8zM4 12H2v7c0 1.1.9 2 2 2h9v-2H4z"},"1")]),XR=He(h.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),Xot=He([h.jsx("circle",{cx:"12",cy:"4",r:"2"},"0"),h.jsx("path",{d:"M15.89 8.11C15.5 7.72 14.83 7 13.53 7h-2.54C8.24 6.99 6 4.75 6 2H4c0 3.16 2.11 5.84 5 6.71V22h2v-6h2v6h2V10.05L18.95 14l1.41-1.41z"},"1")]),CX=He(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),Kot=He(h.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"})),KR=He(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Pke=He(h.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 12h-2v-2h2zm0-4h-2V6h2z"})),Dke=He(h.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"})),Oke=He(h.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})),ZR=He(h.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Ike=He(h.jsx("path",{d:"M10.83 8H21V6H8.83zm5 5H18v-2h-4.17zM14 16.83V18h-4v-2h3.17l-3-3H6v-2h2.17l-3-3H3V6h.17L1.39 4.22 2.8 2.81l18.38 18.38-1.41 1.41z"})),Zot=He(h.jsx("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),Qot=He(h.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"})),Jot=He(h.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"})),k5=He(h.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"})),est=He(h.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),tst=He(h.jsx("path",{d:"M17 5h-2V3h2zm-2 16h2v-2.59L19.59 21 21 19.59 18.41 17H21v-2h-6zm4-12h2V7h-2zm0 4h2v-2h-2zm-8 8h2v-2h-2zM7 5h2V3H7zM3 17h2v-2H3zm2 4v-2H3c0 1.1.9 2 2 2M19 3v2h2c0-1.1-.9-2-2-2m-8 2h2V3h-2zM3 9h2V7H3zm4 12h2v-2H7zm-4-8h2v-2H3zm0-8h2V3c-1.1 0-2 .9-2 2"})),nst=He(h.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),wT=He(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),rst=He(h.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),Zm=He(h.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),ST=He(h.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"})),ist=He([h.jsx("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),h.jsx("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")]),ost=He(h.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),sst=He(h.jsx("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),ast=He(h.jsx("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"})),NF=He(h.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),kX=He(h.jsx("path",{d:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5m-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3z"})),Lf=He(h.jsx("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"})),lst=He(h.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),jke=He(h.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),cst=He(h.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),ust=He([h.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),h.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")]),$ke=He(h.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),zF=He(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),QR=He(h.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),dst=He(h.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"})),fst=He(h.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),BF=He(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),EX=He(h.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),pst=He(h.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"})),Fke=He(h.jsx("path",{d:"M8 5v14l11-7z"})),Lke=He(h.jsx("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"})),hst=He(h.jsx("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"})),k_=He(h.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),Nke=He(h.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),gst=He([h.jsx("circle",{cx:"7",cy:"14",r:"3"},"0"),h.jsx("circle",{cx:"11",cy:"6",r:"3"},"1"),h.jsx("circle",{cx:"16.6",cy:"17.6",r:"3"},"2")]),zke=He(h.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),mst=He([h.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),h.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")]),yst=He(h.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),R0=He(h.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),vst=He(h.jsx("path",{d:"M17.41 6.59 15 5.5l2.41-1.09L18.5 2l1.09 2.41L22 5.5l-2.41 1.09L18.5 9zm3.87 6.13L20.5 11l-.78 1.72-1.72.78 1.72.78.78 1.72.78-1.72L23 13.5zm-5.04 1.65 1.94 1.47-2.5 4.33-2.24-.94c-.2.13-.42.26-.64.37l-.3 2.4h-5l-.3-2.41c-.22-.11-.43-.23-.64-.37l-2.24.94-2.5-4.33 1.94-1.47c-.01-.11-.01-.24-.01-.36s0-.25.01-.37l-1.94-1.47 2.5-4.33 2.24.94c.2-.13.42-.26.64-.37L7.5 6h5l.3 2.41c.22.11.43.23.64.37l2.24-.94 2.5 4.33-1.94 1.47c.01.12.01.24.01.37s0 .24-.01.36M13 14c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3"})),bst=He(h.jsx("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"})),aS=He(h.jsx("path",{d:"M11 21H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h6zm2 0h6c1.1 0 2-.9 2-2v-7h-8zm8-11V5c0-1.1-.9-2-2-2h-6v7z"})),eH=He(h.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"})),xst=He(h.jsx("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99zM9 3 5 6.99h3V14h2V6.99h3z"})),wst=He(h.jsx("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"})),Bke=He(h.jsx("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2M3 19c0 1.1.9 2 2 2h3V10H3z"})),Sst=He(h.jsx("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5zm4.42-5.61L7.44 7.6h.12l2.03 5.79zM23 11v2h-8v-2z"})),Uke=He(h.jsx("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5zm4.42-5.61L7.44 7.6h.12l2.03 5.79zM20 11h3v2h-3v3h-2v-3h-3v-2h3V8h2z"})),_st=He(h.jsx("path",{d:"m19.4 4.91-1.06-1.06L7.2 8.27l1.48 1.48 2.19-.92 3.54 3.54-.92 2.19 1.48 1.48zm-6.81 3.1 4.87-2.23-2.23 4.87zM14.27 21v-4.24l-1.41 1.41-8.84-8.84-1.42 1.42 8.84 8.84L10.03 21z"})),Cst=He(h.jsx("path",{d:"M4.49 4.21 3.43 5.27 7.85 16.4l1.48-1.48-.92-2.19 3.54-3.54 2.19.92 1.48-1.48zm3.09 6.8L5.36 6.14l4.87 2.23zm12.99-1.68h-4.24l1.41 1.41-8.84 8.84L10.32 21l8.84-8.84 1.41 1.41z"})),kst=He(h.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),Est=He(h.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),TX=He(h.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),tH=He(h.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),Vke=He(h.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Tst=He(h.jsx("path",{d:"M9 9V3H7v2.59L3.91 2.5 2.5 3.91 5.59 7H3v2zm12 0V7h-2.59l3.09-3.09-1.41-1.41L17 5.59V3h-2v6zM3 15v2h2.59L2.5 20.09l1.41 1.41L7 18.41V21h2v-6zm12 0v6h2v-2.59l3.09 3.09 1.41-1.41L18.41 17H21v-2z"}));function Wt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nH(e,t){return nH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nH(e,t)}function RX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nH(e,t)}function Rst(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Mst(e,t){e.classList?e.classList.add(t):Rst(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Bde(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ast(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Bde(e.className,t):e.setAttribute("class",Bde(e.className&&e.className.baseVal||"",t))}const Ude={disabled:!1},E5=Vt.createContext(null);var Hke=function(t){return t.scrollTop},jk="unmounted",Uy="exited",Vy="entering",F1="entered",rH="exiting",Fc=(function(e){RX(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Uy,o.appearStatus=Vy):l=F1:r.unmountOnExit||r.mountOnEnter?l=jk:l=Uy,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===jk?{status:Uy}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Vy&&s!==F1&&(o=Vy):(s===Vy||s===F1)&&(o=rH)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Vy){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Sk.findDOMNode(this);s&&Hke(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Uy&&this.setState({status:jk})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Sk.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||Ude.disabled){this.safeSetState({status:F1},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Vy},function(){o.props.onEntering(c,u),o.onTransitionEnd(f,function(){o.safeSetState({status:F1},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Sk.findDOMNode(this);if(!o||Ude.disabled){this.safeSetState({status:Uy},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:rH},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Uy},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Sk.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jk)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Wt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vt.createElement(E5.Provider,{value:null},typeof s=="function"?s(i,a):Vt.cloneElement(Vt.Children.only(s),a))},t})(Vt.Component);Fc.contextType=E5;Fc.propTypes={};function p1(){}Fc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p1,onEntering:p1,onEntered:p1,onExit:p1,onExiting:p1,onExited:p1};Fc.UNMOUNTED=jk;Fc.EXITED=Uy;Fc.ENTERING=Vy;Fc.ENTERED=F1;Fc.EXITING=rH;var Pst=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Mst(t,r)})},M8=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Ast(t,r)})},MX=(function(e){RX(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],f=c?d+"-active":l[a+"Active"],p=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:p}},r}var n=t.prototype;return n.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;o==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&i&&Hke(i),a&&(this.appliedClasses[o][s]=a,Pst(i,a))},n.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,c=s.done;this.appliedClasses[o]={},a&&M8(i,a),l&&M8(i,l),c&&M8(i,c)},n.render=function(){var i=this.props;i.classNames;var o=Wt(i,["classNames"]);return Vt.createElement(Fc,me({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t})(Vt.Component);MX.defaultProps={classNames:""};MX.propTypes={};function Dst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AX(e,t){var n=function(o){return t&&R.isValidElement(o)?t(o):o},r=Object.create(null);return e&&R.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Ost(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function lv(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Ist(e,t){return AX(e.children,function(n){return R.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:lv(n,"appear",e),enter:lv(n,"enter",e),exit:lv(n,"exit",e)})})}function jst(e,t,n){var r=AX(e.children),i=Ost(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(R.isValidElement(s)){var a=o in t,l=o in r,c=t[o],u=R.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=R.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:lv(s,"exit",e),enter:lv(s,"enter",e)}):!l&&a&&!u?i[o]=R.cloneElement(s,{in:!1}):l&&a&&R.isValidElement(c)&&(i[o]=R.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:lv(s,"exit",e),enter:lv(s,"enter",e)}))}}),i}var $st=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Fst={component:"div",childFactory:function(t){return t}},JR=(function(e){RX(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Dst(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Ist(i,a):jst(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=AX(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=me({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Wt(i,["component","childFactory"]),l=this.state.contextValue,c=$st(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Vt.createElement(E5.Provider,{value:l},c):Vt.createElement(E5.Provider,{value:l},Vt.createElement(o,a,c))},t})(Vt.Component);JR.propTypes={};JR.defaultProps=Fst;const Vde={};function Wke(e,t){const n=R.useRef(Vde);return n.current===Vde&&(n.current=e(t)),n}const Lst=[];function Nst(e){R.useEffect(e,Lst)}class UF{static create(){return new UF}currentId=null;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function xl(){const e=Wke(UF.create).current;return Nst(e.disposeEffect),e}const PX=e=>e.scrollTop;function Qm(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}function Nf(e){return typeof e=="string"}function qke(e,t,n){return e===void 0||Nf(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function pa(e,t,n){return typeof e=="function"?e(t,n):e}function Rv(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Hde(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Gke(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const p=je(n?.className,o,i?.className,r?.className),g={...n?.style,...i?.style,...r?.style},y={...n,...i,...r};return p.length>0&&(y.className=p),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const s=Rv({...i,...r}),a=Hde(r),l=Hde(i),c=t(s),u=je(c?.className,n?.className,o,i?.className,r?.className),d={...c?.style,...n?.style,...i?.style,...r?.style},f={...c,...n,...l,...a};return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function At(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...f}=o,p=u[e]||r,g=pa(d[e],i),{props:{component:y,...v},internalRef:x}=Gke({className:n,...l,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:g}),w=Un(x,g?.ref,t.ref),S=e==="root"?y||c:y,C=qke(p,{...e==="root"&&!c&&!u[e]&&s,...e!=="root"&&!u[e]&&s,...v,...S&&!a&&{as:S},...S&&a&&{component:S},ref:w},i);return[p,C]}function zst(e){return tt("MuiCollapse",e)}rt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Bst=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Qe(r,zst,n)},Ust=we("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(pt(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Vst=we("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Hst=we("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Jm=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:g,onExited:y,onExiting:v,orientation:x="vertical",slots:w={},slotProps:S={},style:C,timeout:k=Ske.standard,TransitionComponent:T=Fc,...E}=r,A={...r,orientation:x,collapsedSize:a},O=Bst(A),I=xt(),j=xl(),P=R.useRef(null),$=R.useRef(),D=typeof a=="number"?`${a}px`:a,F=x==="horizontal",N=F?"width":"height",V=R.useRef(null),H=Un(n,V),U=fe=>se=>{if(fe){const J=V.current;se===void 0?fe(J):fe(J,se)}},G=()=>P.current?P.current[F?"clientWidth":"clientHeight"]:0,z=U((fe,se)=>{P.current&&F&&(P.current.style.position="absolute"),fe.style[N]=D,d&&d(fe,se)}),W=U((fe,se)=>{const J=G();P.current&&F&&(P.current.style.position="");const{duration:Z,easing:ue}=Qm({style:C,timeout:k,easing:c},{mode:"enter"});if(k==="auto"){const de=I.transitions.getAutoHeightDuration(J);fe.style.transitionDuration=`${de}ms`,$.current=de}else fe.style.transitionDuration=typeof Z=="string"?Z:`${Z}ms`;fe.style[N]=`${J}px`,fe.style.transitionTimingFunction=ue,p&&p(fe,se)}),X=U((fe,se)=>{fe.style[N]="auto",f&&f(fe,se)}),Q=U(fe=>{fe.style[N]=`${G()}px`,g&&g(fe)}),ee=U(y),ne=U(fe=>{const se=G(),{duration:J,easing:Z}=Qm({style:C,timeout:k,easing:c},{mode:"exit"});if(k==="auto"){const ue=I.transitions.getAutoHeightDuration(se);fe.style.transitionDuration=`${ue}ms`,$.current=ue}else fe.style.transitionDuration=typeof J=="string"?J:`${J}ms`;fe.style[N]=D,fe.style.transitionTimingFunction=Z,v&&v(fe)}),oe=fe=>{k==="auto"&&j.start($.current||0,fe),i&&i(V.current,fe)},ce={slots:w,slotProps:S,component:l},[re,ge]=At("root",{ref:H,className:je(O.root,s),elementType:Ust,externalForwardedProps:ce,ownerState:A,additionalProps:{style:{[F?"minWidth":"minHeight"]:D,...C}}}),[he,ie]=At("wrapper",{ref:P,className:O.wrapper,elementType:Vst,externalForwardedProps:ce,ownerState:A}),[xe,q]=At("wrapperInner",{className:O.wrapperInner,elementType:Hst,externalForwardedProps:ce,ownerState:A});return h.jsx(T,{in:u,onEnter:z,onEntered:X,onEntering:W,onExit:Q,onExited:ee,onExiting:ne,addEndListener:oe,nodeRef:V,timeout:k==="auto"?null:k,...E,children:(fe,{ownerState:se,...J})=>{const Z={...A,state:fe};return h.jsx(re,{...ge,className:je(ge.className,{entered:O.entered,exited:!u&&D==="0px"&&O.hidden}[fe]),ownerState:Z,...J,children:h.jsx(he,{...ie,ownerState:Z,children:h.jsx(xe,{...q,ownerState:Z,children:o})})})}})});Jm&&(Jm.muiSupportAuto=!0);function Wst(e){return tt("MuiPaper",e)}rt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const qst=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Qe(o,Wst,i)},Gst=we("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(pt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Pr=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiPaper"}),i=xt(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:s,elevation:a,square:l,variant:c},f=qst(d);return h.jsx(Gst,{as:s,ownerState:d,className:je(f.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ut("#fff",KV(a))}, ${ut("#fff",KV(a))})`}},...u.style}})}),Yke=R.createContext({});function Yst(e){return tt("MuiAccordion",e)}const yD=rt("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),Xst=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return Qe({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},Yst,t)},Kst=we(Pr,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${yD.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(pt(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${yD.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${yD.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),pt(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${yD.expanded}`]:{margin:"16px 0"}}}]}))),Zst=we("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),Qst=we("div",{name:"MuiAccordion",slot:"Region"})({}),VF=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:f={},slotProps:p={},TransitionComponent:g,TransitionProps:y,...v}=r,[x,w]=Ws({controlled:c,default:s,name:"Accordion",state:"expanded"}),S=R.useCallback(G=>{w(!x),u&&u(G,!x)},[x,u,w]),[C,...k]=R.Children.toArray(i),T=R.useMemo(()=>({expanded:x,disabled:a,disableGutters:l,toggle:S}),[x,a,l,S]),E={...r,square:d,disabled:a,disableGutters:l,expanded:x},A=Xst(E),O={transition:g,...f},I={transition:y,...p},j={slots:O,slotProps:I},[P,$]=At("root",{elementType:Kst,externalForwardedProps:{...j,...v},className:je(A.root,o),shouldForwardComponentProp:!0,ownerState:E,ref:n,additionalProps:{square:d}}),[D,F]=At("heading",{elementType:Zst,externalForwardedProps:j,className:A.heading,ownerState:E}),[N,V]=At("transition",{elementType:Jm,externalForwardedProps:j,ownerState:E}),[H,U]=At("region",{elementType:Qst,externalForwardedProps:j,ownerState:E,className:A.region,additionalProps:{"aria-labelledby":C.props.id,id:C.props["aria-controls"],role:"region"}});return h.jsxs(P,{...$,children:[h.jsx(D,{...F,children:h.jsx(Yke.Provider,{value:T,children:C})}),h.jsx(N,{in:x,timeout:"auto",...V,children:h.jsx(H,{...U,children:k})})]})});function Jst(e){return tt("MuiAccordionDetails",e)}rt("MuiAccordionDetails",["root"]);const eat=e=>{const{classes:t}=e;return Qe({root:["root"]},Jst,t)},tat=we("div",{name:"MuiAccordionDetails",slot:"Root"})(pt(({theme:e})=>({padding:e.spacing(1,2,2)}))),HF=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAccordionDetails"}),{className:i,...o}=r,s=r,a=eat(s);return h.jsx(tat,{className:je(a.root,i),ref:n,ownerState:s,...o})}),E_=te.oneOfType([te.func,te.object]);function e0(e){try{return e.matches(":focus-visible")}catch{}return!1}class T5{static create(){return new T5}static use(){const t=Wke(T5.create).current,[n,r]=R.useState(!1);return t.shouldMount=n,t.setShouldMount=r,R.useEffect(t.mountEffect,[n]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=rat(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function nat(){return T5.use()}function rat(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function iat(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[u,d]=R.useState(!1),f=je(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=je(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),R.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),h.jsx("span",{className:f,style:p,children:h.jsx("span",{className:g})})}const ou=rt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),iH=550,oat=80,sat=cp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,aat=cp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,lat=cp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,cat=we("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uat=we(iat,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ou.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${sat};
    animation-duration: ${iH}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${ou.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${ou.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ou.childLeaving} {
    opacity: 0;
    animation-name: ${aat};
    animation-duration: ${iH}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${ou.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${lat};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,dat=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=R.useState([]),u=R.useRef(0),d=R.useRef(null);R.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=R.useRef(!1),p=xl(),g=R.useRef(null),y=R.useRef(null),v=R.useCallback(C=>{const{pulsate:k,rippleX:T,rippleY:E,rippleSize:A,cb:O}=C;c(I=>[...I,h.jsx(uat,{classes:{ripple:je(o.ripple,ou.ripple),rippleVisible:je(o.rippleVisible,ou.rippleVisible),ripplePulsate:je(o.ripplePulsate,ou.ripplePulsate),child:je(o.child,ou.child),childLeaving:je(o.childLeaving,ou.childLeaving),childPulsate:je(o.childPulsate,ou.childPulsate)},timeout:iH,pulsate:k,rippleX:T,rippleY:E,rippleSize:A},u.current)]),u.current+=1,d.current=O},[o]),x=R.useCallback((C={},k={},T=()=>{})=>{const{pulsate:E=!1,center:A=i||k.pulsate,fakeElement:O=!1}=k;if(C?.type==="mousedown"&&f.current){f.current=!1;return}C?.type==="touchstart"&&(f.current=!0);const I=O?null:y.current,j=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let P,$,D;if(A||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)P=Math.round(j.width/2),$=Math.round(j.height/2);else{const{clientX:F,clientY:N}=C.touches&&C.touches.length>0?C.touches[0]:C;P=Math.round(F-j.left),$=Math.round(N-j.top)}if(A)D=Math.sqrt((2*j.width**2+j.height**2)/3),D%2===0&&(D+=1);else{const F=Math.max(Math.abs((I?I.clientWidth:0)-P),P)*2+2,N=Math.max(Math.abs((I?I.clientHeight:0)-$),$)*2+2;D=Math.sqrt(F**2+N**2)}C?.touches?g.current===null&&(g.current=()=>{v({pulsate:E,rippleX:P,rippleY:$,rippleSize:D,cb:T})},p.start(oat,()=>{g.current&&(g.current(),g.current=null)})):v({pulsate:E,rippleX:P,rippleY:$,rippleSize:D,cb:T})},[i,v,p]),w=R.useCallback(()=>{x({},{pulsate:!0})},[x]),S=R.useCallback((C,k)=>{if(p.clear(),C?.type==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{S(C,k)});return}g.current=null,c(T=>T.length>0?T.slice(1):T),d.current=k},[p]);return R.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:S}),[w,x,S]),h.jsx(cat,{className:je(ou.root,o.root,s),ref:y,...a,children:h.jsx(JR,{component:null,exit:!0,children:l})})});function fat(e){return tt("MuiButtonBase",e)}const pat=rt("MuiButtonBase",["root","disabled","focusVisible"]),hat=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Qe({root:["root",t&&"disabled",n&&"focusVisible"]},fat,i);return n&&r&&(s.root+=` ${r}`),s},gat=we("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${pat.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Dl=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:y,onClick:v,onContextMenu:x,onDragLeave:w,onFocus:S,onFocusVisible:C,onKeyDown:k,onKeyUp:T,onMouseDown:E,onMouseLeave:A,onMouseUp:O,onTouchEnd:I,onTouchMove:j,onTouchStart:P,tabIndex:$=0,TouchRippleProps:D,touchRippleRef:F,type:N,...V}=r,H=R.useRef(null),U=nat(),G=Un(U.ref,F),[z,W]=R.useState(!1);c&&z&&W(!1),R.useImperativeHandle(i,()=>({focusVisible:()=>{W(!0),H.current.focus()}}),[]);const X=U.shouldMount&&!u&&!c;R.useEffect(()=>{z&&f&&!u&&U.pulsate()},[u,f,z,U]);const Q=Xp(U,"start",E,d),ee=Xp(U,"stop",x,d),ne=Xp(U,"stop",w,d),oe=Xp(U,"stop",O,d),ce=Xp(U,"stop",le=>{z&&le.preventDefault(),A&&A(le)},d),re=Xp(U,"start",P,d),ge=Xp(U,"stop",I,d),he=Xp(U,"stop",j,d),ie=Xp(U,"stop",le=>{e0(le.target)||W(!1),y&&y(le)},!1),xe=mt(le=>{H.current||(H.current=le.currentTarget),e0(le.target)&&(W(!0),C&&C(le)),S&&S(le)}),q=()=>{const le=H.current;return l&&l!=="button"&&!(le.tagName==="A"&&le.href)},fe=mt(le=>{f&&!le.repeat&&z&&le.key===" "&&U.stop(le,()=>{U.start(le)}),le.target===le.currentTarget&&q()&&le.key===" "&&le.preventDefault(),k&&k(le),le.target===le.currentTarget&&q()&&le.key==="Enter"&&!c&&(le.preventDefault(),v&&v(le))}),se=mt(le=>{f&&le.key===" "&&z&&!le.defaultPrevented&&U.stop(le,()=>{U.pulsate(le)}),T&&T(le),v&&le.target===le.currentTarget&&q()&&le.key===" "&&!le.defaultPrevented&&v(le)});let J=l;J==="button"&&(V.href||V.to)&&(J=g);const Z={};if(J==="button"){const le=!!V.formAction;Z.type=N===void 0&&!le?"button":N,Z.disabled=c}else!V.href&&!V.to&&(Z.role="button"),c&&(Z["aria-disabled"]=c);const ue=Un(n,H),de={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:$,focusVisible:z},be=hat(de);return h.jsxs(gat,{as:J,className:je(be.root,a),ownerState:de,onBlur:ie,onClick:v,onContextMenu:ee,onFocus:xe,onKeyDown:fe,onKeyUp:se,onMouseDown:Q,onMouseLeave:ce,onMouseUp:oe,onDragLeave:ne,onTouchEnd:ge,onTouchMove:he,onTouchStart:re,ref:ue,tabIndex:c?-1:$,type:N,...Z,...V,children:[s,X?h.jsx(dat,{ref:G,center:o,...D}):null]})});function Xp(e,t,n,r=!1){return mt(i=>(n&&n(i),r||e[t](i),!0))}function mat(e){return tt("MuiAccordionSummary",e)}const Z1=rt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),yat=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return Qe({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},mat,t)},vat=we(Dl,{name:"MuiAccordionSummary",slot:"Root"})(pt(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${Z1.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Z1.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Z1.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${Z1.expanded}`]:{minHeight:64}}}]}})),bat=we("span",{name:"MuiAccordionSummary",slot:"Content"})(pt(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Z1.expanded}`]:{margin:"20px 0"}}}]}))),xat=we("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(pt(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Z1.expanded}`]:{transform:"rotate(180deg)"}}))),WF=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l,slots:c,slotProps:u,...d}=r,{disabled:f=!1,disableGutters:p,expanded:g,toggle:y}=R.useContext(Yke),v=I=>{y&&y(I),l&&l(I)},x={...r,expanded:g,disabled:f,disableGutters:p},w=yat(x),S={slots:c,slotProps:u},[C,k]=At("root",{ref:n,shouldForwardComponentProp:!0,className:je(w.root,o),elementType:vat,externalForwardedProps:{...S,...d},ownerState:x,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:f,"aria-expanded":g,focusVisibleClassName:je(w.focusVisible,a)},getSlotProps:I=>({...I,onClick:j=>{I.onClick?.(j),v(j)}})}),[T,E]=At("content",{className:w.content,elementType:bat,externalForwardedProps:S,ownerState:x}),[A,O]=At("expandIconWrapper",{className:w.expandIconWrapper,elementType:xat,externalForwardedProps:S,ownerState:x});return h.jsxs(C,{...k,children:[h.jsx(T,{...E,children:i}),s&&h.jsx(A,{...O,children:s})]})});function wat(e){return typeof e.main=="string"}function Sat(e,t=[]){if(!wat(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function cr(e=[]){return([,t])=>t&&Sat(t,e)}function _at(e){return tt("MuiAlert",e)}const Wde=rt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Cat(e){return tt("MuiCircularProgress",e)}rt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Qu=44,oH=cp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,sH=cp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,kat=typeof oH!="string"?T0`
        animation: ${oH} 1.4s linear infinite;
      `:null,Eat=typeof sH!="string"?T0`
        animation: ${sH} 1.4s ease-in-out infinite;
      `:null,Tat=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${Ee(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Ee(n)}`,i&&"circleDisableShrink"]};return Qe(o,Cat,t)},Rat=we("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ee(n.color)}`]]}})(pt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:kat||{animation:`${oH} 1.4s linear infinite`}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),Mat=we("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Aat=we("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ee(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(pt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:Eat||{animation:`${sH} 1.4s ease-in-out infinite`}}]}))),Pat=we("circle",{name:"MuiCircularProgress",slot:"Track"})(pt(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),To=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,enableTrackSlot:a=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:f="indeterminate",...p}=r,g={...r,color:o,disableShrink:s,size:l,thickness:u,value:d,variant:f,enableTrackSlot:a},y=Tat(g),v={},x={},w={};if(f==="determinate"){const S=2*Math.PI*((Qu-u)/2);v.strokeDasharray=S.toFixed(3),w["aria-valuenow"]=Math.round(d),v.strokeDashoffset=`${((100-d)/100*S).toFixed(3)}px`,x.transform="rotate(-90deg)"}return h.jsx(Rat,{className:je(y.root,i),style:{width:l,height:l,...x,...c},ownerState:g,ref:n,role:"progressbar",...w,...p,children:h.jsxs(Mat,{className:y.svg,ownerState:g,viewBox:`${Qu/2} ${Qu/2} ${Qu} ${Qu}`,children:[a?h.jsx(Pat,{className:y.track,ownerState:g,cx:Qu,cy:Qu,r:(Qu-u)/2,fill:"none",strokeWidth:u,"aria-hidden":"true"}):null,h.jsx(Aat,{className:y.circle,style:v,ownerState:g,cx:Qu,cy:Qu,r:(Qu-u)/2,fill:"none",strokeWidth:u})]})})});function Dat(e){return tt("MuiIconButton",e)}const qde=rt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Oat=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:s}=e,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Ee(r)}`,i&&`edge${Ee(i)}`,`size${Ee(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Qe(a,Dat,t)},Iat=we(Dl,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Ee(n.color)}`],n.edge&&t[`edge${Ee(n.edge)}`],t[`size${Ee(n.size)}`]]}})(pt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),pt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${qde.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${qde.loading}`]:{color:"transparent"}}))),jat=we("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Pt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:d,loading:f=null,loadingIndicator:p,...g}=r,y=$c(d),v=p??h.jsx(To,{"aria-labelledby":y,color:"inherit",size:16}),x={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:f,loadingIndicator:v,size:u},w=Oat(x);return h.jsxs(Iat,{id:f?y:d,className:je(w.root,s),centerRipple:!0,focusRipple:!c,disabled:l||f,ref:n,...g,ownerState:x,children:[typeof f=="boolean"&&h.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:h.jsx(jat,{className:w.loadingIndicator,ownerState:x,children:f&&v})}),o]})}),$at=He(h.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),Fat=He(h.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Lat=He(h.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Nat=He(h.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Xke=He(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),zat=e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`color${Ee(n||r)}`,`${t}${Ee(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Qe(o,_at,i)},Bat=we(Pr,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ee(n.color||n.severity)}`]]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?e.darken:e.lighten,n=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(cr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${Wde.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(cr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${Wde.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(cr(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)}}}))]}})),Uat=we("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Vat=we("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),Hat=we("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Gde={success:h.jsx($at,{fontSize:"inherit"}),warning:h.jsx(Fat,{fontSize:"inherit"}),error:h.jsx(Lat,{fontSize:"inherit"}),info:h.jsx(Nat,{fontSize:"inherit"})},_T=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAlert"}),{action:i,children:o,className:s,closeText:a="Close",color:l,components:c={},componentsProps:u={},icon:d,iconMapping:f=Gde,onClose:p,role:g="alert",severity:y="success",slotProps:v={},slots:x={},variant:w="standard",...S}=r,C={...r,color:l,severity:y,variant:w,colorSeverity:l||y},k=zat(C),T={slots:{closeButton:c.CloseButton,closeIcon:c.CloseIcon,...x},slotProps:{...u,...v}},[E,A]=At("root",{ref:n,shouldForwardComponentProp:!0,className:je(k.root,s),elementType:Bat,externalForwardedProps:{...T,...S},ownerState:C,additionalProps:{role:g,elevation:0}}),[O,I]=At("icon",{className:k.icon,elementType:Uat,externalForwardedProps:T,ownerState:C}),[j,P]=At("message",{className:k.message,elementType:Vat,externalForwardedProps:T,ownerState:C}),[$,D]=At("action",{className:k.action,elementType:Hat,externalForwardedProps:T,ownerState:C}),[F,N]=At("closeButton",{elementType:Pt,externalForwardedProps:T,ownerState:C}),[V,H]=At("closeIcon",{elementType:Xke,externalForwardedProps:T,ownerState:C});return h.jsxs(E,{...A,children:[d!==!1?h.jsx(O,{...I,children:d||f[y]||Gde[y]}):null,h.jsx(j,{...P,children:o}),i!=null?h.jsx($,{...D,children:i}):null,i==null&&p?h.jsx($,{...D,children:h.jsx(F,{size:"small","aria-label":a,title:a,color:"inherit",onClick:p,...N,children:h.jsx(V,{fontSize:"small",...H})})}):null]})});function Wat(e){return tt("MuiTypography",e)}const Yde=rt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),qat={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Gat=Sot(),Yat=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${Ee(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Qe(a,Wat,s)},Xat=we("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ee(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(pt(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Ee(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),Xde={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ae=R.forwardRef(function(t,n){const{color:r,...i}=kt({props:t,name:"MuiTypography"}),o=!qat[r],s=Gat({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:f=!1,variant:p="body1",variantMapping:g=Xde,...y}=s,v={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:f,variant:p,variantMapping:g},x=c||(f?"p":g[p]||Xde[p])||"span",w=Yat(v);return h.jsx(Xat,{as:x,ref:n,className:je(w.root,l),...y,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...y.style}})});function Kat(e){return tt("MuiAlertTitle",e)}rt("MuiAlertTitle",["root"]);const Zat=e=>{const{classes:t}=e;return Qe({root:["root"]},Kat,t)},Qat=we(ae,{name:"MuiAlertTitle",slot:"Root"})(pt(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2}))),Jat=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAlertTitle"}),{className:i,...o}=r,s=r,a=Zat(s);return h.jsx(Qat,{gutterBottom:!0,component:"div",ownerState:s,ref:n,className:je(a.root,i),...o})});function elt(e){return tt("MuiAppBar",e)}rt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const tlt=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${Ee(t)}`,`position${Ee(n)}`]};return Qe(i,elt,r)},Kde=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,nlt=we(Pr,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ee(n.position)}`],t[`color${Ee(n.color)}`]]}})(pt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(cr(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?Kde(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?Kde(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),eM=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed",...l}=r,c={...r,color:o,position:a,enableColorOnDark:s},u=tlt(c);return h.jsx(nlt,{square:!0,component:"header",ownerState:c,elevation:4,className:je(u.root,i,a==="fixed"&&"mui-fixed"),ref:n,...l})});function DX(e){const t=R.useRef({});return R.useEffect(()=>{t.current=e}),t.current}function Zde({array1:e,array2:t,parser:n=r=>r}){return e&&t&&e.length===t.length&&e.every((r,i)=>n(r)===n(t[i]))}function Qde(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function rlt(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=e;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=Qde(u));const d=u?a.filter(f=>{let p=(o||c)(f);return n&&(p=p.toLowerCase()),t&&(p=Qde(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?d.slice(0,r):d}}const ilt=rlt(),Jde=5,olt=e=>e.current!==null&&e.current.parentElement?.contains(document.activeElement),slt=[];function efe(e,t,n,r){if(t||e==null||r)return"";const i=n(e);return typeof i=="string"?i:""}function alt(e){const{unstable_isActiveElementInListbox:t=olt,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=e.multiple?slt:null,disableClearable:d=!1,disableCloseOnSelect:f=!1,disabled:p,disabledItemsFocusable:g=!1,disableListWrap:y=!1,filterOptions:v=ilt,filterSelectedOptions:x=!1,freeSolo:w=!1,getOptionDisabled:S,getOptionKey:C,getOptionLabel:k=qe=>qe.label??qe,groupBy:T,handleHomeEndKeys:E=!e.freeSolo,id:A,includeInputInList:O=!1,inputValue:I,isOptionEqualToValue:j=(qe,We)=>qe===We,multiple:P=!1,onChange:$,onClose:D,onHighlightChange:F,onInputChange:N,onOpen:V,open:H,openOnFocus:U=!1,options:G,readOnly:z=!1,renderValue:W,selectOnFocus:X=!e.freeSolo,value:Q}=e,ee=$c(A);let ne=k;ne=qe=>{const We=k(qe);return typeof We!="string"?String(We):We};const oe=R.useRef(!1),ce=R.useRef(!0),re=R.useRef(null),ge=R.useRef(null),[he,ie]=R.useState(null),[xe,q]=R.useState(-1),fe=i?0:-1,se=R.useRef(fe),J=R.useRef(efe(u??Q,P,ne)).current,[Z,ue]=Ws({controlled:Q,default:u,name:c}),[de,be]=Ws({controlled:I,default:J,name:c,state:"inputValue"}),[le,Se]=R.useState(!1),ye=R.useCallback((qe,We,Nt)=>{if(!(P?Z.length<We.length:We!==null)&&!a)return;const vn=efe(We,P,ne,W);de!==vn&&(be(vn),N&&N(qe,vn,Nt))},[ne,de,P,N,be,a,Z,W]),[ve,_e]=Ws({controlled:H,default:!1,name:c,state:"open"}),[Ae,Te]=R.useState(!0),Pe=!P&&Z!=null&&de===ne(Z),Le=ve&&!z,$e=Le?v(G.filter(qe=>!(x&&(P?Z:[Z]).some(We=>We!==null&&j(qe,We)))),{inputValue:Pe&&Ae?"":de,getOptionLabel:ne}):[],at=DX({filteredOptions:$e,value:Z,inputValue:de});R.useEffect(()=>{const qe=Z!==at.value;le&&!qe||w&&!qe||ye(null,Z,"reset")},[Z,ye,le,at.value,w]);const Re=ve&&$e.length>0&&!z,Ze=mt(qe=>{if(qe===-1)re.current.focus();else{const We=W?"data-item-index":"data-tag-index";he.querySelector(`[${We}="${qe}"]`).focus()}});R.useEffect(()=>{P&&xe>Z.length-1&&(q(-1),Ze(-1))},[Z,P,xe,Ze]);function Rt(qe,We){if(!ge.current||qe<0||qe>=$e.length)return-1;let Nt=qe;for(;;){const an=ge.current.querySelector(`[data-option-index="${Nt}"]`),vn=g?!1:!an||an.disabled||an.getAttribute("aria-disabled")==="true";if(an&&an.hasAttribute("tabindex")&&!vn)return Nt;if(We==="next"?Nt=(Nt+1)%$e.length:Nt=(Nt-1+$e.length)%$e.length,Nt===qe)return-1}}const Ct=mt(({event:qe,index:We,reason:Nt})=>{if(se.current=We,We===-1?re.current.removeAttribute("aria-activedescendant"):re.current.setAttribute("aria-activedescendant",`${ee}-option-${We}`),F&&["mouse","keyboard","touch"].includes(Nt)&&F(qe,We===-1?null:$e[We],Nt),!ge.current)return;const an=ge.current.querySelector(`[role="option"].${n}-focused`);an&&(an.classList.remove(`${n}-focused`),an.classList.remove(`${n}-focusVisible`));let vn=ge.current;if(ge.current.getAttribute("role")!=="listbox"&&(vn=ge.current.parentElement.querySelector('[role="listbox"]')),!vn)return;if(We===-1){vn.scrollTop=0;return}const di=ge.current.querySelector(`[data-option-index="${We}"]`);if(di&&(di.classList.add(`${n}-focused`),Nt==="keyboard"&&di.classList.add(`${n}-focusVisible`),vn.scrollHeight>vn.clientHeight&&Nt!=="mouse"&&Nt!=="touch")){const Ur=di,Er=vn.clientHeight+vn.scrollTop,Ep=Ur.offsetTop+Ur.offsetHeight;Ep>Er?vn.scrollTop=Ep-vn.clientHeight:Ur.offsetTop-Ur.offsetHeight*(T?1.3:0)<vn.scrollTop&&(vn.scrollTop=Ur.offsetTop-Ur.offsetHeight*(T?1.3:0))}}),De=mt(({event:qe,diff:We,direction:Nt="next",reason:an})=>{if(!Le)return;const di=Rt((()=>{const Ur=$e.length-1;if(We==="reset")return fe;if(We==="start")return 0;if(We==="end")return Ur;const Er=se.current+We;return Er<0?Er===-1&&O?-1:y&&se.current!==-1||Math.abs(We)>1?0:Ur:Er>Ur?Er===Ur+1&&O?-1:y||Math.abs(We)>1?Ur:0:Er})(),Nt);if(Ct({index:di,reason:an,event:qe}),r&&We!=="reset")if(di===-1)re.current.value=de;else{const Ur=ne($e[di]);re.current.value=Ur,Ur.toLowerCase().indexOf(de.toLowerCase())===0&&de.length>0&&re.current.setSelectionRange(de.length,Ur.length)}}),bt=!Zde({array1:at.filteredOptions,array2:$e,parser:ne}),Gt=()=>{const qe=(We,Nt)=>{const an=We?ne(We):"",vn=Nt?ne(Nt):"";return an===vn};if(se.current!==-1&&!Zde({array1:at.filteredOptions,array2:$e,parser:ne})&&at.inputValue===de&&(P?Z.length===at.value.length&&at.value.every((We,Nt)=>ne(Z[Nt])===ne(We)):qe(at.value,Z))){const We=at.filteredOptions[se.current];if(We)return $e.findIndex(Nt=>ne(Nt)===ne(We))}return-1},Cn=R.useCallback(()=>{if(!Le)return;const qe=Gt();if(qe!==-1){se.current=qe;return}const We=P?Z[0]:Z;if($e.length===0||We==null){De({diff:"reset"});return}if(ge.current){if(We!=null){const Nt=$e[se.current];if(P&&Nt&&Z.findIndex(vn=>j(Nt,vn))!==-1)return;const an=$e.findIndex(vn=>j(vn,We));an===-1?De({diff:"reset"}):Ct({index:an});return}if(se.current>=$e.length-1){Ct({index:$e.length-1});return}Ct({index:se.current})}},[$e.length,P?!1:Z,De,Ct,Le,de,P]),An=mt(qe=>{JV(ge,qe),qe&&Cn()});R.useEffect(()=>{(bt||Le)&&Cn()},[Cn,bt,Le]);const Lt=qe=>{ve||(_e(!0),Te(!0),V&&V(qe))},qt=(qe,We)=>{ve&&(_e(!1),D&&D(qe,We))},ur=(qe,We,Nt,an)=>{if(P){if(Z.length===We.length&&Z.every((vn,di)=>vn===We[di]))return}else if(Z===We)return;$&&$(qe,We,Nt,an),ue(We)},ct=R.useRef(!1),Yt=(qe,We,Nt="selectOption",an="options")=>{let vn=Nt,di=We;if(P){di=Array.isArray(Z)?Z.slice():[];const Ur=di.findIndex(Er=>j(We,Er));Ur===-1?di.push(We):an!=="freeSolo"&&(di.splice(Ur,1),vn="removeOption")}ye(qe,di,vn),ur(qe,di,vn,{option:We}),!f&&(!qe||!qe.ctrlKey&&!qe.metaKey)&&qt(qe,vn),(s===!0||s==="touch"&&ct.current||s==="mouse"&&!ct.current)&&re.current.blur()};function St(qe,We){if(qe===-1)return-1;let Nt=qe;for(;;){if(We==="next"&&Nt===Z.length||We==="previous"&&Nt===-1)return-1;const an=W?"data-item-index":"data-tag-index",vn=he.querySelector(`[${an}="${Nt}"]`);if(!vn||!vn.hasAttribute("tabindex")||vn.disabled||vn.getAttribute("aria-disabled")==="true")Nt+=We==="next"?1:-1;else return Nt}}const Ln=(qe,We)=>{if(!P)return;de===""&&qt(qe,"toggleInput");let Nt=xe;xe===-1?de===""&&We==="previous"&&(Nt=Z.length-1):(Nt+=We==="next"?1:-1,Nt<0&&(Nt=0),Nt===Z.length&&(Nt=-1)),Nt=St(Nt,We),q(Nt),Ze(Nt)},vt=qe=>{oe.current=!0,be(""),N&&N(qe,"","clear"),ur(qe,P?[]:null,"clear")},Xt=qe=>We=>{if(qe.onKeyDown&&qe.onKeyDown(We),!We.defaultMuiPrevented&&(xe!==-1&&!["ArrowLeft","ArrowRight"].includes(We.key)&&(q(-1),Ze(-1)),We.which!==229))switch(We.key){case"Home":Le&&E&&(We.preventDefault(),De({diff:"start",direction:"next",reason:"keyboard",event:We}));break;case"End":Le&&E&&(We.preventDefault(),De({diff:"end",direction:"previous",reason:"keyboard",event:We}));break;case"PageUp":We.preventDefault(),De({diff:-Jde,direction:"previous",reason:"keyboard",event:We}),Lt(We);break;case"PageDown":We.preventDefault(),De({diff:Jde,direction:"next",reason:"keyboard",event:We}),Lt(We);break;case"ArrowDown":We.preventDefault(),De({diff:1,direction:"next",reason:"keyboard",event:We}),Lt(We);break;case"ArrowUp":We.preventDefault(),De({diff:-1,direction:"previous",reason:"keyboard",event:We}),Lt(We);break;case"ArrowLeft":!P&&W&&Z!=null?(q(0),Ze(0)):Ln(We,"previous");break;case"ArrowRight":!P&&W?(q(-1),Ze(-1)):Ln(We,"next");break;case"Enter":if(se.current!==-1&&Le){const Nt=$e[se.current],an=S?S(Nt):!1;if(We.preventDefault(),an)return;Yt(We,Nt,"selectOption"),r&&re.current.setSelectionRange(re.current.value.length,re.current.value.length)}else w&&de!==""&&Pe===!1&&(P&&We.preventDefault(),Yt(We,de,"createOption","freeSolo"));break;case"Escape":Le?(We.preventDefault(),We.stopPropagation(),qt(We,"escape")):l&&(de!==""||P&&Z.length>0||W)&&(We.preventDefault(),We.stopPropagation(),vt(We));break;case"Backspace":if(P&&!z&&de===""&&Z.length>0){const Nt=xe===-1?Z.length-1:xe,an=Z.slice();an.splice(Nt,1),ur(We,an,"removeOption",{option:Z[Nt]})}!P&&W&&!z&&(ue(null),q(-1),Ze(-1));break;case"Delete":if(P&&!z&&de===""&&Z.length>0&&xe!==-1){const Nt=xe,an=Z.slice();an.splice(Nt,1),ur(We,an,"removeOption",{option:Z[Nt]})}!P&&W&&!z&&(ue(null),q(-1),Ze(-1));break}},Pn=qe=>{Se(!0),xe!==-1&&(q(-1),Ze(-1)),U&&!oe.current&&Lt(qe)},Dn=qe=>{if(t(ge)){re.current.focus();return}Se(!1),ce.current=!0,oe.current=!1,o&&se.current!==-1&&Le?Yt(qe,$e[se.current],"blur"):o&&w&&de!==""?Yt(qe,de,"blur","freeSolo"):a&&ye(qe,Z,"blur"),qt(qe,"blur")},Et=qe=>{const We=qe.target.value;de!==We&&(be(We),Te(!1),N&&N(qe,We,"input")),We===""?!d&&!P&&ur(qe,null,"clear"):Lt(qe)},Gi=qe=>{const We=Number(qe.currentTarget.getAttribute("data-option-index"));se.current!==We&&Ct({event:qe,index:We,reason:"mouse"})},nr=qe=>{Ct({event:qe,index:Number(qe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ct.current=!0},Br=qe=>{const We=Number(qe.currentTarget.getAttribute("data-option-index"));Yt(qe,$e[We],"selectOption"),ct.current=!1},Yi=qe=>We=>{const Nt=Z.slice();Nt.splice(qe,1),ur(We,Nt,"removeOption",{option:Z[qe]})},kr=qe=>{ur(qe,null,"removeOption",{option:Z})},Sn=qe=>{ve?qt(qe,"toggleInput"):Lt(qe)},Zn=qe=>{qe.currentTarget.contains(qe.target)&&qe.target.getAttribute("id")!==ee&&qe.preventDefault()},fs=qe=>{qe.currentTarget.contains(qe.target)&&(re.current.focus(),X&&ce.current&&re.current.selectionEnd-re.current.selectionStart===0&&re.current.select(),ce.current=!1)},tf=qe=>{!p&&(de===""||!ve)&&Sn(qe)};let nf=w&&de.length>0;nf=nf||(P?Z.length>0:Z!==null);let vg=$e;return T&&(vg=$e.reduce((qe,We,Nt)=>{const an=T(We);return qe.length>0&&qe[qe.length-1].group===an?qe[qe.length-1].options.push(We):qe.push({key:Nt,index:Nt,group:an,options:[We]}),qe},[])),p&&le&&Dn(),{getRootProps:(qe={})=>({...qe,onKeyDown:Xt(qe),onMouseDown:Zn,onClick:fs}),getInputLabelProps:()=>({id:`${ee}-label`,htmlFor:ee}),getInputProps:()=>({id:ee,value:de,onBlur:Dn,onFocus:Pn,onChange:Et,onMouseDown:tf,"aria-activedescendant":Le?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Re?`${ee}-listbox`:void 0,"aria-expanded":Re,autoComplete:"off",ref:re,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:vt}),getItemProps:({index:qe=0}={})=>({...P&&{key:qe},...W?{"data-item-index":qe}:{"data-tag-index":qe},tabIndex:-1,...!z&&{onDelete:P?Yi(qe):kr}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Sn}),getTagProps:({index:qe})=>({key:qe,"data-tag-index":qe,tabIndex:-1,...!z&&{onDelete:Yi(qe)}}),getListboxProps:()=>({role:"listbox",id:`${ee}-listbox`,"aria-labelledby":`${ee}-label`,ref:An,onMouseDown:qe=>{qe.preventDefault()}}),getOptionProps:({index:qe,option:We})=>{const Nt=(P?Z:[Z]).some(vn=>vn!=null&&j(We,vn)),an=S?S(We):!1;return{key:C?.(We)??ne(We),tabIndex:-1,role:"option",id:`${ee}-option-${qe}`,onMouseMove:Gi,onClick:Br,onTouchStart:nr,"data-option-index":qe,"aria-disabled":an,"aria-selected":Nt}},id:ee,inputValue:de,value:Z,dirty:nf,expanded:Le&&he,popupOpen:Le,focused:le||xe!==-1,anchorEl:he,setAnchorEl:ie,focusedItem:xe,focusedTag:xe,groupedOptions:vg}}var El="top",Mu="bottom",Au="right",Tl="left",OX="auto",tM=[El,Mu,Au,Tl],lS="start",CT="end",llt="clippingParents",Kke="viewport",j2="popper",clt="reference",tfe=tM.reduce(function(e,t){return e.concat([t+"-"+lS,t+"-"+CT])},[]),Zke=[].concat(tM,[OX]).reduce(function(e,t){return e.concat([t,t+"-"+lS,t+"-"+CT])},[]),ult="beforeRead",dlt="read",flt="afterRead",plt="beforeMain",hlt="main",glt="afterMain",mlt="beforeWrite",ylt="write",vlt="afterWrite",blt=[ult,dlt,flt,plt,hlt,glt,mlt,ylt,vlt];function Zf(e){return e?(e.nodeName||"").toLowerCase():null}function Mc(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function nb(e){var t=Mc(e).Element;return e instanceof t||e instanceof Element}function wu(e){var t=Mc(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function IX(e){if(typeof ShadowRoot>"u")return!1;var t=Mc(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function xlt(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!wu(o)||!Zf(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function wlt(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!wu(i)||!Zf(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Slt={name:"applyStyles",enabled:!0,phase:"write",fn:xlt,effect:wlt,requires:["computeStyles"]};function zf(e){return e.split("-")[0]}var Mv=Math.max,R5=Math.min,cS=Math.round;function aH(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Qke(){return!/^((?!chrome|android).)*safari/i.test(aH())}function uS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&wu(e)&&(i=e.offsetWidth>0&&cS(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&cS(r.height)/e.offsetHeight||1);var s=nb(e)?Mc(e):window,a=s.visualViewport,l=!Qke()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function jX(e){var t=uS(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Jke(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&IX(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bh(e){return Mc(e).getComputedStyle(e)}function _lt(e){return["table","td","th"].indexOf(Zf(e))>=0}function M0(e){return((nb(e)?e.ownerDocument:e.document)||window.document).documentElement}function qF(e){return Zf(e)==="html"?e:e.assignedSlot||e.parentNode||(IX(e)?e.host:null)||M0(e)}function nfe(e){return!wu(e)||Bh(e).position==="fixed"?null:e.offsetParent}function Clt(e){var t=/firefox/i.test(aH()),n=/Trident/i.test(aH());if(n&&wu(e)){var r=Bh(e);if(r.position==="fixed")return null}var i=qF(e);for(IX(i)&&(i=i.host);wu(i)&&["html","body"].indexOf(Zf(i))<0;){var o=Bh(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function nM(e){for(var t=Mc(e),n=nfe(e);n&&_lt(n)&&Bh(n).position==="static";)n=nfe(n);return n&&(Zf(n)==="html"||Zf(n)==="body"&&Bh(n).position==="static")?t:n||Clt(e)||t}function $X(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bE(e,t,n){return Mv(e,R5(t,n))}function klt(e,t,n){var r=bE(e,t,n);return r>n?n:r}function eEe(){return{top:0,right:0,bottom:0,left:0}}function tEe(e){return Object.assign({},eEe(),e)}function nEe(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Elt=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,tEe(typeof t!="number"?t:nEe(t,tM))};function Tlt(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=zf(n.placement),l=$X(a),c=[Tl,Au].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=Elt(i.padding,n),f=jX(o),p=l==="y"?El:Tl,g=l==="y"?Mu:Au,y=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],v=s[l]-n.rects.reference[l],x=nM(o),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=y/2-v/2,C=d[p],k=w-f[u]-d[g],T=w/2-f[u]/2+S,E=bE(C,T,k),A=l;n.modifiersData[r]=(t={},t[A]=E,t.centerOffset=E-T,t)}}function Rlt(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Jke(t.elements.popper,i)&&(t.elements.arrow=i))}const Mlt={name:"arrow",enabled:!0,phase:"main",fn:Tlt,effect:Rlt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dS(e){return e.split("-")[1]}var Alt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Plt(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:cS(n*i)/i||0,y:cS(r*i)/i||0}}function rfe(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=s.x,p=f===void 0?0:f,g=s.y,y=g===void 0?0:g,v=typeof u=="function"?u({x:p,y}):{x:p,y};p=v.x,y=v.y;var x=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),S=Tl,C=El,k=window;if(c){var T=nM(n),E="clientHeight",A="clientWidth";if(T===Mc(n)&&(T=M0(n),Bh(T).position!=="static"&&a==="absolute"&&(E="scrollHeight",A="scrollWidth")),T=T,i===El||(i===Tl||i===Au)&&o===CT){C=Mu;var O=d&&T===k&&k.visualViewport?k.visualViewport.height:T[E];y-=O-r.height,y*=l?1:-1}if(i===Tl||(i===El||i===Mu)&&o===CT){S=Au;var I=d&&T===k&&k.visualViewport?k.visualViewport.width:T[A];p-=I-r.width,p*=l?1:-1}}var j=Object.assign({position:a},c&&Alt),P=u===!0?Plt({x:p,y},Mc(n)):{x:p,y};if(p=P.x,y=P.y,l){var $;return Object.assign({},j,($={},$[C]=w?"0":"",$[S]=x?"0":"",$.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",$))}return Object.assign({},j,(t={},t[C]=w?y+"px":"",t[S]=x?p+"px":"",t.transform="",t))}function Dlt(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:zf(t.placement),variation:dS(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,rfe(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,rfe(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Olt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dlt,data:{}};var vD={passive:!0};function Ilt(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Mc(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,vD)}),a&&l.addEventListener("resize",n.update,vD),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,vD)}),a&&l.removeEventListener("resize",n.update,vD)}}const jlt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ilt,data:{}};var $lt={left:"right",right:"left",bottom:"top",top:"bottom"};function PI(e){return e.replace(/left|right|bottom|top/g,function(t){return $lt[t]})}var Flt={start:"end",end:"start"};function ife(e){return e.replace(/start|end/g,function(t){return Flt[t]})}function FX(e){var t=Mc(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function LX(e){return uS(M0(e)).left+FX(e).scrollLeft}function Llt(e,t){var n=Mc(e),r=M0(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Qke();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+LX(e),y:l}}function Nlt(e){var t,n=M0(e),r=FX(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Mv(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Mv(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+LX(e),l=-r.scrollTop;return Bh(i||n).direction==="rtl"&&(a+=Mv(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function NX(e){var t=Bh(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function rEe(e){return["html","body","#document"].indexOf(Zf(e))>=0?e.ownerDocument.body:wu(e)&&NX(e)?e:rEe(qF(e))}function xE(e,t){var n;t===void 0&&(t=[]);var r=rEe(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Mc(r),s=i?[o].concat(o.visualViewport||[],NX(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(xE(qF(s)))}function lH(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zlt(e,t){var n=uS(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ofe(e,t,n){return t===Kke?lH(Llt(e,n)):nb(t)?zlt(t,n):lH(Nlt(M0(e)))}function Blt(e){var t=xE(qF(e)),n=["absolute","fixed"].indexOf(Bh(e).position)>=0,r=n&&wu(e)?nM(e):e;return nb(r)?t.filter(function(i){return nb(i)&&Jke(i,r)&&Zf(i)!=="body"}):[]}function Ult(e,t,n,r){var i=t==="clippingParents"?Blt(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=ofe(e,c,r);return l.top=Mv(u.top,l.top),l.right=R5(u.right,l.right),l.bottom=R5(u.bottom,l.bottom),l.left=Mv(u.left,l.left),l},ofe(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function iEe(e){var t=e.reference,n=e.element,r=e.placement,i=r?zf(r):null,o=r?dS(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case El:l={x:s,y:t.y-n.height};break;case Mu:l={x:s,y:t.y+t.height};break;case Au:l={x:t.x+t.width,y:a};break;case Tl:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?$X(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case lS:l[c]=l[c]-(t[u]/2-n[u]/2);break;case CT:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function kT(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?llt:a,c=n.rootBoundary,u=c===void 0?Kke:c,d=n.elementContext,f=d===void 0?j2:d,p=n.altBoundary,g=p===void 0?!1:p,y=n.padding,v=y===void 0?0:y,x=tEe(typeof v!="number"?v:nEe(v,tM)),w=f===j2?clt:j2,S=e.rects.popper,C=e.elements[g?w:f],k=Ult(nb(C)?C:C.contextElement||M0(e.elements.popper),l,u,s),T=uS(e.elements.reference),E=iEe({reference:T,element:S,placement:i}),A=lH(Object.assign({},S,E)),O=f===j2?A:T,I={top:k.top-O.top+x.top,bottom:O.bottom-k.bottom+x.bottom,left:k.left-O.left+x.left,right:O.right-k.right+x.right},j=e.modifiersData.offset;if(f===j2&&j){var P=j[i];Object.keys(I).forEach(function($){var D=[Au,Mu].indexOf($)>=0?1:-1,F=[El,Mu].indexOf($)>=0?"y":"x";I[$]+=P[F]*D})}return I}function Vlt(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Zke:l,u=dS(r),d=u?a?tfe:tfe.filter(function(g){return dS(g)===u}):tM,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var p=f.reduce(function(g,y){return g[y]=kT(e,{placement:y,boundary:i,rootBoundary:o,padding:s})[zf(y)],g},{});return Object.keys(p).sort(function(g,y){return p[g]-p[y]})}function Hlt(e){if(zf(e)===OX)return[];var t=PI(e);return[ife(e),t,ife(t)]}function Wlt(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,y=n.allowedAutoPlacements,v=t.options.placement,x=zf(v),w=x===v,S=l||(w||!g?[PI(v)]:Hlt(v)),C=[v].concat(S).reduce(function(Q,ee){return Q.concat(zf(ee)===OX?Vlt(t,{placement:ee,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:y}):ee)},[]),k=t.rects.reference,T=t.rects.popper,E=new Map,A=!0,O=C[0],I=0;I<C.length;I++){var j=C[I],P=zf(j),$=dS(j)===lS,D=[El,Mu].indexOf(P)>=0,F=D?"width":"height",N=kT(t,{placement:j,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),V=D?$?Au:Tl:$?Mu:El;k[F]>T[F]&&(V=PI(V));var H=PI(V),U=[];if(o&&U.push(N[P]<=0),a&&U.push(N[V]<=0,N[H]<=0),U.every(function(Q){return Q})){O=j,A=!1;break}E.set(j,U)}if(A)for(var G=g?3:1,z=function(ee){var ne=C.find(function(oe){var ce=E.get(oe);if(ce)return ce.slice(0,ee).every(function(re){return re})});if(ne)return O=ne,"break"},W=G;W>0;W--){var X=z(W);if(X==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const qlt={name:"flip",enabled:!0,phase:"main",fn:Wlt,requiresIfExists:["offset"],data:{_skip:!1}};function sfe(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function afe(e){return[El,Au,Mu,Tl].some(function(t){return e[t]>=0})}function Glt(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=kT(t,{elementContext:"reference"}),a=kT(t,{altBoundary:!0}),l=sfe(s,r),c=sfe(a,i,o),u=afe(l),d=afe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Ylt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Glt};function Xlt(e,t,n){var r=zf(e),i=[Tl,El].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Tl,Au].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Klt(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=Zke.reduce(function(u,d){return u[d]=Xlt(d,t.rects,o),u},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const Zlt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Klt};function Qlt(e){var t=e.state,n=e.name;t.modifiersData[n]=iEe({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Jlt={name:"popperOffsets",enabled:!0,phase:"read",fn:Qlt,data:{}};function ect(e){return e==="x"?"y":"x"}function tct(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,y=g===void 0?0:g,v=kT(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=zf(t.placement),w=dS(t.placement),S=!w,C=$X(x),k=ect(C),T=t.modifiersData.popperOffsets,E=t.rects.reference,A=t.rects.popper,O=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,I=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(T){if(o){var $,D=C==="y"?El:Tl,F=C==="y"?Mu:Au,N=C==="y"?"height":"width",V=T[C],H=V+v[D],U=V-v[F],G=p?-A[N]/2:0,z=w===lS?E[N]:A[N],W=w===lS?-A[N]:-E[N],X=t.elements.arrow,Q=p&&X?jX(X):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:eEe(),ne=ee[D],oe=ee[F],ce=bE(0,E[N],Q[N]),re=S?E[N]/2-G-ce-ne-I.mainAxis:z-ce-ne-I.mainAxis,ge=S?-E[N]/2+G+ce+oe+I.mainAxis:W+ce+oe+I.mainAxis,he=t.elements.arrow&&nM(t.elements.arrow),ie=he?C==="y"?he.clientTop||0:he.clientLeft||0:0,xe=($=j?.[C])!=null?$:0,q=V+re-xe-ie,fe=V+ge-xe,se=bE(p?R5(H,q):H,V,p?Mv(U,fe):U);T[C]=se,P[C]=se-V}if(a){var J,Z=C==="x"?El:Tl,ue=C==="x"?Mu:Au,de=T[k],be=k==="y"?"height":"width",le=de+v[Z],Se=de-v[ue],ye=[El,Tl].indexOf(x)!==-1,ve=(J=j?.[k])!=null?J:0,_e=ye?le:de-E[be]-A[be]-ve+I.altAxis,Ae=ye?de+E[be]+A[be]-ve-I.altAxis:Se,Te=p&&ye?klt(_e,de,Ae):bE(p?_e:le,de,p?Ae:Se);T[k]=Te,P[k]=Te-de}t.modifiersData[r]=P}}const nct={name:"preventOverflow",enabled:!0,phase:"main",fn:tct,requiresIfExists:["offset"]};function rct(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ict(e){return e===Mc(e)||!wu(e)?FX(e):rct(e)}function oct(e){var t=e.getBoundingClientRect(),n=cS(t.width)/e.offsetWidth||1,r=cS(t.height)/e.offsetHeight||1;return n!==1||r!==1}function sct(e,t,n){n===void 0&&(n=!1);var r=wu(t),i=wu(t)&&oct(t),o=M0(t),s=uS(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Zf(t)!=="body"||NX(o))&&(a=ict(t)),wu(t)?(l=uS(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=LX(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function act(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function lct(e){var t=act(e);return blt.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function cct(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function uct(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var lfe={placement:"bottom",modifiers:[],strategy:"absolute"};function cfe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dct(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?lfe:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},lfe,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(x){var w=typeof x=="function"?x(u.options):x;y(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:nb(a)?xE(a):a.contextElement?xE(a.contextElement):[],popper:xE(l)};var S=lct(uct([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(C){return C.enabled}),g(),p.update()},forceUpdate:function(){if(!f){var x=u.elements,w=x.reference,S=x.popper;if(cfe(w,S)){u.rects={reference:sct(w,nM(S),u.options.strategy==="fixed"),popper:jX(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var k=u.orderedModifiers[C],T=k.fn,E=k.options,A=E===void 0?{}:E,O=k.name;typeof T=="function"&&(u=T({state:u,options:A,name:O,instance:p})||u)}}}},update:cct(function(){return new Promise(function(v){p.forceUpdate(),v(u)})}),destroy:function(){y(),f=!0}};if(!cfe(a,l))return p;p.setOptions(c).then(function(v){!f&&c.onFirstUpdate&&c.onFirstUpdate(v)});function g(){u.orderedModifiers.forEach(function(v){var x=v.name,w=v.options,S=w===void 0?{}:w,C=v.effect;if(typeof C=="function"){var k=C({state:u,name:x,instance:p,options:S}),T=function(){};d.push(k||T)}})}function y(){d.forEach(function(v){return v()}),d=[]}return p}}var fct=[jlt,Jlt,Olt,Slt,Zlt,qlt,nct,Mlt,Ylt],pct=dct({defaultModifiers:fct});function jn(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:pa(n,r),{props:a,internalRef:l}=Gke({...o,externalSlotProps:s}),c=Un(l,s?.ref,e.additionalProps?.ref);return qke(t,{...a,ref:c},r)}function A0(e){return parseInt(R.version,10)>=19?e?.props?.ref||null:e?.ref||null}function hct(e){return typeof e=="function"?e():e}const oEe=R.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=R.useState(null),l=Un(R.isValidElement(r)?A0(r):null,n);if(ii(()=>{o||a(hct(i)||document.body)},[i,o]),ii(()=>{if(s&&!o)return JV(n,s),()=>{JV(n,null)}},[n,s,o]),o){if(R.isValidElement(r)){const c={ref:l};return R.cloneElement(r,c)}return r}return s&&zd.createPortal(r,s)});function gct(e){return tt("MuiPopper",e)}rt("MuiPopper",["root"]);function mct(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function cH(e){return typeof e=="function"?e():e}function yct(e){return e.nodeType!==void 0}const vct=e=>{const{classes:t}=e;return Qe({root:["root"]},gct,t)},bct={},xct=R.forwardRef(function(t,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:d,slotProps:f={},slots:p={},TransitionProps:g,ownerState:y,...v}=t,x=R.useRef(null),w=Un(x,n),S=R.useRef(null),C=Un(S,d),k=R.useRef(C);ii(()=>{k.current=C},[C]),R.useImperativeHandle(d,()=>S.current,[]);const T=mct(c,o),[E,A]=R.useState(T),[O,I]=R.useState(cH(r));R.useEffect(()=>{S.current&&S.current.forceUpdate()}),R.useEffect(()=>{r&&I(cH(r))},[r]),ii(()=>{if(!O||!l)return;const F=H=>{A(H.placement)};let N=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{F(H)}}];a!=null&&(N=N.concat(a)),u&&u.modifiers!=null&&(N=N.concat(u.modifiers));const V=pct(O,x.current,{placement:T,...u,modifiers:N});return k.current(V),()=>{V.destroy(),k.current(null)}},[O,s,a,l,u,T]);const j={placement:E};g!==null&&(j.TransitionProps=g);const P=vct(t),$=p.root??"div",D=jn({elementType:$,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:P.root});return h.jsx($,{...D,children:typeof i=="function"?i(j):i})}),wct=R.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=bct,popperRef:p,style:g,transition:y=!1,slotProps:v={},slots:x={},...w}=t,[S,C]=R.useState(!0),k=()=>{C(!1)},T=()=>{C(!0)};if(!l&&!u&&(!y||S))return null;let E;if(o)E=o;else if(r){const I=cH(r);E=I&&yct(I)?ki(I).body:ki(null).body}const A=!u&&l&&(!y||S)?"none":void 0,O=y?{in:u,onEnter:k,onExited:T}:void 0;return h.jsx(oEe,{disablePortal:a,container:E,children:h.jsx(xct,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:y?!S:u,placement:d,popperOptions:f,popperRef:p,slotProps:v,slots:x,...w,style:{position:"fixed",top:0,left:0,display:A,...g},TransitionProps:O,children:i})})}),Sct=we(wct,{name:"MuiPopper",slot:"Root"})({}),rM=R.forwardRef(function(t,n){const r=ss(),i=kt({props:t,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:f,open:p,placement:g,popperOptions:y,popperRef:v,transition:x,slots:w,slotProps:S,...C}=i,k=w?.root??a?.Root,T={anchorEl:o,container:c,disablePortal:u,keepMounted:d,modifiers:f,open:p,placement:g,popperOptions:y,popperRef:v,transition:x,...C};return h.jsx(Sct,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:S??l,...T,ref:n})});function _ct(e){return tt("MuiListSubheader",e)}rt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Cct=e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:o}=e,s={root:["root",n!=="default"&&`color${Ee(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return Qe(s,_ct,t)},kct=we("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Ee(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(pt(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),uH=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,d={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},f=Cct(d);return h.jsx(kct,{as:s,className:je(f.root,i),ref:n,ownerState:d,...u})});uH&&(uH.muiSkipListHighlight=!0);const Ect=He(h.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Tct(e){return tt("MuiChip",e)}const ar=rt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Rct=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled",`size${Ee(r)}`,`color${Ee(i)}`,a&&"clickable",a&&`clickableColor${Ee(i)}`,s&&"deletable",s&&`deletableColor${Ee(i)}`,`${l}${Ee(i)}`],label:["label",`label${Ee(r)}`],avatar:["avatar",`avatar${Ee(r)}`,`avatarColor${Ee(i)}`],icon:["icon",`icon${Ee(r)}`,`iconColor${Ee(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Ee(r)}`,`deleteIconColor${Ee(i)}`,`deleteIcon${Ee(l)}Color${Ee(i)}`]};return Qe(c,Tct,t)},Mct=we("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${ar.avatar}`]:t.avatar},{[`& .${ar.avatar}`]:t[`avatar${Ee(a)}`]},{[`& .${ar.avatar}`]:t[`avatarColor${Ee(r)}`]},{[`& .${ar.icon}`]:t.icon},{[`& .${ar.icon}`]:t[`icon${Ee(a)}`]},{[`& .${ar.icon}`]:t[`iconColor${Ee(i)}`]},{[`& .${ar.deleteIcon}`]:t.deleteIcon},{[`& .${ar.deleteIcon}`]:t[`deleteIcon${Ee(a)}`]},{[`& .${ar.deleteIcon}`]:t[`deleteIconColor${Ee(r)}`]},{[`& .${ar.deleteIcon}`]:t[`deleteIcon${Ee(l)}Color${Ee(r)}`]},t.root,t[`size${Ee(a)}`],t[`color${Ee(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${Ee(r)}`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${Ee(r)}`],t[l],t[`${l}${Ee(r)}`]]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ar.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ar.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${ar.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${ar.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${ar.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${ar.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ar.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ar.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ar.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(cr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${ar.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${ar.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${ar.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ar.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(cr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${ar.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${ar.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(cr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${ar.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${ar.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ar.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${ar.avatar}`]:{marginLeft:4},[`& .${ar.avatarSmall}`]:{marginLeft:2},[`& .${ar.icon}`]:{marginLeft:4},[`& .${ar.iconSmall}`]:{marginLeft:2},[`& .${ar.deleteIcon}`]:{marginRight:5},[`& .${ar.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(cr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${ar.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${ar.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${ar.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),Act=we("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Ee(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function ufe(e){return e.key==="Backspace"||e.key==="Delete"}const Ci=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:p,onDelete:g,onKeyDown:y,onKeyUp:v,size:x="medium",variant:w="filled",tabIndex:S,skipFocusWhenDisabled:C=!1,slots:k={},slotProps:T={},...E}=r,A=R.useRef(null),O=Un(A,n),I=ne=>{ne.stopPropagation(),g&&g(ne)},j=ne=>{ne.currentTarget===ne.target&&ufe(ne)&&ne.preventDefault(),y&&y(ne)},P=ne=>{ne.currentTarget===ne.target&&g&&ufe(ne)&&g(ne),v&&v(ne)},$=s!==!1&&p?!0:s,D=$||g?Dl:l||"div",F={...r,component:D,disabled:u,size:x,color:a,iconColor:R.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:$,variant:w},N=Rct(F),V=D===Dl?{component:l||"div",focusVisibleClassName:N.focusVisible,...g&&{disableRipple:!0}}:{};let H=null;g&&(H=c&&R.isValidElement(c)?R.cloneElement(c,{className:je(c.props.className,N.deleteIcon),onClick:I}):h.jsx(Ect,{className:N.deleteIcon,onClick:I}));let U=null;i&&R.isValidElement(i)&&(U=R.cloneElement(i,{className:je(N.avatar,i.props.className)}));let G=null;d&&R.isValidElement(d)&&(G=R.cloneElement(d,{className:je(N.icon,d.props.className)}));const z={slots:k,slotProps:T},[W,X]=At("root",{elementType:Mct,externalForwardedProps:{...z,...E},ownerState:F,shouldForwardComponentProp:!0,ref:O,className:je(N.root,o),additionalProps:{disabled:$&&u?!0:void 0,tabIndex:C&&u?-1:S,...V},getSlotProps:ne=>({...ne,onClick:oe=>{ne.onClick?.(oe),p?.(oe)},onKeyDown:oe=>{ne.onKeyDown?.(oe),j(oe)},onKeyUp:oe=>{ne.onKeyUp?.(oe),P(oe)}})}),[Q,ee]=At("label",{elementType:Act,externalForwardedProps:z,ownerState:F,className:N.label});return h.jsxs(W,{as:D,...X,children:[U||G,h.jsx(Q,{...ee,children:f}),H]})});function bD(e){return parseInt(e,10)||0}const Pct={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Dct(e){for(const t in e)return!1;return!0}function dfe(e){return Dct(e)||e.outerHeightStyle===0&&!e.overflowing}const Oct=R.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=t,{current:c}=R.useRef(a!=null),u=R.useRef(null),d=Un(n,u),f=R.useRef(null),p=R.useRef(null),g=R.useCallback(()=>{const S=u.current,C=p.current;if(!S||!C)return;const T=Rc(S).getComputedStyle(S);if(T.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=T.width,C.value=S.value||t.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const E=T.boxSizing,A=bD(T.paddingBottom)+bD(T.paddingTop),O=bD(T.borderBottomWidth)+bD(T.borderTopWidth),I=C.scrollHeight;C.value="x";const j=C.scrollHeight;let P=I;o&&(P=Math.max(Number(o)*j,P)),i&&(P=Math.min(Number(i)*j,P)),P=Math.max(P,j);const $=P+(E==="border-box"?A+O:0),D=Math.abs(P-I)<=1;return{outerHeightStyle:$,overflowing:D}},[i,o,t.placeholder]),y=mt(()=>{const S=u.current,C=g();if(!S||!C||dfe(C))return!1;const k=C.outerHeightStyle;return f.current!=null&&f.current!==k}),v=R.useCallback(()=>{const S=u.current,C=g();if(!S||!C||dfe(C))return;const k=C.outerHeightStyle;f.current!==k&&(f.current=k,S.style.height=`${k}px`),S.style.overflow=C.overflowing?"hidden":""},[g]),x=R.useRef(-1);ii(()=>{const S=Ub(v),C=u?.current;if(!C)return;const k=Rc(C);k.addEventListener("resize",S);let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(()=>{y()&&(T.unobserve(C),cancelAnimationFrame(x.current),v(),x.current=requestAnimationFrame(()=>{T.observe(C)}))}),T.observe(C)),()=>{S.clear(),cancelAnimationFrame(x.current),k.removeEventListener("resize",S),T&&T.disconnect()}},[g,v,y]),ii(()=>{v()});const w=S=>{c||v();const C=S.target,k=C.value.length,T=C.value.endsWith(`
`),E=C.selectionStart===k;T&&E&&C.setSelectionRange(k,k),r&&r(S)};return h.jsxs(R.Fragment,{children:[h.jsx("textarea",{value:a,onChange:w,ref:d,rows:o,style:s,...l}),h.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:{...Pct.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function P0({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const GF=R.createContext(void 0);function Lc(){return R.useContext(GF)}function ffe(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function M5(e,t=!1){return e&&(ffe(e.value)&&e.value!==""||t&&ffe(e.defaultValue)&&e.defaultValue!=="")}function Ict(e){return e.startAdornment}function jct(e){return tt("MuiInputBase",e)}const oc=rt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var pfe;const YF=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Ee(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},XF=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},$ct=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:g}=e,y={root:["root",`color${Ee(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${Ee(f)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Qe(y,jct,t)},KF=we("div",{name:"MuiInputBase",slot:"Root",overridesResolver:YF})(pt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${oc.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),ZF=we("input",{name:"MuiInputBase",slot:"Input",overridesResolver:XF})(pt(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${oc.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${oc.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),hfe=bX({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),zX=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:g,error:y,fullWidth:v=!1,id:x,inputComponent:w="input",inputProps:S={},inputRef:C,margin:k,maxRows:T,minRows:E,multiline:A=!1,name:O,onBlur:I,onChange:j,onClick:P,onFocus:$,onKeyDown:D,onKeyUp:F,placeholder:N,readOnly:V,renderSuffix:H,rows:U,size:G,slotProps:z={},slots:W={},startAdornment:X,type:Q="text",value:ee,...ne}=r,oe=S.value!=null?S.value:ee,{current:ce}=R.useRef(oe!=null),re=R.useRef(),ge=R.useCallback($e=>{},[]),he=Un(re,C,S.ref,ge),[ie,xe]=R.useState(!1),q=Lc(),fe=P0({props:r,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});fe.focused=q?q.focused:ie,R.useEffect(()=>{!q&&f&&ie&&(xe(!1),I&&I())},[q,f,ie,I]);const se=q&&q.onFilled,J=q&&q.onEmpty,Z=R.useCallback($e=>{M5($e)?se&&se():J&&J()},[se,J]);ii(()=>{ce&&Z({value:oe})},[oe,Z,ce]);const ue=$e=>{$&&$($e),S.onFocus&&S.onFocus($e),q&&q.onFocus?q.onFocus($e):xe(!0)},de=$e=>{I&&I($e),S.onBlur&&S.onBlur($e),q&&q.onBlur?q.onBlur($e):xe(!1)},be=($e,...at)=>{if(!ce){const Re=$e.target||re.current;if(Re==null)throw new Error(Nh(1));Z({value:Re.value})}S.onChange&&S.onChange($e,...at),j&&j($e,...at)};R.useEffect(()=>{Z(re.current)},[]);const le=$e=>{re.current&&$e.currentTarget===$e.target&&re.current.focus(),P&&P($e)};let Se=w,ye=S;A&&Se==="input"&&(U?ye={type:void 0,minRows:U,maxRows:U,...ye}:ye={type:void 0,maxRows:T,minRows:E,...ye},Se=Oct);const ve=$e=>{Z($e.animationName==="mui-auto-fill-cancel"?re.current:{value:"x"})};R.useEffect(()=>{q&&q.setAdornedStart(!!X)},[q,X]);const _e={...r,color:fe.color||"primary",disabled:fe.disabled,endAdornment:g,error:fe.error,focused:fe.focused,formControl:q,fullWidth:v,hiddenLabel:fe.hiddenLabel,multiline:A,size:fe.size,startAdornment:X,type:Q},Ae=$ct(_e),Te=W.root||c.Root||KF,Pe=z.root||u.root||{},Le=W.input||c.Input||ZF;return ye={...ye,...z.input??u.input},h.jsxs(R.Fragment,{children:[!p&&typeof hfe=="function"&&(pfe||(pfe=h.jsx(hfe,{}))),h.jsxs(Te,{...Pe,ref:n,onClick:le,...ne,...!Nf(Te)&&{ownerState:{..._e,...Pe.ownerState}},className:je(Ae.root,Pe.className,a,V&&"MuiInputBase-readOnly"),children:[X,h.jsx(GF.Provider,{value:null,children:h.jsx(Le,{"aria-invalid":fe.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:fe.disabled,id:x,onAnimationStart:ve,name:O,placeholder:N,readOnly:V,required:fe.required,rows:U,value:oe,onKeyDown:D,onKeyUp:F,type:Q,...ye,...!Nf(Le)&&{as:Se,ownerState:{..._e,...ye.ownerState}},ref:he,className:je(Ae.input,ye.className,V&&"MuiInputBase-readOnly"),onBlur:de,onChange:be,onFocus:ue})}),g,H?H({...fe,startAdornment:X}):null]})]})});function Fct(e){return tt("MuiInput",e)}const dm={...oc,...rt("MuiInput",["root","underline","input"])};function Lct(e){return tt("MuiOutlinedInput",e)}const ru={...oc,...rt("MuiOutlinedInput",["root","notchedOutline","input"])};function Nct(e){return tt("MuiFilledInput",e)}const sc={...oc,...rt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},sEe=He(h.jsx("path",{d:"M7 10l5 5 5-5z"}));function zct(e){return tt("MuiAutocomplete",e)}const Xn=rt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var gfe,mfe;const Bct=e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=e,d={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Ee(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Qe(d,zct,t)},Uct=we("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${Xn.tag}`]:t.tag},{[`& .${Xn.tag}`]:t[`tagSize${Ee(a)}`]},{[`& .${Xn.inputRoot}`]:t.inputRoot},{[`& .${Xn.input}`]:t.input},{[`& .${Xn.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${Xn.focused} .${Xn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Xn.clearIndicator}`]:{visibility:"visible"}},[`& .${Xn.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Xn.inputRoot}`]:{[`.${Xn.hasPopupIcon}&, .${Xn.hasClearIcon}&`]:{paddingRight:30},[`.${Xn.hasPopupIcon}.${Xn.hasClearIcon}&`]:{paddingRight:56},[`& .${Xn.input}`]:{width:0,minWidth:30}},[`& .${dm.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${dm.root}.${oc.sizeSmall}`]:{[`& .${dm.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ru.root}`]:{padding:9,[`.${Xn.hasPopupIcon}&, .${Xn.hasClearIcon}&`]:{paddingRight:39},[`.${Xn.hasPopupIcon}.${Xn.hasClearIcon}&`]:{paddingRight:65},[`& .${Xn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Xn.endAdornment}`]:{right:9}},[`& .${ru.root}.${oc.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Xn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${sc.root}`]:{paddingTop:19,paddingLeft:8,[`.${Xn.hasPopupIcon}&, .${Xn.hasClearIcon}&`]:{paddingRight:39},[`.${Xn.hasPopupIcon}.${Xn.hasClearIcon}&`]:{paddingRight:65},[`& .${sc.input}`]:{padding:"7px 4px"},[`& .${Xn.endAdornment}`]:{right:9}},[`& .${sc.root}.${oc.sizeSmall}`]:{paddingBottom:1,[`& .${sc.input}`]:{padding:"2.5px 4px"}},[`& .${oc.hiddenLabel}`]:{paddingTop:8},[`& .${sc.root}.${oc.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Xn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${sc.root}.${oc.hiddenLabel}.${oc.sizeSmall}`]:{[`& .${Xn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Xn.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Xn.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Xn.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Xn.inputRoot}`]:{flexWrap:"wrap"}}}]}),Vct=we("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Hct=we(Pt,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),Wct=we(Pt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),qct=we(rM,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Xn.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Gct=we(Pr,{name:"MuiAutocomplete",slot:"Paper"})(pt(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Yct=we("div",{name:"MuiAutocomplete",slot:"Loading"})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Xct=we("div",{name:"MuiAutocomplete",slot:"NoOptions"})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Kct=we("ul",{name:"MuiAutocomplete",slot:"Listbox"})(pt(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Xn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Xn.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Xn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Xn.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Xn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),Zct=we(uH,{name:"MuiAutocomplete",slot:"GroupLabel"})(pt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Qct=we("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${Xn.option}`]:{paddingLeft:24}}),rb=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=gfe||(gfe=h.jsx(Xke,{fontSize:"small"})),clearOnBlur:d=!r.freeSolo,clearOnEscape:f=!1,clearText:p="Clear",closeText:g="Close",componentsProps:y,defaultValue:v=r.multiple?[]:null,disableClearable:x=!1,disableCloseOnSelect:w=!1,disabled:S=!1,disabledItemsFocusable:C=!1,disableListWrap:k=!1,disablePortal:T=!1,filterOptions:E,filterSelectedOptions:A=!1,forcePopupIcon:O="auto",freeSolo:I=!1,fullWidth:j=!1,getLimitTagsText:P=dr=>`+${dr}`,getOptionDisabled:$,getOptionKey:D,getOptionLabel:F,isOptionEqualToValue:N,groupBy:V,handleHomeEndKeys:H=!r.freeSolo,id:U,includeInputInList:G=!1,inputValue:z,limitTags:W=-1,ListboxComponent:X,ListboxProps:Q,loading:ee=!1,loadingText:ne="Loading",multiple:oe=!1,noOptionsText:ce="No options",onChange:re,onClose:ge,onHighlightChange:he,onInputChange:ie,onOpen:xe,open:q,openOnFocus:fe=!1,openText:se="Open",options:J,PaperComponent:Z,PopperComponent:ue,popupIcon:de=mfe||(mfe=h.jsx(sEe,{})),readOnly:be=!1,renderGroup:le,renderInput:Se,renderOption:ye,renderTags:ve,renderValue:_e,selectOnFocus:Ae=!r.freeSolo,size:Te="medium",slots:Pe={},slotProps:Le={},value:$e,...at}=r,{getRootProps:Re,getInputProps:Ze,getInputLabelProps:Rt,getPopupIndicatorProps:Ct,getClearProps:De,getItemProps:bt,getListboxProps:Gt,getOptionProps:Cn,value:An,dirty:Lt,expanded:qt,id:ur,popupOpen:ct,focused:Yt,focusedItem:St,anchorEl:Ln,setAnchorEl:vt,inputValue:Xt,groupedOptions:Pn}=alt({...r,componentName:"Autocomplete"}),Dn=!x&&!S&&Lt&&!be,Et=(!I||O===!0)&&O!==!1,{onMouseDown:Gi}=Ze(),{ref:nr,...Br}=Gt(),kr=F||(dr=>dr.label??dr),Sn={...r,disablePortal:T,expanded:qt,focused:Yt,fullWidth:j,getOptionLabel:kr,hasClearIcon:Dn,hasPopupIcon:Et,inputFocused:St===-1,popupOpen:ct,size:Te},Zn=Bct(Sn),fs={slots:{paper:Z,popper:ue,...Pe},slotProps:{chip:l,listbox:Q,...y,...Le}},[tf,nf]=At("listbox",{elementType:Kct,externalForwardedProps:fs,ownerState:Sn,className:Zn.listbox,additionalProps:Br,ref:nr}),[vg,qe]=At("paper",{elementType:Pr,externalForwardedProps:fs,ownerState:Sn,className:Zn.paper}),[We,Nt]=At("popper",{elementType:rM,externalForwardedProps:fs,ownerState:Sn,className:Zn.popper,additionalProps:{disablePortal:T,style:{width:Ln?Ln.clientWidth:null},role:"presentation",anchorEl:Ln,open:ct}});let an;const vn=dr=>({className:Zn.tag,disabled:S,...bt(dr)});if(oe?An.length>0&&(ve?an=ve(An,vn,Sn):_e?an=_e(An,vn,Sn):an=An.map((dr,nl)=>{const{key:Gl,...Tp}=vn({index:nl});return h.jsx(Ci,{label:kr(dr),size:Te,...Tp,...fs.slotProps.chip},Gl)})):_e&&An!=null&&(an=_e(An,vn,Sn)),W>-1&&Array.isArray(an)){const dr=an.length-W;!Yt&&dr>0&&(an=an.splice(0,W),an.push(h.jsx("span",{className:Zn.tag,children:P(dr)},an.length)))}const Ur=le||(dr=>h.jsxs("li",{children:[h.jsx(Zct,{className:Zn.groupLabel,ownerState:Sn,component:"div",children:dr.group}),h.jsx(Qct,{className:Zn.groupUl,ownerState:Sn,children:dr.children})]},dr.key)),Ep=ye||((dr,nl)=>{const{key:Gl,...Tp}=dr;return h.jsx("li",{...Tp,children:kr(nl)},Gl)}),J0=(dr,nl)=>{const Gl=Cn({option:dr,index:nl});return Ep({...Gl,className:Zn.option},dr,{selected:Gl["aria-selected"],index:nl,inputValue:Xt},Sn)},Nc=fs.slotProps.clearIndicator,Gu=fs.slotProps.popupIndicator;return h.jsxs(R.Fragment,{children:[h.jsx(Uct,{ref:n,className:je(Zn.root,c),ownerState:Sn,...Re(at),children:Se({id:ur,disabled:S,fullWidth:!0,size:Te==="small"?"small":void 0,InputLabelProps:Rt(),InputProps:{ref:vt,className:Zn.inputRoot,startAdornment:an,onMouseDown:dr=>{dr.target===dr.currentTarget&&Gi(dr)},...(Dn||Et)&&{endAdornment:h.jsxs(Vct,{className:Zn.endAdornment,ownerState:Sn,children:[Dn?h.jsx(Hct,{...De(),"aria-label":p,title:p,ownerState:Sn,...Nc,className:je(Zn.clearIndicator,Nc?.className),children:u}):null,Et?h.jsx(Wct,{...Ct(),disabled:S,"aria-label":ct?g:se,title:ct?g:se,ownerState:Sn,...Gu,className:je(Zn.popupIndicator,Gu?.className),children:de}):null]})}},inputProps:{className:Zn.input,disabled:S,readOnly:be,...Ze()}})}),Ln?h.jsx(qct,{as:We,...Nt,children:h.jsxs(Gct,{as:vg,...qe,children:[ee&&Pn.length===0?h.jsx(Yct,{className:Zn.loading,ownerState:Sn,children:ne}):null,Pn.length===0&&!I&&!ee?h.jsx(Xct,{className:Zn.noOptions,ownerState:Sn,role:"presentation",onMouseDown:dr=>{dr.preventDefault()},children:ce}):null,Pn.length>0?h.jsx(tf,{as:X,...nf,children:Pn.map((dr,nl)=>V?Ur({key:dr.key,group:dr.group,children:dr.options.map((Gl,Tp)=>J0(Gl,dr.index+Tp))}):J0(dr,nl))}):null]})}):null]})}),Jct=He(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function eut(e){return tt("MuiAvatar",e)}rt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const tut=e=>{const{classes:t,variant:n,colorDefault:r}=e;return Qe({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},eut,t)},nut=we("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(pt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),rut=we("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),iut=we(Jct,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function out({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,o]=R.useState(!1);return R.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[e,t,n,r]),i}const Uh=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:f,srcSet:p,variant:g="circular",...y}=r;let v=null;const x={...r,component:a,variant:g},w=out({...u,...typeof c.img=="function"?c.img(x):c.img,src:f,srcSet:p}),S=f||p,C=S&&w!=="error";x.colorDefault=!C,delete x.ownerState;const k=tut(x),[T,E]=At("root",{ref:n,className:je(k.root,s),elementType:nut,externalForwardedProps:{slots:l,slotProps:c,component:a,...y},ownerState:x}),[A,O]=At("img",{className:k.img,elementType:rut,externalForwardedProps:{slots:l,slotProps:{img:{...u,...c.img}}},additionalProps:{alt:i,src:f,srcSet:p,sizes:d},ownerState:x}),[I,j]=At("fallback",{className:k.fallback,elementType:iut,externalForwardedProps:{slots:l,slotProps:c},shouldForwardComponentProp:!0,ownerState:x});return C?v=h.jsx(A,{...O}):o||o===0?v=o:S&&i?v=i[0]:v=h.jsx(I,{...j}),h.jsx(T,{...E,children:v})}),sut={entering:{opacity:1},entered:{opacity:1}},t0=R.forwardRef(function(t,n){const r=xt(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:y,style:v,timeout:x=i,TransitionComponent:w=Fc,...S}=t,C=R.useRef(null),k=Un(C,A0(a),n),T=D=>F=>{if(D){const N=C.current;F===void 0?D(N):D(N,F)}},E=T(f),A=T((D,F)=>{PX(D);const N=Qm({style:v,timeout:x,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",N),D.style.transition=r.transitions.create("opacity",N),u&&u(D,F)}),O=T(d),I=T(y),j=T(D=>{const F=Qm({style:v,timeout:x,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",F),D.style.transition=r.transitions.create("opacity",F),p&&p(D)}),P=T(g),$=D=>{o&&o(C.current,D)};return h.jsx(w,{appear:s,in:c,nodeRef:C,onEnter:A,onEntered:O,onEntering:E,onExit:j,onExited:P,onExiting:I,addEndListener:$,timeout:x,...S,children:(D,{ownerState:F,...N})=>R.cloneElement(a,{style:{opacity:0,visibility:D==="exited"&&!c?"hidden":void 0,...sut[D],...v,...a.props.style},ref:k,...N})})});function aut(e){return tt("MuiBackdrop",e)}rt("MuiBackdrop",["root","invisible"]);const lut=e=>{const{classes:t,invisible:n}=e;return Qe({root:["root",n&&"invisible"]},aut,t)},cut=we("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),aEe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:f={},TransitionComponent:p,transitionDuration:g,...y}=r,v={...r,component:s,invisible:a},x=lut(v),w={transition:p,root:c.Root,...f},S={...u,...d},C={component:s,slots:w,slotProps:S},[k,T]=At("root",{elementType:cut,externalForwardedProps:C,className:je(x.root,o),ownerState:v}),[E,A]=At("transition",{elementType:t0,externalForwardedProps:C,ownerState:v});return h.jsx(E,{in:l,timeout:g,...y,...A,children:h.jsx(k,{"aria-hidden":!0,...T,classes:x,ref:n,children:i})})});function uut(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=DX({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:l=r}=s?o:e,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:c}}function dut(e){return tt("MuiBadge",e)}const qg=rt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),A8=10,P8=4,fut=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${Ee(n.vertical)}${Ee(n.horizontal)}`,`anchorOrigin${Ee(n.vertical)}${Ee(n.horizontal)}${Ee(i)}`,`overlap${Ee(i)}`,t!=="default"&&`color${Ee(t)}`]};return Qe(a,dut,s)},put=we("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),hut=we("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Ee(n.anchorOrigin.vertical)}${Ee(n.anchorOrigin.horizontal)}${Ee(n.overlap)}`],n.color!=="default"&&t[`color${Ee(n.color)}`],n.invisible&&t.invisible]}})(pt(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:A8*2,lineHeight:1,padding:"0 6px",height:A8*2,borderRadius:A8,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(cr(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:P8,height:P8*2,minWidth:P8*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${qg.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function yfe(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const gut=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:o,classes:s,component:a,components:l={},componentsProps:c={},children:u,overlap:d="rectangular",color:f="default",invisible:p=!1,max:g=99,badgeContent:y,slots:v,slotProps:x,showZero:w=!1,variant:S="standard",...C}=r,{badgeContent:k,invisible:T,max:E,displayValue:A}=uut({max:g,invisible:p,badgeContent:y,showZero:w}),O=DX({anchorOrigin:yfe(i),color:f,overlap:d,variant:S,badgeContent:y}),I=T||k==null&&S!=="dot",{color:j=f,overlap:P=d,anchorOrigin:$,variant:D=S}=I?O:r,F=yfe($),N=D!=="dot"?A:void 0,V={...r,badgeContent:k,invisible:I,max:E,displayValue:N,showZero:w,anchorOrigin:F,color:j,overlap:P,variant:D},H=fut(V),U={slots:{root:v?.root??l.Root,badge:v?.badge??l.Badge},slotProps:{root:x?.root??c.root,badge:x?.badge??c.badge}},[G,z]=At("root",{elementType:put,externalForwardedProps:{...U,...C},ownerState:V,className:je(H.root,o),ref:n,additionalProps:{as:a}}),[W,X]=At("badge",{elementType:hut,externalForwardedProps:U,ownerState:V,className:H.badge});return h.jsxs(G,{...z,children:[u,h.jsx(W,{...X,children:N})]})}),mut=rt("MuiBox",["root"]),yut=jF(),Y=Crt({themeId:xu,defaultTheme:yut,defaultClassName:mut.root,generateClassName:ike.generate});function vut(e){return tt("MuiButton",e)}const Sy=rt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lEe=R.createContext({}),cEe=R.createContext(void 0),but=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=e,c={root:["root",s&&"loading",o,`${o}${Ee(t)}`,`size${Ee(i)}`,`${o}Size${Ee(i)}`,`color${Ee(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Ee(a)}`],startIcon:["icon","startIcon",`iconSize${Ee(i)}`],endIcon:["icon","endIcon",`iconSize${Ee(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=Qe(c,vut,l);return{...l,...u}},uEe=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],xut=we(Dl,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ee(n.color)}`],t[`size${Ee(n.size)}`],t[`${n.variant}Size${Ee(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Sy.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Sy.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Sy.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Sy.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(cr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Sy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Sy.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Sy.loading}`]:{color:"transparent"}}}]}})),wut=we("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Ee(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...uEe]})),Sut=we("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Ee(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...uEe]})),_ut=we("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),vfe=we("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Be=R.forwardRef(function(t,n){const r=R.useContext(lEe),i=R.useContext(cEe),o=sS(r,t),s=kt({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:y,fullWidth:v=!1,id:x,loading:w=null,loadingIndicator:S,loadingPosition:C="center",size:k="medium",startIcon:T,type:E,variant:A="text",...O}=s,I=$c(x),j=S??h.jsx(To,{"aria-labelledby":I,color:"inherit",size:16}),P={...s,color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:v,loading:w,loadingIndicator:j,loadingPosition:C,size:k,type:E,variant:A},$=but(P),D=(T||w&&C==="start")&&h.jsx(wut,{className:$.startIcon,ownerState:P,children:T||h.jsx(vfe,{className:$.loadingIconPlaceholder,ownerState:P})}),F=(g||w&&C==="end")&&h.jsx(Sut,{className:$.endIcon,ownerState:P,children:g||h.jsx(vfe,{className:$.loadingIconPlaceholder,ownerState:P})}),N=i||"",V=typeof w=="boolean"?h.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:w&&h.jsx(_ut,{className:$.loadingIndicator,ownerState:P,children:j})}):null;return h.jsxs(xut,{ownerState:P,className:je(r.className,$.root,u,N),component:c,disabled:d||w,focusRipple:!p,focusVisibleClassName:je($.focusVisible,y),ref:n,type:E,id:w?I:x,...O,classes:$,children:[D,C!=="end"&&V,a,C==="end"&&V,F]})});function dEe(e){return R.Children.toArray(e).filter(t=>R.isValidElement(t))}function Cut(e){return tt("MuiButtonGroup",e)}const Yn=rt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),kut=(e,t)=>{const{ownerState:n}=e;return[{[`& .${Yn.grouped}`]:t.grouped},{[`& .${Yn.grouped}`]:t[`grouped${Ee(n.orientation)}`]},{[`& .${Yn.grouped}`]:t[`grouped${Ee(n.variant)}`]},{[`& .${Yn.grouped}`]:t[`grouped${Ee(n.variant)}${Ee(n.orientation)}`]},{[`& .${Yn.grouped}`]:t[`grouped${Ee(n.variant)}${Ee(n.color)}`]},{[`& .${Yn.firstButton}`]:t.firstButton},{[`& .${Yn.lastButton}`]:t.lastButton},{[`& .${Yn.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},Eut=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,l={root:["root",a,s,o&&"fullWidth",i&&"disableElevation",`color${Ee(n)}`],grouped:["grouped",`grouped${Ee(s)}`,`grouped${Ee(a)}`,`grouped${Ee(a)}${Ee(s)}`,`grouped${Ee(a)}${Ee(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Qe(l,Cut,t)},Tut=we("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:kut})(pt(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(e.vars||e).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Yn.lastButton},& .${Yn.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Yn.lastButton},& .${Yn.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderRight:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Yn.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderBottom:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Yn.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(cr()).flatMap(([t])=>[{props:{variant:"text",color:t},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderColor:e.alpha((e.vars||e).palette[t].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${Yn.lastButton},& .${Yn.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${Yn.lastButton},& .${Yn.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Yn.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Yn.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(cr(["dark"])).map(([t])=>({props:{variant:"contained",color:t},style:{[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderColor:(e.vars||e).palette[t].dark}}}))],[`& .${Yn.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),fEe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:p="horizontal",size:g="medium",variant:y="outlined",...v}=r,x={...r,color:s,component:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,orientation:p,size:g,variant:y},w=Eut(x),S=R.useMemo(()=>({className:w.grouped,color:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,size:g,variant:y}),[s,l,c,u,d,f,g,y,w.grouped]),C=dEe(i),k=C.length,T=E=>{const A=E===0,O=E===k-1;return A&&O?"":A?w.firstButton:O?w.lastButton:w.middleButton};return h.jsx(Tut,{as:a,role:"group",className:je(w.root,o),ref:n,ownerState:x,...v,children:h.jsx(lEe.Provider,{value:S,children:C.map((E,A)=>h.jsx(cEe.Provider,{value:T(A),children:E},A))})})});function Rut(e){return tt("MuiCard",e)}rt("MuiCard",["root"]);const Mut=e=>{const{classes:t}=e;return Qe({root:["root"]},Rut,t)},Aut=we(Pr,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),n0=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=Mut(a);return h.jsx(Aut,{className:je(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})});function Put(e){return tt("MuiCardContent",e)}rt("MuiCardContent",["root"]);const Dut=e=>{const{classes:t}=e;return Qe({root:["root"]},Put,t)},Out=we("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),la=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=Dut(a);return h.jsx(Out,{as:o,className:je(l.root,i),ownerState:a,ref:n,...s})});function Iut(e){return tt("PrivateSwitchBase",e)}rt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const jut=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Ee(i)}`],input:["input"]};return Qe(o,Iut,t)},$ut=we(Dl,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),Fut=we("input",{name:"MuiSwitchBase",shouldForwardProp:as})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),BX=R.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:f,inputRef:p,name:g,onBlur:y,onChange:v,onFocus:x,readOnly:w,required:S=!1,tabIndex:C,type:k,value:T,slots:E={},slotProps:A={},...O}=t,[I,j]=Ws({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),P=Lc(),$=ee=>{x&&x(ee),P&&P.onFocus&&P.onFocus(ee)},D=ee=>{y&&y(ee),P&&P.onBlur&&P.onBlur(ee)},F=ee=>{if(ee.nativeEvent.defaultPrevented)return;const ne=ee.target.checked;j(ne),v&&v(ee,ne)};let N=a;P&&typeof N>"u"&&(N=P.disabled);const V=k==="checkbox"||k==="radio",H={...t,checked:I,disabled:N,disableFocusRipple:l,edge:c},U=jut(H),G={slots:E,slotProps:{input:f,...A}},[z,W]=At("root",{ref:n,elementType:$ut,className:U.root,shouldForwardComponentProp:!0,externalForwardedProps:{...G,component:"span",...O},getSlotProps:ee=>({...ee,onFocus:ne=>{ee.onFocus?.(ne),$(ne)},onBlur:ne=>{ee.onBlur?.(ne),D(ne)}}),ownerState:H,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:N,role:void 0,tabIndex:null}}),[X,Q]=At("input",{ref:p,elementType:Fut,className:U.input,externalForwardedProps:G,getSlotProps:ee=>({...ee,onChange:ne=>{ee.onChange?.(ne),F(ne)}}),ownerState:H,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:N,id:V?d:void 0,name:g,readOnly:w,required:S,tabIndex:C,type:k,...k==="checkbox"&&T===void 0?{}:{value:T}}});return h.jsxs(z,{...W,children:[h.jsx(X,{...Q}),I?o:u]})}),Lut=He(h.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Nut=He(h.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),zut=He(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function But(e){return tt("MuiCheckbox",e)}const D8=rt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Uut=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${Ee(r)}`,`size${Ee(i)}`]},s=Qe(o,But,t);return{...t,...s}},Vut=we(BX,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Ee(n.size)}`],n.color!=="default"&&t[`color${Ee(n.color)}`]]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{[`&.${D8.checked}, &.${D8.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${D8.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Hut=h.jsx(Nut,{}),Wut=h.jsx(Lut,{}),qut=h.jsx(zut,{}),Td=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCheckbox"}),{checkedIcon:i=Hut,color:o="primary",icon:s=Wut,indeterminate:a=!1,indeterminateIcon:l=qut,inputProps:c,size:u="medium",disableRipple:d=!1,className:f,slots:p={},slotProps:g={},...y}=r,v=a?l:s,x=a?l:i,w={...r,disableRipple:d,color:o,indeterminate:a,size:u},S=Uut(w),C=g.input??c,[k,T]=At("root",{ref:n,elementType:Vut,className:je(S.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:g,...y},ownerState:w,additionalProps:{type:"checkbox",icon:R.cloneElement(v,{fontSize:v.props.fontSize??u}),checkedIcon:R.cloneElement(x,{fontSize:x.props.fontSize??u}),disableRipple:d,slots:p,slotProps:{input:xX(typeof C=="function"?C(w):C,{"data-indeterminate":a})}}});return h.jsx(k,{...T,classes:S})});function bfe(e){return e.substring(2).toLowerCase()}function Gut(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Yut(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=R.useRef(!1),a=R.useRef(null),l=R.useRef(!1),c=R.useRef(!1);R.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Un(A0(t),a),d=mt(g=>{const y=c.current;c.current=!1;const v=ki(a.current);if(!l.current||!a.current||"clientX"in g&&Gut(g,v))return;if(s.current){s.current=!1;return}let x;g.composedPath?x=g.composedPath().includes(a.current):x=!v.documentElement.contains(g.target)||a.current.contains(g.target),!x&&(n||!y)&&i(g)}),f=g=>y=>{c.current=!0;const v=t.props[g];v&&v(y)},p={ref:u};return o!==!1&&(p[o]=f(o)),R.useEffect(()=>{if(o!==!1){const g=bfe(o),y=ki(a.current),v=()=>{s.current=!0};return y.addEventListener(g,d),y.addEventListener("touchmove",v),()=>{y.removeEventListener(g,d),y.removeEventListener("touchmove",v)}}},[d,o]),r!==!1&&(p[r]=f(r)),R.useEffect(()=>{if(r!==!1){const g=bfe(r),y=ki(a.current);return y.addEventListener(g,d),()=>{y.removeEventListener(g,d)}}},[d,r]),R.cloneElement(t,p)}const iM=hit({createStyledComponent:we("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ee(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>kt({props:e,name:"MuiContainer"})}),dH=typeof bX({})=="function",Xut=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),Kut=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),pEe=(e,t=!1)=>{const n={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([o,s])=>{const a=e.getColorSchemeSelector(o);a.startsWith("@")?n[a]={":root":{colorScheme:s.palette?.mode}}:n[a.replace(/\s*&/,"")]={colorScheme:s.palette?.mode}});let r={html:Xut(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...Kut(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const i=e.components?.MuiCssBaseline?.styleOverrides;return i&&(r=[r,i]),r},DI="mui-ecs",Zut=e=>{const t=pEe(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${DI})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([r,i])=>{const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${DI}))`]:{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${DI}))`]:{colorScheme:i.palette?.mode}}}),t},Qut=bX(dH?({theme:e,enableColorScheme:t})=>pEe(e,t):({theme:e})=>Zut(e));function UX(e){const t=kt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return h.jsxs(R.Fragment,{children:[dH&&h.jsx(Qut,{enableColorScheme:r}),!dH&&!r&&h.jsx("span",{className:DI,style:{display:"none"}}),n]})}function hEe(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Jut(e){const t=ki(e);return t.body===e?Rc(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function wE(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function xfe(e){return parseInt(Rc(e).getComputedStyle(e).paddingRight,10)||0}function edt(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function wfe(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=!o.includes(s),l=!edt(s);a&&l&&wE(s,i)})}function O8(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function tdt(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Jut(r)){const s=hEe(Rc(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${xfe(r)+s}px`;const a=ki(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${xfe(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ki(r).body;else{const s=r.parentElement,a=Rc(r);o=s?.nodeName==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function ndt(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class rdt{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&wE(t.modalRef,!1);const i=ndt(n);wfe(n,t.mount,t.modalRef,i,!0);const o=O8(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=O8(this.containers,o=>o.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=tdt(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=O8(this.containers,s=>s.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&wE(t.modalRef,n),wfe(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&wE(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Q1(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const idt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function odt(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function sdt(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function adt(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||sdt(e))}function ldt(e){const t=[],n=[];return Array.from(e.querySelectorAll(idt)).forEach((r,i)=>{const o=odt(r);o===-1||!adt(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function cdt(){return!0}function gEe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=ldt,isEnabled:s=cdt,open:a}=e,l=R.useRef(!1),c=R.useRef(null),u=R.useRef(null),d=R.useRef(null),f=R.useRef(null),p=R.useRef(!1),g=R.useRef(null),y=Un(A0(t),g),v=R.useRef(null);R.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),R.useEffect(()=>{if(!a||!g.current)return;const S=ki(g.current),C=Q1(S);return g.current.contains(C)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),R.useEffect(()=>{if(!a||!g.current)return;const S=ki(g.current),C=Q1(S),k=A=>{v.current=A,!(r||!s()||A.key!=="Tab")&&C===g.current&&A.shiftKey&&(l.current=!0,u.current&&u.current.focus())},T=()=>{const A=g.current;if(A===null)return;const O=Q1(S);if(!S.hasFocus()||!s()||l.current){l.current=!1;return}if(A.contains(O)||r&&O!==c.current&&O!==u.current)return;if(O!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let I=[];if((O===c.current||O===u.current)&&(I=o(g.current)),I.length>0){const j=!!(v.current?.shiftKey&&v.current?.key==="Tab"),P=I[0],$=I[I.length-1];typeof P!="string"&&typeof $!="string"&&(j?$.focus():P.focus())}else A.focus()};S.addEventListener("focusin",T),S.addEventListener("keydown",k,!0);const E=setInterval(()=>{const A=Q1(S);A&&A.tagName==="BODY"&&T()},50);return()=>{clearInterval(E),S.removeEventListener("focusin",T),S.removeEventListener("keydown",k,!0)}},[n,r,i,s,a,o]);const x=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0,f.current=S.target;const C=t.props.onFocus;C&&C(S)},w=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0};return h.jsxs(R.Fragment,{children:[h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),R.cloneElement(t,{ref:y,onFocus:x}),h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function udt(e){return typeof e=="function"?e():e}function ddt(e){return e?e.props.hasOwnProperty("in"):!1}const Sfe=()=>{},xD=new rdt;function fdt(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=e,d=R.useRef({}),f=R.useRef(null),p=R.useRef(null),g=Un(p,u),[y,v]=R.useState(!c),x=ddt(a);let w=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(w=!1);const S=()=>ki(f.current),C=()=>(d.current.modalRef=p.current,d.current.mount=f.current,d.current),k=()=>{xD.mount(C(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},T=mt(()=>{const F=udt(t)||S().body;xD.add(C(),F),p.current&&k()}),E=()=>xD.isTopModal(C()),A=mt(F=>{f.current=F,F&&(c&&E()?k():p.current&&wE(p.current,w))}),O=R.useCallback(()=>{xD.remove(C(),w)},[w]);R.useEffect(()=>()=>{O()},[O]),R.useEffect(()=>{c?T():(!x||!i)&&O()},[c,O,x,i,T]);const I=F=>N=>{F.onKeyDown?.(N),!(N.key!=="Escape"||N.which===229||!E())&&(n||(N.stopPropagation(),l&&l(N,"escapeKeyDown")))},j=F=>N=>{F.onClick?.(N),N.target===N.currentTarget&&l&&l(N,"backdropClick")};return{getRootProps:(F={})=>{const N=Rv(e);delete N.onTransitionEnter,delete N.onTransitionExited;const V={...N,...F};return{role:"presentation",...V,onKeyDown:I(V),ref:g}},getBackdropProps:(F={})=>{const N=F;return{"aria-hidden":!0,...N,onClick:j(N),open:c}},getTransitionProps:()=>{const F=()=>{v(!1),o&&o()},N=()=>{v(!0),s&&s(),i&&O()};return{onEnter:ZV(F,a?.props.onEnter??Sfe),onExited:ZV(N,a?.props.onExited??Sfe)}},rootRef:g,portalRef:A,isTopModal:E,exited:y,hasTransition:x}}function pdt(e){return tt("MuiModal",e)}rt("MuiModal",["root","hidden","backdrop"]);const hdt=e=>{const{open:t,exited:n,classes:r}=e;return Qe({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},pdt,r)},gdt=we("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(pt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),mdt=we(aEe,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),VX=R.forwardRef(function(t,n){const r=kt({name:"MuiModal",props:t}),{BackdropComponent:i=mdt,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:f={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:v=!1,disablePortal:x=!1,disableRestoreFocus:w=!1,disableScrollLock:S=!1,hideBackdrop:C=!1,keepMounted:k=!1,onClose:T,onTransitionEnter:E,onTransitionExited:A,open:O,slotProps:I={},slots:j={},theme:P,...$}=r,D={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:v,disablePortal:x,disableRestoreFocus:w,disableScrollLock:S,hideBackdrop:C,keepMounted:k},{getRootProps:F,getBackdropProps:N,getTransitionProps:V,portalRef:H,isTopModal:U,exited:G,hasTransition:z}=fdt({...D,rootRef:n}),W={...D,exited:G},X=hdt(W),Q={};if(c.props.tabIndex===void 0&&(Q.tabIndex="-1"),z){const{onEnter:ge,onExited:he}=V();Q.onEnter=ge,Q.onExited=he}const ee={slots:{root:f.Root,backdrop:f.Backdrop,...j},slotProps:{...p,...I}},[ne,oe]=At("root",{ref:n,elementType:gdt,externalForwardedProps:{...ee,...$,component:d},getSlotProps:F,ownerState:W,className:je(a,X?.root,!W.open&&W.exited&&X?.hidden)}),[ce,re]=At("backdrop",{ref:o?.ref,elementType:i,externalForwardedProps:ee,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ge=>N({...ge,onClick:he=>{ge?.onClick&&ge.onClick(he)}}),className:je(o?.className,X?.backdrop),ownerState:W});return!k&&!O&&(!z||G)?null:h.jsx(oEe,{ref:H,container:u,disablePortal:x,children:h.jsxs(ne,{...oe,children:[!C&&i?h.jsx(ce,{...re}):null,h.jsx(gEe,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:w,isEnabled:U,open:O,children:R.cloneElement(c,Q)})]})})});function ydt(e){return tt("MuiDialog",e)}const SE=rt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),mEe=R.createContext({}),vdt=we(aEe,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),bdt=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${Ee(n)}`],paper:["paper",`paperScroll${Ee(n)}`,`paperWidth${Ee(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Qe(s,ydt,t)},xdt=we(VX,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),wdt=we("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Ee(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Sdt=we(Pr,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Ee(n.scroll)}`],t[`paperWidth${Ee(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(pt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${SE.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${SE.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${SE.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Oi=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialog"}),i=xt(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:f,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:y=!1,maxWidth:v="sm",onClick:x,onClose:w,open:S,PaperComponent:C=Pr,PaperProps:k={},scroll:T="paper",slots:E={},slotProps:A={},TransitionComponent:O=t0,transitionDuration:I=o,TransitionProps:j,...P}=r,$={...r,disableEscapeKeyDown:p,fullScreen:g,fullWidth:y,maxWidth:v,scroll:T},D=bdt($),F=R.useRef(),N=xe=>{F.current=xe.target===xe.currentTarget},V=xe=>{x&&x(xe),F.current&&(F.current=null,w&&w(xe,"backdropClick"))},H=$c(a),U=R.useMemo(()=>({titleId:H}),[H]),G={transition:O,...E},z={transition:j,paper:k,backdrop:u,...A},W={slots:G,slotProps:z},[X,Q]=At("root",{elementType:xdt,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:$,className:je(D.root,f),ref:n}),[ee,ne]=At("backdrop",{elementType:vdt,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:$}),[oe,ce]=At("paper",{elementType:Sdt,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:$,className:je(D.paper,k.className)}),[re,ge]=At("container",{elementType:wdt,externalForwardedProps:W,ownerState:$,className:D.container}),[he,ie]=At("transition",{elementType:t0,externalForwardedProps:W,ownerState:$,additionalProps:{appear:!0,in:S,timeout:I,role:"presentation"}});return h.jsx(X,{closeAfterTransition:!0,slots:{backdrop:ee},slotProps:{backdrop:{transitionDuration:I,as:c,...ne}},disableEscapeKeyDown:p,onClose:w,open:S,onClick:V,...Q,...P,children:h.jsx(he,{...ie,children:h.jsx(re,{onMouseDown:N,...ge,children:h.jsx(oe,{as:C,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":H,"aria-modal":l,...ce,children:h.jsx(mEe.Provider,{value:U,children:d})})})})})});function _dt(e){return tt("MuiDialogActions",e)}rt("MuiDialogActions",["root","spacing"]);const Cdt=e=>{const{classes:t,disableSpacing:n}=e;return Qe({root:["root",!n&&"spacing"]},_dt,t)},kdt=we("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),wo=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=Cdt(a);return h.jsx(kdt,{className:je(l.root,i),ownerState:a,ref:n,...s})});function Edt(e){return tt("MuiDialogContent",e)}rt("MuiDialogContent",["root","dividers"]);function Tdt(e){return tt("MuiDialogTitle",e)}const Rdt=rt("MuiDialogTitle",["root"]),Mdt=e=>{const{classes:t,dividers:n}=e;return Qe({root:["root",n&&"dividers"]},Edt,t)},Adt=we("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(pt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Rdt.root} + &`]:{paddingTop:0}}}]}))),no=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=Mdt(a);return h.jsx(Adt,{className:je(l.root,i),ownerState:a,ref:n,...s})});function Pdt(e){return tt("MuiDialogContentText",e)}rt("MuiDialogContentText",["root"]);const Ddt=e=>{const{classes:t}=e,r=Qe({root:["root"]},Pdt,t);return{...t,...r}},Odt=we(ae,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiDialogContentText",slot:"Root"})({}),yo=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialogContentText"}),{children:i,className:o,...s}=r,a=Ddt(s);return h.jsx(Odt,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:s,className:je(a.root,o),...r,classes:a})}),Idt=e=>{const{classes:t}=e;return Qe({root:["root"]},Tdt,t)},jdt=we(ae,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Do=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=Idt(a),{titleId:c=o}=R.useContext(mEe);return h.jsx(jdt,{component:"h2",className:je(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})});function $dt(e){return tt("MuiDivider",e)}const _fe=rt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Fdt=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return Qe({root:["root",t&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},$dt,r)},Ldt=we("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(pt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Ndt=we("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(pt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),vi=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:a="horizontal",component:l=o||a==="vertical"?"div":"hr",flexItem:c=!1,light:u=!1,role:d=l!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth",...g}=r,y={...r,absolute:i,component:l,flexItem:c,light:u,orientation:a,role:d,textAlign:f,variant:p},v=Fdt(y);return h.jsx(Ldt,{as:l,className:je(v.root,s),role:d,ref:n,ownerState:y,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...g,children:o?h.jsx(Ndt,{className:v.wrapper,ownerState:y,children:o}):null})});vi&&(vi.muiSkipListHighlight=!0);function zdt(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=Rc(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const c=o.getComputedStyle(t);s=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(s&&s!=="none"&&typeof s=="string"){const c=s.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return e==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${o.innerWidth+a-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:e==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${o.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function Bdt(e){return typeof e=="function"?e():e}function wD(e,t,n){const r=Bdt(n),i=zdt(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Udt=R.forwardRef(function(t,n){const r=xt(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:f,onEnter:p,onEntered:g,onEntering:y,onExit:v,onExited:x,onExiting:w,style:S,timeout:C=o,TransitionComponent:k=Fc,...T}=t,E=R.useRef(null),A=Un(A0(l),E,n),O=H=>U=>{H&&(U===void 0?H(E.current):H(E.current,U))},I=O((H,U)=>{wD(u,H,c),PX(H),p&&p(H,U)}),j=O((H,U)=>{const G=Qm({timeout:C,style:S,easing:d},{mode:"enter"});H.style.webkitTransition=r.transitions.create("-webkit-transform",{...G}),H.style.transition=r.transitions.create("transform",{...G}),H.style.webkitTransform="none",H.style.transform="none",y&&y(H,U)}),P=O(g),$=O(w),D=O(H=>{const U=Qm({timeout:C,style:S,easing:d},{mode:"exit"});H.style.webkitTransition=r.transitions.create("-webkit-transform",U),H.style.transition=r.transitions.create("transform",U),wD(u,H,c),v&&v(H)}),F=O(H=>{H.style.webkitTransition="",H.style.transition="",x&&x(H)}),N=H=>{s&&s(E.current,H)},V=R.useCallback(()=>{E.current&&wD(u,E.current,c)},[u,c]);return R.useEffect(()=>{if(f||u==="down"||u==="right")return;const H=Ub(()=>{E.current&&wD(u,E.current,c)}),U=Rc(E.current);return U.addEventListener("resize",H),()=>{H.clear(),U.removeEventListener("resize",H)}},[u,f,c]),R.useEffect(()=>{f||V()},[f,V]),h.jsx(k,{nodeRef:E,onEnter:I,onEntered:P,onEntering:j,onExit:D,onExited:F,onExiting:$,addEndListener:N,appear:a,in:f,timeout:C,...T,children:(H,{ownerState:U,...G})=>R.cloneElement(l,{ref:A,style:{visibility:H==="exited"&&!f?"hidden":void 0,...S,...l.props.style},...G})})});function Vdt(e){return tt("MuiDrawer",e)}rt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const yEe=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},Hdt=e=>{const{classes:t,anchor:n,variant:r}=e,i={root:["root",`anchor${Ee(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ee(n)}`,r!=="temporary"&&`paperAnchorDocked${Ee(n)}`]};return Qe(i,Vdt,t)},Wdt=we(VX,{name:"MuiDrawer",slot:"Root",overridesResolver:yEe})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),qdt=we("div",{shouldForwardProp:as,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:yEe})({flex:"0 0 auto"}),Gdt=we(Pr,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${Ee(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${Ee(n.anchor)}`]]}})(pt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),vEe={left:"right",right:"left",top:"down",bottom:"up"};function Ydt(e){return["left","right"].includes(e)}function Xdt({direction:e},t){return e==="rtl"&&Ydt(t)?vEe[t]:t}const Vh=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDrawer"}),i=xt(),o=ss(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p,...g}={},onClose:y,open:v=!1,PaperProps:x={},SlideProps:w,TransitionComponent:S,transitionDuration:C=s,variant:k="temporary",slots:T={},slotProps:E={},...A}=r,O=R.useRef(!1);R.useEffect(()=>{O.current=!0},[]);const I=Xdt({direction:o?"rtl":"ltr"},a),P={...r,anchor:a,elevation:d,open:v,variant:k,...A},$=Hdt(P),D={slots:{transition:S,...T},slotProps:{paper:x,transition:w,...E,backdrop:xX(E.backdrop||{...l,...p},{transitionDuration:C})}},[F,N]=At("root",{ref:n,elementType:Wdt,className:je($.root,$.modal,u),shouldForwardComponentProp:!0,ownerState:P,externalForwardedProps:{...D,...A,...g},additionalProps:{open:v,onClose:y,hideBackdrop:f,slots:{backdrop:D.slots.backdrop},slotProps:{backdrop:D.slotProps.backdrop}}}),[V,H]=At("paper",{elementType:Gdt,shouldForwardComponentProp:!0,className:je($.paper,x.className),ownerState:P,externalForwardedProps:D,additionalProps:{elevation:k==="temporary"?d:0,square:!0,...k==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[U,G]=At("docked",{elementType:qdt,ref:n,className:je($.root,$.docked,u),ownerState:P,externalForwardedProps:D,additionalProps:A}),[z,W]=At("transition",{elementType:Udt,ownerState:P,externalForwardedProps:D,additionalProps:{in:v,direction:vEe[I],timeout:C,appear:O.current}}),X=h.jsx(V,{...H,children:c});if(k==="permanent")return h.jsx(U,{...G,children:X});const Q=h.jsx(z,{...W,children:X});return k==="persistent"?h.jsx(U,{...G,children:Q}):h.jsx(F,{...N,children:Q})}),Kdt=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Ee(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=Qe(l,Nct,t);return{...t,...c}},Zdt=we(KF,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...YF(e,t),!n.disableUnderline&&t.underline]}})(pt(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${sc.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${sc.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${sc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${sc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${sc.disabled}, .${sc.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${sc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(cr()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Qdt=we(ZF,{name:"MuiFilledInput",slot:"Input",overridesResolver:XF})(pt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),HX=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:f={},type:p="text",...g}=r,y={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},v=Kdt(r),x={root:{ownerState:y},input:{ownerState:y}},w=d??s?Eo(x,d??s):x,S=f.root??o.Root??Zdt,C=f.input??o.Input??Qdt;return h.jsx(zX,{slots:{root:S,input:C},slotProps:w,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...g,classes:v})});HX.muiName="Input";function Jdt(e){return tt("MuiFormControl",e)}rt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const eft=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${Ee(n)}`,r&&"fullWidth"]};return Qe(i,Jdt,t)},tft=we("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Ee(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Qf=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:g=!1,size:y="medium",variant:v="outlined",...x}=r,w={...r,color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:g,size:y,variant:v},S=eft(w),[C,k]=R.useState(()=>{let F=!1;return i&&R.Children.forEach(i,N=>{if(!yE(N,["Input","Select"]))return;const V=yE(N,["Select"])?N.props.input:N;V&&Ict(V.props)&&(F=!0)}),F}),[T,E]=R.useState(()=>{let F=!1;return i&&R.Children.forEach(i,N=>{yE(N,["Input","Select"])&&(M5(N.props,!0)||M5(N.props.inputProps,!0))&&(F=!0)}),F}),[A,O]=R.useState(!1);l&&A&&O(!1);const I=u!==void 0&&!l?u:A;let j;R.useRef(!1);const P=R.useCallback(()=>{E(!0)},[]),$=R.useCallback(()=>{E(!1)},[]),D=R.useMemo(()=>({adornedStart:C,setAdornedStart:k,color:s,disabled:l,error:c,filled:T,focused:I,fullWidth:d,hiddenLabel:f,size:y,onBlur:()=>{O(!1)},onFocus:()=>{O(!0)},onEmpty:$,onFilled:P,registerEffect:j,required:g,variant:v}),[C,s,l,c,T,I,d,f,j,$,P,g,y,v]);return h.jsx(GF.Provider,{value:D,children:h.jsx(tft,{as:a,ownerState:w,className:je(S.root,o),ref:n,...x,children:i})})});function nft(e){return tt("MuiFormControlLabel",e)}const $k=rt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),rft=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${Ee(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Qe(s,nft,t)},ift=we("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${$k.label}`]:t.label},t.root,t[`labelPlacement${Ee(n.labelPlacement)}`]]}})(pt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${$k.disabled}`]:{cursor:"default"},[`& .${$k.label}`]:{[`&.${$k.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),oft=we("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(pt(({theme:e})=>({[`&.${$k.error}`]:{color:(e.vars||e).palette.error.main}}))),Su=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:c,inputRef:u,label:d,labelPlacement:f="end",name:p,onChange:g,required:y,slots:v={},slotProps:x={},value:w,...S}=r,C=Lc(),k=l??a.props.disabled??C?.disabled,T=y??a.props.required,E={disabled:k,required:T};["checked","name","onChange","value","inputRef"].forEach(F=>{typeof a.props[F]>"u"&&typeof r[F]<"u"&&(E[F]=r[F])});const A=P0({props:r,muiFormControl:C,states:["error"]}),O={...r,disabled:k,labelPlacement:f,required:T,error:A.error},I=rft(O),j={slots:v,slotProps:{...s,...x}},[P,$]=At("typography",{elementType:ae,externalForwardedProps:j,ownerState:O});let D=d;return D!=null&&D.type!==ae&&!c&&(D=h.jsx(P,{component:"span",...$,className:je(I.label,$?.className),children:D})),h.jsxs(ift,{className:je(I.root,o),ownerState:O,ref:n,...S,children:[R.cloneElement(a,E),T?h.jsxs("div",{children:[D,h.jsxs(oft,{ownerState:O,"aria-hidden":!0,className:I.asterisk,children:["","*"]})]}):D]})});function sft(e){return tt("MuiFormGroup",e)}rt("MuiFormGroup",["root","row","error"]);const aft=e=>{const{classes:t,row:n,error:r}=e;return Qe({root:["root",n&&"row",r&&"error"]},sft,t)},lft=we("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),cft=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1,...s}=r,a=Lc(),l=P0({props:r,muiFormControl:a,states:["error"]}),c={...r,row:o,error:l.error},u=aft(c);return h.jsx(lft,{className:je(u.root,i),ownerState:c,ref:n,...s})});function uft(e){return tt("MuiFormHelperText",e)}const Cfe=rt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var kfe;const dft=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&`size${Ee(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Qe(c,uft,t)},fft=we("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Ee(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Cfe.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Cfe.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),QF=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:d,required:f,variant:p,...g}=r,y=Lc(),v=P0({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete x.ownerState;const w=dft(x);return h.jsx(fft,{as:s,className:je(w.root,o),ref:n,...g,ownerState:x,children:i===" "?kfe||(kfe=h.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function pft(e){return tt("MuiFormLabel",e)}const _E=rt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),hft=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root",`color${Ee(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Qe(l,pft,t)},gft=we("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{[`&.${_E.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${_E.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${_E.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),mft=we("span",{name:"MuiFormLabel",slot:"Asterisk"})(pt(({theme:e})=>({[`&.${_E.error}`]:{color:(e.vars||e).palette.error.main}}))),bEe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:d,required:f,...p}=r,g=Lc(),y=P0({props:r,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:y.color||"primary",component:a,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},x=hft(v);return h.jsxs(gft,{as:a,ownerState:v,className:je(x.root,o),ref:n,...p,children:[i,y.required&&h.jsxs(mft,{ownerState:v,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})}),gf=Ait({createStyledComponent:we("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>kt({props:e,name:"MuiGrid"}),useTheme:xt});function fH(e){return`scale(${e}, ${e**2})`}const yft={entering:{opacity:1,transform:fH(1)},entered:{opacity:1,transform:"none"}},I8=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ib=R.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:g,timeout:y="auto",TransitionComponent:v=Fc,...x}=t,w=xl(),S=R.useRef(),C=xt(),k=R.useRef(null),T=Un(k,A0(o),n),E=F=>N=>{if(F){const V=k.current;N===void 0?F(V):F(V,N)}},A=E(u),O=E((F,N)=>{PX(F);const{duration:V,delay:H,easing:U}=Qm({style:g,timeout:y,easing:s},{mode:"enter"});let G;y==="auto"?(G=C.transitions.getAutoHeightDuration(F.clientHeight),S.current=G):G=V,F.style.transition=[C.transitions.create("opacity",{duration:G,delay:H}),C.transitions.create("transform",{duration:I8?G:G*.666,delay:H,easing:U})].join(","),l&&l(F,N)}),I=E(c),j=E(p),P=E(F=>{const{duration:N,delay:V,easing:H}=Qm({style:g,timeout:y,easing:s},{mode:"exit"});let U;y==="auto"?(U=C.transitions.getAutoHeightDuration(F.clientHeight),S.current=U):U=N,F.style.transition=[C.transitions.create("opacity",{duration:U,delay:V}),C.transitions.create("transform",{duration:I8?U:U*.666,delay:I8?V:V||U*.333,easing:H})].join(","),F.style.opacity=0,F.style.transform=fH(.75),d&&d(F)}),$=E(f),D=F=>{y==="auto"&&w.start(S.current||0,F),r&&r(k.current,F)};return h.jsx(v,{appear:i,in:a,nodeRef:k,onEnter:O,onEntered:I,onEntering:A,onExit:P,onExited:$,onExiting:j,addEndListener:D,timeout:y==="auto"?null:y,...x,children:(F,{ownerState:N,...V})=>R.cloneElement(o,{style:{opacity:0,transform:fH(.75),visibility:F==="exited"&&!a?"hidden":void 0,...yft[F],...g,...o.props.style},ref:T,...V})})});ib&&(ib.muiSupportAuto=!0);const vft=e=>{const{classes:t,disableUnderline:n}=e,i=Qe({root:["root",!n&&"underline"],input:["input"]},Fct,t);return{...t,...i}},bft=we(KF,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...YF(e,t),!n.disableUnderline&&t.underline]}})(pt(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dm.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dm.disabled}, .${dm.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${dm.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(cr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),xft=we(ZF,{name:"MuiInput",slot:"Input",overridesResolver:XF})({}),WX=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:f="text",...p}=r,g=vft(r),v={root:{ownerState:{disableUnderline:i}}},x=u??s?Eo(u??s,v):v,w=d.root??o.Root??bft,S=d.input??o.Input??xft;return h.jsx(zX,{slots:{root:w,input:S},slotProps:x,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:f,...p,classes:g})});WX.muiName="Input";function wft(e){return tt("MuiInputAdornment",e)}const Efe=rt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Tfe;const Sft=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ee(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},_ft=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${Ee(i)}`,s,r&&"hiddenLabel",o&&`size${Ee(o)}`]};return Qe(a,wft,t)},Cft=we("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Sft})(pt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Efe.positionStart}&:not(.${Efe.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),ob=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u,...d}=r,f=Lc()||{};let p=u;u&&f.variant,f&&!p&&(p=f.variant);const g={...r,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:c,variant:p},y=_ft(g);return h.jsx(GF.Provider,{value:null,children:h.jsx(Cft,{as:s,ownerState:g,className:je(y.root,o),ref:n,...d,children:typeof i=="string"&&!l?h.jsx(ae,{color:"textSecondary",children:i}):h.jsxs(R.Fragment,{children:[c==="start"?Tfe||(Tfe=h.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function kft(e){return tt("MuiInputLabel",e)}rt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Eft=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${Ee(r)}`,s],asterisk:[a&&"asterisk"]},c=Qe(l,kft,t);return{...t,...c}},Tft=we(bEe,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${_E.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(pt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),JF=R.forwardRef(function(t,n){const r=kt({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=Lc();let d=s;typeof d>"u"&&u&&(d=u.filled||u.focused||u.adornedStart);const f=P0({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:d,size:f.size,variant:f.variant,required:f.required,focused:f.focused},g=Eft(p);return h.jsx(Tft,{"data-shrink":d,ref:n,className:je(g.root,l),...c,ownerState:p,classes:g})});function Rft(e){return tt("MuiLinearProgress",e)}rt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const pH=4,hH=cp`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Mft=typeof hH!="string"?T0`
        animation: ${hH} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,gH=cp`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Aft=typeof gH!="string"?T0`
        animation: ${gH} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,mH=cp`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Pft=typeof mH!="string"?T0`
        animation: ${mH} 3s infinite linear;
      `:null,Dft=e=>{const{classes:t,variant:n,color:r}=e,i={root:["root",`color${Ee(r)}`,n],dashed:["dashed",`dashedColor${Ee(r)}`],bar1:["bar","bar1",`barColor${Ee(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Ee(r)}`,n==="buffer"&&`color${Ee(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Qe(i,Rft,t)},qX=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),Oft=we("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Ee(n.color)}`],t[n.variant]]}})(pt(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{backgroundColor:qX(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Ift=we("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Ee(n.color)}`]]}})(pt(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(cr()).map(([t])=>{const n=qX(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),Pft||{animation:`${mH} 3s infinite linear`}),jft=we("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${Ee(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(pt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${pH}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${pH}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Mft||{animation:`${hH} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),$ft=we("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${Ee(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(pt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:qX(e,t),transition:`transform .${pH}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Aft||{animation:`${gH} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),xEe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:a,variant:l="indeterminate",...c}=r,u={...r,color:o,variant:l},d=Dft(u),f=ss(),p={},g={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&s!==void 0){p["aria-valuenow"]=Math.round(s),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=s-100;f&&(y=-y),g.bar1.transform=`translateX(${y}%)`}if(l==="buffer"&&a!==void 0){let y=(a||0)-100;f&&(y=-y),g.bar2.transform=`translateX(${y}%)`}return h.jsxs(Oft,{className:je(d.root,i),ownerState:u,role:"progressbar",...p,ref:n,...c,children:[l==="buffer"?h.jsx(Ift,{className:d.dashed,ownerState:u}):null,h.jsx(jft,{className:d.bar1,ownerState:u,style:g.bar1}),l==="determinate"?null:h.jsx($ft,{className:d.bar2,ownerState:u,style:g.bar2})]})});function Fft(e){return tt("MuiLink",e)}const Lft=rt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Nft=({theme:e,ownerState:t})=>{const n=t.color;if("colorSpace"in e&&e.colorSpace){const o=Sf(e,`palette.${n}.main`)||Sf(e,`palette.${n}`)||t.color;return e.alpha(o,.4)}const r=Sf(e,`palette.${n}.main`,!1)||Sf(e,`palette.${n}`,!1)||t.color,i=Sf(e,`palette.${n}.mainChannel`)||Sf(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:ut(r,.4)},Rfe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},zft=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${Ee(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Qe(o,Fft,t)},Bft=we(ae,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${Ee(n.underline)}`],n.component==="button"&&t.button]}})(pt(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:n})=>t==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:t,ownerState:n})=>t==="always"&&n.color==="inherit",style:e.colorSpace?{textDecorationColor:e.alpha("currentColor",.4)}:null},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Lft.focusVisible}`]:{outline:"auto"}}}]}))),vm=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiLink"}),i=xt(),{className:o,color:s="primary",component:a="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:d="always",variant:f="inherit",sx:p,...g}=r,[y,v]=R.useState(!1),x=k=>{e0(k.target)||v(!1),l&&l(k)},w=k=>{e0(k.target)&&v(!0),c&&c(k)},S={...r,color:s,component:a,focusVisible:y,underline:d,variant:f},C=zft(S);return h.jsx(Bft,{color:s,className:je(C.root,o),classes:u,component:a,onBlur:x,onFocus:w,ref:n,ownerState:S,variant:f,...g,sx:[...Rfe[s]===void 0?[{color:s}]:[],...Array.isArray(p)?p:[p]],style:{...g.style,...d==="always"&&s!=="inherit"&&!Rfe[s]&&{"--Link-underlineColor":Nft({theme:i,ownerState:S})}}})}),Rd=R.createContext({});function Uft(e){return tt("MuiList",e)}rt("MuiList",["root","padding","dense","subheader"]);const Vft=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Qe({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Uft,t)},Hft=we("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Wb=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,d=R.useMemo(()=>({dense:a}),[a]),f={...r,component:s,dense:a,disablePadding:l},p=Vft(f);return h.jsx(Rd.Provider,{value:d,children:h.jsxs(Hft,{as:s,className:je(p.root,o),ref:n,ownerState:f,...u,children:[c,i]})})});function Wft(e){return tt("MuiListItem",e)}rt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function qft(e){return tt("MuiListItemButton",e)}const L1=rt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Gft=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},Yft=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,c=Qe({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},qft,n);return{...n,...c}},Xft=we(Dl,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Gft})(pt(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L1.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${L1.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${L1.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${L1.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${L1.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),wEe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:f=!1,className:p,...g}=r,y=R.useContext(Rd),v=R.useMemo(()=>({dense:l||y.dense||!1,alignItems:i,disableGutters:c}),[i,y.dense,l,c]),x=R.useRef(null);ii(()=>{o&&x.current&&x.current.focus()},[o]);const w={...r,alignItems:i,dense:v.dense,disableGutters:c,divider:u,selected:f},S=Yft(w),C=Un(x,n);return h.jsx(Rd.Provider,{value:v,children:h.jsx(Xft,{ref:C,href:g.href||g.to,component:(g.href||g.to)&&s==="div"?"button":s,focusVisibleClassName:je(S.focusVisible,d),ownerState:w,className:je(S.root,p),...g,classes:S,children:a})})});function Kft(e){return tt("MuiListItemSecondaryAction",e)}rt("MuiListItemSecondaryAction",["root","disableGutters"]);const Zft=e=>{const{disableGutters:t,classes:n}=e;return Qe({root:["root",t&&"disableGutters"]},Kft,n)},Qft=we("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),SEe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=R.useContext(Rd),a={...r,disableGutters:s.disableGutters},l=Zft(a);return h.jsx(Qft,{className:je(l.root,i),ownerState:a,ref:n,...o})});SEe.muiName="ListItemSecondaryAction";const Jft=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},ept=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=e;return Qe({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},Wft,n)},tpt=we("div",{name:"MuiListItem",slot:"Root",overridesResolver:Jft})(pt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${L1.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),npt=we("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Hh=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:a,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...f}={},dense:p=!1,disableGutters:g=!1,disablePadding:y=!1,divider:v=!1,secondaryAction:x,slotProps:w={},slots:S={},...C}=r,k=R.useContext(Rd),T=R.useMemo(()=>({dense:p||k.dense||!1,alignItems:i,disableGutters:g}),[i,k.dense,p,g]),E=R.useRef(null),A=R.Children.toArray(o),O=A.length&&yE(A[A.length-1],["ListItemSecondaryAction"]),I={...r,alignItems:i,dense:T.dense,disableGutters:g,disablePadding:y,divider:v,hasSecondaryAction:O},j=ept(I),P=Un(E,n),$={slots:S,slotProps:w},[D,F]=At("secondaryAction",{elementType:SEe,externalForwardedProps:$,ownerState:I,className:j.secondaryAction}),N=S.root||l.Root||tpt,V=w.root||c.root||{},H={className:je(j.root,V.className,s),...C};let U=a||"li";return O?(U=!H.component&&!a?"div":U,u==="li"&&(U==="li"?U="div":H.component==="li"&&(H.component="div")),h.jsx(Rd.Provider,{value:T,children:h.jsxs(npt,{as:u,className:je(j.container,d),ref:P,ownerState:I,...f,children:[h.jsx(N,{...V,...!Nf(N)&&{as:U,ownerState:{...I,...V.ownerState}},...H,children:A}),A.pop()]})})):h.jsx(Rd.Provider,{value:T,children:h.jsxs(N,{...V,as:U,ref:P,...!Nf(N)&&{ownerState:{...I,...V.ownerState}},...H,children:[A,x&&h.jsx(D,{...F,children:x})]})})});function rpt(e){return tt("MuiListItemIcon",e)}const Mfe=rt("MuiListItemIcon",["root","alignItemsFlexStart"]),ipt=e=>{const{alignItems:t,classes:n}=e;return Qe({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},rpt,n)},opt=we("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(pt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),eo=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItemIcon"}),{className:i,...o}=r,s=R.useContext(Rd),a={...r,alignItems:s.alignItems},l=ipt(a);return h.jsx(opt,{className:je(l.root,i),ownerState:a,ref:n,...o})});function spt(e){return tt("MuiListItemText",e)}const J1=rt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),apt=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return Qe({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},spt,t)},lpt=we("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${J1.primary}`]:t.primary},{[`& .${J1.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Yde.root}:where(& .${J1.primary})`]:{display:"block"},[`.${Yde.root}:where(& .${J1.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),_h=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:f={},slotProps:p={},...g}=r,{dense:y}=R.useContext(Rd);let v=l??i,x=u;const w={...r,disableTypography:s,inset:a,primary:!!v,secondary:!!x,dense:y},S=apt(w),C={slots:f,slotProps:{primary:c,secondary:d,...p}},[k,T]=At("root",{className:je(S.root,o),elementType:lpt,externalForwardedProps:{...C,...g},ownerState:w,ref:n}),[E,A]=At("primary",{className:S.primary,elementType:ae,externalForwardedProps:C,ownerState:w}),[O,I]=At("secondary",{className:S.secondary,elementType:ae,externalForwardedProps:C,ownerState:w});return v!=null&&v.type!==ae&&!s&&(v=h.jsx(E,{variant:y?"body2":"body1",component:A?.variant?void 0:"span",...A,children:v})),x!=null&&x.type!==ae&&!s&&(x=h.jsx(O,{variant:"body2",color:"textSecondary",...I,children:x})),h.jsxs(k,{...T,children:[v,x]})});function j8(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Afe(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function _Ee(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function $2(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!_Ee(a,o)||l)a=i(e,a,n);else return a.focus(),!0}return!1}const e4=R.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...f}=t,p=R.useRef(null),g=R.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ii(()=>{i&&p.current.focus()},[i]),R.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:C})=>{const k=!p.current.style.width;if(S.clientHeight<p.current.clientHeight&&k){const T=`${hEe(Rc(S))}px`;p.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=T,p.current.style.width=`calc(100% + ${T})`}return p.current}}),[]);const y=S=>{const C=p.current,k=S.key;if(S.ctrlKey||S.metaKey||S.altKey){u&&u(S);return}const E=Q1(ki(C));if(k==="ArrowDown")S.preventDefault(),$2(C,E,c,l,j8);else if(k==="ArrowUp")S.preventDefault(),$2(C,E,c,l,Afe);else if(k==="Home")S.preventDefault(),$2(C,null,c,l,j8);else if(k==="End")S.preventDefault(),$2(C,null,c,l,Afe);else if(k.length===1){const A=g.current,O=k.toLowerCase(),I=performance.now();A.keys.length>0&&(I-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&O!==A.keys[0]&&(A.repeating=!1)),A.lastTime=I,A.keys.push(O);const j=E&&!A.repeating&&_Ee(E,A);A.previousKeyMatched&&(j||$2(C,E,!1,l,j8,A))?S.preventDefault():A.previousKeyMatched=!1}u&&u(S)},v=Un(p,n);let x=-1;R.Children.forEach(s,(S,C)=>{if(!R.isValidElement(S)){x===C&&(x+=1,x>=s.length&&(x=-1));return}S.props.disabled||(d==="selectedMenu"&&S.props.selected||x===-1)&&(x=C),x===C&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(x+=1,x>=s.length&&(x=-1))});const w=R.Children.map(s,(S,C)=>{if(C===x){const k={};return o&&(k.autoFocus=!0),S.props.tabIndex===void 0&&d==="selectedMenu"&&(k.tabIndex=0),R.cloneElement(S,k)}return S});return h.jsx(Wb,{role:"menu",ref:v,className:a,onKeyDown:y,tabIndex:i?0:-1,...f,children:w})});function cpt(e){return tt("MuiPopover",e)}rt("MuiPopover",["root","paper"]);function Pfe(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Dfe(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Ofe(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function SD(e){return typeof e=="function"?e():e}const upt=e=>{const{classes:t}=e;return Qe({root:["root"],paper:["paper"]},cpt,t)},dpt=we(VX,{name:"MuiPopover",slot:"Root"})({}),CEe=we(Pr,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),t4=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:f=8,marginThreshold:p=16,open:g,PaperProps:y={},slots:v={},slotProps:x={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:C="auto",TransitionProps:k={},disableScrollLock:T=!1,...E}=r,A=R.useRef(),O={...r,anchorOrigin:s,anchorReference:l,elevation:f,marginThreshold:p,transformOrigin:w,TransitionComponent:S,transitionDuration:C,TransitionProps:k},I=upt(O),j=R.useCallback(()=>{if(l==="anchorPosition")return a;const ge=SD(o),ie=(ge&&ge.nodeType===1?ge:ki(A.current).body).getBoundingClientRect();return{top:ie.top+Pfe(ie,s.vertical),left:ie.left+Dfe(ie,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),P=R.useCallback(ge=>({vertical:Pfe(ge,w.vertical),horizontal:Dfe(ge,w.horizontal)}),[w.horizontal,w.vertical]),$=R.useCallback(ge=>{const he={width:ge.offsetWidth,height:ge.offsetHeight},ie=P(he);if(l==="none")return{top:null,left:null,transformOrigin:Ofe(ie)};const xe=j();let q=xe.top-ie.vertical,fe=xe.left-ie.horizontal;const se=q+he.height,J=fe+he.width,Z=Rc(SD(o)),ue=Z.innerHeight-p,de=Z.innerWidth-p;if(p!==null&&q<p){const be=q-p;q-=be,ie.vertical+=be}else if(p!==null&&se>ue){const be=se-ue;q-=be,ie.vertical+=be}if(p!==null&&fe<p){const be=fe-p;fe-=be,ie.horizontal+=be}else if(J>de){const be=J-de;fe-=be,ie.horizontal+=be}return{top:`${Math.round(q)}px`,left:`${Math.round(fe)}px`,transformOrigin:Ofe(ie)}},[o,l,j,P,p]),[D,F]=R.useState(g),N=R.useCallback(()=>{const ge=A.current;if(!ge)return;const he=$(ge);he.top!==null&&ge.style.setProperty("top",he.top),he.left!==null&&(ge.style.left=he.left),ge.style.transformOrigin=he.transformOrigin,F(!0)},[$]);R.useEffect(()=>(T&&window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)),[o,T,N]);const V=()=>{N()},H=()=>{F(!1)};R.useEffect(()=>{g&&N()}),R.useImperativeHandle(i,()=>g?{updatePosition:()=>{N()}}:null,[g,N]),R.useEffect(()=>{if(!g)return;const ge=Ub(()=>{N()}),he=Rc(SD(o));return he.addEventListener("resize",ge),()=>{ge.clear(),he.removeEventListener("resize",ge)}},[o,g,N]);let U=C;const G={slots:{transition:S,...v},slotProps:{transition:k,paper:y,...x}},[z,W]=At("transition",{elementType:ib,externalForwardedProps:G,ownerState:O,getSlotProps:ge=>({...ge,onEntering:(he,ie)=>{ge.onEntering?.(he,ie),V()},onExited:he=>{ge.onExited?.(he),H()}}),additionalProps:{appear:!0,in:g}});C==="auto"&&!z.muiSupportAuto&&(U=void 0);const X=d||(o?ki(SD(o)).body:void 0),[Q,{slots:ee,slotProps:ne,...oe}]=At("root",{ref:n,elementType:dpt,externalForwardedProps:{...G,...E},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:xX(typeof x.backdrop=="function"?x.backdrop(O):x.backdrop,{invisible:!0})},container:X,open:g},ownerState:O,className:je(I.root,u)}),[ce,re]=At("paper",{ref:A,className:I.paper,elementType:CEe,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:D?void 0:{opacity:0}},ownerState:O});return h.jsx(Q,{...oe,...!Nf(Q)&&{slots:ee,slotProps:ne,disableScrollLock:T},children:h.jsx(z,{...W,timeout:U,children:h.jsx(ce,{...re,children:c})})})});function fpt(e){return tt("MuiMenu",e)}rt("MuiMenu",["root","paper","list"]);const ppt={vertical:"top",horizontal:"right"},hpt={vertical:"top",horizontal:"left"},gpt=e=>{const{classes:t}=e;return Qe({root:["root"],paper:["paper"],list:["list"]},fpt,t)},mpt=we(t4,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),ypt=we(CEe,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),vpt=we(e4,{name:"MuiMenu",slot:"List"})({outline:0}),Uo=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:f,transitionDuration:p="auto",TransitionProps:{onEntering:g,...y}={},variant:v="selectedMenu",slots:x={},slotProps:w={},...S}=r,C=ss(),k={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:g,PaperProps:d,transitionDuration:p,TransitionProps:y,variant:v},T=gpt(k),E=i&&!a&&u,A=R.useRef(null),O=(U,G)=>{A.current&&A.current.adjustStyleForScrollbar(U,{direction:C?"rtl":"ltr"}),g&&g(U,G)},I=U=>{U.key==="Tab"&&(U.preventDefault(),c&&c(U,"tabKeyDown"))};let j=-1;R.Children.map(o,(U,G)=>{R.isValidElement(U)&&(U.props.disabled||(v==="selectedMenu"&&U.props.selected||j===-1)&&(j=G))});const P={slots:x,slotProps:{list:l,transition:y,paper:d,...w}},$=jn({elementType:x.root,externalSlotProps:w.root,ownerState:k,className:[T.root,s]}),[D,F]=At("paper",{className:T.paper,elementType:ypt,externalForwardedProps:P,shouldForwardComponentProp:!0,ownerState:k}),[N,V]=At("list",{className:je(T.list,l.className),elementType:vpt,shouldForwardComponentProp:!0,externalForwardedProps:P,getSlotProps:U=>({...U,onKeyDown:G=>{I(G),U.onKeyDown?.(G)}}),ownerState:k}),H=typeof P.slotProps.transition=="function"?P.slotProps.transition(k):P.slotProps.transition;return h.jsx(mpt,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?ppt:hpt,slots:{root:x.root,paper:D,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:$,paper:F,backdrop:typeof w.backdrop=="function"?w.backdrop(k):w.backdrop,transition:{...H,onEntering:(...U)=>{O(...U),H?.onEntering?.(...U)}}},open:u,ref:n,transitionDuration:p,ownerState:k,...S,classes:f,children:h.jsx(N,{actions:A,autoFocus:i&&(j===-1||a),autoFocusItem:E,variant:v,...V,children:o})})});function bpt(e){return tt("MuiMenuItem",e)}const F2=rt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),xpt=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},wpt=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,l=Qe({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},bpt,s);return{...s,...l}},Spt=we(Dl,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:xpt})(pt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${F2.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${F2.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${F2.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${F2.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${F2.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${_fe.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${_fe.inset}`]:{marginLeft:52},[`& .${J1.root}`]:{marginTop:0,marginBottom:0},[`& .${J1.inset}`]:{paddingLeft:36},[`& .${Mfe.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${Mfe.root} svg`]:{fontSize:"1.25rem"}}}]}))),$t=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f,...p}=r,g=R.useContext(Rd),y=R.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),v=R.useRef(null);ii(()=>{i&&v.current&&v.current.focus()},[i]);const x={...r,dense:y.dense,divider:a,disableGutters:l},w=wpt(r),S=Un(v,n);let C;return r.disabled||(C=d!==void 0?d:-1),h.jsx(Rd.Provider,{value:y,children:h.jsx(Spt,{ref:S,role:u,tabIndex:C,component:o,focusVisibleClassName:je(w.focusVisible,c),className:je(w.root,f),...p,ownerState:x,classes:w})})});function _pt(e){return tt("MuiNativeSelect",e)}const GX=rt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Cpt=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ee(n)}`,o&&"iconOpen",r&&"disabled"]};return Qe(a,_pt,t)},kEe=we("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${GX.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),kpt=we(kEe,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:as,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${GX.multiple}`]:t.multiple}]}})({}),EEe=we("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${GX.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Ept=we(EEe,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ee(n.variant)}`],n.open&&t.iconOpen]}})({}),Tpt=R.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=t,u={...t,disabled:i,variant:l,error:o},d=Cpt(u);return h.jsxs(R.Fragment,{children:[h.jsx(kpt,{ownerState:u,className:je(d.select,r),disabled:i,ref:a||n,...c}),t.multiple?null:h.jsx(Ept,{as:s,ownerState:u,className:d.icon})]})});var Ife;const Rpt=we("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:as})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Mpt=we("legend",{name:"MuiNotchedOutlined",shouldForwardProp:as})(pt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function Apt(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,a=i!=null&&i!=="",l={...e,notched:o,withLabel:a};return h.jsx(Rpt,{"aria-hidden":!0,className:r,ownerState:l,...s,children:h.jsx(Mpt,{ownerState:l,children:a?h.jsx("span",{children:i}):Ife||(Ife=h.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Ppt=e=>{const{classes:t}=e,r=Qe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Lct,t);return{...t,...r}},Dpt=we(KF,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:YF})(pt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ru.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ru.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${ru.focused} .${ru.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(cr()).map(([n])=>({props:{color:n},style:{[`&.${ru.focused} .${ru.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${ru.error} .${ru.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${ru.disabled} .${ru.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Opt=we(Apt,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(pt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),Ipt=we(ZF,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:XF})(pt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),YX=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:s="input",label:a,multiline:l=!1,notched:c,slots:u={},slotProps:d={},type:f="text",...p}=r,g=Ppt(r),y=Lc(),v=P0({props:r,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:y,fullWidth:o,hiddenLabel:v.hiddenLabel,multiline:l,size:v.size,type:f},w=u.root??i.Root??Dpt,S=u.input??i.Input??Ipt,[C,k]=At("notchedOutline",{elementType:Opt,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:u,slotProps:d},additionalProps:{label:a!=null&&a!==""&&v.required?h.jsxs(R.Fragment,{children:[a,"","*"]}):a}});return h.jsx(zX,{slots:{root:w,input:S},slotProps:d,renderSuffix:T=>h.jsx(C,{...k,notched:typeof c<"u"?c:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:o,inputComponent:s,multiline:l,ref:n,type:f,...p,classes:{...g,notchedOutline:null}})});YX.muiName="Input";function jpt(e){return tt("MuiPagination",e)}rt("MuiPagination",["root","ul","outlined","text"]);function $pt(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:i=1,disabled:o=!1,hideNextButton:s=!1,hidePrevButton:a=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:f=1,...p}=e,[g,y]=Ws({controlled:c,default:i,name:n,state:"page"}),v=(O,I)=>{c||y(I),l&&l(O,I)},x=(O,I)=>{const j=I-O+1;return Array.from({length:j},(P,$)=>O+$)},w=x(1,Math.min(t,r)),S=x(Math.max(r-t+1,t+1),r),C=Math.max(Math.min(g-f,r-t-f*2-1),t+2),k=Math.min(Math.max(g+f,t+f*2+2),r-t-1),T=[...u?["first"]:[],...a?[]:["previous"],...w,...C>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...x(C,k),...k<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...S,...s?[]:["next"],...d?["last"]:[]],E=O=>{switch(O){case"first":return 1;case"previous":return g-1;case"next":return g+1;case"last":return r;default:return null}};return{items:T.map(O=>typeof O=="number"?{onClick:I=>{v(I,O)},type:"page",page:O,selected:O===g,disabled:o,"aria-current":O===g?"page":void 0}:{onClick:I=>{v(I,E(O))},type:O,page:E(O),selected:!1,disabled:o||!O.includes("ellipsis")&&(O==="next"||O==="last"?g>=r:g<=1)}),...p}}function Fpt(e){return tt("MuiPaginationItem",e)}const Aa=rt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),Lpt=He(h.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),Npt=He(h.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),zpt=He(h.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Bpt=He(h.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),TEe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Ee(n.size)}`],n.variant==="text"&&t[`text${Ee(n.color)}`],n.variant==="outlined"&&t[`outlined${Ee(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},Upt=e=>{const{classes:t,color:n,disabled:r,selected:i,size:o,shape:s,type:a,variant:l}=e,c={root:["root",`size${Ee(o)}`,l,s,n!=="standard"&&`color${Ee(n)}`,n!=="standard"&&`${l}${Ee(n)}`,r&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]};return Qe(c,Fpt,t)},Vpt=we("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:TEe})(pt(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${Aa.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),Hpt=we(Dl,{name:"MuiPaginationItem",slot:"Root",overridesResolver:TEe})(pt(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${Aa.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Aa.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Aa.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Aa.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},[`&.${Aa.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Aa.selected}`]:{[`&.${Aa.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${Aa.selected}`]:{[`&.${Aa.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(cr(["dark","contrastText"])).map(([t])=>({props:{variant:"text",color:t},style:{[`&.${Aa.selected}`]:{color:(e.vars||e).palette[t].contrastText,backgroundColor:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:(e.vars||e).palette[t].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t].main}},[`&.${Aa.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t].dark},[`&.${Aa.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(cr(["light"])).map(([t])=>({props:{variant:"outlined",color:t},style:{[`&.${Aa.selected}`]:{color:(e.vars||e).palette[t].main,border:`1px solid ${e.alpha((e.vars||e).palette[t].main,.5)}`,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.activatedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.activatedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Aa.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.activatedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))]}))),Wpt=we("div",{name:"MuiPaginationItem",slot:"Icon"})(pt(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),REe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiPaginationItem"}),{className:i,color:o="standard",component:s,components:a={},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:f="medium",slots:p={},slotProps:g={},type:y="page",variant:v="text",...x}=r,w={...r,color:o,disabled:l,selected:u,shape:d,size:f,type:y,variant:v},S=ss(),C=Upt(w),k={slots:{previous:p.previous??a.previous,next:p.next??a.next,first:p.first??a.first,last:p.last??a.last},slotProps:g},[T,E]=At("previous",{elementType:zpt,externalForwardedProps:k,ownerState:w}),[A,O]=At("next",{elementType:Bpt,externalForwardedProps:k,ownerState:w}),[I,j]=At("first",{elementType:Lpt,externalForwardedProps:k,ownerState:w}),[P,$]=At("last",{elementType:Npt,externalForwardedProps:k,ownerState:w}),D=S?{previous:"next",next:"previous",first:"last",last:"first"}[y]:y,F={previous:T,next:A,first:I,last:P}[D],N={previous:E,next:O,first:j,last:$}[D];return y==="start-ellipsis"||y==="end-ellipsis"?h.jsx(Vpt,{ref:n,ownerState:w,className:je(C.root,i),children:""}):h.jsxs(Hpt,{ref:n,ownerState:w,component:s,disabled:l,className:je(C.root,i),...x,children:[y==="page"&&c,F?h.jsx(Wpt,{...N,className:C.icon,as:F}):null]})}),qpt=e=>{const{classes:t,variant:n}=e;return Qe({root:["root",n],ul:["ul"]},jpt,t)},Gpt=we("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),Ypt=we("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Xpt(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const Kpt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiPagination"}),{boundaryCount:i=1,className:o,color:s="standard",count:a=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=Xpt,hideNextButton:d=!1,hidePrevButton:f=!1,onChange:p,page:g,renderItem:y=I=>h.jsx(REe,{...I}),shape:v="circular",showFirstButton:x=!1,showLastButton:w=!1,siblingCount:S=1,size:C="medium",variant:k="text",...T}=r,{items:E}=$pt({...r,componentName:"Pagination"}),A={...r,boundaryCount:i,color:s,count:a,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:f,renderItem:y,shape:v,showFirstButton:x,showLastButton:w,siblingCount:S,size:C,variant:k},O=qpt(A);return h.jsx(Gpt,{"aria-label":"pagination navigation",className:je(O.root,o),ownerState:A,ref:n,...T,children:h.jsx(Ypt,{className:O.ul,ownerState:A,children:E.map((I,j)=>h.jsx("li",{children:y({...I,color:s,"aria-label":u(I.type,I.page,I.selected),shape:v,size:C,variant:k})},j))})})}),Zpt=He(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Qpt=He(h.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),Jpt=we("span",{name:"MuiRadioButtonIcon",shouldForwardProp:as})({position:"relative",display:"flex"}),eht=we(Zpt,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),tht=we(Qpt,{name:"MuiRadioButtonIcon"})(pt(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function MEe(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i={...e,checked:t};return h.jsxs(Jpt,{className:n.root,ownerState:i,children:[h.jsx(eht,{fontSize:r,className:n.background,ownerState:i}),h.jsx(tht,{fontSize:r,className:n.dot,ownerState:i})]})}const AEe=R.createContext(void 0);function nht(){return R.useContext(AEe)}function rht(e){return tt("MuiRadio",e)}const jfe=rt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),iht=e=>{const{classes:t,color:n,size:r}=e,i={root:["root",`color${Ee(n)}`,r!=="medium"&&`size${Ee(r)}`]};return{...t,...Qe(i,rht,t)}},oht=we(BX,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size!=="medium"&&t[`size${Ee(n.size)}`],t[`color${Ee(n.color)}`]]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${jfe.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${jfe.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function sht(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const aht=h.jsx(MEe,{checked:!0}),lht=h.jsx(MEe,{}),ET=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiRadio"}),{checked:i,checkedIcon:o=aht,color:s="primary",icon:a=lht,name:l,onChange:c,size:u="medium",className:d,disabled:f,disableRipple:p=!1,slots:g={},slotProps:y={},inputProps:v,...x}=r,w=Lc();let S=f;w&&typeof S>"u"&&(S=w.disabled),S??=!1;const C={...r,disabled:S,disableRipple:p,color:s,size:u},k=iht(C),T=nht();let E=i;const A=ZV(c,T&&T.onChange);let O=l;T&&(typeof E>"u"&&(E=sht(T.value,r.value)),typeof O>"u"&&(O=T.name));const I=y.input??v,[j,P]=At("root",{ref:n,elementType:oht,className:je(k.root,d),shouldForwardComponentProp:!0,externalForwardedProps:{slots:g,slotProps:y,...x},getSlotProps:$=>({...$,onChange:(D,...F)=>{$.onChange?.(D,...F),A(D,...F)}}),ownerState:C,additionalProps:{type:"radio",icon:R.cloneElement(a,{fontSize:a.props.fontSize??u}),checkedIcon:R.cloneElement(o,{fontSize:o.props.fontSize??u}),disabled:S,name:O,checked:E,slots:g,slotProps:{input:typeof I=="function"?I(C):I}}});return h.jsx(j,{...P,classes:k})});function cht(e){return tt("MuiRadioGroup",e)}rt("MuiRadioGroup",["root","row","error"]);const uht=e=>{const{classes:t,row:n,error:r}=e;return Qe({root:["root",n&&"row",r&&"error"]},cht,t)},yH=R.forwardRef(function(t,n){const{actions:r,children:i,className:o,defaultValue:s,name:a,onChange:l,value:c,...u}=t,d=R.useRef(null),f=uht(t),[p,g]=Ws({controlled:c,default:s,name:"RadioGroup"});R.useImperativeHandle(r,()=>({focus:()=>{let w=d.current.querySelector("input:not(:disabled):checked");w||(w=d.current.querySelector("input:not(:disabled)")),w&&w.focus()}}),[]);const y=Un(n,d),v=$c(a),x=R.useMemo(()=>({name:v,onChange(w){g(w.target.value),l&&l(w,w.target.value)},value:p}),[v,l,g,p]);return h.jsx(AEe.Provider,{value:x,children:h.jsx(cft,{role:"radiogroup",ref:y,className:je(f.root,o),...u,children:i})})}),PEe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function DEe(e){return tt("MuiSelect",e)}const L2=rt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var $fe;const dht=we(kEe,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${L2.select}`]:t.select},{[`&.${L2.select}`]:t[n.variant]},{[`&.${L2.error}`]:t.error},{[`&.${L2.multiple}`]:t.multiple}]}})({[`&.${L2.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),fht=we(EEe,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ee(n.variant)}`],n.open&&t.iconOpen]}})({}),pht=we("input",{shouldForwardProp:e=>FF(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ffe(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function hht(e){return e==null||typeof e=="string"&&!e.trim()}const ght=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ee(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Qe(a,DEe,t)},mht=R.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:y,labelId:v,MenuProps:x={},multiple:w,name:S,onBlur:C,onChange:k,onClose:T,onFocus:E,onKeyDown:A,onMouseDown:O,onOpen:I,open:j,readOnly:P,renderValue:$,required:D,SelectDisplayProps:F={},tabIndex:N,type:V,value:H,variant:U="standard",...G}=t,[z,W]=Ws({controlled:H,default:u,name:"Select"}),[X,Q]=Ws({controlled:j,default:c,name:"Select"}),ee=R.useRef(null),ne=R.useRef(null),[oe,ce]=R.useState(null),{current:re}=R.useRef(j!=null),[ge,he]=R.useState(),ie=Un(n,y),xe=R.useCallback(De=>{ne.current=De,De&&ce(De)},[]),q=oe?.parentNode;R.useImperativeHandle(ie,()=>({focus:()=>{ne.current.focus()},node:ee.current,value:z}),[z]),R.useEffect(()=>{c&&X&&oe&&!re&&(he(s?null:q.clientWidth),ne.current.focus())},[oe,s]),R.useEffect(()=>{o&&ne.current.focus()},[o]),R.useEffect(()=>{if(!v)return;const De=ki(ne.current).getElementById(v);if(De){const bt=()=>{getSelection().isCollapsed&&ne.current.focus()};return De.addEventListener("click",bt),()=>{De.removeEventListener("click",bt)}}},[v]);const fe=(De,bt)=>{De?I&&I(bt):T&&T(bt),re||(he(s?null:q.clientWidth),Q(De))},se=De=>{O?.(De),De.button===0&&(De.preventDefault(),ne.current.focus(),fe(!0,De))},J=De=>{fe(!1,De)},Z=R.Children.toArray(a),ue=De=>{const bt=Z.find(Gt=>Gt.props.value===De.target.value);bt!==void 0&&(W(bt.props.value),k&&k(De,bt))},de=De=>bt=>{let Gt;if(bt.currentTarget.hasAttribute("tabindex")){if(w){Gt=Array.isArray(z)?z.slice():[];const Cn=z.indexOf(De.props.value);Cn===-1?Gt.push(De.props.value):Gt.splice(Cn,1)}else Gt=De.props.value;if(De.props.onClick&&De.props.onClick(bt),z!==Gt&&(W(Gt),k)){const Cn=bt.nativeEvent||bt,An=new Cn.constructor(Cn.type,Cn);Object.defineProperty(An,"target",{writable:!0,value:{value:Gt,name:S}}),k(An,De)}w||fe(!1,bt)}},be=De=>{P||([" ","ArrowUp","ArrowDown","Enter"].includes(De.key)&&(De.preventDefault(),fe(!0,De)),A?.(De))},le=oe!==null&&X,Se=De=>{!le&&C&&(Object.defineProperty(De,"target",{writable:!0,value:{value:z,name:S}}),C(De))};delete G["aria-invalid"];let ye,ve;const _e=[];let Ae=!1;(M5({value:z})||f)&&($?ye=$(z):Ae=!0);const Te=Z.map(De=>{if(!R.isValidElement(De))return null;let bt;if(w){if(!Array.isArray(z))throw new Error(Nh(2));bt=z.some(Gt=>Ffe(Gt,De.props.value)),bt&&Ae&&_e.push(De.props.children)}else bt=Ffe(z,De.props.value),bt&&Ae&&(ve=De.props.children);return R.cloneElement(De,{"aria-selected":bt?"true":"false",onClick:de(De),onKeyUp:Gt=>{Gt.key===" "&&Gt.preventDefault(),De.props.onKeyUp&&De.props.onKeyUp(Gt)},role:"option",selected:bt,value:void 0,"data-value":De.props.value})});Ae&&(w?_e.length===0?ye=null:ye=_e.reduce((De,bt,Gt)=>(De.push(bt),Gt<_e.length-1&&De.push(", "),De),[]):ye=ve);let Pe=ge;!s&&re&&oe&&(Pe=q.clientWidth);let Le;typeof N<"u"?Le=N:Le=d?null:0;const $e=F.id||(S?`mui-component-select-${S}`:void 0),at={...t,variant:U,value:z,open:le,error:p},Re=ght(at),Ze={...x.PaperProps,...typeof x.slotProps?.paper=="function"?x.slotProps.paper(at):x.slotProps?.paper},Rt={...x.MenuListProps,...typeof x.slotProps?.list=="function"?x.slotProps.list(at):x.slotProps?.list},Ct=$c();return h.jsxs(R.Fragment,{children:[h.jsx(dht,{as:"div",ref:xe,tabIndex:Le,role:"combobox","aria-controls":le?Ct:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":le?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,$e].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":D?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:be,onMouseDown:d||P?null:se,onBlur:Se,onFocus:E,...F,ownerState:at,className:je(F.className,Re.select,l),id:$e,children:hht(ye)?$fe||($fe=h.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ye}),h.jsx(pht,{"aria-invalid":p,value:Array.isArray(z)?z.join(","):z,name:S,ref:ee,"aria-hidden":!0,onChange:ue,tabIndex:-1,disabled:d,className:Re.nativeInput,autoFocus:o,required:D,...G,ownerState:at}),h.jsx(fht,{as:g,className:Re.icon,ownerState:at}),h.jsx(Uo,{id:`menu-${S||""}`,anchorEl:q,open:le,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Ct,...Rt},paper:{...Ze,style:{minWidth:Pe,...Ze!=null?Ze.style:null}}},children:Te})]})}),yht=e=>{const{classes:t}=e,r=Qe({root:["root"]},DEe,t);return{...t,...r}},XX={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>as(e)&&e!=="variant"},vht=we(WX,XX)(""),bht=we(YX,XX)(""),xht=we(HX,XX)(""),Vd=R.forwardRef(function(t,n){const r=kt({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=sEe,id:d,input:f,inputProps:p,label:g,labelId:y,MenuProps:v,multiple:x=!1,native:w=!1,onClose:S,onOpen:C,open:k,renderValue:T,SelectDisplayProps:E,variant:A="outlined",...O}=r,I=w?Tpt:mht,j=Lc(),P=P0({props:r,muiFormControl:j,states:["variant","error"]}),$=P.variant||A,D={...r,variant:$,classes:s},F=yht(D),{root:N,...V}=F,H=f||{standard:h.jsx(vht,{ownerState:D}),outlined:h.jsx(bht,{label:g,ownerState:D}),filled:h.jsx(xht,{ownerState:D})}[$],U=Un(n,A0(H));return h.jsx(R.Fragment,{children:R.cloneElement(H,{inputComponent:I,inputProps:{children:o,error:P.error,IconComponent:u,variant:$,type:void 0,multiple:x,...w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:v,onClose:S,onOpen:C,open:k,renderValue:T,SelectDisplayProps:{id:d,...E}},...p,classes:p?Eo(V,p.classes):V,...f?f.props.inputProps:{}},...(x&&w||c)&&$==="outlined"?{notched:!0}:{},ref:U,className:je(H.props.className,a,F.root),...!f&&{variant:$},...O})})});Vd.muiName="Select";function wht(e){return tt("MuiSkeleton",e)}rt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Sht=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:s}=e;return Qe({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},wht,t)},vH=cp`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,bH=cp`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,_ht=typeof vH!="string"?T0`
        animation: ${vH} 2s ease-in-out 0.5s infinite;
      `:null,Cht=typeof bH!="string"?T0`
        &::after {
          animation: ${bH} 2s linear 0.5s infinite;
        }
      `:null,kht=we("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(pt(({theme:e})=>{const t=got(e.shape.borderRadius)||"px",n=mot(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:e.alpha(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:_ht||{animation:`${vH} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Cht||{"&::after":{animation:`${bH} 2s linear 0.5s infinite`}}}]}})),Eht=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:c="text",width:u,...d}=r,f={...r,animation:i,component:s,variant:c,hasChildren:!!d.children},p=Sht(f);return h.jsx(kht,{as:s,ref:n,className:je(p.root,o),ownerState:f,...d,style:{width:u,height:a,...l}})});function Tht(e,t,n=(r,i)=>r===i){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}const Rht=2;function h1(e,t,n,r,i){return n===1?Math.min(e+t,i):Math.max(e-t,r)}function OEe(e,t){return e-t}function Lfe(e,t){const{index:n}=e.reduce((r,i,o)=>{const s=Math.abs(t-i);return r===null||s<r.distance||s===r.distance?{distance:s,index:o}:r},null)??{};return n}function _D(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function A5(e,t,n){return(e-t)*100/(n-t)}function Mht(e,t,n){return(n-t)*e+t}function Aht(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Pht(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(Aht(t)))}function Nfe({values:e,newValue:t,index:n}){const r=e.slice();return r[n]=t,r.sort(OEe)}function CD({sliderRef:e,activeIndex:t,setActive:n}){const r=ki(e.current);(!e.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==t)&&e.current?.querySelector(`[type="range"][data-index="${t}"]`).focus(),n&&n(t)}function kD(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Tht(e,t):!1}const Dht={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Oht=e=>e;let ED;function zfe(){return ED===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?ED=CSS.supports("touch-action","none"):ED=!0),ED}function Iht(e){const{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:o=!1,marks:s=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",rootRef:p,scale:g=Oht,step:y=1,shiftStep:v=10,tabIndex:x,value:w}=e,S=R.useRef(void 0),[C,k]=R.useState(-1),[T,E]=R.useState(-1),[A,O]=R.useState(!1),I=R.useRef(0),j=R.useRef(null),[P,$]=Ws({controlled:w,default:n??l,name:"Slider"}),D=u&&((ve,_e,Ae)=>{const Te=ve.nativeEvent||ve,Pe=new Te.constructor(Te.type,Te);Object.defineProperty(Pe,"target",{writable:!0,value:{value:_e,name:c}}),j.current=_e,u(Pe,_e,Ae)}),F=Array.isArray(P);let N=F?P.slice().sort(OEe):[P];N=N.map(ve=>ve==null?l:$1(ve,l,a));const V=s===!0&&y!==null?[...Array(Math.floor((a-l)/y)+1)].map((ve,_e)=>({value:l+y*_e})):s||[],H=V.map(ve=>ve.value),[U,G]=R.useState(-1),z=R.useRef(null),W=Un(p,z),X=ve=>_e=>{const Ae=Number(_e.currentTarget.getAttribute("data-index"));e0(_e.target)&&G(Ae),E(Ae),ve?.onFocus?.(_e)},Q=ve=>_e=>{e0(_e.target)||G(-1),E(-1),ve?.onBlur?.(_e)},ee=(ve,_e)=>{const Ae=Number(ve.currentTarget.getAttribute("data-index")),Te=N[Ae],Pe=H.indexOf(Te);let Le=_e;if(V&&y==null){const $e=H[H.length-1];Le>=$e?Le=$e:Le<=H[0]?Le=H[0]:Le=Le<Te?H[Pe-1]:H[Pe+1]}if(Le=$1(Le,l,a),F){i&&(Le=$1(Le,N[Ae-1]||-1/0,N[Ae+1]||1/0));const $e=Le;Le=Nfe({values:N,newValue:Le,index:Ae});let at=Ae;i||(at=Le.indexOf($e)),CD({sliderRef:z,activeIndex:at})}$(Le),G(Ae),D&&!kD(Le,P)&&D(ve,Le,Ae),d&&d(ve,j.current??Le)},ne=ve=>_e=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(_e.key)){_e.preventDefault();const Ae=Number(_e.currentTarget.getAttribute("data-index")),Te=N[Ae];let Pe=null;if(y!=null){const Le=_e.shiftKey?v:y;switch(_e.key){case"ArrowUp":Pe=h1(Te,Le,1,l,a);break;case"ArrowRight":Pe=h1(Te,Le,o?-1:1,l,a);break;case"ArrowDown":Pe=h1(Te,Le,-1,l,a);break;case"ArrowLeft":Pe=h1(Te,Le,o?1:-1,l,a);break;case"PageUp":Pe=h1(Te,v,1,l,a);break;case"PageDown":Pe=h1(Te,v,-1,l,a);break;case"Home":Pe=l;break;case"End":Pe=a;break}}else if(V){const Le=H[H.length-1],$e=H.indexOf(Te),at=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Re=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];at.includes(_e.key)?$e===0?Pe=H[0]:Pe=H[$e-1]:Re.includes(_e.key)&&($e===H.length-1?Pe=Le:Pe=H[$e+1])}Pe!=null&&ee(_e,Pe)}ve?.onKeyDown?.(_e)};ii(()=>{r&&z.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&C!==-1&&k(-1),r&&U!==-1&&G(-1);const oe=ve=>_e=>{ve.onChange?.(_e),ee(_e,_e.target.valueAsNumber)},ce=R.useRef(void 0);let re=f;o&&f==="horizontal"&&(re+="-reverse");const ge=({finger:ve,move:_e=!1})=>{const{current:Ae}=z,{width:Te,height:Pe,bottom:Le,left:$e}=Ae.getBoundingClientRect();let at;re.startsWith("vertical")?at=(Le-ve.y)/Pe:at=(ve.x-$e)/Te,re.includes("-reverse")&&(at=1-at);let Re;if(Re=Mht(at,l,a),y)Re=Pht(Re,y,l);else{const Rt=Lfe(H,Re);Re=H[Rt]}Re=$1(Re,l,a);let Ze=0;if(F){_e?Ze=ce.current:Ze=Lfe(N,Re),i&&(Re=$1(Re,N[Ze-1]||-1/0,N[Ze+1]||1/0));const Rt=Re;Re=Nfe({values:N,newValue:Re,index:Ze}),i&&_e||(Ze=Re.indexOf(Rt),ce.current=Ze)}return{newValue:Re,activeIndex:Ze}},he=mt(ve=>{const _e=_D(ve,S);if(!_e)return;if(I.current+=1,ve.type==="mousemove"&&ve.buttons===0){ie(ve);return}const{newValue:Ae,activeIndex:Te}=ge({finger:_e,move:!0});CD({sliderRef:z,activeIndex:Te,setActive:k}),$(Ae),!A&&I.current>Rht&&O(!0),D&&!kD(Ae,P)&&D(ve,Ae,Te)}),ie=mt(ve=>{const _e=_D(ve,S);if(O(!1),!_e)return;const{newValue:Ae}=ge({finger:_e,move:!0});k(-1),ve.type==="touchend"&&E(-1),d&&d(ve,j.current??Ae),S.current=void 0,q()}),xe=mt(ve=>{if(r)return;zfe()||ve.preventDefault();const _e=ve.changedTouches[0];_e!=null&&(S.current=_e.identifier);const Ae=_D(ve,S);if(Ae!==!1){const{newValue:Pe,activeIndex:Le}=ge({finger:Ae});CD({sliderRef:z,activeIndex:Le,setActive:k}),$(Pe),D&&!kD(Pe,P)&&D(ve,Pe,Le)}I.current=0;const Te=ki(z.current);Te.addEventListener("touchmove",he,{passive:!0}),Te.addEventListener("touchend",ie,{passive:!0})}),q=R.useCallback(()=>{const ve=ki(z.current);ve.removeEventListener("mousemove",he),ve.removeEventListener("mouseup",ie),ve.removeEventListener("touchmove",he),ve.removeEventListener("touchend",ie)},[ie,he]);R.useEffect(()=>{const{current:ve}=z;return ve.addEventListener("touchstart",xe,{passive:zfe()}),()=>{ve.removeEventListener("touchstart",xe),q()}},[q,xe]),R.useEffect(()=>{r&&q()},[r,q]);const fe=ve=>_e=>{if(ve.onMouseDown?.(_e),r||_e.defaultPrevented||_e.button!==0)return;_e.preventDefault();const Ae=_D(_e,S);if(Ae!==!1){const{newValue:Pe,activeIndex:Le}=ge({finger:Ae});CD({sliderRef:z,activeIndex:Le,setActive:k}),$(Pe),D&&!kD(Pe,P)&&D(_e,Pe,Le)}I.current=0;const Te=ki(z.current);Te.addEventListener("mousemove",he,{passive:!0}),Te.addEventListener("mouseup",ie)},se=A5(F?N[0]:l,l,a),J=A5(N[N.length-1],l,a)-se,Z=(ve={})=>{const _e=Rv(ve),Ae={onMouseDown:fe(_e||{})},Te={..._e,...Ae};return{...ve,ref:W,...Te}},ue=ve=>_e=>{ve.onMouseOver?.(_e);const Ae=Number(_e.currentTarget.getAttribute("data-index"));E(Ae)},de=ve=>_e=>{ve.onMouseLeave?.(_e),E(-1)},be=(ve={})=>{const _e=Rv(ve),Ae={onMouseOver:ue(_e||{}),onMouseLeave:de(_e||{})};return{...ve,..._e,...Ae}},le=ve=>({pointerEvents:C!==-1&&C!==ve?"none":void 0});let Se;return f==="vertical"&&(Se=o?"vertical-rl":"vertical-lr"),{active:C,axis:re,axisProps:Dht,dragging:A,focusedThumbIndex:U,getHiddenInputProps:(ve={})=>{const _e=Rv(ve),Ae={onChange:oe(_e||{}),onFocus:X(_e||{}),onBlur:Q(_e||{}),onKeyDown:ne(_e||{})},Te={..._e,...Ae};return{tabIndex:x,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":g(a),"aria-valuemin":g(l),name:c,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:r,...ve,...Te,style:{...PEe,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Se}}},getRootProps:Z,getThumbProps:be,marks:V,open:T,range:F,rootRef:W,trackLeap:J,trackOffset:se,values:N,getThumbStyle:le}}const jht=e=>!e||!Nf(e);function $ht(e){return tt("MuiSlider",e)}const fu=rt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Fht=e=>{const{open:t}=e;return{offset:je(t&&fu.valueLabelOpen),circle:fu.valueLabelCircle,label:fu.valueLabelLabel}};function Lht(e){const{children:t,className:n,value:r}=e,i=Fht(e);return t?R.cloneElement(t,{className:t.props.className},h.jsxs(R.Fragment,{children:[t.props.children,h.jsx("span",{className:je(i.offset,n),"aria-hidden":!0,children:h.jsx("span",{className:i.circle,children:h.jsx("span",{className:i.label,children:r})})})]})):null}function Bfe(e){return e}const Nht=we("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Ee(n.color)}`],n.size!=="medium"&&t[`size${Ee(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(pt(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${fu.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${fu.dragging}`]:{[`& .${fu.thumb}, & .${fu.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),zht=we("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Bht=we("span",{name:"MuiSlider",slot:"Track"})(pt(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),Uht=we("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${Ee(n.color)}`],n.size!=="medium"&&t[`thumbSize${Ee(n.size)}`]]}})(pt(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${fu.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${fu.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${fu.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),Vht=we(Lht,{name:"MuiSlider",slot:"ValueLabel"})(pt(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${fu.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${fu.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Hht=we("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>FF(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(pt(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Wht=we("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>FF(e)&&e!=="markLabelActive"})(pt(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),qht=e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=e,c={root:["root",t&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",a&&`color${Ee(a)}`,l&&`size${Ee(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${Ee(l)}`,a&&`thumbColor${Ee(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Qe(c,$ht,s)},Ght=({children:e})=>e,KX=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSlider"}),i=ss(),{"aria-label":o,"aria-valuetext":s,"aria-labelledby":a,component:l="span",components:c={},componentsProps:u={},color:d="primary",classes:f,className:p,disableSwap:g=!1,disabled:y=!1,getAriaLabel:v,getAriaValueText:x,marks:w=!1,max:S=100,min:C=0,name:k,onChange:T,onChangeCommitted:E,orientation:A="horizontal",shiftStep:O=10,size:I="medium",step:j=1,scale:P=Bfe,slotProps:$,slots:D,tabIndex:F,track:N="normal",value:V,valueLabelDisplay:H="off",valueLabelFormat:U=Bfe,...G}=r,z={...r,isRtl:i,max:S,min:C,classes:f,disabled:y,disableSwap:g,orientation:A,marks:w,color:d,size:I,step:j,shiftStep:O,scale:P,track:N,valueLabelDisplay:H,valueLabelFormat:U},{axisProps:W,getRootProps:X,getHiddenInputProps:Q,getThumbProps:ee,open:ne,active:oe,axis:ce,focusedThumbIndex:re,range:ge,dragging:he,marks:ie,values:xe,trackOffset:q,trackLeap:fe,getThumbStyle:se}=Iht({...z,rootRef:n});z.marked=ie.length>0&&ie.some(Lt=>Lt.label),z.dragging=he,z.focusedThumbIndex=re;const J=qht(z),Z=D?.root??c.Root??Nht,ue=D?.rail??c.Rail??zht,de=D?.track??c.Track??Bht,be=D?.thumb??c.Thumb??Uht,le=D?.valueLabel??c.ValueLabel??Vht,Se=D?.mark??c.Mark??Hht,ye=D?.markLabel??c.MarkLabel??Wht,ve=D?.input??c.Input??"input",_e=$?.root??u.root,Ae=$?.rail??u.rail,Te=$?.track??u.track,Pe=$?.thumb??u.thumb,Le=$?.valueLabel??u.valueLabel,$e=$?.mark??u.mark,at=$?.markLabel??u.markLabel,Re=$?.input??u.input,Ze=jn({elementType:Z,getSlotProps:X,externalSlotProps:_e,externalForwardedProps:G,additionalProps:{...jht(Z)&&{as:l}},ownerState:{...z,..._e?.ownerState},className:[J.root,p]}),Rt=jn({elementType:ue,externalSlotProps:Ae,ownerState:z,className:J.rail}),Ct=jn({elementType:de,externalSlotProps:Te,additionalProps:{style:{...W[ce].offset(q),...W[ce].leap(fe)}},ownerState:{...z,...Te?.ownerState},className:J.track}),De=jn({elementType:be,getSlotProps:ee,externalSlotProps:Pe,ownerState:{...z,...Pe?.ownerState},className:J.thumb}),bt=jn({elementType:le,externalSlotProps:Le,ownerState:{...z,...Le?.ownerState},className:J.valueLabel}),Gt=jn({elementType:Se,externalSlotProps:$e,ownerState:z,className:J.mark}),Cn=jn({elementType:ye,externalSlotProps:at,ownerState:z,className:J.markLabel}),An=jn({elementType:ve,getSlotProps:Q,externalSlotProps:Re,ownerState:z});return h.jsxs(Z,{...Ze,children:[h.jsx(ue,{...Rt}),h.jsx(de,{...Ct}),ie.filter(Lt=>Lt.value>=C&&Lt.value<=S).map((Lt,qt)=>{const ur=A5(Lt.value,C,S),ct=W[ce].offset(ur);let Yt;return N===!1?Yt=xe.includes(Lt.value):Yt=N==="normal"&&(ge?Lt.value>=xe[0]&&Lt.value<=xe[xe.length-1]:Lt.value<=xe[0])||N==="inverted"&&(ge?Lt.value<=xe[0]||Lt.value>=xe[xe.length-1]:Lt.value>=xe[0]),h.jsxs(R.Fragment,{children:[h.jsx(Se,{"data-index":qt,...Gt,...!Nf(Se)&&{markActive:Yt},style:{...ct,...Gt.style},className:je(Gt.className,Yt&&J.markActive)}),Lt.label!=null?h.jsx(ye,{"aria-hidden":!0,"data-index":qt,...Cn,...!Nf(ye)&&{markLabelActive:Yt},style:{...ct,...Cn.style},className:je(J.markLabel,Cn.className,Yt&&J.markLabelActive),children:Lt.label}):null]},qt)}),xe.map((Lt,qt)=>{const ur=A5(Lt,C,S),ct=W[ce].offset(ur),Yt=H==="off"?Ght:le;return h.jsx(Yt,{...!Nf(Yt)&&{valueLabelFormat:U,valueLabelDisplay:H,value:typeof U=="function"?U(P(Lt),qt):U,index:qt,open:ne===qt||oe===qt||H==="on",disabled:y},...bt,children:h.jsx(be,{"data-index":qt,...De,className:je(J.thumb,De.className,oe===qt&&J.active,re===qt&&J.focusVisible),style:{...ct,...se(qt),...De.style},children:h.jsx(ve,{"data-index":qt,"aria-label":v?v(qt):o,"aria-valuenow":P(Lt),"aria-labelledby":a,"aria-valuetext":x?x(P(Lt),qt):s,value:xe[qt],...An})})},qt)})]})});function Yht(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=e,s=xl();R.useEffect(()=>{if(!i)return;function x(w){w.defaultPrevented||w.key==="Escape"&&r?.(w,"escapeKeyDown")}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[i,r]);const a=mt((x,w)=>{r?.(x,w)}),l=mt(x=>{!r||x==null||s.start(x,()=>{a(null,"timeout")})});R.useEffect(()=>(i&&l(t),s.clear),[i,t,l,s]);const c=x=>{r?.(x,"clickaway")},u=s.clear,d=R.useCallback(()=>{t!=null&&l(o??t*.5)},[t,o,l]),f=x=>w=>{const S=x.onBlur;S?.(w),d()},p=x=>w=>{const S=x.onFocus;S?.(w),u()},g=x=>w=>{const S=x.onMouseEnter;S?.(w),u()},y=x=>w=>{const S=x.onMouseLeave;S?.(w),d()};return R.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(x={})=>{const w={...Rv(e),...Rv(x)};return{role:"presentation",...x,...w,onBlur:f(w),onFocus:p(w),onMouseEnter:g(w),onMouseLeave:y(w)}},onClickAway:c}}function Xht(e){return tt("MuiSnackbarContent",e)}rt("MuiSnackbarContent",["root","message","action"]);const Kht=e=>{const{classes:t}=e;return Qe({root:["root"],action:["action"],message:["message"]},Xht,t)},Zht=we(Pr,{name:"MuiSnackbarContent",slot:"Root"})(pt(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(GV(e.palette.background.default,t)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:GV(e.palette.background.default,t),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Qht=we("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),Jht=we("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),n4=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert",...l}=r,c=r,u=Kht(c);return h.jsxs(Zht,{role:a,elevation:6,className:je(u.root,o),ownerState:c,ref:n,...l,children:[h.jsx(Qht,{className:u.message,ownerState:c,children:s}),i?h.jsx(Jht,{className:u.action,ownerState:c,children:i}):null]})});function egt(e){return tt("MuiSnackbar",e)}rt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const tgt=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Ee(n.vertical)}${Ee(n.horizontal)}`]};return Qe(r,egt,t)},ngt=we("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Ee(n.anchorOrigin.vertical)}${Ee(n.anchorOrigin.horizontal)}`]]}})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),oM=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSnackbar"}),i=xt(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:g=!1,message:y,onBlur:v,onClose:x,onFocus:w,onMouseEnter:S,onMouseLeave:C,open:k,resumeHideDuration:T,slots:E={},slotProps:A={},TransitionComponent:O,transitionDuration:I=o,TransitionProps:{onEnter:j,onExited:P,...$}={},...D}=r,F={...r,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:g,TransitionComponent:O,transitionDuration:I},N=tgt(F),{getRootProps:V,onClickAway:H}=Yht(F),[U,G]=R.useState(!0),z=xe=>{G(!0),P&&P(xe)},W=(xe,q)=>{G(!1),j&&j(xe,q)},X={slots:{transition:O,...E},slotProps:{content:p,clickAwayListener:f,transition:$,...A}},[Q,ee]=At("root",{ref:n,className:[N.root,d],elementType:ngt,getSlotProps:V,externalForwardedProps:{...X,...D},ownerState:F}),[ne,{ownerState:oe,...ce}]=At("clickAwayListener",{elementType:Yut,externalForwardedProps:X,getSlotProps:xe=>({onClickAway:(...q)=>{const fe=q[0];xe.onClickAway?.(...q),!fe?.defaultMuiPrevented&&H(...q)}}),ownerState:F}),[re,ge]=At("content",{elementType:n4,shouldForwardComponentProp:!0,externalForwardedProps:X,additionalProps:{message:y,action:s},ownerState:F}),[he,ie]=At("transition",{elementType:ib,externalForwardedProps:X,getSlotProps:xe=>({onEnter:(...q)=>{xe.onEnter?.(...q),W(...q)},onExited:(...q)=>{xe.onExited?.(...q),z(...q)}}),additionalProps:{appear:!0,in:k,timeout:I,direction:a==="top"?"down":"up"},ownerState:F});return!k&&U?null:h.jsx(ne,{...ce,...E.clickAwayListener&&{ownerState:oe},children:h.jsx(Q,{...ee,children:h.jsx(he,{...ie,children:u||h.jsx(re,{...ge})})})})});function rgt(e){return tt("MuiTooltip",e)}const co=rt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function igt(e){return Math.round(e*1e5)/1e5}const ogt=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ee(o.split("-")[0])}`],arrow:["arrow"]};return Qe(s,rgt,t)},sgt=we(rM,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${co.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${co.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${co.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${co.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${co.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${co.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${co.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${co.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),agt=we("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Ee(n.placement.split("-")[0])}`]]}})(pt(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${co.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${co.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${co.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${co.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${igt(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${co.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${co.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),lgt=we("span",{name:"MuiTooltip",slot:"Arrow"})(pt(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let TD=!1;const Ufe=new UF;let N2={x:0,y:0};function RD(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Dt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:a={},componentsProps:l={},describeChild:c=!1,disableFocusListener:u=!1,disableHoverListener:d=!1,disableInteractive:f=!1,disableTouchListener:p=!1,enterDelay:g=100,enterNextDelay:y=0,enterTouchDelay:v=700,followCursor:x=!1,id:w,leaveDelay:S=0,leaveTouchDelay:C=1500,onClose:k,onOpen:T,open:E,placement:A="bottom",PopperComponent:O,PopperProps:I={},slotProps:j={},slots:P={},title:$,TransitionComponent:D,TransitionProps:F,...N}=r,V=R.isValidElement(o)?o:h.jsx("span",{children:o}),H=xt(),U=ss(),[G,z]=R.useState(),[W,X]=R.useState(null),Q=R.useRef(!1),ee=f||x,ne=xl(),oe=xl(),ce=xl(),re=xl(),[ge,he]=Ws({controlled:E,default:!1,name:"Tooltip",state:"open"});let ie=ge;const xe=$c(w),q=R.useRef(),fe=mt(()=>{q.current!==void 0&&(document.body.style.WebkitUserSelect=q.current,q.current=void 0),re.clear()});R.useEffect(()=>fe,[fe]);const se=St=>{Ufe.clear(),TD=!0,he(!0),T&&!ie&&T(St)},J=mt(St=>{Ufe.start(800+S,()=>{TD=!1}),he(!1),k&&ie&&k(St),ne.start(H.transitions.duration.shortest,()=>{Q.current=!1})}),Z=St=>{Q.current&&St.type!=="touchstart"||(G&&G.removeAttribute("title"),oe.clear(),ce.clear(),g||TD&&y?oe.start(TD?y:g,()=>{se(St)}):se(St))},ue=St=>{oe.clear(),ce.start(S,()=>{J(St)})},[,de]=R.useState(!1),be=St=>{e0(St.target)||(de(!1),ue(St))},le=St=>{G||z(St.currentTarget),e0(St.target)&&(de(!0),Z(St))},Se=St=>{Q.current=!0;const Ln=V.props;Ln.onTouchStart&&Ln.onTouchStart(St)},ye=St=>{Se(St),ce.clear(),ne.clear(),fe(),q.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",re.start(v,()=>{document.body.style.WebkitUserSelect=q.current,Z(St)})},ve=St=>{V.props.onTouchEnd&&V.props.onTouchEnd(St),fe(),ce.start(C,()=>{J(St)})};R.useEffect(()=>{if(!ie)return;function St(Ln){Ln.key==="Escape"&&J(Ln)}return document.addEventListener("keydown",St),()=>{document.removeEventListener("keydown",St)}},[J,ie]);const _e=Un(A0(V),z,n);!$&&$!==0&&(ie=!1);const Ae=R.useRef(),Te=St=>{const Ln=V.props;Ln.onMouseMove&&Ln.onMouseMove(St),N2={x:St.clientX,y:St.clientY},Ae.current&&Ae.current.update()},Pe={},Le=typeof $=="string";c?(Pe.title=!ie&&Le&&!d?$:null,Pe["aria-describedby"]=ie?xe:null):(Pe["aria-label"]=Le?$:null,Pe["aria-labelledby"]=ie&&!Le?xe:null);const $e={...Pe,...N,...V.props,className:je(N.className,V.props.className),onTouchStart:Se,ref:_e,...x?{onMouseMove:Te}:{}},at={};p||($e.onTouchStart=ye,$e.onTouchEnd=ve),d||($e.onMouseOver=RD(Z,$e.onMouseOver),$e.onMouseLeave=RD(ue,$e.onMouseLeave),ee||(at.onMouseOver=Z,at.onMouseLeave=ue)),u||($e.onFocus=RD(le,$e.onFocus),$e.onBlur=RD(be,$e.onBlur),ee||(at.onFocus=le,at.onBlur=be));const Re={...r,isRtl:U,arrow:i,disableInteractive:ee,placement:A,PopperComponentProp:O,touch:Q.current},Ze=typeof j.popper=="function"?j.popper(Re):j.popper,Rt=R.useMemo(()=>{let St=[{name:"arrow",enabled:!!W,options:{element:W,padding:4}}];return I.popperOptions?.modifiers&&(St=St.concat(I.popperOptions.modifiers)),Ze?.popperOptions?.modifiers&&(St=St.concat(Ze.popperOptions.modifiers)),{...I.popperOptions,...Ze?.popperOptions,modifiers:St}},[W,I.popperOptions,Ze?.popperOptions]),Ct=ogt(Re),De=typeof j.transition=="function"?j.transition(Re):j.transition,bt={slots:{popper:a.Popper,transition:a.Transition??D,tooltip:a.Tooltip,arrow:a.Arrow,...P},slotProps:{arrow:j.arrow??l.arrow,popper:{...I,...Ze??l.popper},tooltip:j.tooltip??l.tooltip,transition:{...F,...De??l.transition}}},[Gt,Cn]=At("popper",{elementType:sgt,externalForwardedProps:bt,ownerState:Re,className:je(Ct.popper,I?.className)}),[An,Lt]=At("transition",{elementType:ib,externalForwardedProps:bt,ownerState:Re}),[qt,ur]=At("tooltip",{elementType:agt,className:Ct.tooltip,externalForwardedProps:bt,ownerState:Re}),[ct,Yt]=At("arrow",{elementType:lgt,className:Ct.arrow,externalForwardedProps:bt,ownerState:Re,ref:X});return h.jsxs(R.Fragment,{children:[R.cloneElement(V,$e),h.jsx(Gt,{as:O??rM,placement:A,anchorEl:x?{getBoundingClientRect:()=>({top:N2.y,left:N2.x,right:N2.x,bottom:N2.y,width:0,height:0})}:G,popperRef:Ae,open:G?ie:!1,id:xe,transition:!0,...at,...Cn,popperOptions:Rt,children:({TransitionProps:St})=>h.jsx(An,{timeout:H.transitions.duration.shorter,...St,...Lt,children:h.jsxs(qt,{...ur,children:[$,i?h.jsx(ct,{...Yt}):null]})})})]})}),gt=Fit({createStyledComponent:we("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>kt({props:e,name:"MuiStack"})});function cgt(e){return tt("MuiSwitch",e)}const Ia=rt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ugt=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&`edge${Ee(n)}`,`size${Ee(r)}`],switchBase:["switchBase",`color${Ee(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Qe(a,cgt,t);return{...t,...l}},dgt=we("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Ee(n.edge)}`],t[`size${Ee(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ia.thumb}`]:{width:16,height:16},[`& .${Ia.switchBase}`]:{padding:4,[`&.${Ia.checked}`]:{transform:"translateX(16px)"}}}}]}),fgt=we(BX,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Ia.input}`]:t.input},n.color!=="default"&&t[`color${Ee(n.color)}`]]}})(pt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Ia.checked}`]:{transform:"translateX(20px)"},[`&.${Ia.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Ia.checked} + .${Ia.track}`]:{opacity:.5},[`&.${Ia.disabled} + .${Ia.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Ia.input}`]:{left:"-100%",width:"300%"}})),pt(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(cr(["light"])).map(([t])=>({props:{color:t},style:{[`&.${Ia.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ia.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${Ia.checked} + .${Ia.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),pgt=we("span",{name:"MuiSwitch",slot:"Track"})(pt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),hgt=we("span",{name:"MuiSwitch",slot:"Thumb"})(pt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Bf=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l,slots:c={},slotProps:u={},...d}=r,f={...r,color:o,edge:s,size:a},p=ugt(f),g={slots:c,slotProps:u},[y,v]=At("root",{className:je(p.root,i),elementType:dgt,externalForwardedProps:g,ownerState:f,additionalProps:{sx:l}}),[x,w]=At("thumb",{className:p.thumb,elementType:hgt,externalForwardedProps:g,ownerState:f}),S=h.jsx(x,{...w}),[C,k]=At("track",{className:p.track,elementType:pgt,externalForwardedProps:g,ownerState:f});return h.jsxs(y,{...v,children:[h.jsx(fgt,{type:"checkbox",icon:S,checkedIcon:S,ref:n,ownerState:f,...d,classes:{...p,root:p.switchBase},slots:{...c.switchBase&&{root:c.switchBase},...c.input&&{input:c.input}},slotProps:{...u.switchBase&&{root:typeof u.switchBase=="function"?u.switchBase(f):u.switchBase},input:{role:"switch"},...u.input&&{input:typeof u.input=="function"?u.input(f):u.input}}}),h.jsx(C,{...k})]})});function ggt(e){return tt("MuiTab",e)}const Yc=rt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),mgt=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=e,c={root:["root",o&&s&&"labelIcon",`textColor${Ee(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return Qe(c,ggt,t)},ygt=we(Dl,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ee(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Yc.iconWrapper}`]:t.iconWrapper},{[`& .${Yc.icon}`]:t.icon}]}})(pt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${Yc.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${Yc.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${Yc.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${Yc.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Yc.selected}`]:{opacity:1},[`&.${Yc.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Yc.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Yc.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Yc.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Yc.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),wl=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:p,onFocus:g,selected:y,selectionFollowsFocus:v,textColor:x="inherit",value:w,wrapped:S=!1,...C}=r,k={...r,disabled:o,disableFocusRipple:s,selected:y,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:x,wrapped:S},T=mgt(k),E=l&&d&&R.isValidElement(l)?R.cloneElement(l,{className:je(T.icon,l.props.className)}):l,A=I=>{!y&&f&&f(I,w),p&&p(I)},O=I=>{v&&!y&&f&&f(I,w),g&&g(I)};return h.jsxs(ygt,{focusRipple:!s,className:je(T.root,i),ref:n,role:"tab","aria-selected":y,disabled:o,onClick:A,onFocus:O,ownerState:k,tabIndex:y?0:-1,...C,children:[c==="top"||c==="start"?h.jsxs(R.Fragment,{children:[E,d]}):h.jsxs(R.Fragment,{children:[d,E]}),u]})}),IEe=R.createContext();function vgt(e){return tt("MuiTable",e)}rt("MuiTable",["root","stickyHeader"]);const bgt=e=>{const{classes:t,stickyHeader:n}=e;return Qe({root:["root",n&&"stickyHeader"]},vgt,t)},xgt=we("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(pt(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),Vfe="table",wgt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTable"}),{className:i,component:o=Vfe,padding:s="normal",size:a="medium",stickyHeader:l=!1,...c}=r,u={...r,component:o,padding:s,size:a,stickyHeader:l},d=bgt(u),f=R.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return h.jsx(IEe.Provider,{value:f,children:h.jsx(xgt,{as:o,role:o===Vfe?null:"table",ref:n,className:je(d.root,i),ownerState:u,...c})})}),sM=R.createContext();function Sgt(e){return tt("MuiTableBody",e)}rt("MuiTableBody",["root"]);const _gt=e=>{const{classes:t}=e;return Qe({root:["root"]},Sgt,t)},Cgt=we("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),kgt={variant:"body"},Hfe="tbody",$8=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableBody"}),{className:i,component:o=Hfe,...s}=r,a={...r,component:o},l=_gt(a);return h.jsx(sM.Provider,{value:kgt,children:h.jsx(Cgt,{className:je(l.root,i),as:o,ref:n,role:o===Hfe?null:"rowgroup",ownerState:a,...s})})});function Egt(e){return tt("MuiTableCell",e)}const Tgt=rt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Rgt=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Ee(r)}`,i!=="normal"&&`padding${Ee(i)}`,`size${Ee(o)}`]};return Qe(a,Egt,t)},Mgt=we("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Ee(n.size)}`],n.padding!=="normal"&&t[`padding${Ee(n.padding)}`],n.align!=="inherit"&&t[`align${Ee(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(pt(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Tgt.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),r4=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:d,...f}=r,p=R.useContext(IEe),g=R.useContext(sM),y=g&&g.variant==="head";let v;s?v=s:v=y?"th":"td";let x=l;v==="td"?x=void 0:!x&&y&&(x="col");const w=d||g&&g.variant,S={...r,align:i,component:v,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&p&&p.stickyHeader,variant:w},C=Rgt(S);let k=null;return u&&(k=u==="asc"?"ascending":"descending"),h.jsx(Mgt,{as:v,ref:n,className:je(C.root,o),"aria-sort":k,scope:x,ownerState:S,...f})});function Agt(e){return tt("MuiTableContainer",e)}rt("MuiTableContainer",["root"]);const Pgt=e=>{const{classes:t}=e;return Qe({root:["root"]},Agt,t)},Dgt=we("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),Ogt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableContainer"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=Pgt(a);return h.jsx(Dgt,{ref:n,as:o,className:je(l.root,i),ownerState:a,...s})});function Igt(e){return tt("MuiTableFooter",e)}rt("MuiTableFooter",["root"]);const jgt=e=>{const{classes:t}=e;return Qe({root:["root"]},Igt,t)},$gt=we("tfoot",{name:"MuiTableFooter",slot:"Root"})({display:"table-footer-group"}),Fgt={variant:"footer"},Wfe="tfoot",Lgt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableFooter"}),{className:i,component:o=Wfe,...s}=r,a={...r,component:o},l=jgt(a);return h.jsx(sM.Provider,{value:Fgt,children:h.jsx($gt,{as:o,className:je(l.root,i),ref:n,role:o===Wfe?null:"rowgroup",ownerState:a,...s})})});function Ngt(e){return tt("MuiTableHead",e)}rt("MuiTableHead",["root"]);const zgt=e=>{const{classes:t}=e;return Qe({root:["root"]},Ngt,t)},Bgt=we("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),Ugt={variant:"head"},qfe="thead",Vgt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableHead"}),{className:i,component:o=qfe,...s}=r,a={...r,component:o},l=zgt(a);return h.jsx(sM.Provider,{value:Ugt,children:h.jsx(Bgt,{as:o,className:je(l.root,i),ref:n,role:o===qfe?null:"rowgroup",ownerState:a,...s})})});function Hgt(e){return tt("MuiToolbar",e)}rt("MuiToolbar",["root","gutters","regular","dense"]);const Wgt=e=>{const{classes:t,disableGutters:n,variant:r}=e;return Qe({root:["root",!n&&"gutters",r]},Hgt,t)},qgt=we("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(pt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),Ggt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular",...l}=r,c={...r,component:o,disableGutters:s,variant:a},u=Wgt(c);return h.jsx(qgt,{as:o,className:je(u.root,i),ref:n,ownerState:c,...l})}),Ygt=He(h.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Xgt=He(h.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Kgt(e){return tt("MuiTableRow",e)}const Gfe=rt("MuiTableRow",["root","selected","hover","head","footer"]),Zgt=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return Qe({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},Kgt,t)},Qgt=we("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(pt(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Gfe.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Gfe.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)}}}))),Yfe="tr",i4=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableRow"}),{className:i,component:o=Yfe,hover:s=!1,selected:a=!1,...l}=r,c=R.useContext(sM),u={...r,component:o,hover:s,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},d=Zgt(u);return h.jsx(Qgt,{as:o,ref:n,className:je(d.root,i),role:o===Yfe?null:"row",ownerState:u,...l})}),Jgt=He(h.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function emt(e){return tt("MuiTableSortLabel",e)}const F8=rt("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),tmt=e=>{const{classes:t,direction:n,active:r}=e,i={root:["root",r&&"active",`direction${Ee(n)}`],icon:["icon",`iconDirection${Ee(n)}`]};return Qe(i,emt,t)},nmt=we(Dl,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.active&&t.active]}})(pt(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${F8.icon}`]:{opacity:.5}},[`&.${F8.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${F8.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),rmt=we("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,t[`iconDirection${Ee(n.direction)}`]]}})(pt(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),imt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableSortLabel"}),{active:i=!1,children:o,className:s,direction:a="asc",hideSortIcon:l=!1,IconComponent:c=Jgt,slots:u={},slotProps:d={},...f}=r,p={...r,active:i,direction:a,hideSortIcon:l,IconComponent:c},g=tmt(p),y={slots:u,slotProps:d},[v,x]=At("root",{elementType:nmt,externalForwardedProps:y,ownerState:p,className:je(g.root,s),ref:n}),[w,S]=At("icon",{elementType:rmt,externalForwardedProps:y,ownerState:p,className:g.icon});return h.jsxs(v,{disableRipple:!0,component:"span",...x,...f,children:[o,l&&!i?null:h.jsx(w,{as:c,...S})]})});function omt(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function smt(e,t,n,r={},i=()=>{}){const{ease:o=omt,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const p=Math.min(1,(f-a)/s);if(t[e]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const amt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function lmt(e){const{onChange:t,...n}=e,r=R.useRef(),i=R.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return ii(()=>{const s=Ub(()=>{const l=r.current;o(),l!==r.current&&t(r.current)}),a=Rc(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),R.useEffect(()=>{o(),t(r.current)},[t]),h.jsx("div",{style:amt,...n,ref:i})}function cmt(e){return tt("MuiTabScrollButton",e)}const umt=rt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),dmt=e=>{const{classes:t,orientation:n,disabled:r}=e;return Qe({root:["root",n,r&&"disabled"]},cmt,t)},fmt=we(Dl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${umt.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),pmt=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,d=ss(),f={isRtl:d,...r},p=dmt(f),g=o.StartScrollButtonIcon??Ygt,y=o.EndScrollButtonIcon??Xgt,v=jn({elementType:g,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),x=jn({elementType:y,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return h.jsx(fmt,{component:"div",className:je(p.root,i),ref:n,role:null,ownerState:f,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${d?-90:90}deg)`}},children:a==="left"?h.jsx(g,{...v}):h.jsx(y,{...x})})});function hmt(e){return tt("MuiTabs",e)}const OI=rt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Xfe=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Kfe=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,MD=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(e,i);else{i.focus();return}}},gmt=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=e;return Qe({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},hmt,l)},mmt=we("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${OI.scrollButtons}`]:t.scrollButtons},{[`& .${OI.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(pt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${OI.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),ymt=we("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),vmt=we("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),bmt=we("span",{name:"MuiTabs",slot:"Indicator"})(pt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),xmt=we(lmt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Zfe={},qb=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTabs"}),i=xt(),o=ss(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:y,orientation:v="horizontal",ScrollButtonComponent:x,scrollButtons:w="auto",selectionFollowsFocus:S,slots:C={},slotProps:k={},TabIndicatorProps:T={},TabScrollButtonProps:E={},textColor:A="primary",value:O,variant:I="standard",visibleScrollbar:j=!1,...P}=r,$=I==="scrollable",D=v==="vertical",F=D?"scrollTop":"scrollLeft",N=D?"top":"left",V=D?"bottom":"right",H=D?"clientHeight":"clientWidth",U=D?"height":"width",G={...r,component:f,allowScrollButtonsMobile:p,indicatorColor:g,orientation:v,vertical:D,scrollButtons:w,textColor:A,variant:I,visibleScrollbar:j,fixed:!$,hideScrollbar:$&&!j,scrollableX:$&&!D,scrollableY:$&&D,centered:c&&!$,scrollButtonsHideMobile:!p},z=gmt(G),W=jn({elementType:C.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:G}),X=jn({elementType:C.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:G}),[Q,ee]=R.useState(!1),[ne,oe]=R.useState(Zfe),[ce,re]=R.useState(!1),[ge,he]=R.useState(!1),[ie,xe]=R.useState(!1),[q,fe]=R.useState({overflow:"hidden",scrollbarWidth:0}),se=new Map,J=R.useRef(null),Z=R.useRef(null),ue={slots:C,slotProps:{indicator:T,scrollButton:E,...k}},de=()=>{const vt=J.current;let Xt;if(vt){const Dn=vt.getBoundingClientRect();Xt={clientWidth:vt.clientWidth,scrollLeft:vt.scrollLeft,scrollTop:vt.scrollTop,scrollWidth:vt.scrollWidth,top:Dn.top,bottom:Dn.bottom,left:Dn.left,right:Dn.right}}let Pn;if(vt&&O!==!1){const Dn=Z.current.children;if(Dn.length>0){const Et=Dn[se.get(O)];Pn=Et?Et.getBoundingClientRect():null}}return{tabsMeta:Xt,tabMeta:Pn}},be=mt(()=>{const{tabsMeta:vt,tabMeta:Xt}=de();let Pn=0,Dn;D?(Dn="top",Xt&&vt&&(Pn=Xt.top-vt.top+vt.scrollTop)):(Dn=o?"right":"left",Xt&&vt&&(Pn=(o?-1:1)*(Xt[Dn]-vt[Dn]+vt.scrollLeft)));const Et={[Dn]:Pn,[U]:Xt?Xt[U]:0};if(typeof ne[Dn]!="number"||typeof ne[U]!="number")oe(Et);else{const Gi=Math.abs(ne[Dn]-Et[Dn]),nr=Math.abs(ne[U]-Et[U]);(Gi>=1||nr>=1)&&oe(Et)}}),le=(vt,{animation:Xt=!0}={})=>{Xt?smt(F,J.current,vt,{duration:i.transitions.duration.standard}):J.current[F]=vt},Se=vt=>{let Xt=J.current[F];D?Xt+=vt:Xt+=vt*(o?-1:1),le(Xt)},ye=()=>{const vt=J.current[H];let Xt=0;const Pn=Array.from(Z.current.children);for(let Dn=0;Dn<Pn.length;Dn+=1){const Et=Pn[Dn];if(Xt+Et[H]>vt){Dn===0&&(Xt=vt);break}Xt+=Et[H]}return Xt},ve=()=>{Se(-1*ye())},_e=()=>{Se(ye())},[Ae,{onChange:Te,...Pe}]=At("scrollbar",{className:je(z.scrollableX,z.hideScrollbar),elementType:xmt,shouldForwardComponentProp:!0,externalForwardedProps:ue,ownerState:G}),Le=R.useCallback(vt=>{Te?.(vt),fe({overflow:null,scrollbarWidth:vt})},[Te]),[$e,at]=At("scrollButtons",{className:je(z.scrollButtons,E.className),elementType:pmt,externalForwardedProps:ue,ownerState:G,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:W,endScrollButtonIcon:X}}}),Re=()=>{const vt={};vt.scrollbarSizeListener=$?h.jsx(Ae,{...Pe,onChange:Le}):null;const Pn=$&&(w==="auto"&&(ce||ge)||w===!0);return vt.scrollButtonStart=Pn?h.jsx($e,{direction:o?"right":"left",onClick:ve,disabled:!ce,...at}):null,vt.scrollButtonEnd=Pn?h.jsx($e,{direction:o?"left":"right",onClick:_e,disabled:!ge,...at}):null,vt},Ze=mt(vt=>{const{tabsMeta:Xt,tabMeta:Pn}=de();if(!(!Pn||!Xt)){if(Pn[N]<Xt[N]){const Dn=Xt[F]+(Pn[N]-Xt[N]);le(Dn,{animation:vt})}else if(Pn[V]>Xt[V]){const Dn=Xt[F]+(Pn[V]-Xt[V]);le(Dn,{animation:vt})}}}),Rt=mt(()=>{$&&w!==!1&&xe(!ie)});R.useEffect(()=>{const vt=Ub(()=>{J.current&&be()});let Xt;const Pn=Gi=>{Gi.forEach(nr=>{nr.removedNodes.forEach(Br=>{Xt?.unobserve(Br)}),nr.addedNodes.forEach(Br=>{Xt?.observe(Br)})}),vt(),Rt()},Dn=Rc(J.current);Dn.addEventListener("resize",vt);let Et;return typeof ResizeObserver<"u"&&(Xt=new ResizeObserver(vt),Array.from(Z.current.children).forEach(Gi=>{Xt.observe(Gi)})),typeof MutationObserver<"u"&&(Et=new MutationObserver(Pn),Et.observe(Z.current,{childList:!0})),()=>{vt.clear(),Dn.removeEventListener("resize",vt),Et?.disconnect(),Xt?.disconnect()}},[be,Rt]),R.useEffect(()=>{const vt=Array.from(Z.current.children),Xt=vt.length;if(typeof IntersectionObserver<"u"&&Xt>0&&$&&w!==!1){const Pn=vt[0],Dn=vt[Xt-1],Et={root:J.current,threshold:.99},Gi=kr=>{re(!kr[0].isIntersecting)},nr=new IntersectionObserver(Gi,Et);nr.observe(Pn);const Br=kr=>{he(!kr[0].isIntersecting)},Yi=new IntersectionObserver(Br,Et);return Yi.observe(Dn),()=>{nr.disconnect(),Yi.disconnect()}}},[$,w,ie,u?.length]),R.useEffect(()=>{ee(!0)},[]),R.useEffect(()=>{be()}),R.useEffect(()=>{Ze(Zfe!==ne)},[Ze,ne]),R.useImperativeHandle(l,()=>({updateIndicator:be,updateScrollButtons:Rt}),[be,Rt]);const[Ct,De]=At("indicator",{className:je(z.indicator,T.className),elementType:bmt,externalForwardedProps:ue,ownerState:G,additionalProps:{style:ne}}),bt=h.jsx(Ct,{...De});let Gt=0;const Cn=R.Children.map(u,vt=>{if(!R.isValidElement(vt))return null;const Xt=vt.props.value===void 0?Gt:vt.props.value;se.set(Xt,Gt);const Pn=Xt===O;return Gt+=1,R.cloneElement(vt,{fullWidth:I==="fullWidth",indicator:Pn&&!Q&&bt,selected:Pn,selectionFollowsFocus:S,onChange:y,textColor:A,value:Xt,...Gt===1&&O===!1&&!vt.props.tabIndex?{tabIndex:0}:{}})}),An=vt=>{if(vt.altKey||vt.shiftKey||vt.ctrlKey||vt.metaKey)return;const Xt=Z.current,Pn=Q1(ki(Xt));if(Pn?.getAttribute("role")!=="tab")return;let Et=v==="horizontal"?"ArrowLeft":"ArrowUp",Gi=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&o&&(Et="ArrowRight",Gi="ArrowLeft"),vt.key){case Et:vt.preventDefault(),MD(Xt,Pn,Kfe);break;case Gi:vt.preventDefault(),MD(Xt,Pn,Xfe);break;case"Home":vt.preventDefault(),MD(Xt,null,Xfe);break;case"End":vt.preventDefault(),MD(Xt,null,Kfe);break}},Lt=Re(),[qt,ur]=At("root",{ref:n,className:je(z.root,d),elementType:mmt,externalForwardedProps:{...ue,...P,component:f},ownerState:G}),[ct,Yt]=At("scroller",{ref:J,className:z.scroller,elementType:ymt,externalForwardedProps:ue,ownerState:G,additionalProps:{style:{overflow:q.overflow,[D?`margin${o?"Left":"Right"}`:"marginBottom"]:j?void 0:-q.scrollbarWidth}}}),[St,Ln]=At("list",{ref:Z,className:je(z.list,z.flexContainer),elementType:vmt,externalForwardedProps:ue,ownerState:G,getSlotProps:vt=>({...vt,onKeyDown:Xt=>{An(Xt),vt.onKeyDown?.(Xt)}})});return h.jsxs(qt,{...ur,children:[Lt.scrollButtonStart,Lt.scrollbarSizeListener,h.jsxs(ct,{...Yt,children:[h.jsx(St,{"aria-label":s,"aria-labelledby":a,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...Ln,children:Cn}),Q&&bt]}),Lt.scrollButtonEnd]})});function wmt(e){return tt("MuiTextField",e)}rt("MuiTextField",["root"]);const Smt={standard:WX,filled:HX,outlined:YX},_mt=e=>{const{classes:t}=e;return Qe({root:["root"]},wmt,t)},Cmt=we(Qf,{name:"MuiTextField",slot:"Root"})({}),zn=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:g,id:y,InputLabelProps:v,inputProps:x,InputProps:w,inputRef:S,label:C,maxRows:k,minRows:T,multiline:E=!1,name:A,onBlur:O,onChange:I,onFocus:j,placeholder:P,required:$=!1,rows:D,select:F=!1,SelectProps:N,slots:V={},slotProps:H={},type:U,value:G,variant:z="outlined",...W}=r,X={...r,autoFocus:o,color:l,disabled:u,error:d,fullWidth:p,multiline:E,required:$,select:F,variant:z},Q=_mt(X),ee=$c(y),ne=g&&ee?`${ee}-helper-text`:void 0,oe=C&&ee?`${ee}-label`:void 0,ce=Smt[z],re={slots:V,slotProps:{input:w,inputLabel:v,htmlInput:x,formHelperText:f,select:N,...H}},ge={},he=re.slotProps.inputLabel;z==="outlined"&&(he&&typeof he.shrink<"u"&&(ge.notched=he.shrink),ge.label=C),F&&((!N||!N.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);const[ie,xe]=At("root",{elementType:Cmt,shouldForwardComponentProp:!0,externalForwardedProps:{...re,...W},ownerState:X,className:je(Q.root,a),ref:n,additionalProps:{disabled:u,error:d,fullWidth:p,required:$,color:l,variant:z}}),[q,fe]=At("input",{elementType:ce,externalForwardedProps:re,additionalProps:ge,ownerState:X}),[se,J]=At("inputLabel",{elementType:JF,externalForwardedProps:re,ownerState:X}),[Z,ue]=At("htmlInput",{elementType:"input",externalForwardedProps:re,ownerState:X}),[de,be]=At("formHelperText",{elementType:QF,externalForwardedProps:re,ownerState:X}),[le,Se]=At("select",{elementType:Vd,externalForwardedProps:re,ownerState:X}),ye=h.jsx(q,{"aria-describedby":ne,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:E,name:A,rows:D,maxRows:k,minRows:T,type:U,value:G,id:ee,inputRef:S,onBlur:O,onChange:I,onFocus:j,placeholder:P,inputProps:ue,slots:{input:V.htmlInput?Z:void 0},...fe});return h.jsxs(ie,{...xe,children:[C!=null&&C!==""&&h.jsx(se,{htmlFor:ee,id:oe,...J,children:C}),F?h.jsx(le,{"aria-describedby":ne,id:ee,labelId:oe,value:G,input:ye,...Se,children:s}):ye,g&&h.jsx(de,{id:ne,...be,children:g})]})});function kmt(e){return tt("MuiToggleButton",e)}const cv=rt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),jEe=R.createContext({}),$Ee=R.createContext(void 0);function Emt(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const Tmt=e=>{const{classes:t,fullWidth:n,selected:r,disabled:i,size:o,color:s}=e,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${Ee(o)}`,s]};return Qe(a,kmt,t)},Rmt=we(Dl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${Ee(n.size)}`]]}})(pt(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${cv.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${cv.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(cr()).map(([t])=>({props:{color:t},style:{[`&.${cv.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),P5=R.forwardRef(function(t,n){const{value:r,...i}=R.useContext(jEe),o=R.useContext($Ee),s=sS({...i,selected:Emt(t.value,r)},t),a=kt({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:d=!1,disableFocusRipple:f=!1,fullWidth:p=!1,onChange:g,onClick:y,selected:v,size:x="medium",value:w,...S}=a,C={...a,color:u,disabled:d,disableFocusRipple:f,fullWidth:p,size:x},k=Tmt(C),T=A=>{y&&(y(A,w),A.defaultPrevented)||g&&g(A,w)},E=o||"";return h.jsx(Rmt,{className:je(i.className,k.root,c,E),disabled:d,focusRipple:!f,ref:n,onClick:T,onChange:g,value:w,ownerState:C,"aria-pressed":v,...S,children:l})});function Mmt(e){return tt("MuiToggleButtonGroup",e)}const Mi=rt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Amt=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:i}=e,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${Ee(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Qe(o,Mmt,t)},Pmt=we("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Mi.grouped}`]:t.grouped},{[`& .${Mi.grouped}`]:t[`grouped${Ee(n.orientation)}`]},{[`& .${Mi.firstButton}`]:t.firstButton},{[`& .${Mi.lastButton}`]:t.lastButton},{[`& .${Mi.middleButton}`]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(pt(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Mi.grouped}`]:{[`&.${Mi.selected} + .${Mi.grouped}.${Mi.selected}`]:{borderTop:0,marginTop:0}},[`& .${Mi.firstButton},& .${Mi.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Mi.lastButton},& .${Mi.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Mi.lastButton}.${cv.disabled},& .${Mi.middleButton}.${cv.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Mi.grouped}`]:{[`&.${Mi.selected} + .${Mi.grouped}.${Mi.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Mi.firstButton},& .${Mi.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Mi.lastButton},& .${Mi.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Mi.lastButton}.${cv.disabled},& .${Mi.middleButton}.${cv.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),FEe=R.forwardRef(function(t,n){const r=kt({props:t,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:f="medium",value:p,...g}=r,y={...r,disabled:a,fullWidth:c,orientation:d,size:f},v=Amt(y),x=R.useCallback((E,A)=>{if(!u)return;const O=p&&p.indexOf(A);let I;p&&O>=0?(I=p.slice(),I.splice(O,1)):I=p?p.concat(A):[A],u(E,I)},[u,p]),w=R.useCallback((E,A)=>{u&&u(E,p===A?null:A)},[u,p]),S=R.useMemo(()=>({className:v.grouped,onChange:l?w:x,value:p,size:f,fullWidth:c,color:s,disabled:a}),[v.grouped,l,w,x,p,f,c,s,a]),C=dEe(i),k=C.length,T=E=>{const A=E===0,O=E===k-1;return A&&O?"":A?v.firstButton:O?v.lastButton:v.middleButton};return h.jsx(Pmt,{role:"group",className:je(v.root,o),ref:n,ownerState:y,...g,children:h.jsx(jEe.Provider,{value:S,children:C.map((E,A)=>h.jsx($Ee.Provider,{value:T(A),children:E},A))})})}),r0=dke({themeId:xu}),fm=7,Qfe=e=>{let t;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const f=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,f))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},Dmt=(e=>e?Qfe(e):Qfe),Omt=e=>e;function Imt(e,t=Omt){const n=Vt.useSyncExternalStore(e.subscribe,Vt.useCallback(()=>t(e.getState()),[e,t]),Vt.useCallback(()=>t(e.getInitialState()),[e,t]));return Vt.useDebugValue(n),n}const Jfe=e=>{const t=Dmt(e),n=r=>Imt(t,r);return Object.assign(n,t),n},Fi=(e=>e?Jfe(e):Jfe),Wi=Fi(e=>({errorMessage:null,errorOpen:!1,successMessage:null,successOpen:!1,timeout:void 0,showError:t=>e({errorMessage:t,errorOpen:!0,successOpen:!1,successMessage:null}),hideError:()=>e({errorMessage:null,errorOpen:!1}),showSuccess:(t,{timeout:n}={})=>e({successMessage:t,successOpen:!0,timeout:n,errorOpen:!1,errorMessage:null}),hideSuccess:()=>e({successMessage:null,successOpen:!1}),clearAll:()=>e({errorMessage:null,errorOpen:!1,successMessage:null,successOpen:!1})})),LEe=({open:e,message:t,action:n,onClose:r})=>h.jsx(oM,{sx:{mt:7.5},anchorOrigin:{vertical:"top",horizontal:"center"},open:e,onClose:r,autoHideDuration:5e3,children:h.jsx(n4,{message:t&&h.jsxs(Y,{sx:{display:"inline-flex",flexDirection:"row"},children:[h.jsx(CX,{sx:{color:"error.main"}}),h.jsx(Y,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(ae,{children:t})})]}),action:n})}),jmt=()=>{const{errorMessage:e,errorOpen:t,hideError:n}=Wi();return h.jsx(Y,{"data-testid":"error-snackbar",children:h.jsx(LEe,{open:t,message:e,onClose:n})})},$mt=()=>{const[e,t]=R.useState(null);return R.useEffect(()=>{if(window.location.href.includes("error_msg")){const r=new URL(window.location.href.replace("#/","")).searchParams.get("error_msg");t(r),setTimeout(()=>{t(null)},3e3)}},[]),h.jsx(LEe,{open:e!==null,message:e,onClose:()=>t(null)})},ZX=e=>e<=50?.8+e/50*.2:1+(e-50)/50*1.4;function NEe(){return"matrix".includes("kws")}const Fmt={primary:{25:"#fffefd",50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",500:"#f97316",700:"#c2410c",950:"#431407",975:"#020100"},kwsPrimary:{main:"rgb(255, 108, 0)",accent:"rgb(255, 108, 0)",light:"rgb(200, 208, 214)",dark:"rgb(95, 105, 110)"},grey:{25:"#f8f8f8",50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09",975:"#121110"}},ht={colors:Fmt},Lmt=e=>{const t=NEe(),n=e?"dark":"light",r={mode:n,primary:{main:t?ht.colors.kwsPrimary.main:ht.colors.primary[500],accent:t?ht.colors.kwsPrimary.accent:ht.colors.grey[500],light:t?ht.colors.kwsPrimary.light:ht.colors.primary[200],dark:t?ht.colors.kwsPrimary.dark:ht.colors.primary[700],contrastText:"#fff"},text:{primary:ht.colors.grey[900],secondary:ht.colors.grey[900],disabled:ht.colors.grey[900]},grey:ht.colors.grey,highlight:{text:"#000",match:Mr("#ffb74d",.5),flowGrid:ut("#000",.8),border:ht.colors.grey[900]},background:{default:ht.colors.primary[25],paper:ht.colors.grey[25],elevated:ht.colors.primary[50],disabled:ht.colors.grey[300],border:ht.colors.grey[600],table:ht.colors.grey[50],tableCell:ht.colors.grey[300]},dashboard:{surface:Mr(ht.colors.primary[50],.4),surfaceSubtle:ht.colors.grey[50],border:ht.colors.grey[200],tabActive:ht.colors.primary[100],tabInactive:es(ht.colors.grey[100],.04),tabAutomaticTint:ht.colors.primary[50],tabAutomaticTintHover:ht.colors.primary[200],footer:ht.colors.grey[25],footerEmpty:ht.colors.grey[100],emptySlot:ht.colors.grey[50],emptySlotBorder:ht.colors.grey[300],previewTint:ht.colors.primary[50],previewBorder:ht.colors.primary[200],previewBlock:ht.colors.grey[200]}},i={mode:n,primary:{main:t?ht.colors.kwsPrimary.main:ht.colors.primary[500],accent:t?ht.colors.kwsPrimary.accent:ht.colors.grey[500],light:t?ht.colors.kwsPrimary.light:ht.colors.primary[700],dark:t?ht.colors.kwsPrimary.dark:ht.colors.primary[300],contrastText:"#000"},text:{primary:ht.colors.grey[200],secondary:ht.colors.grey[200],disabled:ht.colors.grey[200]},grey:ht.colors.grey,highlight:{text:"#fff",match:Mr("#f57c00",.1),flowGrid:ut("#fff",.8),border:ht.colors.grey[100]},background:{default:ht.colors.primary[975],paper:ht.colors.grey[975],elevated:ht.colors.primary[950],disabled:ht.colors.grey[700],border:ht.colors.grey[400],table:ht.colors.grey[900],tableCell:ht.colors.grey[800]},dashboard:{surface:ht.colors.grey[950],surfaceSubtle:ht.colors.grey[900],border:ht.colors.grey[700],tabActive:ht.colors.grey[950],tabInactive:ht.colors.grey[900],tabAutomaticTint:ht.colors.grey[800],tabAutomaticTintHover:ht.colors.grey[700],footer:ht.colors.grey[975],footerEmpty:ht.colors.grey[900],emptySlot:ht.colors.grey[800],emptySlotBorder:ht.colors.grey[600],previewTint:ht.colors.grey[800],previewBorder:ht.colors.grey[600],previewBlock:ht.colors.grey[700]}};return jF({palette:e?i:r,text:{title:{main:t?"SmartPlot":"NoMaze Smart Plot | Data Visualization for Plant Breeding"}},img:{favicon:{main:t?"smartplot_favicon.ico":"favicon.ico"}},typography:{fontSize:14,fontFamily:"'Geist', 'Roboto', 'Helvetica', 'Arial', sans-serif",body1:{fontSize:"0.875rem",color:e?ht.colors.grey[200]:ht.colors.grey[800]},body2:{fontSize:"0.75rem",lineHeight:1.6,color:e?ht.colors.grey[200]:ht.colors.grey[800]},bodyLarge:{fontSize:"1.125rem",lineHeight:1.6,color:e?ht.colors.grey[200]:ht.colors.grey[800]},bodyMedium:{fontSize:"0.875rem",fontWeight:500,color:e?ht.colors.grey[200]:ht.colors.grey[800]},caption:{fontSize:"0.75rem",color:e?ht.colors.grey[200]:ht.colors.grey[800]},allVariants:{textAlign:"left"},h1:{fontWeight:"bold",color:e?ht.colors.grey[200]:ht.colors.grey[975],fontSize:"2.5rem"},h2:{fontWeight:"bold",color:e?ht.colors.grey[200]:ht.colors.grey[975],fontSize:"2rem"},h3:{fontWeight:"bold",color:e?ht.colors.grey[200]:ht.colors.grey[975],fontSize:"1.75rem"},h4:{fontWeight:"bold",color:e?ht.colors.grey[200]:ht.colors.grey[975],fontSize:"1.5rem"},h5:{fontWeight:"bold",color:e?ht.colors.grey[200]:ht.colors.grey[975],fontSize:"1.25rem"},h6:{fontWeight:"bold",color:e?ht.colors.grey[200]:ht.colors.grey[975],fontSize:"0.875rem"}},components:{MuiListSubheader:{styleOverrides:{root:{fontSize:"1rem"}}},MuiTableCell:{styleOverrides:{root:({theme:a})=>({background:a.palette.background.tableCell})}},MuiToolbar:{styleOverrides:{root:({theme:a})=>({backgroundColor:t?a.palette.primary.main:ut(a.palette.background.paper,.3),backdropFilter:t?"none":"blur(10px)",WebkitBackdropFilter:t?"none":"blur(10px)",color:t?"#fff":a.palette.highlight.text})}},MuiAppBar:{styleOverrides:{root:({theme:a})=>({backgroundColor:ut(a.palette.background.paper,.3),backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"})}},MuiSnackbar:{styleOverrides:{root:({theme:a})=>({"& .MuiSnackbarContent-root":{backgroundColor:ut(a.palette.background.paper,.5),fontSize:"12pt",border:`1px solid ${e?ht.colors.grey[800]:ht.colors.grey[300]}`,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"}})}},MuiTableContainer:{styleOverrides:{root:({theme:a})=>({backgroundColor:a.palette.background.paper})}},MuiPaper:{styleOverrides:{root:({theme:a})=>({backgroundColor:a.palette.background.paper,color:a.palette.text.primary,boxShadow:"none",border:`1px solid ${e?ht.colors.grey[800]:ht.colors.grey[300]}`})}},MuiButton:{styleOverrides:{root:({theme:a})=>({fontSize:"14px",textTransform:"none",fontWeight:600,borderRadius:8,"& header *, header &":{"&:hover":{background:Mr(a.palette.primary.light,.5)}}})}},MuiMenuItem:{styleOverrides:{root:{fontSize:"12pt"}}},MuiStack:{styleOverrides:{root:{maxWidth:"100%"}}},MuiIconButton:{styleOverrides:{root:({theme:a})=>({fontSize:"12pt","& header *, header &":{"&:hover":{background:a.palette.primary.light}}})}},MuiSwitch:{styleOverrides:{root:({theme:a})=>({padding:8,"&.withIcons .MuiSwitch-track":{"&::before, &::after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&::before":{backgroundImage:`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' height='16' width='16' viewBox='0 0 24 24'><path fill='currentColor' d='M8 5v14l11-7z'/></svg>")`,left:6,color:a.palette.getContrastText(a.palette.primary.main)},"&::after":{backgroundImage:`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' height='16' width='16' viewBox='0 0 24 24'><path fill='white' d='M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z'/></svg>")`,right:6}}}),track:{borderRadius:11,position:"relative"},thumb:{boxShadow:"none",width:16,height:16,margin:2}}},MuiTableRow:{styleOverrides:{root:()=>({backgroundColor:"inherit"})}}}})},epe=(e,t,n)=>{typeof n=="string"||n instanceof Blob?e.append(t,n):n instanceof Date?e.append(t,n.toISOString()):e.append(t,JSON.stringify(n))},Nmt={bodySerializer:e=>{const t=new FormData;return Object.entries(e).forEach(([n,r])=>{r!=null&&(Array.isArray(r)?r.forEach(i=>epe(t,n,i)):epe(t,n,r))}),t}};function zEe(e,t){return function(){return e.apply(t,arguments)}}const{toString:zmt}=Object.prototype,{getPrototypeOf:QX}=Object,{iterator:o4,toStringTag:BEe}=Symbol,s4=(e=>t=>{const n=zmt.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hd=e=>(e=e.toLowerCase(),t=>s4(t)===e),a4=e=>t=>typeof t===e,{isArray:T_}=Array,fS=a4("undefined");function aM(e){return e!==null&&!fS(e)&&e.constructor!==null&&!fS(e.constructor)&&Rl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const UEe=Hd("ArrayBuffer");function Bmt(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&UEe(e.buffer),t}const Umt=a4("string"),Rl=a4("function"),VEe=a4("number"),lM=e=>e!==null&&typeof e=="object",Vmt=e=>e===!0||e===!1,II=e=>{if(s4(e)!=="object")return!1;const t=QX(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(BEe in e)&&!(o4 in e)},Hmt=e=>{if(!lM(e)||aM(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Wmt=Hd("Date"),qmt=Hd("File"),Gmt=Hd("Blob"),Ymt=Hd("FileList"),Xmt=e=>lM(e)&&Rl(e.pipe),Kmt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rl(e.append)&&((t=s4(e))==="formdata"||t==="object"&&Rl(e.toString)&&e.toString()==="[object FormData]"))},Zmt=Hd("URLSearchParams"),[Qmt,Jmt,e0t,t0t]=["ReadableStream","Request","Response","Headers"].map(Hd),n0t=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cM(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),T_(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(aM(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function HEe(e,t){if(aM(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const uv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WEe=e=>!fS(e)&&e!==uv;function xH(){const{caseless:e,skipUndefined:t}=WEe(this)&&this||{},n={},r=(i,o)=>{const s=e&&HEe(n,o)||o;II(n[s])&&II(i)?n[s]=xH(n[s],i):II(i)?n[s]=xH({},i):T_(i)?n[s]=i.slice():(!t||!fS(i))&&(n[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&cM(arguments[i],r);return n}const r0t=(e,t,n,{allOwnKeys:r}={})=>(cM(t,(i,o)=>{n&&Rl(i)?e[o]=zEe(i,n):e[o]=i},{allOwnKeys:r}),e),i0t=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),o0t=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},s0t=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&QX(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},a0t=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},l0t=e=>{if(!e)return null;if(T_(e))return e;let t=e.length;if(!VEe(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},c0t=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&QX(Uint8Array)),u0t=(e,t)=>{const r=(e&&e[o4]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},d0t=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},f0t=Hd("HTMLFormElement"),p0t=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),tpe=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),h0t=Hd("RegExp"),qEe=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};cM(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},g0t=e=>{qEe(e,(t,n)=>{if(Rl(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Rl(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},m0t=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return T_(e)?r(e):r(String(e).split(t)),n},y0t=()=>{},v0t=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function b0t(e){return!!(e&&Rl(e.append)&&e[BEe]==="FormData"&&e[o4])}const x0t=e=>{const t=new Array(10),n=(r,i)=>{if(lM(r)){if(t.indexOf(r)>=0)return;if(aM(r))return r;if(!("toJSON"in r)){t[i]=r;const o=T_(r)?[]:{};return cM(r,(s,a)=>{const l=n(s,i+1);!fS(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return n(e,0)},w0t=Hd("AsyncFunction"),S0t=e=>e&&(lM(e)||Rl(e))&&Rl(e.then)&&Rl(e.catch),GEe=((e,t)=>e?setImmediate:t?((n,r)=>(uv.addEventListener("message",({source:i,data:o})=>{i===uv&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),uv.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rl(uv.postMessage)),_0t=typeof queueMicrotask<"u"?queueMicrotask.bind(uv):typeof process<"u"&&process.nextTick||GEe,C0t=e=>e!=null&&Rl(e[o4]),Ne={isArray:T_,isArrayBuffer:UEe,isBuffer:aM,isFormData:Kmt,isArrayBufferView:Bmt,isString:Umt,isNumber:VEe,isBoolean:Vmt,isObject:lM,isPlainObject:II,isEmptyObject:Hmt,isReadableStream:Qmt,isRequest:Jmt,isResponse:e0t,isHeaders:t0t,isUndefined:fS,isDate:Wmt,isFile:qmt,isBlob:Gmt,isRegExp:h0t,isFunction:Rl,isStream:Xmt,isURLSearchParams:Zmt,isTypedArray:c0t,isFileList:Ymt,forEach:cM,merge:xH,extend:r0t,trim:n0t,stripBOM:i0t,inherits:o0t,toFlatObject:s0t,kindOf:s4,kindOfTest:Hd,endsWith:a0t,toArray:l0t,forEachEntry:u0t,matchAll:d0t,isHTMLForm:f0t,hasOwnProperty:tpe,hasOwnProp:tpe,reduceDescriptors:qEe,freezeMethods:g0t,toObjectSet:m0t,toCamelCase:p0t,noop:y0t,toFiniteNumber:v0t,findKey:HEe,global:uv,isContextDefined:WEe,isSpecCompliantForm:b0t,toJSONObject:x0t,isAsyncFn:w0t,isThenable:S0t,setImmediate:GEe,asap:_0t,isIterable:C0t};function Hn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ne.inherits(Hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.status}}});const YEe=Hn.prototype,XEe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{XEe[e]={value:e}});Object.defineProperties(Hn,XEe);Object.defineProperty(YEe,"isAxiosError",{value:!0});Hn.from=(e,t,n,r,i,o)=>{const s=Object.create(YEe);Ne.toFlatObject(e,s,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Hn.call(s,a,l,n,r,i),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};const k0t=null;function wH(e){return Ne.isPlainObject(e)||Ne.isArray(e)}function KEe(e){return Ne.endsWith(e,"[]")?e.slice(0,-2):e}function npe(e,t,n){return e?e.concat(t).map(function(i,o){return i=KEe(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function E0t(e){return Ne.isArray(e)&&!e.some(wH)}const T0t=Ne.toFlatObject(Ne,{},null,function(t){return/^is[A-Z]/.test(t)});function l4(e,t,n){if(!Ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!Ne.isUndefined(v[y])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(t);if(!Ne.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Ne.isDate(g))return g.toISOString();if(Ne.isBoolean(g))return g.toString();if(!l&&Ne.isBlob(g))throw new Hn("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(g)||Ne.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,v){let x=g;if(g&&!v&&typeof g=="object"){if(Ne.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(Ne.isArray(g)&&E0t(g)||(Ne.isFileList(g)||Ne.endsWith(y,"[]"))&&(x=Ne.toArray(g)))return y=KEe(y),x.forEach(function(S,C){!(Ne.isUndefined(S)||S===null)&&t.append(s===!0?npe([y],C,o):s===null?y:y+"[]",c(S))}),!1}return wH(g)?!0:(t.append(npe(v,y,o),c(g)),!1)}const d=[],f=Object.assign(T0t,{defaultVisitor:u,convertValue:c,isVisitable:wH});function p(g,y){if(!Ne.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),Ne.forEach(g,function(x,w){(!(Ne.isUndefined(x)||x===null)&&i.call(t,x,Ne.isString(w)?w.trim():w,y,f))===!0&&p(x,y?y.concat(w):[w])}),d.pop()}}if(!Ne.isObject(e))throw new TypeError("data must be an object");return p(e),t}function rpe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function JX(e,t){this._pairs=[],e&&l4(e,this,t)}const ZEe=JX.prototype;ZEe.append=function(t,n){this._pairs.push([t,n])};ZEe.toString=function(t){const n=t?function(r){return t.call(this,r,rpe)}:rpe;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function R0t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function QEe(e,t,n){if(!t)return e;const r=n&&n.encode||R0t;Ne.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=Ne.isURLSearchParams(t)?t.toString():new JX(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ipe{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ne.forEach(this.handlers,function(r){r!==null&&t(r)})}}const JEe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M0t=typeof URLSearchParams<"u"?URLSearchParams:JX,A0t=typeof FormData<"u"?FormData:null,P0t=typeof Blob<"u"?Blob:null,D0t={isBrowser:!0,classes:{URLSearchParams:M0t,FormData:A0t,Blob:P0t},protocols:["http","https","file","blob","url","data"]},eK=typeof window<"u"&&typeof document<"u",SH=typeof navigator=="object"&&navigator||void 0,O0t=eK&&(!SH||["ReactNative","NativeScript","NS"].indexOf(SH.product)<0),I0t=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j0t=eK&&window.location.href||"http://localhost",$0t=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eK,hasStandardBrowserEnv:O0t,hasStandardBrowserWebWorkerEnv:I0t,navigator:SH,origin:j0t},Symbol.toStringTag,{value:"Module"})),ca={...$0t,...D0t};function F0t(e,t){return l4(e,new ca.classes.URLSearchParams,{visitor:function(n,r,i,o){return ca.isNode&&Ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function L0t(e){return Ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function N0t(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function eTe(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Ne.isArray(i)?i.length:s,l?(Ne.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Ne.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&Ne.isArray(i[s])&&(i[s]=N0t(i[s])),!a)}if(Ne.isFormData(e)&&Ne.isFunction(e.entries)){const n={};return Ne.forEachEntry(e,(r,i)=>{t(L0t(r),i,n,0)}),n}return null}function z0t(e,t,n){if(Ne.isString(e))try{return(t||JSON.parse)(e),Ne.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const uM={transitional:JEe,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ne.isObject(t);if(o&&Ne.isHTMLForm(t)&&(t=new FormData(t)),Ne.isFormData(t))return i?JSON.stringify(eTe(t)):t;if(Ne.isArrayBuffer(t)||Ne.isBuffer(t)||Ne.isStream(t)||Ne.isFile(t)||Ne.isBlob(t)||Ne.isReadableStream(t))return t;if(Ne.isArrayBufferView(t))return t.buffer;if(Ne.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return F0t(t,this.formSerializer).toString();if((a=Ne.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return l4(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),z0t(t)):t}],transformResponse:[function(t){const n=this.transitional||uM.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ne.isResponse(t)||Ne.isReadableStream(t))return t;if(t&&Ne.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?Hn.from(a,Hn.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ca.classes.FormData,Blob:ca.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ne.forEach(["delete","get","head","post","put","patch"],e=>{uM.headers[e]={}});const B0t=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U0t=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&B0t[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ope=Symbol("internals");function z2(e){return e&&String(e).trim().toLowerCase()}function jI(e){return e===!1||e==null?e:Ne.isArray(e)?e.map(jI):String(e)}function V0t(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const H0t=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function L8(e,t,n,r,i){if(Ne.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Ne.isString(t)){if(Ne.isString(r))return t.indexOf(r)!==-1;if(Ne.isRegExp(r))return r.test(t)}}function W0t(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function q0t(e,t){const n=Ne.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}let Ml=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,l,c){const u=z2(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ne.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=jI(a))}const s=(a,l)=>Ne.forEach(a,(c,u)=>o(c,u,l));if(Ne.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Ne.isString(t)&&(t=t.trim())&&!H0t(t))s(U0t(t),n);else if(Ne.isObject(t)&&Ne.isIterable(t)){let a={},l,c;for(const u of t){if(!Ne.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Ne.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=z2(t),t){const r=Ne.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return V0t(i);if(Ne.isFunction(n))return n.call(this,i,r);if(Ne.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=z2(t),t){const r=Ne.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||L8(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=z2(s),s){const a=Ne.findKey(r,s);a&&(!n||L8(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ne.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||L8(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Ne.forEach(this,(i,o)=>{const s=Ne.findKey(r,o);if(s){n[s]=jI(i),delete n[o];return}const a=t?W0t(o):String(o).trim();a!==o&&delete n[o],n[a]=jI(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[ope]=this[ope]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=z2(s);r[a]||(q0t(i,s),r[a]=!0)}return Ne.isArray(t)?t.forEach(o):o(t),this}};Ml.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.reduceDescriptors(Ml.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ne.freezeMethods(Ml);function N8(e,t){const n=this||uM,r=t||n,i=Ml.from(r.headers);let o=r.data;return Ne.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function tTe(e){return!!(e&&e.__CANCEL__)}function R_(e,t,n){Hn.call(this,e??"canceled",Hn.ERR_CANCELED,t,n),this.name="CanceledError"}Ne.inherits(R_,Hn,{__CANCEL__:!0});function nTe(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Hn("Request failed with status code "+n.status,[Hn.ERR_BAD_REQUEST,Hn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function G0t(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Y0t(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function X0t(e,t){let n=0,r=1e3/t,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const D5=(e,t,n=3)=>{let r=0;const i=Y0t(50,250);return X0t(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},spe=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ape=e=>(...t)=>Ne.asap(()=>e(...t)),K0t=ca.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ca.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ca.origin),ca.navigator&&/(msie|trident)/i.test(ca.navigator.userAgent)):()=>!0,Z0t=ca.hasStandardBrowserEnv?{write(e,t,n,r,i,o,s){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];Ne.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),Ne.isString(r)&&a.push(`path=${r}`),Ne.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),Ne.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Q0t(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function J0t(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rTe(e,t,n){let r=!Q0t(t);return e&&(r||n==!1)?J0t(e,t):t}const lpe=e=>e instanceof Ml?{...e}:e;function sb(e,t){t=t||{};const n={};function r(c,u,d,f){return Ne.isPlainObject(c)&&Ne.isPlainObject(u)?Ne.merge.call({caseless:f},c,u):Ne.isPlainObject(u)?Ne.merge({},u):Ne.isArray(u)?u.slice():u}function i(c,u,d,f){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!Ne.isUndefined(u))return r(void 0,u)}function s(c,u){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(lpe(c),lpe(u),d,!0)};return Ne.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||i,f=d(e[u],t[u],u);Ne.isUndefined(f)&&d!==a||(n[u]=f)}),n}const iTe=e=>{const t=sb({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=Ml.from(s),t.url=QEe(rTe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Ne.isFormData(n)){if(ca.hasStandardBrowserEnv||ca.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(Ne.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&s.set(u,d)})}}if(ca.hasStandardBrowserEnv&&(r&&Ne.isFunction(r)&&(r=r(t)),r||r!==!1&&K0t(t.url))){const l=i&&o&&Z0t.read(o);l&&s.set(i,l)}return t},eyt=typeof XMLHttpRequest<"u",tyt=eyt&&function(e){return new Promise(function(n,r){const i=iTe(e);let o=i.data;const s=Ml.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,p,g;function y(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function x(){if(!v)return;const S=Ml.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:e,request:v};nTe(function(E){n(E),y()},function(E){r(E),y()},k),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(r(new Hn("Request aborted",Hn.ECONNABORTED,e,v)),v=null)},v.onerror=function(C){const k=C&&C.message?C.message:"Network Error",T=new Hn(k,Hn.ERR_NETWORK,e,v);T.event=C||null,r(T),v=null},v.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||JEe;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new Hn(C,k.clarifyTimeoutError?Hn.ETIMEDOUT:Hn.ECONNABORTED,e,v)),v=null},o===void 0&&s.setContentType(null),"setRequestHeader"in v&&Ne.forEach(s.toJSON(),function(C,k){v.setRequestHeader(k,C)}),Ne.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),c&&([f,g]=D5(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,p]=D5(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=S=>{v&&(r(!S||S.type?new R_(null,e,v):S),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=G0t(i.url);if(w&&ca.protocols.indexOf(w)===-1){r(new Hn("Unsupported protocol "+w+":",Hn.ERR_BAD_REQUEST,e));return}v.send(o||null)})},nyt=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Hn?u:new R_(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,o(new Hn(`timeout ${t} of ms exceeded`,Hn.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>Ne.asap(a),l}},ryt=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},iyt=async function*(e,t){for await(const n of oyt(e))yield*ryt(n,t)},oyt=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},cpe=(e,t,n,r)=>{const i=iyt(e,t);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},upe=64*1024,{isFunction:AD}=Ne,syt=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ne.global),{ReadableStream:dpe,TextEncoder:fpe}=Ne.global,ppe=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ayt=e=>{e=Ne.merge.call({skipUndefined:!0},syt,e);const{fetch:t,Request:n,Response:r}=e,i=t?AD(t):typeof fetch=="function",o=AD(n),s=AD(r);if(!i)return!1;const a=i&&AD(dpe),l=i&&(typeof fpe=="function"?(g=>y=>g.encode(y))(new fpe):async g=>new Uint8Array(await new n(g).arrayBuffer())),c=o&&a&&ppe(()=>{let g=!1;const y=new n(ca.origin,{body:new dpe,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),u=s&&a&&ppe(()=>Ne.isReadableStream(new r("").body)),d={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(y,v)=>{let x=y&&y[g];if(x)return x.call(y);throw new Hn(`Response type '${g}' is not supported`,Hn.ERR_NOT_SUPPORT,v)})});const f=async g=>{if(g==null)return 0;if(Ne.isBlob(g))return g.size;if(Ne.isSpecCompliantForm(g))return(await new n(ca.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Ne.isArrayBufferView(g)||Ne.isArrayBuffer(g))return g.byteLength;if(Ne.isURLSearchParams(g)&&(g=g+""),Ne.isString(g))return(await l(g)).byteLength},p=async(g,y)=>{const v=Ne.toFiniteNumber(g.getContentLength());return v??f(y)};return async g=>{let{url:y,method:v,data:x,signal:w,cancelToken:S,timeout:C,onDownloadProgress:k,onUploadProgress:T,responseType:E,headers:A,withCredentials:O="same-origin",fetchOptions:I}=iTe(g),j=t||fetch;E=E?(E+"").toLowerCase():"text";let P=nyt([w,S&&S.toAbortSignal()],C),$=null;const D=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let F;try{if(T&&c&&v!=="get"&&v!=="head"&&(F=await p(A,x))!==0){let z=new n(y,{method:"POST",body:x,duplex:"half"}),W;if(Ne.isFormData(x)&&(W=z.headers.get("content-type"))&&A.setContentType(W),z.body){const[X,Q]=spe(F,D5(ape(T)));x=cpe(z.body,upe,X,Q)}}Ne.isString(O)||(O=O?"include":"omit");const N=o&&"credentials"in n.prototype,V={...I,signal:P,method:v.toUpperCase(),headers:A.normalize().toJSON(),body:x,duplex:"half",credentials:N?O:void 0};$=o&&new n(y,V);let H=await(o?j($,I):j(y,V));const U=u&&(E==="stream"||E==="response");if(u&&(k||U&&D)){const z={};["status","statusText","headers"].forEach(ee=>{z[ee]=H[ee]});const W=Ne.toFiniteNumber(H.headers.get("content-length")),[X,Q]=k&&spe(W,D5(ape(k),!0))||[];H=new r(cpe(H.body,upe,X,()=>{Q&&Q(),D&&D()}),z)}E=E||"text";let G=await d[Ne.findKey(d,E)||"text"](H,g);return!U&&D&&D(),await new Promise((z,W)=>{nTe(z,W,{data:G,headers:Ml.from(H.headers),status:H.status,statusText:H.statusText,config:g,request:$})})}catch(N){throw D&&D(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Hn("Network Error",Hn.ERR_NETWORK,g,$),{cause:N.cause||N}):Hn.from(N,N&&N.code,g,$)}}},lyt=new Map,oTe=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,o=[r,i,n];let s=o.length,a=s,l,c,u=lyt;for(;a--;)l=o[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:ayt(t)),u=c;return c};oTe();const tK={http:k0t,xhr:tyt,fetch:{get:oTe}};Ne.forEach(tK,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const hpe=e=>`- ${e}`,cyt=e=>Ne.isFunction(e)||e===null||e===!1;function uyt(e,t){e=Ne.isArray(e)?e:[e];const{length:n}=e;let r,i;const o={};for(let s=0;s<n;s++){r=e[s];let a;if(i=r,!cyt(r)&&(i=tK[(a=String(r)).toLowerCase()],i===void 0))throw new Hn(`Unknown adapter '${a}'`);if(i&&(Ne.isFunction(i)||(i=i.get(t))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(hpe).join(`
`):" "+hpe(s[0]):"as no adapter specified";throw new Hn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const sTe={getAdapter:uyt,adapters:tK};function z8(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new R_(null,e)}function gpe(e){return z8(e),e.headers=Ml.from(e.headers),e.data=N8.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sTe.getAdapter(e.adapter||uM.adapter,e)(e).then(function(r){return z8(e),r.data=N8.call(e,e.transformResponse,r),r.headers=Ml.from(r.headers),r},function(r){return tTe(r)||(z8(e),r&&r.response&&(r.response.data=N8.call(e,e.transformResponse,r.response),r.response.headers=Ml.from(r.response.headers))),Promise.reject(r)})}const aTe="1.13.2",c4={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{c4[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const mpe={};c4.transitional=function(t,n,r){function i(o,s){return"[Axios v"+aTe+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new Hn(i(s," has been removed"+(n?" in "+n:"")),Hn.ERR_DEPRECATED);return n&&!mpe[s]&&(mpe[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};c4.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function dyt(e,t,n){if(typeof e!="object")throw new Hn("options must be an object",Hn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new Hn("option "+o+" must be "+l,Hn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Hn("Unknown option "+o,Hn.ERR_BAD_OPTION)}}const $I={assertOptions:dyt,validators:c4},cf=$I.validators;let Av=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ipe,response:new ipe}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=sb(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&$I.assertOptions(r,{silentJSONParsing:cf.transitional(cf.boolean),forcedJSONParsing:cf.transitional(cf.boolean),clarifyTimeoutError:cf.transitional(cf.boolean)},!1),i!=null&&(Ne.isFunction(i)?n.paramsSerializer={serialize:i}:$I.assertOptions(i,{encode:cf.function,serialize:cf.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$I.assertOptions(n,{baseUrl:cf.spelling("baseURL"),withXsrfToken:cf.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ne.merge(o.common,o[n.method]);o&&Ne.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Ml.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,f;if(!l){const g=[gpe.bind(this),void 0];for(g.unshift(...a),g.push(...c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let p=n;for(;d<f;){const g=a[d++],y=a[d++];try{p=g(p)}catch(v){y.call(this,v);break}}try{u=gpe.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=sb(this.defaults,t);const n=rTe(t.baseURL,t.url,t.allowAbsoluteUrls);return QEe(n,t.params,t.paramsSerializer)}};Ne.forEach(["delete","get","head","options"],function(t){Av.prototype[t]=function(n,r){return this.request(sb(r||{},{method:t,url:n,data:(r||{}).data}))}});Ne.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(sb(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Av.prototype[t]=n(),Av.prototype[t+"Form"]=n(!0)});let fyt=class lTe{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new R_(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new lTe(function(i){t=i}),cancel:t}}};function pyt(e){return function(n){return e.apply(null,n)}}function hyt(e){return Ne.isObject(e)&&e.isAxiosError===!0}const _H={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_H).forEach(([e,t])=>{_H[t]=e});function cTe(e){const t=new Av(e),n=zEe(Av.prototype.request,t);return Ne.extend(n,Av.prototype,t,{allOwnKeys:!0}),Ne.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return cTe(sb(e,i))},n}const vo=cTe(uM);vo.Axios=Av;vo.CanceledError=R_;vo.CancelToken=fyt;vo.isCancel=tTe;vo.VERSION=aTe;vo.toFormData=l4;vo.AxiosError=Hn;vo.Cancel=vo.CanceledError;vo.all=function(t){return Promise.all(t)};vo.spread=pyt;vo.isAxiosError=hyt;vo.mergeConfig=sb;vo.AxiosHeaders=Ml;vo.formToJSON=e=>eTe(Ne.isHTMLForm(e)?new FormData(e):e);vo.getAdapter=sTe.getAdapter;vo.HttpStatusCode=_H;vo.default=vo;const{Axios:FRn,AxiosError:LRn,CanceledError:NRn,isCancel:zRn,CancelToken:BRn,VERSION:URn,all:VRn,Cancel:HRn,isAxiosError:WRn,spread:qRn,toFormData:GRn,AxiosHeaders:YRn,HttpStatusCode:XRn,formToJSON:KRn,getAdapter:ZRn,mergeConfig:QRn}=vo,gyt=({onRequest:e,onSseError:t,onSseEvent:n,responseTransformer:r,responseValidator:i,sseDefaultRetryDelay:o,sseMaxRetryAttempts:s,sseMaxRetryDelay:a,sseSleepFn:l,url:c,...u})=>{let d;const f=l??(y=>new Promise(v=>setTimeout(v,y)));return{stream:async function*(){let y=o??3e3,v=0;const x=u.signal??new AbortController().signal;for(;!x.aborted;){v++;const w=u.headers instanceof Headers?u.headers:new Headers(u.headers);d!==void 0&&w.set("Last-Event-ID",d);try{const S={redirect:"follow",...u,body:u.serializedBody,headers:w,signal:x};let C=new Request(c,S);e&&(C=await e(c,S));const T=await(u.fetch??globalThis.fetch)(C);if(!T.ok)throw new Error(`SSE failed: ${T.status} ${T.statusText}`);if(!T.body)throw new Error("No body in SSE response");const E=T.body.pipeThrough(new TextDecoderStream).getReader();let A="";const O=()=>{try{E.cancel()}catch{}};x.addEventListener("abort",O);try{for(;;){const{done:I,value:j}=await E.read();if(I)break;A+=j,A=A.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const P=A.split(`

`);A=P.pop()??"";for(const $ of P){const D=$.split(`
`),F=[];let N;for(const U of D)if(U.startsWith("data:"))F.push(U.replace(/^data:\s*/,""));else if(U.startsWith("event:"))N=U.replace(/^event:\s*/,"");else if(U.startsWith("id:"))d=U.replace(/^id:\s*/,"");else if(U.startsWith("retry:")){const G=Number.parseInt(U.replace(/^retry:\s*/,""),10);Number.isNaN(G)||(y=G)}let V,H=!1;if(F.length){const U=F.join(`
`);try{V=JSON.parse(U),H=!0}catch{V=U}}H&&(i&&await i(V),r&&(V=await r(V))),n?.({data:V,event:N,id:d,retry:y}),F.length&&(yield V)}}}finally{x.removeEventListener("abort",O),E.releaseLock()}break}catch(S){if(t?.(S),s!==void 0&&v>=s)break;const C=Math.min(y*2**(v-1),a??3e4);await f(C)}}}()}},myt=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},yyt=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},vyt=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},uTe=({allowReserved:e,explode:t,name:n,style:r,value:i})=>{if(!t){const a=(e?i:i.map(l=>encodeURIComponent(l))).join(yyt(r));switch(r){case"label":return`.${a}`;case"matrix":return`;${n}=${a}`;case"simple":return a;default:return`${n}=${a}`}}const o=myt(r),s=i.map(a=>r==="label"||r==="simple"?e?a:encodeURIComponent(a):u4({allowReserved:e,name:n,value:a})).join(o);return r==="label"||r==="matrix"?o+s:s},u4=({allowReserved:e,name:t,value:n})=>{if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?n:encodeURIComponent(n)}`},dTe=({allowReserved:e,explode:t,name:n,style:r,value:i,valueOnly:o})=>{if(i instanceof Date)return o?i.toISOString():`${n}=${i.toISOString()}`;if(r!=="deepObject"&&!t){let l=[];Object.entries(i).forEach(([u,d])=>{l=[...l,u,e?d:encodeURIComponent(d)]});const c=l.join(",");switch(r){case"form":return`${n}=${c}`;case"label":return`.${c}`;case"matrix":return`;${n}=${c}`;default:return c}}const s=vyt(r),a=Object.entries(i).map(([l,c])=>u4({allowReserved:e,name:r==="deepObject"?`${n}[${l}]`:l,value:c})).join(s);return r==="label"||r==="matrix"?s+a:a},byt=/\{[^{}]+\}/g,xyt=({path:e,url:t})=>{let n=t;const r=t.match(byt);if(r)for(const i of r){let o=!1,s=i.substring(1,i.length-1),a="simple";s.endsWith("*")&&(o=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(s=s.substring(1),a="label"):s.startsWith(";")&&(s=s.substring(1),a="matrix");const l=e[s];if(l==null)continue;if(Array.isArray(l)){n=n.replace(i,uTe({explode:o,name:s,style:a,value:l}));continue}if(typeof l=="object"){n=n.replace(i,dTe({explode:o,name:s,style:a,value:l,valueOnly:!0}));continue}if(a==="matrix"){n=n.replace(i,`;${u4({name:s,value:l})}`);continue}const c=encodeURIComponent(a==="label"?`.${l}`:l);n=n.replace(i,c)}return n},wyt=({baseUrl:e,path:t,query:n,querySerializer:r,url:i})=>{const o=i.startsWith("/")?i:`/${i}`;let s=(e??"")+o;t&&(s=xyt({path:t,url:s}));let a=n?r(n):"";return a.startsWith("?")&&(a=a.substring(1)),a&&(s+=`?${a}`),s};function ype(e){const t=e.body!==void 0;if(t&&e.bodySerializer)return"serializedBody"in e?e.serializedBody!==void 0&&e.serializedBody!==""?e.serializedBody:null:e.body!==""?e.body:null;if(t)return e.body}const Syt=async(e,t)=>{const n=typeof t=="function"?await t(e):t;if(n)return e.scheme==="bearer"?`Bearer ${n}`:e.scheme==="basic"?`Basic ${btoa(n)}`:n},_yt=({parameters:e={},...t}={})=>r=>{const i=[];if(r&&typeof r=="object")for(const o in r){const s=r[o];if(s==null)continue;const a=e[o]||t;if(Array.isArray(s)){const l=uTe({allowReserved:a.allowReserved,explode:!0,name:o,style:"form",value:s,...a.array});l&&i.push(l)}else if(typeof s=="object"){const l=dTe({allowReserved:a.allowReserved,explode:!0,name:o,style:"deepObject",value:s,...a.object});l&&i.push(l)}else{const l=u4({allowReserved:a.allowReserved,name:o,value:s});l&&i.push(l)}}return i.join("&")},Cyt=(e,t)=>t?t in e.headers||e.query?.[t]?!0:"Cookie"in e.headers&&e.headers.Cookie&&typeof e.headers.Cookie=="string"?e.headers.Cookie.includes(`${t}=`):!1:!1,kyt=async({security:e,...t})=>{for(const n of e){if(Cyt(t,n.name))continue;const r=await Syt(n,t.auth);if(!r)continue;const i=n.name??"Authorization";switch(n.in){case"query":t.query||(t.query={}),t.query[i]=r;break;case"cookie":{const o=`${i}=${r}`;"Cookie"in t.headers&&t.headers.Cookie?t.headers.Cookie=`${t.headers.Cookie}; ${o}`:t.headers.Cookie=o;break}case"header":default:t.headers[i]=r;break}}},vpe=e=>{const t=e.axios?.defaults?.baseURL,n=e.baseURL&&typeof e.baseURL=="string"?e.baseURL:t;return wyt({baseUrl:n,path:e.path,query:e.paramsSerializer?void 0:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:_yt(e.querySerializer),url:e.url})},bpe=(e,t)=>{const n={...e,...t};return n.headers=CH(e.headers,t.headers),n},Eyt=["common","delete","get","head","patch","post","put"],CH=(...e)=>{const t={};for(const n of e){if(!n||typeof n!="object")continue;const r=Object.entries(n);for(const[i,o]of r)if(Eyt.includes(i)&&typeof o=="object")t[i]={...t[i],...o};else if(o===null)delete t[i];else if(Array.isArray(o))for(const s of o)t[i]=[...t[i]??[],s];else o!==void 0&&(t[i]=typeof o=="object"?JSON.stringify(o):o)}return t},fTe=(e={})=>({...e}),Tyt=(e={})=>{let t=bpe(fTe(),e),n;if(t.axios&&!("Axios"in t.axios))n=t.axios;else{const{auth:c,...u}=t;n=vo.create(u)}const r=()=>({...t}),i=c=>(t=bpe(t,c),n.defaults={...n.defaults,...t,headers:CH(n.defaults.headers,t.headers)},r()),o=async c=>{const u={...t,...c,axios:c.axios??t.axios??n,headers:CH(t.headers,c.headers)};u.security&&await kyt({...u,security:u.security}),u.requestValidator&&await u.requestValidator(u),u.body!==void 0&&u.bodySerializer&&(u.body=u.bodySerializer(u.body));const d=vpe(u);return{opts:u,url:d}},s=async c=>{const{opts:u,url:d}=await o(c);try{const f=u.axios,{auth:p,...g}=u,y=await f({...g,baseURL:"",data:ype(u),headers:u.headers,params:u.paramsSerializer?u.query:void 0,url:d});let{data:v}=y;return u.responseType==="json"&&(u.responseValidator&&await u.responseValidator(v),u.responseTransformer&&(v=await u.responseTransformer(v))),{...y,data:v??{}}}catch(f){const p=f;if(u.throwOnError)throw p;return p.error=p.response?.data??{},p}},a=c=>u=>s({...u,method:c}),l=c=>async u=>{const{opts:d,url:f}=await o(u);return gyt({...d,body:d.body,headers:d.headers,method:c,serializedBody:ype(d),signal:d.signal,url:f})};return{buildUrl:vpe,connect:a("CONNECT"),delete:a("DELETE"),get:a("GET"),getConfig:r,head:a("HEAD"),instance:n,options:a("OPTIONS"),patch:a("PATCH"),post:a("POST"),put:a("PUT"),request:s,setConfig:i,sse:{connect:l("CONNECT"),delete:l("DELETE"),get:l("GET"),head:l("HEAD"),options:l("OPTIONS"),patch:l("PATCH"),post:l("POST"),put:l("PUT"),trace:l("TRACE")},trace:a("TRACE")}},Jt=Tyt(fTe({baseURL:"http://localhost:5000"})),Ryt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/admin/user/{username}",...e}),Myt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/admin/user/{username}",...e,headers:{"Content-Type":"application/json",...e.headers}}),Ayt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/admin/users",...e}),Pyt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/auth/login",...e,headers:{"Content-Type":"application/json",...e.headers}}),Dyt=e=>(e.client??Jt).post({security:[{scheme:"bearer",type:"http"}],url:"/auth/reset-password",...e,headers:{"Content-Type":"application/json",...e.headers}}),Oyt=e=>(e.client??Jt).post({security:[{scheme:"bearer",type:"http"}],url:"/auth/signup",...e,headers:{"Content-Type":"application/json",...e.headers}}),Iyt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/blocks",...e}),jyt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/pipeline/{pipe_id}",...e}),$yt=e=>(e.client??Jt).patch({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/pipeline/{pipe_id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),Fyt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/pipeline/{pipe_id}/access-grant",...e,headers:{"Content-Type":"application/json",...e.headers}}),Lyt=e=>(e.client??Jt).delete({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/pipeline/{pipe_id}/access-grant/{grant_id}",...e}),Nyt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/pipeline/{pipe_id}/layout",...e}),zyt=e=>(e.client??Jt).patch({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/pipeline/{pipe_id}/layout",...e,headers:{"Content-Type":"application/json",...e.headers}}),Byt=e=>(e.client??Jt).delete({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/pipeline/{pipe_id}/tag",...e}),Uyt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/reports",...e}),Vyt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/reports",...e,headers:{"Content-Type":"application/json",...e.headers}}),Hyt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/reports/{id}",...e}),Wyt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/reports/{id}",...e}),qyt=e=>(e.client??Jt).patch({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/reports/{id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),Gyt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/reports/{id}/access-grant",...e,headers:{"Content-Type":"application/json",...e.headers}}),Yyt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/reports/{id}/blocks",...e,headers:{"Content-Type":"application/json",...e.headers}}),Xyt=e=>(e.client??Jt).delete({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/reports/{report_id}/access-grant/{grant_id}",...e}),Kyt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/reports/{report_id}/block/{block_id}",...e}),Zyt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/reports/{report_id}/text-block/{block_id}",...e}),Qyt=e=>(e.client??Jt).patch({security:[{scheme:"bearer",type:"http"}],url:"/reports/{report_id}/text-block/{block_id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),Jyt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/templates",...e,headers:{"Content-Type":"application/json",...e.headers}}),evt=e=>(e.client??Jt).patch({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/templates/{id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),tvt=e=>(e.client??Jt).post({...Nmt,responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/file/upload",...e,headers:{"Content-Type":null,...e.headers}}),nvt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/user/file/{file_uuid}",...e}),rvt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/file/{file_uuid}",...e}),ivt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/file/{file_uuid}",...e,headers:{"Content-Type":"application/json",...e.headers}}),ovt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/file/{file_uuid}/data",...e,headers:{"Content-Type":"application/json",...e.headers}}),svt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/user/file/{file_uuid}/tag",...e}),avt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/files",...e}),lvt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/pipe/{id}/open",...e,headers:{"Content-Type":"application/json",...e.headers}}),cvt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/pipes",...e}),uvt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/pipes/clone",...e,headers:{"Content-Type":"application/json",...e.headers}}),dvt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/pipes/new",...e,headers:{"Content-Type":"application/json",...e.headers}}),fvt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/profile",...e}),pvt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/tag/{tag_id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),hvt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/tags",...e}),gvt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/tags",...e,headers:{"Content-Type":"application/json",...e.headers}}),mvt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/tags/{tag_id}",...e}),yvt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/user/template/{template_id}",...e}),vvt=e=>(e?.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/templates",...e}),bvt=e=>(e.client??Jt).delete({security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}",...e}),xvt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/block/{block_id}",...e}),ig=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/block/{block_id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),wvt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/block/{block_id}/filter_orthogonal",...e}),Svt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/filter_config/{block_id}",...e}),_vt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/plot/{block_id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),Cvt=e=>(e.client??Jt).get({responseType:"blob",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/plot/{block_id}/preview",...e}),kvt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/run",...e,headers:{"Content-Type":"application/json",...e.headers}}),Evt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/validation",...e}),Tvt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/pipe/{pipe_id}/wide2long/{block_id}",...e}),Rvt=e=>(e.client??Jt).get({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/settings",...e}),Mvt=e=>(e.client??Jt).post({responseType:"json",security:[{scheme:"bearer",type:"http"}],url:"/user/{username}/settings",...e,headers:{"Content-Type":"application/json",...e.headers}}),Rs=(e,t,n,r)=>{const i={_id:e,baseURL:t?.baseURL||(t?.client??Jt).getConfig().baseURL};return t?.body&&(i.body=t.body),t?.headers&&(i.headers=t.headers),t?.path&&(i.path=t.path),t?.query&&(i.query=t.query),[i]},Avt=e=>({mutationFn:async n=>{const{data:r}=await Ryt({...e,...n,throwOnError:!0});return r}}),Pvt=e=>({mutationFn:async n=>{const{data:r}=await Myt({...e,...n,throwOnError:!0});return r}}),dM=e=>Rs("getUsers",e),Dvt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Ayt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:dM(e)}),Ovt=e=>({mutationFn:async n=>{const{data:r}=await Pyt({...e,...n,throwOnError:!0});return r}}),Ivt=e=>({mutationFn:async n=>{const{data:r}=await Dyt({...e,...n,throwOnError:!0});return r}}),jvt=e=>({mutationFn:async n=>{const{data:r}=await Oyt({...e,...n,throwOnError:!0});return r}}),$vt=e=>Rs("getBlockBlueprints",e),Fvt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Iyt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:$vt(e)}),bo=e=>Rs("getPipeById",e),Lvt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await jyt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:bo(e)}),Gb=e=>({mutationFn:async n=>{const{data:r}=await $yt({...e,...n,throwOnError:!0});return r}}),Nvt=e=>({mutationFn:async n=>{const{data:r}=await Fyt({...e,...n,throwOnError:!0});return r}}),zvt=e=>({mutationFn:async n=>{const{data:r}=await Lyt({...e,...n,throwOnError:!0});return r}}),fM=e=>Rs("getDashboardLayout",e),Bvt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Nyt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:fM(e)}),Uvt=e=>({mutationFn:async n=>{const{data:r}=await zyt({...e,...n,throwOnError:!0});return r}}),Vvt=e=>({mutationFn:async n=>{const{data:r}=await Byt({...e,...n,throwOnError:!0});return r}}),Yb=e=>Rs("getReports",e),Hvt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Uyt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:Yb(e)}),Wvt=e=>({mutationFn:async n=>{const{data:r}=await Vyt({...e,...n,throwOnError:!0});return r}}),qvt=e=>({mutationFn:async n=>{const{data:r}=await Hyt({...e,...n,throwOnError:!0});return r}}),up=e=>Rs("getReportById",e),Gvt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Wyt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:up(e)}),Yvt=e=>({mutationFn:async n=>{const{data:r}=await qyt({...e,...n,throwOnError:!0});return r}}),Xvt=e=>({mutationFn:async n=>{const{data:r}=await Gyt({...e,...n,throwOnError:!0});return r}}),Kvt=e=>({mutationFn:async n=>{const{data:r}=await Yyt({...e,...n,throwOnError:!0});return r}}),Zvt=e=>({mutationFn:async n=>{const{data:r}=await Xyt({...e,...n,throwOnError:!0});return r}}),Qvt=e=>({mutationFn:async n=>{const{data:r}=await Kyt({...e,...n,throwOnError:!0});return r}}),Jvt=e=>({mutationFn:async n=>{const{data:r}=await Zyt({...e,...n,throwOnError:!0});return r}}),ebt=e=>({mutationFn:async n=>{const{data:r}=await Qyt({...e,...n,throwOnError:!0});return r}}),tbt=e=>({mutationFn:async n=>{const{data:r}=await Jyt({...e,...n,throwOnError:!0});return r}}),nbt=e=>({mutationFn:async n=>{const{data:r}=await evt({...e,...n,throwOnError:!0});return r}}),rbt=e=>({mutationFn:async n=>{const{data:r}=await nvt({...e,...n,throwOnError:!0});return r}}),pTe=e=>Rs("getUserFile",e),ibt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await rvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:pTe(e)}),obt=e=>({mutationFn:async n=>{const{data:r}=await ivt({...e,...n,throwOnError:!0});return r}}),sbt=e=>({mutationFn:async n=>{const{data:r}=await svt({...e,...n,throwOnError:!0});return r}}),M_=e=>Rs("getUserFiles",e),hTe=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await avt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:M_(e)}),abt=e=>({mutationFn:async n=>{const{data:r}=await lvt({...e,...n,throwOnError:!0});return r}}),_a=e=>Rs("getUserPipes",e),lbt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await cvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:_a(e)}),cbt=e=>({mutationFn:async n=>{const{data:r}=await uvt({...e,...n,throwOnError:!0});return r}}),ubt=e=>({mutationFn:async n=>{const{data:r}=await dvt({...e,...n,throwOnError:!0});return r}}),dbt=e=>Rs("getUserProfile",e),fbt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await fvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:dbt(e)}),pbt=e=>({mutationFn:async n=>{const{data:r}=await pvt({...e,...n,throwOnError:!0});return r}}),d4=e=>Rs("getUserTags",e),hbt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await hvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:d4(e)}),gbt=e=>({mutationFn:async n=>{const{data:r}=await gvt({...e,...n,throwOnError:!0});return r}}),gTe=e=>Rs("getUserTag",e),mbt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await mvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:gTe(e)}),ybt=e=>({mutationFn:async n=>{const{data:r}=await yvt({...e,...n,throwOnError:!0});return r}}),Xb=e=>Rs("getUserTemplates",e),vbt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await vvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:Xb(e)}),bbt=e=>({mutationFn:async n=>{const{data:r}=await bvt({...e,...n,throwOnError:!0});return r}}),xbt=e=>Rs("getBlockByUsernameAndId",e),wbt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await xvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:xbt(e)}),Sbt=e=>({mutationFn:async n=>{const{data:r}=await ig({...e,...n,throwOnError:!0});return r}}),mTe=e=>Rs("getFilterOrthogonal",e),_bt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await wvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:mTe(e)}),O5=e=>Rs("getFilterConfigs",e),yTe=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Svt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:O5(e)}),Cbt=e=>({mutationFn:async n=>{const{data:r}=await Evt({...e,...n,throwOnError:!0});return r}}),kbt=e=>Rs("getWide2Long",e),Ebt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Tvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:kbt(e)}),kH=e=>Rs("getUserSettings",e),Tbt=e=>({queryFn:async({queryKey:t,signal:n})=>{const{data:r}=await Rvt({...e,...t[0],signal:n,throwOnError:!0});return r},queryKey:kH(e)}),Rbt=e=>({mutationFn:async n=>{const{data:r}=await Mvt({...e,...n,throwOnError:!0});return r}}),Mbt=(e,t,n,r)=>{if(!r?.blocks||!r?.connections){e.invalidateQueries({queryKey:["runPipe",t]});return}Abt(n,r).forEach(o=>{e.invalidateQueries({queryKey:["runPipe",t,o]}),e.invalidateQueries({queryKey:["block",t,o]})})},Abt=(e,t)=>{const n=new Set,r=new Set,i=o=>{if(n.has(o))return;n.add(o),r.add(o),t.connections.filter(a=>a.source_flow_id===o).forEach(a=>{i(a.target_flow_id)})};return i(e),Array.from(r)},A_=()=>({setToken:r=>{localStorage.setItem("access_token",r)},getAccessToken:()=>localStorage.getItem("access_token"),clearToken:()=>{localStorage.removeItem("access_token")}}),sn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,hr=globalThis,Pv="10.32.1";function Kb(){return f4(hr),hr}function f4(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Pv,t[Pv]=t[Pv]||{}}function P_(e,t,n=hr){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[Pv]=r[Pv]||{};return i[e]||(i[e]=t())}const Pbt=["debug","info","warn","error","log","assert","trace"],Dbt="Sentry Logger ",I5={};function Zb(e){if(!("console"in hr))return e();const t=hr.console,n={},r=Object.keys(I5);r.forEach(i=>{const o=I5[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function Obt(){rK().enabled=!0}function Ibt(){rK().enabled=!1}function vTe(){return rK().enabled}function jbt(...e){nK("log",...e)}function $bt(...e){nK("warn",...e)}function Fbt(...e){nK("error",...e)}function nK(e,...t){sn&&vTe()&&Zb(()=>{hr.console[e](`${Dbt}[${e}]:`,...t)})}function rK(){return sn?P_("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const wt={enable:Obt,disable:Ibt,isEnabled:vTe,log:jbt,warn:$bt,error:Fbt},bTe=50,ab="?",xpe=/\(error: (.*)\)/,wpe=/captureMessage|captureException/;function xTe(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let l=s[a];l.length>1024&&(l=l.slice(0,1024));const c=xpe.test(l)?l.replace(xpe,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){o.push(d);break}}if(o.length>=bTe+i)break}}return Nbt(o.slice(i))}}function Lbt(e){return Array.isArray(e)?xTe(...e):e}function Nbt(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(PD(t).function||"")&&t.pop(),t.reverse(),wpe.test(PD(t).function||"")&&(t.pop(),wpe.test(PD(t).function||"")&&t.pop()),t.slice(0,bTe).map(n=>({...n,filename:n.filename||PD(t).filename,function:n.function||ab}))}function PD(e){return e[e.length-1]||{}}const B8="<anonymous>";function Wh(e){try{return!e||typeof e!="function"?B8:e.name||B8}catch{return B8}}function Spe(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function wTe(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const FI={},_pe={};function D0(e,t){FI[e]=FI[e]||[],FI[e].push(t)}function O0(e,t){if(!_pe[e]){_pe[e]=!0;try{t()}catch(n){sn&&wt.error(`Error while instrumenting ${e}`,n)}}}function _u(e,t){const n=e&&FI[e];if(n)for(const r of n)try{r(t)}catch(i){sn&&wt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Wh(r)}
Error:`,i)}}let U8=null;function STe(e){const t="error";D0(t,e),O0(t,zbt)}function zbt(){U8=hr.onerror,hr.onerror=function(e,t,n,r,i){return _u("error",{column:r,error:i,line:n,msg:e,url:t}),U8?U8.apply(this,arguments):!1},hr.onerror.__SENTRY_INSTRUMENTED__=!0}let V8=null;function _Te(e){const t="unhandledrejection";D0(t,e),O0(t,Bbt)}function Bbt(){V8=hr.onunhandledrejection,hr.onunhandledrejection=function(e){return _u("unhandledrejection",e),V8?V8.apply(this,arguments):!0},hr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const CTe=Object.prototype.toString;function iK(e){switch(CTe.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return qh(e,Error)}}function D_(e,t){return CTe.call(e)===`[object ${t}]`}function kTe(e){return D_(e,"ErrorEvent")}function Cpe(e){return D_(e,"DOMError")}function Ubt(e){return D_(e,"DOMException")}function Ch(e){return D_(e,"String")}function oK(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function pS(e){return e===null||oK(e)||typeof e!="object"&&typeof e!="function"}function TT(e){return D_(e,"Object")}function p4(e){return typeof Event<"u"&&qh(e,Event)}function Vbt(e){return typeof Element<"u"&&qh(e,Element)}function Hbt(e){return D_(e,"RegExp")}function O_(e){return!!(e?.then&&typeof e.then=="function")}function Wbt(e){return TT(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function qh(e,t){try{return e instanceof t}catch{return!1}}function ETe(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function sK(e){return typeof Request<"u"&&qh(e,Request)}const aK=hr,qbt=80;function Ol(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||qbt;for(;n&&o++<r&&(c=Gbt(n,u),!(c==="html"||o>1&&s+i.length*l+c.length>=d));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Gbt(e,t){const n=e,r=[];if(!n?.tagName)return"";if(aK.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i?.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&Ch(s)){const a=s.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Qb(){try{return aK.document.location.href}catch{return""}}function TTe(e){if(!aK.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Sl(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&RTe(i,r);try{e[t]=i}catch{sn&&wt.log(`Failed to replace method "${t}" in object`,e)}}function Ac(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{sn&&wt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function RTe(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ac(e,"__sentry_original__",t)}catch{}}function lK(e){return e.__sentry_original__}function MTe(e){if(iK(e))return{message:e.message,name:e.name,stack:e.stack,...Epe(e)};if(p4(e)){const t={type:e.type,target:kpe(e.target),currentTarget:kpe(e.currentTarget),...Epe(e)};return typeof CustomEvent<"u"&&qh(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function kpe(e){try{return Vbt(e)?Ol(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Epe(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Ybt(e){const t=Object.keys(MTe(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function EH(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Tpe(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{ETe(i)?n.push(wTe(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function LI(e,t,n=!1){return Ch(e)?Hbt(t)?t.test(e):Ch(t)?n?e===t:e.includes(t):!1:!1}function kh(e,t=[],n=!1){return t.some(r=>LI(e,r,n))}function Xbt(){const e=hr;return e.crypto||e.msCrypto}let H8;function Kbt(){return Math.random()*16}function xc(e=Xbt()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return H8||(H8="10000000100040008000"+1e11),H8.replace(/[018]/g,t=>(t^(Kbt()&15)>>t/4).toString(16))}function ATe(e){return e.exception?.values?.[0]}function Xy(e){const{message:t,event_id:n}=e;if(t)return t;const r=ATe(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function TH(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function hS(e,t){const n=ATe(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const o={...i?.data,...t.data};n.mechanism.data=o}}function Rpe(e){if(Zbt(e))return!0;try{Ac(e,"__sentry_captured__",!0)}catch{}return!1}function Zbt(e){try{return e.__sentry_captured__}catch{}}const PTe=1e3;function Jb(){return Date.now()/PTe}function Qbt(){const{performance:e}=hr;if(!e?.now||!e.timeOrigin)return Jb;const t=e.timeOrigin;return()=>(t+e.now())/PTe}let Mpe;function ws(){return(Mpe??(Mpe=Qbt()))()}let W8;function Jbt(){const{performance:e}=hr;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing?.navigationStart,l=typeof s=="number"?Math.abs(s+n-r):t,c=l<t;return o||c?i<=l?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function Bl(){return W8||(W8=Jbt()),W8[0]}function ext(e){const t=ws(),n={sid:xc(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>nxt(n)};return e&&gS(n,e),n}function gS(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ws(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:xc()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function txt(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),gS(e,n)}function nxt(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function pM(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=pM(r[i],t[i],n-1));return r}function Gh(){return xc()}function Eh(){return xc().substring(16)}const RH="_sentrySpan";function mS(e,t){t?Ac(e,RH,t):delete e[RH]}function j5(e){return e[RH]}const rxt=100;let lb=class MH{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Gh(),sampleRand:Math.random()}}clone(){const t=new MH;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,mS(t,j5(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&gS(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof MH?n.getScopeData():TT(n)?t:void 0,{tags:i,attributes:o,extra:s,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,mS(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Gh(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:rxt;if(r<=0)return this;const i={timestamp:Jb(),...t,message:t.message?EH(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:j5(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=pM(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||xc();if(!this._client)return sn&&wt.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r?.event_id||xc();if(!this._client)return sn&&wt.warn("No client configured on scope - will not capture message!"),i;const o=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=n?.event_id||xc();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(sn&&wt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function ixt(){return P_("defaultCurrentScope",()=>new lb)}function oxt(){return P_("defaultIsolationScope",()=>new lb)}class sxt{constructor(t,n){let r;t?r=t:r=new lb;let i;n?i=n:i=new lb,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return O_(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function yS(){const e=Kb(),t=f4(e);return t.stack=t.stack||new sxt(ixt(),oxt())}function axt(e){return yS().withScope(e)}function lxt(e,t){const n=yS();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Ape(e){return yS().withScope(()=>e(yS().getIsolationScope()))}function cxt(){return{withIsolationScope:Ape,withScope:axt,withSetScope:lxt,withSetIsolationScope:(e,t)=>Ape(t),getCurrentScope:()=>yS().getScope(),getIsolationScope:()=>yS().getIsolationScope()}}function I_(e){const t=f4(e);return t.acs?t.acs:cxt()}function Dr(){const e=Kb();return I_(e).getCurrentScope()}function Bu(){const e=Kb();return I_(e).getIsolationScope()}function DTe(){return P_("globalScope",()=>new lb)}function h4(...e){const t=Kb(),n=I_(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Kn(){return Dr().getClient()}function uxt(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,o={trace_id:n,span_id:i||Eh()};return r&&(o.parent_span_id=r),o}const vd="sentry.source",cK="sentry.sample_rate",OTe="sentry.previous_trace_sample_rate",Yh="sentry.op",os="sentry.origin",RT="sentry.idle_span_finish_reason",hM="sentry.measurement_unit",gM="sentry.measurement_value",Ppe="sentry.custom_span_name",uK="sentry.profile_id",j_="sentry.exclusive_time",dxt="sentry.link.type",fxt=0,dK=1,Zo=2;function pxt(e){if(e<400&&e>=100)return{code:dK};if(e>=400&&e<500)switch(e){case 401:return{code:Zo,message:"unauthenticated"};case 403:return{code:Zo,message:"permission_denied"};case 404:return{code:Zo,message:"not_found"};case 409:return{code:Zo,message:"already_exists"};case 413:return{code:Zo,message:"failed_precondition"};case 429:return{code:Zo,message:"resource_exhausted"};case 499:return{code:Zo,message:"cancelled"};default:return{code:Zo,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Zo,message:"unimplemented"};case 503:return{code:Zo,message:"unavailable"};case 504:return{code:Zo,message:"deadline_exceeded"};default:return{code:Zo,message:"internal_error"}}return{code:Zo,message:"internal_error"}}function ITe(e,t){e.setAttribute("http.response.status_code",t);const n=pxt(t);n.message!=="unknown_error"&&e.setStatus(n)}const jTe="_sentryScope",$Te="_sentryIsolationScope";function hxt(e){try{const t=hr.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function gxt(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function mxt(e,t,n){e&&(Ac(e,$Te,hxt(n)),Ac(e,jTe,t))}function $5(e){const t=e;return{scope:t[jTe],isolationScope:gxt(t[$Te])}}const fK="sentry-",yxt=/^sentry-/,vxt=8192;function FTe(e){const t=xxt(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(yxt)){const s=i.slice(fK.length);r[s]=o}return r},{});if(Object.keys(n).length>0)return n}function bxt(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${fK}${r}`]=i),n),{});return wxt(t)}function xxt(e){if(!(!e||!Ch(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Dpe(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):Dpe(e)}function Dpe(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),i=t.slice(n+1);return[r,i].map(o=>{try{return decodeURIComponent(o.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function wxt(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=i===0?o:`${t},${o}`;return s.length>vxt?(sn&&wt.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}const Sxt=/^o(\d+)\./,_xt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Cxt(e){return e==="http"||e==="https"}function $_(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function kxt(e){const t=_xt.exec(e);if(!t){Zb(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",o="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return LTe({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function LTe(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ext(e){if(!sn)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(wt.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Cxt(r)?t&&isNaN(parseInt(t,10))?(wt.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(wt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(wt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Txt(e){return e.match(Sxt)?.[1]}function Rxt(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Txt(n)),r}function Mxt(e){const t=typeof e=="string"?kxt(e):LTe(e);if(!(!t||!Ext(t)))return t}function cb(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const NTe=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Axt(e){if(!e)return;const t=e.match(NTe);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Pxt(e,t){const n=Axt(e),r=FTe(t);if(!n?.traceId)return{traceId:Gh(),sampleRand:Math.random()};const i=Dxt(n,r);r&&(r.sample_rand=i.toString());const{traceId:o,parentSpanId:s,parentSampled:a}=n;return{traceId:o,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:i}}function zTe(e=Gh(),t=Eh(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function BTe(e=Gh(),t=Eh(),n){return`00-${e}-${t}-${n?"01":"00"}`}function Dxt(e,t){const n=cb(t?.sample_rand);if(n!==void 0)return n;const r=cb(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const UTe=0,pK=1;let Ope=!1;function Oxt(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a,links:l}=_r(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a,links:l}}function Ixt(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:_r(e).parent_span_id,o=$5(e).scope,s=r?o?.getPropagationContext().propagationSpanId||Eh():t;return{parent_span_id:i,span_id:s,trace_id:n}}function jxt(e){const{traceId:t,spanId:n}=e.spanContext(),r=I0(e);return zTe(t,n,r)}function $xt(e){const{traceId:t,spanId:n}=e.spanContext(),r=I0(e);return BTe(t,n,r)}function VTe(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:o})=>({span_id:t,trace_id:n,sampled:r===pK,attributes:o,...i}))}function Dv(e){return typeof e=="number"?Ipe(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ipe(e.getTime()):ws()}function Ipe(e){return e>9999999999?e/1e3:e}function _r(e){if(Lxt(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Fxt(e)){const{attributes:r,startTime:i,name:o,endTime:s,status:a,links:l}=e,c="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:o,parent_span_id:c,start_timestamp:Dv(i),timestamp:Dv(s)||void 0,status:HTe(a),op:r[Yh],origin:r[os],links:VTe(l)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Fxt(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Lxt(e){return typeof e.getSpanJSON=="function"}function I0(e){const{traceFlags:t}=e.spanContext();return t===pK}function HTe(e){if(!(!e||e.code===fxt))return e.code===dK?"ok":e.message||"internal_error"}const Ov="_sentryChildSpans",AH="_sentryRootSpan";function WTe(e,t){const n=e[AH]||e;Ac(t,AH,n),e[Ov]?e[Ov].add(t):Ac(e,Ov,new Set([t]))}function Nxt(e,t){e[Ov]&&e[Ov].delete(t)}function NI(e){const t=new Set;function n(r){if(!t.has(r)&&I0(r)){t.add(r);const i=r[Ov]?Array.from(r[Ov]):[];for(const o of i)n(o)}}return n(e),Array.from(t)}function ha(e){return e[AH]||e}function Ja(){const e=Kb(),t=I_(e);return t.getActiveSpan?t.getActiveSpan():j5(Dr())}function PH(){Ope||(Zb(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Ope=!0)}let jpe=!1;function zxt(){if(jpe)return;function e(){const t=Ja(),n=t&&ha(t);if(n){const r="internal_error";sn&&wt.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:Zo,message:r})}}e.tag="sentry_tracingErrorCallback",jpe=!0,STe(e),_Te(e)}function Md(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||Kn()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function $pe(e){wt.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function F5(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(Uxt(n)){if(LI(e.description,n))return sn&&$pe(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?LI(e.description,n.name):!0,i=n.op?e.op&&LI(e.op,n.op):!0;if(r&&i)return sn&&$pe(e),!0}return!1}function Bxt(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const i of e)i.parent_span_id===r&&(i.parent_span_id=n)}function Uxt(e){return typeof e=="string"||e instanceof RegExp}const hK="production",qTe="_frozenDsc";function zI(e,t){Ac(e,qTe,t)}function GTe(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||hK,release:n.release,public_key:r,trace_id:e,org_id:Rxt(t)};return t.emit("createDsc",i),i}function YTe(e,t){const n=t.getPropagationContext();return n.dsc||GTe(n.traceId,e)}function Xh(e){const t=Kn();if(!t)return{};const n=ha(e),r=_r(n),i=r.data,o=n.spanContext().traceState,s=o?.get("sentry.sample_rate")??i[cK]??i[OTe];function a(g){return(typeof s=="number"||typeof s=="string")&&(g.sample_rate=`${s}`),g}const l=n[qTe];if(l)return a(l);const c=o?.get("sentry.dsc"),u=c&&FTe(c);if(u)return a(u);const d=GTe(e.spanContext().traceId,t),f=i[vd],p=r.description;return f!=="url"&&p&&(d.transaction=p),Md()&&(d.sampled=String(I0(n)),d.sample_rand=o?.get("sentry.sample_rand")??$5(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}class i0{constructor(t={}){this._traceId=t.traceId||Gh(),this._spanId=t.spanId||Eh()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:UTe}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function sd(e,t=100,n=1/0){try{return DH("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function XTe(e,t=3,n=100*1024){const r=sd(e,t);return qxt(r)>n?XTe(e,t-1,n):r}function DH(e,t,n=1/0,r=1/0,i=Gxt()){const[o,s]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Vxt(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return DH("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const f=MTe(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=f[p];u[p]=DH(p,g,l-1,r,i),d++}return s(t),u}function Vxt(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(ETe(t))return wTe(t);if(Wbt(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Wh(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Hxt(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Hxt(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Wxt(e){return~-encodeURI(e).split(/%..|./).length}function qxt(e){return Wxt(JSON.stringify(e))}function Gxt(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function j0(e,t=[]){return[e,t]}function Yxt(e,t){const[n,r]=e;return[n,[...r,t]]}function Fpe(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function OH(e){const t=f4(hr);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Xxt(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[OH(r),o]:r.push(typeof o=="string"?OH(o):o)}for(const o of n){const[s,a]=o;if(i(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(sd(a))}i(l)}}return typeof r=="string"?r:Kxt(r)}function Kxt(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Zxt(e){return[{type:"span"},e]}function Qxt(e){const t=typeof e.data=="string"?OH(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Jxt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Lpe(e){return Jxt[e]}function gK(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function KTe(e,t,n,r){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:$_(r)},...i&&{trace:i}}}function e1t(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function t1t(e,t,n,r){const i=gK(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:$_(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return j0(o,[s])}function n1t(e,t,n,r){const i=gK(n),o=e.type&&e.type!=="replay_event"?e.type:"event";e1t(e,n?.sdk);const s=KTe(e,i,r,t);return delete e.sdkProcessingMetadata,j0(s,[[{type:o},e]])}function r1t(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=Xh(e[0]),i=t?.getDsn(),o=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&i&&{dsn:$_(i)}},{beforeSendSpan:a,ignoreSpans:l}=t?.getOptions()||{},c=l?.length?e.filter(p=>!F5(_r(p),l)):e,u=e.length-c.length;u&&t?.recordDroppedEvent("before_send","span",u);const d=a?p=>{const g=_r(p),y=a(g);return y||(PH(),g)}:_r,f=[];for(const p of c){const g=d(p);g&&f.push(Zxt(g))}return j0(s,f)}function i1t(e){if(!sn)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=_r(e),{spanId:i}=e.spanContext(),o=I0(e),s=ha(e),a=s===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=_r(s);c.push(`root ID: ${s.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}wt.log(`${l}
  ${c.join(`
  `)}`)}function o1t(e){if(!sn)return;const{description:t="< unknown name >",op:n="< unknown op >"}=_r(e),{spanId:r}=e.spanContext(),o=ha(e)===e,s=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;wt.log(s)}function s1t(e,t,n,r=Ja()){const i=r&&ha(r);i&&(sn&&wt.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[gM]:t,[hM]:n}))}function Npe(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[hM],o=r[gM];typeof i=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:i})}),t}const zpe=1e3;class g4{constructor(t={}){this._traceId=t.traceId||Gh(),this._spanId=t.spanId||Eh(),this._startTime=t.startTimestamp||ws(),this._links=t.links,this._attributes={},this.setAttributes({[os]:"manual",[Yh]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?pK:UTe}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Dv(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(vd,"custom"),this}end(t){this._endTime||(this._endTime=Dv(t),o1t(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Yh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:HTe(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[os],profile_id:this._attributes[uK],exclusive_time:this._attributes[j_],measurements:Npe(this._events),is_segment:this._isStandaloneSpan&&ha(this)===this||void 0,segment_id:this._isStandaloneSpan?ha(this).spanContext().spanId:void 0,links:VTe(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){sn&&wt.log("[Tracing] Adding an event to span:",t);const i=Bpe(n)?n:r||ws(),o=Bpe(n)?{}:n||{},s={name:t,time:Dv(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Kn();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===ha(this)))return;if(this._isStandaloneSpan){this._sampled?l1t(r1t([this],t)):(sn&&wt.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&($5(this).scope||Dr()).captureEvent(r)}_convertSpanToTransaction(){if(!Upe(_r(this)))return;this._name||(sn&&wt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=$5(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const o=NI(this).filter(u=>u!==this&&!a1t(u)).map(u=>_r(u)).filter(Upe),s=this._attributes[vd];delete this._attributes[Ppe],o.forEach(u=>{delete u.data[Ppe]});const a={contexts:{trace:Oxt(this)},spans:o.length>zpe?o.sort((u,d)=>u.start_timestamp-d.start_timestamp).slice(0,zpe):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Xh(this)},request:r,...s&&{transaction_info:{source:s}}},l=Npe(this._events);return l&&Object.keys(l).length&&(sn&&wt.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),a.measurements=l),a}}function Bpe(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Upe(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function a1t(e){return e instanceof g4&&e.isStandaloneSpan()}function l1t(e){const t=Kn();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function c1t(e,t,n=()=>{},r=()=>{}){let i;try{i=e()}catch(o){throw t(o),n(),o}return u1t(i,t,n,r)}function u1t(e,t,n,r){return O_(e)?e.then(i=>(n(),r(i),i),i=>{throw t(i),n(),i}):(n(),r(e),e)}function d1t(e,t,n){if(!Md(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const o=cb(i);if(o===void 0)return sn&&wt.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!o)return sn&&wt.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const s=n<o;return s||sn&&wt.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[s,o,r]}const ZTe="__SENTRY_SUPPRESS_TRACING__";function f1t(e,t){const n=yK();if(n.startSpan)return n.startSpan(e,t);const r=JTe(e),{forceTransaction:i,parentSpan:o,scope:s}=e,a=s?.clone();return h4(a,()=>h1t(o)(()=>{const c=Dr(),u=eRe(c,o),f=e.onlyIfParent&&!u?new i0:QTe({parentSpan:u,spanArguments:r,forceTransaction:i,scope:c});return mS(c,f),c1t(()=>t(f),()=>{const{status:p}=_r(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:Zo,message:"internal_error"})},()=>{f.end()})}))}function F_(e){const t=yK();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=JTe(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?s=>h4(e.scope,s):i!==void 0?s=>mK(i,s):s=>s())(()=>{const s=Dr(),a=eRe(s,i);return e.onlyIfParent&&!a?new i0:QTe({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}function mK(e,t){const n=yK();return n.withActiveSpan?n.withActiveSpan(e,t):h4(r=>(mS(r,e||void 0),t(r)))}function QTe({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Md()){const s=new i0;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Xh(s)};zI(s,a)}return s}const i=Bu();let o;if(e&&!n)o=p1t(e,r,t),WTe(e,o);else if(e){const s=Xh(e),{traceId:a,spanId:l}=e.spanContext(),c=I0(e);o=Vpe({traceId:a,parentSpanId:l,...t},r,c),zI(o,s)}else{const{traceId:s,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};o=Vpe({traceId:s,parentSpanId:l,...t},r,c),a&&zI(o,a)}return i1t(o),mxt(o,r,i),o}function JTe(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Dv(e.startTime),delete r.startTime,r}return n}function yK(){const e=Kb();return I_(e)}function Vpe(e,t,n){const r=Kn(),i=r?.getOptions()||{},{name:o=""}=e,s={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});const a=s.parentSampled??n,l=s.spanAttributes,c=t.getPropagationContext(),[u,d,f]=t.getScopeData().sdkProcessingMetadata[ZTe]?[!1]:d1t(i,{name:o,parentSampled:a,attributes:l,parentSampleRate:cb(c.dsc?.sample_rate)},c.sampleRand),p=new g4({...e,attributes:{[vd]:"custom",[cK]:d!==void 0&&f?d:void 0,...l},sampled:u});return!u&&r&&(sn&&wt.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function p1t(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[ZTe]?!1:I0(e),s=o?new g4({...n,parentSpanId:r,traceId:i,sampled:o}):new i0({traceId:i});WTe(e,s);const a=Kn();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function eRe(e,t){if(t)return t;if(t===null)return;const n=j5(e);if(!n)return;const r=Kn();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?ha(n):n}function h1t(e){return e!==void 0?t=>mK(e,t):t=>t()}const BI={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},g1t="heartbeatFailed",m1t="idleTimeout",y1t="finalTimeout",v1t="externalFinish";function tRe(e,t={}){const n=new Map;let r=!1,i,o=v1t,s=!t.disableAutoFinish;const a=[],{idleTimeout:l=BI.idleTimeout,finalTimeout:c=BI.finalTimeout,childSpanTimeout:u=BI.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:f=!0}=t,p=Kn();if(!p||!Md()){const E=new i0,A={sample_rate:"0",sampled:"false",...Xh(E)};return zI(E,A),E}const g=Dr(),y=Ja(),v=b1t(e);v.end=new Proxy(v.end,{apply(E,A,O){if(d&&d(v),A instanceof i0)return;const[I,...j]=O,P=I||ws(),$=Dv(P),D=NI(v).filter(G=>G!==v),F=_r(v);if(!D.length||!f)return T($),Reflect.apply(E,A,[$,...j]);const N=p.getOptions().ignoreSpans,V=D?.reduce((G,z)=>{const W=_r(z);return!W.timestamp||N&&F5(W,N)?G:G?Math.max(G,W.timestamp):W.timestamp},void 0),H=F.start_timestamp,U=Math.min(H?H+c/1e3:1/0,Math.max(H||-1/0,Math.min($,V||1/0)));return T(U),Reflect.apply(E,A,[U,...j])}});function x(){i&&(clearTimeout(i),i=void 0)}function w(E){x(),i=setTimeout(()=>{!r&&n.size===0&&s&&(o=m1t,v.end(E))},l)}function S(E){i=setTimeout(()=>{!r&&s&&(o=g1t,v.end(E))},u)}function C(E){x(),n.set(E,!0);const A=ws();S(A+u/1e3)}function k(E){if(n.has(E)&&n.delete(E),n.size===0){const A=ws();w(A+l/1e3)}}function T(E){r=!0,n.clear(),a.forEach(D=>D()),mS(g,y);const A=_r(v),{start_timestamp:O}=A;if(!O)return;A.data[RT]||v.setAttribute(RT,o);const j=A.status;(!j||j==="unknown")&&v.setStatus({code:dK}),wt.log(`[Tracing] Idle span "${A.op}" finished`);const P=NI(v).filter(D=>D!==v);let $=0;P.forEach(D=>{D.isRecording()&&(D.setStatus({code:Zo,message:"cancelled"}),D.end(E),sn&&wt.log("[Tracing] Cancelling span since span ended early",JSON.stringify(D,void 0,2)));const F=_r(D),{timestamp:N=0,start_timestamp:V=0}=F,H=V<=E,U=(c+l)/1e3,G=N-V<=U;if(sn){const z=JSON.stringify(D,void 0,2);H?G||wt.log("[Tracing] Discarding span since it finished after idle span final timeout",z):wt.log("[Tracing] Discarding span since it happened after idle span was finished",z)}(!G||!H)&&(Nxt(v,D),$++)}),$>0&&v.setAttribute("sentry.idle_span_discarded_spans",$)}return a.push(p.on("spanStart",E=>{if(r||E===v||_r(E).timestamp||E instanceof g4&&E.isStandaloneSpan())return;NI(v).includes(E)&&C(E.spanContext().spanId)})),a.push(p.on("spanEnd",E=>{r||k(E.spanContext().spanId)})),a.push(p.on("idleSpanEnableAutoFinish",E=>{E===v&&(s=!0,w(),n.size&&S())})),t.disableAutoFinish||w(),setTimeout(()=>{r||(v.setStatus({code:Zo,message:"deadline_exceeded"}),o=y1t,v.end())},c),v}function b1t(e){const t=F_(e);return mS(Dr(),t),sn&&wt.log("[Tracing] Started span is an idle span"),t}const q8=0,Hpe=1,Wpe=2;function m4(e){return new MT(t=>{t(e)})}function vK(e){return new MT((t,n)=>{n(e)})}class MT{constructor(t){this._state=q8,this._handlers=[],this._runExecutor(t)}then(t,n){return new MT((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(s){i(s)}},o=>{if(!n)i(o);else try{r(n(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new MT((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}_executeHandlers(){if(this._state===q8)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Hpe&&n[1](this._value),this._state===Wpe&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,s)=>{if(this._state===q8){if(O_(s)){s.then(r,i);return}this._state=o,this._value=s,this._executeHandlers()}},r=o=>{n(Hpe,o)},i=o=>{n(Wpe,o)};try{t(r,i)}catch(o){i(o)}}}function x1t(e,t,n,r=0){try{const i=IH(t,n,e,r);return O_(i)?i:m4(i)}catch(i){return vK(i)}}function IH(e,t,n,r){const i=n[r];if(!e||!i)return e;const o=i({...e},t);return sn&&o===null&&wt.log(`Event processor "${i.id||"?"}" dropped event`),O_(o)?o.then(s=>IH(s,t,n,r+1)):IH(o,t,n,r+1)}function w1t(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;S1t(e,t),r&&k1t(e,r),E1t(e,n),_1t(e,i),C1t(e,o)}function qpe(e,t){const{extra:n,tags:r,attributes:i,user:o,contexts:s,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:p,transactionName:g,span:y}=t;B2(e,"extra",n),B2(e,"tags",r),B2(e,"attributes",i),B2(e,"user",o),B2(e,"contexts",s),e.sdkProcessingMetadata=pM(e.sdkProcessingMetadata,l,2),a&&(e.level=a),g&&(e.transactionName=g),y&&(e.span=y),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...p}}function B2(e,t,n){e[t]=pM(e[t],n,1)}function S1t(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function _1t(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function C1t(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function k1t(e,t){e.contexts={trace:Ixt(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Xh(t),...e.sdkProcessingMetadata};const n=ha(t),r=_r(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function E1t(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let _y,Gpe,Ype,Gg;function T1t(e){const t=hr._sentryDebugIds,n=hr._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(Gg&&r.length===Gpe&&i.length===Ype)return Gg;Gpe=r.length,Ype=i.length,Gg={},_y||(_y={});const o=(s,a)=>{for(const l of s){const c=a[l],u=_y?.[l];if(u&&Gg&&c)Gg[u[0]]=c,_y&&(_y[l]=[u[0],c]);else if(c){const d=e(l);for(let f=d.length-1;f>=0;f--){const g=d[f]?.filename;if(g&&Gg&&_y){Gg[g]=c,_y[l]=[g,c];break}}}}};return t&&o(r,t),n&&o(i,n),Gg}function nRe(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||xc(),timestamp:t.timestamp||Jb()},c=n.integrations||e.integrations.map(v=>v.name);R1t(l,e),P1t(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&M1t(l,e.stackParser);const u=O1t(r,n.captureContext);n.mechanism&&hS(l,n.mechanism);const d=i?i.getEventProcessors():[],f=DTe().getScopeData();if(o){const v=o.getScopeData();qpe(f,v)}if(u){const v=u.getScopeData();qpe(f,v)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),w1t(l,f);const g=[...d,...f.eventProcessors];return x1t(g,l,n).then(v=>(v&&A1t(v),typeof s=="number"&&s>0?D1t(v,s,a):v))}function R1t(e,t){const{environment:n,release:r,dist:i,maxValueLength:o}=t;e.environment=e.environment||n||hK,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const s=e.request;s?.url&&o&&(s.url=EH(s.url,o)),o&&e.exception?.values?.forEach(a=>{a.value&&(a.value=EH(a.value,o))})}function M1t(e,t){const n=T1t(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.filename&&(i.debug_id=n[i.filename])})})}function A1t(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function P1t(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function D1t(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:sd(i.data,t,n)}}))},...e.user&&{user:sd(e.user,t,n)},...e.contexts&&{contexts:sd(e.contexts,t,n)},...e.extra&&{extra:sd(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=sd(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:sd(i.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=sd(e.contexts.flags,3,n)),r}function O1t(e,t){if(!t)return e;const n=e?e.clone():new lb;return n.update(t),n}function I1t(e){if(e)return j1t(e)?{captureContext:e}:F1t(e)?{captureContext:e}:e}function j1t(e){return e instanceof lb||typeof e=="function"}const $1t=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function F1t(e){return Object.keys(e).some(t=>$1t.includes(t))}function mM(e,t){return Dr().captureException(e,I1t(t))}function rRe(e,t){return Dr().captureEvent(e,t)}function iRe(e,t){Bu().setContext(e,t)}function L1t(e){Bu().setUser(e)}function N1t(){const e=Kn();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function z1t(e){Bu().addEventProcessor(e)}function Xpe(e){const t=Bu(),n=Dr(),{userAgent:r}=hr.navigator||{},i=ext({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return o?.status==="ok"&&gS(o,{status:"exited"}),oRe(),t.setSession(i),i}function oRe(){const e=Bu(),n=Dr().getSession()||e.getSession();n&&txt(n),sRe(),e.setSession()}function sRe(){const e=Bu(),t=Kn(),n=e.getSession();n&&t&&t.captureSession(n)}function Kpe(e=!1){if(e){oRe();return}sRe()}const B1t="7";function U1t(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function V1t(e){return`${U1t(e)}${e.projectId}/envelope/`}function H1t(e,t){const n={sentry_version:B1t};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function W1t(e,t,n){return t||`${V1t(e)}?${H1t(e,n)}`}const Zpe=[];function q1t(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function G1t(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return q1t(r)}function Y1t(e,t){const n={};return t.forEach(r=>{r&&aRe(e,r,n)}),n}function Qpe(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function aRe(e,t,n){if(n[t.name]){sn&&wt.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Zpe.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Zpe.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}sn&&wt.log(`Integration installed: ${t.name}`)}function Jpe(e){const t=Kn();if(!t){sn&&wt.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function X1t(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function K1t(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=$_(r)),j0(i,[X1t(e)])}function lRe(e,t){const n=t??Z1t(e)??[];if(n.length===0)return;const r=e.getOptions(),i=K1t(n,r._metadata,r.tunnel,e.getDsn());cRe().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function Z1t(e){return cRe().get(e)}function cRe(){return P_("clientToLogBufferMap",()=>new WeakMap)}function Q1t(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function J1t(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=$_(r)),j0(i,[Q1t(e)])}function uRe(e,t){const n=t??ewt(e)??[];if(n.length===0)return;const r=e.getOptions(),i=J1t(n,r._metadata,r.tunnel,e.getDsn());dRe().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(i)}function ewt(e){return dRe().get(e)}function dRe(){return P_("clientToMetricBufferMap",()=>new WeakMap)}const bK=Symbol.for("SentryBufferFullError");function xK(e=100){const t=new Set;function n(){return t.size<e}function r(s){t.delete(s)}function i(s){if(!n())return vK(bK);const a=s();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function o(s){if(!t.size)return m4(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!s)return a;const l=[a,new Promise(c=>setTimeout(()=>c(!1),s))];return Promise.race(l)}return{get $(){return Array.from(t)},add:i,drain:o}}const twt=60*1e3;function nwt(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?twt:r-t}function rwt(e,t){return e[t]||e.all||0}function fRe(e,t,n=Date.now()){return rwt(e,t)>n}function pRe(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),f=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+f;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+f):i[p]=r+f}else s?i.all=r+nwt(s,r):t===429&&(i.all=r+60*1e3);return i}const hRe=64;function iwt(e,t,n=xK(e.bufferSize||hRe)){let r={};const i=s=>n.drain(s);function o(s){const a=[];if(Fpe(s,(d,f)=>{const p=Lpe(f);fRe(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(d)}),a.length===0)return Promise.resolve({});const l=j0(s[0],a),c=d=>{Fpe(l,(f,p)=>{e.recordDroppedEvent(d,Lpe(p))})},u=()=>t({body:Xxt(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&sn&&wt.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=pRe(r,d),d),d=>{throw c("network_error"),sn&&wt.error("Encountered error running transport request:",d),d});return n.add(u).then(d=>d,d=>{if(d===bK)return sn&&wt.error("Skipped sending event because buffer is full."),c("queue_overflow"),Promise.resolve({});throw d})}return{send:o,flush:i}}function owt(e,t,n){const r=[{type:"client_report"},{timestamp:Jb(),discarded_events:e}];return j0(t?{dsn:t}:{},[r])}function gRe(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function swt(e){const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:o,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:s?.[uK],exclusive_time:s?.[j_],measurements:e.measurements,is_segment:!0}}function awt(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[uK]:e.profile_id},...e.exclusive_time&&{[j_]:e.exclusive_time}}}},measurements:e.measurements}}const ehe="Not capturing exception because it's already been captured.",the="Discarded session because of missing or non-string release",mRe=Symbol.for("SentryInternalError"),yRe=Symbol.for("SentryDoNotSendEventError"),lwt=5e3;function UI(e){return{message:e,[mRe]:!0}}function G8(e){return{message:e,[yRe]:!0}}function nhe(e){return!!e&&typeof e=="object"&&mRe in e}function rhe(e){return!!e&&typeof e=="object"&&yRe in e}function ihe(e,t,n,r,i){let o=0,s,a=!1;e.on(n,()=>{o=0,clearTimeout(s),a=!1}),e.on(t,l=>{o+=r(l),o>=8e5?i(e):a||(a=!0,s=setTimeout(()=>{i(e)},lwt))}),e.on("flush",()=>{i(e)})}class cwt{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=xK(t.transportOptions?.bufferSize??hRe),t.dsn?this._dsn=Mxt(t.dsn):sn&&wt.warn("No DSN provided, client will not send events."),this._dsn){const r=W1t(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&ihe(this,"afterCaptureLog","flushLogs",pwt,lRe),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&ihe(this,"afterCaptureMetric","flushMetrics",fwt,uRe)}captureException(t,n,r){const i=xc();if(Rpe(t))return sn&&wt.log(ehe),i;const o={event_id:i,...n};return this._process(()=>this.eventFromException(t,o).then(s=>this._captureEvent(s,o,r)).then(s=>s),"error"),o.event_id}captureMessage(t,n,r,i){const o={event_id:xc(),...r},s=oK(t)?t:String(t),a=pS(t),l=a?this.eventFromMessage(s,n,o):this.eventFromException(t,o);return this._process(()=>l.then(c=>this._captureEvent(c,o,i)),a?"unknown":"error"),o.event_id}captureEvent(t,n,r){const i=xc();if(n?.originalException&&Rpe(n.originalException))return sn&&wt.log(ehe),i;const o={event_id:i,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,l=s.capturedSpanIsolationScope,c=ohe(t.type);return this._process(()=>this._captureEvent(t,o,a||r,l),c),o.event_id}captureSession(t){this.sendSession(t),gS(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),i=await n.flush(t);return r&&i}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];aRe(this,t,this._integrations),n||Qpe(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=n1t(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Yxt(r,Qxt(i));this.sendEnvelope(r).then(i=>this.emit("afterSendEvent",t,i))}sendSession(t){const{release:n,environment:r=hK}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){sn&&wt.warn(the);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){sn&&wt.warn(the);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const i=t1t(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const i=`${t}:${n}`;sn&&wt.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,i=(...o)=>n(...o);return r.add(i),()=>{r.delete(i)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return sn&&wt.error("Error while sending envelope:",n),{}}return sn&&wt.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Y1t(this,t),Qpe(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const o=n.exception?.values;if(o){i=!0,r=!1;for(const l of o)if(l.mechanism?.handled===!1){r=!0;break}}const s=t.status==="ok";(s&&t.errors===0||s&&r)&&(gS(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i){const o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),nRe(o,t,n,r,this,i).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:uxt(r),...a.contexts};const l=YTe(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=Dr(),i=Bu()){return sn&&jH(t)&&wt.log(`Captured error event \`${gRe(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,i).then(o=>o.event_id,o=>{sn&&(rhe(o)?wt.log(o.message):nhe(o)?wt.warn(o.message):wt.warn(o))})}_processEvent(t,n,r,i){const o=this.getOptions(),{sampleRate:s}=o,a=vRe(t),l=jH(t),u=`before send for type \`${t.type||"error"}\``,d=typeof s>"u"?void 0:cb(s);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),vK(G8(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));const f=ohe(t.type);return this._prepareEvent(t,n,r,i).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),G8("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const y=dwt(this,o,p,n);return uwt(y,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw G8(`${u} returned \`null\`, will not send event.`)}const g=r.getSession()||i.getSession();if(l&&g&&this._updateSessionFromEvent(g,p),a){const v=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,x=p.spans?p.spans.length:0,w=v-x;w>0&&this.recordDroppedEvent("before_send","span",w)}const y=p.transaction_info;if(a&&y&&p.transaction!==t.transaction){const v="custom";p.transaction_info={...y,source:v}}return this.sendEvent(p,n),p}).then(null,p=>{throw rhe(p)||nhe(p)?p:(this.captureException(p,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:p}),UI(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===bK&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}_flushOutcomes(){sn&&wt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){sn&&wt.log("No outcomes to send");return}if(!this._dsn){sn&&wt.log("No dsn provided, will not send outcomes");return}sn&&wt.log("Sending outcomes:",t);const n=owt(t,this._options.tunnel&&$_(this._dsn));this.sendEnvelope(n)}}function ohe(e){return e==="replay_event"?"replay":e||"error"}function uwt(e,t){const n=`${t} must return \`null\` or a valid event.`;if(O_(e))return e.then(r=>{if(!TT(r)&&r!==null)throw UI(n);return r},r=>{throw UI(`${t} rejected with ${r}`)});if(!TT(e)&&e!==null)throw UI(n);return e}function dwt(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s,ignoreSpans:a}=t;let l=n;if(jH(l)&&i)return i(l,r);if(vRe(l)){if(s||a){const c=swt(l);if(a?.length&&F5(c,a))return null;if(s){const u=s(c);u?l=pM(n,awt(u)):PH()}if(l.spans){const u=[],d=l.spans;for(const p of d){if(a?.length&&F5(p,a)){Bxt(d,p);continue}if(s){const g=s(p);g?u.push(g):(PH(),u.push(p))}else u.push(p)}const f=l.spans.length-u.length;f&&e.recordDroppedEvent("before_send","span",f),l.spans=u}}if(o){if(l.spans){const c=l.spans.length;l.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return o(l,r)}}return l}function jH(e){return e.type===void 0}function vRe(e){return e.type==="transaction"}function fwt(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+bRe(e.attributes)}function pwt(e){let t=0;return e.message&&(t+=e.message.length*2),t+bRe(e.attributes)}function bRe(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*she(n[0]):pS(n)?t+=she(n):t+=100}),t}function she(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function hwt(e,t){t.debug===!0&&(sn?wt.enable():Zb(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Dr().update(t.initialScope);const r=new e(t);return gwt(r),r.init(),r}function gwt(e){Dr().setClient(e)}const mwt="thismessage:/";function wK(e){return"isRelative"in e}function SK(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?mwt:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function ywt(e){if(wK(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Iv(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function vwt(e){return e.split(/[?#]/,1)[0]}function bwt(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return wwt(e,n)||xwt(e,r)}function xwt(e,t){return t?ahe(e)===ahe(t):!1}function wwt(e,t){const n=SK(e);return!n||wK(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function ahe(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Swt(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function xRe(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Pv})),version:Pv}),e._metadata=i}function wRe(e={}){const t=e.client||Kn();if(!N1t()||!t)return{};const n=Kb(),r=I_(n);if(r.getTraceData)return r.getTraceData(e);const i=e.scope||Dr(),o=e.span||Ja(),s=o?jxt(o):_wt(i),a=o?Xh(o):YTe(t,i),l=bxt(a);if(!NTe.test(s))return wt.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const u={"sentry-trace":s,baggage:l};return e.propagateTraceparent&&(u.traceparent=o?$xt(o):Cwt(i)),u}function _wt(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return zTe(t,r,n)}function Cwt(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return BTe(t,r,n)}function kwt(e,t,n){let r,i,o;const s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function l(){return c(),r=e(),r}function c(){i!==void 0&&clearTimeout(i),o!==void 0&&clearTimeout(o),i=o=void 0}function u(){return i!==void 0||o!==void 0?l():r}function d(){return i&&clearTimeout(i),i=a(l,t),s&&o===void 0&&(o=a(l,s)),r}return d.cancel=c,d.flush=u,d}const Ewt=100;function o0(e,t){const n=Kn(),r=Bu();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Ewt}=n.getOptions();if(o<=0)return;const a={timestamp:Jb(),...e},l=i?Zb(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,o))}let lhe;const Twt="FunctionToString",che=new WeakMap,Rwt=(()=>({name:Twt,setupOnce(){lhe=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=lK(this),n=che.has(Kn())&&t!==void 0?t:this;return lhe.apply(n,e)}}catch{}},setup(e){che.set(e,!0)}})),Mwt=Rwt,Awt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Pwt="EventFilters",Dwt=(e={})=>{let t;return{name:Pwt,setup(n){const r=n.getOptions();t=uhe(e,r)},processEvent(n,r,i){if(!t){const o=i.getOptions();t=uhe(e,o)}return Iwt(n,t)?null:n}}},Owt=((e={})=>({...Dwt(e),name:"InboundFilters"}));function uhe(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Awt],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Iwt(e,t){if(e.type){if(e.type==="transaction"&&$wt(e,t.ignoreTransactions))return sn&&wt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Xy(e)}`),!0}else{if(jwt(e,t.ignoreErrors))return sn&&wt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Xy(e)}`),!0;if(zwt(e))return sn&&wt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Xy(e)}`),!0;if(Fwt(e,t.denyUrls))return sn&&wt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Xy(e)}.
Url: ${L5(e)}`),!0;if(!Lwt(e,t.allowUrls))return sn&&wt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Xy(e)}.
Url: ${L5(e)}`),!0}return!1}function jwt(e,t){return t?.length?gRe(e).some(n=>kh(n,t)):!1}function $wt(e,t){if(!t?.length)return!1;const n=e.transaction;return n?kh(n,t):!1}function Fwt(e,t){if(!t?.length)return!1;const n=L5(e);return n?kh(n,t):!1}function Lwt(e,t){if(!t?.length)return!0;const n=L5(e);return n?kh(n,t):!0}function Nwt(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function L5(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Nwt(n):null}catch{return sn&&wt.error(`Cannot extract url for event ${Xy(e)}`),null}}function zwt(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Bwt(e,t,n,r,i,o){if(!i.exception?.values||!o||!qh(o.originalException,Error))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;s&&(i.exception.values=$H(e,t,r,o.originalException,n,i.exception.values,s,0))}function $H(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(qh(r[i],Error)){dhe(s,a);const c=e(t,r[i]),u=l.length;fhe(c,i,u,a),l=$H(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(qh(c,Error)){dhe(s,a);const d=e(t,c),f=l.length;fhe(d,`errors[${u}]`,f,a),l=$H(e,t,n,c,i,[d,...l],d,f)}}),l}function dhe(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function fhe(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Uwt(e){const t="console";D0(t,e),O0(t,Vwt)}function Vwt(){"console"in hr&&Pbt.forEach(function(e){e in hr.console&&Sl(hr.console,e,function(t){return I5[e]=t,function(...n){_u("console",{args:n,level:e}),I5[e]?.apply(hr.console,n)}})})}function SRe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Hwt="Dedupe",Wwt=(()=>{let e;return{name:Hwt,processEvent(t){if(t.type)return t;try{if(Gwt(t,e))return sn&&wt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),qwt=Wwt;function Gwt(e,t){return t?!!(Ywt(e,t)||Xwt(e,t)):!1}function Ywt(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!CRe(e,t)||!_Re(e,t))}function Xwt(e,t){const n=phe(t),r=phe(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!CRe(e,t)||!_Re(e,t))}function _Re(e,t){let n=Spe(e),r=Spe(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function CRe(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function phe(e){return e.exception?.values?.[0]}function Kwt(e,t,n,r,i){if(!e.fetchData)return;const{method:o,url:s}=e.fetchData,a=Md()&&t(s);if(e.endTimestamp&&a){const p=e.fetchData.__span;if(!p)return;const g=r[p];g&&(Jwt(g,e),Zwt(g,e,i),delete r[p]);return}const{spanOrigin:l="auto.http.browser",propagateTraceparent:c=!1}=typeof i=="object"?i:{spanOrigin:i},u=!!Ja(),d=a&&u?F_(tSt(s,o,l)):new i0;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const p=e.args[0],g=e.args[1]||{},y=Qwt(p,g,Md()&&u?d:void 0,c);y&&(e.args[1]=g,g.headers=y)}const f=Kn();if(f){const p={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",d,p)}return d}function Zwt(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function Qwt(e,t,n,r){const i=wRe({span:n,propagateTraceparent:r}),o=i["sentry-trace"],s=i.baggage,a=i.traceparent;if(!o)return;const l=t.headers||(sK(e)?e.headers:void 0);if(l)if(eSt(l)){const c=new Headers(l);if(c.get("sentry-trace")||c.set("sentry-trace",o),r&&a&&!c.get("traceparent")&&c.set("traceparent",a),s){const u=c.get("baggage");u?DD(u)||c.set("baggage",`${u},${s}`):c.set("baggage",s)}return c}else if(Array.isArray(l)){const c=[...l];l.find(d=>d[0]==="sentry-trace")||c.push(["sentry-trace",o]),r&&a&&!l.find(d=>d[0]==="traceparent")&&c.push(["traceparent",a]);const u=l.find(d=>d[0]==="baggage"&&DD(d[1]));return s&&!u&&c.push(["baggage",s]),c}else{const c="sentry-trace"in l?l["sentry-trace"]:void 0,u="traceparent"in l?l.traceparent:void 0,d="baggage"in l?l.baggage:void 0,f=d?Array.isArray(d)?[...d]:[d]:[],p=d&&(Array.isArray(d)?d.find(y=>DD(y)):DD(d));s&&!p&&f.push(s);const g={...l,"sentry-trace":c??o,baggage:f.length>0?f.join(","):void 0};return r&&a&&!u&&(g.traceparent=a),g}else return{...i}}function Jwt(e,t){if(t.response){ITe(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Zo,message:"internal_error"});e.end()}function DD(e){return e.split(",").some(t=>t.trim().startsWith(fK))}function eSt(e){return typeof Headers<"u"&&qh(e,Headers)}function tSt(e,t,n){const r=SK(e);return{name:r?`${t} ${ywt(r)}`:t,attributes:nSt(e,r,t,n)}}function nSt(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[os]:r,[Yh]:"http.client"};return t&&(wK(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function rSt(e,t={},n=Dr()){const{message:r,name:i,email:o,url:s,source:a,associatedEventId:l,tags:c}=e,u={contexts:{feedback:{contact_email:o,name:i,message:r,url:s,source:a,associated_event_id:l}},type:"feedback",level:"info",tags:c},d=n?.getClient()||Kn();return d&&d.emit("beforeSendFeedback",u,t),n.captureEvent(u,t)}function kRe(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const AT=hr;function iSt(){return"history"in AT&&!!AT.history}function oSt(){if(!("fetch"in AT))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function FH(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function sSt(){if(typeof EdgeRuntime=="string")return!0;if(!oSt())return!1;if(FH(AT.fetch))return!0;let e=!1;const t=AT.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=FH(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){sn&&wt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function ERe(e,t){const n="fetch";D0(n,e),O0(n,()=>TRe(void 0,t))}function aSt(e){const t="fetch-body-resolved";D0(t,e),O0(t,()=>TRe(cSt))}function TRe(e,t=!1){t&&!sSt()||Sl(hr,"fetch",function(n){return function(...r){const i=new Error,{method:o,url:s}=uSt(r),a={args:r,fetchData:{method:o,url:s},startTimestamp:ws()*1e3,virtualError:i,headers:dSt(r)};return e||_u("fetch",{...a}),n.apply(hr,r).then(async l=>(e?e(l):_u("fetch",{...a,endTimestamp:ws()*1e3,response:l}),l),l=>{if(_u("fetch",{...a,endTimestamp:ws()*1e3,error:l}),iK(l)&&l.stack===void 0&&(l.stack=i.stack,Ac(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const c=new URL(a.fetchData.url);l.message=`${l.message} (${c.host})`}catch{}throw l})}})}async function lSt(e,t){if(e?.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(s),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(s)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function cSt(e){let t;try{t=e.clone()}catch{return}lSt(t,()=>{_u("fetch-body-resolved",{endTimestamp:ws()*1e3,response:e})})}function VI(e,t){return!!e&&typeof e=="object"&&!!e[t]}function hhe(e){return typeof e=="string"?e:e?VI(e,"url")?e.url:e.toString?e.toString():"":""}function uSt(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:hhe(n),method:VI(r,"method")?String(r.method).toUpperCase():sK(n)&&VI(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:hhe(t),method:VI(t,"method")?String(t.method).toUpperCase():"GET"}}function dSt(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(sK(t))return new Headers(t.headers)}catch{}}function fSt(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function pSt(){return"npm"}function hSt(){return!fSt()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function N5(){return typeof window<"u"&&(!hSt()||gSt())}function gSt(){return hr.process?.type==="renderer"}const hd=hr,hi=hd.document,Fk=hd.navigator,RRe="Report a Bug",mSt="Cancel",ySt="Send Bug Report",vSt="Confirm",bSt="Report a Bug",xSt="your.email@example.org",wSt="Email",SSt="What's the bug? What did you expect?",_St="Description",CSt="Your Name",kSt="Name",ESt="Thank you for your report!",TSt="(required)",RSt="Add a screenshot",MSt="Remove screenshot",ASt="Highlight",PSt="Hide",DSt="Remove",OSt="widget",ISt="api",jSt=5e3,$St=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=Kn();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&Dr().setTags(e.tags);const r=rSt({source:ISt,url:Qb(),...e},t);return new Promise((i,o)=>{const s=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(l,c)=>{if(l.event_id===r)return clearTimeout(s),a(),c?.statusCode&&c.statusCode>=200&&c.statusCode<300?i(r):c?.statusCode===403?o("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},HI=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function FSt(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Fk.userAgent)||/Macintosh/i.test(Fk.userAgent)&&Fk.maxTouchPoints&&Fk.maxTouchPoints>1||!isSecureContext)}function OD(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function LSt(e){const t=hi.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function lc(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const g1=20,NSt="http://www.w3.org/2000/svg";function zSt(){const e=a=>hd.document.createElementNS(NSt,a),t=lc(e("svg"),{width:`${g1}`,height:`${g1}`,viewBox:`0 0 ${g1} ${g1}`,fill:"var(--actor-color, var(--foreground))"}),n=lc(e("g"),{clipPath:"url(#clip0_57_80)"}),r=lc(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const i=e("defs"),o=lc(e("clipPath"),{id:"clip0_57_80"}),s=lc(e("rect"),{width:`${g1}`,height:`${g1}`,fill:"white"});return o.appendChild(s),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(s),t}function BSt({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const i=hi.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=t||e||RRe,i.appendChild(zSt()),e){const s=hi.createElement("span");s.appendChild(hi.createTextNode(e)),i.appendChild(s)}const o=LSt(r);return{el:i,appendToDom(){n.appendChild(o),n.appendChild(i)},removeFromDom(){i.remove(),o.remove()},show(){i.ariaHidden="false"},hide(){i.ariaHidden="true"}}}const MRe="rgba(88, 74, 192, 1)",USt={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:MRe,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},ghe={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:MRe,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function mhe(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function VSt({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const i=hi.createElement("style");return i.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${mhe(e==="dark"?{...ghe,...t}:{...USt,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${mhe({...ghe,...t})}
  }
}`:""}
}
`,r&&i.setAttribute("nonce",r),i}const HSt=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>(({id:i="sentry-feedback",autoInject:o=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:l=!1,showEmail:c=!0,showName:u=!0,enableScreenshot:d=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:g,scriptNonce:y,colorScheme:v="system",themeLight:x={},themeDark:w={},addScreenshotButtonLabel:S=RSt,cancelButtonLabel:C=mSt,confirmButtonLabel:k=vSt,emailLabel:T=wSt,emailPlaceholder:E=xSt,formTitle:A=bSt,isRequiredLabel:O=TSt,messageLabel:I=_St,messagePlaceholder:j=SSt,nameLabel:P=kSt,namePlaceholder:$=CSt,removeScreenshotButtonLabel:D=MSt,submitButtonLabel:F=ySt,successMessageText:N=ESt,triggerLabel:V=RRe,triggerAriaLabel:H="",highlightToolText:U=ASt,hideToolText:G=PSt,removeHighlightText:z=DSt,onFormOpen:W,onFormClose:X,onSubmitSuccess:Q,onSubmitError:ee,onFormSubmitted:ne}={})=>{const oe={id:i,autoInject:o,showBranding:s,isEmailRequired:a,isNameRequired:l,showEmail:c,showName:u,enableScreenshot:d,useSentryUser:f,tags:p,styleNonce:g,scriptNonce:y,colorScheme:v,themeDark:w,themeLight:x,triggerLabel:V,triggerAriaLabel:H,cancelButtonLabel:C,submitButtonLabel:F,confirmButtonLabel:k,formTitle:A,emailLabel:T,emailPlaceholder:E,messageLabel:I,messagePlaceholder:j,nameLabel:P,namePlaceholder:$,successMessageText:N,isRequiredLabel:O,addScreenshotButtonLabel:S,removeScreenshotButtonLabel:D,highlightToolText:U,hideToolText:G,removeHighlightText:z,onFormClose:X,onFormOpen:W,onSubmitError:ee,onSubmitSuccess:Q,onFormSubmitted:ne};let ce=null,re=[];const ge=q=>{if(!ce){const fe=hi.createElement("div");fe.id=String(q.id),hi.body.appendChild(fe),ce=fe.attachShadow({mode:"open"}),ce.appendChild(VSt(q))}return ce},he=async q=>{const fe=q.enableScreenshot&&FSt();let se,J;try{se=(t?t():await e("feedbackModalIntegration",y))(),Jpe(se)}catch{throw HI&&wt.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const ue=fe?n?n():await e("feedbackScreenshotIntegration",y):void 0;ue&&(J=ue(),Jpe(J))}catch{HI&&wt.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const Z=se.createDialog({options:{...q,onFormClose:()=>{Z?.close(),q.onFormClose?.()},onFormSubmitted:()=>{Z?.close(),q.onFormSubmitted?.()}},screenshotIntegration:J,sendFeedback:$St,shadow:ge(q)});return Z},ie=(q,fe={})=>{const se=OD(oe,fe),J=typeof q=="string"?hi.querySelector(q):typeof q.addEventListener=="function"?q:null;if(!J)throw HI&&wt.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Z=null;const ue=async()=>{Z||(Z=await he({...se,onFormSubmitted:()=>{Z?.removeFromDom(),se.onFormSubmitted?.()}})),Z.appendToDom(),Z.open()};J.addEventListener("click",ue);const de=()=>{re=re.filter(be=>be!==de),Z?.removeFromDom(),Z=null,J.removeEventListener("click",ue)};return re.push(de),de},xe=(q={})=>{const fe=OD(oe,q),se=ge(fe),J=BSt({triggerLabel:fe.triggerLabel,triggerAriaLabel:fe.triggerAriaLabel,shadow:se,styleNonce:g});return ie(J.el,{...fe,onFormOpen(){J.hide()},onFormClose(){J.show()},onFormSubmitted(){J.show()}}),J};return{name:"Feedback",setupOnce(){!N5()||!oe.autoInject||(hi.readyState==="loading"?hi.addEventListener("DOMContentLoaded",()=>xe().appendToDom()):xe().appendToDom())},attachTo:ie,createWidget(q={}){const fe=xe(OD(oe,q));return fe.appendToDom(),fe},async createForm(q={}){return he(OD(oe,q))},remove(){ce&&(ce.parentElement?.remove(),ce=null),re.forEach(q=>q()),re=[]}}});function ARe(){return Kn()?.getIntegrationByName("Feedback")}var y4,mi,PRe,Ky,yhe,DRe,LH,PT={},_K=[],WSt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,CK=Array.isArray;function bm(e,t){for(var n in t)e[n]=t[n];return e}function ORe(e){var t=e.parentNode;t&&t.removeChild(e)}function er(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?y4.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return WI(e,s,r,i,null)}function WI(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++PRe,__i:-1,__u:0};return i==null&&mi.vnode!=null&&mi.vnode(o),o}function yM(e){return e.children}function qI(e,t){this.props=e,this.context=t}function vS(e,t){if(t==null)return e.__?vS(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?vS(e):null}function qSt(e,t,n){var r,i=e.__v,o=i.__e,s=e.__P;if(s)return(r=bm({},i)).__v=i.__v+1,mi.vnode&&mi.vnode(r),kK(s,r,i,e.__n,s.ownerSVGElement!==void 0,32&i.__u?[o]:null,t,o??vS(i),!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&IRe(r),r}function IRe(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return IRe(e)}}function vhe(e){(!e.__d&&(e.__d=!0)&&Ky.push(e)&&!z5.__r++||yhe!==mi.debounceRendering)&&((yhe=mi.debounceRendering)||DRe)(z5)}function z5(){var e,t,n,r=[],i=[];for(Ky.sort(LH);e=Ky.shift();)e.__d&&(n=Ky.length,t=qSt(e,r,i)||t,n===0||Ky.length>n?(NH(r,t,i),i.length=r.length=0,t=void 0,Ky.sort(LH)):t&&mi.__c&&mi.__c(t,_K));t&&NH(r,t,i),z5.__r=0}function jRe(e,t,n,r,i,o,s,a,l,c,u){var d,f,p,g,y,v=r&&r.__k||_K,x=t.length;for(n.__d=l,GSt(n,t,v),l=n.__d,d=0;d<x;d++)(p=n.__k[d])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?PT:v[p.__i]||PT,p.__i=d,kK(e,p,f,i,o,s,a,l,c,u),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&EK(f.ref,null,p),u.push(p.ref,p.__c||g,p)),y==null&&g!=null&&(y=g),65536&p.__u||f.__k===p.__k?l=$Re(p,l,e):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:g&&(l=g.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=y}function GSt(e,t,n){var r,i,o,s,a,l=t.length,c=n.length,u=c,d=0;for(e.__k=[],r=0;r<l;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?WI(null,i,null,null,i):CK(i)?WI(yM,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?WI(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,a=YSt(i,n,s=r+d,u),i.__i=a,o=null,a!==-1&&(u--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==s&&(a===s+1?d++:a>s?u>l-s?d+=a-s:d--:d=a<s&&a==s-1?a-s:0,a!==r+d&&(i.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=vS(o)),zH(o,o,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)(o=n[r])!=null&&(131072&o.__u)==0&&(o.__e==e.__d&&(e.__d=vS(o)),zH(o,o))}function $Re(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=$Re(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function YSt(e,t,n,r){var i=e.key,o=e.type,s=n-1,a=n+1,l=t[n];if(l===null||l&&i==l.key&&o===l.type)return n;if(r>(l!=null&&(131072&l.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((l=t[s])&&(131072&l.__u)==0&&i==l.key&&o===l.type)return s;s--}if(a<t.length){if((l=t[a])&&(131072&l.__u)==0&&i==l.key&&o===l.type)return a;a++}}return-1}function bhe(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||WSt.test(t)?n:n+"px"}function ID(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||bhe(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||bhe(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?whe:xhe,o)):e.removeEventListener(t,o?whe:xhe,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function xhe(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(mi.event?mi.event(e):e)}}function whe(e){if(this.l)return this.l[e.type+!0](mi.event?mi.event(e):e)}function kK(e,t,n,r,i,o,s,a,l,c){var u,d,f,p,g,y,v,x,w,S,C,k,T,E,A,O=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=t.__e=n.__e]),(u=mi.__b)&&u(t);e:if(typeof O=="function")try{if(x=t.props,w=(u=O.contextType)&&r[u.__c],S=u?w?w.props.value:u.__:r,n.__c?v=(d=t.__c=n.__c).__=d.__E:("prototype"in O&&O.prototype.render?t.__c=d=new O(x,S):(t.__c=d=new qI(x,S),d.constructor=O,d.render=KSt),w&&w.sub(d),d.props=x,d.state||(d.state={}),d.context=S,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),O.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=bm({},d.__s)),bm(d.__s,O.getDerivedStateFromProps(x,d.__s))),p=d.props,g=d.state,d.__v=t,f)O.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(O.getDerivedStateFromProps==null&&x!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(x,S),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(x,d.__s,S)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=x,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(I){I&&(I.__=t)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(x,d.__s,S),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,g,y)})}if(d.context=S,d.props=x,d.__P=e,d.__e=!1,k=mi.__r,T=0,"prototype"in O&&O.prototype.render){for(d.state=d.__s,d.__d=!1,k&&k(t),u=d.render(d.props,d.state,d.context),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[]}else do d.__d=!1,k&&k(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++T<25);d.state=d.__s,d.getChildContext!=null&&(r=bm(bm({},r),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(y=d.getSnapshotBeforeUpdate(p,g)),jRe(e,CK(A=u!=null&&u.type===yM&&u.key==null?u.props.children:u)?A:[A],t,n,r,i,o,s,a,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),v&&(d.__E=d.__=null)}catch(I){t.__v=null,l||o!=null?(t.__e=a,t.__u|=l?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),mi.__e(I,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=XSt(n.__e,t,n,r,i,o,s,l,c);(u=mi.diffed)&&u(t)}function NH(e,t,n){for(var r=0;r<n.length;r++)EK(n[r],n[++r],n[++r]);mi.__c&&mi.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){mi.__e(o,i.__v)}})}function XSt(e,t,n,r,i,o,s,a,l){var c,u,d,f,p,g,y,v=n.props,x=t.props,w=t.type;if(w==="svg"&&(i=!0),o!=null){for(c=0;c<o.length;c++)if((p=o[c])&&"setAttribute"in p==!!w&&(w?p.localName===w:p.nodeType===3)){e=p,o[c]=null;break}}if(e==null){if(w===null)return document.createTextNode(x);e=i?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,x.is&&x),o=null,a=!1}if(w===null)v===x||a&&e.data===x||(e.data=x);else{if(o=o&&y4.call(e.childNodes),v=n.props||PT,!a&&o!=null)for(v={},c=0;c<e.attributes.length;c++)v[(p=e.attributes[c]).name]=p.value;for(c in v)p=v[c],c=="children"||(c=="dangerouslySetInnerHTML"?d=p:c==="key"||c in x||ID(e,c,null,p,i));for(c in x)p=x[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?g=p:c=="checked"?y=p:c==="key"||a&&typeof p!="function"||v[c]===p||ID(e,c,p,v[c],i);if(u)a||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),jRe(e,CK(f)?f:[f],t,n,r,i&&w!=="foreignObject",o,s,o?o[0]:n.__k&&vS(n,0),a,l),o!=null)for(c=o.length;c--;)o[c]!=null&&ORe(o[c]);a||(c="value",g!==void 0&&(g!==e[c]||w==="progress"&&!g||w==="option"&&g!==v[c])&&ID(e,c,g,v[c],!1),c="checked",y!==void 0&&y!==e[c]&&ID(e,c,y,v[c],!1))}return e}function EK(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){mi.__e(r,n)}}function zH(e,t,n){var r,i;if(mi.unmount&&mi.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||EK(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){mi.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&zH(r[i],t,n||typeof e.type!="function");n||e.__e==null||ORe(e.__e),e.__=e.__e=e.__d=void 0}function KSt(e,t,n){return this.constructor(e,n)}function ZSt(e,t,n){var r,i,o,s;mi.__&&mi.__(e,t),i=(r=!1)?null:t.__k,o=[],s=[],kK(t,e=t.__k=er(yM,null,[e]),i||PT,PT,t.ownerSVGElement!==void 0,i?null:t.firstChild?y4.call(t.childNodes):null,o,i?i.__e:t.firstChild,r,s),e.__d=void 0,NH(o,e,s)}y4=_K.slice,mi={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},PRe=0,qI.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bm({},this.state),typeof e=="function"&&(e=e(bm({},n),this.props)),e&&bm(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),vhe(this))},qI.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),vhe(this))},qI.prototype.render=yM,Ky=[],DRe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,LH=function(e,t){return e.__v.__b-t.__v.__b},z5.__r=0;var Kh,gi,Y8,She,bS=0,FRe=[],GI=[],Zi=mi,_he=Zi.__b,Che=Zi.__r,khe=Zi.diffed,Ehe=Zi.__c,The=Zi.unmount,Rhe=Zi.__;function ex(e,t){Zi.__h&&Zi.__h(gi,e,bS||t),bS=0;var n=gi.__H||(gi.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:GI}),n.__[e]}function dv(e){return bS=1,LRe(zRe,e)}function LRe(e,t,n){var r=ex(Kh++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):zRe(void 0,t),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=gi,!gi.u)){var i=function(a,l,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!o||o.call(this,a,l,c);var d=!1;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(d=!0)}}),!(!d&&r.__c.props===a)&&(!o||o.call(this,a,l,c))};gi.u=!0;var o=gi.shouldComponentUpdate,s=gi.componentWillUpdate;gi.componentWillUpdate=function(a,l,c){if(this.__e){var u=o;o=void 0,i(a,l,c),o=u}s&&s.call(this,a,l,c)},gi.shouldComponentUpdate=i}return r.__N||r.__}function QSt(e,t){var n=ex(Kh++,3);!Zi.__s&&TK(n.__H,t)&&(n.__=e,n.i=t,gi.__H.__h.push(n))}function NRe(e,t){var n=ex(Kh++,4);!Zi.__s&&TK(n.__H,t)&&(n.__=e,n.i=t,gi.__h.push(n))}function JSt(e){return bS=5,vM(function(){return{current:e}},[])}function e_t(e,t,n){bS=6,NRe(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function vM(e,t){var n=ex(Kh++,7);return TK(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Rw(e,t){return bS=8,vM(function(){return e},t)}function t_t(e){var t=gi.context[e.__c],n=ex(Kh++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(gi)),t.props.value):e.__}function n_t(e,t){Zi.useDebugValue&&Zi.useDebugValue(t?t(e):e)}function r_t(e){var t=ex(Kh++,10),n=dv();return t.__=e,gi.componentDidCatch||(gi.componentDidCatch=function(r,i){t.__&&t.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function i_t(){var e=ex(Kh++,11);if(!e.__){for(var t=gi.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function o_t(){for(var e;e=FRe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(YI),e.__H.__h.forEach(BH),e.__H.__h=[]}catch(t){e.__H.__h=[],Zi.__e(t,e.__v)}}Zi.__b=function(e){gi=null,_he&&_he(e)},Zi.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Rhe&&Rhe(e,t)},Zi.__r=function(e){Che&&Che(e),Kh=0;var t=(gi=e.__c).__H;t&&(Y8===gi?(t.__h=[],gi.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=GI,n.__N=n.i=void 0})):(t.__h.forEach(YI),t.__h.forEach(BH),t.__h=[],Kh=0)),Y8=gi},Zi.diffed=function(e){khe&&khe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(FRe.push(t)!==1&&She===Zi.requestAnimationFrame||((She=Zi.requestAnimationFrame)||s_t)(o_t)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==GI&&(n.__=n.__V),n.i=void 0,n.__V=GI})),Y8=gi=null},Zi.__c=function(e,t){t.some(function(n){try{n.__h.forEach(YI),n.__h=n.__h.filter(function(r){return!r.__||BH(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Zi.__e(r,n.__v)}}),Ehe&&Ehe(e,t)},Zi.unmount=function(e){The&&The(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{YI(r)}catch(i){t=i}}),n.__H=void 0,t&&Zi.__e(t,n.__v))};var Mhe=typeof requestAnimationFrame=="function";function s_t(e){var t,n=function(){clearTimeout(r),Mhe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Mhe&&(t=requestAnimationFrame(n))}function YI(e){var t=gi,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),gi=t}function BH(e){var t=gi;e.__c=e.__(),gi=t}function TK(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function zRe(e,t){return typeof t=="function"?t(e):t}const a_t=Object.defineProperty({__proto__:null,useCallback:Rw,useContext:t_t,useDebugValue:n_t,useEffect:QSt,useErrorBoundary:r_t,useId:i_t,useImperativeHandle:e_t,useLayoutEffect:NRe,useMemo:vM,useReducer:LRe,useRef:JSt,useState:dv},Symbol.toStringTag,{value:"Module"}),l_t="http://www.w3.org/2000/svg";function c_t(){const e=r=>hi.createElementNS(l_t,r),t=lc(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=lc(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function u_t({options:e}){const t=vM(()=>({__html:c_t().outerHTML}),[]);return er("h2",{class:"dialog__header"},er("span",{class:"dialog__title"},e.formTitle),e.showBranding?er("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function d_t(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function X8(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function f_t({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:i,onSubmitSuccess:o,onSubmitError:s,showEmail:a,showName:l,screenshotInput:c}){const{tags:u,addScreenshotButtonLabel:d,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:g,emailPlaceholder:y,isEmailRequired:v,isNameRequired:x,messageLabel:w,messagePlaceholder:S,nameLabel:C,namePlaceholder:k,submitButtonLabel:T,isRequiredLabel:E}=e,[A,O]=dv(!1),[I,j]=dv(null),[P,$]=dv(!1),D=c?.input,[F,N]=dv(null),V=Rw(G=>{N(G),$(!1)},[]),H=Rw(G=>{const z=d_t(G,{emailLabel:g,isEmailRequired:v,isNameRequired:x,messageLabel:w,nameLabel:C});return z.length>0?j(`Please enter in the following required fields: ${z.join(", ")}`):j(null),z.length===0},[g,v,x,w,C]),U=Rw(async G=>{O(!0);try{if(G.preventDefault(),!(G.target instanceof HTMLFormElement))return;const z=new FormData(G.target),W=await(c&&P?c.value():void 0),X={name:X8(z,"name"),email:X8(z,"email"),message:X8(z,"message"),attachments:W?[W]:void 0};if(!H(X))return;try{const Q=await i({name:X.name,email:X.email,message:X.message,source:OSt,tags:u},{attachments:X.attachments});o(X,Q)}catch(Q){HI&&wt.error(Q),j(Q),s(Q)}}finally{O(!1)}},[c&&P,o,s]);return er("form",{class:"form",onSubmit:U},D&&P?er(D,{onError:V}):null,er("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:A},er("div",{class:"form__top"},I?er("div",{class:"form__error-container"},I):null,l?er("label",{for:"name",class:"form__label"},er(K8,{label:C,isRequiredLabel:E,isRequired:x}),er("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:k,required:x,type:"text"})):er("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?er("label",{for:"email",class:"form__label"},er(K8,{label:g,isRequiredLabel:E,isRequired:v}),er("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:y,required:v,type:"email"})):er("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),er("label",{for:"message",class:"form__label"},er(K8,{label:w,isRequiredLabel:E,isRequired:!0}),er("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:S,required:!0,rows:5})),D?er("label",{for:"screenshot",class:"form__label"},er("button",{class:"btn btn--default",disabled:A,type:"button",onClick:()=>{N(null),$(G=>!G)}},P?f:d),F?er("div",{class:"form__error-container"},F.message):null):null),er("div",{class:"btn-group"},er("button",{class:"btn btn--primary",disabled:A,type:"submit"},T),er("button",{class:"btn btn--default",disabled:A,type:"button",onClick:r},p))))}function K8({label:e,isRequired:t,isRequiredLabel:n}){return er("span",{class:"form__label__text"},e,t&&er("span",{class:"form__label__text--required"},n))}const jD=16,Ahe=17,p_t="http://www.w3.org/2000/svg";function h_t(){const e=l=>hd.document.createElementNS(p_t,l),t=lc(e("svg"),{width:`${jD}`,height:`${Ahe}`,viewBox:`0 0 ${jD} ${Ahe}`,fill:"inherit"}),n=lc(e("g"),{clipPath:"url(#clip0_57_156)"}),r=lc(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=lc(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);const o=e("defs"),s=lc(e("clipPath"),{id:"clip0_57_156"}),a=lc(e("rect"),{width:`${jD}`,height:`${jD}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(a),t}function g_t({open:e,onFormSubmitted:t,...n}){const r=n.options,i=vM(()=>({__html:h_t().outerHTML}),[]),[o,s]=dv(null),a=Rw(()=>{o&&(clearTimeout(o),s(null)),t()},[o]),l=Rw((c,u)=>{n.onSubmitSuccess(c,u),s(setTimeout(()=>{t(),s(null)},jSt))},[t]);return er(yM,null,o?er("div",{class:"success__position",onClick:a},er("div",{class:"success__content"},r.successMessageText,er("span",{class:"success__icon",dangerouslySetInnerHTML:i}))):er("dialog",{class:"dialog",onClick:r.onFormClose,open:e},er("div",{class:"dialog__position"},er("div",{class:"dialog__content",onClick:c=>{c.stopPropagation()}},er(u_t,{options:r}),er(f_t,{...n,onSubmitSuccess:l})))))}const m_t=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,y_t=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,v_t=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,b_t=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,x_t=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function w_t(e){const t=hi.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${m_t}
${y_t}
${v_t}
${b_t}
${x_t}
`,e&&t.setAttribute("nonce",e),t}function S_t(){const e=Dr().getUser(),t=Bu().getUser(),n=DTe().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const __t=(()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const i=r,o=e.useSentryUser,s=S_t(),a=hi.createElement("div"),l=w_t(e.styleNonce);let c="";const u={get el(){return a},appendToDom(){!i.contains(l)&&!i.contains(a)&&(i.appendChild(l),i.appendChild(a))},removeFromDom(){a.remove(),l.remove(),hi.body.style.overflow=c},open(){f(!0),e.onFormOpen?.(),Kn()?.emit("openFeedbackWidget"),c=hi.body.style.overflow,hi.body.style.overflow="hidden"},close(){f(!1),hi.body.style.overflow=c}},d=t?.createInput({h:er,hooks:a_t,dialog:u,options:e}),f=p=>{ZSt(er(g_t,{options:e,screenshotInput:d,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:String(o&&s?.[o.name]||""),defaultEmail:String(o&&s?.[o.email]||""),onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(g,y)=>{f(!1),e.onSubmitSuccess?.(g,y)},onSubmitError:g=>{e.onSubmitError?.(g)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return u}}));function C_t({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function k_t(e){const t=hi.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function E_t({h:e}){return function({action:n,setAction:r,options:i}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},i.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},i.hideToolText)))}}function T_t({hooks:e}){function t(){const[n,r]=e.useState(hd.devicePixelRatio??1);return e.useEffect(()=>{const i=()=>{r(hd.devicePixelRatio)},o=matchMedia(`(resolution: ${hd.devicePixelRatio}dppx)`);return o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:i,onAfterScreenshot:o,onError:s}){const a=t();e.useEffect(()=>{(async()=>{r();const c=await Fk.mediaDevices.getDisplayMedia({video:{width:hd.innerWidth*a,height:hd.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),u=hi.createElement("video");await new Promise((d,f)=>{u.srcObject=c,u.onloadedmetadata=()=>{i(u,a),c.getTracks().forEach(p=>p.stop()),d()},u.play().catch(f)}),o()})().catch(s)},[])}}function R_t(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function tm(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function Z8(e,t){tm(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function Q8(e,t,n){tm(e,{alpha:!0},(r,i)=>{n.length&&(i.fillStyle="rgba(0, 0, 0, 0.25)",i.fillRect(0,0,r.width,r.height)),n.forEach(o=>{R_t(o,i,t)})})}function M_t({h:e,hooks:t,outputBuffer:n,dialog:r,options:i}){const o=T_t({hooks:t}),s=E_t({h:e}),a=C_t({h:e}),l={__html:k_t(i.styleNonce).innerText},c=r.el.style,u=({screenshot:d})=>{const[f,p]=t.useState("highlight"),[g,y]=t.useState([]),v=t.useRef(null),x=t.useRef(null),w=t.useRef(null),S=t.useRef(null),[C,k]=t.useState(1),T=t.useMemo(()=>{const P=hi.getElementById(i.id);if(!P)return"white";const $=getComputedStyle(P);return $.getPropertyValue("--button-primary-background")||$.getPropertyValue("--accent-background")},[i.id]);t.useLayoutEffect(()=>{const P=()=>{const $=v.current;$&&(tm(d.canvas,{alpha:!1},D=>{const F=Math.min($.clientWidth/D.width,$.clientHeight/D.height);k(F)}),($.clientHeight===0||$.clientWidth===0)&&setTimeout(P,0))};return P(),hd.addEventListener("resize",P),()=>{hd.removeEventListener("resize",P)}},[d]);const E=t.useCallback((P,$)=>{tm(P,{alpha:!0},(D,F)=>{F.scale($,$),D.width=d.canvas.width,D.height=d.canvas.height})},[d]);t.useEffect(()=>{E(x.current,d.dpi),Z8(x.current,d.canvas)},[d]),t.useEffect(()=>{E(w.current,d.dpi),tm(w.current,{alpha:!0},(P,$)=>{$.clearRect(0,0,P.width,P.height)}),Q8(w.current,T,g)},[g,T]),t.useEffect(()=>{E(n,d.dpi),Z8(n,d.canvas),tm(hi.createElement("canvas"),{alpha:!0},(P,$)=>{$.scale(d.dpi,d.dpi),P.width=d.canvas.width,P.height=d.canvas.height,Q8(P,T,g),Z8(n,P)})},[g,d,T]);const A=P=>{if(!f||!S.current)return;const $=S.current.getBoundingClientRect(),D={type:f,x:P.offsetX/C,y:P.offsetY/C},F=(H,U)=>{const G=(U.clientX-$.x)/C,z=(U.clientY-$.y)/C;return{type:H.type,x:Math.min(H.x,G),y:Math.min(H.y,z),w:Math.abs(G-H.x),h:Math.abs(z-H.y)}},N=H=>{tm(w.current,{alpha:!0},(U,G)=>{G.clearRect(0,0,U.width,U.height)}),Q8(w.current,T,[...g,F(D,H)])},V=H=>{const U=F(D,H);U.w*C>=1&&U.h*C>=1&&y(G=>[...G,U]),hi.removeEventListener("mousemove",N),hi.removeEventListener("mouseup",V)};hi.addEventListener("mousemove",N),hi.addEventListener("mouseup",V)},O=t.useCallback(P=>$=>{$.preventDefault(),$.stopPropagation(),y(D=>{const F=[...D];return F.splice(P,1),F})},[]),I={width:`${d.canvas.width*C}px`,height:`${d.canvas.height*C}px`},j=P=>{P.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:v},e("canvas",{ref:x,id:"background",style:I}),e("canvas",{ref:w,id:"foreground",style:I}),e("div",{ref:S,onMouseDown:A,style:I},g.map((P,$)=>e("div",{key:$,class:"editor__rect",style:{top:`${P.y*C}px`,left:`${P.x*C}px`,width:`${P.w*C}px`,height:`${P.h*C}px`}},e("button",{"aria-label":i.removeHighlightText,onClick:O($),onMouseDown:j,onMouseUp:j,type:"button"},e(a,null))))))),e(s,{options:i,action:f,setAction:p}))};return function({onError:f}){const[p,g]=t.useState();return o({onBeforeScreenshot:t.useCallback(()=>{c.display="none"},[]),onScreenshot:t.useCallback((y,v)=>{tm(hi.createElement("canvas"),{alpha:!1},(x,w)=>{w.scale(v,v),x.width=y.videoWidth,x.height=y.videoHeight,w.drawImage(y,0,0,x.width,x.height),g({canvas:x,dpi:v})}),n.width=y.videoWidth,n.height=y.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{c.display="block"},[]),onError:t.useCallback(y=>{c.display="block",f(y)},[])}),p?e(u,{screenshot:p}):e("div",null)}}const A_t=(()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const i=hi.createElement("canvas");return{input:M_t({h:e,hooks:t,outputBuffer:i,dialog:n,options:r}),value:async()=>{const o=await new Promise(s=>{i.toBlob(s,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}})),Cr=hr;let UH=0;function BRe(){return UH>0}function P_t(){UH++,setTimeout(()=>{UH--})}function xS(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(lK(e))return e}catch{return e}const r=function(...i){try{const o=i.map(s=>xS(s,t));return e.apply(this,o)}catch(o){throw P_t(),h4(s=>{s.addEventProcessor(a=>(t.mechanism&&(TH(a,void 0),hS(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),mM(o)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}RTe(r,e),Ac(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function RK(){const e=Qb(),{referrer:t}=Cr.document||{},{userAgent:n}=Cr.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}const D_t=HSt({getModalIntegration:()=>__t,getScreenshotIntegration:()=>A_t});function MK(e,t){const n=AK(e,t),r={type:F_t(t),value:L_t(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function O_t(e,t,n,r){const o=Kn()?.getOptions().normalizeDepth,s=V_t(t),a={__serialized__:XTe(t,o)};if(s)return{exception:{values:[MK(e,s)]},extra:a};const l={exception:{values:[{type:p4(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:B_t(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=AK(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function J8(e,t){return{exception:{values:[MK(e,t)]}}}function AK(e,t){const n=t.stacktrace||t.stack||"",r=j_t(t),i=$_t(t);try{return e(n,r,i)}catch{}return[]}const I_t=/Minified React error #\d+;/i;function j_t(e){return e&&I_t.test(e.message)?1:0}function $_t(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function URe(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function F_t(e){const t=e?.name;return!t&&URe(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function L_t(e){const t=e?.message;return URe(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function N_t(e,t,n,r){const i=n?.syntheticException||void 0,o=PK(e,t,i,r);return hS(o),o.level="error",n?.event_id&&(o.event_id=n.event_id),m4(o)}function z_t(e,t,n="info",r,i){const o=r?.syntheticException||void 0,s=VH(e,t,o,i);return s.level=n,r?.event_id&&(s.event_id=r.event_id),m4(s)}function PK(e,t,n,r,i){let o;if(kTe(t)&&t.error)return J8(e,t.error);if(Cpe(t)||Ubt(t)){const s=t;if("stack"in t)o=J8(e,t);else{const a=s.name||(Cpe(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=VH(e,l,n,r),TH(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return iK(t)?J8(e,t):TT(t)||p4(t)?(o=O_t(e,t,n,i),hS(o,{synthetic:!0}),o):(o=VH(e,t,n,r),TH(o,`${t}`),hS(o,{synthetic:!0}),o)}function VH(e,t,n,r){const i={};if(r&&n){const o=AK(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]}),hS(i,{synthetic:!0})}if(oK(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function B_t(e,{isUnhandledRejection:t}){const n=Ybt(e),r=t?"promise rejection":"exception";return kTe(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:p4(e)?`Event \`${U_t(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function U_t(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function V_t(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class H_t extends cwt{constructor(t){const n=W_t(t),r=Cr.SENTRY_SDK_SOURCE||pSt();xRe(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:o,enableLogs:s,_experiments:a,enableMetrics:l}=this._options,c=l??a?.enableMetrics??!0;Cr.document&&(o||s||c)&&Cr.document.addEventListener("visibilitychange",()=>{Cr.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),s&&lRe(this),c&&uRe(this))}),i&&this.on("beforeSendSession",Swt)}eventFromException(t,n){return N_t(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return z_t(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,i)}}function W_t(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Cr.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const ub=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nn=hr,q_t=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",bM=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i??0),(o||i===void 0)&&(i=t.value,t.delta=o,t.rating=q_t(t.value,n),e(t)))}},xM=(e=!0)=>{const t=Nn.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},L_=()=>xM()?.activationStart??0;function jv(e,t,n){Nn.document&&Nn.addEventListener(e,t,n)}function DK(e,t,n){Nn.document&&Nn.removeEventListener(e,t,n)}let Mw=-1;const VRe=new Set,G_t=()=>Nn.document?.visibilityState==="hidden"&&!Nn.document?.prerendering?0:1/0,XI=e=>{if(Y_t(e)&&Mw>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of VRe)t();isFinite(Mw)||(Mw=e.type==="visibilitychange"?e.timeStamp:0,DK("prerenderingchange",XI,!0))}},wM=()=>{if(Nn.document&&Mw<0){const e=L_();Mw=(Nn.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??G_t(),jv("visibilitychange",XI,!0),jv("pagehide",XI,!0),jv("prerenderingchange",XI,!0)}return{get firstHiddenTime(){return Mw},onHidden(e){VRe.add(e)}}};function Y_t(e){return e.type==="pagehide"||Nn.document?.visibilityState==="hidden"}const X_t=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,SM=(e,t=-1)=>{const n=xM();let r="navigate";return n&&(Nn.document?.prerendering||L_()>0?r="prerender":Nn.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:X_t(),navigationType:r}},e9=new WeakMap;function OK(e,t){return e9.get(e)||e9.set(e,new t),e9.get(e)}class B5{constructor(){B5.prototype.__init.call(this),B5.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const N_=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},IK=e=>{let t=!1;return()=>{t||(e(),t=!0)}},v4=e=>{Nn.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},K_t=[1800,3e3],Z_t=(e,t={})=>{v4(()=>{const n=wM(),r=SM("FCP");let i;const s=N_("paint",a=>{for(const l of a)l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-L_(),0),r.entries.push(l),i(!0)))});s&&(i=bM(e,r,K_t,t.reportAllChanges))})},Q_t=[.1,.25],J_t=(e,t={})=>{Z_t(IK(()=>{const n=SM("CLS",0);let r;const i=wM(),o=OK(t,B5),s=l=>{for(const c of l)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},a=N_("layout-shift",s);a&&(r=bM(e,n,Q_t,t.reportAllChanges),i.onHidden(()=>{s(a.takeRecords()),r(!0)}),Nn?.setTimeout?.(r))}))};let HRe=0,t9=1/0,$D=0;const eCt=e=>{e.forEach(t=>{t.interactionId&&(t9=Math.min(t9,t.interactionId),$D=Math.max($D,t.interactionId),HRe=$D?($D-t9)/7+1:0)})};let HH;const WRe=()=>HH?HRe:performance.interactionCount||0,tCt=()=>{"interactionCount"in performance||HH||(HH=N_("event",eCt,{type:"event",buffered:!0,durationThreshold:0}))},n9=10;let qRe=0;const nCt=()=>WRe()-qRe;class U5{constructor(){U5.prototype.__init.call(this),U5.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){qRe=WRe(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(nCt()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<n9||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,o)=>o._latency-i._latency),this._longestInteractionList.length>n9){const i=this._longestInteractionList.splice(n9);for(const o of i)this._longestInteractionMap.delete(o.id)}this._onAfterProcessingINPCandidate?.(r)}}}const GRe=e=>{const t=n=>{(n.type==="pagehide"||Nn.document?.visibilityState==="hidden")&&e(n)};jv("visibilitychange",t,!0),jv("pagehide",t,!0)},YRe=e=>{const t=Nn.requestIdleCallback||Nn.setTimeout;Nn.document?.visibilityState==="hidden"?e():(e=IK(e),jv("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),DK("visibilitychange",e,{capture:!0})}),GRe(e))},rCt=[200,500],iCt=40,oCt=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=wM();v4(()=>{tCt();const r=SM("INP");let i;const o=OK(t,U5),s=l=>{YRe(()=>{for(const u of l)o._processEntry(u);const c=o._estimateP98LongestInteraction();c&&c._latency!==r.value&&(r.value=c._latency,r.entries=c.entries,i())})},a=N_("event",s,{durationThreshold:t.durationThreshold??iCt});i=bM(e,r,rCt,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{s(a.takeRecords()),i(!0)}))})};class sCt{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const aCt=[2500,4e3],lCt=(e,t={})=>{v4(()=>{const n=wM(),r=SM("LCP");let i;const o=OK(t,sCt),s=l=>{t.reportAllChanges||(l=l.slice(-1));for(const c of l)o._processEntry(c),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-L_(),0),r.entries=[c],i())},a=N_("largest-contentful-paint",s);if(a){i=bM(e,r,aCt,t.reportAllChanges);const l=IK(()=>{s(a.takeRecords()),a.disconnect(),i(!0)}),c=u=>{u.isTrusted&&(YRe(l),DK(u.type,c,{capture:!0}))};for(const u of["keydown","click","visibilitychange"])jv(u,c,{capture:!0})}})},cCt=[800,1800],WH=e=>{Nn.document?.prerendering?v4(()=>WH(e)):Nn.document?.readyState!=="complete"?addEventListener("load",()=>WH(e),!0):setTimeout(e)},uCt=(e,t={})=>{const n=SM("TTFB"),r=bM(e,n,cCt,t.reportAllChanges);WH(()=>{const i=xM();i&&(n.value=Math.max(i.responseStart-L_(),0),n.entries=[i],r(!0))})},CE={},V5={};let XRe,KRe,ZRe,QRe;function jK(e,t=!1){return b4("cls",e,fCt,XRe,t)}function $K(e,t=!1){return b4("lcp",e,pCt,KRe,t)}function dCt(e){return b4("ttfb",e,hCt,ZRe)}function JRe(e){return b4("inp",e,gCt,QRe)}function db(e,t){return eMe(e,t),V5[e]||(mCt(e),V5[e]=!0),tMe(e,t)}function _M(e,t){const n=CE[e];if(n?.length)for(const r of n)try{r(t)}catch(i){ub&&wt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Wh(r)}
Error:`,i)}}function fCt(){return J_t(e=>{_M("cls",{metric:e}),XRe=e},{reportAllChanges:!0})}function pCt(){return lCt(e=>{_M("lcp",{metric:e}),KRe=e},{reportAllChanges:!0})}function hCt(){return uCt(e=>{_M("ttfb",{metric:e}),ZRe=e})}function gCt(){return oCt(e=>{_M("inp",{metric:e}),QRe=e})}function b4(e,t,n,r,i=!1){eMe(e,t);let o;return V5[e]||(o=n(),V5[e]=!0),r&&t({metric:r}),tMe(e,t,i?o:void 0)}function mCt(e){const t={};e==="event"&&(t.durationThreshold=0),N_(e,n=>{_M(e,{entries:n})},t)}function eMe(e,t){CE[e]=CE[e]||[],CE[e].push(t)}function tMe(e,t,n){return()=>{n&&n();const r=CE[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function yCt(e){return"duration"in e}function r9(e){return typeof e=="number"&&isFinite(e)}function s0(e,t,n,{...r}){const i=_r(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),mK(e,()=>{const o=F_({startTime:t,...r});return o&&o.end(n),o})}function FK(e){const t=Kn();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:o}=e,{release:s,environment:a,sendDefaultPii:l}=t.getOptions(),u=t.getIntegrationByName("Replay")?.getReplayId(),d=Dr(),f=d.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let g;try{g=d.getScopeData().contexts.profile.profile_id}catch{}const y={release:s,environment:a,user:p||void 0,profile_id:g||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":Nn.navigator?.userAgent,"client.address":l?"{{auto}}":void 0,...i};return F_({name:n,attributes:y,startTime:o,experimental:{standalone:!0}})}function CM(){return Nn.addEventListener&&Nn.performance}function ho(e){return e/1e3}function vCt(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function nMe(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function rMe(e,t){let n,r=!1;function i(a){!r&&n&&t(a,n),r=!0}GRe(()=>{i("pagehide")});const o=e.on("beforeStartNavigationSpan",(a,l)=>{l?.isRedirect||(i("navigation"),o(),s())}),s=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,s()})}function bCt(e){let t=0,n;if(!nMe("layout-shift"))return;const r=jK(({metric:i})=>{const o=i.entries[i.entries.length-1];o&&(t=i.value,n=o)},!0);rMe(e,(i,o)=>{xCt(t,n,o,i),r()})}function xCt(e,t,n,r){ub&&wt.log(`Sending CLS span (${e})`);const i=t?ho((Bl()||0)+t.startTime):ws(),o=Dr().getScopeData().transactionName,s=t?Ol(t.sources[0]?.node):"Layout shift",a={[os]:"auto.http.browser.cls",[Yh]:"ui.webvital.cls",[j_]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((c,u)=>{a[`cls.source.${u+1}`]=Ol(c.node)});const l=FK({name:s,transaction:o,attributes:a,startTime:i});l&&(l.addEvent("cls",{[hM]:"",[gM]:e}),l.end(i))}function wCt(e){let t=0,n;if(!nMe("largest-contentful-paint"))return;const r=$K(({metric:i})=>{const o=i.entries[i.entries.length-1];o&&(t=i.value,n=o)},!0);rMe(e,(i,o)=>{SCt(t,n,o,i),r()})}function SCt(e,t,n,r){ub&&wt.log(`Sending LCP span (${e})`);const i=ho((Bl()||0)+(t?.startTime||0)),o=Dr().getScopeData().transactionName,s=t?Ol(t.element):"Largest contentful paint",a={[os]:"auto.http.browser.lcp",[Yh]:"ui.webvital.lcp",[j_]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Ol(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const l=FK({name:s,transaction:o,attributes:a,startTime:i});l&&(l.addEvent("lcp",{[hM]:"millisecond",[gM]:e}),l.end(i))}function Xc(e){return e&&((Bl()||performance.timeOrigin)+e)/1e3}function iMe(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:r}=vCt(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return Bl()||CM()?.timeOrigin?_Ct({...t,"http.request.redirect_start":Xc(e.redirectStart),"http.request.redirect_end":Xc(e.redirectEnd),"http.request.worker_start":Xc(e.workerStart),"http.request.fetch_start":Xc(e.fetchStart),"http.request.domain_lookup_start":Xc(e.domainLookupStart),"http.request.domain_lookup_end":Xc(e.domainLookupEnd),"http.request.connect_start":Xc(e.connectStart),"http.request.secure_connection_start":Xc(e.secureConnectionStart),"http.request.connection_end":Xc(e.connectEnd),"http.request.request_start":Xc(e.requestStart),"http.request.response_start":Xc(e.responseStart),"http.request.response_end":Xc(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function _Ct(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const CCt=2147483647;let Phe=0,ad={},dl,H5;function kCt({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=CM();if(r&&Bl()){r.mark&&Nn.performance.mark("sentry-tracing-init");const i=t?wCt(n):ACt(),o=PCt(),s=e?bCt(n):MCt();return()=>{i?.(),o(),s?.()}}return()=>{}}function ECt(){db("longtask",({entries:e})=>{const t=Ja();if(!t)return;const{op:n,start_timestamp:r}=_r(t);for(const i of e){const o=ho(Bl()+i.startTime),s=ho(i.duration);n==="navigation"&&r&&o<r||s0(t,o,o+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[os]:"auto.ui.browser.metrics"}})}})}function TCt(){new PerformanceObserver(t=>{const n=Ja();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=ho(Bl()+r.startTime),{start_timestamp:o,op:s}=_r(n);if(s==="navigation"&&o&&i<o)continue;const a=ho(r.duration),l={[os]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:u,invokerType:d,sourceURL:f,sourceFunctionName:p,sourceCharPosition:g}=c;l["browser.script.invoker"]=u,l["browser.script.invoker_type"]=d,f&&(l["code.filepath"]=f),p&&(l["code.function"]=p),g!==-1&&(l["browser.script.source_char_position"]=g),s0(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function RCt(){db("event",({entries:e})=>{const t=Ja();if(t){for(const n of e)if(n.name==="click"){const r=ho(Bl()+n.startTime),i=ho(n.duration),o={name:Ol(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[os]:"auto.ui.browser.metrics"}},s=TTe(n.target);s&&(o.attributes["ui.component_name"]=s),s0(t,r,r+i,o)}}})}function MCt(){return jK(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ad.cls={value:e.value,unit:""},H5=t)},!0)}function ACt(){return $K(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ad.lcp={value:e.value,unit:"millisecond"},dl=t)},!0)}function PCt(){return dCt(({metric:e})=>{e.entries[e.entries.length-1]&&(ad.ttfb={value:e.value,unit:"millisecond"})})}function DCt(e,t){const n=CM(),r=Bl();if(!n?.getEntries||!r)return;const i=ho(r),o=n.getEntries(),{op:s,start_timestamp:a}=_r(e);o.slice(Phe).forEach(l=>{const c=ho(l.startTime),u=ho(Math.max(0,l.duration));if(!(s==="navigation"&&a&&i+c<a))switch(l.entryType){case"navigation":{$Ct(e,l,i);break}case"mark":case"paint":case"measure":{ICt(e,l,c,u,i,t.ignorePerformanceApiSpans);const d=wM(),f=l.startTime<d.firstHiddenTime;l.name==="first-paint"&&f&&(ad.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&f&&(ad.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{NCt(e,l,l.name,c,u,i,t.ignoreResourceSpans);break}}}),Phe=Math.max(o.length-1,0),zCt(e),s==="pageload"&&(VCt(ad),t.recordClsOnPageloadSpan||delete ad.cls,t.recordLcpOnPageloadSpan||delete ad.lcp,Object.entries(ad).forEach(([l,c])=>{s1t(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",L_()),BCt(e,t)),dl=void 0,H5=void 0,ad={}}function OCt(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function ICt(e,t,n,r,i,o){if(OCt(t)||["mark","measure"].includes(t.entryType)&&kh(t.name,o))return;const s=xM(!1),a=ho(s?s.requestStart:0),l=i+Math.max(n,a),c=i+n,u=c+r,d={[os]:"auto.resource.browser.metrics"};l!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=l),jCt(d,t),l<=u&&s0(e,l,u,{name:t.name,op:t.entryType,attributes:d})}function jCt(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,i]of Object.entries(n))if(i&&pS(i))e[`sentry.browser.measure.detail.${r}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(i)}catch{}return}if(pS(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function $Ct(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{FD(e,t,r,n)}),FD(e,t,"secureConnection",n,"TLS/SSL"),FD(e,t,"fetch",n,"cache"),FD(e,t,"domainLookup",n,"DNS"),LCt(e,t,n)}function FD(e,t,n,r,i=n){const o=FCt(n),s=t[o],a=t[`${n}Start`];!a||!s||s0(e,r+ho(a),r+ho(s),{op:`browser.${i}`,name:t.name,attributes:{[os]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function FCt(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function LCt(e,t,n){const r=n+ho(t.requestStart),i=n+ho(t.responseEnd),o=n+ho(t.responseStart);t.responseEnd&&(s0(e,r,i,{op:"browser.request",name:t.name,attributes:{[os]:"auto.ui.browser.metrics"}}),s0(e,o,i,{op:"browser.response",name:t.name,attributes:{[os]:"auto.ui.browser.metrics"}}))}function NCt(e,t,n,r,i,o,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;const l={[os]:"auto.resource.browser.metrics"},c=Iv(n);c.protocol&&(l["url.scheme"]=c.protocol.split(":").pop()),c.host&&(l["server.address"]=c.host),l["url.same_origin"]=n.includes(Nn.location.origin),UCt(t,l,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const u={...l,...iMe(t)},d=o+r,f=d+i;s0(e,d,f,{name:n.replace(Nn.location.origin,""),op:a,attributes:u})}function zCt(e){const t=Nn.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),r9(n.rtt)&&(ad["connection.rtt"]={value:n.rtt,unit:"millisecond"})),r9(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),r9(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function BCt(e,t){dl&&t.recordLcpOnPageloadSpan&&(dl.element&&e.setAttribute("lcp.element",Ol(dl.element)),dl.id&&e.setAttribute("lcp.id",dl.id),dl.url&&e.setAttribute("lcp.url",dl.url.trim().slice(0,200)),dl.loadTime!=null&&e.setAttribute("lcp.loadTime",dl.loadTime),dl.renderTime!=null&&e.setAttribute("lcp.renderTime",dl.renderTime),e.setAttribute("lcp.size",dl.size)),H5?.sources&&t.recordClsOnPageloadSpan&&H5.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ol(n.node)))}function UCt(e,t,n){n.forEach(([r,i])=>{const o=e[r];o!=null&&(typeof o=="number"&&o<CCt||typeof o=="string")&&(t[i]=o)})}function VCt(e){const t=xM(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function HCt(){return CM()&&Bl()?db("element",WCt):()=>{}}const WCt=({entries:e})=>{const t=Ja(),n=t?ha(t):void 0,r=n?_r(n).description:Dr().getScopeData().transactionName;e.forEach(i=>{const o=i;if(!o.identifier)return;const s=o.name,a=o.renderTime,l=o.loadTime,[c,u]=l?[ho(l),"load-time"]:a?[ho(a),"render-time"]:[ws(),"entry-emission"],d=s==="image-paint"?ho(Math.max(0,(a??0)-(l??0))):0,f={[os]:"auto.ui.browser.elementtiming",[Yh]:"ui.elementtiming",[vd]:"component","sentry.span_start_time_source":u,"sentry.transaction_name":r,"element.id":o.id,"element.type":o.element?.tagName?.toLowerCase()||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":l,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":s};f1t({name:`element[${o.identifier}]`,attributes:f,startTime:c,onlyIfParent:!0},p=>{p.end(c+d)})})},qCt=1e3;let Dhe,qH,GH;function oMe(e){D0("dom",e),O0("dom",GCt)}function GCt(){if(!Nn.document)return;const e=_u.bind(null,"dom"),t=Ohe(e,!0);Nn.document.addEventListener("click",t,!1),Nn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=Nn[n]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(Sl(i,"addEventListener",function(o){return function(s,a,l){if(s==="click"||s=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=Ohe(e);u.handler=d,o.call(this,s,d,l)}u.refCount++}catch{}return o.call(this,s,a,l)}}),Sl(i,"removeEventListener",function(o){return function(s,a,l){if(s==="click"||s=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(o.call(this,s,u.handler,l),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,s,a,l)}}))})}function YCt(e){if(e.type!==qH)return!1;try{if(!e.target||e.target._sentryId!==GH)return!1}catch{}return!0}function XCt(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Ohe(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=KCt(n);if(XCt(n.type,r))return;Ac(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ac(r,"_sentryId",xc());const i=n.type==="keypress"?"input":n.type;YCt(n)||(e({event:n,name:i,global:t}),qH=n.type,GH=r?r._sentryId:void 0),clearTimeout(Dhe),Dhe=Nn.setTimeout(()=>{GH=void 0,qH=void 0},qCt)}}function KCt(e){try{return e.target}catch{return null}}let LD;function x4(e){const t="history";D0(t,e),O0(t,ZCt)}function ZCt(){if(Nn.addEventListener("popstate",()=>{const t=Nn.location.href,n=LD;if(LD=t,n===t)return;_u("history",{from:n,to:t})}),!iSt())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=LD,o=QCt(String(r));if(LD=o,i===o)return t.apply(this,n);_u("history",{from:i,to:o})}return t.apply(this,n)}}Sl(Nn.history,"pushState",e),Sl(Nn.history,"replaceState",e)}function QCt(e){try{return new URL(e,Nn.location.origin).toString()}catch{return e}}const KI={};function sMe(e){const t=KI[e];if(t)return t;let n=Nn[e];if(FH(n))return KI[e]=n.bind(Nn);const r=Nn.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const o=i.contentWindow;o?.[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){ub&&wt.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(KI[e]=n.bind(Nn))}function JCt(e){KI[e]=void 0}function kM(...e){return sMe("setTimeout")(...e)}const fv="__sentry_xhr_v3__";function aMe(e){D0("xhr",e),O0("xhr",e2t)}function e2t(){if(!Nn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,o=ws()*1e3,s=Ch(r[0])?r[0].toUpperCase():void 0,a=t2t(r[1]);if(!s||!a)return t.apply(n,r);n[fv]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[fv];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const u={endTimestamp:ws()*1e3,startTimestamp:o,xhr:n,virtualError:i};_u("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,u,d){return l(),c.apply(u,d)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,u,d){const[f,p]=d,g=u[fv];return g&&Ch(f)&&Ch(p)&&(g.request_headers[f.toLowerCase()]=p),c.apply(u,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[fv];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const o={startTimestamp:ws()*1e3,xhr:n};return _u("xhr",o),t.apply(n,r)}})}function t2t(e){if(Ch(e))return e;try{return e.toString()}catch{}}const n2t=Symbol.for("sentry__originalRequestBody");function lMe(e){return new URLSearchParams(e).toString()}function cMe(e,t=wt){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[lMe(e)];if(!e)return[void 0]}catch(n){return ub&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ub&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function uMe(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][n2t];return n!==void 0?n:void 0}}function dMe(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return ub&&wt.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[i,o]=r.split(": ");return o&&(n[i.toLowerCase()]=o),n},{}):{}}const i9=[],ZI=new Map,m1=new Map,r2t=60;function i2t(){if(CM()&&Bl()){const t=o2t();return()=>{t()}}return()=>{}}const YH={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function o2t(){return JRe(s2t)}const s2t=({metric:e})=>{if(e.value==null)return;const t=ho(e.value);if(t>r2t)return;const n=e.entries.find(g=>g.duration===e.value&&YH[g.name]);if(!n)return;const{interactionId:r}=n,i=YH[n.name],o=ho(Bl()+n.startTime),s=Ja(),a=s?ha(s):void 0,l=r!=null?ZI.get(r):void 0,c=l?.span||a,u=c?_r(c).description:Dr().getScopeData().transactionName,d=l?.elementName||Ol(n.target),f={[os]:"auto.http.browser.inp",[Yh]:`ui.interaction.${i}`,[j_]:n.duration},p=FK({name:d,transaction:u,attributes:f,startTime:o});p&&(p.addEvent("inp",{[hM]:"millisecond",[gM]:e.value}),p.end(o+t))};function a2t(){const e=Object.keys(YH);N5()&&e.forEach(i=>{Nn.addEventListener(i,t,{capture:!0,passive:!0})});function t(i){const o=i.target;if(!o)return;const s=Ol(o),a=Math.round(i.timeStamp);if(m1.set(a,s),m1.size>50){const l=m1.keys().next().value;l!==void 0&&m1.delete(l)}}function n(i){const o=Math.round(i.startTime);let s=m1.get(o);if(!s)for(let a=-5;a<=5;a++){const l=m1.get(o+a);if(l){s=l;break}}return s||"<unknown>"}const r=({entries:i})=>{const o=Ja(),s=o&&ha(o);i.forEach(a=>{if(!yCt(a))return;const l=a.interactionId;if(l==null||ZI.has(l))return;const c=a.target?Ol(a.target):n(a);if(i9.length>10){const u=i9.shift();ZI.delete(u)}i9.push(l),ZI.set(l,{span:s,elementName:c})})};db("event",r),db("first-input",r)}const l2t=40;function c2t(e,t=sMe("fetch")){let n=0,r=0;async function i(o){const s=o.body.length;n+=s,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const l=await t(e.url,a);return{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}}catch(l){throw JCt("fetch"),l}finally{n-=s,r--}}return iwt(e,i,xK(e.bufferSize||l2t))}const Pu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,u2t=30,d2t=50;function XH(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?ab:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const f2t=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,p2t=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,h2t=/\((\S*)(?::(\d+))(?::(\d+))\)/,g2t=/at (.+?) ?\(data:(.+?),/,m2t=e=>{const t=e.match(g2t);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=f2t.exec(e);if(n){const[,i,o,s]=n;return XH(i,ab,+o,+s)}const r=p2t.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=h2t.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[o,s]=fMe(r[1]||ab,r[2]);return XH(s,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},y2t=[u2t,m2t],v2t=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,b2t=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,x2t=e=>{const t=v2t.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=b2t.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],i=t[1]||ab;return[i,r]=fMe(i,r),XH(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},w2t=[d2t,x2t],S2t=[y2t,w2t],_2t=xTe(...S2t),fMe=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ab,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ND=1024,C2t="Breadcrumbs",k2t=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:C2t,setup(n){t.console&&Uwt(M2t(n)),t.dom&&oMe(R2t(n,t.dom)),t.xhr&&aMe(A2t(n)),t.fetch&&ERe(P2t(n)),t.history&&x4(D2t(n)),t.sentry&&n.on("beforeSendEvent",T2t(n))}}}),E2t=k2t;function T2t(e){return function(n){Kn()===e&&o0({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Xy(n)},{event:n})}}function R2t(e,t){return function(r){if(Kn()!==e)return;let i,o,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>ND&&(Pu&&wt.warn(`\`dom.maxStringLength\` cannot exceed ${ND}, but a value of ${a} was configured. Sentry will use ${ND} instead.`),a=ND),typeof s=="string"&&(s=[s]);try{const c=r.event,u=O2t(c)?c.target:c;i=Ol(u,{keyAttrs:s,maxStringLength:a}),o=TTe(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};o&&(l.data={"ui.component_name":o}),o0(l,{event:r.event,name:r.name,global:r.global})}}function M2t(e){return function(n){if(Kn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:SRe(n.level),message:Tpe(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Tpe(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;o0(r,{input:n.args,level:n.level})}}function A2t(e){return function(n){if(Kn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[fv];if(!r||!i||!o)return;const{method:s,url:a,status_code:l,body:c}=o,u={method:s,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},f={category:"xhr",data:u,type:"http",level:kRe(l)};e.emit("beforeOutgoingRequestBreadcrumb",f,d),o0(f,d)}}function P2t(e){return function(n){if(Kn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),o0(a,s)}else{const o=n.response,s={...n.fetchData,status_code:o?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o?.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:i},l={category:"fetch",data:s,type:"http",level:kRe(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,a),o0(l,a)}}}function D2t(e){return function(n){if(Kn()!==e)return;let r=n.from,i=n.to;const o=Iv(Cr.location.href);let s=r?Iv(r):void 0;const a=Iv(i);s?.path||(s=o),o.protocol===a.protocol&&o.host===a.host&&(i=a.relative),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o0({category:"navigation",data:{from:r,to:i}})}}function O2t(e){return!!e&&!!e.target}const I2t=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],j2t="BrowserApiErrors",$2t=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:j2t,setupOnce(){t.setTimeout&&Sl(Cr,"setTimeout",Ihe),t.setInterval&&Sl(Cr,"setInterval",Ihe),t.requestAnimationFrame&&Sl(Cr,"requestAnimationFrame",L2t),t.XMLHttpRequest&&"XMLHttpRequest"in Cr&&Sl(XMLHttpRequest.prototype,"send",N2t);const n=t.eventTarget;n&&(Array.isArray(n)?n:I2t).forEach(i=>z2t(i,t))}}}),F2t=$2t;function Ihe(e){return function(...t){const n=t[0];return t[0]=xS(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Wh(e)}`}}),e.apply(this,t)}}function L2t(e){return function(t){return e.apply(this,[xS(t,{mechanism:{data:{handler:Wh(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function N2t(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Sl(n,i,function(o){const s={mechanism:{data:{handler:Wh(o)},handled:!1,type:`auto.browser.browserapierrors.xhr.${i}`}},a=lK(o);return a&&(s.mechanism.data.handler=Wh(a)),xS(o,s)})}),e.apply(this,t)}}function z2t(e,t){const r=Cr[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Sl(r,"addEventListener",function(i){return function(o,s,a){try{B2t(s)&&(s.handleEvent=xS(s.handleEvent,{mechanism:{data:{handler:Wh(s),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&U2t(this,o,s),i.apply(this,[o,xS(s,{mechanism:{data:{handler:Wh(s),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),Sl(r,"removeEventListener",function(i){return function(o,s,a){try{const l=s.__sentry_wrapped__;l&&i.call(this,o,l,a)}catch{}return i.call(this,o,s,a)}}))}function B2t(e){return typeof e.handleEvent=="function"}function U2t(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const V2t=()=>({name:"BrowserSession",setupOnce(){if(typeof Cr.document>"u"){Pu&&wt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Xpe({ignoreDuration:!0}),Kpe(),x4(({from:e,to:t})=>{e!==void 0&&e!==t&&(Xpe({ignoreDuration:!0}),Kpe())})}}),H2t="GlobalHandlers",W2t=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:H2t,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(G2t(n),jhe("onerror")),t.onunhandledrejection&&(Y2t(n),jhe("onunhandledrejection"))}}}),q2t=W2t;function G2t(e){STe(t=>{const{stackParser:n,attachStacktrace:r}=pMe();if(Kn()!==e||BRe())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=Z2t(PK(n,l||i,void 0,r,!1),o,s,a);c.level="error",rRe(c,{originalException:l,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function Y2t(e){_Te(t=>{const{stackParser:n,attachStacktrace:r}=pMe();if(Kn()!==e||BRe())return;const i=X2t(t),o=pS(i)?K2t(i):PK(n,i,void 0,r,!0);o.level="error",rRe(o,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function X2t(e){if(pS(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function K2t(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Z2t(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=r,u=n,d=Q2t(t)??Qb();return l.length===0&&l.push({colno:c,filename:d,function:ab,in_app:!0,lineno:u}),e}function jhe(e){Pu&&wt.log(`Global Handler attached: ${e}`)}function pMe(){return Kn()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function Q2t(e){if(!(!Ch(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const J2t=()=>({name:"HttpContext",preprocessEvent(e){if(!Cr.navigator&&!Cr.location&&!Cr.document)return;const t=RK(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),ekt="cause",tkt=5,nkt="LinkedErrors",rkt=((e={})=>{const t=e.limit||tkt,n=e.key||ekt;return{name:nkt,preprocessEvent(r,i,o){const s=o.getOptions();Bwt(MK,s.stackParser,n,t,r,i)}}}),ikt=rkt;function okt(){return skt()?(Pu&&Zb(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function skt(){if(typeof Cr.window>"u")return!1;const e=Cr;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=Qb(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Cr===Cr.top&&r.some(o=>n.startsWith(`${o}://`)))}function akt(e){return[Owt(),Mwt(),F2t(),E2t(),q2t(),ikt(),qwt(),J2t(),V2t()]}function lkt(e={}){const t=!e.skipBrowserExtensionCheck&&okt();let n=e.defaultIntegrations==null?akt():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:Lbt(e.stackParser||_2t),integrations:G1t({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||c2t};return hwt(H_t,r)}const Si=hr,LK="sentryReplaySession",ckt="replay_event",NK="Unable to send Replay",ukt=3e5,dkt=9e5,fkt=5e3,pkt=5500,hkt=6e4,gkt=5e3,mkt=3,$he=15e4,zD=5e3,ykt=3e3,vkt=300,zK=2e7,bkt=4999,xkt=5e4,Fhe=36e5;var wkt=Object.defineProperty,Skt=(e,t,n)=>t in e?wkt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lhe=(e,t,n)=>Skt(e,typeof t!="symbol"?t+"":t,n),Lo=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Lo||{});function _kt(e){return e.nodeType===e.ELEMENT_NODE}function kE(e){return e?.host?.shadowRoot===e}function EE(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Ckt(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function kkt(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function W5(e){try{const t=e.rules||e.cssRules;return t?Ckt(Array.from(t,hMe).join("")):null}catch{return null}}function Ekt(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],o=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function hMe(e){let t;if(Rkt(e))try{t=W5(e.styleSheet)||kkt(e)}catch{}else if(Mkt(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=Ekt(e)),r&&(n=Tkt(n)),r||i)return n}return t||e.cssText}function Tkt(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Rkt(e){return"styleSheet"in e}function Mkt(e){return"selectorText"in e}let gMe=class{constructor(){Lhe(this,"idNodeMap",new Map),Lhe(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Akt(){return new gMe}function w4({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function DT({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function wS(e){return e.toLowerCase()}function KH(e){return e.toUpperCase()}const Nhe="__rrweb_original__";function Pkt(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const o=t.getImageData,s=Nhe in o?o[Nhe]:o;if(new Uint32Array(s.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function BK(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?wS(t):null}function q5(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function mMe(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}const zhe={};function yMe(e){const t=zhe[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return zhe[e]=r.bind(window)}function ZH(...e){return yMe("setTimeout")(...e)}function vMe(...e){return yMe("clearTimeout")(...e)}function bMe(e){try{return e.contentDocument}catch{}}let Dkt=1;const Okt=new RegExp("[^a-z0-9-_:]"),OT=-2;function UK(){return Dkt++}function Ikt(e){if(e instanceof HTMLFormElement)return"form";const t=wS(e.tagName);return Okt.test(t)?"div":t}function jkt(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let y1,Bhe;const $kt=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Fkt=/^(?:[a-z+]+:)?\/\//i,Lkt=/^www\..*/i,Nkt=/^(data:)([^,]*),(.*)/i;function zkt(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let i of n){if(i=i.trim(),!i)continue;const o=i.indexOf(":");if(o===-1){r.push(i);continue}const s=i.slice(0,o).trim();t.has(s)||r.push(i)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function G5(e,t){return(e||"").replace($kt,(n,r,i,o,s,a)=>{const l=i||s||a,c=r||o||"";if(!l)return n;if(Fkt.test(l)||Lkt.test(l))return`url(${c}${l}${c})`;if(Nkt.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${jkt(t)+l}${c})`;const u=t.split("/"),d=l.split("/");u.pop();for(const f of d)f!=="."&&(f===".."?u.pop():u.push(f));return`url(${c}${u.join("/")}${c})`})}const Bkt=/^[^ \t\n\r\u000c]+/,Ukt=/^[, \t\n\r\u000c]+/;function Vkt(e,t){if(t.trim()==="")return t;let n=0;function r(o){let s;const a=o.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}const i=[];for(;r(Ukt),!(n>=t.length);){let o=r(Bkt);if(o.slice(-1)===",")o=ew(e,o.substring(0,o.length-1)),i.push(o);else{let s="";o=ew(e,o);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((o+s).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((o+s).trim());break}else l==="("&&(a=!0);s+=l,n+=1}}}return i.join(", ")}const Uhe=new WeakMap;function ew(e,t){return!t||t.trim()===""?t:S4(e,t)}function Hkt(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function S4(e,t){let n=Uhe.get(e);if(n||(n=e.createElement("a"),Uhe.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function xMe(e,t,n,r,i,o,s){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return ew(e,r);if(n==="xlink:href"&&r[0]!=="#")return ew(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return ew(e,r);if(n==="srcset")return Vkt(e,r);if(n==="style"){let a=G5(r,S4(e));return s&&s.size>0&&(a=zkt(a,s)),a}else if(t==="object"&&n==="data")return ew(e,r);return typeof o=="function"?o(n,r,i):r}function wMe(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Wkt(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const o=e.classList[i];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function qkt(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function pv(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:pv(e.parentNode,t,n,r+1)}function tw(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(qkt(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function SS(e,t,n,r,i,o){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){const c=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let a=-1,l=-1;if(o){if(l=pv(s,tw(r,i)),l<0)return!0;a=pv(s,tw(t,n),l>=0?l:1/0)}else{if(a=pv(s,tw(t,n)),a<0)return!1;l=pv(s,tw(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!o}catch{}return!!o}function Gkt(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=ZH(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{vMe(a),i=!0,t()});return}const s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return ZH(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Ykt(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const o=ZH(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{vMe(o),r=!0,t()})}function Xkt(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:g={},maskTextFn:y,maskInputFn:v,dataURLOptions:x={},inlineImages:w,recordCanvas:S,keepIframeSrcFn:C,newlyAddedElement:k=!1,ignoreCSSAttributes:T}=t,E=Kkt(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Lo.Document,childNodes:[],compatMode:e.compatMode}:{type:Lo.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Lo.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return Qkt(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:g,maskInputFn:v,dataURLOptions:x,inlineImages:w,recordCanvas:S,keepIframeSrcFn:C,newlyAddedElement:k,rootId:E,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,ignoreCSSAttributes:T});case e.TEXT_NODE:return Zkt(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:y,maskInputOptions:g,maskInputFn:v,rootId:E});case e.CDATA_SECTION_NODE:return{type:Lo.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:Lo.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function Kkt(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Zkt(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,g=d==="SCRIPT"?!0:void 0,y=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=W5(e.parentNode.sheet))}catch(x){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${x}`,e)}f=G5(f,S4(t.doc))}g&&(f="SCRIPT_PLACEHOLDER");const v=SS(e,r,o,i,s,n);if(!p&&!g&&!y&&f&&v&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),y&&f&&(l.textarea||v)&&(f=c?c(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const x=w4({type:null,tagName:d,maskInputOptions:l});f=DT({isMasked:SS(e,r,o,i,s,x),element:e,value:f,maskInputFn:c})}return{type:Lo.Text,textContent:f||"",isStyle:p,rootId:u}}function Qkt(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:g=!1,rootId:y,maskTextClass:v,unmaskTextClass:x,maskTextSelector:w,unmaskTextSelector:S,ignoreCSSAttributes:C}=t,k=Wkt(e,r,i,o),T=Ikt(e);let E={};const A=e.attributes.length;for(let I=0;I<A;I++){const j=e.attributes[I];j.name&&!wMe(T,j.name,j.value)&&(E[j.name]=xMe(n,T,wS(j.name),j.value,e,l,C))}if(T==="link"&&s){const I=Array.from(n.styleSheets).find(P=>P.href===e.href);let j=null;I&&(j=W5(I)),j&&(E.rel=null,E.href=null,E.crossorigin=null,E._cssText=G5(j,I.href))}if(T==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const I=W5(e.sheet);I&&(E._cssText=G5(I,S4(n)))}if(T==="input"||T==="textarea"||T==="select"||T==="option"){const I=e,j=BK(I),P=q5(I,KH(T),j),$=I.checked;if(j!=="submit"&&j!=="button"&&P){const D=SS(I,v,w,x,S,w4({type:j,tagName:KH(T),maskInputOptions:a}));E.value=DT({isMasked:D,element:I,value:P,maskInputFn:c})}$&&(E.checked=$)}if(T==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),T==="canvas"&&f){if(e.__context==="2d")Pkt(e)||(E.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const I=e.toDataURL(u.type,u.quality),j=n.createElement("canvas");j.width=e.width,j.height=e.height;const P=j.toDataURL(u.type,u.quality);I!==P&&(E.rr_dataURL=I)}}if(T==="img"&&d){y1||(y1=n.createElement("canvas"),Bhe=y1.getContext("2d"));const I=e,j=I.currentSrc||I.getAttribute("src")||"<unknown-src>",P=I.crossOrigin,$=()=>{I.removeEventListener("load",$);try{y1.width=I.naturalWidth,y1.height=I.naturalHeight,Bhe.drawImage(I,0,0),E.rr_dataURL=y1.toDataURL(u.type,u.quality)}catch(D){if(I.crossOrigin!=="anonymous"){I.crossOrigin="anonymous",I.complete&&I.naturalWidth!==0?$():I.addEventListener("load",$);return}else console.warn(`Cannot inline img src=${j}! Error: ${D}`)}I.crossOrigin==="anonymous"&&(P?E.crossOrigin=P:I.removeAttribute("crossorigin"))};I.complete&&I.naturalWidth!==0?$():I.addEventListener("load",$)}if((T==="audio"||T==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),g||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),k){const{width:I,height:j}=e.getBoundingClientRect();E={class:E.class,rr_width:`${I}px`,rr_height:`${j}px`}}T==="iframe"&&!p(E.src)&&(!k&&!bMe(e)&&(E.rr_src=E.src),delete E.src);let O;try{customElements.get(T)&&(O=!0)}catch{}return{type:Lo.Element,tagName:T,attributes:E,childNodes:[],isSVG:Hkt(e)||void 0,needBlock:k,rootId:y,isCustom:O}}function xi(e){return e==null?"":e.toLowerCase()}function Jkt(e,t){if(t.comment&&e.type===Lo.Comment)return!0;if(e.type===Lo.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&mMe(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(xi(e.attributes.name).match(/^msapplication-tile(image|color)$/)||xi(e.attributes.name)==="application-name"||xi(e.attributes.rel)==="icon"||xi(e.attributes.rel)==="apple-touch-icon"||xi(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&xi(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(xi(e.attributes.property).match(/^(og|twitter|fb):/)||xi(e.attributes.name).match(/^(og|twitter):/)||xi(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(xi(e.attributes.name)==="robots"||xi(e.attributes.name)==="googlebot"||xi(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(xi(e.attributes.name)==="author"||xi(e.attributes.name)==="generator"||xi(e.attributes.name)==="framework"||xi(e.attributes.name)==="publisher"||xi(e.attributes.name)==="progid"||xi(e.attributes.property).match(/^article:/)||xi(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(xi(e.attributes.name)==="google-site-verification"||xi(e.attributes.name)==="yandex-verification"||xi(e.attributes.name)==="csrf-token"||xi(e.attributes.name)==="p:domain_verify"||xi(e.attributes.name)==="verify-v1"||xi(e.attributes.name)==="verification"||xi(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function nw(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:g={},maskAttributeFn:y,maskTextFn:v,maskInputFn:x,slimDOMOptions:w,dataURLOptions:S={},inlineImages:C=!1,recordCanvas:k=!1,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:A=5e3,onBlockedImageLoad:O,onStylesheetLoad:I,stylesheetLoadTimeout:j=5e3,keepIframeSrcFn:P=()=>!1,newlyAddedElement:$=!1,ignoreCSSAttributes:D}=t;let{preserveWhiteSpace:F=!0}=t;const N=Xkt(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:y,maskTextFn:v,maskInputFn:x,dataURLOptions:S,inlineImages:C,recordCanvas:k,keepIframeSrcFn:P,newlyAddedElement:$,ignoreCSSAttributes:D});if(!N)return console.warn(e,"not serialized"),null;let V;r.hasNode(e)?V=r.getId(e):Jkt(N,w)||!F&&N.type===Lo.Text&&!N.isStyle&&!N.textContent.replace(/^\s+|\s+$/gm,"").length?V=OT:V=UK();const H=Object.assign(N,{id:V});if(r.add(e,H),V===OT)return null;T&&T(e);let U=!f;if(H.type===Lo.Element){U=U&&!H.needBlock;const G=e.shadowRoot;G&&EE(G)&&(H.isShadowHost=!0)}if((H.type===Lo.Document||H.type===Lo.Element)&&U){w.headWhitespace&&H.type===Lo.Element&&H.tagName==="head"&&(F=!1);const G={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:y,maskTextFn:v,maskInputFn:x,slimDOMOptions:w,dataURLOptions:S,inlineImages:C,recordCanvas:k,preserveWhiteSpace:F,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:A,onBlockedImageLoad:O,onStylesheetLoad:I,stylesheetLoadTimeout:j,keepIframeSrcFn:P,ignoreCSSAttributes:D},z=e.childNodes?Array.from(e.childNodes):[];for(const W of z){const X=nw(W,G);X&&H.childNodes.push(X)}if(_kt(e)&&e.shadowRoot)for(const W of Array.from(e.shadowRoot.childNodes)){const X=nw(W,G);X&&(EE(e.shadowRoot)&&(X.isShadow=!0),H.childNodes.push(X))}}if(e.parentNode&&kE(e.parentNode)&&EE(e.parentNode)&&(H.isShadow=!0),H.type===Lo.Element&&H.tagName==="iframe"&&!H.needBlock&&Gkt(e,()=>{const G=bMe(e);if(G&&E){const z=nw(G,{doc:G,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:y,maskTextFn:v,maskInputFn:x,slimDOMOptions:w,dataURLOptions:S,inlineImages:C,recordCanvas:k,preserveWhiteSpace:F,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:A,onStylesheetLoad:I,stylesheetLoadTimeout:j,keepIframeSrcFn:P,ignoreCSSAttributes:D});z&&E(e,z)}},A),H.type===Lo.Element&&H.tagName==="img"&&!e.complete&&H.needBlock){const G=e,z=()=>{if(G.isConnected&&!G.complete&&O)try{const W=G.getBoundingClientRect();W.width>0&&W.height>0&&O(G,H,W)}catch{}G.removeEventListener("load",z)};G.isConnected&&G.addEventListener("load",z)}return H.type===Lo.Element&&H.tagName==="link"&&typeof H.attributes.rel=="string"&&(H.attributes.rel==="stylesheet"||H.attributes.rel==="preload"&&typeof H.attributes.href=="string"&&mMe(H.attributes.href)==="css")&&Ykt(e,()=>{if(I){const G=nw(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:y,maskTextFn:v,maskInputFn:x,slimDOMOptions:w,dataURLOptions:S,inlineImages:C,recordCanvas:k,preserveWhiteSpace:F,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:A,onStylesheetLoad:I,stylesheetLoadTimeout:j,keepIframeSrcFn:P,ignoreCSSAttributes:D});G&&I(e,G)}},j),H.type===Lo.Element&&delete H.needBlock,H}function eEt(e,t){const{mirror:n=new gMe,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:g=!1,maskAttributeFn:y,maskTextFn:v,maskInputFn:x,slimDOM:w=!1,dataURLOptions:S,preserveWhiteSpace:C,onSerialize:k,onIframeLoad:T,iframeLoadTimeout:E,onBlockedImageLoad:A,onStylesheetLoad:O,stylesheetLoadTimeout:I,keepIframeSrcFn:j=()=>!1,ignoreCSSAttributes:P=new Set([])}=t||{};return nw(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:g===!1?{}:g,maskAttributeFn:y,maskTextFn:v,maskInputFn:x,slimDOMOptions:w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:w==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:w===!1?{}:w,dataURLOptions:S,inlineImages:f,recordCanvas:p,preserveWhiteSpace:C,onSerialize:k,onIframeLoad:T,iframeLoadTimeout:E,onBlockedImageLoad:A,onStylesheetLoad:O,stylesheetLoadTimeout:I,keepIframeSrcFn:j,newlyAddedElement:!1,ignoreCSSAttributes:P})}function Va(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const N1=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Vhe={map:{},getId(){return console.error(N1),-1},getNode(){return console.error(N1),null},removeNodeFromMap(){console.error(N1)},has(){return console.error(N1),!1},reset(){console.error(N1)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Vhe=new Proxy(Vhe,{get(e,t,n){return t==="map"&&console.error(N1),Reflect.get(e,t,n)}}));function IT(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();!i&&n.leading===!1&&(i=s);const a=t-(s-i),l=this;a<=0||a>t?(r&&(aEt(r),r=null),i=s,e.apply(l,o)):!r&&n.trailing!==!1&&(r=_4(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,o)},a))}}function SMe(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(s){_4(()=>{n.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>SMe(e,t,o||{},!0)}function VK(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let Y5=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Y5=()=>new Date().getTime());function _Me(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function CMe(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function kMe(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function EMe(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ac(e,t,n,r,i){if(!e)return!1;const o=EMe(e);if(!o)return!1;const s=tw(t,n);if(!i){const c=r&&o.matches(r);return s(o)&&!c}const a=pv(o,s);let l=-1;return a<0?!1:(r&&(l=pv(o,tw(null,r))),a>-1&&l<0?!0:a<l)}function tEt(e,t){return t.getId(e)!==-1}function o9(e,t){return t.getId(e)===OT}function TMe(e,t){if(kE(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?TMe(e.parentNode,t):!0:!0}function QH(e){return!!e.changedTouches}function nEt(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function RMe(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function MMe(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function JH(e){return!!e?.shadowRoot}class rEt{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function AMe(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function iEt(e){let t=e,n;for(;n=AMe(t);)t=n;return t}function oEt(e){const t=e.ownerDocument;if(!t)return!1;const n=iEt(e);return t.contains(n)}function PMe(e){const t=e.ownerDocument;return t?t.contains(e)||oEt(e):!1}const Hhe={};function HK(e){const t=Hhe[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return Hhe[e]=r.bind(window)}function sEt(...e){return HK("requestAnimationFrame")(...e)}function _4(...e){return HK("setTimeout")(...e)}function aEt(...e){return HK("clearTimeout")(...e)}var Jn=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Jn||{}),On=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(On||{}),Da=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Da||{}),th=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(th||{}),z1=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(z1||{});function WK(e){try{return e.contentDocument}catch{}}function lEt(e){try{return e.contentWindow}catch{}}function Whe(e){return"__ln"in e}class cEt{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Whe(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Whe(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const qhe=(e,t)=>`${e}@${t}`;class uEt{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new cEt,i=l=>{let c=l,u=OT;for(;u===OT;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},o=l=>{if(!l.parentNode||!PMe(l))return;const c=kE(l.parentNode)?this.mirror.getId(AMe(l)):this.mirror.getId(l.parentNode),u=i(l);if(c===-1||u===-1)return r.addNode(l);const d=nw(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{RMe(f,this.mirror)&&!ac(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),MMe(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),JH(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{ac(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)},onBlockedImageLoad:(f,p,{width:g,height:y})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:p.id,attributes:{style:{width:`${g}px`,height:`${y}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:c,nextId:u,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Ghe(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||o(l);for(const l of this.addedSet)!Yhe(this.droppedSet,l)&&!Ghe(this.removes,l,this.mirror)||Yhe(this.movedSet,l)?o(l):this.droppedSet.add(l);let s=null;for(;r.length;){let l=null;if(s){const c=this.mirror.getId(s.value.parentNode),u=i(s.value);c!==-1&&u!==-1&&(l=s)}if(!l){let c=r.tail;for(;c;){const u=c;if(c=c.previous,u){const d=this.mirror.getId(u.value.parentNode);if(i(u.value)===-1)continue;if(d!==-1){l=u;break}else{const p=u.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=p.parentNode.host;if(this.mirror.getId(g)!==-1){l=u;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}s=l.previous,r.removeNode(l.value),o(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const u=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);u.length<c.style.length&&(u+d).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!o9(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ac(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:SS(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,EMe(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const s=BK(n),a=n.tagName;i=q5(n,a,s);const l=w4({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),c=SS(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=DT({isMasked:c,element:n,value:i,maskInputFn:this.maskInputFn})}if(ac(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!WK(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!wMe(n.tagName,r)&&(o.attributes[r]=xMe(this.doc,wS(n.tagName),wS(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==s.style.getPropertyValue(a)||c!==s.style.getPropertyPriority(a)?c===""?o.styleDiff[a]=l:o.styleDiff[a]=[l,c]:o._unchangedStyles[a]=[l,c]}for(const a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(ac(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=kE(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ac(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o9(n,this.mirror)||!tEt(n,this.mirror)||(this.addedSet.has(n)?(eW(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||TMe(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[qhe(r,i)]?eW(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:kE(t.target)&&EE(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(o9(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[qhe(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ac(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),JH(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function eW(e,t){e.delete(t),t.childNodes?.forEach(n=>eW(e,n))}function Ghe(e,t,n){return e.length===0?!1:dEt(e,t,n)}function dEt(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(o=>o.id===i))return!0;r=r.parentNode}return!1}function Yhe(e,t){return e.size===0?!1:DMe(e,t)}function DMe(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:DMe(e,n):!1}let TE;function fEt(e){TE=e}function pEt(){TE=void 0}const wr=e=>TE?(...n)=>{try{return e(...n)}catch(r){if(TE&&TE(r)===!0)return()=>{};throw r}}:e,rw=[];function EM(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function OMe(e,t){const n=new uEt;rw.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=window?.Zone?.__symbol__?.("MutationObserver");i&&window[i]&&(r=window[i]);const o=new r(wr(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function hEt({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let s=[],a;const l=IT(wr(d=>{const f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),d),s=[],a=null}),o),c=wr(IT(wr(d=>{const f=EM(d),{clientX:p,clientY:g}=QH(d)?d.changedTouches[0]:d;a||(a=Y5()),s.push({x:p,y:g,id:r.getId(f),timeOffset:Y5()-a}),l(typeof DragEvent<"u"&&d instanceof DragEvent?On.Drag:d instanceof MouseEvent?On.MouseMove:On.TouchMove)}),i,{trailing:!1})),u=[Va("mousemove",c,n),Va("touchmove",c,n),Va("drag",c,n)];return wr(()=>{u.forEach(d=>d())})}function gEt({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[];let c=null;const u=d=>f=>{const p=EM(f);if(ac(p,r,i,o,!0))return;let g=null,y=d;if("pointerType"in f){switch(f.pointerType){case"mouse":g=th.Mouse;break;case"touch":g=th.Touch;break;case"pen":g=th.Pen;break}g===th.Touch?Da[d]===Da.MouseDown?y="TouchStart":Da[d]===Da.MouseUp&&(y="TouchEnd"):th.Pen}else QH(f)&&(g=th.Touch);g!==null?(c=g,(y.startsWith("Touch")&&g===th.Touch||y.startsWith("Mouse")&&g===th.Mouse)&&(g=null)):Da[d]===Da.Click&&(g=c,c=null);const v=QH(f)?f.changedTouches[0]:f;if(!v)return;const x=n.getId(p),{clientX:w,clientY:S}=v;wr(e)({type:Da[y],id:x,x:w,y:S,...g!==null&&{pointerType:g}})};return Object.keys(Da).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=wS(d);const p=u(d);if(window.PointerEvent)switch(Da[d]){case Da.MouseDown:case Da.MouseUp:f=f.replace("mouse","pointer");break;case Da.TouchStart:case Da.TouchEnd:return}l.push(Va(f,p,t))}),wr(()=>{l.forEach(d=>d())})}function IMe({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){const a=wr(IT(wr(l=>{const c=EM(l);if(!c||ac(c,r,i,o,!0))return;const u=n.getId(c);if(c===t&&t.defaultView){const d=_Me(t.defaultView);e({id:u,x:d.left,y:d.top})}else e({id:u,x:c.scrollLeft,y:c.scrollTop})}),s.scroll||100));return Va("scroll",a,t)}function mEt({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=wr(IT(wr(()=>{const o=CMe(),s=kMe();(n!==o||r!==s)&&(e({width:Number(s),height:Number(o)}),n=o,r=s)}),200));return Va("resize",i,t)}const yEt=["INPUT","TEXTAREA","SELECT"],Xhe=new WeakMap;function vEt({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y}){function v(E){let A=EM(E);const O=E.isTrusted,I=A&&KH(A.tagName);if(I==="OPTION"&&(A=A.parentElement),!A||!I||yEt.indexOf(I)<0||ac(A,r,i,o,!0))return;const j=A;if(j.classList.contains(s)||a&&j.matches(a))return;const P=BK(A);let $=q5(j,I,P),D=!1;const F=w4({maskInputOptions:l,tagName:I,type:P}),N=SS(A,f,g,p,y,F);(P==="radio"||P==="checkbox")&&(D=A.checked),$=DT({isMasked:N,element:A,value:$,maskInputFn:c}),x(A,d?{text:$,isChecked:D,userTriggered:O}:{text:$,isChecked:D});const V=A.name;P==="radio"&&V&&D&&t.querySelectorAll(`input[type="radio"][name="${V}"]`).forEach(H=>{if(H!==A){const U=DT({isMasked:N,element:H,value:q5(H,I,P),maskInputFn:c});x(H,d?{text:U,isChecked:!D,userTriggered:!1}:{text:U,isChecked:!D})}})}function x(E,A){const O=Xhe.get(E);if(!O||O.text!==A.text||O.isChecked!==A.isChecked){Xhe.set(E,A);const I=n.getId(E);wr(e)({...A,id:I})}}const S=(u.input==="last"?["change"]:["input","change"]).map(E=>Va(E,wr(v),t)),C=t.defaultView;if(!C)return()=>{S.forEach(E=>E())};const k=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),T=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return k&&k.set&&S.push(...T.map(E=>SMe(E[0],E[1],{set(){wr(v)({target:this,isTrusted:!1})}},!1,C))),wr(()=>{S.forEach(E=>E())})}function X5(e){const t=[];function n(r,i){if(BD("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||BD("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||BD("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||BD("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const s=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(s)}else if(r.parentStyleSheet){const s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(s)}return i}return n(e,t)}function nm(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function bEt({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:wr((u,d,f)=>{const[p,g]=f,{id:y,styleId:v}=nm(d,t,n.styleMirror);return(y&&y!==-1||v&&v!==-1)&&e({id:y,styleId:v,adds:[{rule:p,index:g}]}),u.apply(d,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:wr((u,d,f)=>{const[p]=f,{id:g,styleId:y}=nm(d,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,removes:[{index:p}]}),u.apply(d,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:wr((u,d,f)=>{const[p]=f,{id:g,styleId:y}=nm(d,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,replace:p}),u.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:wr((u,d,f)=>{const[p]=f,{id:g,styleId:y}=nm(d,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,replaceSync:p}),u.apply(d,f)})}));const l={};UD("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(UD("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),UD("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),UD("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([u,d])=>{c[u]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(c[u].insertRule,{apply:wr((f,p,g)=>{const[y,v]=g,{id:x,styleId:w}=nm(p.parentStyleSheet,t,n.styleMirror);return(x&&x!==-1||w&&w!==-1)&&e({id:x,styleId:w,adds:[{rule:y,index:[...X5(p),v||0]}]}),f.apply(p,g)})}),d.prototype.deleteRule=new Proxy(c[u].deleteRule,{apply:wr((f,p,g)=>{const[y]=g,{id:v,styleId:x}=nm(p.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||x&&x!==-1)&&e({id:v,styleId:x,removes:[{index:[...X5(p),y]}]}),f.apply(p,g)})})}),wr(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([u,d])=>{d.prototype.insertRule=c[u].insertRule,d.prototype.deleteRule=c[u].deleteRule})})}function jMe({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,o=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return o.get?.call(this)},set(s){const a=o.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),wr(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function xEt({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:wr((a,l,c)=>{const[u,d,f]=c;if(n.has(u))return o.apply(l,[u,d,f]);const{id:p,styleId:g}=nm(l.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,set:{property:u,value:d,priority:f},index:X5(l.parentRule)}),a.apply(l,c)})});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:wr((a,l,c)=>{const[u]=c;if(n.has(u))return s.apply(l,[u]);const{id:d,styleId:f}=nm(l.parentRule?.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:u},index:X5(l.parentRule)}),a.apply(l,c)})}),wr(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}function wEt({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){const a=wr(c=>IT(wr(u=>{const d=EM(u);if(!d||ac(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:g,playbackRate:y}=d;e({type:c,id:i.getId(d),currentTime:f,volume:p,muted:g,playbackRate:y})}),o.media||500)),l=[Va("play",a(z1.Play),s),Va("pause",a(z1.Pause),s),Va("seeked",a(z1.Seeked),s),Va("volumechange",a(z1.VolumeChange),s),Va("ratechange",a(z1.RateChange),s)];return wr(()=>{l.forEach(c=>c())})}function SEt({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(l,c,u){const d=new o(l,c,u);return i.set(d,{family:l,buffer:typeof c!="string",descriptors:u,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),d};const s=VK(t.fonts,"add",function(a){return function(l){return _4(wr(()=>{const c=i.get(l);c&&(e(c),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=o}),r.push(s),wr(()=>{r.forEach(a=>a())})}function _Et(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=e;let a=!0;const l=wr(()=>{const c=t.getSelection();if(!c||a&&c?.isCollapsed)return;a=c.isCollapsed||!1;const u=[],d=c.rangeCount||0;for(let f=0;f<d;f++){const p=c.getRangeAt(f),{startContainer:g,startOffset:y,endContainer:v,endOffset:x}=p;ac(g,r,i,o,!0)||ac(v,r,i,o,!0)||u.push({start:n.getId(g),startOffset:y,end:n.getId(v),endOffset:x})}s({ranges:u})});return l(),Va("selectionchange",l)}function CEt({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:VK(n.customElements,"define",function(i){return function(o,s,a){try{t({define:{name:o}})}catch{}return i.apply(this,[o,s,a])}})}function kEt(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=OMe(e,e.doc));const i=hEt(e),o=gEt(e),s=IMe(e),a=mEt(e,{win:n}),l=vEt(e),c=wEt(e);let u=()=>{},d=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(u=bEt(e,{win:n}),d=jMe(e,e.doc),f=xEt(e,{win:n}),e.collectFonts&&(p=SEt(e)));const g=_Et(e),y=CEt(e),v=[];for(const x of e.plugins)v.push(x.observer(x.callback,n,x.options));return wr(()=>{rw.forEach(x=>x.reset()),r?.disconnect(),i(),o(),s(),a(),l(),c(),u(),d(),f(),p(),g(),y(),v.forEach(x=>x())})}function BD(e){return typeof window[e]<"u"}function UD(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class tW{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const o=r||this.getIdToRemoteIdMap(t),s=i||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),s.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=i.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class EEt{constructor(){this.crossOriginIframeMirror=new tW(UK),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class TEt{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new tW(UK),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new tW(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);const r=WK(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const o=this.transformCrossOriginEvent(i,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Jn.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Jn.IncrementalSnapshot,data:{source:On.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Jn.Meta:case Jn.Load:case Jn.DomContentLoaded:return!1;case Jn.Plugin:return n;case Jn.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Jn.IncrementalSnapshot:switch(n.data.source){case On.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case On.Drag:case On.TouchMove:case On.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case On.ViewportResize:return!1;case On.MediaInteraction:case On.MouseInteraction:case On.Scroll:case On.CanvasMutation:case On.Input:return this.replaceIds(n.data,t,["id"]),n;case On.StyleSheetRule:case On.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case On.Font:return n;case On.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case On.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(const o of i)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Lo.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class REt{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class MEt{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!EE(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=OMe({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(IMe({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),_4(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(jMe({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=WK(t),r=lEt(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(VK(t.prototype,"attachShadow",function(i){return function(o){const s=i.call(this,o);return this.shadowRoot&&PMe(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Khe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AEt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var VD=0;VD<Khe.length;VD++)AEt[Khe.charCodeAt(VD)]=VD;class Zhe{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class PEt{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new rEt,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const o of t){let s;this.styleMirror.has(o)?s=this.styleMirror.getId(o):(s=this.styleMirror.add(o),i.push({styleId:s,rules:Array.from(o.rules||CSSRule,(a,l)=>({rule:hMe(a),index:l}))})),r.styleIds.push(s)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class DEt{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,sEt(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let so,K5;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const nd=Akt();function Th(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:g=!0,maskAllInputs:y,maskInputOptions:v,slimDOMOptions:x,maskAttributeFn:w,maskInputFn:S,maskTextFn:C,maxCanvasSize:k=null,packFn:T,sampling:E={},dataURLOptions:A={},mousemoveWait:O,recordDOM:I=!0,recordCanvas:j=!1,recordCrossOriginIframes:P=!1,recordAfter:$=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:D=!1,collectFonts:F=!1,inlineImages:N=!1,plugins:V,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:U=new Set([]),errorHandler:G,onMutation:z,getCanvasManager:W}=e;fEt(G);const X=P?window.parent===window:!0;let Q=!1;if(!X)try{window.parent.document&&(Q=!1)}catch{Q=!0}if(X&&!t)throw new Error("emit function is required");if(!X&&!Q)return()=>{};O!==void 0&&E.mousemove===void 0&&(E.mousemove=O),nd.reset();const ee=y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:v!==void 0?v:{},ne=x===!0||x==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:x==="all",headMetaDescKeywords:x==="all"}:x||{};nEt();let oe,ce=0;const re=de=>{for(const be of V||[])be.eventProcessor&&(de=be.eventProcessor(de));return T&&!Q&&(de=T(de)),de};so=(de,be)=>{const le=de;if(le.timestamp=Y5(),rw[0]?.isFrozen()&&le.type!==Jn.FullSnapshot&&!(le.type===Jn.IncrementalSnapshot&&le.data.source===On.Mutation)&&rw.forEach(Se=>Se.unfreeze()),X)t?.(re(le),be);else if(Q){const Se={type:"rrweb",event:re(le),origin:window.location.origin,isCheckout:be};window.parent.postMessage(Se,"*")}if(le.type===Jn.FullSnapshot)oe=le,ce=0;else if(le.type===Jn.IncrementalSnapshot){if(le.data.source===On.Mutation&&le.data.isAttachIframe)return;ce++;const Se=r&&ce>=r,ye=n&&oe&&le.timestamp-oe.timestamp>n;(Se||ye)&&ue(!0)}};const ge=de=>{so({type:Jn.IncrementalSnapshot,data:{source:On.Mutation,...de}})},he=de=>so({type:Jn.IncrementalSnapshot,data:{source:On.Scroll,...de}}),ie=de=>so({type:Jn.IncrementalSnapshot,data:{source:On.CanvasMutation,...de}}),xe=de=>so({type:Jn.IncrementalSnapshot,data:{source:On.AdoptedStyleSheet,...de}}),q=new PEt({mutationCb:ge,adoptedStyleSheetCb:xe}),fe=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new EEt:new TEt({mirror:nd,mutationCb:ge,stylesheetManager:q,recordCrossOriginIframes:P,wrappedEmit:so});for(const de of V||[])de.getMirror&&de.getMirror({nodeMirror:nd,crossOriginIframeMirror:fe.crossOriginIframeMirror,crossOriginIframeStyleMirror:fe.crossOriginIframeStyleMirror});const se=new DEt,J=IEt(W,{mirror:nd,win:window,mutationCb:de=>so({type:Jn.IncrementalSnapshot,data:{source:On.CanvasMutation,...de}}),recordCanvas:j,blockClass:i,blockSelector:o,unblockSelector:s,maxCanvasSize:k,sampling:E.canvas,dataURLOptions:A,errorHandler:G}),Z=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new REt:new MEt({mutationCb:ge,scrollCb:he,bypassOptions:{onMutation:z,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:g,maskInputOptions:ee,dataURLOptions:A,maskAttributeFn:w,maskTextFn:C,maskInputFn:S,recordCanvas:j,inlineImages:N,sampling:E,slimDOMOptions:ne,iframeManager:fe,stylesheetManager:q,canvasManager:J,keepIframeSrcFn:H,processedNodeManager:se,ignoreCSSAttributes:U},mirror:nd}),ue=(de=!1)=>{if(!I)return;so({type:Jn.Meta,data:{href:window.location.href,width:kMe(),height:CMe()}},de),q.reset(),Z.init(),rw.forEach(le=>le.lock());const be=eEt(document,{mirror:nd,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:g,maskAllInputs:ee,maskAttributeFn:w,maskInputFn:S,maskTextFn:C,slimDOM:ne,dataURLOptions:A,recordCanvas:j,inlineImages:N,onSerialize:le=>{RMe(le,nd)&&fe.addIframe(le),MMe(le,nd)&&q.trackLinkElement(le),JH(le)&&Z.addShadowRoot(le.shadowRoot,document)},onIframeLoad:(le,Se)=>{fe.attachIframe(le,Se),le.contentWindow&&J.addWindow(le.contentWindow),Z.observeAttachShadow(le)},onStylesheetLoad:(le,Se)=>{q.attachLinkElement(le,Se)},onBlockedImageLoad:(le,Se,{width:ye,height:ve})=>{ge({adds:[],removes:[],texts:[],attributes:[{id:Se.id,attributes:{style:{width:`${ye}px`,height:`${ve}px`}}}]})},keepIframeSrcFn:H,ignoreCSSAttributes:U});if(!be)return console.warn("Failed to snapshot the document");so({type:Jn.FullSnapshot,data:{node:be,initialOffset:_Me(window)}}),rw.forEach(le=>le.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&q.adoptStyleSheets(document.adoptedStyleSheets,nd.getId(document))};K5=ue;try{const de=[],be=Se=>wr(kEt)({onMutation:z,mutationCb:ge,mousemoveCb:(ye,ve)=>so({type:Jn.IncrementalSnapshot,data:{source:ve,positions:ye}}),mouseInteractionCb:ye=>so({type:Jn.IncrementalSnapshot,data:{source:On.MouseInteraction,...ye}}),scrollCb:he,viewportResizeCb:ye=>so({type:Jn.IncrementalSnapshot,data:{source:On.ViewportResize,...ye}}),inputCb:ye=>so({type:Jn.IncrementalSnapshot,data:{source:On.Input,...ye}}),mediaInteractionCb:ye=>so({type:Jn.IncrementalSnapshot,data:{source:On.MediaInteraction,...ye}}),styleSheetRuleCb:ye=>so({type:Jn.IncrementalSnapshot,data:{source:On.StyleSheetRule,...ye}}),styleDeclarationCb:ye=>so({type:Jn.IncrementalSnapshot,data:{source:On.StyleDeclaration,...ye}}),canvasMutationCb:ie,fontCb:ye=>so({type:Jn.IncrementalSnapshot,data:{source:On.Font,...ye}}),selectionCb:ye=>{so({type:Jn.IncrementalSnapshot,data:{source:On.Selection,...ye}})},customElementCb:ye=>{so({type:Jn.IncrementalSnapshot,data:{source:On.CustomElement,...ye}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:ee,inlineStylesheet:g,sampling:E,recordDOM:I,recordCanvas:j,inlineImages:N,userTriggeredOnInput:D,collectFonts:F,doc:Se,maskAttributeFn:w,maskInputFn:S,maskTextFn:C,keepIframeSrcFn:H,blockSelector:o,unblockSelector:s,slimDOMOptions:ne,dataURLOptions:A,mirror:nd,iframeManager:fe,stylesheetManager:q,shadowDomManager:Z,processedNodeManager:se,canvasManager:J,ignoreCSSAttributes:U,plugins:V?.filter(ye=>ye.observer)?.map(ye=>({observer:ye.observer,options:ye.options,callback:ve=>so({type:Jn.Plugin,data:{plugin:ye.name,payload:ve}})}))||[]},{});fe.addLoadListener(Se=>{try{de.push(be(Se.contentDocument))}catch(ye){console.warn(ye)}});const le=()=>{ue(),de.push(be(document))};return document.readyState==="interactive"||document.readyState==="complete"?le():(de.push(Va("DOMContentLoaded",()=>{so({type:Jn.DomContentLoaded,data:{}}),$==="DOMContentLoaded"&&le()})),de.push(Va("load",()=>{so({type:Jn.Load,data:{}}),$==="load"&&le()},window))),()=>{de.forEach(Se=>Se()),se.destroy(),K5=void 0,pEt()}}catch(de){console.warn(de)}}function OEt(e){if(!K5)throw new Error("please take full snapshot after start recording");K5(e)}Th.mirror=nd;Th.takeFullSnapshot=OEt;function IEt(e,t){try{return e?e(t):new Zhe}catch{return console.warn("Unable to initialize CanvasManager"),new Zhe}}var Qhe;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Qhe||(Qhe={}));const jEt=3,$Et=5;function qK(e){return e>9999999999?e:e*1e3}function s9(e){return e>9999999999?e/1e3:e}function TM(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Jn.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:sd(t,10,1e3)}}),t.category==="console")))}const FEt="button,a";function $Me(e){return e.closest(FEt)||e}function FMe(e){const t=LMe(e);return!t||!(t instanceof Element)?t:$Me(t)}function LMe(e){return LEt(e)?e.target:e}function LEt(e){return typeof e=="object"&&!!e&&"target"in e}let rm;function NEt(e){return rm||(rm=[],zEt()),rm.push(e),()=>{const t=rm?rm.indexOf(e):-1;t>-1&&rm.splice(t,1)}}function zEt(){Sl(Si,"open",function(e){return function(...t){if(rm)try{rm.forEach(n=>n())}catch{}return e.apply(Si,t)}})}const BEt=new Set([On.Mutation,On.StyleSheetRule,On.StyleDeclaration,On.AdoptedStyleSheet,On.CanvasMutation,On.Selection,On.MediaInteraction]);function UEt(e,t,n){e.handleClick(t,n)}class VEt{constructor(t,n,r=TM){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=NEt(()=>{this._lastMutation=Jhe()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(WEt(n,this._ignoreSelector)||!qEt(t))return;const r={timestamp:s9(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=s9(t)}registerScroll(t=Date.now()){this._lastScroll=s9(t)}registerClick(t){const n=$Me(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Jhe();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!i,{clickCount:s,clickBreadcrumb:a}=t;if(o){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,c=l<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Si.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:c,clickCount:s||1}};this._addBreadcrumbEvent(n,u);return}if(s>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Si.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=kM(()=>this._checkClicks(),1e3)}}const HEt=["A","BUTTON","INPUT"];function WEt(e,t){return!!(!HEt.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function qEt(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Jhe(){return Date.now()/1e3}function GEt(e,t){try{if(!YEt(t))return;const{source:n}=t.data;if(BEt.has(n)&&e.registerMutation(t.timestamp),n===On.Scroll&&e.registerScroll(t.timestamp),XEt(t)){const{type:r,id:i}=t.data,o=Th.mirror.getNode(i);o instanceof HTMLElement&&r===Da.Click&&e.registerClick(o)}}catch{}}function YEt(e){return e.type===jEt}function XEt(e){return e.data.source===On.MouseInteraction}function Pf(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var GK=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(GK||{});const KEt=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ZEt(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(KEt.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const QEt=e=>t=>{if(!e.isEnabled())return;const n=JEt(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i?.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&UEt(e.clickDetector,n,FMe(t.event)),TM(e,n)};function NMe(e,t){const n=Th.mirror.getId(e),r=n&&Th.mirror.getNode(n),i=r&&Th.mirror.getMeta(r),o=i&&tTt(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(s=>s.type===GK.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:ZEt(o.attributes)}}:{}}}function JEt(e){const{target:t,message:n}=eTt(e);return Pf({category:`ui.${e.name}`,...NMe(t,n)})}function eTt(e){const t=e.name==="click";let n,r=null;try{r=t?FMe(e.event):LMe(e.event),n=Ol(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function tTt(e){return e.type===GK.Element}function nTt(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=rTt(t);n&&TM(e,n)}function rTt(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:s}=e;if(!s||iTt(s)||!o)return null;const a=t||r||i,l=o.length===1;if(!a&&l)return null;const c=Ol(s,{maxStringLength:200})||"<unknown>",u=NMe(s,c);return Pf({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}function iTt(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const oTt={resource:uTt,paint:lTt,navigation:cTt};function a9(e,t){return({metric:n})=>{t.replayPerformanceEntries.push(e(n))}}function sTt(e){return e.map(aTt).filter(Boolean)}function aTt(e){const t=oTt[e.entryType];return t?t(e):null}function _S(e){return((Bl()||Si.performance.timeOrigin)+e)/1e3}function lTt(e){const{duration:t,entryType:n,name:r,startTime:i}=e,o=_S(i);return{type:n,name:r,start:o,end:o+t,data:void 0}}function cTt(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:g,type:y}=e;return i===0?null:{type:`${t}.${y}`,start:_S(p),end:_S(o),name:n,data:{size:g,decodedBodySize:r,encodedBodySize:s,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:o,redirectCount:f}}}function uTt(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:_S(o),end:_S(i),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}}function dTt(e){const t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return YK(e,"largest-contentful-paint",n)}function fTt(e){return e.sources!==void 0}function pTt(e){const t=[],n=[];for(const r of e.entries)if(fTt(r)){const i=[];for(const o of r.sources)if(o.node){n.push(o.node);const s=Th.mirror.getId(o.node);s&&i.push(s)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return YK(e,"cumulative-layout-shift",n,t)}function hTt(e){const t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return YK(e,"interaction-to-next-paint",n)}function YK(e,t,n,r){const i=e.value,o=e.rating,s=_S(i);return{type:"web-vital",name:t,start:s,end:s,data:{value:i,size:i,rating:o,nodeIds:n?n.map(a=>Th.mirror.getId(a)):void 0,attributions:r}}}function gTt(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(db(i,n))}),r.push($K(a9(dTt,e)),jK(a9(pTt,e)),JRe(a9(hTt,e))),()=>{r.forEach(i=>i())}}const En=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,mTt='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function yTt(){const e=new Blob([mTt]);return URL.createObjectURL(e)}const ege=["log","warn","error"],QI="[Replay] ";function l9(e,t="info"){o0({category:"console",data:{logger:"replay"},level:t,message:`${QI}${e}`},{level:t})}function vTt(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return En?(ege.forEach(r=>{n[r]=(...i)=>{wt[r](QI,...i),t&&l9(i.join(""),SRe(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),wt.error(QI,r),e?mM(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&l9(r,"error")},n.infoTick=(...r)=>{wt.log(QI,...r),t&&setTimeout(()=>l9(r[0]),0)}):ege.forEach(r=>{n[r]=()=>{}}),n}const Tn=vTt();class XK extends Error{constructor(){super(`Event buffer exceeded maximum size of ${zK}.`)}}class zMe{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>zK)throw new XK;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?qK(t):null}}class bTt{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){En&&Tn.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,o)=>{const s=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",s),!l.success){En&&Tn.error("Error in compression worker: ",l.response),o(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class xTt{constructor(t){this._worker=new bTt(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=qK(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>zK?Promise.reject(new XK):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{En&&Tn.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class wTt{constructor(t){this._fallback=new zMe,this._compression=new xTt(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){En&&Tn.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const o of t)i.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(o){En&&Tn.exception(o,"Failed to add events when switching buffers.")}}}function STt({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=_Tt(t);if(n)return n}return En&&Tn.log("Using simple buffer"),new zMe}function _Tt(e){try{const t=e||CTt();if(!t)return;En&&Tn.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new wTt(n)}catch(t){En&&Tn.exception(t,"Failed to create compression worker")}}function CTt(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?yTt():""}function KK(){try{return"sessionStorage"in Si&&!!Si.sessionStorage}catch{return!1}}function kTt(e){ETt(),e.session=void 0}function ETt(){if(KK())try{Si.sessionStorage.removeItem(LK)}catch{}}function BMe(e){return e===void 0?!1:Math.random()<e}function C4(e){if(KK())try{Si.sessionStorage.setItem(LK,JSON.stringify(e))}catch{}}function UMe(e){const t=Date.now(),n=e.id||xc(),r=e.started||t,i=e.lastActivity||t,o=e.segmentId||0,s=e.sampled,a=e.previousSessionId,l=e.dirty||!1;return{id:n,started:r,lastActivity:i,segmentId:o,sampled:s,previousSessionId:a,dirty:l}}function TTt(e,t){return BMe(e)?"session":t?"buffer":!1}function tge({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=TTt(e,t),o=UMe({sampled:i,previousSessionId:r});return n&&C4(o),o}function RTt(){if(!KK())return null;try{const e=Si.sessionStorage.getItem(LK);if(!e)return null;const t=JSON.parse(e);return En&&Tn.infoTick("Loading existing session"),UMe(t)}catch{return null}}function nW(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function VMe(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return nW(e.started,t,r)||nW(e.lastActivity,n,r)}function HMe(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!VMe(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function c9({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&RTt();return i?HMe(i,{sessionIdleExpire:e,maxReplayDuration:t})?(En&&Tn.infoTick("Session in sessionStorage is expired, creating new one..."),tge(r,{previousSessionId:i.id})):i:(En&&Tn.infoTick("Creating new session"),tge(r,{previousSessionId:n}))}function MTt(e){return e.type===Jn.Custom}function ZK(e,t,n){return qMe(e,t)?(WMe(e,t,n),!0):!1}function ATt(e,t,n){return qMe(e,t)?WMe(e,t,n):Promise.resolve(null)}async function WMe(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),s=PTt(t,o.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(o){const s=o&&o instanceof XK,a=s?"addEventSizeExceeded":"addEvent",l=Kn();if(l){const c=s?"buffer_overflow":"internal_sdk_error";l.recordDroppedEvent(c,"replay")}if(s&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a})}}function qMe(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=qK(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(En&&Tn.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function PTt(e,t){try{if(typeof t=="function"&&MTt(e))return t(e)}catch(n){return En&&Tn.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function QK(e){return!e.type}function rW(e){return e.type==="transaction"}function DTt(e){return e.type==="replay_event"}function nge(e){return e.type==="feedback"}function OTt(e){return(t,n)=>{if(!e.isEnabled()||!QK(t)&&!rW(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(rW(t)){ITt(e,t);return}jTt(e,t)}}}function ITt(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function jTt(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||kM(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function $Tt(e){return t=>{!e.isEnabled()||!QK(t)||FTt(e,t)}}function FTt(e,t){const n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Pf({category:"replay.hydrate-error",data:{url:Qb()}});TM(e,r)}}function LTt(e){const t=Kn();t&&t.on("beforeAddBreadcrumb",n=>NTt(e,n))}function NTt(e,t){if(!e.isEnabled()||!GMe(t))return;const n=zTt(t);n&&TM(e,n)}function zTt(e){return!GMe(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?BTt(e):Pf(e)}function BTt(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Pf(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>zD?(n=!0,`${i.slice(0,zD)}`):i;if(typeof i=="object")try{const o=sd(i,7);return JSON.stringify(o).length>zD?(n=!0,`${JSON.stringify(o,null,2).slice(0,zD)}`):o}catch{}return i});return Pf({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function GMe(e){return!!e.category}function UTt(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function YMe(){const e=Dr().getPropagationContext().dsc;e&&delete e.replay_id;const t=Ja();if(t){const n=Xh(t);delete n.replay_id}}function VTt(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Jn.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function HTt(e,t){return e.recordingMode!=="buffer"||t.message===NK||!t.exception||t.type?!1:BMe(e.getOptions().errorSampleRate)}function WTt(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(DTt(t))return delete t.breadcrumbs,t;if(!QK(t)&&!rW(t)&&!nge(t))return t;if(!e.checkAndHandleExpiredSession())return YMe(),t;if(nge(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),VTt(e,t),t;if(UTt(t,n)&&!e.getOptions()._experiments.captureExceptions)return En&&Tn.log("Ignoring error from rrweb internals",t),null;const i=HTt(e,t);if((i||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),i&&e.recordingMode==="buffer"&&e.session?.sampled==="buffer"){const s=e.session;s.dirty=!0,e.getOptions().stickySession&&C4(s)}return t},{id:"Replay"})}function k4(e,t){return t.map(({type:n,start:r,end:i,name:o,data:s})=>{const a=e.throttledAddEvent({type:Jn.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:i,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function qTt(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function GTt(e){return t=>{if(!e.isEnabled())return;const n=qTt(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(k4(e,[n]),!1)))}}function YTt(e,t){return En&&e.getOptions()._experiments.traceInternals?!1:bwt(t,Kn())}function XMe(e,t){e.isEnabled()&&t!==null&&(YTt(e,t.name)||e.addUpdate(()=>(k4(e,[t]),!0)))}function E4(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=lMe(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function KMe(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Z5(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function ZMe(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:s,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:o,statusCode:s,request:a,response:l}}}function jT(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Nm(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:o}=XTt(n);return r.body=i,o?.length&&(r._meta={warnings:o}),r}function iW(e,t){return Object.entries(e).reduce((n,[r,i])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n},{})}function XTt(e){if(!e||typeof e!="string")return{body:e};const t=e.length>$he,n=KTt(e);if(t){const r=e.slice(0,$he);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function KTt(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Q5(e,t){const n=ZTt(e);return kh(n,t)}function ZTt(e,t=Si.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Si.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function QTt(e,t,n){try{const r=await eRt(e,t,n),i=ZMe("resource.fetch",r);XMe(n.replay,i)}catch(r){En&&Tn.exception(r,"Failed to capture fetch breadcrumb")}}function JTt(e,t){const{input:n,response:r}=t,i=n?uMe(n):void 0,o=E4(i),s=r?KMe(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),s!==void 0&&(e.data.response_body_size=s)}async function eRt(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:s,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=Q5(s,n.networkDetailAllowUrls)&&!Q5(s,n.networkDetailDenyUrls),f=d?tRt(n,t.input,c):jT(c),p=await nRt(d,n,t.response,u);return{startTimestamp:i,endTimestamp:o,url:s,method:a,statusCode:l,request:f,response:p}}function tRt({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?oRt(n,t):{};if(!e)return Nm(i,r,void 0);const o=uMe(n),[s,a]=cMe(o,Tn),l=Nm(i,r,s);return a?Z5(l,a):l}async function nRt(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return jT(i);const o=r?QMe(r.headers,n):{};if(!r||!t&&i!==void 0)return Nm(o,i,void 0);const[s,a]=await iRt(r),l=rRt(s,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});return a?Z5(l,a):l}function rRt(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const o=e?.length&&n===void 0?E4(e):n;return r?t?Nm(i,o,e):Nm(i,o,void 0):jT(o)}catch(o){return En&&Tn.exception(o,"Failed to serialize response body"),Nm(i,n,void 0)}}async function iRt(e){const t=sRt(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await aRt(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(En&&Tn.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(En&&Tn.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function QMe(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function oRt(e,t){return e.length===1&&typeof e[0]!="string"?rge(e[0],t):e.length===2?rge(e[1],t):{}}function rge(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?QMe(n,t):Array.isArray(n)?{}:iW(n,t):{}}function sRt(e){try{return e.clone()}catch(t){En&&Tn.exception(t,"Failed to clone response body")}}function aRt(e){return new Promise((t,n)=>{const r=kM(()=>n(new Error("Timeout while trying to read response body")),500);lRt(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function lRt(e){return await e.text()}async function cRt(e,t,n){try{const r=dRt(e,t,n),i=ZMe("resource.xhr",r);XMe(n.replay,i)}catch(r){En&&Tn.exception(r,"Failed to capture xhr breadcrumb")}}function uRt(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=E4(r),o=n.getResponseHeader("content-length")?KMe(n.getResponseHeader("content-length")):hRt(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function dRt(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:s,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:f}=e.data;if(!l)return null;if(!a||!Q5(l,n.networkDetailAllowUrls)||Q5(l,n.networkDetailDenyUrls)){const T=jT(d),E=jT(f);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:T,response:E}}const p=a[fv],g=p?iW(p.request_headers,n.networkRequestHeaders):{},y=iW(dMe(a),n.networkResponseHeaders),[v,x]=n.networkCaptureBodies?cMe(s,Tn):[void 0],[w,S]=n.networkCaptureBodies?fRt(a):[void 0],C=Nm(g,d,v),k=Nm(y,f,w);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:x?Z5(C,x):C,response:S?Z5(k,S):k}}function fRt(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return pRt(e.response,e.responseType)}catch(n){t.push(n)}return En&&Tn.warn("Failed to get xhr response body",...t),[void 0]}function pRt(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return En&&Tn.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return En&&Tn.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function hRt(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return E4(n)}catch{return}}function gRt(e){const t=Kn();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(l,c)=>mRt(a,l,c))}catch{}}function mRt(e,t,n){if(t.data)try{yRt(t)&&bRt(n)&&(uRt(t,n),cRt(t,n,e)),vRt(t)&&xRt(n)&&(JTt(t,n),QTt(t,n,e))}catch(r){En&&Tn.exception(r,"Error when enriching network breadcrumb")}}function yRt(e){return e.category==="xhr"}function vRt(e){return e.category==="fetch"}function bRt(e){return e?.xhr}function xRt(e){return e?.response}function wRt(e){const t=Kn();oMe(QEt(e)),x4(GTt(e)),LTt(e),gRt(e);const n=WTt(e);z1t(n),t&&(t.on("beforeSendEvent",$Tt(e)),t.on("afterSendEvent",OTt(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,i)=>{const o=e.getSessionId();i?.includeReplay&&e.isEnabled()&&o&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function SRt(e){try{return Promise.all(k4(e,[_Rt(Si.performance.memory)]))}catch{return[]}}function _Rt(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function CRt(e,t,n){return kwt(e,t,{...n,setTimeoutImpl:kM})}const HD=hr.navigator;function kRt(){return/iPhone|iPad|iPod/i.test(HD?.userAgent??"")||/Macintosh/i.test(HD?.userAgent??"")&&HD?.maxTouchPoints&&HD?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function ERt(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){En&&Tn.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&GEt(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!ZK(e,n,i))return!0;if(!i)return!1;const o=e.session;if(RRt(e,i),e.recordingMode==="buffer"&&o&&e.eventBuffer&&!o.dirty){const s=e.eventBuffer.getEarliestTimestamp();s&&(En&&Tn.log(`Updating session start time to earliest event in buffer to ${new Date(s)}`),o.started=s,e.getOptions().stickySession&&C4(o))}return o?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function TRt(e){const t=e.getOptions();return{type:Jn.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function RRt(e,t){!t||!e.session||e.session.segmentId!==0||ZK(e,TRt(e),!1)}function MRt(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ARt(e,t,n,r){return j0(KTe(e,gK(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function PRt({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function DRt({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:i};e.emit("preprocessEvent",r,o);const s=await nRe(e.getOptions(),r,o,t,e,Bu());if(!s)return null;e.emit("postprocessEvent",s,o),s.platform=s.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:c,settings:u}=a?.sdk||{};return s.sdk={...s.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0",settings:u},s}async function ORt({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){const s=PRt({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:u}=r,d=Kn(),f=Dr(),p=d?.getTransport(),g=d?.getDsn();if(!d||!p||!g||!o.sampled)return Promise.resolve({});const y={type:ckt,replay_start_timestamp:u/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},v=await DRt({scope:f,client:d,replayId:t,event:y});if(!v)return d.recordDroppedEvent("event_processor","replay"),En&&Tn.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete v.sdkProcessingMetadata;const x=ARt(v,s,g,d.getOptions().tunnel);let w;try{w=await p.send(x)}catch(C){const k=new Error(NK);try{k.cause=C}catch{}throw k}if(typeof w.statusCode=="number"&&(w.statusCode<200||w.statusCode>=300))throw new JMe(w.statusCode);const S=pRe({},w);if(fRe(S,"replay"))throw new JK(S);return w}class JMe extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class JK extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function eAe(e,t={count:0,interval:gkt}){const{recordingData:n,onError:r}=e;if(n.length)try{return await ORt(e),!0}catch(i){if(i instanceof JMe||i instanceof JK)throw i;if(iRe("Replays",{_retryCount:t.count}),r&&r(i),t.count>=mkt){const o=new Error(`${NK} - max retries exceeded`);try{o.cause=i}catch{}throw o}return t.interval*=++t.count,new Promise((o,s)=>{kM(async()=>{try{await eAe(e,t),o(!0)}catch(a){s(a)}},t.interval)})}}const tAe="__THROTTLED",IRt="__SKIPPED";function jRt(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((c,u)=>{u<l&&r.delete(u)})},o=()=>[...r.values()].reduce((a,l)=>a+l,0);let s=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),o()>=t){const u=s;return s=!0,u?IRt:tAe}s=!1;const c=r.get(l)||0;return r.set(l,c+1),e(...a)}}class $Rt{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:ukt,sessionIdleExpire:dkt},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=CRt(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=jRt((s,a)=>ATt(this,s,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),o=r?{threshold:Math.min(ykt,r),timeout:r,scrollTimeout:vkt,ignoreSelector:i?i.join(","):""}:void 0;if(o&&(this.clickDetector=new VEt(this,o)),En){const s=t._experiments;Tn.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{Si.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const s=Pf({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{const s=Pf({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{nTt(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){En&&Tn.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){En&&Tn.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",En&&Tn.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){En&&Tn.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){En&&Tn.log("Buffering is in progress, call `flush()` to save the replay");return}En&&Tn.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=c9({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){En&&Tn.log("Buffering is in progress, call `flush()` to save the replay");return}En&&Tn.infoTick("Starting replay in buffer mode");const t=c9({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Th({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:hkt}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:ERt(this),...kRt(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{En&&Tn.log(`Stopping Replay${n?` triggered by ${n}`:""}`),YMe(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,kTt(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),En&&Tn.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),En&&Tn.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();En&&Tn.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){if(!(t&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&nW(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Si.location.pathname}${Si.location.hash}${Si.location.search}`,n=`${Si.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===tAe){const i=Pf({category:"replay.throttled"});this.addUpdate(()=>!ZK(this,{type:$Et,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Ja(),n=t&&ha(t),i=(n&&_r(n).data||{})[vd];if(!(!n||!i||!["route","custom"].includes(i)))return _r(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=STt({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=c9({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return HMe(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Si.document.addEventListener("visibilitychange",this._handleVisibilityChange),Si.addEventListener("blur",this._handleWindowBlur),Si.addEventListener("focus",this._handleWindowFocus),Si.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(wRt(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=gTt(this)}_removeListeners(){try{Si.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Si.removeEventListener("blur",this._handleWindowBlur),Si.removeEventListener("focus",this._handleWindowFocus),Si.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||VMe(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){En&&Tn.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Jn.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=sTt(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(k4(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){En&&Tn.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await SRt(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await eAe({replayId:t,recordingData:o,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=Kn();if(r){const i=n instanceof JK?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){En&&Tn.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const o=i<this._options.minReplayDuration,s=i>this._options.maxReplayDuration+5e3;if(o||s){En&&Tn.log(`Session duration (${Math.floor(i/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&En&&Tn.log("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(c){this.handleException(c)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&C4(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(a=>{const l=MRt(a.target),c=n.join(",");return l?.matches(c)}))return!1;const r=t.length,i=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,s=i&&r>i;if(r>o||s){const a=Pf({category:"replay.mutations",data:{count:r,limit:s}});this._createCustomBreadcrumb(a)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function U2(e,t){return[...e,...t].join(",")}function FRt({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const o=["base","iframe[srcdoc]:not([src])"],s=U2(e,[".sentry-mask","[data-sentry-mask]"]),a=U2(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:U2(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:U2(r,[]),ignoreSelector:U2(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function LRt({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const ige='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',NRt=["content-length","content-type","accept"],zRt=Symbol.for("sentry__originalRequestBody");let oge=!1,sge=!1;function BRt(){if(typeof Request>"u"||sge)return;const e=Request;try{const t=function(n,r){const i=new e(n,r);return r?.body!=null&&(i[zRt]=r.body),i};t.prototype=e.prototype,hr.Request=t,sge=!0}catch{}}const URt=(e=>new VRt(e));class VRt{constructor({flushMinDelay:t=fkt,flushMaxDelay:n=pkt,minReplayDuration:r=bkt,maxReplayDuration:i=Fhe,stickySession:o=!0,useCompression:s=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:y=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:x=[],networkCaptureBodies:w=!0,networkRequestHeaders:S=[],networkResponseHeaders:C=[],mask:k=[],maskAttributes:T=["title","placeholder","aria-label"],unmask:E=[],block:A=[],unblock:O=[],ignore:I=[],maskFn:j,beforeAddRecordingEvent:P,beforeErrorSampling:$,onError:D,attachRawBodyFromRequest:F=!1}={}){this.name="Replay";const N=FRt({mask:k,unmask:E,block:A,unblock:O,ignore:I});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:j,maskInputFn:j,maskAttributeFn:(V,H,U)=>LRt({maskAttributes:T,maskAllText:c,privacyOptions:N,key:V,value:H,el:U}),...N,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:V=>{try{V.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!l.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,xkt),maxReplayDuration:Math.min(i,Fhe),stickySession:o,useCompression:s,workerUrl:a,blockAllMedia:d,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:g,slowClickIgnoreSelectors:y,networkDetailAllowUrls:v,networkDetailDenyUrls:x,networkCaptureBodies:w,networkRequestHeaders:age(S),networkResponseHeaders:age(C),beforeAddRecordingEvent:P,beforeErrorSampling:$,onError:D,attachRawBodyFromRequest:F,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ige}`:ige,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&N5())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return oge}set _isInitialized(t){oge=t}afterAllSetup(t){!N5()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&BRt(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){if(this._replay?.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=HRt(this._initialOptions,t);this._replay=new $Rt({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function HRt(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},i=cb(n.replaysSessionSampleRate),o=cb(n.replaysOnErrorSampleRate);return i==null&&o==null&&Zb(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),o!=null&&(r.errorSampleRate=o),r}function age(e){return[...NRt,...e.map(t=>t.toLowerCase())]}function WRt(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function nAe(e){try{return new URL(e,Cr.location.origin).href}catch{return}}function qRt(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function rAe(e){try{return new Headers(e)}catch{return}}const lge=new WeakMap,u9=new Map,iAe={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function GRt(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:l,onRequestSpanEnd:c}={...iAe,...t},u=typeof o=="function"?o:g=>!0,d=g=>YRt(g,a),f={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(g=>(g.type==="transaction"&&g.spans&&g.spans.forEach(y=>{if(y.op==="http.client"){const v=u9.get(y.span_id);v&&(y.timestamp=v/1e3,u9.delete(y.span_id))}}),g)),i&&aSt(g=>{if(g.response){const y=lge.get(g.response);y&&g.endTimestamp&&u9.set(y,g.endTimestamp)}}),ERe(g=>{const y=Kwt(g,u,d,f,{propagateTraceparent:p,onRequestSpanEnd:c});if(g.response&&g.fetchData.__span&&lge.set(g.response,g.fetchData.__span),y){const v=nAe(g.fetchData.url),x=v?Iv(v).host:void 0;y.setAttributes({"http.url":v,"server.address":x}),s&&cge(y),l?.(y,{headers:g.headers})}})),r&&aMe(g=>{const y=XRt(g,u,d,f,p,c);y&&(s&&cge(y),l?.(y,{headers:rAe(g.xhr.__sentry_xhr_v3__?.request_headers)}))})}function cge(e){const{url:t}=_r(e).data;if(!t||typeof t!="string")return;const n=db("resource",({entries:r})=>{r.forEach(i=>{qRt(i)&&i.name.endsWith(t)&&(e.setAttributes(iMe(i)),setTimeout(n))})})}function YRt(e,t){const n=Qb();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const o=r.origin===i;return t?kh(r.toString(),t)||o&&kh(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?kh(e,t):r}}function XRt(e,t,n,r,i,o){const s=e.xhr,a=s?.[fv];if(!s||s.__sentry_own_request__||!a)return;const{url:l,method:c}=a,u=Md()&&t(l);if(e.endTimestamp&&u){const x=s.__sentry_xhr_span_id__;if(!x)return;const w=r[x];w&&a.status_code!==void 0&&(ITe(w,a.status_code),w.end(),o?.(w,{headers:rAe(dMe(s)),error:e.error}),delete r[x]);return}const d=nAe(l),f=Iv(d||l),p=vwt(l),g=!!Ja(),y=u&&g?F_({name:`${c} ${p}`,attributes:{url:l,type:"xhr","http.method":c,"http.url":d,"server.address":f?.host,[os]:"auto.http.browser",[Yh]:"http.client",...f?.search&&{"http.query":f?.search},...f?.hash&&{"http.fragment":f?.hash}}}):new i0;s.__sentry_xhr_span_id__=y.spanContext().spanId,r[s.__sentry_xhr_span_id__]=y,n(l)&&KRt(s,Md()&&g?y:void 0,i);const v=Kn();return v&&v.emit("beforeOutgoingRequestSpan",y,e),y}function KRt(e,t,n){const{"sentry-trace":r,baggage:i,traceparent:o}=wRe({span:t,propagateTraceparent:n});r&&ZRt(e,r,i,o)}function ZRt(e,t,n,r){const i=e.__sentry_xhr_v3__?.request_headers;if(!(i?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!i?.traceparent&&e.setRequestHeader("traceparent",r),n){const o=i?.baggage;(!o||!WRt(o))&&e.setRequestHeader("baggage",n)}}catch{}}function QRt(){Cr.document?Cr.document.addEventListener("visibilitychange",()=>{const e=Ja();if(!e)return;const t=ha(e);if(Cr.document.hidden&&t){const n="cancelled",{op:r,status:i}=_r(t);Pu&&wt.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Zo,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Pu&&wt.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const JRt=3600,oAe="sentry_previous_trace",eMt="sentry.previous_trace";function tMt(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let i=r?iMt():void 0;e.on("spanStart",s=>{if(ha(s)!==s)return;const a=Dr().getPropagationContext();i=nMt(i,s,a),r&&rMt(i)});let o=!0;n&&e.on("beforeSampling",s=>{if(!i)return;const a=Dr(),l=a.getPropagationContext();if(o&&l.parentSpanId){o=!1;return}a.setPropagationContext({...l,dsc:{...l.dsc,sample_rate:String(i.sampleRate),sampled:String(oW(i.spanContext))},sampleRand:i.sampleRand}),s.parentSampled=oW(i.spanContext),s.parentSampleRate=i.sampleRate,s.spanAttributes={...s.spanAttributes,[OTe]:i.sampleRate}})}function nMt(e,t,n){const r=_r(t);function i(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[cK])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return o;const s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=JRt&&(Pu&&wt.log(`Adding previous_trace \`${JSON.stringify(s)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:s,attributes:{[dxt]:"previous_trace"}}),t.setAttribute(eMt,`${s.traceId}-${s.spanId}-${oW(s)?1:0}`)),o)}function rMt(e){try{Cr.sessionStorage.setItem(oAe,JSON.stringify(e))}catch(t){Pu&&wt.warn("Could not store previous trace in sessionStorage",t)}}function iMt(){try{const e=Cr.sessionStorage?.getItem(oAe);return JSON.parse(e)}catch{return}}function oW(e){return e.traceFlags===1}const oMt="BrowserTracing",sMt={...BI,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...iAe},aMt=((e={})=>{const t={name:void 0,source:void 0},n=Cr.document,{enableInp:r,enableElementTiming:i,enableLongTask:o,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:l,enableStandaloneLcpSpans:c},beforeStartSpan:u,idleTimeout:d,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:g,traceFetch:y,traceXHR:v,trackFetchStreamPerformance:x,shouldCreateSpanForRequest:w,enableHTTPTimings:S,ignoreResourceSpans:C,ignorePerformanceApiSpans:k,instrumentPageLoad:T,instrumentNavigation:E,detectRedirects:A,linkPreviousTrace:O,consistentTraceSampling:I,enableReportPageLoaded:j,onRequestSpanStart:P,onRequestSpanEnd:$}={...sMt,...e};let D,F,N;function V(H,U,G=!0){const z=U.op==="pageload",W=U.name,X=u?u(U):U,Q=X.attributes||{};if(W!==X.name&&(Q[vd]="custom",X.attributes=Q),!G){const oe=Jb();F_({...X,startTime:oe}).end(oe);return}t.name=X.name,t.source=Q[vd];const ee=tRe(X,{idleTimeout:d,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:z,beforeSpanEnd:oe=>{D?.(),DCt(oe,{recordClsOnPageloadSpan:!l,recordLcpOnPageloadSpan:!c,ignoreResourceSpans:C,ignorePerformanceApiSpans:k}),dge(H,void 0);const ce=Dr(),re=ce.getPropagationContext();ce.setPropagationContext({...re,traceId:ee.spanContext().traceId,sampled:I0(ee),dsc:Xh(oe)}),z&&(N=void 0)},trimIdleSpanEndTimestamp:!j});z&&j&&(N=ee),dge(H,ee);function ne(){n&&["interactive","complete"].includes(n.readyState)&&H.emit("idleSpanEnableAutoFinish",ee)}z&&!j&&n&&(n.addEventListener("readystatechange",()=>{ne()}),ne())}return{name:oMt,setup(H){if(zxt(),D=kCt({recordClsStandaloneSpans:l||!1,recordLcpStandaloneSpans:c||!1,client:H}),r&&i2t(),i&&HCt(),s&&hr.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?TCt():o&&ECt(),a&&RCt(),A&&n){const G=()=>{F=ws()};addEventListener("click",G,{capture:!0}),addEventListener("keydown",G,{capture:!0,passive:!0})}function U(){const G=$T(H);G&&!_r(G).timestamp&&(Pu&&wt.log(`[Tracing] Finishing current active span with op: ${_r(G).op}`),G.setAttribute(RT,"cancelled"),G.end())}H.on("startNavigationSpan",(G,z)=>{if(Kn()!==H)return;if(z?.isRedirect){Pu&&wt.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),V(H,{op:"navigation.redirect",...G},!1);return}F=void 0,U(),Bu().setPropagationContext({traceId:Gh(),sampleRand:Math.random(),propagationSpanId:Md()?void 0:Eh()});const W=Dr();W.setPropagationContext({traceId:Gh(),sampleRand:Math.random(),propagationSpanId:Md()?void 0:Eh()}),W.setSDKProcessingMetadata({normalizedRequest:void 0}),V(H,{op:"navigation",...G,parentSpan:null,forceTransaction:!0})}),H.on("startPageLoadSpan",(G,z={})=>{if(Kn()!==H)return;U();const W=z.sentryTrace||uge("sentry-trace"),X=z.baggage||uge("baggage"),Q=Pxt(W,X),ee=Dr();ee.setPropagationContext(Q),Md()||(ee.getPropagationContext().propagationSpanId=Eh()),ee.setSDKProcessingMetadata({normalizedRequest:RK()}),V(H,{op:"pageload",...G})}),H.on("endPageloadSpan",()=>{j&&N&&(N.setAttribute(RT,"reportPageLoaded"),N.end())})},afterAllSetup(H){let U=Qb();if(O!=="off"&&tMt(H,{linkPreviousTrace:O,consistentTraceSampling:I}),Cr.location){if(T){const G=Bl();lMt(H,{name:Cr.location.pathname,startTime:G?G/1e3:void 0,attributes:{[vd]:"url",[os]:"auto.pageload.browser"}})}E&&x4(({to:G,from:z})=>{if(z===void 0&&U?.indexOf(G)!==-1){U=void 0;return}U=void 0;const W=SK(G),X=$T(H),Q=X&&A&&dMt(X,F);cMt(H,{name:W?.pathname||Cr.location.pathname,attributes:{[vd]:"url",[os]:"auto.navigation.browser"}},{url:G,isRedirect:Q})})}g&&QRt(),a&&uMt(H,d,f,p,t),r&&a2t(),GRt(H,{traceFetch:y,traceXHR:v,trackFetchStreamPerformance:x,tracePropagationTargets:H.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:w,enableHTTPTimings:S,onRequestSpanStart:P,onRequestSpanEnd:$})}}});function lMt(e,t,n){e.emit("startPageLoadSpan",t,n),Dr().setTransactionName(t.name);const r=$T(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function cMt(e,t,n){const{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const o=Dr();return o.setTransactionName(t.name),r&&!i&&o.setSDKProcessingMetadata({normalizedRequest:{...RK(),url:r}}),$T(e)}function uge(e){return Cr.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function uMt(e,t,n,r,i){const o=Cr.document;let s;const a=()=>{const l="ui.action.click",c=$T(e);if(c){const u=_r(c).op;if(["navigation","pageload"].includes(u)){Pu&&wt.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(RT,"interactionInterrupted"),s.end(),s=void 0),!i.name){Pu&&wt.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}s=tRe({name:i.name,op:l,attributes:{[vd]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",a,{capture:!0})}const sAe="_sentry_idleSpan";function $T(e){return e[sAe]}function dge(e,t){Ac(e,sAe,t)}const fge=1.5;function dMt(e,t){const n=_r(e),r=Jb(),i=n.start_timestamp;return!(r-i>fge||t&&r-t<=fge)}function fMt(e){const t={...e};return xRe(t,"react"),iRe("react",{version:R.version}),lkt(t)}const pMt=(e,t="error")=>{mM(new Error(e[0]),{level:t,extra:{messages:e.slice(1)}})},Vo={init:()=>{},debug:e=>{console.log(e)},info:e=>{console.log(e)},warn:e=>{console.log(e)},error:(...e)=>{console.log(...e),pMt(e)}},RM=(e,t,n)=>{const r=e.getQueryData(bo({path:{pipe_id:t}}));r&&Mbt(e,t,n,r)};function hMt(){return kn({...Cbt()})}function eZ(){const e=pn();return kn({...Vvt(),onSuccess:async t=>{await e.invalidateQueries({queryKey:_a()}),await e.invalidateQueries({queryKey:Xb()}),e.invalidateQueries({queryKey:bo({path:{pipe_id:t.id}})})}})}function T4(){const e=pn();return kn({...Gb(),onSuccess:async(t,n)=>{await e.invalidateQueries({queryKey:Xb()}),e.invalidateQueries({queryKey:_a()}),e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})}),e.invalidateQueries({queryKey:fM({path:{pipe_id:n.path.pipe_id}})})}})}function aAe(){const e=pn();return kn({...gbt(),onSuccess:async()=>{await e.invalidateQueries({queryKey:d4()})}})}function gMt(){const e=pn();return kn({...pbt(),onSuccess:t=>{e.invalidateQueries({queryKey:d4()}),e.invalidateQueries({queryKey:M_()}),e.invalidateQueries({queryKey:gTe({path:{tag_id:t.id}})}),e.invalidateQueries({queryKey:["block"]})}})}function R4(){return Hi({...hbt()})}function mMt(e){return Hi({...mbt({path:{tag_id:e}})})}function ls(e){return Hi({...Lvt({path:{pipe_id:e}})})}function yMt(e,t,n){return Hi({...yTe({path:{username:e,block_id:t,pipe_id:n}})})}function vMt(e,t,n){return Hi({...Ebt({path:{pipe_id:e,block_id:t,username:n}})})}function bMt(){return kn({...abt()})}function xMt(){const e=pn();return kn({...Ovt(),onMutate:async()=>{await e.invalidateQueries()},onSuccess:t=>{A_().setToken(t.token)}})}function wMt(){return Hi({...Fvt()})}function SMt(){return Hi({...vbt()})}function z_(){return Hi({...fbt()})}function lAe(){return Hi({...lbt()})}function B_(e,t,n){return Hi({...wbt({path:{pipe_id:e,block_id:t,username:n}}),queryKey:["block",e,t,n],enabled:!isNaN(e)&&!isNaN(t)&&!!n})}function tZ(e){return Hi({...hTe({query:e?{tag_name:e}:void 0})})}function _Mt(e,t,n){return Hi({...yTe({path:{username:n,block_id:t,pipe_id:e}}),enabled:!!e&&!!t&&!!n})}function CMt(e,t,n,r=!1){return Hi({..._bt({path:{username:n,block_id:t,pipe_id:e},query:{include_full_stats:r}}),enabled:!!e&&!!t&&!!n})}function kMt(){const e=pn();return kn({...ybt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:Xb()}),e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.template_id}})}),e.invalidateQueries({queryKey:_a()})}})}function nZ(){const e=pn();return kn({...ubt(),onSuccess:()=>{e.invalidateQueries({queryKey:_a()})}})}function EMt(){const e=pn();return kn({...Ivt(),onSuccess:()=>{e.invalidateQueries({queryKey:dM()})}})}function TMt(){return Hi({...Dvt()})}function RMt(){const e=pn();return kn({...Pvt(),onSuccess:()=>{e.invalidateQueries({queryKey:dM()})}})}function MMt(){const e=pn();return kn({...Avt(),onSuccess:()=>{e.invalidateQueries({queryKey:dM()})}})}function AMt(){const e=pn();return kn({...jvt(),onSuccess:()=>{e.invalidateQueries({queryKey:dM()})}})}function U_(e){return Hi({...ibt({path:{file_uuid:e}})})}function M4({fileUuid:e,pagination:t={pageIndex:0,pageSize:10},filters:n,sorting:r,enabled:i=!0}){return Hi({queryKey:["getUserFileData",e,t?.pageIndex,t?.pageSize,n,r],enabled:!!(e&&i),queryFn:async()=>{const{data:o}=await ovt({path:{file_uuid:e},body:{start:(t?.pageIndex??0)*(t?.pageSize??10),size:t?.pageSize??10,filters:n??[],sorting:r??[]},throwOnError:!0,meta:{skipErrorSnackbar:!0}}),s=Array.isArray(o)?o[0]:o;if(!s?.df)return{rows:[],columns:[],totalLength:0};const a=typeof s.df=="string"?JSON.parse(s.df):s.df,l=s.meta?.columns??(a[0]?Object.keys(a[0]):[]),c=s.meta?.length??a.length;return{rows:a,columns:l,totalLength:c}}})}function PMt(){const e=pn();return kn({mutationFn:async({body:t,onUploadProgress:n})=>{const{data:r}=await tvt({body:t,onUploadProgress:n,throwOnError:!0});return r},onSuccess:()=>{e.invalidateQueries({queryKey:M_()})}})}function cAe(){const e=pn();return kn({...cbt(),onSuccess:()=>{e.invalidateQueries({queryKey:_a()})}})}function DMt(){const e=pn();return kn({...bbt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:_a()}),e.removeQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})})}})}function rZ(){const e=pn();return kn({...obt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["file",n.path.file_uuid]}),e.invalidateQueries({queryKey:M_()}),e.invalidateQueries({queryKey:d4()}),e.invalidateQueries({queryKey:[{_id:"getUserTag"}]}),e.invalidateQueries({queryKey:Xb()}),e.invalidateQueries({queryKey:["block"]}),e.invalidateQueries({queryKey:pTe({path:{file_uuid:n.path.file_uuid}})})}})}function uAe(){const e=pn();return kn({...rbt(),onSuccess:()=>{e.invalidateQueries({queryKey:M_()})}})}function OMt(){const e=pn();return kn({...sbt(),onSuccess:()=>{e.invalidateQueries({queryKey:M_()})}})}const IMt=e=>Hi({...hTe({query:{filename:e}})});function jMt(){const e=pn();return kn({...Gb(),onSuccess:t=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:t.id}})}),e.removeQueries({queryKey:_a()}),e.invalidateQueries({queryKey:fM({path:{pipe_id:t.id}})})}})}function $Mt(){const e=pn();return kn({...Gb(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})}),e.invalidateQueries({queryKey:_a()})}})}const FMt=e=>(e.blocks??[]).flatMap(t=>t?.reports?.map(n=>n.id)??[]);function LMt(){const e=pn();return kn({...Gb(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})}),e.invalidateQueries({queryKey:_a()}),FMt(t).forEach(i=>{e.removeQueries({queryKey:up({path:{id:i}})})}),e.invalidateQueries({queryKey:["block",n.path.pipe_id]}),e.removeQueries({queryKey:fM({path:{pipe_id:n.path.pipe_id}})})}})}function NMt(){const e=pn();return kn({...Gb(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})}),e.invalidateQueries({queryKey:_a()})}})}function zMt(){const e=pn();return kn({...Gb(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})}),e.invalidateQueries({queryKey:["block",n.path.pipe_id]}),e.invalidateQueries({queryKey:["runPipe",n.path.pipe_id]}),e.invalidateQueries({queryKey:_a()})}})}function BMt(){const e=pn();return kn({...Gb(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})}),e.invalidateQueries({queryKey:_a()})}})}function dAe({pipeId:e,nodeId:t,username:n,preview:r,pagination:i,filters:o,sorting:s,showFilteredRows:a}){return Hi({queryKey:["runPipe",e,t,n,i,o,s,a],enabled:!!(e&&t&&n),queryFn:async()=>{try{const{data:l}=await kvt({path:{username:n,pipe_id:e},body:{until_node_id:t,row_limit:r?10:void 0,start:(i?.pageIndex??0)*(i?.pageSize??10),size:i?.pageSize??10,filters:o?.columnFilters??[],sorting:s??[],show_filtered_rows:a??!1},throwOnError:!0});return l.map(c=>({df:JSON.parse(c.df),meta:c.meta}))}catch(l){throw Vo.error("Could not get contents for file:",l),l}}})}function UMt(){const e=pn();return kn({...Sbt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["spec",n.path.pipe_id,n.path.block_id,n.path.username]}),e.invalidateQueries({queryKey:["block",n.path.pipe_id,n.path.block_id,n.path.username]})}})}function VMt({pipeId:e,blockId:t,username:n,height:r,width:i,enabled:o=!0}){return Hi({queryKey:["spec",e,t,n],enabled:o,queryFn:async()=>{try{const{data:s}=await _vt({path:{username:n,pipe_id:e,block_id:t},body:{height:r,width:i},throwOnError:!0});return s}catch(s){const a=s;throw a.response?.status===404?new Error("Specification not found"):a.response?.status===403?new Error("You do not have permission to view this specification"):new Error(a.response?.data?.message||"Failed to load specification")}},retry:2,retryDelay:s=>Math.min(1e3*2**s,3e4)})}function fAe({pipeId:e,blockId:t,username:n,sparsify:r,height:i,width:o,signal:s,includeDescription:a,format:l,enabled:c=!0}){return Hi({queryKey:["plotPreview",e,t,n,r,i,o,a,l],queryFn:async()=>{if(!e||!t||!n)return;const{data:u}=await Cvt({path:{username:n,pipe_id:e,block_id:t},query:{sparsify:r,height:i,width:o,include_description:a,download:!1,format:l},signal:s,throwOnError:!0});return u?.text()},gcTime:1e3*60*5,staleTime:1e3*60*2,enabled:!!(e&&t&&n&&c)})}function HMt(){const e=pn();return kn({...tbt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.body.pipe_id}})}),e.invalidateQueries({queryKey:Xb()})}})}function pAe(){const e=pn();return kn({...nbt(),onSuccess:async t=>{e.invalidateQueries({queryKey:Xb()}),e.invalidateQueries({queryKey:bo({path:{pipe_id:t.id}})}),t.dashboard_ids.forEach(n=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n}})})})}})}function hAe(){return Hi({...Hvt()})}function og(e){return Hi({...Gvt({path:{id:e}})})}function A4(){const e=pn();return kn({...Yvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:up({path:{id:n.path.id}})}),e.invalidateQueries({queryKey:Yb()})}})}function gAe(){const e=pn();return kn({...Wvt(),onSuccess:()=>{e.invalidateQueries({queryKey:Yb()})}})}function WMt(){const e=pn();return kn({...qvt(),onSuccess:()=>{e.invalidateQueries({queryKey:Yb()})}})}function mAe(){const e=pn();return kn({...Kvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:Yb()}),e.invalidateQueries({queryKey:up({path:{id:n.path.id}})})}})}function qMt(){const e=pn();return kn({...ebt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:up({path:{id:n.path.report_id}})})}})}function GMt(){const e=pn();return kn({...Jvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:up({path:{id:n.path.report_id}})})}})}function YMt(){const e=pn();return kn({...Qvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:up({path:{id:n.path.report_id}})})}})}function iZ(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,title:i,description:o})=>{const{data:s}=await ig({body:{operation:"update_details",value:[i,o??""]},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return s},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["block",n.pipeId,parseInt(n.nodeId.toString()),n.username]}),e.invalidateQueries({queryKey:bo({path:{pipe_id:n.pipeId}})}),e.invalidateQueries({queryKey:_a()}),e.invalidateQueries({queryKey:["plotPreview",n.pipeId,n.nodeId]})}})}function yAe(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,configuration:i})=>{const{data:o}=await ig({body:{operation:"update_configuration",value:i},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return o},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["block",n.pipeId,n.nodeId]}),e.invalidateQueries({queryKey:["runPipe",n.pipeId,n.nodeId]}),e.invalidateQueries({queryKey:O5({path:{username:n.username,pipe_id:n.pipeId,block_id:n.nodeId}})}),e.invalidateQueries({queryKey:O5({path:{username:n.username,pipe_id:n.pipeId,block_id:n.nodeId}})}),e.invalidateQueries({queryKey:mTe({path:{username:n.username,pipe_id:n.pipeId,block_id:n.nodeId}})}),e.invalidateQueries({queryKey:["spec",n.pipeId,n.nodeId]}),e.invalidateQueries({queryKey:["plotPreview",n.pipeId,n.nodeId]}),RM(e,n.pipeId,n.nodeId)}})}function oZ(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,value:i})=>{const{data:o}=await ig({body:{operation:"update_value",value:i},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return o},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.pipeId}})}),e.invalidateQueries({queryKey:["block",n.pipeId,n.nodeId]}),e.invalidateQueries({queryKey:["plotPreview",n.pipeId,n.nodeId]}),RM(e,n.pipeId,n.nodeId)}})}function sZ(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,skip:i})=>{const{data:o}=await ig({body:{operation:"update_skip_flag",value:i},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return o},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["block",n.pipeId]}),e.invalidateQueries({queryKey:["spec",n.pipeId]}),e.invalidateQueries({queryKey:bo({path:{pipe_id:n.pipeId}})}),e.invalidateQueries({queryKey:_a()}),e.invalidateQueries({queryKey:["runPipe",n.pipeId,n.nodeId]}),RM(e,n.pipeId,n.nodeId)}})}function XMt(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,viewInDashboard:i})=>{const{data:o}=await ig({body:{operation:"update_dashboard_flag",value:i},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return o},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.pipeId}})}),e.invalidateQueries({queryKey:_a()})}})}function vAe(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,config:i})=>{const{data:o}=await ig({body:{operation:"update_filter_config",value:i},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return o},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:O5({path:{username:n.username,pipe_id:n.pipeId,block_id:n.nodeId}})})}})}function KMt(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,order:i,hiddenColumns:o})=>{const{data:s}=await ig({body:{operation:"update_df_columns",value:{updated_order:i,hide_columns:o}},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return s},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["block",n.pipeId,n.nodeId]}),RM(e,n.pipeId,n.nodeId)}})}function ZMt(){const e=pn();return kn({mutationFn:async({pipeId:t,nodeId:n,username:r,headerMapping:i,reset:o})=>{const{data:s}=await ig({body:{operation:o?"rename_header_reset":"rename_header",value:i},path:{username:r,pipe_id:t,block_id:n},throwOnError:!0});return s},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["runPipe",n.pipeId,n.nodeId]}),RM(e,n.pipeId,n.nodeId)}})}function V_(e){return Hi({...Tbt({path:{username:e??""}}),enabled:!!e})}function P4(){const e=pn();return kn({...Rbt(),onSuccess:(t,n)=>{e.setQueryData(kH({path:{username:n.path.username}}),t),e.invalidateQueries({queryKey:kH({path:{username:n.path.username}})}),e.invalidateQueries({queryKey:["spec"]}),e.invalidateQueries({queryKey:["plotPreview"]})}})}function QMt(){const e=pn();return kn({...Nvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})})}})}function JMt(){const e=pn();return kn({...zvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bo({path:{pipe_id:n.path.pipe_id}})})}})}function eAt(){const e=pn();return kn({...Xvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:up({path:{id:n.path.id}})}),e.invalidateQueries({queryKey:Yb()})}})}function tAt(){const e=pn();return kn({...Zvt(),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:up({path:{id:n.path.report_id}})}),e.invalidateQueries({queryKey:Yb()})}})}function aZ(e){return Hi({...Bvt({path:{pipe_id:e}})})}function sg(){const e=pn();return kn({...Uvt(),onSuccess:(t,n)=>{const r=fM({path:{pipe_id:n.path.pipe_id}});t!=null&&e.setQueryData(r,t),e.invalidateQueries({queryKey:r})}})}const bAe=Vt.createContext(void 0),nAt=({children:e})=>{const[t,n]=R.useState(void 0),{data:r,isLoading:i}=z_();return R.useEffect(()=>{r&&(n(r),L1t({id:r.id}))},[r]),h.jsx(bAe.Provider,{value:{user:t,setUser:n,isLoading:i},children:e})},ag=()=>{const e=R.useContext(bAe);if(!e)throw new Error("useUserContext must be used within a UserContextProvider");return e},dp=()=>{const{user:e}=ag();if(!e)throw new Error("User not loaded");return e},xAe=()=>{const{user:e}=ag();return e},wAe=R.createContext(void 0),d9=e=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},rAt=({children:e})=>{const{user:t}=ag(),{data:n}=V_(t?.username||""),r=P4(),[i,o]=R.useState(()=>{const f=localStorage.getItem("darkMode"),p=f?JSON.parse(f):!1;return d9(p),p});R.useEffect(()=>{const f=n?.is_dark_mode;f!==void 0&&o(p=>p!==f?(d9(f),f):p)},[n?.is_dark_mode]);const s=f=>{const p=ZX(f);document.documentElement.style.setProperty("--tooltip-font-size",`${12*p}px`)},[a,l]=R.useState(()=>{const f=localStorage.getItem("fontSize"),p=f?JSON.parse(f):50;return s(p),p});R.useEffect(()=>{if(n?.readability_level!==void 0){const f=n.readability_level;l(f),s(f)}},[n?.readability_level]);const c=f=>{l(f),localStorage.setItem("fontSize",JSON.stringify(f)),s(f),t?.username&&r.mutate({path:{username:t.username},body:{readability_level:f}})},u=()=>{o(f=>{const p=!f;return localStorage.setItem("darkMode",JSON.stringify(p)),d9(p),t?.username&&r.mutate({path:{username:t.username},body:{is_dark_mode:p}}),p})},d=Lmt(i);return h.jsx(wAe.Provider,{value:{isDarkMode:i,toggleTheme:u,theme:d,fontSize:a,setFontSize:c},children:h.jsx(zde,{theme:d,children:h.jsx(zde,{theme:d,children:h.jsxs(h.Fragment,{children:[h.jsx(UX,{}),e]})})})})},Li=()=>{const e=R.useContext(wAe);if(e===void 0)throw new Error("useThemeContext must be used within a CustomThemeProvider");return e},lZ=()=>{const{fontSize:e,setFontSize:t}=Li();return{fontSize:e,setFontSize:t}};function iAt(){const e=Kwe();return R.useEffect(()=>{window.__reactQueryFetching=e},[e]),null}function oAt(e){return typeof Blob<"u"&&e instanceof Blob}function pge(e){if(!e||typeof e!="object")return;const t=e;return typeof t.show_message=="string"&&t.show_message||typeof t.type=="string"&&t.type||typeof t.message=="string"&&t.message||void 0}async function sAt(e){const t=e.response?.data;if(oAt(t))try{const n=await t.text(),r=JSON.parse(n);return pge(r)||e.message||"There was a problem processing your request."}catch{return"There was a problem processing your request."}return pge(t)||e.message||"There was a problem processing your request."}const aAt=()=>{R.useEffect(()=>{Jt.setConfig({baseURL:"https://redpill.nomaze.com/"});const e=Jt.instance.interceptors.request.use(n=>{const r=A_().getAccessToken();return n.headers.Authorization=`Bearer ${r}`,n},n=>Promise.reject(n)),t=Jt.instance.interceptors.response.use(n=>n,async n=>{if(!vo.isAxiosError(n)||n.code==="ERR_CANCELED"||n.message?.toLowerCase()==="canceled"||!n.response||n.response?.status===401||n.config?.meta?.skipErrorSnackbar)return Promise.reject(n);const o=await sAt(n);return Wi.getState().showError(o),Promise.reject(n)});return()=>{Jt.instance.interceptors.request.eject(e),Jt.instance.interceptors.response.eject(t)}},[])},lAt=()=>{R.useEffect(()=>{},[])},cAt="modulepreload",uAt=function(e){return"/"+e},hge={},dAt=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=l(n.map(c=>{if(c=uAt(c),c in hge)return;hge[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":cAt,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};var fAt=function(){return null};const pAt=function(){return null},Aw=new WeakMap,JI=new WeakMap,J5={current:[]};let f9=!1,RE=0;const Lk=new Set,WD=new Map;function SAe(e){const t=Array.from(e).sort((n,r)=>n instanceof Rh&&n.options.deps.includes(r)?1:r instanceof Rh&&r.options.deps.includes(n)?-1:0);for(const n of t){if(J5.current.includes(n))continue;J5.current.push(n),n.recompute();const r=JI.get(n);if(r)for(const i of r){const o=Aw.get(i);o&&SAe(o)}}}function hAt(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function gAt(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function _Ae(e){if(RE>0&&!WD.has(e)&&WD.set(e,e.prevState),Lk.add(e),!(RE>0)&&!f9)try{for(f9=!0;Lk.size>0;){const t=Array.from(Lk);Lk.clear();for(const n of t){const r=WD.get(n)??n.prevState;n.prevState=r,hAt(n)}for(const n of t){const r=Aw.get(n);r&&(J5.current.push(n),SAe(r))}for(const n of t){const r=Aw.get(n);if(r)for(const i of r)gAt(i)}}}finally{f9=!1,J5.current=[],WD.clear()}}function pf(e){RE++;try{e()}finally{if(RE--,RE===0){const t=Lk.values().next().value;t&&_Ae(t)}}}function mAt(e){return typeof e=="function"}class sW{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var i,o;this.listeners.add(r);const s=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),s?.()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,i;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):mAt(t)?this.state=t(this.prevState):this.state=t,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),_Ae(this)}}class Rh{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,r=new Array(n),i=new Array(n);for(let o=0;o<n;o++){const s=this.options.deps[o];r[o]=s.prevState,i[o]=s.state}return this.lastSeenDepValues=i,{prevDepVals:r,currDepVals:i,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const i=this.getDepVals();this.state=this.options.fn(i),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof Rh&&o.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let o=0;o<i.length;o++)if(i[o]!==r[o]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const o=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),o?.()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof Rh)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof sW){let r=Aw.get(n);r||(r=new Set,Aw.set(n,r)),r.add(this);let i=JI.get(this);i||(i=new Set,JI.set(this,i)),i.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof Rh)this.unregisterFromGraph(n.options.deps);else if(n instanceof sW){const r=Aw.get(n);r&&r.delete(this);const i=JI.get(this);i&&i.delete(n)}}}var yAt=class{constructor(e,t){this.fn=e,this.options=t,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...n)=>{const r=Date.now()-this.lastExecutionTime;if(this.options.leading&&r>=this.options.wait)this.execute(...n);else if(this.lastArgs=n,!this.timeoutId&&this.options.trailing){const i=this.options.wait-r;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},i)}},this.execute=(...n)=>{this.fn(...n),this.options.onExecute?.(n,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function vAt(e,t){return new yAt(e,t).maybeExecute}class bAt{#e=!0;#t;#n;#i;#r;#a;#o;#s;#h=0;#g=5;#c=!1;#u=!1;#l=null;#d=()=>{this.debugLog("Connected to event bus"),this.#a=!0,this.#c=!1,this.debugLog("Emitting queued events",this.#r),this.#r.forEach(t=>this.emitEventToBus(t)),this.#r=[],this.stopConnectLoop(),this.#n().removeEventListener("tanstack-connect-success",this.#d)};#f=()=>{if(this.#h<this.#g){this.#h++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#n().removeEventListener("tanstack-connect",this.#f),this.#u=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#p=()=>{this.#c||(this.#c=!0,this.#n().addEventListener("tanstack-connect-success",this.#d),this.#f())};constructor({pluginId:t,debug:n=!1,enabled:r=!0,reconnectEveryMs:i=300}){this.#t=t,this.#e=r,this.#n=this.getGlobalTarget,this.#i=n,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#r=[],this.#a=!1,this.#u=!1,this.#o=null,this.#s=i}startConnectLoop(){this.#o!==null||this.#a||(this.debugLog(`Starting connect loop (every ${this.#s}ms)`),this.#o=setInterval(this.#f,this.#s))}stopConnectLoop(){this.#c=!1,this.#o!==null&&(clearInterval(this.#o),this.#o=null,this.#r=[],this.debugLog("Stopped connect loop"))}debugLog(...t){this.#i&&console.log(` [tanstack-devtools:${this.#t}-plugin]`,...t)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const t=typeof EventTarget<"u"?new EventTarget:void 0;return typeof t>"u"||typeof t.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),t)}getPluginId(){return this.#t}dispatchCustomEventShim(t,n){try{const r=new Event(t,{detail:n});this.#n().dispatchEvent(r)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(t,n){try{this.#n().dispatchEvent(new CustomEvent(t,{detail:n}))}catch{this.dispatchCustomEventShim(t,n)}}emitEventToBus(t){this.debugLog("Emitting event to client bus",t),this.dispatchCustomEvent("tanstack-dispatch-event",t)}createEventPayload(t,n){return{type:`${this.#t}:${t}`,payload:n,pluginId:this.#t}}emit(t,n){if(!this.#e){this.debugLog("Event bus client is disabled, not emitting event",t,n);return}if(this.#l&&(this.debugLog("Emitting event to internal event target",t,n),this.#l.dispatchEvent(new CustomEvent(`${this.#t}:${t}`,{detail:this.createEventPayload(t,n)}))),this.#u){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#a){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#r.push(this.createEventPayload(t,n)),typeof CustomEvent<"u"&&!this.#c&&(this.#p(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(t,n))}on(t,n,r){const i=r?.withEventTarget??!1,o=`${this.#t}:${t}`;if(i&&(this.#l||(this.#l=new EventTarget),this.#l.addEventListener(o,a=>{n(a.detail)})),!this.#e)return this.debugLog("Event bus client is disabled, not registering event",o),()=>{};const s=a=>{this.debugLog("Received event from bus",a.detail),n(a.detail)};return this.#n().addEventListener(o,s),this.debugLog("Registered event to bus",o),()=>{i&&this.#l?.removeEventListener(o,s),this.#n().removeEventListener(o,s)}}onAll(t){if(!this.#e)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const i=r.detail;t(i)};return this.#n().addEventListener("tanstack-devtools-global",n),()=>this.#n().removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(t){if(!this.#e)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const i=r.detail;this.#t&&i.pluginId!==this.#t||t(i)};return this.#n().addEventListener("tanstack-devtools-global",n),()=>this.#n().removeEventListener("tanstack-devtools-global",n)}}class xAt extends bAt{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}}const eu=new xAt;function D4(e,t){return typeof e=="function"?e(t):e}function qD(e,t){return cZ(t).reduce((r,i)=>{if(r===null)return null;if(typeof r<"u")return r[i]},e)}function GD(e,t,n){const r=cZ(t);function i(o){if(!r.length)return D4(n,o);const s=r.shift();if(typeof s=="string"||typeof s=="number"&&!Array.isArray(o))return typeof o=="object"?(o===null&&(o={}),{...o,[s]:i(o[s])}):{[s]:i()};if(Array.isArray(o)&&typeof s=="number"){const a=o.slice(0,s);return[...a.length?a:new Array(s),i(o[s]),...o.slice(s+1)]}return[...new Array(s),i()]}return i(e)}function wAt(e,t){const n=cZ(t);function r(i){if(!i)return;if(n.length===1){const s=n[0];if(Array.isArray(i)&&typeof s=="number")return i.filter((c,u)=>u!==s);const{[s]:a,...l}=i;return l}const o=n.shift();if((typeof o=="string"||typeof o=="number"&&!Array.isArray(i))&&typeof i=="object")return{...i,[o]:r(i[o])};if(typeof o=="number"&&Array.isArray(i)){if(o>=i.length)return i;const s=i.slice(0,o);return[...s.length?s:new Array(o),r(i[o]),...i.slice(o+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const SAt=/^(\d+)$/gm,_At=/\.(\d+)(?=\.)/gm,CAt=/^(\d+)\./gm,kAt=/\.(\d+$)/gm,EAt=/\.{2,}/gm,aW="__int__",YD=`${aW}$1`;function cZ(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(SAt,YD).replace(_At,`.${YD}.`).replace(CAt,`${YD}.`).replace(kAt,`.${YD}`).replace(EAt,".").split(".").map(t=>{if(t.startsWith(aW)){const n=t.substring(aW.length),r=parseInt(n,10);return String(r)===n?r:n}return t})}function TAt(e){return!(Array.isArray(e)&&e.length===0)}function lW(e,t){const n=r=>r.validators.filter(Boolean).map(i=>({cause:i.cause,validate:i.fn}));return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!1},runValidation:n})}function cW(e,t){const{asyncDebounceMs:n}=t,{onBlurAsyncDebounceMs:r,onChangeAsyncDebounceMs:i,onDynamicAsyncDebounceMs:o}=t.validators||{},s=n??0,a=l=>l.validators.filter(Boolean).map(c=>{const u=c?.cause||e;let d=s;switch(u){case"change":d=i??s;break;case"blur":d=r??s;break;case"dynamic":d=o??s;break;case"submit":d=0;break}return e==="submit"&&(d=0),{cause:u,validate:c.fn,debounceMs:d}});return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!0},runValidation:a})}const uW=e=>!!e&&typeof e=="object"&&"fields"in e;function pm(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,o]of e)if(!t.has(i)||!Object.is(o,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n)if(!r.includes(i)||!pm(e[i],t[i]))return!1;return!0}const gge=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},mge=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function hl(e,t){return e==null?t:{...e,...t}}let hv=256;const ej=[];let XD;for(;hv--;)ej[hv]=(hv+256).toString(16).substring(1);function CAe(){let e=0,t,n="";if(!XD||hv+16>256){for(XD=new Array(256),e=256;e--;)XD[e]=256*Math.random()|0;e=0,hv=0}for(;e<16;e++)t=XD[hv+e],e===6?n+=ej[t&15|64]:e===8?n+=ej[t&63|128]:n+=ej[t],e&1&&e>1&&e<11&&(n+="-");return hv++,n}const RAt=vAt(e=>eu.emit("form-state",{id:e.formId,state:e.store.state}),{wait:300}),iw=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});const t=e.event.async,n=t?void 0:{fn:e.validators.onMount,cause:"mount"},r={fn:t?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},i={fn:t?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},o={fn:t?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},s=t?void 0:{fn:()=>{},cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[n],form:e.form});case"submit":return e.runValidation({validators:[r,i,o,s],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[i,s],form:e.form});case"change":return e.runValidation({validators:[r,s],form:e.form});default:throw new Error(`Unknown validation event type: ${e.event.type}`)}};function MAt(e,t){const n=new Map;for(const r of e){const i=r.path??[];let o=t,s="";for(let a=0;a<i.length;a++){const l=i[a];if(l===void 0)continue;const c=typeof l=="object"?l.key:l,u=Number(c);Array.isArray(o)&&!Number.isNaN(u)?s+=`[${u}]`:s+=(a>0?".":"")+String(c),typeof o=="object"&&o!==null?o=o[c]:o=void 0}n.set(s,(n.get(s)??[]).concat(r))}return Object.fromEntries(n)}const yge=(e,t)=>{const n=MAt(e,t);return{form:n,fields:n}},Pw={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:yge(r.issues,e)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:yge(r.issues,e)}},kAe=e=>!!e&&"~standard"in e,ow={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function KD(e){function t(u,d,f){const p=s(u,d,"move",f),g=Math.min(d,f),y=Math.max(d,f);for(let x=g;x<=y;x++)p.push(o(u,x));const v=Object.keys(e.fieldInfo).reduce((x,w)=>(w.startsWith(o(u,d))&&x.set(w,e.getFieldMeta(w)),x),new Map);l(p,d<f?"up":"down"),Object.keys(e.fieldInfo).filter(x=>x.startsWith(o(u,f))).forEach(x=>{const w=x.replace(o(u,f),o(u,d)),S=v.get(w);S&&e.setFieldMeta(x,S)})}function n(u,d){const f=s(u,d,"remove");l(f,"up")}function r(u,d,f){s(u,d,"swap",f).forEach(g=>{if(!g.toString().startsWith(o(u,d)))return;const y=g.toString().replace(o(u,d),o(u,f)),[v,x]=[e.getFieldMeta(g),e.getFieldMeta(y)];v&&e.setFieldMeta(y,v),x&&e.setFieldMeta(g,x)})}function i(u,d){const f=s(u,d,"insert");l(f,"down"),f.forEach(p=>{p.toString().startsWith(o(u,d))&&e.setFieldMeta(p,c())})}function o(u,d){return`${u}[${d}]`}function s(u,d,f,p){const g=[o(u,d)];switch(f){case"swap":g.push(o(u,p));break;case"move":{const[y,v]=[Math.min(d,p),Math.max(d,p)];for(let x=y;x<=v;x++)g.push(o(u,x));break}default:{const y=e.getFieldValue(u),v=Array.isArray(y)?y.length:0;for(let x=d+1;x<v;x++)g.push(o(u,x));break}}return Object.keys(e.fieldInfo).filter(y=>g.some(v=>y.startsWith(v)))}function a(u,d){return u.replace(/\[(\d+)\]/,(f,p)=>{const g=parseInt(p,10);return`[${d==="up"?g+1:Math.max(0,g-1)}]`})}function l(u,d){(d==="up"?u:[...u].reverse()).forEach(p=>{const g=a(p.toString(),d),y=e.getFieldMeta(g);y?e.setFieldMeta(p,y):e.setFieldMeta(p,c())})}const c=()=>ow;return{handleArrayMove:t,handleArrayRemove:n,handleArraySwap:r,handleArrayInsert:i}}function p9(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class vge{constructor(t){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const n=this.fieldMetaDerived.mount(),r=this.store.mount(),i=this.store.subscribe(()=>{RAt(this)}),o=eu.on("request-form-state",u=>{u.payload.id===this._formId&&eu.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),s=eu.on("request-form-reset",u=>{u.payload.id===this._formId&&this.reset()}),a=eu.on("request-form-force-submit",u=>{u.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),l=()=>{a(),s(),o(),i(),n(),r(),eu.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:c}=this.options.validators||{};return eu.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),c&&this.validateSync("mount"),l},this.update=n=>{if(!n)return;const r=this.options;this.options=n;const i=!!n.transform?.deps?.some((a,l)=>a!==this.prevTransformArray[l]),o=n.defaultValues&&!pm(n.defaultValues,r.defaultValues)&&!this.state.isTouched,s=!pm(n.defaultState,r.defaultState)&&!this.state.isTouched;!o&&!s&&!i||(pf(()=>{this.baseStore.setState(()=>p9(Object.assign({},this.state,s?n.defaultState:{},o?{values:n.defaultValues}:{},i?{_force_re_eval:!this.state._force_re_eval}:{})))}),eu.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(n,r)=>{const{fieldMeta:i}=this.state,o=this.resetFieldMeta(i);n&&!r?.keepDefaultValues&&(this.options={...this.options,defaultValues:n}),this.baseStore.setState(()=>p9({...this.options.defaultState,values:n??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:o}))},this.validateAllFields=async n=>{const r=[];return pf(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const s=o.instance;r.push(Promise.resolve().then(()=>s.validate(n,{skipFormValidation:!0}))),o.instance.state.meta.isTouched||o.instance.setMeta(a=>({...a,isTouched:!0}))})}),(await Promise.all(r)).flat()},this.validateArrayFieldsStartingFrom=async(n,r,i)=>{const o=this.getFieldValue(n),s=Array.isArray(o)?Math.max(o.length-1,0):null,a=[`${n}[${r}]`];for(let d=r+1;d<=(s??0);d++)a.push(`${n}[${d}]`);const l=Object.keys(this.fieldInfo).filter(d=>a.some(f=>d.startsWith(f))),c=[];return pf(()=>{l.forEach(d=>{c.push(Promise.resolve().then(()=>this.validateField(d,i)))})}),(await Promise.all(c)).flat()},this.validateField=(n,r)=>{const i=this.fieldInfo[n]?.instance;return i?(i.state.meta.isTouched||i.setMeta(o=>({...o,isTouched:!0})),i.validate(r)):[]},this.validateSync=n=>{const r=lW(n,{...this.options,form:this,validationLogic:this.options.validationLogic||iw});let i=!1;const o={};return pf(()=>{for(const l of r){if(!l.validate)continue;const c=this.runValidator({validate:l.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:u,fieldErrors:d}=tj(c),f=V2(l.cause),p=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(d||{})]);for(const g of p){if(this.baseStore.state.fieldMetaBase[g]===void 0&&!d?.[g])continue;const y=this.getFieldMeta(g)??ow,{errorMap:v,errorSourceMap:x}=y,w=d?.[g],{newErrorValue:S,newSource:C}=gge({newFormValidatorError:w,isPreviousErrorFromFormValidator:x?.[f]==="form",previousErrorValue:v?.[f]});C==="form"&&(o[g]={...o[g],[f]:w}),v?.[f]!==S&&this.setFieldMeta(g,(k=ow)=>({...k,errorMap:{...k.errorMap,[f]:S},errorSourceMap:{...k.errorSourceMap,[f]:C}}))}this.state.errorMap?.[f]!==u&&this.baseStore.setState(g=>({...g,errorMap:{...g.errorMap,[f]:u}})),(u||d)&&(i=!0)}const s=V2("submit");this.state.errorMap?.[s]&&n!=="submit"&&!i&&this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[s]:void 0}}));const a=V2("server");this.state.errorMap?.[a]&&n!=="server"&&!i&&this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[a]:void 0}}))}),{hasErrored:i,fieldsErrorMap:o}},this.validateAsync=async n=>{const r=cW(n,{...this.options,form:this,validationLogic:this.options.validationLogic||iw});this.state.isFormValidating||this.baseStore.setState(l=>({...l,isFormValidating:!0}));const i=[];let o;for(const l of r){if(!l.validate)continue;const c=V2(l.cause);this.state.validationMetaMap[c]?.lastAbortController.abort();const d=new AbortController;this.state.validationMetaMap[c]={lastAbortController:d},i.push(new Promise(async f=>{let p;try{p=await new Promise((x,w)=>{setTimeout(async()=>{if(d.signal.aborted)return x(void 0);try{x(await this.runValidator({validate:l.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:d.signal},type:"validateAsync"}))}catch(S){w(S)}},l.debounceMs)})}catch(x){p=x}const{formError:g,fieldErrors:y}=tj(p);y&&(o=o?{...o,...y}:y);const v=V2(l.cause);for(const x of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[x]===void 0)continue;const w=this.getFieldMeta(x);if(!w)continue;const{errorMap:S,errorSourceMap:C}=w,k=o?.[x],{newErrorValue:T,newSource:E}=gge({newFormValidatorError:k,isPreviousErrorFromFormValidator:C?.[v]==="form",previousErrorValue:S?.[v]});S?.[v]!==T&&this.setFieldMeta(x,A=>({...A,errorMap:{...A.errorMap,[v]:T},errorSourceMap:{...A.errorSourceMap,[v]:E}}))}this.baseStore.setState(x=>({...x,errorMap:{...x.errorMap,[v]:g}})),f(o?{fieldErrors:o,errorMapKey:v}:void 0)}))}let s=[];const a={};if(i.length){s=await Promise.all(i);for(const l of s)if(l?.fieldErrors){const{errorMapKey:c}=l;for(const[u,d]of Object.entries(l.fieldErrors)){const p={...a[u]||{},[c]:d};a[u]=p}}}return this.baseStore.setState(l=>({...l,isFormValidating:!1})),a},this.validate=n=>{const{hasErrored:r,fieldsErrorMap:i}=this.validateSync(n);return r&&!this.options.asyncAlways?i:this.validateAsync(n)},this._handleSubmit=async n=>{this.baseStore.setState(o=>({...o,isSubmitted:!1,submissionAttempts:o.submissionAttempts+1,isSubmitSuccessful:!1})),pf(()=>{Object.values(this.fieldInfo).forEach(o=>{o.instance&&(o.instance.state.meta.isTouched||o.instance.setMeta(s=>({...s,isTouched:!0})))})});const r=n??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r});return}this.baseStore.setState(o=>({...o,isSubmitting:!0}));const i=()=>{this.baseStore.setState(o=>({...o,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){i(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),eu.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(o=>o.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){i(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),eu.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}pf(()=>{Object.values(this.fieldInfo).forEach(o=>{o.instance?.options.listeners?.onSubmit?.({value:o.instance.state.value,fieldApi:o.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:r});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:r}),pf(()=>{this.baseStore.setState(o=>({...o,isSubmitted:!0,isSubmitSuccessful:!0})),eu.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),i()})}catch(o){throw this.baseStore.setState(s=>({...s,isSubmitSuccessful:!1})),eu.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:o}),i(),o}},this.getFieldValue=n=>qD(this.state.values,n),this.getFieldMeta=n=>this.state.fieldMeta[n],this.getFieldInfo=n=>this.fieldInfo[n]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(n,r)=>{this.baseStore.setState(i=>({...i,fieldMetaBase:{...i.fieldMetaBase,[n]:D4(r,i.fieldMetaBase[n])}}))},this.resetFieldMeta=n=>Object.keys(n).reduce((r,i)=>{const o=i;return r[o]=ow,r},{}),this.setFieldValue=(n,r,i)=>{const o=i?.dontUpdateMeta??!1,s=i?.dontRunListeners??!1,a=i?.dontValidate??!1;pf(()=>{o||this.setFieldMeta(n,l=>({...l,isTouched:!0,isDirty:!0,errorMap:{...l?.errorMap,onMount:void 0}})),this.baseStore.setState(l=>({...l,values:GD(l.values,n,r)}))}),s||this.getFieldInfo(n).instance?.triggerOnChangeListener(),a||this.validateField(n,"change")},this.deleteField=n=>{const i=[...Object.keys(this.fieldInfo).filter(o=>{const s=n.toString();return o!==s&&o.startsWith(s)}),n];this.baseStore.setState(o=>{const s={...o};return i.forEach(a=>{s.values=wAt(s.values,a),delete this.fieldInfo[a],delete s.fieldMetaBase[a]}),s})},this.pushFieldValue=(n,r,i)=>{this.setFieldValue(n,o=>[...Array.isArray(o)?o:[],r],i)},this.insertFieldValue=async(n,r,i,o)=>{this.setFieldValue(n,a=>[...a.slice(0,r),i,...a.slice(r)],hl(o,{dontValidate:!0}));const s=o?.dontValidate??!1;s||await this.validateField(n,"change"),KD(this).handleArrayInsert(n,r),s||await this.validateArrayFieldsStartingFrom(n,r,"change")},this.replaceFieldValue=async(n,r,i,o)=>{this.setFieldValue(n,a=>a.map((l,c)=>c===r?i:l),hl(o,{dontValidate:!0})),(o?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.removeFieldValue=async(n,r,i)=>{const o=this.getFieldValue(n),s=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(n,l=>l.filter((c,u)=>u!==r),hl(i,{dontValidate:!0})),KD(this).handleArrayRemove(n,r),s!==null){const l=`${n}[${s}]`;this.deleteField(l)}(i?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.swapFieldValues=(n,r,i,o)=>{this.setFieldValue(n,a=>{const l=a[r],c=a[i];return GD(GD(a,`${r}`,c),`${i}`,l)},hl(o,{dontValidate:!0})),KD(this).handleArraySwap(n,r,i),(o?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${i}]`,"change"))},this.moveFieldValues=(n,r,i,o)=>{this.setFieldValue(n,a=>{const l=[...a];return l.splice(i,0,l.splice(r,1)[0]),l},hl(o,{dontValidate:!0})),KD(this).handleArrayMove(n,r,i),(o?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${i}]`,"change"))},this.clearFieldValues=(n,r)=>{const i=this.getFieldValue(n),o=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(n,[],hl(r,{dontValidate:!0})),o!==null)for(let a=0;a<=o;a++){const l=`${n}[${a}]`;this.deleteField(l)}(r?.dontValidate??!1)||this.validateField(n,"change")},this.resetField=n=>{this.baseStore.setState(r=>({...r,fieldMetaBase:{...r.fieldMetaBase,[n]:ow},values:this.options.defaultValues?GD(r.values,n,qD(this.options.defaultValues,n)):r.values}))},this.setErrorMap=n=>{pf(()=>{Object.entries(n).forEach(([r,i])=>{const o=r;if(uW(i)){const{formError:s,fieldErrors:a}=tj(i);for(const l of Object.keys(this.fieldInfo))this.getFieldMeta(l)&&this.setFieldMeta(l,u=>({...u,errorMap:{...u.errorMap,[o]:a?.[l]},errorSourceMap:{...u.errorSourceMap,[o]:"form"}}));this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[o]:s}}))}else this.baseStore.setState(s=>({...s,errorMap:{...s.errorMap,[o]:i}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((n,[r,i])=>(Object.keys(i).length&&i.errors.length&&(n[r]={errors:i.errors,errorMap:i.errorMap}),n),{})}),this.parseValuesWithSchema=n=>Pw.validate({value:this.state.values,validationSource:"form"},n),this.parseValuesWithSchemaAsync=n=>Pw.validateAsync({value:this.state.values,validationSource:"form"},n),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=t?.formId??CAe(),this._devtoolsSubmissionOverride=!1,this.baseStore=new sW(p9({...t?.defaultState,values:t?.defaultValues??t?.defaultState?.values})),this.fieldMetaDerived=new Rh({deps:[this.baseStore],fn:({prevDepVals:n,currDepVals:r,prevVal:i})=>{const o=i,s=n?.[0],a=r[0];let l=0;const c={};for(const u of Object.keys(a.fieldMetaBase)){const d=a.fieldMetaBase[u],f=s?.fieldMetaBase[u],p=o?.[u],g=qD(a.values,u);let y=p?.errors;if(!f||d.errorMap!==f.errorMap){y=Object.values(d.errorMap??{}).filter(C=>C!==void 0);const S=this.getFieldInfo(u)?.instance;S&&!S.options.disableErrorFlat&&(y=y.flat(1))}const v=!TAt(y),x=!d.isDirty,w=pm(g,qD(this.options.defaultValues,u))||pm(g,this.getFieldInfo(u)?.instance?.options.defaultValue);if(p&&p.isPristine===x&&p.isValid===v&&p.isDefaultValue===w&&p.errors===y&&d===f){c[u]=p,l++;continue}c[u]={...d,errors:y??[],isPristine:x,isValid:v,isDefaultValue:w}}return Object.keys(a.fieldMetaBase).length&&o&&l===Object.keys(a.fieldMetaBase).length?o:c}}),this.store=new Rh({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:n,currDepVals:r,prevVal:i})=>{const o=i,s=n?.[0],a=r[0],l=r[1],c=Object.values(l).filter(Boolean),u=c.some($=>$.isValidating),d=c.every($=>$.isValid),f=c.some($=>$.isTouched),p=c.some($=>$.isBlurred),g=c.every($=>$.isDefaultValue),y=f&&a.errorMap?.onMount,v=c.some($=>$.isDirty),x=!v,w=!!(a.errorMap?.onMount||c.some($=>$?.errorMap?.onMount)),S=!!u;let C=o?.errors??[];(!s||a.errorMap!==s.errorMap)&&(C=Object.values(a.errorMap).reduce(($,D)=>D===void 0?$:D&&uW(D)?($.push(D.form),$):($.push(D),$),[]));const k=C.length===0,T=d&&k,E=this.options.canSubmitWhenInvalid??!1,A=a.submissionAttempts===0&&!f&&!w||!S&&!a.isSubmitting&&T||E;let O=a.errorMap;if(y&&(C=C.filter($=>$!==a.errorMap.onMount),O=Object.assign(O,{onMount:void 0})),o&&s&&o.errorMap===O&&o.fieldMeta===this.fieldMetaDerived.state&&o.errors===C&&o.isFieldsValidating===u&&o.isFieldsValid===d&&o.isFormValid===k&&o.isValid===T&&o.canSubmit===A&&o.isTouched===f&&o.isBlurred===p&&o.isPristine===x&&o.isDefaultValue===g&&o.isDirty===v&&pm(s,a))return o;let I={...a,errorMap:O,fieldMeta:this.fieldMetaDerived.state,errors:C,isFieldsValidating:u,isFieldsValid:d,isFormValid:k,isValid:T,canSubmit:A,isTouched:f,isBlurred:p,isPristine:x,isDefaultValue:g,isDirty:v};const j=this.options.transform?.deps??[];if(j.length!==this.prevTransformArray.length||j.some(($,D)=>$!==this.prevTransformArray[D])){const $=Object.assign({},this,{state:I});this.options.transform?.fn($),I=$.state,this.prevTransformArray=j}return I}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(t){return kAe(t.validate)?Pw[t.type](t.value,t.validate):t.validate(t.value)}handleSubmit(t){return this._handleSubmit(t)}}function tj(e){if(e){if(uW(e)){const t=tj(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function V2(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";case"change":default:return"onChange"}}class bge{constructor(t){this.options={},this.mount=()=>{const n=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const r=this.getInfo();r.instance=this,this.update(this.options);const{onMount:i}=this.options.validators||{};if(i){const o=this.runValidator({validate:i,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});o&&this.setMeta(s=>({...s,errorMap:{...s?.errorMap,onMount:o},errorSourceMap:{...s?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),n},this.update=n=>{if(this.options=n,this.name=n.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0){const r=this.form.getFieldValue(this.name);pm(r,n.defaultValue)||this.form.setFieldValue(this.name,n.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})}this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,hl(r,{dontRunListeners:!0,dontValidate:!0})),r?.dontRunListeners||this.triggerOnChangeListener(),r?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,hl(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(n,r,i)=>{this.form.insertFieldValue(this.name,n,r,hl(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(n,r,i)=>{this.form.replaceFieldValue(this.name,n,r,hl(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,hl(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(n,r,i)=>{this.form.swapFieldValues(this.name,n,r,hl(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(n,r,i)=>{this.form.moveFieldValues(this.name,n,r,hl(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,hl(n,{dontRunListeners:!0})),n?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),i=[];for(const o of r){if(!o.instance)continue;const{onChangeListenTo:s,onBlurListenTo:a}=o.instance.options.validators||{};n==="change"&&s?.includes(this.name)&&i.push(o.instance),n==="blur"&&a?.includes(this.name)&&i.push(o.instance)}return i},this.validateSync=(n,r)=>{const i=lW(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||iw}),s=this.getLinkedFields(n).reduce((c,u)=>{const d=lW(n,{...u.options,form:u.form,validationLogic:u.form.options.validationLogic||iw});return d.forEach(f=>{f.field=u}),c.concat(d)},[]);let a=!1;pf(()=>{const c=(u,d)=>{const f=ZD(d.cause),p=d.validate?xge(u.runValidator({validate:d.validate,value:{value:u.store.state.value,validationSource:"field",fieldApi:u},type:"validate"})):void 0,g=r[f],{newErrorValue:y,newSource:v}=mge({formLevelError:g,fieldLevelError:p});u.state.meta.errorMap?.[f]!==y&&u.setMeta(x=>({...x,errorMap:{...x.errorMap,[f]:y},errorSourceMap:{...x.errorSourceMap,[f]:v}})),y&&(a=!0)};for(const u of i)c(this,u);for(const u of s)u.validate&&c(u.field,u)});const l=ZD("submit");return this.state.meta.errorMap?.[l]&&n!=="submit"&&!a&&this.setMeta(c=>({...c,errorMap:{...c.errorMap,[l]:void 0},errorSourceMap:{...c.errorSourceMap,[l]:void 0}})),{hasErrored:a}},this.validateAsync=async(n,r)=>{const i=cW(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||iw}),o=await r,s=this.getLinkedFields(n),a=s.reduce((p,g)=>{const y=cW(n,{...g.options,form:g.form,validationLogic:g.form.options.validationLogic||iw});return y.forEach(v=>{v.field=g}),p.concat(y)},[]),l=[],c=[],u=i.some(p=>p.validate)||a.some(p=>p.validate);if(u){this.state.meta.isValidating||this.setMeta(p=>({...p,isValidating:!0}));for(const p of s)p.setMeta(g=>({...g,isValidating:!0}))}const d=(p,g,y)=>{const v=ZD(g.cause);p.getInfo().validationMetaMap[v]?.lastAbortController.abort();const w=new AbortController;this.getInfo().validationMetaMap[v]={lastAbortController:w},y.push(new Promise(async S=>{let C;try{C=await new Promise((O,I)=>{this.timeoutIds.validations[g.cause]&&clearTimeout(this.timeoutIds.validations[g.cause]),this.timeoutIds.validations[g.cause]=setTimeout(async()=>{if(w.signal.aborted)return O(void 0);try{O(await this.runValidator({validate:g.validate,value:{value:p.store.state.value,fieldApi:p,signal:w.signal,validationSource:"field"},type:"validateAsync"}))}catch(j){I(j)}},g.debounceMs)})}catch(O){C=O}if(w.signal.aborted)return S(void 0);const k=xge(C),T=o[this.name]?.[v],{newErrorValue:E,newSource:A}=mge({formLevelError:T,fieldLevelError:k});p.setMeta(O=>({...O,errorMap:{...O?.errorMap,[v]:E},errorSourceMap:{...O.errorSourceMap,[v]:A}})),S(E)}))};for(const p of i)p.validate&&d(this,p,l);for(const p of a)p.validate&&d(p.field,p,c);let f=[];if((l.length||c.length)&&(f=await Promise.all(l),await Promise.all(c)),u){this.setMeta(p=>({...p,isValidating:!1}));for(const p of s)p.setMeta(g=>({...g,isValidating:!1}))}return f.filter(Boolean)},this.validate=(n,r)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:i}=r?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:o}=this.validateSync(n,i[this.name]??{});if(o&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[ZD(n)]?.lastAbortController.abort(),this.state.meta.errors;const s=r?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,s)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(r=>({...r,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=n=>{this.setMeta(r=>({...r,errorMap:{...r.errorMap,...n}}))},this.parseValueWithSchema=n=>Pw.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>Pw.validateAsync({value:this.state.value,validationSource:"field"},n),this.triggerOnChangeListener=()=>{const n=this.form.options.listeners?.onChangeDebounceMs;n&&n>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},n)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const r=this.options.listeners?.onChangeDebounceMs;r&&r>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},r)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.options=t,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new Rh({deps:[this.form.store],fn:({prevVal:n})=>{const r=n,i=this.form.getFieldMeta(this.name)??{...ow,...t.defaultMeta};let o=this.form.getFieldValue(this.name);return!i.isTouched&&o===void 0&&this.options.defaultValue!==void 0&&!pm(o,this.options.defaultValue)&&(o=this.options.defaultValue),r&&r.value===o&&r.meta===i?r:{value:o,meta:i}}})}get state(){return this.store.state}runValidator(t){return kAe(t.validate)?Pw[t.type](t.value,t.validate):t.validate(t.value)}triggerOnBlurListener(){const t=this.form.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const n=this.options.listeners?.onBlurDebounceMs;n&&n>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},n)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function xge(e){if(e)return e}function ZD(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";case"change":default:return"onChange"}}const e$=typeof window<"u"?R.useLayoutEffect:R.useEffect;function EAe(e){const[t,n]=R.useState(()=>({form:e.form,name:e.name})),[r,i]=R.useState(()=>new bge({...e}));(t.form!==e.form||t.name!==e.name)&&(i(new bge({...e})),n({form:e.form,name:e.name}));const o=nh(r.store,e.mode==="array"?p=>Object.keys(p.value??[]).length:p=>p.value),s=nh(r.store,p=>p.meta.isTouched),a=nh(r.store,p=>p.meta.isBlurred),l=nh(r.store,p=>p.meta.isDirty),c=nh(r.store,p=>p.meta.errorMap),u=nh(r.store,p=>p.meta.errorSourceMap),d=nh(r.store,p=>p.meta.isValidating),f=R.useMemo(()=>{const g={...r,get state(){return{value:e.mode==="array"?r.state.value:o,get meta(){return{...r.state.meta,isTouched:s,isBlurred:a,isDirty:l,errorMap:c,errorSourceMap:u,isValidating:d}}}}};return g.Field=TAe,g},[r,e.mode,o,s,a,l,c,u,d]);return e$(r.mount,[r]),e$(()=>{r.update(e)}),f}const TAe=(({children:e,...t})=>{const n=EAe(t),r=R.useMemo(()=>D4(e,n),[e,n]);return h.jsx(h.Fragment,{children:r})});function AAt(){return R.useState(()=>CAe())[0]}const PAt=R.version.split(".")[0]==="17"?AAt:R.useId;function DAt({form:e,selector:t,children:n}){const r=nh(e.store,t);return h.jsx(h.Fragment,{children:D4(n,r)})}function lg(e){const t=PAt(),[n,r]=R.useState(e?.formId),[i,o]=R.useState(()=>new vge({...e,formId:e?.formId??t}));if(n!==e?.formId){const a=e?.formId??t;o(new vge({...e,formId:a})),r(a)}const s=R.useMemo(()=>{const a={...i,handleSubmit:((...l)=>i._handleSubmit(...l)),get formId(){return i._formId},get state(){return i.store.state}};return a.Field=function(c){return h.jsx(TAe,{...c,form:i})},a.Subscribe=function(c){return h.jsx(DAt,{form:i,selector:c.selector,children:c.children})},a},[i]);return e$(i.mount,[]),e$(()=>{i.update(e)}),s}const OAt="|",IAt=",",gv=e=>{if(e===""||!e)return!0;const t=new RegExp(`^(all|[A-Z]{1,3})\\${OAt}(all|[\\w]+)$`);return e.split(IAt).every(r=>t.test(r.trim()))},RAe=Fi(e=>({isDialogOpen:!1,fileUuid:null,fileName:null,organizationName:null,costCenter:null,setDialogOpen:({fileUuid:t,fileName:n,organizationName:r,costCenter:i})=>e({isDialogOpen:!0,fileUuid:t,fileName:n,organizationName:r,costCenter:i}),setDialogClose:()=>e({isDialogOpen:!1,fileUuid:null,fileName:null,organizationName:null,costCenter:null})})),Uf={COST_CENTER_INFO:"Please enter a comma-separated list of values in the format 'CROP|COST CENTER'. You are allowed to use 'all' as a placeholder for both values.",COST_CENTER_WARNING:"Invalid format. Use format CROP|COST CENTER, separated by commas.",TAGS_INFO:"Configure a tag as data source for your Dashboard",TAGS_CREATE_INFO_FILE:"Select or create a tag for this file.",TAGS_CREATE_INFO_DASHBOARD:"Select or create a tag for this Dashboard."},jAt=()=>{const{isDialogOpen:e,setDialogClose:t,costCenter:n,fileName:r,fileUuid:i}=RAe(),o=rZ(),s=lg({defaultValues:{costCenters:n||""},onSubmit:async({value:a})=>{i&&await Promise.all([o.mutateAsync({path:{file_uuid:i},body:{operation:"update_cost_centers",value:a.costCenters}})]),t()}});return R.useEffect(()=>{e&&s.reset()},[e]),h.jsxs(Oi,{open:e,onClose:t,maxWidth:"xs",fullWidth:!0,children:[h.jsxs(Do,{children:["Change the Visibility of ",r]}),h.jsx(Pt,{"aria-label":"close",onClick:t,sx:()=>({position:"absolute",right:8,top:8}),children:h.jsx(Vb,{})}),h.jsx(no,{children:h.jsxs("form",{onSubmit:a=>{a.preventDefault(),s.handleSubmit()},noValidate:!0,autoComplete:"off",children:[h.jsxs(gt,{direction:"column",spacing:2,sx:{mt:1},children:[h.jsx(ae,{variant:"body1",children:Uf.COST_CENTER_INFO}),h.jsx(s.Field,{name:"costCenters",validators:{onChange:({value:a})=>gv(a)?void 0:Uf.COST_CENTER_WARNING},children:a=>h.jsx(zn,{value:a.state.value,onChange:l=>a.handleChange(l.target.value),onBlur:a.handleBlur,label:"Cost Centers",variant:"outlined",error:!!a.state.meta.errors.length,helperText:a.state.meta.errors[0]||"",fullWidth:!0})})]}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:t,children:"Cancel"}),h.jsx(Be,{type:"submit",variant:"contained",children:"Save"})]})]})})]})},Nr={Home:"/",Pipe:"/pipe",Template:"/template",Templates:"/templates",Reports:"/reports",Pipes:"/pipes",Files:"/files",FilesManager:"/files/manager",Login:"/admin/login",Signup:"/signup",UserManagement:"/admin/user-management",Pacman:"/eastereggs/pacman",Demo:"/component/demo",Dashboard:"/dashboard",AuthCallback:"/auth-callback",AuthRedirect:"/authorization/callback",About:"/about",Licenses:"/licenses",Changelog:"/changelog",LoginRedirect:"/login-redirect",LogoutRedirect:"/logout-redirect"},Wd=e=>{const t=dp();return()=>t===void 0||e===void 0?!1:t.username!==e},$At=e=>{const t={pipeId:void 0,username:void 0,isDashboard:void 0,nodeId:void 0,isTemplate:!1},n=e.pathname.split("/");if(n.length>=2&&n[1]==="pipes")t.username=n[2];else if(n.length>=2&&n[1]==="template")t.pipeId=parseInt(n[2]),t.isTemplate=!0;else if(n.length>=3){const r=FAt(n[2]);if(r){const i=parseInt(r[1]),o=r[0];t.pipeId=i,t.username=o,n.includes("dashboard")?t.isDashboard=!0:n.includes("pipe")&&(t.isDashboard=!1)}}return n.length>4&&n[3]==="block"&&(t.nodeId=parseInt(n[4])),t},Ca=()=>{const e=_Y();return $At(e)},ba=(e,t)=>{const r=new TextEncoder().encode(`${e}|${t}`);return Array.from(r,s=>s.toString(16)).join("")},FAt=e=>{if(e===void 0)return;const t=new TextDecoder,n=e.match(/../g);if(!n)return;const r=Uint8Array.from(n,o=>parseInt(o,16));return t.decode(r).split("|")},uZ=Fi(e=>({isDialogOpen:!1,setDialogOpen:()=>e({isDialogOpen:!0}),setDialogClose:()=>e({isDialogOpen:!1})})),MM=({open:e,onClose:t,children:n,maxWidth:r="sm",fullWidth:i=!1,slotProps:o})=>h.jsxs(Oi,{open:e,onClose:t,maxWidth:r,fullWidth:i,slotProps:o,children:[h.jsx(Pt,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:s=>s.palette.grey[500],zIndex:1303},children:h.jsx(Vb,{})}),n]}),CS=(e,t=300)=>{const[n,r]=R.useState(!1);return R.useEffect(()=>{let i;return e?r(!0):i=setTimeout(()=>{r(!1)},t),()=>{i&&clearTimeout(i)}},[e,t]),n},LAt=({options:e,value:t,onChange:n,onBlur:r,onCreateNew:i,isLoading:o,label:s,errorText:a,placeholder:l="Select a tag, or start typing to create a new tag...",margin:c="dense",fullWidth:u=!0,disabled:d=!1})=>{const[f,p]=R.useState("");return h.jsx(rb,{options:e,value:t,inputValue:f,onInputChange:(g,y)=>{p(y)},onBlur:r,onChange:(g,y)=>{if(y&&y.isNew){i(y);return}n(y)},getOptionLabel:g=>g.label,filterOptions:(g,y)=>{const v=g.filter(x=>x.label.toLowerCase().includes(y.inputValue.toLowerCase()));return y.inputValue!==""&&!v.some(x=>x.label===y.inputValue)&&v.push({value:y.inputValue,label:y.inputValue,isNew:!0}),v},renderOption:(g,y)=>{const v=!e.some(x=>x.label===y.label);return h.jsx("li",{...g,children:v?`Create new Tag "${y.label}"`:y.label})},renderInput:g=>h.jsx(zn,{...g,margin:c,label:s,placeholder:l,fullWidth:u,variant:"outlined",helperText:a,error:!!a,InputProps:{...g.InputProps,endAdornment:h.jsxs(h.Fragment,{children:[o?h.jsx(To,{color:"inherit",size:20}):null,g.InputProps.endAdornment]})},disabled:d}),disabled:d})},NAt=e=>e?e?.response?.data?.[0]?.msg||"An error occurred":"",dZ=({value:e,onChange:t,onBlur:n,errorText:r,disabled:i=!1,placeholder:o})=>{const{data:s,isLoading:a}=R4(),l=aAe(),c=CS(l.isPending);if(a||!s)return h.jsx("p",{children:"Loading options..."});const u=(s?.data||[]).map(f=>({value:f.id,label:f.name})),d=()=>l.error?NAt(l.error):r;return h.jsx(LAt,{options:u,value:e,onBlur:n,onChange:t,errorText:d(),isLoading:c,onCreateNew:async f=>{if(!f)return;const p=await l.mutateAsync({body:{tag:f.label}});t({value:p.id,label:p.name})},disabled:i,placeholder:o})},zAt=()=>{const{isDialogOpen:e,setDialogClose:t}=uZ(),n=nZ(),r=Kr(),{data:i,isLoading:o}=z_(),s=lg({defaultValues:{dashboardName:"Untitled Dashboard",selectedTag:null},onSubmit:async({value:a})=>{try{const l=await n.mutateAsync({body:{name:a.dashboardName,tag_id:a.selectedTag?.value}});if(i){const c=ba(i.username,l.id);r({to:Nr.Dashboard+"/"+c})}}catch(l){Vo.error("Could not create new pipe",l)}t(),s.reset()}});return R.useEffect(()=>{e&&s.reset()},[e,s]),o||!i?null:h.jsxs(MM,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,slotProps:{paper:{sx:{width:"40vw",height:"45vh"}}},children:[h.jsx(Do,{children:"Create New Dashboard"}),h.jsxs(no,{sx:{display:"flex",flexDirection:"column",gap:2},children:[h.jsxs("form",{onSubmit:a=>{a.preventDefault(),a.stopPropagation(),s.handleSubmit()},noValidate:!0,autoComplete:"off",children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:h.jsx(ae,{children:"Dashboard Name"})}),h.jsx(s.Field,{name:"dashboardName",validators:{onChange:({value:a})=>a.trim()?void 0:"Dashboard name is required"},children:a=>h.jsx(zn,{id:a.name,value:a.state.value,onChange:l=>a.handleChange(l.target.value),onBlur:a.handleBlur,name:a.name,placeholder:"Dashboard Name",error:!!a.state.meta.errors.length,helperText:a.state.meta.errors[0]||"",fullWidth:!0,autoFocus:!0})})]}),h.jsx(s.Field,{name:"selectedTag",children:a=>h.jsxs(Y,{children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[h.jsx(ae,{children:"File Tag"}),h.jsx(Dt,{title:Uf.TAGS_INFO,children:h.jsx(Pt,{size:"small",sx:{p:0},children:h.jsx(wT,{fontSize:"small"})})})]}),h.jsx(dZ,{value:a.state.value,onChange:l=>a.handleChange(l),placeholder:"Select or Create a Tag (optional)"})]})})]}),h.jsx(wo,{disableSpacing:!0,sx:{display:"flex",justifyContent:"flex-end",width:"100%",gap:3,pb:4,px:4},children:h.jsx(s.Subscribe,{selector:a=>[a.canSubmit,a.isSubmitting],children:([a,l])=>h.jsxs(h.Fragment,{children:[h.jsx(Be,{onClick:t,color:"primary",children:"Cancel"}),h.jsx(Be,{onClick:()=>s.handleSubmit(),color:"primary",variant:"contained",disabled:!a,children:l?"Creating...":"Create"})]})})})]})},fZ=Fi(e=>({isDialogOpen:!1,selectedTagId:null,uploadedFileUuid:null,setDialogOpen:t=>e({isDialogOpen:!0,selectedTagId:t?.selectedTag||null,uploadedFileUuid:null}),setDialogClose:t=>e({isDialogOpen:!1,selectedTagId:null,uploadedFileUuid:t?.uploadedFileUuid??null}),clearUploadedFileUuid:()=>e({uploadedFileUuid:null})}));function QD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var h9={exports:{}};var wge;function BAt(){return wge||(wge=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof QD=="function"&&QD;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var y=r[c][1][g];return s(y||g)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof QD=="function"&&QD,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,f,p,g,y,v=[],x=0,w=l.length,S=w,C=o.getTypeOf(l)!=="string";x<l.length;)S=w-x,d=C?(c=l[x++],u=x<w?l[x++]:0,x<w?l[x++]:0):(c=l.charCodeAt(x++),u=x<w?l.charCodeAt(x++):0,x<w?l.charCodeAt(x++):0),f=c>>2,p=(3&c)<<4|u>>4,g=1<S?(15&u)<<2|d>>6:64,y=2<S?63&d:64,v.push(a.charAt(f)+a.charAt(p)+a.charAt(g)+a.charAt(y));return v.join("")},i.decode=function(l){var c,u,d,f,p,g,y=0,v=0,x="data:";if(l.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var w,S=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&S--,l.charAt(l.length-2)===a.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|S):new Array(0|S);y<l.length;)c=a.indexOf(l.charAt(y++))<<2|(f=a.indexOf(l.charAt(y++)))>>4,u=(15&f)<<4|(p=a.indexOf(l.charAt(y++)))>>2,d=(3&p)<<6|(g=a.indexOf(l.charAt(y++))),w[v++]=c,p!==64&&(w[v++]=u),g!==64&&(w[v++]=d);return w}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,f,p,g){this.compressedSize=u,this.uncompressedSize=d,this.crc32=f,this.compression=p,this.compressedContent=g}c.prototype={getContentWorker:function(){var u=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=(function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l})();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?(function(c,u,d,f){var p=s,g=f+d;c^=-1;for(var y=f;y<g;y++)c=c>>>8^p[255&(c^u[y])];return-1^c})(0|l,a,a.length,0):(function(c,u,d,f){var p=s,g=f+d;c^=-1;for(var y=f;y<g;y++)c=c>>>8^p[255&(c^u.charCodeAt(y))];return-1^c})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(p,g){var y,v="";for(y=0;y<g;y++)v+=String.fromCharCode(255&p),p>>>=8;return v}function s(p,g,y,v,x,w){var S,C,k=p.file,T=p.compression,E=w!==c.utf8encode,A=a.transformTo("string",w(k.name)),O=a.transformTo("string",c.utf8encode(k.name)),I=k.comment,j=a.transformTo("string",w(I)),P=a.transformTo("string",c.utf8encode(I)),$=O.length!==k.name.length,D=P.length!==I.length,F="",N="",V="",H=k.dir,U=k.date,G={crc32:0,compressedSize:0,uncompressedSize:0};g&&!y||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var z=0;g&&(z|=8),E||!$&&!D||(z|=2048);var W=0,X=0;H&&(W|=16),x==="UNIX"?(X=798,W|=(function(ee,ne){var oe=ee;return ee||(oe=ne?16893:33204),(65535&oe)<<16})(k.unixPermissions,H)):(X=20,W|=(function(ee){return 63&(ee||0)})(k.dosPermissions)),S=U.getUTCHours(),S<<=6,S|=U.getUTCMinutes(),S<<=5,S|=U.getUTCSeconds()/2,C=U.getUTCFullYear()-1980,C<<=4,C|=U.getUTCMonth()+1,C<<=5,C|=U.getUTCDate(),$&&(N=o(1,1)+o(u(A),4)+O,F+="up"+o(N.length,2)+N),D&&(V=o(1,1)+o(u(j),4)+P,F+="uc"+o(V.length,2)+V);var Q="";return Q+=`
\0`,Q+=o(z,2),Q+=T.magic,Q+=o(S,2),Q+=o(C,2),Q+=o(G.crc32,4),Q+=o(G.compressedSize,4),Q+=o(G.uncompressedSize,4),Q+=o(A.length,2),Q+=o(F.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Q+A+F,dirRecord:d.CENTRAL_FILE_HEADER+o(X,2)+Q+o(j.length,2)+"\0\0\0\0"+o(W,4)+o(v,4)+A+F+j}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function f(p,g,y,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=y,this.encodeFileName=v,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(p){var g=p.meta.percent||0,y=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(g+100*(y-v-1))/y:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var g=this.streamFiles&&!p.file.dir;if(g){var y=s(p,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var g=this.streamFiles&&!p.file.dir,y=s(p,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),g)this.push({data:(function(v){return d.DATA_DESCRIPTOR+o(v.crc32,4)+o(v.compressedSize,4)+o(v.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var y=this.bytesWritten-p,v=(function(x,w,S,C,k){var T=a.transformTo("string",k(C));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(x,2)+o(x,2)+o(w,4)+o(S,4)+o(T.length,2)+T})(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var g=this;return p.on("data",function(y){g.processChunk(y)}),p.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),p.on("error",function(y){g.error(y)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var g=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var y=0;y<g.length;y++)try{g[y].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,g=0;g<p.length;g++)p[g].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,p){d++;var g=(function(w,S){var C=w||S,k=o[C];if(!k)throw new Error(C+" is not a valid compression method !");return k})(p.options.compression,l.compression),y=p.options.compressionOptions||l.compressionOptions||{},v=p.dir,x=p.date;p._compressWorker(g,y).withStreamInfo("file",{name:f,dir:v,date:x,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(f){return new s.Promise(function(p,g){var y=f.decompressed.getContentWorker().pipe(new c);y.on("error",function(v){g(v)}).on("end",function(){y.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(f,p){var g=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(y){var v=new l(p);return v.load(y),v}).then(function(y){var v=[s.Promise.resolve(y)],x=y.files;if(p.checkCRC32)for(var w=0;w<x.length;w++)v.push(d(x[w]));return s.Promise.all(v)}).then(function(y){for(var v=y.shift(),x=v.files,w=0;w<x.length;w++){var S=x[w],C=S.fileNameStr,k=o.resolve(S.fileNameStr);g.file(k,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:p.createFolders}),S.dir||(g.file(k).unsafeOriginalName=C)}return v.zipComment.length&&(g.comment=v.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,c){o.call(this,l),this._helper=a;var u=this;a.on("data",function(d,f){u.push(d)||u._helper.pause(),c&&c(f)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(k,T,E){var A,O=a.getTypeOf(T),I=a.extend(E||{},u);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(k=x(k)),I.createFolders&&(A=v(k))&&w.call(this,A,!0);var j=O==="string"&&I.binary===!1&&I.base64===!1;E&&E.binary!==void 0||(I.binary=!j),(T instanceof d&&T.uncompressedSize===0||I.dir||!T||T.length===0)&&(I.base64=!1,I.binary=!0,T="",I.compression="STORE",O="string");var P=null;P=T instanceof d||T instanceof l?T:g.isNode&&g.isStream(T)?new y(k,T):a.prepareContent(k,T,I.binary,I.optimizedBinaryString,I.base64);var $=new f(k,P,I);this.files[k]=$}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),g=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),v=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var T=k.lastIndexOf("/");return 0<T?k.substring(0,T):""},x=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},w=function(k,T){return T=T!==void 0?T:u.createFolders,k=x(k),this.files[k]||o.call(this,k,null,{dir:!0,createFolders:T}),this.files[k]};function S(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var T,E,A;for(T in this.files)A=this.files[T],(E=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&k(E,A)},filter:function(k){var T=[];return this.forEach(function(E,A){k(E,A)&&T.push(A)}),T},file:function(k,T,E){if(arguments.length!==1)return k=this.root+k,o.call(this,k,T,E),this;if(S(k)){var A=k;return this.filter(function(I,j){return!j.dir&&A.test(I)})}var O=this.files[this.root+k];return O&&!O.dir?O:null},folder:function(k){if(!k)return this;if(S(k))return this.filter(function(O,I){return I.dir&&k.test(O)});var T=this.root+k,E=w.call(this,T),A=this.clone();return A.root=E.name,A},remove:function(k){k=this.root+k;var T=this.files[k];if(T||(k.slice(-1)!=="/"&&(k+="/"),T=this.files[k]),T&&!T.dir)delete this.files[k];else for(var E=this.filter(function(O,I){return I.name.slice(0,k.length)===k}),A=0;A<E.length;A++)delete this.files[E[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var T,E={};try{if((E=a.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var A=E.comment||this.comment||"";T=p.generateWorker(this,E,A)}catch(O){(T=new l("error")).error(O)}return new c(T,E.type||"string",E.mimeType)},generateAsync:function(k,T){return this.generateInternalStream(k).accumulate(T)},generateNodeStream:function(k,T){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(T)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new c(d):s.uint8array?new u(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,y){return new u.Promise(function(v,x){var w=[],S=g._internalType,C=g._outputType,k=g._mimeType;g.on("data",function(T,E){w.push(T),y&&y(E)}).on("error",function(T){w=[],x(T)}).on("end",function(){try{var T=(function(E,A,O){switch(E){case"blob":return o.newBlob(o.transformTo("arraybuffer",A),O);case"base64":return l.encode(A);default:return o.transformTo(E,A)}})(C,(function(E,A){var O,I=0,j=null,P=0;for(O=0;O<A.length;O++)P+=A[O].length;switch(E){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(j=new Uint8Array(P),O=0;O<A.length;O++)j.set(A[O],I),I+=A[O].length;return j;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+E+"'")}})(S,w),k);v(T)}catch(E){x(E)}w=[]}).resume()})}function p(g,y,v){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=v,o.checkSupport(x),this._worker=g.pipe(new s(x)),g.lock()}catch(w){this._worker=new a("error"),this._worker.error(w)}}p.prototype={accumulate:function(g){return f(this,g)},on:function(g,y){var v=this;return g==="data"?this._worker.on(g,function(x){y.call(v,x.data,x.meta)}):this._worker.on(g,function(){o.delay(y,arguments,v)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return s.nodebuffer?a.newBufferFrom(p,"utf-8"):(function(g){var y,v,x,w,S,C=g.length,k=0;for(w=0;w<C;w++)(64512&(v=g.charCodeAt(w)))==55296&&w+1<C&&(64512&(x=g.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),w++),k+=v<128?1:v<2048?2:v<65536?3:4;for(y=s.uint8array?new Uint8Array(k):new Array(k),w=S=0;S<k;w++)(64512&(v=g.charCodeAt(w)))==55296&&w+1<C&&(64512&(x=g.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),w++),v<128?y[S++]=v:(v<2048?y[S++]=192|v>>>6:(v<65536?y[S++]=224|v>>>12:(y[S++]=240|v>>>18,y[S++]=128|v>>>12&63),y[S++]=128|v>>>6&63),y[S++]=128|63&v);return y})(p)},i.utf8decode=function(p){return s.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):(function(g){var y,v,x,w,S=g.length,C=new Array(2*S);for(y=v=0;y<S;)if((x=g[y++])<128)C[v++]=x;else if(4<(w=c[x]))C[v++]=65533,y+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&y<S;)x=x<<6|63&g[y++],w--;1<w?C[v++]=65533:x<65536?C[v++]=x:(x-=65536,C[v++]=55296|x>>10&1023,C[v++]=56320|1023&x)}return C.length!==v&&(C.subarray?C=C.subarray(0,v):C.length=v),o.applyFromCharCode(C)})(p=o.transformTo(s.uint8array?"uint8array":"array",p))},o.inherits(d,l),d.prototype.processChunk=function(p){var g=o.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=g;(g=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var v=(function(w,S){var C;for((S=S||w.length)>w.length&&(S=w.length),C=S-1;0<=C&&(192&w[C])==128;)C--;return C<0||C===0?S:C+c[w[C]]>S?C:S})(g),x=g;v!==g.length&&(s.uint8array?(x=g.subarray(0,v),this.leftOver=g.subarray(v,g.length)):(x=g.slice(0,v),this.leftOver=g.slice(v,g.length))),this.push({data:i.utf8decode(x),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(y){return y}function u(y,v){for(var x=0;x<y.length;++x)v[x]=255&y.charCodeAt(x);return v}n("setimmediate"),i.newBlob=function(y,v){i.checkSupport("blob");try{return new Blob([y],{type:v})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(y,v,x){var w=[],S=0,C=y.length;if(C<=x)return String.fromCharCode.apply(null,y);for(;S<C;)v==="array"||v==="nodebuffer"?w.push(String.fromCharCode.apply(null,y.slice(S,Math.min(S+x,C)))):w.push(String.fromCharCode.apply(null,y.subarray(S,Math.min(S+x,C)))),S+=x;return w.join("")},stringifyByChar:function(y){for(var v="",x=0;x<y.length;x++)v+=String.fromCharCode(y[x]);return v},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function f(y){var v=65536,x=i.getTypeOf(y),w=!0;if(x==="uint8array"?w=d.applyCanBeUsed.uint8array:x==="nodebuffer"&&(w=d.applyCanBeUsed.nodebuffer),w)for(;1<v;)try{return d.stringifyByChunk(y,x,v)}catch{v=Math.floor(v/2)}return d.stringifyByChar(y)}function p(y,v){for(var x=0;x<y.length;x++)v[x]=y[x];return v}i.applyFromCharCode=f;var g={};g.string={string:c,array:function(y){return u(y,new Array(y.length))},arraybuffer:function(y){return g.string.uint8array(y).buffer},uint8array:function(y){return u(y,new Uint8Array(y.length))},nodebuffer:function(y){return u(y,a.allocBuffer(y.length))}},g.array={string:f,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},g.arraybuffer={string:function(y){return f(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},g.uint8array={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return a.newBufferFrom(y)}},g.nodebuffer={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return g.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,v){if(v=v||"",!y)return v;i.checkSupport(y);var x=i.getTypeOf(v);return g[x][y](v)},i.resolve=function(y){for(var v=y.split("/"),x=[],w=0;w<v.length;w++){var S=v[w];S==="."||S===""&&w!==0&&w!==v.length-1||(S===".."?x.pop():x.push(S))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var v,x,w="";for(x=0;x<(y||"").length;x++)w+="\\x"+((v=y.charCodeAt(x))<16?"0":"")+v.toString(16).toUpperCase();return w},i.delay=function(y,v,x){setImmediate(function(){y.apply(x||null,v||[])})},i.inherits=function(y,v){function x(){}x.prototype=v.prototype,y.prototype=new x},i.extend=function(){var y,v,x={};for(y=0;y<arguments.length;y++)for(v in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],v)&&x[v]===void 0&&(x[v]=arguments[y][v]);return x},i.prepareContent=function(y,v,x,w,S){return l.Promise.resolve(v).then(function(C){return o.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,T){var E=new FileReader;E.onload=function(A){k(A.target.result)},E.onerror=function(A){T(A.target.error)},E.readAsArrayBuffer(C)}):C}).then(function(C){var k=i.getTypeOf(C);return k?(k==="arraybuffer"?C=i.transformTo("uint8array",C):k==="string"&&(S?C=s.decode(C):x&&w!==!0&&(C=(function(T){return u(T,o.uint8array?new Uint8Array(T.length):new Array(T.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var p=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===f;return this.reader.setIndex(p),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",p=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,p,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var g=f-p;if(0<g)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function f(p,g){this.options=p,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var g,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=(function(v){for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x)&&u[x].magic===v)return u[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g,y,v,x=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<x;)g=p.readInt(2),y=p.readInt(2),v=p.readData(y),this.extraFields[g]={id:g,length:y,value:v};p.setIndex(x)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var x=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=o(p.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=o(p.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(p.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(g,y,v){this.name=g,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=y,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");o.prototype={internalStream:function(g){var y=null,v="string";try{if(!g)throw new Error("No output type specified.");var x=(v=g.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),y=this._decompressWorker();var w=!this._dataBinary;w&&!x&&(y=y.pipe(new l.Utf8EncodeWorker)),!w&&x&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(S){(y=new u("error")).error(S)}return new s(y,v,"")},async:function(g,y){return this.internalStream(g).accumulate(y)},nodeStream:function(g,y){return this.internalStream(g||"nodebuffer").toNodejsStream(y)},_compressWorker:function(g,y){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,g,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)o.prototype[d[p]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(g),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){g(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(g,0)};else{var f=new o.MessageChannel;f.port1.onmessage=g,s=function(){f.port2.postMessage(0)}}var p=[];function g(){var y,v;a=!0;for(var x=p.length;x;){for(v=p,p=[],y=-1;++y<x;)v[y]();x=p.length}a=!1}r.exports=function(y){p.push(y)!==1||a||s()}}).call(this,typeof YP<"u"?YP:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function f(x,w,S){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function p(x,w,S){o(function(){var C;try{C=w(S)}catch(k){return a.reject(x,k)}C===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,C)})}function g(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function y(x,w){var S=!1;function C(E){S||(S=!0,a.reject(x,E))}function k(E){S||(S=!0,a.resolve(x,E))}var T=v(function(){w(k,C)});T.status==="error"&&C(T.value)}function v(x,w){var S={};try{S.value=x(w),S.status="success"}catch(C){S.status="error",S.value=C}return S}(r.exports=d).prototype.finally=function(x){if(typeof x!="function")return this;var w=this.constructor;return this.then(function(S){return w.resolve(x()).then(function(){return S})},function(S){return w.resolve(x()).then(function(){throw S})})},d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,w){if(typeof x!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var S=new this.constructor(s);return this.state!==u?p(S,this.state===c?x:w,this.outcome):this.queue.push(new f(S,x,w)),S},f.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},f.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},f.prototype.callRejected=function(x){a.reject(this.promise,x)},f.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)},a.resolve=function(x,w){var S=v(g,w);if(S.status==="error")return a.reject(x,S.value);var C=S.value;if(C)y(x,C);else{x.state=c,x.outcome=w;for(var k=-1,T=x.queue.length;++k<T;)x.queue[k].callFulfilled(w)}return x},a.reject=function(x,w){x.state=l,x.outcome=w;for(var S=-1,C=x.queue.length;++S<C;)x.queue[S].callRejected(w);return x},d.resolve=function(x){return x instanceof this?x:a.resolve(new this(s),x)},d.reject=function(x){var w=new this(s);return a.reject(w,x)},d.all=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,C=!1;if(!S)return this.resolve([]);for(var k=new Array(S),T=0,E=-1,A=new this(s);++E<S;)O(x[E],E);return A;function O(I,j){w.resolve(I).then(function(P){k[j]=P,++T!==S||C||(C=!0,a.resolve(A,k))},function(P){C||(C=!0,a.reject(A,P))})}},d.race=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,C=!1;if(!S)return this.resolve([]);for(var k=-1,T=new this(s);++k<S;)E=x[k],w.resolve(E).then(function(A){C||(C=!0,a.resolve(T,A))},function(A){C||(C=!0,a.reject(T,A))});var E;return T}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,f=-1,p=0,g=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},x||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var S=o.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(S!==d)throw new Error(l[S]);if(w.header&&o.deflateSetHeader(this.strm,w.header),w.dictionary){var C;if(C=typeof w.dictionary=="string"?a.string2buf(w.dictionary):u.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(S=o.deflateSetDictionary(this.strm,C))!==d)throw new Error(l[S]);this._dict_set=!0}}function v(x,w){var S=new y(w);if(S.push(x,!0),S.err)throw S.msg||l[S.err];return S.result}y.prototype.push=function(x,w){var S,C,k=this.strm,T=this.options.chunkSize;if(this.ended)return!1;C=w===~~w?w:w===!0?4:0,typeof x=="string"?k.input=a.string2buf(x):u.call(x)==="[object ArrayBuffer]"?k.input=new Uint8Array(x):k.input=x,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(T),k.next_out=0,k.avail_out=T),(S=o.deflate(k,C))!==1&&S!==d)return this.onEnd(S),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(k.output,k.next_out))):this.onData(s.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&S!==1);return C===4?(S=o.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===d):C!==2||(this.onEnd(d),!(k.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=v,i.deflateRaw=function(x,w){return(w=w||{}).raw=!0,v(x,w)},i.gzip=function(x,w){return(w=w||{}).gzip=!0,v(x,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||y&&y.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=o.inflateInit2(this.strm,v.windowBits);if(x!==l.Z_OK)throw new Error(c[x]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function g(y,v){var x=new p(v);if(x.push(y,!0),x.err)throw x.msg||c[x.err];return x.result}p.prototype.push=function(y,v){var x,w,S,C,k,T,E=this.strm,A=this.options.chunkSize,O=this.options.dictionary,I=!1;if(this.ended)return!1;w=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?E.input=a.binstring2buf(y):f.call(y)==="[object ArrayBuffer]"?E.input=new Uint8Array(y):E.input=y,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(A),E.next_out=0,E.avail_out=A),(x=o.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(T=typeof O=="string"?a.string2buf(O):f.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,x=o.inflateSetDictionary(this.strm,T)),x===l.Z_BUF_ERROR&&I===!0&&(x=l.Z_OK,I=!1),x!==l.Z_STREAM_END&&x!==l.Z_OK)return this.onEnd(x),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&x!==l.Z_STREAM_END&&(E.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=a.utf8border(E.output,E.next_out),C=E.next_out-S,k=a.buf2string(E.output,S),E.next_out=C,E.avail_out=A-C,C&&s.arraySet(E.output,E.output,S,C,0),this.onData(k)):this.onData(s.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(I=!0)}while((0<E.avail_in||E.avail_out===0)&&x!==l.Z_STREAM_END);return x===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(x=o.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=p,i.inflate=g,i.inflateRaw=function(y,v){return(v=v||{}).raw=!0,g(y,v)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),f);else for(var p=0;p<d;p++)l[f+p]=c[u+p]},flattenChunks:function(l){var c,u,d,f,p,g;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(g=new Uint8Array(d),c=f=0,u=l.length;c<u;c++)p=l[c],g.set(p,f),f+=p.length;return g}},a={arraySet:function(l,c,u,d,f){for(var p=0;p<d;p++)l[f+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var p="",g=0;g<f;g++)p+=String.fromCharCode(d[g]);return p}l[254]=l[254]=1,i.string2buf=function(d){var f,p,g,y,v,x=d.length,w=0;for(y=0;y<x;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<x&&(64512&(g=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),y++),w+=p<128?1:p<2048?2:p<65536?3:4;for(f=new o.Buf8(w),y=v=0;v<w;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<x&&(64512&(g=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),y++),p<128?f[v++]=p:(p<2048?f[v++]=192|p>>>6:(p<65536?f[v++]=224|p>>>12:(f[v++]=240|p>>>18,f[v++]=128|p>>>12&63),f[v++]=128|p>>>6&63),f[v++]=128|63&p);return f},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),p=0,g=f.length;p<g;p++)f[p]=d.charCodeAt(p);return f},i.buf2string=function(d,f){var p,g,y,v,x=f||d.length,w=new Array(2*x);for(p=g=0;p<x;)if((y=d[p++])<128)w[g++]=y;else if(4<(v=l[y]))w[g++]=65533,p+=v-1;else{for(y&=v===2?31:v===3?15:7;1<v&&p<x;)y=y<<6|63&d[p++],v--;1<v?w[g++]=65533:y<65536?w[g++]=y:(y-=65536,w[g++]=55296|y>>10&1023,w[g++]=56320|1023&y)}return u(w,g)},i.utf8border=function(d,f){var p;for((f=f||d.length)>d.length&&(f=d.length),p=f-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?f:p+l[d[p]]>f?p:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=(function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a})();r.exports=function(s,a,l,c){var u=o,d=c+l;s^=-1;for(var f=c;f<d;f++)s=s>>>8^u[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,f=4,p=0,g=-2,y=-1,v=4,x=2,w=8,S=9,C=286,k=30,T=19,E=2*C+1,A=15,O=3,I=258,j=I+O+1,P=42,$=113,D=1,F=2,N=3,V=4;function H(q,fe){return q.msg=u[fe],fe}function U(q){return(q<<1)-(4<q?9:0)}function G(q){for(var fe=q.length;0<=--fe;)q[fe]=0}function z(q){var fe=q.state,se=fe.pending;se>q.avail_out&&(se=q.avail_out),se!==0&&(s.arraySet(q.output,fe.pending_buf,fe.pending_out,se,q.next_out),q.next_out+=se,fe.pending_out+=se,q.total_out+=se,q.avail_out-=se,fe.pending-=se,fe.pending===0&&(fe.pending_out=0))}function W(q,fe){a._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,fe),q.block_start=q.strstart,z(q.strm)}function X(q,fe){q.pending_buf[q.pending++]=fe}function Q(q,fe){q.pending_buf[q.pending++]=fe>>>8&255,q.pending_buf[q.pending++]=255&fe}function ee(q,fe){var se,J,Z=q.max_chain_length,ue=q.strstart,de=q.prev_length,be=q.nice_match,le=q.strstart>q.w_size-j?q.strstart-(q.w_size-j):0,Se=q.window,ye=q.w_mask,ve=q.prev,_e=q.strstart+I,Ae=Se[ue+de-1],Te=Se[ue+de];q.prev_length>=q.good_match&&(Z>>=2),be>q.lookahead&&(be=q.lookahead);do if(Se[(se=fe)+de]===Te&&Se[se+de-1]===Ae&&Se[se]===Se[ue]&&Se[++se]===Se[ue+1]){ue+=2,se++;do;while(Se[++ue]===Se[++se]&&Se[++ue]===Se[++se]&&Se[++ue]===Se[++se]&&Se[++ue]===Se[++se]&&Se[++ue]===Se[++se]&&Se[++ue]===Se[++se]&&Se[++ue]===Se[++se]&&Se[++ue]===Se[++se]&&ue<_e);if(J=I-(_e-ue),ue=_e-I,de<J){if(q.match_start=fe,be<=(de=J))break;Ae=Se[ue+de-1],Te=Se[ue+de]}}while((fe=ve[fe&ye])>le&&--Z!=0);return de<=q.lookahead?de:q.lookahead}function ne(q){var fe,se,J,Z,ue,de,be,le,Se,ye,ve=q.w_size;do{if(Z=q.window_size-q.lookahead-q.strstart,q.strstart>=ve+(ve-j)){for(s.arraySet(q.window,q.window,ve,ve,0),q.match_start-=ve,q.strstart-=ve,q.block_start-=ve,fe=se=q.hash_size;J=q.head[--fe],q.head[fe]=ve<=J?J-ve:0,--se;);for(fe=se=ve;J=q.prev[--fe],q.prev[fe]=ve<=J?J-ve:0,--se;);Z+=ve}if(q.strm.avail_in===0)break;if(de=q.strm,be=q.window,le=q.strstart+q.lookahead,Se=Z,ye=void 0,ye=de.avail_in,Se<ye&&(ye=Se),se=ye===0?0:(de.avail_in-=ye,s.arraySet(be,de.input,de.next_in,ye,le),de.state.wrap===1?de.adler=l(de.adler,be,ye,le):de.state.wrap===2&&(de.adler=c(de.adler,be,ye,le)),de.next_in+=ye,de.total_in+=ye,ye),q.lookahead+=se,q.lookahead+q.insert>=O)for(ue=q.strstart-q.insert,q.ins_h=q.window[ue],q.ins_h=(q.ins_h<<q.hash_shift^q.window[ue+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[ue+O-1])&q.hash_mask,q.prev[ue&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ue,ue++,q.insert--,!(q.lookahead+q.insert<O)););}while(q.lookahead<j&&q.strm.avail_in!==0)}function oe(q,fe){for(var se,J;;){if(q.lookahead<j){if(ne(q),q.lookahead<j&&fe===d)return D;if(q.lookahead===0)break}if(se=0,q.lookahead>=O&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+O-1])&q.hash_mask,se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),se!==0&&q.strstart-se<=q.w_size-j&&(q.match_length=ee(q,se)),q.match_length>=O)if(J=a._tr_tally(q,q.strstart-q.match_start,q.match_length-O),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=O){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+O-1])&q.hash_mask,se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else J=a._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(J&&(W(q,!1),q.strm.avail_out===0))return D}return q.insert=q.strstart<O-1?q.strstart:O-1,fe===f?(W(q,!0),q.strm.avail_out===0?N:V):q.last_lit&&(W(q,!1),q.strm.avail_out===0)?D:F}function ce(q,fe){for(var se,J,Z;;){if(q.lookahead<j){if(ne(q),q.lookahead<j&&fe===d)return D;if(q.lookahead===0)break}if(se=0,q.lookahead>=O&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+O-1])&q.hash_mask,se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=O-1,se!==0&&q.prev_length<q.max_lazy_match&&q.strstart-se<=q.w_size-j&&(q.match_length=ee(q,se),q.match_length<=5&&(q.strategy===1||q.match_length===O&&4096<q.strstart-q.match_start)&&(q.match_length=O-1)),q.prev_length>=O&&q.match_length<=q.prev_length){for(Z=q.strstart+q.lookahead-O,J=a._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-O),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=Z&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+O-1])&q.hash_mask,se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=O-1,q.strstart++,J&&(W(q,!1),q.strm.avail_out===0))return D}else if(q.match_available){if((J=a._tr_tally(q,0,q.window[q.strstart-1]))&&W(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return D}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(J=a._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<O-1?q.strstart:O-1,fe===f?(W(q,!0),q.strm.avail_out===0?N:V):q.last_lit&&(W(q,!1),q.strm.avail_out===0)?D:F}function re(q,fe,se,J,Z){this.good_length=q,this.max_lazy=fe,this.nice_length=se,this.max_chain=J,this.func=Z}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*E),this.dyn_dtree=new s.Buf16(2*(2*k+1)),this.bl_tree=new s.Buf16(2*(2*T+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(A+1),this.heap=new s.Buf16(2*C+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*C+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(q){var fe;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=x,(fe=q.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?P:$,q.adler=fe.wrap===2?0:1,fe.last_flush=d,a._tr_init(fe),p):H(q,g)}function ie(q){var fe=he(q);return fe===p&&(function(se){se.window_size=2*se.w_size,G(se.head),se.max_lazy_match=o[se.level].max_lazy,se.good_match=o[se.level].good_length,se.nice_match=o[se.level].nice_length,se.max_chain_length=o[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=O-1,se.match_available=0,se.ins_h=0})(q.state),fe}function xe(q,fe,se,J,Z,ue){if(!q)return g;var de=1;if(fe===y&&(fe=6),J<0?(de=0,J=-J):15<J&&(de=2,J-=16),Z<1||S<Z||se!==w||J<8||15<J||fe<0||9<fe||ue<0||v<ue)return H(q,g);J===8&&(J=9);var be=new ge;return(q.state=be).strm=q,be.wrap=de,be.gzhead=null,be.w_bits=J,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=Z+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+O-1)/O),be.window=new s.Buf8(2*be.w_size),be.head=new s.Buf16(be.hash_size),be.prev=new s.Buf16(be.w_size),be.lit_bufsize=1<<Z+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new s.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=fe,be.strategy=ue,be.method=se,ie(q)}o=[new re(0,0,0,0,function(q,fe){var se=65535;for(se>q.pending_buf_size-5&&(se=q.pending_buf_size-5);;){if(q.lookahead<=1){if(ne(q),q.lookahead===0&&fe===d)return D;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var J=q.block_start+se;if((q.strstart===0||q.strstart>=J)&&(q.lookahead=q.strstart-J,q.strstart=J,W(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-j&&(W(q,!1),q.strm.avail_out===0))return D}return q.insert=0,fe===f?(W(q,!0),q.strm.avail_out===0?N:V):(q.strstart>q.block_start&&(W(q,!1),q.strm.avail_out),D)}),new re(4,4,8,4,oe),new re(4,5,16,8,oe),new re(4,6,32,32,oe),new re(4,4,16,16,ce),new re(8,16,32,32,ce),new re(8,16,128,128,ce),new re(8,32,128,256,ce),new re(32,128,258,1024,ce),new re(32,258,258,4096,ce)],i.deflateInit=function(q,fe){return xe(q,fe,w,15,8,0)},i.deflateInit2=xe,i.deflateReset=ie,i.deflateResetKeep=he,i.deflateSetHeader=function(q,fe){return q&&q.state?q.state.wrap!==2?g:(q.state.gzhead=fe,p):g},i.deflate=function(q,fe){var se,J,Z,ue;if(!q||!q.state||5<fe||fe<0)return q?H(q,g):g;if(J=q.state,!q.output||!q.input&&q.avail_in!==0||J.status===666&&fe!==f)return H(q,q.avail_out===0?-5:g);if(J.strm=q,se=J.last_flush,J.last_flush=fe,J.status===P)if(J.wrap===2)q.adler=0,X(J,31),X(J,139),X(J,8),J.gzhead?(X(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),X(J,255&J.gzhead.time),X(J,J.gzhead.time>>8&255),X(J,J.gzhead.time>>16&255),X(J,J.gzhead.time>>24&255),X(J,J.level===9?2:2<=J.strategy||J.level<2?4:0),X(J,255&J.gzhead.os),J.gzhead.extra&&J.gzhead.extra.length&&(X(J,255&J.gzhead.extra.length),X(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(q.adler=c(q.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=69):(X(J,0),X(J,0),X(J,0),X(J,0),X(J,0),X(J,J.level===9?2:2<=J.strategy||J.level<2?4:0),X(J,3),J.status=$);else{var de=w+(J.w_bits-8<<4)<<8;de|=(2<=J.strategy||J.level<2?0:J.level<6?1:J.level===6?2:3)<<6,J.strstart!==0&&(de|=32),de+=31-de%31,J.status=$,Q(J,de),J.strstart!==0&&(Q(J,q.adler>>>16),Q(J,65535&q.adler)),q.adler=1}if(J.status===69)if(J.gzhead.extra){for(Z=J.pending;J.gzindex<(65535&J.gzhead.extra.length)&&(J.pending!==J.pending_buf_size||(J.gzhead.hcrc&&J.pending>Z&&(q.adler=c(q.adler,J.pending_buf,J.pending-Z,Z)),z(q),Z=J.pending,J.pending!==J.pending_buf_size));)X(J,255&J.gzhead.extra[J.gzindex]),J.gzindex++;J.gzhead.hcrc&&J.pending>Z&&(q.adler=c(q.adler,J.pending_buf,J.pending-Z,Z)),J.gzindex===J.gzhead.extra.length&&(J.gzindex=0,J.status=73)}else J.status=73;if(J.status===73)if(J.gzhead.name){Z=J.pending;do{if(J.pending===J.pending_buf_size&&(J.gzhead.hcrc&&J.pending>Z&&(q.adler=c(q.adler,J.pending_buf,J.pending-Z,Z)),z(q),Z=J.pending,J.pending===J.pending_buf_size)){ue=1;break}ue=J.gzindex<J.gzhead.name.length?255&J.gzhead.name.charCodeAt(J.gzindex++):0,X(J,ue)}while(ue!==0);J.gzhead.hcrc&&J.pending>Z&&(q.adler=c(q.adler,J.pending_buf,J.pending-Z,Z)),ue===0&&(J.gzindex=0,J.status=91)}else J.status=91;if(J.status===91)if(J.gzhead.comment){Z=J.pending;do{if(J.pending===J.pending_buf_size&&(J.gzhead.hcrc&&J.pending>Z&&(q.adler=c(q.adler,J.pending_buf,J.pending-Z,Z)),z(q),Z=J.pending,J.pending===J.pending_buf_size)){ue=1;break}ue=J.gzindex<J.gzhead.comment.length?255&J.gzhead.comment.charCodeAt(J.gzindex++):0,X(J,ue)}while(ue!==0);J.gzhead.hcrc&&J.pending>Z&&(q.adler=c(q.adler,J.pending_buf,J.pending-Z,Z)),ue===0&&(J.status=103)}else J.status=103;if(J.status===103&&(J.gzhead.hcrc?(J.pending+2>J.pending_buf_size&&z(q),J.pending+2<=J.pending_buf_size&&(X(J,255&q.adler),X(J,q.adler>>8&255),q.adler=0,J.status=$)):J.status=$),J.pending!==0){if(z(q),q.avail_out===0)return J.last_flush=-1,p}else if(q.avail_in===0&&U(fe)<=U(se)&&fe!==f)return H(q,-5);if(J.status===666&&q.avail_in!==0)return H(q,-5);if(q.avail_in!==0||J.lookahead!==0||fe!==d&&J.status!==666){var be=J.strategy===2?(function(le,Se){for(var ye;;){if(le.lookahead===0&&(ne(le),le.lookahead===0)){if(Se===d)return D;break}if(le.match_length=0,ye=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,ye&&(W(le,!1),le.strm.avail_out===0))return D}return le.insert=0,Se===f?(W(le,!0),le.strm.avail_out===0?N:V):le.last_lit&&(W(le,!1),le.strm.avail_out===0)?D:F})(J,fe):J.strategy===3?(function(le,Se){for(var ye,ve,_e,Ae,Te=le.window;;){if(le.lookahead<=I){if(ne(le),le.lookahead<=I&&Se===d)return D;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=O&&0<le.strstart&&(ve=Te[_e=le.strstart-1])===Te[++_e]&&ve===Te[++_e]&&ve===Te[++_e]){Ae=le.strstart+I;do;while(ve===Te[++_e]&&ve===Te[++_e]&&ve===Te[++_e]&&ve===Te[++_e]&&ve===Te[++_e]&&ve===Te[++_e]&&ve===Te[++_e]&&ve===Te[++_e]&&_e<Ae);le.match_length=I-(Ae-_e),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=O?(ye=a._tr_tally(le,1,le.match_length-O),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(ye=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),ye&&(W(le,!1),le.strm.avail_out===0))return D}return le.insert=0,Se===f?(W(le,!0),le.strm.avail_out===0?N:V):le.last_lit&&(W(le,!1),le.strm.avail_out===0)?D:F})(J,fe):o[J.level].func(J,fe);if(be!==N&&be!==V||(J.status=666),be===D||be===N)return q.avail_out===0&&(J.last_flush=-1),p;if(be===F&&(fe===1?a._tr_align(J):fe!==5&&(a._tr_stored_block(J,0,0,!1),fe===3&&(G(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),z(q),q.avail_out===0))return J.last_flush=-1,p}return fe!==f?p:J.wrap<=0?1:(J.wrap===2?(X(J,255&q.adler),X(J,q.adler>>8&255),X(J,q.adler>>16&255),X(J,q.adler>>24&255),X(J,255&q.total_in),X(J,q.total_in>>8&255),X(J,q.total_in>>16&255),X(J,q.total_in>>24&255)):(Q(J,q.adler>>>16),Q(J,65535&q.adler)),z(q),0<J.wrap&&(J.wrap=-J.wrap),J.pending!==0?p:1)},i.deflateEnd=function(q){var fe;return q&&q.state?(fe=q.state.status)!==P&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==$&&fe!==666?H(q,g):(q.state=null,fe===$?H(q,-3):p):g},i.deflateSetDictionary=function(q,fe){var se,J,Z,ue,de,be,le,Se,ye=fe.length;if(!q||!q.state||(ue=(se=q.state).wrap)===2||ue===1&&se.status!==P||se.lookahead)return g;for(ue===1&&(q.adler=l(q.adler,fe,ye,0)),se.wrap=0,ye>=se.w_size&&(ue===0&&(G(se.head),se.strstart=0,se.block_start=0,se.insert=0),Se=new s.Buf8(se.w_size),s.arraySet(Se,fe,ye-se.w_size,se.w_size,0),fe=Se,ye=se.w_size),de=q.avail_in,be=q.next_in,le=q.input,q.avail_in=ye,q.next_in=0,q.input=fe,ne(se);se.lookahead>=O;){for(J=se.strstart,Z=se.lookahead-(O-1);se.ins_h=(se.ins_h<<se.hash_shift^se.window[J+O-1])&se.hash_mask,se.prev[J&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=J,J++,--Z;);se.strstart=J,se.lookahead=O-1,ne(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=O-1,se.match_available=0,q.next_in=be,q.input=le,q.avail_in=de,se.wrap=ue,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,c,u,d,f,p,g,y,v,x,w,S,C,k,T,E,A,O,I,j,P,$,D,F;a=o.state,l=o.next_in,D=o.input,c=l+(o.avail_in-5),u=o.next_out,F=o.output,d=u-(s-o.avail_out),f=u+(o.avail_out-257),p=a.dmax,g=a.wsize,y=a.whave,v=a.wnext,x=a.window,w=a.hold,S=a.bits,C=a.lencode,k=a.distcode,T=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{S<15&&(w+=D[l++]<<S,S+=8,w+=D[l++]<<S,S+=8),A=C[w&T];t:for(;;){if(w>>>=O=A>>>24,S-=O,(O=A>>>16&255)===0)F[u++]=65535&A;else{if(!(16&O)){if((64&O)==0){A=C[(65535&A)+(w&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}I=65535&A,(O&=15)&&(S<O&&(w+=D[l++]<<S,S+=8),I+=w&(1<<O)-1,w>>>=O,S-=O),S<15&&(w+=D[l++]<<S,S+=8,w+=D[l++]<<S,S+=8),A=k[w&E];n:for(;;){if(w>>>=O=A>>>24,S-=O,!(16&(O=A>>>16&255))){if((64&O)==0){A=k[(65535&A)+(w&(1<<O)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(j=65535&A,S<(O&=15)&&(w+=D[l++]<<S,(S+=8)<O&&(w+=D[l++]<<S,S+=8)),p<(j+=w&(1<<O)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(w>>>=O,S-=O,(O=u-d)<j){if(y<(O=j-O)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if($=x,(P=0)===v){if(P+=g-O,O<I){for(I-=O;F[u++]=x[P++],--O;);P=u-j,$=F}}else if(v<O){if(P+=g+v-O,(O-=v)<I){for(I-=O;F[u++]=x[P++],--O;);if(P=0,v<I){for(I-=O=v;F[u++]=x[P++],--O;);P=u-j,$=F}}}else if(P+=v-O,O<I){for(I-=O;F[u++]=x[P++],--O;);P=u-j,$=F}for(;2<I;)F[u++]=$[P++],F[u++]=$[P++],F[u++]=$[P++],I-=3;I&&(F[u++]=$[P++],1<I&&(F[u++]=$[P++]))}else{for(P=u-j;F[u++]=F[P++],F[u++]=F[P++],F[u++]=F[P++],2<(I-=3););I&&(F[u++]=F[P++],1<I&&(F[u++]=F[P++]))}break}}break}}while(l<c&&u<f);l-=I=S>>3,w&=(1<<(S-=I<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<f?f-u+257:257-(u-f),a.hold=w,a.bits=S}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,f=0,p=-2,g=1,y=852,v=592;function x(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(P){var $;return P&&P.state?($=P.state,P.total_in=P.total_out=$.total=0,P.msg="",$.wrap&&(P.adler=1&$.wrap),$.mode=g,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new o.Buf32(y),$.distcode=$.distdyn=new o.Buf32(v),$.sane=1,$.back=-1,f):p}function C(P){var $;return P&&P.state?(($=P.state).wsize=0,$.whave=0,$.wnext=0,S(P)):p}function k(P,$){var D,F;return P&&P.state?(F=P.state,$<0?(D=0,$=-$):(D=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?p:(F.window!==null&&F.wbits!==$&&(F.window=null),F.wrap=D,F.wbits=$,C(P))):p}function T(P,$){var D,F;return P?(F=new w,(P.state=F).window=null,(D=k(P,$))!==f&&(P.state=null),D):p}var E,A,O=!0;function I(P){if(O){var $;for(E=new o.Buf32(512),A=new o.Buf32(32),$=0;$<144;)P.lens[$++]=8;for(;$<256;)P.lens[$++]=9;for(;$<280;)P.lens[$++]=7;for(;$<288;)P.lens[$++]=8;for(c(u,P.lens,0,288,E,0,P.work,{bits:9}),$=0;$<32;)P.lens[$++]=5;c(d,P.lens,0,32,A,0,P.work,{bits:5}),O=!1}P.lencode=E,P.lenbits=9,P.distcode=A,P.distbits=5}function j(P,$,D,F){var N,V=P.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new o.Buf8(V.wsize)),F>=V.wsize?(o.arraySet(V.window,$,D-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(F<(N=V.wsize-V.wnext)&&(N=F),o.arraySet(V.window,$,D-F,N,V.wnext),(F-=N)?(o.arraySet(V.window,$,D-F,F,0),V.wnext=F,V.whave=V.wsize):(V.wnext+=N,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=N))),0}i.inflateReset=C,i.inflateReset2=k,i.inflateResetKeep=S,i.inflateInit=function(P){return T(P,15)},i.inflateInit2=T,i.inflate=function(P,$){var D,F,N,V,H,U,G,z,W,X,Q,ee,ne,oe,ce,re,ge,he,ie,xe,q,fe,se,J,Z=0,ue=new o.Buf8(4),de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return p;(D=P.state).mode===12&&(D.mode=13),H=P.next_out,N=P.output,G=P.avail_out,V=P.next_in,F=P.input,U=P.avail_in,z=D.hold,W=D.bits,X=U,Q=G,fe=f;e:for(;;)switch(D.mode){case g:if(D.wrap===0){D.mode=13;break}for(;W<16;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(2&D.wrap&&z===35615){ue[D.check=0]=255&z,ue[1]=z>>>8&255,D.check=a(D.check,ue,2,0),W=z=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&z)<<8)+(z>>8))%31){P.msg="incorrect header check",D.mode=30;break}if((15&z)!=8){P.msg="unknown compression method",D.mode=30;break}if(W-=4,q=8+(15&(z>>>=4)),D.wbits===0)D.wbits=q;else if(q>D.wbits){P.msg="invalid window size",D.mode=30;break}D.dmax=1<<q,P.adler=D.check=1,D.mode=512&z?10:12,W=z=0;break;case 2:for(;W<16;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(D.flags=z,(255&D.flags)!=8){P.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){P.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=z>>8&1),512&D.flags&&(ue[0]=255&z,ue[1]=z>>>8&255,D.check=a(D.check,ue,2,0)),W=z=0,D.mode=3;case 3:for(;W<32;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}D.head&&(D.head.time=z),512&D.flags&&(ue[0]=255&z,ue[1]=z>>>8&255,ue[2]=z>>>16&255,ue[3]=z>>>24&255,D.check=a(D.check,ue,4,0)),W=z=0,D.mode=4;case 4:for(;W<16;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}D.head&&(D.head.xflags=255&z,D.head.os=z>>8),512&D.flags&&(ue[0]=255&z,ue[1]=z>>>8&255,D.check=a(D.check,ue,2,0)),W=z=0,D.mode=5;case 5:if(1024&D.flags){for(;W<16;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}D.length=z,D.head&&(D.head.extra_len=z),512&D.flags&&(ue[0]=255&z,ue[1]=z>>>8&255,D.check=a(D.check,ue,2,0)),W=z=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(U<(ee=D.length)&&(ee=U),ee&&(D.head&&(q=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),o.arraySet(D.head.extra,F,V,ee,q)),512&D.flags&&(D.check=a(D.check,F,ee,V)),U-=ee,V+=ee,D.length-=ee),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(U===0)break e;for(ee=0;q=F[V+ee++],D.head&&q&&D.length<65536&&(D.head.name+=String.fromCharCode(q)),q&&ee<U;);if(512&D.flags&&(D.check=a(D.check,F,ee,V)),U-=ee,V+=ee,q)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(U===0)break e;for(ee=0;q=F[V+ee++],D.head&&q&&D.length<65536&&(D.head.comment+=String.fromCharCode(q)),q&&ee<U;);if(512&D.flags&&(D.check=a(D.check,F,ee,V)),U-=ee,V+=ee,q)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;W<16;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(z!==(65535&D.check)){P.msg="header crc mismatch",D.mode=30;break}W=z=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),P.adler=D.check=0,D.mode=12;break;case 10:for(;W<32;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}P.adler=D.check=x(z),W=z=0,D.mode=11;case 11:if(D.havedict===0)return P.next_out=H,P.avail_out=G,P.next_in=V,P.avail_in=U,D.hold=z,D.bits=W,2;P.adler=D.check=1,D.mode=12;case 12:if($===5||$===6)break e;case 13:if(D.last){z>>>=7&W,W-=7&W,D.mode=27;break}for(;W<3;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}switch(D.last=1&z,W-=1,3&(z>>>=1)){case 0:D.mode=14;break;case 1:if(I(D),D.mode=20,$!==6)break;z>>>=2,W-=2;break e;case 2:D.mode=17;break;case 3:P.msg="invalid block type",D.mode=30}z>>>=2,W-=2;break;case 14:for(z>>>=7&W,W-=7&W;W<32;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if((65535&z)!=(z>>>16^65535)){P.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&z,W=z=0,D.mode=15,$===6)break e;case 15:D.mode=16;case 16:if(ee=D.length){if(U<ee&&(ee=U),G<ee&&(ee=G),ee===0)break e;o.arraySet(N,F,V,ee,H),U-=ee,V+=ee,G-=ee,H+=ee,D.length-=ee;break}D.mode=12;break;case 17:for(;W<14;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(D.nlen=257+(31&z),z>>>=5,W-=5,D.ndist=1+(31&z),z>>>=5,W-=5,D.ncode=4+(15&z),z>>>=4,W-=4,286<D.nlen||30<D.ndist){P.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;W<3;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}D.lens[de[D.have++]]=7&z,z>>>=3,W-=3}for(;D.have<19;)D.lens[de[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,se={bits:D.lenbits},fe=c(0,D.lens,0,19,D.lencode,0,D.work,se),D.lenbits=se.bits,fe){P.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;re=(Z=D.lencode[z&(1<<D.lenbits)-1])>>>16&255,ge=65535&Z,!((ce=Z>>>24)<=W);){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(ge<16)z>>>=ce,W-=ce,D.lens[D.have++]=ge;else{if(ge===16){for(J=ce+2;W<J;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(z>>>=ce,W-=ce,D.have===0){P.msg="invalid bit length repeat",D.mode=30;break}q=D.lens[D.have-1],ee=3+(3&z),z>>>=2,W-=2}else if(ge===17){for(J=ce+3;W<J;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}W-=ce,q=0,ee=3+(7&(z>>>=ce)),z>>>=3,W-=3}else{for(J=ce+7;W<J;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}W-=ce,q=0,ee=11+(127&(z>>>=ce)),z>>>=7,W-=7}if(D.have+ee>D.nlen+D.ndist){P.msg="invalid bit length repeat",D.mode=30;break}for(;ee--;)D.lens[D.have++]=q}}if(D.mode===30)break;if(D.lens[256]===0){P.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,se={bits:D.lenbits},fe=c(u,D.lens,0,D.nlen,D.lencode,0,D.work,se),D.lenbits=se.bits,fe){P.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,se={bits:D.distbits},fe=c(d,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,se),D.distbits=se.bits,fe){P.msg="invalid distances set",D.mode=30;break}if(D.mode=20,$===6)break e;case 20:D.mode=21;case 21:if(6<=U&&258<=G){P.next_out=H,P.avail_out=G,P.next_in=V,P.avail_in=U,D.hold=z,D.bits=W,l(P,Q),H=P.next_out,N=P.output,G=P.avail_out,V=P.next_in,F=P.input,U=P.avail_in,z=D.hold,W=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;re=(Z=D.lencode[z&(1<<D.lenbits)-1])>>>16&255,ge=65535&Z,!((ce=Z>>>24)<=W);){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(re&&(240&re)==0){for(he=ce,ie=re,xe=ge;re=(Z=D.lencode[xe+((z&(1<<he+ie)-1)>>he)])>>>16&255,ge=65535&Z,!(he+(ce=Z>>>24)<=W);){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}z>>>=he,W-=he,D.back+=he}if(z>>>=ce,W-=ce,D.back+=ce,D.length=ge,re===0){D.mode=26;break}if(32&re){D.back=-1,D.mode=12;break}if(64&re){P.msg="invalid literal/length code",D.mode=30;break}D.extra=15&re,D.mode=22;case 22:if(D.extra){for(J=D.extra;W<J;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}D.length+=z&(1<<D.extra)-1,z>>>=D.extra,W-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;re=(Z=D.distcode[z&(1<<D.distbits)-1])>>>16&255,ge=65535&Z,!((ce=Z>>>24)<=W);){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if((240&re)==0){for(he=ce,ie=re,xe=ge;re=(Z=D.distcode[xe+((z&(1<<he+ie)-1)>>he)])>>>16&255,ge=65535&Z,!(he+(ce=Z>>>24)<=W);){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}z>>>=he,W-=he,D.back+=he}if(z>>>=ce,W-=ce,D.back+=ce,64&re){P.msg="invalid distance code",D.mode=30;break}D.offset=ge,D.extra=15&re,D.mode=24;case 24:if(D.extra){for(J=D.extra;W<J;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}D.offset+=z&(1<<D.extra)-1,z>>>=D.extra,W-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){P.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(G===0)break e;if(ee=Q-G,D.offset>ee){if((ee=D.offset-ee)>D.whave&&D.sane){P.msg="invalid distance too far back",D.mode=30;break}ne=ee>D.wnext?(ee-=D.wnext,D.wsize-ee):D.wnext-ee,ee>D.length&&(ee=D.length),oe=D.window}else oe=N,ne=H-D.offset,ee=D.length;for(G<ee&&(ee=G),G-=ee,D.length-=ee;N[H++]=oe[ne++],--ee;);D.length===0&&(D.mode=21);break;case 26:if(G===0)break e;N[H++]=D.length,G--,D.mode=21;break;case 27:if(D.wrap){for(;W<32;){if(U===0)break e;U--,z|=F[V++]<<W,W+=8}if(Q-=G,P.total_out+=Q,D.total+=Q,Q&&(P.adler=D.check=D.flags?a(D.check,N,Q,H-Q):s(D.check,N,Q,H-Q)),Q=G,(D.flags?z:x(z))!==D.check){P.msg="incorrect data check",D.mode=30;break}W=z=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;W<32;){if(U===0)break e;U--,z+=F[V++]<<W,W+=8}if(z!==(4294967295&D.total)){P.msg="incorrect length check",D.mode=30;break}W=z=0}D.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return p}return P.next_out=H,P.avail_out=G,P.next_in=V,P.avail_in=U,D.hold=z,D.bits=W,(D.wsize||Q!==P.avail_out&&D.mode<30&&(D.mode<27||$!==4))&&j(P,P.output,P.next_out,Q-P.avail_out)?(D.mode=31,-4):(X-=P.avail_in,Q-=P.avail_out,P.total_in+=X,P.total_out+=Q,D.total+=Q,D.wrap&&Q&&(P.adler=D.check=D.flags?a(D.check,N,Q,P.next_out-Q):s(D.check,N,Q,P.next_out-Q)),P.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(X==0&&Q===0||$===4)&&fe===f&&(fe=-5),fe)},i.inflateEnd=function(P){if(!P||!P.state)return p;var $=P.state;return $.window&&($.window=null),P.state=null,f},i.inflateGetHeader=function(P,$){var D;return P&&P.state?(2&(D=P.state).wrap)==0?p:((D.head=$).done=!1,f):p},i.inflateSetDictionary=function(P,$){var D,F=$.length;return P&&P.state?(D=P.state).wrap!==0&&D.mode!==11?p:D.mode===11&&s(1,$,F,0)!==D.check?-3:j(P,$,F,F)?(D.mode=31,-4):(D.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,f,p,g,y,v,x){var w,S,C,k,T,E,A,O,I,j=x.bits,P=0,$=0,D=0,F=0,N=0,V=0,H=0,U=0,G=0,z=0,W=null,X=0,Q=new o.Buf16(16),ee=new o.Buf16(16),ne=null,oe=0;for(P=0;P<=15;P++)Q[P]=0;for($=0;$<p;$++)Q[d[f+$]]++;for(N=j,F=15;1<=F&&Q[F]===0;F--);if(F<N&&(N=F),F===0)return g[y++]=20971520,g[y++]=20971520,x.bits=1,0;for(D=1;D<F&&Q[D]===0;D++);for(N<D&&(N=D),P=U=1;P<=15;P++)if(U<<=1,(U-=Q[P])<0)return-1;if(0<U&&(u===0||F!==1))return-1;for(ee[1]=0,P=1;P<15;P++)ee[P+1]=ee[P]+Q[P];for($=0;$<p;$++)d[f+$]!==0&&(v[ee[d[f+$]]++]=$);if(E=u===0?(W=ne=v,19):u===1?(W=s,X-=257,ne=a,oe-=257,256):(W=l,ne=c,-1),P=D,T=y,H=$=z=0,C=-1,k=(G=1<<(V=N))-1,u===1&&852<G||u===2&&592<G)return 1;for(;;){for(A=P-H,I=v[$]<E?(O=0,v[$]):v[$]>E?(O=ne[oe+v[$]],W[X+v[$]]):(O=96,0),w=1<<P-H,D=S=1<<V;g[T+(z>>H)+(S-=w)]=A<<24|O<<16|I|0,S!==0;);for(w=1<<P-1;z&w;)w>>=1;if(w!==0?(z&=w-1,z+=w):z=0,$++,--Q[P]==0){if(P===F)break;P=d[f+v[$]]}if(N<P&&(z&k)!==C){for(H===0&&(H=N),T+=D,U=1<<(V=P-H);V+H<F&&!((U-=Q[V+H])<=0);)V++,U<<=1;if(G+=1<<V,u===1&&852<G||u===2&&592<G)return 1;g[C=z&k]=N<<24|V<<16|T-y|0}}return z!==0&&(g[T+z]=P-H<<24|64<<16|0),x.bits=N,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(Z){for(var ue=Z.length;0<=--ue;)Z[ue]=0}var c=0,u=29,d=256,f=d+1+u,p=30,g=19,y=2*f+1,v=15,x=16,w=7,S=256,C=16,k=17,T=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(f+2));l(j);var P=new Array(2*p);l(P);var $=new Array(512);l($);var D=new Array(256);l(D);var F=new Array(u);l(F);var N,V,H,U=new Array(p);function G(Z,ue,de,be,le){this.static_tree=Z,this.extra_bits=ue,this.extra_base=de,this.elems=be,this.max_length=le,this.has_stree=Z&&Z.length}function z(Z,ue){this.dyn_tree=Z,this.max_code=0,this.stat_desc=ue}function W(Z){return Z<256?$[Z]:$[256+(Z>>>7)]}function X(Z,ue){Z.pending_buf[Z.pending++]=255&ue,Z.pending_buf[Z.pending++]=ue>>>8&255}function Q(Z,ue,de){Z.bi_valid>x-de?(Z.bi_buf|=ue<<Z.bi_valid&65535,X(Z,Z.bi_buf),Z.bi_buf=ue>>x-Z.bi_valid,Z.bi_valid+=de-x):(Z.bi_buf|=ue<<Z.bi_valid&65535,Z.bi_valid+=de)}function ee(Z,ue,de){Q(Z,de[2*ue],de[2*ue+1])}function ne(Z,ue){for(var de=0;de|=1&Z,Z>>>=1,de<<=1,0<--ue;);return de>>>1}function oe(Z,ue,de){var be,le,Se=new Array(v+1),ye=0;for(be=1;be<=v;be++)Se[be]=ye=ye+de[be-1]<<1;for(le=0;le<=ue;le++){var ve=Z[2*le+1];ve!==0&&(Z[2*le]=ne(Se[ve]++,ve))}}function ce(Z){var ue;for(ue=0;ue<f;ue++)Z.dyn_ltree[2*ue]=0;for(ue=0;ue<p;ue++)Z.dyn_dtree[2*ue]=0;for(ue=0;ue<g;ue++)Z.bl_tree[2*ue]=0;Z.dyn_ltree[2*S]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function re(Z){8<Z.bi_valid?X(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function ge(Z,ue,de,be){var le=2*ue,Se=2*de;return Z[le]<Z[Se]||Z[le]===Z[Se]&&be[ue]<=be[de]}function he(Z,ue,de){for(var be=Z.heap[de],le=de<<1;le<=Z.heap_len&&(le<Z.heap_len&&ge(ue,Z.heap[le+1],Z.heap[le],Z.depth)&&le++,!ge(ue,be,Z.heap[le],Z.depth));)Z.heap[de]=Z.heap[le],de=le,le<<=1;Z.heap[de]=be}function ie(Z,ue,de){var be,le,Se,ye,ve=0;if(Z.last_lit!==0)for(;be=Z.pending_buf[Z.d_buf+2*ve]<<8|Z.pending_buf[Z.d_buf+2*ve+1],le=Z.pending_buf[Z.l_buf+ve],ve++,be===0?ee(Z,le,ue):(ee(Z,(Se=D[le])+d+1,ue),(ye=E[Se])!==0&&Q(Z,le-=F[Se],ye),ee(Z,Se=W(--be),de),(ye=A[Se])!==0&&Q(Z,be-=U[Se],ye)),ve<Z.last_lit;);ee(Z,S,ue)}function xe(Z,ue){var de,be,le,Se=ue.dyn_tree,ye=ue.stat_desc.static_tree,ve=ue.stat_desc.has_stree,_e=ue.stat_desc.elems,Ae=-1;for(Z.heap_len=0,Z.heap_max=y,de=0;de<_e;de++)Se[2*de]!==0?(Z.heap[++Z.heap_len]=Ae=de,Z.depth[de]=0):Se[2*de+1]=0;for(;Z.heap_len<2;)Se[2*(le=Z.heap[++Z.heap_len]=Ae<2?++Ae:0)]=1,Z.depth[le]=0,Z.opt_len--,ve&&(Z.static_len-=ye[2*le+1]);for(ue.max_code=Ae,de=Z.heap_len>>1;1<=de;de--)he(Z,Se,de);for(le=_e;de=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],he(Z,Se,1),be=Z.heap[1],Z.heap[--Z.heap_max]=de,Z.heap[--Z.heap_max]=be,Se[2*le]=Se[2*de]+Se[2*be],Z.depth[le]=(Z.depth[de]>=Z.depth[be]?Z.depth[de]:Z.depth[be])+1,Se[2*de+1]=Se[2*be+1]=le,Z.heap[1]=le++,he(Z,Se,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],(function(Te,Pe){var Le,$e,at,Re,Ze,Rt,Ct=Pe.dyn_tree,De=Pe.max_code,bt=Pe.stat_desc.static_tree,Gt=Pe.stat_desc.has_stree,Cn=Pe.stat_desc.extra_bits,An=Pe.stat_desc.extra_base,Lt=Pe.stat_desc.max_length,qt=0;for(Re=0;Re<=v;Re++)Te.bl_count[Re]=0;for(Ct[2*Te.heap[Te.heap_max]+1]=0,Le=Te.heap_max+1;Le<y;Le++)Lt<(Re=Ct[2*Ct[2*($e=Te.heap[Le])+1]+1]+1)&&(Re=Lt,qt++),Ct[2*$e+1]=Re,De<$e||(Te.bl_count[Re]++,Ze=0,An<=$e&&(Ze=Cn[$e-An]),Rt=Ct[2*$e],Te.opt_len+=Rt*(Re+Ze),Gt&&(Te.static_len+=Rt*(bt[2*$e+1]+Ze)));if(qt!==0){do{for(Re=Lt-1;Te.bl_count[Re]===0;)Re--;Te.bl_count[Re]--,Te.bl_count[Re+1]+=2,Te.bl_count[Lt]--,qt-=2}while(0<qt);for(Re=Lt;Re!==0;Re--)for($e=Te.bl_count[Re];$e!==0;)De<(at=Te.heap[--Le])||(Ct[2*at+1]!==Re&&(Te.opt_len+=(Re-Ct[2*at+1])*Ct[2*at],Ct[2*at+1]=Re),$e--)}})(Z,ue),oe(Se,Ae,Z.bl_count)}function q(Z,ue,de){var be,le,Se=-1,ye=ue[1],ve=0,_e=7,Ae=4;for(ye===0&&(_e=138,Ae=3),ue[2*(de+1)+1]=65535,be=0;be<=de;be++)le=ye,ye=ue[2*(be+1)+1],++ve<_e&&le===ye||(ve<Ae?Z.bl_tree[2*le]+=ve:le!==0?(le!==Se&&Z.bl_tree[2*le]++,Z.bl_tree[2*C]++):ve<=10?Z.bl_tree[2*k]++:Z.bl_tree[2*T]++,Se=le,Ae=(ve=0)===ye?(_e=138,3):le===ye?(_e=6,3):(_e=7,4))}function fe(Z,ue,de){var be,le,Se=-1,ye=ue[1],ve=0,_e=7,Ae=4;for(ye===0&&(_e=138,Ae=3),be=0;be<=de;be++)if(le=ye,ye=ue[2*(be+1)+1],!(++ve<_e&&le===ye)){if(ve<Ae)for(;ee(Z,le,Z.bl_tree),--ve!=0;);else le!==0?(le!==Se&&(ee(Z,le,Z.bl_tree),ve--),ee(Z,C,Z.bl_tree),Q(Z,ve-3,2)):ve<=10?(ee(Z,k,Z.bl_tree),Q(Z,ve-3,3)):(ee(Z,T,Z.bl_tree),Q(Z,ve-11,7));Se=le,Ae=(ve=0)===ye?(_e=138,3):le===ye?(_e=6,3):(_e=7,4)}}l(U);var se=!1;function J(Z,ue,de,be){Q(Z,(c<<1)+(be?1:0),3),(function(le,Se,ye,ve){re(le),X(le,ye),X(le,~ye),o.arraySet(le.pending_buf,le.window,Se,ye,le.pending),le.pending+=ye})(Z,ue,de)}i._tr_init=function(Z){se||((function(){var ue,de,be,le,Se,ye=new Array(v+1);for(le=be=0;le<u-1;le++)for(F[le]=be,ue=0;ue<1<<E[le];ue++)D[be++]=le;for(D[be-1]=le,le=Se=0;le<16;le++)for(U[le]=Se,ue=0;ue<1<<A[le];ue++)$[Se++]=le;for(Se>>=7;le<p;le++)for(U[le]=Se<<7,ue=0;ue<1<<A[le]-7;ue++)$[256+Se++]=le;for(de=0;de<=v;de++)ye[de]=0;for(ue=0;ue<=143;)j[2*ue+1]=8,ue++,ye[8]++;for(;ue<=255;)j[2*ue+1]=9,ue++,ye[9]++;for(;ue<=279;)j[2*ue+1]=7,ue++,ye[7]++;for(;ue<=287;)j[2*ue+1]=8,ue++,ye[8]++;for(oe(j,f+1,ye),ue=0;ue<p;ue++)P[2*ue+1]=5,P[2*ue]=ne(ue,5);N=new G(j,E,d+1,f,v),V=new G(P,A,0,p,v),H=new G(new Array(0),O,0,g,w)})(),se=!0),Z.l_desc=new z(Z.dyn_ltree,N),Z.d_desc=new z(Z.dyn_dtree,V),Z.bl_desc=new z(Z.bl_tree,H),Z.bi_buf=0,Z.bi_valid=0,ce(Z)},i._tr_stored_block=J,i._tr_flush_block=function(Z,ue,de,be){var le,Se,ye=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=(function(ve){var _e,Ae=4093624447;for(_e=0;_e<=31;_e++,Ae>>>=1)if(1&Ae&&ve.dyn_ltree[2*_e]!==0)return s;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return a;for(_e=32;_e<d;_e++)if(ve.dyn_ltree[2*_e]!==0)return a;return s})(Z)),xe(Z,Z.l_desc),xe(Z,Z.d_desc),ye=(function(ve){var _e;for(q(ve,ve.dyn_ltree,ve.l_desc.max_code),q(ve,ve.dyn_dtree,ve.d_desc.max_code),xe(ve,ve.bl_desc),_e=g-1;3<=_e&&ve.bl_tree[2*I[_e]+1]===0;_e--);return ve.opt_len+=3*(_e+1)+5+5+4,_e})(Z),le=Z.opt_len+3+7>>>3,(Se=Z.static_len+3+7>>>3)<=le&&(le=Se)):le=Se=de+5,de+4<=le&&ue!==-1?J(Z,ue,de,be):Z.strategy===4||Se===le?(Q(Z,2+(be?1:0),3),ie(Z,j,P)):(Q(Z,4+(be?1:0),3),(function(ve,_e,Ae,Te){var Pe;for(Q(ve,_e-257,5),Q(ve,Ae-1,5),Q(ve,Te-4,4),Pe=0;Pe<Te;Pe++)Q(ve,ve.bl_tree[2*I[Pe]+1],3);fe(ve,ve.dyn_ltree,_e-1),fe(ve,ve.dyn_dtree,Ae-1)})(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,ye+1),ie(Z,Z.dyn_ltree,Z.dyn_dtree)),ce(Z),be&&re(Z)},i._tr_tally=function(Z,ue,de){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=ue>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&ue,Z.pending_buf[Z.l_buf+Z.last_lit]=255&de,Z.last_lit++,ue===0?Z.dyn_ltree[2*de]++:(Z.matches++,ue--,Z.dyn_ltree[2*(D[de]+d+1)]++,Z.dyn_dtree[2*W(ue)]++),Z.last_lit===Z.lit_bufsize-1},i._tr_align=function(Z){Q(Z,2,3),ee(Z,S,j),(function(ue){ue.bi_valid===16?(X(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):8<=ue.bi_valid&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)})(Z)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,c,u,d,f=1,p={},g=!1,y=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,l={}.toString.call(s.process)==="[object process]"?function(C){process.nextTick(function(){w(C)})}:(function(){if(s.postMessage&&!s.importScripts){var C=!0,k=s.onmessage;return s.onmessage=function(){C=!1},s.postMessage("","*"),s.onmessage=k,C}})()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(C){s.postMessage(d+C,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){w(C.data)},function(C){u.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(C){var k=y.createElement("script");k.onreadystatechange=function(){w(C),k.onreadystatechange=null,c.removeChild(k),k=null},c.appendChild(k)}):function(C){setTimeout(w,0,C)},v.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),T=0;T<k.length;T++)k[T]=arguments[T+1];var E={callback:C,args:k};return p[f]=E,l(f),f++},v.clearImmediate=x}function x(C){delete p[C]}function w(C){if(g)setTimeout(w,0,C);else{var k=p[C];if(k){g=!0;try{(function(T){var E=T.callback,A=T.args;switch(A.length){case 0:E();break;case 1:E(A[0]);break;case 2:E(A[0],A[1]);break;case 3:E(A[0],A[1],A[2]);break;default:E.apply(a,A)}})(k)}finally{x(C),g=!1}}}}function S(C){C.source===s&&typeof C.data=="string"&&C.data.indexOf(d)===0&&w(+C.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof YP<"u"?YP:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(h9)),h9.exports}var UAt=BAt();const VAt=k0(UAt),HAt=async e=>{const t=new VAt;return e.forEach(r=>{t.file(r.name,r)}),await t.generateAsync({type:"blob"})};function tx(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const WAt=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function kS(e,t,n){const r=qAt(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&Sge(r,"path",o),Sge(r,"relativePath",o),r}function qAt(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=WAt.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Sge(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const GAt=[".DS_Store","Thumbs.db"];function YAt(e){return tx(this,void 0,void 0,function*(){return t$(e)&&XAt(e.dataTransfer)?JAt(e.dataTransfer,e.type):KAt(e)?ZAt(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?QAt(e):[]})}function XAt(e){return t$(e)}function KAt(e){return t$(e)&&t$(e.target)}function t$(e){return typeof e=="object"&&e!==null}function ZAt(e){return dW(e.target.files).map(t=>kS(t))}function QAt(e){return tx(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>kS(n))})}function JAt(e,t){return tx(this,void 0,void 0,function*(){if(e.items){const n=dW(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(ePt));return _ge(MAe(r))}return _ge(dW(e.files).map(n=>kS(n)))})}function _ge(e){return e.filter(t=>GAt.indexOf(t.name)===-1)}function dW(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function ePt(e){if(typeof e.webkitGetAsEntry!="function")return Cge(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?AAe(t):Cge(e,t)}function MAe(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?MAe(n):[n]],[])}function Cge(e,t){return tx(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,kS(s)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return kS(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function tPt(e){return tx(this,void 0,void 0,function*(){return e.isDirectory?AAe(e):nPt(e)})}function AAe(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function o(){t.readEntries(s=>tx(this,void 0,void 0,function*(){if(s.length){const a=Promise.all(s.map(tPt));i.push(a),o()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),s=>{r(s)})}o()})}function nPt(e){return tx(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=kS(r,e.fullPath);t(i)},r=>{n(r)})})})}var JD={},kge;function rPt(){return kge||(kge=1,JD.__esModule=!0,JD.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0}),JD}var iPt=rPt();const g9=k0(iPt);function Ege(e){return aPt(e)||sPt(e)||DAe(e)||oPt()}function oPt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sPt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aPt(e){if(Array.isArray(e))return fW(e)}function Tge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tge(Object(n),!0).forEach(function(r){PAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PAe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FT(e,t){return uPt(e)||cPt(e,t)||DAe(e,t)||lPt()}function lPt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DAe(e,t){if(e){if(typeof e=="string")return fW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fW(e,t)}}function fW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cPt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function uPt(e){if(Array.isArray(e))return e}var dPt=typeof g9=="function"?g9:g9.default,fPt="file-invalid-type",pPt="file-too-large",hPt="file-too-small",gPt="too-many-files",mPt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:fPt,message:"File type must be ".concat(r)}},Mge=function(t){return{code:pPt,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Age=function(t){return{code:hPt,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},yPt={code:gPt,message:"Too many files"};function OAe(e,t){var n=e.type==="application/x-moz-file"||dPt(e,t);return[n,n?null:mPt(t)]}function IAe(e,t,n){if(Zy(e.size))if(Zy(t)&&Zy(n)){if(e.size>n)return[!1,Mge(n)];if(e.size<t)return[!1,Age(t)]}else{if(Zy(t)&&e.size<t)return[!1,Age(t)];if(Zy(n)&&e.size>n)return[!1,Mge(n)]}return[!0,null]}function Zy(e){return e!=null}function vPt(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var c=OAe(l,n),u=FT(c,1),d=u[0],f=IAe(l,r,i),p=FT(f,1),g=p[0],y=a?a(l):null;return d&&g&&!y})}function n$(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function eO(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Pge(e){e.preventDefault()}function bPt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function xPt(e){return e.indexOf("Edge/")!==-1}function wPt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return bPt(e)||xPt(e)}function uf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!n$(r)&&a&&a.apply(void 0,[r].concat(o)),n$(r)})}}function SPt(){return"showOpenFilePicker"in window}function _Pt(e){if(Zy(e)){var t=Object.entries(e).filter(function(n){var r=FT(n,2),i=r[0],o=r[1],s=!0;return jAe(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every($Ae))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=FT(r,2),o=i[0],s=i[1];return Rge(Rge({},n),{},PAe({},o,s))},{});return[{description:"Files",accept:t}]}return e}function CPt(e){if(Zy(e))return Object.entries(e).reduce(function(t,n){var r=FT(n,2),i=r[0],o=r[1];return[].concat(Ege(t),[i],Ege(o))},[]).filter(function(t){return jAe(t)||$Ae(t)}).join(",")}function kPt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function EPt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function jAe(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function $Ae(e){return/^.*\.[\w]+$/.test(e)}var TPt=["children"],RPt=["open"],MPt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],APt=["refKey","onChange","onClick"];function PPt(e){return IPt(e)||OPt(e)||FAe(e)||DPt()}function DPt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OPt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IPt(e){if(Array.isArray(e))return pW(e)}function m9(e,t){return FPt(e)||$Pt(e,t)||FAe(e,t)||jPt()}function jPt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FAe(e,t){if(e){if(typeof e=="string")return pW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pW(e,t)}}function pW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $Pt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function FPt(e){if(Array.isArray(e))return e}function Dge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dge(Object(n),!0).forEach(function(r){hW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r$(e,t){if(e==null)return{};var n=LPt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LPt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var pZ=R.forwardRef(function(e,t){var n=e.children,r=r$(e,TPt),i=NAe(r),o=i.open,s=r$(i,RPt);return R.useImperativeHandle(t,function(){return{open:o}},[o]),Vt.createElement(R.Fragment,null,n(Xi(Xi({},s),{},{open:o})))});pZ.displayName="Dropzone";var LAe={disabled:!1,getFilesFromEvent:YAt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};pZ.defaultProps=LAe;pZ.propTypes={children:te.func,accept:te.objectOf(te.arrayOf(te.string)),multiple:te.bool,preventDropOnDocument:te.bool,noClick:te.bool,noKeyboard:te.bool,noDrag:te.bool,noDragEventsBubbling:te.bool,minSize:te.number,maxSize:te.number,maxFiles:te.number,disabled:te.bool,getFilesFromEvent:te.func,onFileDialogCancel:te.func,onFileDialogOpen:te.func,useFsAccessApi:te.bool,autoFocus:te.bool,onDragEnter:te.func,onDragLeave:te.func,onDragOver:te.func,onDrop:te.func,onDropAccepted:te.func,onDropRejected:te.func,onError:te.func,validator:te.func};var gW={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function NAe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Xi(Xi({},LAe),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,f=t.onDrop,p=t.onDropAccepted,g=t.onDropRejected,y=t.onFileDialogCancel,v=t.onFileDialogOpen,x=t.useFsAccessApi,w=t.autoFocus,S=t.preventDropOnDocument,C=t.noClick,k=t.noKeyboard,T=t.noDrag,E=t.noDragEventsBubbling,A=t.onError,O=t.validator,I=R.useMemo(function(){return CPt(n)},[n]),j=R.useMemo(function(){return _Pt(n)},[n]),P=R.useMemo(function(){return typeof v=="function"?v:Oge},[v]),$=R.useMemo(function(){return typeof y=="function"?y:Oge},[y]),D=R.useRef(null),F=R.useRef(null),N=R.useReducer(NPt,gW),V=m9(N,2),H=V[0],U=V[1],G=H.isFocused,z=H.isFileDialogActive,W=R.useRef(typeof window<"u"&&window.isSecureContext&&x&&SPt()),X=function(){!W.current&&z&&setTimeout(function(){if(F.current){var ve=F.current.files;ve.length||(U({type:"closeDialog"}),$())}},300)};R.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[F,z,$,W]);var Q=R.useRef([]),ee=function(ve){D.current&&D.current.contains(ve.target)||(ve.preventDefault(),Q.current=[])};R.useEffect(function(){return S&&(document.addEventListener("dragover",Pge,!1),document.addEventListener("drop",ee,!1)),function(){S&&(document.removeEventListener("dragover",Pge),document.removeEventListener("drop",ee))}},[D,S]),R.useEffect(function(){return!r&&w&&D.current&&D.current.focus(),function(){}},[D,w,r]);var ne=R.useCallback(function(ye){A?A(ye):console.error(ye)},[A]),oe=R.useCallback(function(ye){ye.preventDefault(),ye.persist(),de(ye),Q.current=[].concat(PPt(Q.current),[ye.target]),eO(ye)&&Promise.resolve(i(ye)).then(function(ve){if(!(n$(ye)&&!E)){var _e=ve.length,Ae=_e>0&&vPt({files:ve,accept:I,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:O}),Te=_e>0&&!Ae;U({isDragAccept:Ae,isDragReject:Te,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ye)}}).catch(function(ve){return ne(ve)})},[i,c,ne,E,I,s,o,a,l,O]),ce=R.useCallback(function(ye){ye.preventDefault(),ye.persist(),de(ye);var ve=eO(ye);if(ve&&ye.dataTransfer)try{ye.dataTransfer.dropEffect="copy"}catch{}return ve&&d&&d(ye),!1},[d,E]),re=R.useCallback(function(ye){ye.preventDefault(),ye.persist(),de(ye);var ve=Q.current.filter(function(Ae){return D.current&&D.current.contains(Ae)}),_e=ve.indexOf(ye.target);_e!==-1&&ve.splice(_e,1),Q.current=ve,!(ve.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),eO(ye)&&u&&u(ye))},[D,u,E]),ge=R.useCallback(function(ye,ve){var _e=[],Ae=[];ye.forEach(function(Te){var Pe=OAe(Te,I),Le=m9(Pe,2),$e=Le[0],at=Le[1],Re=IAe(Te,s,o),Ze=m9(Re,2),Rt=Ze[0],Ct=Ze[1],De=O?O(Te):null;if($e&&Rt&&!De)_e.push(Te);else{var bt=[at,Ct];De&&(bt=bt.concat(De)),Ae.push({file:Te,errors:bt.filter(function(Gt){return Gt})})}}),(!a&&_e.length>1||a&&l>=1&&_e.length>l)&&(_e.forEach(function(Te){Ae.push({file:Te,errors:[yPt]})}),_e.splice(0)),U({acceptedFiles:_e,fileRejections:Ae,isDragReject:Ae.length>0,type:"setFiles"}),f&&f(_e,Ae,ve),Ae.length>0&&g&&g(Ae,ve),_e.length>0&&p&&p(_e,ve)},[U,a,I,s,o,l,f,p,g,O]),he=R.useCallback(function(ye){ye.preventDefault(),ye.persist(),de(ye),Q.current=[],eO(ye)&&Promise.resolve(i(ye)).then(function(ve){n$(ye)&&!E||ge(ve,ye)}).catch(function(ve){return ne(ve)}),U({type:"reset"})},[i,ge,ne,E]),ie=R.useCallback(function(){if(W.current){U({type:"openDialog"}),P();var ye={multiple:a,types:j};window.showOpenFilePicker(ye).then(function(ve){return i(ve)}).then(function(ve){ge(ve,null),U({type:"closeDialog"})}).catch(function(ve){kPt(ve)?($(ve),U({type:"closeDialog"})):EPt(ve)?(W.current=!1,F.current?(F.current.value=null,F.current.click()):ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ne(ve)});return}F.current&&(U({type:"openDialog"}),P(),F.current.value=null,F.current.click())},[U,P,$,x,ge,ne,j,a]),xe=R.useCallback(function(ye){!D.current||!D.current.isEqualNode(ye.target)||(ye.key===" "||ye.key==="Enter"||ye.keyCode===32||ye.keyCode===13)&&(ye.preventDefault(),ie())},[D,ie]),q=R.useCallback(function(){U({type:"focus"})},[]),fe=R.useCallback(function(){U({type:"blur"})},[]),se=R.useCallback(function(){C||(wPt()?setTimeout(ie,0):ie())},[C,ie]),J=function(ve){return r?null:ve},Z=function(ve){return k?null:J(ve)},ue=function(ve){return T?null:J(ve)},de=function(ve){E&&ve.stopPropagation()},be=R.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=ye.refKey,_e=ve===void 0?"ref":ve,Ae=ye.role,Te=ye.onKeyDown,Pe=ye.onFocus,Le=ye.onBlur,$e=ye.onClick,at=ye.onDragEnter,Re=ye.onDragOver,Ze=ye.onDragLeave,Rt=ye.onDrop,Ct=r$(ye,MPt);return Xi(Xi(hW({onKeyDown:Z(uf(Te,xe)),onFocus:Z(uf(Pe,q)),onBlur:Z(uf(Le,fe)),onClick:J(uf($e,se)),onDragEnter:ue(uf(at,oe)),onDragOver:ue(uf(Re,ce)),onDragLeave:ue(uf(Ze,re)),onDrop:ue(uf(Rt,he)),role:typeof Ae=="string"&&Ae!==""?Ae:"presentation"},_e,D),!r&&!k?{tabIndex:0}:{}),Ct)}},[D,xe,q,fe,se,oe,ce,re,he,k,T,r]),le=R.useCallback(function(ye){ye.stopPropagation()},[]),Se=R.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=ye.refKey,_e=ve===void 0?"ref":ve,Ae=ye.onChange,Te=ye.onClick,Pe=r$(ye,APt),Le=hW({accept:I,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:J(uf(Ae,he)),onClick:J(uf(Te,le)),tabIndex:-1},_e,F);return Xi(Xi({},Le),Pe)}},[F,n,a,he,r]);return Xi(Xi({},H),{},{isFocused:G&&!r,getRootProps:be,getInputProps:Se,rootRef:D,inputRef:F,open:J(ie)})}function NPt(e,t){switch(t.type){case"focus":return Xi(Xi({},e),{},{isFocused:!0});case"blur":return Xi(Xi({},e),{},{isFocused:!1});case"openDialog":return Xi(Xi({},gW),{},{isFileDialogActive:!0});case"closeDialog":return Xi(Xi({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Xi(Xi({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Xi(Xi({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Xi({},gW);default:return e}}function Oge(){}function zPt({onFilesDropped:e}){const t=xt(),{isDarkMode:n}=Li(),{acceptedFiles:r,isFocused:i,getRootProps:o,getInputProps:s,isDragActive:a,isDragAccept:l,isDragReject:c}=NAe({accept:{"text/csv":[".csv"],"application/json":[".json"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDrop:e,maxFiles:1}),u=R.useMemo(()=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",borderStyle:"dashed",borderWidth:2,borderRadius:2,borderColor:n?es(t.palette.success.main,.8):Mr(t.palette.success.main,.5),backgroundColor:n?es(t.palette.success.main,.4):Mr(t.palette.success.main,.9),transition:"border 2s ease-in-out","&:hover":{cursor:"pointer",borderStyle:"solid",backgroundColor:n?es(t.palette.success.main,.3):Mr(t.palette.success.main,.85)},...l?{borderColor:n?es(t.palette.success.main,.5):Mr(t.palette.success.main,.5),backgroundColor:n?es(t.palette.success.main,.5):Mr(t.palette.success.main,.5)}:{},...c?{borderColor:Mr(t.palette.error.main,.5),backgroundColor:Mr(t.palette.error.main,.5)}:{}}),[a,c,l,i,t,n]),d=r.length>0;return h.jsxs(Y,{...o({className:"dropzone",style:{height:"60%"}}),children:[h.jsx("input",{...s()}),h.jsx(Y,{sx:{...u},children:d?h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[h.jsx(Zm,{fontSize:"large"}),r.map((f,p)=>h.jsxs("div",{children:[f.name," - ",(f.size/(1024*1024)).toFixed(2)," MB"]},p))]}):h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[h.jsx(zot,{fontSize:"large"}),h.jsx(ae,{variant:"body1",children:"Drag and drop your data file here,"}),h.jsxs(ae,{variant:"body1",gutterBottom:!0,children:["or"," ",h.jsx("span",{style:{textDecoration:"underline"},children:"click to select files"})]}),h.jsx(ae,{children:"(CSV, XLSX or JSON Format)"})]})})]})}const BPt=({progress:e})=>{const t=xt();return h.jsx("div",{className:"mb-3 progress",style:{visibility:e>0?"visible":"hidden",width:"100%"},children:h.jsxs("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar",style:{width:e+"%",transition:"all 0.5s ease",borderRadius:6,background:t.palette.primary.main,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:[e,"%"]})})},UPt=({fileName:e})=>{const t=xt(),{isDarkMode:n}=Li();return h.jsxs(Y,{sx:{borderRadius:1,width:"100%",p:2,m:0,mb:3,backgroundColor:n?es(t.palette.error.main,.7):Mr(t.palette.error.main,.7)},children:[h.jsxs(ae,{gutterBottom:!0,children:['Warning: The file with name "',e,'" does already exists.']}),h.jsx(ae,{children:"Do you want to overwrite it?"})]})},VPt=()=>{const{isDialogOpen:e,setDialogClose:t,selectedTagId:n}=fZ(),{showError:r,showSuccess:i}=Wi(),[o,s]=R.useState([]),[a,l]=R.useState(0),[c,u]=R.useState(null),[d,f]=R.useState(null),[p,g]=R.useState(""),{data:y}=IMt(o[0]?.name),v=PMt();R.useEffect(()=>{e&&(s([]),u(null),l(0),f(null),g(""))},[e]),R.useEffect(()=>{n&&f(n)},[n]),R.useEffect(()=>{y&&y?.length>0&&o.length>0&&u(o[0]?.name)},[y,o]);const x=async(S=!1)=>{l(0);try{const C=await HAt(o),k=await v.mutateAsync({body:{filename:C,metadata:{overwrite:S,tag_id:d?.value,cost_centers:p}},onUploadProgress:E=>{E.total&&l(Math.round(E.loaded*90/E.total))}});l(100),i("File successfully uploaded");const T=k.uuid;t({uploadedFileUuid:T})}catch(C){l(0);const T=C?.response?.data?.type||"Error uploading file";r(T)}},w=S=>{s(S),l(0),u(null)};return h.jsxs(MM,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,slotProps:{paper:{sx:{width:"45vw",height:"90vh",display:"flex",flexDirection:"column",zIndex:1302}}},children:[h.jsx(Do,{children:"Upload New File"}),h.jsxs(no,{children:[h.jsx(zPt,{onFilesDropped:w}),h.jsxs(Y,{sx:{my:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(ae,{children:"File Tag"}),h.jsx(Dt,{title:Uf.TAGS_INFO,children:h.jsx(Pt,{size:"small",sx:{p:0},children:h.jsx(wT,{fontSize:"small"})})})]}),h.jsx(dZ,{value:d,onChange:S=>f(S),placeholder:"Select or Create a Tag (optional)",disabled:!!n})]}),h.jsxs(Y,{sx:{my:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(ae,{children:"Cost Centers"}),h.jsx(Dt,{title:Uf.COST_CENTER_INFO,children:h.jsx(Pt,{size:"small",sx:{p:0},children:h.jsx(wT,{fontSize:"small"})})})]}),h.jsx(zn,{sx:{my:1},value:p,onChange:S=>g(S.target.value),placeholder:"Cost Centers (optional)",variant:"outlined",error:!gv(p),helperText:gv(p)?"":Uf.COST_CENTER_WARNING,fullWidth:!0})]})]}),h.jsxs(wo,{disableSpacing:!0,sx:{display:"flex",flexDirection:"column",width:"100%",pb:4,px:4},children:[h.jsx(BPt,{progress:a}),c&&h.jsx(UPt,{fileName:c}),h.jsxs(Y,{sx:{display:"flex",justifyContent:"flex-end",width:"100%",gap:3},children:[h.jsx(Be,{onClick:()=>t(),color:"primary",children:"Cancel"}),h.jsx(Be,{onClick:()=>{x(!!c)},color:"primary",variant:"contained",disabled:o.length===0,children:c?"Overwrite":"Upload File"})]})]})]})},zAe=Fi(e=>({isDialogOpen:!1,selectedBlockDetails:{title:null,description:null,pipeId:null,username:null,nodeId:null},selectedBlockCurrentTitle:null,selectedBlockCurrentDescription:null,setEditBlockDialogOpen:t=>e({isDialogOpen:!0,selectedBlockDetails:t}),setEditBlockDialogClose:()=>e({isDialogOpen:!1,selectedBlockDetails:{title:null,description:null,pipeId:null,username:null,nodeId:null}})})),HPt=()=>{const{isDialogOpen:e,setEditBlockDialogClose:t,selectedBlockDetails:{title:n,description:r,pipeId:i,username:o,nodeId:s}}=zAe(),a=iZ(),l=lg({defaultValues:{title:n??"",description:r??""},onSubmit:async({value:c})=>{try{await a.mutateAsync({pipeId:i,nodeId:s,username:o,title:c.title,description:c.description}),t(),l.reset()}catch(u){console.error("Could not update block details",u)}}});return R.useEffect(()=>{e&&l.reset()},[e,l]),h.jsxs(Oi,{open:e,onClose:t,children:[h.jsx(Do,{children:"Edit block details"}),h.jsxs(no,{children:[h.jsx(yo,{children:"Change the block details, then click save."}),h.jsxs("form",{onSubmit:c=>{c.preventDefault(),c.stopPropagation(),l.handleSubmit()},noValidate:!0,autoComplete:"off",children:[h.jsxs(gt,{spacing:2,sx:{mt:1},children:[h.jsx(l.Field,{name:"title",validators:{onChange:({value:c})=>{if(!c?.trim())return"Title is required";if(c?.length>50)return"Title cannot exceed 50 characters"}},children:c=>h.jsx(zn,{id:c.name,value:c.state.value,onChange:u=>c.handleChange(u.target.value),onBlur:c.handleBlur,name:c.name,label:"Title",error:!!c.state.meta.errors.length,helperText:c.state.meta.errors[0]||"",fullWidth:!0,autoFocus:!0})}),h.jsx(l.Field,{name:"description",validators:{onChange:({value:c})=>{if(c?.length>500)return"Description cannot exceed 500 characters"}},children:c=>h.jsx(zn,{id:c.name,value:c.state.value,onChange:u=>c.handleChange(u.target.value),onBlur:c.handleBlur,name:c.name,label:"Description",multiline:!0,rows:8,fullWidth:!0,error:!!c.state.meta.errors.length,helperText:c.state.meta.errors[0]||""})})]}),h.jsx(l.Subscribe,{selector:c=>[c.canSubmit,c.isSubmitting],children:([c,u])=>h.jsxs(wo,{children:[h.jsx(Be,{onClick:t,children:"Cancel"}),h.jsx(Be,{type:"submit",variant:"contained",disabled:!c,children:u?"Saving...":"Save"})]})})]})]})]},`${i}-${s}`)},hZ=Fi(e=>({isRenamePipeModalOpen:!1,selectedPipelineId:null,selectedPipelineCurrentName:"",setRenamePipeModalOpen:(t,n=null,r="")=>e({isRenamePipeModalOpen:t,selectedPipelineId:n,selectedPipelineCurrentName:r}),resetModalState:()=>e({isRenamePipeModalOpen:!1,selectedPipelineId:null,selectedPipelineCurrentName:""})})),WPt=()=>{const{isRenamePipeModalOpen:e,setRenamePipeModalOpen:t,selectedPipelineCurrentName:n,selectedPipelineId:r}=hZ(),[i,o]=R.useState(void 0),s=BMt();return R.useEffect(()=>{o(n)},[n]),h.jsxs(Oi,{open:e,onClose:()=>t(!1),children:[h.jsx(Do,{children:"Rename Dashboard"}),h.jsxs(no,{children:[h.jsx(yo,{children:"Please enter a new name for the Dashboard."}),h.jsx(zn,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,variant:"outlined",value:i||"",helperText:(i||"").length>50?"Name must be 50 characters or less":void 0,error:(i||"").length>50,onChange:a=>{o(a.target.value)}})]}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:()=>t(!1),children:"Cancel"}),h.jsx(Be,{onClick:()=>{i&&r&&s.mutateAsync({path:{pipe_id:r},body:{operation:"update_name",value:i}}),t(!1)},variant:"contained",disabled:!i||i.length===0||i.length>50,children:"Save"})]})]})},qPt=()=>{const{successMessage:e,successOpen:t,hideSuccess:n,timeout:r}=Wi(),i=xt(),{isDarkMode:o}=Li();return R.useEffect(()=>{if(r){const s=setTimeout(()=>{n()},r);return()=>{clearTimeout(s)}}},[e,r,n]),h.jsx(oM,{sx:{mt:10},anchorOrigin:{vertical:"top",horizontal:"center"},open:t,onClose:n,autoHideDuration:5e3,children:h.jsx(n4,{style:{backgroundColor:Mr(i.palette.success.main,.5)},message:e&&h.jsxs(Y,{sx:{display:"inline-flex",flexDirection:"row"},children:[h.jsx(_X,{}),h.jsx(Y,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(ae,{sx:{color:o?i.palette.grey[900]:i.palette.success.contrastText,fontWeight:500},children:e})})]})})})};function GPt(e,t=300){const[n,r]=R.useState(!1),i=R.useRef(null);return R.useEffect(()=>(e?i.current||(i.current=setTimeout(()=>{r(!0),i.current=null},t)):(i.current&&(clearTimeout(i.current),i.current=null),r(!1)),()=>{i.current&&(clearTimeout(i.current),i.current=null)}),[e,t]),n}const gZ=Fi(e=>({downloadInProgress:!1,error:null,percentageOfDownload:0,setDownloadInProgress:t=>{e({downloadInProgress:t,error:null,percentageOfDownload:0})},setError:t=>{e({error:t,downloadInProgress:!1})},setPercentageOfDownload:t=>{e({percentageOfDownload:t})}})),YPt=()=>{const e=xt(),{downloadInProgress:t,percentageOfDownload:n,error:r}=gZ(),i=CS(t,2e3),o=!t&&i,s=GPt(i,200),a=R.useMemo(()=>{if(t&&n<10)return"Preparing download...";if(t)return`Downloading ${n}%...`;if(r)return"Download failed!";if(o)return"Download finished!"},[r,o,t,n]);return h.jsx(oM,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:s,children:h.jsx(n4,{style:{border:`1px solid ${e.palette.primary.main}`,borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},message:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[t&&h.jsx(To,{size:24,thickness:4}),o&&!r&&h.jsx(C5,{color:"success"}),r&&h.jsx(CX,{color:"error"}),h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(ae,{variant:"body1",sx:{fontWeight:500},children:a})})]})})})},BAe=Fi(e=>({isDialogOpen:!1,setDialogOpen:()=>e({isDialogOpen:!0}),setDialogClose:()=>e({isDialogOpen:!1})})),XPt=()=>{const{isDialogOpen:e,setDialogClose:t}=BAe(),n=gAe(),{showSuccess:r}=Wi(),i=lg({defaultValues:{reportName:"Untitled Report"},onSubmit:async({value:o})=>{try{await n.mutateAsync({body:{name:o.reportName}}),r(`Report "${o.reportName}" created successfully!`)}catch(s){Vo.error("Could not create new report",s)}t(),i.reset()}});return R.useEffect(()=>{e&&i.reset()},[e,i]),h.jsxs(MM,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,slotProps:{paper:{sx:{width:"40vw",height:"45vh"}}},children:[h.jsx(Do,{children:"Create New Report"}),h.jsx(no,{sx:{display:"flex",flexDirection:"column",gap:2},children:h.jsxs("form",{onSubmit:o=>{o.preventDefault(),o.stopPropagation(),i.handleSubmit()},noValidate:!0,autoComplete:"off",children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:h.jsx(ae,{children:"Report Name"})}),h.jsx(i.Field,{name:"reportName",validators:{onChange:({value:o})=>o.trim()?void 0:"Report name is required"},children:o=>h.jsx(zn,{id:o.name,value:o.state.value,onChange:s=>o.handleChange(s.target.value),onBlur:o.handleBlur,name:o.name,placeholder:"Report Name",error:!!o.state.meta.errors.length,helperText:o.state.meta.errors[0]||"",fullWidth:!0,autoFocus:!0})})]})}),h.jsx(wo,{disableSpacing:!0,sx:{display:"flex",justifyContent:"flex-end",width:"100%",gap:3,pb:4,px:4},children:h.jsx(i.Subscribe,{selector:o=>[o.canSubmit,o.isSubmitting],children:([o,s])=>h.jsxs(h.Fragment,{children:[h.jsx(Be,{onClick:t,color:"primary",children:"Cancel"}),h.jsx(Be,{onClick:()=>i.handleSubmit(),color:"primary",variant:"contained",disabled:!o,children:s?"Creating...":"Create"})]})})})]})},Ul=()=>{const{user:e}=ag(),t="matrix",n=NEe(),r=t.includes("staging"),i=!1,o=t.includes("prod"),[s,a]=R.useState(!1),[l,c]=R.useState(!1);return R.useEffect(()=>{e!==void 0&&(a(e?.organization?.name==="RWA"),c(e?.organization?.name==="RWA"))},[e]),{exludeImplicitDeselectedOptionsFromFilter:s,isRWA:l,isKws:n,isStaging:r,isDev:i,isProd:o}},KPt=e=>R.createElement("svg",{height:48,viewBox:"0 0 752 192",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M102.326 32L104.739 32.3271C120.786 34.5018 135.416 42.6669 145.691 55.1826C155.966 67.6983 161.125 83.6379 160.134 99.8007C159.142 115.964 152.072 131.153 140.344 142.318C128.616 153.484 113.097 159.799 96.9053 159.995C80.7133 160.192 65.0465 154.255 53.0507 143.378C41.0549 132.5 33.6185 117.487 32.2347 101.353C30.8509 85.2191 35.6222 69.159 45.5904 56.3976C55.5587 43.6362 69.9858 35.1185 85.9748 32.5548L88.3793 32.1693L89.1503 36.9783L86.7459 37.3638C71.9712 39.7327 58.6398 47.6035 49.4286 59.3957C40.2175 71.1879 35.8086 86.0283 37.0873 100.937C38.366 115.845 45.2376 129.718 56.3223 139.77C67.407 149.821 81.884 155.307 96.8462 155.125C111.808 154.944 126.148 149.108 136.986 138.791C147.823 128.473 154.356 114.438 155.272 99.5024C156.189 84.5671 151.421 69.8381 141.926 58.273C132.432 46.7078 118.913 39.1629 104.085 37.1533L101.672 36.8262L102.326 32Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M70.1197 61.1345L68.8552 62.1526C63.8699 66.1666 59.832 71.2314 57.0297 76.9857C54.2274 82.7399 52.7297 89.0418 52.6435 95.4416L52.6216 97.0649L49.375 97.0212L49.3969 95.3979C49.4895 88.5203 51.099 81.7479 54.1105 75.564C57.1221 69.3802 61.4614 63.9372 66.8189 59.6236L68.0835 58.6055L70.1197 61.1345Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54.6458 109.193L55.1943 110.721C58.221 119.152 63.7771 126.443 71.1034 131.597C78.4298 136.751 87.1689 139.517 96.1266 139.517C97.3611 139.517 98.5951 139.464 99.8252 139.359L101.443 139.221L101.719 142.456L100.101 142.594C98.7794 142.707 97.4533 142.764 96.1266 142.764C86.5001 142.764 77.1085 139.791 69.2352 134.252C61.3619 128.714 55.391 120.879 52.1384 111.818L51.5898 110.29L54.6458 109.193Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.102 104.571L141.75 106.156C140.209 113.099 137.103 119.599 132.67 125.16C128.237 130.721 122.593 135.198 116.168 138.248L114.701 138.944L113.309 136.011L114.775 135.315C120.754 132.476 126.006 128.311 130.131 123.136C134.256 117.961 137.146 111.913 138.581 105.452L138.932 103.867L142.102 104.571Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.1264 52.536C91.9897 52.536 87.8741 53.1262 83.9041 54.2888L82.3461 54.745L81.4336 51.629L82.9916 51.1727C87.258 49.9233 91.6808 49.2891 96.1264 49.2891C107.385 49.2891 118.266 53.3534 126.767 60.7347C135.269 68.116 140.82 78.3183 142.401 89.4656L142.628 91.073L139.414 91.5288L139.186 89.9214C137.715 79.5485 132.55 70.055 124.639 63.1865C116.728 56.3179 106.603 52.536 96.1264 52.536Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.0201 68.4754C89.6842 68.4754 83.5414 70.6563 78.6238 74.6514L77.3638 75.6751L75.3164 73.1551L76.5764 72.1314C82.0727 67.666 88.9385 65.2285 96.0201 65.2285C101.797 65.2285 107.457 66.8511 112.356 69.9113L113.733 70.7714L112.013 73.5252L110.636 72.6651C106.253 69.9271 101.188 68.4754 96.0201 68.4754Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M70.4379 85.6067L69.9129 87.1429C68.9314 90.015 68.4305 93.0294 68.4305 96.0647C68.4305 99.6876 69.1441 103.275 70.5306 106.622C71.917 109.97 73.9492 113.011 76.511 115.573C79.0728 118.135 82.1142 120.167 85.4614 121.553C88.8086 122.94 92.3961 123.653 96.0191 123.653C100.453 123.653 104.822 122.584 108.756 120.537C112.689 118.49 116.071 115.525 118.615 111.893L119.547 110.563L122.206 112.426L121.275 113.756C118.431 117.815 114.651 121.129 110.255 123.417C105.858 125.706 100.975 126.9 96.0191 126.9C91.9697 126.9 87.96 126.103 84.2188 124.553C80.4777 123.003 77.0784 120.732 74.2151 117.869C71.3518 115.005 69.0804 111.606 67.5308 107.865C65.9812 104.124 65.1836 100.114 65.1836 96.0647C65.1836 92.6722 65.7434 89.303 66.8405 86.0929L67.3655 84.5566L70.4379 85.6067Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M123.011 81.0703L123.724 82.529C125.783 86.7438 126.853 91.3727 126.853 96.0634C126.853 96.6123 126.838 97.161 126.809 97.7091L126.722 99.3302L123.48 99.157L123.567 97.5358C123.593 97.0455 123.606 96.5545 123.606 96.0634C123.606 91.8666 122.648 87.7251 120.806 83.9542L120.094 82.4955L123.011 81.0703Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.2883 84.1981C94.6208 84.1981 92.9696 84.5265 91.4291 85.1646C89.8886 85.8027 88.4888 86.738 87.3097 87.9171C86.1306 89.0962 85.1953 90.496 84.5572 92.0365C83.9191 93.5771 83.5907 95.2282 83.5907 96.8957C83.5907 98.9412 84.0848 100.956 85.0311 102.77C85.9774 104.583 87.3477 106.141 89.0256 107.311L90.3573 108.24L88.5001 110.903L87.1684 109.975C85.0615 108.505 83.3408 106.549 82.1525 104.272C80.9643 101.995 80.3438 99.4642 80.3438 96.8957C80.3437 94.8018 80.7562 92.7285 81.5574 90.794C82.3587 88.8595 83.5332 87.1018 85.0138 85.6212C86.4944 84.1406 88.2521 82.9662 90.1866 82.1649C92.121 81.3636 94.1944 80.9512 96.2883 80.9512C98.3821 80.9512 100.455 81.3636 102.39 82.1649C104.324 82.9662 106.082 84.1406 107.563 85.6212C109.043 87.1018 110.218 88.8595 111.019 90.794C111.82 92.7285 112.233 94.8018 112.233 96.8957C112.233 99.5373 111.576 102.138 110.323 104.463C109.069 106.788 107.257 108.765 105.05 110.217L103.694 111.109L101.91 108.396L103.266 107.504C105.024 106.348 106.466 104.773 107.465 102.922C108.463 101.07 108.986 98.9994 108.986 96.8957C108.986 95.2282 108.657 93.5771 108.019 92.0365C107.381 90.496 106.446 89.0962 105.267 87.9171C104.088 86.738 102.688 85.8028 101.147 85.1646C99.6069 84.5265 97.9557 84.1981 96.2883 84.1981Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.163 90.3642L139.584 91.6956L139.355 88.3354L158.934 87.0039L159.163 90.3642Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.3569 44.7598L80.1305 73.6255L77.3713 75.8024L54.5977 46.9366L57.3569 44.7598Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M113.971 70.6588L105.08 87.3304L102.215 85.8024L111.106 69.1309L113.971 70.6588Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.148 106.691L114.145 121.188L111.63 122.923L101.633 108.426L104.148 106.691Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M138.068 76.0131L121.616 85.512L119.992 82.7001L136.445 73.2012L138.068 76.0131Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M130.9 122.908L146.414 134.174L144.506 136.801L128.992 125.535L130.9 122.908Z"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.109 123.807L101.689 142.699L98.3611 142.801L97.7812 123.909L101.109 123.807Z"}),R.createElement("path",{d:"M683.841 73.0879C703.169 75.1359 713.921 89.3439 716.097 104.704C716.481 108.16 716.353 112.256 715.969 114.048L689.217 114.432L687.553 102.4L700.609 102.912C699.457 94.2079 693.057 87.9359 684.865 86.2719L683.841 73.0879ZM649.025 110.72C646.977 96.5119 651.457 84.0959 661.441 77.6959L666.177 113.92C668.225 125.312 679.745 131.84 691.393 131.84C701.121 131.84 709.953 129.792 714.561 125.696L719.425 137.728C714.305 142.208 703.937 145.536 690.625 145.536C668.225 145.536 651.969 131.968 649.025 110.72Z"}),R.createElement("path",{d:"M582.115 87.8081L580.195 74.4961H633.059L634.595 76.8001L629.859 87.8081H582.115ZM592.099 143.744L590.563 141.696L601.443 116.096H617.827L612.579 128.64H642.659L644.707 143.744H592.099Z"}),R.createElement("path",{d:"M533.381 145.28C514.181 144.768 497.541 129.024 494.853 109.568C491.909 88.576 505.221 72.832 525.061 72.832C535.557 72.832 543.237 78.976 545.925 82.816L544.773 74.496H560.133L567.045 122.624C567.941 128.384 569.733 131.968 573.445 131.968C574.597 131.968 575.621 131.712 576.005 130.944L580.869 138.752C579.333 142.208 574.981 145.28 567.813 145.28C563.205 145.28 555.653 142.976 553.093 135.936L547.589 97.024C544.389 91.52 537.221 85.504 527.365 85.504C515.845 85.504 508.293 94.592 510.213 108.032C512.005 120.448 521.349 130.944 532.357 132.352L533.381 145.28Z"}),R.createElement("path",{d:"M466.687 143.873C467.071 143.745 466.815 143.617 466.687 142.465L457.343 76.9288L448.767 102.913H430.847L452.607 46.8488L469.759 46.4648C469.503 46.8488 469.631 47.2328 469.759 48.1288L482.943 141.441C483.071 142.593 483.711 143.361 483.967 143.489L466.687 143.873ZM389.887 143.873C390.399 143.745 390.015 143.617 389.887 142.465L376.703 49.1528C376.575 48.2568 376.063 47.4888 375.551 47.1048L393.727 46.8488L430.847 102.913H412.543L396.927 76.9288L406.143 141.441C406.271 142.593 406.911 143.361 407.167 143.489L389.887 143.873Z"}),R.createElement("path",{d:"M345.299 144.257L344.019 129.793C351.315 126.337 354.259 118.785 352.979 110.081C351.699 100.993 345.683 92.8014 337.491 88.9614L336.211 73.8574C353.875 78.2094 366.419 92.1614 368.595 108.033C371.027 125.441 362.195 140.289 345.299 144.257ZM324.563 144.513C306.643 140.545 294.739 126.849 292.307 110.081C290.003 93.4414 299.219 78.5934 315.475 74.2414L316.755 88.5774C309.715 92.4174 306.643 99.9694 307.795 108.289C309.203 117.889 315.091 125.825 323.283 129.409L324.563 144.513Z"}),R.createElement("path",{d:"M264.318 143.745L251.006 49.1528C250.878 48.2568 250.238 47.6168 249.854 47.2328L267.262 46.4648C267.006 46.8488 267.134 47.2328 267.262 48.1288L280.446 141.441C280.574 142.593 281.214 143.361 281.47 143.489L264.318 143.745ZM206.59 143.873C207.102 143.745 206.718 143.617 206.59 142.465L193.406 49.1528C193.278 48.2568 192.766 47.4888 192.254 47.1048L208.638 46.8488L251.006 102.913H231.55L213.758 78.3368L222.846 141.441C222.974 142.593 223.614 143.361 223.87 143.489L206.59 143.873Z"})),UAe=Fi(e=>({isOpen:!1,setOpen:()=>e({isOpen:!0}),setClose:()=>e({isOpen:!1})})),VAe=Fi(e=>({activeTab:0,setActiveTab:t=>e({activeTab:t}),resetTab:()=>e({activeTab:0})})),a0={MANAGE_USERS:"manage_users",CREATE_PIPE:"create_pipeline",UPLOAD_FILE:"upload_file",CREATE_TEMPLATE:"create_template",MANAGE_BLOCK_OPTIONS:"manage_block_options",CHANGE_CORRELATION_METRICS:"change_correlation_metrics",CREATE_TAGS:"create_tags"},ZPt=({setAnchor:e})=>h.jsxs($t,{onClick:()=>{e(null),window.location.replace("https://redpill.nomaze.com/"+Nr.LoginRedirect)},children:[h.jsx(eo,{children:h.jsx(jke,{fontSize:"small"})}),h.jsx(ae,{variant:"body1",children:"Login"})]}),QPt=({setAnchor:e})=>{const{user:t,setUser:n}=ag(),r=VAe(i=>i.resetTab);return h.jsxs($t,{onClick:()=>{t&&(A_().clearToken(),n(void 0)),r(),e(null),window.location.replace("https://redpill.nomaze.com/"+Nr.LogoutRedirect)},sx:{color:"error.main","&:hover":{bgcolor:i=>i.palette.mode==="dark"?"rgba(211, 47, 47, 0.08)":"rgba(211, 47, 47, 0.04)"}},children:[h.jsx(eo,{children:h.jsx(cst,{fontSize:"small",sx:{color:"error.main"}})}),h.jsx(ae,{variant:"body1",sx:{color:"error.main"},children:"Log out"})]})},JPt=({name:e,username:t,organizationName:n,costCenters:r})=>{const i=e||t,o=i.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2);return h.jsxs(Y,{sx:{width:"100%"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:3,mx:2},children:[h.jsx(Uh,{sx:{width:48,height:48,bgcolor:"primary.main",color:"primary.contrastText",fontSize:"1rem",fontWeight:500},children:o}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",flex:1},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:600,fontSize:"0.875rem",lineHeight:1.4,maxWidth:"25ch",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i}),h.jsx(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem",lineHeight:1.4,maxWidth:"25ch",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t})]})]}),h.jsx(vi,{sx:{my:2}}),h.jsxs(gt,{spacing:2,sx:{mx:1.5},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:1,bgcolor:s=>s.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)"},children:h.jsx(Rke,{sx:{fontSize:"1rem",color:"text.secondary"}})}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",flex:1},children:[h.jsx(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem",lineHeight:1.4},children:"Organization"}),h.jsx(ae,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",lineHeight:1.4,maxWidth:"25ch",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n})]})]}),r&&h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,mx:2},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:1,bgcolor:s=>s.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)"},children:h.jsx(Tot,{sx:{fontSize:"1rem",color:"text.secondary"}})}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",flex:1},children:[h.jsx(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem",lineHeight:1.4},children:"Cost Centers"}),h.jsx(ae,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",lineHeight:1.4},children:r})]})]})]})]})},eDt=({anchor:e,setAnchor:t,onSettingsOpen:n})=>{const{data:r}=z_(),i=Kr(),o=()=>{t(null),i({to:Nr.UserManagement})},s=r?.permissions?.some(a=>a.name===a0.MANAGE_USERS);return r?h.jsx(Uo,{anchorEl:e,keepMounted:!0,open:!!e,onClose:()=>{t(null)},sx:{zIndex:9999},children:h.jsxs(Y,{sx:{pt:2,pb:.5,minWidth:280},children:[h.jsx(JPt,{username:r.username,name:r.name,costCenters:r.cost_centers,organizationName:r.organization.name}),h.jsx(vi,{sx:{my:2}}),h.jsxs($t,{onClick:()=>{t(null),n&&n()},children:[h.jsx(eo,{children:h.jsx(R0,{fontSize:"small"})}),h.jsx(ae,{variant:"body1",children:"Settings"})]}),s&&h.jsxs($t,{onClick:o,children:[h.jsx(eo,{children:h.jsx(BF,{fontSize:"small"})}),h.jsx(ae,{variant:"body1",children:"User Management"})]}),h.jsx(QPt,{setAnchor:t})]})}):h.jsx(Uo,{anchorEl:e,keepMounted:!0,open:!!e,onClose:()=>{t(null)},sx:{zIndex:9999},children:h.jsxs(Y,{sx:{py:2,minWidth:280},children:[h.jsxs(gt,{direction:"column",spacing:1,sx:{alignItems:"center"},children:[h.jsx(Uh,{sx:{width:48,height:48,bgcolor:"primary.main",color:"primary.contrastText",mb:1},children:h.jsx(Xot,{})}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary"},children:"Please login!"})]}),h.jsx(vi,{sx:{my:2}}),h.jsx(ZPt,{setAnchor:t})]})})};function O4({onClick:e,children:t,sx:n={},fullWidth:r=!1}){return h.jsx(Be,{onClick:e,color:"inherit",sx:{display:"flex",alignItems:"center",gap:1,px:1.5,py:.75,textTransform:"none",minWidth:"auto",height:"auto",...r&&{flex:1,justifyContent:"flex-start"},"&:hover":{bgcolor:i=>i.palette.primary.light},...n},children:t})}const AM=Fi(e=>({isOpen:!1,setOpen:()=>e({isOpen:!0}),setClose:()=>e({isOpen:!1})})),HAe=()=>{const e=xt(),t=AM(n=>n.setOpen);return h.jsx(vm,{component:"button",variant:"caption",onClick:()=>t(),sx:{color:e.palette.primary.main,fontSize:"0.75rem",fontWeight:500,textDecoration:"none",cursor:"pointer",px:1.5,py:.5,borderRadius:1,bgcolor:ut(e.palette.primary.main,.1),transition:"all 0.2s ease-in-out","&:hover":{color:e.palette.primary.dark,bgcolor:ut(e.palette.primary.main,.2)}},children:" Help"})},tDt=()=>{const e="matrix",t=()=>!e.includes("prod"),n=r=>r.includes("dev")?"DEV":"STAGE";return t()?h.jsx(Y,{sx:{position:"fixed",top:30,left:-40,transform:"rotate(-45deg)",transformOrigin:"top left",backgroundColor:"yellow",color:"black",fontSize:"14px",fontWeight:"bold",lineHeight:"80px",width:"100px",height:"50px",textAlign:"center",zIndex:1e3},children:n(e)}):null},WAe=({handleLogoClick:e,children:t})=>{const{isKws:n}=Ul(),r=xt();return h.jsxs(eM,{color:"transparent",style:{borderLeft:"none",borderRight:"none",borderTop:"none"},children:[h.jsx(tDt,{}),h.jsxs(Ggt,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:[h.jsx(Y,{p:0,mr:2,children:h.jsx(Be,{onClick:e,sx:{textTransform:"none",color:"white",ml:2},children:n?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:"/smartplot.png",style:{height:"25px",width:"auto"}}),h.jsx(ae,{sx:{fontSize:"1rem",fontWeight:"bold",ml:2},color:"inherit",variant:"h6",children:"SmartPlot"})]}):h.jsx(KPt,{fill:r.palette.highlight.text,style:{width:"auto",height:"35px"}})})}),t]})]})},nDt=()=>{const{data:e}=z_(),{pipeId:t,nodeId:n}=Ca(),r=xt(),i=Kr(),o=_Y(),[s,a]=R.useState(null),l=VAe(T=>T.setActiveTab),c=UAe(T=>T.setOpen),{isKws:u}=Ul(),d=o.pathname,f=d.startsWith("/pipes")||d.startsWith("/pipe"),p=d.startsWith("/templates"),g=d.startsWith("/files"),y=d.startsWith("/reports"),v={backgroundColor:r.palette.primary.light},x=t!==void 0&&!isNaN(t)&&n!==void 0&&!isNaN(n),w=()=>{i({to:Nr.Home})},S=()=>{l(0),i({to:"/pipes/"+e?.username})},C=()=>{l(1),i({to:`/${Nr.Templates}/${e?.username}`})},k=()=>{i({to:Nr.Reports})};return h.jsxs(WAe,{handleLogoClick:w,children:[e?.username&&h.jsxs(Y,{sx:{display:"flex",gap:2},children:[h.jsxs(Be,{color:"inherit",onClick:S,"data-testid":"nav-dashboards",sx:f?v:void 0,children:[h.jsx(aS,{sx:{mr:1}}),h.jsx("div",{children:"Dashboards"})]}),h.jsxs(Be,{color:"inherit",onClick:C,sx:p?v:void 0,children:[h.jsx(ST,{sx:{mr:1}}),h.jsx("div",{children:"Templates"})]}),h.jsxs(Be,{color:"inherit","data-testid":"nav-files",onClick:()=>i({to:`${Nr.Files}/${e?.username}`}),sx:g?v:void 0,children:[h.jsx(Zm,{sx:{mr:1}}),h.jsx("div",{children:"Files"})]}),h.jsxs(Be,{color:"inherit","data-testid":"nav-reports",onClick:k,sx:y?v:void 0,children:[h.jsx(wX,{sx:{mr:1}}),h.jsx("div",{children:"Reports"})]})]}),h.jsx(Y,{sx:{flexGrow:1}}),h.jsx("div",{id:"toolbar-button-portal",style:x?{}:{display:"none"}}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,mr:3},children:[!u&&h.jsx(HAe,{}),e?h.jsxs(O4,{onClick:T=>{a(T.currentTarget)},children:[h.jsx(Uh,{sx:{width:28,height:28,bgcolor:u?"white":"primary.main",color:u?"primary.main":"primary.contrastText",fontSize:"0.75rem",fontWeight:500},children:(e.name||e.username).split(" ").map(T=>T[0]).join("").toUpperCase().slice(0,2)}),h.jsx(ae,{variant:"body2",sx:{color:u?"white":"primary.main",fontSize:"0.875rem",fontWeight:500,lineHeight:1,maxWidth:"15ch",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name||e.username})]}):h.jsx(Dt,{title:"Profile",children:h.jsx(Pt,{onClick:T=>{a(T.currentTarget)},color:"inherit",children:h.jsx(YR,{})})})]}),h.jsx(eDt,{anchor:s,setAnchor:a,onSettingsOpen:c})]})},qAe=Fi(e=>({isRenameReportModalOpen:!1,selectedReportId:null,selectedReportCurrentName:"",setRenameReportModalOpen:(t,n=null,r="")=>e({isRenameReportModalOpen:t,selectedReportId:n,selectedReportCurrentName:r}),resetModalState:()=>e({isRenameReportModalOpen:!1,selectedReportId:null,selectedReportCurrentName:""})})),rDt=()=>{const{isRenameReportModalOpen:e,setRenameReportModalOpen:t,selectedReportCurrentName:n,selectedReportId:r}=qAe(),[i,o]=R.useState(void 0),s=A4();return R.useEffect(()=>{o(n)},[n]),h.jsxs(Oi,{open:e,onClose:()=>t(!1),children:[h.jsx(Do,{children:"Rename Report"}),h.jsxs(no,{children:[h.jsx(yo,{children:"Please enter a new name for the Report."}),h.jsx(zn,{slotProps:{htmlInput:{"aria-label":"Report name"}},autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,variant:"outlined",value:i||"",helperText:(i||"").length>50?"Name must be 50 characters or less":void 0,error:(i||"").length>50,onChange:a=>{o(a.target.value)}})]}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:()=>t(!1),children:"Cancel"}),h.jsx(Be,{onClick:()=>{r&&i&&(s.mutateAsync({path:{id:r},body:{operation:"update_name",value:{name:i}}}),t(!1))},variant:"contained",disabled:!i||i.length===0||i.length>50,children:"Save"})]})]})},iDt=/("(?:[^\\"]|\\.)*")|[:,]/g;function y9(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return(function o(s,a,l){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const c=JSON.stringify(s,i);if(c===void 0)return c;const u=r-a.length-l;if(c.length<=u){const d=c.replace(iDt,(f,p)=>p||`${f} `);if(d.length<=u)return d}if(i!=null&&(s=JSON.parse(c),i=void 0),typeof s=="object"&&s!==null){const d=a+n,f=[];let p=0,g,y;if(Array.isArray(s)){g="[",y="]";const{length:v}=s;for(;p<v;p++)f.push(o(s[p],d,p===v-1?0:1)||"null")}else{g="{",y="}";const v=Object.keys(s),{length:x}=v;for(;p<x;p++){const w=v[p],S=`${JSON.stringify(w)}: `,C=o(s[w],d,S.length+(p===x-1?0:1));C!==void 0&&f.push(S+C)}}if(f.length>0)return[g,n+f.join(`,
${d}`),y].join(`
${a}`)}return c})(e,"",0)}function Vl(e,t,n){return e.fields=t||[],e.fname=n,e}function go(e){return e==null?null:e.fname}function ga(e){return e==null?null:e.fields}function GAe(e){return e.length===1?oDt(e[0]):sDt(e)}const oDt=e=>function(t){return t[e]},sDt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Ge(e){throw Error(e)}function fp(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)c(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?c():s=a+1:l==="["?(a>s&&c(),i=s=a+1):l==="]"&&(i||Ge("Access path missing open bracket: "+e),i>0&&c(),i=0,s=a+1)}return i&&Ge("Access path missing closing bracket: "+e),r&&Ge("Access path missing closing quote: "+e),a>s&&(a++,c()),t}function Du(e,t,n){const r=fp(e);return e=r.length===1?r[0]:e,Vl((n&&n.get||GAe)(r),[e],t||e)}const PM=Du("id"),xa=Vl(e=>e,[],"identity"),hm=Vl(()=>0,[],"zero"),H_=Vl(()=>1,[],"one"),Ou=Vl(()=>!0,[],"true"),Qg=Vl(()=>!1,[],"false"),mZ=new Set([...Object.getOwnPropertyNames(Object.prototype).filter(e=>typeof Object.prototype[e]=="function"),"__proto__"]);function aDt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const YAe=0,yZ=1,vZ=2,XAe=3,KAe=4;function I4(e,t,n=aDt){let r=e||YAe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=yZ&&n(t||"error","ERROR",arguments),this},warn(){return r>=vZ&&n(t||"warn","WARN",arguments),this},info(){return r>=XAe&&n(t||"log","INFO",arguments),this},debug(){return r>=KAe&&n(t||"log","DEBUG",arguments),this}}}var Je=Array.isArray;function It(e){return e===Object(e)}const Ige=e=>e!=="__proto__";function W_(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=lDt(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;q_(t,r,n[r],i)}return t},{})}function q_(e,t,n,r){if(!Ige(t))return;let i,o;if(It(n)&&!Je(n)){o=It(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?q_(o,i,n[i]):Ige(i)&&(o[i]=n[i])}else e[t]=n}function lDt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function br(e){return e[e.length-1]}function da(e){return e==null||e===""?null:+e}const ZAe=e=>t=>e*Math.exp(t),QAe=e=>t=>Math.log(e*t),JAe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),ePe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,i$=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function j4(e,t,n,r){const i=n(e[0]),o=n(br(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function tPe(e,t){return j4(e,t,da,xa)}function nPe(e,t){var n=Math.sign(e[0]);return j4(e,t,QAe(n),ZAe(n))}function rPe(e,t,n){return j4(e,t,i$(n),i$(1/n))}function iPe(e,t,n){return j4(e,t,JAe(n),ePe(n))}function $4(e,t,n,r,i){const o=r(e[0]),s=r(br(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function bZ(e,t,n){return $4(e,t,n,da,xa)}function xZ(e,t,n){const r=Math.sign(e[0]);return $4(e,t,n,QAe(r),ZAe(r))}function o$(e,t,n,r){return $4(e,t,n,i$(r),i$(1/r))}function wZ(e,t,n,r){return $4(e,t,n,JAe(r),ePe(r))}function oPe(e){return 1+~~(new Date(e).getMonth()/3)}function sPe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ft(e){return e!=null?Je(e)?e:[e]:[]}function aPe(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Bn(e){return typeof e=="function"}const cDt="descending";function SZ(e,t,n){n=n||{},t=Ft(t)||[];const r=[],i=[],o={},s=n.comparator||uDt;return Ft(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===cDt?-1:1),i.push(a=Bn(a)?a:Du(a,null,n)),(ga(a)||[]).forEach(c=>o[c]=1))}),i.length===0?null:Vl(s(i,r),Object.keys(o))}const G_=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),uDt=(e,t)=>e.length===1?dDt(e[0],t[0]):fDt(e,t,e.length),dDt=(e,t)=>function(n,r){return G_(e(n),e(r))*t},fDt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=G_(o(r),o(i));return s*t[a]});function wa(e){return Bn(e)?e:()=>e}function _Z(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Wn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Jf(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function lPe(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}function Ut(e,t){return Object.hasOwn(e,t)}const tO={};function Y_(e){let t={},n;function r(o){return Ut(t,o)&&t[o]!==tO}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===tO&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=tO),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==tO&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function cPe(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=br(e),c;l<a&&(c=a,a=l,l=c),c=Math.abs(t-a);const u=Math.abs(l-t);return c<u&&c<=s?r:u<=s?i:o}function _t(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Wn(r,n)}function sw(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function $0(e){return typeof e=="boolean"}function zm(e){return Object.prototype.toString.call(e)==="[object Date]"}function uPe(e){return e&&Bn(e[Symbol.iterator])}function Or(e){return typeof e=="number"}function CZ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function jt(e){return typeof e=="string"}function kZ(e,t,n){e&&(e=t?Ft(e).map(a=>a.replace(/\\(.)/g,"$1")):Ft(e));const r=e&&e.length,i=n&&n.get||GAe,o=a=>i(t?[a]:fp(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let c=""+a[0](l),u=0;for(;++u<r;)c+="|"+a[u](l);return c}}return Vl(s,e,"key")}function dPe(e,t){const n=e[0],r=br(e),i=+t;return i?i===1?r:n+i*(r-n):n}const pDt=1e4;function fPe(e){e=+e||pDt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Ut(t,s)||Ut(n,s),get:s=>Ut(t,s)?t[s]:Ut(n,s)?o(s,n[s]):void 0,set:(s,a)=>Ut(t,s)?t[s]=a:o(s,a)}}function pPe(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,c=0;for(;a<i&&l<o;++c)s[c]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++c)s[c]=t[a];for(;l<o;++l,++c)s[c]=n[l];return s}function Nk(e,t){let n="";for(;--t>=0;)n+=e;return n}function hPe(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?Nk(i,s)+o:r==="center"?Nk(i,~~(s/2))+o+Nk(i,Math.ceil(s/2)):o+Nk(i,s)}function DM(e){return e&&br(e)-e[0]||0}function yt(e){return Je(e)?`[${e.map(t=>t===null?"null":yt(t))}]`:It(e)||jt(e)?JSON.stringify(e).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):e}function EZ(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const hDt=e=>Or(e)||zm(e)?e:Date.parse(e);function TZ(e,t){return t=t||hDt,e==null||e===""?null:t(e)}function RZ(e){return e==null||e===""?null:e+""}function Od(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function gPe(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function im(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var jge={},v9={},b9=34,H2=10,x9=13;function mPe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function gDt(e,t){var n=mPe(e);return function(r,i){return t(n(r),i,e)}}function $ge(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function fl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function mDt(e){return e<0?"-"+fl(-e,6):e>9999?"+"+fl(e,6):fl(e,4)}function yDt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":mDt(e.getUTCFullYear())+"-"+fl(e.getUTCMonth()+1,2)+"-"+fl(e.getUTCDate(),2)+(i?"T"+fl(t,2)+":"+fl(n,2)+":"+fl(r,2)+"."+fl(i,3)+"Z":r?"T"+fl(t,2)+":"+fl(n,2)+":"+fl(r,2)+"Z":n||t?"T"+fl(t,2)+":"+fl(n,2)+"Z":"")}function vDt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var p,g,y=i(d,function(v,x){if(p)return p(v,x-1);g=v,p=f?gDt(v,f):mPe(v)});return y.columns=g||[],y}function i(d,f){var p=[],g=d.length,y=0,v=0,x,w=g<=0,S=!1;d.charCodeAt(g-1)===H2&&--g,d.charCodeAt(g-1)===x9&&--g;function C(){if(w)return v9;if(S)return S=!1,jge;var T,E=y,A;if(d.charCodeAt(E)===b9){for(;y++<g&&d.charCodeAt(y)!==b9||d.charCodeAt(++y)===b9;);return(T=y)>=g?w=!0:(A=d.charCodeAt(y++))===H2?S=!0:A===x9&&(S=!0,d.charCodeAt(y)===H2&&++y),d.slice(E+1,T-1).replace(/""/g,'"')}for(;y<g;){if((A=d.charCodeAt(T=y++))===H2)S=!0;else if(A===x9)S=!0,d.charCodeAt(y)===H2&&++y;else if(A!==n)continue;return d.slice(E,T)}return w=!0,d.slice(E,g)}for(;(x=C())!==v9;){for(var k=[];x!==jge&&x!==v9;)k.push(x),x=C();f&&(k=f(k,v++))==null||p.push(k)}return p}function o(d,f){return d.map(function(p){return f.map(function(g){return u(p[g])}).join(e)})}function s(d,f){return f==null&&(f=$ge(d)),[f.map(u).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=$ge(d)),o(d,f).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(e)}function u(d){return d==null?"":d instanceof Date?yDt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}function bDt(e){return e}function xDt(e){if(e==null)return bDt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var c=2,u=a.length,d=new Array(u);for(d[0]=(t+=a[0])*r+o,d[1]=(n+=a[1])*i+s;c<u;)d[c]=a[c],++c;return d}}function wDt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function SDt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Fge(e,n)})}:Fge(e,t)}function Fge(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=yPe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function yPe(e,t){var n=xDt(e.transform),r=e.arcs;function i(u,d){d.length&&d.pop();for(var f=r[u<0?~u:u],p=0,g=f.length;p<g;++p)d.push(n(f[p],p));u<0&&wDt(d,g)}function o(u){return n(u)}function s(u){for(var d=[],f=0,p=u.length;f<p;++f)i(u[f],d);return d.length<2&&d.push(d[0]),d}function a(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(a)}function c(u){var d=u.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":f=o(u.coordinates);break;case"MultiPoint":f=u.coordinates.map(o);break;case"LineString":f=s(u.arcs);break;case"MultiLineString":f=u.arcs.map(s);break;case"Polygon":f=l(u.arcs);break;case"MultiPolygon":f=u.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return c(t)}function _Dt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(c,u){var d=e.arcs[c<0?~c:c],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++s],t[s]=c,t[u]=f)}),t.forEach(function(c){var u=a(c),d=u[0],f=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=f,g=r[f]){delete r[g.start];var y=g===p?p:p.concat(g);r[y.start=p.start]=i[y.end=g.end]=y}else r[p.start]=i[p.end]=p;else if(p=r[f])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=f]=p});function a(c){var u=e.arcs[c<0?~c:c],d=u[0],f;return e.transform?(f=[0,0],u.forEach(function(p){f[0]+=p[0],f[1]+=p[1]})):f=u[u.length-1],c<0?[f,d]:[d,f]}function l(c,u){for(var d in c){var f=c[d];delete u[f.start],delete f.start,delete f.end,f.forEach(function(p){n[p<0?~p:p]=1}),o.push(f)}}return l(i,r),l(r,i),t.forEach(function(c){n[c<0?~c:c]||o.push([c])}),o}function CDt(e){return yPe(e,kDt.apply(this,arguments))}function kDt(e,t,n){var r,i,o;if(arguments.length>1)r=EDt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:_Dt(e,r)}}function EDt(e,t,n){var r=[],i=[],o;function s(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:o})}function a(d){d.forEach(s)}function l(d){d.forEach(a)}function c(d){d.forEach(l)}function u(d){switch(o=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function Mh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TDt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function X_(e){let t,n,r;e.length!==2?(t=Mh,n=(a,l)=>Mh(e(a),l),r=(a,l)=>e(a)-l):(t=e===Mh||e===TDt?e:RDt,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function RDt(){return 0}function vPe(e){return e===null?NaN:+e}function*MDt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const bPe=X_(Mh),l0=bPe.right,ADt=bPe.left;X_(vPe).center;function PDt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function DDt(e,t){const n=PDt(e,t);return n&&Math.sqrt(n)}class Ya{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class Lge extends Map{constructor(t,n=SPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(mW(this,t))}has(t){return super.has(mW(this,t))}set(t,n){return super.set(xPe(this,t),n)}delete(t){return super.delete(wPe(this,t))}}class s$ extends Set{constructor(t,n=SPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(mW(this,t))}add(t){return super.add(xPe(this,t))}delete(t){return super.delete(wPe(this,t))}}function mW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function xPe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function wPe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function SPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ODt(e,t){return Array.from(t,n=>e[n])}function IDt(e=Mh){if(e===Mh)return _Pe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function _Pe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jDt=Math.sqrt(50),$Dt=Math.sqrt(10),FDt=Math.sqrt(2);function a$(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=jDt?10:o>=$Dt?5:o>=FDt?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?a$(e,t,n*2):[a,l,c]}function yW(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?a$(t,e,n):a$(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function vW(e,t,n){return t=+t,e=+e,n=+n,a$(e,t,n)[2]}function c0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?vW(t,e,n):vW(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $v(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function bW(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function CPe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?_Pe:IDt(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*d/l+f)),g=Math.min(r,Math.floor(t+(l-c)*d/l+f));CPe(e,t,p,g,i)}const o=e[t];let s=n,a=r;for(W2(e,n,t),i(e[r],o)>0&&W2(e,n,r);s<a;){for(W2(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?W2(e,n,a):(++a,W2(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function W2(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xW(e,t,n){if(e=Float64Array.from(MDt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bW(e);if(t>=1)return $v(e);var r,i=(r-1)*t,o=Math.floor(i),s=$v(CPe(e,o).subarray(0,o+1)),a=bW(e.subarray(o+1));return s+(a-s)*(i-o)}}function kPe(e,t,n=vPe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function LDt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function EPe(e,t){return xW(e,.5,t)}function*NDt(e){for(const t of e)yield*t}function TPe(e){return Array.from(NDt(e))}function hc(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function RPe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function zDt(e,...t){e=new s$(e),t=t.map(BDt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function BDt(e){return e instanceof s$?e:new s$(e)}function UDt(...e){const t=new s$;for(const n of e)for(const r of n)t.add(r);return t}function VDt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l$(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ES(e){return e=l$(Math.abs(e)),e?e[1]:NaN}function HDt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function WDt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qDt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fb(e){if(!(t=qDt.exec(e)))throw new Error("invalid format: "+e);var t;return new MZ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fb.prototype=MZ.prototype;function MZ(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MZ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GDt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var MPe;function YDt(e,t){var n=l$(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(MPe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+l$(e,Math.max(0,t+o-1))[0]}function Nge(e,t){var n=l$(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zge={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VDt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Nge(e*100,t),r:Nge,s:YDt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Bge(e){return e}var Uge=Array.prototype.map,Vge=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function APe(e){var t=e.grouping===void 0||e.thousands===void 0?Bge:HDt(Uge.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Bge:WDt(Uge.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=fb(d);var f=d.fill,p=d.align,g=d.sign,y=d.symbol,v=d.zero,x=d.width,w=d.comma,S=d.precision,C=d.trim,k=d.type;k==="n"?(w=!0,k="g"):zge[k]||(S===void 0&&(S=12),C=!0,k="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",E=y==="$"?r:/[%p]/.test(k)?s:"",A=zge[k],O=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(j){var P=T,$=E,D,F,N;if(k==="c")$=A(j)+$,j="";else{j=+j;var V=j<0||1/j<0;if(j=isNaN(j)?l:A(Math.abs(j),S),C&&(j=GDt(j)),V&&+j==0&&g!=="+"&&(V=!1),P=(V?g==="("?g:a:g==="-"||g==="("?"":g)+P,$=(k==="s"?Vge[8+MPe/3]:"")+$+(V&&g==="("?")":""),O){for(D=-1,F=j.length;++D<F;)if(N=j.charCodeAt(D),48>N||N>57){$=(N===46?i+j.slice(D+1):j.slice(D))+$,j=j.slice(0,D);break}}}w&&!v&&(j=t(j,1/0));var H=P.length+j.length+$.length,U=H<x?new Array(x-H+1).join(f):"";switch(w&&v&&(j=t(U+j,U.length?x-$.length:1/0),U=""),p){case"<":j=P+j+$+U;break;case"=":j=P+U+j+$;break;case"^":j=U.slice(0,H=U.length>>1)+P+j+$+U.slice(H);break;default:j=U+P+j+$;break}return o(j)}return I.toString=function(){return d+""},I}function u(d,f){var p=c((d=fb(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(ES(f)/3)))*3,y=Math.pow(10,-g),v=Vge[8+g/3];return function(x){return p(y*x)+v}}return{format:c,formatPrefix:u}}var nO,F4,AZ;XDt({thousands:",",grouping:[3],currency:["$",""]});function XDt(e){return nO=APe(e),F4=nO.format,AZ=nO.formatPrefix,nO}function PPe(e){return Math.max(0,-ES(Math.abs(e)))}function DPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ES(t)/3)))*3-ES(Math.abs(e)))}function OPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ES(t)-ES(e))+1}const w9=new Date,S9=new Date;function cs(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=o=>cs(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(w9.setTime(+o),S9.setTime(+s),e(w9),e(S9),Math.floor(n(w9,S9))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const TS=cs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);TS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cs(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):TS);TS.range;const yh=1e3,pu=yh*60,vh=pu*60,Zh=vh*24,PZ=Zh*7,Hge=Zh*30,_9=Zh*365,bh=cs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yh)},(e,t)=>(t-e)/yh,e=>e.getUTCSeconds());bh.range;const L4=cs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yh)},(e,t)=>{e.setTime(+e+t*pu)},(e,t)=>(t-e)/pu,e=>e.getMinutes());L4.range;const N4=cs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pu)},(e,t)=>(t-e)/pu,e=>e.getUTCMinutes());N4.range;const z4=cs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yh-e.getMinutes()*pu)},(e,t)=>{e.setTime(+e+t*vh)},(e,t)=>(t-e)/vh,e=>e.getHours());z4.range;const B4=cs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vh)},(e,t)=>(t-e)/vh,e=>e.getUTCHours());B4.range;const Ah=cs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pu)/Zh,e=>e.getDate()-1);Ah.range;const Bm=cs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zh,e=>e.getUTCDate()-1);Bm.range;const IPe=cs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zh,e=>Math.floor(e/Zh));IPe.range;function nx(e){return cs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pu)/PZ)}const K_=nx(0),c$=nx(1),KDt=nx(2),ZDt=nx(3),RS=nx(4),QDt=nx(5),JDt=nx(6);K_.range;c$.range;KDt.range;ZDt.range;RS.range;QDt.range;JDt.range;function rx(e){return cs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/PZ)}const Z_=rx(0),u$=rx(1),eOt=rx(2),tOt=rx(3),MS=rx(4),nOt=rx(5),rOt=rx(6);Z_.range;u$.range;eOt.range;tOt.range;MS.range;nOt.range;rOt.range;const LT=cs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LT.range;const NT=cs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());NT.range;const ep=cs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ep.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ep.range;const tp=cs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});tp.range;function jPe(e,t,n,r,i,o){const s=[[bh,1,yh],[bh,5,5*yh],[bh,15,15*yh],[bh,30,30*yh],[o,1,pu],[o,5,5*pu],[o,15,15*pu],[o,30,30*pu],[i,1,vh],[i,3,3*vh],[i,6,6*vh],[i,12,12*vh],[r,1,Zh],[r,2,2*Zh],[n,1,PZ],[t,1,Hge],[t,3,3*Hge],[e,1,_9]];function a(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return f?g.reverse():g}function l(c,u,d){const f=Math.abs(u-c)/d,p=X_(([,,v])=>v).right(s,f);if(p===s.length)return e.every(c0(c/_9,u/_9,d));if(p===0)return TS.every(Math.max(c0(c,u,d),1));const[g,y]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return g.every(y)}return[a,l]}const[iOt,oOt]=jPe(tp,NT,Z_,IPe,B4,N4),[sOt,aOt]=jPe(ep,LT,K_,Ah,z4,L4),qs="year",Il="quarter",ma="month",ns="week",jl="date",ua="day",np="dayofyear",Pc="hours",Dc="minutes",Iu="seconds",Id="milliseconds",DZ=[qs,Il,ma,ns,jl,ua,np,Pc,Dc,Iu,Id],C9=DZ.reduce((e,t,n)=>(e[t]=1+n,e),{});function OZ(e){const t=Ft(e).slice(),n={};return t.length||Ge("Missing time unit."),t.forEach(i=>{Ut(C9,i)?n[i]=1:Ge(`Invalid time unit: ${i}.`)}),(n[ns]||n[ua]?1:0)+(n[Il]||n[ma]||n[jl]?1:0)+(n[np]?1:0)>1&&Ge(`Incompatible time units: ${e}`),t.sort((i,o)=>C9[i]-C9[o]),t}const lOt={[qs]:"%Y ",[Il]:"Q%q ",[ma]:"%b ",[jl]:"%d ",[ns]:"W%U ",[ua]:"%a ",[np]:"%j ",[Pc]:"%H:00",[Dc]:"00:%M",[Iu]:":%S",[Id]:".%L",[`${qs}-${ma}`]:"%Y-%m ",[`${qs}-${ma}-${jl}`]:"%Y-%m-%d ",[`${Pc}-${Dc}`]:"%H:%M"};function $Pe(e,t){const n=Wn({},lOt,t),r=OZ(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const Qy=new Date;function IZ(e){return Qy.setFullYear(e),Qy.setMonth(0),Qy.setDate(1),Qy.setHours(0,0,0,0),Qy}function FPe(e){return NPe(new Date(e))}function LPe(e){return wW(new Date(e))}function NPe(e){return Ah.count(IZ(e.getFullYear())-1,e)}function wW(e){return K_.count(IZ(e.getFullYear())-1,e)}function SW(e){return IZ(e).getDay()}function cOt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function zPe(e){return UPe(new Date(e))}function BPe(e){return _W(new Date(e))}function UPe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Bm.count(t-1,e)}function _W(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Z_.count(t-1,e)}function CW(e){return Qy.setTime(Date.UTC(e,0,1)),Qy.getUTCDay()}function uOt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function VPe(e,t,n,r,i){const o=t||1,s=br(e),a=(x,w,S)=>(S=S||x,dOt(n[S],r[S],x===s&&o,w)),l=new Date,c=Od(e),u=c[qs]?a(qs):wa(2012),d=c[ma]?a(ma):c[Il]?a(Il):hm,f=c[ns]&&c[ua]?a(ua,1,ns+ua):c[ns]?a(ns,1):c[ua]?a(ua,1):c[jl]?a(jl,1):c[np]?a(np,1):H_,p=c[Pc]?a(Pc):hm,g=c[Dc]?a(Dc):hm,y=c[Iu]?a(Iu):hm,v=c[Id]?a(Id):hm;return function(x){l.setTime(+x);const w=u(l);return i(w,d(l),f(l,w),p(l),g(l),y(l),v(l))}}function dOt(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function AS(e,t,n){return t+e*7-(n+6)%7}const fOt={[qs]:e=>e.getFullYear(),[Il]:e=>Math.floor(e.getMonth()/3),[ma]:e=>e.getMonth(),[jl]:e=>e.getDate(),[Pc]:e=>e.getHours(),[Dc]:e=>e.getMinutes(),[Iu]:e=>e.getSeconds(),[Id]:e=>e.getMilliseconds(),[np]:e=>NPe(e),[ns]:e=>wW(e),[ns+ua]:(e,t)=>AS(wW(e),e.getDay(),SW(t)),[ua]:(e,t)=>AS(1,e.getDay(),SW(t))},pOt={[Il]:e=>3*e,[ns]:(e,t)=>AS(e,0,SW(t))};function HPe(e,t){return VPe(e,t||1,fOt,pOt,cOt)}const hOt={[qs]:e=>e.getUTCFullYear(),[Il]:e=>Math.floor(e.getUTCMonth()/3),[ma]:e=>e.getUTCMonth(),[jl]:e=>e.getUTCDate(),[Pc]:e=>e.getUTCHours(),[Dc]:e=>e.getUTCMinutes(),[Iu]:e=>e.getUTCSeconds(),[Id]:e=>e.getUTCMilliseconds(),[np]:e=>UPe(e),[ns]:e=>_W(e),[ua]:(e,t)=>AS(1,e.getUTCDay(),CW(t)),[ns+ua]:(e,t)=>AS(_W(e),e.getUTCDay(),CW(t))},gOt={[Il]:e=>3*e,[ns]:(e,t)=>AS(e,0,CW(t))};function WPe(e,t){return VPe(e,t||1,hOt,gOt,uOt)}const mOt={[qs]:ep,[Il]:LT.every(3),[ma]:LT,[ns]:K_,[jl]:Ah,[ua]:Ah,[np]:Ah,[Pc]:z4,[Dc]:L4,[Iu]:bh,[Id]:TS},yOt={[qs]:tp,[Il]:NT.every(3),[ma]:NT,[ns]:Z_,[jl]:Bm,[ua]:Bm,[np]:Bm,[Pc]:B4,[Dc]:N4,[Iu]:bh,[Id]:TS};function Q_(e){return mOt[e]}function J_(e){return yOt[e]}function qPe(e,t,n){return e?e.offset(t,n):void 0}function GPe(e,t,n){return qPe(Q_(e),t,n)}function YPe(e,t,n){return qPe(J_(e),t,n)}function XPe(e,t,n,r){return e?e.range(t,n,r):void 0}function KPe(e,t,n,r){return XPe(Q_(e),t,n,r)}function ZPe(e,t,n,r){return XPe(J_(e),t,n,r)}const zk=1e3,Bk=zk*60,Uk=Bk*60,U4=Uk*24,vOt=U4*7,Wge=U4*30,kW=U4*365,QPe=[qs,ma,jl,Pc,Dc,Iu,Id],Vk=QPe.slice(0,-1),Hk=Vk.slice(0,-1),Wk=Hk.slice(0,-1),bOt=Wk.slice(0,-1),xOt=[qs,ns],qge=[qs,ma],JPe=[qs],q2=[[Vk,1,zk],[Vk,5,5*zk],[Vk,15,15*zk],[Vk,30,30*zk],[Hk,1,Bk],[Hk,5,5*Bk],[Hk,15,15*Bk],[Hk,30,30*Bk],[Wk,1,Uk],[Wk,3,3*Uk],[Wk,6,6*Uk],[Wk,12,12*Uk],[bOt,1,U4],[xOt,1,vOt],[qge,1,Wge],[qge,3,3*Wge],[JPe,1,kW]];function eDe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(DM(t))/n;let i=X_(a=>a[2]).right(q2,r),o,s;return i===q2.length?(o=JPe,s=c0(t[0]/kW,t[1]/kW,n)):i?(i=q2[r/q2[i-1][2]<q2[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=QPe,s=Math.max(c0(t[0],t[1],n),1)),{units:o,step:s}}function k9(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function E9(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function G2(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tDe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Y2(i),u=X2(i),d=Y2(o),f=X2(o),p=Y2(s),g=X2(s),y=Y2(a),v=X2(a),x=Y2(l),w=X2(l),S={a:V,A:H,b:U,B:G,c:null,d:Qge,e:Qge,f:VOt,g:JOt,G:tIt,H:zOt,I:BOt,j:UOt,L:nDe,m:HOt,M:WOt,p:z,q:W,Q:tme,s:nme,S:qOt,u:GOt,U:YOt,V:XOt,w:KOt,W:ZOt,x:null,X:null,y:QOt,Y:eIt,Z:nIt,"%":eme},C={a:X,A:Q,b:ee,B:ne,c:null,d:Jge,e:Jge,f:sIt,g:mIt,G:vIt,H:rIt,I:iIt,j:oIt,L:iDe,m:aIt,M:lIt,p:oe,q:ce,Q:tme,s:nme,S:cIt,u:uIt,U:dIt,V:fIt,w:pIt,W:hIt,x:null,X:null,y:gIt,Y:yIt,Z:bIt,"%":eme},k={a:I,A:j,b:P,B:$,c:D,d:Kge,e:Kge,f:$Ot,g:Xge,G:Yge,H:Zge,I:Zge,j:DOt,L:jOt,m:POt,M:OOt,p:O,q:AOt,Q:LOt,s:NOt,S:IOt,u:kOt,U:EOt,V:TOt,w:COt,W:ROt,x:F,X:N,y:Xge,Y:Yge,Z:MOt,"%":FOt};S.x=T(n,S),S.X=T(r,S),S.c=T(t,S),C.x=T(n,C),C.X=T(r,C),C.c=T(t,C);function T(re,ge){return function(he){var ie=[],xe=-1,q=0,fe=re.length,se,J,Z;for(he instanceof Date||(he=new Date(+he));++xe<fe;)re.charCodeAt(xe)===37&&(ie.push(re.slice(q,xe)),(J=Gge[se=re.charAt(++xe)])!=null?se=re.charAt(++xe):J=se==="e"?" ":"0",(Z=ge[se])&&(se=Z(he,J)),ie.push(se),q=xe+1);return ie.push(re.slice(q,xe)),ie.join("")}}function E(re,ge){return function(he){var ie=G2(1900,void 0,1),xe=A(ie,re,he+="",0),q,fe;if(xe!=he.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(ge&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(q=E9(G2(ie.y,0,1)),fe=q.getUTCDay(),q=fe>4||fe===0?u$.ceil(q):u$(q),q=Bm.offset(q,(ie.V-1)*7),ie.y=q.getUTCFullYear(),ie.m=q.getUTCMonth(),ie.d=q.getUTCDate()+(ie.w+6)%7):(q=k9(G2(ie.y,0,1)),fe=q.getDay(),q=fe>4||fe===0?c$.ceil(q):c$(q),q=Ah.offset(q,(ie.V-1)*7),ie.y=q.getFullYear(),ie.m=q.getMonth(),ie.d=q.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),fe="Z"in ie?E9(G2(ie.y,0,1)).getUTCDay():k9(G2(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(fe+5)%7:ie.w+ie.U*7-(fe+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,E9(ie)):k9(ie)}}function A(re,ge,he,ie){for(var xe=0,q=ge.length,fe=he.length,se,J;xe<q;){if(ie>=fe)return-1;if(se=ge.charCodeAt(xe++),se===37){if(se=ge.charAt(xe++),J=k[se in Gge?ge.charAt(xe++):se],!J||(ie=J(re,he,ie))<0)return-1}else if(se!=he.charCodeAt(ie++))return-1}return ie}function O(re,ge,he){var ie=c.exec(ge.slice(he));return ie?(re.p=u.get(ie[0].toLowerCase()),he+ie[0].length):-1}function I(re,ge,he){var ie=p.exec(ge.slice(he));return ie?(re.w=g.get(ie[0].toLowerCase()),he+ie[0].length):-1}function j(re,ge,he){var ie=d.exec(ge.slice(he));return ie?(re.w=f.get(ie[0].toLowerCase()),he+ie[0].length):-1}function P(re,ge,he){var ie=x.exec(ge.slice(he));return ie?(re.m=w.get(ie[0].toLowerCase()),he+ie[0].length):-1}function $(re,ge,he){var ie=y.exec(ge.slice(he));return ie?(re.m=v.get(ie[0].toLowerCase()),he+ie[0].length):-1}function D(re,ge,he){return A(re,t,ge,he)}function F(re,ge,he){return A(re,n,ge,he)}function N(re,ge,he){return A(re,r,ge,he)}function V(re){return s[re.getDay()]}function H(re){return o[re.getDay()]}function U(re){return l[re.getMonth()]}function G(re){return a[re.getMonth()]}function z(re){return i[+(re.getHours()>=12)]}function W(re){return 1+~~(re.getMonth()/3)}function X(re){return s[re.getUTCDay()]}function Q(re){return o[re.getUTCDay()]}function ee(re){return l[re.getUTCMonth()]}function ne(re){return a[re.getUTCMonth()]}function oe(re){return i[+(re.getUTCHours()>=12)]}function ce(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ge=T(re+="",S);return ge.toString=function(){return re},ge},parse:function(re){var ge=E(re+="",!1);return ge.toString=function(){return re},ge},utcFormat:function(re){var ge=T(re+="",C);return ge.toString=function(){return re},ge},utcParse:function(re){var ge=E(re+="",!0);return ge.toString=function(){return re},ge}}}var Gge={"-":"",_:" ",0:"0"},Ms=/^\s*\d+/,wOt=/^%/,SOt=/[\\^$*+?|[\]().{}]/g;function Ir(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function _Ot(e){return e.replace(SOt,"\\$&")}function Y2(e){return new RegExp("^(?:"+e.map(_Ot).join("|")+")","i")}function X2(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function COt(e,t,n){var r=Ms.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function kOt(e,t,n){var r=Ms.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function EOt(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function TOt(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ROt(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Yge(e,t,n){var r=Ms.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Xge(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function MOt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function AOt(e,t,n){var r=Ms.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function POt(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kge(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function DOt(e,t,n){var r=Ms.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zge(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function OOt(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function IOt(e,t,n){var r=Ms.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jOt(e,t,n){var r=Ms.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $Ot(e,t,n){var r=Ms.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FOt(e,t,n){var r=wOt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function LOt(e,t,n){var r=Ms.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function NOt(e,t,n){var r=Ms.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qge(e,t){return Ir(e.getDate(),t,2)}function zOt(e,t){return Ir(e.getHours(),t,2)}function BOt(e,t){return Ir(e.getHours()%12||12,t,2)}function UOt(e,t){return Ir(1+Ah.count(ep(e),e),t,3)}function nDe(e,t){return Ir(e.getMilliseconds(),t,3)}function VOt(e,t){return nDe(e,t)+"000"}function HOt(e,t){return Ir(e.getMonth()+1,t,2)}function WOt(e,t){return Ir(e.getMinutes(),t,2)}function qOt(e,t){return Ir(e.getSeconds(),t,2)}function GOt(e){var t=e.getDay();return t===0?7:t}function YOt(e,t){return Ir(K_.count(ep(e)-1,e),t,2)}function rDe(e){var t=e.getDay();return t>=4||t===0?RS(e):RS.ceil(e)}function XOt(e,t){return e=rDe(e),Ir(RS.count(ep(e),e)+(ep(e).getDay()===4),t,2)}function KOt(e){return e.getDay()}function ZOt(e,t){return Ir(c$.count(ep(e)-1,e),t,2)}function QOt(e,t){return Ir(e.getFullYear()%100,t,2)}function JOt(e,t){return e=rDe(e),Ir(e.getFullYear()%100,t,2)}function eIt(e,t){return Ir(e.getFullYear()%1e4,t,4)}function tIt(e,t){var n=e.getDay();return e=n>=4||n===0?RS(e):RS.ceil(e),Ir(e.getFullYear()%1e4,t,4)}function nIt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ir(t/60|0,"0",2)+Ir(t%60,"0",2)}function Jge(e,t){return Ir(e.getUTCDate(),t,2)}function rIt(e,t){return Ir(e.getUTCHours(),t,2)}function iIt(e,t){return Ir(e.getUTCHours()%12||12,t,2)}function oIt(e,t){return Ir(1+Bm.count(tp(e),e),t,3)}function iDe(e,t){return Ir(e.getUTCMilliseconds(),t,3)}function sIt(e,t){return iDe(e,t)+"000"}function aIt(e,t){return Ir(e.getUTCMonth()+1,t,2)}function lIt(e,t){return Ir(e.getUTCMinutes(),t,2)}function cIt(e,t){return Ir(e.getUTCSeconds(),t,2)}function uIt(e){var t=e.getUTCDay();return t===0?7:t}function dIt(e,t){return Ir(Z_.count(tp(e)-1,e),t,2)}function oDe(e){var t=e.getUTCDay();return t>=4||t===0?MS(e):MS.ceil(e)}function fIt(e,t){return e=oDe(e),Ir(MS.count(tp(e),e)+(tp(e).getUTCDay()===4),t,2)}function pIt(e){return e.getUTCDay()}function hIt(e,t){return Ir(u$.count(tp(e)-1,e),t,2)}function gIt(e,t){return Ir(e.getUTCFullYear()%100,t,2)}function mIt(e,t){return e=oDe(e),Ir(e.getUTCFullYear()%100,t,2)}function yIt(e,t){return Ir(e.getUTCFullYear()%1e4,t,4)}function vIt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?MS(e):MS.ceil(e),Ir(e.getUTCFullYear()%1e4,t,4)}function bIt(){return"+0000"}function eme(){return"%"}function tme(e){return+e}function nme(e){return Math.floor(+e/1e3)}var v1,jZ,sDe,$Z,aDe;xIt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xIt(e){return v1=tDe(e),jZ=v1.format,sDe=v1.parse,$Z=v1.utcFormat,aDe=v1.utcParse,v1}function qk(e){const t={};return n=>t[n]||(t[n]=e(n))}function wIt(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=SIt(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function SIt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function lDe(e){const t=qk(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=fb(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return wIt(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=fb(s??",f");const a=c0(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let c;if(s.precision==null)switch(s.type){case"s":return isNaN(c=DPe(a,l))||(s.precision=c),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(c=OPe(a,l))||(s.precision=c-(s.type==="e"));break}case"f":case"%":{isNaN(c=PPe(a))||(s.precision=c-(s.type==="%")*2);break}}return t(s)}}}let EW;cDe();function cDe(){return EW=lDe({format:F4,formatPrefix:AZ})}function uDe(e){return lDe(APe(e))}function d$(e){return arguments.length?EW=uDe(e):EW}function rme(e,t,n){n=n||{},It(n)||Ge(`Invalid time multi-format specifier: ${n}`);const r=t(Iu),i=t(Dc),o=t(Pc),s=t(jl),a=t(ns),l=t(ma),c=t(Il),u=t(qs),d=e(n[Id]||".%L"),f=e(n[Iu]||":%S"),p=e(n[Dc]||"%I:%M"),g=e(n[Pc]||"%I %p"),y=e(n[jl]||n[ua]||"%a %d"),v=e(n[ns]||"%b %d"),x=e(n[ma]||"%B"),w=e(n[Il]||"%B"),S=e(n[qs]||"%Y");return C=>(r(C)<C?d:i(C)<C?f:o(C)<C?p:s(C)<C?g:l(C)<C?a(C)<C?y:v:u(C)<C?c(C)<C?x:w:S)(C)}function dDe(e){const t=qk(e.format),n=qk(e.utcFormat);return{timeFormat:r=>jt(r)?t(r):rme(t,Q_,r),utcFormat:r=>jt(r)?n(r):rme(n,J_,r),timeParse:qk(e.parse),utcParse:qk(e.utcParse)}}let TW;fDe();function fDe(){return TW=dDe({format:jZ,parse:sDe,utcFormat:$Z,utcParse:aDe})}function pDe(e){return dDe(tDe(e))}function zT(e){return arguments.length?TW=pDe(e):TW}const RW=(e,t)=>Wn({},e,t);function hDe(e,t){const n=e?uDe(e):d$(),r=t?pDe(t):zT();return RW(n,r)}function FZ(e,t){const n=arguments.length;return n&&n!==2&&Ge("defaultLocale expects either zero or two arguments."),n?RW(d$(e),zT(t)):RW(d$(),zT())}function _It(){return cDe(),fDe(),FZ()}const CIt=/^(data:|([A-Za-z]+:)?\/\/)/,kIt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,EIt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ime="file://";function TIt(e){return t=>({options:t||{},sanitize:MIt,load:RIt,fileAccess:!1,file:AIt(),http:DIt})}async function RIt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t?.http)}async function MIt(e,t){t=Wn({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=kIt.test(e.replace(EIt,""));(e==null||typeof e!="string"||!a)&&Ge("Sanitize failure, invalid URI: "+yt(e));const l=CIt.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(ime))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(ime.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function AIt(e){return PIt}async function PIt(){Ge("No file system access.")}async function DIt(e,t){const n=Wn({},this.options.http,t),r=t&&t.response,i=await fetch(e,n);return i.ok?Bn(i[r])?i[r]():i.text():Ge(i.status+""+i.statusText)}const OIt=e=>e!=null&&e===e,IIt=e=>e==="true"||e==="false"||e===!0||e===!1,jIt=e=>!Number.isNaN(Date.parse(e)),gDe=e=>!Number.isNaN(+e)&&!(e instanceof Date),$It=e=>gDe(e)&&Number.isInteger(+e),MW={boolean:EZ,integer:da,number:da,date:TZ,string:RZ,unknown:xa},rO=[IIt,$It,gDe,jIt],FIt=["boolean","integer","number","date"];function mDe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=rO.length,i=rO.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&OIt(l)&&!rO[a](l)&&(i[a]=0,++s,s===rO.length))return"string";return FIt[i.reduce((o,s)=>o===0?s:o,0)-1]}function yDe(e,t){return t.reduce((n,r)=>(n[r]=mDe(e,r),n),{})}function ome(e){const t=function(n,r){const i={delimiter:e};return LZ(n,r?Wn(r,i):i)};return t.responseType="text",t}function LZ(e,t){return t.header&&(e=t.header.map(yt).join(t.delimiter)+`
`+e),vDt(t.delimiter).parse(e+"")}LZ.responseType="text";function LIt(e){return typeof Buffer=="function"&&Bn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function NZ(e,t){const n=t&&t.property?Du(t.property):xa;return It(e)&&!LIt(e)?NIt(n(e),t):n(JSON.parse(e))}NZ.responseType="json";function NIt(e,t){return!Je(e)&&uPe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const zIt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function vDe(e,t){let n,r,i,o;return e=NZ(e,t),t&&t.feature?(n=SDt,i=t.feature):t&&t.mesh?(n=CDt,i=t.mesh,o=zIt[t.filter]):Ge("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):Ge("Invalid TopoJSON object: "+i),r&&r.features||[r]}vDe.responseType="json";const nj={dsv:LZ,csv:ome(","),tsv:ome("	"),json:NZ,topojson:vDe};function zZ(e,t){return arguments.length>1?(nj[e]=t,this):Ut(nj,e)?nj[e]:null}function bDe(e){const t=zZ(e);return t&&t.responseType||"text"}function xDe(e,t,n,r){t=t||{};const i=zZ(t.type||"json");return i||Ge("Unknown data format type: "+t.type),e=i(e,t),t.parse&&BIt(e,t.parse,n,r),Ut(e,"columns")&&delete e.columns,e}function BIt(e,t,n,r){if(!e.length)return;const i=zT();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,c,u,d;t==="auto"&&(t=yDe(e,o)),o=Object.keys(t);const f=o.map(p=>{const g=t[p];let y,v;if(g&&(g.startsWith("date:")||g.startsWith("utc:")))return y=g.split(/:(.+)?/,2),v=y[1],(v[0]==="'"&&v[v.length-1]==="'"||v[0]==='"'&&v[v.length-1]==='"')&&(v=v.slice(1,-1)),(y[0]==="utc"?r:n)(v);if(!MW[g])throw Error("Illegal format pattern: "+p+":"+g);return MW[g]});for(l=0,u=e.length,d=o.length;l<u;++l)for(s=e[l],c=0;c<d;++c)a=o[c],s[a]=f[c](s[a])}const V4=TIt();function H4(e){const t=e||xa,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function rj(e,t){try{await t(e)}catch(n){e.error(n)}}const wDe=Symbol("vega_id");let UIt=1;function W4(e){return!!(e&&dn(e))}function dn(e){return e[wDe]}function SDe(e,t){return e[wDe]=t,e}function zr(e){const t=e===Object(e)?e:{data:e};return dn(t)?t:SDe(t,UIt++)}function BZ(e){return q4(e,zr({}))}function q4(e,t){for(const n in e)t[n]=e[n];return t}function _De(e,t){return SDe(t,dn(e))}function ix(e,t){return e?t?(n,r)=>e(n,r)||dn(t(n))-dn(t(r)):(n,r)=>e(n,r)||dn(n)-dn(r):null}function CDe(e){return e&&e.constructor===ox}function ox(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:ox,insert(a){const l=Ft(a),c=l.length;for(let u=0;u<c;++u)e.push(l[u]);return this},remove(a){const l=Bn(a)?r:t,c=Ft(a),u=c.length;for(let d=0;d<u;++d)l.push(c[d]);return this},modify(a,l,c){const u={field:l,value:wa(c)};return Bn(a)?(u.filter=a,i.push(u)):(u.tuple=a,n.push(u)),this},encode(a,l){return Bn(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const c={},u={};let d,f,p,g,y,v;for(d=0,f=l.length;d<f;++d)c[dn(l[d])]=1;for(d=0,f=t.length;d<f;++d)y=t[d],c[dn(y)]=-1;for(d=0,f=r.length;d<f;++d)g=r[d],l.forEach(w=>{g(w)&&(c[dn(w)]=-1)});for(d=0,f=e.length;d<f;++d)y=e[d],v=dn(y),c[v]?c[v]=1:a.add.push(zr(e[d]));for(d=0,f=l.length;d<f;++d)y=l[d],c[dn(y)]<0&&a.rem.push(y);function x(w,S,C){C?w[S]=C(w):a.encode=S,s||(u[dn(w)]=w)}for(d=0,f=n.length;d<f;++d)p=n[d],y=p.tuple,g=p.field,v=c[dn(y)],v>0&&(x(y,g,p.value),a.modifies(g));for(d=0,f=i.length;d<f;++d)p=i[d],g=p.filter,l.forEach(w=>{g(w)&&c[dn(w)]>0&&x(w,p.field,p.value)}),a.modifies(p.field);if(s)a.mod=t.length||r.length?l.filter(w=>c[dn(w)]>0):l.slice();else for(v in u)a.mod.push(u[v]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const ij="_:mod:_";function G4(){Object.defineProperty(this,ij,{writable:!0,value:{}})}G4.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[ij];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=Je(n)?1+n.length:-1),i},modified(e,t){const n=this[ij];if(arguments.length){if(Je(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[ij]={},this}};let VIt=0;const HIt="pulse",WIt=new G4,qIt=1,GIt=2;function yi(e,t,n,r){this.id=++VIt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function sme(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}yi.prototype={targets(){return this._targets||(this._targets=H4(PM))},set(e){return this.value!==e?(this.value=e,1):0},skip:sme(qIt),modified:sme(GIt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new G4,i=this._argops=this._argops||[],o=[];let s,a,l,c;const u=(d,f,p)=>{p instanceof yi?(p!==this&&(t&&p.targets().add(this),o.push(p)),i.push({op:p,name:d,index:f})):r.set(d,f,p)};for(s in e)if(a=e[s],s===HIt)Ft(a).forEach(d=>{d instanceof yi?d!==this&&(d.targets().add(this),o.push(d)):Ge("Pulse parameters must be operator instances.")}),this.source=a;else if(Je(a))for(r.set(s,-1,Array(l=a.length)),c=0;c<l;++c)u(s,c,a[c]);else u(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||WIt,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function YIt(e,t,n,r){let i=1,o;return e instanceof yi?o=e:e&&e.prototype instanceof yi?o=new e:Bn(e)?o=new yi(null,e):(i=0,o=new yi(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function XIt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let KIt=0;function Y4(e,t,n){this.id=++KIt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Jg(e,t,n){return new Y4(e,t,n)}Y4.prototype={_filter:Ou,_apply:xa,targets(){return this._targets||(this._targets=H4(PM))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Jg(e);return this.targets().add(t),t},apply(e){const t=Jg(null,e);return this.targets().add(t),t},merge(){const e=Jg();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Jg();return this.targets().add(Jg(null,null,_Z(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Jg(null,null,()=>n=!0)),t.targets().add(Jg(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Ou,this._targets=null}};function ZIt(e,t,n,r){const i=this,o=Jg(n,r),s=function(c){c.dataflow=i;try{o.receive(c)}catch(u){i.error(u)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=Ft(e);const l=a.length;for(let c=0;c<l;++c)a[c].addEventListener(t,s);return o}function QIt(e,t){const n=this.locale();return xDe(e,t,n.timeParse,n.utcParse)}function JIt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function ejt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:bDe(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function tjt(e,t,n){const r=this,i=r._pending||njt(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(Ou).insert(o.data||[])),i.done(),o}function njt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const rjt={skip:!0};function ijt(e,t,n,r,i){return(e instanceof yi?sjt:ojt)(this,e,t,n,r,i),this}function ojt(e,t,n,r,i,o){const s=Wn({},o,rjt);let a,l;Bn(n)||(n=wa(n)),r===void 0?a=c=>e.touch(n(c)):Bn(r)?(l=new yi(null,r,i,!1),a=c=>{l.evaluate(c);const u=n(c),d=l.value;CDe(d)?e.pulse(u,d,o):e.update(u,d,s)}):a=c=>e.update(n(c),r,s),t.apply(a)}function sjt(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new yi(null,ajt(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function ajt(e,t){return t=Bn(t)?t:wa(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function ljt(e){e.rank=++this._rank}function cjt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Ge("Cycle detected in dataflow graph.")}const f$={},yf=1,om=2,sh=4,ujt=yf|om,ame=yf|sh,b1=yf|om|sh,lme=8,K2=16,cme=32,ume=64;function Um(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function T9(e,t){const n=[];return im(e,t,r=>n.push(r)),n}function dme(e,t){const n={};return e.visit(t,r=>{n[dn(r)]=1}),r=>n[dn(r)]?null:r}function iO(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Um.prototype={StopPropagation:f$,ADD:yf,REM:om,MOD:sh,ADD_REM:ujt,ADD_MOD:ame,ALL:b1,REFLOW:lme,SOURCE:K2,NO_SOURCE:cme,NO_FIELDS:ume,fork(e){return new Um(this.dataflow).init(this,e)},clone(){const e=this.fork(b1);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(b1|K2)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Um(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&ume)&&(n.fields=e.fields),t&yf?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&om?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&sh?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&cme?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||b1;return t&yf&&this.add.length||t&om&&this.rem.length||t&sh&&this.mod.length},reflow(e){if(e)return this.fork(b1).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(sh,dme(this,yf))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Je(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Je(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&yf&&(n.addF=iO(n.addF,t)),e&om&&(n.remF=iO(n.remF,t)),e&sh&&(n.modF=iO(n.modF,t)),e&K2&&(n.srcF=iO(n.srcF,t)),n},materialize(e){e=e||b1;const t=this;return e&yf&&t.addF&&(t.add=T9(t.add,t.addF),t.addF=null),e&om&&t.remF&&(t.rem=T9(t.rem,t.remF),t.remF=null),e&sh&&t.modF&&(t.mod=T9(t.mod,t.modF),t.modF=null),e&K2&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&K2)return im(n.source,n.srcF,r),n;e&yf&&im(n.add,n.addF,r),e&om&&im(n.rem,n.remF,r),e&sh&&im(n.mod,n.modF,r);const i=n.source;if(e&lme&&i){const o=n.add.length+n.mod.length;o===i.length||(o?im(i,dme(n,ame),r):im(i,n.srcF,r))}return n}};function UZ(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}_t(UZ,Um,{fork(e){const t=new Um(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Je(e)?e.some(r=>n[r]):n[e]:0},filter(){Ge("MultiPulse does not support filtering.")},materialize(){Ge("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function djt(e,t,n){const r=this,i=[];if(r._pulse)return kDe(r);if(r._pending&&await r._pending,t&&await rj(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Um(r,o,e),r._touched.forEach(u=>r._enqueue(u,!0)),r._touched=H4(PM);let s=0,a,l,c;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=f$),l!==f$&&a._targets&&a._targets.forEach(u=>r._enqueue(u)),++s}}catch(u){r._heap.clear(),c=u}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const u=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<u.length;++d)await rj(r,u[d].callback)}return n&&await rj(r,n),i.length&&Promise.all(i).then(u=>r.runAsync(null,()=>{u.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function fjt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function pjt(e,t,n){return this._pulse?kDe(this):(this.evaluate(e,t,n),this)}function hjt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function kDe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function gjt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function mjt(e,t){const n=e.source,r=this._clock;return n&&Je(n)?new UZ(this,r,n.map(i=>i.pulse),t):this._input[e.id]||yjt(this._pulse,n&&n.pulse)}function yjt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==f$&&(e.source=t.source),e)}const VZ={skip:!1,force:!1};function vjt(e,t){const n=t||VZ;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function bjt(e,t,n){const r=n||VZ;return(e.set(t)||r.force)&&this.touch(e,r),this}function xjt(e,t,n){this.touch(e,n||VZ);const r=new Um(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function wjt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),EDe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Sjt(t,0,e)):r=n,r}}}function EDe(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function Sjt(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,EDe(e,r,t,n)}function Dw(){this.logger(I4()),this.logLevel(yZ),this._clock=0,this._rank=0,this._locale=FZ();try{this._loader=V4()}catch{}this._touched=H4(PM),this._input={},this._pulse=null,this._heap=wjt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Z2(e){return function(){return this._log[e].apply(this,arguments)}}Dw.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Z2("error"),warn:Z2("warn"),info:Z2("info"),debug:Z2("debug"),logLevel:Z2("level"),cleanThreshold:1e4,add:YIt,connect:XIt,rank:ljt,rerank:cjt,pulse:xjt,touch:vjt,update:bjt,changeset:ox,ingest:JIt,parse:QIt,preload:tjt,request:ejt,events:ZIt,on:ijt,evaluate:djt,run:pjt,runAsync:fjt,runAfter:hjt,_enqueue:gjt,_getPulse:mjt};function Ue(e,t){yi.call(this,e,null,t)}_t(Ue,yi,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const PS={};function TDe(e){const t=RDe(e);return t&&t.Definition||null}function RDe(e){return e=e&&e.toLowerCase(),Ut(PS,e)?PS[e]:null}function*MDe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function HZ(e,t,n){const r=Float64Array.from(MDe(e,n));return r.sort(Mh),t.map(i=>kPe(r,i))}function WZ(e,t){return HZ(e,[.25,.5,.75],t)}function qZ(e,t){const n=e.length,r=DDt(e,t),i=WZ(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function ADe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,c,u,d,f;const p=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(u=p/t,d=0,f=e.steps.length;d<f&&e.steps[d]<u;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),c=e.minstep||0,a=Math.max(c,Math.pow(n,Math.round(Math.log(p)/r)-l));Math.ceil(p/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)u=a/i[d],u>=c&&p/u<=t&&(a=u)}u=Math.log(a);const g=u>=0?0:~~(-u/r)+1,y=Math.pow(n,-g-1);return(e.nice||e.nice===void 0)&&(u=Math.floor(o/a+y)*a,o=o<u?u-a:u,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var ju=Math.random;function _jt(e){ju=e}function PDe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(MDe(e,r)),o=i.length,s=t;let a,l,c,u;for(c=0,u=Array(s);c<s;++c){for(a=0,l=0;l<o;++l)a+=i[~~(ju()*o)];u[c]=a/o}return u.sort(Mh),[xW(u,n/2),xW(u,1-n/2)]}function DDe(e,t,n,r){r=r||(f=>f);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),c=l,u=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=u){for(c=(l+c)/2;s<a;++s)o[s]=c;u=d+t,l=d}c=d}for(c=(l+c)/2;s<a;++s)o[s]=c;return n?Cjt(o,t+t/4):o}function Cjt(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function kjt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function Ejt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*ju())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const ODe=Math.sqrt(2*Math.PI),Tjt=Math.SQRT2;let Q2=NaN;function X4(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(Q2===Q2)n=Q2,Q2=NaN;else{do n=ju()*2-1,r=ju()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,Q2=r*o}return e+n*t}function GZ(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*ODe)}function K4(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function Z4(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Tjt*Rjt(2*e-1)}function Rjt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function YZ(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>X4(n,r),pdf:o=>GZ(o,n,r),cdf:o=>K4(o,n,r),icdf:o=>Z4(o,n,r)};return i.mean(e).stdev(t)}function XZ(e,t){const n=YZ();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=qZ(e)),i):t},sample(){return e[~~(ju()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function KZ(e,t){return e=e||0,t=t??1,Math.exp(e+X4()*t)}function ZZ(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*ODe*e)}function QZ(e,t,n){return K4(Math.log(e),t,n)}function JZ(e,t,n){return Math.exp(Z4(e,t,n))}function IDe(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>KZ(n,r),pdf:o=>ZZ(o,n,r),cdf:o=>QZ(o,n,r),icdf:o=>JZ(o,n,r)};return i.mean(e).stdev(t)}function jDe(e,t){let n=0,r;function i(s){const a=[];let l=0,c;for(c=0;c<n;++c)l+=a[c]=s[c]==null?1:+s[c];for(c=0;c<n;++c)a[c]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=ju();let a=e[n-1],l=r[0],c=0;for(;c<n-1;l+=r[++c])if(s<l){a=e[c];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function eQ(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*ju()}function tQ(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function nQ(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function rQ(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function $De(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>eQ(n,r),pdf:o=>tQ(o,n,r),cdf:o=>nQ(o,n,r),icdf:o=>rQ(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function iQ(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function OM(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function Q4(e,t,n,r){e=e.filter(p=>{let g=t(p),y=n(p);return g!=null&&(g=+g)>=g&&y!=null&&(y=+y)>=y}),r&&e.sort((p,g)=>t(p)-t(g));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,c=0,u,d,f;for(f of e)o[a]=u=+t(f),s[a]=d=+n(f),++a,l+=(u-l)/a,c+=(d-c)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=c;return[o,s,l,c]}function IM(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function eC(e,t,n,r,i){let o=0,s=0;return IM(e,t,n,(a,l)=>{const c=l-i(a),u=l-r;o+=c*c,s+=u*u}),1-o/s}function oQ(e,t,n){let r=0,i=0,o=0,s=0,a=0;IM(e,t,n,(u,d)=>{++a,r+=(u-r)/a,i+=(d-i)/a,o+=(u*d-o)/a,s+=(u*u-s)/a});const l=OM(r,i,o,s),c=u=>l[0]+l[1]*u;return{coef:l,predict:c,rSquared:eC(e,t,n,i,c)}}function FDe(e,t,n){let r=0,i=0,o=0,s=0,a=0;IM(e,t,n,(u,d)=>{++a,u=Math.log(u),r+=(u-r)/a,i+=(d-i)/a,o+=(u*d-o)/a,s+=(u*u-s)/a});const l=OM(r,i,o,s),c=u=>l[0]+l[1]*Math.log(u);return{coef:l,predict:c,rSquared:eC(e,t,n,i,c)}}function LDe(e,t,n){const[r,i,o,s]=Q4(e,t,n);let a=0,l=0,c=0,u=0,d=0,f,p,g;IM(e,t,n,(w,S)=>{f=r[d++],p=Math.log(S),g=f*S,a+=(S*p-a)/d,l+=(g-l)/d,c+=(g*p-c)/d,u+=(f*g-u)/d});const[y,v]=OM(l/s,a/s,c/s,u/s),x=w=>Math.exp(y+v*(w-o));return{coef:[Math.exp(y-v*o),v],predict:x,rSquared:eC(e,t,n,s,x)}}function NDe(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;IM(e,t,n,(d,f)=>{const p=Math.log(d),g=Math.log(f);++l,r+=(p-r)/l,i+=(g-i)/l,o+=(p*g-o)/l,s+=(p*p-s)/l,a+=(f-a)/l});const c=OM(r,i,o,s),u=d=>c[0]*Math.pow(d,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:eC(e,t,n,a,u)}}function sQ(e,t,n){const[r,i,o,s]=Q4(e,t,n),a=r.length;let l=0,c=0,u=0,d=0,f=0,p,g,y,v;for(p=0;p<a;)g=r[p],y=i[p++],v=g*g,l+=(v-l)/p,c+=(v*g-c)/p,u+=(v*v-u)/p,d+=(g*y-d)/p,f+=(v*y-f)/p;const x=u-l*l,w=l*x-c*c,S=(f*l-d*c)/w,C=(d*x-f*c)/w,k=-S*l,T=E=>(E=E-o,S*E*E+C*E+k+s);return{coef:[k-C*o+S*o*o+s,C-2*S*o,S],predict:T,rSquared:eC(e,t,n,s,T)}}function zDe(e,t,n,r){if(r===0)return iQ(e,t,n);if(r===1)return oQ(e,t,n);if(r===2)return sQ(e,t,n);const[i,o,s,a]=Q4(e,t,n),l=i.length,c=[],u=[],d=r+1;let f,p,g,y,v;for(f=0;f<d;++f){for(g=0,y=0;g<l;++g)y+=Math.pow(i[g],f)*o[g];for(c.push(y),v=new Float64Array(d),p=0;p<d;++p){for(g=0,y=0;g<l;++g)y+=Math.pow(i[g],f+p);v[p]=y}u.push(v)}u.push(c);const x=Ajt(u),w=S=>{S-=s;let C=a+x[0]+x[1]*S+x[2]*S*S;for(f=3;f<d;++f)C+=x[f]*Math.pow(S,f);return C};return{coef:Mjt(d,x,-s,a),predict:w,rSquared:eC(e,t,n,a,w)}}function Mjt(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function Ajt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const fme=2,pme=1e-12;function BDe(e,t,n,r){const[i,o,s,a]=Q4(e,t,n,!0),l=i.length,c=Math.max(2,~~(r*l)),u=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let p=-1;++p<=fme;){const g=[0,c-1];for(let v=0;v<l;++v){const x=i[v],w=g[0],S=g[1],C=x-i[w]>i[S]-x?w:S;let k=0,T=0,E=0,A=0,O=0;const I=1/Math.abs(i[C]-x||1);for(let $=w;$<=S;++$){const D=i[$],F=o[$],N=Pjt(Math.abs(x-D)*I)*f[$],V=D*N;k+=N,T+=V,E+=F*N,A+=F*V,O+=D*V}const[j,P]=OM(T/k,E/k,A/k,O/k);u[v]=j+P*x,d[v]=Math.abs(o[v]-u[v]),Djt(i,v+1,g)}if(p===fme)break;const y=EPe(d);if(Math.abs(y)<pme)break;for(let v=0,x,w;v<l;++v)x=d[v]/(6*y),f[v]=x>=1?pme:(w=1-x*x)*w}return Ojt(i,u,s,a)}function Pjt(e){return(e=1-e*e*e)*e*e}function Djt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function Ojt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],c;for(;s<i;++s)c=e[s]+n,l[0]===c?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[c,t[s]],o.push(l));return l[1]+=r,o}const Ijt=.5*Math.PI/180;function J4(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=y=>[y,e(y)],o=t[0],s=t[1],a=s-o,l=a/r,c=[i(o)],u=[];if(n===r){for(let y=1;y<r;++y)c.push(i(o+y/n*a));return c.push(i(s)),c}else{u.push(i(s));for(let y=n;--y>0;)u.push(i(o+y/n*a))}let d=c[0],f=u[u.length-1];const p=1/a,g=jjt(d[1],u);for(;f;){const y=i((d[0]+f[0])/2);y[0]-d[0]>=l&&$jt(d,y,f,p,g)>Ijt?u.push(y):(d=f,c.push(f),u.pop()),f=u[u.length-1]}return c}function jjt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function $jt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function Fjt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function AW(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Fjt(e)}function UDe(e,t,n){return n||e+(t?"_"+t:"")}const R9=()=>{},Ljt={init:R9,add:R9,rem:R9,idx:0},BT={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},jM=Object.keys(BT).filter(e=>e!=="__count__");function Njt(e,t){return(n,r)=>Wn({name:e,aggregate_param:r,out:n||e},Ljt,t)}[...jM,"__count__"].forEach(e=>{BT[e]=Njt(e,BT[e])});function VDe(e,t,n){return BT[e](n,t)}function HDe(e,t){return e.idx-t.idx}function zjt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=BT[i]())})};return e.forEach(n),Object.values(t).sort(HDe)}function Bjt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function Ujt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function Vjt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function Hjt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function WDe(e,t){const n=t||xa,r=zjt(e),i=e.slice().sort(HDe);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=Bjt,o.prototype.add=Ujt,o.prototype.rem=Vjt,o.prototype.set=Hjt,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function aQ(e){this._key=e?Du(e):dn,this.reset()}const Xs=aQ.prototype;Xs.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Xs.add=function(e){this._add.push(e)};Xs.rem=function(e){this._rem.push(e)};Xs.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,c;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(c=e[a])]?s[n(c)]=0:o[l++]=c;return this._rem=[],this._add=o};Xs.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Ut(n,o)||(n[o]=1,++i);return i};Xs.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=lPe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Xs.argmin=function(e){return this.extent(e)[0]||{}};Xs.argmax=function(e){return this.extent(e)[1]||{}};Xs.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Xs.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Xs.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=WZ(this.values(),e),this._get=e),this._q};Xs.q1=function(e){return this.quartile(e)[0]};Xs.q2=function(e){return this.quartile(e)[1]};Xs.q3=function(e){return this.quartile(e)[2]};Xs.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=PDe(this.values(),1e3,.05,e),this._get=e),this._ci};Xs.ci0=function(e){return this.ci(e)[0]};Xs.ci1=function(e){return this.ci(e)[1]};function u0(e){Ue.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}u0.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:jM},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};_t(u0,Ue,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,c,u,d;for(l in a)for(u=a[l].tuple,c=0;c<i;++c)r[c][d=u[n[c]]]=d}o(e._prev),o(t);function s(a,l,c){const u=n[c],d=r[c++];for(const f in d){const p=a?a+"|"+f:f;l[u]=d[f],c<i?s(p,l,c):t[p]||e.cell(p,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(w){const S=Ft(ga(w)),C=S.length;let k=0,T;for(;k<C;++k)r[T=S[k]]||(r[T]=1,t.push(T))}this._dims=Ft(e.groupby),this._dnames=this._dims.map(w=>{const S=go(w);return i(w),n.push(S),S}),this.cellkey=e.key?e.key:AW(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],c=o.length,u={};let d,f,p,g,y,v,x;for(c!==s.length&&Ge("Unmatched number of fields and aggregate ops."),x=0;x<c;++x){if(d=o[x],f=s[x],p=a[x]||null,d==null&&f!=="count"&&Ge("Null aggregate field specified."),y=go(d),v=UDe(f,y,l[x]),n.push(v),f==="count"){this._counts.push(v);continue}g=u[y],g||(i(d),g=u[y]=[],g.field=d,this._measures.push(g)),f!=="count"&&(this._countOnly=!1),g.push(VDe(f,p,v))}return this._measures=this._measures.map(w=>WDe(w,w.field)),Object.create(null)},cellkey:AW(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new aQ),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?_De(t.tuple,o):zr(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,c,u,d;if(r)for(c in r)l=r[c],(!i||l.num)&&s.push(l.tuple);for(u=0,d=this._alen;u<d;++u)o.push(this.celltuple(t[u])),t[u]=null;for(u=0,d=this._mlen;u<d;++u)l=n[u],(l.num===0&&i?s:a).push(this.celltuple(l)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});const Wjt=1e-14;function lQ(e){Ue.call(this,null,e)}lQ.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};_t(lQ,Ue,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(ga(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?u=>{const d=r(u);u[a]=d,u[l]=d==null?null:i+o*(1+(d-i)/o)}:u=>u[a]=r(u)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=ADe(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(c){let u=da(t(c));return u==null?null:u<i?-1/0:u>o?1/0:(u=Math.max(i,Math.min(u,o-r)),i+r*Math.floor(Wjt+(u-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Vl(l,ga(t),e.name||"bin_"+go(t))}});function qDe(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,c)=>(a&&(i=i.filter(u=>!s[r(u)]),s={},a=0),c&&l&&i.sort(l),o.length&&(i=l?pPe(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function cQ(e){Ue.call(this,[],e)}cQ.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};_t(cQ,Ue,{transform(e,t){const n=t.fork(t.ALL),r=qDe(dn,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(ix(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function GDe(e){yi.call(this,null,qjt,e)}_t(GDe,yi);function qjt(e){return this.value&&!e.modified()?this.value:SZ(e.fields,e.orders)}function uQ(e){Ue.call(this,null,e)}uQ.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Gjt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}_t(uQ,Ue,{transform(e,t){const n=d=>f=>{for(var p=Gjt(a(f),e.case,o)||[],g,y=0,v=p.length;y<v;++y)s.test(g=p[y])||d(g)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],c=n(d=>i[d]=1+(i[d]||0)),u=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,c;for(a in n)l=r[a],c=n[a]||0,!l&&c?(r[a]=l=zr({}),l[i]=a,l[o]=c,s.add.push(l)):c===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==c&&(l[o]=c,s.mod.push(l));return s.modifies(t)}});function dQ(e){Ue.call(this,null,e)}dQ.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};_t(dQ,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=Yjt(a,i,o,e.filter||Ou)):n.mod=a,n.source=this.value,n.modifies(r)}});function Yjt(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,c;a<s;++a)for(o[t]=c=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(zr(o)),o={},o[t]=c);return i}const hme={kde:XZ,mixture:jDe,normal:YZ,lognormal:IDe,uniform:$De},Xjt="distributions",gme="function",Kjt="field";function YDe(e,t){const n=e[gme];Ut(hme,n)||Ge("Unknown distribution function: "+n);const r=hme[n]();for(const i in e)i===Kjt?r.data((e.from||t()).map(e[i])):i===Xjt?r[i](e[i].map(o=>YDe(o,t))):typeof r[i]===gme&&r[i](e[i]);return r}function fQ(e){Ue.call(this,null,e)}const XDe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Zjt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:XDe},{name:"weights",type:"number",array:!0}]};fQ.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:XDe.concat(Zjt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};_t(fQ,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=YDe(e.distribution,Qjt(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&Ge("Invalid density method: "+s),!e.extent&&!r.data&&Ge("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Jf(r.data()),c=J4(s,l,i,o).map(u=>{const d={};return d[a[0]]=u[0],d[a[1]]=u[1],zr(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function Qjt(e){return()=>e.materialize(e.SOURCE).source}function KDe(e,t){return e?e.map((n,r)=>t[r]||go(n)):null}function pQ(e,t,n){const r=[],i=d=>d(l);let o,s,a,l,c,u;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],c=t.map(i),u=o[c],u||(o[c]=u=[],u.dims=c,r.push(u)),u.push(n(l));return r}const ZDe="bin";function hQ(e){Ue.call(this,null,e)}hQ.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:ZDe}]};const Jjt=(e,t)=>DM(Jf(e,t))/30;_t(hQ,Ue,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=pQ(t.source,e.groupby,xa),i=e.smooth||!1,o=e.field,s=e.step||Jjt(n,o),a=ix((g,y)=>o(g)-o(y)),l=e.as||ZDe,c=r.length;let u=1/0,d=-1/0,f=0,p;for(;f<c;++f){const g=r[f].sort(a);p=-1;for(const y of DDe(g,s,i,o))y<u&&(u=y),y>d&&(d=y),g[++p][l]=y}return this.value={start:u,stop:d,step:s},t.reflow(!0).modifies(l)}});function QDe(e){yi.call(this,null,e5t,e),this.modified(!0)}_t(QDe,yi);function e5t(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Vl(n=>t(n,e),ga(t),go(t))}function gQ(e){Ue.call(this,[void 0,void 0],e)}gQ.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};_t(gQ,Ue,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=da(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=go(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function mQ(e,t){yi.call(this,e),this.parent=t,this.count=0}_t(mQ,yi,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function eL(e){Ue.call(this,{},e),this._keys=Y_();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}_t(eL,Ue,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Ut(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new mQ(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const c=dn(l),u=o.get(c);u!==void 0&&(o.delete(c),a(u).rem(l))}),t.visit(t.ADD,l=>{const c=r(l);o.set(dn(l),c),a(c).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const c=dn(l),u=o.get(c),d=r(l);u===d?a(d).mod(l):(o.set(c,d),a(u).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(dn(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const c=dn(l),u=o.get(c),d=r(l);u!==d&&(o.set(c,d),a(u).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function JDe(e){yi.call(this,null,t5t,e)}_t(JDe,yi);function t5t(e){return this.value&&!e.modified()?this.value:Je(e.name)?Ft(e.name).map(t=>Du(t)):Du(e.name,e.as)}function yQ(e){Ue.call(this,Y_(),e)}yQ.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};_t(yQ,Ue,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let c=!0;t.visit(t.REM,d=>{const f=dn(d);r.has(f)?r.delete(f):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?o.push(d):r.set(dn(d),1)});function u(d){const f=dn(d),p=l(d,e),g=r.get(f);p&&g?(r.delete(f),o.push(d)):!p&&!g?(r.set(f,1),s.push(d)):c&&p&&!g&&a.push(d)}return t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function vQ(e){Ue.call(this,[],e)}vQ.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};_t(vQ,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=KDe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(g=>g(a)),c=l.reduce((g,y)=>Math.max(g,y.length),0);let u=0,d,f,p;for(;u<c;++u){for(f=BZ(a),d=0;d<s;++d)f[i[d]]=(p=l[d][u])==null?null:p;o&&(f[o]=u),n.add.push(f)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function bQ(e){Ue.call(this,[],e)}bQ.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};_t(bQ,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(go),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let u=0,d;u<l;++u)d=BZ(c),d[s]=i[u],d[a]=r[u](c),n.add.push(d)}),this.value=n.source=n.add,n.modifies(o)}});function xQ(e){Ue.call(this,null,e)}xQ.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};_t(xQ,Ue,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function eOe(e){Ue.call(this,[],e)}_t(eOe,Ue,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=zr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const oO={value:"value",median:EPe,mean:LDt,min:bW,max:$v},n5t=[];function wQ(e){Ue.call(this,[],e)}wQ.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function r5t(e){var t=e.method||oO.value,n;if(oO[t]==null)Ge("Unrecognized imputation method: "+t);else return t===oO.value?(n=e.value!==void 0?e.value:0,()=>n):oO[t]}function i5t(e){const t=e.field;return n=>n?t(n):NaN}_t(wQ,Ue,{transform(e,t){var n=t.fork(t.ALL),r=r5t(e),i=i5t(e),o=go(e.field),s=go(e.key),a=(e.groupby||[]).map(go),l=o5t(t.source,e.groupby,e.key,e.keyvals),c=[],u=this.value,d=l.domain.length,f,p,g,y,v,x,w,S,C,k;for(v=0,S=l.length;v<S;++v)for(f=l[v],g=f.values,p=NaN,w=0;w<d;++w)if(f[w]==null){for(y=l.domain[w],k={_impute:!0},x=0,C=g.length;x<C;++x)k[a[x]]=g[x];k[s]=y,k[o]=Number.isNaN(p)?p=r(f,i):p,c.push(zr(k))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),u.length&&(n.rem=n.materialize(n.REM).rem.concat(u)),this.value=c,n}});function o5t(e,t,n,r){var i=x=>x(v),o=[],s=r?r.slice():[],a={},l={},c,u,d,f,p,g,y,v;for(s.forEach((x,w)=>a[x]=w+1),f=0,y=e.length;f<y;++f)v=e[f],g=n(v),p=a[g]||(a[g]=s.push(g)),u=(c=t?t.map(i):n5t)+"",(d=l[u])||(d=l[u]=[],o.push(d),d.values=c),d[p-1]=v;return o.domain=s,o}function SQ(e){u0.call(this,e)}SQ.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:jM},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};_t(SQ,u0,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Wn(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function _Q(e){Ue.call(this,null,e)}_Q.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};_t(_Q,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=pQ(r,e.groupby,e.field),o=(e.groupby||[]).map(go),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],c=[];let u=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Ge("Invalid density method: "+a),e.resolve==="shared"&&(u||(u=Jf(r,e.field)),d=f=e.steps||f),i.forEach(p=>{const g=XZ(p,s)[a],y=e.counts?p.length:1,v=u||Jf(p);J4(g,v,d,f).forEach(x=>{const w={};for(let S=0;S<o.length;++S)w[o[S]]=p.dims[S];w[l[0]]=x[0],w[l[1]]=x[1]*y,c.push(zr(w))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function tOe(e){yi.call(this,null,s5t,e)}_t(tOe,yi);function s5t(e){return this.value&&!e.modified()?this.value:kZ(e.fields,e.flat)}function nOe(e){Ue.call(this,[],e),this._pending=null}_t(nOe,Ue,{transform(e,t){const n=t.dataflow;return this._pending?M9(this,t,this._pending):a5t(e)?t.StopPropagation:e.values?M9(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Ft(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>M9(this,t,Ft(r.data)))}});function a5t(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function M9(e,t,n){n.forEach(zr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function CQ(e){Ue.call(this,{},e)}CQ.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};_t(CQ,Ue,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,c=t,u=e.as,d,f,p;return i?(f=i.length,a>1&&!u&&Ge('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==a*f&&Ge('The "as" parameter has too few output field names.'),u=u||i.map(go),d=function(g){for(var y=0,v=0,x,w;y<a;++y)if(w=r.get(n[y](g)),w==null)for(x=0;x<f;++x,++v)g[u[v]]=o;else for(x=0;x<f;++x,++v)g[u[v]]=i[x](w)}):(u||Ge("Missing output field names."),d=function(g){for(var y=0,v;y<a;++y)v=r.get(n[y](g)),g[u[y]]=v??o}),s?c=t.reflow(!0):(p=n.some(g=>t.modified(g.fields)),l|=p?t.MOD:0),t.visit(l,d),c.modifies(u)}});function rOe(e){yi.call(this,null,l5t,e)}_t(rOe,yi);function l5t(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function iOe(e){yi.call(this,null,c5t,e)}_t(iOe,yi);function c5t(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function oOe(e){Ue.call(this,null,e)}_t(oOe,Ue,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function kQ(e){u0.call(this,e)}kQ.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:jM,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};_t(kQ,u0,{_transform:u0.prototype.transform,transform(e,t){return this._transform(u5t(e,t),t)}});function u5t(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=ga(n).concat(ga(r)),s=f5t(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>d5t(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function d5t(e,t,n,r){return Vl(i=>t(i)===e?n(i):NaN,r,e+"")}function f5t(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(G_),t?i.slice(0,t):i}function sOe(e){eL.call(this,e)}_t(sOe,eL,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(dn(o),n,t,o);return(e.modified("field")||r&&t.modified(ga(r)))&&Ge("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(zr(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function EQ(e){Ue.call(this,null,e)}EQ.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};_t(EQ,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=KDe(e.fields,e.as||[]),o=r?(a,l)=>p5t(a,l,r,i):q4;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=dn(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,zr({}));s[dn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[dn(a)]))}),n}});function p5t(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function aOe(e){Ue.call(this,null,e)}_t(aOe,Ue,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function TQ(e){Ue.call(this,null,e)}TQ.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const h5t=1e-14;_t(TQ,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=pQ(i,e.groupby,e.field),s=(e.groupby||[]).map(go),a=[],l=e.step||.01,c=e.probs||hc(l/2,1-h5t,l),u=c.length;return o.forEach(d=>{const f=HZ(d,c);for(let p=0;p<u;++p){const g={};for(let y=0;y<s.length;++y)g[s[y]]=d.dims[y];g[r[0]]=c[p],g[r[1]]=f[p],a.push(zr(g))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function lOe(e){Ue.call(this,null,e)}_t(lOe,Ue,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=dn(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=BZ(i);r[dn(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[dn(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function RQ(e){Ue.call(this,[],e),this.count=0}RQ.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};_t(RQ,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((u,d)=>(u[dn(d)]=1,u),{});let s=this.value,a=this.count,l=0;function c(u){let d,f;s.length<i?s.push(u):(f=~~((a+1)*ju()),f<s.length&&f>=l&&(d=s[f],o[dn(d)]&&n.rem.push(d),s[f]=u)),++a}if(t.rem.length&&(t.visit(t.REM,u=>{const d=dn(u);o[d]&&(o[d]=-1,n.rem.push(u)),--a}),s=s.filter(u=>o[dn(u)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,u=>{o[dn(u)]||c(u)}),l=-1),r&&s.length>i){const u=s.length-i;for(let d=0;d<u;++d)o[dn(s[d])]=-1,n.rem.push(s[d]);s=s.slice(u)}return t.mod.length&&t.visit(t.MOD,u=>{o[dn(u)]&&n.mod.push(u)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||l<0)&&(n.add=s.filter(u=>!o[dn(u)])),this.count=a,this.value=n.source=s,n}});function MQ(e){Ue.call(this,null,e)}MQ.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};_t(MQ,Ue,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=hc(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,zr(o)}),n.add=t.add.concat(this.value),n}});function cOe(e){Ue.call(this,null,e),this.modified(!0)}_t(cOe,Ue,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function AQ(e){Ue.call(this,null,e)}const uOe=["unit0","unit1"];AQ.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:DZ,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:uOe}]};_t(AQ,Ue,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?J_:Q_)(o.unit).offset,a=e.as||uOe,l=a[0],c=a[1],u=o.step;let d=o.start||1/0,f=o.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(ga(n)))&&(t=t.reflow(!0),p=t.SOURCE,d=1/0,f=-1/0),t.visit(p,g=>{const y=n(g);let v,x;y==null?(g[l]=null,r&&(g[c]=null)):(g[l]=v=x=o(y),r&&(g[c]=x=s(v,u)),v<d&&(d=v),x>f&&(f=x))}),o.start=d,o.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:eDe({extent:e.extent||Jf(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=OZ(r),s=this.value||{},a=(n?WPe:HPe)(o,i);return a.unit=br(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function dOe(e){Ue.call(this,Y_(),e)}_t(dOe,Ue,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function fOe(e){Ue.call(this,null,e)}_t(fOe,Ue,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(ix(e.sort)):t.source).map(e.field))}});function g5t(e,t,n,r){const i=UT[e](t,n);return{init:i.init||hm,update:function(o,s){s[r]=i.next(o)}}}const UT={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=UT.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Ge("ntile num must be greater than zero.");const n=UT.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Ge("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=m5t(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function m5t(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const y5t=Object.keys(UT);function pOe(e){const t=Ft(e.ops),n=Ft(e.fields),r=Ft(e.params),i=Ft(e.aggregate_params),o=Ft(e.as),s=this.outputs=[],a=this.windows=[],l={},c={},u=[],d=[];let f=!0;function p(g){Ft(ga(g)).forEach(y=>l[y]=1)}p(e.sort),t.forEach((g,y)=>{const v=n[y],x=r[y],w=i[y]||null,S=go(v),C=UDe(g,S,o[y]);if(p(v),s.push(C),Ut(UT,g))a.push(g5t(g,v,x,C));else{if(v==null&&g!=="count"&&Ge("Null aggregate field specified."),g==="count"){u.push(C);return}f=!1;let k=c[S];k||(k=c[S]=[],k.field=v,d.push(k)),k.push(VDe(g,w,C))}}),(u.length||d.length)&&(this.cell=v5t(d,u,f)),this.inputs=Object.keys(l)}const hOe=pOe.prototype;hOe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};hOe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function v5t(e,t,n){e=e.map(l=>WDe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new aQ;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let c=0;c<i;++c)o[c].add(o[c].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let c=0;c<i;++c)o[c].rem(o[c].get(l),l)}},r.set=function(l){let c,u;for(a&&a.values(),c=0,u=t.length;c<u;++c)l[t[c]]=r.num;if(!n)for(c=0,u=o.length;c<u;++c)o[c].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function PQ(e){Ue.call(this,{},e),this._mlen=0,this._mods=[]}PQ.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:y5t.concat(jM)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};_t(PQ,Ue,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=ix(e.sort),i=AW(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new pOe(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)b5t(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=qDe(dn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function b5t(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,c=o?X_(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||wa(-1)};t.init();for(let d=0;d<l;++d)x5t(u,s,d,l),o&&w5t(u,c),t.update(u,a[d])}function x5t(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function w5t(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const S5t=Object.freeze(Object.defineProperty({__proto__:null,aggregate:u0,bin:lQ,collect:cQ,compare:GDe,countpattern:uQ,cross:dQ,density:fQ,dotbin:hQ,expression:QDe,extent:gQ,facet:eL,field:JDe,filter:yQ,flatten:vQ,fold:bQ,formula:xQ,generate:eOe,impute:wQ,joinaggregate:SQ,kde:_Q,key:tOe,load:nOe,lookup:CQ,multiextent:rOe,multivalues:iOe,params:oOe,pivot:kQ,prefacet:sOe,project:EQ,proxy:aOe,quantile:TQ,relay:lOe,sample:RQ,sequence:MQ,sieve:cOe,subflow:mQ,timeunit:AQ,tupleindex:dOe,values:fOe,window:PQ},Symbol.toStringTag,{value:"Module"}));function Hr(e){return function(){return e}}const mme=Math.abs,Qs=Math.atan2,Cy=Math.cos,_5t=Math.max,A9=Math.min,df=Math.sin,mv=Math.sqrt,ra=1e-12,DS=Math.PI,p$=DS/2,gOe=2*DS;function C5t(e){return e>1?0:e<-1?DS:Math.acos(e)}function yme(e){return e>=1?p$:e<=-1?-p$:Math.asin(e)}const PW=Math.PI,DW=2*PW,Hy=1e-6,k5t=DW-Hy;function mOe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function E5t(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mOe;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let DQ=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mOe:E5t(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,c=i-n,u=s-t,d=a-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Hy)if(!(Math.abs(d*l-c*u)>Hy)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,g=i-a,y=l*l+c*c,v=p*p+g*g,x=Math.sqrt(y),w=Math.sqrt(f),S=o*Math.tan((PW-Math.acos((y+f-v)/(2*x*w)))/2),C=S/w,k=S/x;Math.abs(C-1)>Hy&&this._append`L${t+C*u},${n+C*d}`,this._append`A${o},${o},0,0,${+(d*p>u*g)},${this._x1=t+k*l},${this._y1=n+k*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,u=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Hy||Math.abs(this._y1-u)>Hy)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%DW+DW),f>k5t?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Hy&&this._append`A${r},${r},0,${+(f>=PW)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function tL(){return new DQ}tL.prototype=DQ.prototype;function nL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new DQ(t)}function T5t(e){return e.innerRadius}function R5t(e){return e.outerRadius}function M5t(e){return e.startAngle}function A5t(e){return e.endAngle}function P5t(e){return e&&e.padAngle}function D5t(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,d=a-o,f=d*l-u*c;if(!(f*f<ra))return f=(u*(t-o)-d*(e-i))/f,[e+f*l,t+f*c]}function sO(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/mv(a*a+l*l),u=c*l,d=-c*a,f=e+u,p=t+d,g=n+u,y=r+d,v=(f+g)/2,x=(p+y)/2,w=g-f,S=y-p,C=w*w+S*S,k=i-o,T=f*y-g*p,E=(S<0?-1:1)*mv(_5t(0,k*k*C-T*T)),A=(T*S-w*E)/C,O=(-T*w-S*E)/C,I=(T*S+w*E)/C,j=(-T*w+S*E)/C,P=A-v,$=O-x,D=I-v,F=j-x;return P*P+$*$>D*D+F*F&&(A=I,O=j),{cx:A,cy:O,x01:-u,y01:-d,x11:A*(i/k-1),y11:O*(i/k-1)}}function O5t(){var e=T5t,t=R5t,n=Hr(0),r=null,i=M5t,o=A5t,s=P5t,a=null,l=nL(c);function c(){var u,d,f=+e.apply(this,arguments),p=+t.apply(this,arguments),g=i.apply(this,arguments)-p$,y=o.apply(this,arguments)-p$,v=mme(y-g),x=y>g;if(a||(a=u=l()),p<f&&(d=p,p=f,f=d),!(p>ra))a.moveTo(0,0);else if(v>gOe-ra)a.moveTo(p*Cy(g),p*df(g)),a.arc(0,0,p,g,y,!x),f>ra&&(a.moveTo(f*Cy(y),f*df(y)),a.arc(0,0,f,y,g,x));else{var w=g,S=y,C=g,k=y,T=v,E=v,A=s.apply(this,arguments)/2,O=A>ra&&(r?+r.apply(this,arguments):mv(f*f+p*p)),I=A9(mme(p-f)/2,+n.apply(this,arguments)),j=I,P=I,$,D;if(O>ra){var F=yme(O/f*df(A)),N=yme(O/p*df(A));(T-=F*2)>ra?(F*=x?1:-1,C+=F,k-=F):(T=0,C=k=(g+y)/2),(E-=N*2)>ra?(N*=x?1:-1,w+=N,S-=N):(E=0,w=S=(g+y)/2)}var V=p*Cy(w),H=p*df(w),U=f*Cy(k),G=f*df(k);if(I>ra){var z=p*Cy(S),W=p*df(S),X=f*Cy(C),Q=f*df(C),ee;if(v<DS)if(ee=D5t(V,H,X,Q,z,W,U,G)){var ne=V-ee[0],oe=H-ee[1],ce=z-ee[0],re=W-ee[1],ge=1/df(C5t((ne*ce+oe*re)/(mv(ne*ne+oe*oe)*mv(ce*ce+re*re)))/2),he=mv(ee[0]*ee[0]+ee[1]*ee[1]);j=A9(I,(f-he)/(ge-1)),P=A9(I,(p-he)/(ge+1))}else j=P=0}E>ra?P>ra?($=sO(X,Q,V,H,p,P,x),D=sO(z,W,U,G,p,P,x),a.moveTo($.cx+$.x01,$.cy+$.y01),P<I?a.arc($.cx,$.cy,P,Qs($.y01,$.x01),Qs(D.y01,D.x01),!x):(a.arc($.cx,$.cy,P,Qs($.y01,$.x01),Qs($.y11,$.x11),!x),a.arc(0,0,p,Qs($.cy+$.y11,$.cx+$.x11),Qs(D.cy+D.y11,D.cx+D.x11),!x),a.arc(D.cx,D.cy,P,Qs(D.y11,D.x11),Qs(D.y01,D.x01),!x))):(a.moveTo(V,H),a.arc(0,0,p,w,S,!x)):a.moveTo(V,H),!(f>ra)||!(T>ra)?a.lineTo(U,G):j>ra?($=sO(U,G,z,W,f,-j,x),D=sO(V,H,X,Q,f,-j,x),a.lineTo($.cx+$.x01,$.cy+$.y01),j<I?a.arc($.cx,$.cy,j,Qs($.y01,$.x01),Qs(D.y01,D.x01),!x):(a.arc($.cx,$.cy,j,Qs($.y01,$.x01),Qs($.y11,$.x11),!x),a.arc(0,0,f,Qs($.cy+$.y11,$.cx+$.x11),Qs(D.cy+D.y11,D.cx+D.x11),x),a.arc(D.cx,D.cy,j,Qs(D.y11,D.x11),Qs(D.y01,D.x01),!x))):a.arc(0,0,f,k,C,x)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-DS/2;return[Cy(d)*u,df(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Hr(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Hr(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Hr(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Hr(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Hr(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Hr(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Hr(+u),c):s},c.context=function(u){return arguments.length?(a=u??null,c):a},c}function yOe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vOe(e){this._context=e}vOe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function OQ(e){return new vOe(e)}function bOe(e){return e[0]}function xOe(e){return e[1]}function wOe(e,t){var n=Hr(!0),r=null,i=OQ,o=null,s=nL(a);e=typeof e=="function"?e:e===void 0?bOe:Hr(e),t=typeof t=="function"?t:t===void 0?xOe:Hr(t);function a(l){var c,u=(l=yOe(l)).length,d,f=!1,p;for(r==null&&(o=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Hr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Hr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Hr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function SOe(e,t,n){var r=null,i=Hr(!0),o=null,s=OQ,a=null,l=nL(c);e=typeof e=="function"?e:e===void 0?bOe:Hr(+e),t=typeof t=="function"?t:Hr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xOe:Hr(+n);function c(d){var f,p,g,y=(d=yOe(d)).length,v,x=!1,w,S=new Array(y),C=new Array(y);for(o==null&&(a=s(w=l())),f=0;f<=y;++f){if(!(f<y&&i(v=d[f],f,d))===x)if(x=!x)p=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=f-1;g>=p;--g)a.point(S[g],C[g]);a.lineEnd(),a.areaEnd()}x&&(S[f]=+e(v,f,d),C[f]=+t(v,f,d),a.point(r?+r(v,f,d):S[f],n?+n(v,f,d):C[f]))}if(w)return a=null,w+""||null}function u(){return wOe().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Hr(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Hr(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Hr(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Hr(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Hr(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Hr(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Hr(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}const I5t={draw(e,t){const n=mv(t/DS);e.moveTo(n,0),e.arc(0,0,n,0,gOe)}};function j5t(e,t){let n=null,r=nL(i);e=typeof e=="function"?e:Hr(e||I5t),t=typeof t=="function"?t:Hr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Hr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Hr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function d0(){}function h$(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function rL(e){this._context=e}rL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h$(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5t(e){return new rL(e)}function _Oe(e){this._context=e}_Oe.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:h$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F5t(e){return new _Oe(e)}function COe(e){this._context=e}COe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:h$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L5t(e){return new COe(e)}function kOe(e,t){this._basis=new rL(e),this._beta=t}kOe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const N5t=(function e(t){function n(r){return t===1?new rL(r):new kOe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function g$(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function IQ(e,t){this._context=e,this._k=(1-t)/6}IQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:g$(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:g$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const z5t=(function e(t){function n(r){return new IQ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function jQ(e,t){this._context=e,this._k=(1-t)/6}jQ.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:g$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const B5t=(function e(t){function n(r){return new jQ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function $Q(e,t){this._context=e,this._k=(1-t)/6}$Q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:g$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const U5t=(function e(t){function n(r){return new $Q(r,t)}return n.tension=function(r){return e(+r)},n})(0);function FQ(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>ra){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>ra){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function EOe(e,t){this._context=e,this._alpha=t}EOe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:FQ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const V5t=(function e(t){function n(r){return t?new EOe(r,t):new IQ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function TOe(e,t){this._context=e,this._alpha=t}TOe.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:FQ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const H5t=(function e(t){function n(r){return t?new TOe(r,t):new jQ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function ROe(e,t){this._context=e,this._alpha=t}ROe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:FQ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const W5t=(function e(t){function n(r){return t?new ROe(r,t):new $Q(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function MOe(e){this._context=e}MOe.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function q5t(e){return new MOe(e)}function vme(e){return e<0?-1:1}function bme(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(vme(o)+vme(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function xme(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function P9(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function m$(e){this._context=e}m$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:P9(this,this._t0,xme(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,P9(this,xme(this,n=bme(this,e,t)),n);break;default:P9(this,this._t0,n=bme(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function AOe(e){this._context=new POe(e)}(AOe.prototype=Object.create(m$.prototype)).point=function(e,t){m$.prototype.point.call(this,t,e)};function POe(e){this._context=e}POe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function G5t(e){return new m$(e)}function Y5t(e){return new AOe(e)}function DOe(e){this._context=e}DOe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=wme(e),i=wme(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wme(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function X5t(e){return new DOe(e)}function iL(e,t){this._context=e,this._t=t}iL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function K5t(e){return new iL(e,.5)}function Z5t(e){return new iL(e,0)}function Q5t(e){return new iL(e,1)}function Vm(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const J5t=()=>typeof Image<"u"?Image:null;function pp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function F0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const OW=Symbol("implicit");function LQ(){var e=new Lge,t=[],n=[],r=OW;function i(o){let s=e.get(o);if(s===void 0){if(r!==OW)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Lge;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return LQ(t,n).unknown(r)},pp.apply(i,arguments),i}function e$t(e){return function(){return e}}function IW(e){return+e}var Sme=[0,1];function _l(e){return e}function jW(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:e$t(isNaN(t)?NaN:.5)}function t$t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function n$t(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=jW(i,r),o=n(s,o)):(r=jW(r,i),o=n(o,s)),function(a){return o(r(a))}}function r$t(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=jW(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=l0(e,a,1,r)-1;return o[l](i[l](a))}}function $M(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oL(){var e=Sme,t=Sme,n=Ed,r,i,o,s=_l,a,l,c;function u(){var f=Math.min(e.length,t.length);return s!==_l&&(s=t$t(e[0],e[f-1])),a=f>2?r$t:n$t,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((c||(c=a(t,e.map(r),su)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,IW),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=PR,u()},d.clamp=function(f){return arguments.length?(s=f?!0:_l,u()):s!==_l},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return r=f,i=p,u()}}function OOe(){return oL()(_l,_l)}function IOe(e,t,n,r){var i=c0(e,t,n),o;switch(r=fb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=DPe(i,s))&&(r.precision=o),AZ(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=OPe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=PPe(i))&&(r.precision=o-(r.type==="%")*2);break}}return F4(r)}function sx(e){var t=e.domain;return e.ticks=function(n){var r=t();return yW(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return IOe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=vW(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function jOe(){var e=OOe();return e.copy=function(){return $M(e,jOe())},pp.apply(e,arguments),sx(e)}function $Oe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,IW),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $Oe(e).unknown(t)},e=arguments.length?Array.from(e,IW):[0,1],sx(n)}function FOe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function _me(e){return Math.log(e)}function Cme(e){return Math.exp(e)}function i$t(e){return-Math.log(-e)}function o$t(e){return-Math.exp(-e)}function s$t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a$t(e){return e===10?s$t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function l$t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kme(e){return(t,n)=>-e(-t,n)}function NQ(e){const t=e(_me,Cme),n=t.domain;let r=10,i,o;function s(){return i=l$t(r),o=a$t(r),n()[0]<0?(i=kme(i),o=kme(o),e(i$t,o$t)):e(_me,Cme),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),g,y;const v=a==null?10:+a;let x=[];if(!(r%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(g=1;g<r;++g)if(y=f<0?g/o(-f):g*o(f),!(y<c)){if(y>u)break;x.push(y)}}else for(;f<=p;++f)for(g=r-1;g>=1;--g)if(y=f>0?g/o(-f):g*o(f),!(y<c)){if(y>u)break;x.push(y)}x.length*2<v&&(x=yW(c,u,v))}else x=yW(f,p,Math.min(p-f,v)).map(o);return d?x.reverse():x},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=fb(l)).precision==null&&(l.trim=!0),l=F4(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(FOe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function LOe(){const e=NQ(oL()).domain([1,10]);return e.copy=()=>$M(e,LOe()).base(e.base()),pp.apply(e,arguments),e}function Eme(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Tme(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zQ(e){var t=1,n=e(Eme(t),Tme(t));return n.constant=function(r){return arguments.length?e(Eme(t=+r),Tme(t)):t},sx(n)}function NOe(){var e=zQ(oL());return e.copy=function(){return $M(e,NOe()).constant(e.constant())},pp.apply(e,arguments)}function Rme(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function c$t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u$t(e){return e<0?-e*e:e*e}function BQ(e){var t=e(_l,_l),n=1;function r(){return n===1?e(_l,_l):n===.5?e(c$t,u$t):e(Rme(n),Rme(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},sx(t)}function UQ(){var e=BQ(oL());return e.copy=function(){return $M(e,UQ()).exponent(e.exponent())},pp.apply(e,arguments),e}function d$t(){return UQ.apply(null,arguments).exponent(.5)}function zOe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=kPe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[l0(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Mh),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return zOe().domain(e).range(t).unknown(r)},pp.apply(o,arguments)}function BOe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[l0(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return BOe().domain([e,t]).range(i).unknown(o)},pp.apply(sx(s),arguments)}function UOe(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[l0(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return UOe().domain(e).range(t).unknown(n)},pp.apply(i,arguments)}function f$t(e){return new Date(e)}function p$t(e){return e instanceof Date?+e:+new Date(+e)}function VQ(e,t,n,r,i,o,s,a,l,c){var u=OOe(),d=u.invert,f=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),w=c("%b %d"),S=c("%B"),C=c("%Y");function k(T){return(l(T)<T?p:a(T)<T?g:s(T)<T?y:o(T)<T?v:r(T)<T?i(T)<T?x:w:n(T)<T?S:C)(T)}return u.invert=function(T){return new Date(d(T))},u.domain=function(T){return arguments.length?f(Array.from(T,p$t)):f().map(f$t)},u.ticks=function(T){var E=f();return e(E[0],E[E.length-1],T??10)},u.tickFormat=function(T,E){return E==null?k:c(E)},u.nice=function(T){var E=f();return(!T||typeof T.range!="function")&&(T=t(E[0],E[E.length-1],T??10)),T?f(FOe(E,T)):u},u.copy=function(){return $M(u,VQ(e,t,n,r,i,o,s,a,l,c))},u}function h$t(){return pp.apply(VQ(sOt,aOt,ep,LT,K_,Ah,z4,L4,bh,jZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g$t(){return pp.apply(VQ(iOt,oOt,tp,NT,Z_,Bm,B4,N4,bh,$Z).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sL(){var e=0,t=1,n,r,i,o,s=_l,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(f){var p,g;return arguments.length?([p,g]=f,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(Ed),c.rangeRound=u(PR),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function L0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HQ(){var e=sx(sL()(_l));return e.copy=function(){return L0(e,HQ())},F0.apply(e,arguments)}function VOe(){var e=NQ(sL()).domain([1,10]);return e.copy=function(){return L0(e,VOe()).base(e.base())},F0.apply(e,arguments)}function HOe(){var e=zQ(sL());return e.copy=function(){return L0(e,HOe()).constant(e.constant())},F0.apply(e,arguments)}function WQ(){var e=BQ(sL());return e.copy=function(){return L0(e,WQ()).exponent(e.exponent())},F0.apply(e,arguments)}function m$t(){return WQ.apply(null,arguments).exponent(.5)}function aL(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,c=_l,u,d=!1,f;function p(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-o)*(r*y<r*o?a:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,n]=y,i=u(e=+e),o=u(t=+t),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(v){var x,w,S;return arguments.length?([x,w,S]=v,c=PY(y,[x,w,S]),p):[c(0),c(.5),c(1)]}}return p.range=g(Ed),p.rangeRound=g(PR),p.unknown=function(y){return arguments.length?(f=y,p):f},function(y){return u=y,i=y(e),o=y(t),s=y(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function WOe(){var e=sx(aL()(_l));return e.copy=function(){return L0(e,WOe())},F0.apply(e,arguments)}function qOe(){var e=NQ(aL()).domain([.1,1,10]);return e.copy=function(){return L0(e,qOe()).base(e.base())},F0.apply(e,arguments)}function GOe(){var e=zQ(aL());return e.copy=function(){return L0(e,GOe()).constant(e.constant())},F0.apply(e,arguments)}function qQ(){var e=BQ(aL());return e.copy=function(){return L0(e,qQ()).exponent(e.exponent())},F0.apply(e,arguments)}function y$t(){return qQ.apply(null,arguments).exponent(.5)}function Hl(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const v$t=Hl("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),b$t=Hl("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),x$t=Hl("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),w$t=Hl("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),S$t=Hl("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_$t=Hl("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),C$t=Hl("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),k$t=Hl("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),E$t=Hl("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),T$t=Hl("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),lL=e=>YSe(e[e.length-1]);var R$t=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Hl);const M$t=lL(R$t);var A$t=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Hl);const P$t=lL(A$t);var D$t=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Hl);const YOe=lL(D$t);var O$t=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Hl);const I$t=lL(O$t);function GQ(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const j$t="identity",OS="linear",Qh="log",FM="pow",LM="sqrt",cL="symlog",pb="time",hb="utc",Vf="sequential",tC="diverging",IS="quantile",uL="quantize",dL="threshold",YQ="ordinal",$W="point",XOe="band",XQ="bin-ordinal",us="continuous",NM="discrete",zM="discretizing",Uu="interpolating",KQ="temporal";function $$t(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function F$t(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,c;for(i<r&&(a=r,r=i,i=a),l=0,c=n.length;l<c;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function ZQ(){const e=LQ().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,c=.5;delete e.unknown;function u(){const d=t().length,f=r[1]<r[0],p=r[1-f],g=GQ(d,a,l);let y=r[f-0];i=(p-y)/(g||1),s&&(i=Math.floor(i)),y+=(p-y-i*(d-a))*c,o=i*(1-a),s&&(y=Math.round(y),o=Math.round(o));const v=hc(d).map(x=>y+i*x);return n(f?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],u()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,u()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,u()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),u()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),u()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),u()):c},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],p=f?n().reverse():n(),g=p.length-1;let y=+d[0],v=+d[1],x,w,S;if(!(y!==y||v!==v)&&(v<y&&(S=y,y=v,v=S),!(v<p[0]||y>r[1-f])))return x=Math.max(0,l0(p,y)-1),w=y===v?x:l0(p,v)-1,y-p[x]>o+1e-10&&++x,f&&(S=x,x=g-w,w=g-S),x>w?void 0:t().slice(x,w+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return ZQ().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(c)},u()}function KOe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return KOe(t())},e}function L$t(){return KOe(ZQ().paddingInner(1))}var N$t=Array.prototype.map;function z$t(e){return N$t.call(e,da)}const B$t=Array.prototype.slice;function ZOe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(l0(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=z$t(r),n):e.slice()},n.range=function(r){return arguments.length?(t=B$t.call(r),n):t.slice()},n.tickFormat=function(r,i){return IOe(e[0],br(e),r??10,i)},n.copy=function(){return ZOe().domain(n.domain()).range(n.range())},n}const y$=new Map,QOe=Symbol("vega_scale");function JOe(e){return e[QOe]=!0,e}function Mme(e){return e&&e[QOe]===!0}function U$t(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?$$t(o):o.invertExtent?F$t(o):void 0),o.type=e,JOe(o)};return r.metadata=Od(Ft(n)),r}function jr(e,t,n){return arguments.length>1?(y$.set(e,U$t(e,t,n)),this):eIe(e)?y$.get(e):void 0}jr(j$t,$Oe);jr(OS,jOe,us);jr(Qh,LOe,[us,Qh]);jr(FM,UQ,us);jr(LM,d$t,us);jr(cL,NOe,us);jr(pb,h$t,[us,KQ]);jr(hb,g$t,[us,KQ]);jr(Vf,HQ,[us,Uu]);jr(`${Vf}-${OS}`,HQ,[us,Uu]);jr(`${Vf}-${Qh}`,VOe,[us,Uu,Qh]);jr(`${Vf}-${FM}`,WQ,[us,Uu]);jr(`${Vf}-${LM}`,m$t,[us,Uu]);jr(`${Vf}-${cL}`,HOe,[us,Uu]);jr(`${tC}-${OS}`,WOe,[us,Uu]);jr(`${tC}-${Qh}`,qOe,[us,Uu,Qh]);jr(`${tC}-${FM}`,qQ,[us,Uu]);jr(`${tC}-${LM}`,y$t,[us,Uu]);jr(`${tC}-${cL}`,GOe,[us,Uu]);jr(IS,zOe,[zM,IS]);jr(uL,BOe,zM);jr(dL,UOe,zM);jr(XQ,ZOe,[NM,zM]);jr(YQ,LQ,NM);jr(XOe,ZQ,NM);jr($W,L$t,NM);function eIe(e){return y$.has(e)}function ax(e,t){const n=y$.get(e);return n&&n.metadata[t]}function QQ(e){return ax(e,us)}function jS(e){return ax(e,NM)}function FW(e){return ax(e,zM)}function tIe(e){return ax(e,Qh)}function V$t(e){return ax(e,KQ)}function nIe(e){return ax(e,Uu)}function rIe(e){return ax(e,IS)}const H$t=["clamp","base","constant","exponent"];function iIe(e,t){const n=t[0],r=br(t)-n;return function(i){return e(n+i*r)}}function fL(e,t,n){return PY(JQ(t||"rgb",n),e)}function oIe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function sIe(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?wa(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=jr(o)().domain([t,n]).range([0,1]),H$t.forEach(a=>e[a]?s[a](e[a]()):0),s)}function JQ(e,t){const n=dYe[W$t(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function W$t(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const q$t={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},G$t={accent:b$t,category10:v$t,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:x$t,observable10:w$t,paired:S$t,pastel1:_$t,pastel2:C$t,set1:k$t,set2:E$t,set3:T$t,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function aIe(e){if(Je(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function lIe(e,t){for(const n in e)eJ(n,t(e[n]))}const Ame={};lIe(G$t,aIe);lIe(q$t,e=>fL(aIe(e)));function eJ(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ame[e]=t,this):Ame[e]}const oj="symbol",Y$t="discrete",X$t="gradient",K$t=e=>Je(e)?e.map(t=>String(t)):String(e),Z$t=(e,t)=>e[1]-t[1],Q$t=(e,t)=>t[1]-e[1];function tJ(e,t,n){let r;return Or(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(DM(e.domain())/n||1)+1))),It(t)&&(r=t.step,t=t.interval),jt(t)&&(t=e.type===pb?Q_(t):e.type==hb?J_(t):Ge("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function cIe(e,t,n){let r=e.range(),i=r[0],o=br(r),s=Z$t;if(i>o&&(r=o,o=i,i=r,s=Q$t),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],br(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,c)=>!(c%2));t.length<3&&(t=a)}return t}function nJ(e,t){return e.bins?cIe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function uIe(e,t,n,r,i,o){const s=t.type;let a=K$t;if(s===pb||i===pb)a=e.timeFormat(r);else if(s===hb||i===hb)a=e.utcFormat(r);else if(tIe(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const c=dIe(t,n,!1);a=u=>c(u)?l(u):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function dIe(e,t,n){const r=nJ(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let c=l/Math.pow(i,Math.round(Math.log(l)/o));return c*i<i-.5&&(c*=i),c<=s};return n?r.filter(a):a}const LW={[IS]:"quantiles",[uL]:"thresholds",[dL]:"domain"},fIe={[IS]:"quantiles",[uL]:"domain"};function pIe(e,t){return e.bins?t3t(e.bins):e.type===Qh?dIe(e,t,!0):LW[e.type]?e3t(e[LW[e.type]]()):nJ(e,t)}function J$t(e,t,n){const r=t[fIe[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,30,n)}function e3t(e){const t=[-1/0].concat(e);return t.max=1/0,t}function t3t(e){const t=e.slice(0,-1);return t.max=br(e),t}const n3t=e=>LW[e.type]||e.bins;function hIe(e,t,n,r,i,o,s){const a=fIe[t.type]&&o!==pb&&o!==hb?J$t(e,t,i):uIe(e,t,n,i,o,s);return r===oj&&n3t(t)?r3t(a):r===Y$t?i3t(a):o3t(a)}const r3t=e=>(t,n,r)=>{const i=Pme(r[n+1],Pme(r.max,1/0)),o=Dme(t,e),s=Dme(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},Pme=(e,t)=>e??t,i3t=e=>(t,n)=>n?e(t):null,o3t=e=>t=>e(t),Dme=(e,t)=>Number.isFinite(e)?t(e):null;function s3t(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+br(t),o=i-r;if(e.type===dL){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function a3t(e,t,n,r){const i=r||t.type;return jt(n)&&V$t(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===pb?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===hb?e.utcFormat("%A, %d %B %Y, %X UTC"):hIe(e,t,5,null,n,r,!0)}function gIe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=a3t(e,t,n.format,n.formatType);if(FW(t.type)){const o=pIe(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(jS(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(br(o))}`}}let mIe=0;function l3t(){mIe=0}const v$="p_";function rJ(e){return e&&e.gradient}function yIe(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?v$:"";return i||(i=e.id="gradient_"+mIe++,r==="radial"?(e.x1=ff(e.x1,.5),e.y1=ff(e.y1,.5),e.r1=ff(e.r1,0),e.x2=ff(e.x2,.5),e.y2=ff(e.y2,.5),e.r2=ff(e.r2,.5),o=v$):(e.x1=ff(e.x1,0),e.y1=ff(e.y1,0),e.x2=ff(e.x2,1),e.y2=ff(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function ff(e,t){return e??t}function vIe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const Ome={basis:{curve:$5t},"basis-closed":{curve:F5t},"basis-open":{curve:L5t},bundle:{curve:N5t,tension:"beta",value:.85},cardinal:{curve:z5t,tension:"tension",value:0},"cardinal-open":{curve:U5t,tension:"tension",value:0},"cardinal-closed":{curve:B5t,tension:"tension",value:0},"catmull-rom":{curve:V5t,tension:"alpha",value:.5},"catmull-rom-closed":{curve:H5t,tension:"alpha",value:.5},"catmull-rom-open":{curve:W5t,tension:"alpha",value:.5},linear:{curve:OQ},"linear-closed":{curve:q5t},monotone:{horizontal:Y5t,vertical:G5t},natural:{curve:X5t},step:{curve:K5t},"step-after":{curve:Q5t},"step-before":{curve:Z5t}};function iJ(e,t,n){var r=Ut(Ome,e)&&Ome[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const c3t={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},u3t=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,d3t=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,f3t=/^((\s+,?\s*)|(,\s*))/,p3t=/^[01]/;function $S(e){const t=[];return(e.match(u3t)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=c3t[o],a=h3t(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let c=s;c<l;c+=s)t.push([i,...a.slice(c,c+s)])}}),t}function h3t(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?p3t:d3t,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(f3t);l!==null&&(i+=l[0].length)}return r}const f0=Math.PI/180,g3t=1e-14,Jy=Math.PI/2,Ef=Math.PI*2,x1=Math.sqrt(3)/2;var D9={},O9={},bIe=[].join;function m3t(e,t,n,r,i,o,s,a,l){const c=bIe.call(arguments);if(D9[c])return D9[c];const u=s*f0,d=Math.sin(u),f=Math.cos(u);n=Math.abs(n),r=Math.abs(r);const p=f*(a-e)*.5+d*(l-t)*.5,g=f*(l-t)*.5-d*(a-e)*.5;let y=p*p/(n*n)+g*g/(r*r);y>1&&(y=Math.sqrt(y),n*=y,r*=y);const v=f/n,x=d/n,w=-d/r,S=f/r,C=v*a+x*l,k=w*a+S*l,T=v*e+x*t,E=w*e+S*t;let O=1/((T-C)*(T-C)+(E-k)*(E-k))-.25;O<0&&(O=0);let I=Math.sqrt(O);o==i&&(I=-I);const j=.5*(C+T)-I*(E-k),P=.5*(k+E)+I*(T-C),$=Math.atan2(k-P,C-j);let F=Math.atan2(E-P,T-j)-$;F<0&&o===1?F+=Ef:F>0&&o===0&&(F-=Ef);const N=Math.ceil(Math.abs(F/(Jy+.001))),V=[];for(let H=0;H<N;++H){const U=$+H*F/N,G=$+(H+1)*F/N;V[H]=[j,P,U,G,n,r,d,f]}return D9[c]=V}function y3t(e){const t=bIe.call(e);if(O9[t])return O9[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7];const u=c*s,d=-l*a,f=l*s,p=c*a,g=Math.cos(i),y=Math.sin(i),v=Math.cos(o),x=Math.sin(o),w=.5*(o-i),S=Math.sin(w*.5),C=8/3*S*S/Math.sin(w),k=n+g-C*y,T=r+y+C*g,E=n+v,A=r+x,O=E+C*x,I=A-C*v;return O9[t]=[u*k+d*T,f*k+p*T,u*O+d*I,f*O+p*I,u*E+d*A,f*E+p*A]}const Kc=["l",0,0,0,0,0,0,0];function v3t(e,t,n){const r=Kc[0]=e[0];if(r==="a"||r==="A")Kc[1]=t*e[1],Kc[2]=n*e[2],Kc[3]=e[3],Kc[4]=e[4],Kc[5]=e[5],Kc[6]=t*e[6],Kc[7]=n*e[7];else if(r==="h"||r==="H")Kc[1]=t*e[1];else if(r==="v"||r==="V")Kc[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Kc[i]=(i%2==1?t:n)*e[i];return Kc}function VT(e,t,n,r,i,o){var s,a=null,l=0,c=0,u=0,d=0,f,p,g,y,v=0,x=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var w=0,S=t.length;w<S;++w){switch(s=t[w],(i!==1||o!==1)&&(s=v3t(s,i,o)),s[0]){case"l":l+=s[1],c+=s[2],e.lineTo(l+n,c+r);break;case"L":l=s[1],c=s[2],e.lineTo(l+n,c+r);break;case"h":l+=s[1],e.lineTo(l+n,c+r);break;case"H":l=s[1],e.lineTo(l+n,c+r);break;case"v":c+=s[1],e.lineTo(l+n,c+r);break;case"V":c=s[1],e.lineTo(l+n,c+r);break;case"m":l+=s[1],c+=s[2],v=l,x=c,e.moveTo(l+n,c+r);break;case"M":l=s[1],c=s[2],v=l,x=c,e.moveTo(l+n,c+r);break;case"c":f=l+s[5],p=c+s[6],u=l+s[3],d=c+s[4],e.bezierCurveTo(l+s[1]+n,c+s[2]+r,u+n,d+r,f+n,p+r),l=f,c=p;break;case"C":l=s[5],c=s[6],u=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,u+n,d+r,l+n,c+r);break;case"s":f=l+s[3],p=c+s[4],u=2*l-u,d=2*c-d,e.bezierCurveTo(u+n,d+r,l+s[1]+n,c+s[2]+r,f+n,p+r),u=l+s[1],d=c+s[2],l=f,c=p;break;case"S":f=s[3],p=s[4],u=2*l-u,d=2*c-d,e.bezierCurveTo(u+n,d+r,s[1]+n,s[2]+r,f+n,p+r),l=f,c=p,u=s[1],d=s[2];break;case"q":f=l+s[3],p=c+s[4],u=l+s[1],d=c+s[2],e.quadraticCurveTo(u+n,d+r,f+n,p+r),l=f,c=p;break;case"Q":f=s[3],p=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,p+r),l=f,c=p,u=s[1],d=s[2];break;case"t":f=l+s[1],p=c+s[2],a[0].match(/[QqTt]/)===null?(u=l,d=c):a[0]==="t"?(u=2*l-g,d=2*c-y):a[0]==="q"&&(u=2*l-u,d=2*c-d),g=u,y=d,e.quadraticCurveTo(u+n,d+r,f+n,p+r),l=f,c=p,u=l+s[1],d=c+s[2];break;case"T":f=s[1],p=s[2],u=2*l-u,d=2*c-d,e.quadraticCurveTo(u+n,d+r,f+n,p+r),l=f,c=p;break;case"a":Ime(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+c+r]),l+=s[6],c+=s[7];break;case"A":Ime(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],c=s[7];break;case"z":case"Z":l=v,c=x,e.closePath();break}a=s}}function Ime(e,t,n,r){const i=m3t(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=y3t(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const jme=.5773502691896257,$me={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ef)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=x1*n,i=r-n*jme,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=x1*n,i=r-n*jme;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=x1*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=x1*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=x1*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=x1*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function xIe(e){return Ut($me,e)?$me[e]:b3t(e)}var I9={};function b3t(e){if(!Ut(I9,e)){const t=$S(e);I9[e]={draw:function(n,r){VT(n,t,0,0,Math.sqrt(r)/2)}}}return I9[e]}const Yg=.448084975506;function x3t(e){return e.x}function w3t(e){return e.y}function S3t(e){return e.width}function _3t(e){return e.height}function Kp(e){return typeof e=="function"?e:()=>+e}function aO(e,t,n){return Math.max(t,Math.min(e,n))}function wIe(){var e=x3t,t=w3t,n=S3t,r=_3t,i=Kp(0),o=i,s=i,a=i,l=null;function c(u,d,f){var p,g=d??+e.call(this,u),y=f??+t.call(this,u),v=+n.call(this,u),x=+r.call(this,u),w=Math.min(v,x)/2,S=aO(+i.call(this,u),0,w),C=aO(+o.call(this,u),0,w),k=aO(+s.call(this,u),0,w),T=aO(+a.call(this,u),0,w);if(l||(l=p=tL()),S<=0&&C<=0&&k<=0&&T<=0)l.rect(g,y,v,x);else{var E=g+v,A=y+x;l.moveTo(g+S,y),l.lineTo(E-C,y),l.bezierCurveTo(E-Yg*C,y,E,y+Yg*C,E,y+C),l.lineTo(E,A-T),l.bezierCurveTo(E,A-Yg*T,E-Yg*T,A,E-T,A),l.lineTo(g+k,A),l.bezierCurveTo(g+Yg*k,A,g,A-Yg*k,g,A-k),l.lineTo(g,y+S),l.bezierCurveTo(g,y+Yg*S,g+Yg*S,y,g+S,y),l.closePath()}if(p)return l=null,p+""||null}return c.x=function(u){return arguments.length?(e=Kp(u),c):e},c.y=function(u){return arguments.length?(t=Kp(u),c):t},c.width=function(u){return arguments.length?(n=Kp(u),c):n},c.height=function(u){return arguments.length?(r=Kp(u),c):r},c.cornerRadius=function(u,d,f,p){return arguments.length?(i=Kp(u),o=d!=null?Kp(d):i,a=f!=null?Kp(f):i,s=p!=null?Kp(p):o,c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function SIe(){var e,t,n,r,i=null,o,s,a,l;function c(d,f,p){const g=p/2;if(o){var y=a-f,v=d-s;if(y||v){var x=Math.hypot(y,v),w=(y/=x)*l,S=(v/=x)*l,C=Math.atan2(v,y);i.moveTo(s-w,a-S),i.lineTo(d-y*g,f-v*g),i.arc(d,f,g,C-Math.PI,C),i.lineTo(s+w,a+S),i.arc(s,a,l,C,C+Math.PI)}else i.arc(d,f,g,0,Ef);i.closePath()}else o=1;s=d,a=f,l=g}function u(d){var f,p=d.length,g,y=!1,v;for(i==null&&(i=v=tL()),f=0;f<=p;++f)!(f<p&&r(g=d[f],f,d))===y&&(y=!y)&&(o=0),y&&c(+e(g,f,d),+t(g,f,d),+n(g,f,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=d,u):e},u.y=function(d){return arguments.length?(t=d,u):t},u.size=function(d){return arguments.length?(n=d,u):n},u.defined=function(d){return arguments.length?(r=d,u):r},u.context=function(d){return arguments.length?(d==null?i=null:i=d,u):i},u}function BM(e,t){return e??t}const UM=e=>e.x||0,VM=e=>e.y||0,C3t=e=>e.width||0,k3t=e=>e.height||0,E3t=e=>(e.x||0)+(e.width||0),T3t=e=>(e.y||0)+(e.height||0),R3t=e=>e.startAngle||0,M3t=e=>e.endAngle||0,A3t=e=>e.padAngle||0,P3t=e=>e.innerRadius||0,D3t=e=>e.outerRadius||0,O3t=e=>e.cornerRadius||0,I3t=e=>BM(e.cornerRadiusTopLeft,e.cornerRadius)||0,j3t=e=>BM(e.cornerRadiusTopRight,e.cornerRadius)||0,$3t=e=>BM(e.cornerRadiusBottomRight,e.cornerRadius)||0,F3t=e=>BM(e.cornerRadiusBottomLeft,e.cornerRadius)||0,L3t=e=>BM(e.size,64),N3t=e=>e.size||1,pL=e=>e.defined!==!1,z3t=e=>xIe(e.shape||"circle"),B3t=O5t().startAngle(R3t).endAngle(M3t).padAngle(A3t).innerRadius(P3t).outerRadius(D3t).cornerRadius(O3t),U3t=SOe().x(UM).y1(VM).y0(T3t).defined(pL),V3t=SOe().y(VM).x1(UM).x0(E3t).defined(pL),H3t=wOe().x(UM).y(VM).defined(pL),W3t=wIe().x(UM).y(VM).width(C3t).height(k3t).cornerRadius(I3t,j3t,$3t,F3t),q3t=j5t().type(z3t).size(L3t),G3t=SIe().x(UM).y(VM).defined(pL).size(N3t);function oJ(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Y3t(e,t){return B3t.context(e)(t)}function X3t(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?V3t:U3t).curve(iJ(r,n.orient,n.tension)).context(e)(t)}function K3t(e,t){const n=t[0],r=n.interpolate||"linear";return H3t.curve(iJ(r,n.orient,n.tension)).context(e)(t)}function nC(e,t,n,r){return W3t.context(e)(t,n,r)}function Z3t(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Q3t(e,t){return q3t.context(e)(t)}function J3t(e,t){return G3t.context(e)(t)}var _Ie=1;function eFt(){_Ie=1}function sJ(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+_Ie++),s=i.clipping[o]||(i.clipping[o]={id:o});return Bn(r)?s.path=r(null):oJ(n)?s.path=nC(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function Wo(e){this.clear(),e&&this.union(e)}Wo.prototype={clone(){return new Wo(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),c=t-t*a+n*l,u=n-t*l-n*a;return[a*r-l*i+c,l*r+a*i+u,a*r-l*s+c,l*r+a*s+u,a*o-l*i+c,l*o+a*i+u,a*o-l*s+c,l*o+a*s+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function hL(e){this.mark=e,this.bounds=this.bounds||new Wo}function gL(e){hL.call(this,e),this.items=this.items||[]}_t(gL,hL);class CIe{constructor(t){this._pending=0,this._loader=t||V4()}pending(){return this._pending}sanitizeURL(t){const n=this;return Fme(n),n._loader.sanitize(t,{context:"href"}).then(r=>(J2(n),r)).catch(()=>(J2(n),null))}loadImage(t){const n=this,r=J5t();return Fme(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Ut(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>J2(n),s.onerror=()=>J2(n),s.src=o,s}).catch(i=>(J2(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Fme(e){e._pending+=1}function J2(e){e._pending-=1}function cg(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?tFt(t,r):0))}return e}function tFt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const nFt=Ef-1e-8;let mL,sj,aj,yv,NW,lj,zW,BW;const xm=(e,t)=>mL.add(e,t),cj=(e,t)=>xm(sj=e,aj=t),Lme=e=>xm(e,mL.y1),Nme=e=>xm(mL.x1,e),ev=(e,t)=>NW*e+zW*t,tv=(e,t)=>lj*e+BW*t,j9=(e,t)=>xm(ev(e,t),tv(e,t)),$9=(e,t)=>cj(ev(e,t),tv(e,t));function HM(e,t){return mL=e,t?(yv=t*f0,NW=BW=Math.cos(yv),lj=Math.sin(yv),zW=-lj):(NW=BW=1,yv=lj=zW=0),rFt}const rFt={beginPath(){},closePath(){},moveTo:$9,lineTo:$9,rect(e,t,n,r){yv?(j9(e+n,t),j9(e+n,t+r),j9(e,t+r),$9(e,t)):(xm(e+n,t+r),cj(e,t))},quadraticCurveTo(e,t,n,r){const i=ev(e,t),o=tv(e,t),s=ev(n,r),a=tv(n,r);zme(sj,i,s,Lme),zme(aj,o,a,Nme),cj(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=ev(e,t),a=tv(e,t),l=ev(n,r),c=tv(n,r),u=ev(i,o),d=tv(i,o);Bme(sj,s,l,u,Lme),Bme(aj,a,c,d,Nme),cj(u,d)},arc(e,t,n,r,i,o){if(r+=yv,i+=yv,sj=n*Math.cos(i)+e,aj=n*Math.sin(i)+t,Math.abs(i-r)>nFt)xm(e-n,t-n),xm(e+n,t+n);else{const s=c=>xm(n*Math.cos(c)+e,n*Math.sin(c)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%Ef,r<0&&(r+=Ef),i=i%Ef,i<0&&(i+=Ef),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Ef,a=r-r%Jy,l=0;l<4&&a>i;++l,a-=Jy)s(a);else for(a=r-r%Jy+Jy,l=0;l<4&&a<i;++l,a=a+Jy)s(a)}}};function zme(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Bme(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,c=0,u;Math.abs(o)>g3t?(u=s*s+a*o,u>=0&&(u=Math.sqrt(u),l=(-s+u)/o,c=(-s-u)/o)):l=.5*a/s,0<l&&l<1&&i(Ume(l,e,t,n,r)),0<c&&c<1&&i(Ume(c,e,t,n,r))}function Ume(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var Hm=(Hm=Vm(1,1))?Hm.getContext("2d"):null;const UW=new Wo;function aJ(e){return function(t,n){if(!Hm)return!0;e(Hm,t),UW.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=UW;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(Hm.isPointInPath(l,a))return!0;return!1}}function lJ(e,t){return t.contains(e.x||0,e.y||0)}function kIe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(UW.set(n,r,n+i,r+o))}function EIe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return aw(t,n,r,i,o)}function aw(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,c=r-t,u=i-n;let d=0,f=1,p,g,y,v;for(v=0;v<4;++v){if(v===0&&(p=-c,g=-(o-t)),v===1&&(p=c,g=a-t),v===2&&(p=-u,g=-(s-n)),v===3&&(p=u,g=l-n),Math.abs(p)<1e-10&&g<0)return!1;if(y=g/p,p<0){if(y>f)return!1;y>d&&(d=y)}else if(p>0){if(y<d)return!1;y<f&&(f=y)}}return!0}function FS(e,t){e.globalCompositeOperation=t.blend||"source-over"}function rd(e,t){return e??t}function Vme(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function iFt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+rd(t.x1,.5)*r,n.y1+rd(t.y1,.5)*i,Math.max(r,i)*rd(t.r1,0),n.x1+rd(t.x2,.5)*r,n.y1+rd(t.y2,.5)*i,Math.max(r,i)*rd(t.r2,.5));else{const s=rd(t.x1,0),a=rd(t.y1,0),l=rd(t.x2,1),c=rd(t.y2,0);if(s===l||a===c||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+c*i);else{const u=Vm(Math.ceil(r),Math.ceil(i)),d=u.getContext("2d");return d.scale(r,i),d.fillStyle=Vme(d.createLinearGradient(s,a,l,c),t.stops),d.fillRect(0,0,r,i),e.createPattern(u,"no-repeat")}}return Vme(o,t.stops)}function TIe(e,t,n){return rJ(n)?iFt(e,n,t.bounds):n}function b$(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=TIe(e,t,t.fill),!0):!1}var oFt=[];function LS(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=TIe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||oFt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function sFt(e,t){return e.zindex-t.zindex||e.index-t.index}function cJ(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(sFt)}function jd(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=cJ(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function x$(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=cJ(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function uJ(e){return function(t,n,r){jd(n,i=>{(!r||r.intersects(i.bounds))&&RIe(e,t,i,i)})}}function aFt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&RIe(e,t,n.items[0],n.items)}}function RIe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(FS(t,n),n.fill&&b$(t,n,i)&&t.fill(),n.stroke&&LS(t,n,i)&&t.stroke()))}function yL(e){return e=e||Ou,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,x$(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function WM(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,c,u;return l&&(c=s.strokeWidth,u=s.strokeCap,n.lineWidth=c??1,n.lineCap=u??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function dJ(e){return yL(WM(e))}function Fv(e,t){return"translate("+e+","+t+")"}function fJ(e){return"rotate("+e+")"}function lFt(e,t){return"scale("+e+","+t+")"}function MIe(e){return Fv(e.x||0,e.y||0)}function cFt(e){return Fv(e.x||0,e.y||0)+(e.angle?" "+fJ(e.angle):"")}function uFt(e){return Fv(e.x||0,e.y||0)+(e.angle?" "+fJ(e.angle):"")+(e.scaleX||e.scaleY?" "+lFt(e.scaleX||1,e.scaleY||1):"")}function pJ(e,t,n){function r(s,a){s("transform",cFt(a)),s("d",t(null,a))}function i(s,a){return t(HM(s,a.angle),a),cg(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,c=a.y||0,u=a.angle||0;s.translate(l,c),u&&s.rotate(u*=f0),s.beginPath(),t(s,a),u&&s.rotate(-u),s.translate(-l,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:uJ(o),pick:dJ(o),isect:n||aJ(o)}}var dFt=pJ("arc",Y3t);function fFt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function pFt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function hFt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function hJ(e,t,n){function r(l,c){var u=c.mark.items;u.length&&l("d",t(null,u))}function i(l,c){var u=c.items;return u.length===0?l:(t(HM(l),u),cg(l,u[0]))}function o(l,c){l.beginPath(),t(l,c)}const s=WM(o);function a(l,c,u,d,f,p){var g=c.items,y=c.bounds;return!g||!g.length||y&&!y.contains(f,p)?null:(u*=l.pixelRatio,d*=l.pixelRatio,s(l,g,u,d)?g[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:aFt(o),pick:a,isect:lJ,tip:n}}var gFt=hJ("area",X3t,fFt);function mFt(e,t){var n=t.clip;e.save(),Bn(n)?(e.beginPath(),n(e),e.clip()):AIe(e,t.group)}function AIe(e,t){e.beginPath(),oJ(t)?nC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function PIe(e){const t=rd(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function yFt(e,t){e("transform",MIe(t))}function DIe(e,t){const n=PIe(t);e("d",nC(null,t,n,n))}function vFt(e,t){e("class","background"),e("aria-hidden",!0),DIe(e,t)}function bFt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?DIe(e,t):e("d","")}function xFt(e,t,n){const r=t.clip?sJ(n,t,t):null;e("clip-path",r)}function wFt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),cg(e,t),e.translate(t.x||0,t.y||0)}function HT(e,t,n,r){const i=PIe(t);e.beginPath(),nC(e,t,(n||0)+i,(r||0)+i)}const SFt=WM(HT),_Ft=WM(HT,!1),CFt=WM(HT,!0);function kFt(e,t,n,r){jd(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(HT(e,i,o,s),FS(e,i),i.fill&&b$(e,i,l)&&e.fill(),i.stroke&&!a&&LS(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&AIe(e,i),n&&n.translate(-o,-s),jd(i,c=>{(c.marktype==="group"||r==null||r.includes(c.marktype))&&this.draw(e,c,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(HT(e,i,o,s),FS(e,i),LS(e,i,l)&&e.stroke())})}function EFt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return x$(t,l=>{let c,u,d;const f=l.bounds;if(f&&!f.contains(i,o))return;u=l.x||0,d=l.y||0;const p=u+(l.width||0),g=d+(l.height||0),y=l.clip;if(y&&(i<u||i>p||o<d||o>g))return;if(e.save(),e.translate(u,d),u=i-u,d=o-d,y&&oJ(l)&&!CFt(e,l,s,a))return e.restore(),null;const v=l.strokeForeground,x=t.interactive!==!1;return x&&v&&l.stroke&&_Ft(e,l,s,a)?(e.restore(),l):(c=x$(l,w=>TFt(w,u,d)?this.pick(w,n,r,u,d):null),!c&&x&&(l.fill||!v&&l.stroke)&&SFt(e,l,s,a)&&(c=l),e.restore(),c||null)})}function TFt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var RFt={type:"group",tag:"g",nested:!1,attr:yFt,bound:wFt,draw:kFt,pick:EFt,isect:kIe,content:xFt,background:vFt,foreground:bFt},WT={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function gJ(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function mJ(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function yJ(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function vL(e,t){return e==="center"?t/2:e==="right"?t:0}function bL(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function MFt(e,t,n){const r=gJ(t,n),i=mJ(t,r),o=yJ(t,r),s=(t.x||0)-vL(t.align,i),a=(t.y||0)-bL(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,WT["xmlns:xlink"],"xlink:href"),e("transform",Fv(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function AFt(e,t){const n=t.image,r=mJ(t,n),i=yJ(t,n),o=(t.x||0)-vL(t.align,r),s=(t.y||0)-bL(t.baseline,i);return e.set(o,s,o+r,s+i)}function PFt(e,t,n){jd(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=gJ(r,this);let o=mJ(r,i),s=yJ(r,i);if(o===0||s===0)return;let a=(r.x||0)-vL(r.align,o),l=(r.y||0)-bL(r.baseline,s),c,u,d,f;r.aspect!==!1&&(u=i.width/i.height,d=r.width/r.height,u===u&&d===d&&u!==d&&(d<u?(f=o/u,l+=(s-f)/2,s=f):(f=s*u,a+=(o-f)/2,o=f))),(i.complete||i.toDataURL)&&(FS(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var DFt={type:"image",tag:"image",nested:!1,attr:MFt,bound:AFt,draw:PFt,pick:yL(),isect:Ou,get:gJ,xOffset:vL,yOffset:bL},OFt=hJ("line",K3t,pFt);function IFt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",uFt(t)),e("d",t.path)}function uj(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*f0,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=$S(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),VT(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):VT(e,l,r,i,o,s)}function jFt(e,t){return uj(HM(e,t.angle),t)?e.set(0,0,0,0):cg(e,t,!0)}var $Ft={type:"path",tag:"path",nested:!1,attr:IFt,bound:jFt,draw:uJ(uj),pick:dJ(uj),isect:aJ(uj)};function FFt(e,t){e("d",nC(null,t))}function LFt(e,t){var n,r;return cg(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Hme(e,t){e.beginPath(),nC(e,t)}var NFt={type:"rect",tag:"path",nested:!1,attr:FFt,bound:LFt,draw:uJ(Hme),pick:dJ(Hme),isect:kIe};function zFt(e,t){e("transform",MIe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function BFt(e,t){var n,r;return cg(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function OIe(e,t,n){var r,i,o,s;return t.stroke&&LS(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function UFt(e,t,n){jd(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&OIe(e,r,i)&&(FS(e,r),e.stroke())}})}function VFt(e,t,n,r){return e.isPointInStroke?OIe(e,t,1)&&e.isPointInStroke(n,r):!1}var HFt={type:"rule",tag:"line",nested:!1,attr:zFt,bound:BFt,draw:UFt,pick:yL(VFt),isect:EIe},WFt=pJ("shape",Z3t),qFt=pJ("symbol",Q3t,lJ);const Wme=fPe();var wc={height:hp,measureWidth:vJ,estimateWidth:w$,width:w$,canvas:IIe};IIe(!0);function IIe(e){wc.width=e&&Hm?vJ:w$}function w$(e,t){return jIe(h0(e,t),hp(e))}function jIe(e,t){return~~(.8*e.length*t)}function vJ(e,t){return hp(e)<=0||!(t=h0(e,t))?0:$Ie(t,xL(e))}function $Ie(e,t){const n=`(${t}) ${e}`;let r=Wme.get(n);return r===void 0&&(Hm.font=t,r=Hm.measureText(e).width,Wme.set(n,r)),r}function hp(e){return e.fontSize!=null?+e.fontSize||0:11}function p0(e){return e.lineHeight!=null?e.lineHeight:hp(e)+2}function GFt(e){return Je(e)?e.length>1?e:e[0]:e}function qM(e){return GFt(e.lineBreak&&e.text&&!Je(e.text)?e.text.split(e.lineBreak):e.text)}function bJ(e){const t=qM(e);return(Je(t)?t.length-1:0)*p0(e)}function h0(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?XFt(e,n):n}function YFt(e){if(wc.width===vJ){const t=xL(e);return n=>$Ie(n,t)}else if(wc.width===w$){const t=hp(e);return n=>jIe(n,t)}else return t=>wc.width(e,t)}function XFt(e,t){var n=+e.limit,r=YFt(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function GM(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function xL(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+hp(e)+"px "+GM(e,t)}function xJ(e){var t=e.baseline,n=hp(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*p0(e):t==="line-bottom"?.29*n-.5*p0(e):0)}const KFt={left:"start",center:"middle",right:"end"},ME=new Wo;function wL(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Jy,t+=r*Math.cos(i),n+=r*Math.sin(i)),ME.x1=t,ME.y1=n,ME}function ZFt(e,t){var n=t.dx||0,r=(t.dy||0)+xJ(t),i=wL(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",KFt[t.align]||"start"),a?(l=Fv(o,s)+" "+fJ(a),(n||r)&&(l+=" "+Fv(n,r))):l=Fv(o+n,s+r),e("transform",l)}function wJ(e,t,n){var r=wc.height(t),i=t.align,o=wL(t),s=o.x1,a=o.y1,l=t.dx||0,c=(t.dy||0)+xJ(t)-Math.round(.8*r),u=qM(t),d;if(Je(u)?(r+=p0(t)*(u.length-1),d=u.reduce((f,p)=>Math.max(f,wc.width(t,p)),0)):d=wc.width(t,u),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,c+=a,l+d,c+r),t.angle&&!n)e.rotate(t.angle*f0,s,a);else if(n===2)return e.rotatedPoints(t.angle*f0,s,a);return e}function QFt(e,t,n){jd(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,c,u,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=xL(r),e.textAlign=r.align||"left",o=wL(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*f0),s=a=0),s+=r.dx||0,a+=(r.dy||0)+xJ(r),u=qM(r),FS(e,r),Je(u))for(c=p0(r),l=0;l<u.length;++l)d=h0(r,u[l]),r.fill&&b$(e,r,i)&&e.fillText(d,s,a),r.stroke&&LS(e,r,i)&&e.strokeText(d,s,a),a+=c;else d=h0(r,u),r.fill&&b$(e,r,i)&&e.fillText(d,s,a),r.stroke&&LS(e,r,i)&&e.strokeText(d,s,a);r.angle&&e.restore()}})}function JFt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=wL(t),a=s.x1,l=s.y1,c=wJ(ME,t,1),u=-t.angle*f0,d=Math.cos(u),f=Math.sin(u),p=d*i-f*o+(a-d*a+f*l),g=f*i+d*o+(l-f*a-d*l);return c.contains(p,g)}function e4t(e,t){const n=wJ(ME,e,2);return aw(t,n[0],n[1],n[2],n[3])||aw(t,n[0],n[1],n[4],n[5])||aw(t,n[4],n[5],n[6],n[7])||aw(t,n[2],n[3],n[6],n[7])}var t4t={type:"text",tag:"text",nested:!1,attr:ZFt,bound:wJ,draw:QFt,pick:yL(JFt),isect:e4t},n4t=hJ("trail",J3t,hFt),Oc={arc:dFt,area:gFt,group:RFt,image:DFt,line:OFt,path:$Ft,rect:NFt,rule:HFt,shape:WFt,symbol:qFt,text:t4t,trail:n4t};function VW(e,t,n){var r=Oc[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Wo),e,n)}var qme={mark:null};function FIe(e,t,n){var r=Oc[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,c,u;if(r.nested)return s?c=o[0]:(qme.mark=e,c=qme),u=VW(c,i,n),t=t&&t.union(u)||u,t;if(t=t||e.bounds&&e.bounds.clear()||new Wo,s)for(a=0,l=o.length;a<l;++a)t.union(VW(o[a],i,n));return e.bounds=t}const r4t=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function LIe(e,t){return JSON.stringify(e,r4t,t)}function NIe(e){const t=typeof e=="string"?JSON.parse(e):e;return zIe(t)}function zIe(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&zIe(n[i]);return t&&FIe(e),e}class BIe{constructor(t){arguments.length?this.root=NIe(t):(this.root=Gme({marktype:"group",name:"root",role:"frame"}),this.root.items=[new gL(this.root)])}toJSON(t){return LIe(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=Gme(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function Gme(e,t){const n={bounds:new Wo,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function wm(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function SJ(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ts(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=wm(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function lu(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function UIe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function SL(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function i4t(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Oc[i.marktype]).tip){for(s=SL(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let _J=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||V4(),this._tooltip=n||o4t}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=wm(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=i4t(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,c=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,c+=t.y||0;return{x:l,y:c,width:s,height:a,left:l,top:c,right:l+s,bottom:c+a}}};function o4t(e,t,n,r){e.element().setAttribute("title",r||"")}class YM{constructor(t){this._el=null,this._bgcolor=null,this._loader=new CIe(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const s4t="keydown",a4t="keypress",l4t="keyup",VIe="dragenter",dj="dragleave",HIe="dragover",HW="pointerdown",c4t="pointerup",S$="pointermove",fj="pointerout",WIe="pointerover",WW="mousedown",u4t="mouseup",qIe="mousemove",_$="mouseout",GIe="mouseover",C$="click",d4t="dblclick",f4t="wheel",YIe="mousewheel",k$="touchstart",E$="touchmove",T$="touchend",p4t=[s4t,a4t,l4t,VIe,dj,HIe,HW,c4t,S$,fj,WIe,WW,u4t,qIe,_$,GIe,C$,d4t,f4t,YIe,k$,E$,T$],qW=S$,AE=_$,GW=C$;class XM extends _J{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=p4t,this.pointermove=Xme([S$,qIe],[WIe,GIe],[fj,_$]),this.dragover=Xme([HIe],[VIe],[dj]),this.pointerout=Kme([fj,_$]),this.dragleave=Kme([dj])}initialize(t,n,r){return this._canvas=t&&SJ(t,"canvas"),[C$,WW,HW,S$,fj,dj].forEach(i=>Yme(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(YIe,t)}pointerdown(t){this._down=this._active,this.fire(HW,t)}mousedown(t){this._down=this._active,this.fire(WW,t)}click(t){this._down===this._active&&(this.fire(C$,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(k$,t,!0)}touchmove(t){this.fire(E$,t,!0)}touchend(t){this.fire(T$,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===GW&&i&&i.href?this.handleHref(n,i,i.href):(t===qW||t===AE)&&this.handleTooltip(n,i,t!==AE),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(Yme(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=SL(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Oc[t.marktype].pick.call(this,s,t,n,r,i,o)}}const h4t=e=>e===k$||e===E$||e===T$?[k$,E$,T$]:[e];function Yme(e,t){h4t(t).forEach(n=>g4t(e,n))}function g4t(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function Gk(e,t,n){t.forEach(r=>e.fire(r,n))}function Xme(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?Gk(this,e,r):((!i||!i.exit)&&Gk(this,n,r),this._active=o,Gk(this,t,r),Gk(this,e,r))}}function Kme(e){return function(t){Gk(this,e,t),this._active=null}}function m4t(){return typeof window<"u"&&window.devicePixelRatio||1}function y4t(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?m4t():i;e.width=t*l,e.height=n*l;for(const c in o)a[c]=o[c];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class R$ extends YM{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Wo,this._tempb=new Wo}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:Vm(1,1,this._options.type),t&&this._canvas&&(lu(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)y4t(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||Ge("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=v4t(i,o,s);r.save();const c=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):b4t(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,c,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Oc[n.marktype];n.clip&&mFt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const v4t=(e,t,n)=>new Wo().set(0,0,t,n).translate(-e[0],-e[1]);function b4t(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class XIe extends _J{constructor(t,n){super(t,n);const r=this;r._hrefHandler=F9(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=F9(r,(i,o)=>{r.handleTooltip(i,o,i.type!==AE)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(GW,this._hrefHandler),i.removeEventListener(qW,this._tooltipHandler),i.removeEventListener(AE,this._tooltipHandler)),this._svg=i=t&&SJ(t,"svg"),i&&(i.addEventListener(GW,this._hrefHandler),i.addEventListener(qW,this._tooltipHandler),i.addEventListener(AE,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:F9(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const F9=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},KIe="aria-hidden",CJ="aria-label",kJ="role",EJ="aria-roledescription",ZIe="graphics-object",TJ="graphics-symbol",QIe=(e,t,n)=>({[kJ]:e,[EJ]:t,[CJ]:n||void 0}),x4t=Od(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Zme={axis:{desc:"axis",caption:_4t},legend:{desc:"legend",caption:C4t},"title-text":{desc:"title",caption:e=>`Title text '${Jme(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Jme(e)}'`}},Qme={ariaRole:kJ,ariaRoleDescription:EJ,description:CJ};function JIe(e,t){const n=t.aria===!1;if(e(KIe,n||void 0),n||t.description==null)for(const r in Qme)e(Qme[r],void 0);else{const r=t.mark.marktype;e(CJ,t.description),e(kJ,t.ariaRole||(r==="group"?ZIe:TJ)),e(EJ,t.ariaRoleDescription||`${r} mark`)}}function eje(e){return e.aria===!1?{[KIe]:!0}:x4t[e.role]?null:Zme[e.role]?S4t(e,Zme[e.role]):w4t(e)}function w4t(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return QIe(n?ZIe:TJ,`${t} mark container`,e.description)}function S4t(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return QIe(t.role||TJ,t.desc,n.description||r(n))}catch{return null}}function Jme(e){return Ft(e.text).join(" ")}function _4t(e){const t=e.datum,n=e.orient,r=t.title?tje(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${jS(a)?"discrete":a} scale with ${gIe(s,o,e)}`}function C4t(e){const t=e.datum,n=t.title?tje(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return E4t(r)+(n?` titled '${n}'`:"")+` for ${k4t(o)} with ${gIe(l,a,e)}`}function tje(e){try{return Ft(br(e.items).items[0].text).join(" ")}catch{return null}}function k4t(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+br(e)}function E4t(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const nje=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),T4t=e=>nje(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function RJ(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,c)=>(c!=null&&(t+=` ${l}="${T4t(c)}"`),a),a={open(l,...c){o(l),t="<"+l;for(const u of c)for(const d in u)s(d,u[d]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=nje(l),a),toString:()=>e};return a}const rje=e=>ije(RJ(),e)+"";function ije(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):ije(e,r)}return e.close()}const M$={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},A$={blend:"mix-blend-mode"},oje={fill:"none","stroke-miterlimit":10},ek=0,e0e="http://www.w3.org/2000/xmlns/",Qo=WT.xmlns;class MJ extends YM{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=ts(t,0,"svg",Qo),this._svg.setAttributeNS(e0e,"xmlns",Qo),this._svg.setAttributeNS(e0e,"xmlns:xlink",WT["xmlns:xlink"]),this._svg.setAttribute("version",WT.version),this._svg.setAttribute("class","marks"),lu(t,1),this._root=ts(this._svg,ek,"g",Qo),Sm(this._root,oje),lu(this._svg,ek+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Sm(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=ts(t,ek,"rect",Qo),Sm(r,{width:this._width,height:this._height,fill:n}));const i=rje(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),lu(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,c;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Oc[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,t0e(r,n),i.items.forEach(u=>{u.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(c=i.items[0],c._svg&&this._update(s,c._svg,c)):r._svg&&(c=r._svg.parentNode,c&&c.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,t0e(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Oc[s],l=n.interactive===!1?"none":null,c=a.tag==="g",u=n0e(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return lu(u,0),n._svg;u.setAttribute("class",UIe(n));const d=eje(n);for(const y in d)ja(u,y,d[y]);c||ja(u,"pointer-events",l),ja(u,"clip-path",n.clip?sJ(this,n,n.group):null);let f=null,p=0;const g=y=>{const v=this.isDirty(y),x=n0e(y,u,f,a.tag,o);v&&(this._update(a,x,y),c&&A4t(this,x,y,i)),f=x,++p};return a.nested?n.items.length&&g(n.items[0]):jd(n,g),lu(u,p),u}_update(t,n,r){xh=n,sa=n.__values__,JIe(PE,r),t.attr(PE,r,this);const i=D4t[t.type];i&&i.call(this,t,n,r),xh&&this.style(xh,r)}style(t,n){if(n!=null){for(const r in M$){let i=r==="font"?GM(n):n[r];if(i===sa[r])continue;const o=M$[r];i==null?t.removeAttribute(o):(rJ(i)&&(i=yIe(i,this._defs.gradient,sje())),t.setAttribute(o,i+"")),sa[r]=i}for(const r in A$)pj(t,A$[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=ts(t,ek+1,"defs",Qo)),i=R4t(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=ts(t,ek+1,"defs",Qo)),i=M4t(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):lu(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function t0e(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function R4t(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=ts(e,n++,"pattern",Qo);Sm(s,{id:v$+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=ts(s,0,"rect",Qo),Sm(s,{width:1,height:1,fill:`url(${sje()}#${t.id})`}),e=ts(e,n++,"radialGradient",Qo),Sm(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=ts(e,n++,"linearGradient",Qo),Sm(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=ts(e,r,"stop",Qo),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return lu(e,r),n}function M4t(e,t,n){let r;return e=ts(e,n,"clipPath",Qo),e.setAttribute("id",t.id),t.path?(r=ts(e,0,"path",Qo),r.setAttribute("d",t.path)):(r=ts(e,0,"rect",Qo),Sm(r,{x:0,y:0,width:t.width,height:t.height})),lu(e,1),n+1}function A4t(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;jd(n,s=>{i=e.mark(t,s,i,r),++o}),lu(t,1+o)}function n0e(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=wm(s,r,Qo),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=wm(s,"path",Qo);o.appendChild(a),a.__data__=e;const l=wm(s,"g",Qo);o.appendChild(l),l.__data__=e;const c=wm(s,"path",Qo);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==i||P4t(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function P4t(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let xh=null,sa=null;const D4t={group(e,t,n){const r=xh=t.childNodes[2];sa=r.__values__,e.foreground(PE,n,this),sa=t.__values__,xh=t.childNodes[1],e.content(PE,n,this);const i=xh=t.childNodes[0];e.background(PE,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==sa.events&&(ja(r,"pointer-events",o),ja(i,"pointer-events",o),sa.events=o),n.strokeForeground&&n.stroke){const s=n.fill;ja(r,"display",null),this.style(i,n),ja(i,"stroke",null),s&&(n.fill=null),sa=r.__values__,this.style(r,n),s&&(n.fill=s),xh=null}else ja(r,"display","none")},image(e,t,n){n.smooth===!1?(pj(t,"image-rendering","optimizeSpeed"),pj(t,"image-rendering","pixelated")):pj(t,"image-rendering",null)},text(e,t,n){const r=qM(n);let i,o,s,a;Je(r)?(o=r.map(l=>h0(n,l)),i=o.join(`
`),i!==sa.text&&(lu(t,0),s=t.ownerDocument,a=p0(n),o.forEach((l,c)=>{const u=wm(s,"tspan",Qo);u.__data__=n,u.textContent=l,c&&(u.setAttribute("x",0),u.setAttribute("dy",a)),t.appendChild(u)}),sa.text=i)):(o=h0(n,r),o!==sa.text&&(t.textContent=o,sa.text=o)),ja(t,"font-family",GM(n)),ja(t,"font-size",hp(n)+"px"),ja(t,"font-style",n.fontStyle),ja(t,"font-variant",n.fontVariant),ja(t,"font-weight",n.fontWeight)}};function PE(e,t,n){t!==sa[e]&&(n?O4t(xh,e,t,n):ja(xh,e,t),sa[e]=t)}function pj(e,t,n){n!==sa[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),sa[t]=n)}function Sm(e,t){for(const n in t)ja(e,n,t[n])}function ja(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function O4t(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function sje(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class aje extends YM{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=RJ();n.open("svg",Wn({},WT,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",oje,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Oc[n.marktype],i=r.tag,o=[JIe,r.attr];t.open("g",{class:UIe(n),"clip-path":n.clip?sJ(this,n,n.group):null},eje(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const c=qM(a);if(Je(c)){const u={x:0,dy:p0(a)};for(let d=0;d<c.length;++d)t.open("tspan",d?u:null).text(h0(a,c[d])).close()}else t.text(h0(a,c))}else if(i==="g"){const c=a.strokeForeground,u=a.fill,d=a.stroke;c&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),jd(a,f=>this.mark(t,f)),t.close(),c&&d?(u&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),u&&(a.fill=u)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):jd(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,c,u)=>{o[u||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&I4t(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:v$+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function I4t(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=GM(t),e["font-size"]=hp(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in M$){let a=t[s];const l=M$[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(rJ(a)&&(a=yIe(a,i.gradient,"")),e[l]=a)}for(const s in A$){const a=t[s];a!=null&&(o=o||[],o.push(`${A$[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const ld={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function j4t(e){ld.svgMarkTypes=e.svgMarkTypes??["text"],ld.svgOnTop=e.svgOnTop??!0,ld.debug=e.debug??!1}class YW extends YM{constructor(t){super(t),this._svgRenderer=new MJ(t),this._canvasRenderer=new R$(t)}initialize(t,n,r,i,o){this._root_el=ts(t,0,"div");const s=ts(this._root_el,0,"div"),a=ts(this._root_el,1,"div");return this._root_el.style.position="relative",ld.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=ld.svgOnTop?a:s,this._canvasEl=ld.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return ld.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!ld.svgMarkTypes.includes(o));this._svgRenderer.render(t,ld.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return ld.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class lje extends XM{constructor(t,n){super(t,n)}initialize(t,n,r){const i=ts(ts(t,0,"div"),ld.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const cje="canvas",uje="hybrid",dje="png",fje="svg",pje="none",_m={Canvas:cje,PNG:dje,SVG:fje,Hybrid:uje,None:pje},gb={};gb[cje]=gb[dje]={renderer:R$,headless:R$,handler:XM};gb[fje]={renderer:MJ,headless:aje,handler:XIe};gb[uje]={renderer:YW,headless:YW,handler:lje};gb[pje]={};function _L(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(gb[e]=t,this):gb[e]}function hje(e,t,n){const r=[],i=new Wo().union(t),o=e.marktype;return o?gje(e,i,n,r):o==="group"?mje(e,i,n,r):Ge("Intersect scene must be mark node or group item.")}function gje(e,t,n,r){if($4t(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)mje(i[a],t,n,r);else for(const l=Oc[o].isect;a<s;++a){const c=i[a];yje(c,t,l)&&r.push(c)}}return r}function $4t(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function mje(e,t,n,r){n&&n(e.mark)&&yje(e,t,Oc.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)gje(i[l],t,n,r);t.translate(s,a)}return r}function yje(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const L9=new Wo;function vje(e){const t=e.clip;if(Bn(t))t(HM(L9.clear()));else if(t)L9.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(L9)}const F4t=1e-9;function AJ(e,t,n){return e===t?!0:n==="path"?bje(e,t):e instanceof Date&&t instanceof Date?+e==+t:Or(e)&&Or(t)?Math.abs(e-t)<=F4t:!e||!t||!It(e)&&!It(t)?e==t:L4t(e,t)}function bje(e,t){return AJ($S(e),$S(t))}function L4t(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!AJ(e[i],t[i],i))return!1;return typeof e==typeof t}function N4t(){eFt(),l3t()}const NS="top",gd="left",bd="right",g0="bottom",z4t="top-left",B4t="top-right",U4t="bottom-left",V4t="bottom-right",PJ="start",XW="middle",Na="end",H4t="x",W4t="y",CL="group",DJ="axis",OJ="title",q4t="frame",G4t="scope",IJ="legend",xje="row-header",wje="row-footer",Sje="row-title",_je="column-header",Cje="column-footer",kje="column-title",Y4t="padding",X4t="symbol",Eje="fit",Tje="fit-x",Rje="fit-y",K4t="pad",jJ="none",lO="all",KW="each",$J="flush",Cm="column",km="row";function Mje(e){Ue.call(this,null,e)}_t(Mje,Ue,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Oc[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=cO(r,s),r.items.forEach(c=>{c.bounds.clear().union(a)});else if(i===CL||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),a.clear(),r.items.forEach(c=>a.union(cO(c,s))),r.role){case DJ:case IJ:case OJ:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,c=>{a.union(cO(c,s))}),t.visit(t.MOD,c=>{l=l||a.alignsWith(c.bounds),n.dirty(c),a.union(cO(c,s))}),l&&(a.clear(),r.items.forEach(c=>a.union(c.bounds)));return vje(r),t.modifies("bounds")}});function cO(e,t,n){return t(e.bounds.clear(),e,n)}const r0e=":vega_identifier:";function FJ(e){Ue.call(this,0,e)}FJ.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};_t(FJ,Ue,{transform(e,t){const n=Z4t(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function Z4t(e){return e._signals[r0e]||(e._signals[r0e]=e.add(0))}function Aje(e){Ue.call(this,null,e)}_t(Aje,Ue,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Q4t(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===CL?gL:hL;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Q4t(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Pje(e){Ue.call(this,null,e)}const i0e={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!Dje(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},Dje=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),o0e=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(Dje(i,o=e[n].bounds,t))return!0},J4t=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},eLt=(e,t,n)=>{var r=e.range(),i=new Wo;return t===NS||t===g0?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},s0e=e=>(e.forEach(t=>t.opacity=1),e),a0e=(e,t)=>e.reflow(t.modified()).modifies("opacity");_t(Pje,Ue,{transform(e,t){const n=i0e[e.method]||i0e.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(s0e(i),t=a0e(t,e)),t;if(i=i.filter(J4t),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=s0e(i),t=a0e(t,e),o.length>=3&&o0e(o,r)){do o=n(o,r);while(o.length>=3&&o0e(o,r));o.length<3&&!br(i).opacity&&(o.length>1&&(br(o).opacity=0),br(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=eLt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function Oje(e){Ue.call(this,null,e)}_t(Oje,Ue,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ia=new Wo;function lw(e,t,n){return e[t]===n?0:(e[t]=n,1)}function tLt(e){var t=e.items[0].orient;return t===gd||t===bd}function nLt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function rLt(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=nLt(o),c=i.range,u=i.offset,d=i.position,f=i.minExtent,p=i.maxExtent,g=o.title&&i.items[l[2]].items[0],y=i.titlePadding,v=i.bounds,x=g&&bJ(g),w=0,S=0,C,k;switch(ia.clear().union(v),v.clear(),(C=l[0])>-1&&v.union(i.items[C].bounds),(C=l[1])>-1&&v.union(i.items[C].bounds),a){case NS:w=d||0,S=-u,k=Math.max(f,Math.min(p,-v.y1)),v.add(0,-k).add(c,0),g&&uO(e,g,k,y,x,0,-1,v);break;case gd:w=-u,S=d||0,k=Math.max(f,Math.min(p,-v.x1)),v.add(-k,0).add(0,c),g&&uO(e,g,k,y,x,1,-1,v);break;case bd:w=n+u,S=d||0,k=Math.max(f,Math.min(p,v.x2)),v.add(0,0).add(k,c),g&&uO(e,g,k,y,x,1,1,v);break;case g0:w=d||0,S=r+u,k=Math.max(f,Math.min(p,v.y2)),v.add(0,0).add(c,k),g&&uO(e,g,k,y,0,0,1,v);break;default:w=i.x,S=i.y}return cg(v.translate(w,S),i),lw(i,"x",w+s)|lw(i,"y",S+s)&&(i.bounds=ia,e.dirty(i),i.bounds=v,e.dirty(i)),i.mark.bounds.clear().union(v)}function uO(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const c=s*(n+i+r);let u=0,d=0;e.dirty(t),o?u=(t.x||0)-(t.x=c):d=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(l.translate(-u,-d)),e.dirty(t)}a.union(l)}const l0e=(e,t)=>Math.floor(Math.min(e,t)),c0e=(e,t)=>Math.ceil(Math.max(e,t));function iLt(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===CL)switch(i.role){case DJ:case IJ:case OJ:break;case xje:s.rowheaders.push(...o);break;case wje:s.rowfooters.push(...o);break;case _je:s.colheaders.push(...o);break;case Cje:s.colfooters.push(...o);break;case Sje:s.rowtitle=o[0];break;case kje:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function oLt(e){return new Wo().set(0,0,e.width||0,e.height||0)}function sLt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Bi(e,t,n){const r=It(e)?e[t]:e;return r??(n!==void 0?n:0)}function u0e(e){return e<0?Math.ceil(-e):0}function Ije(e,t,n){var r=!n.nodirty,i=n.bounds===$J?oLt:sLt,o=ia.set(0,0,0,0),s=Bi(n.align,Cm),a=Bi(n.align,km),l=Bi(n.padding,Cm),c=Bi(n.padding,km),u=n.columns||t.length,d=u<=0?1:Math.ceil(t.length/u),f=t.length,p=Array(f),g=Array(u),y=0,v=Array(f),x=Array(d),w=0,S=Array(f),C=Array(f),k=Array(f),T,E,A,O,I,j,P,$,D,F,N;for(E=0;E<u;++E)g[E]=0;for(E=0;E<d;++E)x[E]=0;for(E=0;E<f;++E)j=t[E],I=k[E]=i(j),j.x=j.x||0,S[E]=0,j.y=j.y||0,C[E]=0,A=E%u,O=~~(E/u),y=Math.max(y,P=Math.ceil(I.x2)),w=Math.max(w,$=Math.ceil(I.y2)),g[A]=Math.max(g[A],P),x[O]=Math.max(x[O],$),p[E]=l+u0e(I.x1),v[E]=c+u0e(I.y1),r&&e.dirty(t[E]);for(E=0;E<f;++E)E%u===0&&(p[E]=0),E<u&&(v[E]=0);if(s===KW)for(A=1;A<u;++A){for(N=0,E=A;E<f;E+=u)N<p[E]&&(N=p[E]);for(E=A;E<f;E+=u)p[E]=N+g[A-1]}else if(s===lO){for(N=0,E=0;E<f;++E)E%u&&N<p[E]&&(N=p[E]);for(E=0;E<f;++E)E%u&&(p[E]=N+y)}else for(s=!1,A=1;A<u;++A)for(E=A;E<f;E+=u)p[E]+=g[A-1];if(a===KW)for(O=1;O<d;++O){for(N=0,E=O*u,T=E+u;E<T;++E)N<v[E]&&(N=v[E]);for(E=O*u;E<T;++E)v[E]=N+x[O-1]}else if(a===lO){for(N=0,E=u;E<f;++E)N<v[E]&&(N=v[E]);for(E=u;E<f;++E)v[E]=N+w}else for(a=!1,O=1;O<d;++O)for(E=O*u,T=E+u;E<T;++E)v[E]+=x[O-1];for(D=0,E=0;E<f;++E)D=p[E]+(E%u?D:0),S[E]+=D-t[E].x;for(A=0;A<u;++A)for(F=0,E=A;E<f;E+=u)F+=v[E],C[E]+=F-t[E].y;if(s&&Bi(n.center,Cm)&&d>1)for(E=0;E<f;++E)I=s===lO?y:g[E%u],D=I-k[E].x2-t[E].x-S[E],D>0&&(S[E]+=D/2);if(a&&Bi(n.center,km)&&u!==1)for(E=0;E<f;++E)I=a===lO?w:x[~~(E/u)],F=I-k[E].y2-t[E].y-C[E],F>0&&(C[E]+=F/2);for(E=0;E<f;++E)o.union(k[E].translate(S[E],C[E]));switch(D=Bi(n.anchor,H4t),F=Bi(n.anchor,W4t),Bi(n.anchor,Cm)){case Na:D-=o.width();break;case XW:D-=o.width()/2}switch(Bi(n.anchor,km)){case Na:F-=o.height();break;case XW:F-=o.height()/2}for(D=Math.round(D),F=Math.round(F),o.clear(),E=0;E<f;++E)t[E].mark.bounds.clear();for(E=0;E<f;++E)j=t[E],j.x+=S[E]+=D,j.y+=C[E]+=F,o.union(j.mark.bounds.union(j.bounds.translate(S[E],C[E]))),r&&e.dirty(j);return o}function aLt(e,t,n){var r=iLt(t),i=r.marks,o=n.bounds===$J?lLt:cLt,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),c=l*a,u,d,f,p,g,y,v;const x=Ije(e,i,n);x.empty()&&x.set(0,0,0,0),r.rowheaders&&(y=Bi(n.headerBand,km,null),u=dO(e,r.rowheaders,i,a,l,-Bi(s,"rowHeader"),l0e,0,o,"x1",0,a,1,y)),r.colheaders&&(y=Bi(n.headerBand,Cm,null),d=dO(e,r.colheaders,i,a,a,-Bi(s,"columnHeader"),l0e,1,o,"y1",0,1,a,y)),r.rowfooters&&(y=Bi(n.footerBand,km,null),f=dO(e,r.rowfooters,i,a,l,Bi(s,"rowFooter"),c0e,0,o,"x2",a-1,a,1,y)),r.colfooters&&(y=Bi(n.footerBand,Cm,null),p=dO(e,r.colfooters,i,a,a,Bi(s,"columnFooter"),c0e,1,o,"y2",c-a,1,a,y)),r.rowtitle&&(g=Bi(n.titleAnchor,km),v=Bi(s,"rowTitle"),v=g===Na?f+v:u-v,y=Bi(n.titleBand,km,.5),d0e(e,r.rowtitle,v,0,x,y)),r.coltitle&&(g=Bi(n.titleAnchor,Cm),v=Bi(s,"columnTitle"),v=g===Na?p+v:d-v,y=Bi(n.titleBand,Cm,.5),d0e(e,r.coltitle,v,1,x,y))}function lLt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function cLt(e,t){return e.bounds[t]}function dO(e,t,n,r,i,o,s,a,l,c,u,d,f,p){var g=n.length,y=0,v=0,x,w,S,C,k,T,E,A,O;if(!g)return y;for(x=u;x<g;x+=d)n[x]&&(y=s(y,l(n[x],c)));if(!t.length)return y;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),y+=o,w=0,C=t.length;w<C;++w)e.dirty(t[w]),t[w].mark.bounds.clear();for(x=u,w=0,C=t.length;w<C;++w,x+=d){for(T=t[w],k=T.mark.bounds,S=x;S>=0&&(E=n[S])==null;S-=f);a?(A=p==null?E.x:Math.round(E.bounds.x1+p*E.bounds.width()),O=y):(A=y,O=p==null?E.y:Math.round(E.bounds.y1+p*E.bounds.height())),k.union(T.bounds.translate(A-(T.x||0),O-(T.y||0))),T.x=A,T.y=O,e.dirty(T),v=s(v,k[c])}return v}function d0e(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function uLt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function dLt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function fLt(e,t,n,r,i,o,s){const a=uLt(n,t),l=dLt(e,a("offset",0)),c=a("anchor",PJ),u=c===Na?1:c===XW?.5:0,d={align:KW,bounds:a("bounds",$J),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case gd:d.anchor={x:Math.floor(r.x1)-l,column:Na,y:u*(s||r.height()+2*r.y1),row:c};break;case bd:d.anchor={x:Math.ceil(r.x2)+l,y:u*(s||r.height()+2*r.y1),row:c};break;case NS:d.anchor={y:Math.floor(i.y1)-l,row:Na,x:u*(o||i.width()+2*i.x1),column:c};break;case g0:d.anchor={y:Math.ceil(i.y2)+l,x:u*(o||i.width()+2*i.x1),column:c};break;case z4t:d.anchor={x:l,y:l};break;case B4t:d.anchor={x:o-l,y:l,column:Na};break;case U4t:d.anchor={x:l,y:s-l,row:Na};break;case V4t:d.anchor={x:o-l,y:s-l,column:Na,row:Na};break}return d}function pLt(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,c;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),gLt(e,n,n.items[0].items[0]),o=hLt(n,o),l=2*n.padding,c=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),c=Math.ceil(o.height()+c)),r.type===X4t&&mLt(n.items[0].items[0].items[0].items),i!==jJ&&(n.x=s=0,n.y=a=0),n.width=l,n.height=c,cg(o.set(s,a,s+l,a+c),n),n.mark.bounds.clear().union(o),n}function hLt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function gLt(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&tk(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,c=r-s.x,u=r-s.y;switch(s.orient){case gd:i+=Math.ceil(s.bounds.width())+l;break;case bd:case g0:break;default:o+=s.bounds.height()+l}switch((i||o)&&tk(e,n,i,o),s.orient){case gd:u+=w1(t,n,s,a,1,1);break;case bd:c+=w1(t,n,s,Na,0,0)+l,u+=w1(t,n,s,a,1,1);break;case g0:c+=w1(t,n,s,a,0,0),u+=w1(t,n,s,Na,-1,0,1)+l;break;default:c+=w1(t,n,s,a,0,0)}(c||u)&&tk(e,s,c,u),(c=Math.round(s.bounds.x1-r))<0&&(tk(e,n,-c,0),tk(e,s,-c,0))}}function w1(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,c=a&&(o||!l)&&!s?t.items[0]:t,u=c.bounds[i?"y2":"x2"]-e.padding,d=l&&o?u:0,f=l&&o?0:u,p=i<=0?0:bJ(n);return Math.round(r===PJ?d:r===Na?f-p:.5*(u-p))}function tk(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function mLt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function yLt(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,c=o.offset,u=o.padding,d=o.items[0].items[0],f=o.items[1]&&o.items[1].items[0],p=a===gd||a===bd?r:n,g=0,y=0,v=0,x=0,w=0,S;if(s!==CL?a===gd?(g=i.y2,p=i.y1):a===bd?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):a===gd&&(g=r,p=0),S=l===PJ?g:l===Na?p:(g+p)/2,f&&f.text){switch(a){case NS:case g0:w=d.bounds.height()+u;break;case gd:x=d.bounds.width()+u;break;case bd:x=-d.bounds.width()-u;break}ia.clear().union(f.bounds),ia.translate(x-(f.x||0),w-(f.y||0)),lw(f,"x",x)|lw(f,"y",w)&&(e.dirty(f),f.bounds.clear().union(ia),f.mark.bounds.clear().union(ia),e.dirty(f)),ia.clear().union(f.bounds)}else ia.clear();switch(ia.union(d.bounds),a){case NS:y=S,v=i.y1-ia.height()-c;break;case gd:y=i.x1-ia.width()-c,v=S;break;case bd:y=i.x2+ia.width()+c,v=S;break;case g0:y=S,v=i.y2+c;break;default:y=o.x,v=o.y}return lw(o,"x",y)|lw(o,"y",v)&&(ia.translate(y,v),e.dirty(o),o.bounds.clear().union(ia),t.bounds.clear().union(ia),e.dirty(o)),o.bounds}function jje(e){Ue.call(this,null,e)}_t(jje,Ue,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&aLt(n,r,e.layout),bLt(n,r,e)}),vLt(e.mark.group)?t.reflow():t}});function vLt(e){return e&&e.mark.role!=="legend-entry"}function bLt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new Wo().set(0,0,i,o),a=s.clone(),l=s.clone(),c=[],u,d,f,p,g,y;for(g=0,y=r.length;g<y;++g)switch(d=r[g],d.role){case DJ:p=tLt(d)?a:l,p.union(rLt(e,d,i,o));break;case OJ:u=d;break;case IJ:c.push(pLt(e,d));break;case q4t:case G4t:case xje:case wje:case Sje:case _je:case Cje:case kje:a.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(c.length){const v={};c.forEach(x=>{f=x.orient||bd,f!==jJ&&(v[f]||(v[f]=[])).push(x)});for(const x in v){const w=v[x];Ije(e,w,fLt(w,x,n.legends,a,l,i,o))}c.forEach(x=>{const w=x.bounds;if(w.equals(x._bounds)||(x.bounds=x._bounds,e.dirty(x),x.bounds=w,e.dirty(x)),n.autosize&&(n.autosize.type===Eje||n.autosize.type===Tje||n.autosize.type===Rje))switch(x.orient){case gd:case bd:s.add(w.x1,0).add(w.x2,0);break;case NS:case g0:s.add(0,w.y1).add(0,w.y2)}else s.union(w)})}s.union(a).union(l),u&&s.union(yLt(e,u,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),xLt(e,t,s,n)}function xLt(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),p=Math.max(0,Math.ceil(n.y2-u));if(i.contains===Y4t){const g=e.padding();s-=g.left+g.right,a-=g.top+g.bottom}o===jJ?(c=0,d=0,l=s,u=a):o===Eje?(l=Math.max(0,s-c-f),u=Math.max(0,a-d-p)):o===Tje?(l=Math.max(0,s-c-f),a=u+d+p):o===Rje?(s=l+c+f,u=Math.max(0,a-d-p)):o===K4t&&(s=l+c+f,a=u+d+p),e._resizeView(s,a,l,u,[c,d],i.resize)}const wLt=Object.freeze(Object.defineProperty({__proto__:null,bound:Mje,identifier:FJ,mark:Aje,overlap:Pje,render:Oje,viewlayout:jje},Symbol.toStringTag,{value:"Module"}));function $je(e){Ue.call(this,null,e)}_t($je,Ue,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=tJ(o,s,e.minstep),l=e.format||uIe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),c=e.values?cIe(o,e.values,a):nJ(o,a);return i&&(r.rem=i),i=c.map((u,d)=>zr({index:d/(c.length-1||1),value:u,label:l(u)})),e.extra&&i.length&&i.push(zr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Fje(e){Ue.call(this,null,e)}function SLt(){return zr({})}function _Lt(e){const t=Y_().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}_t(Fje,Ue,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||SLt,o=e.key||dn,s=this.value;return Je(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&Ge("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=_Lt(o)),t.visit(t.ADD,a=>{const l=o(a);let c=s.get(l);c?c.exit?(s.empty--,r.add.push(c)):r.mod.push(c):(c=i(a),s.set(l,c),r.add.push(c)),c.datum=a,c.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),c=s.get(l);c&&(c.datum=a,r.mod.push(c))}),t.visit(t.REM,a=>{const l=o(a),c=s.get(l);a===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function Lje(e){Ue.call(this,null,e)}_t(Lje,Ue,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Je(o))if(n.changed()||o.every(d=>i[d]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||Qg,l=i.enter||Qg,c=i.exit||Qg,u=(o&&!s?i[o]:a)||Qg;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),u!==Qg&&u!==a&&(t.visit(t.ADD,d=>{u(d,e)}),n.modifies(u.output))),t.changed(t.REM)&&c!==Qg&&(t.visit(t.REM,d=>{c(d,e)}),n.modifies(c.output)),s||u!==Qg){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,f=>{const p=l(f,e)||r;(u(f,e)||p)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(u(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}});function Nje(e){Ue.call(this,[],e)}_t(Nje,Ue,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||oj,s=e.scale,a=+e.limit,l=tJ(s,e.count==null?5:e.count,e.minstep),c=!!e.values||o===oj,u=e.format||hIe(n,s,l,o,e.formatSpecifier,e.formatType,c),d=e.values||pIe(s,l),f,p,g,y,v;return i&&(r.rem=i),o===oj?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),v=!0):i=d,Bn(g=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),y=i.reduce((x,w)=>Math.max(x,g(w,e)),0)):g=wa(y=g||8),i=i.map((x,w)=>zr({index:w,label:u(x,w,i),value:x,offset:y,size:g(x,e)})),v&&(v=d[i.length],i.push(zr({index:i.length,label:`${d.length-i.length} entries`,value:v,offset:y,size:g(v,e)})))):o===X$t?(f=s.domain(),p=sIe(s,f[0],br(f)),d.length<3&&!e.values&&f[0]!==br(f)&&(d=[f[0],br(f)]),i=d.map((x,w)=>zr({index:w,label:u(x,w,d),value:x,perc:p(x)}))):(g=d.length-1,p=s3t(s),i=d.map((x,w)=>zr({index:w,label:u(x,w,d),value:x,perc:w?p(x):0,perc2:w===g?1:p(d[w+1])}))),r.source=i,r.add=i,this.value=i,r}});const CLt=e=>e.source.x,kLt=e=>e.source.y,ELt=e=>e.target.x,TLt=e=>e.target.y;function LJ(e){Ue.call(this,{},e)}LJ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};_t(LJ,Ue,{transform(e,t){var n=e.sourceX||CLt,r=e.sourceY||kLt,i=e.targetX||ELt,o=e.targetY||TLt,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",c=f0e.get(l+"-"+a)||f0e.get(l);return c||Ge("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,u=>{u[s]=c(n(u),r(u),i(u),o(u))}),t.reflow(e.modified()).modifies(s)}});const zje=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,RLt=(e,t,n,r)=>zje(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Bje=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},MLt=(e,t,n,r)=>Bje(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Uje=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},ALt=(e,t,n,r)=>Uje(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),PLt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,DLt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,OLt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},ILt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},jLt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},$Lt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},f0e=Y_({line:zje,"line-radial":RLt,arc:Bje,"arc-radial":MLt,curve:Uje,"curve-radial":ALt,"orthogonal-horizontal":PLt,"orthogonal-vertical":DLt,"orthogonal-radial":OLt,"diagonal-horizontal":ILt,"diagonal-vertical":jLt,"diagonal-radial":$Lt});function NJ(e){Ue.call(this,null,e)}NJ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};_t(NJ,Ue,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||H_,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,c=l.map(o),u=c.length,d=s,f=(a-s)/RPe(c),p=hc(u),g,y,v;for(e.sort&&p.sort((x,w)=>c[x]-c[w]),g=0;g<u;++g)v=c[p[g]],y=l[p[g]],y[r]=d,y[i]=d+=v*f;return this.value=c,t.reflow(e.modified()).modifies(n)}});const FLt=5;function LLt(e){const t=e.type;return!e.bins&&(t===OS||t===FM||t===LM)}function Vje(e){return QQ(e)&&e!==Vf}const NLt=Od(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Hje(e){Ue.call(this,null,e),this.modified(!0)}_t(Hje,Ue,{transform(e,t){var n=t.dataflow,r=this.value,i=zLt(e);(!r||i!==r.type)&&(this.value=r=jr(i)());for(i in e)if(!NLt[i]){if(i==="padding"&&Vje(r.type))continue;Bn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return qLt(r,e,WLt(r,e,ULt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function zLt(e){var t=e.type,n="",r;return t===Vf?Vf+"-"+OS:(BLt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Vf+"-":r===3?tC+"-":""),(n+t||OS).toLowerCase())}function BLt(e){const t=e.type;return QQ(t)&&t!==pb&&t!==hb&&(e.scheme||e.range&&e.range.length&&e.range.every(jt))}function ULt(e,t,n){const r=VLt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&LLt(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const c=l>i[a]?a+1:l<i[0]?0:a;c!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(c,0,l)}return Vje(o)&&t.padding&&i[0]!==br(i)&&(i=HLt(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Wje(o,i,n)),o===YQ&&e.unknown(t.domainImplicit?OW:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&tJ(e,t.nice)||null),i.length}function VLt(e,t,n){return t?(e.domain(Wje(e.type,t,n)),t.length):-1}function HLt(e,t,n,r,i,o){var s=Math.abs(br(n)-n[0]),a=s/(s-2*r),l=e===Qh?xZ(t,null,a):e===LM?o$(t,null,a,.5):e===FM?o$(t,null,a,i||1):e===cL?wZ(t,null,a,o||1):bZ(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function Wje(e,t,n){if(tIe(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+yt(t))}return t}function WLt(e,t,n){let r=t.bins;if(r&&!Je(r)){const i=e.domain(),o=i[0],s=br(i),a=r.step;let l=r.start==null?o:r.start,c=r.stop==null?s:r.stop;a||Ge("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),c>s&&(c=a*Math.floor(s/a)),r=hc(l,c+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===XQ&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function qLt(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=GLt(r,t,n);else if(t.scheme&&(o=YLt(r,t,n),Bn(o))){if(e.interpolator)return e.interpolator(o);Ge(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&nIe(r))return e.interpolator(fL(ZW(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(JQ(t.interpolate,t.interpolateGamma)):Bn(e.round)?e.round(i):Bn(e.rangeRound)&&e.interpolate(i?PR:Ed),o&&e.range(ZW(o,t.reverse))}function GLt(e,t,n){e!==XOe&&e!==$W&&Ge("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===$W?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*GQ(n,i,r)]}function YLt(e,t,n){var r=t.schemeExtent,i,o;return Je(t.scheme)?o=fL(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=eJ(i),o||Ge(`Unrecognized scheme name: ${t.scheme}`)),n=e===dL?n+1:e===XQ?n-1:e===IS||e===uL?+t.schemeCount||FLt:n,nIe(e)?p0e(o,r,t.reverse):Bn(o)?oIe(p0e(o,r),n):e===YQ?o:o.slice(0,n)}function p0e(e,t,n){return Bn(e)&&(t||n)?iIe(e,ZW(t||[0,1],n)):e}function ZW(e,t){return t?e.slice().reverse():e}function qje(e){Ue.call(this,null,e)}_t(qje,Ue,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(ix(e.sort)),this.modified(n),t}});const h0e="zero",Gje="center",Yje="normalize",Xje=["y0","y1"];function zJ(e){Ue.call(this,null,e)}zJ.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:h0e,values:[h0e,Gje,Yje]},{name:"as",type:"string",array:!0,length:2,default:Xje}]};_t(zJ,Ue,{transform(e,t){var n=e.as||Xje,r=n[0],i=n[1],o=ix(e.sort),s=e.field||H_,a=e.offset===Gje?XLt:e.offset===Yje?KLt:ZLt,l,c,u,d;for(l=QLt(t.source,e.groupby,o,s),c=0,u=l.length,d=l.max;c<u;++c)a(l[c],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function XLt(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function KLt(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,c=0,u;l<a;++l)u=e[l],u[r]=s,u[i]=s=o*(c+=Math.abs(n(u)))}function ZLt(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,c,u;l<a;++l)u=e[l],c=+n(u),c<0?(u[r]=s,u[i]=s+=c):(u[r]=o,u[i]=o+=c)}function QLt(e,t,n,r){var i=[],o=y=>y(u),s,a,l,c,u,d,f,p,g;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)u=e[a],d=t.map(o),f=s[d],f||(s[d]=f=[],i.push(f)),f.push(u);for(d=0,g=0,c=i.length;d<c;++d){for(f=i[d],a=0,p=0,l=f.length;a<l;++a)p+=Math.abs(r(f[a]));f.sum=p,p>g&&(g=p),n&&f.sort(n)}return i.max=g,i}const JLt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:$je,datajoin:Fje,encode:Lje,legendentries:Nje,linkpath:LJ,pie:NJ,scale:Hje,sortitems:qje,stack:zJ},Symbol.toStringTag,{value:"Module"}));var yn=1e-6,P$=1e-12,rr=Math.PI,po=rr/2,D$=rr/4,Ka=rr*2,Co=180/rr,tr=rr/180,vr=Math.abs,rC=Math.atan,$u=Math.atan2,xn=Math.cos,fO=Math.ceil,Kje=Math.exp,QW=Math.hypot,O$=Math.log,N9=Math.pow,fn=Math.sin,hu=Math.sign||function(e){return e>0?1:e<0?-1:0},Za=Math.sqrt,BJ=Math.tan;function Zje(e){return e>1?0:e<-1?rr:Math.acos(e)}function $l(e){return e>1?po:e<-1?-po:Math.asin(e)}function Us(){}function I$(e,t){e&&m0e.hasOwnProperty(e.type)&&m0e[e.type](e,t)}var g0e={Feature:function(e,t){I$(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)I$(n[r].geometry,t)}},m0e={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){JW(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)JW(n[r],t,0)},Polygon:function(e,t){y0e(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)y0e(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)I$(n[r],t)}};function JW(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function y0e(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)JW(e[n],t,1);t.polygonEnd()}function fh(e,t){e&&g0e.hasOwnProperty(e.type)?g0e[e.type](e,t):I$(e,t)}var j$=new Ya,$$=new Ya,Qje,Jje,eq,tq,nq,rp={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){j$=new Ya,rp.lineStart=eNt,rp.lineEnd=tNt},polygonEnd:function(){var e=+j$;$$.add(e<0?Ka+e:e),this.lineStart=this.lineEnd=this.point=Us},sphere:function(){$$.add(Ka)}};function eNt(){rp.point=nNt}function tNt(){e5e(Qje,Jje)}function nNt(e,t){rp.point=e5e,Qje=e,Jje=t,e*=tr,t*=tr,eq=e,tq=xn(t=t/2+D$),nq=fn(t)}function e5e(e,t){e*=tr,t*=tr,t=t/2+D$;var n=e-eq,r=n>=0?1:-1,i=r*n,o=xn(t),s=fn(t),a=nq*s,l=tq*o+a*xn(i),c=a*r*fn(i);j$.add($u(c,l)),eq=e,tq=o,nq=s}function rNt(e){return $$=new Ya,fh(e,rp),$$*2}function F$(e){return[$u(e[1],e[0]),$l(e[2])]}function mb(e){var t=e[0],n=e[1],r=xn(n);return[r*xn(t),r*fn(t),fn(n)]}function pO(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function zS(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function z9(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function hO(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function L$(e){var t=Za(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Ki,yl,uo,cc,Wy,t5e,n5e,Ow,DE,sm,Jh,ah={point:rq,lineStart:v0e,lineEnd:b0e,polygonStart:function(){ah.point=i5e,ah.lineStart=iNt,ah.lineEnd=oNt,DE=new Ya,rp.polygonStart()},polygonEnd:function(){rp.polygonEnd(),ah.point=rq,ah.lineStart=v0e,ah.lineEnd=b0e,j$<0?(Ki=-(uo=180),yl=-(cc=90)):DE>yn?cc=90:DE<-yn&&(yl=-90),Jh[0]=Ki,Jh[1]=uo},sphere:function(){Ki=-(uo=180),yl=-(cc=90)}};function rq(e,t){sm.push(Jh=[Ki=e,uo=e]),t<yl&&(yl=t),t>cc&&(cc=t)}function r5e(e,t){var n=mb([e*tr,t*tr]);if(Ow){var r=zS(Ow,n),i=[r[1],-r[0],0],o=zS(i,r);L$(o),o=F$(o);var s=e-Wy,a=s>0?1:-1,l=o[0]*Co*a,c,u=vr(s)>180;u^(a*Wy<l&&l<a*e)?(c=o[1]*Co,c>cc&&(cc=c)):(l=(l+360)%360-180,u^(a*Wy<l&&l<a*e)?(c=-o[1]*Co,c<yl&&(yl=c)):(t<yl&&(yl=t),t>cc&&(cc=t))),u?e<Wy?nc(Ki,e)>nc(Ki,uo)&&(uo=e):nc(e,uo)>nc(Ki,uo)&&(Ki=e):uo>=Ki?(e<Ki&&(Ki=e),e>uo&&(uo=e)):e>Wy?nc(Ki,e)>nc(Ki,uo)&&(uo=e):nc(e,uo)>nc(Ki,uo)&&(Ki=e)}else sm.push(Jh=[Ki=e,uo=e]);t<yl&&(yl=t),t>cc&&(cc=t),Ow=n,Wy=e}function v0e(){ah.point=r5e}function b0e(){Jh[0]=Ki,Jh[1]=uo,ah.point=rq,Ow=null}function i5e(e,t){if(Ow){var n=e-Wy;DE.add(vr(n)>180?n+(n>0?360:-360):n)}else t5e=e,n5e=t;rp.point(e,t),r5e(e,t)}function iNt(){rp.lineStart()}function oNt(){i5e(t5e,n5e),rp.lineEnd(),vr(DE)>yn&&(Ki=-(uo=180)),Jh[0]=Ki,Jh[1]=uo,Ow=null}function nc(e,t){return(t-=e)<0?t+360:t}function sNt(e,t){return e[0]-t[0]}function x0e(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function aNt(e){var t,n,r,i,o,s,a;if(cc=uo=-(Ki=yl=1/0),sm=[],fh(e,ah),n=sm.length){for(sm.sort(sNt),t=1,r=sm[0],o=[r];t<n;++t)i=sm[t],x0e(r,i[0])||x0e(r,i[1])?(nc(r[0],i[1])>nc(r[0],r[1])&&(r[1]=i[1]),nc(i[0],r[1])>nc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=nc(r[1],i[0]))>s&&(s=a,Ki=i[0],uo=r[1])}return sm=Jh=null,Ki===1/0||yl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ki,yl],[uo,cc]]}var Yk,N$,z$,B$,U$,V$,H$,W$,iq,oq,sq,o5e,s5e,za,Ba,Ua,xd={sphere:Us,point:UJ,lineStart:w0e,lineEnd:S0e,polygonStart:function(){xd.lineStart=uNt,xd.lineEnd=dNt},polygonEnd:function(){xd.lineStart=w0e,xd.lineEnd=S0e}};function UJ(e,t){e*=tr,t*=tr;var n=xn(t);KM(n*xn(e),n*fn(e),fn(t))}function KM(e,t,n){++Yk,z$+=(e-z$)/Yk,B$+=(t-B$)/Yk,U$+=(n-U$)/Yk}function w0e(){xd.point=lNt}function lNt(e,t){e*=tr,t*=tr;var n=xn(t);za=n*xn(e),Ba=n*fn(e),Ua=fn(t),xd.point=cNt,KM(za,Ba,Ua)}function cNt(e,t){e*=tr,t*=tr;var n=xn(t),r=n*xn(e),i=n*fn(e),o=fn(t),s=$u(Za((s=Ba*o-Ua*i)*s+(s=Ua*r-za*o)*s+(s=za*i-Ba*r)*s),za*r+Ba*i+Ua*o);N$+=s,V$+=s*(za+(za=r)),H$+=s*(Ba+(Ba=i)),W$+=s*(Ua+(Ua=o)),KM(za,Ba,Ua)}function S0e(){xd.point=UJ}function uNt(){xd.point=fNt}function dNt(){a5e(o5e,s5e),xd.point=UJ}function fNt(e,t){o5e=e,s5e=t,e*=tr,t*=tr,xd.point=a5e;var n=xn(t);za=n*xn(e),Ba=n*fn(e),Ua=fn(t),KM(za,Ba,Ua)}function a5e(e,t){e*=tr,t*=tr;var n=xn(t),r=n*xn(e),i=n*fn(e),o=fn(t),s=Ba*o-Ua*i,a=Ua*r-za*o,l=za*i-Ba*r,c=QW(s,a,l),u=$l(c),d=c&&-u/c;iq.add(d*s),oq.add(d*a),sq.add(d*l),N$+=u,V$+=u*(za+(za=r)),H$+=u*(Ba+(Ba=i)),W$+=u*(Ua+(Ua=o)),KM(za,Ba,Ua)}function pNt(e){Yk=N$=z$=B$=U$=V$=H$=W$=0,iq=new Ya,oq=new Ya,sq=new Ya,fh(e,xd);var t=+iq,n=+oq,r=+sq,i=QW(t,n,r);return i<P$&&(t=V$,n=H$,r=W$,N$<yn&&(t=z$,n=B$,r=U$),i=QW(t,n,r),i<P$)?[NaN,NaN]:[$u(n,t)*Co,$l(r/i)*Co]}function aq(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function lq(e,t){return vr(e)>rr&&(e-=Math.round(e/Ka)*Ka),[e,t]}lq.invert=lq;function l5e(e,t,n){return(e%=Ka)?t||n?aq(C0e(e),k0e(t,n)):C0e(e):t||n?k0e(t,n):lq}function _0e(e){return function(t,n){return t+=e,vr(t)>rr&&(t-=Math.round(t/Ka)*Ka),[t,n]}}function C0e(e){var t=_0e(e);return t.invert=_0e(-e),t}function k0e(e,t){var n=xn(e),r=fn(e),i=xn(t),o=fn(t);function s(a,l){var c=xn(l),u=xn(a)*c,d=fn(a)*c,f=fn(l),p=f*n+u*r;return[$u(d*i-p*o,u*n-f*r),$l(p*i+d*o)]}return s.invert=function(a,l){var c=xn(l),u=xn(a)*c,d=fn(a)*c,f=fn(l),p=f*i-d*o;return[$u(d*i+f*o,u*n+p*r),$l(p*n-u*r)]},s}function hNt(e){e=l5e(e[0]*tr,e[1]*tr,e.length>2?e[2]*tr:0);function t(n){return n=e(n[0]*tr,n[1]*tr),n[0]*=Co,n[1]*=Co,n}return t.invert=function(n){return n=e.invert(n[0]*tr,n[1]*tr),n[0]*=Co,n[1]*=Co,n},t}function gNt(e,t,n,r,i,o){if(n){var s=xn(t),a=fn(t),l=r*n;i==null?(i=t+r*Ka,o=t-l/2):(i=E0e(s,i),o=E0e(s,o),(r>0?i<o:i>o)&&(i+=r*Ka));for(var c,u=i;r>0?u>o:u<o;u-=l)c=F$([s,-a*xn(u),-a*fn(u)]),e.point(c[0],c[1])}}function E0e(e,t){t=mb(t),t[0]-=e,L$(t);var n=Zje(-t[1]);return((-t[2]<0?-n:n)+Ka-yn)%Ka}function c5e(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Us,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function hj(e,t){return vr(e[0]-t[0])<yn&&vr(e[1]-t[1])<yn}function gO(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function u5e(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(g){if(!((y=g.length-1)<=0)){var y,v=g[0],x=g[y],w;if(hj(v,x)){if(!v[2]&&!x[2]){for(i.lineStart(),a=0;a<y;++a)i.point((v=g[a])[0],v[1]);i.lineEnd();return}x[0]+=2*yn}o.push(w=new gO(v,g,null,!0)),s.push(w.o=new gO(v,null,w,!1)),o.push(w=new gO(x,g,null,!1)),s.push(w.o=new gO(x,null,w,!0))}}),!!o.length){for(s.sort(t),T0e(o),T0e(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var c=o[0],u,d;;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,l=u.length;a<l;++a)i.point((d=u[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(u=f.p.z,a=u.length-1;a>=0;--a)i.point((d=u[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);i.lineEnd()}}}function T0e(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function B9(e){return vr(e[0])<=rr?e[0]:hu(e[0])*((vr(e[0])+rr)%Ka-rr)}function mNt(e,t){var n=B9(t),r=t[1],i=fn(r),o=[fn(n),-xn(n),0],s=0,a=0,l=new Ya;i===1?r=po+yn:i===-1&&(r=-po-yn);for(var c=0,u=e.length;c<u;++c)if(f=(d=e[c]).length)for(var d,f,p=d[f-1],g=B9(p),y=p[1]/2+D$,v=fn(y),x=xn(y),w=0;w<f;++w,g=C,v=T,x=E,p=S){var S=d[w],C=B9(S),k=S[1]/2+D$,T=fn(k),E=xn(k),A=C-g,O=A>=0?1:-1,I=O*A,j=I>rr,P=v*T;if(l.add($u(P*O*fn(I),x*E+P*xn(I))),s+=j?A+O*Ka:A,j^g>=n^C>=n){var $=zS(mb(p),mb(S));L$($);var D=zS(o,$);L$(D);var F=(j^A>=0?-1:1)*$l(D[2]);(r>F||r===F&&($[0]||$[1]))&&(a+=j^A>=0?1:-1)}}return(s<-yn||s<yn&&l<-P$)^a&1}function d5e(e,t,n,r){return function(i){var o=t(i),s=c5e(),a=t(s),l=!1,c,u,d,f={point:p,lineStart:y,lineEnd:v,polygonStart:function(){f.point=x,f.lineStart=w,f.lineEnd=S,u=[],c=[]},polygonEnd:function(){f.point=p,f.lineStart=y,f.lineEnd=v,u=TPe(u);var C=mNt(c,r);u.length?(l||(i.polygonStart(),l=!0),u5e(u,vNt,C,n,i)):C&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(C,k){e(C,k)&&i.point(C,k)}function g(C,k){o.point(C,k)}function y(){f.point=g,o.lineStart()}function v(){f.point=p,o.lineEnd()}function x(C,k){d.push([C,k]),a.point(C,k)}function w(){a.lineStart(),d=[]}function S(){x(d[0][0],d[0][1]),a.lineEnd();var C=a.clean(),k=s.result(),T,E=k.length,A,O,I;if(d.pop(),c.push(d),d=null,!!E){if(C&1){if(O=k[0],(A=O.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),T=0;T<A;++T)i.point((I=O[T])[0],I[1]);i.lineEnd()}return}E>1&&C&2&&k.push(k.pop().concat(k.shift())),u.push(k.filter(yNt))}}return f}}function yNt(e){return e.length>1}function vNt(e,t){return((e=e.x)[0]<0?e[1]-po-yn:po-e[1])-((t=t.x)[0]<0?t[1]-po-yn:po-t[1])}const R0e=d5e(function(){return!0},bNt,wNt,[-rr,-po]);function bNt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?rr:-rr,l=vr(o-t);vr(l-rr)<yn?(e.point(t,n=(n+s)/2>0?po:-po),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=rr&&(vr(t-r)<yn&&(t-=r*yn),vr(o-a)<yn&&(o-=a*yn),n=xNt(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function xNt(e,t,n,r){var i,o,s=fn(e-n);return vr(s)>yn?rC((fn(t)*(o=xn(r))*fn(n)-fn(r)*(i=xn(t))*fn(e))/(i*o*s)):(t+r)/2}function wNt(e,t,n,r){var i;if(e==null)i=n*po,r.point(-rr,i),r.point(0,i),r.point(rr,i),r.point(rr,0),r.point(rr,-i),r.point(0,-i),r.point(-rr,-i),r.point(-rr,0),r.point(-rr,i);else if(vr(e[0]-t[0])>yn){var o=e[0]<t[0]?rr:-rr;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function SNt(e){var t=xn(e),n=2*tr,r=t>0,i=vr(t)>yn;function o(u,d,f,p){gNt(p,e,n,f,u,d)}function s(u,d){return xn(u)*xn(d)>t}function a(u){var d,f,p,g,y;return{lineStart:function(){g=p=!1,y=1},point:function(v,x){var w=[v,x],S,C=s(v,x),k=r?C?0:c(v,x):C?c(v+(v<0?rr:-rr),x):0;if(!d&&(g=p=C)&&u.lineStart(),C!==p&&(S=l(d,w),(!S||hj(d,S)||hj(w,S))&&(w[2]=1)),C!==p)y=0,C?(u.lineStart(),S=l(w,d),u.point(S[0],S[1])):(S=l(d,w),u.point(S[0],S[1],2),u.lineEnd()),d=S;else if(i&&d&&r^C){var T;!(k&f)&&(T=l(w,d,!0))&&(y=0,r?(u.lineStart(),u.point(T[0][0],T[0][1]),u.point(T[1][0],T[1][1]),u.lineEnd()):(u.point(T[1][0],T[1][1]),u.lineEnd(),u.lineStart(),u.point(T[0][0],T[0][1],3)))}C&&(!d||!hj(d,w))&&u.point(w[0],w[1]),d=w,p=C,f=k},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return y|(g&&p)<<1}}}function l(u,d,f){var p=mb(u),g=mb(d),y=[1,0,0],v=zS(p,g),x=pO(v,v),w=v[0],S=x-w*w;if(!S)return!f&&u;var C=t*x/S,k=-t*w/S,T=zS(y,v),E=hO(y,C),A=hO(v,k);z9(E,A);var O=T,I=pO(E,O),j=pO(O,O),P=I*I-j*(pO(E,E)-1);if(!(P<0)){var $=Za(P),D=hO(O,(-I-$)/j);if(z9(D,E),D=F$(D),!f)return D;var F=u[0],N=d[0],V=u[1],H=d[1],U;N<F&&(U=F,F=N,N=U);var G=N-F,z=vr(G-rr)<yn,W=z||G<yn;if(!z&&H<V&&(U=V,V=H,H=U),W?z?V+H>0^D[1]<(vr(D[0]-F)<yn?V:H):V<=D[1]&&D[1]<=H:G>rr^(F<=D[0]&&D[0]<=N)){var X=hO(O,(-I+$)/j);return z9(X,E),[D,F$(X)]}}}function c(u,d){var f=r?e:rr-e,p=0;return u<-f?p|=1:u>f&&(p|=2),d<-f?p|=4:d>f&&(p|=8),p}return d5e(s,a,o,r?[0,-e]:[-rr,e-rr])}function _Nt(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],c=t[1],u=0,d=1,f=l-s,p=c-a,g;if(g=n-s,!(!f&&g>0)){if(g/=f,f<0){if(g<u)return;g<d&&(d=g)}else if(f>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!f&&g<0)){if(g/=f,f<0){if(g>d)return;g>u&&(u=g)}else if(f>0){if(g<u)return;g<d&&(d=g)}if(g=r-a,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=o-a,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(e[0]=s+u*f,e[1]=a+u*p),d<1&&(t[0]=s+d*f,t[1]=a+d*p),!0}}}}}var Xk=1e9,mO=-Xk;function f5e(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function o(c,u,d,f){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do f.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+d+4)%4)!==g);else f.point(u[0],u[1])}function s(c,u){return vr(c[0]-e)<yn?u>0?0:3:vr(c[0]-n)<yn?u>0?2:1:vr(c[1]-t)<yn?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),f=s(u,1);return d!==f?d-f:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=c5e(),f,p,g,y,v,x,w,S,C,k,T,E={point:A,lineStart:P,lineEnd:$,polygonStart:I,polygonEnd:j};function A(F,N){i(F,N)&&u.point(F,N)}function O(){for(var F=0,N=0,V=p.length;N<V;++N)for(var H=p[N],U=1,G=H.length,z=H[0],W,X,Q=z[0],ee=z[1];U<G;++U)W=Q,X=ee,z=H[U],Q=z[0],ee=z[1],X<=r?ee>r&&(Q-W)*(r-X)>(ee-X)*(e-W)&&++F:ee<=r&&(Q-W)*(r-X)<(ee-X)*(e-W)&&--F;return F}function I(){u=d,f=[],p=[],T=!0}function j(){var F=O(),N=T&&F,V=(f=TPe(f)).length;(N||V)&&(c.polygonStart(),N&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),V&&u5e(f,a,F,o,c),c.polygonEnd()),u=c,f=p=g=null}function P(){E.point=D,p&&p.push(g=[]),k=!0,C=!1,w=S=NaN}function $(){f&&(D(y,v),x&&C&&d.rejoin(),f.push(d.result())),E.point=A,C&&u.lineEnd()}function D(F,N){var V=i(F,N);if(p&&g.push([F,N]),k)y=F,v=N,x=V,k=!1,V&&(u.lineStart(),u.point(F,N));else if(V&&C)u.point(F,N);else{var H=[w=Math.max(mO,Math.min(Xk,w)),S=Math.max(mO,Math.min(Xk,S))],U=[F=Math.max(mO,Math.min(Xk,F)),N=Math.max(mO,Math.min(Xk,N))];_Nt(H,U,e,t,n,r)?(C||(u.lineStart(),u.point(H[0],H[1])),u.point(U[0],U[1]),V||u.lineEnd(),T=!1):V&&(u.lineStart(),u.point(F,N),T=!1)}w=F,S=N,C=V}return E}}function M0e(e,t,n){var r=hc(e,t-yn,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function A0e(e,t,n){var r=hc(e,t-yn,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function CNt(){var e,t,n,r,i,o,s,a,l=10,c=l,u=90,d=360,f,p,g,y,v=2.5;function x(){return{type:"MultiLineString",coordinates:w()}}function w(){return hc(fO(r/u)*u,n,u).map(g).concat(hc(fO(a/d)*d,s,d).map(y)).concat(hc(fO(t/l)*l,e,l).filter(function(S){return vr(S%u)>yn}).map(f)).concat(hc(fO(o/c)*c,i,c).filter(function(S){return vr(S%d)>yn}).map(p))}return x.lines=function(){return w().map(function(S){return{type:"LineString",coordinates:S}})},x.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(y(s).slice(1),g(n).reverse().slice(1),y(a).reverse().slice(1))]}},x.extent=function(S){return arguments.length?x.extentMajor(S).extentMinor(S):x.extentMinor()},x.extentMajor=function(S){return arguments.length?(r=+S[0][0],n=+S[1][0],a=+S[0][1],s=+S[1][1],r>n&&(S=r,r=n,n=S),a>s&&(S=a,a=s,s=S),x.precision(v)):[[r,a],[n,s]]},x.extentMinor=function(S){return arguments.length?(t=+S[0][0],e=+S[1][0],o=+S[0][1],i=+S[1][1],t>e&&(S=t,t=e,e=S),o>i&&(S=o,o=i,i=S),x.precision(v)):[[t,o],[e,i]]},x.step=function(S){return arguments.length?x.stepMajor(S).stepMinor(S):x.stepMinor()},x.stepMajor=function(S){return arguments.length?(u=+S[0],d=+S[1],x):[u,d]},x.stepMinor=function(S){return arguments.length?(l=+S[0],c=+S[1],x):[l,c]},x.precision=function(S){return arguments.length?(v=+S,f=M0e(o,i,90),p=A0e(t,e,v),g=M0e(a,s,90),y=A0e(r,n,v),x):v},x.extentMajor([[-180,-90+yn],[180,90-yn]]).extentMinor([[-180,-80-yn],[180,80+yn]])}const qT=e=>e;var U9=new Ya,cq=new Ya,p5e,h5e,uq,dq,ph={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){ph.lineStart=kNt,ph.lineEnd=TNt},polygonEnd:function(){ph.lineStart=ph.lineEnd=ph.point=Us,U9.add(vr(cq)),cq=new Ya},result:function(){var e=U9/2;return U9=new Ya,e}};function kNt(){ph.point=ENt}function ENt(e,t){ph.point=g5e,p5e=uq=e,h5e=dq=t}function g5e(e,t){cq.add(dq*e-uq*t),uq=e,dq=t}function TNt(){g5e(p5e,h5e)}var BS=1/0,q$=BS,GT=-BS,G$=GT,Y$={point:RNt,lineStart:Us,lineEnd:Us,polygonStart:Us,polygonEnd:Us,result:function(){var e=[[BS,q$],[GT,G$]];return GT=G$=-(q$=BS=1/0),e}};function RNt(e,t){e<BS&&(BS=e),e>GT&&(GT=e),t<q$&&(q$=t),t>G$&&(G$=t)}var fq=0,pq=0,Kk=0,X$=0,K$=0,cw=0,hq=0,gq=0,Zk=0,m5e,y5e,Tf,Rf,cu={point:yb,lineStart:P0e,lineEnd:D0e,polygonStart:function(){cu.lineStart=PNt,cu.lineEnd=DNt},polygonEnd:function(){cu.point=yb,cu.lineStart=P0e,cu.lineEnd=D0e},result:function(){var e=Zk?[hq/Zk,gq/Zk]:cw?[X$/cw,K$/cw]:Kk?[fq/Kk,pq/Kk]:[NaN,NaN];return fq=pq=Kk=X$=K$=cw=hq=gq=Zk=0,e}};function yb(e,t){fq+=e,pq+=t,++Kk}function P0e(){cu.point=MNt}function MNt(e,t){cu.point=ANt,yb(Tf=e,Rf=t)}function ANt(e,t){var n=e-Tf,r=t-Rf,i=Za(n*n+r*r);X$+=i*(Tf+e)/2,K$+=i*(Rf+t)/2,cw+=i,yb(Tf=e,Rf=t)}function D0e(){cu.point=yb}function PNt(){cu.point=ONt}function DNt(){v5e(m5e,y5e)}function ONt(e,t){cu.point=v5e,yb(m5e=Tf=e,y5e=Rf=t)}function v5e(e,t){var n=e-Tf,r=t-Rf,i=Za(n*n+r*r);X$+=i*(Tf+e)/2,K$+=i*(Rf+t)/2,cw+=i,i=Rf*e-Tf*t,hq+=i*(Tf+e),gq+=i*(Rf+t),Zk+=i*3,yb(Tf=e,Rf=t)}function b5e(e){this._context=e}b5e.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ka);break}}},result:Us};var mq=new Ya,V9,x5e,w5e,Qk,Jk,YT={point:Us,lineStart:function(){YT.point=INt},lineEnd:function(){V9&&S5e(x5e,w5e),YT.point=Us},polygonStart:function(){V9=!0},polygonEnd:function(){V9=null},result:function(){var e=+mq;return mq=new Ya,e}};function INt(e,t){YT.point=S5e,x5e=Qk=e,w5e=Jk=t}function S5e(e,t){Qk-=e,Jk-=t,mq.add(Za(Qk*Qk+Jk*Jk)),Qk=e,Jk=t}let O0e,Z$,I0e,j0e;class $0e{constructor(t){this._append=t==null?_5e:jNt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==I0e||this._append!==Z$){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,I0e=r,Z$=this._append,j0e=this._,this._=i}this._+=j0e;break}}}result(){const t=this._;return this._="",t.length?t:null}}function _5e(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function jNt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return _5e;if(t!==O0e){const n=10**t;O0e=t,Z$=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Z$}function C5e(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),fh(a,i(o))),o.result()}return s.area=function(a){return fh(a,i(ph)),ph.result()},s.measure=function(a){return fh(a,i(YT)),YT.result()},s.bounds=function(a){return fh(a,i(Y$)),Y$.result()},s.centroid=function(a){return fh(a,i(cu)),cu.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,qT):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new $0e(n)):new b5e(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new $0e(n)),s},s.projection(e).digits(n).context(t)}function kL(e){return function(t){var n=new yq;for(var r in e)n[r]=e[r];return n.stream=t,n}}function yq(){}yq.prototype={constructor:yq,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function VJ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),fh(n,e.stream(Y$)),t(Y$.result()),r!=null&&e.clipExtent(r),e}function EL(e,t,n){return VJ(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function HJ(e,t,n){return EL(e,[[0,0],t],n)}function WJ(e,t,n){return VJ(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function qJ(e,t,n){return VJ(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var F0e=16,$Nt=xn(30*tr);function L0e(e,t){return+t?LNt(e,t):FNt(e)}function FNt(e){return kL({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function LNt(e,t){function n(r,i,o,s,a,l,c,u,d,f,p,g,y,v){var x=c-r,w=u-i,S=x*x+w*w;if(S>4*t&&y--){var C=s+f,k=a+p,T=l+g,E=Za(C*C+k*k+T*T),A=$l(T/=E),O=vr(vr(T)-1)<yn||vr(o-d)<yn?(o+d)/2:$u(k,C),I=e(O,A),j=I[0],P=I[1],$=j-r,D=P-i,F=w*$-x*D;(F*F/S>t||vr((x*$+w*D)/S-.5)>.3||s*f+a*p+l*g<$Nt)&&(n(r,i,o,s,a,l,j,P,O,C/=E,k/=E,T,y,v),v.point(j,P),n(j,P,O,C,k,T,c,u,d,f,p,g,y,v))}}return function(r){var i,o,s,a,l,c,u,d,f,p,g,y,v={point:x,lineStart:w,lineEnd:C,polygonStart:function(){r.polygonStart(),v.lineStart=k},polygonEnd:function(){r.polygonEnd(),v.lineStart=w}};function x(A,O){A=e(A,O),r.point(A[0],A[1])}function w(){d=NaN,v.point=S,r.lineStart()}function S(A,O){var I=mb([A,O]),j=e(A,O);n(d,f,u,p,g,y,d=j[0],f=j[1],u=A,p=I[0],g=I[1],y=I[2],F0e,r),r.point(d,f)}function C(){v.point=x,r.lineEnd()}function k(){w(),v.point=T,v.lineEnd=E}function T(A,O){S(i=A,O),o=d,s=f,a=p,l=g,c=y,v.point=S}function E(){n(d,f,u,p,g,y,o,s,i,a,l,c,F0e,r),v.lineEnd=C,C()}return v}}var NNt=kL({point:function(e,t){this.stream.point(e*tr,t*tr)}});function zNt(e){return kL({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function BNt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function N0e(e,t,n,r,i,o){if(!o)return BNt(e,t,n,r,i);var s=xn(o),a=fn(o),l=s*e,c=a*e,u=s/e,d=a/e,f=(a*n-s*t)/e,p=(a*t+s*n)/e;function g(y,v){return y*=r,v*=i,[l*y-c*v+t,n-c*y-l*v]}return g.invert=function(y,v){return[r*(u*y-d*v+f),i*(p-d*y-u*v)]},g}function gp(e){return k5e(function(){return e})()}function k5e(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,c=0,u,d=0,f=1,p=1,g=null,y=R0e,v=null,x,w,S,C=qT,k=.5,T,E,A,O,I;function j(F){return A(F[0]*tr,F[1]*tr)}function P(F){return F=A.invert(F[0],F[1]),F&&[F[0]*Co,F[1]*Co]}j.stream=function(F){return O&&I===F?O:O=NNt(zNt(u)(y(T(C(I=F)))))},j.preclip=function(F){return arguments.length?(y=F,g=void 0,D()):y},j.postclip=function(F){return arguments.length?(C=F,v=x=w=S=null,D()):C},j.clipAngle=function(F){return arguments.length?(y=+F?SNt(g=F*tr):(g=null,R0e),D()):g*Co},j.clipExtent=function(F){return arguments.length?(C=F==null?(v=x=w=S=null,qT):f5e(v=+F[0][0],x=+F[0][1],w=+F[1][0],S=+F[1][1]),D()):v==null?null:[[v,x],[w,S]]},j.scale=function(F){return arguments.length?(n=+F,$()):n},j.translate=function(F){return arguments.length?(r=+F[0],i=+F[1],$()):[r,i]},j.center=function(F){return arguments.length?(o=F[0]%360*tr,s=F[1]%360*tr,$()):[o*Co,s*Co]},j.rotate=function(F){return arguments.length?(a=F[0]%360*tr,l=F[1]%360*tr,c=F.length>2?F[2]%360*tr:0,$()):[a*Co,l*Co,c*Co]},j.angle=function(F){return arguments.length?(d=F%360*tr,$()):d*Co},j.reflectX=function(F){return arguments.length?(f=F?-1:1,$()):f<0},j.reflectY=function(F){return arguments.length?(p=F?-1:1,$()):p<0},j.precision=function(F){return arguments.length?(T=L0e(E,k=F*F),D()):Za(k)},j.fitExtent=function(F,N){return EL(j,F,N)},j.fitSize=function(F,N){return HJ(j,F,N)},j.fitWidth=function(F,N){return WJ(j,F,N)},j.fitHeight=function(F,N){return qJ(j,F,N)};function $(){var F=N0e(n,0,0,f,p,d).apply(null,t(o,s)),N=N0e(n,r-F[0],i-F[1],f,p,d);return u=l5e(a,l,c),E=aq(t,N),A=aq(u,E),T=L0e(E,k),D()}function D(){return O=I=null,j}return function(){return t=e.apply(this,arguments),j.invert=t.invert&&P,$()}}function GJ(e){var t=0,n=rr/3,r=k5e(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*tr,n=o[1]*tr):[t*Co,n*Co]},i}function UNt(e){var t=xn(e);function n(r,i){return[r*t,fn(i)/t]}return n.invert=function(r,i){return[r/t,$l(i*t)]},n}function VNt(e,t){var n=fn(e),r=(n+fn(t))/2;if(vr(r)<yn)return UNt(e);var i=1+n*(2*r-n),o=Za(i)/r;function s(a,l){var c=Za(i-2*r*fn(l))/r;return[c*fn(a*=r),o-c*xn(a)]}return s.invert=function(a,l){var c=o-l,u=$u(a,vr(c))*hu(c);return c*r<0&&(u-=rr*hu(a)*hu(c)),[u/r,$l((i-(a*a+c*c)*r*r)/(2*r))]},s}function Q$(){return GJ(VNt).scale(155.424).center([0,33.6442])}function E5e(){return Q$().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function HNt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function WNt(){var e,t,n=E5e(),r,i=Q$().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=Q$().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(f,p){l=[f,p]}};function u(f){var p=f[0],g=f[1];return l=null,r.point(p,g),l||(o.point(p,g),l)||(a.point(p,g),l)}u.invert=function(f){var p=n.scale(),g=n.translate(),y=(f[0]-g[0])/p,v=(f[1]-g[1])/p;return(v>=.12&&v<.234&&y>=-.425&&y<-.214?i:v>=.166&&v<.234&&y>=-.214&&y<-.115?s:n).invert(f)},u.stream=function(f){return e&&t===f?e:e=HNt([n.stream(t=f),i.stream(f),s.stream(f)])},u.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),s.precision(f),d()):n.precision()},u.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),s.scale(f),u.translate(n.translate())):n.scale()},u.translate=function(f){if(!arguments.length)return n.translate();var p=n.scale(),g=+f[0],y=+f[1];return r=n.translate(f).clipExtent([[g-.455*p,y-.238*p],[g+.455*p,y+.238*p]]).stream(c),o=i.translate([g-.307*p,y+.201*p]).clipExtent([[g-.425*p+yn,y+.12*p+yn],[g-.214*p-yn,y+.234*p-yn]]).stream(c),a=s.translate([g-.205*p,y+.212*p]).clipExtent([[g-.214*p+yn,y+.166*p+yn],[g-.115*p-yn,y+.234*p-yn]]).stream(c),d()},u.fitExtent=function(f,p){return EL(u,f,p)},u.fitSize=function(f,p){return HJ(u,f,p)},u.fitWidth=function(f,p){return WJ(u,f,p)},u.fitHeight=function(f,p){return qJ(u,f,p)};function d(){return e=t=null,u}return u.scale(1070)}function T5e(e){return function(t,n){var r=xn(t),i=xn(n),o=e(r*i);return o===1/0?[2,0]:[o*i*fn(t),o*fn(n)]}}function ZM(e){return function(t,n){var r=Za(t*t+n*n),i=e(r),o=fn(i),s=xn(i);return[$u(t*o,r*s),$l(r&&n*o/r)]}}var R5e=T5e(function(e){return Za(2/(1+e))});R5e.invert=ZM(function(e){return 2*$l(e/2)});function qNt(){return gp(R5e).scale(124.75).clipAngle(180-.001)}var M5e=T5e(function(e){return(e=Zje(e))&&e/fn(e)});M5e.invert=ZM(function(e){return e});function GNt(){return gp(M5e).scale(79.4188).clipAngle(180-.001)}function TL(e,t){return[e,O$(BJ((po+t)/2))]}TL.invert=function(e,t){return[e,2*rC(Kje(t))-po]};function YNt(){return A5e(TL).scale(961/Ka)}function A5e(e){var t=gp(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,c;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=c=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,a],[l,c]]};function u(){var d=rr*r(),f=t(hNt(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===TL?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),c]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,c)]])}return u()}function yO(e){return BJ((po+e)/2)}function XNt(e,t){var n=xn(e),r=e===t?fn(e):O$(n/xn(t))/O$(yO(t)/yO(e)),i=n*N9(yO(e),r)/r;if(!r)return TL;function o(s,a){i>0?a<-po+yn&&(a=-po+yn):a>po-yn&&(a=po-yn);var l=i/N9(yO(a),r);return[l*fn(r*s),i-l*xn(r*s)]}return o.invert=function(s,a){var l=i-a,c=hu(r)*Za(s*s+l*l),u=$u(s,vr(l))*hu(l);return l*r<0&&(u-=rr*hu(s)*hu(l)),[u/r,2*rC(N9(i/c,1/r))-po]},o}function KNt(){return GJ(XNt).scale(109.5).parallels([30,30])}function J$(e,t){return[e,t]}J$.invert=J$;function ZNt(){return gp(J$).scale(152.63)}function QNt(e,t){var n=xn(e),r=e===t?fn(e):(n-xn(t))/(t-e),i=n/r+e;if(vr(r)<yn)return J$;function o(s,a){var l=i-a,c=r*s;return[l*fn(c),i-l*xn(c)]}return o.invert=function(s,a){var l=i-a,c=$u(s,vr(l))*hu(l);return l*r<0&&(c-=rr*hu(s)*hu(l)),[c/r,i-hu(r)*Za(s*s+l*l)]},o}function JNt(){return GJ(QNt).scale(131.154).center([0,13.9389])}var OE=1.340264,IE=-.081106,jE=893e-6,$E=.003796,e3=Za(3)/2,ezt=12;function P5e(e,t){var n=$l(e3*fn(t)),r=n*n,i=r*r*r;return[e*xn(n)/(e3*(OE+3*IE*r+i*(7*jE+9*$E*r))),n*(OE+IE*r+i*(jE+$E*r))]}P5e.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<ezt&&(a=n*(OE+IE*r+i*(jE+$E*r))-t,l=OE+3*IE*r+i*(7*jE+9*$E*r),n-=s=a/l,r=n*n,i=r*r*r,!(vr(s)<P$));++o);return[e3*e*(OE+3*IE*r+i*(7*jE+9*$E*r))/xn(n),$l(fn(n)/e3)]};function tzt(){return gp(P5e).scale(177.158)}function D5e(e,t){var n=xn(t),r=xn(e)*n;return[n*fn(e)/r,fn(t)/r]}D5e.invert=ZM(rC);function nzt(){return gp(D5e).scale(144.049).clipAngle(60)}function rzt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,c,u,d,f=1,p=1,g=kL({point:function(C,k){var T=S([C,k]);this.stream.point(T[0],T[1])}}),y=qT,v,x;function w(){return f=e*r,p=e*i,v=x=null,S}function S(C){var k=C[0]*f,T=C[1]*p;if(o){var E=T*s-k*a;k=k*s+T*a,T=E}return[k+t,T+n]}return S.invert=function(C){var k=C[0]-t,T=C[1]-n;if(o){var E=T*s+k*a;k=k*s-T*a,T=E}return[k/f,T/p]},S.stream=function(C){return v&&x===C?v:v=g(y(x=C))},S.postclip=function(C){return arguments.length?(y=C,l=c=u=d=null,w()):y},S.clipExtent=function(C){return arguments.length?(y=C==null?(l=c=u=d=null,qT):f5e(l=+C[0][0],c=+C[0][1],u=+C[1][0],d=+C[1][1]),w()):l==null?null:[[l,c],[u,d]]},S.scale=function(C){return arguments.length?(e=+C,w()):e},S.translate=function(C){return arguments.length?(t=+C[0],n=+C[1],w()):[t,n]},S.angle=function(C){return arguments.length?(o=C%360*tr,a=fn(o),s=xn(o),w()):o*Co},S.reflectX=function(C){return arguments.length?(r=C?-1:1,w()):r<0},S.reflectY=function(C){return arguments.length?(i=C?-1:1,w()):i<0},S.fitExtent=function(C,k){return EL(S,C,k)},S.fitSize=function(C,k){return HJ(S,C,k)},S.fitWidth=function(C,k){return WJ(S,C,k)},S.fitHeight=function(C,k){return qJ(S,C,k)},S}function O5e(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}O5e.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(vr(i)>yn&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function izt(){return gp(O5e).scale(175.295)}function I5e(e,t){return[xn(t)*fn(e),fn(t)]}I5e.invert=ZM($l);function ozt(){return gp(I5e).scale(249.5).clipAngle(90+yn)}function j5e(e,t){var n=xn(t),r=1+xn(e)*n;return[n*fn(e)/r,fn(t)/r]}j5e.invert=ZM(function(e){return 2*rC(e)});function szt(){return gp(j5e).scale(250).clipAngle(142)}function $5e(e,t){return[O$(BJ((po+t)/2)),-e]}$5e.invert=function(e,t){return[-t,2*rC(Kje(e))-po]};function azt(){var e=A5e($5e),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var lzt=Math.abs,vq=Math.cos,t3=Math.sin,czt=1e-6,F5e=Math.PI,bq=F5e/2,z0e=uzt(2);function B0e(e){return e>1?bq:e<-1?-bq:Math.asin(e)}function uzt(e){return e>0?Math.sqrt(e):0}function dzt(e,t){var n=e*t3(t),r=30,i;do t-=i=(t+t3(t)-n)/(1+vq(t));while(lzt(i)>czt&&--r>0);return t/2}function fzt(e,t,n){function r(i,o){return[e*i*vq(o=dzt(n,o)),t*t3(o)]}return r.invert=function(i,o){return o=B0e(o/t),[i/(e*vq(o)),B0e((2*o+t3(2*o))/n)]},r}var pzt=fzt(z0e/bq,z0e,F5e);function hzt(){return gp(pzt).scale(169.529)}const gzt=C5e(),xq=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function mzt(e,t){return function n(){const r=t();return r.type=e,r.path=C5e().projection(r),r.copy=r.copy||function(){const i=n();return xq.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},JOe(r)}}function YJ(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(n3[e]=mzt(e,t),this):n3[e]||null}function L5e(e){return e&&e.path||gzt}const n3={albers:E5e,albersusa:WNt,azimuthalequalarea:qNt,azimuthalequidistant:GNt,conicconformal:KNt,conicequalarea:Q$,conicequidistant:JNt,equalEarth:tzt,equirectangular:ZNt,gnomonic:nzt,identity:rzt,mercator:YNt,mollweide:hzt,naturalEarth1:izt,orthographic:ozt,stereographic:szt,transversemercator:azt};for(const e in n3)YJ(e,n3[e]);function yzt(){}const Zp=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function N5e(){var e=1,t=1,n=a;function r(l,c){return c.map(u=>i(l,u))}function i(l,c){var u=[],d=[];return o(l,c,f=>{n(f,l,c),vzt(f)>0?u.push([f]):d.push(f)}),d.forEach(f=>{for(var p=0,g=u.length,y;p<g;++p)if(bzt((y=u[p])[0],f)!==-1){y.push(f);return}}),{type:"MultiPolygon",value:c,coordinates:u}}function o(l,c,u){var d=[],f=[],p,g,y,v,x,w;for(p=g=-1,v=l[0]>=c,Zp[v<<1].forEach(S);++p<e-1;)y=v,v=l[p+1]>=c,Zp[y|v<<1].forEach(S);for(Zp[v<<0].forEach(S);++g<t-1;){for(p=-1,v=l[g*e+e]>=c,x=l[g*e]>=c,Zp[v<<1|x<<2].forEach(S);++p<e-1;)y=v,v=l[g*e+e+p+1]>=c,w=x,x=l[g*e+p+1]>=c,Zp[y|v<<1|x<<2|w<<3].forEach(S);Zp[v|x<<3].forEach(S)}for(p=-1,x=l[g*e]>=c,Zp[x<<2].forEach(S);++p<e-1;)w=x,x=l[g*e+p+1]>=c,Zp[x<<2|w<<3].forEach(S);Zp[x<<3].forEach(S);function S(C){var k=[C[0][0]+p,C[0][1]+g],T=[C[1][0]+p,C[1][1]+g],E=s(k),A=s(T),O,I;(O=f[E])?(I=d[A])?(delete f[O.end],delete d[I.start],O===I?(O.ring.push(T),u(O.ring)):d[O.start]=f[I.end]={start:O.start,end:I.end,ring:O.ring.concat(I.ring)}):(delete f[O.end],O.ring.push(T),f[O.end=A]=O):(O=d[A])?(I=f[E])?(delete d[O.start],delete f[I.end],O===I?(O.ring.push(T),u(O.ring)):d[I.start]=f[O.end]={start:I.start,end:O.end,ring:I.ring.concat(O.ring)}):(delete d[O.start],O.ring.unshift(k),d[O.start=E]=O):d[E]=f[A]={start:E,end:A,ring:[k,T]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,c,u){l.forEach(d=>{var f=d[0],p=d[1],g=f|0,y=p|0,v,x=c[y*e+g];f>0&&f<e&&g===f&&(v=c[y*e+g-1],d[0]=f+(u-v)/(x-v)-.5),p>0&&p<t&&y===p&&(v=c[(y-1)*e+g],d[1]=p+(u-v)/(x-v)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),u=Math.floor(l[1]);return c>=0&&u>=0||Ge("invalid size"),e=c,t=u,r},r.smooth=function(l){return arguments.length?(n=l?a:yzt,r):n===a},r}function vzt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function bzt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=xzt(e,t[n]))return i;return 0}function xzt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],d=e[a],f=d[0],p=d[1];if(wzt(l,d,t))return 0;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(i=-i)}return i}function wzt(e,t,n){var r;return Szt(e,t,n)&&_zt(e[r=+(e[0]===t[0])],n[r],t[r])}function Szt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function _zt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function z5e(e,t,n){return function(r){var i=Jf(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?c0(o,s,e):a/(e+1);return hc(o+l,s,l)}}function XJ(e){Ue.call(this,null,e)}XJ.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};_t(XJ,Ue,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||xa,o=N5e().smooth(e.smooth!==!1),s=e.thresholds||Czt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(c=>{const u=i(c),d=o.size([u.width,u.height])(u.values,Je(s)?s:s(u.values));kzt(d,u,c,e),d.forEach(f=>{l.push(q4(c,zr(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Czt(e,t,n){const r=z5e(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>$v(t(i).values)))}function kzt(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(Bn(i)&&(i=i(n,r)),Bn(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(Or(i)?i:i[0])||1,a=(Or(i)?i:i[1])||1,l=o&&o[0]||0,c=o&&o[1]||0;e.forEach(B5e(t,s,a,l,c))}function B5e(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(d){d.forEach(c)}function c(d){a&&d.reverse(),d.forEach(u)}function u(d){d[0]=(d[0]-o)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function U0e(e,t,n){const r=e>=0?e:qZ(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function H9(e){return Bn(e)?e:wa(+e)}function U5e(){var e=l=>l[0],t=l=>l[1],n=H_,r=[-1,-1],i=960,o=500,s=2;function a(l,c){const u=U0e(r[0],l,e)>>s,d=U0e(r[1],l,t)>>s,f=u?u+2:0,p=d?d+2:0,g=2*f+(i>>s),y=2*p+(o>>s),v=new Float32Array(g*y),x=new Float32Array(g*y);let w=v;l.forEach(C=>{const k=f+(+e(C)>>s),T=p+(+t(C)>>s);k>=0&&k<g&&T>=0&&T<y&&(v[k+T*g]+=+n(C))}),u>0&&d>0?(S1(g,y,v,x,u),_1(g,y,x,v,d),S1(g,y,v,x,u),_1(g,y,x,v,d),S1(g,y,v,x,u),_1(g,y,x,v,d)):u>0?(S1(g,y,v,x,u),S1(g,y,x,v,u),S1(g,y,v,x,u),w=x):d>0&&(_1(g,y,v,x,d),_1(g,y,x,v,d),_1(g,y,v,x,d),w=x);const S=c?Math.pow(2,-2*s):1/RPe(w);for(let C=0,k=g*y;C<k;++C)w[C]*=S;return{values:w,scale:1<<s,width:g,height:y,x1:f,y1:p,x2:f+(i>>s),y2:p+(o>>s)}}return a.x=function(l){return arguments.length?(e=H9(l),a):e},a.y=function(l){return arguments.length?(t=H9(l),a):t},a.weight=function(l){return arguments.length?(n=H9(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var c=+l[0],u=+l[1];return c>=0&&u>=0||Ge("invalid size"),i=c,o=u,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||Ge("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=Ft(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&Ge("invalid bandwidth"),r=l,a):r},a}function S1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function _1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function KJ(e){Ue.call(this,null,e)}KJ.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Ezt=["x","y","weight","size","cellSize","bandwidth"];function V5e(e,t){return Ezt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}_t(KJ,Ue,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Tzt(r,e.groupby),o=(e.groupby||[]).map(go),s=V5e(U5e(),e),a=e.as||"grid",l=[];function c(u,d){for(let f=0;f<o.length;++f)u[o[f]]=d[f];return u}return l=i.map(u=>zr(c({[a]:s(u,e.counts)},u.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Tzt(e,t){var n=[],r=u=>u(a),i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function ZJ(e){Ue.call(this,null,e)}ZJ.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};_t(ZJ,Ue,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=N5e().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||z5e(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=V5e(U5e(),e)(i,!0),l=B5e(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=Je(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(zr),n}});const wq="Feature",QJ="FeatureCollection",Rzt="MultiPoint";function JJ(e){Ue.call(this,null,e)}JJ.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};_t(JJ,Ue,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&xa,l=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(ga(a))||o&&t.modified(ga(o))||s&&t.modified(ga(s)),(!this.value||c)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,u=>n.push(a(u))),o&&s&&(t.visit(l,u=>{var d=o(u),f=s(u);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:wq,geometry:{type:Rzt,coordinates:r}})),this.value={type:QJ,features:n}}});function eee(e){Ue.call(this,null,e)}eee.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};_t(eee,Ue,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||xa,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=L5e(e.projection),n.materialize().reflow()):s=i===xa||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=Mzt(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function Mzt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function tee(e){Ue.call(this,null,e)}tee.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};_t(tee,Ue,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function c(u){const d=n([r(u),i(u)]);d?(u[s]=d[0],u[a]=d[1]):(u[s]=void 0,u[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,c)),t.modifies(o)}});function nee(e){Ue.call(this,null,e)}nee.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};_t(nee,Ue,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=Azt(L5e(e.projection),e.field||Du("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function Azt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function ree(e){Ue.call(this,[],e),this.generator=CNt()}ree.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};_t(ree,Ue,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)Bn(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(_De(n[0],i)):t.add.push(zr(i)),n[0]=i,t}});function iee(e){Ue.call(this,null,e)}iee.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};_t(iee,Ue,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||xa,o=Dzt(e.opacity,e),s=Pzt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?$v(n.map(c=>$v(i(c).values))):0};return n.forEach(c=>{const u=i(c),d=Wn({},c,l);r||(d.$max=$v(u.values||[])),c[a]=Ozt(u,d,s.dep?s:wa(s(d)),o.dep?o:wa(o(d)))}),t.reflow(!0).modifies(a)}});function Pzt(e,t){let n;return Bn(e)?(n=r=>Ym(e(r,t)),n.dep=H5e(e)):n=wa(Ym(e||"#888")),n}function Dzt(e,t){let n;return Bn(e)?(n=r=>e(r,t),n.dep=H5e(e)):e?n=wa(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function H5e(e){if(!Bn(e))return!1;const t=Od(ga(e));return t.$x||t.$y||t.$value||t.$max}function Ozt(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,c=e.y2||o,u=e.values,d=u?v=>u[v]:hm,f=Vm(l-s,c-a),p=f.getContext("2d"),g=p.getImageData(0,0,l-s,c-a),y=g.data;for(let v=a,x=0;v<c;++v){t.$y=v-a;for(let w=s,S=v*i;w<l;++w,x+=4){t.$x=w-s,t.$value=d(w+S);const C=n(t);y[x+0]=C.r,y[x+1]=C.g,y[x+2]=C.b,y[x+3]=~~(255*r(t))}}return p.putImageData(g,0,0),f}function W5e(e){Ue.call(this,null,e),this.modified(!0)}_t(W5e,Ue,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=jzt(e.type),xq.forEach(r=>{e[r]!=null&&V0e(n,r,e[r])})):xq.forEach(r=>{e.modified(r)&&V0e(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Izt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Izt(e,t){const n=$zt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function jzt(e){const t=YJ((e||"mercator").toLowerCase());return t||Ge("Unrecognized projection type: "+e),t()}function V0e(e,t,n){Bn(e[t])&&e[t](n)}function $zt(e){return e=Ft(e),e.length===1?e[0]:{type:QJ,features:e.reduce((t,n)=>t.concat(Fzt(n)),[])}}function Fzt(e){return e.type===QJ?e.features:Ft(e).filter(t=>t!=null).map(t=>t.type===wq?t:{type:wq,geometry:t})}const Lzt=Object.freeze(Object.defineProperty({__proto__:null,contour:ZJ,geojson:JJ,geopath:eee,geopoint:tee,geoshape:nee,graticule:ree,heatmap:iee,isocontour:XJ,kde2d:KJ,projection:W5e},Symbol.toStringTag,{value:"Module"}));function Nzt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,c=0;for(o=0;o<s;++o)a=n[o],l+=a.x,c+=a.y;for(l=(l/s-e)*r,c=(c/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function zzt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return q5e(this.cover(t,n),t,n,e)}function q5e(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,c=e._x1,u=e._y1,d,f,p,g,y,v,x,w;if(!o)return e._root=s,e;for(;o.length;)if((y=t>=(d=(a+c)/2))?a=d:c=d,(v=n>=(f=(l+u)/2))?l=f:u=f,i=o,!(o=o[x=v<<1|y]))return i[x]=s,e;if(p=+e._x.call(null,o.data),g=+e._y.call(null,o.data),t===p&&n===g)return s.next=o,i?i[x]=s:e._root=s,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(y=t>=(d=(a+c)/2))?a=d:c=d,(v=n>=(f=(l+u)/2))?l=f:u=f;while((x=v<<1|y)===(w=(g>=f)<<1|p>=d));return i[w]=o,i[x]=s,e}function Bzt(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>d&&(d=o));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)q5e(this,s[n],a[n],e[n]);return this}function Uzt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,c;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Vzt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Hzt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ha(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Wzt(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,c,u=this._x1,d=this._y1,f=[],p=this._root,g,y;for(p&&f.push(new Ha(p,i,o,u,d)),n==null?n=1/0:(i=e-n,o=t-n,u=e+n,d=t+n,n*=n);g=f.pop();)if(!(!(p=g.node)||(s=g.x0)>u||(a=g.y0)>d||(l=g.x1)<i||(c=g.y1)<o))if(p.length){var v=(s+l)/2,x=(a+c)/2;f.push(new Ha(p[3],v,x,l,c),new Ha(p[2],s,x,v,c),new Ha(p[1],v,a,l,x),new Ha(p[0],s,a,v,x)),(y=(t>=x)<<1|e>=v)&&(g=f[f.length-1],f[f.length-1]=f[f.length-1-y],f[f.length-1-y]=g)}else{var w=e-+this._x.call(null,p.data),S=t-+this._y.call(null,p.data),C=w*w+S*S;if(C<n){var k=Math.sqrt(n=C);i=e-k,o=t-k,u=e+k,d=t+k,r=p.data}}return r}function qzt(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,c=this._y1,u,d,f,p,g,y,v,x;if(!n)return this;if(n.length)for(;;){if((g=u>=(f=(s+l)/2))?s=f:l=f,(y=d>=(p=(a+c)/2))?a=p:c=p,t=n,!(n=n[v=y<<1|g]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(r=t,x=v)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[v]=o:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=o,this)}function Gzt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Yzt(){return this._root}function Xzt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Kzt(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Ha(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(o+a)/2,u=(s+l)/2;(i=r[3])&&t.push(new Ha(i,c,u,a,l)),(i=r[2])&&t.push(new Ha(i,o,u,c,l)),(i=r[1])&&t.push(new Ha(i,c,s,a,u)),(i=r[0])&&t.push(new Ha(i,o,s,c,u))}return this}function Zzt(e){var t=[],n=[],r;for(this._root&&t.push(new Ha(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(s+l)/2,d=(a+c)/2;(o=i[0])&&t.push(new Ha(o,s,a,u,d)),(o=i[1])&&t.push(new Ha(o,u,a,l,d)),(o=i[2])&&t.push(new Ha(o,s,d,u,c)),(o=i[3])&&t.push(new Ha(o,u,d,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Qzt(e){return e[0]}function Jzt(e){return arguments.length?(this._x=e,this):this._x}function e6t(e){return e[1]}function t6t(e){return arguments.length?(this._y=e,this):this._y}function oee(e,t,n){var r=new see(t??Qzt,n??e6t,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function see(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function H0e(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var el=oee.prototype=see.prototype;el.copy=function(){var e=new see(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=H0e(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=H0e(r));return e};el.add=zzt;el.addAll=Bzt;el.cover=Uzt;el.data=Vzt;el.extent=Hzt;el.find=Wzt;el.remove=qzt;el.removeAll=Gzt;el.root=Yzt;el.size=Xzt;el.visit=Kzt;el.visitAfter=Zzt;el.x=Jzt;el.y=t6t;function Wa(e){return function(){return e}}function Em(e){return(e()-.5)*1e-6}function n6t(e){return e.x+e.vx}function r6t(e){return e.y+e.vy}function i6t(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Wa(e==null?1:+e));function s(){for(var c,u=t.length,d,f,p,g,y,v,x=0;x<o;++x)for(d=oee(t,n6t,r6t).visitAfter(a),c=0;c<u;++c)f=t[c],y=n[f.index],v=y*y,p=f.x+f.vx,g=f.y+f.vy,d.visit(w);function w(S,C,k,T,E){var A=S.data,O=S.r,I=y+O;if(A){if(A.index>f.index){var j=p-A.x-A.vx,P=g-A.y-A.vy,$=j*j+P*P;$<I*I&&(j===0&&(j=Em(r),$+=j*j),P===0&&(P=Em(r),$+=P*P),$=(I-($=Math.sqrt($)))/$*i,f.vx+=(j*=$)*(I=(O*=O)/(v+O)),f.vy+=(P*=$)*I,A.vx-=j*(I=1-I),A.vy-=P*I)}return}return C>p+I||T<p-I||k>g+I||E<g-I}}function a(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,d;for(n=new Array(u),c=0;c<u;++c)d=t[c],n[d.index]=+e(d,c,t)}}return s.initialize=function(c,u){t=c,r=u,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Wa(+c),l(),s):e},s}function o6t(e){return e.index}function W0e(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function s6t(e){var t=o6t,n=d,r,i=Wa(30),o,s,a,l,c,u=1;e==null&&(e=[]);function d(v){return 1/Math.min(a[v.source.index],a[v.target.index])}function f(v){for(var x=0,w=e.length;x<u;++x)for(var S=0,C,k,T,E,A,O,I;S<w;++S)C=e[S],k=C.source,T=C.target,E=T.x+T.vx-k.x-k.vx||Em(c),A=T.y+T.vy-k.y-k.vy||Em(c),O=Math.sqrt(E*E+A*A),O=(O-o[S])/O*v*r[S],E*=O,A*=O,T.vx-=E*(I=l[S]),T.vy-=A*I,k.vx+=E*(I=1-I),k.vy+=A*I}function p(){if(s){var v,x=s.length,w=e.length,S=new Map(s.map((k,T)=>[t(k,T,s),k])),C;for(v=0,a=new Array(x);v<w;++v)C=e[v],C.index=v,typeof C.source!="object"&&(C.source=W0e(S,C.source)),typeof C.target!="object"&&(C.target=W0e(S,C.target)),a[C.source.index]=(a[C.source.index]||0)+1,a[C.target.index]=(a[C.target.index]||0)+1;for(v=0,l=new Array(w);v<w;++v)C=e[v],l[v]=a[C.source.index]/(a[C.source.index]+a[C.target.index]);r=new Array(w),g(),o=new Array(w),y()}}function g(){if(s)for(var v=0,x=e.length;v<x;++v)r[v]=+n(e[v],v,e)}function y(){if(s)for(var v=0,x=e.length;v<x;++v)o[v]=+i(e[v],v,e)}return f.initialize=function(v,x){s=v,c=x,p()},f.links=function(v){return arguments.length?(e=v,p(),f):e},f.id=function(v){return arguments.length?(t=v,f):t},f.iterations=function(v){return arguments.length?(u=+v,f):u},f.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Wa(+v),g(),f):n},f.distance=function(v){return arguments.length?(i=typeof v=="function"?v:Wa(+v),y(),f):i},f}const a6t=1664525,l6t=1013904223,q0e=4294967296;function c6t(){let e=1;return()=>(e=(a6t*e+l6t)%q0e)/q0e}function u6t(e){return e.x}function d6t(e){return e.y}var f6t=10,p6t=Math.PI*(3-Math.sqrt(5));function h6t(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=DY(d),c=RR("tick","end"),u=c6t();e==null&&(e=[]);function d(){f(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function f(y){var v,x=e.length,w;y===void 0&&(y=1);for(var S=0;S<y;++S)for(n+=(o-n)*i,a.forEach(function(C){C(n)}),v=0;v<x;++v)w=e[v],w.fx==null?w.x+=w.vx*=s:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=s:(w.y=w.fy,w.vy=0);return t}function p(){for(var y=0,v=e.length,x;y<v;++y){if(x=e[y],x.index=y,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var w=f6t*Math.sqrt(.5+y),S=y*p6t;x.x=w*Math.cos(S),x.y=w*Math.sin(S)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function g(y){return y.initialize&&y.initialize(e,u),y}return p(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(y){return arguments.length?(e=y,p(),a.forEach(g),t):e},alpha:function(y){return arguments.length?(n=+y,t):n},alphaMin:function(y){return arguments.length?(r=+y,t):r},alphaDecay:function(y){return arguments.length?(i=+y,t):+i},alphaTarget:function(y){return arguments.length?(o=+y,t):o},velocityDecay:function(y){return arguments.length?(s=1-y,t):1-s},randomSource:function(y){return arguments.length?(u=y,a.forEach(g),t):u},force:function(y,v){return arguments.length>1?(v==null?a.delete(y):a.set(y,g(v)),t):a.get(y)},find:function(y,v,x){var w=0,S=e.length,C,k,T,E,A;for(x==null?x=1/0:x*=x,w=0;w<S;++w)E=e[w],C=y-E.x,k=v-E.y,T=C*C+k*k,T<x&&(A=E,x=T);return A},on:function(y,v){return arguments.length>1?(c.on(y,v),t):c.on(y)}}}function g6t(){var e,t,n,r,i=Wa(-30),o,s=1,a=1/0,l=.81;function c(p){var g,y=e.length,v=oee(e,u6t,d6t).visitAfter(d);for(r=p,g=0;g<y;++g)t=e[g],v.visit(f)}function u(){if(e){var p,g=e.length,y;for(o=new Array(g),p=0;p<g;++p)y=e[p],o[y.index]=+i(y,p,e)}}function d(p){var g=0,y,v,x=0,w,S,C;if(p.length){for(w=S=C=0;C<4;++C)(y=p[C])&&(v=Math.abs(y.value))&&(g+=y.value,x+=v,w+=v*y.x,S+=v*y.y);p.x=w/x,p.y=S/x}else{y=p,y.x=y.data.x,y.y=y.data.y;do g+=o[y.data.index];while(y=y.next)}p.value=g}function f(p,g,y,v){if(!p.value)return!0;var x=p.x-t.x,w=p.y-t.y,S=v-g,C=x*x+w*w;if(S*S/l<C)return C<a&&(x===0&&(x=Em(n),C+=x*x),w===0&&(w=Em(n),C+=w*w),C<s&&(C=Math.sqrt(s*C)),t.vx+=x*p.value*r/C,t.vy+=w*p.value*r/C),!0;if(p.length||C>=a)return;(p.data!==t||p.next)&&(x===0&&(x=Em(n),C+=x*x),w===0&&(w=Em(n),C+=w*w),C<s&&(C=Math.sqrt(s*C)));do p.data!==t&&(S=o[p.data.index]*r/C,t.vx+=x*S,t.vy+=w*S);while(p=p.next)}return c.initialize=function(p,g){e=p,n=g,u()},c.strength=function(p){return arguments.length?(i=typeof p=="function"?p:Wa(+p),u(),c):i},c.distanceMin=function(p){return arguments.length?(s=p*p,c):Math.sqrt(s)},c.distanceMax=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}function m6t(e){var t=Wa(.1),n,r,i;typeof e!="function"&&(e=Wa(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Wa(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Wa(+a),s(),o):e},o}function y6t(e){var t=Wa(.1),n,r,i;typeof e!="function"&&(e=Wa(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Wa(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Wa(+a),s(),o):e},o}const G0e={center:Nzt,collide:i6t,nbody:g6t,link:s6t,x:m6t,y:y6t},eE="forces",Sq=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],v6t=["static","iterations"],G5e=["x","y","vx","vy"];function aee(e){Ue.call(this,null,e)}aee.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:G5e}]};_t(aee,Ue,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(Sq),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Y5e(n,e,0,t)):(this.value=n=x6t(t.source,e),n.on("tick",b6t(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(v6t)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,c=a.length,u;l<c;++l)if(u=a[l],!(u.name!==eE||u.op._argval.force!=="link")){for(var r=u.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(G5e)}});function b6t(e,t){return()=>e.touch(t).run()}function x6t(e,t){const n=h6t(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),Y5e(n,t,!0).on("end",()=>o=!0)}function Y5e(e,t,n,r){var i=Ft(t.forces),o,s,a,l;for(o=0,s=Sq.length;o<s;++o)a=Sq[o],a!==eE&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=eE+o,a=n||t.modified(eE,o)?S6t(i[o]):r&&w6t(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(eE+o,null);return e.numForces=i.length,e}function w6t(e,t){var n,r;for(n in e)if(Bn(r=e[n])&&t.modified(ga(r)))return 1;return 0}function S6t(e){var t,n;Ut(G0e,e.force)||Ge("Unrecognized force: "+e.force),t=G0e[e.force]();for(n in e)Bn(t[n])&&_6t(t[n],e[n],e);return t}function _6t(e,t,n){e(Bn(t)?r=>t(r,n):t)}const C6t=Object.freeze(Object.defineProperty({__proto__:null,force:aee},Symbol.toStringTag,{value:"Module"}));function k6t(e,t){return e.parent===t.parent?1:2}function E6t(e){return e.reduce(T6t,0)/e.length}function T6t(e,t){return e+t.x}function R6t(e){return 1+e.reduce(M6t,0)}function M6t(e,t){return Math.max(e,t.y)}function A6t(e){for(var t;t=e.children;)e=t[0];return e}function P6t(e){for(var t;t=e.children;)e=t[t.length-1];return e}function D6t(){var e=k6t,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(f){var p=f.children;p?(f.x=E6t(p),f.y=R6t(p)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=A6t(o),c=P6t(o),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-u)/(d-u)*t,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function O6t(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function I6t(){return this.eachAfter(O6t)}function j6t(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function $6t(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function F6t(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function L6t(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function N6t(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function z6t(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function B6t(e){for(var t=this,n=U6t(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function U6t(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function V6t(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function H6t(){return Array.from(this)}function W6t(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function q6t(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*G6t(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function lee(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=K6t)):t===void 0&&(t=X6t);for(var n=new US(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new US(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(X5e)}function Y6t(){return lee(this).eachBefore(Z6t)}function X6t(e){return e.children}function K6t(e){return Array.isArray(e)?e[1]:null}function Z6t(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function X5e(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function US(e){this.data=e,this.depth=this.height=0,this.parent=null}US.prototype=lee.prototype={constructor:US,count:I6t,each:j6t,eachAfter:F6t,eachBefore:$6t,find:L6t,sum:N6t,sort:z6t,path:B6t,ancestors:V6t,descendants:H6t,leaves:W6t,links:q6t,copy:Y6t,[Symbol.iterator]:G6t};function gj(e){return e==null?null:K5e(e)}function K5e(e){if(typeof e!="function")throw new Error;return e}function nv(){return 0}function B1(e){return function(){return e}}const Q6t=1664525,J6t=1013904223,Y0e=4294967296;function eBt(){let e=1;return()=>(e=(Q6t*e+J6t)%Y0e)/Y0e}function tBt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nBt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function rBt(e,t){for(var n=0,r=(e=nBt(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&Z5e(s,o)?++n:(s=oBt(i=iBt(i,o)),n=0);return s}function iBt(e,t){var n,r;if(W9(t,e))return[t];for(n=0;n<e.length;++n)if(vO(t,e[n])&&W9(tE(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(vO(tE(e[n],e[r]),t)&&vO(tE(e[n],t),e[r])&&vO(tE(e[r],t),e[n])&&W9(Q5e(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function vO(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Z5e(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function W9(e,t){for(var n=0;n<t.length;++n)if(!Z5e(e,t[n]))return!1;return!0}function oBt(e){switch(e.length){case 1:return sBt(e[0]);case 2:return tE(e[0],e[1]);case 3:return Q5e(e[0],e[1],e[2])}}function sBt(e){return{x:e.x,y:e.y,r:e.r}}function tE(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,c=s-r,u=a-i,d=Math.sqrt(l*l+c*c);return{x:(n+o+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+a)/2}}function Q5e(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=n.x,u=n.y,d=n.r,f=r-s,p=r-c,g=i-a,y=i-u,v=l-o,x=d-o,w=r*r+i*i-o*o,S=w-s*s-a*a+l*l,C=w-c*c-u*u+d*d,k=p*g-f*y,T=(g*C-y*S)/(k*2)-r,E=(y*v-g*x)/k,A=(p*S-f*C)/(k*2)-i,O=(f*x-p*v)/k,I=E*E+O*O-1,j=2*(o+T*E+A*O),P=T*T+A*A-o*o,$=-(Math.abs(I)>1e-6?(j+Math.sqrt(j*j-4*I*P))/(2*I):P/j);return{x:r+T+E*$,y:i+A+O*$,r:$}}function X0e(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,c=r*r+s*s;c?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(c+l-o)/(2*c),a=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(c+o-l)/(2*c),a=Math.sqrt(Math.max(0,o/c-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function K0e(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Z0e(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function bO(e){this._=e,this.next=null,this.previous=null}function aBt(e,t){if(!(o=(e=tBt(e)).length))return 0;var n,r,i,o,s,a,l,c,u,d,f;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;X0e(r,n,i=e[2]),n=new bO(n),r=new bO(r),i=new bO(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){X0e(n._,r._,i=e[l]),i=new bO(i),c=r.next,u=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(K0e(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(K0e(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Z0e(n);(i=i.next)!==r;)(a=Z0e(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=rBt(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function lBt(e){return Math.sqrt(e.value)}function cBt(){var e=null,t=1,n=1,r=nv;function i(o){const s=eBt();return o.x=t/2,o.y=n/2,e?o.eachBefore(Q0e(e)).eachAfter(q9(r,.5,s)).eachBefore(J0e(1)):o.eachBefore(Q0e(lBt)).eachAfter(q9(nv,1,s)).eachAfter(q9(r,o.r/Math.min(t,n),s)).eachBefore(J0e(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=gj(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:B1(+o),i):r},i}function Q0e(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function q9(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=aBt(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function J0e(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function J5e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function QM(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function uBt(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(J5e),s}function o(s,a){return function(l){l.children&&QM(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var c=l.x0,u=l.y0,d=l.x1-n,f=l.y1-n;d<c&&(c=d=(c+d)/2),f<u&&(u=f=(u+f)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var dBt={depth:-1},eye={},G9={};function fBt(e){return e.id}function pBt(e){return e.parentId}function tye(){var e=fBt,t=pBt,n;function r(i){var o=Array.from(i),s=e,a=t,l,c,u,d,f,p,g,y,v=new Map;if(n!=null){const x=o.map((C,k)=>hBt(n(C,k,i))),w=x.map(nye),S=new Set(x).add("");for(const C of w)S.has(C)||(S.add(C),x.push(C),w.push(nye(C)),o.push(G9));s=(C,k)=>x[k],a=(C,k)=>w[k]}for(u=0,l=o.length;u<l;++u)c=o[u],p=o[u]=new US(c),(g=s(c,u,i))!=null&&(g+="")&&(y=p.id=g,v.set(y,v.has(y)?eye:p)),(g=a(c,u,i))!=null&&(g+="")&&(p.parent=g);for(u=0;u<l;++u)if(p=o[u],g=p.parent){if(f=v.get(g),!f)throw new Error("missing: "+g);if(f===eye)throw new Error("ambiguous: "+g);f.children?f.children.push(p):f.children=[p],p.parent=f}else{if(d)throw new Error("multiple roots");d=p}if(!d)throw new Error("no root");if(n!=null){for(;d.data===G9&&d.children.length===1;)d=d.children[0],--l;for(let x=o.length-1;x>=0&&(p=o[x],p.data===G9);--x)p.data=null}if(d.parent=dBt,d.eachBefore(function(x){x.depth=x.parent.depth+1,--l}).eachBefore(X5e),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=gj(i),r):e},r.parentId=function(i){return arguments.length?(t=gj(i),r):t},r.path=function(i){return arguments.length?(n=gj(i),r):n},r}function hBt(e){e=`${e}`;let t=e.length;return _q(e,t-1)&&!_q(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function nye(e){let t=e.length;if(t<2)return"";for(;--t>1&&!_q(e,t););return e.slice(0,t)}function _q(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function gBt(e,t){return e.parent===t.parent?1:2}function Y9(e){var t=e.children;return t?t[0]:e.t}function X9(e){var t=e.children;return t?t[t.length-1]:e.t}function mBt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function yBt(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function vBt(e,t,n){return e.a.parent===t.parent?e.a:n}function mj(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}mj.prototype=Object.create(US.prototype);function bBt(e){for(var t=new mj(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new mj(o[s],s)),i.parent=n;return(t.parent=new mj(null,0)).children=[t],t}function xBt(){var e=gBt,t=1,n=1,r=null;function i(c){var u=bBt(c);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)c.eachBefore(l);else{var d=c,f=c,p=c;c.eachBefore(function(w){w.x<d.x&&(d=w),w.x>f.x&&(f=w),w.depth>p.depth&&(p=w)});var g=d===f?1:e(d,f)/2,y=g-d.x,v=t/(f.x+g+y),x=n/(p.depth||1);c.eachBefore(function(w){w.x=(w.x+y)*v,w.y=w.depth*x})}return c}function o(c){var u=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(u){yBt(c);var p=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-p):c.z=p}else f&&(c.z=f.z+e(c._,f._));c.parent.A=a(c,f,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,d){if(u){for(var f=c,p=c,g=u,y=f.parent.children[0],v=f.m,x=p.m,w=g.m,S=y.m,C;g=X9(g),f=Y9(f),g&&f;)y=Y9(y),p=X9(p),p.a=c,C=g.z+w-f.z-v+e(g._,f._),C>0&&(mBt(vBt(g,c,d),c,C),v+=C,x+=C),w+=g.m,v+=f.m,S+=y.m,x+=p.m;g&&!X9(p)&&(p.t=g,p.m+=w-x),f&&!Y9(y)&&(y.t=f,y.m+=v-S,d=c)}return d}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function RL(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*c}var e$e=(1+Math.sqrt(5))/2;function t$e(e,t,n,r,i,o){for(var s=[],a=t.children,l,c,u=0,d=0,f=a.length,p,g,y=t.value,v,x,w,S,C,k,T;u<f;){p=i-n,g=o-r;do v=a[d++].value;while(!v&&d<f);for(x=w=v,k=Math.max(g/p,p/g)/(y*e),T=v*v*k,C=Math.max(w/T,T/x);d<f;++d){if(v+=c=a[d].value,c<x&&(x=c),c>w&&(w=c),T=v*v*k,S=Math.max(w/T,T/x),S>C){v-=c;break}C=S}s.push(l={value:v,dice:p<g,children:a.slice(u,d)}),l.dice?QM(l,n,r,i,y?r+=g*v/y:o):RL(l,n,r,y?n+=p*v/y:i,o),y-=v,u=d}return s}const n$e=(function e(t){function n(r,i,o,s,a){t$e(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(e$e);function wBt(){var e=n$e,t=!1,n=1,r=1,i=[0],o=nv,s=nv,a=nv,l=nv,c=nv;function u(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(J5e),f}function d(f){var p=i[f.depth],g=f.x0+p,y=f.y0+p,v=f.x1-p,x=f.y1-p;v<g&&(g=v=(g+v)/2),x<y&&(y=x=(y+x)/2),f.x0=g,f.y0=y,f.x1=v,f.y1=x,f.children&&(p=i[f.depth+1]=o(f)/2,g+=c(f)-p,y+=s(f)-p,v-=a(f)-p,x-=l(f)-p,v<g&&(g=v=(g+v)/2),x<y&&(y=x=(y+x)/2),e(f,g,y,v,x))}return u.round=function(f){return arguments.length?(t=!!f,u):t},u.size=function(f){return arguments.length?(n=+f[0],r=+f[1],u):[n,r]},u.tile=function(f){return arguments.length?(e=K5e(f),u):e},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:B1(+f),u):o},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:B1(+f),u):s},u.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:B1(+f),u):a},u.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:B1(+f),u):l},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:B1(+f),u):c},u}function SBt(e,t,n,r,i){var o=e.children,s,a=o.length,l,c=new Array(a+1);for(c[0]=l=s=0;s<a;++s)c[s+1]=l+=o[s].value;u(0,a,e.value,t,n,r,i);function u(d,f,p,g,y,v,x){if(d>=f-1){var w=o[d];w.x0=g,w.y0=y,w.x1=v,w.y1=x;return}for(var S=c[d],C=p/2+S,k=d+1,T=f-1;k<T;){var E=k+T>>>1;c[E]<C?k=E+1:T=E}C-c[k-1]<c[k]-C&&d+1<k&&--k;var A=c[k]-S,O=p-A;if(v-g>x-y){var I=p?(g*O+v*A)/p:v;u(d,k,A,g,y,I,x),u(k,f,O,I,y,v,x)}else{var j=p?(y*O+x*A)/p:x;u(d,k,A,g,y,v,j),u(k,f,O,g,j,v,x)}}}function _Bt(e,t,n,r,i){(e.depth&1?RL:QM)(e,t,n,r,i)}const CBt=(function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,d,f=-1,p,g=l.length,y=r.value;++f<g;){for(c=l[f],u=c.children,d=c.value=0,p=u.length;d<p;++d)c.value+=u[d].value;c.dice?QM(c,i,o,s,y?o+=(a-o)*c.value/y:a):RL(c,i,o,y?i+=(s-i)*c.value/y:s,a),y-=c.value}else r._squarify=l=t$e(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(e$e);function Cq(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function cee(e){Ue.call(this,null,e)}cee.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const kBt=e=>e.values;_t(cee,Ue,{transform(e,t){t.source||Ge("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&W4(s.data)&&i.rem.push(s.data)}),this.value=o=lee({values:Ft(e.keys).reduce((s,a)=>(s.key(a),s),EBt()).entries(i.source)},kBt),n&&o.each(s=>{s.children&&(s=zr(s.data),i.add.push(s),i.source.push(s))}),Cq(o,dn,dn)),i.source.root=o,i}});function EBt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},c={};let u=-1,d,f,p;for(;++u<s;)d=a(f=i[u])+"",(p=l[d])?p.push(f):l[d]=[f];for(d in l)c[d]=n(l[d],o);return c}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function ug(e){Ue.call(this,null,e)}const TBt=(e,t)=>e.parent===t.parent?1:2;_t(ug,Ue,{transform(e,t){(!t.source||!t.source.root)&&Ge(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(ix(e.sort,s=>s.data)),RBt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?TBt:H_);try{this.value=n(i)}catch(s){Ge(s)}return i.each(s=>MBt(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function RBt(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function MBt(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const kq=["x","y","r","depth","children"];function uee(e){ug.call(this,e)}uee.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:kq.length,default:kq}]};_t(uee,ug,{layout:cBt,params:["radius","size","padding"],fields:kq});const Eq=["x0","y0","x1","y1","depth","children"];function dee(e){ug.call(this,e)}dee.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Eq.length,default:Eq}]};_t(dee,ug,{layout:uBt,params:["size","round","padding"],fields:Eq});function fee(e){Ue.call(this,null,e)}fee.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};_t(fee,Ue,{transform(e,t){t.source||Ge("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?Cq(tye().id(e.key).parentId(e.parentKey)(i.source),e.key,Ou):Cq(tye()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const rye={tidy:xBt,cluster:D6t},Tq=["x","y","depth","children"];function pee(e){ug.call(this,e)}pee.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Tq.length,default:Tq}]};_t(pee,ug,{layout(e){const t=e||"tidy";if(Ut(rye,t))return rye[t]();Ge("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Tq});function hee(e){Ue.call(this,[],e)}hee.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};_t(hee,Ue,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Ge("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[dn(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[dn(a)]&&o[dn(l)]&&i.add.push(zr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[dn(s)]=1),n.forEach(s=>{(o[dn(s.source)]||o[dn(s.target)])&&i.mod.push(s)})),i}});const iye={binary:SBt,dice:QM,slice:RL,slicedice:_Bt,squarify:n$e,resquarify:CBt},Rq=["x0","y0","x1","y1","depth","children"];function gee(e){ug.call(this,e)}gee.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Rq.length,default:Rq}]};_t(gee,ug,{layout(){const e=wBt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Ut(iye,t)?e.tile(iye[t]):Ge("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Rq});const ABt=Object.freeze(Object.defineProperty({__proto__:null,nest:cee,pack:uee,partition:dee,stratify:fee,tree:pee,treelinks:hee,treemap:gee},Symbol.toStringTag,{value:"Module"})),K9=4278190080;function PBt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function DBt(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=Vm(o,s).getContext("2d"),c=Vm(o,s).getContext("2d"),u=a&&Vm(o,s).getContext("2d");n.forEach(A=>yj(l,A,!1)),yj(c,t,!1),a&&yj(u,t,!0);const d=Z9(l,o,s),f=Z9(c,o,s),p=a&&Z9(u,o,s),g=e.bitmap(),y=a&&e.bitmap();let v,x,w,S,C,k,T,E;for(x=0;x<s;++x)for(v=0;v<o;++v)C=x*o+v,k=d[C]&K9,E=f[C]&K9,T=a&&p[C]&K9,(k||T||E)&&(w=e(v),S=e(x),!i&&(k||E)&&g.set(w,S),a&&(k||T)&&y.set(w,S));return[g,y]}function Z9(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function yj(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>yj(e,o.items,n))}):Oc[r].draw(e,{items:n?t.map(OBt):t})}function OBt(e){const t=q4(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Qp=5,Ea=31,XT=32,am=new Uint32Array(XT+1),dd=new Uint32Array(XT+1);dd[0]=0;am[0]=~dd[0];for(let e=1;e<=XT;++e)dd[e]=dd[e-1]<<1|1,am[e]=~dd[e];function IBt(e,t){const n=new Uint32Array(~~((e*t+XT)/XT));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>Qp]&1<<(a&Ea)},set:(o,s)=>{const a=s*e+o;r(a>>>Qp,1<<(a&Ea))},clear:(o,s)=>{const a=s*e+o;i(a>>>Qp,~(1<<(a&Ea)))},getRange:(o,s,a,l)=>{let c=l,u,d,f,p;for(;c>=s;--c)if(u=c*e+o,d=c*e+a,f=u>>>Qp,p=d>>>Qp,f===p){if(n[f]&am[u&Ea]&dd[(d&Ea)+1])return!0}else{if(n[f]&am[u&Ea]||n[p]&dd[(d&Ea)+1])return!0;for(let g=f+1;g<p;++g)if(n[g])return!0}return!1},setRange:(o,s,a,l)=>{let c,u,d,f,p;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,d=c>>>Qp,f=u>>>Qp,d===f)r(d,am[c&Ea]&dd[(u&Ea)+1]);else for(r(d,am[c&Ea]),r(f,dd[(u&Ea)+1]),p=d+1;p<f;++p)r(p,4294967295)},clearRange:(o,s,a,l)=>{let c,u,d,f,p;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,d=c>>>Qp,f=u>>>Qp,d===f)i(d,dd[c&Ea]|am[(u&Ea)+1]);else for(i(d,dd[c&Ea]),i(f,am[(u&Ea)+1]),p=d+1;p<f;++p)i(p,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function jBt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>IBt(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function $Bt(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,c=s.datum.fontSize,u=wc.width(s.datum,s.datum.text);let d=0,f,p,g,y,v,x,w;for(let S=0;S<l;++S)f=a[S].x,g=a[S].y,p=a[S].x2===void 0?f:a[S].x2,y=a[S].y2===void 0?g:a[S].y2,v=(f+p)/2,x=(g+y)/2,w=Math.abs(p-f+y-g),w>=d&&(d=w,s.x=v,s.y=x);return v=u/2,x=c/2,f=s.x-v,p=s.x+v,g=s.y-x,y=s.y+x,s.align="center",f<0&&p<=i?s.align="left":0<=f&&i<p&&(s.align="right"),s.baseline="middle",g<0&&y<=o?s.baseline="top":0<=g&&o<y&&(s.baseline="bottom"),!0}}function r3(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Tm(e,t,n,r,i,o,s,a){const l=i*o/(r*2),c=e(t-l),u=e(t+l),d=e(n-(o=o/2)),f=e(n+o);return s.outOfBounds(c,d,u,f)||s.getRange(c,d,u,f)||a&&a.getRange(c,d,u,f)}function FBt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(c,u,d,f,p){const g=e.invert(c),y=e.invert(u);let v=d,x=o,w;if(!r3(g,y,f,p,i,o)&&!Tm(e,g,y,p,f,v,s,a)&&!Tm(e,g,y,p,f,p,s,null)){for(;x-v>=1;)w=(v+x)/2,Tm(e,g,y,p,f,w,s,a)?x=w:v=w;if(v>d)return[g,y,v,!0]}}return function(c){const u=c.datum.datum.items[r].items,d=u.length,f=c.datum.fontSize,p=wc.width(c.datum,c.datum.text);let g=n?f:0,y=!1,v=!1,x=0,w,S,C,k,T,E,A,O,I,j,P,$,D,F,N,V,H;for(let U=0;U<d;++U){for(w=u[U].x,C=u[U].y,S=u[U].x2===void 0?w:u[U].x2,k=u[U].y2===void 0?C:u[U].y2,w>S&&(H=w,w=S,S=H),C>k&&(H=C,C=k,k=H),I=e(w),P=e(S),j=~~((I+P)/2),$=e(C),F=e(k),D=~~(($+F)/2),A=j;A>=I;--A)for(O=D;O>=$;--O)V=l(A,O,g,p,f),V&&([c.x,c.y,g,y]=V);for(A=j;A<=P;++A)for(O=D;O<=F;++O)V=l(A,O,g,p,f),V&&([c.x,c.y,g,y]=V);!y&&!n&&(N=Math.abs(S-w+k-C),T=(w+S)/2,E=(C+k)/2,N>=x&&!r3(T,E,p,f,i,o)&&!Tm(e,T,E,f,p,f,s,null)&&(x=N,c.x=T,c.y=E,v=!0))}return y||v?(T=p/2,E=f/2,s.setRange(e(c.x-T),e(c.y-E),e(c.x+T),e(c.y+E)),c.align="center",c.baseline="middle",!0):!1}}const LBt=[-1,-1,1,1],NBt=[-1,1,-1,1];function zBt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(c){const u=c.datum.datum.items[r].items,d=u.length,f=c.datum.fontSize,p=wc.width(c.datum,c.datum.text),g=[];let y=n?f:0,v=!1,x=!1,w=0,S,C,k,T,E,A,O,I,j,P,$,D;for(let F=0;F<d;++F){for(S=u[F].x,k=u[F].y,C=u[F].x2===void 0?S:u[F].x2,T=u[F].y2===void 0?k:u[F].y2,g.push([e((S+C)/2),e((k+T)/2)]);g.length;)if([O,I]=g.pop(),!(s.get(O,I)||a.get(O,I)||l.get(O,I))){l.set(O,I);for(let N=0;N<4;++N)E=O+LBt[N],A=I+NBt[N],l.outOfBounds(E,A,E,A)||g.push([E,A]);if(E=e.invert(O),A=e.invert(I),j=y,P=o,!r3(E,A,p,f,i,o)&&!Tm(e,E,A,f,p,j,s,a)&&!Tm(e,E,A,f,p,f,s,null)){for(;P-j>=1;)$=(j+P)/2,Tm(e,E,A,f,p,$,s,a)?P=$:j=$;j>y&&(c.x=E,c.y=A,y=j,v=!0)}}!v&&!n&&(D=Math.abs(C-S+T-k),E=(S+C)/2,A=(k+T)/2,D>=w&&!r3(E,A,p,f,i,o)&&!Tm(e,E,A,f,p,f,s,null)&&(w=D,c.x=E,c.y=A,x=!0))}return v||x?(E=p/2,A=f/2,s.setRange(e(c.x-E),e(c.y-A),e(c.x+E),e(c.y+A)),c.align="center",c.baseline="middle",!0):!1}}const BBt=["right","center","left"],UBt=["bottom","middle","top"];function VBt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(c){const u=c.boundary,d=c.datum.fontSize;if(u[2]<0||u[5]<0||u[0]>i||u[3]>o)return!1;let f=c.textWidth??0,p,g,y,v,x,w,S,C,k,T,E,A,O,I,j;for(let P=0;P<l;++P){if(p=(n[P]&3)-1,g=(n[P]>>>2&3)-1,y=p===0&&g===0||r[P]<0,v=p&&g?Math.SQRT1_2:1,x=r[P]<0?-1:1,w=u[1+p]+r[P]*p*v,E=u[4+g]+x*d*g/2+r[P]*g*v,C=E-d/2,k=E+d/2,A=e(w),I=e(C),j=e(k),!f)if(oye(A,A,I,j,s,a,w,w,C,k,u,y))f=wc.width(c.datum,c.datum.text);else continue;if(T=w+x*f*p/2,w=T-f/2,S=T+f/2,A=e(w),O=e(S),oye(A,O,I,j,s,a,w,S,C,k,u,y))return c.x=p?p*x<0?S:w:T,c.y=g?g*x<0?k:C:E,c.align=BBt[p*x+1],c.baseline=UBt[g*x+1],s.setRange(A,I,O,j),!0}return!1}}function oye(e,t,n,r,i,o,s,a,l,c,u,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const Q9=0,J9=4,e7=8,t7=0,n7=1,r7=2,HBt={"top-left":Q9+t7,top:Q9+n7,"top-right":Q9+r7,left:J9+t7,middle:J9+n7,right:J9+r7,"bottom-left":e7+t7,bottom:e7+n7,"bottom-right":e7+r7},WBt={naive:$Bt,"reduced-search":FBt,floodfill:zBt};function qBt(e,t,n,r,i,o,s,a,l,c,u){if(!e.length)return e;const d=Math.max(r.length,i.length),f=GBt(r,d),p=YBt(i,d),g=XBt(e[0].datum),y=g==="group"&&e[0].datum.items[l].marktype,v=y==="area",x=KBt(g,y,a,l),w=c===null||c===1/0,S=v&&u==="naive";let C=-1,k=-1;const T=e.map(I=>{const j=w?wc.width(I,I.text):void 0;return C=Math.max(C,j),k=Math.max(k,I.fontSize),{datum:I,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:x(I),textWidth:j}});c=c===null||c===1/0?Math.max(C,k)+Math.max(...r):c;const E=jBt(t[0],t[1],c);let A;if(!S){n&&T.sort((P,$)=>n(P.datum,$.datum));let I=!1;for(let P=0;P<p.length&&!I;++P)I=p[P]===5||f[P]<0;const j=(g&&s||v)&&e.map(P=>P.datum);A=o.length||j?DBt(E,j||[],o,I,v):PBt(E,s&&T)}const O=v?WBt[u](E,A,s,l):VBt(E,A,p,f);return T.forEach(I=>I.opacity=+O(I)),T}function GBt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function YBt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=HBt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function XBt(e){return e&&e.mark&&e.mark.marktype}function KBt(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const Mq=["x","y","opacity","align","baseline"],r$e=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function mee(e){Ue.call(this,null,e)}mee.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:r$e},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Mq.length,default:Mq}]};_t(mee,Ue,{transform(e,t){function n(o){const s=e[o];return Bn(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Ge("Size parameter should be specified as a [width, height] array.");const i=e.as||Mq;return qBt(t.materialize(t.SOURCE).source||[],e.size,e.sort,Ft(e.offset==null?1:e.offset),Ft(e.anchor||r$e),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const ZBt=Object.freeze(Object.defineProperty({__proto__:null,label:mee},Symbol.toStringTag,{value:"Module"}));function i$e(e,t){var n=[],r=function(u){return u(a)},i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function yee(e){Ue.call(this,null,e)}yee.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};_t(yee,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=i$e(r,e.groupby),o=(e.groupby||[]).map(go),s=o.length,a=e.as||[go(e.x),go(e.y)],l=[];i.forEach(c=>{BDe(c,e.x,e.y,e.bandwidth||.3).forEach(u=>{const d={};for(let f=0;f<s;++f)d[o[f]]=c.dims[f];d[a[0]]=u[0],d[a[1]]=u[1],l.push(zr(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const Aq={constant:iQ,linear:oQ,log:FDe,exp:LDe,pow:NDe,quad:sQ,poly:zDe},QBt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function vee(e){Ue.call(this,null,e)}vee.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Aq)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};_t(vee,Ue,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=i$e(r,e.groupby),o=(e.groupby||[]).map(go),s=e.method||"linear",a=e.order==null?3:e.order,l=QBt(s,a),c=e.as||[go(e.x),go(e.y)],u=Aq[s],d=[];let f=e.extent;Ut(Aq,s)||Ge("Invalid regression method: "+s),f!=null&&s==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(p=>{if(p.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const y=u(p,e.x,e.y,a);if(e.params){d.push(zr({keys:p.dims,coef:y.coef,rSquared:y.rSquared}));return}const v=f||Jf(p,e.x),x=w=>{const S={};for(let C=0;C<o.length;++C)S[o[C]]=p.dims[C];S[c[0]]=w[0],S[c[1]]=w[1],d.push(zr(S))};s==="linear"||s==="constant"?v.forEach(w=>x([w,y.predict(w)])):J4(y.predict,v,25,200).forEach(x)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const JBt=Object.freeze(Object.defineProperty({__proto__:null,loess:yee,regression:vee},Symbol.toStringTag,{value:"Module"})),Ph=11102230246251565e-32,Js=134217729,e8t=(3+8*Ph)*Ph;function i7(e,t,n,r,i){let o,s,a,l,c=t[0],u=r[0],d=0,f=0;u>c==u>-c?(o=c,c=t[++d]):(o=u,u=r[++f]);let p=0;if(d<e&&f<n)for(u>c==u>-c?(s=c+o,a=o-(s-c),c=t[++d]):(s=u+o,a=o-(s-u),u=r[++f]),o=s,a!==0&&(i[p++]=a);d<e&&f<n;)u>c==u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++d]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++f]),o=s,a!==0&&(i[p++]=a);for(;d<e;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++d],o=s,a!==0&&(i[p++]=a);for(;f<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++f],o=s,a!==0&&(i[p++]=a);return(o!==0||p===0)&&(i[p++]=o),p}function t8t(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function JM(e){return new Float64Array(e)}const n8t=(3+16*Ph)*Ph,r8t=(2+12*Ph)*Ph,i8t=(9+64*Ph)*Ph*Ph,C1=JM(4),sye=JM(8),aye=JM(12),lye=JM(16),Ta=JM(4);function o8t(e,t,n,r,i,o,s){let a,l,c,u,d,f,p,g,y,v,x,w,S,C,k,T,E,A;const O=e-i,I=n-i,j=t-o,P=r-o;C=O*P,f=Js*O,p=f-(f-O),g=O-p,f=Js*P,y=f-(f-P),v=P-y,k=g*v-(C-p*y-g*y-p*v),T=j*I,f=Js*j,p=f-(f-j),g=j-p,f=Js*I,y=f-(f-I),v=I-y,E=g*v-(T-p*y-g*y-p*v),x=k-E,d=k-x,C1[0]=k-(x+d)+(d-E),w=C+x,d=w-C,S=C-(w-d)+(x-d),x=S-T,d=S-x,C1[1]=S-(x+d)+(d-T),A=w+x,d=A-w,C1[2]=w-(A-d)+(x-d),C1[3]=A;let $=t8t(4,C1),D=r8t*s;if($>=D||-$>=D||(d=e-O,a=e-(O+d)+(d-i),d=n-I,c=n-(I+d)+(d-i),d=t-j,l=t-(j+d)+(d-o),d=r-P,u=r-(P+d)+(d-o),a===0&&l===0&&c===0&&u===0)||(D=i8t*s+e8t*Math.abs($),$+=O*u+P*a-(j*c+I*l),$>=D||-$>=D))return $;C=a*P,f=Js*a,p=f-(f-a),g=a-p,f=Js*P,y=f-(f-P),v=P-y,k=g*v-(C-p*y-g*y-p*v),T=l*I,f=Js*l,p=f-(f-l),g=l-p,f=Js*I,y=f-(f-I),v=I-y,E=g*v-(T-p*y-g*y-p*v),x=k-E,d=k-x,Ta[0]=k-(x+d)+(d-E),w=C+x,d=w-C,S=C-(w-d)+(x-d),x=S-T,d=S-x,Ta[1]=S-(x+d)+(d-T),A=w+x,d=A-w,Ta[2]=w-(A-d)+(x-d),Ta[3]=A;const F=i7(4,C1,4,Ta,sye);C=O*u,f=Js*O,p=f-(f-O),g=O-p,f=Js*u,y=f-(f-u),v=u-y,k=g*v-(C-p*y-g*y-p*v),T=j*c,f=Js*j,p=f-(f-j),g=j-p,f=Js*c,y=f-(f-c),v=c-y,E=g*v-(T-p*y-g*y-p*v),x=k-E,d=k-x,Ta[0]=k-(x+d)+(d-E),w=C+x,d=w-C,S=C-(w-d)+(x-d),x=S-T,d=S-x,Ta[1]=S-(x+d)+(d-T),A=w+x,d=A-w,Ta[2]=w-(A-d)+(x-d),Ta[3]=A;const N=i7(F,sye,4,Ta,aye);C=a*u,f=Js*a,p=f-(f-a),g=a-p,f=Js*u,y=f-(f-u),v=u-y,k=g*v-(C-p*y-g*y-p*v),T=l*c,f=Js*l,p=f-(f-l),g=l-p,f=Js*c,y=f-(f-c),v=c-y,E=g*v-(T-p*y-g*y-p*v),x=k-E,d=k-x,Ta[0]=k-(x+d)+(d-E),w=C+x,d=w-C,S=C-(w-d)+(x-d),x=S-T,d=S-x,Ta[1]=S-(x+d)+(d-T),A=w+x,d=A-w,Ta[2]=w-(A-d)+(x-d),Ta[3]=A;const V=i7(N,aye,4,Ta,lye);return lye[V-1]}function xO(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=n8t*c?l:-o8t(e,t,n,r,i,o,c)}const cye=Math.pow(2,-52),wO=new Uint32Array(512);class i3{static from(t,n=u8t,r=d8t){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new i3(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let O=0;O<s;O++){const I=t[2*O],j=t[2*O+1];I<a&&(a=I),j<l&&(l=j),I>c&&(c=I),j>u&&(u=j),this._ids[O]=O}const d=(a+c)/2,f=(l+u)/2;let p,g,y;for(let O=0,I=1/0;O<s;O++){const j=o7(d,f,t[2*O],t[2*O+1]);j<I&&(p=O,I=j)}const v=t[2*p],x=t[2*p+1];for(let O=0,I=1/0;O<s;O++){if(O===p)continue;const j=o7(v,x,t[2*O],t[2*O+1]);j<I&&j>0&&(g=O,I=j)}let w=t[2*g],S=t[2*g+1],C=1/0;for(let O=0;O<s;O++){if(O===p||O===g)continue;const I=l8t(v,x,w,S,t[2*O],t[2*O+1]);I<C&&(y=O,C=I)}let k=t[2*y],T=t[2*y+1];if(C===1/0){for(let j=0;j<s;j++)this._dists[j]=t[2*j]-t[0]||t[2*j+1]-t[1];uw(this._ids,this._dists,0,s-1);const O=new Uint32Array(s);let I=0;for(let j=0,P=-1/0;j<s;j++){const $=this._ids[j],D=this._dists[$];D>P&&(O[I++]=$,P=D)}this.hull=O.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(xO(v,x,w,S,k,T)<0){const O=g,I=w,j=S;g=y,w=k,S=T,y=O,k=I,T=j}const E=c8t(v,x,w,S,k,T);this._cx=E.x,this._cy=E.y;for(let O=0;O<s;O++)this._dists[O]=o7(t[2*O],t[2*O+1],E.x,E.y);uw(this._ids,this._dists,0,s-1),this._hullStart=p;let A=3;r[p]=n[y]=g,r[g]=n[p]=y,r[y]=n[g]=p,i[p]=0,i[g]=1,i[y]=2,o.fill(-1),o[this._hashKey(v,x)]=p,o[this._hashKey(w,S)]=g,o[this._hashKey(k,T)]=y,this.trianglesLen=0,this._addTriangle(p,g,y,-1,-1,-1);for(let O=0,I,j;O<this._ids.length;O++){const P=this._ids[O],$=t[2*P],D=t[2*P+1];if(O>0&&Math.abs($-I)<=cye&&Math.abs(D-j)<=cye||(I=$,j=D,P===p||P===g||P===y))continue;let F=0;for(let G=0,z=this._hashKey($,D);G<this._hashSize&&(F=o[(z+G)%this._hashSize],!(F!==-1&&F!==r[F]));G++);F=n[F];let N=F,V;for(;V=r[N],xO($,D,t[2*N],t[2*N+1],t[2*V],t[2*V+1])>=0;)if(N=V,N===F){N=-1;break}if(N===-1)continue;let H=this._addTriangle(N,P,r[N],-1,-1,i[N]);i[P]=this._legalize(H+2),i[N]=H,A++;let U=r[N];for(;V=r[U],xO($,D,t[2*U],t[2*U+1],t[2*V],t[2*V+1])<0;)H=this._addTriangle(U,P,V,i[P],-1,i[U]),i[P]=this._legalize(H+2),r[U]=U,A--,U=V;if(N===F)for(;V=n[N],xO($,D,t[2*V],t[2*V+1],t[2*N],t[2*N+1])<0;)H=this._addTriangle(V,P,N,-1,i[N],i[V]),this._legalize(H+2),i[V]=H,r[N]=N,A--,N=V;this._hullStart=n[P]=N,r[N]=n[U]=P,r[P]=U,o[this._hashKey($,D)]=P,o[this._hashKey(t[2*N],t[2*N+1])]=N}this.hull=new Uint32Array(A);for(let O=0,I=this._hullStart;O<A;O++)this.hull[O]=I,I=r[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(s8t(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=wO[--o];continue}const c=a-a%3,u=l+(t+1)%3,d=c+(a+2)%3,f=n[s],p=n[t],g=n[u],y=n[d];if(a8t(i[2*f],i[2*f+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1],i[2*y],i[2*y+1])){n[t]=y,n[a]=f;const x=r[d];if(x===-1){let S=this._hullStart;do{if(this._hullTri[S]===d){this._hullTri[S]=t;break}S=this._hullPrev[S]}while(S!==this._hullStart)}this._link(t,x),this._link(a,r[s]),this._link(s,d);const w=c+(a+1)%3;o<wO.length&&(wO[o++]=w)}else{if(o===0)break;t=wO[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function s8t(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function o7(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function a8t(e,t,n,r,i,o,s,a){const l=e-s,c=t-a,u=n-s,d=r-a,f=i-s,p=o-a,g=l*l+c*c,y=u*u+d*d,v=f*f+p*p;return l*(d*v-y*p)-c*(u*v-y*f)+g*(u*p-d*f)<0}function l8t(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),p=(c*u-a*d)*f,g=(s*d-l*u)*f;return p*p+g*g}function c8t(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),p=e+(c*u-a*d)*f,g=t+(s*d-l*u)*f;return{x:p,y:g}}function uw(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;nk(e,i,o),t[e[n]]>t[e[r]]&&nk(e,n,r),t[e[o]]>t[e[r]]&&nk(e,o,r),t[e[n]]>t[e[o]]&&nk(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;nk(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(uw(e,t,o,r),uw(e,t,n,s-1)):(uw(e,t,n,s-1),uw(e,t,o,r))}}function nk(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function u8t(e){return e[0]}function d8t(e){return e[1]}const uye=1e-6;class vv{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>uye||Math.abs(this._y1-o)>uye)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Pq{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let f8t=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let y=0,v=0,x=r.length,w,S;y<x;y+=3,v+=2){const C=r[y]*2,k=r[y+1]*2,T=r[y+2]*2,E=t[C],A=t[C+1],O=t[k],I=t[k+1],j=t[T],P=t[T+1],$=O-E,D=I-A,F=j-E,N=P-A,V=($*N-D*F)*2;if(Math.abs(V)<1e-9){if(o===void 0){o=s=0;for(const U of n)o+=t[U*2],s+=t[U*2+1];o/=n.length,s/=n.length}const H=1e9*Math.sign((o-E)*N-(s-A)*F);w=(E+j)/2-H*N,S=(A+P)/2+H*F}else{const H=1/V,U=$*$+D*D,G=F*F+N*N;w=E+(N*U-D*G)*H,S=A+($*G-F*U)*H}a[v]=w,a[v+1]=S}let l=n[n.length-1],c,u=l*4,d,f=t[2*l],p,g=t[2*l+1];i.fill(0);for(let y=0;y<n.length;++y)l=n[y],c=u,d=f,p=g,u=l*4,f=t[2*l],g=t[2*l+1],i[c+2]=i[u]=p-g,i[c+3]=i[u+1]=f-d}render(t){const n=t==null?t=new vv:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let u=0,d=r.length;u<d;++u){const f=r[u];if(f<u)continue;const p=Math.floor(u/3)*2,g=Math.floor(f/3)*2,y=s[p],v=s[p+1],x=s[g],w=s[g+1];this._renderSegment(y,v,x,w,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const d=Math.floor(i[c]/3)*2,f=s[d],p=s[d+1],g=l*4,y=this._project(f,p,a[g+2],a[g+3]);y&&this._renderSegment(f,p,y[0],y[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new vv:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new vv:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new Pq;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const c=Math.floor(l/3);if(a.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],c,u=this._regioncode(a,l),d,f=0;for(let p=0;p<r;p+=2)if(o=a,s=l,a=n[p],l=n[p+1],c=u,u=this._regioncode(a,l),c===0&&u===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let g,y,v,x,w;if(c===0){if((g=this._clipSegment(o,s,a,l,c,u))===null)continue;[y,v,x,w]=g}else{if((g=this._clipSegment(a,l,o,s,u,c))===null)continue;[x,w,y,v]=g,d=f,f=this._edgecode(y,v),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,v):i=[y,v]}d=f,f=this._edgecode(x,w),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(x,w):i=[x,w]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,c,u=o||s;u&8?(l=t+(r-t)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=t+(r-t)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(c=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=c,o=this._regioncode(t,n)):(r=l,i=c,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let c=0,u=a.length,d,f=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)d=f,f=this._edgecode(a[c],a[c+1]),d&&f&&(c=this._edge(t,d,f,a,c),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const p8t=2*Math.PI,k1=Math.pow;function h8t(e){return e[0]}function g8t(e){return e[1]}function m8t(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function y8t(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class bee{static from(t,n=h8t,r=g8t,i){return new bee("length"in t?v8t(t,n,r,i):Float64Array.from(b8t(t,n,r,i)))}constructor(t){this._delaunator=new i3(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&m8t(t)){this.collinear=Int32Array.from({length:n.length/2},(f,p)=>p).sort((f,p)=>n[2*f]-n[2*p]||n[2*f+1]-n[2*p+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let f=0,p=n.length/2;f<p;++f){const g=y8t(n[2*f],n[2*f+1],d);n[2*f]=g[0],n[2*f+1]=g[1]}this._delaunator=new i3(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||s[u]===-1)&&(s[u]=l)}for(let l=0,c=i.length;l<c;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new f8t(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){const d=r[(i[t]+1)%r.length];d!==u&&(yield d);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,d=k1(n-c[t*2],2)+k1(r-c[t*2+1],2);const f=i[t];let p=f;do{let g=l[p];const y=k1(n-c[g*2],2)+k1(r-c[g*2+1],2);if(y<d&&(d=y,u=g),p=p%3===2?p-2:p+1,l[p]!==t)break;if(p=a[p],p===-1){if(p=o[(s[t]+1)%o.length],p!==g&&k1(n-c[p*2],2)+k1(r-c[p*2+1],2)<d)return p;break}}while(p!==f);return u}render(t){const n=t==null?t=new vv:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const c=o[s]*2,u=o[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new vv:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,p8t)}return r&&r.value()}renderHull(t){const n=t==null?t=new vv:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Pq;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new vv:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Pq;return this.renderTriangle(t,n),n.value()}}function v8t(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*b8t(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function xee(e){Ue.call(this,null,e)}xee.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const x8t=[-1e5,-1e5,1e5,1e5];_t(xee,Ue,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:x8t;const o=this.value=bee.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!S8t(l)?w8t(l):null}return t.reflow(e.modified()).modifies(n)}});function w8t(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function S8t(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const _8t=Object.freeze(Object.defineProperty({__proto__:null,voronoi:xee},Symbol.toStringTag,{value:"Module"}));var s7=Math.PI/180,nE=64,vj=2048;function C8t(){var e=[256,256],t,n,r,i,o,s,a,l=o$e,c=[],u=Math.random,d={};d.layout=function(){for(var g=f(Vm()),y=A8t((e[0]>>5)*e[1]),v=null,x=c.length,w=-1,S=[],C=c.map(T=>({text:t(T),font:n(T),style:i(T),weight:o(T),rotate:s(T),size:~~(r(T)+1e-14),padding:a(T),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:T})).sort((T,E)=>E.size-T.size);++w<x;){var k=C[w];k.x=e[0]*(u()+.5)>>1,k.y=e[1]*(u()+.5)>>1,k8t(g,k,C,w),k.hasText&&p(y,k,v)&&(S.push(k),v?T8t(v,k):v=[{x:k.x+k.x0,y:k.y+k.y0},{x:k.x+k.x1,y:k.y+k.y1}],k.x-=e[0]>>1,k.y-=e[1]>>1)}return S};function f(g){g.width=g.height=1;var y=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(nE<<5)/y,g.height=vj/y;var v=g.getContext("2d");return v.fillStyle=v.strokeStyle="red",v.textAlign="center",{context:v,ratio:y}}function p(g,y,v){for(var x=y.x,w=y.y,S=Math.hypot(e[0],e[1]),C=l(e),k=u()<.5?1:-1,T=-k,E,A,O;(E=C(T+=k))&&(A=~~E[0],O=~~E[1],!(Math.min(Math.abs(A),Math.abs(O))>=S));)if(y.x=x+A,y.y=w+O,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>e[0]||y.y+y.y1>e[1])&&(!v||!E8t(y,g,e[0]))&&(!v||R8t(y,v))){for(var I=y.sprite,j=y.width>>5,P=e[0]>>5,$=y.x-(j<<4),D=$&127,F=32-D,N=y.y1-y.y0,V=(y.y+y.y0)*P+($>>5),H,U=0;U<N;U++){H=0;for(var G=0;G<=j;G++)g[V+G]|=H<<F|(G<j?(H=I[U*j+G])>>>D:0);V+=P}return y.sprite=null,!0}return!1}return d.words=function(g){return arguments.length?(c=g,d):c},d.size=function(g){return arguments.length?(e=[+g[0],+g[1]],d):e},d.font=function(g){return arguments.length?(n=ky(g),d):n},d.fontStyle=function(g){return arguments.length?(i=ky(g),d):i},d.fontWeight=function(g){return arguments.length?(o=ky(g),d):o},d.rotate=function(g){return arguments.length?(s=ky(g),d):s},d.text=function(g){return arguments.length?(t=ky(g),d):t},d.spiral=function(g){return arguments.length?(l=P8t[g]||g,d):l},d.fontSize=function(g){return arguments.length?(r=ky(g),d):r},d.padding=function(g){return arguments.length?(a=ky(g),d):a},d.random=function(g){return arguments.length?(u=g,d):u},d}function k8t(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(nE<<5)/o,vj/o);var s=0,a=0,l=0,c=n.length,u,d,f,p,g;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,u=i.measureText(t.text+"m").width*o,f=t.size<<1,t.rotate){var y=Math.sin(t.rotate*s7),v=Math.cos(t.rotate*s7),x=u*v,w=u*y,S=f*v,C=f*y;u=Math.max(Math.abs(x+C),Math.abs(x-C))+31>>5<<5,f=~~Math.max(Math.abs(w+S),Math.abs(w-S))}else u=u+31>>5<<5;if(f>l&&(l=f),s+u>=nE<<5&&(s=0,a+=l,l=0),a+f>=vj)break;i.translate((s+(u>>1))/o,(a+(f>>1))/o),t.rotate&&i.rotate(t.rotate*s7),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=f,t.xoff=s,t.yoff=a,t.x1=u>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=u}for(var k=i.getImageData(0,0,(nE<<5)/o,vj/o).data,T=[];--r>=0;)if(t=n[r],!!t.hasText){for(u=t.width,d=u>>5,f=t.y1-t.y0,p=0;p<f*d;p++)T[p]=0;if(s=t.xoff,s==null)return;a=t.yoff;var E=0,A=-1;for(g=0;g<f;g++){for(p=0;p<u;p++){var O=d*g+(p>>5),I=k[(a+g)*(nE<<5)+(s+p)<<2]?1<<31-p%32:0;T[O]|=I,E|=I}E?A=g:(t.y0++,f--,g--,a++)}t.y1=t.y0+A,t.sprite=T.slice(0,(t.y1-t.y0)*d)}}}function E8t(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),u,d=0;d<l;d++){u=0;for(var f=0;f<=i;f++)if((u<<a|(f<i?(u=r[d*i+f])>>>s:0))&t[c+f])return!0;c+=n}return!1}function T8t(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function R8t(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function o$e(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function M8t(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function A8t(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function ky(e){return typeof e=="function"?e:function(){return e}}var P8t={archimedean:o$e,rectangular:M8t};const s$e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],D8t=["text","font","rotate","fontSize","fontStyle","fontWeight"];function wee(e){Ue.call(this,C8t(),e)}wee.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:s$e}]};_t(wee,Ue,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Ge("Wordcloud size dimensions must be non-zero.");function n(g){const y=e[g];return Bn(y)&&t.modified(y.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||D8t.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||s$e;let a=e.fontSize||14,l;if(Bn(a)?l=e.fontSizeRange:a=wa(a),l){const g=a,y=jr("sqrt")().domain(Jf(i,g)).range(l);a=v=>y(g(v))}i.forEach(g=>{g[s[0]]=NaN,g[s[1]]=NaN,g[s[3]]=0});const c=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(ju).layout(),u=o.size(),d=u[0]>>1,f=u[1]>>1,p=c.length;for(let g=0,y,v;g<p;++g)y=c[g],v=y.datum,v[s[0]]=y.x+d,v[s[1]]=y.y+f,v[s[2]]=y.font,v[s[3]]=y.size,v[s[4]]=y.style,v[s[5]]=y.weight,v[s[6]]=y.rotate;return t.reflow(r).modifies(s)}});const O8t=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:wee},Symbol.toStringTag,{value:"Module"})),I8t=e=>new Uint8Array(e),j8t=e=>new Uint16Array(e),FE=e=>new Uint32Array(e);function $8t(){let e=8,t=[],n=FE(0),r=SO(0,e),i=SO(0,e);return{data:()=>t,seen:()=>n=F8t(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,c;s<l;++s)c=o[s],c._index=a++,t.push(c)},remove(o,s){const a=t.length,l=Array(a-o),c=t;let u,d,f;for(d=0;!s[d]&&d<a;++d)l[d]=t[d],c[d]=d;for(f=d;d<a;++d)u=t[d],s[d]?c[d]=-1:(c[d]=f,r[f]=r[d],i[f]=i[d],l[f]=u,u._index=f++),r[d]=0;return t=l,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=SO(o,e,r),i=SO(o,e))}}}function F8t(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function SO(e,t,n){const r=(t<257?I8t:t<65537?j8t:FE)(e);return n&&r.set(n),r}function dye(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,c=a[0],u=a[1],d=l.length;let f;for(f=0;f<c;++f)o[l[f]]|=r;for(f=u;f<d;++f)o[l[f]]|=r;return s}}}function fye(){let e=FE(0),t=[],n=0;function r(a,l,c){if(!l.length)return[];const u=n,d=l.length,f=FE(d);let p=Array(d),g,y,v;for(v=0;v<d;++v)p[v]=a(l[v]),f[v]=v;if(p=L8t(p,f),u)g=t,y=e,t=Array(u+d),e=FE(u+d),N8t(c,g,y,u,p,f,d,t,e);else{if(c>0)for(v=0;v<d;++v)f[v]+=c;t=p,e=f}return n=u+d,{index:f,value:p}}function i(a,l){const c=n;let u,d,f;for(d=0;!l[e[d]]&&d<c;++d);for(f=d;d<c;++d)l[u=e[d]]||(e[f]=u,t[f]=t[d],++f);n=c-a}function o(a){for(let l=0,c=n;l<c;++l)e[l]=a[e[l]]}function s(a,l){let c;return l?c=l.length:(l=t,c=n),[ADt(l,a[0],0,c),l0(l,a[1],0,c)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function L8t(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),ODt(e,t)}function N8t(e,t,n,r,i,o,s,a,l){let c=0,u=0,d;for(d=0;c<r&&u<s;++d)t[c]<i[u]?(a[d]=t[c],l[d]=n[c++]):(a[d]=i[u],l[d]=o[u++]+e);for(;c<r;++c,++d)a[d]=t[c],l[d]=n[c];for(;u<s;++u,++d)a[d]=i[u],l[d]=o[u]+e}function See(e){Ue.call(this,$8t(),e),this._indices=null,this._dims=null}See.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};_t(See,Ue,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,c;for(;a<s;++a)l=n[a].fname,c=i[l]||(i[l]=fye()),o.push(dye(c,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),c=a.prev(),u=a.all(),d=n.rem=n.add,f=n.mod,p=i.length,g={};let y,v,x,w,S,C,k,T,E;if(c.set(l),t.rem.length&&(S=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(C={},w=t.mod,k=0,T=w.length;k<T;++k)C[w[k]._index]=1;for(k=0;k<p;++k)E=r[k],(!s[k]||e.modified("fields",k)||t.modified(E.fields))&&(x=E.fname,(y=g[x])||(o[x]=v=fye(),g[x]=y=v.insert(E,t.source,0)),s[k]=dye(v,k,i[k]).onAdd(y,l));for(k=0,T=a.data().length;k<T;++k)S[k]||(c[k]!==l[k]?d.push(k):C[k]&&l[k]!==u&&f.push(k));return a.mask=(1<<p)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},c=n.add,u=i.size()+r.length,d=o.length;let f=i.size(),p,g,y;i.resize(u,d),i.add(r);const v=i.curr(),x=i.prev(),w=i.all();for(p=0;p<d;++p)g=a[p].fname,y=l[g]||(l[g]=s[g].insert(a[p],r,f)),o[p].onAdd(y,v);for(;f<u;++f)x[f]=w,v[f]!==w&&c.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,c;for(a=0,l=s.length;a<l;++a)c=s[a]._index,i[c]!==o&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},c=n.rem,u=t.rem;let d,f,p,g;for(d=0,f=u.length;d<f;++d)p=u[d]._index,l[p]=1,s[p]=g=o[p],o[p]=a,g!==a&&c.push(p);for(p in r)r[p].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,c;for(n.filters=0,c=0;c<s;++c)e.modified("query",c)&&(l=c,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(c=0,a=0;c<s;++c)e.modified("query",c)&&(a|=r[c].one,this.incrementAll(r[c],i[c],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),c=e.bisect(e.range),u=e.bisect(t),d=u[0],f=u[1],p=c[0],g=c[1],y=e.one;let v,x,w;if(d<p)for(v=d,x=Math.min(p,f);v<x;++v)w=l[v],o[w]!==n&&(a[w]=s[w],o[w]=n,r.push(w)),s[w]^=y;else if(d>p)for(v=p,x=Math.min(d,g);v<x;++v)w=l[v],o[w]!==n&&(a[w]=s[w],o[w]=n,r.push(w)),s[w]^=y;if(f>g)for(v=Math.max(d,g),x=f;v<x;++v)w=l[v],o[w]!==n&&(a[w]=s[w],o[w]=n,r.push(w)),s[w]^=y;else if(f<g)for(v=Math.max(p,f),x=g;v<x;++v)w=l[v],o[w]!==n&&(a[w]=s[w],o[w]=n,r.push(w)),s[w]^=y;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),c=l[0],u=l[1],d=a[0],f=a[1],p=e.one;let g,y,v;if(c<d)for(g=c,y=Math.min(d,u);g<y;++g)v=s[g],o[v]^=p,n.push(v);else if(c>d)for(g=d,y=Math.min(c,f);g<y;++g)v=s[g],o[v]^=p,r.push(v);if(u>f)for(g=Math.max(c,f),y=u;g<y;++g)v=s[g],o[v]^=p,n.push(v);else if(u<f)for(g=Math.max(d,u),y=f;g<y;++g)v=s[g],o[v]^=p,r.push(v);e.range=t.slice()}});function _ee(e){Ue.call(this,null,e)}_ee.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};_t(_ee,Ue,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),c=u=>a[u]&n?null:s[u];return o.filter(o.MOD,c),i&i-1?(o.filter(o.ADD,u=>{const d=a[u]&n;return!d&&d^l[u]&n?s[u]:null}),o.filter(o.REM,u=>{const d=a[u]&n;return d&&!(d^(d^l[u]&n))?s[u]:null})):(o.filter(o.ADD,c),o.filter(o.REM,u=>(a[u]&n)===i?s[u]:null)),o.filter(o.SOURCE,u=>c(u._index))}});const z8t=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:See,resolvefilter:_ee},Symbol.toStringTag,{value:"Module"})),B8t="RawCode",vb="Literal",U8t="Property",V8t="Identifier",H8t="ArrayExpression",W8t="BinaryExpression",a$e="CallExpression",q8t="ConditionalExpression",G8t="LogicalExpression",Y8t="MemberExpression",X8t="ObjectExpression",K8t="UnaryExpression";function qd(e){this.type=e}qd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=Z8t(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function Z8t(e){switch(e.type){case H8t:return e.elements;case W8t:case G8t:return[e.left,e.right];case a$e:return[e.callee].concat(e.arguments);case q8t:return[e.test,e.consequent,e.alternate];case Y8t:return[e.object,e.property];case X8t:return e.properties;case U8t:return[e.key,e.value];case K8t:return[e.argument];case V8t:case vb:case B8t:default:return[]}}var mp,en,Ke,ya,ni,ML=1,eA=2,bb=3,N0=4,AL=5,lx=6,gl=7,tA=8,Q8t=9;mp={};mp[ML]="Boolean";mp[eA]="<end>";mp[bb]="Identifier";mp[N0]="Keyword";mp[AL]="Null";mp[lx]="Numeric";mp[gl]="Punctuator";mp[tA]="String";mp[Q8t]="RegularExpression";var J8t="ArrayExpression",e9t="BinaryExpression",t9t="CallExpression",n9t="ConditionalExpression",l$e="Identifier",r9t="Literal",i9t="LogicalExpression",o9t="MemberExpression",s9t="ObjectExpression",a9t="Property",l9t="UnaryExpression",vs="Unexpected token %0",c9t="Unexpected number",u9t="Unexpected string",d9t="Unexpected identifier",f9t="Unexpected reserved word",p9t="Unexpected end of input",Dq="Invalid regular expression",a7="Invalid regular expression: missing /",c$e="Octal literals are not allowed in strict mode.",h9t="Duplicate data property in object literal not allowed in strict mode",Vs="ILLEGAL",KT="Disabled.",g9t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),m9t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function PL(e,t){if(!e)throw new Error("ASSERT: "+t)}function lh(e){return e>=48&&e<=57}function Cee(e){return"0123456789abcdefABCDEF".includes(e)}function LE(e){return"01234567".includes(e)}function y9t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function ZT(e){return e===10||e===13||e===8232||e===8233}function nA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&g9t.test(String.fromCharCode(e))}function o3(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&m9t.test(String.fromCharCode(e))}const v9t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function u$e(){for(;Ke<ya;){const e=en.charCodeAt(Ke);if(y9t(e)||ZT(e))++Ke;else break}}function Oq(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ke<ya&&Cee(en[Ke])?(r=en[Ke++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ar({},vs,Vs);return String.fromCharCode(i)}function b9t(){var e,t,n,r;for(e=en[Ke],t=0,e==="}"&&Ar({},vs,Vs);Ke<ya&&(e=en[Ke++],!!Cee(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ar({},vs,Vs),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function d$e(){var e,t;for(e=en.charCodeAt(Ke++),t=String.fromCharCode(e),e===92&&(en.charCodeAt(Ke)!==117&&Ar({},vs,Vs),++Ke,e=Oq("u"),(!e||e==="\\"||!nA(e.charCodeAt(0)))&&Ar({},vs,Vs),t=e);Ke<ya&&(e=en.charCodeAt(Ke),!!o3(e));)++Ke,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),en.charCodeAt(Ke)!==117&&Ar({},vs,Vs),++Ke,e=Oq("u"),(!e||e==="\\"||!o3(e.charCodeAt(0)))&&Ar({},vs,Vs),t+=e);return t}function x9t(){var e,t;for(e=Ke++;Ke<ya;){if(t=en.charCodeAt(Ke),t===92)return Ke=e,d$e();if(o3(t))++Ke;else break}return en.slice(e,Ke)}function w9t(){var e,t,n;return e=Ke,t=en.charCodeAt(Ke)===92?d$e():x9t(),t.length===1?n=bb:v9t.hasOwnProperty(t)?n=N0:t==="null"?n=AL:t==="true"||t==="false"?n=ML:n=bb,{type:n,value:t,start:e,end:Ke}}function l7(){var e=Ke,t=en.charCodeAt(Ke),n,r=en[Ke],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ke,{type:gl,value:String.fromCharCode(t),start:e,end:Ke};default:if(n=en.charCodeAt(Ke+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ke+=2,{type:gl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ke};case 33:case 61:return Ke+=2,en.charCodeAt(Ke)===61&&++Ke,{type:gl,value:en.slice(e,Ke),start:e,end:Ke}}}if(s=en.substr(Ke,4),s===">>>=")return Ke+=4,{type:gl,value:s,start:e,end:Ke};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Ke+=3,{type:gl,value:o,start:e,end:Ke};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Ke+=2,{type:gl,value:i,start:e,end:Ke};if(i==="//"&&Ar({},vs,Vs),"<>=!+-*%&|^/".includes(r))return++Ke,{type:gl,value:r,start:e,end:Ke};Ar({},vs,Vs)}function S9t(e){let t="";for(;Ke<ya&&Cee(en[Ke]);)t+=en[Ke++];return t.length===0&&Ar({},vs,Vs),nA(en.charCodeAt(Ke))&&Ar({},vs,Vs),{type:lx,value:parseInt("0x"+t,16),start:e,end:Ke}}function _9t(e){let t="0"+en[Ke++];for(;Ke<ya&&LE(en[Ke]);)t+=en[Ke++];return(nA(en.charCodeAt(Ke))||lh(en.charCodeAt(Ke)))&&Ar({},vs,Vs),{type:lx,value:parseInt(t,8),octal:!0,start:e,end:Ke}}function pye(){var e,t,n;if(n=en[Ke],PL(lh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ke,e="",n!=="."){if(e=en[Ke++],n=en[Ke],e==="0"){if(n==="x"||n==="X")return++Ke,S9t(t);if(LE(n))return _9t(t);n&&lh(n.charCodeAt(0))&&Ar({},vs,Vs)}for(;lh(en.charCodeAt(Ke));)e+=en[Ke++];n=en[Ke]}if(n==="."){for(e+=en[Ke++];lh(en.charCodeAt(Ke));)e+=en[Ke++];n=en[Ke]}if(n==="e"||n==="E")if(e+=en[Ke++],n=en[Ke],(n==="+"||n==="-")&&(e+=en[Ke++]),lh(en.charCodeAt(Ke)))for(;lh(en.charCodeAt(Ke));)e+=en[Ke++];else Ar({},vs,Vs);return nA(en.charCodeAt(Ke))&&Ar({},vs,Vs),{type:lx,value:parseFloat(e),start:t,end:Ke}}function C9t(){var e="",t,n,r,i,o=!1;for(t=en[Ke],PL(t==="'"||t==='"',"String literal must starts with a quote"),n=Ke,++Ke;Ke<ya;)if(r=en[Ke++],r===t){t="";break}else if(r==="\\")if(r=en[Ke++],!r||!ZT(r.charCodeAt(0)))switch(r){case"u":case"x":en[Ke]==="{"?(++Ke,e+=b9t()):e+=Oq(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:LE(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Ke<ya&&LE(en[Ke])&&(o=!0,i=i*8+"01234567".indexOf(en[Ke++]),"0123".includes(r)&&Ke<ya&&LE(en[Ke])&&(i=i*8+"01234567".indexOf(en[Ke++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&en[Ke]===`
`&&++Ke;else{if(ZT(r.charCodeAt(0)))break;e+=r}return t!==""&&Ar({},vs,Vs),{type:tA,value:e,octal:o,start:n,end:Ke}}function k9t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ar({},Dq)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ar({},Dq)}try{return new RegExp(e,t)}catch{return null}}function E9t(){var e,t,n,r,i;for(e=en[Ke],PL(e==="/","Regular expression literal must start with a slash"),t=en[Ke++],n=!1,r=!1;Ke<ya;)if(e=en[Ke++],t+=e,e==="\\")e=en[Ke++],ZT(e.charCodeAt(0))&&Ar({},a7),t+=e;else if(ZT(e.charCodeAt(0)))Ar({},a7);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ar({},a7),i=t.substr(1,t.length-2),{value:i,literal:t}}function T9t(){var e,t,n;for(t="",n="";Ke<ya&&(e=en[Ke],!!o3(e.charCodeAt(0)));)++Ke,e==="\\"&&Ke<ya?Ar({},vs,Vs):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ar({},Dq,n),{value:n,literal:t}}function R9t(){var e,t,n,r;return ni=null,u$e(),e=Ke,t=E9t(),n=T9t(),r=k9t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ke}}function M9t(e){return e.type===bb||e.type===N0||e.type===ML||e.type===AL}function f$e(){if(u$e(),Ke>=ya)return{type:eA,start:Ke,end:Ke};const e=en.charCodeAt(Ke);return nA(e)?w9t():e===40||e===41||e===59?l7():e===39||e===34?C9t():e===46?lh(en.charCodeAt(Ke+1))?pye():l7():lh(e)?pye():l7()}function vl(){const e=ni;return Ke=e.end,ni=f$e(),Ke=e.end,e}function p$e(){const e=Ke;ni=f$e(),Ke=e}function A9t(e){const t=new qd(J8t);return t.elements=e,t}function hye(e,t,n){const r=new qd(e==="||"||e==="&&"?i9t:e9t);return r.operator=e,r.left=t,r.right=n,r}function P9t(e,t){const n=new qd(t9t);return n.callee=e,n.arguments=t,n}function D9t(e,t,n){const r=new qd(n9t);return r.test=e,r.consequent=t,r.alternate=n,r}function kee(e){const t=new qd(l$e);return t.name=e,t}function rE(e){const t=new qd(r9t);return t.value=e.value,t.raw=en.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function gye(e,t,n){const r=new qd(o9t);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function O9t(e){const t=new qd(s9t);return t.properties=e,t}function mye(e,t,n){const r=new qd(a9t);return r.key=t,r.value=n,r.kind=e,r}function I9t(e,t){const n=new qd(l9t);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ar(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(PL(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Ke,n.description=i,n}function DL(e){e.type===eA&&Ar(e,p9t),e.type===lx&&Ar(e,c9t),e.type===tA&&Ar(e,u9t),e.type===bb&&Ar(e,d9t),e.type===N0&&Ar(e,f9t),Ar(e,vs,e.value)}function va(e){const t=vl();(t.type!==gl||t.value!==e)&&DL(t)}function Ai(e){return ni.type===gl&&ni.value===e}function c7(e){return ni.type===N0&&ni.value===e}function j9t(){const e=[];for(Ke=ni.start,va("[");!Ai("]");)Ai(",")?(vl(),e.push(null)):(e.push(xb()),Ai("]")||va(","));return vl(),A9t(e)}function yye(){Ke=ni.start;const e=vl();return e.type===tA||e.type===lx?(e.octal&&Ar(e,c$e),rE(e)):kee(e.value)}function $9t(){var e,t,n,r;if(Ke=ni.start,e=ni,e.type===bb)return n=yye(),va(":"),r=xb(),mye("init",n,r);if(e.type===eA||e.type===gl)DL(e);else return t=yye(),va(":"),r=xb(),mye("init",t,r)}function F9t(){var e=[],t,n,r,i={},o=String;for(Ke=ni.start,va("{");!Ai("}");)t=$9t(),t.key.type===l$e?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ar({},h9t):i[r]=!0,e.push(t),Ai("}")||va(",");return va("}"),O9t(e)}function L9t(){va("(");const e=Eee();return va(")"),e}const N9t={if:1};function z9t(){var e,t,n;if(Ai("("))return L9t();if(Ai("["))return j9t();if(Ai("{"))return F9t();if(e=ni.type,Ke=ni.start,e===bb||N9t[ni.value])n=kee(vl().value);else if(e===tA||e===lx)ni.octal&&Ar(ni,c$e),n=rE(vl());else{if(e===N0)throw new Error(KT);e===ML?(t=vl(),t.value=t.value==="true",n=rE(t)):e===AL?(t=vl(),t.value=null,n=rE(t)):Ai("/")||Ai("/=")?(n=rE(R9t()),p$e()):DL(vl())}return n}function B9t(){const e=[];if(va("("),!Ai(")"))for(;Ke<ya&&(e.push(xb()),!Ai(")"));)va(",");return va(")"),e}function U9t(){Ke=ni.start;const e=vl();return M9t(e)||DL(e),kee(e.value)}function V9t(){return va("."),U9t()}function H9t(){va("[");const e=Eee();return va("]"),e}function W9t(){var e,t,n;for(e=z9t();;)if(Ai("."))n=V9t(),e=gye(".",e,n);else if(Ai("("))t=B9t(),e=P9t(e,t);else if(Ai("["))n=H9t(),e=gye("[",e,n);else break;return e}function vye(){const e=W9t();if(ni.type===gl&&(Ai("++")||Ai("--")))throw new Error(KT);return e}function bj(){var e,t;if(ni.type!==gl&&ni.type!==N0)t=vye();else{if(Ai("++")||Ai("--"))throw new Error(KT);if(Ai("+")||Ai("-")||Ai("~")||Ai("!"))e=vl(),t=bj(),t=I9t(e.value,t);else{if(c7("delete")||c7("void")||c7("typeof"))throw new Error(KT);t=vye()}}return t}function bye(e){let t=0;if(e.type!==gl&&e.type!==N0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function q9t(){var e,t,n,r,i,o,s,a,l,c;if(e=ni,l=bj(),r=ni,i=bye(r),i===0)return l;for(r.prec=i,vl(),t=[e,ni],s=bj(),o=[l,r,s];(i=bye(ni))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=hye(a,l,s),o.push(n);r=vl(),r.prec=i,o.push(r),t.push(ni),n=bj(),o.push(n)}for(c=o.length-1,n=o[c],t.pop();c>1;)t.pop(),n=hye(o[c-1].value,o[c-2],n),c-=2;return n}function xb(){var e,t,n;return e=q9t(),Ai("?")&&(vl(),t=xb(),va(":"),n=xb(),e=D9t(e,t,n)),e}function Eee(){const e=xb();if(Ai(","))throw new Error(KT);return e}function Tee(e){en=e,Ke=0,ya=en.length,ni=null,p$e();const t=Eee();if(ni.type!==eA)throw new Error("Unexpect token after expression.");return t}var h$e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function g$e(e){function t(s,a,l,c){let u=e(a[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+s+(c<0?"":c===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return c=>t(s,c,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Ge("Missing arguments to clamp function."),s.length>3&&Ge("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(s){s.length<3&&Ge("Missing arguments to if function."),s.length>3&&Ge("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function G9t(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function m$e(e){e=e||{};const t=e.allowed?Od(e.allowed):{},n=e.forbidden?Od(e.forbidden):{},r=e.constants||h$e,i=(e.functions||g$e)(d),o=e.globalvar,s=e.fieldvar,a=Bn(o)?o:g=>`${o}["${g}"]`;[...Object.getOwnPropertyNames(Object.prototype).filter(g=>typeof Object.prototype[g]=="function")];let l={},c={},u=0;function d(g){if(jt(g))return g;const y=f[g.type];return y==null&&Ge("Unsupported type: "+g.type),y(g)}const f={Literal:g=>g.raw,Identifier:g=>{const y=g.name;return u>0?y:Ut(n,y)?Ge("Illegal identifier: "+y):Ut(r,y)?r[y]:Ut(t,y)?y:(l[y]=1,a(y))},MemberExpression:g=>{const y=!g.computed,v=d(g.object);y&&(u+=1);const x=d(g.property);return v===s&&(c[G9t(x)]=1),y&&(u-=1),v+(y?"."+x:"["+x+"]")},CallExpression:g=>{g.callee.type!=="Identifier"&&Ge("Illegal callee type: "+g.callee.type);const y=g.callee.name,v=g.arguments,x=Ut(i,y)&&i[y];return x||Ge("Unrecognized function: "+y),Bn(x)?x(v):x+"("+v.map(d).join(",")+")"},ArrayExpression:g=>"["+g.elements.map(d).join(",")+"]",BinaryExpression:g=>"("+d(g.left)+" "+g.operator+" "+d(g.right)+")",UnaryExpression:g=>"("+g.operator+d(g.argument)+")",ConditionalExpression:g=>"("+d(g.test)+"?"+d(g.consequent)+":"+d(g.alternate)+")",LogicalExpression:g=>"("+d(g.left)+g.operator+d(g.right)+")",ObjectExpression:g=>{for(const y of g.properties){const v=y.key.name;mZ.has(v)&&Ge("Illegal property: "+v)}return"{"+g.properties.map(d).join(",")+"}"},Property:g=>{u+=1;const y=d(g.key);return u-=1,y+":"+d(g.value)}};function p(g){const y={code:d(g),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},y}return p.functions=i,p.constants=r,p}const xye=Symbol("vega_selection_getter");function y$e(e){return(!e.getter||!e.getter[xye])&&(e.getter=Du(e.field),e.getter[xye]=!0),e.getter}const Ree="intersect",wye="union",Y9t="vlMulti",X9t="vlPoint",Sye="or",K9t="and",_f="_vgsid_",QT=Du(_f),Z9t="E",Q9t="R",J9t="R-E",e7t="R-LE",t7t="R-RE",n7t="E-LT",r7t="E-LTE",i7t="E-GT",o7t="E-GTE",s7t="E-VALID",a7t="E-ONE",s3="index:unit";function _ye(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=y$e(a)(e),zm(s)&&(s=da(s)),zm(r[o])&&(r[o]=da(r[o])),Je(r[o])&&zm(r[o][0])&&(r[o]=r[o].map(da)),a.type===Z9t){if(Je(r[o])?!r[o].includes(s):s!==r[o])return!1}else if(a.type===Q9t){if(!sw(s,r[o]))return!1}else if(a.type===t7t){if(!sw(s,r[o],!0,!1))return!1}else if(a.type===J9t){if(!sw(s,r[o],!1,!1))return!1}else if(a.type===e7t){if(!sw(s,r[o],!1,!0))return!1}else if(a.type===n7t){if(s>=r[o])return!1}else if(a.type===r7t){if(s>r[o])return!1}else if(a.type===i7t){if(s<=r[o])return!1}else if(a.type===o7t){if(s<r[o])return!1}else if(a.type===s7t){if(s===null||isNaN(s))return!1}else if(a.type===a7t&&r[o].indexOf(s)===-1)return!1;return!0}function l7t(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[s3]&&r[s3].value:void 0,s=n===Ree,a=i.length,l=0,c,u,d,f,p;l<a;++l)if(c=i[l],o&&s){if(u=u||{},d=u[f=c.unit]||0,d===-1)continue;if(p=_ye(t,c),u[f]=p?-1:++d,p&&o.size===1)return!0;if(!p&&d===o.get(f).count)return!1}else if(p=_ye(t,c),s^p)return p;return a&&s}const v$e=X_(QT),c7t=v$e.left,u7t=v$e.right;function d7t(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[s3]&&r[s3].value:void 0,s=n===Ree,a=QT(t),l=c7t(i,a);if(l===i.length||QT(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(u7t(i,a)-l<o.size)return!1}return!0}function f7t(e,t){return Je(e)||Ge("First argument to selectionTuples must be an array."),It(t)||Ge("Second argument to selectionTuples must be an object."),e.map(n=>Wn(t.fields?{values:t.fields.map(r=>y$e(r)(n.datum))}:{[_f]:QT(n.datum)},t))}function p7t(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},c,u,d,f,p,g,y,v,x,w,S=o.length,C=0,k,T;C<S;++C)if(c=o[C],f=c.unit,u=c.fields,d=c.values,u&&d){for(k=0,T=u.length;k<T;++k)p=u[k],y=s[p.field]||(s[p.field]={}),v=y[f]||(y[f]=[]),l[p.field]=x=p.type.charAt(0),w=u7[`${x}_union`],y[f]=w(v,Ft(d[k]));n&&(v=a[f]||(a[f]=[]),v.push(Ft(d).reduce((E,A,O)=>(E[u[O].field]=A,E),{})))}else p=_f,g=QT(c),y=s[p]||(s[p]={}),v=y[f]||(y[f]=[]),v.push(g),n&&(v=a[f]||(a[f]=[]),v.push({[_f]:g}));if(t=t||wye,s[_f]?s[_f]=u7[`${_f}_${t}`](...Object.values(s[_f])):Object.keys(s).forEach(E=>{s[E]=Object.keys(s[E]).map(A=>s[E][A]).reduce((A,O)=>A===void 0?O:u7[`${l[E]}_${t}`](A,O))}),o=Object.keys(a),n&&o.length){const E=r?X9t:Y9t;s[E]=t===wye?{[Sye]:o.reduce((A,O)=>(A.push(...a[O]),A),[])}:{[K9t]:o.map(A=>({[Sye]:a[A]}))}}return s}var u7={[`${_f}_union`]:UDt,[`${_f}_intersect`]:zDt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=da(t[0]),r=da(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=da(t[0]),r=da(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const h7t=":",g7t="@";function Mee(e,t,n,r){t[0].type!==vb&&Ge("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&br(t).value,s="unit",a=g7t+s,l=h7t+i;o===Ree&&!Ut(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Ut(r,l)||(r[l]=n.getData(i).tuplesRef())}function b$e(e){const t=this.context.data[e];return t?t.values.value:[]}function m7t(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function y7t(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Ou).insert(t)),1}function v7t(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const rA=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},b7t=rA("format"),x$e=rA("timeFormat"),x7t=rA("utcFormat"),w7t=rA("timeParse"),S7t=rA("utcParse"),_O=new Date(2e3,0,1);function OL(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(_O.setYear(2e3),_O.setMonth(e),_O.setDate(t),x$e.call(this,_O,n))}function _7t(e){return OL.call(this,e,1,"%B")}function C7t(e){return OL.call(this,e,1,"%b")}function k7t(e){return OL.call(this,0,2+e,"%A")}function E7t(e){return OL.call(this,0,2+e,"%a")}const T7t=":",R7t="@",Iq="%",w$e="$";function Aee(e,t,n,r){t[0].type!==vb&&Ge("First argument to data functions must be a string literal.");const i=t[0].value,o=T7t+i;if(!Ut(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function M7t(e,t,n,r){t[0].type!==vb&&Ge("First argument to indata must be a string literal."),t[1].type!==vb&&Ge("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=R7t+o;Ut(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Xa(e,t,n,r){if(t[0].type===vb)Cye(n,r,t[0].value);else for(e in n.scales)Cye(n,r,e)}function Cye(e,t,n){const r=Iq+n;if(!Ut(t,r))try{t[r]=e.scaleRef(n)}catch{}}function yp(e,t){if(jt(e)){const n=t.scales[e];return n&&Mme(n.value)?n.value:void 0}else if(Bn(e))return Mme(e)?e:void 0}function A7t(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Xa,n._range=Xa,n._scale=Xa;const r=i=>"_["+(i.type===vb?yt(Iq+i.value):yt(Iq)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function Pee(e,t){return function(n,r,i){if(n){const o=yp(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const P7t=Pee("area",rNt),D7t=Pee("bounds",aNt),O7t=Pee("centroid",pNt);function I7t(e,t){const n=yp(e,(t||this).context);return n&&n.scale()}function j7t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function Dee(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function $7t(){return Dee(this.context.dataflow,"warn",arguments)}function F7t(){return Dee(this.context.dataflow,"info",arguments)}function L7t(){return Dee(this.context.dataflow,"debug",arguments)}function d7(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function jq(e){const t=Ym(e),n=d7(t.r),r=d7(t.g),i=d7(t.b);return .2126*n+.7152*r+.0722*i}function N7t(e,t){const n=jq(e),r=jq(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function z7t(){const e=[].slice.call(arguments);return e.unshift({}),Wn(...e)}function S$e(e,t){return e===t||e!==e&&t!==t?!0:Je(e)?Je(t)&&e.length===t.length?B7t(e,t):!1:It(e)&&It(t)?_$e(e,t):!1}function B7t(e,t){for(let n=0,r=e.length;n<r;++n)if(!S$e(e[n],t[n]))return!1;return!0}function _$e(e,t){for(const n in e)if(!S$e(e[n],t[n]))return!1;return!0}function kye(e){return t=>_$e(e,t)}function U7t(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,c=s.stamp();let u=a.changes,d,f;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!u||u.stamp<c)&&(a.changes=u=s.changeset(),u.stamp=c,s.runAfter(()=>{a.modified=!0,s.pulse(l,u).run()},!0,1)),n&&(d=n===!0?Ou:Je(n)||W4(n)?n:kye(n),u.remove(d)),t&&u.insert(t),r&&(d=kye(r),l.value.some(d)?u.remove(d):u.insert(r)),i){if(Bn(i))throw Error("modify parameter must be a data tuple, not a function");for(f in o)u.modify(i,f,o[f])}return 1}function V7t(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function H7t(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Eye={};function W7t(e,t){const n=Eye[t]||(Eye[t]=Du(t));return Je(e)?e.map(n):n(e)}function IL(e){return Je(e)||ArrayBuffer.isView(e)?e:null}function Oee(e){return IL(e)||(jt(e)?e:null)}function q7t(e,...t){return IL(e).join(...t)}function G7t(e,...t){return Oee(e).indexOf(...t)}function Y7t(e,...t){return Oee(e).lastIndexOf(...t)}function X7t(e,...t){return Oee(e).slice(...t)}function K7t(e,t,n){return Bn(n)&&Ge("Function argument passed to replace."),!jt(t)&&!CZ(t)&&Ge("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function Z7t(e){return IL(e).slice().reverse()}function Q7t(e){return IL(e).slice().sort(G_)}function J7t(e,t,n){return GQ(e||0,t||0,n||0)}function eUt(e,t){const n=yp(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function tUt(e,t){const n=yp(e,(t||this).context);return n?n.copy():void 0}function nUt(e,t){const n=yp(e,(t||this).context);return n?n.domain():[]}function rUt(e,t,n){const r=yp(e,(n||this).context);return r?Je(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function iUt(e,t){const n=yp(e,(t||this).context);return n&&n.range?n.range():[]}function oUt(e,t,n){const r=yp(e,(n||this).context);return r?r(t):void 0}function sUt(e,t,n,r,i){e=yp(e,(i||this).context);const o=vIe(t,n);let s=e.domain(),a=s[0],l=br(s),c=xa;return l-a?c=sIe(e,a,l):e=(e.interpolator?jr("sequential")().interpolator(e.interpolator()):jr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==br(s)&&s.push(l)),s.forEach(u=>o.stop(c(u),e(u))),o}function aUt(e,t,n){const r=yp(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function lUt(e){let t=null;return function(n){return n?VT(n,t=t||$S(e)):e}}const C$e=e=>e.data;function k$e(e,t){const n=b$e.call(t,e);return n.root&&n.root.lookup||{}}function cUt(e,t,n){const r=k$e(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(C$e):void 0}function uUt(e,t){const n=k$e(e,this)[t];return n?n.ancestors().map(C$e):void 0}const E$e=()=>typeof window<"u"&&window||null;function dUt(){const e=E$e();return e?e.screen:{}}function fUt(){const e=E$e();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function pUt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function T$e(e,t,n){if(!e)return[];const[r,i]=e,o=new Wo().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return hje(s,o,hUt(t))}function hUt(e){let t=null;if(e){const n=Ft(e.marktype),r=Ft(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function gUt(e,t,n,r=5){e=Ft(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function mUt(e){return Ft(e).reduce((t,[n,r],i)=>t+=i==0?`M ${n},${r} `:i===e.length-1?" Z":`L ${n},${r} `,"")}function yUt(e,t,n){const{x:r,y:i,mark:o}=n,s=new Wo().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,c]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),c<s.y1&&(s.y1=c),c>s.y2&&(s.y2=c);return s.translate(r,i),T$e([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>vUt(l.x,l.y,t))}function vUt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,c]=n[i];c>t!=a>t&&e<(s-l)*(t-c)/(a-c)+l&&r++}return r&1}const JT={random(){return ju()},cumulativeNormal:K4,cumulativeLogNormal:QZ,cumulativeUniform:nQ,densityNormal:GZ,densityLogNormal:ZZ,densityUniform:tQ,quantileNormal:Z4,quantileLogNormal:JZ,quantileUniform:rQ,sampleNormal:X4,sampleLogNormal:KZ,sampleUniform:eQ,isArray:Je,isBoolean:$0,isDate:zm,isDefined(e){return e!==void 0},isNumber:Or,isObject:It,isRegExp:CZ,isString:jt,isTuple:W4,isValid(e){return e!=null&&e===e},toBoolean:EZ,toDate(e){return TZ(e)},toNumber:da,toString:RZ,indexof:G7t,join:q7t,lastindexof:Y7t,replace:K7t,reverse:Z7t,sort:Q7t,slice:X7t,flush:cPe,lerp:dPe,merge:z7t,pad:hPe,peek:br,pluck:W7t,span:DM,inrange:sw,truncate:gPe,rgb:Ym,lab:Zj,hcl:Qj,hsl:Xj,luminance:jq,contrast:N7t,sequence:hc,format:b7t,utcFormat:x7t,utcParse:S7t,utcOffset:YPe,utcSequence:ZPe,timeFormat:x$e,timeParse:w7t,timeOffset:GPe,timeSequence:KPe,timeUnitSpecifier:$Pe,monthFormat:_7t,monthAbbrevFormat:C7t,dayFormat:k7t,dayAbbrevFormat:E7t,quarter:oPe,utcquarter:sPe,week:LPe,utcweek:BPe,dayofyear:FPe,utcdayofyear:zPe,warn:$7t,info:F7t,debug:L7t,extent(e){return Jf(e)},inScope:j7t,intersect:T$e,clampRange:aPe,pinchDistance:V7t,pinchAngle:H7t,screen:dUt,containerSize:pUt,windowSize:fUt,bandspace:J7t,setdata:y7t,pathShape:lUt,panLinear:tPe,panLog:nPe,panPow:rPe,panSymlog:iPe,zoomLinear:bZ,zoomLog:xZ,zoomPow:o$,zoomSymlog:wZ,encode:v7t,modify:U7t,lassoAppend:gUt,lassoPath:mUt,intersectLasso:yUt},bUt=["view","item","group","xy","x","y"],xUt="event.vega.",R$e="this.",Iee={},M$e={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${yt(w$e+e)}]`,functions:wUt,constants:h$e,visitors:Iee},$q=m$e(M$e);function wUt(e){const t=g$e(e);bUt.forEach(n=>t[n]=xUt+n);for(const n in JT)t[n]=R$e+n;return Wn(t,A7t(e,JT,Iee)),t}function Oo(e,t,n){return arguments.length===1?JT[e]:(JT[e]=t,n&&(Iee[e]=n),$q&&($q.functions[e]=R$e+e),this)}Oo("bandwidth",eUt,Xa);Oo("copy",tUt,Xa);Oo("domain",nUt,Xa);Oo("range",iUt,Xa);Oo("invert",rUt,Xa);Oo("scale",oUt,Xa);Oo("gradient",sUt,Xa);Oo("geoArea",P7t,Xa);Oo("geoBounds",D7t,Xa);Oo("geoCentroid",O7t,Xa);Oo("geoShape",aUt,Xa);Oo("geoScale",I7t,Xa);Oo("indata",m7t,M7t);Oo("data",b$e,Aee);Oo("treePath",cUt,Aee);Oo("treeAncestors",uUt,Aee);Oo("vlSelectionTest",l7t,Mee);Oo("vlSelectionIdTest",d7t,Mee);Oo("vlSelectionResolve",p7t,Mee);Oo("vlSelectionTuples",f7t);function ip(e,t){const n={};let r;try{e=jt(e)?e:yt(e)+"",r=Tee(e)}catch{Ge("Expression parse error: "+e)}r.visit(o=>{if(o.type!==a$e)return;const s=o.callee.name,a=M$e.visitors[s];a&&a(s,o.arguments,t,n)});const i=$q(r);return i.globals.forEach(o=>{const s=w$e+o;!Ut(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:Wn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function SUt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const _Ut=Od(["rule"]),Tye=Od(["group","image","rect"]);function CUt(e,t){let n="";return _Ut[t]||(e.x2&&(e.x?(Tye[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Tye[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function jee(e){return(e+"").toLowerCase()}function kUt(e){return jee(e)==="operator"}function EUt(e){return jee(e)==="collect"}function rk(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function TUt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var RUt={operator:(e,t)=>rk(e,["_"],t.code),parameter:(e,t)=>rk(e,["datum","_"],t.code),event:(e,t)=>rk(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return rk(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+yt(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=CUt(r,n),i+="return m;",rk(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(yt).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,c;return o.path?(l=`a${o.path}`,c=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,c=`this.f${s}(b)`),TUt(l,c,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function MUt(e){const t=this;kUt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function AUt(e){const t=this;if(e.params){const n=t.get(e.id);n||Ge("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function PUt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Je(i)?i.map(o=>Rye(o,n,t)):Rye(i,n,t)}return t}function Rye(e,t,n){if(!e||!It(e))return e;for(let r=0,i=Mye.length,o;r<i;++r)if(o=Mye[r],Ut(e,o.key))return o.parse(e,t,n);return e}var Mye=[{key:"$ref",parse:DUt},{key:"$key",parse:IUt},{key:"$expr",parse:OUt},{key:"$field",parse:jUt},{key:"$encode",parse:FUt},{key:"$compare",parse:$Ut},{key:"$context",parse:LUt},{key:"$subflow",parse:NUt},{key:"$tupleid",parse:zUt}];function DUt(e,t){return t.get(e.$ref)||Ge("Operator not defined: "+e.$ref)}function OUt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Vl(t.parameterExpression(e.$expr),e.$fields))}function IUt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=kZ(e.$key,e.$flat,t.expr.codegen))}function jUt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Du(e.$field,e.$name,t.expr.codegen))}function $Ut(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Ft(e.$compare).map(i=>i&&i.$tupleid?dn:i);return t.fn[n]||(t.fn[n]=SZ(r,e.$order,t.expr.codegen))}function FUt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=Vl(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function LUt(e,t){return t}function NUt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function zUt(){return dn}function BUt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Ge("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function UUt(e){var t=this,n=It(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||Ge("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const VUt={skip:!0};function HUt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function WUt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],VUt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Ou).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function A$e(e,t,n,r){return new P$e(e,t,n,r)}function P$e(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||RUt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Aye(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}P$e.prototype=Aye.prototype={fork(){const e=new Aye(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),EUt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[jee(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:SUt,parseOperator:MUt,parseOperatorParameters:AUt,parseParameters:PUt,parseStream:BUt,parseUpdate:UUt,getState:HUt,setState:WUt};function qUt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),D$e(t,e.description()))}function D$e(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function GUt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const f7="default";function YUt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:f7,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?jt(i)?i:i.user:f7,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return jt(r)||(i=r.item,r=r.user),Fq(e,r&&r!==f7?r:i||r),i},{cursor:t})}function Fq(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function a3(e,t){var n=e._runtime.data;return Ut(n,t)||Ge("Unrecognized data set: "+t),n[t]}function XUt(e,t){return arguments.length<2?a3(this,e).values.value:jL.call(this,e,ox().remove(Ou).insert(t))}function jL(e,t){CDe(t)||Ge("Second argument to changes must be a changeset.");const n=a3(this,e);return n.modified=!0,this.pulse(n.input,t)}function KUt(e,t){return jL.call(this,e,ox().insert(t))}function ZUt(e,t){return jL.call(this,e,ox().remove(t))}function O$e(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function I$e(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function $L(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function QUt(e){var t=$L(e),n=O$e(e),r=I$e(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function JUt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=$L(e),s=t.changedTouches?t.changedTouches[0]:t,o=SL(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=eVt(e,n,o),t}function eVt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;jt(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:wa(e),item:wa(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const Pye="view",tVt="timer",nVt="window",rVt={trap:!1};function iVt(e){const t=Wn({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{Je(r[o])&&(r[o]=Od(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function j$e(e,t,n,r){e._eventListeners.push({type:n,sources:Ft(t),handler:r})}function oVt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function CO(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||It(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function sVt(e,t,n){var r=this,i=new Y4(n),o=function(c,u){r.runAsync(null,()=>{e===Pye&&oVt(r,t)&&c.preventDefault(),i.receive(JUt(r,c,u))})},s;if(e===tVt)CO(r,"timer",t)&&r.timer(o,t);else if(e===Pye)CO(r,"view",t)&&r.addEventListener(t,o,rVt);else if(e===nVt?CO(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&CO(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);j$e(r,s,t,o)}return i}function Dye(e){return e.item}function Oye(e){return e.item.mark.source}function Iye(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function aVt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Dye),Oye,Iye(e)),this.on(this.events("view","pointerout",Dye),Oye,Iye(t)),this}function lVt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Sc(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const cVt="vega-bind",uVt="vega-bind-name",dVt="vega-bind-radio";function fVt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=_Z(r.debounce,i.update))),(r.input==null&&r.element?pVt:gVt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function pVt(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),j$e(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(hVt(i))}}function hVt(e){return typeof Event<"u"?new Event(e):{type:e}}function gVt(e,t,n,r){const i=r.signal(n.signal),o=Sc("div",{class:cVt}),s=n.input==="radio"?o:o.appendChild(Sc("label"));s.appendChild(Sc("span",{class:uVt},n.name||n.signal)),t.appendChild(o);let a=mVt;switch(n.input){case"checkbox":a=yVt;break;case"select":a=vVt;break;case"radio":a=bVt;break;case"range":a=xVt;break}a(e,s,n,i)}function mVt(e,t,n,r){const i=Sc("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function yVt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Sc("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function vVt(e,t,n,r){const i=Sc("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};l3(s,r)&&(l.selected=!0),i.appendChild(Sc("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(l3(n.options[a],s)){i.selectedIndex=a;return}}}function bVt(e,t,n,r){const i=Sc("span",{class:dVt}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};l3(s,r)&&(l.checked=!0);const c=Sc("input",l);c.addEventListener("change",()=>e.update(s));const u=Sc("label",{},(o[a]||s)+"");return u.prepend(c),i.appendChild(u),c}),e.set=s=>{const a=e.elements,l=a.length;for(let c=0;c<l;++c)l3(a[c].value,s)&&(a[c].checked=!0)}}function xVt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||c0(o,i,100),a=Sc("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Sc("span",{},+r);t.appendChild(a),t.appendChild(l);const c=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",c),a.addEventListener("change",c),e.elements=[a],e.set=u=>{a.value=u,l.textContent=u}}function l3(e,t){return e===t||e+""==t+""}function $$e(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,O$e(e),I$e(e),$L(e),i,o).background(e.background())}function $ee(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function wVt(e,t,n,r){const i=new r(e.loader(),$ee(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,$L(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function SVt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=_L(r);e=n._el=e?p7(n,e,!0):null,qUt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||XM,a=e?o.renderer:o.headless;return n._renderer=a?$$e(n,n._renderer,e,a):null,n._handler=wVt(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=p7(n,t,!0):e.appendChild(Sc("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=p7(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{fVt(n,l.element||t,l)})),n}function p7(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const ik=e=>+e||0,_Vt=e=>({top:e,bottom:e,left:e,right:e});function jye(e){return It(e)?{top:ik(e.top),bottom:ik(e.bottom),left:ik(e.left),right:ik(e.right)}:_Vt(ik(e))}async function Fee(e,t,n,r){const i=_L(t),o=i&&i.headless;return o||Ge("Unrecognized renderer type: "+t),await e.runAsync(),$$e(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function CVt(e,t){e!==_m.Canvas&&e!==_m.SVG&&e!==_m.PNG&&Ge("Unrecognized image type: "+e);const n=await Fee(this,e,t);return e===_m.SVG?kVt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function kVt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function EVt(e,t){return(await Fee(this,_m.Canvas,e,t)).canvas()}async function TVt(e){return(await Fee(this,_m.SVG,e)).svg()}function RVt(e,t,n){return A$e(e,PS,JT,n).parse(t)}function MVt(e){var t=this._runtime.scales;return Ut(t,e)||Ge("Unrecognized scale or projection: "+e),t[e].value}var F$e="width",L$e="height",Lee="padding",$ye={skip:!0};function N$e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Lee?r.left+r.right:0)}function z$e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Lee?r.top+r.bottom:0)}function AVt(e){var t=e._signals,n=t[F$e],r=t[L$e],i=t[Lee];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=N$e(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=z$e(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function PVt(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(F$e,n,$ye),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(L$e,r,$ye),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function DVt(e){return this._runtime.getState(e||{data:OVt,signals:IVt,recurse:!0})}function OVt(e,t){return t.modified&&Je(t.input.value)&&!e.startsWith("_:vega:_")}function IVt(e,t){return!(e==="parent"||t instanceof PS.proxy)}function jVt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function $Vt(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(mYe(n,t))}function FVt(e,t,n,r){const i=e.element();i&&i.setAttribute("title",LVt(r))}function LVt(e){return e==null?"":Je(e)?B$e(e):It(e)&&!zm(e)?NVt(e):e+""}function NVt(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Je(n)?B$e(n):U$e(n))}).join(`
`)}function B$e(e){return"["+e.map(U$e).join(", ")+"]"}function U$e(e){return Je(e)?"[]":It(e)&&!zm(e)?"{}":e}function zVt(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e?.();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function V$e(e,t){const n=this;if(t=t||{},Dw.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Wn({},e.locale,t.locale);n.locale(hDe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||_m.Canvas,n._scenegraph=new BIe;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||FVt,n._redraw=!0,n._handler=new XM().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=iVt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=RVt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Wn({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=N$e(n,n._width),n._viewHeight=z$e(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,AVt(n),GUt(n),YUt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function kO(e,t){return Ut(e._signals,t)?e._signals[t]:Ge("Unrecognized signal name: "+yt(t))}function H$e(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Fye(e,t,n,r){let i=H$e(n,r);return i||(i=$ee(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Lye(e,t,n){const r=H$e(t,n);return r&&t._targets.remove(r),e}_t(V$e,Dw,{async evaluate(e,t,n){if(await Dw.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,QUt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&rj(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&D$e(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=kO(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",jye(e)):jye(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(_L(e)||Ge("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Dw.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(kO(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:PVt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=$ee(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Fye(this,e,kO(this,e),t)},removeSignalListener(e,t){return Lye(this,kO(this,e),t)},addDataListener(e,t){return Fye(this,e,a3(this,e).values,t)},removeDataListener(e,t){return Lye(this,a3(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=Fq(this,null);this._globalCursor=!!e,t&&Fq(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:$Vt,events:sVt,finalize:lVt,hover:aVt,data:XUt,change:jL,insert:KUt,remove:ZUt,scale:MVt,initialize:SVt,toImageURL:CVt,toCanvas:EVt,toSVG:TVt,getState:DVt,setState:jVt,_watchPixelRatio:zVt});const BVt="view",c3="[",u3="]",W$e="{",q$e="}",UVt=":",G$e=",",VVt="@",HVt=">",WVt=/[[\]{}]/,qVt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Y$e,X$e;function z0(e,t,n){return Y$e=t||BVt,X$e=n||qVt,K$e(e.trim()).map(Lq)}function GVt(e){return X$e[e]}function NE(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.includes(a)?--s:r&&r.includes(a)&&++s}return t}function K$e(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=NE(e,i,G$e,c3+W$e,u3+q$e),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function Lq(e){return e[0]==="["?YVt(e):XVt(e)}function YVt(e){const t=e.length;let n=1,r;if(n=NE(e,n,u3,c3,u3),n===t)throw"Empty between selector: "+e;if(r=K$e(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==HVt)throw"Expected '>' after between selector: "+e;r=r.map(Lq);const i=Lq(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function XVt(e){const t={source:Y$e},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,c;if(e[s-1]===q$e){if(a=e.lastIndexOf(W$e),a>=0){try{r=KVt(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===VVt&&(i=++a),l=NE(e,a,UVt),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=NE(e,a,c3),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),c=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=NE(e,a,u3),a===s)throw"Unmatched left bracket: "+e;if(c.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==c3)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||WVt.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):GVt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function KVt(e){const t=e.split(G$e);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function ZVt(e){return It(e)?e:{type:e||"pad"}}const ok=e=>+e||0,QVt=e=>({top:e,bottom:e,left:e,right:e});function JVt(e){return It(e)?e.signal?e:{top:ok(e.top),bottom:ok(e.bottom),left:ok(e.left),right:ok(e.right)}:QVt(ok(e))}const bs=e=>It(e)&&!Je(e)?Wn({},e):{value:e};function Nye(e,t,n,r){return n!=null?(It(n)&&!Je(n)||Je(n)&&n.length&&It(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Gs(e,t,n){for(const r in t)Nye(e,r,t[r]);for(const r in n)Nye(e,r,n[r],"update")}function iC(e,t,n){for(const r in t)n&&Ut(n,r)||(e[r]=Wn(e[r]||{},t[r]));return e}function U1(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const Nee="mark",zee="frame",Bee="scope",eHt="axis",tHt="axis-domain",nHt="axis-grid",rHt="axis-label",iHt="axis-tick",oHt="axis-title",sHt="legend",aHt="legend-band",lHt="legend-entry",cHt="legend-gradient",Z$e="legend-label",uHt="legend-symbol",dHt="legend-title",fHt="title",pHt="title-text",hHt="title-subtitle";function gHt(e,t,n,r,i){const o={},s={};let a,l,c,u;l="lineBreak",t==="text"&&i[l]!=null&&!U1(l,e)&&h7(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),u=n===zee?i.group:n===Nee?Wn({},i.mark,i[t]):null;for(l in u)c=U1(l,e)||(l==="fill"||l==="stroke")&&(U1("fill",e)||U1("stroke",e)),c||h7(o,l,u[l]);Ft(r).forEach(d=>{const f=i.style&&i.style[d];for(const p in f)U1(p,e)||h7(o,p,f[p])}),e=Wn({},e);for(l in o)u=o[l],u.signal?(a=a||{})[l]=u:s[l]=u;return e.enter=Wn(s,e.enter),a&&(e.update=Wn(a,e.update)),e}function h7(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Q$e=e=>jt(e)?yt(e):e.signal?`(${e.signal})`:J$e(e);function FL(e){if(e.gradient!=null)return yHt(e);let t=e.signal?`(${e.signal})`:e.color?mHt(e.color):e.field!=null?J$e(e.field):e.value!==void 0?yt(e.value):void 0;return e.scale!=null&&(t=vHt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${xj(e.exponent)})`),e.mult!=null&&(t+=`*${xj(e.mult)}`),e.offset!=null&&(t+=`+${xj(e.offset)}`),e.round&&(t=`round(${t})`),t}const EO=(e,t,n,r)=>`(${e}(${[t,n,r].map(FL).join(",")})+'')`;function mHt(e){return e.c?EO("hcl",e.h,e.c,e.l):e.h||e.s?EO("hsl",e.h,e.s,e.l):e.l||e.a?EO("lab",e.l,e.a,e.b):e.r||e.g||e.b?EO("rgb",e.r,e.g,e.b):null}function yHt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:yt(n));for(;t.length&&br(t)==null;)t.pop();return t.unshift(Q$e(e.gradient)),`gradient(${t.join(",")})`}function xj(e){return It(e)?"("+FL(e)+")":e}function J$e(e){return e3e(It(e)?e:{datum:e})}function e3e(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Ge("Invalid field reference: "+yt(e));return e.signal||(r=jt(r)?fp(r).map(yt).join("]["):e3e(r)),t+"["+r+"]"}function vHt(e,t){const n=Q$e(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+xj(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function bHt(e){let t="";return e.forEach(n=>{const r=FL(n);t+=n.test?`(${n.test})?${r}:`:r}),br(t)===":"&&(t+="null"),t}function t3e(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=gHt(e,t,n,r,i.config);for(const a in e)s[a]=xHt(e[a],t,o,i);return o}function xHt(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=SHt(wHt(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function wHt(e){return Je(e)?bHt(e):FL(e)}function SHt(e,t,n,r){const i=ip(e,t);return i.$fields.forEach(o=>r[o]=1),Wn(n,i.$params),i.$expr}const _Ht="outer",CHt=["value","update","init","react","bind"];function zye(e,t){Ge(e+' for "outer" push: '+yt(t))}function n3e(e,t){const n=e.name;if(e.push===_Ht)t.signals[n]||zye("No prior signal definition",n),CHt.forEach(r=>{e[r]!==void 0&&zye("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function Nq(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function LL(e,t,n,r){return new Nq(e,t,n,r)}function d3(e,t){return LL("operator",e,t)}function un(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function eR(e,t){return t?{$field:e,$name:t}:{$field:e}}const zq=eR("key");function Bye(e,t){return{$compare:e,$order:t}}function kHt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const EHt="ascending",THt="descending";function RHt(e){return It(e)?(e.order===THt?"-":"+")+NL(e.op,e.field):""}function NL(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const Uee="scope",Bq="view";function is(e){return e&&e.signal}function MHt(e){return e&&e.expr}function wj(e){if(is(e))return!0;if(It(e)){for(const t in e)if(wj(e[t]))return!0}return!1}function cd(e,t){return e??t}function Lv(e){return e&&e.signal||e}const Uye="timer";function tR(e,t){return(e.merge?PHt:e.stream?DHt:e.type?OHt:Ge("Invalid stream specification: "+yt(e)))(e,t)}function AHt(e){return e===Uee?Bq:e||Bq}function PHt(e,t){const n=e.merge.map(i=>tR(i,t)),r=Vee({merge:n},e,t);return t.addStream(r).id}function DHt(e,t){const n=tR(e.stream,t),r=Vee({stream:n},e,t);return t.addStream(r).id}function OHt(e,t){let n;e.type===Uye?(n=t.event(Uye,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(AHt(e.source),e.type);const r=Vee({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function Vee(e,t,n){let r=t.between;return r&&(r.length!==2&&Ge('Stream "between" parameter must have 2 entries: '+yt(t)),e.between=[tR(r[0],n),tR(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(IHt(t.marktype,t.markname,t.markrole)),t.source===Uee&&r.push("inScope(event.item)"),r.length&&(e.filter=ip("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function IHt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const jHt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function $Ht(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||Ge("Signal update missing events specification."),jt(o)&&(o=z0(o,t.isSubscope()?Uee:Bq)),o=Ft(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[LHt(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&Ge("Signal encode and update are mutually exclusive."),s="encode(item(),"+yt(r)+")"),i.update=jt(s)?ip(s,t):s.expr!=null?ip(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:jHt,$params:{$value:t.signalRef(s.signal)}}:Ge("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Wn(FHt(l,t),i)))}function FHt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):tR(e,t)}}function LHt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function NHt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Ge("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=ip(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>$Ht(i,t,n.id))}const ui=e=>(t,n,r)=>LL(e,n,t||void 0,r),r3e=ui("aggregate"),zHt=ui("axisticks"),i3e=ui("bound"),Gd=ui("collect"),Vye=ui("compare"),BHt=ui("datajoin"),o3e=ui("encode"),UHt=ui("expression"),VHt=ui("facet"),HHt=ui("field"),WHt=ui("key"),qHt=ui("legendentries"),GHt=ui("load"),YHt=ui("mark"),XHt=ui("multiextent"),KHt=ui("multivalues"),ZHt=ui("overlap"),QHt=ui("params"),s3e=ui("prefacet"),JHt=ui("projection"),eWt=ui("proxy"),tWt=ui("relay"),a3e=ui("render"),nWt=ui("scale"),cx=ui("sieve"),rWt=ui("sortitems"),l3e=ui("viewlayout"),iWt=ui("values");let oWt=0;const c3e={min:"min",max:"max",count:"sum"};function sWt(e,t){const n=e.type||"linear";eIe(n)||Ge("Unrecognized scale type: "+yt(n)),t.addScale(e.name,{type:n,domain:void 0})}function aWt(e,t){const n=t.getScale(e.name).params;let r;n.domain=u3e(e.domain,e,t),e.range!=null&&(n.range=f3e(e,t,n)),e.interpolate!=null&&yWt(e.interpolate,n),e.nice!=null&&(n.nice=mWt(e.nice,t)),e.bins!=null&&(n.bins=gWt(e.bins,t));for(r in e)Ut(n,r)||r==="name"||(n[r]=gu(e[r],t))}function gu(e,t){return It(e)?e.signal?t.signalRef(e.signal):Ge("Unsupported object: "+yt(e)):e}function Sj(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>gu(n,t))}function zL(e){Ge("Can not find data set: "+yt(e))}function u3e(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Ge("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Je(e)?lWt:e.fields?uWt:cWt)(e,t,n)}function lWt(e,t,n){return e.map(r=>gu(r,n))}function cWt(e,t,n){const r=n.getData(e.data);return r||zL(e.data),jS(t.type)?r.valuesRef(n,e.field,d3e(e.sort,!1)):rIe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function uWt(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=jt(s)?{data:r,field:s}:Je(s)||s.signal?dWt(s,n):s,o.push(s),o),[]);return(jS(t.type)?fWt:rIe(t.type)?pWt:hWt)(e,n,i)}function dWt(e,t){const n="_:vega:_"+oWt++,r=Gd({});if(Je(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+yt(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,cx({})]),{data:n,field:"data"}}function fWt(e,t,n){const r=d3e(e.sort,!0);let i,o;const s=n.map(c=>{const u=t.getData(c.data);return u||zL(c.data),u.countsRef(t,c.field,r)}),a={groupby:zq,pulse:s};r&&(i=r.op||"count",o=r.field?NL(i,r.field):"count",a.ops=[c3e[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(r3e(a));const l=t.add(Gd({pulse:un(i)}));return o=t.add(iWt({field:zq,sort:t.sortRef(r),pulse:un(l)})),un(o)}function d3e(e,t){return e&&(!e.field&&!e.op?It(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Ge("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!c3e[e.op]&&Ge("Multiple domain scales can not be sorted using "+e.op)),e}function pWt(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||zL(i.data),o.domainRef(t,i.field)});return un(t.add(KHt({values:r})))}function hWt(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||zL(i.data),o.extentRef(t,i.field)});return un(t.add(XHt({extents:r})))}function gWt(e,t){return e.signal||Je(e)?Sj(e,t):t.objectProperty(e)}function mWt(e,t){return e.signal?t.signalRef(e.signal):It(e)?{interval:gu(e.interval),step:gu(e.step)}:gu(e)}function yWt(e,t){t.interpolate=gu(e.type||e),e.gamma!=null&&(t.interpolateGamma=gu(e.gamma))}function f3e(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(jt(i)){if(r&&Ut(r,i))return e=Wn({},e,{range:r[i]}),f3e(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=jS(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Ge("Unrecognized scale range value: "+yt(i))}else if(i.scheme){n.scheme=Je(i.scheme)?Sj(i.scheme,t):gu(i.scheme,t),i.extent&&(n.schemeExtent=Sj(i.extent,t)),i.count&&(n.schemeCount=gu(i.count,t));return}else if(i.step){n.rangeStep=gu(i.step,t);return}else{if(jS(e.type)&&!Je(i))return u3e(i,e,t);Je(i)||Ge("Unsupported range type: "+yt(i))}return i.map(o=>(Je(o)?Sj:gu)(o,t))}function vWt(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=Uq(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=Uq(n[i],i,t));t.addProjection(e.name,r)}function Uq(e,t,n){return Je(e)?e.map(r=>Uq(r,t,n)):It(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Ge("Unsupported parameter object: "+yt(e)):e}const Yd="top",oC="left",sC="right",m0="bottom",p3e="center",bWt="vertical",xWt="start",wWt="middle",SWt="end",Vq="index",Hee="label",_Wt="offset",VS="perc",CWt="perc2",Cu="value",iA="guide-label",Wee="guide-title",kWt="group-title",EWt="group-subtitle",Hye="symbol",_j="gradient",Hq="discrete",Wq="size",TWt="shape",RWt="fill",MWt="stroke",AWt="strokeWidth",PWt="strokeDash",DWt="opacity",qee=[Wq,TWt,RWt,MWt,AWt,PWt,DWt],oA={name:1,style:1,interactive:1},xr={value:0},ku={value:1},BL="group",h3e="rect",Gee="rule",OWt="symbol",ux="text";function nR(e){return e.type=BL,e.interactive=e.interactive||!1,e}function Wl(e,t){const n=(r,i)=>cd(e[r],cd(t[r],i));return n.isVertical=r=>bWt===cd(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>cd(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>cd(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>cd(e.columns,cd(t.columns,+n.isVertical(!0))),n}function g3e(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function IWt(e,t,n){const r=t.config.style[n];return r&&r[e]}function UL(e,t,n){return`item.anchor === '${xWt}' ? ${e} : item.anchor === '${SWt}' ? ${t} : ${n}`}const Yee=UL(yt(oC),yt(sC),yt(p3e));function jWt(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},It(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function m3e(e,t){return t?e?It(e)?Object.assign({},e,{offset:m3e(e.offset,t)}):{value:e,offset:t}:t:e}function Ic(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=iC(e.encode,t,oA)):e.interactive=!1,e}function $Wt(e,t,n,r){const i=Wl(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,c,u,d,f;o?(c=[0,1],u=[0,0],d=s,f=a):(c=[0,0],u=[1,0],d=a,f=s);const p={enter:l={opacity:xr,x:xr,y:xr,width:bs(d),height:bs(f)},update:Wn({},l,{opacity:ku,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:xr}};return Gs(p,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Ic({type:h3e,role:cHt,encode:p},r)}function FWt(e,t,n,r,i){const o=Wl(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let c,u,d,f,p="";s?(c="y",d="y2",u="x",f="width",p="1-"):(c="x",d="x2",u="y",f="height");const g={opacity:xr,fill:{scale:t,field:Cu}};g[c]={signal:p+"datum."+VS,mult:l},g[u]=xr,g[d]={signal:p+"datum."+CWt,mult:l},g[f]=bs(a);const y={enter:g,update:Wn({},g,{opacity:ku}),exit:{opacity:xr}};return Gs(y,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Ic({type:h3e,role:aHt,key:Cu,from:i,encode:y},r)}const LWt=`datum.${VS}<=0?"${oC}":datum.${VS}>=1?"${sC}":"${p3e}"`,NWt=`datum.${VS}<=0?"${m0}":datum.${VS}>=1?"${Yd}":"${wWt}"`;function Wye(e,t,n,r){const i=Wl(e,t),o=i.isVertical(),s=bs(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),c,u,d,f,p="";const g={enter:c={opacity:xr},update:u={opacity:ku,text:{field:Hee}},exit:{opacity:xr}};return Gs(g,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:cd(e.labelLimit,t.gradientLabelLimit)}),o?(c.align={value:"left"},c.baseline=u.baseline={signal:NWt},d="y",f="x",p="1-"):(c.align=u.align={signal:LWt},c.baseline={value:"top"},d="x",f="y"),c[d]=u[d]={signal:p+"datum."+VS,mult:a},c[f]=u[f]=s,s.offset=cd(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+Vq}:void 0,Ic({type:ux,role:Z$e,style:iA,key:Cu,from:r,encode:g,overlap:l},n)}function zWt(e,t,n,r,i){const o=Wl(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,c=o("clipHeight"),u=o("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${_Wt} : datum.${Wq}`,p=c?bs(c):{field:Wq},g=`datum.${Vq}`,y=`max(1, ${i})`;let v,x,w,S,C;p.mult=.5,v={enter:x={opacity:xr,x:{signal:f,mult:.5,offset:u},y:p},update:w={opacity:ku,x:x.x,y:x.y},exit:{opacity:xr}};let k=null,T=null;e.fill||(k=t.symbolBaseFillColor,T=t.symbolBaseStrokeColor),Gs(v,{fill:o("symbolFillColor",k),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",T),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),qee.forEach(I=>{e[I]&&(w[I]=x[I]={scale:e[I],field:Cu})});const E=Ic({type:OWt,role:uHt,key:Cu,from:d,clip:c?!0:void 0,encode:v},n.symbols),A=bs(u);A.offset=o("labelOffset"),v={enter:x={opacity:xr,x:{signal:f,offset:A},y:p},update:w={opacity:ku,text:{field:Hee},x:x.x,y:x.y},exit:{opacity:xr}},Gs(v,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const O=Ic({type:ux,role:Z$e,style:iA,key:Cu,from:d,encode:v},n.labels);return v={enter:{noBound:{value:!c},width:xr,height:c?bs(c):xr,opacity:xr},exit:{opacity:xr},update:w={opacity:ku,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(S=`ceil(item.mark.items.length / ${y})`,w.row.signal=`${g}%${S}`,w.column.signal=`floor(${g} / ${S})`,C={field:["row",g]}):(w.row.signal=`floor(${g} / ${y})`,w.column.signal=`${g} % ${y}`,C={field:g}),w.column.signal=`(${i})?${w.column.signal}:${g}`,r={facet:{data:r,name:"value",groupby:Vq}},nR({role:Bee,from:r,encode:iC(v,s,oA),marks:[E,O],name:l,interactive:a,sort:C})}function BWt(e,t){const n=Wl(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const Xee='item.orient === "left"',Kee='item.orient === "right"',VL=`(${Xee} || ${Kee})`,UWt=`datum.vgrad && ${VL}`,VWt=UL('"top"','"bottom"','"middle"'),HWt=UL('"right"','"left"','"center"'),WWt=`datum.vgrad && ${Kee} ? (${HWt}) : (${VL} && !(datum.vgrad && ${Xee})) ? "left" : ${Yee}`,qWt=`item._anchor || (${VL} ? "middle" : "start")`,GWt=`${UWt} ? (${Xee} ? -90 : 90) : 0`,YWt=`${VL} ? (datum.vgrad ? (${Kee} ? "bottom" : "top") : ${VWt}) : "top"`;function XWt(e,t,n,r){const i=Wl(e,t),o={enter:{opacity:xr},update:{opacity:ku,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:xr}};return Gs(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:qWt},angle:{signal:GWt},align:{signal:WWt},baseline:{signal:YWt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Ic({type:ux,role:dHt,style:Wee,from:r,encode:o},n)}function KWt(e,t){let n;return It(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+qye(e.path)+")":e.sphere&&(n="geoShape("+qye(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function qye(e){return It(e)&&e.signal?e.signal:yt(e)}function y3e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===BL?Bee:t||Nee}function ZWt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||y3e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function QWt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function Zee(e,t){const n=TDe(e.type);n||Ge("Unrecognized transform type: "+yt(e.type));const r=LL(n.type.toLowerCase(),null,v3e(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function v3e(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=JWt(s,t,n)}return r}function JWt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return eqt(e,t,n);if(i===void 0){e.required&&Ge("Missing required "+yt(t.type)+" parameter: "+yt(e.name));return}else{if(r==="param")return tqt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!is(i)?i.map(o=>Gye(e,o,n)):Gye(e,i,n)}function Gye(e,t,n){const r=e.type;if(is(t))return Xye(r)?Ge("Expression references can not be signals."):g7(r)?n.fieldRef(t):Kye(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||g7(r);return i&&nqt(t)?n.exprRef(t.expr,t.as):i&&rqt(t)?eR(t.field,t.as):Xye(r)?ip(t,n):iqt(r)?un(n.getData(t).values):g7(r)?eR(t):Kye(r)?n.compareRef(t):t}}function eqt(e,t,n){return jt(t.from)||Ge('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function tqt(e,t,n){const r=t[e.name];return e.array?(Je(r)||Ge("Expected an array of sub-parameters. Instead: "+yt(r)),r.map(i=>Yye(e,i,n))):Yye(e,r,n)}function Yye(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Ge("Unsupported parameter: "+yt(t));const o=Wn(v3e(i,t,n),i.key);return un(n.add(QHt(o)))}const nqt=e=>e&&e.expr,rqt=e=>e&&e.field,iqt=e=>e==="data",Xye=e=>e==="expr",g7=e=>e==="field",Kye=e=>e==="compare";function oqt(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||Ge("Only group marks can be faceted."),r.field!=null?s=a=Cj(r,n):(e.data?a=un(n.getData(e.data).aggregate):(o=Zee(Wn({type:"aggregate",groupby:Ft(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=Cj(r,n),s=a=un(n.add(o))),i=n.keyRef(r.groupby,!0))):s=un(n.add(Gd(null,[{}]))),s||(s=Cj(e,n)),{key:i,pulse:s,parent:a}}function Cj(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:un(t.getData(e.data).output)}function wb(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}wb.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=un(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new wb(e,o,i,r,s)};function b3e(e){return jt(e)?e:null}function Zye(e,t,n){const r=NL(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function sk(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=RHt(o);let c=b3e(i),u,d;if(c!=null&&(e=t.scope,c=c+(l?"|"+l:""),u=a[c]),!u){const f=o?{field:zq,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:un(t.output)};l&&(f.sort=e.sortRef(o)),d=e.add(LL(r,void 0,f)),s&&(t.index[i]=d),u=un(d),c!=null&&(a[c]=u)}return u}wb.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=b3e(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&Zye(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:un(r.output)},n&&n.field&&Zye(e,l,n),a=e.add(r3e(l)),s=e.add(Gd({pulse:un(a)})),s={agg:a,ref:un(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return un(this.values)},extentRef(e,t){return sk(e,this,"extent","extent",t,!1)},domainRef(e,t){return sk(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return sk(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return sk(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return sk(e,this,"indata","tupleindex",t,!0,!0)}};function sqt(e,t,n){const r=e.from.facet,i=r.name,o=Cj(r,t);let s;r.name||Ge("Facet must have a name: "+yt(r)),r.data||Ge("Facet must reference a data set: "+yt(r)),r.field?s=t.add(s3e({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(VHt({key:t.keyRef(r.groupby),group:un(t.proxy(n.parent)),pulse:o})):Ge("Facet must specify groupby or field: "+yt(r));const a=t.fork(),l=a.add(Gd()),c=a.add(cx({pulse:un(l)}));a.addData(i,new wb(a,l,l,c)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function aqt(e,t,n){const r=t.add(s3e({pulse:n.pulse})),i=t.fork();i.add(cx()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function x3e(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(d3()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(d=>d??"null").join(",")+"),0)",u=ip(c,t);l.update=u.$expr,l.params=u.$params}function HL(e,t){const n=y3e(e),r=e.type===BL,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===Bee||n===zee,a,l,c,u,d,f,p;const g=n===Nee||s||i,y=oqt(e.from,r,t);l=t.add(BHt({key:y.key||(e.key?eR(e.key):void 0),pulse:y.pulse,clean:!r}));const v=un(l);l=c=t.add(Gd({pulse:v})),l=t.add(YHt({markdef:ZWt(e),interactive:QWt(e.interactive,t),clip:KWt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:un(l)}));const x=un(l);l=u=t.add(o3e(t3e(e.encode,e.type,n,e.style,t,{mod:!1,pulse:x}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(T=>{const E=Zee(T,t),A=E.metadata;(A.generates||A.changes)&&Ge("Mark transforms should not generate new data."),A.nomod||(u.params.mod=!0),E.params.pulse=un(l),t.add(l=E)}),e.sort&&(l=t.add(rWt({sort:t.compareRef(e.sort),pulse:un(l)})));const w=un(l);(i||s)&&(s=t.add(l3e({layout:t.objectProperty(e.layout),legends:t.legends,mark:x,pulse:w})),f=un(s));const S=t.add(i3e({mark:x,pulse:f||w}));p=un(S),r&&(g&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(w,f||p,v),i?sqt(e,t,y):g?aqt(e,t,y):t.parse(e),t.popState(),g&&(s&&a.push(s),a.push(S))),o&&(p=lqt(o,p,t));const C=t.add(a3e({pulse:p})),k=t.add(cx({pulse:un(C)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new wb(t,c,C,k)),e.on&&e.on.forEach(T=>{(T.insert||T.remove||T.toggle)&&Ge("Marks only support modify triggers."),x3e(T,t,d)}))}function lqt(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:is(o)?n.signalRef(o.signal):o,method:is(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=is(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return un(n.add(ZHt(s)))}function cqt(e,t){const n=t.config.legend,r=e.encode||{},i=Wl(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,c={};let u=0,d,f,p;qee.forEach(S=>e[S]?(c[S]=e[S],u=u||e[S]):0),u||Ge("Missing valid scale for legend.");const g=uqt(e,t.scaleType(u)),y={title:e.title!=null,scales:c,type:g,vgrad:g!=="symbol"&&i.isVertical()},v=un(t.add(Gd(null,[y]))),x={enter:{x:{value:0},y:{value:0}}},w=un(t.add(qHt(f={type:g,scale:t.scaleRef(u),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return g===_j?(p=[$Wt(e,u,n,r.gradient),Wye(e,n,r.labels,w)],f.count=f.count||t.signalRef(`max(2,2*floor((${Lv(i.gradientLength())})/100))`)):g===Hq?p=[FWt(e,u,n,r.gradient,w),Wye(e,n,r.labels,w)]:(d=BWt(e,n),p=[zWt(e,n,r,w,Lv(d.columns))],f.size=pqt(e,t,p[0].marks)),p=[nR({role:lHt,from:v,encode:x,marks:p,layout:d,interactive:a})],y.title&&p.push(XWt(e,n,r.title,v)),HL(nR({role:sHt,from:v,encode:iC(fqt(i,e,n),o,oA),marks:p,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function uqt(e,t){let n=e.type||Hye;return!e.type&&dqt(e)===1&&(e.fill||e.stroke)&&(n=QQ(t)?_j:FW(t)?Hq:Hye),n!==_j?n:FW(t)?Hq:_j}function dqt(e){return qee.reduce((t,n)=>t+(e[n]?1:0),0)}function fqt(e,t,n){const r={enter:{},update:{}};return Gs(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function pqt(e,t,n){const r=Lv(Qye("size",e,n)),i=Lv(Qye("strokeWidth",e,n)),o=Lv(hqt(n[1].encode,t,iA));return ip(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function Qye(e,t,n){return t[e]?`scale("${t[e]}",datum)`:g3e(e,n[0].encode)}function hqt(e,t,n){return g3e("fontSize",e)||IWt("fontSize",t,n)}const gqt=`item.orient==="${oC}"?-90:item.orient==="${sC}"?90:0`;function mqt(e,t){e=jt(e)?{text:e}:e;const n=Wl(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],c={},u=un(t.add(Gd(null,[c])));return l.push(bqt(e,n,yqt(e),u)),e.subtitle&&l.push(xqt(e,n,r.subtitle,u)),HL(nR({role:fHt,from:u,encode:vqt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function yqt(e){const t=e.encode;return t&&t.title||Wn({name:e.name,interactive:e.interactive,style:e.style},t)}function vqt(e,t){const n={enter:{},update:{}};return Gs(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:Yee},angle:{signal:gqt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),iC(n,t,oA)}function bqt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Gs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ic({type:ux,role:pHt,style:kWt,from:r,encode:s},n)}function xqt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Gs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ic({type:ux,role:hHt,style:EWt,from:r,encode:s},n)}function wqt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(Zee(r,t))}),e.on&&e.on.forEach(r=>{x3e(r,t,e.name)}),t.addDataPipeline(e.name,Sqt(e,t,n))}function Sqt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,c,u,d;for(e.values?is(e.values)||wj(e.format)?(r.push(Jye(t,e)),r.push(i=Ey())):r.push(i=Ey({$ingest:e.values,$format:e.format})):e.url?wj(e.url)||wj(e.format)?(r.push(Jye(t,e)),r.push(i=Ey())):r.push(i=Ey({$request:e.url,$format:e.format})):e.source&&(i=a=Ft(e.source).map(f=>un(t.getData(f).output)),r.push(null)),l=0,c=n.length;l<c;++l)u=n[l],d=u.metadata,!i&&!d.source&&r.push(i=Ey()),r.push(u),d.generates&&(s=!0),d.modifies&&!s&&(o=!0),d.source?i=u:d.changes&&(i=null);return a&&(c=a.length-1,r[0]=tWt({derive:o,pulse:c?a:a[0]}),(o||c)&&r.splice(1,0,Ey())),i||r.push(Ey()),r.push(cx({})),r}function Ey(e){const t=Gd({},e);return t.metadata={source:!0},t}function Jye(e,t){return GHt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const w3e=e=>e===m0||e===Yd,WL=(e,t,n)=>is(e)?Eqt(e.signal,t,n):e===oC||e===Yd?t:n,xs=(e,t,n)=>is(e)?Cqt(e.signal,t,n):w3e(e)?t:n,Ad=(e,t,n)=>is(e)?kqt(e.signal,t,n):w3e(e)?n:t,S3e=(e,t,n)=>is(e)?Tqt(e.signal,t,n):e===Yd?{value:t}:{value:n},_qt=(e,t,n)=>is(e)?Rqt(e.signal,t,n):e===sC?{value:t}:{value:n},Cqt=(e,t,n)=>_3e(`${e} === '${Yd}' || ${e} === '${m0}'`,t,n),kqt=(e,t,n)=>_3e(`${e} !== '${Yd}' && ${e} !== '${m0}'`,t,n),Eqt=(e,t,n)=>Qee(`${e} === '${oC}' || ${e} === '${Yd}'`,t,n),Tqt=(e,t,n)=>Qee(`${e} === '${Yd}'`,t,n),Rqt=(e,t,n)=>Qee(`${e} === '${sC}'`,t,n),_3e=(e,t,n)=>(t=t!=null?bs(t):t,n=n!=null?bs(n):n,eve(t)&&eve(n)?(t=t?t.signal||yt(t.value):null,n=n?n.signal||yt(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Wn({test:e},t)].concat(n||[])),eve=e=>e==null||Object.keys(e).length===1,Qee=(e,t,n)=>({signal:`${e} ? (${dw(t)}) : (${dw(n)})`}),Mqt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${oC}' ? (${dw(r)}) : `:"")+(n!=null?`${e} === '${m0}' ? (${dw(n)}) : `:"")+(i!=null?`${e} === '${sC}' ? (${dw(i)}) : `:"")+(t!=null?`${e} === '${Yd}' ? (${dw(t)}) : `:"")+"(null)"}),dw=e=>is(e)?e.signal:e==null?null:yt(e),Aqt=(e,t)=>t===0?0:is(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Iw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function E1(e,t,n,r){let i;if(t&&Ut(t,e))return t[e];if(Ut(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[Wee][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[iA][i]}return null}function tve(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function Pqt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,c;if(is(s)){const d=tve([n.axisX,n.axisY]),f=tve([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(c of d)a[c]=xs(s,E1(c,n.axisX,i,r),E1(c,n.axisY,i,r));l={};for(c of f)l[c]=Mqt(s.signal,E1(c,n.axisTop,i,r),E1(c,n.axisBottom,i,r),E1(c,n.axisLeft,i,r),E1(c,n.axisRight,i,r))}else a=s===Yd||s===m0?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?Wn({},i,a,l,o):i}function Dqt(e,t,n,r){const i=Wl(e,t),o=e.orient;let s,a;const l={enter:s={opacity:xr},update:a={opacity:ku},exit:{opacity:xr}};Gs(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=nve(e,0),u=nve(e,1);return s.x=a.x=xs(o,c,xr),s.x2=a.x2=xs(o,u),s.y=a.y=Ad(o,c,xr),s.y2=a.y2=Ad(o,u),Ic({type:Gee,role:tHt,from:r,encode:l},n)}function nve(e,t){return{scale:e.scale,range:t}}function Oqt(e,t,n,r,i){const o=Wl(e,t),s=e.orient,a=e.gridScale,l=WL(s,1,-1),c=Iqt(e.offset,l);let u,d,f;const p={enter:u={opacity:xr},update:f={opacity:ku},exit:d={opacity:xr}};Gs(p,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const g={scale:e.scale,field:Cu,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},y=xs(s,{signal:"height"},{signal:"width"}),v=a?{scale:a,range:0,mult:l,offset:c}:{value:0,offset:c},x=a?{scale:a,range:1,mult:l,offset:c}:Wn(y,{mult:l,offset:c});return u.x=f.x=xs(s,g,v),u.y=f.y=Ad(s,g,v),u.x2=f.x2=Ad(s,x),u.y2=f.y2=xs(s,x),d.x=xs(s,g),d.y=Ad(s,g),Ic({type:Gee,role:nHt,key:Cu,from:r,encode:p},n)}function Iqt(e,t){if(t!==1)if(!It(e))e=is(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Wn({},e);for(;n.mult!=null;)if(It(n.mult))n=n.mult=Wn({},n.mult);else return n.mult=is(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function jqt(e,t,n,r,i,o){const s=Wl(e,t),a=e.orient,l=WL(a,-1,1);let c,u,d;const f={enter:c={opacity:xr},update:d={opacity:ku},exit:u={opacity:xr}};Gs(f,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const p=bs(i);p.mult=l;const g={scale:e.scale,field:Cu,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return d.y=c.y=xs(a,xr,g),d.y2=c.y2=xs(a,p),u.x=xs(a,g),d.x=c.x=Ad(a,xr,g),d.x2=c.x2=Ad(a,p),u.y=Ad(a,g),Ic({type:Gee,role:iHt,key:Cu,from:r,encode:f},n)}function m7(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function $qt(e,t,n,r,i,o){const s=Wl(e,t),a=e.orient,l=e.scale,c=WL(a,-1,1),u=Lv(s("labelFlush")),d=Lv(s("labelFlushOffset")),f=s("labelAlign"),p=s("labelBaseline");let g=u===0||!!u,y;const v=bs(i);v.mult=c,v.offset=bs(s("labelPadding")||0),v.offset.mult=c;const x={scale:l,field:Cu,band:.5,offset:m3e(o.offset,s("labelOffset"))},w=xs(a,g?m7(l,u,'"left"','"right"','"center"'):{value:"center"},_qt(a,"left","right")),S=xs(a,S3e(a,"bottom","top"),g?m7(l,u,'"top"','"bottom"','"middle"'):{value:"middle"}),C=m7(l,u,`-(${d})`,d,0);g=g&&d;const k={opacity:xr,x:xs(a,x,v),y:Ad(a,x,v)},T={enter:k,update:y={opacity:ku,text:{field:Hee},x:k.x,y:k.y,align:w,baseline:S},exit:{opacity:xr,x:k.x,y:k.y}};Gs(T,{dx:!f&&g?xs(a,C):null,dy:!p&&g?Ad(a,C):null}),Gs(T,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:f,baseline:p});const E=s("labelBound");let A=s("labelOverlap");return A=A||E?{separation:s("labelSeparation"),method:A,order:"datum.index",bound:E?{scale:l,orient:a,tolerance:E}:null}:void 0,y.align!==w&&(y.align=Iw(y.align,w)),y.baseline!==S&&(y.baseline=Iw(y.baseline,S)),Ic({type:ux,role:rHt,style:iA,key:Cu,from:r,encode:T,overlap:A},n)}function Fqt(e,t,n,r){const i=Wl(e,t),o=e.orient,s=WL(o,-1,1);let a,l;const c={enter:a={opacity:xr,anchor:bs(i("titleAnchor",null)),align:{signal:Yee}},update:l=Wn({},a,{opacity:ku,text:bs(e.title)}),exit:{opacity:xr}},u={signal:`lerp(range("${e.scale}"), ${UL(0,1,.5)})`};return l.x=xs(o,u),l.y=Ad(o,u),a.angle=xs(o,xr,Aqt(s,90)),a.baseline=xs(o,S3e(o,m0,Yd),{value:m0}),l.angle=a.angle,l.baseline=a.baseline,Gs(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Lqt(i,o,c,n),c.update.align=Iw(c.update.align,a.align),c.update.angle=Iw(c.update.angle,a.angle),c.update.baseline=Iw(c.update.baseline,a.baseline),Ic({type:ux,role:oHt,style:Wee,from:r,encode:c},n)}function Lqt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Iw(bs(a),n.update[l]),!1):!U1(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?bs(s):xs(t,bs(s),bs(o))}function Nqt(e,t){const n=Pqt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=Wl(e,n),c=jWt(l),u={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=un(t.add(Gd({},[u]))),f=un(t.add(zHt({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];let g;return u.grid&&p.push(Oqt(e,n,r.grid,f,c)),u.ticks&&(g=l("tickSize"),p.push(jqt(e,n,r.ticks,f,g,c))),u.labels&&(g=u.ticks?g:0,p.push($qt(e,n,r.labels,f,g,c))),u.domain&&p.push(Dqt(e,n,r.domain,d)),u.title&&p.push(Fqt(e,n,r.title,d)),HL(nR({role:eHt,from:d,encode:iC(zqt(l,e),i,oA),marks:p,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function zqt(e,t){const n={enter:{},update:{}};return Gs(n,{orient:e("orient"),offset:e("offset")||0,position:cd(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function C3e(e,t,n){const r=Ft(e.signals),i=Ft(e.scales);return n||r.forEach(o=>n3e(o,t)),Ft(e.projections).forEach(o=>vWt(o,t)),i.forEach(o=>sWt(o,t)),Ft(e.data).forEach(o=>wqt(o,t)),i.forEach(o=>aWt(o,t)),(n||r).forEach(o=>NHt(o,t)),Ft(e.axes).forEach(o=>Nqt(o,t)),Ft(e.marks).forEach(o=>HL(o,t)),Ft(e.legends).forEach(o=>cqt(o,t)),e.title&&mqt(e.title,t),t.parseLambdas(),t}const Bqt=e=>iC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Uqt(e,t){const n=t.config,r=un(t.root=t.add(d3())),i=Vqt(e,n);i.forEach(c=>n3e(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Gd()),s=t.add(o3e(t3e(Bqt(e.encode),BL,zee,e.style,t,{pulse:un(o)}))),a=t.add(l3e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:un(s)}));t.operators.pop(),t.pushState(un(s),un(a),null),C3e(e,t,i),t.operators.push(a);let l=t.add(i3e({mark:r,pulse:un(a)}));return l=t.add(a3e({pulse:un(l)})),l=t.add(cx({pulse:un(l)})),t.addData("root",new wb(t,o,o,l)),t}function ak(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Vqt(e,t){const n=s=>cd(e[s],t[s]),r=[ak("background",n("background")),ak("autosize",ZVt(n("autosize"))),ak("padding",JVt(n("padding"))),ak("width",n("width")||0),ak("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return Ft(e.signals).forEach(s=>{Ut(i,s.name)?s=Wn(i[s.name],s):r.push(s),o[s.name]=s}),Ft(t.signals).forEach(s=>{!Ut(o,s.name)&&!Ut(i,s.name)&&r.push(s)}),r}function k3e(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function rve(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}k3e.prototype=rve.prototype={parse(e){return C3e(e,this)},fork(){return new rve(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof Nq?un(e):e;return this.add(eWt({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(un(this.add(cx({pulse:e})))),this._parent.push(t),this._lookup.push(n?un(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return br(this._parent)},encode(){return br(this._encode)},lookup(){return br(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(jt(e))return eR(e,t);e.signal||Ge("Unsupported field reference: "+yt(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=un(this.add(HHt(i)))}return r},compareRef(e){let t=!1;const n=o=>is(o)?(t=!0,this.signalRef(o.signal)):MHt(o)?(t=!0,this.exprRef(o.expr)):o,r=Ft(e.field).map(n),i=Ft(e.order).map(n);return t?un(this.add(Vye({fields:r,orders:i}))):Bye(r,i)},keyRef(e,t){let n=!1;const r=o=>is(o)?(n=!0,un(i[o.signal])):o,i=this.signals;return e=Ft(e).map(r),n?un(this.add(WHt({fields:e,flat:t}))):kHt(e,t)},sortRef(e){if(!e)return e;const t=NL(e.op,e.field),n=e.order||EHt;return n.signal?un(this.add(Vye({fields:t,orders:this.signalRef(n.signal)}))):Bye(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Ut(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Ge("Duplicate signal name: "+yt(e));const n=t instanceof Nq?t:this.add(d3(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Ge("Unrecognized signal name: "+yt(e)),this.signals[e]},signalRef(e){return this.signals[e]?un(this.signals[e]):(Ut(this.lambdas,e)||(this.lambdas[e]=this.add(d3(null))),un(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=ip(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!It(e)?e:this.signalRef(e.signal||Jee(e))},exprRef(e,t){const n={expr:ip(e,this)};return t&&(n.expr.$name=t),un(this.add(UHt(n)))},addBinding(e,t){this.bindings||Ge("Nested signals do not support binding: "+yt(e)),this.bindings.push(Wn({signal:e},t))},addScaleProj(e,t){Ut(this.scales,e)&&Ge("Duplicate scale or projection name: "+yt(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,nWt(t))},addProjection(e,t){this.addScaleProj(e,JHt(t))},getScale(e){return this.scales[e]||Ge("Unrecognized scale name: "+yt(e)),this.scales[e]},scaleRef(e){return un(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Ut(this.data,e)&&Ge("Duplicate data set name: "+yt(e)),this.data[e]=t},getData(e){return this.data[e]||Ge("Undefined data set name: "+yt(e)),this.data[e]},addDataPipeline(e,t){return Ut(this.data,e)&&Ge("Duplicate data set name: "+yt(e)),this.addData(e,wb.fromEntries(this,t))}};function Jee(e){return(Je(e)?Hqt:Wqt)(e)}function Hqt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(It(i)?i.signal||Jee(i):yt(i))}return n+"]"}function Wqt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+yt(r)+":"+(It(i)?i.signal||Jee(i):yt(i));return t+"}"}function qqt(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Gqt(e,t,n){return It(e)||Ge("Input Vega specification must be an object."),t=W_(qqt(),t,e.config),Uqt(e,new k3e(t,n)).toRuntime()}var Yqt="6.2.0";Wn(PS,S5t,wLt,JLt,Lzt,C6t,ZBt,ABt,JBt,_8t,O8t,z8t);const Xqt=Yqt,Kqt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Wo,CanvasHandler:XM,CanvasRenderer:R$,DATE:jl,DAY:ua,DAYOFYEAR:np,Dataflow:Dw,Debug:KAe,DisallowedObjectProperties:mZ,Error:yZ,EventStream:Y4,Gradient:vIe,GroupItem:gL,HOURS:Pc,Handler:_J,HybridHandler:lje,HybridRenderer:YW,Info:XAe,Item:hL,MILLISECONDS:Id,MINUTES:Dc,MONTH:ma,Marks:Oc,MultiPulse:UZ,None:YAe,Operator:yi,Parameters:G4,Pulse:Um,QUARTER:Il,RenderType:_m,Renderer:YM,ResourceLoader:CIe,SECONDS:Iu,SVGHandler:XIe,SVGRenderer:MJ,SVGStringRenderer:aje,Scenegraph:BIe,TIME_UNITS:DZ,Transform:Ue,View:V$e,WEEK:ns,Warn:vZ,YEAR:qs,accessor:Vl,accessorFields:ga,accessorName:go,array:Ft,ascending:G_,bandwidthNRD:qZ,bin:ADe,bootstrapCI:PDe,boundClip:vje,boundContext:HM,boundItem:VW,boundMark:FIe,boundStroke:cg,changeset:ox,clampRange:aPe,codegenExpression:m$e,compare:SZ,constant:wa,cumulativeLogNormal:QZ,cumulativeNormal:K4,cumulativeUniform:nQ,dayofyear:FPe,debounce:_Z,defaultLocale:FZ,definition:TDe,densityLogNormal:ZZ,densityNormal:GZ,densityUniform:tQ,domChild:ts,domClear:lu,domCreate:wm,domFind:SJ,dotbin:DDe,error:Ge,expressionFunction:Oo,extend:Wn,extent:Jf,extentIndex:lPe,falsy:Qg,fastmap:Y_,field:Du,flush:cPe,font:xL,fontFamily:GM,fontSize:hp,format:nj,formatLocale:d$,formats:zZ,hasOwnProperty:Ut,id:PM,identity:xa,inferType:mDe,inferTypes:yDe,ingest:zr,inherits:_t,inrange:sw,interpolate:JQ,interpolateColors:fL,interpolateRange:iIe,intersect:hje,intersectBoxLine:aw,intersectPath:aJ,intersectPoint:lJ,intersectRule:EIe,isArray:Je,isBoolean:$0,isDate:zm,isFunction:Bn,isIterable:uPe,isNumber:Or,isObject:It,isRegExp:CZ,isString:jt,isTuple:W4,key:kZ,lerp:dPe,lineHeight:p0,loader:V4,locale:hDe,logger:I4,lruCache:fPe,markup:RJ,merge:pPe,mergeConfig:W_,multiLineOffset:bJ,one:H_,pad:hPe,panLinear:tPe,panLog:nPe,panPow:rPe,panSymlog:iPe,parse:Gqt,parseExpression:Tee,parseSelector:z0,path:tL,pathCurves:iJ,pathEqual:bje,pathParse:$S,pathRectangle:wIe,pathRender:VT,pathSymbols:xIe,pathTrail:SIe,peek:br,point:SL,projection:YJ,quantileLogNormal:JZ,quantileNormal:Z4,quantileUniform:rQ,quantiles:HZ,quantizeInterpolator:oIe,quarter:oPe,quartiles:WZ,get random(){return ju},randomInteger:Ejt,randomKDE:XZ,randomLCG:kjt,randomLogNormal:IDe,randomMixture:jDe,randomNormal:YZ,randomUniform:$De,read:xDe,regressionConstant:iQ,regressionExp:LDe,regressionLinear:oQ,regressionLoess:BDe,regressionLog:FDe,regressionPoly:zDe,regressionPow:NDe,regressionQuad:sQ,renderModule:_L,repeat:Nk,resetDefaultLocale:_It,resetSVGDefIds:N4t,responseType:bDe,runtimeContext:A$e,sampleCurve:J4,sampleLogNormal:KZ,sampleNormal:X4,sampleUniform:eQ,scale:jr,sceneEqual:AJ,sceneFromJSON:NIe,scenePickVisit:x$,sceneToJSON:LIe,sceneVisit:jd,sceneZOrder:cJ,scheme:eJ,serializeXML:rje,setHybridRendererOptions:j4t,setRandom:_jt,span:DM,splitAccessPath:fp,stringValue:yt,textMetrics:wc,timeBin:eDe,timeFloor:HPe,timeFormatLocale:zT,timeInterval:Q_,timeOffset:GPe,timeSequence:KPe,timeUnitSpecifier:$Pe,timeUnits:OZ,toBoolean:EZ,toDate:TZ,toNumber:da,toSet:Od,toString:RZ,transform:RDe,transforms:PS,truncate:gPe,truthy:Ou,tupleid:dn,typeParsers:MW,utcFloor:WPe,utcInterval:J_,utcOffset:YPe,utcSequence:ZPe,utcdayofyear:zPe,utcquarter:sPe,utcweek:BPe,version:Xqt,visitArray:im,week:LPe,writeConfig:q_,zero:hm,zoomLinear:bZ,zoomLog:xZ,zoomPow:o$,zoomSymlog:wZ},Symbol.toStringTag,{value:"Module"}));function Zqt(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var Qqt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Jqt={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},eGt={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const tGt=Array.prototype.slice,Ty=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,tGt.call(t,1))},nGt=(e,t=0,n=1,r=0,i=0,o=0,s=0)=>jt(e)?new Date(e):new Date(e,t,n,r,i,o,s);var rGt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:nGt,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Ty("join",arguments)},indexof:function(){return Ty("indexOf",arguments)},lastindexof:function(){return Ty("lastIndexOf",arguments)},slice:function(){return Ty("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(G_),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Ty("substring",arguments,String)},split:function(){return Ty("split",arguments,String)},replace:function(){return Ty("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const iGt=["view","item","group","xy","x","y"],qq=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&qq.add(setImmediate);const oGt={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:Qqt[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),qq.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||rGt[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Jqt[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>eGt[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);e.memberDepth-=1;const o=e(r.value);return mZ.has(i)?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):qq.has(o)?console.error(`Prevented interpretation of method "${i}" which could lead to insecure code execution`):n[i]=o,n},{})};function lk(e,t,n,r,i,o){const s=a=>oGt[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,iGt.forEach(a=>s.fn[a]=(...l)=>i.vega[a](...l)),s(e)}var sGt={operator(e,t){const n=t.ast,r=e.functions;return i=>lk(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>lk(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>lk(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return lk(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let c=0,u;for(const d in r)u=lk(r[d].ast,i,a,l,void 0,s),s[d]!==u&&(s[d]=u,c=1);return n!=="rule"&&Zqt(s,r,o),c}}},aGt="6.4.1",lGt={version:aGt};function ete(e){return lt(e,"or")}function tte(e){return lt(e,"and")}function nte(e){return lt(e,"not")}function kj(e,t){if(nte(e))kj(e.not,t);else if(tte(e))for(const n of e.and)kj(n,t);else if(ete(e))for(const n of e.or)kj(n,t);else t(e)}function jw(e,t){return nte(e)?{not:jw(e.not,t)}:tte(e)?{and:e.and.map(n=>jw(n,t))}:ete(e)?{or:e.or.map(n=>jw(n,t))}:t(e)}const Rn=structuredClone;function E3e(e){throw new Error(e)}function HS(e,t){const n={};for(const r of t)Ut(e,r)&&(n[r]=e[r]);return n}function _c(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Xr(e)).join(",")})`};function mr(e){if(Or(e))return e;const t=jt(e)?e:Xr(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function Gq(e){return e===!1||e===null}function ir(e,t){return e.includes(t)}function WS(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function rte(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function T3e(e,...t){for(const n of t)cGt(e,n??{});return e}function cGt(e,t){for(const n of st(t))q_(e,n,t[n],!0)}function Df(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function uGt(e,t){const n=st(e),r=st(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function R3e(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ite(e,t){for(const n of e)if(t.has(n))return!0;return!1}function Yq(e){const t=new Set;for(const n of e){const i=fp(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function ote(e,t){return e===void 0||t===void 0?!0:ite(Yq(e),Yq(t))}function bi(e){return st(e).length===0}const st=Object.keys,Ho=Object.values,y0=Object.entries;function rR(e){return e===!0||e===!1}function Ui(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function zE(e,t){return nte(e)?`!(${zE(e.not,t)})`:tte(e)?`(${e.and.map(n=>zE(n,t)).join(") && (")})`:ete(e)?`(${e.or.map(n=>zE(n,t)).join(") || (")})`:t(e)}function f3(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&f3(e[n],t)&&delete e[n],bi(e)}function sA(e){return e.charAt(0).toUpperCase()+e.substr(1)}function ste(e,t="datum"){const n=fp(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(yt).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function M3e(e,t="datum"){return`${t}[${yt(fp(e).join("."))}]`}function ti(e){return`datum['${e.replaceAll("'","\\'")}']`}function A3e(e){return e.replaceAll("\\'","'").replaceAll("\\.",".")}function dGt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Fu(e){return`${fp(e).map(dGt).join("\\.")}`}function Sb(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function aC(e){return`${fp(e).join(".")}`}function qS(e){return e?fp(e).length:0}function Ro(...e){return e.find(t=>t!==void 0)}let P3e=42;function D3e(e){const t=++P3e;return e?String(e)+t:t}function fGt(){P3e=42}function O3e(e){return I3e(e)?e:`__${e}`}function I3e(e){return e.startsWith("__")}function iR(e){if(e!==void 0)return(e%360+360)%360}function qL(e){return Or(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const ive=Object.getPrototypeOf(structuredClone({}));function gc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!gc(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!gc(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==ive.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==ive.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!gc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Xr(e){const t=[];return(function n(r){if(r?.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?`${r}`:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return`${o}]`}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],c=n(r[l]);c&&(o&&(o+=","),o+=`${JSON.stringify(l)}:${c}`)}return t.splice(s,1),`{${o}}`})(e)}function lt(e,t){return It(e)&&Ut(e,t)&&e[t]!==void 0}const Dh="row",Oh="column",GL="facet",Vi="x",As="y",Xd="x2",vp="y2",B0="xOffset",lC="yOffset",Kd="radius",dg="radius2",Vu="theta",fg="theta2",Zd="latitude",Qd="longitude",Jd="latitude2",Lu="longitude2",U0="time",Fl="color",bp="fill",xp="stroke",Ll="shape",pg="size",dx="angle",hg="opacity",V0="fillOpacity",H0="strokeOpacity",W0="strokeWidth",q0="strokeDash",aA="text",GS="order",lA="detail",YL="key",_b="tooltip",XL="href",KL="url",ZL="description",pGt={x:1,y:1,x2:1,y2:1},j3e={theta:1,theta2:1,radius:1,radius2:1};function $3e(e){return Ut(j3e,e)}const ate={longitude:1,longitude2:1,latitude:1,latitude2:1};function F3e(e){switch(e){case Zd:return"y";case Jd:return"y2";case Qd:return"x";case Lu:return"x2"}}function L3e(e){return Ut(ate,e)}const hGt=st(ate),lte={...pGt,...j3e,...ate,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function $w(e){return e===Fl||e===bp||e===xp}const N3e={row:1,column:1,facet:1},mu=st(N3e),cte={...lte,...N3e},gGt=st(cte),{order:rMn,detail:iMn,tooltip:oMn,...mGt}=cte,{row:sMn,column:aMn,facet:lMn,...yGt}=mGt;function vGt(e){return Ut(yGt,e)}function z3e(e){return Ut(cte,e)}const bGt=[Xd,vp,Jd,Lu,fg,dg];function B3e(e){return fx(e)!==e}function fx(e){switch(e){case Xd:return Vi;case vp:return As;case Jd:return Zd;case Lu:return Qd;case fg:return Vu;case dg:return Kd}return e}function v0(e){if($3e(e))switch(e){case Vu:return"startAngle";case fg:return"endAngle";case Kd:return"outerRadius";case dg:return"innerRadius"}return e}function wp(e){switch(e){case Vi:return Xd;case As:return vp;case Zd:return Jd;case Qd:return Lu;case Vu:return fg;case Kd:return dg}}function Nl(e){switch(e){case Vi:case Xd:return"width";case As:case vp:return"height"}}function U3e(e){switch(e){case Vi:return"xOffset";case As:return"yOffset";case Xd:return"x2Offset";case vp:return"y2Offset";case Vu:return"thetaOffset";case Kd:return"radiusOffset";case fg:return"theta2Offset";case dg:return"radius2Offset"}}function ute(e){switch(e){case Vi:return"xOffset";case As:return"yOffset"}}function xGt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const wGt=st(lte),{x:cMn,y:uMn,x2:dMn,y2:fMn,xOffset:pMn,yOffset:hMn,latitude:gMn,longitude:mMn,latitude2:yMn,longitude2:vMn,theta:bMn,theta2:xMn,radius:wMn,radius2:SMn,...dte}=lte,SGt=st(dte),fte={x:1,y:1},gg=st(fte);function Mo(e){return Ut(fte,e)}const pte={theta:1,radius:1},_Gt=st(pte);function QL(e){return e==="width"?Vi:As}const V3e={xOffset:1,yOffset:1};function cA(e){return Ut(V3e,e)}const CGt={time:1};function y7(e){return e in CGt}const{text:_Mn,tooltip:CMn,href:kMn,url:EMn,description:TMn,detail:RMn,key:MMn,order:AMn,...H3e}=dte,kGt=st(H3e);function EGt(e){return Ut(dte,e)}function TGt(e){switch(e){case Fl:case bp:case xp:case pg:case Ll:case hg:case W0:case q0:return!0;case V0:case H0:case dx:case U0:return!1}}const W3e={...fte,...pte,...V3e,...H3e},hte=st(W3e);function Sp(e){return Ut(W3e,e)}function RGt(e,t){return AGt(e)[t]}const q3e={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:PMn,...MGt}=q3e;function AGt(e){switch(e){case Fl:case bp:case xp:case ZL:case lA:case YL:case _b:case XL:case GS:case hg:case V0:case H0:case W0:case GL:case Dh:case Oh:return q3e;case Vi:case As:case B0:case lC:case Zd:case Qd:case U0:return MGt;case Xd:case vp:case Jd:case Lu:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case pg:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case q0:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Ll:return{point:"always",geoshape:"always"};case aA:return{text:"always"};case dx:return{point:"always",square:"always",text:"always"};case KL:return{image:"always"};case Vu:return{text:"always",arc:"always"};case Kd:return{text:"always",arc:"always"};case fg:case dg:return{arc:"always"}}}function v7(e){switch(e){case Vi:case As:case Vu:case Kd:case B0:case lC:case pg:case dx:case W0:case hg:case V0:case H0:case U0:case Xd:case vp:case fg:case dg:return;case GL:case Dh:case Oh:case Ll:case q0:case aA:case _b:case XL:case KL:case ZL:return"discrete";case Fl:case bp:case xp:return"flexible";case Zd:case Qd:case Jd:case Lu:case lA:case YL:case GS:return}}const PGt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},DGt={count:1,min:1,max:1};function eg(e){return lt(e,"argmin")}function G0(e){return lt(e,"argmax")}function gte(e){return jt(e)&&Ut(PGt,e)}const OGt=new Set(["count","valid","missing","distinct"]);function JL(e){return jt(e)&&OGt.has(e)}function IGt(e){return jt(e)&&ir(["min","max"],e)}const jGt=new Set(["count","sum","distinct","valid","missing"]),$Gt=new Set(["mean","average","median","q1","q3","min","max"]);function G3e(e){return $0(e)&&(e=dN(e,void 0)),`bin${st(e).map(t=>eN(e[t])?Ui(`_${t}_${y0(e[t])}`):Ui(`_${t}_${e[t]}`)).join("")}`}function Ei(e){return e===!0||px(e)&&!e.binned}function $s(e){return e==="binned"||px(e)&&e.binned===!0}function px(e){return It(e)}function eN(e){return lt(e,"param")}function ove(e){switch(e){case Dh:case Oh:case pg:case Fl:case bp:case xp:case W0:case hg:case V0:case H0:case Ll:return 6;case q0:return 4;default:return 10}}function uA(e){return lt(e,"expr")}function Ls(e,{level:t}={level:0}){const n=st(e||{}),r={};for(const i of n)r[i]=t===0?fc(e[i]):Ls(e[i],{level:t-1});return r}function Y3e(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:p,subtitlePadding:g,...y}=e,v={...y,...a?{fill:a}:{}},x={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},w={...l?{subtitleColor:l}:{},...c?{subtitleFont:c}:{},...u?{subtitleFontSize:u}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...p?{subtitleLineHeight:p}:{},...g?{subtitlePadding:g}:{}},S=HS(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:v,subtitleMarkConfig:S,nonMarkTitleProperties:x,subtitle:w}}function lm(e){return jt(e)||Je(e)&&jt(e[0])}function rn(e){return lt(e,"signal")}function hx(e){return lt(e,"step")}function FGt(e){return Je(e)?!1:lt(e,"fields")&&!lt(e,"data")}function LGt(e){return Je(e)?!1:lt(e,"fields")&&lt(e,"data")}function wh(e){return Je(e)?!1:lt(e,"field")&&lt(e,"data")}const NGt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},zGt=st(NGt),BGt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Xq=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],UGt="  ";function X3e(e){const t=Je(e.condition)?e.condition.map(sve):sve(e.condition);return{...fc(e),condition:t}}function fc(e){if(uA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function sve(e){if(uA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Pi(e){if(uA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return rn(e)?e:e!==void 0?{value:e}:void 0}function VGt(e){return rn(e)?e.signal:yt(e)}function ave(e){return rn(e)?e.signal:yt(e.value)}function wd(e){return rn(e)?e.signal:e==null?null:yt(e)}function HGt(e,t,n){for(const r of n){const i=op(r,t.markDef,t.config);i!==void 0&&(e[r]=Pi(i))}return e}function K3e(e){return[].concat(e.type,e.style??[])}function Gr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&lt(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:op(e,t,n,r)}function op(e,t,n,{vgChannel:r}={}){const i=Kq(e,t,n.style);return Ro(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Kq(e,t,n){return Z3e(e,K3e(t),n)}function Z3e(e,t,n){t=Ft(t);let r;for(const i of t){const o=n[i];lt(o,e)&&(r=o[e])}return r}function Q3e(e,t){return Ft(e).reduce((n,r)=>(n.field.push(Mt(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function J3e(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(gc(i,r))return;n.push(r)}),n}function eFe(e,t){return gc(e,t)||!t?e:e?[...Ft(e),...Ft(t)].join(", "):t}function tFe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((lm(n)||rn(n))&&(lm(r)||rn(r)))return{explicit:e.explicit,value:eFe(n,r)};if(lm(n)||rn(n))return{explicit:e.explicit,value:n};if(lm(r)||rn(r))return{explicit:e.explicit,value:r};if(!lm(n)&&!rn(n)&&!lm(r)&&!rn(r))return{explicit:e.explicit,value:J3e(n,r)};throw new Error("It should never reach here")}function mte(e){return`Invalid specification ${Xr(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const WGt='Autosize "fit" only works for single views and layered views.';function lve(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function cve(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function uve(e){return e?`Dropping "fit-${e}" because spec has discrete ${Nl(e)}.`:'Dropping "fit" because spec has discrete size.'}function yte(e){return`Unknown field for ${e}. Cannot calculate view size.`}function dve(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function qGt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function GGt(e){return`The "nearest" transform is not supported for ${e} marks.`}function nFe(e){return`Selection not supported for ${e} yet.`}function YGt(e){return`Cannot find a selection named "${e}".`}const XGt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",KGt="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",ZGt="Legend bindings are only supported for selections over an individual field or encoding channel.";function QGt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function JGt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const eYt="The same selection must be used to override scale domains in a layered view.",tYt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function nYt(e){return`Unknown repeated value "${e}".`}function fve(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const rYt="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",vte="Animation involving facet, layer, or concat is currently unsupported.";function iYt(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${yt(e)}.`}function oYt(e,t,n,r){return`${e.length?"Multiple ":"No "}matching ${yt(t)} encoding found for selection ${yt(n.param)}. Using "field": ${yt(r)}.`}const sYt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function aYt(e){return`Unrecognized parse "${e}".`}function pve(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const lYt="Attempt to add the same child twice.";function cYt(e){return`Ignoring an invalid transform: ${Xr(e)}.`}const uYt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function hve(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function dYt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Xr(t)} is overridden by a child projection ${Xr(n)}.`}const fYt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function pYt(e){return`${e}Offset dropped because ${e} is continuous`}function hYt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Xr(n)}}.`}function rFe(e){return`Invalid field type "${e}".`}function gYt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function mYt(e){return`Invalid aggregation operator "${e}".`}function iFe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function yYt(e){return`Position range does not support relative band size for ${e}.`}function Zq(e,t){return`Dropping ${Xr(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const vYt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function tN(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function bYt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function xYt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function wYt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function SYt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function b7(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function _Yt(e){return`The ${e} for range marks cannot be an expression`}function CYt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function kYt(e,t){return`Specified orient "${e}" overridden with "${t}".`}function EYt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function TYt(e){return`Cannot use the relative band size with ${e} scale.`}function RYt(e){return`Using unaggregated domain with raw field has no effect (${Xr(e)}).`}function MYt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function AYt(e){return`Unaggregated domain is currently unsupported for log scale (${Xr(e)}).`}function PYt(e){return`Cannot apply size to non-oriented mark "${e}".`}function DYt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function OYt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function oFe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function sFe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function IYt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Xr(n)} and ${Xr(r)}). Using ${Xr(n)}.`}function jYt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Xr(n)} and ${Xr(r)}). Using the union of the two domains.`}function $Yt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function FYt(e){return`Dropping sort property ${Xr(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const gve="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",LYt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",NYt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",zYt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function BYt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function UYt(e){return`Stack is applied to a non-linear scale (${e}).`}function VYt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function p3(e,t){return`Invalid ${e}: ${Xr(t)}.`}function HYt(e){return`Dropping day from datetime ${Xr(e)} as day cannot be combined with other units.`}function WYt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function qYt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function GYt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function mve(e){return`1D error band does not support ${e}.`}function aFe(e){return`Channel ${e} is required for "binned" bin.`}function YYt(e){return`Channel ${e} should not be used with "binned" bin.`}function XYt(e){return`Domain for ${e} is required for threshold scale.`}const lFe=I4(vZ);let Cb=lFe;function KYt(e){return Cb=e,Cb}function ZYt(){return Cb=lFe,Cb}function bte(...e){Cb.error(...e)}function ft(...e){Cb.warn(...e)}function QYt(...e){Cb.debug(...e)}function gx(e){if(e&&It(e)){for(const t of wte)if(lt(e,t))return!0}return!1}const cFe=["january","february","march","april","may","june","july","august","september","october","november","december"],JYt=cFe.map(e=>e.substr(0,3)),uFe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],eXt=uFe.map(e=>e.substr(0,3));function tXt(e){if(qL(e)&&(e=+e),Or(e))return e>4&&ft(p3("quarter",e)),e-1;throw new Error(p3("quarter",e))}function nXt(e){if(qL(e)&&(e=+e),Or(e))return e-1;{const t=e.toLowerCase(),n=cFe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=JYt.indexOf(r);if(i!==-1)return i;throw new Error(p3("month",e))}}function rXt(e){if(qL(e)&&(e=+e),Or(e))return e%7;{const t=e.toLowerCase(),n=uFe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=eXt.indexOf(r);if(i!==-1)return i;throw new Error(p3("day",e))}}function xte(e,t){const n=[];if(t&&e.day!==void 0&&st(e).length>1&&(ft(HYt(e)),e=Rn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?nXt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?tXt(e.quarter):e.quarter;n.push(Or(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?rXt(e.day):e.day;n.push(Or(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function kb(e){const n=xte(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function iXt(e){const n=xte(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function oXt(e){const t=xte(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const dFe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},wte=st(dFe);function sXt(e){return Ut(dFe,e)}function mx(e){return It(e)?e.binned:fFe(e)}function fFe(e){return e?.startsWith("binned")}function Ste(e){return e.startsWith("utc")}function aXt(e){return e.substring(3)}const lXt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function nN(e){return wte.filter(t=>hFe(e,t))}function pFe(e){const t=nN(e);return t[t.length-1]}function hFe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function cXt(e,t,{end:n}={end:!1}){const r=ste(t),i=Ste(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of wte)hFe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),iXt(a)}function gFe(e){if(!e)return;const t=nN(e);return`timeUnitSpecifier(${Xr(t)}, ${Xr(lXt)})`}function uXt(e,t,n){if(!e)return;const r=gFe(e);return`${n||Ste(e)?"utc":"time"}Format(${t}, ${r})`}function Ss(e){if(!e)return;let t;return jt(e)?fFe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:It(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),Ste(t.unit)&&(t.utc=!0,t.unit=aXt(t.unit)),t}function dXt(e){const{utc:t,...n}=Ss(e);return n.unit?(t?"utc":"")+st(n).map(r=>Ui(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):`${t?"utc":""}timeunit${st(n).map(r=>Ui(`_${r}_${n[r]}`)).join("")}`}function mFe(e,t=n=>n){const n=Ss(e),r=pFe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=yFe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(kb(a))} - ${t(kb(i))}`}}const fXt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function pXt(e){return Ut(fXt,e)}function yFe(e,t=1){if(pXt(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function hXt(e){return lt(e,"param")}function _te(e){return!!e?.field&&e.equal!==void 0}function Cte(e){return!!e?.field&&e.lt!==void 0}function kte(e){return!!e?.field&&e.lte!==void 0}function Ete(e){return!!e?.field&&e.gt!==void 0}function Tte(e){return!!e?.field&&e.gte!==void 0}function Rte(e){if(e?.field){if(Je(e.range)&&e.range.length===2)return!0;if(rn(e.range))return!0}return!1}function Mte(e){return!!e?.field&&(Je(e.oneOf)||Je(e.in))}function gXt(e){return!!e?.field&&e.valid!==void 0}function vFe(e){return Mte(e)||_te(e)||Rte(e)||Cte(e)||Ete(e)||kte(e)||Tte(e)}function hf(e,t){return fN(e,{timeUnit:t,wrapTime:!0})}function mXt(e,t){return e.map(n=>hf(n,t))}function bFe(e,t=!0){const{field:n}=e,r=Ss(e.timeUnit),{unit:i,binned:o}=r||{},s=Mt(e,{expr:"datum"}),a=i?`time(${o?s:cXt(i,n)})`:s;if(_te(e))return`${a}===${hf(e.equal,i)}`;if(Cte(e)){const l=e.lt;return`${a}<${hf(l,i)}`}else if(Ete(e)){const l=e.gt;return`${a}>${hf(l,i)}`}else if(kte(e)){const l=e.lte;return`${a}<=${hf(l,i)}`}else if(Tte(e)){const l=e.gte;return`${a}>=${hf(l,i)}`}else{if(Mte(e))return`indexof([${mXt(e.oneOf,i).join(",")}], ${a}) !== -1`;if(gXt(e))return rN(a,e.valid);if(Rte(e)){const{range:l}=Ls(e),c=rn(l)?{signal:`${l.signal}[0]`}:l[0],u=rn(l)?{signal:`${l.signal}[1]`}:l[1];if(c!==null&&u!==null&&t)return`inrange(${a}, [${hf(c,i)}, ${hf(u,i)}])`;const d=[];return c!==null&&d.push(`${a} >= ${hf(c,i)}`),u!==null&&d.push(`${a} <= ${hf(u,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Xr(e)}`)}function rN(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function yXt(e){return vFe(e)&&e.timeUnit?{...e,timeUnit:Ss(e.timeUnit)}:e}const dA={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function vXt(e){return e==="quantitative"||e==="temporal"}function Ate(e){return e==="ordinal"||e==="nominal"}const Eb=dA.quantitative,Pte=dA.ordinal,YS=dA.temporal,Dte=dA.nominal,cC=dA.geojson;function bXt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Eb:return"quantitative";case"t":case YS:return"temporal";case"o":case Pte:return"ordinal";case"n":case Dte:return"nominal";case cC:return"geojson"}}const Ns={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},Qq={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function xXt(e,t){const n=Qq[e],r=Qq[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const wXt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function yve(e){return wXt[e]}const xFe=new Set(["linear","log","pow","sqrt","symlog"]),wFe=new Set([...xFe,"time","utc"]);function SFe(e){return xFe.has(e)}const _Fe=new Set(["quantile","quantize","threshold"]),SXt=new Set([...wFe,..._Fe,"sequential","identity"]),_Xt=new Set(["ordinal","bin-ordinal","point","band"]);function Es(e){return _Xt.has(e)}function $d(e){return SXt.has(e)}function Of(e){return wFe.has(e)}function XS(e){return _Fe.has(e)}const CXt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function kXt(e){return!jt(e)&&lt(e,"name")}function CFe(e){return lt(e,"param")}function EXt(e){return lt(e,"unionWith")}function TXt(e){return It(e)&&"field"in e}const RXt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:DMn,domain:OMn,range:IMn,rangeMax:jMn,rangeMin:$Mn,scheme:FMn,...MXt}=RXt,AXt=st(MXt);function Jq(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Of(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Of(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Of(e);case"nice":return Of(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return $d(e)&&!ir(["log","time","utc","threshold","quantile"],e)}}function kFe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return $w(e)?void 0:EYt(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function PXt(e,t){return ir([Pte,Dte],t)?e===void 0||Es(e):t===YS?ir([Ns.TIME,Ns.UTC,void 0],e):t===Eb?SFe(e)||XS(e)||e===void 0:!0}function DXt(e,t,n=!1){if(!Sp(e))return!1;switch(e){case Vi:case As:case B0:case lC:case Vu:case Kd:return Of(t)||t==="band"?!0:t==="point"?!n:!1;case U0:return ir(["linear","band"],t);case pg:case W0:case hg:case V0:case H0:case dx:return Of(t)||XS(t)||ir(["band","point","ordinal"],t);case Fl:case bp:case xp:return t!=="band";case q0:case Ll:return t==="ordinal"||XS(t)}}function OXt(e){return It(e)&&"value"in e}const tl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},EFe=tl.arc,iN=tl.area,oN=tl.bar,IXt=tl.image,sN=tl.line,aN=tl.point,jXt=tl.rect,h3=tl.rule,TFe=tl.text,Ote=tl.tick,$Xt=tl.trail,Ite=tl.circle,jte=tl.square,RFe=tl.geoshape;function Y0(e){return["line","area","trail"].includes(e)}function oR(e){return["rect","bar","image","arc","tick"].includes(e)}const FXt=new Set(st(tl));function sp(e){return lt(e,"type")}const LXt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],NXt=["fill","fillOpacity"],zXt=[...LXt,...NXt],BXt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},vve=st(BXt),x7=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],UXt={area:["line","point"],bar:x7,rect:x7,line:["point"],tick:["bandSize","thickness",...x7]},VXt={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},HXt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},MFe=st(HXt);function Tb(e){return lt(e,"band")}const WXt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},qXt=5,$te={binSpacing:0,continuousBandSize:qXt,minBandSize:.25,timeUnitBandPosition:.5},GXt={...$te,binSpacing:1},YXt={...$te,thickness:1};function XXt(e){return sp(e)?e.type:e}function AFe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function Fte({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){if(!r||!$d(r)||i)return"always-valid";const o=AFe(Gr("invalid",e,t),{isPath:Y0(e.type)});return t.scale?.invalid?.[n]!==void 0?"show":o}function KXt(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function PFe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function DFe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){const s=n?.get("type"),a=Ld(t),l=JL(a?.aggregate),c=Fte({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&c==="show"){const u=o.scale.invalid?.[e]??"zero-or-min";return{test:rN(Mt(a,{expr:"datum"}),!1),...ZXt(u,n,r)}}}function ZXt(e,t,n){if(OXt(e)){const{value:r}=e;return rn(r)?{signal:r.signal}:{value:r}}return PFe({scale:t,scaleName:n,mode:"zeroOrMin"})}function Lte(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=fx(t),l=Nte(e),c=DFe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return c!==void 0?[c,l]:l}function QXt(e){const{datum:t}=e;return gx(t)?kb(t):`${Xr(t)}`}function Nv(e,t,n,r){const i={};if(t&&(i.scale=t),_p(e)){const{datum:o}=e;gx(o)?i.signal=kb(o):rn(o)?i.signal=o.signal:uA(o)?i.signal=o.expr:i.value=o}else i.field=Mt(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function g3({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!rn(s)&&0<s&&s<1?"datum":void 0,l=Mt(t,{expr:a,suffix:i}),c=n!==void 0?Mt(n,{expr:a}):Mt(t,{suffix:o,expr:a}),u={};if(s===0||s===1){u.scale=e;const d=s===0?l:c;u.field=d}else{const d=rn(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${c}`:`${1-s} * ${l} + ${s} * ${c}`;u.signal=`scale("${e}", ${d})`}return r&&(u.offset=r),u}function JXt({scaleName:e,fieldDef:t}){const n=Mt(t,{expr:"datum"}),r=Mt(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function Nte({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c,bandPosition:u}){if(t){if(In(t)){const d=s?.get("type");if(Qa(t)){u??=b0({fieldDef:t,fieldDef2:n,markDef:r,config:i});const{bin:f,timeUnit:p,type:g}=t;if(Ei(f)||u&&p&&g===YS)return a?.impute?Nv(t,o,{binSuffix:"mid"},{offset:l}):u&&!Es(d)?g3({scaleName:o,fieldOrDatumDef:t,bandPosition:u,offset:l}):Nv(t,o,mA(t,e)?{binSuffix:"range"}:{},{offset:l});if($s(f)){if(dt(n))return g3({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:u,offset:l});ft(aFe(e===Vi?Xd:vp))}}return Nv(t,o,Es(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?u??t.bandPosition??.5:void 0})}else if(Fd(t)){const d=t.value,f=l?{offset:l}:{};return{...BE(e,d),...f}}}return Bn(c)&&(c=c()),c&&{...c,...l?{offset:l}:{}}}function BE(e,t){return ir(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:ir(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Pi(t)}function Rb(e){return e&&e!=="number"&&e!=="time"}function OFe(e,t,n){return`${e}(${t}${n?`, ${Xr(n)}`:""})`}function zte({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){if(Rb(n))return Sd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=IFe(e,r,i),a=KS(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return Sd({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return Sd({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&dt(e)&&e.timeUnit===void 0)return Sd({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}function l(c){return dt(c)?Ss(c.timeUnit)||{}:{unit:void 0,utc:void 0}}if(QS(e)){const{unit:c,utc:u}=l(e),d=tKt({field:s,timeUnit:c,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:u||yx(e)&&e.scale?.type===Ns.UTC});return d?{signal:d}:void 0}if(t=eG({type:a,specifiedFormat:t,config:o,normalizeStack:i}),dt(e)&&Ei(e.bin)){const c=Mt(e,{expr:r,binSuffix:"end"});return{signal:fA(s,c,t,n,o)}}else return t||KS(e)==="quantitative"?{signal:`${FFe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function IFe(e,t,n){return dt(e)?n?`${Mt(e,{expr:t,suffix:"end"})}-${Mt(e,{expr:t,suffix:"start"})}`:Mt(e,{expr:t}):QXt(e)}function Sd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??=IFe(e,r,i),s!=="datum.value"&&dt(e)&&Ei(e.bin)){const a=Mt(e,{expr:r,binSuffix:"end"});return{signal:fA(s,a,t,n,o)}}return{signal:OFe(n,s,t)}}function jFe(e,t,n,r,i,o){if(!(jt(r)&&Rb(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&KS(e)==="quantitative"&&(i.normalizedNumberFormatType&&ZS(e)&&e.stack==="normalize"||i.numberFormatType))){if(ZS(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return eG({type:"quantitative",config:i,normalizeStack:!0});if(QS(e)){const s=dt(e)?Ss(e.timeUnit)?.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:eKt({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:o})}return eG({type:t,specifiedFormat:n,config:i})}}function $Fe(e,t,n){if(e&&(rn(e)||e==="number"||e==="time"))return e;if(QS(t)&&n!=="time"&&n!=="utc")return dt(t)&&Ss(t?.timeUnit)?.utc?"utc":"time"}function eG({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(jt(t))return t;if(e===Eb)return r?n.normalizedNumberFormat:n.numberFormat}function eKt({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:gFe(t)}:r?void 0:n.timeFormat)}function FFe(e,t){return`format(${e}, "${t||""}")`}function bve(e,t,n,r){return Rb(n)?OFe(n,e,t):FFe(e,(jt(t)?t:void 0)??r.numberFormat)}function fA(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return fA(e,t,i.numberFormat,i.numberFormatType,i);const o=bve(e,n,r,i),s=bve(t,n,r,i);return`${rN(e,!1)} ? "null" : ${o} + "${UGt}" + ${s}`}function tKt({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, ${Xr(n)})`:(n=jt(n)?n:i,`${o?"utc":"time"}Format(${e}, ${Xr(n)})`):uXt(t,e,o)}const lN="min",nKt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function xve(e){return Ut(nKt,e)}function rKt(e){return lt(e,"encoding")}function Ih(e){return e&&(e.op==="count"||lt(e,"field"))}function LFe(e){return e&&Je(e)}function pA(e){return lt(e,"row")||lt(e,"column")}function Bte(e){return lt(e,"header")}function cN(e){return lt(e,"facet")}function iKt(e){return lt(e,"param")}function oKt(e){return!jt(e)&&lt(e,"repeat")}function wve(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function Ute(e){return lt(e,"sort")}function b0({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(In(e)&&e.bandPosition!==void 0)return e.bandPosition;if(dt(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return op("timeUnitBandPosition",n,r);if(Ei(o))return .5}}function NFe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){const a=Nl(e),l=Gr(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(dt(t)){const{timeUnit:c,bin:u}=t;if(c&&!n)return{band:op("timeUnitBandSize",r,i)};if(Ei(u)&&!Es(o))return{band:1}}if(oR(r.type))return o?Es(o)?i[r.type]?.discreteBandSize||{band:1}:i[r.type]?.continuousBandSize:i[r.type]?.discreteBandSize}function zFe(e,t,n,r){return Ei(e.bin)||e.timeUnit&&Qa(e)&&e.type==="temporal"?b0({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function BFe(e){return lt(e,"sort")&&!lt(e,"field")}function hA(e){return lt(e,"condition")}function uN(e){const t=e?.condition;return!!t&&!Je(t)&&dt(t)}function gA(e){const t=e?.condition;return!!t&&!Je(t)&&In(t)}function sKt(e){const t=e?.condition;return!!t&&(Je(t)||Fd(t))}function dt(e){return lt(e,"field")||e?.aggregate==="count"}function KS(e){return e?.type}function _p(e){return lt(e,"datum")}function Rm(e){return Qa(e)&&!y3(e)||m3(e)}function Sve(e){return Qa(e)&&e.type==="quantitative"&&!e.bin||m3(e)}function m3(e){return _p(e)&&Or(e.datum)}function In(e){return dt(e)||_p(e)}function Qa(e){return e&&(lt(e,"field")||e.aggregate==="count")&&lt(e,"type")}function Fd(e){return lt(e,"value")}function yx(e){return lt(e,"scale")||lt(e,"sort")}function ZS(e){return lt(e,"axis")||lt(e,"stack")||lt(e,"impute")}function UFe(e){return lt(e,"legend")}function VFe(e){return lt(e,"format")||lt(e,"formatType")}function aKt(e){return _c(e,["legend","axis","header","scale"])}function lKt(e){return lt(e,"op")}function Mt(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(uKt(e))n=O3e("count");else{let s;if(!t.nofn)if(lKt(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:c}=e;Ei(a)?(s=G3e(a),i=(t.binSuffix??"")+(t.suffix??"")):l?G0(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):eg(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):c&&!mx(c)&&(s=dXt(c),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?aC(n):t.expr?M3e(n,t.expr)+o:Fu(n)+o}function y3(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return dt(e)&&!!e.bin;case"temporal":return!1}throw new Error(rFe(e.type))}function cKt(e){return yx(e)&&XS(e.scale?.type)}function uKt(e){return e.aggregate==="count"}function dKt(e,t){const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Ei(r))return`${n} (binned)`;if(i&&!mx(i)){const s=Ss(i)?.unit;if(s)return`${n} (${nN(s).join("-")})`}else if(o)return G0(o)?`${n} for max ${o.argmax}`:eg(o)?`${n} for min ${o.argmin}`:`${sA(o)} of ${n}`;return n}function fKt(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(G0(t))return`${i} for argmax(${t.argmax})`;if(eg(t))return`${i} for argmin(${t.argmin})`;const o=r&&!mx(r)?Ss(r):void 0,s=t||o?.unit||o?.maxbins&&"timeunit"||Ei(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const HFe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return fKt(e);default:return dKt(e,t)}};let WFe=HFe;function qFe(e){WFe=e}function pKt(){qFe(HFe)}function Fw(e,t,{allowDisabling:n,includeDefault:r=!0}){const i=Vte(e)?.title;if(!dt(e))return i??e.title;const o=e,s=r?Hte(o,t):void 0;return n?Ro(i,o.title,s):i??o.title??s}function Vte(e){if(ZS(e)&&e.axis)return e.axis;if(UFe(e)&&e.legend)return e.legend;if(Bte(e)&&e.header)return e.header}function Hte(e,t){return WFe(e,t)}function v3(e){if(VFe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=Vte(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function hKt(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Ute(e)&&Je(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!G0(n)&&!eg(n))return"quantitative";if(yx(e)&&e.scale?.type)switch(Qq[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Ld(e){if(dt(e))return e;if(uN(e))return e.condition}function rs(e){if(In(e))return e;if(gA(e))return e.condition}function GFe(e,t,n,r={}){if(jt(e)||Or(e)||$0(e)){const i=jt(e)?"string":Or(e)?"number":"boolean";return ft(hYt(t,i,e)),{value:e}}return In(e)?b3(e,t,n,r):gA(e)?{...e,condition:b3(e.condition,t,n,r)}:e}function b3(e,t,n,r){if(VFe(e)){const{format:i,formatType:o,...s}=e;if(Rb(o)&&!n.customFormatTypes)return ft(hve(t)),b3(s,t,n,r)}else{const i=ZS(e)?"axis":UFe(e)?"legend":Bte(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Rb(s)&&!n.customFormatTypes)return ft(hve(t)),b3({...e,[i]:a},t,n,r)}}return dt(e)?Wte(e,t,r):gKt(e)}function gKt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Or(n)?"quantitative":jt(n)?"nominal":gx(n)?"temporal":void 0,{...e,type:t}}function Wte(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!gte(r)&&!G0(r)&&!eg(r)&&(ft(mYt(r)),delete a.aggregate),i&&(a.timeUnit=Ss(i)),s&&(a.field=`${s}`),Ei(o)&&(a.bin=dN(o,t)),$s(o)&&!Mo(t)&&ft(YYt(t)),Qa(a)){const{type:l}=a,c=bXt(l);l!==c&&(a.type=c),l!=="quantitative"&&JL(r)&&(ft(gYt(l,r)),a.type="quantitative")}else if(!B3e(t)){const l=hKt(a,t);a.type=l}if(Qa(a)){const{compatible:l,warning:c}=mKt(a,t)||{};l===!1&&ft(c)}if(Ute(a)&&jt(a.sort)){const{sort:l}=a;if(xve(l))return{...a,sort:{encoding:l}};const c=l.substring(1);if(l.charAt(0)==="-"&&xve(c))return{...a,sort:{encoding:c,order:"descending"}}}if(Bte(a)){const{header:l}=a;if(l){const{orient:c,...u}=l;if(c)return{...a,header:{...u,labelOrient:l.labelOrient||c,titleOrient:l.titleOrient||c}}}}return a}function dN(e,t){return $0(e)?{maxbins:ove(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:ove(t)}:e}const T1={compatible:!0};function mKt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Dh:case Oh:case GL:return y3(e)?T1:{compatible:!1,warning:xYt(t)};case Vi:case As:case B0:case lC:case Fl:case bp:case xp:case aA:case lA:case YL:case _b:case XL:case KL:case dx:case Vu:case Kd:case ZL:return T1;case Qd:case Lu:case Zd:case Jd:return n!==Eb?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:T1;case hg:case V0:case H0:case W0:case pg:case fg:case dg:case Xd:case vp:case U0:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:T1;case Ll:case q0:return!y3(e)&&!cKt(e)?{compatible:!1,warning:wYt(t)}:T1;case GS:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:T1}}function QS(e){const{formatType:t}=v3(e);return t==="time"||!t&&yKt(e)}function yKt(e){return e&&(e.type==="temporal"||dt(e)&&!!e.timeUnit)}function fN(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){const o=t&&Ss(t)?.unit;let s=o||n==="temporal",a;return uA(e)?a=e.expr:rn(e)?a=e.signal:gx(e)?(s=!0,a=kb(e)):(jt(e)||Or(e))&&s&&(a=`datetime(${Xr(e)})`,sXt(o)&&(Or(e)&&e<1e4||jt(e)&&isNaN(Date.parse(e)))&&(a=kb({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:Xr(e)}function YFe(e,t){const{type:n}=e;return t.map(r=>{const i=dt(e)&&!mx(e.timeUnit)?e.timeUnit:void 0,o=fN(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function mA(e,t){return Ei(e.bin)?Sp(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const _ve={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function yA(e){return e?.condition}const XFe=["domain","grid","labels","ticks","title"],vKt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},KFe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},bKt={...KFe,style:1,labelExpr:1,encoding:1};function Cve(e){return Ut(bKt,e)}const xKt={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},ZFe=st(xKt);function mg(e){return lt(e,"mark")}class pN{name;run;constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return mg(t)?XXt(t.mark)===this.name:!1}}function zv(e,t){const n=e?.[t];return n?Je(n)?WS(n,r=>!!r.field):dt(n)||uN(n):!1}function QFe(e,t){const n=e?.[t];return n?Je(n)?WS(n,r=>!!r.field):dt(n)||_p(n)||gA(n):!1}function JFe(e,t){if(Mo(t)){const n=e[t];if((dt(n)||_p(n))&&(Ate(n.type)||dt(n)&&n.timeUnit)){const r=ute(t);return QFe(e,r)}}return!1}function e4e(e){return WS(gGt,t=>{if(zv(e,t)){const n=e[t];if(Je(n))return WS(n,r=>!!r.aggregate);{const r=Ld(n);return r&&!!r.aggregate}}return!1})}function t4e(e,t){const n=[],r=[],i=[],o=[],s={};return qte(e,(a,l)=>{if(dt(a)){const{field:c,aggregate:u,bin:d,timeUnit:f,...p}=a;if(u||f||d){const y=Vte(a)?.title;let v=Mt(a,{forAs:!0});const x={...y?[]:{title:Fw(a,t,{allowDisabling:!0})},...p,field:v};if(u){let w;if(G0(u)?(w="argmax",v=Mt({op:"argmax",field:u.argmax},{forAs:!0}),x.field=`${v}.${c}`):eg(u)?(w="argmin",v=Mt({op:"argmin",field:u.argmin},{forAs:!0}),x.field=`${v}.${c}`):u!=="boxplot"&&u!=="errorbar"&&u!=="errorband"&&(w=u),w){const S={op:w,as:v};c&&(S.field=c),o.push(S)}}else if(n.push(v),Qa(a)&&Ei(d)){if(r.push({bin:d,field:c,as:v}),n.push(Mt(a,{binSuffix:"end"})),mA(a,l)&&n.push(Mt(a,{binSuffix:"range"})),Mo(l)){const w={field:`${v}_end`};s[`${l}2`]=w}x.bin="binned",B3e(l)||(x.type=Eb)}else if(f&&!mx(f)){i.push({timeUnit:f,field:c,as:v});const w=Qa(a)&&a.type!==YS&&"time";w&&(l===aA||l===_b?x.formatType=w:EGt(l)?x.legend={formatType:w,...x.legend}:Mo(l)&&(x.axis={formatType:w,...x.axis}))}s[l]=x}else n.push(c),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function wKt(e,t,n){const r=RGt(t,n);if(r){if(r==="binned"){const i=e[t===Xd?Vi:As];return!!(dt(i)&&dt(e[t])&&$s(i.bin))}}else return!1;return!0}function SKt(e,t,n,r){const i={};for(const o of st(e))z3e(o)||ft(bYt(o));for(let o of wGt){if(!e[o])continue;const s=e[o];if(cA(o)){const a=xGt(o),l=i[a];if(dt(l)&&vXt(l.type)&&dt(s)&&!l.timeUnit){ft(pYt(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(ft(fYt),o=Vu),!wKt(e,o,t)){ft(tN(o,t));continue}if(o===pg&&t==="line"&&Ld(e[o])?.aggregate){ft(vYt);continue}if(o===Fl&&(n?"fill"in e:"stroke"in e)){ft(iFe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===lA||o===GS&&!Je(s)&&!Fd(s)||o===_b&&Je(s)){if(s){if(o===GS){const a=e[o];if(BFe(a)){i[o]=a;continue}}i[o]=Ft(s).reduce((a,l)=>(dt(l)?a.push(Wte(l,o)):ft(Zq(l,o)),a),[])}}else{if(o===_b&&s===null)i[o]=null;else if(!dt(s)&&!_p(s)&&!Fd(s)&&!hA(s)&&!rn(s)){ft(Zq(s,o));continue}i[o]=GFe(s,o,r)}}return i}function hN(e,t){const n={};for(const r of st(e)){const i=GFe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function _Kt(e){const t=[];for(const n of st(e))if(zv(e,n)){const r=e[n],i=Ft(r);for(const o of i)dt(o)?t.push(o):uN(o)&&t.push(o.condition)}return t}function qte(e,t,n){if(e)for(const r of st(e)){const i=e[r];if(Je(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function CKt(e,t,n,r){return e?st(e).reduce((i,o)=>{const s=e[o];return Je(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function n4e(e,t){return st(t).reduce((n,r)=>{switch(r){case Vi:case As:case XL:case ZL:case KL:case Xd:case vp:case B0:case lC:case Vu:case fg:case Kd:case dg:case U0:case Zd:case Qd:case Jd:case Lu:case aA:case Ll:case dx:case _b:return n;case GS:if(e==="line"||e==="trail")return n;case lA:case YL:{const i=t[r];if(Je(i)||dt(i))for(const o of Ft(i))o.aggregate||n.push(Mt(o,{}));return n}case pg:if(e==="trail")return n;case Fl:case bp:case xp:case hg:case V0:case H0:case q0:case W0:{const i=Ld(t[r]);return i&&!i.aggregate&&n.push(Mt(i,{})),n}}},[])}function kKt(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Je(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Je(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function tG(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${Gte(t)}`:"";return{field:s+t.field,type:t.type,title:rn(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=_Kt(n).map(aKt);return{tooltip:[...i,...Df(o,mr)]}}function Gte(e){const{title:t,field:n}=e;return Ro(t,n)}function Yte(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:c,endPositionPrefix:u=void 0,extraEncoding:d={}})=>{const f=Gte(n);return r4e(e,a,i,{mark:l,encoding:{[t]:{field:`${c}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...jt(u)?{[`${t}2`]:{field:`${u}_${n.field}`}}:{},...r,...d}})}}function r4e(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...sp(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...$0(e[t])?{}:e[t]}}]:[]}function i4e(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:TO(o,n),continuousAxisChannelDef2:TO(s,n),continuousAxisChannelDefError:TO(a,n),continuousAxisChannelDefError2:TO(l,n),continuousAxis:i}}function TO(e,t){if(e?.aggregate){const{aggregate:n,...r}=e;return n!==t&&ft(GYt(n,t)),r}else return e}function o4e(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(sp(n)&&n.orient)return n.orient;if(Rm(i)){if(Rm(o)){const s=dt(i)&&i.aggregate,a=dt(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return QS(o)&&!QS(i)?"horizontal":"vertical"}return"horizontal"}else{if(Rm(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const x3="boxplot",EKt=["box","median","outliers","rule","ticks"],TKt=new pN(x3,a4e);function s4e(e){return Or(e)?"tukey":e}function a4e(e,{config:t}){e={...e,encoding:hN(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=sp(n)?n:{type:n};i&&ft(nFe("boxplot"));const l=a.extent??t.boxplot.extent,c=Gr("size",a,t),u=a.invalid,d=s4e(l),{bins:f,timeUnits:p,transform:g,continuousAxisChannelDef:y,continuousAxis:v,groupby:x,aggregate:w,encodingWithoutContinuousAxis:S,ticksOrient:C,boxOrient:k,customTooltipWithoutAggregatedField:T}=RKt(e,l,t),E=aC(y.field),{color:A,size:O,...I}=S,j=J=>Yte(a,v,y,J,t.boxplot),P=j(I),$=j(S),D=(It(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",F=j({...I,...O?{size:O}:{},color:{condition:{test:`${ti(`lower_box_${y.field}`)} >= ${ti(`upper_box_${y.field}`)}`,...A||{value:D}}}}),N=tG([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],y,S),V={type:"tick",color:"black",opacity:1,orient:C,invalid:u,aria:!1},H=d==="min-max"?N:tG([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,S),U=[...P({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:H}),...P({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:H}),...P({partName:"ticks",mark:V,positionPrefix:"lower_whisker",extraEncoding:H}),...P({partName:"ticks",mark:V,positionPrefix:"upper_whisker",extraEncoding:H})],G=[...d!=="tukey"?U:[],...$({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:k,invalid:u,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:N}),...F({partName:"median",mark:{type:"tick",invalid:u,...It(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:C,aria:!1},positionPrefix:"mid_box",extraEncoding:N})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(g),layer:G};const z=ti(`lower_box_${y.field}`),W=ti(`upper_box_${y.field}`),X=`(${W} - ${z})`,Q=`${z} - ${l} * ${X}`,ee=`${W} + ${l} * ${X}`,ne=ti(y.field),oe={joinaggregate:l4e(y.field),groupby:x},ce={transform:[{filter:`(${Q} <= ${ne}) && (${ne} <= ${ee})`},{aggregate:[{op:"min",field:y.field,as:`lower_whisker_${E}`},{op:"max",field:y.field,as:`upper_whisker_${E}`},{op:"min",field:`lower_box_${y.field}`,as:`lower_box_${E}`},{op:"max",field:`upper_box_${y.field}`,as:`upper_box_${E}`},...w],groupby:x}],layer:U},{tooltip:re,...ge}=I,{scale:he,axis:ie}=y,xe=Gte(y),q=r4e(a,"outliers",t.boxplot,{transform:[{filter:`(${ne} < ${Q}) || (${ne} > ${ee})`}],mark:"point",encoding:{[v]:{field:y.field,type:y.type,...xe!==void 0?{title:xe}:{},...he!==void 0?{scale:he}:{},...ie!==void 0?{axis:ie}:{}},...ge,...A?{color:A}:{},...T?{tooltip:T}:{}}})[0];let fe;const se=[...f,...p,oe];return q?fe={transform:se,layer:[q,ce]}:(fe=ce,fe.transform.unshift(...se)),{...s,layer:[fe,{transform:g,layer:G}]}}function l4e(e){const t=aC(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function RKt(e,t,n){const r=o4e(e,x3),{continuousAxisChannelDef:i,continuousAxis:o}=i4e(e,r,x3),s=i.field,a=aC(s),l=s4e(t),c=[...l4e(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],u=l==="min-max"||l==="tukey"?[]:[{calculate:`${ti(`upper_box_${a}`)} - ${ti(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${ti(`upper_box_${a}`)} + ${ti(`iqr_${a}`)} * ${t}, ${ti(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${ti(`lower_box_${a}`)} - ${ti(`iqr_${a}`)} * ${t}, ${ti(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[o]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:p,filteredEncoding:g}=kKt(f),{bins:y,timeUnits:v,aggregate:x,groupby:w,encoding:S}=t4e(g,n),C=r==="vertical"?"horizontal":"vertical",k=r,T=[...y,...v,{aggregate:[...x,...c],groupby:w},...u];return{bins:y,timeUnits:v,transform:T,groupby:w,aggregate:x,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:S,ticksOrient:C,boxOrient:k,customTooltipWithoutAggregatedField:p}}const Xte="errorbar",MKt=["ticks","rule"],AKt=new pN(Xte,c4e);function c4e(e,{config:t}){e={...e,encoding:hN(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:c}=u4e(e,Xte,t);delete o.size;const u=Yte(a,i,r,o,t.errorbar),d=a.thickness,f=a.size,p={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},g=[...u({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:c}),...u({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:c}),...u({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...l,transform:n,...g.length>1?{layer:g}:{...g[0]}}}function PKt(e,t){const{encoding:n}=e;if(DKt(n))return{orient:o4e(e,t),inputType:"raw"};const r=OKt(n),i=IKt(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(In(a)&&In(l))throw new Error(`${t} cannot have both x2 and y2`);if(In(a)){if(Rm(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(In(l)){if(Rm(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,c=n.yError,u=n.yError2;if(In(l)&&!In(a))throw new Error(`${t} cannot have xError2 without xError`);if(In(u)&&!In(c))throw new Error(`${t} cannot have yError2 without yError`);if(In(a)&&In(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(In(a)){if(Rm(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(In(c)){if(Rm(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function DKt(e){return(In(e.x)||In(e.y))&&!In(e.x2)&&!In(e.y2)&&!In(e.xError)&&!In(e.xError2)&&!In(e.yError)&&!In(e.yError2)}function OKt(e){return In(e.x2)||In(e.y2)}function IKt(e){return In(e.xError)||In(e.xError2)||In(e.yError)||In(e.yError2)}function u4e(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=sp(r)?r:{type:r};o&&ft(nFe(t));const{orient:c,inputType:u}=PKt(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:y}=i4e(e,c,t),{errorBarSpecificAggregate:v,postAggregateCalculates:x,tooltipSummary:w,tooltipTitleWithFieldName:S}=jKt(l,d,f,p,g,u,t,n),{[y]:C,[y==="x"?"x2":"y2"]:k,[y==="x"?"xError":"yError"]:T,[y==="x"?"xError2":"yError2"]:E,...A}=i,{bins:O,timeUnits:I,aggregate:j,groupby:P,encoding:$}=t4e(A,n),D=[...j,...v],F=u!=="raw"?[]:P,N=tG(w,d,$,S);return{transform:[...a.transform??[],...O,...I,...D.length===0?[]:[{aggregate:D,groupby:F}],...x],groupby:F,continuousAxisChannelDef:d,continuousAxis:y,encodingWithoutContinuousAxis:$,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:N}}function jKt(e,t,n,r,i,o,s,a){let l=[],c=[];const u=t.field;let d,f=!1;if(o==="raw"){const p=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,g=e.extent?e.extent:p==="mean"?"stderr":"iqr";if(p==="median"!=(g==="iqr")&&ft(qYt(p,g,s)),g==="stderr"||g==="stdev")l=[{op:g,field:u,as:`extent_${u}`},{op:p,field:u,as:`center_${u}`}],c=[{calculate:`${ti(`center_${u}`)} + ${ti(`extent_${u}`)}`,as:`upper_${u}`},{calculate:`${ti(`center_${u}`)} - ${ti(`extent_${u}`)}`,as:`lower_${u}`}],d=[{fieldPrefix:"center_",titlePrefix:sA(p)},{fieldPrefix:"upper_",titlePrefix:kve(p,g,"+")},{fieldPrefix:"lower_",titlePrefix:kve(p,g,"-")}],f=!0;else{let y,v,x;g==="ci"?(y="mean",v="ci0",x="ci1"):(y="median",v="q1",x="q3"),l=[{op:v,field:u,as:`lower_${u}`},{op:x,field:u,as:`upper_${u}`},{op:y,field:u,as:`center_${u}`}],d=[{fieldPrefix:"upper_",titlePrefix:Fw({field:u,aggregate:x,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Fw({field:u,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Fw({field:u,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&ft(WYt(e.center,e.extent)),o==="aggregated-upper-lower"?(d=[],c=[{calculate:ti(n.field),as:`upper_${u}`},{calculate:ti(u),as:`lower_${u}`}]):o==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`${ti(u)} + ${ti(r.field)}`,as:`upper_${u}`}],i?c.push({calculate:`${ti(u)} + ${ti(i.field)}`,as:`lower_${u}`}):c.push({calculate:`${ti(u)} - ${ti(r.field)}`,as:`lower_${u}`}));for(const p of c)d.push({fieldPrefix:p.as.substring(0,6),titlePrefix:Sb(Sb(p.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function kve(e,t,n){return`${sA(e)} ${n} ${t}`}const Kte="errorband",$Kt=["band","borders"],FKt=new pN(Kte,d4e);function d4e(e,{config:t}){e={...e,encoding:hN(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=u4e(e,Kte,t),c=s,u=Yte(c,i,r,o,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},p={type:d?"line":"rule"};const g={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return d?(f={...f,...g,ariaRoleDescription:"errorband"},p={...p,...g,aria:!1}):c.interpolate?ft(mve("interpolate")):c.tension&&ft(mve("tension")),{...a,transform:n,layer:[...u({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...u({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:l}),...u({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:l})]}}const f4e={};function Zte(e,t,n){const r=new pN(e,t);f4e[e]={normalizer:r,parts:n}}function LKt(){return st(f4e)}Zte(x3,a4e,EKt);Zte(Xte,c4e,MKt);Zte(Kte,d4e,$Kt);const NKt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],p4e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},h4e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},zKt=st(p4e),BKt=st(h4e),UKt={header:1,headerRow:1,headerColumn:1,headerFacet:1},g4e=st(UKt),m4e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],VKt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},HKt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Nd="_vgsid_",WKt={point:{on:"click",fields:[Nd],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Qte(e){return e==="legend"||!!e?.legend}function w7(e){return Qte(e)&&It(e)}function Jte(e){return!!e?.select}function y4e(e){const t=[];for(const n of e||[]){if(Jte(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function qKt(e){return gN(e)||tne(e)||ene(e)}function ene(e){return lt(e,"concat")}function gN(e){return lt(e,"vconcat")}function tne(e){return lt(e,"hconcat")}function v4e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function ap(e){return lt(e,"step")}function Eve(e){return lt(e,"view")||lt(e,"width")||lt(e,"height")}const Tve=20,GKt={align:1,bounds:1,center:1,columns:1,spacing:1},YKt=st(GKt);function XKt(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(cN(e)&&!pA(e.facet)||ene(e))&&(i.columns=s),gN(e)&&(i.columns=1);for(const a of YKt)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Or(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function nG(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function rG(e,t){const n=w3(e,t);return ap(n)?n.step:b4e}function w3(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Ro(n,{step:e.step})}const b4e=20,KKt={continuousWidth:300,continuousHeight:300,step:b4e},ZKt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:KKt,mark:VXt,arc:{},area:{},bar:GXt,circle:{},geoshape:{},image:{},line:{},point:{},rect:$te,rule:{color:"black"},square:{},text:{color:"black"},tick:YXt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:CXt,projection:{},legend:VKt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:WKt,style:{},title:{},facet:{spacing:Tve},concat:{spacing:Tve},normalizedNumberFormat:".0%"},Jp=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Rve={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Mve={blue:Jp[0],orange:Jp[1],red:Jp[2],teal:Jp[3],green:Jp[4],yellow:Jp[5],purple:Jp[6],pink:Jp[7],brown:Jp[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function QKt(e={}){return{signals:[{name:"color",value:It(e)?{...Mve,...e}:Mve}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function JKt(e){return{signals:[{name:"fontSize",value:It(e)?{...Rve,...e}:Rve}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function eZt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function x4e(e){const t=st(e||{}),n={};for(const r of t){const i=e[r];n[r]=yA(i)?X3e(i):fc(i)}return n}function tZt(e){const t=st(e),n={};for(const r of t)n[r]=x4e(e[r]);return n}const nZt=[...MFe,...ZFe,...g4e,"background","padding","legend","lineBreak","scale","style","title","view"];function w4e(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=W_({},Rn(ZKt),n?eZt(n):{},t?QKt(t):{},r?JKt(r):{},o||{});i&&q_(s,"selection",i,!0);const a=_c(s,nZt);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=fc(s[l]));for(const l of MFe)s[l]&&(a[l]=Ls(s[l]));for(const l of ZFe)s[l]&&(a[l]=x4e(s[l]));for(const l of g4e)s[l]&&(a[l]=Ls(s[l]));if(s.legend&&(a.legend=Ls(s.legend)),s.scale){const{invalid:l,...c}=s.scale,u=Ls(l,{level:1});a.scale={...Ls(c),...st(u).length>0?{invalid:u}:{}}}return s.style&&(a.style=tZt(s.style)),s.title&&(a.title=Ls(s.title)),s.view&&(a.view=Ls(s.view)),a}const rZt=new Set(["view",...FXt]),iZt=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],oZt={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...UXt};function sZt(e){e=Rn(e);for(const t of iZt)delete e[t];if(e.axis)for(const t in e.axis)yA(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of NKt)delete e.legend[t];if(e.mark){for(const t of vve)delete e.mark[t];e.mark.tooltip&&It(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(y4e(e.params)),delete e.params);for(const t of rZt){for(const r of vve)delete e[t][r];const n=oZt[t];if(n)for(const r of n)delete e[t][r];lZt(e,t)}for(const t of LKt())delete e[t];aZt(e);for(const t in e)It(e[t])&&bi(e[t])&&delete e[t];return bi(e)?void 0:e}function aZt(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=Y3e(e.title);bi(t)||(e.style["group-title"]={...e.style["group-title"],...t}),bi(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),bi(r)?delete e.title:e.title=r}function lZt(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};bi(o)||(e.style[n??t]=o),delete e[t]}function mN(e){return lt(e,"layer")}function cZt(e){return lt(e,"repeat")}function uZt(e){return!Je(e.repeat)&&lt(e.repeat,"layer")}class nne{map(t,n){return cN(t)?this.mapFacet(t,n):cZt(t)?this.mapRepeat(t,n):tne(t)?this.mapHConcat(t,n):gN(t)?this.mapVConcat(t,n):ene(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(mN(t))return this.mapLayer(t,n);if(mg(t))return this.mapUnit(t,n);throw new Error(mte(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const dZt={zero:1,center:1,normalize:1};function fZt(e){return Ut(dZt,e)}const pZt=new Set([EFe,oN,iN,h3,aN,Ite,jte,sN,TFe,Ote]),hZt=new Set([oN,iN,EFe]);function R1(e){return dt(e)&&KS(e)==="quantitative"&&!e.bin}function Ave(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(dt(s)&&dt(a))if(R1(s)&&R1(a)){if(s.stack)return t;if(a.stack)return i;const l=dt(s)&&!!s.aggregate,c=dt(a)&&!!a.aggregate;if(l!==c)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(R1(s))return t;if(R1(a))return i}else{if(R1(s))return o&&n==="vertical"?void 0:t;if(R1(a))return o&&n==="horizontal"?void 0:i}}function gZt(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function S4e(e,t){const n=sp(e)?e:{type:e},r=n.type;if(!pZt.has(r))return null;const i=Ave(t,"x",n)||Ave(t,"theta",n);if(!i)return null;const o=t[i],s=dt(o)?Mt(o,{}):void 0,a=gZt(i),l=[],c=new Set;if(t[a]){const y=t[a],v=dt(y)?Mt(y,{}):void 0;v&&v!==s&&(l.push(a),c.add(v))}const u=a==="x"?"xOffset":"yOffset",d=t[u],f=dt(d)?Mt(d,{}):void 0;f&&f!==s&&(l.push(u),c.add(f));const p=SGt.reduce((y,v)=>{if(v!=="tooltip"&&zv(t,v)){const x=t[v];for(const w of Ft(x)){const S=Ld(w);if(S.aggregate)continue;const C=Mt(S,{});(!C||!c.has(C))&&y.push({channel:v,fieldDef:S})}}return y},[]);let g;return o.stack!==void 0?$0(o.stack)?g=o.stack?"zero":null:g=o.stack:hZt.has(r)&&(g="zero"),!g||!fZt(g)||e4e(t)&&p.length===0?null:(o?.scale?.type&&o?.scale?.type!==Ns.LINEAR&&o?.stack&&ft(UYt(o.scale.type)),In(t[wp(i)])?(o.stack!==void 0&&ft(BYt(i)),null):(dt(o)&&o.aggregate&&!jGt.has(o.aggregate)&&ft(VYt(o.aggregate)),{groupbyChannels:l,groupbyFields:c,fieldChannel:i,impute:o.impute===null?!1:Y0(r),stackBy:p,offset:g}))}function _4e(e,t,n){const r=Ls(e),i=Gr("orient",r,n);if(r.orient=bZt(r.type,t,i),i!==void 0&&i!==r.orient&&ft(kYt(r.orient,i)),r.type==="bar"&&r.orient){const l=Gr("cornerRadiusEnd",r,n);if(l!==void 0){const c=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:WXt[r.orient];for(const u of c)r[u]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=Gr("opacity",r,n),s=Gr("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=yZt(r.type,t)),Gr("cursor",r,n)===void 0&&(r.cursor=mZt(r,t,n)),r}function mZt(e,t,n){return t.href||e.href||Gr("href",e,n)?"pointer":e.cursor}const C4e=.7;function yZt(e,t){if(ir([aN,Ote,Ite,jte],e)&&!e4e(t))return C4e}function vZt(e,t,{graticule:n}){if(n)return!1;const r=op("filled",e,t),i=e.type;return Ro(r,i!==aN&&i!==sN&&i!==h3)}function bZt(e,t,n){switch(e){case aN:case Ite:case jte:case jXt:case IXt:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case TFe:case oN:if(dt(r)&&($s(r.bin)||dt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(dt(i)&&($s(i.bin)||dt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(dt(r)&&r.type===Eb&&!Ei(r.bin)||m3(r))&&dt(i)&&$s(i.bin)?"horizontal":"vertical";if(!s)return(dt(i)&&i.type===Eb&&!Ei(i.bin)||m3(i))&&dt(r)&&$s(r.bin)?"vertical":"horizontal"}case h3:if(o&&!(dt(r)&&$s(r.bin))&&s&&!(dt(i)&&$s(i.bin)))return;case iN:if(s)return dt(i)&&$s(i.bin)?"horizontal":"vertical";if(o)return dt(r)&&$s(r.bin)?"vertical":"horizontal";if(e===h3){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case sN:case Ote:{const a=Sve(r),l=Sve(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const c=Qa(r)&&r.type===YS,u=Qa(i)&&i.type===YS;if(c&&!u)return"vertical";if(!c&&u)return"horizontal"}return}}return"vertical"}function xZt(e){const{point:t,line:n,...r}=e;return st(r).length>1?r:r.type}function wZt(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:_c(e[t],["point","line"])});return e}function S7(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?It(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?It(t.point)?t.point:{}:void 0}function Pve(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class SZt{name="path-overlay";hasMatchingType(t,n){if(mg(t)){const{mark:r,encoding:i}=t,o=sp(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!S7(o,n[o.type],i);case"area":return!!S7(o,n[o.type],i)||!!Pve(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:c,...u}=t,d=hN(c,i),f=sp(a)?a:{type:a},p=S7(f,i[f.type],d),g=f.type==="area"&&Pve(f,i[f.type]),y=[{name:l,...o?{params:o}:{},mark:xZt({...f.type==="area"&&Gr("opacity",f,i)==null&&Gr("fillOpacity",f,i)==null?{opacity:C4e}:{},...f}),encoding:_c(d,["shape"])}],v=S4e(_4e(f,d,i),d);let x=d;if(v){const{fieldChannel:w,offset:S}=v;x={...d,[w]:{...d[w],...S?{stack:S}:{}}}}return x=_c(x,["y2","x2"]),g&&y.push({...s?{projection:s}:{},mark:{type:"line",...HS(f,["clip","interpolate","tension","tooltip"]),...g},encoding:x}),p&&y.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...HS(f,["clip","tooltip"]),...p},encoding:x}),r({...u,layer:y},{...n,config:wZt(i)})}}function _Zt(e,t){return t?pA(e)?E4e(e,t):k4e(e,t):e}function _7(e,t){return t?E4e(e,t):e}function iG(e,t,n){const r=t[e];if(oKt(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};ft(nYt(r.repeat));return}return t}function k4e(e,t){if(e=iG("field",e,t),e!==void 0){if(e===null)return null;if(Ute(e)&&Ih(e.sort)){const n=iG("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Dve(e,t){if(dt(e))return k4e(e,t);{const n=iG("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Ove(e,t){if(In(e)){const n=Dve(e,t);if(n)return n;if(hA(e))return{condition:e.condition}}else{if(gA(e)){const n=Dve(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function E4e(e,t){const n={};for(const r in e)if(lt(e,r)){const i=e[r];if(Je(i))n[r]=i.map(o=>Ove(o,t)).filter(o=>o);else{const o=Ove(i,t);o!==void 0&&(n[r]=o)}}return n}class CZt{name="RuleForRangedLine";hasMatchingType(t){if(mg(t)){const{encoding:n,mark:r}=t;if(r==="line"||sp(r)&&r.type==="line")for(const i of bGt){const o=fx(i),s=n[o];if(n[i]&&(dt(s)&&!$s(s.bin)||_p(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return ft(CYt(!!i.x2,!!i.y2)),r({...t,mark:It(o)?{...o,type:"rule"}:"rule"},n)}}class kZt extends nne{nonFacetUnitNormalizers=[TKt,AKt,FKt,new SZt,new CZt];map(t,n){if(mg(t)){const r=zv(t.encoding,Dh),i=zv(t.encoding,Oh),o=zv(t.encoding,GL);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=_7(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return uZt(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:c={},repeaterPrefix:u=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(d=>{const f={...c,layer:d},p=`${(i.name?`${i.name}_`:"")+u}child__layer_${Ui(d)}`,g=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:p});return g.name=p,g})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!Je(r)&&t.columns&&(t=_c(t,["columns"]),ft(fve("repeat")));const a=[],{repeater:l={},repeaterPrefix:c=""}=n,u=!Je(r)&&r.row||[l?l.row:null],d=!Je(r)&&r.column||[l?l.column:null],f=Je(r)&&r||[l?l.repeat:null];for(const g of f)for(const y of u)for(const v of d){const x={repeat:g,row:y,column:v,layer:l.layer},w=`${(i.name?`${i.name}_`:"")+c}child__${Je(r)?`${Ui(g)}`:(r.row?`row_${Ui(y)}`:"")+(r.column?`column_${Ui(v)}`:"")}`,S=this.map(i,{...n,repeater:x,repeaterPrefix:w});S.name=w,a.push(_c(S,["data"]))}const p=Je(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:p,concat:a}}mapFacet(t,n){const{facet:r}=t;return pA(r)&&t.columns&&(t=_c(t,["columns"]),ft(fve("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=jve({parentProjection:s,projection:i}),c=Ive({parentEncoding:o,encoding:_7(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...c?{encoding:c}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:c,height:u,view:d,params:f,encoding:p,...g}=t,{facetMapping:y,layout:v}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),x=_7(s,n.repeater);return this.mapFacet({...g,...v,facet:y,spec:{...l?{width:l}:{},...u?{height:u}:{},...d?{view:d}:{},...c?{projection:c}:{},mark:a,encoding:x,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&ft(SYt([...r?[Dh]:[],...i?[Oh]:[]]));const s={},a={};for(const l of[Dh,Oh]){const c=t[l];if(c){const{align:u,center:d,spacing:f,columns:p,...g}=c;s[l]=g;for(const y of["align","center","spacing"])c[y]!==void 0&&(a[y]??={},a[y][l]=c[y])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:c,...u}=o;return{facetMapping:_Zt(u,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:Ive({parentEncoding:n,encoding:o,layer:!0}),parentProjection:jve({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},l)}}function Ive({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...st(e),...st(t)]);for(const o of i){const s=t[o],a=e[o];if(In(s)){const l={...a,...s};r[o]=l}else gA(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||Fd(a)||rn(a)||In(a)||Je(a))&&(r[o]=a)}}else r=t;return!r||bi(r)?void 0:r}function jve(e){const{parentProjection:t,projection:n}=e;return t&&n&&ft(dYt({parentProjection:t,projection:n})),n??t}function rne(e){return lt(e,"filter")}function EZt(e){return lt(e,"stop")}function T4e(e){return lt(e,"lookup")}function TZt(e){return lt(e,"data")}function RZt(e){return lt(e,"param")}function MZt(e){return lt(e,"pivot")}function AZt(e){return lt(e,"density")}function PZt(e){return lt(e,"quantile")}function DZt(e){return lt(e,"regression")}function OZt(e){return lt(e,"loess")}function IZt(e){return lt(e,"sample")}function jZt(e){return lt(e,"window")}function $Zt(e){return lt(e,"joinaggregate")}function FZt(e){return lt(e,"flatten")}function LZt(e){return lt(e,"calculate")}function R4e(e){return lt(e,"bin")}function NZt(e){return lt(e,"impute")}function zZt(e){return lt(e,"timeUnit")}function BZt(e){return lt(e,"aggregate")}function UZt(e){return lt(e,"stack")}function VZt(e){return lt(e,"fold")}function HZt(e){return lt(e,"extent")&&!lt(e,"density")&&!lt(e,"regression")}function WZt(e){return e.map(t=>rne(t)?{filter:jw(t.filter,yXt)}:t)}class qZt extends nne{map(t,n){return n.emptySelections??={},n.selectionPredicates??={},t=$ve(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=$ve(t,n),t.encoding){const r={};for(const[i,o]of y0(t.encoding))r[i]=M4e(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:y0(r).map(([o,s])=>{const{init:a,bind:l,empty:c,...u}=s;u.type==="single"?(u.type="point",u.toggle=!1):u.type==="multi"&&(u.type="point"),n.emptySelections[o]=c!=="none";for(const d of Ho(n.selectionPredicates[o]??{}))d.empty=c!=="none";return{name:o,value:a,select:u,bind:l}})}:t}}function $ve(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(rne(o))return{filter:oG(o,t)};if(R4e(o)&&px(o.bin))return{...o,bin:A4e(o.bin)};if(T4e(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function M4e(e,t){const n=Rn(e);if(dt(n)&&px(n.bin)&&(n.bin=A4e(n.bin)),yx(n)&&n.scale?.domain?.selection){const{selection:r,...i}=n.scale.domain;n.scale.domain={...i,...r?{param:r}:{}}}if(hA(n))if(Je(n.condition))n.condition=n.condition.map(r=>{const{selection:i,param:o,test:s,...a}=r;return o?r:{...a,test:oG(r,t)}});else{const{selection:r,param:i,test:o,...s}=M4e(n.condition,t);n.condition=i?n.condition:{...s,test:oG(n.condition,t)}}return n}function A4e(e){const t=e.extent;if(t?.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function oG(e,t){const n=r=>jw(r,i=>{const o=t.emptySelections[i]??!0,s={param:i,empty:o};return t.selectionPredicates[i]??=[],t.selectionPredicates[i].push(s),s});return e.selection?n(e.selection):jw(e.test||e.filter,r=>r.selection?n(r.selection):r)}class sG extends nne{map(t,n){const r=n.selections??[];if(t.params&&!mg(t)){const i=[];for(const o of t.params)Jte(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(jt(a)&&(a===t.name||i.includes(a))||Je(a)&&a.map(l=>i.indexOf(l)).every((l,c,u)=>l!==-1&&(c===0||l>u[c-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=sG.prototype[e];sG.prototype[e]=function(n,r){return t.call(this,n,GZt(n,r))}}function GZt(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function P4e(e,t){t===void 0&&(t=w4e(e.config));const n=ZZt(e,t),{width:r,height:i}=e,o=QZt(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const YZt=new kZt,XZt=new qZt,KZt=new sG;function ZZt(e,t={}){const n={config:t};return KZt.map(YZt.map(XZt.map(e,n),n),n)}function Fve(e){return jt(e)?{type:e}:e??{}}function QZt(e,t,n){let{width:r,height:i}=t;const o=mg(e)||mN(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(ft(lve("width")),r=void 0),i=="container"&&(ft(lve("height")),i=void 0));const a={type:"pad",...s,...n?Fve(n.autosize):{},...Fve(e.autosize)};if(a.type==="fit"&&!o&&(ft(WGt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&ft(cve("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&ft(cve("height")),!gc(a,{type:"pad"}))return a}function JZt(e){return["fit","fit-x","fit-y"].includes(e)}function eQt(e){return e?`fit-${QL(e)}`:"fit"}const tQt=["background","padding"];function Lve(e,t){const n={};for(const r of tQt)e&&e[r]!==void 0&&(n[r]=fc(e[r]));return t&&(n.params=e.params),n}class yg{explicit;implicit;constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new yg(Rn(this.explicit),Rn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Ro(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of st(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function vf(e){return{explicit:!0,value:e}}function tc(e){return{explicit:!1,value:e}}function D4e(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:yN(t,n,r,i)}}function yN(e,t,n,r){return e.explicit&&t.explicit&&ft(IYt(n,r,e.value,t.value)),e}function x0(e,t,n,r,i=yN){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:gc(e.value,t.value)?e:i(e,t,n,r)}class nQt extends yg{explicit;implicit;parseNothing;constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function JS(e){return lt(e,"url")}function sR(e){return lt(e,"values")}function O4e(e){return lt(e,"name")&&!JS(e)&&!sR(e)&&!Wm(e)}function Wm(e){return e&&(I4e(e)||j4e(e)||ine(e))}function I4e(e){return lt(e,"sequence")}function j4e(e){return lt(e,"sphere")}function ine(e){return lt(e,"graticule")}var to;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(to||(to={}));function $4e({invalid:e,isPath:t}){switch(AFe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function rQt(e){const{marks:t,scales:n}=$4e(e);return t===n?to.Main:n==="include-invalid-values"?to.PreFilterInvalid:to.PostFilterInvalid}class oi{debugName;_children=[];_parent=null;_hash;constructor(t,n){this.debugName=n,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){ft(lYt);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Al extends oi{type;refCounts;_source;_name;clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${D3e()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function C7(e){return e.as!==void 0}function Nve(e){return`${e}_end`}class Hf extends oi{timeUnits;clone(){return new Hf(null,Rn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let c;if(mx(l)){if(Ji(n)){const{mark:u,markDef:d,config:f}=n,p=b0({fieldDef:o,markDef:d,config:f});(oR(u)||p)&&(c={timeUnit:Ss(l),field:a})}}else c={as:Mt(o,{forAs:!0}),field:a,timeUnit:l};if(Ji(n)){const{mark:u,markDef:d,config:f}=n,p=b0({fieldDef:o,markDef:d,config:f});oR(u)&&Mo(s)&&p!==.5&&(c.rectBandPosition=p)}c&&(i[mr(c)]=c)}return i},{});return bi(r)?null:new Hf(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=Ss(r),s={...i,timeUnit:o};return new Hf(t,{[mr(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of y0(this.timeUnits)){const o=C7(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Ho(this.timeUnits).map(t=>C7(t)?t.as:Nve(t.field)))}dependentFields(){return new Set(Ho(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${mr(this.timeUnits)}`}assemble(){const t=[];for(const n of Ho(this.timeUnits)){const{rectBandPosition:r}=n,i=Ss(n.timeUnit);if(C7(n)){const{field:o,as:s}=n,{unit:a,utc:l,...c}=i,u=[s,`${s}_end`];t.push({field:Fu(o),type:"timeunit",...a?{units:nN(a)}:{},...l?{timezone:"utc"}:{},...c,as:u}),t.push(...zve(u,r,i))}else if(n){const{field:o}=n,s=A3e(o),a=F4e({timeUnit:i,field:s}),l=Nve(s);t.push({type:"formula",expr:a,as:l}),t.push(...zve([s,l],r,i))}}return t}}const vN="offsetted_rect_start",bN="offsetted_rect_end";function F4e({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=pFe(r),{part:s,step:a}=yFe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${ti(t)}, ${n?-a:a})`}function zve([e,t],n,r){if(n!==void 0&&n!==.5){const i=ti(e),o=ti(t);return[{type:"formula",expr:Bve([F4e({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${vN}`},{type:"formula",expr:Bve([i,o],n+.5),as:`${e}_${bN}`}]}return[]}function Bve([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const vA="_tuple_fields";class iQt{hasChannel;hasField;hasSelectionId;timeUnit;items;constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const oQt={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??=new iQt,o={},s={},a=new Set,l=(g,y)=>{const v=y==="visual"?g.channel:g.field;let x=Ui(`${r}_${v}`);for(let w=1;a.has(x);w++)x=Ui(`${r}_${v}_${w}`);return a.add(x),{[y]:x}},c=t.type,u=e.config.selection[c],d=n.value!==void 0?Ft(n.value):null;let{fields:f,encodings:p}=It(n.select)?n.select:{};if(!f&&!p&&d){for(const g of d)if(It(g))for(const y of st(g))vGt(y)?(p||(p=[])).push(y):c==="interval"?(ft(tYt),p=u.encodings):(f??=[]).push(y)}!f&&!p&&(p=u.encodings,"fields"in u&&(f=u.fields));for(const g of p??[]){const y=e.fieldDef(g);if(y){let v=y.field;if(y.aggregate){ft(qGt(g,y.aggregate));continue}else if(!v){ft(dve(g));continue}if(y.timeUnit&&!mx(y.timeUnit)){v=e.vgField(g);const x={timeUnit:y.timeUnit,as:v,field:y.field};s[mr(x)]=x}if(!o[v]){const x=c==="interval"&&Sp(g)&&$d(e.getScaleComponent(g).get("type"))?"R":y.bin?"R-RE":"E",w={field:v,channel:g,type:x,index:i.items.length};w.signals={...l(w,"data"),...l(w,"visual")},i.items.push(o[v]=w),i.hasField[v]=o[v],i.hasSelectionId=i.hasSelectionId||v===Nd,L3e(g)?(w.geoChannel=g,w.channel=F3e(g),i.hasChannel[w.channel]=o[v]):i.hasChannel[g]=o[v]}}else ft(dve(g))}for(const g of f??[]){if(i.hasField[g])continue;const y={type:"E",field:g,index:i.items.length};y.signals={...l(y,"data")},i.items.push(y),i.hasField[g]=y,i.hasSelectionId=i.hasSelectionId||g===Nd}d&&(t.init=d.map(g=>i.items.map(y=>It(g)?g[y.geoChannel||y.channel]!==void 0?g[y.geoChannel||y.channel]:g[y.field]:g))),bi(s)||(i.timeUnit=new Hf(null,s))},signals:(e,t,n)=>{const r=t.name+vA;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(B4e)})}},L4e="_curr",Ej="anim_value",V1="anim_clock",aG="eased_anim_clock",N4e="min_extent",z4e="max_range_extent",k7="last_tick_at",E7="is_playing",sQt=1/60*1e3,aQt=(e,t)=>[{name:aG,update:V1},{name:`${e}_domain`,init:`domain('${t}')`},{name:N4e,init:`extent(${e}_domain)[0]`},{name:z4e,init:`extent(range('${t}'))[1]`},{name:Ej,update:`invert('${t}', ${aG})`}],lQt={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Wf(t)&&(n=n.concat([{name:V1,init:"0",on:[{events:{type:"timer",throttle:sQt},update:`${E7} ? (${V1} + (now() - ${k7}) > ${z4e} ? 0 : ${V1} + (now() - ${k7})) : ${V1}`}]},{name:k7,init:"now()",on:[{events:[{signal:V1},{signal:E7}],update:"now()"}]},{name:E7,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+vA,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Ho(e.component.selection??{}).reduce((u,d)=>d.type==="interval"?u.concat(d.name+Lw):u,[]).map(u=>`indexof(item().mark.name, '${u}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let c=`unit: ${Bv(e)}, `;if(t.project.hasSelectionId)c+=`${Nd}: ${s}[${yt(Nd)}]`;else if(Wf(t))c+=`fields: ${i}, values: [${Ej} ? ${Ej} : ${N4e}]`;else{const u=o.items.map(d=>e.fieldDef(d.channel)?.bin?`[${s}[${yt(e.vgField(d.channel,{}))}], ${s}[${yt(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${yt(d.field)}]`).join(", ");c+=`fields: ${i}, values: [${u}]`}if(Wf(t))return n.concat(aQt(t.name,e.scaleName(U0)),[{name:r+ng,on:[{events:[{signal:aG},{signal:Ej}],update:`{${c}}`,force:!0}]}]);{const u=t.events;return n.concat([{name:r+ng,on:u?[{events:u,update:`${l} ? {${c}} : null`,force:!0}]:[]}])}}};function B4e(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Fu(i.field),i}function Mb(e,t=!0,n=xa){if(Je(e)){const r=e.map(i=>Mb(i,t,n));return t?`[${r.join(", ")}]`:r}else if(gx(e))return n(t?kb(e):oXt(e));return t?n(Xr(e)):e}function cQt(e,t){for(const n of Ho(e.component.selection??{})){const r=n.name;let i=`${r}${ng}, ${n.resolve==="global"?"true":`{unit: ${Bv(e)}}`}`;for(const o of xN)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+$Qt,on:[{events:{signal:n.name+ng},update:`modify(${yt(n.name+Ab)}, ${i})`}]})}return one(t)}function uQt(e,t){if(e.component.selection&&st(e.component.selection).length){const n=yt(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:z0("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return one(t)}function dQt(e,t){let n=!1;for(const r of Ho(e.component.selection??{})){const i=r.name,o=yt(i+Ab);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${oLe}(${o}, ${yt(a)}${l}`})}n=!0;for(const a of xN)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),one(t)}function fQt(e,t){const n=[],r=[],i=Bv(e,{escape:!1});for(const o of Ho(e.component.selection??{})){const s={name:o.name+Ab};if(o.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Nd}}]),o.init){const l=o.project.items.map(B4e);s.values=o.project.hasSelectionId?o.init.map(c=>({unit:i,[Nd]:Mb(c,!1)[0]})):o.init.map(c=>({unit:i,fields:l,values:Mb(c,!1)}))}if([...n,...t].filter(l=>l.name===o.name+Ab).length||n.push(s),Wf(o)&&t.length){const l=e.lookupDataSource(e.getDataName(to.Main)),c=t.find(d=>d.name===l),u=c.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(u){c.transform=c.transform.filter(f=>f!==u);const d={name:c.name+L4e,source:c.name,transform:[u]};r.push(d)}}}return n.concat(t,r)}function U4e(e,t){for(const n of Ho(e.component.selection??{}))for(const r of xN)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function pQt(e,t){for(const n of e.children)Ji(n)&&(t=U4e(n,t));return t}function hQt(e,t,n,r){const i=uLe(e,t.param,t);return{signal:$d(n.get("type"))&&Je(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function one(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const jh={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Sp(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&ft(KGt),!o||!$d(s)){ft(XGt);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||cG(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(oLe))i.update=`{${r.map(s=>`${yt(Fu(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${yt(Fu(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!cG(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function lG(e,t){return`domain(${yt(e.scaleName(t))})`}function cG(e){return e.parent&&hC(e.parent)&&(!e.parent.parent||cG(e.parent.parent))}const Lw="_brush",V4e="_scale_trigger",ck="geo_interval_init_tick",H4e="_init",gQt="_center",mQt={defined:e=>e.type==="interval",parse:(e,t,n)=>{if(e.hasProjection){const r={...It(n.select)?n.select:{}};r.fields=[Nd],r.encodings||(r.encodings=n.value?st(n.value):[Qd,Zd]),n.select={type:"interval",...r}}if(t.translate&&!jh.defined(t)){const r=`!event.item || event.item.mark.name !== ${yt(t.name+Lw)}`;for(const i of t.events){if(!i.between){ft(`${i} is not an ordered event stream for interval selections.`);continue}const o=Ft(i.between[0].filter??=[]);o.includes(r)||o.push(r)}}},signals:(e,t,n)=>{const r=t.name,i=r+ng,o=Ho(t.project.hasChannel).filter(a=>a.channel===Vi||a.channel===As),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(yQt(e,t,l,s?.[l.index])),[])),e.hasProjection){const a=yt(e.projectionName()),l=e.projectionName()+gQt,{x:c,y:u}=t.project.hasChannel,d=c?.signals.visual,f=u?.signals.visual,p=c?s?.[c.index]:`${l}[0]`,g=u?s?.[u.index]:`${l}[1]`,y=k=>e.getSizeSignalRef(k).signal,v=`[[${d?`${d}[0]`:"0"}, ${f?`${f}[0]`:"0"}],[${d?`${d}[1]`:y("width")}, ${f?`${f}[1]`:y("height")}]]`;s&&(n.unshift({name:r+H4e,init:`[scale(${a}, [${c?p[0]:p}, ${u?g[0]:g}]), scale(${a}, [${c?p[1]:p}, ${u?g[1]:g}])]`}),(!c||!u)&&(n.find(T=>T.name===l)||n.unshift({name:l,update:`invert(${a}, [${y("width")}/2, ${y("height")}/2])`})));const x=`intersect(${v}, {markname: ${yt(e.getName("marks"))}}, unit.mark)`,w=`{unit: ${Bv(e)}}`,S=`vlSelectionTuples(${x}, ${w})`,C=o.map(k=>k.signals.visual);return n.concat({name:i,on:[{events:[...C.length?[{signal:C.join(" || ")}]:[],...s?[{signal:ck}]:[]],update:S}]})}else{if(!jh.defined(t)){const c=r+V4e,u=o.map(d=>{const f=d.channel,{data:p,visual:g}=d.signals,y=yt(e.scaleName(f)),v=e.getScaleComponent(f).get("type"),x=$d(v)?"+":"";return`(!isArray(${p}) || (${x}invert(${y}, ${g})[0] === ${x}${p}[0] && ${x}invert(${y}, ${g})[1] === ${x}${p}[1]))`});u.length&&n.push({name:c,value:{},on:[{events:o.map(d=>({scale:e.scaleName(d.channel)})),update:`${u.join(" && ")} ? ${c} : {}`}]})}const a=o.map(c=>c.signals.data),l=`unit: ${Bv(e)}, fields: ${r+vA}, values`;return n.concat({name:i,...s?{init:`{${l}: ${Mb(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Ji(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===ck).length||n.unshift({name:ck,value:null,on:[{events:"timer{1}",update:`${ck} === null ? {} : ${ck}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i?.signals.visual,a=o?.signals.visual,l=`data(${yt(t.name+Ab)})`;if(jh.defined(t)||!i&&!o)return n;const c={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const v of st(c))c[v]=[{test:`${l}.length && ${l}[0].unit === ${Bv(e)}`,...c[v]},{value:0}];const{fill:u,fillOpacity:d,cursor:f,...p}=t.mark,g=st(p).reduce((v,x)=>(v[x]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(w=>w).join(" && "),value:p[x]},{value:null}],v),{}),y=f??(t.translate?"move":null);return[{name:`${r+Lw}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:u},fillOpacity:{value:d}},update:c}},...n,{name:r+Lw,type:"rect",clip:!0,encode:{enter:{...y?{cursor:{value:y}}:{},fill:{value:"transparent"}},update:{...c,...g}}}]}};function yQt(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=yt(i?e.scaleName(o):e.projectionName()),l=f=>`scale(${a}, ${f})`,c=e.getSizeSignalRef(o===Vi?"width":"height").signal,u=`${o}(unit)`,d=t.events.reduce((f,p)=>[...f,{events:p.between[0],update:`[${u}, ${u}]`},{events:p,update:`[${s}[0], clamp(${u}, 0, ${c})]`}],[]);if(i){const f=n.signals.data,p=jh.defined(t),g=e.getScaleComponent(o),y=g?g.get("type"):void 0,v=r?{init:Mb(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+V4e},update:$d(y)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),p?[{name:f,on:[]}]:[{name:s,...v,on:d},{name:f,...r?{init:Mb(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const f=o===Vi?0:1,p=t.name+H4e,g=r?{init:`[${p}[0][${f}], ${p}[1][${f}]]`}:{value:[]};return[{name:s,...g,on:d}]}}function uC({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=hA(t)&&t.condition;let s=[];o&&(s=Ft(o).map(c=>{const u=i(c);if(iKt(c)){const{param:d,empty:f}=c;return{test:cLe(e,{param:d,empty:f}),...u}}else return{test:C3(e,c.test),...u}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function sne(e,t="text"){const n=e.encoding[t];return uC({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>ane(r,e.config),invalidValueRef:void 0})}function ane(e,t,n="datum"){if(e){if(Fd(e))return Pi(e.value);if(In(e)){const{format:r,formatType:i}=v3(e);return zte({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function W4e(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Je(s))return{tooltip:Uve({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return uC({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:c=>{const u=G4e(c,i,a);if(u)return u;if(c===null)return;let d=Gr("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),jt(d))return{value:d};if(It(d))return rn(d)?d:d.content==="encoding"?Uve(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function q4e(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(u,d){const f=fx(d),p=Qa(u)?u:{...u,type:e[f].type},g=p.title||Hte(p,i),y=Ft(g).join(", ").replaceAll(/"/g,'\\"');let v;if(Mo(d)){const x=d==="x"?"x2":"y2",w=Ld(e[x]);if($s(p.bin)&&w){const S=Mt(p,{expr:s}),C=Mt(w,{expr:s}),{format:k,formatType:T}=v3(p);v=fA(S,C,k,T,i),o.add(x)}}if((Mo(d)||d===Vu||d===Kd)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:x,formatType:w}=v3(p);v=zte({fieldOrDatumDef:p,format:x,formatType:w,expr:s,config:i,normalizeStack:!0}).signal}v??=G4e(p,i,s).signal,a.push({channel:d,key:y,value:v})}qte(e,(u,d)=>{dt(u)?l(u,d):uN(u)&&l(u.condition,d)});const c={};for(const{channel:u,key:d,value:f}of a)!o.has(u)&&!c[d]&&(c[d]=f);return c}function Uve(e,t,n,{reactiveGeom:r}={}){const i=q4e(e,t,n,{reactiveGeom:r}),o=y0(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function G4e(e,t,n="datum"){if(dt(e)&&Ate(e.type)&&!lt(e,"format")){const r=`datum["${e.field}"]`;return{signal:`isValid(${r}) ? isArray(${r}) ? join(${r}, '\\n') : ${r} : ""+${r}`}}return ane(e,t,n)}function vQt(e){const{markDef:t,config:n}=e,r=Gr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...bQt(e),...xQt(e)}}function bQt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Gr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Ut(BGt,t)?{}:{ariaRoleDescription:{value:t}}}function xQt(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return uC({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>ane(l,e.config),invalidValueRef:void 0});const s=Gr("description",n,r);if(s!=null)return{description:Pi(s)};if(r.aria===!1)return{};const a=q4e(t,i,r);if(!bi(a))return{description:{signal:y0(a).filter(([l])=>!l.startsWith("_")).map(([l,c])=>[l,c.replaceAll("\\n"," ")]).map(([l,c],u)=>`"${u>0?"; ":""}${l}: " + (${c})`).join(" + ")}}}function zs(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const c=i[e];a===void 0&&(l??=Gr(e,r,o,{vgChannel:s,ignoreVgConfig:!hA(c)}),l!==void 0&&(a=Pi(l)));const u={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=DFe({...u,scaleChannel:e,channelDef:c});return uC({model:t,channelDef:c,vgChannel:s??e,invalidValueRef:d,mainRefFn:p=>Nte({...u,channel:e,channelDef:p,stack:null,defaultRef:a})})}function Y4e(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??Gr("filled",n,i),a=ir(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=Gr(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,c=Gr(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],u=s?"fill":"stroke",d={...l?{fill:Pi(l)}:{},...c?{stroke:Pi(c)}:{}};return n.color&&(s?n.fill:n.stroke)&&ft(iFe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...zs("color",e,{vgChannel:u,defaultValue:s?l:c}),...zs("fill",e,{defaultValue:r.fill?l:void 0}),...zs("stroke",e,{defaultValue:r.stroke?c:void 0})}}function wQt(e){const{encoding:t,mark:n}=e,r=t.order;return!Y0(n)&&Fd(r)?uC({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Pi(i.value),invalidValueRef:void 0}):{}}function e_({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:Nte({channel:o,channelDef:a,markDef:t,config:r?.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Pi(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function qa(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],c=i[wp(e)],u=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:p}=e_({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),g=lne({model:t,defaultPos:n,channel:e,scaleName:u,scale:d}),y=!l&&Mo(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:SQt({channel:e,channelDef:l,channel2Def:c,markDef:o,config:s,scaleName:u,scale:d,stack:a,offset:f,defaultRef:g,bandPosition:p==="encoding"?0:void 0});return y?{[r||e]:y}:void 0}function SQt(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(In(n)&&i&&t===i.fieldChannel){if(dt(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return g3({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return Nv(n,r,{suffix:"end"},{offset:o})}return Lte(e)}function lne({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=fx(n),l=v0(n),c=Gr(n,o,s,{vgChannel:l});if(c!==void 0)return BE(n,c);switch(t){case"zeroOrMin":return Vve({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return Vve({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[Nl(n)],mult:.5}}}}function Vve({mainChannel:e,config:t,...n}){const r=PFe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const _Qt={left:"x",center:"xc",right:"x2"},CQt={top:"y",middle:"yc",bottom:"y2"};function X4e(e,t,n,r="middle"){if(e==="radius"||e==="theta")return v0(e);const i=e==="x"?"align":"baseline",o=Gr(i,t,n);let s;return rn(o)?(ft(_Yt(i)),s=void 0):s=o,e==="x"?_Qt[s||(r==="top"?"left":"center")]:CQt[s||r]}function S3(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?K4e(e,t,{defaultPos:n,defaultPos2:r}):qa(e,t,{defaultPos:n})}function K4e(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=wp(e),a=Nl(e),l=kQt(t,r,s),c=l[a]?X4e(e,i,o):v0(e);return{...qa(e,t,{defaultPos:n,vgChannel:c}),...l}}function kQt(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=fx(n),c=Nl(n),u=v0(n),d=r[l],f=e.scaleName(l),p=e.getScaleComponent(l),{offset:g}=n in r||n in o?e_({channel:n,markDef:o,encoding:r,model:e}):e_({channel:l,markDef:o,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const v=Nl(n),x=e.markDef[v];return x!=null?{[v]:{value:x}}:{[u]:{field:e.getName(n)}}}const y=EQt({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:a,scaleName:f,scale:p,stack:s,offset:g,defaultRef:void 0});return y!==void 0?{[u]:y}:RO(n,o)||RO(n,{[n]:Kq(n,o,a.style),[c]:Kq(c,o,a.style)})||RO(n,a[i])||RO(n,a.mark)||{[u]:lne({model:e,defaultPos:t,channel:n,scaleName:f,scale:p})()}}function EQt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c}){return In(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Nv(t,o,{suffix:"start"},{offset:l}):Lte({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:c})}function RO(e,t){const n=Nl(e),r=v0(e);if(t[r]!==void 0)return{[r]:BE(e,t[r])};if(t[e]!==void 0)return{[r]:BE(e,t[e])};if(t[n]){const i=t[n];if(Tb(i))ft(yYt(n));else return{[n]:BE(e,i)}}}function tg(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=wp(t),a=Nl(t),l=r[t],c=r[s],u=e.getScaleComponent(t),d=u?u.get("type"):void 0,f=i.orient,p=r[a]??r.size??Gr("size",i,n,{vgChannel:a}),g=U3e(t),y=o==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||o==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return dt(l)&&(Ei(l.bin)||$s(l.bin)||l.timeUnit&&!c)&&!(p&&!Tb(p))&&!r[g]&&!Es(d)?MQt({fieldDef:l,fieldDef2:c,channel:t,model:e}):(In(l)&&Es(d)||y)&&!c?RQt(l,t,e):K4e(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function TQt(e,t,n,r,i,o,s){if(Tb(i))if(n){const l=n.get("type");if(l==="band"){let c=`bandwidth('${t}')`;i.band!==1&&(c=`${i.band} * ${c}`);const u=op("minBandSize",{type:s},r);return{signal:u?`max(${wd(u)}, ${c})`:c}}else i.band!==1&&(ft(TYt(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(rn(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(hx(l)&&Or(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:c,rectBandPaddingInner:u,tickBandPaddingInner:d}=r.scale,f=Ro(l,s==="tick"?d:s==="bar"?c:u);if(rn(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Or(f))return{signal:`${1-f} * ${e}`}}return{value:rG(r.view,e)-2}}function RQt(e,t,n){const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),c=n.getScaleComponent(t),u=Nl(t),d=wp(t),f=U3e(t),p=n.scaleName(f),g=n.getScaleComponent(ute(t)),y=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let v;(i.size||r.size)&&(y?v=zs("size",n,{vgChannel:u,defaultRef:Pi(r.size)}):ft(PYt(r.type)));const x=!!v,w=NFe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(c||g)?.get("type"),useVlSizeChannel:y});v=v||{[u]:TQt(u,p||l,g||c,o,w,!!e,r.type)};const S=(c||g)?.get("type")==="band"&&Tb(w)&&!x?"top":"middle",C=X4e(t,r,o,S),k=C==="xc"||C==="yc",{offset:T,offsetType:E}=e_({channel:t,markDef:r,encoding:i,model:n,bandPosition:k?.5:0}),A=Lte({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:c,stack:s,offset:T,defaultRef:lne({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:c}),bandPosition:k?E==="encoding"?0:.5:rn(w)?{signal:`(1-${w})/2`}:Tb(w)?(1-w.band)/2:0});if(u)return{[C]:A,...v};{const O=v0(d),I=v[u],j=T?{...I,offset:T}:I;return{[C]:A,[O]:Je(A)?[A[0],{...A[1],offset:j}]:{...A,offset:j}}}}function Hve(e,t,n,r,i,o,s){if($3e(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(rn(n)||rn(i)||rn(r)||o){const c=wd(n),u=wd(i),d=wd(r),f=wd(o),g=o?`(${s} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${s})) : ${l})`:l,y=d?`${d} + `:"",v=c?`(${c} ? -1 : 1) * `:"",x=u?`(${u} + ${g})`:g;return{signal:y+v+x}}else return i=i||0,r+(n?-i-l:+i+l)}function MQt({fieldDef:e,fieldDef2:t,channel:n,model:r}){const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),c=a?a.get("type"):void 0,u=a.get("reverse"),d=NFe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:c}),p=r.component.axes[n]?.[0]?.get("translate")??.5,g=Mo(n)?Gr("binSpacing",o,i)??0:0,y=wp(n),v=v0(n),x=v0(y),w=op("minBandSize",o,i),{offset:S}=e_({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:C}=e_({channel:y,markDef:o,encoding:s,model:r,bandPosition:0}),k=JXt({fieldDef:e,scaleName:l}),T=Hve(n,g,u,p,S,w,k),E=Hve(y,g,u,p,C??S,w,k),A=rn(d)?{signal:`(1-${d.signal})/2`}:Tb(d)?(1-d.band)/2:.5,O=b0({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Ei(e.bin)||e.timeUnit){const I=e.timeUnit&&O!==.5;return{[x]:Wve({fieldDef:e,scaleName:l,bandPosition:A,offset:E,useRectOffsetField:I}),[v]:Wve({fieldDef:e,scaleName:l,bandPosition:rn(A)?{signal:`1-${A.signal}`}:1-A,offset:T,useRectOffsetField:I})}}else if($s(e.bin)){const I=Nv(e,l,{},{offset:E});if(dt(t))return{[x]:I,[v]:Nv(t,l,{},{offset:T})};if(px(e.bin)&&e.bin.step)return{[x]:I,[v]:{signal:`scale("${l}", ${Mt(e,{expr:"datum"})} + ${e.bin.step})`,offset:T}}}ft(aFe(y))}function Wve({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return g3({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:vN,endSuffix:bN}:{}})}const AQt=new Set(["aria","width","height"]);function Hu(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Y4e(e):{};return{...PQt(e.markDef,t),...qve("fill",n),...qve("stroke",r),...zs("opacity",e),...zs("fillOpacity",e),...zs("strokeOpacity",e),...zs("strokeWidth",e),...zs("strokeDash",e),...wQt(e),...W4e(e),...sne(e,"href"),...vQt(e)}}function qve(e,t){return t?{[e]:t}:{}}function PQt(e,t){return zGt.reduce((n,r)=>(!AQt.has(r)&&lt(e,r)&&t[r]!=="ignore"&&(n[r]=Pi(e[r])),n),{})}function cne(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{let s;if(!Sp(o)||!(s=e.getScaleType(o)))return;const a=JL(i.aggregate),l=Fte({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(KXt(l)){const c=e.vgField(o,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>rN(o,!0)).join(" && ")}}}function Gve(e,t){if(t!==void 0)return{[e]:Pi(t)}}const T7="voronoi",Z4e={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(T7)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Y0(o))return ft(GGt(o)),n;const s={name:e.getName(T7),type:"path",interactive:!0,aria:!1,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...W4e(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((c,u)=>{const d=c.name??"";d===e.component.mark[0].name?a=u:d.includes(T7)&&(l=!0)}),l||n.splice(a+1,0,s),n}},Q4e={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!Qte(e.bind),parse:(e,t,n)=>sLe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init?.[0],a=Z4e.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,c)=>{const u=Ui(`${r}_${l.field}`);n.filter(f=>f.name===u).length||n.unshift({name:u,...s?{init:Mb(s[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${yt(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(c=>c.name===r+ng),s=r+vA,a=i.items.map(c=>Ui(`${r}_${c.field}`)),l=a.map(c=>`${c} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},_3="_toggle",J4e={defined:e=>e.type==="point"&&!Wf(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+_3,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+ng,r=t.name+_3;return`${r} ? null : ${n}, ${t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Bv(e)}}, `}${r} ? ${n} : null`}},DQt={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Wf(e),parse:(e,t)=>{t.clear&&(t.clear=jt(t.clear)?z0(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Q4e.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===Ui(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+ng);r(i,"null"),J4e.defined(t)&&(i=n.findIndex(o=>o.name===t.name+_3),r(i,"false"))}return n}},eLe={defined:e=>{const t=e.resolve==="global"&&e.bind&&Qte(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Nd;return t&&!n&&ft(ZGt),t&&n},parse:(e,t,n)=>{const r=Rn(n);if(r.select=jt(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},sLe(t,r),It(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=Ft(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=w7(t.bind)?t.bind.legend:"click",o=jt(i)?z0(i,"view"):Ft(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=w7(t.bind)&&t.bind.legend,o=s=>a=>{const l=Rn(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${Ui(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(u=>u.name===l).length===0){const u=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:u,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(f=>f.name===r+ng),s=r+vA,a=i.items.filter(f=>f.hasLegend).map(f=>Ui(`${r}_${Ui(f.field)}_legend`)),c=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(f=>({signal:f})),update:c}):a.length>0&&(o.update=c,delete o.value,delete o.on);const u=n.find(f=>f.name===r+_3),d=w7(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push({...u.on[0],events:d}):u.on[0].events=d),n}};function OQt(e,t,n){const r=e.fieldDef(t)?.field;for(const i of Ho(e.component.selection??{})){const o=i.project.hasField[r]??i.project.hasChannel[t];if(o&&eLe.defined(i)){const s=n.get("selections")??[];s.push(i.name),n.set("selections",s,!1),o.hasLegend=!0}}}const tLe="_translate_anchor",nLe="_translate_delta",IQt={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=jh.defined(t),o=r+tLe,{x:s,y:a}=t.project.hasChannel;let l=z0(t.translate,"scope");return i||(l=l.map(c=>(c.between[0].markname=r+Lw,c))),n.push({name:o,value:{},on:[{events:l.map(c=>c.between[0]),update:`{x: x(unit), y: y(unit)${s!==void 0?`, extent_x: ${i?lG(e,Vi):`slice(${s.signals.visual})`}`:""}${a!==void 0?`, extent_y: ${i?lG(e,As):`slice(${a.signals.visual})`}`:""}}`}]},{name:r+nLe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&Yve(e,t,s,"width",n),a!==void 0&&Yve(e,t,a,"height",n),n}};function Yve(e,t,n,r,i){const o=t.name,s=o+tLe,a=o+nLe,l=n.channel,c=jh.defined(t),u=i.find(k=>k.name===n.signals[c?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),p=f?.get("type"),g=f?.get("reverse"),y=c?l===Vi?g?"":"-":g?"-":"":"",v=`${s}.extent_${l}`,x=`${y}${a}.${l} / ${c?`${d}`:`span(${v})`}`,w=!c||!f?"panLinear":p==="log"?"panLog":p==="symlog"?"panSymlog":p==="pow"?"panPow":"panLinear",S=c?p==="pow"?`, ${f.get("exponent")??1}`:p==="symlog"?`, ${f.get("constant")??1}`:"":"",C=`${w}(${v}, ${x}${S})`;u.on.push({events:{signal:a},update:c?C:`clampRange(${C}, 0, ${d})`})}const rLe="_zoom_anchor",iLe="_zoom_delta",jQt={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=jh.defined(t),o=r+iLe,{x:s,y:a}=t.project.hasChannel,l=yt(e.scaleName(Vi)),c=yt(e.scaleName(As));let u=z0(t.zoom,"scope");return i||(u=u.map(d=>(d.markname=r+Lw,d))),n.push({name:r+rLe,on:[{events:u,update:i?`{${[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(d=>d).join(", ")}}`:"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&Xve(e,t,s,"width",n),a!==void 0&&Xve(e,t,a,"height",n),n}};function Xve(e,t,n,r,i){const o=t.name,s=n.channel,a=jh.defined(t),l=i.find(w=>w.name===n.signals[a?"data":"visual"]),c=e.getSizeSignalRef(r).signal,u=e.getScaleComponent(s),d=u?.get("type"),f=a?lG(e,s):l.name,p=o+iLe,g=`${o}${rLe}.${s}`,y=!a||!u?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",v=a?d==="pow"?`, ${u.get("exponent")??1}`:d==="symlog"?`, ${u.get("constant")??1}`:"":"",x=`${y}(${f}, ${g}, ${p}${v})`;l.on.push({events:{signal:p},update:a?x:`clampRange(${x}, 0, ${c})`})}const Ab="_store",ng="_tuple",$Qt="_modify",oLe="vlSelectionResolve",xN=[lQt,mQt,oQt,J4e,Q4e,jh,eLe,DQt,IQt,jQt,Z4e];function FQt(e){let t=e.parent;for(;t&&!Cc(t);)t=t.parent;return t}function Bv(e,{escape:t}={escape:!0}){let n=t?yt(e.name):e.name;const r=FQt(e);if(r){const{facet:i}=r;for(const o of mu)i[o]&&(n+=` + '__facet_${o}_' + (facet[${yt(r.vgField(o))}])`)}return n}function une(e){return Ho(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function sLe(e,t){(jt(t.select)||!t.select.on)&&delete e.events,(jt(t.select)||!t.select.clear)&&delete e.clear,(jt(t.select)||!t.select.toggle)&&delete e.toggle}function Wf(e){return e.events?.find(t=>"type"in t&&t.type==="timer")}function uG(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...uG(e.object)),t.push(...uG(e.property))),t)}function aLe(e){return e.object.type==="MemberExpression"?aLe(e.object):e.object.name==="datum"}function lLe(e){const t=Tee(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&aLe(r)&&n.add(uG(r).slice(1).join("."))}),n}class dC extends oi{model;filter;expr;_dependentFields;clone(){return new dC(null,this.model,Rn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=C3(this.model,this.filter,this),this._dependentFields=lLe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function LQt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const s=Ui(o.name),a=o.select,l=jt(a)?a:a.type,c=It(a)?Rn(a):{type:l},u=r[l];for(const p in u)p==="fields"||p==="encodings"||(p==="mark"&&(c.mark={...u.mark,...c.mark}),(c[p]===void 0||c[p]===!0)&&(c[p]=Rn(u[p]??c[p])));const d=n[s]={...c,name:s,type:l,init:o.value,bind:o.bind,events:jt(c.on)?z0(c.on,"scope"):Ft(Rn(c.on))};if(Wf(d)&&(i++,i>1)){delete n[s];continue}const f=Rn(o);for(const p of xN)p.defined(d)&&p.parse&&p.parse(e,d,f)}return i>1&&ft(rYt),n}function cLe(e,t,n,r="datum"){const i=jt(t)?t:t.param,o=Ui(i),s=yt(o+Ab);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const f=n??e.component.data.raw,p=a.project.timeUnit.clone();f.parent?p.insertAsParentOf(f):f.parent=p}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=a.resolve==="global"?")":`, ${yt(a.resolve)})`,u=`${l}${s}, ${r}${c}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${u}`:`!${d} || ${u}`}function uLe(e,t,n){const r=Ui(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&ft(iYt(o));else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,ft(oYt(a,i,n,o))):o=a[0].field}return`${s.name}[${yt(Fu(o))}]`}function NQt(e,t){for(const[n,r]of y0(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Al(new dC(t,e,{param:n}),i,to.Lookup,e.component.data.outputNodeRefCounts)}}function C3(e,t,n){return zE(t,r=>jt(r)?r:hXt(r)?cLe(e,r,n):bFe(r))}function zQt(e,t){if(e)return Je(e)&&!lm(e)?e.map(n=>Hte(n,t)).join(", "):e}function R7(e,t,n,r){e.encode??={},e.encode[t]??={},e.encode[t].update??={},e.encode[t].update[n]=r}function iE(e,t,n,r={header:!1}){const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:c,...u}=e.combine();if(!i){for(const d in u){const f=d,p=vKt[f],g=u[f];if(p&&p!==t&&p!=="both")delete u[f];else if(yA(g)){const{condition:y,...v}=g,x=Ft(y),w=_ve[f];if(w){const{vgProp:S,part:C}=w,k=[...x.map(T=>{const{test:E,...A}=T;return{test:C3(null,E),...A}}),v];R7(u,C,S,k),delete u[f]}else if(w===null){const S={signal:x.map(C=>{const{test:k,...T}=C;return`${C3(null,k)} ? ${ave(T)} : `}).join("")+ave(v)};u[f]=S}}else if(rn(g)){const y=_ve[f];if(y){const{vgProp:v,part:x}=y;R7(u,x,v,g),delete u[f]}}ir(["labelAlign","labelBaseline"],f)&&u[f]===null&&delete u[f]}if(t==="grid"){if(!u.grid)return;if(u.encode){const{grid:d}=u.encode;u.encode={...d?{grid:d}:{}},bi(u.encode)&&delete u.encode}return{scale:s,orient:o,...u,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ro(c,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let f=a;u.encode?.labels?.update&&rn(u.encode.labels.update.text)&&(f=Sb(a,"datum.label",u.encode.labels.update.text.signal)),R7(u,"labels","text",{signal:f})}if(u.labelAlign===null&&delete u.labelAlign,u.encode){for(const f of XFe)e.hasAxisPart(f)||delete u.encode[f];bi(u.encode)&&delete u.encode}const d=zQt(l,n);return{scale:s,orient:o,grid:!1,...d?{title:d}:{},...u,...n.aria===!1?{aria:!1}:{},zindex:Ro(c,0)}}}}function dLe(e){const{axes:t}=e.component,n=[];for(const r of gg)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function BQt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>iE(i,"grid",t)),...r.map(i=>iE(i,"grid",t)),...n.map(i=>iE(i,"main",t)),...r.map(i=>iE(i,"main",t))].filter(i=>i)}function Kve(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...st(s),...st(a)]),c={};for(const u of l.values())c[u]={signal:`${r.signal} === "${o}" ? ${wd(s[u])} : ${wd(a[u])}`};return c}return t[i]})])}function UQt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:SFe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=rn(n)?"axisOrient":`axis${sA(n)}`,a=[...i,...i.map(c=>o+c.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:Kve(a,r,e,n),vgAxisConfig:Kve(l,r,e,n),axisConfigStyle:VQt([...l,...a],r)}}function VQt(e,t){const n=[{}];for(const r of e){let i=t[r]?.style;if(i){i=Ft(i);for(const o of i)n.push(t.style[o])}}return Object.assign.apply(null,n)}function dG(e,t,n,r={}){const i=Z3e(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(r[o]?.[e]!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const Zve={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??HQt(n,e),gridScale:({model:e,channel:t})=>WQt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||pLe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||fLe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??GQt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??YQt(t.type,n,dt(t)&&!!t.timeUnit,dt(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??KQt({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:({axis:e,format:t,fieldOrDatumDef:n})=>e.tickMinStep??ZQt({format:t,fieldOrDatumDef:n}),title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=hLe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return J3e(i?[wve(i)]:[],dt(s)?[wve(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>QQt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??JQt(n,t)};function HQt(e,t){return!Es(e)&&dt(t)&&!Ei(t?.bin)&&!$s(t?.bin)}function WQt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function qQt(e,t,n,r,i){const o=t?.labelAngle;if(o!==void 0)return rn(o)?o:iR(o);{const{configValue:s}=dG("labelAngle",r,t?.style,i);return s!==void 0?iR(s):n===Vi&&ir([Dte,Pte],e.type)&&!(dt(e)&&e.timeUnit)?270:void 0}}function fG(e){return`(((${e.signal} % 360) + 360) % 360)`}function fLe(e,t,n,r){if(e!==void 0)if(n==="x"){if(rn(e)){const i=fG(e),o=rn(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(rn(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(rn(e)){const i=fG(e),o=rn(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(rn(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function pLe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(rn(e)){const s=fG(e),a=rn(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(rn(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function GQt(e,t){if(t==="x"&&ir(["quantitative","temporal"],e))return!0}function YQt(e,t,n,r){if(n&&!It(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function XQt(e){return e==="x"?"bottom":"left"}function KQt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){if(!r&&!Es(t)&&t!=="log"){if(dt(e)){if(Ei(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&ir(["month","hours","day","quarter"],Ss(e.timeUnit)?.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function ZQt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(dt(t)){const{timeUnit:n}=t;if(n){const r=mFe(n);if(r)return{signal:r}}}}function hLe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return eFe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function QQt(e,t){const n=e.values;if(Je(n))return YFe(t,n);if(rn(n))return n}function JQt(e,t){return e==="rect"&&y3(t)?1:0}class t_ extends oi{transform;_dependentFields;clone(){return new t_(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=lLe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(yx(r)&&LFe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((c,u)=>`${bFe({field:o,timeUnit:s,equal:c})} ? ${u} : `).join("")+a.length;t=new t_(t,{calculate:l,as:n_(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${mr(this.transform)}`}}function n_(e,t,n){return Mt(e,{prefix:t,suffix:"sort_index",...n})}function wN(e,t){return ir(["top","bottom"],t)?"column":ir(["left","right"],t)||e==="row"?"row":"column"}function r_(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Ro((t||{})[e],i[e],n.header[e])}function SN(e,t,n,r){const i={};for(const o of e){const s=r_(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const dne=["row","column"],fne=["header","footer"];function eJt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=SN(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=wN(t,a),c=iR(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...mLe(c,l),...gLe(l,c,o),...yLe(r,i,t,zKt,p4e)}}}function gLe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=pLe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function mLe(e,t){const n=fLe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function tJt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of fne)if(n[i])for(const o of n[i]){const s=rJt(e,t,i,n,o);s!=null&&r.push(s)}return r}function nJt(e,t){const{sort:n}=e;return Ih(n)?{field:Mt(n,{expr:"datum"}),order:n.order??"ascending"}:Je(n)?{field:n_(e,t,{expr:"datum"}),order:"ascending"}:{field:Mt(e,{expr:"datum"}),order:n??"ascending"}}function pG(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=SN(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=zte({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=wN(t,a);return{text:{signal:l?Sb(Sb(l,"datum.label",c),"datum.value",Mt(e,{expr:"parent"})):c},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...mLe(o,u),...gLe(u,o,s),...yLe(n,e,t,BKt,h4e)}}function rJt(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=SN(["labelOrient"],s.header,a,t);(t==="row"&&!ir(["top","bottom"],d)||t==="column"&&!ir(["left","right"],d))&&(o=pG(s,t,a))}const l=Cc(e)&&!pA(e.facet),c=i.axes,u=c?.length>0;if(o||u){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:nJt(s,t)}:{},...u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...u?{axes:c}:{}}}}return null}const iJt={column:{start:0,end:1},row:{start:1,end:0}};function oJt(e,t){return iJt[t][e]}function sJt(e,t){const n={};for(const r of mu){const i=e[r];if(i?.facetFieldDef){const{titleAnchor:o,titleOrient:s}=SN(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=wN(r,s),l=oJt(o,a);l!==void 0&&(n[a]=l)}}return bi(n)?void 0:n}function yLe(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=r_(s,t?.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function pne(e){return[...MO(e,"width"),...MO(e,"height"),...MO(e,"childWidth"),...MO(e,"childHeight")]}function MO(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(r==null||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(Es(s)&&hx(a)){const l=e.scaleName(n);return Cc(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[Qve(l,a)]:[Qve(l,a),{name:i,update:vLe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=nG(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function Qve(e,t){const n=`${e}_step`;return rn(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function vLe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=Ro(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${wd(s)}, ${wd(o)}) * ${e}_step`}function bLe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function xLe(e,t){return st(e).reduce((n,r)=>({...n,...uC({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Pi(i.value),invalidValueRef:void 0})}),{})}function wLe(e,t){if(Cc(t))return e==="theta"?"independent":"shared";if(hC(t))return"shared";if(xne(t))return Mo(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function hne(e,t){const n=e.scale[t],r=Mo(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&ft($Yt(t)),"independent"):e[r][t]||"shared"}const aJt={...HKt,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},SLe=st(aJt);class lJt extends yg{}const Jve={symbols:cJt,gradient:uJt,labels:dJt,entries:fJt};function cJt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:c}=n,u=s.filled&&c!=="trail";let d={...HGt({},n,zXt),...Y4e(n,{filled:u})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,p=i.get("symbolFillColor")??l.legend.symbolFillColor,g=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,y=f===void 0?_Le(a.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||u&&r===Fl)delete d.fill;else if(lt(d.fill,"field"))p?delete d.fill:(d.fill=Pi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=Pi(y??1));else if(Je(d.fill)){const v=hG(a.fill??a.color)??s.fill??(u&&s.color);v&&(d.fill=Pi(v))}}if(d.stroke){if(r==="stroke"||!u&&r===Fl)delete d.stroke;else if(lt(d.stroke,"field")||g)delete d.stroke;else if(Je(d.stroke)){const v=Ro(hG(a.stroke||a.color),s.stroke,u?s.color:void 0);v&&(d.stroke={value:v})}}if(r!==hg){const v=dt(t)&&kLe(n,i,t);v?d.opacity=[{test:v,...Pi(y??1)},Pi(l.legend.unselectedOpacity)]:y&&(d.opacity=Pi(y))}return d={...d,...e},bi(d)?void 0:d}function uJt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const c=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?_Le(s.opacity)||o.opacity:void 0;return c&&(a.opacity=Pi(c)),a={...a,...e},bi(a)?void 0:a}function dJt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=dt(t)?kLe(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:c,formatType:u}=o;let d;Rb(u)?d=Sd({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:u,config:s}):c===void 0&&u===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=Sd({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&dt(t)&&t.timeUnit===void 0&&(d=Sd({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return bi(f)?void 0:f}function fJt(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}function _Le(e){return CLe(e,(t,n)=>Math.max(t,n.value))}function hG(e){return CLe(e,(t,n)=>Ro(t,n.value))}function CLe(e,t){if(sKt(e))return Ft(e.condition).reduce(t,e.value);if(Fd(e))return e.value}function kLe(e,t,n){const r=t.get("selections");if(!r?.length)return;const i=yt(n.field);return r.map(o=>`(!length(data(${yt(Ui(o)+Ab)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const ebe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return jFe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return $Fe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??bJt(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??xJt(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??hJt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Fw(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if($w(n)&&Of(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>pJt(t,e)};function pJt(e,t){const n=e.values;if(Je(n))return YFe(t,n);if(rn(n))return n}function hJt(e,t,n,r){if(t!=="shape"){const i=hG(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function gJt(e){const{legend:t}=e;return Ro(t.type,mJt(e))}function mJt({channel:e,timeUnit:t,scaleType:n}){if($w(e)){if(ir(["quarter","month","day"],t))return"symbol";if(Of(n))return"gradient"}return"symbol"}function yJt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??vJt(n,t)}function vJt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function bJt({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Of(i))return n==="horizontal"?r==="top"||r==="bottom"?tbe(t,"width",s,o):s:tbe(t,"height",l,a)}function tbe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function xJt(e){if(ir(["quantile","threshold","log","symlog"],e))return"greedy"}function ELe(e){const t=Ji(e)?wJt(e):kJt(e);return e.component.legends=t,t}function wJt(e){const{encoding:t}=e,n={};for(const r of[Fl,...m4e]){const i=rs(t[r]);!i||!e.getScaleComponent(r)||r===Ll&&dt(i)&&i.type===cC||(n[r]=CJt(e,r))}return n}function SJt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function _Jt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function CJt(e,t){let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new lJt({},SJt(e,t));OQt(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const c=e.getScaleComponent(t).get("type"),u=rs(i[t]),d=dt(u)?Ss(u.timeUnit)?.unit:void 0,f=n.orient||o.legend.orient||"right",p=gJt({legend:n,channel:t,timeUnit:d,scaleType:c}),g=yJt({legend:n,legendType:p,orient:f,legendConfig:s}),y={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:u,legendConfig:s,config:o,scaleType:c,orient:f,legendType:p,direction:g};for(const C of SLe){if(p==="gradient"&&C.startsWith("symbol")||p==="symbol"&&C.startsWith("gradient"))continue;const k=C in ebe?ebe[C](y):n[C];if(k!==void 0){const T=_Jt(k,C,n,e.fieldDef(t));(T||o.legend[C]===void 0)&&a.set(C,k,T)}}const v=n?.encoding??{},x=a.get("selections"),w={},S={fieldOrDatumDef:u,model:e,channel:t,legendCmpt:a,legendType:p};for(const C of["labels","legend","title","symbols","gradient","entries"]){const k=xLe(v[C]??{},e),T=C in Jve?Jve[C](k,S):k;T!==void 0&&!bi(T)&&(w[C]={...x?.length&&dt(u)?{name:`${Ui(u.field)}_legend_${C}`}:{},...x?.length?{interactive:!0}:{},update:x?.length?{...T,cursor:{value:"pointer"}}:T})}return bi(w)||a.set("encode",w,!!n?.encoding),a}function kJt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){ELe(r);for(const i of st(r.component.legends))n.legend[i]=hne(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=TLe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of st(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function TLe(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const o of SLe){const s=x0(e.getWithExplicit(o),t.getWithExplicit(o),o,"legend",(a,l)=>{switch(o){case"symbolType":return EJt(a,l);case"title":return tFe(a,l);case"type":return i=!0,tc("symbol")}return yN(a,l,o,"legend")});e.setWithExplicit(o,s)}return i&&(e.implicit?.encode?.gradient&&f3(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&f3(e.explicit,["encode","gradient"])),e}function EJt(e,t){return t.value==="circle"?t:e}function TJt(e,t,n,r){e.encode??={},e.encode[t]??={},e.encode[t].update??={},e.encode[t].update[n]=r}function RLe(e){const t=e.component.legends,n={};for(const i of st(t)){const o=e.getScaleComponent(i),s=Xr(o.get("domains"));if(n[s])for(const a of n[s])TLe(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Ho(n).flat().map(i=>RJt(i,e.config)).filter(i=>i!==void 0)}function RJt(e,t){const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),o.encode?.symbols){const s=o.encode.symbols.update;s.fill&&s.fill.value!=="transparent"&&!s.stroke&&!o.stroke&&(s.stroke={value:"transparent"});for(const a of m4e)o[a]&&delete s[a]}if(o.title||delete o.title,r!==void 0){let s=r;o.encode?.labels?.update&&rn(o.encode.labels.update.text)&&(s=Sb(r,"datum.label",o.encode.labels.update.text.signal)),TJt(o,"labels","text",{signal:s})}return o}}function MJt(e){return hC(e)||xne(e)?AJt(e):MLe(e)}function AJt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),MLe(e))}function MLe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=rn(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return ir(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const PJt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class ALe extends yg{specifiedProjection;size;data;merged=!1;constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i}get isFit(){return!!this.data}}function PLe(e){e.component.projection=Ji(e)?DJt(e):jJt(e)}function DJt(e){if(e.hasProjection){const t=Ls(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?OJt(e):void 0,o=new ALe(e.projectionName(!0),{...Ls(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function OJt(e){const t=[],{encoding:n}=e;for(const r of[[Qd,Zd],[Lu,Jd]])(rs(n[r[0]])||rs(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Ll)&&e.typedFieldDef(Ll).type===cC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(to.Main)),t}function IJt(e,t){const n=rte(PJt,i=>!!(!Ut(e.explicit,i)&&!Ut(t.explicit,i)||Ut(e.explicit,i)&&Ut(t.explicit,i)&&gc(e.get(i),t.get(i))));if(gc(e.size,t.size)){if(n)return e;if(gc(e.explicit,{}))return t;if(gc(t.explicit,{}))return e}return null}function jJt(e){if(e.children.length===0)return;let t;for(const r of e.children)PLe(r);const n=rte(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=IJt(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new ALe(r,t.specifiedProjection,t.size,Rn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function $Jt(e,t,n,r){if(mA(t,n)){const i=Ji(e)?e.axis(n)??e.legend(n)??{}:{},o=Mt(t,{expr:"datum"}),s=Mt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Mt(t,{binSuffix:"range",forAs:!0}),formula:fA(o,s,i.format,i.formatType,r)}}return{}}function DLe(e,t){return`${G3e(e)}_${t}`}function FJt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function gne(e,t,n){const r=dN(n,void 0)??{},i=DLe(r,t);return e.getName(`${i}_bins`)}function LJt(e){return"as"in e}function nbe(e,t,n){let r,i;LJt(e)?r=jt(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Mt(e,{forAs:!0}),Mt(e,{binSuffix:"end",forAs:!0})];const o={...dN(t,void 0)},s=DLe(o,e.field),{signal:a,extentSignal:l}=FJt(n,s);if(eN(o.extent)){const u=o.extent;i=uLe(n,u.param,u),delete o.extent}const c={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:c}}class qf extends oi{bins;clone(){return new qf(null,Rn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Qa(o)&&Ei(o.bin)){const{key:a,binComponent:l}=nbe(o,o.bin,n);i[a]={...l,...i[a],...$Jt(n,o,s,n.config)}}return i},{});return bi(r)?null:new qf(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=nbe(n,n.bin,r);return new qf(t,{[i]:o})}merge(t,n){for(const r of st(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Df([...this.bins[r].as,...t.bins[r].as],mr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Ho(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Ho(this.bins).map(t=>t.field))}hash(){return`Bin ${mr(this.bins)}`}assemble(){return Ho(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Fu(t.field),as:r,signal:t.signal,...eN(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Fu(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let c=0;c<2;c++)n.push({type:"formula",expr:Mt({field:r[c]},{expr:"datum"}),as:l[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function NJt(e,t,n,r){const i=Ji(r)?r.encoding[wp(t)]:void 0;if(Qa(n)&&Ji(r)&&zFe(n,i,r.markDef,r.config)){e.add(Mt(n,{})),e.add(Mt(n,{suffix:"end"}));const{mark:o,markDef:s,config:a}=r,l=b0({fieldDef:n,markDef:s,config:a});oR(o)&&l!==.5&&Mo(t)&&(e.add(Mt(n,{suffix:vN})),e.add(Mt(n,{suffix:bN}))),n.bin&&mA(n,t)&&e.add(Mt(n,{binSuffix:"range"}))}else if(L3e(t)){const o=F3e(t);e.add(r.getName(o))}else e.add(Mt(n));return yx(n)&&TXt(n.scale?.range)&&e.add(n.scale.range.field),e}function zJt(e,t){for(const n of st(t)){const r=t[n];for(const i of st(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Pd extends oi{dimensions;measures;clone(){return new Pd(null,new Set(this.dimensions),Rn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:c}=s;if(l)if(l==="count")i["*"]??={},i["*"].count=new Set([Mt(s,{forAs:!0})]);else{if(eg(l)||G0(l)){const u=eg(l)?"argmin":"argmax",d=l[u];i[d]??={},i[d][u]=new Set([Mt({op:u,field:d},{forAs:!0})])}else i[c]??={},i[c][l]=new Set([Mt(s,{forAs:!0})]);Sp(a)&&n.scaleDomain(a)==="unaggregated"&&(i[c]??={},i[c].min=new Set([Mt({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([Mt({field:c,aggregate:"max"},{forAs:!0})]))}else NJt(o,a,s,n)}),o.size+st(i).length===0)?null:new Pd(t,o,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const o of n.aggregate){const{op:s,field:a,as:l}=o;s&&(s==="count"?(i["*"]??={},i["*"].count=new Set([l||Mt(o,{forAs:!0})])):(i[a]??={},i[a][s]??=new Set,i[a][s].add(l||Mt(o,{forAs:!0}))))}for(const o of n.groupby??[])r.add(o);return r.size+st(i).length===0?null:new Pd(t,r,i)}merge(t){return R3e(this.dimensions,t.dimensions)?(zJt(this.measures,t.measures),!0):(QYt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...st(this.measures)])}producedFields(){const t=new Set;for(const n of st(this.measures))for(const r of st(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${mr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of st(this.measures))for(const s of st(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Fu(o));return{type:"aggregate",groupby:[...this.dimensions].map(Fu),ops:t,fields:n,as:r}}}class fC extends oi{model;name;data;column;row;facet;childModel;constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of mu){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[Mt(s),...Ei(a)?[Mt(s,{binSuffix:"end"})]:[]],...Ih(l)?{sortField:l}:Je(l)?{sortIndexField:n_(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of mu)this[n]&&(t+=` ${n.charAt(0)}:${mr(this[n])}`);return t}get fields(){const t=[];for(const n of mu)this[n]?.fields&&t.push(...this[n].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of mu)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of gg){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(Es(i)&&hx(o)){const s=_N(this.childModel,n),a=bne(s);a?t[n]=a:ft(yte(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:c}=this[t];if(l){const{op:u=lN,field:d}=l;o.push(d),s.push(u),a.push(Mt(l,{forAs:!0}))}else c&&(o.push(c),s.push("max"),a.push(c));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const l of dne){for(const c of fne){const u=r[l]?.[c]??[];for(const d of u)if(d.axes?.length>0){o[l]=!0;break}}if(o[l]){const c=`length(data("${this.facet.name}"))`,u=l==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:u}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Oh,Dh])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function rbe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function BJt(e,t){const n=ste(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=rbe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=rbe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return ft(aYt(t)),null}function UJt(e){const t={};return kj(e.filter,n=>{if(vFe(n)){let r=null;_te(n)?r=fc(n.equal):kte(n)?r=fc(n.lte):Cte(n)?r=fc(n.lt):Ete(n)?r=fc(n.gt):Tte(n)?r=fc(n.gte):Rte(n)?r=n.range[0]:Mte(n)&&(r=(n.oneOf??n.in)[0]),r&&(gx(r)?t[n.field]="date":Or(r)?t[n.field]="number":jt(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function VJt(e){const t={};function n(r){QS(r)?t[r.field]="date":r.type==="quantitative"&&IGt(r.aggregate)?t[r.field]="number":qS(r.field)>1?r.field in t||(t[r.field]="flatten"):yx(r)&&Ih(r.sort)&&qS(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Ji(e)||Cc(e))&&e.forEachFieldDef((r,i)=>{if(Qa(r))n(r);else{const o=fx(i),s=e.fieldDef(o);n({...r,type:s.type})}}),Ji(e)){const{mark:r,markDef:i,encoding:o}=e;if(Y0(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];dt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function HJt(e){const t={};if(Ji(e)&&e.component.selection)for(const n of st(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&qS(i.field)>1&&(t[i.field]="flatten")}return t}class fa extends oi{_parse;clone(){return new fa(null,Rn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${mr(this._parse)}`}static makeExplicit(t,n,r){let i={};const o=n.data;return!Wm(o)&&o?.format?.parse&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of st(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:ft(pve(a,r[a],l.value)))}for(const a of st(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:ft(pve(a,n[a],l)))}const o=new yg(n,r);i.copyAll(o);const s={};for(const a of st(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return st(s).length===0||i.parseNothing?null:new fa(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of st(this._parse)){const r=this._parse[n];qS(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(st(this._parse))}dependentFields(){return new Set(st(this._parse))}assembleTransforms(t=!1){return st(this._parse).filter(n=>t?qS(n)>1:!0).map(n=>{const r=BJt(n,this._parse[n]);return r?{type:"formula",expr:r,as:aC(n)}:null}).filter(n=>n!==null)}}class w0 extends oi{clone(){return new w0(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Nd])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Nd}}}class bA extends oi{params;clone(){return new bA(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${mr(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class xA extends oi{params;clone(){return new xA(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${mr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Pb extends oi{_data;_name;_generator;constructor(t){super(null),t??={name:"source"};let n;if(Wm(t)||(n=t.format?{..._c(t.format,["parse"])}:{}),sR(t))this._data={values:t.values};else if(JS(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];ir(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else j4e(t)?this._data={values:[{type:"Sphere"}]}:(O4e(t)||Wm(t))&&(this._data={});this._generator=Wm(t),t.name&&(this._name=t.name),n&&!bi(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function mne(e){return e instanceof Pb||e instanceof bA||e instanceof xA}class yne{#e;constructor(){this.#e=!1}setModified(){this.#e=!0}get modifiedFlag(){return this.#e}}class vx extends yne{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class vne extends yne{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class WJt extends vne{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of st(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class qJt extends vne{requiresSelectionId;constructor(t){super(),this.requiresSelectionId=t&&une(t)}run(t){t instanceof w0&&(this.requiresSelectionId&&(mne(t.parent)||t.parent instanceof Pd||t.parent instanceof fa)||(this.setModified(),t.remove()))}}class GJt extends yne{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Hf&&(r=t.producedFields(),ite(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class YJt extends vne{constructor(){super()}run(t){t instanceof Al&&!t.isRequired()&&(this.setModified(),t.remove())}}class XJt extends vx{run(t){if(!mne(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof fa)if(t instanceof fa)this.setModified(),t.merge(n);else{if(ote(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class KJt extends vx{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof fa);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of st(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!bi(i)){this.setModified();const s=new fa(t,i);for(const a of n){if(a instanceof fa)for(const l of st(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof fa&&st(a.parse).length===0&&a.remove()}}}}}class ZJt extends vx{run(t){t instanceof Al||t.numChildren()>0||t instanceof fC||t instanceof Pb||(this.setModified(),t.remove())}}class QJt extends vx{run(t){const n=t.children.filter(i=>i instanceof Hf),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class JJt extends vx{run(t){const n=t.children.filter(i=>i instanceof Pd),r={};for(const i of n){const o=mr(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of st(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class een extends vx{model;constructor(t){super(),this.model=t}run(t){const n=!(mne(t)||t instanceof dC||t instanceof fa||t instanceof w0),r=[],i=[];for(const o of t.children)o instanceof qf&&(n&&!ote(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof qf?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class ten extends vx{run(t){const n=[...t.children];if(!WS(n,s=>s instanceof Al)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof Al){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof Al)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class bx extends oi{transform;clone(){return new bx(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Df(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Mt(t)}hash(){return`JoinAggregateTransform ${mr(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class i_ extends oi{filter;clone(){return new i_(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((c,u,d)=>{const f=Sp(d)&&n.getScaleComponent(d);if(f){const p=f.get("type"),{aggregate:g}=u,y=Fte({scaleChannel:d,markDef:o,config:i,scaleType:p,isCountAggregate:JL(g)});y!=="show"&&y!=="always-valid"&&(c[u.field]=u)}return c},{});return st(l).length?new i_(t,l):null}dependentFields(){return new Set(st(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${mr(this.filter)}`}assemble(){const t=st(this.filter).reduce((n,r)=>{const i=this.filter[r],o=Mt(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${gG(o)}))`):i.type==="quantitative"&&n.push(gG(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function gG(e){return`isValid(${e}) && isFinite(+${e})`}function nen(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Mt(r);return i&&t.push(i),t},[])}function ren(e){return Je(e)&&e.every(t=>jt(t))&&e.length>1}class $h extends oi{_stack;clone(){return new $h(null,Rn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(Ro(d.order,"ascending"));const c={field:a,order:l};let u;return ren(o)?u=o:jt(o)?u=[o,`${o}_end`]:u=[`${n.stack}_start`,`${n.stack}_end`],new $h(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:c,facetby:[],as:u})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,c=o.map(p=>{const g=i[p];return Ld(g)}).filter(p=>!!p),u=nen(n),d=n.encoding.order;let f;if(Je(d)||dt(d))f=Q3e(d);else{const p=BFe(d)?d.sort:s==="y"?"descending":"ascending";f=u.reduce((g,y)=>(g.field.includes(y)||(g.field.push(y),g.order.push(p)),g),{field:[],order:[]})}return new $h(t,{dimensionFieldDefs:c,stackField:n.vgField(s),facetby:[],stackby:u,sort:f,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${mr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Mt(i,{binSuffix:"mid"})]:[Mt(i,{}),Mt(i,{binSuffix:"end"})]:[Mt(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:c}=this._stack;if(l)for(const u of r){const{bandPosition:d=.5,bin:f}=u;if(f){const p=Mt(u,{expr:"datum"}),g=Mt(u,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${gG(p)} ? ${d}*${p}+${1-d}*${g} : ${p}`,as:Mt(u,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:Mt(u,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:c,offset:a}),t}}class pC extends oi{transform;clone(){return new pC(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Df(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Mt(t)}hash(){return`WindowTransform ${mr(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(d=>gte(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const c={field:a,order:l},u=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:c,...u!==void 0?{ignorePeers:u}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function ien(e){function t(n){if(!(n instanceof fC)){const r=n.clone();if(r instanceof Al){const i=yG+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Pd||r instanceof $h||r instanceof pC||r instanceof bx)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function mG(e){if(e instanceof fC)if(e.numChildren()===1&&!(e.children[0]instanceof Al)){const t=e.children[0];(t instanceof Pd||t instanceof $h||t instanceof pC||t instanceof bx)&&t.addDimensions(e.fields),t.swapWithParent(),mG(e)}else{const t=e.model.component.data.main;OLe(t);const n=ien(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(mG)}function OLe(e){if(e instanceof Al&&e.type===to.Main&&e.numChildren()===1){const t=e.children[0];t instanceof fC||(t.swapWithParent(),OLe(e))}}const yG="scale_",AO=5;function vG(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!vG(t.children))return!1}return!0}function Ju(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function ibe(e,t,n){let r=e.sources,i=!1;return i=Ju(new YJt,r)||i,i=Ju(new qJt(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Ju(new ZJt,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Ju(new XJt,r)||i,i=Ju(new een(t),r)||i,i=Ju(new GJt,r)||i,i=Ju(new KJt,r)||i,i=Ju(new JJt,r)||i,i=Ju(new QJt,r)||i,i=Ju(new WJt,r)||i,i=Ju(new ten,r)||i),e.sources=r,i}function oen(e,t){vG(e.sources);let n=0,r=0;for(let i=0;i<AO&&ibe(e,t,!0);i++)n++;e.sources.map(mG);for(let i=0;i<AO&&ibe(e,t,!1);i++)r++;vG(e.sources),Math.max(n,r)===AO&&ft(`Maximum optimization runs(${AO}) reached.`)}class gs{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}signal;static fromName(t,n){return new gs(()=>t(n))}}function ILe(e){Ji(e)?sen(e):aen(e)}function sen(e){const t=e.component.scales;for(const n of st(t)){const r=cen(e,n);if(t[n].setWithExplicit("domains",r),den(e,n),e.component.data.isFaceted){let o=e;for(;!Cc(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)wh(a)&&(a.data=yG+a.data.replace(yG,""))}}}function aen(e){for(const n of e.children)ILe(n);const t=e.component.scales;for(const n of st(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=x0(r,s.getWithExplicit("domains"),"domains","scale",bG);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&ft(eYt),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function len(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=obe(t,n);if(!i){ft(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=obe(t,n);if(i)return"unaggregated"}return e}function cen(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=len(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&rs(r.x2)?rs(r.x)?x0(em(n,i,e,"x"),em(n,i,e,"x2"),"domain","scale",bG):em(n,i,e,"x2"):t==="y"&&rs(r.y2)?rs(r.y)?x0(em(n,i,e,"y"),em(n,i,e,"y2"),"domain","scale",bG):em(n,i,e,"y2"):em(n,i,e,t)}function uen(e,t,n){return e.map(r=>({signal:`{data: ${fN(r,{timeUnit:n,type:t})}}`}))}function M7(e,t,n){const r=Ss(n)?.unit;return t==="temporal"||r?uen(e,t,r):[e]}function em(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,c=rs(i[r]),{type:u}=c,d=c.timeUnit,f=rQt({invalid:op("invalid",o,a),isPath:Y0(s)});if(EXt(t)){const y=em(e,void 0,n,r),v=M7(t.unionWith,u,d);return vf([...v,...y.value])}else{if(rn(t))return vf([t]);if(t&&t!=="unaggregated"&&!CFe(t))return vf(M7(t,u,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return tc([[0,1]]);const y=n.requestDataName(f);return tc([{data:y,field:n.vgField(r,{suffix:"start"})},{data:y,field:n.vgField(r,{suffix:"end"})}])}const p=Sp(r)&&dt(c)?fen(n,r,e):void 0;if(_p(c)){const y=M7([c.datum],u,d);return tc(y)}const g=c;if(t==="unaggregated"){const{field:y}=c;return tc([{data:n.requestDataName(f),field:Mt({field:y,aggregate:"min"})},{data:n.requestDataName(f),field:Mt({field:y,aggregate:"max"})}])}else if(Ei(g.bin)){if(Es(e))return tc(e==="bin-ordinal"?[]:[{data:rR(p)?n.requestDataName(f):n.requestDataName(to.Raw),field:n.vgField(r,mA(g,r)?{binSuffix:"range"}:{}),sort:p===!0||!It(p)?{field:n.vgField(r,{}),op:"min"}:p}]);{const{bin:y}=g;if(Ei(y)){const v=gne(n,g.field,y);return tc([new gs(()=>{const x=n.getSignalName(v);return`[${x}.start, ${x}.stop]`})])}else return tc([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(g.timeUnit&&ir(["time","utc"],e)){const y=i[wp(r)];if(zFe(g,y,o,a)){const v=n.requestDataName(f),x=b0({fieldDef:g,fieldDef2:y,markDef:o,config:a}),w=oR(s)&&x!==.5&&Mo(r);return tc([{data:v,field:n.vgField(r,w?{suffix:vN}:{})},{data:v,field:n.vgField(r,{suffix:w?bN:"end"})}])}}return tc(p?[{data:rR(p)?n.requestDataName(f):n.requestDataName(to.Raw),field:n.vgField(r),sort:p}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function A7(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":lN),...r?{field:Fu(r)}:{},...i?{order:i}:{}}}function den(e,t){const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=e.fieldDef(t)?.bin,o=CFe(r)?r:void 0,s=px(i)&&eN(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function fen(e,t,n){if(!Es(n))return;const r=e.fieldDef(t),i=r.sort;if(LFe(i))return{op:"min",field:n_(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Ih(i)){const a=o&&!s.has(i.field);return A7(i,a)}else if(rKt(i)){const{encoding:a,order:l}=i,c=e.fieldDef(a),{aggregate:u,field:d}=c,f=o&&!s.has(d);if(eg(u)||G0(u))return A7({field:Mt(c),order:l},f);if(gte(u)||!u)return A7({op:u,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(ir(["ascending",void 0],i))return!0}}function obe(e,t){const{aggregate:n,type:r}=e;return n?jt(n)&&!$Gt.has(n)?{valid:!1,reason:MYt(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:AYt(e)}:{valid:!0}:{valid:!1,reason:RYt(e)}}function bG(e,t,n,r){return e.explicit&&t.explicit&&ft(jYt(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function pen(e){const t=Df(e.map(s=>{if(wh(s)){const{sort:a,...l}=s;return l}return s}),mr),n=Df(e.map(s=>{if(wh(s)){const a=s.sort;return a!==void 0&&!rR(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),mr);if(t.length===0)return;if(t.length===1){const s=e[0];if(wh(s)&&n.length>0){let a=n[0];if(n.length>1){ft(gve);const l=n.filter(c=>It(c)&&"op"in c&&c.op!=="min");n.every(c=>It(c)&&"op"in c)&&l.length===1?a=l[0]:a=!0}else if(It(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=Df(n.map(s=>rR(s)||!("op"in s)||jt(s.op)&&Ut(DGt,s.op)?s:(ft(FYt(s)),!0)),mr);let i;r.length===1?i=r[0]:r.length>1&&(ft(gve),i=!0);const o=Df(e.map(s=>wh(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function bne(e){if(wh(e)&&jt(e.field))return e.field;if(FGt(e)){let t;for(const n of e.fields)if(wh(n)&&jt(n.field)){if(!t)t=n.field;else if(t!==n.field)return ft(LYt),t}return ft(NYt),t}else if(LGt(e)){ft(zYt);const t=e.fields[0];return jt(t)?t:void 0}}function _N(e,t){const r=e.component.scales[t].get("domains").map(i=>(wh(i)&&(i.data=e.lookupDataSource(i.data)),i));return pen(r)}function jLe(e){return hC(e)||xne(e)?e.children.reduce((t,n)=>t.concat(jLe(n)),sbe(e)):sbe(e)}function sbe(e){return st(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:c,reverse:u,...d}=i,f=hen(i.range,o,n,e),p=_N(e,n),g=a?hQt(e,a,r,p):null;return t.push({name:o,type:s,...p?{domain:p}:{},...g?{domainRaw:g}:{},range:f,...u!==void 0?{reverse:u}:{},...d}),t},[])}function hen(e,t,n,r){if(Mo(n)){if(hx(e))return{step:{signal:`${t}_step`}}}else if(It(e)&&wh(e))return{...e,data:r.lookupDataSource(e.data)};return e}class $Le extends yg{merged=!1;constructor(t,n){super({},{name:t}),this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(ir([Ns.LOG,Ns.TIME,Ns.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&ir([Ns.LINEAR,Ns.SQRT,Ns.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(Je(a)){const l=a[0],c=a[a.length-1];if(Or(l)&&Or(c))if(l<=0&&c>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const gen=["range","scheme"];function men(e){const t=e.component.scales;for(const n of hte){const r=t[n];if(!r)continue;const i=yen(n,e);r.setWithExplicit("range",i)}}function abe(e,t){const n=e.fieldDef(t);if(n?.bin){const{bin:r,field:i}=n,o=Nl(t),s=e.getName(o);if(It(r)&&r.binned&&r.step!==void 0)return new gs(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Ei(r)){const a=gne(e,i,r);return new gs(()=>{const l=e.getSignalName(a),c=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${c})`})}}}function yen(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const d of gen)if(n[d]!==void 0){const f=Jq(o,d),p=kFe(e,d);if(!f)ft(oFe(o,d,e));else if(p)ft(p);else switch(d){case"range":{const g=n.range;if(Je(g)){if(Mo(e))return vf(g.map(y=>{if(y==="width"||y==="height"){const v=t.getName(y),x=t.getSignalName.bind(t);return gs.fromName(x,v)}return y}))}else if(It(g))return vf({data:t.requestDataName(to.Main),field:g.field,sort:{op:"min",field:t.vgField(e)}});return vf(g)}case"scheme":return vf(ven(n[d]))}}const s=e===Vi||e==="xOffset"?"width":"height",a=r[s];if(ap(a)){if(Mo(e))if(Es(o)){const d=LLe(a,t,e);if(d)return vf({step:d})}else ft(sFe(s));else if(cA(e)){const d=e===B0?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const g=NLe(a,o);if(g)return vf(g)}}}const{rangeMin:l,rangeMax:c}=n,u=ben(e,t);return(l!==void 0||c!==void 0)&&Jq(o,"rangeMin")&&Je(u)&&u.length===2?vf([l??u[0],c??u[1]]):tc(u)}function ven(e){return kXt(e)?{scheme:e.name,..._c(e,["name"])}:{scheme:e}}function FLe(e,t,n,{center:r}={}){const i=Nl(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===As&&$d(n)?r?[gs.fromName(a=>`${s(a)}/2`,o),gs.fromName(a=>`-${s(a)}/2`,o)]:[gs.fromName(s,o),0]:r?[gs.fromName(a=>`-${s(a)}/2`,o),gs.fromName(a=>`${s(a)}/2`,o)]:[0,gs.fromName(s,o)]}function ben(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=rs(o[e]),l=t.getScaleComponent(e).get("type"),{domain:c,domainMid:u}=t.specifiedScales[e];switch(e){case Vi:case As:{if(ir(["point","band"],l)){const d=zLe(e,n,r.view);if(ap(d))return{step:LLe(d,t,e)}}return FLe(e,t,l)}case B0:case lC:return xen(e,t,l);case pg:{const d=_en(i,r),f=Cen(i,n,t,r);return XS(l)?Sen(d,f,wen(l,r,c,e)):[d,f]}case Vu:return[0,Math.PI*2];case dx:return[0,360];case Kd:return[0,new gs(()=>{const d=t.getSignalName(Cc(t.parent)?"child_width":"width"),f=t.getSignalName(Cc(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case U0:return{step:1e3/r.scale.framesPerSecond};case W0:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case q0:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Ll:return"symbol";case Fl:case bp:case xp:return l==="ordinal"?s==="nominal"?"category":"ordinal":u!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case hg:case V0:case H0:return[r.scale.minOpacity,r.scale.maxOpacity]}}function LLe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=ute(n),s=r[o];if(v4e({step:e,offsetIsDiscrete:In(s)&&Ate(s.type)})==="offset"&&QFe(r,o)){const l=t.getScaleComponent(o);let u=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,p=l.get("paddingOuter")??l.get("padding")??0;u=`bandspace(${u}, ${f}, ${p})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${u} / (1-${VGt(d)})`}}else return e.step}function NLe(e,t){if(v4e({step:e,offsetIsDiscrete:Es(t)})==="offset")return{step:e.step}}function xen(e,t,n){const r=e===B0?"x":"y",i=t.getScaleComponent(r);if(!i)return FLe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const c=zLe(r,t.size,t.config.view);if(ap(c)){const u=NLe(c,n);if(u)return u}return[0,{signal:`bandwidth('${s}')`}]}else{const c=t.encoding[r];if(dt(c)&&c.timeUnit){const u=mFe(c.timeUnit,g=>`scale('${s}', ${g})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=b0({fieldDef:c,markDef:a,config:l})-.5,p=f!==0?` + ${f}`:"";if(d){const g=rn(d)?`${d.signal}/2${p}`:`${d/2+f}`,y=rn(d)?`(1 - ${d.signal}/2)${p}`:`${1-d/2+f}`;return[{signal:`${g} * (${u})`},{signal:`${y} * (${u})`}]}return[0,{signal:u}]}return E3e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function zLe(e,t,n){const r=e===Vi?"width":"height",i=t[r];return i!==void 0?i:w3(n,r)}function wen(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Je(n)?n.length+1:(ft(XYt(r)),3)}}function Sen(e,t,n){const r=()=>{const i=wd(t),o=wd(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return rn(t)?new gs(r):{signal:r()}}function _en(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(tN("size",e))}const lbe=.95;function Cen(e,t,n,r){const i={x:abe(n,"x"),y:abe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=cbe(t,i,r.view);return Or(o)?o-1:new gs(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=cbe(t,i,r.view);return Or(o)?Math.pow(lbe*o,2):new gs(()=>`pow(${lbe} * ${o.signal}, 2)`)}}throw new Error(tN("size",e))}function cbe(e,t,n){const r=ap(e.width)?e.width.step:rG(n,"width"),i=ap(e.height)?e.height.step:rG(n,"height");return t.x||t.y?new gs(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function BLe(e,t){Ji(e)?ken(e,t):VLe(e,t)}function ken(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of st(n)){const l=s[a],c=n[a],u=e.getScaleComponent(a),d=rs(i[a]),f=l[t],p=u.get("type"),g=u.get("padding"),y=u.get("paddingInner"),v=Jq(p,t),x=kFe(a,t);if(f!==void 0&&(v?x&&ft(x):ft(oFe(p,t,a))),v&&x===void 0)if(f!==void 0){const w=d.timeUnit,S=d.type;switch(t){case"domainMax":case"domainMin":gx(l[t])||S==="temporal"||w?c.set(t,{signal:fN(l[t],{type:S,timeUnit:w})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const w=lt(ube,t)?ube[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:p,scalePadding:g,scalePaddingInner:y,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:JFe(i,a),hasSecondaryRangeChannel:!!i[wp(a)]}):r.scale[t];w!==void 0&&c.set(t,w,!1)}}}const ube={bins:({model:e,fieldOrDatumDef:t})=>dt(t)?Een(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Ten(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>Ren(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Men(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>Aen(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>Pen(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=dt(e)?e.sort:void 0;return Den(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>Oen(e,t,n,r,i,o.scale,s)};function ULe(e){Ji(e)?men(e):VLe(e,"range")}function VLe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?ULe(r):BLe(r,t);for(const r of st(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=x0(i,a,t,"scale",D4e((l,c)=>{switch(t){case"range":return l.step&&c.step?l.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function Een(e,t){const n=t.bin;if(Ei(n)){const r=gne(e,t.field,n);return new gs(()=>e.getSignalName(r))}else if($s(n)&&px(n)&&n.step!==void 0)return{step:n.step}}function Ten(e,t){if(ir([Fl,bp,xp],e)&&t!=="nominal")return"hcl"}function Ren(e,t,n,r,i,o){if(!(Ld(o)?.bin||Je(n)||i!=null||r!=null||ir([Ns.TIME,Ns.UTC],e)))return Mo(t)?!0:void 0}function Men(e,t,n,r,i,o){if(Mo(e)){if(Of(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(dt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Ns.POINT)return n.pointPadding}}function Aen(e,t,n,r,i,o=!1){if(e===void 0){if(Mo(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:u}=i;return o?u:Ro(s,n==="bar"?a:n==="tick"?c:l)}else if(cA(t)&&r===Ns.BAND)return i.offsetBandPaddingInner}}function Pen(e,t,n,r,i,o=!1){if(e===void 0){if(Mo(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Ns.BAND)return Ro(s,rn(r)?{signal:`${r.signal}/2`}:r/2)}else if(cA(t)){if(n===Ns.POINT)return .5;if(n===Ns.BAND)return i.offsetBandPaddingOuter}}}function Den(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return $d(e)&&t==="descending"?rn(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if($d(e)&&t==="descending")return!0}function Oen(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&$d(i)){if(Je(n)){const l=n[0],c=n[n.length-1];if(Or(l)&&l<=0&&Or(c)&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!XS(i))return!0;if(!(dt(t)&&t.bin)&&ir([...gg,..._Gt],e)){const{orient:l,type:c}=r;return ir(["bar","area","line","trail"],c)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:ir(["bar","area"],c)&&!s?!0:o?.zero}return!1}function Ien(e,t,n,r,i=!1){const o=jen(t,n,r,i),{type:s}=e;return Sp(t)?s!==void 0?DXt(t,s)?dt(n)&&!PXt(s,n.type)?(ft(OYt(s,o)),o):s:(ft(DYt(t,s,o)),o):o:null}function jen(e,t,n,r){switch(t.type){case"nominal":case"ordinal":{if($w(e)||v7(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&ft(b7(e,"ordinal")),"ordinal";if(y7(e))return"band";if(Mo(e)||cA(e)){if(ir(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in pte)return"band";const i=n[Nl(e)];return Tb(i)||ZS(t)&&t.axis?.tickBand?"band":"point"}case"temporal":return $w(e)?"time":v7(e)==="discrete"?(ft(b7(e,"temporal")),"ordinal"):dt(t)&&t.timeUnit&&Ss(t.timeUnit).utc?"utc":y7(e)?"band":"time";case"quantitative":return $w(e)?dt(t)&&Ei(t.bin)?"bin-ordinal":"linear":v7(e)==="discrete"?(ft(b7(e,"quantitative")),"ordinal"):y7(e)?"band":"linear";case"geojson":return}throw new Error(rFe(t.type))}function $en(e,{ignoreRange:t}={}){HLe(e),ILe(e);for(const n of AXt)BLe(e,n);t||ULe(e)}function HLe(e){Ji(e)?e.component.scales=Fen(e):e.component.scales=Nen(e)}function Fen(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of hte){const s=rs(t[o]);if(s&&n===RFe&&o===Ll&&s.type===cC)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??={};const l=JFe(t,o),c=Ien(a,o,s,r,l);i[o]=new $Le(e.scaleName(`${o}`,!0),{value:c,explicit:a.type===c})}}return i}const Len=D4e((e,t)=>yve(e)-yve(t));function Nen(e){const t=e.component.scales={},n={},r=e.component.resolve;for(const i of e.children){HLe(i);for(const o of st(i.component.scales))if(r.scale[o]??=wLe(o,e),r.scale[o]==="shared"){const s=n[o],a=i.component.scales[o].getWithExplicit("type");s?xXt(s.value,a.value)?n[o]=x0(s,a,"type","scale",Len):(r.scale[o]="independent",delete n[o]):n[o]=a}}for(const i of st(n)){const o=e.scaleName(i,!0),s=n[i];t[i]=new $Le(o,s);for(const a of e.children){const l=a.component.scales[i];l&&(a.renameScale(l.get("name"),o),l.merged=!0)}}return t}class P7{nameMap;constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Ji(e){return e?.type==="unit"}function Cc(e){return e?.type==="facet"}function xne(e){return e?.type==="concat"}function hC(e){return e?.type==="layer"}class wne{type;parent;config;name;size;title;description;data;transforms;layout;scaleNameMap;projectionNameMap;signalNameMap;component;view;constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=Ls(a),this.name=t.name??i,this.title=lm(t.title)?{text:t.title}:t.title?Ls(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new P7,this.projectionNameMap=r?r.projectionNameMap:new P7,this.signalNameMap=r?r.signalNameMap:new P7,this.data=t.data,this.description=t.description,this.transforms=WZt(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:XKt(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:cN(t)||r?.component.data.isFaceted&&t.data===void 0},layoutSize:new yg,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Rn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){$en(this)}parseProjection(){PLe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){ELe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of st(r)){const s=r[o];s!==void 0&&(i[o]=Pi(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Pi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:bi(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=sJt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of mu)t[r].title&&n.push(eJt(this,r));for(const r of dne)n=n.concat(tJt(this,r));return n}assembleAxes(){return BQt(this.component.axes,this.config)}assembleLegends(){return RLe(this)}assembleProjections(){return MJt(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...Y3e(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return ir(["unit","layer"],this.type)?ir(["middle",void 0],r.anchor)&&(r.frame??="group"):r.anchor??="start",bi(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Cc(this.parent)?jLe(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Ui((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(to[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Cc(this.parent)){const n=bLe(t),r=QL(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(Es(o)&&hx(s)){const a=i.get("name"),l=_N(this,r),c=bne(l);if(c){const u=Mt({aggregate:"distinct",field:c},{expr:"datum"});return{signal:vLe(a,i,u)}}else return ft(yte(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(z3e(t)&&Sp(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(YGt(n));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class WLe extends wne{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Mt(r,n)}reduceFieldDef(t,n){return CKt(this.getMapping(),(r,i,o)=>{const s=Ld(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){qte(this.getMapping(),(r,i)=>{const o=Ld(r);o&&t(o,i)},n)}}class CN extends oi{transform;clone(){return new CN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Rn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${mr(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class kN extends oi{transform;clone(){return new kN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Rn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${mr(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class EN extends oi{transform;clone(){return new EN(this.parent,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Rn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${mr(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class TN extends oi{transform;clone(){return new TN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Rn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${mr(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Nw extends oi{fields;geojson;signal;clone(){return new Nw(null,Rn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Qd,Zd],[Lu,Jd]]){const o=i.map(s=>{const a=rs(n.encoding[s]);return dt(a)?a.field:_p(a)?{expr:`${a.datum}`}:Fd(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new Nw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Ll)){const i=n.typedFieldDef(Ll);i.type===cC&&(t=new Nw(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(jt);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${mr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class aR extends oi{projection;fields;as;clone(){return new aR(null,this.projection,Rn(this.fields),Rn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Qd,Zd],[Lu,Jd]]){const i=r.map(s=>{const a=rs(n.encoding[s]);return dt(a)?a.field:_p(a)?{expr:`${a.datum}`}:Fd(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Lu?"2":"";(i[0]||i[1])&&(t=new aR(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(jt))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${mr(this.fields)} ${mr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Uv extends oi{transform;clone(){return new Uv(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Uv(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(dt(i)&&dt(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:c,frame:u,keyvals:d}=s.impute,f=n4e(n.mark,r);return new Uv(t,{impute:s.field,key:a.field,...l?{method:l}:{},...c!==void 0?{value:c}:{},...u?{frame:u}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${mr(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:EZt(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const c={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},u={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,c,u]}else return[l]}}class RN extends oi{transform;clone(){return new RN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Rn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${mr(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class lR extends oi{transform;secondary;clone(){return new lR(null,Rn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(TZt(s)){let l=YLe(s.data,o);l||(l=new Pb(s.data),o.push(l));const c=n.getName(`lookup_${i}`);a=new Al(l,c,to.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[c]=a}else if(RZt(s)){const l=s.param;r={as:l,...r};let c;try{c=n.getSelectionComponent(Ui(l),l)}catch{throw new Error(QGt(l))}if(a=c.materialized,!a)throw new Error(JGt(l))}return new lR(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Ft(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${mr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Ft(this.transform.as)}:{}};else{let n=this.transform.as;jt(n)||(ft(uYt),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class MN extends oi{transform;clone(){return new MN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Rn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${mr(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class AN extends oi{transform;clone(){return new AN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Rn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${mr(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class PN extends oi{transform;clone(){return new PN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Df((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${mr(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class DN extends oi{transform;clone(){return new DN(null,Rn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${mr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function qLe(e){let t=0;function n(r,i){if(r instanceof Pb&&!r.isGenerator&&!JS(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof fa&&(r.parent instanceof Pb&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof fC){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof bA||r instanceof xA||r instanceof i_||r instanceof dC||r instanceof t_||r instanceof aR||r instanceof Pd||r instanceof lR||r instanceof pC||r instanceof bx||r instanceof TN||r instanceof EN||r instanceof CN||r instanceof RN||r instanceof MN||r instanceof AN||r instanceof w0||r instanceof DN||r instanceof PN||r instanceof kN)&&i.transform.push(r.assemble()),(r instanceof qf||r instanceof Hf||r instanceof Uv||r instanceof $h||r instanceof Nw)&&i.transform.push(...r.assemble()),r instanceof Al&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Al?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Al&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function zen(e){const t=[],n=qLe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function Ben(e,t){const n=[],r=qLe(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function Uen(e){return e==="top"||e==="left"||rn(e)?"header":"footer"}function Ven(e){for(const t of mu)Hen(e,t);dbe(e,"x"),dbe(e,"y")}function Hen(e,t){const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const s=n[t],a=r_("title",null,r,t);let l=Fw(s,r,{allowDisabling:!0,includeDefault:a===void 0||!!a});i.component.layoutHeaders[t].title&&(l=Je(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=r_("labelOrient",s.header,r,t),u=s.header!==null?Ro(s.header?.labels,r.header.labels,!0):!1,d=ir(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?l:null,facetFieldDef:s,[d]:t==="facet"?[]:[GLe(e,t,u)]}}}function GLe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function dbe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=hne(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=Uen(a.get("orient"));s[l]??=[GLe(e,o,!1)];const c=iE(a,"main",e.config,{header:!0});c&&s[l][0].axes.push(c),a.mainExtracted=!0}}}}function Wen(e){Sne(e),k3(e,"width"),k3(e,"height")}function qen(e){Sne(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";k3(e,t),k3(e,n)}function Sne(e){for(const t of e.children)t.parseLayoutSize()}function k3(e,t){const n=bLe(t),r=QL(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),c=i.scale[r]??wLe(r,e);if(c==="independent"&&l.value==="step"){s=void 0;break}if(s){if(c==="independent"&&s.value!==l.value){s=void 0;break}s=x0(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function Gen(e){const{size:t,component:n}=e;for(const r of gg){const i=Nl(r);if(t[i]!=null&&t[i]!=null){const o=t[i];n.layoutSize.set(i,ap(o)?"step":o,!0)}else{const o=Yen(e,i);n.layoutSize.set(i,o,!1)}}}function Yen(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(Es(o)){const a=w3(r.view,t);return hx(s)||ap(a)?"step":a}else return nG(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return nG(r.view,t);{const o=w3(r.view,t);return ap(o)?o.step:o}}}function xG(e,t,n){return Mt(t,{suffix:`by_${Mt(e)}`,...n})}class UE extends WLe{facet;child;children;constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Tne(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!pA(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=st(t),r={};for(const i of n){if(![Dh,Oh].includes(i)){ft(tN(i,"facet"));break}const o=t[i];if(o.field===void 0){ft(Zq(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=Wte(t,n);return r.header?r.header=Ls(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return lt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=ON(this),this.child.parseData()}parseLayoutSize(){Sne(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Ho(this.component.selection).some(t=>Wf(t))&&bte(vte)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),Ven(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of mu)for(const r of fne){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=r_("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=wN(n,a);t.titleAnchor??={},t.titleAnchor[l]="end"}}if(o?.[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??={},t[l][n]=.5),i.title&&(t.offset??={},t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof UE))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof UE?{...this.channelHasField("column")?{encode:{update:{columns:{field:Mt(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof UE){if(this.child.channelHasField("column")){const i=Mt(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of gg){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(Es(s)&&hx(a)){const l=_N(this.child,i),c=bne(l);c?(t.push(c),n.push("distinct"),r.push(`distinct_${c}`)):ft(yte(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const u of mu){const d=this.facet[u];if(d){l.push(Mt(d));const{bin:f,sort:p}=d;if(Ei(f)&&l.push(Mt(d,{binSuffix:"end"})),Ih(p)){const{field:g,op:y=lN}=p,v=xG(d,p);r&&i?(o.push(v),s.push("max"),a.push(v)):(o.push(g),s.push(y),a.push(v))}else if(Je(p)){const g=n_(d,u);o.push(g),s.push("max"),a.push(g)}}}const c=!!r&&!!i;return{name:t,data:n,groupby:l,...c||o.length>0?{aggregate:{...c?{cross:c}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Ih(r.sort)?[xG(r,r.sort,{expr:"datum"})]:Je(r.sort)?[n_(r,t,{expr:"datum"})]:[Mt(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Ih(i)?i.order:!Je(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return pG(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const i of dne)if(t[i]){const o=r_("labelOrient",t[i]?.header,n,i);if(r[i].includes(o))return pG(t[i],i,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=zen(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:mu.map(l=>this.facetSortFields(l)).flat(),order:mu.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(uQt(this,[]))}]}getMapping(){return this.facet}}function Xen(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(Ih(o.sort)){const{field:s,op:a=lN}=o.sort;e=i=new bx(e,{joinaggregate:[{op:a,field:s,as:xG(o,o.sort,{forAs:!0})}],groupby:[Mt(o)]})}return i}return null}function YLe(e,t){for(const n of t){const r=n.data;if(e.name&&n.hasName()&&e.name!==n.dataName)continue;const i=e.format?.mesh,o=r.format?.feature;if(i&&o)continue;const s=e.format?.feature;if((s||o)&&s!==o)continue;const a=r.format?.mesh;if(!((i||a)&&i!==a)){if(sR(e)&&sR(r)){if(gc(e.values,r.values))return n}else if(JS(e)&&JS(r)){if(e.url===r.url)return n}else if(O4e(e)&&e.name===n.dataName)return n}}return null}function Ken(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Pb({values:[]});return t.push(r),r}const n=YLe(e.data,t);if(n)return Wm(e.data)||(n.data.format=T3e({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Pb(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Zen(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(LZt(i))s=e=new t_(e,i),o="derived";else if(rne(i)){const a=UJt(i);s=e=fa.makeWithAncestors(e,{},a,n)??e,e=new dC(e,t,i.filter)}else if(R4e(i))s=e=qf.makeFromTransform(e,i,t),o="number";else if(zZt(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new fa(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=Hf.makeFromTransform(e,i);else if(BZt(i))s=e=Pd.makeFromTransform(e,i),o="number",une(t)&&(e=new w0(e));else if(T4e(i))s=e=lR.make(e,t,i,r++),o="derived";else if(jZt(i))s=e=new pC(e,i),o="number";else if($Zt(i))s=e=new bx(e,i),o="number";else if(UZt(i))s=e=$h.makeFromTransform(e,i),o="derived";else if(VZt(i))s=e=new TN(e,i),o="derived";else if(HZt(i))s=e=new kN(e,i),o="derived";else if(FZt(i))s=e=new EN(e,i),o="derived";else if(MZt(i))s=e=new PN(e,i),o="derived";else if(IZt(i))e=new DN(e,i);else if(NZt(i))s=e=Uv.makeFromTransform(e,i),o="derived";else if(AZt(i))s=e=new CN(e,i),o="derived";else if(PZt(i))s=e=new MN(e,i),o="derived";else if(DZt(i))s=e=new AN(e,i),o="derived";else if(OZt(i))s=e=new RN(e,i),o="derived";else{ft(cYt(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function ON(e){let t=Ken(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(Wm(i)||JS(i)||sR(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new nQt;Wm(i)?(I4e(i)?t=new xA(t,i.sequence):ine(i)&&(t=new bA(t,i.graticule)),s.parseNothing=!0):i?.format?.parse===null&&(s.parseNothing=!0),t=fa.makeExplicit(t,e,s)??t,t=new w0(t);const a=e.parent&&hC(e.parent);(Ji(e)||Cc(e))&&a&&(t=qf.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=Zen(t,e,s));const l=HJt(e),c=VJt(e);t=fa.makeWithAncestors(t,{},{...l,...c},s)??t,Ji(e)&&(t=Nw.parseAll(t,e),t=aR.parseAll(t,e)),(Ji(e)||Cc(e))&&(a||(t=qf.makeFromEncoding(t,e)??t),t=Hf.makeFromEncoding(t,e)??t,t=t_.parseAllForSortIndex(t,e));const u=t=PO(to.Raw,e,t);if(Ji(e)){const v=Pd.makeFromEncoding(t,e);v&&(t=v,une(e)&&(t=new w0(t))),t=Uv.makeFromEncoding(t,e)??t,t=$h.makeFromEncoding(t,e)??t}let d,f;if(Ji(e)){const{markDef:v,mark:x,config:w}=e,S=Gr("invalid",v,w),{marks:C,scales:k}=f=$4e({invalid:S,isPath:Y0(x)});C!==k&&k==="include-invalid-values"&&(d=t=PO(to.PreFilterInvalid,e,t)),C==="exclude-invalid-values"&&(t=i_.make(t,e,f)??t)}const p=t=PO(to.Main,e,t);let g;if(Ji(e)&&f){const{marks:v,scales:x}=f;v==="include-invalid-values"&&x==="exclude-invalid-values"&&(t=i_.make(t,e,f)??t,g=t=PO(to.PostFilterInvalid,e,t))}Ji(e)&&NQt(e,p);let y=null;if(Cc(e)){const v=e.getName("facet");t=Xen(t,e.facet)??t,y=new fC(t,e,v,p.getSource()),n[v]=y}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:u,main:p,facetRoot:y,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:g}}function PO(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new Al(n,o,e,i);return r[o]=s,s}class Qen extends wne{children;constructor(t,n,r,i){super(t,"concat",n,r,i,t.resolve),(t.resolve?.axis?.x==="shared"||t.resolve?.axis?.y==="shared")&&ft(sYt),this.children=this.getChildren(t).map((o,s)=>Tne(o,this,this.getName(`concat_${s}`),void 0,i))}parseData(){this.component.data=ON(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of st(t.component.selection))this.component.selection[n]=t.component.selection[n]}Ho(this.component.selection).some(t=>Wf(t))&&bte(vte)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return gN(t)?t.vconcat:tne(t)?t.hconcat:t.concat}parseLayoutSize(){qen(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=pne(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function Jen(e){return e===!1||e===null}const etn={disable:1,gridScale:1,scale:1,...KFe,labelExpr:1,encode:1},XLe=st(etn);class _ne extends yg{explicit;implicit;mainExtracted;constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new _ne(Rn(this.explicit),Rn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!Jen(this.get(t))}hasOrientSignalRef(){return rn(this.explicit.orient)}}function ttn(e,t,n){const{encoding:r,config:i}=e,o=rs(r[t])??rs(r[wp(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Rb(l))return{text:Sd({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(KS(o)==="quantitative"){if(ZS(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Sd({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Sd({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(KS(o)==="temporal"&&i.timeFormatType&&dt(o)&&!o.timeUnit)return{text:Sd({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function ntn(e){return gg.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[ctn(n,e)]),t),{})}const rtn={bottom:"top",top:"bottom",left:"right",right:"left"};function itn(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of st(i.component.axes))n.axis[o]=hne(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=otn(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of gg){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!rn(a)){if(r[a]>0&&!l){const c=rtn[a];r[a]>r[c]&&s.set("orient",c,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function otn(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=stn(i,o)}}}else return t.map(n=>n.clone());return e}function stn(e,t){for(const n of XLe){const r=x0(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return tFe(i,o);case"gridScale":return{explicit:i.explicit,value:Ro(i.value,o.value)}}return yN(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function atn(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(rn(n.labelAngle)?n.labelAngle:iR(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===hLe(r,i))return!0}return e===n[t]}const ltn=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function ctn(e,t){let n=t.axis(e);const r=new _ne,i=rs(t.encoding[e]),{mark:o,config:s}=t,a=n?.orient||s[e==="x"?"axisX":"axisY"]?.orient||s.axis?.orient||XQt(e),l=t.getScaleComponent(e).get("type"),c=UQt(e,l,a,t.config),u=n!==void 0?!n:dG("disable",s.style,n?.style,c).configValue;if(r.set("disable",u,n!==void 0),u)return r;n=n||{};const d=qQt(i,n,e,s.style,c),f=$Fe(n.formatType,i,l),p=jFe(i,i.type,n.format,n.formatType,s,!0),g={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:p,formatType:f,mark:o,config:s};for(const x of XLe){const w=x in Zve?Zve[x](g):Cve(x)?n[x]:void 0,S=w!==void 0,C=atn(w,x,n,t,e);if(S&&C)r.set(x,w,C);else{const{configValue:k=void 0,configFrom:T=void 0}=Cve(x)&&x!=="values"?dG(x,s.style,n.style,c):{},E=k!==void 0;S&&!E?r.set(x,w,C):(T!=="vgAxisConfig"||ltn.has(x)&&E||yA(k)||rn(k))&&r.set(x,k,!1)}}const y=n.encoding??{},v=XFe.reduce((x,w)=>{if(!r.hasAxisPart(w))return x;const S=xLe(y[w]??{},t),C=w==="labels"?ttn(t,e,S):S;return C!==void 0&&!bi(C)&&(x[w]={update:C}),x},{});return bi(v)||r.set("encode",v,!!n.encoding||n.labelAngle!==void 0),r}function utn({encoding:e,size:t}){for(const n of gg){const r=Nl(n);ap(t[r])&&Rm(e[n])&&(delete t[r],ft(sFe(r)))}return t}const dtn={vgMark:"arc",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...qa("x",e,{defaultPos:"mid"}),...qa("y",e,{defaultPos:"mid"}),...tg(e,"radius"),...tg(e,"theta")})},ftn={vgMark:"area",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...S3("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...S3("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...cne(e)})},ptn={vgMark:"rect",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...tg(e,"x"),...tg(e,"y")})},htn={vgMark:"shape",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&dt(n)&&n.type===cC?{field:Mt(n,{expr:"datum"})}:{}}]}},gtn={vgMark:"image",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...tg(e,"x"),...tg(e,"y"),...sne(e,"url")})},mtn={vgMark:"line",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...qa("x",e,{defaultPos:"mid"}),...qa("y",e,{defaultPos:"mid"}),...zs("size",e,{vgChannel:"strokeWidth"}),...cne(e)})},ytn={vgMark:"trail",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...qa("x",e,{defaultPos:"mid"}),...qa("y",e,{defaultPos:"mid"}),...zs("size",e),...cne(e)})};function Cne(e,t){const{config:n}=e;return{...Hu(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...qa("x",e,{defaultPos:"mid"}),...qa("y",e,{defaultPos:"mid"}),...zs("size",e),...zs("angle",e),...vtn(e,n,t)}}function vtn(e,t,n){return n?{shape:{value:n}}:zs("shape",e)}const btn={vgMark:"symbol",encodeEntry:e=>Cne(e)},xtn={vgMark:"symbol",encodeEntry:e=>Cne(e,"circle")},wtn={vgMark:"symbol",encodeEntry:e=>Cne(e,"square")},Stn={vgMark:"rect",encodeEntry:e=>({...Hu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...tg(e,"x"),...tg(e,"y")})},_tn={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Hu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...S3("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...S3("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...zs("size",e,{vgChannel:"strokeWidth"})}}},Ctn={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Hu(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...qa("x",e,{defaultPos:"mid"}),...qa("y",e,{defaultPos:"mid"}),...sne(e),...zs("size",e,{vgChannel:"fontSize"}),...zs("angle",e),...Gve("align",ktn(e.markDef,n,t)),...Gve("baseline",Etn(e.markDef,n,t)),...qa("radius",e,{defaultPos:null}),...qa("theta",e,{defaultPos:null})}}};function ktn(e,t,n){if(Gr("align",e,n)===void 0)return"center"}function Etn(e,t,n){if(Gr("baseline",e,n)===void 0)return"middle"}const Ttn={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Hu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...tg(e,i),...qa(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:Pi(Gr("thickness",n,t))}}},DO={arc:dtn,area:ftn,bar:ptn,circle:xtn,geoshape:htn,image:gtn,line:mtn,point:btn,rect:Stn,rule:_tn,square:wtn,text:Ctn,tick:Ttn,trail:ytn};function Rtn(e){if(ir([sN,iN,$Xt],e.mark)){const t=n4e(e.mark,e.encoding);if(t.length>0)return Mtn(e,t)}else if(e.mark===oN){const t=Xq.some(n=>Gr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return Atn(e)}return kne(e)}const fbe="faceted_path_";function Mtn(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:fbe+e.requestDataName(to.Main),data:e.requestDataName(to.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:kne(e,{fromPrefix:fbe})}]}const pbe="stack_group_";function Atn(e){const[t]=kne(e,{fromPrefix:pbe}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,u)=>{const d=[r({prefix:"min",suffix:"start",expr:u}),r({prefix:"max",suffix:"start",expr:u}),r({prefix:"min",suffix:"end",expr:u}),r({prefix:"max",suffix:"end",expr:u})];return`${c}(${d.map(f=>`scale('${n}',${f})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...HS(t.encode.update,["y","yc","y2","height",...Xq]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={..._c(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...HS(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={..._c(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of Xq){const u=op(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):u&&(o[c]=Pi(u)),u&&(t.encode.update[c]={value:0})}const a=[];if(e.stack.groupbyChannels?.length>0)for(const c of e.stack.groupbyChannels){const u=e.fieldDef(c),d=Mt(u);d&&a.push(d),(u?.bin||u?.timeUnit)&&a.push(Mt(u,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,u)=>{if(t.encode.update[u])return{...c,[u]:t.encode.update[u]};{const d=op(u,e.markDef,e.config);return d!==void 0?{...c,[u]:Pi(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(to.Main),name:pbe+e.requestDataName(to.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function Ptn(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Je(s)&&Fd(s)&&Gq(s.value)||!s&&Gq(Gr("order",i,o)))){if((Je(s)||dt(s))&&!n)return Q3e(s,{expr:"datum"});if(Y0(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(dt(l))return{field:a}}}}function kne(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=Ro(r.clip,Dtn(e),Otn(e)),a=K3e(r),l=i.key,c=Ptn(e),u=Itn(e);u&&Object.values(e.component.selection).some(p=>p.type==="point"&&!p.bind&&p.on!=="pointerover")&&(e.markDef.cursor??="pointer");const d=Gr("aria",r,o),f=DO[n].postEncodingTransform?DO[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:DO[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...c?{sort:c}:{},...u||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(to.Main)},encode:{update:DO[n].encodeEntry(e)},...f?{transform:f}:{}}]}function Dtn(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t?.get("selectionExtent")||n?.get("selectionExtent")?!0:void 0}function Otn(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function Itn(e){if(!e.component.selection)return null;const t=st(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=st(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class KLe extends WLe{markDef;encoding;specifiedScales={};stack;specifiedAxes={};specifiedLegends={};specifiedProjection={};selection=[];children=[];constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,Eve(t)?t.view:void 0);const s=sp(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=vZt(s,o,{graticule:t.data&&ine(t.data)}));const l=this.encoding=SKt(t.encoding||{},a,s.filled,o);this.markDef=_4e(s,l,o),this.size=utn({encoding:l,size:Eve(t)?{...i,...t.width!==void 0?{width:t.width}:{},...t.height!==void 0?{height:t.height}:{}}:i}),this.stack=S4e(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>Jte(c)),this.alignStackOrderWithColorDomain()}get hasProjection(){const{encoding:t}=this,n=this.mark===RFe,r=t&&hGt.some(i=>In(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return hte.reduce((r,i)=>{const o=rs(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Ls(t);return Je(n)&&(i.domain=n.map(fc)),Je(r)&&(i.range=r.map(fc)),i}initAxes(t){return gg.reduce((n,r)=>{const i=t[r];if(In(i)||r===Vi&&In(t.x2)||r===As&&In(t.y2)){const o=In(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=st(t),r={};for(const i of n){const o=t[i];r[i]=yA(o)?X3e(o):fc(o)}return r}initLegends(t){return kGt.reduce((n,r)=>{const i=rs(t[r]);if(i&&TGt(r)){const o=i.legend;n[r]=o&&Ls(o)}return n},{})}alignStackOrderWithColorDomain(){const{color:t,fill:n,order:r,xOffset:i,yOffset:o}=this.encoding,s=n||t,a=dt(s)?s:void 0,l=a?.field,c=a?.scale,u=a?.type,d=c?.domain,f=i||o,p=dt(f)?f:void 0,g=`_${l}_sort_index`;if(!r&&Array.isArray(d)&&typeof l=="string"&&u==="nominal")if(p&&!p.sort)p.sort=d;else{if(!this.stack)return;const y=`indexof(${yt(d)}, datum['${l}'])`,v=this.markDef?.orient==="horizontal"?"ascending":"descending";this.transforms.push({calculate:y,as:g}),this.encoding.order={field:g,type:"quantitative",sort:v}}}parseData(){this.component.data=ON(this)}parseLayoutSize(){Gen(this)}parseSelections(){this.component.selection=LQt(this,this.selection)}parseMarkGroup(){this.component.mark=Rtn(this)}parseAxesAndHeaders(){this.component.axes=ntn(this)}assembleSelectionTopLevelSignals(t){return dQt(this,t)}assembleSignals(){return[...dLe(this),...cQt(this,[])]}assembleSelectionData(t){return fQt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return pne(this)}correctDataNames=t=>(t.from?.data&&(t.from.data=this.lookupDataSource(t.from.data),"time"in this.encoding&&(t.from.data=t.from.data+L4e)),t.from?.facet?.data&&(t.from.facet.data=this.lookupDataSource(t.from.facet.data)),t);assembleMarks(){let t=this.component.mark??[];return(!this.parent||!hC(this.parent))&&(t=U4e(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return zv(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Ld(n)}typedFieldDef(t){const n=this.fieldDef(t);return Qa(n)?n:null}}class Ene extends wne{children;constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(mN(a))return new Ene(a,this,this.getName(`layer_${l}`),s,o);if(mg(a))return new KLe(a,this,this.getName(`layer_${l}`),s,o);throw new Error(mte(a))})}parseData(){this.component.data=ON(this);for(const t of this.children)t.parseData()}parseLayoutSize(){Wen(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of st(t.component.selection))this.component.selection[n]=t.component.selection[n]}Ho(this.component.selection).some(t=>Wf(t))&&bte(vte)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){itn(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),dLe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),pne(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Ft(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return pQt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),RLe(this))}}function Tne(e,t,n,r,i){if(cN(e))return new UE(e,t,n,i);if(mN(e))return new Ene(e,t,n,r,i);if(mg(e))return new KLe(e,t,n,r,i);if(qKt(e))return new Qen(e,t,n,i);throw new Error(mte(e))}function ZLe(e,t={}){t.logger&&KYt(t.logger),t.fieldTitle&&qFe(t.fieldTitle);try{const n=w4e(W_(t.config,e.config)),r=P4e(e,n),i=Tne(r,null,"",void 0,n);return i.parse(),oen(i.component.data,i),{spec:$tn(i,jtn(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&ZYt(),t.fieldTitle&&pKt()}}function jtn(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):jt(t)&&(t={type:t}),i&&o&&JZt(t.type)){if(i==="step"&&o==="step")ft(uve()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";ft(uve(QL(s)));const a=s==="width"?"height":"width";t.type=eQt(a)}}return{...st(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Lve(n,!1),...Lve(e,!0)}}function $tn(e,t,n={},r){const i=e.config?sZt(e.config):void 0,o=Ben(e.component.data,n),s=e.assembleSelectionData(o),a=e.assembleProjections(),l=e.assembleTitle(),c=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(g=>(g.name==="width"||g.name==="height")&&g.value!==void 0?(t[g.name]=+g.value,!1):!0);const{params:f,...p}=t;return{$schema:"https://vega.github.io/schema/vega/v6.json",...e.description?{description:e.description}:{},...p,...l?{title:l}:{},...c?{style:c}:{},...u?{encode:{update:u}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...y4e(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const Ftn=lGt.version,Ltn=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:qS,accessPathWithDatum:ste,accessWithDatumToUnescapedPath:ti,compile:ZLe,contains:ir,deepEqual:gc,deleteNestedProperty:f3,duplicate:Rn,entries:y0,every:rte,fieldIntersection:ote,flatAccessWithDatum:M3e,getFirstDefined:Ro,hasIntersection:ite,hasProperty:lt,hash:mr,internalField:O3e,isBoolean:rR,isEmpty:bi,isEqual:uGt,isInternalField:I3e,isNullOrFalse:Gq,isNumeric:qL,keys:st,logicalExpr:zE,mergeDeep:T3e,never:E3e,normalize:P4e,normalizeAngle:iR,omit:_c,pick:HS,prefixGenerator:Yq,removePathFromField:aC,replaceAll:Sb,replacePathInField:Fu,resetIdCounter:fGt,setEqual:R3e,some:WS,stringify:Xr,titleCase:sA,unescapeSingleQuoteAndPathDot:A3e,unique:Df,uniqueId:D3e,vals:Ho,varName:Ui,version:Ftn},Symbol.toStringTag,{value:"Module"}));function QLe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var Ntn="3.0.0",ztn={version:Ntn};const M1="#fff",hbe="#888",Btn={background:"#333",view:{stroke:hbe},title:{color:M1,subtitleColor:M1},style:{"guide-label":{fill:M1},"guide-title":{fill:M1}},axis:{domainColor:M1,gridColor:hbe,tickColor:M1}},Ry="#4572a7",Utn={background:"#fff",arc:{fill:Ry},area:{fill:Ry},line:{stroke:Ry,strokeWidth:2},path:{stroke:Ry},rect:{fill:Ry},shape:{stroke:Ry},symbol:{fill:Ry,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},My="#30a2da",D7="#cbcbcb",Vtn="#999",Htn="#333",gbe="#f0f0f0",mbe="#333",Wtn={arc:{fill:My},area:{fill:My},axis:{domainColor:D7,grid:!0,gridColor:D7,gridWidth:1,labelColor:Vtn,labelFontSize:10,titleColor:Htn,tickColor:D7,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:gbe,group:{fill:gbe},legend:{labelColor:mbe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:mbe,titleFontSize:14,titlePadding:10},line:{stroke:My,strokeWidth:2},path:{stroke:My,strokeWidth:.5},rect:{fill:My},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:My},bar:{binSpacing:2,fill:My,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Ay="#000",qtn={group:{fill:"#e5e5e5"},arc:{fill:Ay},area:{fill:Ay},line:{stroke:Ay},path:{stroke:Ay},rect:{fill:Ay},shape:{stroke:Ay},symbol:{fill:Ay,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Gtn=22,Ytn="normal",ybe="Benton Gothic, sans-serif",vbe=11.5,Xtn="normal",Py="#82c6df",O7="Benton Gothic Bold, sans-serif",bbe="normal",xbe=13,uk={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},Ktn={background:"#ffffff",title:{anchor:"start",color:"#000000",font:O7,fontSize:Gtn,fontWeight:Ytn},arc:{fill:Py},area:{fill:Py},line:{stroke:Py,strokeWidth:2},path:{stroke:Py},rect:{fill:Py},shape:{stroke:Py},symbol:{fill:Py,size:30},axis:{labelFont:ybe,labelFontSize:vbe,labelFontWeight:Xtn,titleFont:O7,titleFontSize:xbe,titleFontWeight:bbe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:ybe,labelFontSize:vbe,symbolType:"square",titleFont:O7,titleFontSize:xbe,titleFontWeight:bbe},range:{category:uk["category-6"],diverging:uk["fireandice-6"],heatmap:uk["fire-7"],ordinal:uk["fire-7"],ramp:uk["fire-7"]}},Dy="#ab5787",OO="#979797",Ztn={background:"#f9f9f9",arc:{fill:Dy},area:{fill:Dy},line:{stroke:Dy},path:{stroke:Dy},rect:{fill:Dy},shape:{stroke:Dy},symbol:{fill:Dy,size:30},axis:{domainColor:OO,domainWidth:.5,gridWidth:.2,labelColor:OO,tickColor:OO,tickWidth:.2,titleColor:OO},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Oy="#3e5c69",Qtn={background:"#fff",arc:{fill:Oy},area:{fill:Oy},line:{stroke:Oy},path:{stroke:Oy},rect:{fill:Oy},shape:{stroke:Oy},symbol:{fill:Oy},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Zc="#1696d2",wbe="#000000",Jtn="#FFFFFF",IO="Lato",I7="Lato",enn="Lato",tnn="#DEDDDD",nnn=18,dk={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},rnn={background:Jtn,title:{anchor:"start",fontSize:nnn,font:IO},axisX:{domain:!0,domainColor:wbe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:I7,labelAngle:0,tickColor:wbe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:IO},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:tnn,gridWidth:1,labelFontSize:12,labelFont:I7,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:IO,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:I7,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:IO,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:dk["six-groups-cat-1"],diverging:dk["diverging-colors"],heatmap:dk["diverging-colors"],ordinal:dk["six-groups-seq"],ramp:dk["shades-blue"]},area:{fill:Zc},rect:{fill:Zc},line:{color:Zc,stroke:Zc,strokeWidth:5},trail:{color:Zc,stroke:Zc,strokeWidth:0,size:1},path:{stroke:Zc,strokeWidth:.5},point:{filled:!0},text:{font:enn,color:Zc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Zc,stroke:null}},arc:{fill:Zc},shape:{stroke:Zc},symbol:{fill:Zc,size:30}},Iy="#3366CC",Sbe="#ccc",jO="Arial, sans-serif",inn={arc:{fill:Iy},area:{fill:Iy},path:{stroke:Iy},rect:{fill:Iy},shape:{stroke:Iy},symbol:{stroke:Iy},circle:{fill:Iy},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:jO,fontSize:12},"guide-title":{font:jO,fontSize:12},"group-title":{font:jO,fontSize:12}},title:{font:jO,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Sbe,tickColor:Sbe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Rne=e=>e*(1/3+1),_be=Rne(9),Cbe=Rne(10),kbe=Rne(12),fk="Segoe UI",Ebe="wf_standard-font, helvetica, arial, sans-serif",Tbe="#252423",pk="#605E5C",Rbe="transparent",onn="#C8C6C4",id="#118DFF",snn="#12239E",ann="#E66C37",lnn="#6B007B",cnn="#E044A7",unn="#744EC2",dnn="#D9B300",fnn="#D64550",JLe=id,eNe="#DEEFFF",Mbe=[eNe,JLe],pnn=[eNe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",JLe],hnn={view:{stroke:Rbe},background:Rbe,font:fk,header:{titleFont:Ebe,titleFontSize:kbe,titleColor:Tbe,labelFont:fk,labelFontSize:Cbe,labelColor:pk},axis:{ticks:!1,grid:!1,domain:!1,labelColor:pk,labelFontSize:_be,titleFont:Ebe,titleColor:Tbe,titleFontSize:kbe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:onn,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:id},line:{stroke:id,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:fk,fontSize:_be,fill:pk},arc:{fill:id},area:{fill:id,line:!0,opacity:.6},path:{stroke:id},rect:{fill:id},point:{fill:id,filled:!0,size:75},shape:{stroke:id},symbol:{fill:id,strokeWidth:1.5,size:50},legend:{titleFont:fk,titleFontWeight:"bold",titleColor:pk,labelFont:fk,labelFontSize:Cbe,labelColor:pk,symbolType:"circle",symbolSize:75},range:{category:[id,snn,ann,lnn,cnn,unn,dnn,fnn],diverging:Mbe,heatmap:Mbe,ordinal:pnn}},j7='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',gnn='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',$7=400,$O={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},mnn=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],ynn=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function IN({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=$O.gridBg[e],i=$O.textPrimary[e],o=$O.textSecondary[e],s=n==="dark"?mnn:ynn,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:j7,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:gnn,labelFontWeight:$7,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:$O.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:j7,fill:o,fontWeight:$7},"guide-title":{font:j7,fill:o,fontWeight:$7}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const vnn=IN({theme:"white",background:"#ffffff"}),bnn=IN({theme:"g10",background:"#f4f4f4"}),xnn=IN({theme:"g90",background:"#262626"}),wnn=IN({theme:"g100",background:"#161616"}),Snn=ztn.version,_nn=Object.freeze(Object.defineProperty({__proto__:null,carbong10:bnn,carbong100:wnn,carbong90:xnn,carbonwhite:vnn,dark:Btn,excel:Utn,fivethirtyeight:Wtn,ggplot2:qtn,googlecharts:inn,latimes:Ktn,powerbi:hnn,quartz:Ztn,urbaninstitute:rnn,version:Snn,vox:Qtn},Symbol.toStringTag,{value:"Module"}));function Cnn(e,t,n,r){if(Je(e))return`[${e.map(i=>t(jt(i)?i:Abe(i,n))).join(", ")}]`;if(It(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const c of l){let u=a[c];u!==void 0&&(It(u)&&(u=Abe(u,n)),i+=`<tr><td class="key">${t(c)}</td><td class="value">${t(u)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function knn(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function Abe(e,t){return JSON.stringify(e,knn(t))}var Enn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const tNe="vg-tooltip-element",Tnn={offsetX:10,offsetY:10,id:tNe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Rnn,maxDepth:2,formatTooltip:Cnn,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function Rnn(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Mnn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return Enn.toString().replaceAll(tNe,e)}function nNe(e,t,{offsetX:n,offsetY:r}){const i=rNe({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),o=["bottom-right","bottom-left","top-right","top-left"];for(const s of o)if(iNe(i[s],t))return i[s];return i["top-left"]}function Ann(e,t,n,r,i){const{position:o,offsetX:s,offsetY:a}=i,l=e._el.getBoundingClientRect(),c=e._origin,u=Pnn(l,c,n),d=rNe(u,r,s,a),f=Array.isArray(o)?o:[o];for(const p of f)if(iNe(d[p],r)&&!Dnn(t,d[p],r))return d[p];return nNe(t,r,i)}function Pnn(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,o=e.top+t[1]+r.y1,s=n;for(;s.mark.group;)s=s.mark.group,i+=s.x??0,o+=s.y??0;const a=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+a,y1:o,y2:o+l}}function rNe(e,t,n,r){const i=(e.x1+e.x2)/2,o=(e.y1+e.y2)/2,s=e.x1-t.width-n,a=i-t.width/2,l=e.x2+n,c=e.y1-t.height-r,u=o-t.height/2,d=e.y2+r;return{top:{x:a,y:c},bottom:{x:a,y:d},left:{x:s,y:u},right:{x:l,y:u},"top-left":{x:s,y:c},"top-right":{x:l,y:c},"bottom-left":{x:s,y:d},"bottom-right":{x:l,y:d}}}function iNe(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function Dnn(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class Onn{call;options;el;constructor(t){this.options={...Tnn,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Mnn(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=this.options.anchor==="mark"?Ann(t,n,r,this.el.getBoundingClientRect(),this.options):nNe(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var F7={};var Inn=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jnn=Object.prototype.hasOwnProperty;function wG(e,t){return jnn.call(e,t)}function SG(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)wG(e,i)&&r.push(i);return r}function mc(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function _G(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function qy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function oNe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function CG(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(CG(e[t]))return!0}else if(typeof e=="object"){for(var r=SG(e),i=r.length,o=0;o<i;o++)if(CG(e[r[o]]))return!0}}return!1}function Pbe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var sNe=(function(e){Inn(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,Pbe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=Pbe(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),fo=sNe,$nn=mc,fw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=E3(n,this.path);r&&(r=mc(r));var i=Vv(n,{op:"remove",path:this.from}).removed;return Vv(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=E3(n,this.from);return Vv(n,{op:"add",path:this.path,value:mc(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:cR(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Fnn={add:function(e,t,n){return _G(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:fw.move,copy:fw.copy,test:fw.test,_get:fw._get};function E3(e,t){if(t=="")return e;var n={op:"_get",path:t};return Vv(e,n),n.value}function Vv(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):T3(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=E3(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=cR(e,t.value),s.test===!1)throw new fo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new fo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=mc(e));var a=t.path||"",l=a.split("/"),c=e,u=1,d=l.length,f=void 0,p=void 0,g=void 0;for(typeof n=="function"?g=n:g=T3;;){if(p=l[u],p&&p.indexOf("~")!=-1&&(p=oNe(p)),i&&(p=="__proto__"||p=="prototype"&&u>0&&l[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(c[p]===void 0?f=l.slice(0,u).join("/"):u==d-1&&(f=t.path),f!==void 0&&g(t,0,e,f)),u++,Array.isArray(c)){if(p==="-")p=c.length;else{if(n&&!_G(p))throw new fo("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);_G(p)&&(p=~~p)}if(u>=d){if(n&&t.op==="add"&&p>c.length)throw new fo("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=Fnn[t.op].call(t,c,p,e);if(s.test===!1)throw new fo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(u>=d){var s=fw[t.op].call(t,c,p,e);if(s.test===!1)throw new fo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(c=c[p],n&&u<d&&(!c||typeof c!="object"))throw new fo("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function jN(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new fo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=mc(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Vv(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Lnn(e,t,n){var r=Vv(e,t);if(r.test===!1)throw new fo("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function T3(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new fo("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(fw[e.op]){if(typeof e.path!="string")throw new fo("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new fo('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new fo("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new fo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&CG(e.value))throw new fo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new fo("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new fo("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=aNe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new fo("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new fo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function aNe(e,t,n){try{if(!Array.isArray(e))throw new fo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)jN(mc(t),mc(e),n||!0);else{n=n||T3;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof fo)return i;throw i}}function cR(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!cR(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!cR(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var Nnn=Object.freeze({__proto__:null,JsonPatchError:fo,_areEquals:cR,applyOperation:Vv,applyPatch:jN,applyReducer:Lnn,deepClone:$nn,getValueByPointer:E3,validate:aNe,validator:T3});var Mne=new WeakMap,znn=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),Bnn=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function Unn(e){return Mne.get(e)}function Vnn(e,t){return e.observers.get(t)}function Hnn(e,t){e.observers.delete(t.callback)}function Wnn(e,t){t.unobserve()}function qnn(e,t){var n=[],r,i=Unn(e);if(!i)i=new znn(e),Mne.set(e,i);else{var o=Vnn(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=mc(e),t){r.callback=t,r.next=null;var s=function(){kG(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){kG(r),clearTimeout(r.next),Hnn(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Bnn(t,r)),r}function kG(e,t){t===void 0&&(t=!1);var n=Mne.get(e.object);Ane(n.value,e.object,e.patches,"",t),e.patches.length&&jN(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Ane(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=SG(t),s=SG(e),a=!1,l=s.length-1;l>=0;l--){var c=s[l],u=e[c];if(wG(t,c)&&!(t[c]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var d=t[c];typeof u=="object"&&u!=null&&typeof d=="object"&&d!=null&&Array.isArray(u)===Array.isArray(d)?Ane(u,d,n,r+"/"+qy(c),i):u!==d&&(i&&n.push({op:"test",path:r+"/"+qy(c),value:mc(u)}),n.push({op:"replace",path:r+"/"+qy(c),value:mc(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+qy(c),value:mc(u)}),n.push({op:"remove",path:r+"/"+qy(c)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var c=o[l];!wG(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+qy(c),value:mc(t[c])})}}}function Gnn(e,t,n){n===void 0&&(n=!1);var r=[];return Ane(e,t,r,"",n),r}var Ynn=Object.freeze({__proto__:null,compare:Gnn,generate:kG,observe:qnn,unobserve:Wnn});Object.assign({},Nnn,Ynn,{JsonPatchError:sNe,deepClone:mc,escapePathComponent:qy,unescapePathComponent:oNe});function Xnn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L7,Dbe;function Knn(){if(Dbe)return L7;Dbe=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return L7=e,L7}var N7,Obe;function Pne(){if(Obe)return N7;Obe=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return N7=r=>r?typeof r!="object"?e:r:t,N7}var FO={exports:{}},z7,Ibe;function Dne(){if(Ibe)return z7;Ibe=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return z7={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},z7}var B7,jbe;function $N(){return jbe||(jbe=1,B7=typeof process=="object"&&F7&&F7.NODE_DEBUG&&/\bsemver\b/i.test(F7.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),B7}var $be;function One(){return $be||($be=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Dne(),o=$N();t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],c=t.safeSrc=[],u=t.t={};let d=0;const f="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[f,r]],g=v=>{for(const[x,w]of p)v=v.split(`${x}*`).join(`${x}{0,${w}}`).split(`${x}+`).join(`${x}{1,${w}}`);return v},y=(v,x,w)=>{const S=g(x),C=d++;o(v,C,x),u[v]=C,l[C]=x,c[C]=S,s[C]=new RegExp(x,w?"g":void 0),a[C]=new RegExp(S,w?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),y("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${f}+`),y("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),y("FULL",`^${l[u.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),y("LOOSE",`^${l[u.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),y("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",l[u.COERCE],!0),y("COERCERTLFULL",l[u.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(FO,FO.exports)),FO.exports}var U7,Fbe;function Znn(){if(Fbe)return U7;Fbe=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),s=e.test(i);return o&&s&&(r=+r,i=+i),r===i?0:o&&!s?-1:s&&!o?1:r<i?-1:1};return U7={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},U7}var V7,Lbe;function Ine(){if(Lbe)return V7;Lbe=1;const e=$N(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=Dne(),{safeRe:r,t:i}=One(),o=Pne(),{compareIdentifiers:s}=Znn();class a{constructor(c,u){if(u=o(u),c instanceof a){if(c.loose===!!u.loose&&c.includePrerelease===!!u.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const d=c.trim().match(u.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const p=+f;if(p>=0&&p<n)return p}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof a)){if(typeof c=="string"&&c===this.version)return 0;c=new a(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof a||(c=new a(c,this.options)),s(this.major,c.major)||s(this.minor,c.minor)||s(this.patch,c.patch)}comparePre(c){if(c instanceof a||(c=new a(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let u=0;do{const d=this.prerelease[u],f=c.prerelease[u];if(e("prerelease compare",u,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++u)}compareBuild(c){c instanceof a||(c=new a(c,this.options));let u=0;do{const d=this.build[u],f=c.build[u];if(e("build compare",u,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++u)}inc(c,u,d){if(c.startsWith("pre")){if(!u&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(u){const f=`-${u}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!f||f[1]!==u)throw new Error(`invalid identifier: ${u}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,d),this.inc("pre",u,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,d),this.inc("pre",u,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(u===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(u){let p=[u,f];d===!1&&(p=[u]),s(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return V7=a,V7}var H7,Nbe;function gC(){if(Nbe)return H7;Nbe=1;const e=Ine();return H7=(n,r,i)=>new e(n,i).compare(new e(r,i)),H7}var W7,zbe;function Qnn(){if(zbe)return W7;zbe=1;const e=gC();return W7=(n,r,i)=>e(n,r,i)===0,W7}var q7,Bbe;function Jnn(){if(Bbe)return q7;Bbe=1;const e=gC();return q7=(n,r,i)=>e(n,r,i)!==0,q7}var G7,Ube;function ern(){if(Ube)return G7;Ube=1;const e=gC();return G7=(n,r,i)=>e(n,r,i)>0,G7}var Y7,Vbe;function trn(){if(Vbe)return Y7;Vbe=1;const e=gC();return Y7=(n,r,i)=>e(n,r,i)>=0,Y7}var X7,Hbe;function nrn(){if(Hbe)return X7;Hbe=1;const e=gC();return X7=(n,r,i)=>e(n,r,i)<0,X7}var K7,Wbe;function rrn(){if(Wbe)return K7;Wbe=1;const e=gC();return K7=(n,r,i)=>e(n,r,i)<=0,K7}var Z7,qbe;function irn(){if(qbe)return Z7;qbe=1;const e=Qnn(),t=Jnn(),n=ern(),r=trn(),i=nrn(),o=rrn();return Z7=(a,l,c,u)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof c=="object"&&(c=c.version),a===c;case"!==":return typeof a=="object"&&(a=a.version),typeof c=="object"&&(c=c.version),a!==c;case"":case"=":case"==":return e(a,c,u);case"!=":return t(a,c,u);case">":return n(a,c,u);case">=":return r(a,c,u);case"<":return i(a,c,u);case"<=":return o(a,c,u);default:throw new TypeError(`Invalid operator: ${l}`)}},Z7}var Q7,Gbe;function orn(){if(Gbe)return Q7;Gbe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,d){if(d=n(d),u instanceof t){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=u.match(d);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return o(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,d).test(u.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||o(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||o(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Q7=t;const n=Pne(),{safeRe:r,t:i}=One(),o=irn(),s=$N(),a=Ine(),l=lNe();return Q7}var J7,Ybe;function lNe(){if(Ybe)return J7;Ybe=1;const e=/\s+/g;class t{constructor(F,N){if(N=i(N),F instanceof t)return F.loose===!!N.loose&&F.includePrerelease===!!N.includePrerelease?F:new t(F.raw,N);if(F instanceof o)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=N,this.loose=!!N.loose,this.includePrerelease=!!N.includePrerelease,this.raw=F.trim().replace(e," "),this.set=this.raw.split("||").map(V=>this.parseRange(V.trim())).filter(V=>V.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const V=this.set[0];if(this.set=this.set.filter(H=>!y(H[0])),this.set.length===0)this.set=[V];else if(this.set.length>1){for(const H of this.set)if(H.length===1&&v(H[0])){this.set=[H];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const N=this.set[F];for(let V=0;V<N.length;V++)V>0&&(this.formatted+=" "),this.formatted+=N[V].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const V=((this.options.includePrerelease&&p)|(this.options.loose&&g))+":"+F,H=r.get(V);if(H)return H;const U=this.options.loose,G=U?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];F=F.replace(G,P(this.options.includePrerelease)),s("hyphen replace",F),F=F.replace(l[c.COMPARATORTRIM],u),s("comparator trim",F),F=F.replace(l[c.TILDETRIM],d),s("tilde trim",F),F=F.replace(l[c.CARETTRIM],f),s("caret trim",F);let z=F.split(" ").map(ee=>w(ee,this.options)).join(" ").split(/\s+/).map(ee=>j(ee,this.options));U&&(z=z.filter(ee=>(s("loose invalid filter",ee,this.options),!!ee.match(l[c.COMPARATORLOOSE])))),s("range list",z);const W=new Map,X=z.map(ee=>new o(ee,this.options));for(const ee of X){if(y(ee))return[ee];W.set(ee.value,ee)}W.size>1&&W.has("")&&W.delete("");const Q=[...W.values()];return r.set(V,Q),Q}intersects(F,N){if(!(F instanceof t))throw new TypeError("a Range is required");return this.set.some(V=>x(V,N)&&F.set.some(H=>x(H,N)&&V.every(U=>H.every(G=>U.intersects(G,N)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new a(F,this.options)}catch{return!1}for(let N=0;N<this.set.length;N++)if($(this.set[N],F,this.options))return!0;return!1}}J7=t;const n=Knn(),r=new n,i=Pne(),o=orn(),s=$N(),a=Ine(),{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:f}=One(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:g}=Dne(),y=D=>D.value==="<0.0.0-0",v=D=>D.value==="",x=(D,F)=>{let N=!0;const V=D.slice();let H=V.pop();for(;N&&V.length;)N=V.every(U=>H.intersects(U,F)),H=V.pop();return N},w=(D,F)=>(s("comp",D,F),D=T(D,F),s("caret",D),D=C(D,F),s("tildes",D),D=A(D,F),s("xrange",D),D=I(D,F),s("stars",D),D),S=D=>!D||D.toLowerCase()==="x"||D==="*",C=(D,F)=>D.trim().split(/\s+/).map(N=>k(N,F)).join(" "),k=(D,F)=>{const N=F.loose?l[c.TILDELOOSE]:l[c.TILDE];return D.replace(N,(V,H,U,G,z)=>{s("tilde",D,V,H,U,G,z);let W;return S(H)?W="":S(U)?W=`>=${H}.0.0 <${+H+1}.0.0-0`:S(G)?W=`>=${H}.${U}.0 <${H}.${+U+1}.0-0`:z?(s("replaceTilde pr",z),W=`>=${H}.${U}.${G}-${z} <${H}.${+U+1}.0-0`):W=`>=${H}.${U}.${G} <${H}.${+U+1}.0-0`,s("tilde return",W),W})},T=(D,F)=>D.trim().split(/\s+/).map(N=>E(N,F)).join(" "),E=(D,F)=>{s("caret",D,F);const N=F.loose?l[c.CARETLOOSE]:l[c.CARET],V=F.includePrerelease?"-0":"";return D.replace(N,(H,U,G,z,W)=>{s("caret",D,H,U,G,z,W);let X;return S(U)?X="":S(G)?X=`>=${U}.0.0${V} <${+U+1}.0.0-0`:S(z)?U==="0"?X=`>=${U}.${G}.0${V} <${U}.${+G+1}.0-0`:X=`>=${U}.${G}.0${V} <${+U+1}.0.0-0`:W?(s("replaceCaret pr",W),U==="0"?G==="0"?X=`>=${U}.${G}.${z}-${W} <${U}.${G}.${+z+1}-0`:X=`>=${U}.${G}.${z}-${W} <${U}.${+G+1}.0-0`:X=`>=${U}.${G}.${z}-${W} <${+U+1}.0.0-0`):(s("no pr"),U==="0"?G==="0"?X=`>=${U}.${G}.${z}${V} <${U}.${G}.${+z+1}-0`:X=`>=${U}.${G}.${z}${V} <${U}.${+G+1}.0-0`:X=`>=${U}.${G}.${z} <${+U+1}.0.0-0`),s("caret return",X),X})},A=(D,F)=>(s("replaceXRanges",D,F),D.split(/\s+/).map(N=>O(N,F)).join(" ")),O=(D,F)=>{D=D.trim();const N=F.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return D.replace(N,(V,H,U,G,z,W)=>{s("xRange",D,V,H,U,G,z,W);const X=S(U),Q=X||S(G),ee=Q||S(z),ne=ee;return H==="="&&ne&&(H=""),W=F.includePrerelease?"-0":"",X?H===">"||H==="<"?V="<0.0.0-0":V="*":H&&ne?(Q&&(G=0),z=0,H===">"?(H=">=",Q?(U=+U+1,G=0,z=0):(G=+G+1,z=0)):H==="<="&&(H="<",Q?U=+U+1:G=+G+1),H==="<"&&(W="-0"),V=`${H+U}.${G}.${z}${W}`):Q?V=`>=${U}.0.0${W} <${+U+1}.0.0-0`:ee&&(V=`>=${U}.${G}.0${W} <${U}.${+G+1}.0-0`),s("xRange return",V),V})},I=(D,F)=>(s("replaceStars",D,F),D.trim().replace(l[c.STAR],"")),j=(D,F)=>(s("replaceGTE0",D,F),D.trim().replace(l[F.includePrerelease?c.GTE0PRE:c.GTE0],"")),P=D=>(F,N,V,H,U,G,z,W,X,Q,ee,ne)=>(S(V)?N="":S(H)?N=`>=${V}.0.0${D?"-0":""}`:S(U)?N=`>=${V}.${H}.0${D?"-0":""}`:G?N=`>=${N}`:N=`>=${N}${D?"-0":""}`,S(X)?W="":S(Q)?W=`<${+X+1}.0.0-0`:S(ee)?W=`<${X}.${+Q+1}.0-0`:ne?W=`<=${X}.${Q}.${ee}-${ne}`:D?W=`<${X}.${Q}.${+ee+1}-0`:W=`<=${W}`,`${N} ${W}`.trim()),$=(D,F,N)=>{for(let V=0;V<D.length;V++)if(!D[V].test(F))return!1;if(F.prerelease.length&&!N.includePrerelease){for(let V=0;V<D.length;V++)if(s(D[V].semver),D[V].semver!==o.ANY&&D[V].semver.prerelease.length>0){const H=D[V].semver;if(H.major===F.major&&H.minor===F.minor&&H.patch===F.patch)return!0}return!1}return!0};return J7}var eU,Xbe;function srn(){if(Xbe)return eU;Xbe=1;const e=lNe();return eU=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},eU}var arn=srn(),cNe=Xnn(arn);function lrn(e,t,n){const r=e.open(t),i=250,{origin:o}=new URL(t);let s=40;function a(c){c.source===r&&(s=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function l(){s<=0||(r.postMessage(n,o),setTimeout(l,i),s-=1)}setTimeout(l,i)}var crn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function uNe(e,...t){for(const n of t)urn(e,n);return e}function urn(e,t){for(const n of Object.keys(t))q_(e,n,t[n],!0)}const mf=Kqt;let uR=Ltn;const Kbe=typeof window<"u"?window:void 0;uR===void 0&&Kbe?.vl?.compile&&(uR=Kbe.vl);const drn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},frn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},oE={vega:"Vega","vega-lite":"Vega-Lite"},R3={vega:mf.version,"vega-lite":uR?uR.version:"not available"},prn={vega:e=>e,"vega-lite":(e,t,n)=>uR.compile(e,{config:n,logger:t}).spec},hrn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,grn="chart-wrapper";function mrn(e){return typeof e=="function"}function Zbe(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${oE[r]} JSON Source`}function yrn(e,t,n){if(e.$schema){const r=QLe(e.$schema);n&&n!==r.library&&t.warn(`The given visualization spec is written in ${oE[r.library]}, but mode argument sets ${oE[n]??n}.`);const i=r.library;return cNe(R3[i],`^${r.version.slice(1)}`)||t.warn(`The input spec uses ${oE[i]} ${r.version}, but the current version of ${oE[i]} is v${R3[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":n??"vega"}function dNe(e){return!!(e&&"load"in e)}function Qbe(e){return dNe(e)?e:mf.loader(e)}function vrn(e){const t=e.usermeta?.embedOptions??{};return jt(t.defaultStyle)&&(t.defaultStyle=!1),t}async function brn(e,t,n={}){let r,i;jt(t)?(i=Qbe(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=vrn(r),s=o.loader;(!i||s)&&(i=Qbe(n.loader??s));const a=await Jbe(o,i),l=await Jbe(n,i),c={...uNe(l,a),config:W_(l.config??{},a.config??{})};return await wrn(e,r,c,i)}async function Jbe(e,t){const n=jt(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=jt(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function xrn(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function wrn(e,t,n={},r){const i=n.theme?W_(_nn[n.theme],n.config??{}):n.config,o=$0(n.actions)?n.actions:uNe({},drn,n.actions??{}),s={...frn,...n.i18n},a=n.renderer??"svg",l=n.logger??I4(mf.Warn);n.logLevel!==void 0&&l.level(n.logLevel);const c=n.downloadFileName??"visualization",u=typeof e=="string"?document.querySelector(e):e;if(!u)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const k="vega-embed-style",{root:T,rootContainer:E}=xrn(u);if(!T.getElementById(k)){const A=document.createElement("style");A.id=k,A.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?crn.toString():n.defaultStyle,E.appendChild(A)}}const d=yrn(t,l,n.mode);let f=prn[d](t,l,i);if(d==="vega-lite"&&f.$schema){const k=QLe(f.$schema);cNe(R3.vega,`^${k.version.slice(1)}`)||l.warn(`The compiled spec uses Vega ${k.version}, but current version is v${R3.vega}.`)}u.classList.add("vega-embed"),o&&u.classList.add("has-actions"),u.innerHTML="";let p=u;if(o){const k=document.createElement("div");k.classList.add(grn),u.appendChild(k),p=k}const g=n.patch;if(g&&(f=g instanceof Function?g(f):jN(f,g,!0,!1).newDocument),n.formatLocale&&mf.formatLocale(n.formatLocale),n.timeFormatLocale&&mf.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const k in n.expressionFunctions){const T=n.expressionFunctions[k];"fn"in T?mf.expressionFunction(k,T.fn,T.visitor):T instanceof Function&&mf.expressionFunction(k,T)}const{ast:y}=n,v=mf.parse(f,d==="vega-lite"?{}:i,{ast:y}),x=new(n.viewClass||mf.View)(v,{loader:r,logger:l,renderer:a,...y?{expr:mf.expressionInterpreter??n.expr??sGt}:{}});if(x.addSignalListener("autosize",(k,T)=>{const{type:E}=T;E=="fit-x"?(p.classList.add("fit-x"),p.classList.remove("fit-y")):E=="fit-y"?(p.classList.remove("fit-x"),p.classList.add("fit-y")):E=="fit"?p.classList.add("fit-x","fit-y"):p.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:k,tooltip:T}=n,E=k&&!dNe(k)?k?.baseURL:void 0,A=mrn(T)?T:new Onn({baseURL:E,...T===!0?{}:T}).call;x.tooltip(A)}let{hover:w}=n;if(w===void 0&&(w=d==="vega"),w){const{hoverSet:k,updateSet:T}=typeof w=="boolean"?{}:w;x.hover(k,T)}n&&(n.width!=null&&x.width(n.width),n.height!=null&&x.height(n.height),n.padding!=null&&x.padding(n.padding)),await x.initialize(p,n.bind).runAsync();let S;if(o!==!1){let k=u;if(n.defaultStyle!==!1||n.forceActionsMenu){const E=document.createElement("details");E.title=s.CLICK_TO_VIEW_ACTIONS,u.append(E),k=E;const A=document.createElement("summary");A.innerHTML=hrn,E.append(A),S=O=>{E.contains(O.target)||E.removeAttribute("open")},document.addEventListener("click",S)}const T=document.createElement("div");if(k.append(T),T.classList.add("vega-actions"),o===!0||o.export!==!1){for(const E of["svg","png"])if(o===!0||o.export===!0||o.export[E]){const A=s[`${E.toUpperCase()}_ACTION`],O=document.createElement("a"),I=It(n.scaleFactor)?n.scaleFactor[E]:n.scaleFactor;O.text=A,O.href="#",O.target="_blank",O.download=`${c}.${E}`,O.addEventListener("mousedown",async function(j){j.preventDefault();const P=await x.toImageURL(E,I);this.href=P}),T.append(O)}}if(o===!0||o.source!==!1){const E=document.createElement("a");E.text=s.SOURCE_ACTION,E.href="#",E.addEventListener("click",function(A){Zbe(y9(t),n.sourceHeader??"",n.sourceFooter??"",d),A.preventDefault()}),T.append(E)}if(d==="vega-lite"&&(o===!0||o.compiled!==!1)){const E=document.createElement("a");E.text=s.COMPILED_ACTION,E.href="#",E.addEventListener("click",function(A){Zbe(y9(f),n.sourceHeader??"",n.sourceFooter??"","vega"),A.preventDefault()}),T.append(E)}if(o===!0||o.editor!==!1){const E=n.editorUrl??"https://vega.github.io/editor/",A=document.createElement("a");A.text=s.EDITOR_ACTION,A.href="#",A.addEventListener("click",function(O){lrn(window,E,{config:i,mode:g?"vega":d,renderer:a,spec:y9(g?f:t)}),O.preventDefault()}),T.append(A)}}function C(){S&&document.removeEventListener("click",S),x.finalize()}return{view:x,spec:t,vgSpec:f,finalize:C,embedOptions:n}}function Srn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var exe,txe;function _rn(){return txe||(txe=1,exe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),exe}var Crn=_rn();const krn=Srn(Crn);function Ern(e){const[t,n]=Vt.useState(null),{ref:r,spec:i,onEmbed:o,onError:s,options:a={}}=e;return Trn(()=>{let l=!1,c=null;return(async()=>{if(!(!r.current||l))try{if(c=await brn(r.current,i,a),l){c.finalize();return}n(c),o?.(c)}catch(u){console.error(`[react-vega] Error creating view: ${u}`),s?.(u)}})(),()=>{l=!0,c?.finalize()}},[i,a]),t}function Trn(e,t){const n=Vt.useRef(null),r=Vt.useRef(0);(!n.current||!krn(t,n.current))&&(r.current+=1),n.current=t,Vt.useEffect(e,[r.current])}const jne=Vt.forwardRef((e,t)=>{const{spec:n,options:r,onEmbed:i,onError:o,...s}=e,a=Vt.useRef(null);return Vt.useImperativeHandle(t,()=>{if(!a.current)throw new Error("VegaEmbed: ref is not attached to a div element");return a.current},[]),Ern({ref:a,spec:n,onEmbed:i,onError:o,options:r}),h.jsx("div",{ref:a,...s})});jne.displayName="VegaEmbed";const Sa=({height:e="600px",text:t="Loading..."})=>h.jsx(Y,{sx:{height:e,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",mb:2},"data-testid":"loading-spinner",children:h.jsxs(Y,{sx:{display:"inline-flex",flexDirection:"row"},children:[h.jsx(To,{size:30}),h.jsx(Y,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(ae,{children:t})})]})}),$ne=({message:e})=>h.jsx(Y,{sx:{mb:2},children:h.jsx(Pr,{sx:{display:"flex",alignItems:"flex-start",px:2,py:1,mb:2},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[h.jsx(Y,{sx:{color:t=>t.palette.warning.light,display:"flex",alignItems:"center"},children:h.jsx(Vke,{fontSize:"small"})}),h.jsxs(ae,{variant:"body2",sx:{fontWeight:500,lineHeight:1.5,fontSize:"14px"},children:[h.jsx(Y,{component:"span",sx:{backgroundColor:t=>t.palette.warning.main+"20",color:t=>t.palette.warning.dark,px:1.5,py:.5,borderRadius:1,fontWeight:600,fontSize:"0.75rem",mr:1,display:"inline-block"},children:"Warning"}),e]})]})})}),Fne=({spec:e,onViewLoaded:t,patchVegaSpec:n,disableInteractivity:r=!1})=>{const[i,o]=R.useState(),[s,a]=R.useState(null),{isDarkMode:l}=Li(),[c,u]=R.useState(null);R.useEffect(()=>{p(e),a(null),u(null)},[e]);const d=R.useCallback(g=>{const y=g instanceof Error?g:new Error(String(g));console.log("Vega Error",y),a(y),mM(y,{level:"warning"})},[]),f=({view:g})=>{g&&g.getState().signals.background!==null&&t&&t(g)},p=g=>{let y=g;g?.$schema?.includes("vega-lite")&&(y=ZLe(g).spec),n&&n(y),r&&(y={...y,config:{events:{view:!1}}}),o(y)};return i?h.jsxs(gt,{direction:"column",children:[s&&h.jsx(Y,{sx:{p:2,color:"error.main"},children:h.jsxs(ae,{variant:"body1",children:["Error loading plot: ",s?.message||"Unknown error occurred"]})}),c&&h.jsx($ne,{message:c}),h.jsx("div",{id:"vega-container",children:i&&!s&&h.jsx(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:h.jsx(jne,{spec:i,onEmbed:f,options:{actions:!1,...l?{tooltip:{theme:"dark"}}:{}},onError:d})})})]}):h.jsx(Sa,{})},nxe=["Show in dashboard","Skip"],VE="999",fNe=["#FF6C00","#257150","#B4AF9B","#3A7391","#DCB900","#96A02D","#CC3333","#AA7373","#C8D0D6","#004132","#5F696E","#64AAB9","#000000","#FFFFFF","#232337","#645041","#78785F","#004132","#BE5F46","#DCB900","#96825F","#FAB900","#D7C8A6","#CCC8A8","#B4CDD7","#CDB4A6","#FADC64"],Rrn=[{Displacement:307,Acceleration:12,Year:"1970",Cylinders:8},{Displacement:350,Acceleration:11.5,Year:"1970",Cylinders:8},{Displacement:318,Acceleration:11,Year:"1970",Cylinders:8},{Displacement:304,Acceleration:12,Year:"1970",Cylinders:8},{Displacement:302,Acceleration:10.5,Year:"1970",Cylinders:8},{Displacement:429,Acceleration:10,Year:"1970",Cylinders:8},{Displacement:454,Acceleration:9,Year:"1970",Cylinders:8},{Displacement:440,Acceleration:8.5,Year:"1970",Cylinders:8},{Displacement:455,Acceleration:10,Year:"1970",Cylinders:8},{Displacement:390,Acceleration:8.5,Year:"1970",Cylinders:8},{Displacement:350,Acceleration:13,Year:"1971",Cylinders:8},{Displacement:318,Acceleration:11,Year:"1971",Cylinders:8},{Displacement:302,Acceleration:10.5,Year:"1971",Cylinders:8},{Displacement:400,Acceleration:10,Year:"1971",Cylinders:8},{Displacement:350,Acceleration:13.5,Year:"1971",Cylinders:8},{Displacement:400,Acceleration:12,Year:"1972",Cylinders:8},{Displacement:350,Acceleration:13,Year:"1972",Cylinders:8},{Displacement:318,Acceleration:11.5,Year:"1972",Cylinders:8},{Displacement:360,Acceleration:13,Year:"1973",Cylinders:8},{Displacement:350,Acceleration:12.5,Year:"1973",Cylinders:8},{Displacement:302,Acceleration:14,Year:"1974",Cylinders:8},{Displacement:318,Acceleration:13.5,Year:"1974",Cylinders:8},{Displacement:350,Acceleration:13,Year:"1974",Cylinders:8},{Displacement:360,Acceleration:12.5,Year:"1974",Cylinders:8},{Displacement:400,Acceleration:11.5,Year:"1974",Cylinders:8},{Displacement:302,Acceleration:15,Year:"1975",Cylinders:8},{Displacement:318,Acceleration:14.5,Year:"1975",Cylinders:8},{Displacement:350,Acceleration:14,Year:"1975",Cylinders:8},{Displacement:360,Acceleration:13.5,Year:"1975",Cylinders:8},{Displacement:400,Acceleration:13,Year:"1975",Cylinders:8}],Mrn=[{region:"North",segment:"A",value:.2},{region:"North",segment:"B",value:.6},{region:"North",segment:"C",value:.8},{region:"South",segment:"A",value:.4},{region:"South",segment:"B",value:.7},{region:"South",segment:"C",value:.9},{region:"East",segment:"A",value:.3},{region:"East",segment:"B",value:.5},{region:"East",segment:"C",value:.65},{region:"West",segment:"A",value:.55},{region:"West",segment:"B",value:.75},{region:"West",segment:"C",value:.95}];function Arn(e,t){const{plotWidth:n,plotHeight:r,fontSize_scaled:i,axisFontSize:o,pointSize:s,isDarkMode:a,selectedTheme:l}=t,c=a?"#ffffff":"#000000",u=a?"#444444":"#e0e0e0";return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"Demo",width:n,height:r,data:{values:e},layer:[{mark:{type:"circle",size:s,opacity:.7},encoding:{x:{field:"Acceleration",type:"quantitative",title:"Demo X Axis",scale:{domainMin:8,domainMax:16},axis:{titleFontSize:o,labelFontSize:i,titleFontWeight:"normal",titleColor:c,labelColor:c,gridColor:u,gridDash:[2,2]}},y:{field:"Displacement",type:"quantitative",title:"Demo Y Axis",scale:{domainMin:290,domainMax:465},axis:{titleFontSize:o,labelFontSize:i,titleFontWeight:"normal",titleColor:c,labelColor:c,gridColor:u,gridDash:[2,2]}},color:{field:"Year",type:"ordinal",title:"Demo Category",scale:l==="kws"?{range:fNe}:{scheme:l},legend:{titleFontSize:o,labelFontSize:i,titleFontWeight:"normal",titleColor:c,labelColor:c}}}},{mark:{type:"text",fontSize:i,align:"left",baseline:"middle",dx:5,dy:-10,opacity:.9},encoding:{x:{field:"Acceleration",type:"quantitative"},y:{field:"Displacement",type:"quantitative"},text:{field:"Cylinders",type:"nominal"},color:{value:c}}}],config:{background:"transparent",axis:{titleColor:c,labelColor:c,gridColor:u},legend:{titleColor:c,labelColor:c}}}}function Prn(e,t){const{plotWidth:n,plotHeight:r,fontSize_scaled:i,axisFontSize:o,isDarkMode:s,selectedContinuousTheme:a}=t,l=s?"#ffffff":"#000000",c=s?"#444444":"#e0e0e0";return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"Continuous palette demo",width:n,height:r,data:{values:e},mark:{type:"rect"},encoding:{x:{field:"segment",type:"nominal",axis:{title:"Segment",labelFontSize:i,titleFontSize:o,titleColor:l,labelColor:l,gridColor:c}},y:{field:"region",type:"nominal",axis:{title:"Region",labelFontSize:i,titleFontSize:o,titleColor:l,labelColor:l,gridColor:c}},color:{field:"value",type:"quantitative",title:"Value",scale:{scheme:a},legend:{titleFontSize:o,labelFontSize:i,titleColor:l,labelColor:l}},tooltip:[{field:"segment",type:"nominal"},{field:"region",type:"nominal"},{field:"value",type:"quantitative",format:".2f"}]},config:{background:"transparent",axis:{titleColor:l,labelColor:l,gridColor:c},legend:{titleColor:l,labelColor:l}}}}const Drn={dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],tableau20:["#4e79a7","#a0cbe8","#f28e2c","#ffbe7d","#59a14f","#8cd17d","#b6992d","#f1ce63","#499894","#86bcb6","#e15759","#ff9d9a","#79706e","#bab0ab","#d37295","#fabfd2","#b07aa1","#d4a6c8","#9d7660","#d7b5a6"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],category20b:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],kws:fNe};function Orn(){const e=dp(),{data:t,isLoading:n}=V_(e.username),r=P4(),[i,o]=R.useState("dark2"),[s,a]=R.useState("redyellowblue"),{isDarkMode:l,toggleTheme:c}=Li(),{isKws:u}=Ul();R.useEffect(()=>{t?.theme&&o(t.theme),t?.theme_continuous&&a(t.theme_continuous)},[t?.theme,t?.theme_continuous]);const d=R.useMemo(()=>Prn(Mrn,{plotWidth:500,plotHeight:375,fontSize_scaled:12,axisFontSize:12,isDarkMode:l,selectedContinuousTheme:s}),[l,i,s]);if(n||!t)return h.jsx(h.Fragment,{});const f=v=>{o(v),r.mutate({path:{username:e.username},body:{theme:v}})},p=v=>v.length===0?"transparent":v.length===1?v[0]:`linear-gradient(90deg, ${v.map((w,S)=>{const C=S/(v.length-1)*100;return`${w} ${C}%`}).join(", ")})`,g={redyellowblue:["#a50026","#f46d43","#fdae61","#fee08b","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],redyellowgreen:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],purplegreen:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},y=v=>{a(v),e?.username&&r.mutate({path:{username:e.username},body:{theme_continuous:v}})};return h.jsxs(gt,{spacing:3,children:[h.jsxs(gt,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[h.jsxs(gt,{direction:"row",alignItems:"center",spacing:2,children:[l?h.jsx(Pot,{color:"primary"}):h.jsx(Dot,{color:"primary"}),h.jsx(ae,{variant:"body1",fontWeight:"medium",children:"Dark Mode"})]}),h.jsx(Su,{control:h.jsx(Bf,{checked:l,onChange:c}),label:""})]}),h.jsx(vi,{}),h.jsx(ae,{variant:"body1",color:"text.secondary",children:"Choose a color scheme from the categorical palettes below. Each scheme provides a distinct set of colors for your plots that contains categorical data."}),h.jsx(Qf,{component:"fieldset",sx:{width:"100%"},children:h.jsx(yH,{value:i,onChange:v=>f(v.target.value),children:h.jsx(gt,{spacing:2,children:Object.entries(Drn).filter(([v])=>v!=="kws"||u).map(([v,x])=>h.jsx(Pr,{sx:{p:2,cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},onClick:()=>f(v),children:h.jsxs(gt,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(ET,{value:v}),h.jsx(ae,{variant:"body1",sx:{fontWeight:500,minWidth:120},children:v}),h.jsx(Y,{sx:{display:"flex",gap:.5,flexWrap:"wrap",flex:1},children:x.map((w,S)=>h.jsx(Y,{sx:{width:28,height:28,borderRadius:1,border:"1px solid",borderColor:"divider",bgcolor:w},title:w},S))})]})},v))})})}),h.jsx(vi,{}),h.jsx(ae,{variant:"body1",color:"text.secondary",children:"Choose a continuous color scheme for gradient-based visualizations (e.g., Show Table, Heatmap). These palettes smoothly transition between colors to convey magnitude."}),h.jsx(Qf,{component:"fieldset",sx:{width:"100%"},children:h.jsx(yH,{value:s,onChange:v=>y(v.target.value),children:h.jsx(gt,{spacing:2,children:Object.entries(g).map(([v,x])=>h.jsx(Pr,{sx:{p:2,cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},onClick:()=>y(v),children:h.jsxs(gt,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(ET,{value:v}),h.jsx(ae,{variant:"body1",sx:{fontWeight:500,minWidth:120},children:v}),h.jsx(Y,{sx:{display:"flex",flex:1,alignItems:"center",minWidth:180},children:h.jsx(Y,{sx:{width:"100%",height:28,borderRadius:1,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:h.jsx(Y,{sx:{width:"100%",height:"100%",background:p(x)}})})})]})},v))})})}),h.jsxs(gt,{spacing:2,children:[h.jsx(ae,{variant:"subtitle1",fontWeight:600,children:"Continuous Preview"}),h.jsx(Y,{sx:{p:3,border:1,borderColor:"divider",borderRadius:2,bgcolor:"background.paper",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",width:"100%"},children:h.jsx(Fne,{spec:d})})]})]})}function Irn(){const e=dp(),{data:t}=V_(e.username),n=P4(),[r,i]=R.useState(t?.plot_interaction||"brush"),[o,s]=R.useState(t?.show_regression_description??!0),[a,l]=R.useState(t?.show_intersection_points??!0);R.useEffect(()=>{t?.plot_interaction&&i(t.plot_interaction),t?.show_regression_description!==void 0&&s(t.show_regression_description),t?.show_intersection_points!==void 0&&l(t.show_intersection_points)},[t?.plot_interaction,t?.show_regression_description,t?.show_intersection_points]);const c=f=>{const p=f.target.checked?"zoom":"brush";i(p),e.username&&n.mutate({path:{username:e.username},body:{plot_interaction:p}})},u=f=>{const p=f.target.checked;s(p),e.username&&n.mutate({path:{username:e.username},body:{show_regression_description:p}})},d=f=>{const p=f.target.checked;l(p),e.username&&n.mutate({path:{username:e.username},body:{show_intersection_points:p}})};return h.jsxs(gt,{spacing:3,children:[h.jsxs(gt,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[h.jsxs(gt,{direction:"row",alignItems:"center",spacing:2,children:[r==="zoom"?h.jsx(Tst,{color:"primary"}):h.jsx(tst,{color:"primary"}),h.jsx(ae,{variant:"body1",fontWeight:"medium",children:"Scatter Plot Interaction"})]}),h.jsxs(gt,{direction:"row",alignItems:"center",spacing:1,children:[h.jsx(ae,{children:"Brush"}),h.jsx(Su,{control:h.jsx(Bf,{checked:r==="zoom",onChange:c}),label:""}),h.jsx(ae,{children:"Zoom"})]})]}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:r==="zoom"?"Click and drag to move around in scatter plots. Scroll to zoom in/out.":"Click and drag to select data points on scatter plots."}),h.jsxs(gt,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[h.jsxs(gt,{direction:"row",alignItems:"center",spacing:2,children:[h.jsx(R0,{color:"primary"}),h.jsx(ae,{variant:"body1",fontWeight:"medium",children:"Show Regression Equations"})]}),h.jsx(Su,{control:h.jsx(Bf,{checked:o,onChange:u}),label:""})]}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:o?"Regression equations (y = mx + b) are displayed below regression plots.":"Regression equations are hidden on regression plots."}),h.jsxs(gt,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[h.jsxs(gt,{direction:"row",alignItems:"center",spacing:2,children:[h.jsx(gst,{color:"primary"}),h.jsx(ae,{variant:"body1",fontWeight:"medium",children:"Show Regression Intersection Points"})]}),h.jsx(Su,{control:h.jsx(Bf,{checked:a,onChange:d}),label:""})]}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:a?"Intersection points of regression lines are displayed on plots.":"Intersection points are hidden on regression plots."})]})}function jrn(){const{fontSize:e,setFontSize:t}=lZ(),{isDarkMode:n}=Li(),{user:r}=ag(),{data:i}=V_(r?.username||""),o=i?.theme||"dark2",s=e??50,[a,l]=R.useState(s);R.useEffect(()=>{l(s)},[s]);const c=500,u=375,d=c,f=u,p=12,g=12,y=Math.min(Math.max(a,0),100),v=ZX(y),x=p*v,w=g*v,S=g*1.2*v,C=30,k=y>50?v*1.5:v,T=C*k,E=R.useMemo(()=>Arn(Rrn,{plotWidth:d,plotHeight:f,fontSize_scaled:x,axisFontSize:w,pointSize:T,isDarkMode:n,selectedTheme:o}),[d,f,x,S,w,T,n,o]),A=(I,j)=>{const P=Array.isArray(j)?j[0]:j;l(P)},O=(I,j)=>{const P=Array.isArray(j)?j[0]:j;t(P)};return h.jsxs(gt,{spacing:3,children:[h.jsxs(gt,{direction:"row",alignItems:"center",spacing:2,children:[a>49?h.jsx(Uke,{color:"primary"}):h.jsx(Sst,{color:"primary"}),h.jsx(ae,{variant:"body1",fontWeight:"medium",children:"Readability"})]}),h.jsxs(Y,{sx:{px:2,position:"relative"},children:[h.jsx(KX,{value:a,onChange:A,onChangeCommitted:O,min:0,max:100,step:5,valueLabelDisplay:"off",marks:[{value:0},{value:10},{value:20},{value:30},{value:40},{value:50},{value:60},{value:70},{value:80},{value:90},{value:100}],sx:{height:4,"& .MuiSlider-thumb":{width:18,height:18,backgroundColor:"primary.main",border:"2px solid",borderColor:"background.paper",boxShadow:"0 2px 4px rgba(0,0,0,0.2)","&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.3)"}},"& .MuiSlider-track":{height:4,borderRadius:2},"& .MuiSlider-rail":{height:4,borderRadius:2,opacity:.3},"& .MuiSlider-mark":{backgroundColor:"currentColor",width:2,height:12,borderRadius:1,opacity:.5}}}),h.jsxs(gt,{direction:"row",justifyContent:"space-between",sx:{mt:1,px:.5,position:"relative"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Small"}),h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{position:"absolute",left:"50%",transform:"translateX(-50%)"},children:"Medium"}),h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Large"})]})]}),h.jsxs(gt,{spacing:2,children:[h.jsx(ae,{variant:"subtitle1",fontWeight:600,children:"Categorical Preview"}),h.jsx(Y,{sx:{p:3,border:1,borderColor:"divider",borderRadius:2,bgcolor:"background.paper",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",width:"100%"},children:h.jsx(Fne,{spec:E})})]})]})}const tU=[{id:"change-theme",label:"Change Theme",icon:dst,component:Orn},{id:"readability",label:"Readability",icon:Uke,component:jrn},{id:"miscellaneous",label:"Miscellaneous",icon:R0,component:Irn}];function $rn({open:e,onClose:t}){const[n,r]=R.useState("change-theme"),i=()=>{const s=tU.find(l=>l.id===n);if(!s)return null;const a=s.component;return h.jsx(a,{})},o=tU.find(s=>s.id===n);return h.jsx(Oi,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{height:"85vh"}},children:h.jsxs(no,{sx:{p:0,height:"100%",display:"flex",position:"relative"},children:[h.jsx(Pt,{size:"small",onClick:t,sx:{position:"absolute",top:12,right:12,zIndex:1},children:h.jsx(Vb,{})}),h.jsxs(Y,{sx:{display:"flex",height:"100%",width:"100%"},children:[h.jsxs(Y,{sx:{width:240,borderRight:1,borderColor:"divider",display:"flex",flexDirection:"column"},children:[h.jsx(Y,{sx:{p:2,pb:2,borderBottom:1,borderColor:"divider"},children:h.jsx(ae,{variant:"h5",fontWeight:"bold",children:"Settings"})}),h.jsx(Y,{sx:{overflow:"auto",flex:1},children:h.jsx(Wb,{dense:!0,sx:{p:1},children:tU.map(s=>{const a=s.icon;return h.jsx(Hh,{disablePadding:!0,children:h.jsxs(wEe,{selected:n===s.id,onClick:()=>r(s.id),children:[h.jsx(eo,{children:h.jsx(a,{})}),h.jsx(_h,{primary:s.label,primaryTypographyProps:{fontSize:"1rem"}})]})},s.id)})})})]}),h.jsxs(Y,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[h.jsx(Y,{sx:{px:3,py:2,borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center"},children:h.jsx(ae,{variant:"h5",fontWeight:"bold",children:o?.label})}),h.jsx(Y,{sx:{overflow:"auto",flex:1,p:3},children:i()})]})]})]})})}const pNe=({title:e,open:t,isLoading:n,tabs:r,tabContent:i,onDialogClose:o})=>h.jsxs(Oi,{open:t,onClose:o,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{height:800,overflow:"hidden"}},children:[h.jsx(Do,{sx:{px:3,pt:3,pb:1},children:e}),h.jsxs(no,{sx:{minHeight:400,maxHeight:700,overflow:"auto",px:3,position:"relative"},children:[r,n&&h.jsx(Y,{sx:{position:"absolute",inset:0,zIndex:9999,backgroundColor:"grey.25",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Sa,{height:"20px"})}),i]}),h.jsx(wo,{sx:{p:3,pt:1},children:h.jsx(Be,{onClick:o,children:"Close"})})]}),_s=({children:e})=>{const t=xt(),{isDarkMode:n}=Li();return h.jsx(Y,{sx:{p:2,borderRadius:1,backgroundColor:t.palette.background.paper,border:"1px solid",borderColor:n?t.palette.grey[700]:t.palette.grey[200],"& + &":{mt:2}},children:e})},Cs=({children:e,icon:t,iconRight:n})=>h.jsx(ae,{variant:"subtitle2",sx:{mb:1,color:"text.primary",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"space-between",gap:1},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[t,e,h.jsx(Y,{sx:{fontWeight:"300"},children:n})]})}),Frn=500,Lrn=({id:e})=>{const t=HMt(),{showSuccess:n,showError:r}=Wi(),i=CS(t.isPending,Frn),o=async()=>{await t.mutateAsync({body:{pipe_id:e}},{onSuccess:()=>{n("Template successfully created!")},onError:()=>{r("An error happened during creating the Template.")}})};return h.jsxs(_s,{children:[h.jsx(Cs,{children:"Create Template"}),h.jsx(yo,{sx:{mb:3},children:"Save this dashboard as a template so that others can use it to create new dashboards. Please note that all input files set in this dashboard will be shared with all users as well."}),h.jsx(Be,{variant:"contained",color:"primary",onClick:o,disabled:i,children:i?"Saving...":"Save as Template"})]})},hNe=({pipeId:e,reportId:t,name:n,handleDownload:r})=>{const{isRWA:i,isKws:o}=Ul(),{downloadInProgress:s}=gZ(),[a,l]=R.useState({includePdf:!0,includeSvg:!1,includePng:!1,includeTables:!1}),c=f=>{l(p=>({...p,[f]:!p[f]}))},u=Object.values(a).every(f=>!f),d=()=>[...i?[]:[{key:"includePdf",label:"PDF",description:"Include PDF of all plots on the Dashboard"}],{key:"includeSvg",label:"SVG",description:"Include a SVG image for each plot on the Dashboard"},{key:"includePng",label:"PNG",description:"Include a PNG image for each plot on the Dashboard"},...o?[]:[{key:"includeTables",label:"Tables",description:"Include a Excel file for each table on the Dashboard"}]];return h.jsxs(_s,{children:[h.jsx(Cs,{children:"Download Options"}),h.jsx(yo,{sx:{mb:3},children:"Configure what to include in your download package."}),h.jsx(Y,{sx:{mb:3},children:d().map(f=>h.jsx(Y,{sx:{display:"flex",alignItems:"center"},children:h.jsx(Su,{control:h.jsx(Td,{disabled:s,checked:a[f.key],onChange:()=>c(f.key)}),label:h.jsxs(Y,{sx:{display:"flex",alignItems:"center"},children:[h.jsxs(ae,{variant:"subtitle2",sx:{fontWeight:600,mr:1},children:[f.label," "]}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:f.description})]})})},f.key))}),h.jsx(Dt,{title:u?"Select at least one option":"Download ZIP file",children:h.jsx("span",{children:h.jsx(Be,{variant:"contained",color:"primary",disabled:s||u,onClick:()=>{r({pipeId:e,reportId:t,downloadOptions:a,name:n})},sx:{minWidth:"200px"},children:s?"In Progress":"Download"})})})]})},gNe=({accessGrants:e,accessLevel:t,handleCreateGrant:n,handleDeleteGrant:r,handleAccessLevelChange:i})=>{const[o,s]=R.useState(!1),[a,l]=R.useState(""),c=window.location.href,u=()=>{navigator.clipboard.writeText(c),s(!0),setTimeout(()=>s(!1),1500)},d=y=>{l(y.target.value)},f=()=>{a.trim()&&(n(a),l(""))},p=y=>{y.key==="Enter"&&(y.preventDefault(),f())},g=y=>{i(y.target.value)};return h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:[h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(EX,{}),children:"Share"}),h.jsx(yo,{sx:{mb:2,fontSize:"0.875rem"},children:"Enter Cost Center or Username"}),e.length>0&&h.jsx(Y,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:1,minHeight:"32px"},children:e.map(y=>h.jsx(Dt,{title:`Shared with ${y.grant_type=="user"?"user":"cost center"} ${y.principal_name} `,children:h.jsx(Ci,{label:y.principal_name,onDelete:()=>r(y.id),size:"small",icon:y.grant_type=="user"?h.jsx(YR,{}):h.jsx(k5,{})},y.id)},y.id))}),h.jsxs(Y,{sx:{display:"flex",gap:1,mt:1,alignItems:"center"},children:[h.jsx(zn,{margin:"dense",placeholder:"Enter Cost Center or Username",fullWidth:!0,variant:"outlined",value:a,onChange:d,onKeyDown:p}),h.jsx(Be,{variant:"contained",startIcon:h.jsx(yst,{}),onClick:f,disabled:!a.trim(),sx:{mt:.5,minWidth:"250px"},children:"Grant Access"})]})]}),h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(NF,{}),children:"Link Accessibility"}),h.jsx(yo,{sx:{mb:2,fontSize:"0.875rem"},children:"Share a link to this document"}),h.jsx(Qf,{fullWidth:!0,margin:"dense",sx:{mb:2},children:h.jsxs(Vd,{value:t,onChange:g,displayEmpty:!0,sx:{fontSize:"0.875rem"},children:[h.jsx($t,{value:"protected",children:"Protected access"}),h.jsx($t,{value:"organization",children:"Everybody from Organization with link"})]})}),t==="protected"&&h.jsx(_T,{color:"success",icon:h.jsx(lst,{}),sx:{mb:2,"& .MuiAlert-message":{fontSize:"0.875rem",fontWeight:500}},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[h.jsx(Y,{sx:{fontWeight:600},children:"Protected"}),h.jsx(Y,{sx:{fontSize:"0.8125rem",fontWeight:400},children:"Only users with access rights can open the link to the Dashboard."})]})}),t==="organization"&&h.jsx(_T,{severity:"success",icon:h.jsx(Rke,{}),sx:{mb:2,"& .MuiAlert-message":{fontSize:"0.875rem",fontWeight:500}},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[h.jsx(Y,{sx:{fontWeight:600},children:"Organization-wide access enabled"}),h.jsx(Y,{sx:{fontSize:"0.8125rem",fontWeight:400},children:"All users from your Organization with a link can access the Dashboard"})]})}),h.jsx(Be,{variant:"outlined",startIcon:h.jsx(zh,{}),onClick:u,fullWidth:!0,sx:{mt:1,maxWidth:"200px"},children:o?"Link copied!":"Copy link"})]})]})},mNe=({pipeId:e})=>{const t=QMt(),n=JMt(),r=T4(),i=pn(),{data:o,isLoading:s}=ls(e),{showError:a}=Wi();if(!o||s)return null;const l=d=>{r.mutate({body:{operation:"update_accessibility",value:{status:d}},path:{pipe_id:o.id}},{onSuccess:(f,p)=>{i.invalidateQueries({queryKey:bo({path:{pipe_id:p.path.pipe_id}})}),i.invalidateQueries({queryKey:["pipe",p.path.pipe_id]})}})},c=d=>{t.mutate({body:{username_or_cost_center:d},path:{pipe_id:e}},{onError:f=>{a(f?.response?.data?.message??"Failed to grant access.")}})},u=d=>{n.mutateAsync({path:{pipe_id:e,grant_id:d}},{onError:f=>{a(f?.response?.data?.message??"Failed to remove access")}})};return h.jsx(gNe,{handleCreateGrant:c,handleDeleteGrant:u,handleAccessLevelChange:l,accessLevel:o.link_accessibility,accessGrants:o.access_grants})},Nrn=({templateId:e})=>{const{data:t}=ls(e);if(!t)return null;const n=()=>t.cost_centers?`The template is currently visible to all users of your Organization with ${t.cost_centers.includes(",")?"cost centers":"cost center"} ${t.cost_centers}.`:"The template is currently only visible to you.";return h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(fst,{fontSize:"small"}),iconRight:h.jsx(Dt,{title:"Configure a cost center on the Template Page to make the Template visible for other users of your Organization",arrow:!0,children:h.jsx(rst,{fontSize:"small"})}),children:"Template Visibility"}),h.jsx(yo,{children:n()})]})},FN=Fi((e,t)=>({isShareDialogOpen:!1,reportId:null,pipeId:null,setShareDialogOpen:n=>e({isShareDialogOpen:!0,reportId:n?.reportId??null,pipeId:n?.pipeId??null}),setShareDialogClose:()=>e({isShareDialogOpen:!1,reportId:null,pipeId:null}),isDashboardShareDialogOpen:()=>t().isShareDialogOpen&&t().pipeId!==null,isReportShareDialogOpen:()=>t().isShareDialogOpen&&t().reportId!==null})),M3=({href:e,children:t,variant:n,sx:r,target:i,"data-testid":o})=>h.jsx(vm,{variant:n,href:`${window.location.origin}${window.location.pathname}#${e}`,color:"primary",target:i,"data-testid":o,sx:{textDecoration:"none",cursor:"pointer",fontWeight:500,border:"none",background:"none",padding:0,font:"inherit","&:hover":{textDecoration:"underline",backgroundColor:"transparent"},...r},children:t}),nU=500,zrn=({pipeId:e})=>{const{setShareDialogClose:t}=FN(),{showSuccess:n,showError:r}=Wi(),{data:i,isLoading:o}=ls(e),s=pAe(),a=CS(s.isPending,nU);if(o||!i)return null;const l=!!i?.target_template_id,c=async()=>{if(!e||!l||!i.target_template_id){console.log("No pipeId or template_id provided");return}try{await s.mutateAsync({path:{id:i.target_template_id},body:{operation:"update_from_dashboard",value:{pipe_id:i.id}}},{onSuccess:()=>{setTimeout(()=>{n("Template updated successfully!")},nU)},onError:()=>{r("An error happened during updating the Template.")}})}finally{setTimeout(()=>{t()},nU)}};return h.jsxs(h.Fragment,{children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,mb:2},children:h.jsxs(ae,{children:["This dashboard is shared as a"," ",h.jsx(M3,{href:Nr.Template+"/"+i.target_template_id,children:"template"}),"."]})}),i.target_template_id&&h.jsx(Nrn,{templateId:i.target_template_id}),h.jsxs(_s,{children:[h.jsx(Cs,{iconRight:h.jsx(h.Fragment,{children:h.jsx(Ci,{size:"small",variant:"outlined",color:i.template_has_unsaved_changes?"warning":"success",label:i.template_has_unsaved_changes?"Unpublished changes":"Template up to date"})}),children:"Update Template"}),h.jsx(yo,{sx:{mb:2},children:"You can update the template with the latest changes from this dashboard."}),h.jsx(yo,{}),h.jsx(Be,{variant:"contained",color:"primary",onClick:c,disabled:a,children:a?"Updating...":"Update Template"})]})]})},yNe=({children:e,...t})=>h.jsx(qb,{...t,sx:{mb:3,"& .MuiTabs-indicator":{backgroundColor:"primary.main",height:3,borderRadius:"3px 3px 0 0"},"& .MuiTab-root":{textTransform:"none",fontWeight:500,fontSize:"0.95rem",minHeight:48,"&.Mui-selected":{color:"primary.main",fontWeight:600},"&:hover":{backgroundColor:"action.hover",borderRadius:"8px 8px 0 0"}}},children:e}),bv=wl,wA=()=>{const{data:e}=z_();return{hasPermission:n=>!e||!e.permissions?!1:e.permissions.some(r=>r.name===n),user:e}},Brn=({open:e,handleDialogClose:t,pipeId:n,activeTab:r,handleTabChange:i,setActiveTab:o,handleDownload:s})=>{const{isLoading:a}=z_(),{hasPermission:l}=wA(),{data:c,isLoading:u}=ls(n),d=!!c?.target_template_id,f=l(a0.CREATE_TEMPLATE);if(R.useEffect(()=>{d&&r==="create-template"&&o("update-template")},[d,r]),a||!c||!n)return null;const p=()=>h.jsxs(yNe,{value:r,onChange:i,children:[h.jsx(bv,{label:"Share",value:"share-link"}),d&&h.jsx(bv,{label:"Template",value:"update-template"}),f&&!d&&h.jsx(bv,{label:"Template",value:"create-template"}),h.jsx(bv,{label:"Download",value:"download"})]}),g=()=>{if(r=="update-template")return h.jsx(zrn,{pipeId:n});if(l(a0.CREATE_TEMPLATE)&&r==="create-template")return h.jsx(Lrn,{id:c.id});if(r==="share-link")return h.jsx(mNe,{pipeId:c.id});if(r==="download")return h.jsx(hNe,{pipeId:c.id,name:c.name,handleDownload:s})};return h.jsx(pNe,{title:`Share Dashboard "${c.name}"`,isLoading:u,open:e,onDialogClose:t,tabs:p(),tabContent:g()})},Urn=({reportId:e})=>{const t=eAt(),n=tAt(),r=A4(),{data:i,isLoading:o}=og(e),s=pn();if(!i||o)return null;const a=u=>{r.mutate({path:{id:i.id},body:{operation:"update_accessibility",value:{status:u}}},{onSuccess:(d,f)=>{s.invalidateQueries({queryKey:up({path:{id:f.path.id}})})}})},l=u=>{t.mutate({path:{id:e},body:{username_or_cost_center:u}})},c=u=>{n.mutate({path:{report_id:e,grant_id:u}})};return h.jsx(gNe,{handleCreateGrant:l,handleDeleteGrant:c,accessGrants:i.access_grants,handleAccessLevelChange:a,accessLevel:i.link_accessibility})};function Oa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Vrn=typeof Symbol=="function"&&Symbol.observable||"@@observable",rxe=Vrn,ixe=()=>Math.random().toString(36).substring(7).split("").join("."),Hrn={INIT:`@@redux/INIT${ixe()}`,REPLACE:`@@redux/REPLACE${ixe()}`},oxe=Hrn;function Wrn(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function vNe(e,t,n){if(typeof e!="function")throw new Error(Oa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Oa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Oa(1));return n(vNe)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((v,x)=>{s.set(x,v)}))}function u(){if(l)throw new Error(Oa(3));return i}function d(v){if(typeof v!="function")throw new Error(Oa(4));if(l)throw new Error(Oa(5));let x=!0;c();const w=a++;return s.set(w,v),function(){if(x){if(l)throw new Error(Oa(6));x=!1,c(),s.delete(w),o=null}}}function f(v){if(!Wrn(v))throw new Error(Oa(7));if(typeof v.type>"u")throw new Error(Oa(8));if(typeof v.type!="string")throw new Error(Oa(17));if(l)throw new Error(Oa(9));try{l=!0,i=r(i,v)}finally{l=!1}return(o=s).forEach(w=>{w()}),v}function p(v){if(typeof v!="function")throw new Error(Oa(10));r=v,f({type:oxe.REPLACE})}function g(){const v=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Oa(11));function w(){const C=x;C.next&&C.next(u())}return w(),{unsubscribe:v(w)}},[rxe](){return this}}}return f({type:oxe.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[rxe]:g}}function sxe(e,t){return function(...n){return t(e.apply(this,n))}}function axe(e,t){if(typeof e=="function")return sxe(e,t);if(typeof e!="object"||e===null)throw new Error(Oa(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=sxe(i,t))}return n}function bNe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function qrn(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Oa(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=e.map(l=>l(s));return o=bNe(...a)(i.dispatch),{...i,dispatch:o}}}var rU={exports:{}},iU={};var lxe;function Grn(){if(lxe)return iU;lxe=1;var e=y_();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,a=e.useDebugValue;return iU.useSyncExternalStoreWithSelector=function(l,c,u,d,f){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=s(function(){function v(k){if(!x){if(x=!0,w=k,k=d(k),f!==void 0&&g.hasValue){var T=g.value;if(f(T,k))return S=T}return S=k}if(T=S,n(w,k))return T;var E=d(k);return f!==void 0&&f(T,E)?(w=k,T):(w=k,S=E)}var x=!1,w,S,C=u===void 0?null:u;return[function(){return v(c())},C===null?void 0:function(){return v(C())}]},[c,u,d,f]);var y=r(l,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=y},[y]),a(y),y},iU}var cxe;function Yrn(){return cxe||(cxe=1,rU.exports=Grn()),rU.exports}Yrn();var Xrn=R.version.startsWith("19"),Krn=Symbol.for(Xrn?"react.transitional.element":"react.element"),Zrn=Symbol.for("react.portal"),Qrn=Symbol.for("react.fragment"),Jrn=Symbol.for("react.strict_mode"),ein=Symbol.for("react.profiler"),tin=Symbol.for("react.consumer"),nin=Symbol.for("react.context"),xNe=Symbol.for("react.forward_ref"),rin=Symbol.for("react.suspense"),iin=Symbol.for("react.suspense_list"),Lne=Symbol.for("react.memo"),oin=Symbol.for("react.lazy"),sin=xNe,ain=Lne;function lin(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Krn:switch(e=e.type,e){case Qrn:case ein:case Jrn:case rin:case iin:return e;default:switch(e=e&&e.$$typeof,e){case nin:case xNe:case oin:case Lne:return e;case tin:return e;default:return t}}case Zrn:return t}}}function cin(e){return lin(e)===Lne}function uin(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,c,u,d,f;function p(w,S){return l=w,c=S,u=e(l,c),d=t(r,c),f=n(u,d,c),a=!0,f}function g(){return u=e(l,c),t.dependsOnOwnProps&&(d=t(r,c)),f=n(u,d,c),f}function y(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(d=t(r,c)),f=n(u,d,c),f}function v(){const w=e(l,c),S=!s(w,u);return u=w,S&&(f=n(u,d,c)),f}function x(w,S){const C=!o(S,c),k=!i(w,l,S,c);return l=w,c=S,C&&k?g():C?y():k?v():f}return function(S,C){return a?x(S,C):p(S,C)}}function din(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),a=r(e,i);return uin(o,s,a,e,i)}function fin(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function EG(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function uxe(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function wNe(e,t){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=uxe(e);let c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=uxe(c),c=o(a,l)),c},o}}function Nne(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function pin(e){return e&&typeof e=="object"?EG(t=>fin(e,t)):e?typeof e=="function"?wNe(e):Nne(e,"mapDispatchToProps"):EG(t=>({dispatch:t}))}function hin(e){return e?typeof e=="function"?wNe(e):Nne(e,"mapStateToProps"):EG(()=>({}))}function gin(e,t,n){return{...n,...e,...t}}function min(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,c,u){const d=e(l,c,u);return o?i(d,s)||(s=d):(o=!0,s=d),s}}}function yin(e){return e?typeof e=="function"?min(e):Nne(e,"mergeProps"):()=>gin}function vin(e){e()}function bin(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vin(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var dxe={notify(){},get:()=>[]};function SNe(e,t){let n,r=dxe,i=0,o=!1;function s(y){u();const v=r.subscribe(y);let x=!1;return()=>{x||(x=!0,v(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return o}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=bin())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dxe)}function f(){o||(o=!0,u())}function p(){o&&(o=!1,d())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var xin=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",win=xin(),Sin=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_in=Sin(),Cin=()=>win||_in?R.useLayoutEffect:R.useEffect,A3=Cin();function fxe(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oU(e,t){if(fxe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fxe(e[n[i]],t[n[i]]))return!1;return!0}var kin={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ein={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tin={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_Ne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rin={[sin]:Tin,[ain]:_Ne};function pxe(e){return cin(e)?_Ne:Rin[e.$$typeof]||kin}var Min=Object.defineProperty,Ain=Object.getOwnPropertyNames,hxe=Object.getOwnPropertySymbols,Pin=Object.getOwnPropertyDescriptor,Din=Object.getPrototypeOf,gxe=Object.prototype;function TG(e,t){if(typeof t!="string"){if(gxe){const o=Din(t);o&&o!==gxe&&TG(e,o)}let n=Ain(t);hxe&&(n=n.concat(hxe(t)));const r=pxe(e),i=pxe(t);for(let o=0;o<n.length;++o){const s=n[o];if(!Ein[s]&&!(i&&i[s])&&!(r&&r[s])){const a=Pin(t,s);try{Min(e,s,a)}catch{}}}}return e}var Oin=Symbol.for("react-redux-context"),Iin=typeof globalThis<"u"?globalThis:{};function jin(){if(!R.createContext)return{};const e=Iin[Oin]??=new Map;let t=e.get(R.createContext);return t||(t=R.createContext(null),e.set(R.createContext,t)),t}var CNe=jin(),$in=[null,null];function Fin(e,t,n){A3(()=>e(...t),n)}function Lin(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function Nin(e,t,n,r,i,o,s,a,l,c,u){if(!e)return()=>{};let d=!1,f=null;const p=()=>{if(d||!a.current)return;const y=t.getState();let v,x;try{v=r(y,i.current)}catch(w){x=w,f=w}x||(f=null),v===o.current?s.current||c():(o.current=v,l.current=v,s.current=!0,u())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function zin(e,t){return e===t}function Bin(e,t,n,{pure:r,areStatesEqual:i=zin,areOwnPropsEqual:o=oU,areStatePropsEqual:s=oU,areMergedPropsEqual:a=oU,forwardRef:l=!1,context:c=CNe}={}){const u=c,d=hin(e),f=pin(t),p=yin(n),g=!!e;return v=>{const x=v.displayName||v.name||"Component",w=`Connect(${x})`,S={shouldHandleStateChanges:g,displayName:w,wrappedComponentName:x,WrappedComponent:v,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function C(E){const[A,O,I]=R.useMemo(()=>{const{reactReduxForwardedRef:ie,...xe}=E;return[E.context,ie,xe]},[E]),j=R.useMemo(()=>{let ie=u;return A?.Consumer,ie},[A,u]),P=R.useContext(j),$=!!E.store&&!!E.store.getState&&!!E.store.dispatch,D=!!P&&!!P.store,F=$?E.store:P.store,N=D?P.getServerState:F.getState,V=R.useMemo(()=>din(F.dispatch,S),[F]),[H,U]=R.useMemo(()=>{if(!g)return $in;const ie=SNe(F,$?void 0:P.subscription),xe=ie.notifyNestedSubs.bind(ie);return[ie,xe]},[F,$,P]),G=R.useMemo(()=>$?P:{...P,subscription:H},[$,P,H]),z=R.useRef(void 0),W=R.useRef(I),X=R.useRef(void 0),Q=R.useRef(!1),ee=R.useRef(!1),ne=R.useRef(void 0);A3(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const oe=R.useMemo(()=>()=>X.current&&I===W.current?X.current:V(F.getState(),I),[F,I]),ce=R.useMemo(()=>xe=>H?Nin(g,F,H,V,W,z,Q,ee,X,U,xe):()=>{},[H]);Fin(Lin,[W,z,Q,I,X,U]);let re;try{re=R.useSyncExternalStore(ce,oe,N?()=>V(N(),I):oe)}catch(ie){throw ne.current&&(ie.message+=`
The error may be correlated with this previous error:
${ne.current.stack}

`),ie}A3(()=>{ne.current=void 0,X.current=void 0,z.current=re});const ge=R.useMemo(()=>R.createElement(v,{...re,ref:O}),[O,v,re]);return R.useMemo(()=>g?R.createElement(j.Provider,{value:G},ge):ge,[j,ge,G])}const T=R.memo(C);if(T.WrappedComponent=v,T.displayName=C.displayName=w,l){const A=R.forwardRef(function(I,j){return R.createElement(T,{...I,reactReduxForwardedRef:j})});return A.displayName=w,A.WrappedComponent=v,TG(A,v)}return TG(T,v)}}var kNe=Bin;function Uin(e){const{children:t,context:n,serverState:r,store:i}=e,o=R.useMemo(()=>{const l=SNe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=R.useMemo(()=>i.getState(),[i]);A3(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||CNe;return R.createElement(a.Provider,{value:o},t)}var Vin=Uin,_d=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},zne=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},mxe=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Hin=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},sU={top:0,right:0,bottom:0,left:0},Bne=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?sU:r,o=t.border,s=o===void 0?sU:o,a=t.padding,l=a===void 0?sU:a,c=_d(zne(n,i)),u=_d(mxe(n,s)),d=_d(mxe(u,l));return{marginBox:c,borderBox:_d(n),paddingBox:u,contentBox:d,margin:i,border:s,padding:l}},Qc=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Gf(!1),i},Win=function(){return{x:window.pageXOffset,y:window.pageYOffset}},P3=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=Hin(r,n);return Bne({borderBox:a,border:i,margin:o,padding:s})},D3=function(t,n){return n===void 0&&(n=Win()),P3(t,n)},ENe=function(t,n){var r={top:Qc(n.marginTop),right:Qc(n.marginRight),bottom:Qc(n.marginBottom),left:Qc(n.marginLeft)},i={top:Qc(n.paddingTop),right:Qc(n.paddingRight),bottom:Qc(n.paddingBottom),left:Qc(n.paddingLeft)},o={top:Qc(n.borderTopWidth),right:Qc(n.borderRightWidth),bottom:Qc(n.borderBottomWidth),left:Qc(n.borderLeftWidth)};return Bne({borderBox:t,margin:r,padding:i,border:o})},TNe=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return ENe(n,r)},dR=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function RNe(e,t){}RNe.bind(null,"warn");RNe.bind(null,"error");function qm(){}function qin(e,t){return{...e,...t}}function yu(e,t,n){const r=t.map(i=>{const o=qin(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const Gin="Invariant failed";class O3 extends Error{}O3.prototype.toString=function(){return this.message};function Tt(e,t){throw new O3(Gin)}class Yin extends Vt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=qm,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof O3&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=yu(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof O3){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Xin=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,I3=e=>e+1,Kin=e=>`
  You have lifted an item in position ${I3(e.source.index)}
`,MNe=(e,t)=>{const n=e.droppableId===t.droppableId,r=I3(e.index),i=I3(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},ANe=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Zin=e=>{const t=e.destination;if(t)return MNe(e.source,t);const n=e.combine;return n?ANe(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},yxe=e=>`
  The item has returned to its starting position
  of ${I3(e.index)}
`,Qin=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${yxe(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${MNe(e.source,t)}
    `:n?`
      You have dropped the item.
      ${ANe(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${yxe(e.source)}
  `},Tj={dragHandleUsageInstructions:Xin,onDragStart:Kin,onDragUpdate:Zin,onDragEnd:Qin};function Jin(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function PNe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Jin(e[n],t[n]))return!1;return!0}function Sr(e,t){const n=R.useState(()=>({inputs:t,result:e()}))[0],r=R.useRef(!0),i=R.useRef(n),s=r.current||!!(t&&i.current.inputs&&PNe(t,i.current.inputs))?i.current:{inputs:t,result:e()};return R.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function ln(e,t){return Sr(()=>e,t)}const Ts={x:0,y:0},Hs=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),yc=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Gm=(e,t)=>e.x===t.x&&e.y===t.y,mC=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Db=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},fR=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),vxe=(e,t)=>Math.min(...t.map(n=>fR(e,n))),DNe=e=>t=>({x:e(t.x),y:e(t.y)});var eon=(e,t)=>{const n=_d({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const SA=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),bxe=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],ton={top:0,right:0,bottom:0,left:0},non=(e,t)=>t?SA(e,t.scroll.diff.displacement):e,ron=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,ion=(e,t)=>t&&t.shouldClipSubject?eon(t.pageMarginBox,e):_d(e);var o_=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=non(e.marginBox,r),o=ron(i,n,t),s=ion(o,r);return{page:e,withPlaceholder:t,active:s}},Une=(e,t)=>{e.frame||Tt();const n=e.frame,r=yc(t,n.scroll.initial),i=mC(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=o_({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function ks(e,t=PNe){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const ONe=ks(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),INe=ks(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),LN=ks(e=>Object.values(e)),oon=ks(e=>Object.values(e));var yC=ks((e,t)=>oon(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Vne(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function NN(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var zN=ks((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),son=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Vne(i))return null;function s(p){const g={type:"COMBINE",combine:{draggableId:p,droppableId:n.descriptor.id}};return{...i,at:g}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?s(l):null;const c=zN(t,r);if(!l){if(!c.length)return null;const p=c[c.length-1];return s(p.descriptor.id)}const u=c.findIndex(p=>p.descriptor.id===l);u===-1&&Tt();const d=u-1;if(d<0)return null;const f=c[d];return s(f.descriptor.id)},vC=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const jNe={point:Ts,value:0},pR={invisible:{},visible:{},all:[]},aon={displaced:pR,displacedBy:jNe,at:null};var Eu=(e,t)=>n=>e<=n&&n<=t,$Ne=e=>{const t=Eu(e.top,e.bottom),n=Eu(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return l&&c?!0:l&&s||c&&o}},lon=e=>{const t=Eu(e.top,e.bottom),n=Eu(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Hne={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},FNe={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var con=e=>t=>{const n=Eu(t.top,t.bottom),r=Eu(t.left,t.right);return i=>e===Hne?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const uon=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Ts;return SA(e,n)},don=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,fon=(e,t,n)=>n(t)(e),Wne=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?uon(e,t):e;return don(o,t,i)&&fon(o,n,i)},pon=e=>Wne({...e,isVisibleThroughFrameFn:$Ne}),LNe=e=>Wne({...e,isVisibleThroughFrameFn:lon}),hon=e=>Wne({...e,isVisibleThroughFrameFn:con(e.destination.axis)}),gon=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function mon(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return _d(zne(n,r))}function hR({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(a,l){const c=mon(l,n),u=l.descriptor.id;if(a.all.push(u),!pon({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=gon(u,o,i),p={draggableId:u,shouldAnimate:f};return a.visible[u]=p,a},{all:[],visible:{},invisible:{}})}function yon(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function xxe({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=yon(e,{inHomeList:t});return{displaced:pR,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function j3({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const l=vC(e,n);if(s==null)return xxe({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const c=t.find(g=>g.descriptor.index===s);if(!c)return xxe({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const u=zN(e,t),d=t.indexOf(c),f=u.slice(d);return{displaced:hR({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function S0(e,t){return!!t.effected[e]}var von=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return S0(o,i)?e?a:a-1:e?a+1:a},bon=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return o<s||o>l?null:o},xon=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:l})=>{const c=s.at;if(c||Tt(),c.type==="REORDER"){const d=bon({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:o});return d==null?null:j3({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:d})}const u=von({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:j3({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:u})},won=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return S0(n,t)?i?Ts:mC(r.point):i?r.point:Ts},Son=({afterCritical:e,impact:t,draggables:n})=>{const r=NN(t);r||Tt();const i=r.draggableId,o=n[i].page.borderBox.center,s=won({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Hs(o,s)};const NNe=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,_on=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,qne=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,wxe=({axis:e,moveRelativeTo:t,isMoving:n})=>Db(e.line,t.marginBox[e.end]+NNe(e,n),qne(e,t.marginBox,n)),Sxe=({axis:e,moveRelativeTo:t,isMoving:n})=>Db(e.line,t.marginBox[e.start]-_on(e,n),qne(e,t.marginBox,n)),Con=({axis:e,moveInto:t,isMoving:n})=>Db(e.line,t.contentBox[e.start]+NNe(e,n),qne(e,t.contentBox,n));var kon=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=yC(r.descriptor.id,n),s=t.page,a=r.axis;if(!o.length)return Con({axis:a,moveInto:r.page,isMoving:s});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const f=n[u];if(S0(u,i))return Sxe({axis:a,moveRelativeTo:f.page,isMoving:s});const p=P3(f.page,c.point);return Sxe({axis:a,moveRelativeTo:p,isMoving:s})}const d=o[o.length-1];if(d.descriptor.id===t.descriptor.id)return s.borderBox.center;if(S0(d.descriptor.id,i)){const f=P3(d.page,mC(i.displacedBy.point));return wxe({axis:a,moveRelativeTo:f,isMoving:s})}return wxe({axis:a,moveRelativeTo:d.page,isMoving:s})},RG=(e,t)=>{const n=e.frame;return n?Hs(t,n.scroll.diff.displacement):t};const Eon=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?kon({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):Son({impact:e,draggables:r,afterCritical:i})};var BN=e=>{const t=Eon(e),n=e.droppable;return n?RG(n,t):t},zNe=(e,t)=>{const n=yc(t,e.scroll.initial),r=mC(n);return{frame:_d({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function _xe(e,t){return e.map(n=>t[n])}function Ton(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Ron=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=zNe(t,Hs(t.scroll.current,i)),s=n.frame?Une(n,Hs(n.frame.scroll.current,i)):n,a=e.displaced,l=hR({afterDragging:_xe(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),c=hR({afterDragging:_xe(a.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(g=>{const y=Ton(g,f);if(y){d[g]=y;return}u[g]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:d}}},Mon=(e,t)=>Hs(e.scroll.diff.displacement,t),Gne=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Mon(n,e),i=yc(r,t.page.borderBox.center);return Hs(t.client.borderBox.center,i)},BNe=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=yc(n,e.page.borderBox.center),l={target:SA(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?hon(l):LNe(l)},Aon=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=yC(n.descriptor.id,r),u=vC(t,n),d=son({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:i})||xon({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:o,afterCritical:l});if(!d)return null;const f=BN({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(BNe({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Gne({pageBorderBoxCenter:f,draggable:t,viewport:o}),impact:d,scrollJumpRequest:null};const g=yc(f,s),y=Ron({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:a,impact:y,scrollJumpRequest:g}};const Ra=e=>{const t=e.subject.active;return t||Tt(),t};var Pon=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,a=Eu(o[s.start],o[s.end]),l=LN(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>$Ne(i.frame)(Ra(u))).filter(u=>{const d=Ra(u);return e?o[s.crossAxisEnd]<d[s.crossAxisEnd]:d[s.crossAxisStart]<o[s.crossAxisStart]}).filter(u=>{const d=Ra(u),f=Eu(d[s.start],d[s.end]);return a(d[s.start])||a(d[s.end])||f(o[s.start])||f(o[s.end])}).sort((u,d)=>{const f=Ra(u)[s.crossAxisStart],p=Ra(d)[s.crossAxisStart];return e?f-p:p-f}).filter((u,d,f)=>Ra(u)[s.crossAxisStart]===Ra(f[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>Eu(Ra(u)[s.start],Ra(u)[s.end])(t[s.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>Ra(u)[s.start]-Ra(d)[s.start])[0]:l.sort((u,d)=>{const f=vxe(t,bxe(Ra(u))),p=vxe(t,bxe(Ra(d)));return f!==p?f-p:Ra(u)[s.start]-Ra(d)[s.start]})[0]};const Cxe=(e,t)=>{const n=e.page.borderBox.center;return S0(e.descriptor.id,t)?yc(n,t.displacedBy.point):n},Don=(e,t)=>{const n=e.page.borderBox;return S0(e.descriptor.id,t)?SA(n,mC(t.displacedBy.point)):n};var Oon=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>LNe({target:Don(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const l=fR(e,RG(n,Cxe(s,i))),c=fR(e,RG(n,Cxe(a,i)));return l<c?-1:c<l?1:s.descriptor.index-a.descriptor.index})[0]||null,_A=ks(function(t,n){const r=n[t.line];return{value:r,point:Db(t.line,r)}});const Ion=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Db(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=yC(e.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:Db(r.line,l)},UNe=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),VNe=(e,t,n)=>{const r=e.frame;vC(t,e)&&Tt(),e.subject.withPlaceholder&&Tt();const i=_A(e.axis,t.displaceBy).point,o=Ion(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const u=o_({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=o?Hs(r.scroll.max,o):r.scroll.max,l=UNe(r,a),c=o_({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},jon=e=>{const t=e.subject.withPlaceholder;t||Tt();const n=e.frame;if(!n){const s=o_({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||Tt();const i=UNe(n,r),o=o_({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var $on=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!t){if(n.length)return null;const d={displaced:pR,displacedBy:jNe,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=BN({impact:d,draggable:r,droppable:o,draggables:i,afterCritical:a}),p=vC(r,o)?o:VNe(o,r,i);return BNe({draggable:r,destination:p,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],c=(()=>{const d=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?d:d+1})(),u=_A(o.axis,r.displaceBy);return j3({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:u,last:pR,index:c})},Fon=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const l=Pon({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!l)return null;const c=yC(l.descriptor.id,i),u=Oon({pageBorderBoxCenter:t,viewport:s,destination:l,insideDestination:c,afterCritical:a}),d=$on({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:s,afterCritical:a});if(!d)return null;const f=BN({impact:d,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:Gne({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},kc=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Lon=(e,t)=>{const n=kc(e);return n?t[n]:null};var Non=({state:e,type:t})=>{const n=Lon(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,a=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:f}=e.dimensions;return a?Aon({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:o,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Fon({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:o,draggables:d,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Gy(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function HNe(e){const t=Eu(e.top,e.bottom),n=Eu(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function zon(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Bon({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,a=Db(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:fR(r,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function Uon({pageBorderBox:e,draggable:t,droppables:n}){const r=LN(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!zon(e,o))return!1;if(HNe(o)(e.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],l=e[s.crossAxisStart],c=e[s.crossAxisEnd],u=Eu(o[s.crossAxisStart],o[s.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:Bon({pageBorderBox:e,draggable:t,candidates:r}):null}const WNe=(e,t)=>_d(SA(e,t));var Von=(e,t)=>{const n=e.frame;return n?WNe(t,n.scroll.diff.value):t};function qNe({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Hon({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Won=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const a=n.axis,l=_A(n.axis,t.displaceBy),c=l.value,u=e[a.start],d=e[a.end],p=zN(t,r).find(y=>{const v=y.descriptor.id,x=y.page.borderBox.center[a.line],w=S0(v,s),S=qNe({displaced:i,id:v});return w?S?d<=x:u<x-c:S?d<=x+c:u<x})||null,g=Hon({draggable:t,closest:p,inHomeList:vC(t,n)});return j3({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:l,index:g})};const qon=4;var Gon=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=_A(r.axis,e.displaceBy),l=a.value,c=t[s.start],u=t[s.end],f=zN(e,i).find(g=>{const y=g.descriptor.id,v=g.page.borderBox,w=v[s.size]/qon,S=S0(y,o),C=qNe({displaced:n.displaced,id:y});return S?C?u>v[s.start]+w&&u<v[s.end]-w:c>v[s.start]-l+w&&c<v[s.end]-l-w:C?u>v[s.start]+l+w&&u<v[s.end]+l-w:c>v[s.start]+w&&c<v[s.end]-w});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},GNe=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const a=WNe(t.page.borderBox,e),l=Uon({pageBorderBox:a,draggable:t,droppables:r});if(!l)return aon;const c=r[l],u=yC(c.descriptor.id,n),d=Von(c,a);return Gon({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:i,destination:c,insideDestination:u,afterCritical:s})||Won({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:i.displaced,viewport:o,afterCritical:s})},Yne=(e,t)=>({...e,[t.descriptor.id]:t});const Yon=({previousImpact:e,impact:t,droppables:n})=>{const r=kc(e),i=kc(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=jon(o);return Yne(n,s)};var Xon=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=Yon({previousImpact:r,impact:i,droppables:n}),s=kc(i);if(!s)return o;const a=n[s];if(vC(e,a)||a.subject.withPlaceholder)return o;const l=VNe(a,e,t);return Yne(o,l)},HE=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=yc(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:Hs(e.initial.client.borderBoxCenter,c)},d={selection:Hs(u.selection,s.scroll.current),borderBoxCenter:Hs(u.borderBoxCenter,s.scroll.current),offset:Hs(u.offset,s.scroll.diff.value)},f={client:u,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:s,current:f};const p=a.draggables[e.critical.draggable.id],g=i||GNe({pageOffset:d.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),y=Xon({draggable:p,impact:g,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:f,dimensions:{draggables:a.draggables,droppables:y},impact:g,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function Kon(e,t){return e.map(n=>t[n])}var YNe=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=Kon(o.all,n),a=hR({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:a}},XNe=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=BN({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Gne({pageBorderBoxCenter:s,draggable:t,viewport:i})},KNe=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Tt();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:a}=o,l=s[e.critical.draggable.id],c=kc(r);c||Tt();const u=a[c],d=YNe({impact:r,viewport:i,destination:u,draggables:s}),f=XNe({impact:d,draggable:l,droppable:u,draggables:s,viewport:i,afterCritical:e.afterCritical});return HE({impact:d,clientSelection:f,state:e,dimensions:o,viewport:i})},Zon=e=>({index:e.index,droppableId:e.droppableId}),ZNe=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=_A(t.axis,e.displaceBy),o=yC(t.descriptor.id,n),s=o.indexOf(e);s===-1&&Tt();const a=o.slice(s+1),l=a.reduce((f,p)=>(f[p.descriptor.id]=!0,f),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:hR({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:Zon(e.descriptor)}},afterCritical:c}},Qon=(e,t)=>({draggables:e.draggables,droppables:Yne(e.droppables,t)}),Jon=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=P3(e.client,t),i=D3(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},esn=e=>{const t=e.frame;return t||Tt(),t},tsn=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],l=esn(s).scroll.diff.value,c=Hs(r,l);return Jon({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},nsn=({state:e,published:t})=>{const n=t.modified.map(x=>{const w=e.dimensions.droppables[x.droppableId];return Une(w,x.scroll)}),r={...e.dimensions.droppables,...ONe(n)},i=INe(tsn({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(x=>{delete o[x]});const s={droppables:r,draggables:o},a=kc(e.impact),l=a?s.droppables[a]:null,c=s.draggables[e.critical.draggable.id],u=s.droppables[e.critical.droppable.id],{impact:d,afterCritical:f}=ZNe({draggable:c,home:u,draggables:o,viewport:e.viewport}),p=l&&l.isCombineEnabled?e.impact:d,g=GNe({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:e.viewport,afterCritical:f}),y={...e,phase:"DRAGGING",impact:g,onLiftImpact:d,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const MG=e=>e.movementMode==="SNAP",aU=(e,t,n)=>{const r=Qon(e.dimensions,t);return!MG(e)||n?HE({state:e,dimensions:r}):KNe({state:e,dimensions:r})};function lU(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const kxe={phase:"IDLE",completed:null,shouldFlush:!1};var rsn=(e=kxe,t)=>{if(t.type==="FLUSH")return{...kxe,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Tt();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,a=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Ts},u={client:c,page:{selection:Hs(c.selection,i.scroll.initial),borderBoxCenter:Hs(c.selection,i.scroll.initial),offset:Hs(c.selection,i.scroll.diff.value)}},d=LN(o.droppables).every(y=>!y.isFixedOnPage),{impact:f,afterCritical:p}=ZNe({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:p,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Tt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Tt(),nsn({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Gy(e)||Tt();const{client:n}=t.payload;return Gm(n,e.current.client.selection)?e:HE({state:e,clientSelection:n,impact:MG(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return lU(e);Gy(e)||Tt();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=Une(i,r);return aU(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Gy(e)||Tt();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Tt(),i.isEnabled===r&&Tt();const o={...i,isEnabled:r};return aU(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Gy(e)||Tt();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Tt(),i.isCombineEnabled===r&&Tt();const o={...i,isCombineEnabled:r};return aU(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Gy(e)||Tt(),e.isWindowScrollAllowed||Tt();const n=t.payload.newScroll;if(Gm(e.viewport.scroll.current,n))return lU(e);const r=zNe(e.viewport,n);return MG(e)?KNe({state:e,viewport:r}):HE({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Gy(e))return e;const n=t.payload.maxScroll;if(Gm(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Tt();const n=Non({state:e,type:t.type});return n?HE({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Tt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Tt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Yr(e,t){return e instanceof Object&&"type"in e&&e.type===t}const isn=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),osn=e=>({type:"LIFT",payload:e}),ssn=e=>({type:"INITIAL_PUBLISH",payload:e}),asn=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),lsn=()=>({type:"COLLECTION_STARTING",payload:null}),csn=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),usn=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),dsn=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),QNe=e=>({type:"MOVE",payload:e}),fsn=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),psn=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),hsn=()=>({type:"MOVE_UP",payload:null}),gsn=()=>({type:"MOVE_DOWN",payload:null}),msn=()=>({type:"MOVE_RIGHT",payload:null}),ysn=()=>({type:"MOVE_LEFT",payload:null}),Xne=()=>({type:"FLUSH",payload:null}),vsn=e=>({type:"DROP_ANIMATE",payload:e}),Kne=e=>({type:"DROP_COMPLETE",payload:e}),JNe=e=>({type:"DROP",payload:e}),bsn=e=>({type:"DROP_PENDING",payload:e}),eze=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var xsn=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Yr(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(Kne({completed:l.completed})),t().phase!=="IDLE"&&Tt(),n(Xne()),n(isn({draggableId:o,movementMode:a}));const u={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:p}=e.startPublishing(u);n(ssn({critical:d,dimensions:f,clientSelection:s,movementMode:a,viewport:p}))},wsn=e=>()=>t=>n=>{Yr(n,"INITIAL_PUBLISH")&&e.dragging(),Yr(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Yr(n,"FLUSH")||Yr(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Zne={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},gR={opacity:{drop:0,combining:.7},scale:{drop:.75}},tze={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},jy=`${tze.outOfTheWay}s ${Zne.outOfTheWay}`,WE={fluid:`opacity ${jy}`,snap:`transform ${jy}, opacity ${jy}`,drop:e=>{const t=`${e}s ${Zne.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${jy}`,placeholder:`height ${jy}, width ${jy}, margin ${jy}`},Exe=e=>Gm(e,Ts)?void 0:`translate(${e.x}px, ${e.y}px)`,AG={moveTo:Exe,drop:(e,t)=>{const n=Exe(e);if(n)return t?`${n} scale(${gR.scale.drop})`:n}},{minDropTime:PG,maxDropTime:nze}=tze,Ssn=nze-PG,Txe=1500,_sn=.6;var Csn=({current:e,destination:t,reason:n})=>{const r=fR(e,t);if(r<=0)return PG;if(r>=Txe)return nze;const i=r/Txe,o=PG+Ssn*i,s=n==="CANCEL"?o*_sn:o;return Number(s.toFixed(2))},ksn=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,a=kc(e),l=a?s[a]:null,c=s[t.descriptor.droppableId],u=XNe({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:l||c,viewport:r});return yc(u,t.client.borderBox.center)},Esn=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:YNe({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:pR},didDropInsideDroppable:!0};const Tsn=({getState:e,dispatch:t})=>n=>r=>{if(!Yr(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t(bsn({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Tt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Tt();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=Esn({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d?Vne(u):null,p=d?NN(u):null,g={index:a.draggable.index,droppableId:a.droppable.id},y={draggableId:c.descriptor.id,type:c.descriptor.type,source:g,reason:o,mode:i.movementMode,destination:f,combine:p},v=ksn({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:u};if(!(!Gm(i.current.client.offset,v)||!!y.combine)){t(Kne({completed:x}));return}const S=Csn({current:i.current.client.offset,destination:v,reason:o});t(vsn({newHomeClientOffset:v,dropDuration:S,completed:x}))};var rze=()=>({x:window.pageXOffset,y:window.pageYOffset});function Rsn(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Msn({onWindowScroll:e}){function t(){e(rze())}const n=dR(t),r=Rsn(n);let i=qm;function o(){return i!==qm}function s(){o()&&Tt(),i=yu(window,[r])}function a(){o()||Tt(),n.cancel(),i(),i=qm}return{start:s,stop:a,isActive:o}}const Asn=e=>Yr(e,"DROP_COMPLETE")||Yr(e,"DROP_ANIMATE")||Yr(e,"FLUSH"),Psn=e=>{const t=Msn({onWindowScroll:n=>{e.dispatch(fsn({newScroll:n}))}});return n=>r=>{!t.isActive()&&Yr(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Asn(r)&&t.stop(),n(r)}};var Dsn=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},Osn=()=>{const e=[],t=i=>{const o=e.findIndex(a=>a.timerId===i);o===-1&&Tt();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const Isn=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,jsn=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,$sn=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},hk=(e,t)=>{t()},LO=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function cU(e,t,n,r){if(!e){n(r(t));return}const i=Dsn(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var Fsn=(e,t)=>{const n=Osn();let r=null;const i=(d,f)=>{r&&Tt(),hk("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:d,mode:f})})},o=(d,f)=>{r&&Tt(),hk("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(LO(d,f))})},s=(d,f)=>{r&&Tt();const p=LO(d,f);r={mode:f,lastCritical:d,lastLocation:p.source,lastCombine:null},n.add(()=>{hk("onDragStart",()=>cU(e().onDragStart,p,t,Tj.onDragStart))})},a=(d,f)=>{const p=Vne(f),g=NN(f);r||Tt();const y=!$sn(d,r.lastCritical);y&&(r.lastCritical=d);const v=!Isn(r.lastLocation,p);v&&(r.lastLocation=p);const x=!jsn(r.lastCombine,g);if(x&&(r.lastCombine=g),!y&&!v&&!x)return;const w={...LO(d,r.mode),combine:g,destination:p};n.add(()=>{hk("onDragUpdate",()=>cU(e().onDragUpdate,w,t,Tj.onDragUpdate))})},l=()=>{r||Tt(),n.flush()},c=d=>{r||Tt(),r=null,hk("onDragEnd",()=>cU(e().onDragEnd,d,t,Tj.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const d={...LO(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},Lsn=(e,t)=>{const n=Fsn(e,t);return r=>i=>o=>{if(Yr(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(Yr(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(Yr(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),Yr(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const Nsn=e=>t=>n=>{if(!Yr(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Tt(),e.dispatch(Kne({completed:r.completed}))},zsn=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((Yr(o,"FLUSH")||Yr(o,"DROP_COMPLETE")||Yr(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!Yr(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(eze())}};n=requestAnimationFrame(()=>{n=null,t=yu(window,[s])})}};var Bsn=e=>()=>t=>n=>{(Yr(n,"DROP_COMPLETE")||Yr(n,"FLUSH")||Yr(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Usn=e=>{let t=!1;return()=>n=>r=>{if(Yr(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Yr(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Yr(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Vsn=e=>Yr(e,"DROP_COMPLETE")||Yr(e,"DROP_ANIMATE")||Yr(e,"FLUSH");var Hsn=e=>t=>n=>r=>{if(Vsn(r)){e.stop(),n(r);return}if(Yr(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Tt(),e.start(i);return}n(r),e.scroll(t.getState())};const Wsn=e=>t=>n=>{if(t(n),!Yr(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(JNe({reason:r.reason})))},qsn=bNe;var Gsn=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>vNe(rsn,qsn(qrn(wsn(n),Bsn(e),xsn(e),Tsn,Nsn,zsn,Wsn,Hsn(o),Psn,Usn(t),Lsn(r,i))));const uU=()=>({additions:{},removals:{},modified:{}});function Ysn({registry:e,callbacks:t}){let n=uU(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,d=Object.keys(l).map(g=>e.draggable.getById(g).getDimension(Ts)).sort((g,y)=>g.descriptor.index-y.descriptor.index),f=Object.keys(u).map(g=>{const v=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:v}}),p={additions:d,removals:Object.keys(c),modified:f};n=uU(),t.publish(p)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=uU())}}}var ize=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=yc({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},oze=()=>{const e=document.documentElement;return e||Tt(),e},sze=()=>{const e=oze();return ize({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Xsn=()=>{const e=rze(),t=sze(),n=e.y,r=e.x,i=oze(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s;return{frame:_d({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Ts,displacement:Ts}}}},Ksn=({critical:e,scrollOptions:t,registry:n})=>{const r=Xsn(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:INe(a),droppables:ONe(s)},critical:e,viewport:r}};function Rxe(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Zsn=(e,t)=>{let n=null;const r=Ysn({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(f,p)=>{e.droppable.exists(f)||Tt(),n&&t.updateDroppableIsEnabled({id:f,isEnabled:p})},o=(f,p)=>{n&&(e.droppable.exists(f)||Tt(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:p}))},s=(f,p)=>{n&&(e.droppable.exists(f)||Tt(),t.updateDroppableScroll({id:f,newScroll:p}))},a=(f,p)=>{n&&e.droppable.getById(f).callbacks.scroll(p)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(p=>p.callbacks.dragStopped()),n.unsubscribe(),n=null},c=f=>{n||Tt();const p=n.critical.draggable;f.type==="ADDITION"&&Rxe(e,p,f.value)&&r.add(f.value),f.type==="REMOVAL"&&Rxe(e,p,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:f=>{n&&Tt();const p=e.draggable.getById(f.draggableId),g=e.droppable.getById(p.descriptor.droppableId),y={draggable:p.descriptor,droppable:g.descriptor},v=e.subscribe(c);return n={critical:y,unsubscribe:v},Ksn({critical:y,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:l}},aze=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Qsn=e=>{window.scrollBy(e.x,e.y)};const Jsn=ks(e=>LN(e).filter(t=>!(!t.isEnabled||!t.frame))),ean=(e,t)=>Jsn(t).find(r=>(r.frame||Tt(),HNe(r.frame.pageMarginBox)(e)))||null;var tan=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return ean(e,n)};const mR={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var nan=(e,t,n=()=>mR)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},lze=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Qne=1,ran=(e,t,n=()=>mR)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Qne;const o=1-lze({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},ian=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,a=o,c=Date.now()-s;if(c>=o)return e;if(c<i)return Qne;const u=lze({startOfRange:i,endOfRange:a,current:c}),d=e*r.ease(u);return Math.ceil(d)},Mxe=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=ran(e,t,i);return o===0?0:r?Math.max(ian(o,n,i),Qne):o},Axe=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=nan(e,r,o);return t[r.end]<t[r.start]?Mxe({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*Mxe({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},oan=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const san=DNe(e=>e===0?0:e);var cze=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=Axe({container:t,distanceToEdges:s,dragStartTime:e,axis:Hne,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),l=Axe({container:t,distanceToEdges:s,dragStartTime:e,axis:FNe,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=san({x:l,y:a});if(Gm(c,Ts))return null;const u=oan({container:t,subject:n,proposedScroll:c});return u?Gm(u,Ts)?null:u:null};const aan=DNe(e=>e===0?0:e>0?1:-1),Jne=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Hs(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Gm(o,Ts)?null:o}})(),uze=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=aan(n),o=Jne({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},ere=(e,t)=>uze({current:e.scroll.current,max:e.scroll.max,change:t}),lan=(e,t)=>{if(!ere(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Jne({current:r,max:n,change:t})},tre=(e,t)=>{const n=e.frame;return n?uze({current:n.scroll.current,max:n.scroll.max,change:t}):!1},can=(e,t)=>{const n=e.frame;return!n||!tre(e,t)?null:Jne({current:n.scroll.current,max:n.scroll.max,change:t})};var uan=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=cze({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&ere(e,s)?s:null},dan=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const a=cze({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&tre(e,a)?a:null},Pxe=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,f=uan({dragStartTime:t,viewport:d,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(f){r(f);return}}const c=tan({center:s,destination:kc(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=dan({dragStartTime:t,droppable:c,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});u&&i(c.descriptor.id,u)},fan=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>mR})=>{const r=dR(e),i=dR(t);let o=null;const s=c=>{o||Tt();const{shouldUseTimeDampening:u,dragStartTime:d}=o;Pxe({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{o&&Tt();const u=Date.now();let d=!1;const f=()=>{d=!0};Pxe({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),o={dragStartTime:u,shouldUseTimeDampening:d},d&&s(c)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},pan=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const c=Hs(a.current.client.selection,l);e({client:c})},i=(a,l)=>{if(!tre(a,l))return l;const c=can(a,l);if(!c)return t(a.descriptor.id,l),null;const u=yc(l,c);return t(a.descriptor.id,u),yc(l,u)},o=(a,l,c)=>{if(!a||!ere(l,c))return c;const u=lan(l,c);if(!u)return n(c),null;const d=yc(c,u);return n(d),yc(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=kc(a.impact);c||Tt();const u=i(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=o(a.isWindowScrollAllowed,d,u);f&&r(a,f)}},han=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=fan({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=pan({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:i.start,stop:i.stop}};const s_="data-rfd",a_=(()=>{const e=`${s_}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),DG=(()=>{const e=`${s_}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),gan=(()=>{const e=`${s_}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Dxe={contextId:`${s_}-scroll-container-context-id`},man=e=>t=>`[${t}="${e}"]`,gk=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),yan="pointer-events: none;";var van=e=>{const t=man(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(a_.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:yan,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${WE.outOfTheWay};
    `;return{selector:t(DG.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(gan.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:gk(s,"always"),resting:gk(s,"resting"),dragging:gk(s,"dragging"),dropAnimating:gk(s,"dropAnimating"),userCancel:gk(s,"userCancel")}};const Ec=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,dU=()=>{const e=document.querySelector("head");return e||Tt(),e},Oxe=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function ban(e,t){const n=Sr(()=>van(e),[e]),r=R.useRef(null),i=R.useRef(null),o=ln(ks(d=>{const f=i.current;f||Tt(),f.textContent=d}),[]),s=ln(d=>{const f=r.current;f||Tt(),f.textContent=d},[]);Ec(()=>{!r.current&&!i.current||Tt();const d=Oxe(t),f=Oxe(t);return r.current=d,i.current=f,d.setAttribute(`${s_}-always`,e),f.setAttribute(`${s_}-dynamic`,e),dU().appendChild(d),dU().appendChild(f),s(n.always),o(n.resting),()=>{const p=g=>{const y=g.current;y||Tt(),dU().removeChild(y),g.current=null};p(r),p(i)}},[t,s,o,n.always,n.resting,e]);const a=ln(()=>o(n.dragging),[o,n.dragging]),l=ln(d=>{if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=ln(()=>{i.current&&o(n.resting)},[o,n.resting]);return Sr(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function dze(e,t){return Array.from(e.querySelectorAll(t))}var fze=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function UN(e){return e instanceof fze(e).HTMLElement}function xan(e,t){const n=`[${a_.contextId}="${e}"]`,r=dze(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(a_.draggableId)===t);return!i||!UN(i)?null:i}function wan(e){const t=R.useRef({}),n=R.useRef(null),r=R.useRef(null),i=R.useRef(!1),o=ln(function(f,p){const g={id:f,focus:p};return t.current[f]=g,function(){const v=t.current;v[f]!==g&&delete v[f]}},[]),s=ln(function(f){const p=xan(e,f);p&&p!==document.activeElement&&p.focus()},[e]),a=ln(function(f,p){n.current===f&&(n.current=p)},[]),l=ln(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&s(f)}))},[s]),c=ln(function(f){n.current=null;const p=document.activeElement;p&&p.getAttribute(a_.draggableId)===f&&(n.current=f)},[]);return Ec(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Sr(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,c,l,a])}function San(){const e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){const p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function r(d){t.length&&t.forEach(f=>f(d))}function i(d){return e.draggables[d]||null}function o(d){const f=i(d);return f||Tt(),f}const s={register:d=>{e.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const p=e.draggables[f.descriptor.id];p&&p.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,p=i(f);p&&d.uniqueId===p.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:o,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const f=a(d);return f||Tt(),f}const c={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:c,subscribe:n,clean:u}}function _an(){const e=Sr(San,[]);return R.useEffect(()=>function(){e.clean()},[e]),e}var nre=Vt.createContext(null),$3=()=>{const e=document.body;return e||Tt(),e};const Can={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},kan=e=>`rfd-announcement-${e}`;function Ean(e){const t=Sr(()=>kan(e),[e]),n=R.useRef(null);return R.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),me(o.style,Can),$3().appendChild(o),function(){setTimeout(function(){const l=$3();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]),ln(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const Tan={separator:"::"};function rre(e,t=Tan){const n=Vt.useId();return Sr(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Ran({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Man({contextId:e,text:t}){const n=rre("hidden-text",{separator:"-"}),r=Sr(()=>Ran({contextId:e,uniqueId:n}),[n,e]);return R.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",$3().appendChild(o),function(){const a=$3();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var VN=Vt.createContext(null);function pze(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),t}function Aan(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Tt();const a={abandon:s};return e=a,a}function i(){e||Tt(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function yR(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Pan=9,Dan=13,ire=27,hze=32,Oan=33,Ian=34,jan=35,$an=36,Fan=37,Lan=38,Nan=39,zan=40,Ban={[Dan]:!0,[Pan]:!0};var gze=e=>{Ban[e.keyCode]&&e.preventDefault()};const HN=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),mze=0,Ixe=5;function Uan(e,t){return Math.abs(t.x-e.x)>=Ixe||Math.abs(t.y-e.y)>=Ixe}const jxe={type:"IDLE"};function Van({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==mze)return;const l={x:s,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&Tt();const u=c.point;if(!Uan(u,l))return;i.preventDefault();const d=c.actions.fluidLift(l);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===ire){i.preventDefault(),e();return}gze(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&Tt(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:HN,fn:e}]}function Han(e){const t=R.useRef(jxe),n=R.useRef(qm),r=Sr(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==mze||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.tryGetLock(f,s,{sourceEvent:d});if(!p)return;d.preventDefault();const g={x:d.clientX,y:d.clientY};n.current(),c(p,g)}}),[e]),i=Sr(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=e.findClosestDraggableId(u);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}),[e]),o=ln(function(){const d={passive:!1,capture:!0};n.current=yu(window,[i,r],d)},[i,r]),s=ln(()=>{t.current.type!=="IDLE"&&(t.current=jxe,n.current(),o())},[o]),a=ln(()=>{const u=t.current;s(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[s]),l=ln(function(){const d={capture:!0,passive:!1},f=Van({cancel:a,completed:s,getPhase:()=>t.current,setPhase:p=>{t.current=p}});n.current=yu(window,f,d)},[a,s]),c=ln(function(d,f){t.current.type!=="IDLE"&&Tt(),t.current={type:"PENDING",point:f,actions:d},l()},[l]);Ec(function(){return o(),function(){n.current()}},[o])}function Wan(){}const qan={[Ian]:!0,[Oan]:!0,[$an]:!0,[jan]:!0};function Gan(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===ire){i.preventDefault(),n();return}if(i.keyCode===hze){i.preventDefault(),r();return}if(i.keyCode===zan){i.preventDefault(),e.moveDown();return}if(i.keyCode===Lan){i.preventDefault(),e.moveUp();return}if(i.keyCode===Nan){i.preventDefault(),e.moveRight();return}if(i.keyCode===Fan){i.preventDefault(),e.moveLeft();return}if(qan[i.keyCode]){i.preventDefault();return}gze(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:HN,fn:n}]}function Yan(e){const t=R.useRef(Wan),n=Sr(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==hze)return;const s=e.findClosestDraggableId(o);if(!s)return;const a=e.tryGetLock(s,u,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||Tt(),l=!1,t.current(),r()}t.current=yu(window,Gan(c,u),{capture:!0,passive:!1})}}),[e]),r=ln(function(){const o={passive:!1,capture:!0};t.current=yu(window,[n],o)},[n]);Ec(function(){return r(),function(){t.current()}},[r])}const fU={type:"IDLE"},Xan=120,Kan=.15;function Zan({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===ire&&n.preventDefault(),e()}},{eventName:HN,fn:e}]}function Qan({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],a={x:o,y:s};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Tt();const o=r.touches[0];if(!o||!(o.force>=Kan))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:HN,fn:e}]}function Jan(e){const t=R.useRef(fU),n=R.useRef(qm),r=ln(function(){return t.current},[]),i=ln(function(p){t.current=p},[]),o=Sr(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const g=e.findClosestDraggableId(p);if(!g)return;const y=e.tryGetLock(g,a,{sourceEvent:p});if(!y)return;const v=p.touches[0],{clientX:x,clientY:w}=v,S={x,y:w};n.current(),d(y,S)}}),[e]),s=ln(function(){const p={capture:!0,passive:!1};n.current=yu(window,[o],p)},[o]),a=ln(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(fU),n.current(),s())},[s,i]),l=ln(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=ln(function(){const p={capture:!0,passive:!1},g={cancel:l,completed:a,getPhase:r},y=yu(window,Qan(g),p),v=yu(window,Zan(g),p);n.current=function(){y(),v()}},[l,r,a]),u=ln(function(){const p=r();p.type!=="PENDING"&&Tt();const g=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),d=ln(function(p,g){r().type!=="IDLE"&&Tt();const y=setTimeout(u,Xan);i({type:"PENDING",point:g,actions:p,longPressTimerId:y}),c()},[c,r,i,u]);Ec(function(){return s(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(fU))}},[r,s,i]),Ec(function(){return yu(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const eln=["input","button","textarea","select","option","optgroup","video","audio"];function yze(e,t){if(t==null)return!1;if(eln.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:yze(e,t.parentElement)}function tln(e,t){const n=t.target;return UN(n)?yze(e,n):!1}var nln=e=>_d(e.getBoundingClientRect()).center;function rln(e){return e instanceof fze(e).Element}const iln=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function vze(e,t){return e==null?null:e[iln](t)?e:vze(e.parentElement,t)}function oln(e,t){return e.closest?e.closest(t):vze(e,t)}function sln(e){return`[${a_.contextId}="${e}"]`}function aln(e,t){const n=t.target;if(!rln(n))return null;const r=sln(e),i=oln(n,r);return!i||!UN(i)?null:i}function lln(e,t){const n=aln(e,t);return n?n.getAttribute(a_.draggableId):null}function cln(e,t){const n=`[${DG.contextId}="${e}"]`,i=dze(document,n).find(o=>o.getAttribute(DG.id)===t);return!i||!UN(i)?null:i}function uln(e){e.preventDefault()}function NO({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function bze({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!aze(t.getState(),r))}function dln({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!bze({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=cln(t,l.descriptor.id);if(!c||s&&!l.options.canDragInteractiveElements&&tln(c,s))return null;const u=e.claim(o||qm);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function p(){return e.isActive(u)}function g(k,T){NO({expected:k,phase:d,isLockActive:p,shouldWarn:!0})&&n.dispatch(T())}const y=g.bind(null,"DRAGGING");function v(k){function T(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(T(),Tt()),n.dispatch(osn(k.liftActionArgs)),d="DRAGGING";function E(A,O={shouldBlockNextClick:!1}){if(k.cleanup(),O.shouldBlockNextClick){const I=yu(window,[{eventName:"click",fn:uln,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(I)}T(),n.dispatch(JNe({reason:A}))}return{isActive:()=>NO({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,drop:A=>E("DROP",A),cancel:A=>E("CANCEL",A),...k.actions}}function x(k){const T=dR(A=>{y(()=>QNe({client:A}))});return{...v({liftActionArgs:{id:i,clientSelection:k,movementMode:"FLUID"},cleanup:()=>T.cancel(),actions:{move:T}}),move:T}}function w(){const k={moveUp:()=>y(hsn),moveRight:()=>y(msn),moveDown:()=>y(gsn),moveLeft:()=>y(ysn)};return v({liftActionArgs:{id:i,clientSelection:nln(c),movementMode:"SNAP"},cleanup:qm,actions:k})}function S(){NO({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>NO({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:x,snapLift:w,abort:S}}const fln=[Han,Yan,Jan];function pln({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?fln:[],...r||[]],s=R.useState(()=>Aan())[0],a=ln(function(v,x){yR(v)&&!yR(x)&&s.tryAbandon()},[s]);Ec(function(){let v=t.getState();return t.subscribe(()=>{const w=t.getState();a(v,w),v=w})},[s,t,a]),Ec(()=>s.tryAbandon,[s.tryAbandon]);const l=ln(y=>bze({lockAPI:s,registry:n,store:t,draggableId:y}),[s,n,t]),c=ln((y,v,x)=>dln({lockAPI:s,registry:n,contextId:e,store:t,draggableId:y,forceSensorStop:v||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,s,n,t]),u=ln(y=>lln(e,y),[e]),d=ln(y=>{const v=n.draggable.findById(y);return v?v.options:null},[n.draggable]),f=ln(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Xne()))},[s,t]),p=ln(()=>s.isClaimed(),[s]),g=Sr(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:p}),[l,c,u,d,f,p]);for(let y=0;y<o.length;y++)o[y](g)}const hln=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};zd.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),gln=e=>({...mR,...e.autoScrollerOptions,durationDampening:{...mR.durationDampening,...e.autoScrollerOptions}});function mk(e){return e.current||Tt(),e.current}function mln(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=R.useRef(null),a=pze(e),l=ln(()=>hln(a.current),[a]),c=ln(()=>gln(a.current),[a]),u=Ean(t),d=Man({contextId:t,text:o}),f=ban(t,i),p=ln(I=>{mk(s).dispatch(I)},[]),g=Sr(()=>axe({publishWhileDragging:asn,updateDroppableScroll:csn,updateDroppableIsEnabled:usn,updateDroppableIsCombineEnabled:dsn,collectionStarting:lsn},p),[p]),y=_an(),v=Sr(()=>Zsn(y,g),[y,g]),x=Sr(()=>han({scrollWindow:Qsn,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:c,...axe({move:QNe},p)}),[v.scrollDroppable,p,c]),w=wan(t),S=Sr(()=>Gsn({announce:u,autoScroller:x,dimensionMarshal:v,focusMarshal:w,getResponders:l,styleMarshal:f}),[u,x,v,w,l,f]);s.current=S;const C=ln(()=>{const I=mk(s);I.getState().phase!=="IDLE"&&I.dispatch(Xne())},[]),k=ln(()=>{const I=mk(s).getState();return I.phase==="DROP_ANIMATING"?!0:I.phase==="IDLE"?!1:I.isDragging},[]),T=Sr(()=>({isDragging:k,tryAbort:C}),[k,C]);n(T);const E=ln(I=>aze(mk(s).getState(),I),[]),A=ln(()=>Gy(mk(s).getState()),[]),O=Sr(()=>({marshal:v,focus:w,contextId:t,canLift:E,isMovementAllowed:A,dragHandleUsageInstructionsId:d,registry:y}),[t,v,d,w,E,A,y]);return pln({contextId:t,store:S,registry:y,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),R.useEffect(()=>C,[C]),Vt.createElement(VN.Provider,{value:O},Vt.createElement(Vin,{context:nre,store:S},e.children))}function yln(){return Vt.useId()}function ore(e){const t=yln(),n=e.dragHandleUsageInstructions||Tj.dragHandleUsageInstructions;return Vt.createElement(Yin,null,r=>Vt.createElement(mln,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const $xe={dragging:5e3,dropAnimating:4500},vln=(e,t)=>t?WE.drop(t.duration):e?WE.snap:WE.fluid,bln=(e,t)=>{if(e)return t?gR.opacity.drop:gR.opacity.combining},xln=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function wln(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,a=xln(e),l=!!o,c=l?AG.drop(r,s):AG.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:vln(a,o),transform:c,opacity:bln(s,l),zIndex:l?$xe.dropAnimating:$xe.dragging,pointerEvents:"none"}}function Sln(e){return{transform:AG.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function _ln(e){return e.type==="DRAGGING"?wln(e):Sln(e)}function Cln(e,t,n=Ts){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=ENe(i,r),s=D3(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:o,page:s}}function kln(e){const t=rre("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=e,l=Sr(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),c=ln(p=>{const g=i();return g||Tt(),Cln(n,g,p)},[n,i]),u=Sr(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),d=R.useRef(u),f=R.useRef(!0);Ec(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),Ec(()=>{if(f.current){f.current=!1;return}const p=d.current;d.current=u,r.draggable.update(u,p)},[u,r.draggable])}var sre=Vt.createContext(null);function F3(e){const t=R.useContext(e);return t||Tt(),t}function Eln(e){e.preventDefault()}const Tln=e=>{const t=R.useRef(null),n=ln((T=null)=>{t.current=T},[]),r=ln(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=F3(VN),{type:a,droppableId:l}=F3(sre),c=Sr(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:g,isClone:y,mapped:v,dropAnimationFinished:x}=e;if(!y){const T=Sr(()=>({descriptor:c,registry:s,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:p,isEnabled:f}),[c,s,r,g,p,f]);kln(T)}const w=Sr(()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Eln}:null,[i,o,d,f]),S=ln(T=>{v.type==="DRAGGING"&&v.dropping&&T.propertyName==="transform"&&zd.flushSync(x)},[x,v]),C=Sr(()=>{const T=_ln(v),E=v.type==="DRAGGING"&&v.dropping?S:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:T,onTransitionEnd:E},dragHandleProps:w}},[i,w,d,v,S,n]),k=Sr(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return Vt.createElement(Vt.Fragment,null,u(C,v.snapshot,k))};var xze=(e,t)=>e===t,wze=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Rln=e=>e.combine?e.combine.draggableId:null,Mln=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Aln(){const e=ks((i,o)=>({x:i,y:o})),t=ks((i,o,s=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),n=ks((i,o,s,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:u,snapshot:t(o,a,l,c,null)}}));return(i,o)=>{if(yR(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=kc(i.impact),c=Mln(i.impact),u=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,a,o.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],c=s.result,u=c.mode,d=wze(c),f=Rln(c),g={duration:i.dropDuration,curve:Zne.drop,moveTo:i.newHomeClientOffset,opacity:f?gR.opacity.drop:null,scale:f?gR.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:g,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:t(u,a,d,f,g)}}}return null}}function Sze(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Pln={mapped:{type:"SECONDARY",offset:Ts,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Sze(null)}};function Dln(){const e=ks((s,a)=>({x:s,y:a})),t=ks(Sze),n=ks((s,a=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=s=>s?n(Ts,s,!0):null,i=(s,a,l,c)=>{const u=l.displaced.visible[s],d=!!(c.inVirtualList&&c.effected[s]),f=NN(l),p=f&&f.draggableId===s?a:null;if(!u){if(!d)return r(p);if(l.displaced.invisible[s])return null;const v=mC(c.displacedBy.point),x=e(v.x,v.y);return n(x,p,!0)}if(d)return r(p);const g=l.displacedBy.point,y=e(g.x,g.y);return n(y,p,u.shouldAnimate)};return(s,a)=>{if(yR(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const Oln=()=>{const e=Aln(),t=Dln();return(r,i)=>e(r,i)||t(r,i)||Pln},Iln={dropAnimationFinished:eze},jln=kNe(Oln,Iln,null,{context:nre,areStatePropsEqual:xze})(Tln);function _ze(e){return F3(sre).isUsingCloneFor===e.draggableId&&!e.isClone?null:Vt.createElement(jln,e)}function are(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Vt.createElement(_ze,me({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Cze=e=>t=>e===t,$ln=Cze("scroll"),Fln=Cze("auto"),Fxe=(e,t)=>t(e.overflowX)||t(e.overflowY),Lln=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Fxe(n,$ln)||Fxe(n,Fln)},Nln=()=>!1,kze=e=>e==null?null:e===document.body?Nln()?e:null:e===document.documentElement?null:Lln(e)?e:kze(e.parentElement);var OG=e=>({x:e.scrollLeft,y:e.scrollTop});const Eze=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Eze(e.parentElement):!1;var zln=e=>{const t=kze(e),n=Eze(e);return{closestScrollable:t,isFixedOnPage:n}},Bln=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:p}=a,g=ize({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:g,diff:{value:Ts,displacement:Ts}}}})(),c=i==="vertical"?Hne:FNe,u=o_({page:s,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:o,page:s,frame:l,subject:u}};const Uln=(e,t)=>{const n=TNe(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,l=zne({top:r,right:s,bottom:o,left:i},n.border);return Bne({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var Vln=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const l=n.closestScrollable,c=Uln(e,l),u=D3(c,r),d=(()=>{if(!l)return null;const p=TNe(l),g={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:p,page:D3(p,r),scroll:OG(l),scrollSize:g,shouldClipSubject:a}})();return Bln({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:u,closest:d})};const Hln={passive:!1},Wln={passive:!0};var Lxe=e=>e.shouldPublishImmediately?Hln:Wln;const zO=e=>e&&e.env.closestScrollable||null;function qln(e){const t=R.useRef(null),n=F3(VN),r=rre("droppable"),{registry:i,marshal:o}=n,s=pze(e),a=Sr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=R.useRef(a),c=Sr(()=>ks((C,k)=>{t.current||Tt();const T={x:C,y:k};o.updateDroppableScroll(a.id,T)}),[a.id,o]),u=ln(()=>{const C=t.current;return!C||!C.env.closestScrollable?Ts:OG(C.env.closestScrollable)},[]),d=ln(()=>{const C=u();c(C.x,C.y)},[u,c]),f=Sr(()=>dR(d),[d]),p=ln(()=>{const C=t.current,k=zO(C);if(C&&k||Tt(),C.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),g=ln((C,k)=>{t.current&&Tt();const T=s.current,E=T.getDroppableRef();E||Tt();const A=zln(E),O={ref:E,descriptor:a,env:A,scrollOptions:k};t.current=O;const I=Vln({ref:E,descriptor:a,env:A,windowScroll:C,direction:T.direction,isDropDisabled:T.isDropDisabled,isCombineEnabled:T.isCombineEnabled,shouldClipSubject:!T.ignoreContainerClipping}),j=A.closestScrollable;return j&&(j.setAttribute(Dxe.contextId,n.contextId),j.addEventListener("scroll",p,Lxe(O.scrollOptions))),I},[n.contextId,a,p,s]),y=ln(()=>{const C=t.current,k=zO(C);return C&&k||Tt(),OG(k)},[]),v=ln(()=>{const C=t.current;C||Tt();const k=zO(C);t.current=null,k&&(f.cancel(),k.removeAttribute(Dxe.contextId),k.removeEventListener("scroll",p,Lxe(C.scrollOptions)))},[p,f]),x=ln(C=>{const k=t.current;k||Tt();const T=zO(k);T||Tt(),T.scrollTop+=C.y,T.scrollLeft+=C.x},[]),w=Sr(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:y,dragStopped:v,scroll:x}),[v,g,y,x]),S=Sr(()=>({uniqueId:r,descriptor:a,callbacks:w}),[w,a,r]);Ec(()=>(l.current=S.descriptor,i.droppable.register(S),()=>{t.current&&v(),i.droppable.unregister(S)}),[w,a,v,S,o,i.droppable]),Ec(()=>{t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Ec(()=>{t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function pU(){}const Nxe={width:0,height:0,margin:ton},Gln=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Nxe:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Yln=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Gln({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?WE.placeholder:null}},Xln=e=>{const t=R.useRef(null),n=ln(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[a,l]=R.useState(e.animate==="open");R.useEffect(()=>a?r!=="open"?(n(),l(!1),pU):t.current?pU:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):pU,[r,a,n]);const c=ln(d=>{d.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),u=Yln({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return Vt.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":s,onTransitionEnd:c,ref:e.innerRef})};var Kln=Vt.memo(Xln);class Zln extends Vt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Qln=e=>{const t=R.useContext(VN);t||Tt();const{contextId:n,isMovementAllowed:r}=t,i=R.useRef(null),o=R.useRef(null),{children:s,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:p,snapshot:g,useClone:y,updateViewportMaxScroll:v,getContainerForClone:x}=e,w=ln(()=>i.current,[]),S=ln((j=null)=>{i.current=j},[]);ln(()=>o.current,[]);const C=ln((j=null)=>{o.current=j},[]),k=ln(()=>{r()&&v({maxScroll:sze()})},[r,v]);qln({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:w});const T=Sr(()=>Vt.createElement(Zln,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:j,data:P,animate:$})=>Vt.createElement(Kln,{placeholder:P,onClose:j,innerRef:C,animate:$,contextId:n,onTransitionEnd:k})),[n,k,e.placeholder,e.shouldAnimatePlaceholder,C]),E=Sr(()=>({innerRef:S,placeholder:T,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,T,S]),A=y?y.dragging.draggableId:null,O=Sr(()=>({droppableId:a,type:l,isUsingCloneFor:A}),[a,A,l]);function I(){if(!y)return null;const{dragging:j,render:P}=y,$=Vt.createElement(_ze,{draggableId:j.draggableId,index:j.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(D,F)=>P(D,F,j));return Sk.createPortal($,x())}return Vt.createElement(sre.Provider,{value:O},s(E,g),I())};function Jln(){return document.body||Tt(),document.body}const zxe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Jln},Tze=e=>{let t={...e},n;for(n in zxe)e[n]===void 0&&(t={...t,[n]:zxe[n]});return t},hU=(e,t)=>e===t.droppable.type,Bxe=(e,t)=>t.draggables[e.draggable.id],ecn=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ks(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=ks((o,s,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===o){const g=u?{render:u,dragging:n(c.descriptor)}:null,y={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:g}}if(!s)return t;if(!l)return e;const p={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(o,s)=>{const a=Tze(s),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(yR(o)){const f=o.critical;if(!hU(c,f))return t;const p=Bxe(f,o.dimensions),g=kc(o.impact)===l;return r(l,u,g,g,p,d)}if(o.phase==="DROP_ANIMATING"){const f=o.completed;if(!hU(c,f.critical))return t;const p=Bxe(f.critical,o.dimensions);return r(l,u,wze(f.result)===l,kc(f.impact)===l,p,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const f=o.completed;if(!hU(c,f.critical))return t;const p=kc(f.impact)===l,g=!!(f.impact.at&&f.impact.at.type==="COMBINE"),y=f.critical.droppable.id===l;return p?g?e:t:y?e:t}return t}},tcn={updateViewportMaxScroll:psn},lre=kNe(ecn,tcn,(e,t,n)=>({...Tze(n),...e,...t}),{context:nre,areStatePropsEqual:xze})(Qln),ncn=({blocks:e,isLoading:t,isSaving:n,handleSave:r})=>{const[i,o]=R.useState([]),[s,a]=R.useState(!1);R.useEffect(()=>{o(e),a(!1)},[e]);const l=u=>{if(!u.destination)return;const d=Array.from(i),[f]=d.splice(u.source.index,1);d.splice(u.destination.index,0,f);const p=d.map((g,y)=>({...g,order:y+1}));o(p),a(!0)},c=()=>{r(i)};return t?h.jsxs(_s,{children:[h.jsx(Cs,{children:"Sort Blocks"}),h.jsx(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:h.jsx(To,{})})]}):i.length===0?h.jsxs(_s,{children:[h.jsx(Cs,{children:"Sort Blocks"}),h.jsx(yo,{sx:{mb:2},children:"No blocks found."})]}):h.jsxs(_s,{children:[h.jsx(Cs,{children:"Sort Blocks"}),h.jsx(yo,{sx:{mb:2,fontSize:"0.875rem"},children:"Drag and drop blocks to reorder them."}),h.jsx(Y,{sx:{maxHeight:400,overflowY:"auto",overflowX:"hidden"},children:h.jsx(ore,{onDragEnd:l,children:h.jsx(lre,{droppableId:"blocks",children:u=>h.jsxs("div",{...u.droppableProps,ref:u.innerRef,children:[i.map((d,f)=>h.jsx(are,{draggableId:d.id.toString(),index:f,children:(p,g)=>h.jsx(Y,{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,sx:{border:"1px solid",borderColor:"divider",borderRadius:1,mb:1,p:2,bgcolor:g.isDragging?"action.selected":"background.paper",boxShadow:g.isDragging?3:0,cursor:"grab","&:active":{cursor:"grabbing"}},children:h.jsx(_h,{primary:d.name,secondary:d.description})})},d.id)),u.placeholder]})})})}),h.jsx(Y,{sx:{mt:3,display:"flex",justifyContent:"flex-start"},children:h.jsx(Be,{onClick:c,variant:"contained",disabled:t||i.length===0||n||!s,children:n?"Saving...":"Save Order"})})]})},rcn=({reportId:e})=>{const{data:t,isLoading:n}=og(e),r=A4(),{showError:i,showSuccess:o}=Wi(),s=R.useMemo(()=>t?.blocks?t.blocks.map(l=>({id:l.id,name:l.title,order:l.order,description:l.description})):[],[t?.blocks]),a=l=>{if(!t?.id){i("Unable to save: Report data not available");return}const c=l.map(u=>({id:u.id,order:u.order}));r.mutate({body:{operation:"update_order",value:{blocks:c}},path:{id:t.id}},{onSuccess:()=>{o("Block order updated successfully")},onError:u=>{i(u?.response?.data?.message??"Failed to update block order")}})};return h.jsx(ncn,{blocks:s,isLoading:n,isSaving:r.isPending,handleSave:a})},icn=({open:e,handleDialogClose:t,reportId:n,activeTab:r,handleTabChange:i,setActiveTab:o,handleDownload:s})=>{const{data:a,isLoading:l}=og(n);if(R.useEffect(()=>{o("share-link")},[]),!a)return null;const c=()=>h.jsxs(yNe,{value:r,onChange:i,children:[h.jsx(bv,{label:"Share",value:"share-link"}),h.jsx(bv,{label:"Sort Blocks",value:"sort-blocks"}),h.jsx(bv,{label:"Download",value:"download"})]}),u=()=>{if(r==="share-link")return h.jsx(Urn,{reportId:n});if(r==="sort-blocks")return h.jsx(rcn,{reportId:n});if(r==="download")return h.jsx(hNe,{reportId:n,name:a.name,handleDownload:s})};return h.jsx(pNe,{title:`Share Report "${a.name}"`,isLoading:l,open:e,onDialogClose:t,tabs:c(),tabContent:u()})};var ocn={},rv=function(){return rv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rv.apply(this,arguments)};function Rj(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(c){try{l(r.next(c))}catch(u){o(u)}}function a(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n((function(d){d(u)}))).then(s,a)}l((r=r.apply(e,[])).next())}))}function Mj(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return(function(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(u[0]===6&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(d){u=[6,d],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}})([l,c])}}}var scn=function(e){var t=e.setSize,n=e.setControllerCallback,r=e.setPercentageCallback,i=e.setErrorCallback;return function(o){if(!o.ok)throw console.error("".concat(o.status," ").concat(o.type," ").concat(o.statusText)),o;if(!o.body)throw Error("ReadableStream not yet supported in this browser.");var s=o.body,a=o.headers.get("content-encoding"),l=o.headers.get(a?"x-file-size":"content-length"),c=parseInt(l||"0",10);t((function(){return c}));var u=0,d=new ReadableStream({start:function(f){n(f);var p=s.getReader();return(function g(){return Rj(this,void 0,void 0,(function(){return Mj(this,(function(y){return[2,p.read().then((function(v){var x=v.done,w=v.value;return x?f.close():(u+=w?.byteLength||0,w&&f.enqueue(w),r({loaded:u,total:c}),g())})).catch((function(v){return i(v),p.cancel("Cancelled"),f.error(v)}))]}))}))})()}});return new Response(d)}},acn=function(e,t,n){var r=new Blob([e],{type:"application/octet-stream"}),i=window;if(i.navigator.msSaveBlob!==void 0)return i.navigator.msSaveBlob(r,t);var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),s=document.createElement("a");return s.style.display="none",s.href=o,s.setAttribute("download",t),s.download===void 0&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(o)}),200)};function Rze(e){var t,n=this;e===void 0&&(e={});var r=!1;try{r=!!process&&!!(!((t=process==null?void 0:ocn)===null||t===void 0)&&t.REACT_APP_DEBUG_MODE)}catch{r=!1}var i=R.useState(0),o=i[0],s=i[1],a=R.useState(0),l=a[0],c=a[1],u=R.useState(0),d=u[0],f=u[1],p=R.useState(null),g=p[0],y=p[1],v=R.useState(!1),x=v[0],w=v[1],S=R.useRef(null),C=R.useCallback((function(P){var $=P.loaded,D=P.total,F=Math.round($/D*100);c((function(){return F}))}),[]),k=R.useCallback((function(P){var $={"Failed to execute 'enqueue' on 'ReadableStreamDefaultController': Cannot enqueue a chunk into an errored readable stream":"Download canceled","The user aborted a request.":"Download timed out"};y((function(){return{errorMessage:$[P.message]?$[P.message]:P.message}}))}),[]),T=R.useCallback((function(P){S.current=P}),[]),E=R.useCallback((function(){S.current&&S.current.error()}),[]),A=R.useCallback((function(){T(null),s((function(){return 0})),c((function(){return 0})),f((function(){return 0})),w((function(){return!1}))}),[T]),O=R.useCallback((function(P,$,D,F){return D===void 0&&(D=0),F===void 0&&(F={}),Rj(n,void 0,void 0,(function(){var N,V,H,U,G=this;return Mj(this,(function(z){return x?[2,null]:(A(),y((function(){return null})),w((function(){return!0})),N=setInterval((function(){return s((function(W){return W+1}))}),r?1:1e3),V=scn({setSize:f,setControllerCallback:T,setPercentageCallback:C,setErrorCallback:k}),H=new AbortController,U=setTimeout((function(){D>0&&H.abort()}),D),[2,fetch(P,rv(rv(rv({method:"GET"},e),F),{signal:H.signal})).then(V).then((function(W){return W.blob()})).then((function(W){return acn(W,$)})).then((function(){return A(),clearInterval(N)})).catch((function(W){return Rj(G,void 0,void 0,(function(){var X,Q,ee,ne=this;return Mj(this,(function(oe){switch(oe.label){case 0:return A(),X=null,[4,Rj(ne,void 0,void 0,(function(){var ce,re;return Mj(this,(function(ge){switch(ge.label){case 0:return W instanceof Response?(X=W.clone(),(W.headers.get("Content-Type")||"").includes("application/json")?[4,W.json().catch((function(){return null}))]:[3,2]):[3,5];case 1:return re=ge.sent(),[3,4];case 2:return[4,W.text().catch((function(){return null}))];case 3:re=ge.sent(),ge.label=4;case 4:return ce=re,[2,["".concat(W.status," - ").concat(W.statusText),ce?.error,ce?.reason||(typeof ce=="string"?ce:null)].filter(Boolean).join(": ")];case 5:return[2,W?.message||"An unknown error occurred."]}}))}))];case 1:return Q=oe.sent(),ee={errorMessage:Q},X&&(ee.errorResponse=X),y(ee),clearTimeout(U),clearInterval(N),[2]}}))}))}))])}))}))}),[x,A,r,T,C,k,e]),I=R.useMemo((function(){return{elapsed:o,percentage:l,size:d,error:g,isInProgress:x}}),[o,l,d,g,x]),j=R.useMemo((function(){return{download:O,cancel:E}}),[O,E]);return R.useMemo((function(){return rv(rv({},I),j)}),[I,j])}const cre=({onDownloadFinished:e,onDownloadStarted:t}={})=>{const n=A_().getAccessToken(),{setDownloadInProgress:r,setPercentageOfDownload:i,downloadInProgress:o,setError:s}=gZ(),{download:a,isInProgress:l,percentage:c,error:u}=Rze({mode:"cors",headers:{Authorization:`Bearer ${n}`}});return R.useEffect(()=>{l&&c&&i(c),u&&s(u.errorMessage)},[l,o,c,u]),{download:async({reportId:f,pipeId:p,fileName:g,includePdf:y=!0,includeSvg:v=!1,includeTables:x=!1,includePng:w=!1})=>{t&&t();const S=f?`/reports/${f}/export`:`/pipeline/${p}/export`,C={include_pdf:String(y),include_svg:String(v),include_png:String(w),include_tables:String(x),pipe_url:window.location.href},k=new URLSearchParams(C),T=`https://redpill.nomaze.com//${S}?${k.toString()}`;r(!0),await a(T,`${g}.zip`),r(!1),e&&e()},isInProgress:l,error:u}},lcn=()=>{const{isReportShareDialogOpen:e,isDashboardShareDialogOpen:t,setShareDialogClose:n,pipeId:r,reportId:i}=FN(),[o,s]=R.useState("share-link"),{download:a}=cre({onDownloadStarted:()=>{n()}}),l=(u,d)=>{s(d)},c=({pipeId:u,reportId:d,downloadOptions:f,name:p})=>{u?a({pipeId:u,fileName:p,...f}):d&&a({reportId:d,fileName:p,...f})};if(e()&&i)return h.jsx(icn,{open:e(),handleDialogClose:n,reportId:i,activeTab:o,setActiveTab:s,handleTabChange:l,handleDownload:c});if(t()&&r)return h.jsx(Brn,{open:t(),handleDialogClose:n,pipeId:r,activeTab:o,setActiveTab:s,handleTabChange:l,handleDownload:c})},ccn="1.58.5",ucn={version:ccn},Mze=Fi(e=>({isOpen:!1,setOpen:()=>e({isOpen:!0}),setClose:()=>e({isOpen:!1})}));function dcn(){const e=xt(),t=Kr(),{isKws:n}=Ul(),r=n?"SmartPlot":"NoMaze",i=ucn.version,o=Mze(s=>s.setOpen);return h.jsx(Y,{component:"footer",sx:{borderTop:`1px solid ${ut(e.palette.divider,.1)}`,backgroundColor:ut(e.palette.background.paper,.3),px:{xs:5,sm:8,md:12},py:1,mt:"auto",width:"100%"},children:h.jsxs(Y,{sx:{mx:"auto",maxWidth:"1400px",display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",gap:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,flexWrap:"wrap"},children:[h.jsxs(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem"},children:[" ",new Date().getFullYear()," ",r]}),h.jsx(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem",display:{xs:"none",sm:"inline"}},children:""}),h.jsxs(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem",display:{xs:"none",sm:"inline"}},children:["v",i]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[!n&&h.jsx(HAe,{}),h.jsx(vm,{component:"button",variant:"caption",onClick:()=>{o()},sx:{color:"text.secondary",fontSize:"0.75rem",textDecoration:"none",cursor:"pointer",transition:"color 0.2s ease-in-out","&:hover":{color:"text.primary"}},children:" Changelog"}),h.jsx(vm,{component:"button",variant:"caption",onClick:()=>{window.open("https://www.nomaze.com/legal/terms-and-conditions","_blank")},sx:{color:"text.secondary",fontSize:"0.75rem",textDecoration:"none",cursor:"pointer",transition:"color 0.2s ease-in-out","&:hover":{color:"text.primary"}},children:"Terms"}),h.jsx(vm,{component:"button",variant:"caption",onClick:()=>{window.open("https://www.nomaze.com/legal/imprint","_blank")},sx:{color:"text.secondary",fontSize:"0.75rem",textDecoration:"none",cursor:"pointer",transition:"color 0.2s ease-in-out","&:hover":{color:"text.primary"}},children:"Privacy"}),h.jsx(vm,{component:"button",variant:"caption",onClick:()=>{t({to:Nr.Licenses})},sx:{color:"text.secondary",fontSize:"0.75rem",textDecoration:"none",cursor:"pointer",transition:"color 0.2s ease-in-out","&:hover":{color:"text.primary"}},children:"Licences"})]})]})})}const Uxe=({value:e})=>{if(!e?.value?.trim())return"Please select a tag";if(e.value.length>50)return"Max tag length is 10 characters"},Aze=({selectedTagId:e,selectedTagLabel:t,dialogOpen:n,setDialogOpen:r,handleRemoveTag:i,handleAddTag:o,dialogTitle:s,dialogText:a})=>{const[l,c]=R.useState(!1),u=lg({defaultValues:{tagOption:{value:e||"",label:t||""}},onSubmit:({value:d})=>{o(d),u.reset(),r(!1)}});return R.useEffect(()=>{n&&u.reset()},[n,u]),h.jsx(Oi,{open:n,onClose:()=>r(!1),"aria-labelledby":"tag-dialog-title",children:h.jsxs("form",{onSubmit:d=>{d.preventDefault(),d.stopPropagation(),u.handleSubmit()},noValidate:!0,autoComplete:"off",children:[h.jsx(Do,{id:"tag-dialog-title",children:s}),h.jsxs(no,{sx:{minWidth:"600px"},children:[h.jsx(yo,{children:a}),h.jsx(u.Field,{name:"tagOption",validators:{onMount:Uxe,onChange:Uxe},children:d=>{const f=d.state.value.value?{value:d.state.value.value,label:d.state.value.label}:null;return h.jsx(dZ,{value:f,onBlur:()=>{c(!1)},onChange:p=>{p?(d.setValue(p),c(!1)):c(!0)},errorText:d.state.meta.isTouched?d.state.meta.errors[0]:void 0,disabled:l})}})]}),h.jsx(u.Subscribe,{selector:d=>[d.canSubmit,d.isSubmitting],children:([d,f])=>h.jsxs(wo,{children:[h.jsx(Be,{onClick:()=>{i(),r(!1)},color:"error",disabled:!e,children:"Remove Tag"}),h.jsx(Be,{onClick:()=>r(!1),children:"Cancel"}),h.jsx(Be,{type:"submit",variant:"contained",disabled:!d||f||l,children:f?"Saving...":"Save"})]})})]})})},fcn=({selectedTagId:e,selectedTagLabel:t,selectedFileUuid:n,dialogOpen:r,setDialogOpen:i})=>{const o=rZ(),s=OMt(),a=async()=>{try{await s.mutateAsync({path:{file_uuid:n}}),i(!1)}catch(c){console.error("Failed to remove file tag:",c)}},l=async({tagOption:c})=>{o.mutate({path:{file_uuid:n},body:{operation:"update_tag",value:{id:c.value}}})};return h.jsx(Aze,{selectedTagId:e,selectedTagLabel:t,dialogOpen:r,setDialogOpen:i,handleRemoveTag:a,handleAddTag:l,dialogText:Uf.TAGS_CREATE_INFO_FILE,dialogTitle:"Manage File Tags"})},Pze=({selectedPipelineId:e,selectedTagId:t,selectedTagLabel:n,dialogOpen:r,setDialogOpen:i})=>{const o=T4(),s=eZ(),a=()=>{s.mutate({path:{pipe_id:e}})},l=({tagOption:c})=>{o.mutate({body:{operation:"update_tag",value:{id:c.value}},path:{pipe_id:e}})};return h.jsx(Aze,{selectedTagId:t,selectedTagLabel:n,dialogOpen:r,setDialogOpen:i,handleRemoveTag:a,handleAddTag:l,dialogText:Uf.TAGS_CREATE_INFO_DASHBOARD,dialogTitle:"Manage Dashboard Tags"})},L3=JSON.parse(`[{"Version":"1.58.5","Release Date":"Wed Feb 4 2026 10:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"fixes":["Fix issue with regression line clipping (#1410)"]}},{"Version":"1.58.4","Release Date":"Tue Feb 3 2026 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"fixes":["Clean up invalid release tag"]}},{"Version":"1.58.2","Release Date":"Mon Feb 2 2026 12:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"fixes":["Fix issue with csv encoding errors (#1419)","Fix a bug when creating templates (#1414)"]}},{"Version":"1.58.0","Release Date":"Wed Jan 28 2026 12:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Redesigned landing pages and overview pages for Dashboards, Templates, Files and Reports"],"improvements":["Technical Improvement: Security Updates and technical rework to improve frontend code structure","(client specific) User can now toggle the 'fixed regression slope' in the scatter plot (#1388)","(client specific) Use service account instead of access secret for S3 access (#1373)","Improved design and usability for tables (e.g. in scatter plot or show table block) (#1406)"]}},{"Version":"1.57.0","Release Date":"Fri Dec 26 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["New personalized settings available for continuous color schemes","New settings for several scatter plot features available","Reports can now be extended with 'Comments' blocks","Adds support for SmartPlot SDK integration"],"improvements":["Admins can set user organizations via external authentication providers","Column ordering is now persisted"],"fixes":["Fixes an issue with report pinning not working correctly","Fixes an issue with table coloring in some cases (#1370)","Fixes an issue with column renaming not working correctly"]}},{"Version":"1.56.0","Release Date":"Sat Dec 13 2025 21:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Report Blocks can now be sorted manually via Drag and Drop"],"improvements":["Relative to Checks uses group mean as fallback when no check rows are found","Filtering single points in scatter plots filters all overlapping points","Updated dependencies"],"fixes":["Fixes clicking on a point in the scatter plot in some setups (#1309)","Fixes an issue with API upload without organization ID set (#1350)","Fixes an issue with logging in for some users (#1352)","Fixes an issue with some points not being visible on the scatter plot when too many points are being shown (#1354)","Fixes an issue with deleted files not being removed from some pipelines (#1359)","Fixes an issue with dashboard names being too long (#1362)"]}},{"Version":"1.55.0","Release Date":"Tue Dec 2 2025 14:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Reports and Dashboards can be shared with other users","Accessibility for sharing via links can be configured to either protected or public"]}},{"Version":"1.54.3","Release Date":"Sun Nov 23 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Usability improvements with regression line"]}},{"Version":"1.54.2","Release Date":"Sun Nov 17 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Performance Improvements within grouping of overlapping points"]}},{"Version":"1.54.1","Release Date":"Fri Nov 14 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Performance Improvements with crash logging"]}},{"Version":"1.54.0","Release Date":"Thu Nov 13 2025 23:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Readability settings to adjust the font size and theme of the plots"],"improvements":["Performance Improvements"]}},{"Version":"1.53.3","Release Date":"Wed Nov 12 2025 16:30:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Logging","Technical Update of Libraries"]}},{"Version":"1.53.2","Release Date":"Fri Nov 7 2025 15:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Technical improvement error handling (#1270)","Better error message for invalid JSON files in data API (#1275)","Better error message on scatter plot (#1281)"],"fixes":["Fixes ValidationError: Please configure Y Axis (#1251)","Fixes Zero Division Error (#1266)","Fixes hide columns in show table is not persisted (#1267)","Fixes Histogram Plot Colors do not work (#1268)","Fixes branch map calculation error when pipe has no import block (#1269)","Fixes Pipe not found with id 0 error (#1262)","Fixes export does not include tables for plot swap / table export color not working (#1272)","Fixes Create Subgroup plot not updating when changing filter (#1279)","Fixes pinning column in Show Table block removes color (#1191)"]}},{"Version":"1.53.1","Release Date":"Thu Nov 4 2025 8:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Show creation data and owner for reports (#1260)"],"fixes":["Various fixes regarding frontend cache invalidation (#1250, #1233)"]}},{"Version":"1.53.0","Release Date":"Thu Oct 31 2025 12:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Extended Export functionality for Dashboard & Report (#1211)"],"improvements":["Scatterplot UI decreased margin to better show plot (#1230)","Scatterplot Filter can be reset with double-click (#1230)"],"fixes":["Filter Standard show correct error when file changes (#1232)"]}},{"Version":"1.52.1","Release Date":"Thu Oct 23 2025 15:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"fixes":["Fixes Long to Wide Block Bug when selected all values (#1234)"]}},{"Version":"1.52.0","Release Date":"Thu Oct 23 2025 13:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Reports now lock pinned Blocks (#1225)"],"fixes":["Fix bug in Subgroup Block (#1231)"]}},{"Version":"1.51.0","Release Date":"Tue Oct 21 2025 10:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Customizable Multi-Plots (#1120)"],"improvements":["UX Improvements for Block Configuration","Reports keep their original order after locking"],"fixes":["Data Types are correctly set for new files via API (#1201)","Fixes an issue with API Templates not being returned"]}},{"Version":"1.50.0","Release Date":"Thu Oct 16 2025 13:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Beta Version of Reports (#1183)"]}},{"Version":"1.49.0","Release Date":"Mon Oct 13 2025 15:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["File validation works better with empty pipelines","Tags can only be added to files with the same schema (#1182)"],"fixes":["Fixes an issue with brushing on the multi plot","Fixes an issue with checks in the regression line"]}},{"Version":"1.48.5","Release Date":"Wed Oct 1 2025 16:30:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Add 'Root Admin' Role for BIT"]}},{"Version":"1.48.4","Release Date":"Wed Oct 1 2025 16:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Improve Error Logging (#1193)"]}},{"Version":"1.48.3","Release Date":"Wed Oct 1 2025 12:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Improve Error Logging (#1188)"]}},{"Version":"1.48.2","Release Date":"Tue Sep 30 2025 14:30:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Improve Monitoring (#1174)"]}},{"Version":"1.48.1","Release Date":"Tue Sep 30 2025 14:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Technical Updates and Improvements"],"fixes":["Display floating point numbers always with english locale and dot (#1176)"]}},{"Version":"1.48.0","Release Date":"Mon Sep 15 2025 10:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Templates can now be updated and consumers of the template will automatically get notified of the changes (#746)","New Files are autmatically checked for validity in the current Pipeline (#951)","New Block: Relative to Checks - allows to calculate the relative value of a trait to a set of checks (#1121)"],"improvements":["Automatic Label Adjustment now works on plots with overlapping points (#1129)","New Files which match an existing Tag autmatically get the same column types assigned (#1130)"],"fixes":["Removed an unreliable feature regarding checks for the regression line (#1143)"]}},{"Version":"1.47.2","Release Date":"Fri Sep 5 2025 10:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"improvements":["Improves Dark Mode on Windows (#1140)"],"fixes":["Fixes Data API for external Apps so that Dashboards are opened with the correct file (#1137)"]}},{"Version":"1.47.1","Release Date":"Tue Sep 2 2025 10:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Long to wide for multiple values (#740)"],"improvements":["Technical Update of Frontend Framework (#1134)","Technical cleanup of unused database entries (#1119)"],"fixes":["Updated role names when converting roles from BIT (Application Admin, Developer, Key User, Base User) (#1132)","Fix Filter Orthogonal Skip Toggle updates UI correctly (#1057)","Fix Filter Standard does update UI correctly (#1126)"]}},{"Version":"1.47.0","Release Date":"Fri Aug 29 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Rework of Filter Standard"]}},{"Version":"1.46.4","Release Date":"Tue Aug 26 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Data API returns the user pipelines"],"fixes":["Fixes some UI glitches (Wide Plots and Filters not displayed properly)","Fixes cache invalidation when Filter Standard and Filter Orthogonal was toggled"]}},{"Version":"1.46.2","Release Date":"Wed Aug 13 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Improved the internal architecture for creating Blocks, to make the system more stable, maintainable, and less prone to bugs."],"fixes":[]}},{"Version":"1.46.1","Release Date":"Tue Aug 12 2025 20:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Automatic Label Position Adjustment for Scatter Plots"],"improvements":[],"fixes":["Fixes an issue with multiple numerical filters in sequence","Fixes an issue with mean columns not being shown in the block configuration","Enables frontend crash logging"]}},{"Version":"1.46.0","Release Date":"Fri Aug 08 2025 18:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Adds a 'Select All' option to plot configuration dropdowns"],"improvements":["Overlapping points in scatter plots are now better visible and only appear once on the legend","'Rename Columns' block can now handle spaces within the column names"],"fixes":["Fixes an issue with case-sensitive filtering in data tables","Fixes an issue with the file selection UI","Fixes an issue with the column ordering","Fixes an issue with the Color option on Bar plots","Updates the description of new Box and Violin plots","Fixes an issue with unintended data changes when using 'Create Subgroup' block"]}},{"Version":"1.45.1","Release Date":"Mon Aug 04 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fixes an issue with the hide column feature (#1069)","Fixes an issue with the block order when blocks are re-connected (#981)"]}},{"Version":"1.45.0","Release Date":"Sun Aug 03 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Box plots are now split into separate violin and box plot blocks"],"improvements":[],"fixes":["Fixes an issue with the legend selection in the scatter plot"]}},{"Version":"1.44.3","Release Date":"Mon Jul 29 2025 16:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fix Bar plot whiskers invisible (#1048)","Fix error when same label and axis is selected (#1046)","Fix error when data column has only empty values (Plotting error: cannot insert <value> already exists) (#962)"]}},{"Version":"1.44.2","Release Date":"Mon Jul 28 2025 13:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fix show empty table when filter has no results (#961)"]}},{"Version":"1.44.0","Release Date":"Tue Jul 22 2025 13:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Internal rework of permission system: adding numerous missing permission checks/adapt wrong permission checks","Improve plot loading time by caching file with applied data types (#998)","Add M2M token authentication for data API (#954)"],"fixes":["Reload column options in block (#921)","Fixes brush filter not visible after reload (#982)"]}},{"Version":"1.43.0","Release Date":"Tue Jul 8 2025 16:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Plot Export: Change axis labels, title and point labels before downloading"],"improvements":["Filter Orthogonal: More transparent explanation of the filter"],"fixes":["Fixes problem with brushing on scatter plots","Fixes problem with changing the axes of a multi plot"]}},{"Version":"1.42.3","Release Date":"Tue Jul 4 2025 11:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Select tag and cost center when uploading file","Select tag when creating Dashboard"],"fixes":["Race condition when writing Files after downloading"]}},{"Version":"1.42.1","Release Date":"Tue Jul 1 2025 18:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Optimized loading speed for cached plots"],"fixes":["Race condition when downloading files from file bucket"]}},{"Version":"1.42.0","Release Date":"Mon Jun 23 2025 18:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Tags"],"improvements":[],"fixes":["Fixes error in show table block order"]}},{"Version":"1.41.3","Release Date":"Tue Jun 17 2025 16:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Technical improvements"],"fixes":[]}},{"Version":"1.41.2","Release Date":"Tue Jun 17 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fix Box Plot With (GitHub #943)"]}},{"Version":"1.41.1","Release Date":"Mon Jun 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fixed regression plot for fixed slope regression","Fixed problems with loading large Excel files"]}},{"Version":"1.41.0","Release Date":"Mon Jun 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Cloning Templates got a new look"],"improvements":["Store canvas position when going to block details and back","Pipeline view: Full screen canvas","Filter Standard shows the order of the filters"],"fixes":["Bar Plot error when using a certain Y-Axis"]}},{"Version":"1.40.3","Release Date":"Tue Jun 3 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Store canvas position when going to block details and back","Show canvas full screen in Pipeline view","Show all filter blocks in the side menu"],"fixes":["Add Sentry to On-Prem deployment","Debounce API requests when window size in Dashboard view changes","Validate length for block title and description for max length"]}},{"Version":"1.40.2","Release Date":"Fri May 30 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Block configuration show correct options when column data type changed of file","Fixes login for users when using BIT for access management","Fixes histogram block"]}},{"Version":"1.40.0","Release Date":"Tue May 20 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["New Rename Columns Block"],"improvements":["Improved UI for creating & deleting Pipeline Block Connections","Feedback button added","Added color legend to Show Table Block","Added search to Block Library"],"fixes":["Fixes Heatmap Block description is shown correctly","Fixes Correlation mode in Show Table Block scales from [-1, 1] instead of [0,1]","Fixes permissions check for shared Templates","Fixes edit Block details dialog","Fixes further additional, smaller bugs"]}},{"Version":"1.39.2","Release Date":"Tue May 13 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fixes the change block details dialog (block details dialog shows the data for the correct block)"]}},{"Version":"1.39.0","Release Date":"Mon May 12 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Extend Files section with: File upload, File deletion, File sharing","First version for Create Pipeline Wizard"],"improvements":["Keep same File UUID when files are overwritten with new content","Show warning when user tries to delete a file that is used in a pipeline","Show 'Last modified' Date in Dashboards section"],"fixes":["Fix data conversion for categorical columns that end with a zero ('0' character)","Allow using special characters in columns names (e.g. single quote, percentage symbol etc., but not double quote (\\"))"]}},{"Version":"1.38.0","Release Date":"Fri May 02 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Add share button to Dashboard","Table coloring in Table export"],"improvements":[],"fixes":["Fix plot preview margins on Dashboard"]}},{"Version":"1.37.0","Release Date":"Fri Apr 25 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Grouped Scatter Tooltips: See the N-value and categories involved in groups of overlaying points on a scatter plot"],"fixes":["Crash on reload fixed"]}},{"Version":"1.36.0","Release Date":"Wed Apr 23 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Heatmap Labels: Specify different columns to use for the labels on heatmaps"],"fixes":[]}},{"Version":"1.35.0","Release Date":"Mon Apr 14 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Design Update: Major restyling of the whole experience makes the app more intuitive and nicer to look at","Files Section: Files from all pipes are now easily accessible via a new Tab"],"improvements":["Faster File Loading: Especially .csv files now load significantly quicker","Multiple Box Plots: Setting an X-Axis and a Color on Box plots now looks much better"],"fixes":["File Upload via API works as intended again","All plots from dashboard are shown in the PDF Export","Branch ordering behaves as intended again"]}},{"Version":"1.34.0","Release Date":"Mon Apr 07 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Show Table Update: Reorder and hide columns from the table more easily and remove columns from the outgoing data"],"improvements":["Updated Landing Page: The homepage now shows up-to-date contact and tutorial information"],"fixes":[]}},{"Version":"1.33.0","Release Date":"Thu Apr 03 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Customize Tooltips: Scatter Plots now allow setting custom columns for the hover tooltip","Color-coding table: Show Table can apply a color scheme to numerical columns for intuitive data understanding","Dark Mode: Change the theme to dark for better readability in dark surroundings"],"improvements":["Heatmap Color Scheme: Color of Correlation and Heatmap blocks has been updated to be color-blind friendly","Loading Indicators: Downloading Plots and Cloning Pipes now shows a loading progress","Filter Orthogonal Extension: Orthogonal filter now supports setting multiple columns as identifier"],"fixes":["Overwriting files now works as intended again","Correlation block allows two numerical columns"]}},{"Version":"1.32.0","Release Date":"Mon Mar 10 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Box Plot Block: Violin plots now also support a pure Box mode and can be grouped by color","Heatmap Block: Visualize Data in the form of a colored checker-pattern"],"improvements":["Plot Sizes: Box and Bar plots now follow a more flexible sizing logic which always adjusts the plot size to your screen"],"fixes":["Fixed problem with some plots not visible in the PDF Export","Fixed problem with some Cost Center formats not being accepted","Fixed crash when files contain columns with a certain format"]}},{"Version":"1.30.0","Release Date":"Mon Mar 10 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Correlation Matrix Block: Select a category and a feature and see the correlation between categories as a heatmap"],"improvements":["Logout Redirect: After logging out you're redirected to the front page"],"fixes":["Fixed issue with deleting files via the API","Problem with dashboard blocks being rearranged was solved"]}},{"Version":"1.29.0","Release Date":"Mon Feb 24 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Updated File API: External Services can directly redirect users to an updated dashboard after updating a file","Better Error Handling: We're using a new service to monitor and investigate errors"],"improvements":[],"fixes":["Histogram Plots allow not setting a color value again"]}},{"Version":"1.28.0","Release Date":"Thu Feb 13 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Categorical Scatter Plot: Select categorical axes on scatter plots for a \\"Strip plot\\" overview of each category"],"improvements":["Plot Configurations: Options with just a single choice collapse automatically after selection"],"fixes":["Fixed problem with loading API-uploaded files","Reduced number of errors thrown after an update","Allow dates as columns in the histogram","Fixed issue with ghost blocks after deletion"]}},{"Version":"1.27.0","Release Date":"Wed Feb 05 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Histogram Plot: Visualize distributions of numerical values in various bin settings and including the true distibution"],"improvements":["Performance: Drastically improved loading time when adding new blocks to a pipeline","Plot Size: Scatter and bar plots now adjust their height to fit on any screen size"],"fixes":["Fixed problem with configuring files","Sync Axes across breakout bar chart now works properly"]}},{"Version":"1.26.1","Release Date":"Wed Jan 29 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Multi-Scatter Plots keep the 4:3 ratio and show descriptions again","Data Table does not jump around when changing pages"]}},{"Version":"1.26.0","Release Date":"Fri Jan 24 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Bar Plot: Visualize numerical values in groups and including standard deviation"],"improvements":["Export: Errors during export are handled more transparently","API Integration: Improved file permission handling for automated workflows"],"fixes":["Problem with Categorical Filters after the new Update","Fixed an issue with the file upload API","Wide to Long block is visible again","Allow Scatter plots without a color setting and with identical X and Y axis again"]}},{"Version":"1.25.1","Release Date":"Tue Jan 07 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Categorized Blocks: Block library items are renamed and sorted into categories"],"improvements":[],"fixes":["Export block showed an error"]}},{"Version":"1.25.0","Release Date":"Mon Jan 06 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Revamped Pipes Overview: Filter and open Pipelines and Templates in a table format","Two-column Dashboard: Show filters side-by-side with the rest of the dashboard"],"improvements":[],"fixes":["Issues with importing Excel files"]}},{"Version":"1.24.0","Release Date":"Wed Dec 18 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Unified Scatter Plot: Select one or multiple axes for scatter plots without having to choose between \\"Filter 2D\\" and \\"Filter Multi\\"","Rename Columns: Simply change the title of a column in the \\"Show Table\\" block"],"improvements":["Type to select: Find options for plot axes or block configurations by typing","API Integration: Improved file permission handling for automated workflows","Presentation Mode: Increased Font sizes"],"fixes":["Multiple wide2long blocks in sequence","Problems with loading indicators","Problems with creating templates"]}},{"Version":"1.23.0","Release Date":"Fri Dec 13 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fix issue with blocks unexpectedly hidden on the dashboard"]}},{"Version":"1.22.0","Release Date":"Thu Dec 05 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Combined Plot Block: Regression, and Head-to-Head merged into 'Scatter Plot' block","Column Pinning: Pin Columns to the left when scrolling"],"improvements":["Plot Configurations: Improve UX of multi-select elements","File configurations persist across multiple uploads"],"fixes":["Fix colors for mixed regression and mean line plots"]}},{"Version":"1.21.0","Release Date":"Thu Nov 28 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Interactive Plot Zooming: Zoom into plots with the scroll wheel and pan around interactively"],"improvements":[],"fixes":[]}},{"Version":"1.20.0","Release Date":"Mon Nov 25 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Long2wide: Allow long2wide after breakout blocks"],"fixes":[]}},{"Version":"1.19.0","Release Date":"Sun Nov 24 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Manage Plot Column Options: Admin mode allows disabling certain columns for plotting","External Authorization: Allow setting user roles and permissions via API"],"improvements":["Permission Handling: Allow setting an organization for templates","Performance Improvements: Browser-based caching via React-Query"],"fixes":["Fix error with empty H2H candidates"]}},{"Version":"1.18.0","Release Date":"Sun Nov 17 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Manage Plot Column Options: Admin mode allows disabling certain columns for plotting","Plot Exports: Customizable subtitles and descriptions in PNG format"],"improvements":["Filter Categories: Improve loading state and allow delayed saving","H2H Comparison: Add column for number of environments with lowest value"],"fixes":["Fix issue with column name changes not persisting"]}},{"Version":"1.17.0","Release Date":"Mon Oct 28 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Grouped Mean Values: Use the second output to show aggregated mean values only","Presentation Mode: Toggle larger font sizes and higher contrasts","Plot Swap: New Block to quickly switch between two plots"],"improvements":["PDF Export: Improve performance"],"fixes":["Fix issues with template permission settings"]}},{"Version":"1.16.0","Release Date":"Wed Oct 23 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Reorder Column: Drag and drop columns in Show Table block to sort"],"improvements":["H2h Comparison Matrix: Compare lines against selected candidate across environments","Mean Block: Drop group requirement to average all values"],"fixes":["Fix PDF report descriptions"]}},{"Version":"1.15.0","Release Date":"Fri Oct 11 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Export Feature: Introduced new export capabilities for easier data handling","API v2: Launched a new version of our API, offering enhanced features and security","Check mean lines: Display the average check values as vertical lines on the 2d plots"],"improvements":["Reordering in Pipeline View: Improved the ability to reorder branches within the pipeline view for better organization","Show Table Block: Filter and sort the columns shown in the raw data table","Read only pipe: Dashboard users can now get an overview of the pipeline in read-only mode"],"fixes":["Fixes for Big Files Performance: Addressed performance issues when handling large files"]}},{"Version":"1.9.0","Release Date":"Sun Aug 04 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Regression Coefficients on Plots: Weve added regression coefficients to our regression plots, providing deeper insights into your data analysis.","External Authentication: Implemented support for external authentication methods to enhance security and flexibility in logging in.","API for Automatic Data Import: Introduced an API that allows for automatic data import, simplifying and speeding up your data management processes."],"improvements":["Drag to Reorder Dashboard Items: You can now easily drag and reorder items on your dashboard for a more personalized and organized layout.","General Performance Enhancements: Weve made several under-the-hood improvements to boost overall performance and responsiveness of the application.","Mean Block Enhancements: The mean block can now set multiple means at once, offering more flexibility and efficiency in your calculations."],"fixes":["Username Issue: Resolved an issue where usernames containing a dash were causing problems.","Admin Role Selection View: Fixed a bug in the admin role selection view to ensure smooth and error-free role assignments."]}},{"Version":"1.6.0","Release Date":"Mon Apr 08 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Clearer Error Messages: Get more helpful guidance when working with columns to streamline troubleshooting.","File Upload Enhancements: Experience a faster and smoother file upload process.","Improved Error Handling: Benefit from a more stable application with better error messaging.","Cloning Read-Only Pipes: Easily create your own copies of publicly shared read-only pipes.","Environment Identification: Quickly see which environment you're working in with the new environment badge."],"improvements":["Informative 404 Page: Get helpful guidance when encountering a \\"Page Not Found\\" error.","Performance Optimizations: Enjoy a smoother experience thanks to code optimizations and dependency upgrades."],"fixes":["Head-to-Head Comparison Errors: Resolved an issue affecting head-to-head comparisons.","\\"Make File Private\\" Functionality: The \\"Make File Private\\" button now works as intended."]}},{"Version":"1.4.1","Release Date":"Mon Mar 18 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Rename Blocks: Give your blocks a title and description","Skip Blocks: Simply disable any block to disable its effect on the rest of the pipeline","Sync Axes: Turn on synchronisation of vertical axes in the configuration to use the same scale"],"improvements":["Better Caching: Both plot previews as well as intermediate results get saved more efficiently","Clone Readonly Pipes: Your colleagues can now clone the pipe you sent them directly from the dashboard"],"fixes":["Some layout issues on the dashboard were resolved","Bug in the long to wide block was fixed"]}}]`),pcn=({open:e,onClose:t})=>{const n=xt(),r=AM(o=>o.setOpen),i=ARe();return L3?h.jsx(Vh,{anchor:"right",open:e,onClose:t,PaperProps:{sx:{width:{xs:"100%",sm:600},maxWidth:"100%"}},children:h.jsxs(Y,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[h.jsxs(Y,{sx:{p:3,borderBottom:`1px solid ${ut(n.palette.divider,.1)}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(nst,{sx:{color:"primary.main"}}),h.jsx(ae,{variant:"h6",sx:{fontWeight:600},children:"Changelog"})]}),h.jsx(Pt,{onClick:t,size:"small",children:h.jsx(Vb,{})})]}),h.jsxs(Y,{sx:{flex:1,overflowY:"auto",p:3},children:[h.jsx(ae,{variant:"h5",sx:{fontWeight:600,mb:2,color:"text.primary"},children:"Latest Release Notes"}),h.jsxs(Y,{sx:{mb:3,p:2.5,borderRadius:"12px",bgcolor:ut(n.palette.primary.main,.05),border:`1px solid ${ut(n.palette.primary.main,.1)}`},children:[h.jsx(ae,{variant:"body1",sx:{mb:1.5,color:"text.primary",lineHeight:1.7},children:" We're always improving! We continuously add new features, enhance existing ones, and fix bugs to make your experience better. Your feedback helps us prioritize what to build next!"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:1.5,mt:2},children:[i&&h.jsx(Be,{variant:"contained",startIcon:h.jsx(Pke,{}),onClick:async()=>{const o=await i.createForm();o?.appendToDom(),o?.open()},sx:{borderRadius:"8px",textTransform:"none",fontWeight:500},children:"Give Feedback"}),h.jsx(Be,{variant:"outlined",startIcon:h.jsx(Bot,{}),onClick:()=>{t(),r(),setTimeout(()=>{const o=document.getElementById("help-drawer-contact");o&&o.scrollIntoView({behavior:"smooth",block:"start"})},300)},sx:{borderRadius:"8px",textTransform:"none",fontWeight:500},children:"Contact Us"})]})]}),h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:L3.map((o,s)=>h.jsxs(VF,{defaultExpanded:s===0,sx:{border:`1px solid ${ut(n.palette.divider,.1)}`,"&:before":{display:"none"},boxShadow:"none"},children:[h.jsx(WF,{expandIcon:h.jsx(KR,{}),sx:{"&:hover":{bgcolor:ut(n.palette.secondary.main,.3)}},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[h.jsx(ae,{variant:"h6",sx:{fontWeight:600},children:o.Version}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontStyle:"italic"},children:new Date(o["Release Date"]).toLocaleDateString()})]})}),h.jsxs(HF,{children:[o.Content.features&&o.Content.features.length>0&&h.jsxs(Y,{sx:{mb:2},children:[h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600,mb:1,color:"primary.main"},children:" Features"}),h.jsx(Y,{component:"ul",sx:{m:0,pl:2.5,"& li":{mb:.5,color:"text.secondary"}},children:o.Content.features.map((a,l)=>h.jsx("li",{children:h.jsx(ae,{variant:"body2",children:a})},l))})]}),o.Content.improvements&&o.Content.improvements.length>0&&h.jsxs(Y,{sx:{mb:2},children:[h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600,mb:1,color:"primary.main"},children:" Improvements"}),h.jsx(Y,{component:"ul",sx:{m:0,pl:2.5,"& li":{mb:.5,color:"text.secondary"}},children:o.Content.improvements.map((a,l)=>h.jsx("li",{children:h.jsx(ae,{variant:"body2",children:a})},l))})]}),o.Content.fixes&&o.Content.fixes.length>0&&h.jsxs(Y,{sx:{mb:2},children:[h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600,mb:1,color:"primary.main"},children:" Fixes"}),h.jsx(Y,{component:"ul",sx:{m:0,pl:2.5,"& li":{mb:.5,color:"text.secondary"}},children:o.Content.fixes.map((a,l)=>h.jsx("li",{children:h.jsx(ae,{variant:"body2",children:a})},l))})]})]})]},o.Version))})]})]})}):h.jsx(Vh,{anchor:"right",open:e,onClose:t,PaperProps:{sx:{width:{xs:"100%",sm:480},maxWidth:"100%"}},children:h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:h.jsx(To,{})})})},ure=Fi(e=>({pipe:null,open:t=>e({pipe:t}),close:()=>e({pipe:null})})),CA=Fi(e=>({fileUuid:null,isNested:!1,open:(t,n=!1)=>e({fileUuid:t,isNested:n}),close:()=>e({fileUuid:null,isNested:!1})})),dre=Fi(e=>({tag:null,isNested:!1,open:(t,n=!1)=>e({tag:t,isNested:n}),close:()=>e({tag:null,isNested:!1})})),IG="";function Vxe(e){if(!e)return IG;try{return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}function hcn({pipe:e}){const{showSuccess:t}=Wi();return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(aS,{}),children:"Details"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.75,fontSize:"0.8125rem"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Name"}),h.jsx(ae,{variant:"body2",sx:{flex:1,minWidth:0,wordBreak:"break-word"},children:e.name||IG})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72,flexShrink:0},children:"ID"}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5,fontFamily:"monospace",flex:1,minWidth:0},children:[h.jsx(ae,{variant:"body2",sx:{fontFamily:"monospace"},children:e.id}),h.jsx(Dt,{title:"Copy to clipboard",children:h.jsx(Pt,{size:"small",sx:{p:.25},onClick:()=>{navigator.clipboard.writeText(String(e.id)),t("ID copied to clipboard")},"aria-label":"Copy ID",children:h.jsx(zh,{sx:{fontSize:16}})})})]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Created"}),h.jsx(ae,{variant:"body2",children:Vxe(e.created_at??void 0)})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Last Modified"}),h.jsx(ae,{variant:"body2",children:Vxe(e.updated_at??void 0)})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Owner"}),h.jsx(ae,{variant:"body2",children:e.user?.username||IG})]})]})]})})}function gcn({pipeId:e}){const t=xt(),{data:n}=ls(e),r=!!n?.meta?.can_user_update,[i,o]=R.useState(n?.tag?.id??null);R.useEffect(()=>{o(n?.tag?.id??null)},[n?.id]);const{data:s,isLoading:a}=R4(),{showSuccess:l,showError:c}=Wi(),u=T4(),d=eZ(),f=()=>{!r||!n||(i?u.mutate({body:{operation:"update_tag",value:{id:i}},path:{pipe_id:n.id}},{onSuccess:()=>l("Data type updated"),onError:()=>c("Failed to update data type")}):d.mutate({path:{pipe_id:n.id}},{onSuccess:()=>l("Data type restriction removed"),onError:()=>c("Failed to remove data type restriction")}))},p=n&&(i??null)!==(n.tag?.id??null)&&(i!==null||n.tag?.id!=null);if(a||!n)return h.jsx(Sa,{});const g=s?.data??[];return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(eH,{sx:{fontSize:20,color:t.palette.primary.main,mr:1}}),children:h.jsxs(Y,{children:[h.jsx(ae,{variant:"subtitle2",fontWeight:600,children:"Data Source Restriction"}),h.jsx(ae,{variant:"caption",color:"text.secondary",display:"block",children:"Define what type of data this dashboard works with. Allow all file types, or specify a tag to filter compatible files."})]})}),h.jsxs(Y,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[h.jsxs(Qf,{size:"small",fullWidth:!0,children:[h.jsx(ae,{id:"dsr-label",variant:"caption",color:"text.secondary",sx:{mb:.5},children:"Select Tag"}),h.jsxs(Vd,{labelId:"dsr-label","aria-label":"Select Tag",value:i??"none",onChange:y=>o(y.target.value==="none"?null:y.target.value),disabled:!r,sx:{minHeight:44},children:[h.jsx($t,{value:"none",children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(eH,{sx:{fontSize:18,color:"text.secondary"}}),h.jsx("span",{children:"All Data Types"})]})}),g.map(y=>h.jsx($t,{value:y.id,children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Lf,{sx:{fontSize:18,color:"text.secondary"}}),h.jsx("span",{children:y.name})]})},y.id))]})]}),r&&h.jsx(Y,{sx:{display:"flex",justifyContent:"flex-end",pt:1},children:h.jsx(Be,{variant:"contained",size:"small",startIcon:h.jsx(C5,{}),onClick:f,disabled:!p||u.isPending||d.isPending,children:"Save Changes"})})]})]})})}const jG="";function mcn(e){if(!e)return jG;try{return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}function ycn(){const e=xt(),t=Kr(),{pipe:n,close:r}=ure(),{data:i=[]}=lAe(),{data:o}=tZ(),s=CA(p=>p.open),a=dre(p=>p.open),[l,c]=R.useState(0),u=p=>{const g=o?.find(y=>y.filename===p);g&&s(g.uuid,!0)},d=p=>{a(p,!0)};if(!n)return null;const f=i.find(p=>p.id===n.id)??n;return h.jsx(Vh,{anchor:"right",open:!!n,onClose:r,slotProps:{backdrop:{invisible:!1}},PaperProps:{sx:{width:{xs:"60vw"}}},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",height:"100%",minWidth:0,overflow:"hidden"},children:[h.jsxs(Y,{sx:{borderBottom:1,borderColor:"divider",px:2,py:1.5,bgcolor:"background.paper",flexShrink:0},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,minWidth:0},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:1,backgroundColor:ut(e.palette.primary.main,.1),color:e.palette.primary.main},children:h.jsx(aS,{sx:{fontSize:20}})}),h.jsx(ae,{variant:"subtitle1",fontWeight:600,noWrap:!0,sx:{flex:1,minWidth:0},children:f.name||jG}),h.jsx(Be,{size:"small",variant:"outlined",startIcon:h.jsx(QR,{sx:{fontSize:18}}),onClick:()=>{const p=ba(f.user?.username||"",f.id);t({to:`${Nr.Dashboard}/${p}`}),r()},children:"Open dashboard"})]}),h.jsxs(Y,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:2,mt:1.5,pt:1.5,borderTop:1,borderColor:"divider"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(BF,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Owner"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:f.user?.username||jG})]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(Mke,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Last Modified"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:mcn(f.updated_at??void 0)})]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(TX,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Shared"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:f.cost_centers?.trim()?"Yes":"No"})]})]})]})]}),h.jsxs(qb,{value:l,onChange:(p,g)=>c(g),sx:{borderBottom:1,borderColor:"divider",minHeight:40,flexShrink:0},children:[h.jsx(wl,{label:"Data Source",id:"dashboard-tab-0","aria-controls":"dashboard-tabpanel-0"}),h.jsx(wl,{label:"Sharing",id:"dashboard-tab-1","aria-controls":"dashboard-tabpanel-1"}),h.jsx(wl,{label:"More",id:"dashboard-tab-2","aria-controls":"dashboard-tabpanel-2"})]}),h.jsx(Y,{role:"tabpanel",id:"dashboard-tabpanel-0",hidden:l!==0,sx:{flex:1,overflow:"auto",p:2},children:l===0&&h.jsx(gcn,{pipeId:f.id,onOpenTagDetails:d,onFileClick:u})}),h.jsx(Y,{role:"tabpanel",id:"dashboard-tabpanel-1",hidden:l!==1,sx:{flex:1,overflow:"auto",p:2},children:l===1&&h.jsx(mNe,{pipeId:f.id})}),h.jsx(Y,{role:"tabpanel",id:"dashboard-tabpanel-2",hidden:l!==2,sx:{flex:1,overflow:"auto",p:2},children:l===2&&h.jsx(hcn,{pipe:f})})]})})}const fre=({message:e})=>h.jsx(_T,{severity:"error",children:e});function Mm(e,t){return typeof e=="function"?e(t):e}function jc(e,t){return n=>{t.setState(r=>({...r,[e]:Mm(n,r[e])}))}}function WN(e){return e instanceof Function}function vcn(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Dze(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function gn(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((u,d)=>r[d]!==u)))return i;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-c)*100)/100,f=d/16,p=(g,y)=>{for(g=String(g);g.length<y;)g=" "+g;return g};console.info(`%c ${p(d,5)} /${p(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n?.key)}return i}}function mn(e,t,n,r){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function bcn(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:gn(()=>[e,n,t,o],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),mn(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function xcn(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let c=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=f=>{let p=f;for(const y of l.split(".")){var g;p=(g=p)==null?void 0:g[y]}return p}:u=f=>f[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:gn(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},mn(e.options,"debugColumns")),getLeafColumns:gn(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=d.columns)!=null&&p.length){let g=d.columns.flatMap(y=>y.getLeafColumns());return f(g)}return[d]},mn(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const ea="debugHeaders";function Hxe(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const wcn={createTable:e=>{e.getHeaderGroups=gn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],c=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return BO(t,[...a,...c,...l],e)},mn(e.options,ea)),e.getCenterHeaderGroups=gn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),BO(t,n,e,"center")),mn(e.options,ea)),e.getLeftHeaderGroups=gn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return BO(t,o,e,"left")},mn(e.options,ea)),e.getRightHeaderGroups=gn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return BO(t,o,e,"right")},mn(e.options,ea)),e.getFooterGroups=gn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),mn(e.options,ea)),e.getLeftFooterGroups=gn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),mn(e.options,ea)),e.getCenterFooterGroups=gn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),mn(e.options,ea)),e.getRightFooterGroups=gn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),mn(e.options,ea)),e.getFlatHeaders=gn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),mn(e.options,ea)),e.getLeftFlatHeaders=gn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),mn(e.options,ea)),e.getCenterFlatHeaders=gn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),mn(e.options,ea)),e.getRightFlatHeaders=gn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),mn(e.options,ea)),e.getCenterLeafHeaders=gn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),mn(e.options,ea)),e.getLeftLeafHeaders=gn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),mn(e.options,ea)),e.getRightLeafHeaders=gn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),mn(e.options,ea)),e.getLeafHeaders=gn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,c;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},mn(e.options,ea))}};function BO(e,t,n,r){var i,o;let s=0;const a=function(f,p){p===void 0&&(p=1),s=Math.max(s,p),f.filter(g=>g.getIsVisible()).forEach(g=>{var y;(y=g.columns)!=null&&y.length&&a(g.columns,p+1)},0)};a(e);let l=[];const c=(f,p)=>{const g={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},y=[];f.forEach(v=>{const x=[...y].reverse()[0],w=v.column.depth===g.depth;let S,C=!1;if(w&&v.column.parent?S=v.column.parent:(S=v.column,C=!0),x&&x?.column===S)x.subHeaders.push(v);else{const k=Hxe(n,S,{id:[r,p,S.id,v?.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${y.filter(T=>T.column===S).length}`:void 0,depth:p,index:y.length});k.subHeaders.push(v),y.push(k)}g.headers.push(v),v.headerGroup=g}),l.push(g),p>0&&c(y,p-1)},u=t.map((f,p)=>Hxe(n,f,{depth:s,index:p}));c(u,s-1),l.reverse();const d=f=>f.filter(g=>g.column.getIsVisible()).map(g=>{let y=0,v=0,x=[0];g.subHeaders&&g.subHeaders.length?(x=[],d(g.subHeaders).forEach(S=>{let{colSpan:C,rowSpan:k}=S;y+=C,x.push(k)})):y=1;const w=Math.min(...x);return v=v+w,g.colSpan=y,g.rowSpan=v,{colSpan:y,rowSpan:v}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const kA=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>Dze(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:gn(()=>[e.getAllLeafColumns()],l=>l.map(c=>bcn(e,a,c,c.id)),mn(e.options,"debugRows")),_getAllCellsByColumnId:gn(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),mn(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a},Scn={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Oze=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};Oze.autoRemove=e=>Dd(e);const Ize=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Ize.autoRemove=e=>Dd(e);const jze=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};jze.autoRemove=e=>Dd(e);const $ze=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};$ze.autoRemove=e=>Dd(e)||!(e!=null&&e.length);const Fze=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});Fze.autoRemove=e=>Dd(e)||!(e!=null&&e.length);const Lze=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});Lze.autoRemove=e=>Dd(e)||!(e!=null&&e.length);const Nze=(e,t,n)=>e.getValue(t)===n;Nze.autoRemove=e=>Dd(e);const zze=(e,t,n)=>e.getValue(t)==n;zze.autoRemove=e=>Dd(e);const pre=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};pre.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};pre.autoRemove=e=>Dd(e)||Dd(e[0])&&Dd(e[1]);const bf={includesString:Oze,includesStringSensitive:Ize,equalsString:jze,arrIncludes:$ze,arrIncludesAll:Fze,arrIncludesSome:Lze,equals:Nze,weakEquals:zze,inNumberRange:pre};function Dd(e){return e==null||e===""}const _cn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:jc("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?bf.includesString:typeof r=="number"?bf.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?bf.equals:Array.isArray(r)?bf.arrIncludes:bf.weakEquals},e.getFilterFn=()=>{var n,r;return WN(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:bf[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r?.find(u=>u.id===e.id),s=Mm(n,o?o.value:void 0);if(Wxe(i,s,e)){var a;return(a=r?.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var c;return(c=r?.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=Mm(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(Wxe(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Wxe(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Ccn=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),kcn=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},Ecn=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},Tcn=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},Rcn=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},Mcn=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!vcn(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},Acn=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Pcn=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Dcn=(e,t)=>t.length,Aj={sum:Ccn,min:kcn,max:Ecn,extent:Tcn,mean:Rcn,median:Mcn,unique:Acn,uniqueCount:Pcn,count:Dcn},Ocn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:jc("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return Aj.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Aj.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return WN(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Aj[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Icn(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const jcn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:jc("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=gn(n=>[qE(t,n)],n=>n.findIndex(r=>r.id===e.id),mn(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=qE(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=qE(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=gn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return Icn(o,n,r)},mn(e.options,"debugTable"))}},gU=()=>({left:[],right:[]}),$cn={getInitialState:e=>({columnPinning:gU(),...e}),getDefaultOptions:e=>({onColumnPinningChange:jc("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i?.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i?.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var c,u;return{left:[...((c=i?.left)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((u=i?.right)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i?.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i?.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=gn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},mn(t.options,"debugRows")),e.getLeftVisibleCells=gn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),mn(t.options,"debugRows")),e.getRightVisibleCells=gn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),mn(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?gU():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:gU())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=gn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),mn(e.options,"debugColumns")),e.getRightLeafColumns=gn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),mn(e.options,"debugColumns")),e.getCenterLeafColumns=gn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},mn(e.options,"debugColumns"))}},UO={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},mU=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Fcn={getDefaultColumnDef:()=>UO,getInitialState:e=>({columnSizing:{},columnSizingInfo:mU(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:jc("columnSizing",e),onColumnSizingInfoChange:jc("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:UO.minSize,(r=o??e.columnDef.size)!=null?r:UO.size),(i=e.columnDef.maxSize)!=null?i:UO.maxSize)},e.getStart=gn(n=>[n,qE(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),mn(t.options,"debugColumns")),e.getAfter=gn(n=>[n,qE(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),mn(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r?.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),yU(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],l=yU(o)?Math.round(o.touches[0].clientX):o.clientX,c={},u=(x,w)=>{typeof w=="number"&&(t.setColumnSizingInfo(S=>{var C,k;const T=t.options.columnResizeDirection==="rtl"?-1:1,E=(w-((C=S?.startOffset)!=null?C:0))*T,A=Math.max(E/((k=S?.startSize)!=null?k:0),-.999999);return S.columnSizingStart.forEach(O=>{let[I,j]=O;c[I]=Math.round(Math.max(j+j*A,0)*100)/100}),{...S,deltaOffset:E,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||x==="end")&&t.setColumnSizing(S=>({...S,...c})))},d=x=>u("move",x),f=x=>{u("end",x),t.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=n||typeof document<"u"?document:null,g={moveHandler:x=>d(x.clientX),upHandler:x=>{p?.removeEventListener("mousemove",g.moveHandler),p?.removeEventListener("mouseup",g.upHandler),f(x.clientX)}},y={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),d(x.touches[0].clientX),!1),upHandler:x=>{var w;p?.removeEventListener("touchmove",y.moveHandler),p?.removeEventListener("touchend",y.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),f((w=x.touches[0])==null?void 0:w.clientX)}},v=Lcn()?{passive:!1}:!1;yU(o)?(p?.addEventListener("touchmove",y.moveHandler,v),p?.addEventListener("touchend",y.upHandler,v)):(p?.addEventListener("mousemove",g.moveHandler,v),p?.addEventListener("mouseup",g.upHandler,v)),t.setColumnSizingInfo(x=>({...x,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?mU():(n=e.initialState.columnSizingInfo)!=null?n:mU())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let VO=null;function Lcn(){if(typeof VO=="boolean")return VO;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return VO=e,VO}function yU(e){return e.type==="touchstart"}const Ncn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:jc("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=gn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),mn(t.options,"debugRows")),e.getVisibleCells=gn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],mn(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>gn(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),mn(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function qE(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const zcn={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Bcn={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:jc("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>bf.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return WN(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:bf[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Ucn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:jc("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},$G=0,FG=10,vU=()=>({pageIndex:$G,pageSize:FG}),Vcn={getInitialState:e=>({...e,pagination:{...vU(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:jc("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>Mm(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?vU():(i=e.initialState.pagination)!=null?i:vU())},e.setPageIndex=r=>{e.setPagination(i=>{let o=Mm(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?$G:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:$G)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?FG:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:FG)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,Mm(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=Mm(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=gn(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},mn(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},bU=()=>({top:[],bottom:[]}),Hcn={getInitialState:e=>({rowPinning:bU(),...e}),getDefaultOptions:e=>({onRowPinningChange:jc("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],s=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var c,u;if(n==="bottom"){var d,f;return{top:((d=l?.top)!=null?d:[]).filter(y=>!(a!=null&&a.has(y))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(y=>!(a!=null&&a.has(y))),...Array.from(a)]}}if(n==="top"){var p,g;return{top:[...((p=l?.top)!=null?p:[]).filter(y=>!(a!=null&&a.has(y))),...Array.from(a)],bottom:((g=l?.bottom)!=null?g:[]).filter(y=>!(a!=null&&a.has(y)))}}return{top:((c=l?.top)!=null?c:[]).filter(y=>!(a!=null&&a.has(y))),bottom:((u=l?.bottom)!=null?u:[]).filter(y=>!(a!=null&&a.has(y)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?bU():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:bU())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=gn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),mn(e.options,"debugRows")),e.getBottomRows=gn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),mn(e.options,"debugRows")),e.getCenterRows=gn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},mn(e.options,"debugRows"))}},Wcn={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:jc("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{LG(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=gn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?xU(e,n):{rows:[],flatRows:[],rowsById:{}},mn(e.options,"debugTable")),e.getFilteredSelectedRowModel=gn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?xU(e,n):{rows:[],flatRows:[],rowsById:{}},mn(e.options,"debugTable")),e.getGroupedSelectedRowModel=gn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?xU(e,n):{rows:[],flatRows:[],rowsById:{}},mn(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return LG(a,e.id,n,(s=r?.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return hre(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return NG(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return NG(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},LG=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>LG(e,a.id,n,r,i))};function xU(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var c;const u=hre(l,n);if(u&&(r.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:o(l.subRows)}),u)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function hre(e,t){var n;return(n=t[e.id])!=null?n:!1}function NG(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(hre(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=NG(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const zG=/([0-9]+)/gm,qcn=(e,t,n)=>Bze(_0(e.getValue(n)).toLowerCase(),_0(t.getValue(n)).toLowerCase()),Gcn=(e,t,n)=>Bze(_0(e.getValue(n)),_0(t.getValue(n))),Ycn=(e,t,n)=>gre(_0(e.getValue(n)).toLowerCase(),_0(t.getValue(n)).toLowerCase()),Xcn=(e,t,n)=>gre(_0(e.getValue(n)),_0(t.getValue(n))),Kcn=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},Zcn=(e,t,n)=>gre(e.getValue(n),t.getValue(n));function gre(e,t){return e===t?0:e>t?1:-1}function _0(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Bze(e,t){const n=e.split(zG).filter(Boolean),r=t.split(zG).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const iv={alphanumeric:qcn,alphanumericCaseSensitive:Gcn,text:Ycn,textCaseSensitive:Xcn,datetime:Kcn,basic:Zcn},Qcn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:jc("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return iv.datetime;if(typeof o=="string"&&(r=!0,o.split(zG).length>1))return iv.alphanumeric}return r?iv.text:iv.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return WN(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:iv[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s?.find(p=>p.id===e.id),l=s?.findIndex(p=>p.id===e.id);let c=[],u,d=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(o||i||(u="remove")),u==="add"){var f;c=[...s,{id:e.id,desc:d}],c.splice(0,c.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(p=>p.id===e.id?{...p,desc:d}:p):u==="remove"?c=s.filter(p=>p.id!==e.id):c=[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Jcn=[wcn,Ncn,jcn,$cn,Scn,_cn,zcn,Bcn,Qcn,Ocn,Ucn,Vcn,Hcn,Wcn,Fcn];function eun(e){var t,n;const r=[...Jcn,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var p;l=(p=f.getInitialState==null?void 0:f.getInitialState(l))!=null?p:l});const c=[];let u=!1;const d={_features:r,options:{...o,...e},initialState:l,_queue:f=>{c.push(f),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const p=Mm(f,i.options);i.options=s(p)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,p,g)=>{var y;return(y=i.options.getRowId==null?void 0:i.options.getRowId(f,p,g))!=null?y:`${g?[g.id,p].join("."):p}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,p)=>{let g=(p?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!g&&(g=i.getCoreRowModel().rowsById[f],!g))throw new Error;return g},_getDefaultColumnDef:gn(()=>[i.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:g=>{const y=g.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:g=>{var y,v;return(y=(v=g.renderValue())==null||v.toString==null?void 0:v.toString())!=null?y:null},...i._features.reduce((g,y)=>Object.assign(g,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...f}},mn(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:gn(()=>[i._getColumnDefs()],f=>{const p=function(g,y,v){return v===void 0&&(v=0),g.map(x=>{const w=xcn(i,x,v,y),S=x;return w.columns=S.columns?p(S.columns,w,v+1):[],w})};return p(f)},mn(e,"debugColumns")),getAllFlatColumns:gn(()=>[i.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),mn(e,"debugColumns")),_getAllFlatColumnsById:gn(()=>[i.getAllFlatColumns()],f=>f.reduce((p,g)=>(p[g.id]=g,p),{}),mn(e,"debugColumns")),getAllLeafColumns:gn(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,p)=>{let g=f.flatMap(y=>y.getLeafColumns());return p(g)},mn(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const p=i._features[f];p==null||p.createTable==null||p.createTable(i)}return i}function tun(){return e=>gn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let c=0;c<i.length;c++){const u=kA(e,e._getRowId(i[c],c,s),i[c],c,o,void 0,s?.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(i[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,o+1,u))}}return a};return n.rows=r(t),n},mn(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function nun(){return e=>gn(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:Uze(n),mn(e.options,"debugTable"))}function Uze(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function run(){return(e,t)=>gn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(s=>{var a;return(a=s.getUniqueValues(t))!=null?a:[]}).map(Number).filter(s=>!Number.isNaN(s));if(!r.length)return;let i=r[0],o=r[r.length-1];for(const s of r)s<i?i=s:s>o&&(o=s);return[i,o]},mn(e.options,"debugTable"))}function Vze(e,t,n){return n.options.filterFromLeafRows?iun(e,t,n):oun(e,t,n)}function iun(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){var d;let p=l[f];const g=kA(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(g.columnFilters=p.columnFilters,(d=p.subRows)!=null&&d.length&&c<s){if(g.subRows=a(p.subRows,c+1),p=g,t(p)&&!g.subRows.length){u.push(p),o[p.id]=p,i.push(p);continue}if(t(p)||g.subRows.length){u.push(p),o[p.id]=p,i.push(p);continue}}else p=g,t(p)&&(u.push(p),o[p.id]=p,i.push(p))}return u};return{rows:a(e),flatRows:i,rowsById:o}}function oun(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){let p=l[f];if(t(p)){var d;if((d=p.subRows)!=null&&d.length&&c<s){const y=kA(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);y.subRows=a(p.subRows,c+1),p=y}u.push(p),i.push(p),o[p.id]=p}}return u};return{rows:a(e),flatRows:i,rowsById:o}}function sun(){return(e,t)=>gn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const o=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),s=a=>{for(let l=0;l<o.length;l++)if(a.columnFilters[o[l]]===!1)return!1;return!0};return Vze(n.rows,s,e)},mn(e.options,"debugTable"))}function aun(){return(e,t)=>gn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let o=0;o<n.flatRows.length;o++){const s=n.flatRows[o].getUniqueValues(t);for(let a=0;a<s.length;a++){const l=s[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},mn(e.options,"debugTable"))}function lun(){return e=>gn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(f=>{var p;const g=e.getColumn(f.id);if(!g)return;const y=g.getFilterFn();y&&i.push({id:f.id,filterFn:y,resolvedValue:(p=y.resolveFilterValue==null?void 0:y.resolveFilterValue(f.value))!=null?p:f.value})});const s=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var p;o.push({id:f.id,filterFn:a,resolvedValue:(p=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?p:r})}));let c,u;for(let f=0;f<t.flatRows.length;f++){const p=t.flatRows[f];if(p.columnFilters={},i.length)for(let g=0;g<i.length;g++){c=i[g];const y=c.id;p.columnFilters[y]=c.filterFn(p,y,c.resolvedValue,v=>{p.columnFiltersMeta[y]=v})}if(o.length){for(let g=0;g<o.length;g++){u=o[g];const y=u.id;if(u.filterFn(p,y,u.resolvedValue,v=>{p.columnFiltersMeta[y]=v})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const d=f=>{for(let p=0;p<s.length;p++)if(f.columnFilters[s[p]]===!1)return!1;return!0};return Vze(t.rows,d,e)},mn(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function cun(){return e=>gn(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],o={},s=function(l,c,u){if(c===void 0&&(c=0),c>=r.length)return l.map(g=>(g.depth=c,i.push(g),o[g.id]=g,g.subRows&&(g.subRows=s(g.subRows,c+1,g.id)),g));const d=r[c],f=uun(l,d);return Array.from(f.entries()).map((g,y)=>{let[v,x]=g,w=`${d}:${v}`;w=u?`${u}>${w}`:w;const S=s(x,c+1,w);S.forEach(T=>{T.parentId=w});const C=c?Dze(x,T=>T.subRows):x,k=kA(e,w,C[0].original,y,c,void 0,u);return Object.assign(k,{groupingColumnId:d,groupingValue:v,subRows:S,leafRows:C,getValue:T=>{if(r.includes(T)){if(k._valuesCache.hasOwnProperty(T))return k._valuesCache[T];if(x[0]){var E;k._valuesCache[T]=(E=x[0].getValue(T))!=null?E:void 0}return k._valuesCache[T]}if(k._groupingValuesCache.hasOwnProperty(T))return k._groupingValuesCache[T];const A=e.getColumn(T),O=A?.getAggregationFn();if(O)return k._groupingValuesCache[T]=O(T,C,x),k._groupingValuesCache[T]}}),S.forEach(T=>{i.push(T),o[T.id]=T}),k})},a=s(n.rows,0);return a.forEach(l=>{i.push(l),o[l.id]=l}),{rows:a,flatRows:i,rowsById:o}},mn(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function uun(e,t){const n=new Map;return e.reduce((r,i)=>{const o=`${i.getGroupingValue(t)}`,s=r.get(o);return s?s.push(i):r.set(o,[i]),r},n)}function dun(e){return t=>gn(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const c=i*o,u=c+i;s=s.slice(c,u);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=Uze({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];const f=p=>{d.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return d.rows.forEach(f),d},mn(t.options,"debugTable"))}function fun(){return e=>gn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};o.forEach(l=>{const c=e.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let p=0;p<o.length;p+=1){var f;const g=o[p],y=s[g.id],v=y.sortUndefined,x=(f=g?.desc)!=null?f:!1;let w=0;if(v){const S=u.getValue(g.id),C=d.getValue(g.id),k=S===void 0,T=C===void 0;if(k||T){if(v==="first")return k?-1:1;if(v==="last")return k?1:-1;w=k&&T?0:k?v:-v}}if(w===0&&(w=y.sortingFn(u,d,g.id)),w!==0)return x&&(w*=-1),y.invertSorting&&(w*=-1),w}return u.index-d.index}),c.forEach(u=>{var d;i.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},mn(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function pun(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=R.useState(()=>({current:eun(t)})),[r,i]=R.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const Hze={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},hun=Object.keys(Hze).join("|"),gun=new RegExp(hun,"g");function mun(e){return e.replace(gun,t=>Hze[t])}const Fa={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function yun(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:Fa.MATCHES,!n.accessors){const s=qxe(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const i=Sun(e,n.accessors),o={rankedValue:e,rank:Fa.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<i.length;s++){const a=i[s];let l=qxe(a.itemValue,t,n);const{minRanking:c,maxRanking:u,threshold:d=n.threshold}=a.attributes;l<c&&l>=Fa.MATCHES?l=c:l>u&&(l=u),l=Math.min(l,u),l>=d&&l>o.rank&&(o.rank=l,o.passed=!0,o.accessorIndex=s,o.accessorThreshold=d,o.rankedValue=a.itemValue)}return o}function qxe(e,t,n){return e=Gxe(e,n),t=Gxe(t,n),t.length>e.length?Fa.NO_MATCH:e===t?Fa.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Fa.EQUAL:e.startsWith(t)?Fa.STARTS_WITH:e.includes(` ${t}`)?Fa.WORD_STARTS_WITH:e.includes(t)?Fa.CONTAINS:t.length===1?Fa.NO_MATCH:vun(e).includes(t)?Fa.ACRONYM:bun(e,t))}function vun(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(o=>{t+=o.substr(0,1)})}),t}function bun(e,t){let n=0,r=0;function i(l,c,u){for(let d=u,f=c.length;d<f;d++)if(c[d]===l)return n+=1,d+1;return-1}function o(l){const c=1/l,u=n/t.length;return Fa.MATCHES+u*c}const s=i(t[0],e,0);if(s<0)return Fa.NO_MATCH;r=s;for(let l=1,c=t.length;l<c;l++){const u=t[l];if(r=i(u,e,r),!(r>-1))return Fa.NO_MATCH}const a=r-s;return o(a)}function xun(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function Gxe(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=mun(e)),e}function wun(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function Sun(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r],s=_un(o),a=wun(e,o);for(let l=0,c=a.length;l<c;l++)n.push({itemValue:a[l],attributes:s})}return n}const Yxe={maxRanking:1/0,minRanking:-1/0};function _un(e){return typeof e=="function"?Yxe:{...Yxe,...e}}function A1(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let c;n.key&&((o=n.debug)!=null&&o.call(n))&&(c=Date.now());const u=e();if(!(u.length!==r.length||u.some((p,g)=>r[g]!==p)))return i;r=u;let f;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(f=Date.now()),i=t(...u),n.key&&((a=n.debug)!=null&&a.call(n))){const p=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-f)*100)/100,y=g/16,v=(x,w)=>{for(x=String(x);x.length<w;)x=" "+x;return x};console.info(`%c ${v(g,5)} /${v(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n?.key)}return(l=n?.onChange)==null||l.call(n,i),i}}function wU(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Cun=(e,t)=>Math.abs(e-t)<1,kun=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Eun=e=>e,Wze=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Tun=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=s[0];if(a?.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},Xxe={passive:!0},Run=typeof window>"u"?!0:"onscrollend"in window,Mun=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&Run?()=>{}:kun(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=c=>()=>{const{horizontal:u,isRtl:d}=e.options;i=u?n.scrollLeft*(d&&-1||1):n.scrollTop,o(),t(i,c)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,Xxe),n.addEventListener("scrollend",l,Xxe),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},Aun=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Pun=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Dun{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Eun,rangeExtractor:Wze,onChange:()=>{},measureElement:Aun,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=A1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=A1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=A1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const d=o(u),f=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=f?f.end+this.options.gap:r+i,g=a.get(d),y=typeof g=="number"?g:this.options.estimateSize(u),v=p+y,x=f?f.lane:u%this.options.lanes;c[u]={index:u,start:p,size:y,end:v,key:d,lane:x}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=A1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?Oun({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=A1(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=A1(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return wU(r[qze(0,r.length-1,i=>wU(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+i&&(r="end"),r==="end"&&(n-=i);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=i.start-this.options.scrollPaddingStart+(i.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=wU(this.getOffsetForIndex(n,a));Cun(c,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const qze=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Oun({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=qze(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const Kxe=typeof document<"u"?R.useLayoutEffect:R.useEffect;function Iun(e){const t=R.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?zd.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=R.useState(()=>new Dun(n));return r.setOptions(n),Kxe(()=>r._didMount(),[]),Kxe(()=>r._willUpdate()),r}function Gze(e){return Iun({observeElementRect:Tun,observeElementOffset:Mun,scrollToFn:Pun,...e})}const jun=e=>t=>t!==null&&typeof t=="object"&&e in t,HO=jun("match"),WO=e=>typeof e<"u";function $un({curr:e,next:t,prev:n,clipBy:r=3}){const i=e.text.split(" "),o=i.length;if(e.match||r>=o)return e.text;const s="...";return WO(t)&&WO(n)&&HO(n)&&HO(t)?o>r*2?[...i.slice(0,r),s,...i.slice(-r)].join(" "):e.text:WO(t)&&HO(t)?[s,...i.slice(-r)].join(" "):WO(n)&&HO(n)?[...i.slice(0,r),s].join(" "):e.text}const Fun=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,t=>`\\${t}`),Lun=e=>e.replace(/\s{2,}/g," ").split(" ").join("|"),Nun=({terms:e,matchExactly:t=!1})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=Fun(e.trim());return`(${t?n:Lun(n)})`},zun=({terms:e,matchExactly:t=!1})=>{try{const n=/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.exec(e);return n?new RegExp(n[2],n[3]):new RegExp(Nun({terms:e,matchExactly:t}),"ig")}catch{throw new TypeError("Expected terms to be either a string or a RegExp!")}};let Zxe=36,Yze="";for(;Zxe--;)Yze+=Zxe.toString(36);function Qxe(e=11){let t="",n=e;for(;n--;)t+=Yze[Math.random()*36|0];return t}const Bun=e=>e.length>0,SU=({text:e,query:t,clipBy:n,matchExactly:r=!1})=>{const i=typeof t=="string"?t.trim():t;if(i==="")return[{key:Qxe(),text:e,match:!1}];const o=zun({terms:t,matchExactly:r});return e.split(o).filter(Bun).map(s=>({key:Qxe(),text:s,match:r?s.toLowerCase()===i.toLowerCase():o.test(s)})).map((s,a,l)=>({...s,...typeof n=="number"&&{text:$un({curr:s,...a<l.length-1&&{next:l[a+1]},...a>0&&{prev:l[a-1]},clipBy:n})}}))},Mf=(e,t)=>e.length!==t.length?!1:t.every(n=>e.includes(n)),mre=({openTo:e,defaultOpenTo:t,views:n,defaultViews:r})=>{const i=n??r;let o;if(e!=null)o=e;else if(i.includes(t))o=t;else if(i.length>0)o=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:o}},N3=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r=e.setMilliseconds(r,e.getMilliseconds(n)),r},vR=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:i,isDateDisabled:o,adapter:s,timezone:a})=>{const l=N3(s,s.date(void 0,a),e);n&&s.isBefore(i,l)&&(i=l),t&&s.isAfter(r,l)&&(r=l);let c=e,u=e;for(s.isBefore(e,i)&&(c=i,u=null),s.isAfter(e,r)&&(u&&(u=r),c=null);c||u;){if(c&&s.isAfter(c,r)&&(c=null),u&&s.isBefore(u,i)&&(u=null),c){if(!o(c))return c;c=s.addDays(c,1)}if(u){if(!o(u))return u;u=s.addDays(u,-1)}}return null},Uun=(e,t)=>e.isValid(t)?t:null,z3=(e,t,n)=>t==null||!e.isValid(t)?n:t,Vun=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),yre=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const i=r[r.length-1];r.push(e.addMonths(i,1))}return r},vre=(e,t,n)=>n==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),Cd=(e,t)=>{const n=e.setHours(e.date(),t==="am"?2:14);return e.format(n,"meridiem")},Xze=["year","month","day"],l_=e=>Xze.includes(e),bR=(e,{format:t,views:n},r)=>{if(t!=null)return t;const i=e.formats;return Mf(n,["year"])?i.year:Mf(n,["month"])?i.month:Mf(n,["day"])?i.dayOfMonth:Mf(n,["month","year"])?`${i.month} ${i.year}`:Mf(n,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},Hun=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},Kze=["hours","minutes","seconds"],Wun=["hours","minutes","seconds","meridiem"],Ob=e=>Kze.includes(e),pw=e=>Wun.includes(e),qun=(e,t)=>e?t.getHours(e)>=12?"pm":"am":null,xR=(e,t,n)=>n&&(e>=12?"pm":"am")!==t?t==="am"?e-12:e+12:e,Gun=(e,t,n,r)=>{const i=xR(r.getHours(e),t,n);return r.setHours(e,i)},Jxe=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),EA=(e,t)=>(n,r)=>e?t.isAfter(n,r):Jxe(n,t)>Jxe(r,t),B3=(e,{format:t,views:n,ampm:r})=>{if(t!=null)return t;const i=e.formats;return Mf(n,["hours"])?r?`${i.hours12h} ${i.meridiem}`:i.hours24h:Mf(n,["minutes"])?i.minutes:Mf(n,["seconds"])?i.seconds:Mf(n,["minutes","seconds"])?`${i.minutes}:${i.seconds}`:Mf(n,["hours","minutes","seconds"])?r?`${i.hours12h}:${i.minutes}:${i.seconds} ${i.meridiem}`:`${i.hours24h}:${i.minutes}:${i.seconds}`:r?`${i.hours12h}:${i.minutes} ${i.meridiem}`:`${i.hours24h}:${i.minutes}`},fd={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Yun=e=>Math.max(...e.map(t=>fd[t.type]??1)),yk=(e,t,n)=>{if(t===fd.year)return e.startOfYear(n);if(t===fd.month)return e.startOfMonth(n);if(t===fd.day)return e.startOfDay(n);let r=n;return t<fd.minutes&&(r=e.setMinutes(r,0)),t<fd.seconds&&(r=e.setSeconds(r,0)),t<fd.milliseconds&&(r=e.setMilliseconds(r,0)),r},Xun=({props:e,adapter:t,granularity:n,timezone:r,getTodayDate:i})=>{let o=i?i():yk(t,n,vre(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=yk(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=yk(t,n,e.maxDate));const s=EA(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&s(e.minTime,o)&&(o=yk(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:N3(t,o,e.minTime))),e.maxTime!=null&&s(o,e.maxTime)&&(o=yk(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:N3(t,o,e.maxTime))),o},Zze=(e,t)=>{const n=e.formatTokenMap[t];if(n==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},qN=(e,t)=>{const n=[],r=e.date(void 0,"default"),i=e.startOfWeek(r),o=e.endOfWeek(r);let s=i;for(;e.isBefore(s,o);)n.push(s),s=e.addDays(s,1);return n.map(a=>e.formatByString(a,t))},Qze=(e,t,n,r)=>{switch(n){case"month":return yre(e,e.date(void 0,t)).map(i=>e.formatByString(i,r));case"weekDay":return qN(e,r);case"meridiem":{const i=e.date(void 0,t);return[e.startOfDay(i),e.endOfDay(i)].map(o=>e.formatByString(o,r))}default:return[]}},e1e="s",Kun=["0","1","2","3","4","5","6","7","8","9"],Zun=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),e1e)==="0"?Kun:Array.from({length:10}).map((r,i)=>e.formatByString(e.setSeconds(t,i),e1e))},Ib=(e,t)=>{if(t[0]==="0")return e;const n=[];let r="";for(let i=0;i<e.length;i+=1){r+=e[i];const o=t.indexOf(r);o>-1&&(n.push(o.toString()),r="")}return n.join("")},bre=(e,t)=>t[0]==="0"?e:e.split("").map(n=>t[Number(n)]).join(""),t1e=(e,t)=>{const n=Ib(e,t);return n!==" "&&!Number.isNaN(Number(n))},xre=(e,t)=>Number(e).toString().padStart(t,"0"),Jze=(e,t,n,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const s=e.setDate(n.longestMonth,t);return e.formatByString(s,i.format)}let o=t.toString();return i.hasLeadingZerosInInput&&(o=xre(o,i.maxLength)),bre(o,r)},wre=(e,t,n)=>{let r=e.value||e.placeholder;const i=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(Ib(r,n)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!i&&r.length===1&&(r=`${r}`),t==="input-rtl"&&(r=`${r}`),r},n1e=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),Qun=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,e6e=(e,t,n,r)=>{if(t!=="digit")return!1;const i=e.date(void 0,"default");switch(n){case"year":return e.lib==="dayjs"&&r==="YY"?!0:e.formatByString(e.setYear(i,1),r).startsWith("0");case"month":return e.formatByString(e.startOfYear(i),r).length>1;case"day":return e.formatByString(e.startOfMonth(i),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(i),r).length>1;case"hours":return e.formatByString(e.setHours(i,1),r).length>1;case"minutes":return e.formatByString(e.setMinutes(i,1),r).length>1;case"seconds":return e.formatByString(e.setSeconds(i,1),r).length>1;default:throw new Error("Invalid section type")}},Jun=(e,t,n)=>{const r=t.some(l=>l.type==="day"),i=[],o=[];for(let l=0;l<t.length;l+=1){const c=t[l];r&&c.type==="weekDay"||(i.push(c.format),o.push(wre(c,"non-input",n)))}const s=i.join(" "),a=o.join(" ");return e.parse(a,s)},edn=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),tdn=(e,t,n)=>{const i=e.map(o=>{const s=wre(o,n?"input-rtl":"input-ltr",t);return`${o.startSeparator}${s}${o.endSeparator}`}).join("");return n?`${i}`:i},ndn=(e,t,n)=>{const r=e.date(void 0,n),i=e.endOfYear(r),o=e.endOfDay(r),{maxDaysInMonth:s,longestMonth:a}=yre(e,r).reduce((l,c)=>{const u=e.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Qun(e,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:e.isValid(l)?e.getDaysInMonth(l):s,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=qN(e,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=e.getHours(o);return Ib(e.formatByString(e.endOfDay(r),l),t)!==c.toString()?{minimum:1,maximum:Number(Ib(e.formatByString(e.startOfDay(r),l),t))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},rdn=(e,t,n,r)=>{switch(t.type){case"year":return e.setYear(r,e.getYear(n));case"month":return e.setMonth(r,e.getMonth(n));case"weekDay":{let i=e.formatByString(n,t.format);t.hasLeadingZerosInInput&&(i=xre(i,t.maxLength));const o=qN(e,t.format),s=o.indexOf(i),l=o.indexOf(t.value)-s;return e.addDays(n,l)}case"day":return e.setDate(r,e.getDate(n));case"meridiem":{const i=e.getHours(n)<12,o=e.getHours(r);return i&&o>=12?e.addHours(r,-12):!i&&o<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(n));case"minutes":return e.setMinutes(r,e.getMinutes(n));case"seconds":return e.setSeconds(r,e.getSeconds(n));default:return r}},r1e={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},i1e=(e,t,n,r,i)=>[...n].sort((o,s)=>r1e[o.type]-r1e[s.type]).reduce((o,s)=>!i||s.modified?rdn(e,s,t,o):o,r),idn=()=>navigator.userAgent.toLowerCase().includes("android"),odn=(e,t)=>{const n={};if(!t)return e.forEach((l,c)=>{const u=c===0?null:c-1,d=c===e.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},i={};let o=0,s=0,a=e.length-1;for(;a>=0;){s=e.findIndex((l,c)=>c>=o&&l.endSeparator?.includes(" ")&&l.endSeparator!==" / "),s===-1&&(s=e.length-1);for(let l=s;l>=o;l-=1)i[l]=a,r[a]=l,a-=1;o=s+1}return e.forEach((l,c)=>{const u=i[c],d=u===0?null:r[u-1],f=u===e.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:f}}),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}},BG=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const n=t.findIndex(r=>r.type===e);return n===-1?null:n}return e},sdn=["value","referenceDate"],xo={emptyValue:null,getTodayValue:vre,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=Wt(e,sdn);return r.adapter.isValid(t)?t:n??Xun(r)},cleanValue:Uun,areValuesEqual:Vun,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},Sre={updateReferenceValue:(e,t,n)=>e.isValid(t)?t:n,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:edn,getV6InputValueFromSections:tdn,parseValueStr:(e,t,n)=>n(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,n)=>n,clearDateSections:e=>e.map(t=>me({},t,{value:""}))};function t6e(e){return tt("MuiPickersToolbar",e)}const adn=rt("MuiPickersToolbar",["root","title","content"]),ldn=["localeText"],UG=R.createContext(null),cdn=function(t){const{localeText:n}=t,r=Wt(t,ldn),{adapter:i,localeText:o}=R.useContext(UG)??{adapter:void 0,localeText:void 0},s=qn({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:f}=s,p=R.useMemo(()=>me({},f,o,n),[f,o,n]),g=R.useMemo(()=>{if(!l)return i||null;const x=new l({locale:d,formats:c,instance:u});if(!x.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return x},[l,d,c,u,i]),y=R.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),v=R.useMemo(()=>({utils:g,adapter:g,defaultDates:y,localeText:p}),[y,g,p]);return h.jsx(UG.Provider,{value:v,children:a})},n6e=R.createContext(()=>!0);function udn(){return R.useContext(n6e)}const r6e=R.createContext(null);function i6e(){return R.useContext(r6e)}const _re=R.createContext(null),Cp=()=>{const e=R.useContext(_re);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},o6e=R.createContext(null),s6e=R.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function a6e(e){const{contextValue:t,actionsContextValue:n,privateContextValue:r,fieldPrivateContextValue:i,isValidContextValue:o,localeText:s,children:a}=e;return h.jsx(_re.Provider,{value:t,children:h.jsx(o6e.Provider,{value:n,children:h.jsx(s6e.Provider,{value:r,children:h.jsx(r6e.Provider,{value:i,children:h.jsx(n6e.Provider,{value:o,children:h.jsx(cdn,{localeText:s,children:a})})})})})})}const ji=()=>R.useContext(s6e);function GN(){const{ownerState:e}=ji(),t=ss();return R.useMemo(()=>me({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const ddn=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],fdn=e=>Qe({root:["root"],title:["title"],content:["content"]},t6e,e),pdn=we("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),hdn=we("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>kl(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Cre=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersToolbar"}),{children:i,className:o,classes:s,toolbarTitle:a,hidden:l,titleId:c,landscapeDirection:u}=r,d=Wt(r,ddn),f=GN(),p=fdn(s);return l?null:h.jsxs(pdn,me({ref:n,className:je(p.root,o),ownerState:f},d,{children:[h.jsx(ae,{color:"text.secondary",variant:"overline",id:c,className:p.title,children:a}),h.jsx(hdn,{className:p.content,ownerState:f,landscapeDirection:u,children:i})]}))}),gdn=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:me({},e)}}}}),l6e={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},mdn=l6e;gdn(l6e);const kre=()=>{const e=R.useContext(UG);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=R.useMemo(()=>me({},mdn,e.localeText),[e.localeText]);return R.useMemo(()=>me({},e,{localeText:t}),[e,t])},$n=()=>kre().adapter,Ks=()=>kre().localeText,VG=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],HG=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],c6e=["minDateTime","maxDateTime"],ydn=[...VG,...HG,...c6e],bC=e=>ydn.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{}),vdn=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],u6e=(e,t)=>R.useMemo(()=>{const n=me({},e),r={},i=o=>{n.hasOwnProperty(o)&&(r[o]=n[o],delete n[o])};return vdn.forEach(i),t==="date"?VG.forEach(i):t==="time"?HG.forEach(i):t==="date-time"&&(VG.forEach(i),HG.forEach(i),c6e.forEach(i)),{forwardedProps:n,internalProps:r}},[e,t]),bdn=({adapter:e,format:t})=>{let n=10,r=t,i=e.expandFormat(t);for(;i!==r;)if(r=i,i=e.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return i},xdn=({adapter:e,expandedFormat:t})=>{const n=[],{start:r,end:i}=e.escapedCharacters,o=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let s=null;for(;s=o.exec(t);)n.push({start:s.index,end:o.lastIndex-1});return n},wdn=(e,t,n,r)=>{switch(n.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),r).length,format:r});case"month":return t.fieldMonthPlaceholder({contentType:n.contentType,format:r});case"day":return t.fieldDayPlaceholder({format:r});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:n.contentType,format:r});case"hours":return t.fieldHoursPlaceholder({format:r});case"minutes":return t.fieldMinutesPlaceholder({format:r});case"seconds":return t.fieldSecondsPlaceholder({format:r});case"meridiem":return t.fieldMeridiemPlaceholder({format:r});default:return r}},Sdn=({adapter:e,date:t,shouldRespectLeadingZeros:n,localeText:r,localizedDigits:i,now:o,token:s,startSeparator:a})=>{if(s==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const l=Zze(e,s),c=e6e(e,l.contentType,l.type,s),u=n?c:l.contentType==="digit",d=e.isValid(t);let f=d?e.formatByString(t,s):"",p=null;if(u)if(c)p=f===""?e.formatByString(o,s).length:f.length;else{if(l.maxLength==null)throw new Error(`MUI X: The token ${s} should have a 'maxLength' property on it's adapter`);p=l.maxLength,d&&(f=bre(xre(Ib(f,i),p),i))}return me({},l,{format:s,maxLength:p,value:f,placeholder:wdn(e,r,l,s),hasLeadingZerosInFormat:c,hasLeadingZerosInInput:u,startSeparator:a,endSeparator:"",modified:!1})},_dn=e=>{const{adapter:t,expandedFormat:n,escapedParts:r}=e,i=t.date(void 0),o=[];let s="";const a=Object.keys(t.formatTokenMap).sort((p,g)=>g.length-p.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=p=>r.find(g=>g.start<=p&&g.end>=p);let f=0;for(;f<n.length;){const p=d(f),g=p!=null,y=l.exec(n.slice(f))?.[1];if(!g&&y!=null&&c.test(y)){let v=y;for(;v.length>0;){const x=u.exec(v)[1];v=v.slice(x.length),o.push(Sdn(me({},e,{now:i,token:x,startSeparator:s}))),s=""}f+=y.length}else{const v=n[f];g&&p?.start===f||p?.end===f||(o.length===0?s+=v:(o[o.length-1].endSeparator+=v,o[o.length-1].isEndFormatSeparator=!0)),f+=1}}return o.length===0&&s.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:s,endSeparator:"",modified:!1}),o},Cdn=({isRtl:e,formatDensity:t,sections:n})=>n.map(r=>{const i=o=>{let s=o;return e&&s!==null&&s.includes(" ")&&(s=`${s}`),t==="spacious"&&["/",".","-"].includes(s)&&(s=` ${s} `),s};return r.startSeparator=i(r.startSeparator),r.endSeparator=i(r.endSeparator),r}),o1e=e=>{let t=bdn(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=xdn(me({},e,{expandedFormat:t})),r=_dn(me({},e,{expandedFormat:t,escapedParts:n}));return Cdn(me({},e,{sections:r}))},Ere=()=>R.useContext(_re),kdn=()=>{const e=R.useContext(o6e);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function Edn(e){return tt("MuiDatePickerToolbar",e)}rt("MuiDatePickerToolbar",["root","title"]);const Tdn=["toolbarFormat","toolbarPlaceholder","className","classes"],Rdn=e=>Qe({root:["root"],title:["title"]},Edn,e),Mdn=we(Cre,{name:"MuiDatePickerToolbar",slot:"Root"})({}),Adn=we(ae,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),Pdn=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:i,toolbarPlaceholder:o="",className:s,classes:a}=r,l=Wt(r,Tdn),c=$n(),{value:u,views:d,orientation:f}=Cp(),p=Ks(),g=GN(),y=Rdn(a),v=R.useMemo(()=>{if(!c.isValid(u))return o;const x=bR(c,{format:i,views:d},!0);return c.formatByString(u,x)},[u,i,o,c,d]);return h.jsx(Mdn,me({ref:n,toolbarTitle:p.datePickerToolbarTitle,className:je(y.root,s)},l,{children:h.jsx(Adn,{variant:"h4",align:f==="landscape"?"left":"center",ownerState:g,className:y.title,children:v})}))}),xC=({props:e,value:t,timezone:n,adapter:r})=>{if(t===null)return null;const{shouldDisableDate:i,shouldDisableMonth:o,shouldDisableYear:s,disablePast:a,disableFuture:l,minDate:c,maxDate:u}=e,d=r.date(void 0,n);switch(!0){case!r.isValid(t):return"invalidDate";case!!(i&&i(t)):return"shouldDisableDate";case!!(o&&o(t)):return"shouldDisableMonth";case!!(s&&s(t)):return"shouldDisableYear";case!!(l&&r.isAfterDay(t,d)):return"disableFuture";case!!(a&&r.isBeforeDay(t,d)):return"disablePast";case!!(c&&r.isBeforeDay(t,c)):return"minDate";case!!(u&&r.isAfterDay(t,u)):return"maxDate";default:return null}};xC.valueManager=xo;const TA=({adapter:e,value:t,timezone:n,props:r})=>{if(t===null)return null;const{minTime:i,maxTime:o,minutesStep:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:l=!1,disablePast:c,disableFuture:u}=r,d=e.date(void 0,n),f=EA(l,e);switch(!0){case!e.isValid(t):return"invalidDate";case!!(i&&f(i,t)):return"minTime";case!!(o&&f(t,o)):return"maxTime";case!!(u&&e.isAfter(t,d)):return"disableFuture";case!!(c&&e.isBefore(t,d)):return"disablePast";case!!(a&&a(t,"hours")):return"shouldDisableTime-hours";case!!(a&&a(t,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(t,"seconds")):return"shouldDisableTime-seconds";case!!(s&&e.getMinutes(t)%s!==0):return"minutesStep";default:return null}};TA.valueManager=xo;const YN=({adapter:e,value:t,timezone:n,props:r})=>{const i=xC({adapter:e,value:t,timezone:n,props:r});return i!==null?i:TA({adapter:e,value:t,timezone:n,props:r})};YN.valueManager=xo;function d6e(e){const{props:t,validator:n,value:r,timezone:i,onError:o}=e,s=$n(),a=R.useRef(n.valueManager.defaultErrorState),l=n({adapter:s,value:r,timezone:i,props:t}),c=n.valueManager.hasError(l);R.useEffect(()=>{o&&!n.valueManager.isSameError(l,a.current)&&o(l,r),a.current=l},[n,o,l,r]);const u=mt(d=>n({adapter:s,value:d,timezone:i,props:t}));return{validationError:l,hasValidationError:c,getValidationErrorForNewValue:u}}const f6e=()=>kre().defaultDates,xx=e=>{const t=$n(),n=R.useRef(void 0);return n.current===void 0&&(n.current=t.date(void 0,e)),n.current};function Ddn(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return R.useMemo(()=>({valueType:"date",validator:xC,internal_valueManager:xo,internal_fieldValueManager:Sre,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:Idn,internal_useOpenPickerButtonAriaLabel:Odn}),[t])}function Odn(e){const t=$n(),n=Ks();return R.useMemo(()=>{const r=t.isValid(e)?t.format(e,"fullDate"):null;return n.openDatePickerDialogue(r)},[e,n,t])}function Idn(e){const t=$n(),n=RA(e);return R.useMemo(()=>me({},e,n,{format:e.format??t.formats.keyboardDate}),[e,n,t])}function RA(e){const t=$n(),n=f6e();return R.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:z3(t,e.minDate,n.minDate),maxDate:z3(t,e.maxDate,n.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,n])}function p6e(e,t){const n=qn({props:e,name:t}),r=RA(n),i=R.useMemo(()=>n.localeText?.toolbarTitle==null?n.localeText:me({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle}),[n.localeText]);return me({},n,r,{localeText:i},mre({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:me({toolbar:Pdn},n.slots)})}function jdn(e){return tt("MuiPickerPopper",e)}rt("MuiPickerPopper",["root","paper"]);function H1(e,t){return Array.isArray(t)?t.every(n=>e.indexOf(n)!==-1):e.indexOf(t)!==-1}const $dn=e=>{setTimeout(e,0)},h6e=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?h6e(t.shadowRoot):t:null},aa=e=>h6e(ki(e)),U3=e=>Array.from(e.children).indexOf(aa(e)),Tre="@media (pointer: fine)";function Fdn(...e){return e.reduce((t,n)=>(Array.isArray(n)?t.push(...n):n!=null&&t.push(n),t),[])}const Ldn=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Ndn=e=>Qe({root:["root"],paper:["paper"]},jdn,e),zdn=we(rM,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),Bdn=we(Pr,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function Udn(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Vdn(e,t){const n=R.useRef(!1),r=R.useRef(!1),i=R.useRef(null),o=R.useRef(!1);R.useEffect(()=>{if(!e)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[e]);const s=mt(l=>{if(!o.current)return;const c=r.current;r.current=!1;const u=ki(i.current);if(!i.current||"clientX"in l&&Udn(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&t(l)}),a=l=>{l.defaultMuiPrevented||(r.current=!0)};return R.useEffect(()=>{if(e){const l=ki(i.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[e,s]),R.useEffect(()=>{if(e){const l=ki(i.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[e,s]),[i,a,a]}const Hdn=R.forwardRef((e,t)=>{const{PaperComponent:n,ownerState:r,children:i,paperSlotProps:o,paperClasses:s,onPaperClick:a,onPaperTouchStart:l}=e,c=Wt(e,Ldn),u=jn({elementType:n,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:s,ownerState:r});return h.jsx(n,me({},c,u,{onClick:d=>{a(d),u.onClick?.(d)},onTouchStart:d=>{l(d),u.onTouchStart?.(d)},ownerState:r,children:i}))});function Wdn(e){const t=qn({props:e,name:"MuiPickerPopper"}),{children:n,placement:r="bottom-start",slots:i,slotProps:o,classes:s}=t,{open:a,popupRef:l,reduceAnimations:c}=Cp(),{ownerState:u,rootRefObject:d}=ji(),{dismissViews:f,getCurrentViewMode:p,onPopperExited:g,triggerElement:y,viewContainerRole:v}=ji();R.useEffect(()=>{function V(H){a&&H.key==="Escape"&&f()}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[f,a]);const x=R.useRef(null);R.useEffect(()=>{v==="tooltip"||p()==="field"||(a?x.current=aa(d.current):x.current&&x.current instanceof HTMLElement&&setTimeout(()=>{x.current instanceof HTMLElement&&x.current.focus()}))},[a,v,p,d]);const w=Ndn(s),S=mt(()=>{v==="tooltip"?$dn(()=>{d.current?.contains(aa(d.current))||l.current?.contains(aa(l.current))||f()}):f()}),[C,k,T]=Vdn(a,S),E=R.useRef(null),A=Un(E,l),O=Un(A,C),I=V=>{V.key==="Escape"&&(V.stopPropagation(),f())},j=i?.desktopTransition??c?t0:ib,P=i?.desktopTrapFocus??gEe,$=i?.desktopPaper??Bdn,D=i?.popper??zdn,F=jn({elementType:D,externalSlotProps:o?.popper,additionalProps:{transition:!0,role:v??void 0,open:a,placement:r,anchorEl:y,onKeyDown:I},className:w.root,ownerState:u}),N=R.useMemo(()=>me({},u,{popperPlacement:F.placement}),[u,F.placement]);return h.jsx(D,me({},F,{children:({TransitionProps:V})=>h.jsx(P,me({open:a,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:v==="tooltip",isEnabled:()=>!0},o?.desktopTrapFocus,{children:h.jsx(j,me({},V,o?.desktopTransition,{onExited:H=>{g?.(),o?.desktopTransition?.onExited?.(H),V?.onExited?.()},children:h.jsx(Hdn,{PaperComponent:$,ownerState:N,ref:O,onPaperClick:k,onPaperTouchStart:T,paperClasses:w.paper,paperSlotProps:o?.desktopPaper,children:n})}))}))}))}const qdn="@media (prefers-reduced-motion: reduce)",zw=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),s1e=zw&&zw[1]?parseInt(zw[1],10):null,a1e=zw&&zw[2]?parseInt(zw[2],10):null,Gdn=s1e&&s1e<10||a1e&&a1e<13||!1;function g6e(e){const t=r0(qdn,{defaultMatches:!1});return e??(t||Gdn)}const m6e={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function Ydn(e){const{steps:t,isViewMatchingStep:n,onStepChange:r}=e;return i=>{if(t==null)return m6e;const o=t.findIndex(a=>n(i.view,a)),s=o===-1||o===t.length-1?null:t[o+1];return{hasNextStep:s!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{s!=null&&r(me({},i,{step:s}))},areViewsInSameStep:(a,l)=>{const c=t.find(d=>n(a,d)),u=t.find(d=>n(l,d));return c===u}}}}function MA({onChange:e,onViewChange:t,openTo:n,view:r,views:i,autoFocus:o,focusedView:s,onFocusedViewChange:a,getStepNavigation:l}){const c=R.useRef(n),u=R.useRef(i),d=R.useRef(i.includes(n)?n:i[0]),[f,p]=Ws({name:"useViews",state:"view",controlled:r,default:d.current}),g=R.useRef(o?f:null),[y,v]=Ws({name:"useViews",state:"focusedView",controlled:s,default:g.current}),x=l?l({setView:p,view:f,defaultView:d.current,views:i}):m6e;R.useEffect(()=>{(c.current&&c.current!==n||u.current&&u.current.some(O=>!i.includes(O)))&&(p(i.includes(n)?n:i[0]),u.current=i,c.current=n)},[n,p,f,i]);const w=i.indexOf(f),S=i[w-1]??null,C=i[w+1]??null,k=mt((O,I)=>{v(I?O:j=>O===j?null:j),a?.(O,I)}),T=mt(O=>{k(O,!0),O!==f&&(p(O),t&&t(O))}),E=mt(()=>{C&&T(C)}),A=mt((O,I,j)=>{const P=I==="finish",$=j?i.indexOf(j)<i.length-1:!!C;e(O,P&&$?"partial":I,j);let F=null;if(j!=null&&j!==f?F=j:P&&(F=f),F==null)return;const N=i[i.indexOf(F)+1];N==null||!x.areViewsInSameStep(F,N)||T(N)});return me({},x,{view:f,setView:T,focusedView:y,setFocusedView:k,nextView:C,previousView:S,defaultView:i.includes(n)?n:i[0],goToNextView:E,setValueAndGoToNextView:A})}function l1e(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function Xdn(e,t){const[n,r]=R.useState(l1e);return ii(()=>{const i=()=>{r(l1e())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),H1(e,["hours","minutes","seconds"])?"portrait":t??n}const X0=({name:e,timezone:t,value:n,defaultValue:r,referenceDate:i,onChange:o,valueManager:s})=>{const a=$n(),[l,c]=Ws({name:e,state:"value",controlled:n,default:r??s.emptyValue}),u=R.useMemo(()=>s.getTimezone(a,l),[a,s,l]),d=mt(y=>u==null?y:s.setTimezone(a,u,y)),f=R.useMemo(()=>t||u||(i?a.getTimezone(Array.isArray(i)?i[0]:i):"default"),[t,u,i,a]),p=R.useMemo(()=>s.setTimezone(a,f,l),[s,a,f,l]),g=mt((y,...v)=>{const x=d(y);c(x),o?.(x,...v)});return{value:p,handleValueChange:g,timezone:f}};function Kdn(e){const{props:t,valueManager:n,validator:r}=e,{value:i,defaultValue:o,onChange:s,referenceDate:a,timezone:l,onAccept:c,closeOnSelect:u,open:d,onOpen:f,onClose:p}=t,{current:g}=R.useRef(o),{current:y}=R.useRef(i!==void 0),{current:v}=R.useRef(d!==void 0),x=$n(),{timezone:w,value:S,handleValueChange:C}=X0({name:"a picker component",timezone:l,value:i,defaultValue:g,referenceDate:a,onChange:s,valueManager:n}),[k,T]=R.useState(()=>({open:!1,lastExternalValue:S,clockShallowValue:void 0,lastCommittedValue:S,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:E}=d6e({props:t,validator:r,timezone:w,value:S,onError:t.onError}),A=mt(P=>{const $=typeof P=="function"?P(k.open):P;v||T(D=>me({},D,{open:$})),$&&f&&f(),$||p?.()}),O=mt((P,$)=>{const{changeImportance:D="accept",skipPublicationIfPristine:F=!1,validationError:N,shortcut:V,source:H,shouldClose:U=D==="accept"}=$??{};let G,z;!F&&!y&&!k.hasBeenModifiedSinceMount?(G=!0,z=D==="accept"):(G=!n.areValuesEqual(x,P,S),z=D==="accept"&&!n.areValuesEqual(x,P,k.lastCommittedValue)),T(Q=>me({},Q,{clockShallowValue:G?void 0:Q.clockShallowValue,lastCommittedValue:z?P:Q.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let W=null;const X=()=>{if(!W){let Q;H?Q=H:V?Q="view":Q="unknown",W={validationError:N??E(P),source:Q},V&&(W.shortcut=V)}return W};G&&C(P,X()),z&&c&&c(P,X()),U&&A(!1)});S!==k.lastExternalValue&&T(P=>me({},P,{lastExternalValue:S,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const I=mt((P,$="partial")=>{if($==="shallow"){T(D=>me({},D,{clockShallowValue:P,hasBeenModifiedSinceMount:!0}));return}O(P,{changeImportance:$==="finish"&&u?"accept":"set",source:"view"})});R.useEffect(()=>{if(v){if(d===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");T(P=>me({},P,{open:d}))}},[v,d]);const j=R.useMemo(()=>n.cleanValue(x,k.clockShallowValue===void 0?S:k.clockShallowValue),[x,n,k.clockShallowValue,S]);return{timezone:w,state:k,setValue:O,setValueFromView:I,setOpen:A,value:S,viewValue:j}}const Zdn=["className","sx"],y6e=({ref:e,props:t,valueManager:n,valueType:r,variant:i,validator:o,onPopperExited:s,autoFocusView:a,rendererInterceptor:l,localeText:c,viewContainerRole:u,getStepNavigation:d})=>{const{views:f,view:p,openTo:g,onViewChange:y,viewRenderers:v,reduceAnimations:x,orientation:w,disableOpenPicker:S,closeOnSelect:C,disabled:k,readOnly:T,formatDensity:E,enableAccessibleFieldDOMStructure:A,selectedSections:O,onSelectedSectionsChange:I,format:j,label:P,autoFocus:$,name:D}=t,{className:F,sx:N}=t,V=Wt(t,Zdn),H=$c(),U=$n(),G=g6e(x),z=Xdn(f,w),{current:W}=R.useRef(g??null),[X,Q]=R.useState(null),ee=R.useRef(null),ne=R.useRef(null),oe=R.useRef(null),ce=Un(e,oe),{timezone:re,state:ge,setOpen:he,setValue:ie,setValueFromView:xe,value:q,viewValue:fe}=Kdn({props:t,valueManager:n,validator:o}),{view:se,setView:J,defaultView:Z,focusedView:ue,setFocusedView:de,setValueAndGoToNextView:be,goToNextStep:le,hasNextStep:Se,hasSeveralSteps:ye}=MA({view:p,views:f,openTo:g,onChange:xe,onViewChange:y,autoFocus:a,getStepNavigation:d}),ve=mt(()=>ie(n.emptyValue,{source:"view"})),_e=mt(()=>ie(n.getTodayValue(U,re,r),{source:"view"})),Ae=mt(()=>ie(q,{source:"view"})),Te=mt(()=>ie(ge.lastCommittedValue,{skipPublicationIfPristine:!0,source:"view"})),Pe=mt(()=>{ie(q,{skipPublicationIfPristine:!0,source:"view"})}),{hasUIView:Le,viewModeLookup:$e,timeViewsCount:at}=R.useMemo(()=>f.reduce((St,Ln)=>{const vt=v[Ln]==null?"field":"UI";return St.viewModeLookup[Ln]=vt,vt==="UI"&&(St.hasUIView=!0,Ob(Ln)&&(St.timeViewsCount+=1)),St},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[v,f]),Re=$e[se],Ze=mt(()=>Re),[Rt,Ct]=R.useState(Re==="UI"?se:null);Rt!==se&&$e[se]==="UI"&&Ct(se),ii(()=>{Re==="field"&&ge.open&&(he(!1),setTimeout(()=>{ne?.current?.setSelectedSections(se),ne?.current?.focusField(se)}))},[se]),ii(()=>{if(!ge.open)return;let St=se;Re==="field"&&Rt!=null&&(St=Rt),St!==Z&&$e[St]==="UI"&&$e[Z]==="UI"&&(St=Z),St!==se&&J(St),de(St,!0)},[ge.open]);const De=R.useMemo(()=>({isPickerValueEmpty:n.areValuesEqual(U,q,n.emptyValue),isPickerOpen:ge.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:z,pickerVariant:i}),[U,n,q,ge.open,z,i,t.disabled,t.readOnly]),bt=R.useMemo(()=>S||!Le?"hidden":k||T?"disabled":"enabled",[S,Le,k,T]),Gt=mt(le),Cn=R.useMemo(()=>C&&!ye?[]:["cancel","nextOrAccept"],[C,ye]),An=R.useMemo(()=>({setValue:ie,setOpen:he,clearValue:ve,setValueToToday:_e,acceptValueChanges:Ae,cancelValueChanges:Te,setView:J,goToNextStep:Gt}),[ie,he,ve,_e,Ae,Te,J,Gt]),Lt=R.useMemo(()=>me({},An,{value:q,timezone:re,open:ge.open,views:f,view:Rt,initialView:W,disabled:k??!1,readOnly:T??!1,autoFocus:$??!1,variant:i,orientation:z,popupRef:ee,reduceAnimations:G,triggerRef:Q,triggerStatus:bt,hasNextStep:Se,fieldFormat:j??"",name:D,label:P,rootSx:N,rootRef:ce,rootClassName:F}),[An,q,ce,i,z,G,k,T,j,F,D,P,N,bt,Se,re,ge.open,Rt,f,W,$]),qt=R.useMemo(()=>({dismissViews:Pe,ownerState:De,hasUIView:Le,getCurrentViewMode:Ze,rootRefObject:oe,labelId:H,triggerElement:X,viewContainerRole:u,defaultActionBarActions:Cn,onPopperExited:s}),[Pe,De,Le,Ze,H,X,u,Cn,s]),ur=R.useMemo(()=>({formatDensity:E,enableAccessibleFieldDOMStructure:A,selectedSections:O,onSelectedSectionsChange:I,fieldRef:ne}),[E,A,O,I,ne]);return{providerProps:{localeText:c,contextValue:Lt,privateContextValue:qt,actionsContextValue:An,fieldPrivateContextValue:ur,isValidContextValue:St=>{const Ln=o({adapter:U,value:St,timezone:re,props:t});return!n.hasError(Ln)}},renderCurrentView:()=>{if(Rt==null)return null;const St=v[Rt];if(St==null)return null;const Ln=me({},V,{views:f,timezone:re,value:fe,onChange:be,view:Rt,onViewChange:J,showViewSwitcher:at>1,timeViewsCount:at},u==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:ue,onFocusedViewChange:de});return l?h.jsx(l,{viewRenderers:v,popperView:Rt,rendererProps:Ln}):St(Ln)},ownerState:De}};function v6e(e){return tt("MuiPickersLayout",e)}const ud=rt("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Qdn=["actions"],Jdn=we(wo,{name:"MuiPickersLayout",slot:"ActionBar"})({});function efn(e){const{actions:t}=e,n=Wt(e,Qdn),r=Ks(),{clearValue:i,setValueToToday:o,acceptValueChanges:s,cancelValueChanges:a,goToNextStep:l,hasNextStep:c}=Cp();if(t==null||t.length===0)return null;const u=t?.map(d=>{switch(d){case"clear":return h.jsx(Be,{onClick:i,children:r.clearButtonLabel},d);case"cancel":return h.jsx(Be,{onClick:a,children:r.cancelButtonLabel},d);case"accept":return h.jsx(Be,{onClick:s,children:r.okButtonLabel},d);case"today":return h.jsx(Be,{onClick:o,children:r.todayButtonLabel},d);case"next":return h.jsx(Be,{onClick:l,children:r.nextStepButtonLabel},d);case"nextOrAccept":return c?h.jsx(Be,{onClick:l,children:r.nextStepButtonLabel},d):h.jsx(Be,{onClick:s,children:r.okButtonLabel},d);default:return null}});return h.jsx(Jdn,me({},n,{children:u}))}const tfn=R.memo(efn),wR=36,XN=2,c_=320,nfn=280,u_=336,b6e=232,sE=48,rfn=["items","changeImportance"],ifn=["getValue"],ofn=we(Wb,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function sfn(e){const{items:t,changeImportance:n="accept"}=e,r=Wt(e,rfn),{setValue:i}=kdn(),o=udn();if(t==null||t.length===0)return null;const s=t.map(a=>{let{getValue:l}=a,c=Wt(a,ifn);const u=l({isValid:o});return me({},c,{label:c.label,onClick:()=>{i(u,{changeImportance:n,shortcut:c,source:"view"})},disabled:!o(u)})});return h.jsx(ofn,me({dense:!0,sx:[{maxHeight:u_,maxWidth:200,overflow:"auto"},...Array.isArray(r.sx)?r.sx:[r.sx]]},r,{children:s.map(a=>h.jsx(Hh,{children:h.jsx(Ci,me({},a))},a.id??a.label))}))}const afn=["ownerState"];function lfn(e){return e.view!==null}const cfn=(e,t)=>{const{pickerOrientation:n}=t;return Qe({root:["root",n==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},v6e,e)},x6e=e=>{const{ownerState:t,defaultActionBarActions:n}=ji(),{view:r}=Cp(),i=ss(),{children:o,slots:s,slotProps:a,classes:l}=e,c=R.useMemo(()=>me({},t,{layoutDirection:i?"rtl":"ltr",hasShortcuts:!1}),[t,i]),u=cfn(l,c),d=s?.actionBar??tfn,f=jn({elementType:d,externalSlotProps:a?.actionBar,additionalProps:{actions:n},className:u.actionBar,ownerState:c}),p=Wt(f,afn),g=h.jsx(d,me({},p)),y=s?.toolbar,v=jn({elementType:y,externalSlotProps:a?.toolbar,className:u.toolbar,ownerState:c}),x=lfn(v)&&y?h.jsx(y,me({},v)):null,w=o,S=s?.tabs,C=r&&S?h.jsx(S,me({className:u.tabs},a?.tabs)):null,k=s?.shortcuts??sfn,T=jn({elementType:k,externalSlotProps:a?.shortcuts,className:u.shortcuts,ownerState:c}),E=Array.isArray(T?.items)&&T.items.length>0,A=r&&k?h.jsx(k,me({},T)):null;return{toolbar:x,content:w,tabs:C,actionBar:g,shortcuts:A,ownerState:me({},c,{hasShortcuts:E})}},ufn=(e,t)=>{const{pickerOrientation:n}=t;return Qe({root:["root",n==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},v6e,e)},w6e=we("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ud.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${ud.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${ud.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${ud.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ud.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ud.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${ud.shortcuts}`]:{gridColumn:4}}}]}),S6e=we("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),_6e=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersLayout"}),{toolbar:i,content:o,tabs:s,actionBar:a,shortcuts:l,ownerState:c}=x6e(r),{orientation:u,variant:d}=Cp(),{sx:f,className:p,classes:g}=r,y=ufn(g,c);return h.jsxs(w6e,{ref:n,sx:f,className:je(y.root,p),ownerState:c,children:[u==="landscape"?l:i,u==="landscape"?i:l,h.jsx(S6e,{className:y.contentWrapper,ownerState:c,children:d==="desktop"?h.jsxs(R.Fragment,{children:[o,s]}):h.jsxs(R.Fragment,{children:[s,o]})}),a]})});function C6e(e){const{steps:t}=e;return Ydn({steps:t,isViewMatchingStep:(n,r)=>r.views==null||r.views.includes(n),onStepChange:({step:n,defaultView:r,setView:i,view:o,views:s})=>{const a=n.views==null?r:n.views.find(l=>s.includes(l));a!==o&&i(a)}})}const dfn=["props","steps"],ffn=["ownerState"],Rre=e=>{let{props:t,steps:n}=e,r=Wt(e,dfn);const{slots:i,slotProps:o,label:s,inputRef:a,localeText:l}=t,c=C6e({steps:n}),{providerProps:u,renderCurrentView:d,ownerState:f}=y6e(me({},r,{props:t,localeText:l,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:c})),p=u.privateContextValue.labelId,g=o?.toolbar?.hidden??!1,y=i.field,v=jn({elementType:y,externalSlotProps:o?.field,additionalProps:me({},g&&{id:p}),ownerState:f}),x=Wt(v,ffn),w=i.layout??_6e;let S=p;g&&(s?S=`${p}-label`:S=void 0);const C=me({},o,{toolbar:me({},o?.toolbar,{titleId:p}),popper:me({"aria-labelledby":S},o?.popper)});return{renderPicker:()=>h.jsxs(a6e,me({},u,{children:[h.jsx(y,me({},x,{slots:me({},i,x.slots),slotProps:me({},C,x.slotProps),inputRef:a})),h.jsx(Wdn,{slots:i,slotProps:C,children:h.jsx(w,me({},C?.layout,{slots:i,slotProps:C,children:d()}))})]}))}},P1=e=>e.saveQuery!=null,k6e=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:n,timezone:r,setCharacterQuery:i,setTempAndroidValueStr:o,updateSectionValue:s}})=>{const a=$n(),l=({keyPressed:d,sectionIndex:f},p,g)=>{const y=d.toLowerCase(),v=n.sections[f];if(n.characterQuery!=null&&(!g||g(n.characterQuery.value))&&n.characterQuery.sectionIndex===f){const w=`${n.characterQuery.value}${y}`,S=p(w,v);if(!P1(S))return i({sectionIndex:f,value:w,sectionType:v.type}),S}const x=p(y,v);return P1(x)&&!x.saveQuery?(i(null),null):(i({sectionIndex:f,value:y,sectionType:v.type}),P1(x)?null:x)},c=d=>{const f=(y,v,x)=>{const w=v.filter(S=>S.toLowerCase().startsWith(x));return w.length===0?{saveQuery:!1}:{sectionValue:w[0],shouldGoToNextSection:w.length===1}},p=(y,v,x,w)=>{const S=C=>Qze(a,r,v.type,C);if(v.contentType==="letter")return f(v.format,S(v.format),y);if(x&&w!=null&&Zze(a,x).contentType==="letter"){const C=S(x),k=f(x,C,y);return P1(k)?{saveQuery:!1}:me({},k,{sectionValue:w(k.sectionValue,C)})}return{saveQuery:!1}};return l(d,(y,v)=>{switch(v.type){case"month":{const x=w=>n1e(a,w,a.formats.month,v.format);return p(y,v,a.formats.month,x)}case"weekDay":{const x=(w,S)=>S.indexOf(w).toString();return p(y,v,a.formats.weekday,x)}case"meridiem":return p(y,v);default:return{saveQuery:!1}}})},u=d=>{const f=({queryValue:g,skipIfBelowMinimum:y,section:v})=>{const x=Ib(g,e),w=Number(x),S=t[v.type]({currentDate:null,format:v.format,contentType:v.contentType});if(w>S.maximum)return{saveQuery:!1};if(y&&w<S.minimum)return{saveQuery:!0};const C=w*10>S.maximum||x.length===S.maximum.toString().length;return{sectionValue:Jze(a,w,S,e,v),shouldGoToNextSection:C}};return l(d,(g,y)=>{if(y.contentType==="digit"||y.contentType==="digit-with-letter")return f({queryValue:g,skipIfBelowMinimum:!1,section:y});if(y.type==="month"){e6e(a,"digit","month","MM");const v=f({queryValue:g,skipIfBelowMinimum:!0,section:{type:y.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(P1(v))return v;const x=n1e(a,v.sectionValue,"MM",y.format);return me({},v,{sectionValue:x})}if(y.type==="weekDay"){const v=f({queryValue:g,skipIfBelowMinimum:!0,section:y});if(P1(v))return v;const x=qN(a,y.format)[Number(v.sectionValue)-1];return me({},v,{sectionValue:x})}return{saveQuery:!1}},g=>t1e(g,e))};return mt(d=>{const f=n.sections[d.sectionIndex],g=t1e(d.keyPressed,e)?u(me({},d,{keyPressed:bre(d.keyPressed,e)})):c(d);if(g==null){o(null);return}s({section:f,newSectionValue:g.sectionValue,shouldGoToNextSection:g.shouldGoToNextSection})})},pfn=5e3,E6e=e=>{const t=$n(),n=Ks(),r=ss(),{manager:{validator:i,valueType:o,internal_valueManager:s,internal_fieldValueManager:a},internalPropsWithDefaults:l,internalPropsWithDefaults:{value:c,defaultValue:u,referenceDate:d,onChange:f,format:p,formatDensity:g="dense",selectedSections:y,onSelectedSectionsChange:v,shouldRespectLeadingZeros:x=!1,timezone:w,enableAccessibleFieldDOMStructure:S=!0},forwardedProps:{error:C}}=e,{value:k,handleValueChange:T,timezone:E}=X0({name:"a field component",timezone:w,value:c,defaultValue:u,referenceDate:d,onChange:f,valueManager:s}),A=R.useRef(k);R.useEffect(()=>{A.current=k},[k]);const{hasValidationError:O}=d6e({props:l,validator:i,timezone:E,value:k,onError:l.onError}),I=R.useMemo(()=>Zun(t),[t]),j=R.useMemo(()=>ndn(t,I,E),[t,I,E]),P=R.useCallback(J=>a.getSectionsFromValue(J,Z=>o1e({adapter:t,localeText:n,localizedDigits:I,format:p,date:Z,formatDensity:g,shouldRespectLeadingZeros:x,enableAccessibleFieldDOMStructure:S,isRtl:r})),[a,p,n,I,r,x,t,g,S]),[$,D]=R.useState(()=>{const J=P(k),Z={sections:J,lastExternalValue:k,lastSectionsDependencies:{format:p,isRtl:r,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},ue=Yun(J),de=s.getInitialReferenceValue({referenceDate:d,value:k,adapter:t,props:l,granularity:ue,timezone:E});return me({},Z,{referenceValue:de})}),[F,N]=Ws({controlled:y,default:null,name:"useField",state:"selectedSections"}),V=J=>{N(J),v?.(J)},H=R.useMemo(()=>BG(F,$.sections),[F,$.sections]),U=H==="all"?0:H,G=R.useMemo(()=>odn($.sections,r&&!S),[$.sections,r,S]),z=R.useMemo(()=>$.sections.every(J=>J.value===""),[$.sections]),W=R.useMemo(()=>{if(U!=null)return!1;const J=$.sections.filter(Z=>Z.value!=="");return J.length>0&&$.sections.length-J.length>0},[$.sections,U]),X=R.useMemo(()=>C!==void 0?C:O||W,[O,W,C]),Q=J=>{const Z={validationError:i({adapter:t,value:J,timezone:E,props:l})};T(J,Z)},ee=(J,Z)=>{const ue=[...$.sections];return ue[J]=me({},ue[J],{value:Z,modified:!0}),ue},ne=R.useRef(null),oe=xl(),ce=J=>{U!=null&&(ne.current={sectionIndex:U,value:J},oe.start(0,()=>{ne.current=null}))},re=()=>{s.areValuesEqual(t,k,s.emptyValue)?D(J=>me({},J,{sections:J.sections.map(Z=>me({},Z,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(D(J=>me({},J,{characterQuery:null})),Q(s.emptyValue))},ge=()=>{if(U==null)return;const J=$.sections[U];J.value!==""&&(ce(""),a.getDateFromSection(k,J)===null?D(Z=>me({},Z,{sections:ee(U,""),tempValueStrAndroid:null,characterQuery:null})):(D(Z=>me({},Z,{characterQuery:null})),Q(a.updateDateInValue(k,J,null))))},he=J=>{const Z=(de,be)=>{const le=t.parse(de,p);if(!t.isValid(le))return null;const Se=o1e({adapter:t,localeText:n,localizedDigits:I,format:p,date:le,formatDensity:g,shouldRespectLeadingZeros:x,enableAccessibleFieldDOMStructure:S,isRtl:r});return i1e(t,le,Se,be,!1)},ue=a.parseValueStr(J,$.referenceValue,Z);Q(ue)},ie=xl(),xe=({section:J,newSectionValue:Z,shouldGoToNextSection:ue})=>{oe.clear(),ie.clear();const de=a.getDateFromSection(k,J);ue&&U<$.sections.length-1&&V(U+1);const be=ee(U,Z),le=a.getDateSectionsFromValue(be,J),Se=Jun(t,le,I);if(t.isValid(Se)){const ye=i1e(t,Se,le,a.getDateFromSection($.referenceValue,J),!0);return de==null&&ie.start(0,()=>{A.current===k&&D(ve=>me({},ve,{sections:a.clearDateSections($.sections,J),tempValueStrAndroid:null}))}),Q(a.updateDateInValue(k,J,ye))}return le.every(ye=>ye.value!=="")&&(de==null||t.isValid(de))?(ce(Z),Q(a.updateDateInValue(k,J,Se))):(de!=null&&(ce(Z),Q(a.updateDateInValue(k,J,Se))),D(ye=>me({},ye,{sections:be,tempValueStrAndroid:null})))},q=J=>D(Z=>me({},Z,{tempValueStrAndroid:J})),fe=mt(J=>{D(Z=>me({},Z,{characterQuery:J}))});if(k!==$.lastExternalValue){const J=ne.current!=null&&!t.isValid(a.getDateFromSection(k,$.sections[ne.current.sectionIndex]));let Z;J?Z=ee(ne.current.sectionIndex,ne.current.value):Z=P(k),D(ue=>me({},ue,{lastExternalValue:k,sections:Z,sectionsDependencies:{format:p,isRtl:r,locale:t.locale},referenceValue:J?ue.referenceValue:a.updateReferenceValue(t,k,ue.referenceValue),tempValueStrAndroid:null}))}if(r!==$.lastSectionsDependencies.isRtl||p!==$.lastSectionsDependencies.format||t.locale!==$.lastSectionsDependencies.locale){const J=P(k);D(Z=>me({},Z,{lastSectionsDependencies:{format:p,isRtl:r,locale:t.locale},sections:J,tempValueStrAndroid:null,characterQuery:null}))}$.characterQuery!=null&&!X&&U==null&&fe(null),$.characterQuery!=null&&$.sections[$.characterQuery.sectionIndex]?.type!==$.characterQuery.sectionType&&fe(null),R.useEffect(()=>{ne.current!=null&&(ne.current=null)});const se=xl();return R.useEffect(()=>($.characterQuery!=null&&se.start(pfn,()=>fe(null)),()=>{}),[$.characterQuery,fe,se]),R.useEffect(()=>{$.tempValueStrAndroid!=null&&U!=null&&ge()},[$.sections]),{activeSectionIndex:U,areAllSectionsEmpty:z,error:X,localizedDigits:I,parsedSelectedSections:H,sectionOrder:G,sectionsValueBoundaries:j,state:$,timezone:E,value:k,clearValue:re,clearActiveSection:ge,setCharacterQuery:fe,setSelectedSections:V,setTempAndroidValueStr:q,updateSectionValue:xe,updateValueFromValueStr:he,getSectionsFromValue:P}};function T6e(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:n,skipContextFieldRefAssignment:r}=e,i=Ere(),o=i6e(),s=Un(n.unstableFieldRef,r?null:o?.fieldRef),a=i?.setValue,l=R.useCallback((u,d)=>a?.(u,{validationError:d.validationError,shouldClose:!1}),[a]),c=R.useMemo(()=>o!=null&&i!=null?me({value:i.value,onChange:l,timezone:i.timezone,disabled:i.disabled,readOnly:i.readOnly,autoFocus:i.autoFocus&&!i.open,focused:i.open?!0:void 0,format:i.fieldFormat,formatDensity:o.formatDensity,enableAccessibleFieldDOMStructure:o.enableAccessibleFieldDOMStructure,selectedSections:o.selectedSections,onSelectedSectionsChange:o.onSelectedSectionsChange,unstableFieldRef:s},n):n,[i,o,n,l,s]);return t(c)}function Mre(e){const{focused:t,domGetters:n,stateResponse:{parsedSelectedSections:r,state:i}}=e;if(!n.isReady())return;const o=ki(n.getRoot()).getSelection();if(!o)return;if(r==null){o.rangeCount>0&&o.getRangeAt(0).startContainer instanceof Node&&n.getRoot().contains(o.getRangeAt(0).startContainer)&&o.removeAllRanges(),t&&n.getRoot().blur();return}if(!n.getRoot().contains(aa(n.getRoot())))return;const s=new window.Range;let a;r==="all"?a=n.getRoot():i.sections[r].type==="empty"?a=n.getSectionContainer(r):a=n.getSectionContent(r),s.selectNodeContents(a),a.focus(),o.removeAllRanges(),o.addRange(s)}function R6e(e){const t=$n(),{manager:{internal_fieldValueManager:n},internalPropsWithDefaults:{minutesStep:r,disabled:i,readOnly:o},stateResponse:{state:s,value:a,activeSectionIndex:l,parsedSelectedSections:c,sectionsValueBoundaries:u,localizedDigits:d,timezone:f,sectionOrder:p,clearValue:g,clearActiveSection:y,setSelectedSections:v,updateSectionValue:x}}=e;return mt(w=>{if(!i)switch(!0){case((w.ctrlKey||w.metaKey)&&String.fromCharCode(w.keyCode)==="A"&&!w.shiftKey&&!w.altKey):{w.preventDefault(),v("all");break}case w.key==="ArrowRight":{if(w.preventDefault(),c==null)v(p.startIndex);else if(c==="all")v(p.endIndex);else{const S=p.neighbors[c].rightIndex;S!==null&&v(S)}break}case w.key==="ArrowLeft":{if(w.preventDefault(),c==null)v(p.endIndex);else if(c==="all")v(p.startIndex);else{const S=p.neighbors[c].leftIndex;S!==null&&v(S)}break}case w.key==="Delete":{if(w.preventDefault(),o)break;c==null||c==="all"?g():y();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(w.key):{if(w.preventDefault(),o||l==null)break;c==="all"&&v(l);const S=s.sections[l],C=gfn(t,f,S,w.key,u,d,n.getDateFromSection(a,S),{minutesStep:r});x({section:S,newSectionValue:C,shouldGoToNextSection:!1});break}}})}function hfn(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function gfn(e,t,n,r,i,o,s,a){const l=hfn(r),c=r==="Home",u=r==="End",d=n.value===""||c||u,f=()=>{const g=i[n.type]({currentDate:s,format:n.format,contentType:n.contentType}),y=w=>Jze(e,w,g,o,n),v=n.type==="minutes"&&a?.minutesStep?a.minutesStep:1;let x;if(d){if(n.type==="year"&&!u&&!c)return e.formatByString(e.date(void 0,t),n.format);l>0||c?x=g.minimum:x=g.maximum}else x=parseInt(Ib(n.value,o),10)+l*v;return x%v!==0&&((l<0||c)&&(x+=v-(v+x)%v),(l>0||u)&&(x-=x%v)),x>g.maximum?y(g.minimum+(x-g.maximum-1)%(g.maximum-g.minimum+1)):x<g.minimum?y(g.maximum-(g.minimum-x-1)%(g.maximum-g.minimum+1)):y(x)},p=()=>{const g=Qze(e,t,n.type,n.format);if(g.length===0)return n.value;if(d)return l>0||c?g[0]:g[g.length-1];const x=((g.indexOf(n.value)+l)%g.length+g.length)%g.length;return g[x]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?f():p()}function mfn(e){const{manager:t,focused:n,setFocused:r,domGetters:i,stateResponse:o,applyCharacterEditing:s,internalPropsWithDefaults:a,stateResponse:{parsedSelectedSections:l,sectionOrder:c,state:u,clearValue:d,setCharacterQuery:f,setSelectedSections:p,updateValueFromValueStr:g},internalPropsWithDefaults:{disabled:y=!1,readOnly:v=!1}}=e,x=R6e({manager:t,internalPropsWithDefaults:a,stateResponse:o}),w=xl(),S=mt(A=>{y||!i.isReady()||(r(!0),l==="all"?w.start(0,()=>{const O=document.getSelection().getRangeAt(0).startOffset;if(O===0){p(c.startIndex);return}let I=0,j=0;for(;j<O&&I<u.sections.length;){const P=u.sections[I];I+=1,j+=`${P.startSeparator}${P.value||P.placeholder}${P.endSeparator}`.length}p(I-1)}):n?i.getRoot().contains(A.target)||p(c.startIndex):(r(!0),p(c.startIndex)))}),C=mt(A=>{if(!i.isReady()||l!=="all")return;const I=A.target.textContent??"";i.getRoot().innerHTML=u.sections.map(j=>`${j.startSeparator}${j.value||j.placeholder}${j.endSeparator}`).join(""),Mre({focused:n,domGetters:i,stateResponse:o}),I.length===0||I.charCodeAt(0)===10?(d(),p("all")):I.length>1?g(I):(l==="all"&&p(0),s({keyPressed:I,sectionIndex:0}))}),k=mt(A=>{if(v||l!=="all"){A.preventDefault();return}const O=A.clipboardData.getData("text");A.preventDefault(),f(null),g(O)}),T=mt(()=>{if(n||y||!i.isReady())return;const A=aa(i.getRoot());r(!0),i.getSectionIndexFromDOMElement(A)!=null||p(c.startIndex)}),E=mt(()=>{setTimeout(()=>{if(!i.isReady())return;const A=aa(i.getRoot());!i.getRoot().contains(A)&&(r(!1),p(null))})});return{onKeyDown:x,onBlur:E,onFocus:T,onClick:S,onPaste:k,onInput:C,contentEditable:l==="all",tabIndex:a.disabled||l===0?-1:0}}function yfn(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:n,state:r,updateValueFromValueStr:i}}=e,o=mt(a=>{i(a.target.value)});return{value:R.useMemo(()=>n?"":t.getV7HiddenInputValueFromSections(r.sections),[n,r.sections,t]),onChange:o}}function vfn(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:n=!1}}=e,r=R.useCallback(i=>o=>{n||o.isDefaultPrevented()||t(i)},[n,t]);return R.useCallback(i=>({"data-sectionindex":i,onClick:r(i)}),[r])}function bfn(e){const t=$n(),n=Ks(),{focused:r,domGetters:i,stateResponse:o,applyCharacterEditing:s,manager:{internal_fieldValueManager:a},stateResponse:{parsedSelectedSections:l,sectionsValueBoundaries:c,state:u,value:d,clearActiveSection:f,setCharacterQuery:p,setSelectedSections:g,updateSectionValue:y,updateValueFromValueStr:v},internalPropsWithDefaults:{disabled:x=!1,readOnly:w=!1}}=e,S=l==="all",C=!S&&!x&&!w,k=mt(j=>{if(!i.isReady())return;const P=u.sections[j];i.getSectionContent(j).innerHTML=P.value||P.placeholder,Mre({focused:r,domGetters:i,stateResponse:o})}),T=mt(j=>{if(!i.isReady())return;const P=j.target,$=P.textContent??"",D=i.getSectionIndexFromDOMElement(P),F=u.sections[D];if(w){k(D);return}if($.length===0){if(F.value===""){k(D);return}const N=j.nativeEvent.inputType;if(N==="insertParagraph"||N==="insertLineBreak"){k(D);return}k(D),f();return}s({keyPressed:$,sectionIndex:D}),k(D)}),E=mt(j=>{j.preventDefault()}),A=mt(j=>{if(j.preventDefault(),w||x||typeof l!="number")return;const P=u.sections[l],$=j.clipboardData.getData("text"),D=/^[a-zA-Z]+$/.test($),F=/^[0-9]+$/.test($),N=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test($);P.contentType==="letter"&&D||P.contentType==="digit"&&F||P.contentType==="digit-with-letter"&&N?(p(null),y({section:P,newSectionValue:$,shouldGoToNextSection:!0})):!D&&!F&&(p(null),v($))}),O=mt(j=>{j.preventDefault(),j.dataTransfer.dropEffect="none"}),I=R.useCallback(j=>()=>{x||g(j)},[x,g]);return R.useCallback((j,P)=>{const $=c[j.type]({currentDate:a.getDateFromSection(d,j),contentType:j.contentType,format:j.format});return{onInput:T,onPaste:A,onMouseUp:E,onDragOver:O,onFocus:I(P),"aria-readonly":w,"aria-valuenow":wfn(j,t),"aria-valuemin":$.minimum,"aria-valuemax":$.maximum,"aria-valuetext":j.value?xfn(j,t):n.empty,"aria-label":n[j.type],"aria-disabled":x,tabIndex:!C||S||P>0?-1:0,contentEditable:!S&&!x&&!w,role:"spinbutton","data-range-position":j.dateName||void 0,spellCheck:C?!1:void 0,autoCapitalize:C?"none":void 0,autoCorrect:C?"off":void 0,children:j.value||j.placeholder,inputMode:j.contentType==="letter"?"text":"numeric"}},[c,S,x,w,C,n,t,T,A,E,O,I,a,d])}function xfn(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const r=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(r)?t.format(r,"month"):""}const n=t.parse(e.value,e.format);return n&&t.isValid(n)?t.format(n,"month"):void 0}case"day":if(e.contentType==="digit"){const n=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(n)?t.format(n,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function wfn(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const n=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return n?t.getHours(n)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const n=t.parse(e.value,e.format);return n?t.getMonth(n)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const Sfn=e=>{const{props:t,manager:n,skipContextFieldRefAssignment:r,manager:{valueType:i,internal_useOpenPickerButtonAriaLabel:o}}=e,{internalProps:s,forwardedProps:a}=u6e(t,i),l=T6e({manager:n,internalProps:s,skipContextFieldRefAssignment:r}),{sectionListRef:c,onBlur:u,onClick:d,onFocus:f,onInput:p,onPaste:g,onKeyDown:y,onClear:v,clearable:x}=a,{disabled:w=!1,readOnly:S=!1,autoFocus:C=!1,focused:k,unstableFieldRef:T}=l,E=R.useRef(null),A=Un(c,E),O=R.useMemo(()=>({isReady:()=>E.current!=null,getRoot:()=>E.current.getRoot(),getSectionContainer:se=>E.current.getSectionContainer(se),getSectionContent:se=>E.current.getSectionContent(se),getSectionIndexFromDOMElement:se=>E.current.getSectionIndexFromDOMElement(se)}),[E]),I=E6e({manager:n,internalPropsWithDefaults:l,forwardedProps:a}),{areAllSectionsEmpty:j,error:P,parsedSelectedSections:$,sectionOrder:D,state:F,value:N,clearValue:V,setSelectedSections:H}=I,U=k6e({stateResponse:I}),G=o(N),[z,W]=R.useState(!1);function X(se=0){if(w||!E.current||c1e(E)!=null)return;const J=BG(se,F.sections);W(!0),E.current.getSectionContent(J).focus()}const Q=mfn({manager:n,internalPropsWithDefaults:l,stateResponse:I,applyCharacterEditing:U,focused:z,setFocused:W,domGetters:O}),ee=yfn({manager:n,stateResponse:I}),ne=vfn({stateResponse:I,internalPropsWithDefaults:l}),oe=bfn({manager:n,stateResponse:I,applyCharacterEditing:U,internalPropsWithDefaults:l,domGetters:O,focused:z}),ce=mt(se=>{y?.(se),Q.onKeyDown(se)}),re=mt(se=>{u?.(se),Q.onBlur(se)}),ge=mt(se=>{f?.(se),Q.onFocus(se)}),he=mt(se=>{se.isDefaultPrevented()||(d?.(se),Q.onClick(se))}),ie=mt(se=>{g?.(se),Q.onPaste(se)}),xe=mt(se=>{p?.(se),Q.onInput(se)}),q=mt((se,...J)=>{se.preventDefault(),v?.(se,...J),V(),u1e(E)?H(D.startIndex):X(0)}),fe=R.useMemo(()=>F.sections.map((se,J)=>{const Z=oe(se,J);return{container:ne(J),content:oe(se,J),before:{children:se.startSeparator},after:{children:se.endSeparator,"data-range-position":se.isEndFormatSeparator?Z["data-range-position"]:void 0}}}),[F.sections,ne,oe]);return R.useEffect(()=>{if(E.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));C&&!w&&E.current&&E.current.getSectionContent(D.startIndex).focus()},[]),ii(()=>{if(!(!z||!E.current)){if($==="all")E.current.getRoot().focus();else if(typeof $=="number"){const se=E.current.getSectionContent($);se&&se.focus()}}},[$,z]),ii(()=>{Mre({focused:z,domGetters:O,stateResponse:I})}),R.useImperativeHandle(T,()=>({getSections:()=>F.sections,getActiveSectionIndex:()=>c1e(E),setSelectedSections:se=>{if(w||!E.current)return;const J=BG(se,F.sections);W((J==="all"?0:J)!==null),H(se)},focusField:X,isFieldFocused:()=>u1e(E)})),me({},a,Q,{onBlur:re,onClick:he,onFocus:ge,onInput:xe,onPaste:ie,onKeyDown:ce,onClear:q},ee,{error:P,clearable:!!(x&&!j&&!S&&!w),focused:k??z,sectionListRef:A,enableAccessibleFieldDOMStructure:!0,elements:fe,areAllSectionsEmpty:j,disabled:w,readOnly:S,autoFocus:C,openPickerAriaLabel:G})};function c1e(e){const t=aa(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function u1e(e){const t=aa(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const hw=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),_fn=(e,t,n)=>{let r=0,i=n?1:0;const o=[];for(let s=0;s<e.length;s+=1){const a=e[s],l=wre(a,n?"input-rtl":"input-ltr",t),c=`${a.startSeparator}${l}${a.endSeparator}`,u=hw(c).length,d=c.length,f=hw(l),p=i+(f===""?0:l.indexOf(f[0]))+a.startSeparator.length,g=p+f.length;o.push(me({},a,{start:r,end:r+u,startInInput:p,endInInput:g})),r+=u,i+=d}return o},Cfn=e=>{const t=ss(),n=xl(),r=xl(),{props:i,manager:o,skipContextFieldRefAssignment:s,manager:{valueType:a,internal_valueManager:l,internal_fieldValueManager:c,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:f}=u6e(i,a),p=T6e({manager:o,internalProps:d,skipContextFieldRefAssignment:s}),{onFocus:g,onClick:y,onPaste:v,onBlur:x,onKeyDown:w,onClear:S,clearable:C,inputRef:k,placeholder:T}=f,{readOnly:E=!1,disabled:A=!1,autoFocus:O=!1,focused:I,unstableFieldRef:j}=p,P=R.useRef(null),$=Un(k,P),D=E6e({manager:o,internalPropsWithDefaults:p,forwardedProps:f}),{activeSectionIndex:F,areAllSectionsEmpty:N,error:V,localizedDigits:H,parsedSelectedSections:U,sectionOrder:G,state:z,value:W,clearValue:X,clearActiveSection:Q,setCharacterQuery:ee,setSelectedSections:ne,setTempAndroidValueStr:oe,updateSectionValue:ce,updateValueFromValueStr:re,getSectionsFromValue:ge}=D,he=k6e({stateResponse:D}),ie=u(W),xe=R.useMemo(()=>_fn(z.sections,H,t),[z.sections,H,t]);function q(){const Pe=P.current.selectionStart??0;let Le;Pe<=xe[0].startInInput||Pe>=xe[xe.length-1].endInInput?Le=1:Le=xe.findIndex(at=>at.startInInput-at.startSeparator.length>Pe);const $e=Le===-1?xe.length-1:Le-1;ne($e)}function fe(Pe=0){aa(P.current)!==P.current&&(P.current?.focus(),ne(Pe))}const se=mt(Pe=>{g?.(Pe);const Le=P.current;n.start(0,()=>{!Le||Le!==P.current||F==null&&(Le.value.length&&Number(Le.selectionEnd)-Number(Le.selectionStart)===Le.value.length?ne("all"):q())})}),J=mt((Pe,...Le)=>{Pe.isDefaultPrevented()||(y?.(Pe,...Le),q())}),Z=mt(Pe=>{if(v?.(Pe),Pe.preventDefault(),E||A)return;const Le=Pe.clipboardData.getData("text");if(typeof U=="number"){const $e=z.sections[U],at=/^[a-zA-Z]+$/.test(Le),Re=/^[0-9]+$/.test(Le),Ze=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Le);if($e.contentType==="letter"&&at||$e.contentType==="digit"&&Re||$e.contentType==="digit-with-letter"&&Ze){ee(null),ce({section:$e,newSectionValue:Le,shouldGoToNextSection:!0});return}if(at||Re)return}ee(null),re(Le)}),ue=mt(Pe=>{x?.(Pe),ne(null)}),de=mt(Pe=>{if(E)return;const Le=Pe.target.value;if(Le===""){X();return}const $e=Pe.nativeEvent.data,at=$e&&$e.length>1,Re=at?$e:Le,Ze=hw(Re);if(U==="all"&&ne(F),F==null||at){re(at?$e:Ze);return}let Rt;if(U==="all"&&Ze.length===1)Rt=Ze;else{const Ct=hw(c.getV6InputValueFromSections(xe,H,t));let De=-1,bt=-1;for(let Lt=0;Lt<Ct.length;Lt+=1)De===-1&&Ct[Lt]!==Ze[Lt]&&(De=Lt),bt===-1&&Ct[Ct.length-Lt-1]!==Ze[Ze.length-Lt-1]&&(bt=Lt);const Gt=xe[F];if(De<Gt.start||Ct.length-bt-1>Gt.end)return;const An=Ze.length-Ct.length+Gt.end-hw(Gt.endSeparator||"").length;Rt=Ze.slice(Gt.start+hw(Gt.startSeparator||"").length,An)}if(Rt.length===0){idn()&&oe(Re),Q();return}he({keyPressed:Rt,sectionIndex:F})}),be=mt((Pe,...Le)=>{Pe.preventDefault(),S?.(Pe,...Le),X(),d1e(P)?ne(G.startIndex):fe(0)}),le=R6e({manager:o,internalPropsWithDefaults:p,stateResponse:D}),Se=mt(Pe=>{w?.(Pe),le(Pe)}),ye=R.useMemo(()=>T!==void 0?T:c.getV6InputValueFromSections(ge(l.emptyValue),H,t),[T,c,ge,l.emptyValue,H,t]),ve=R.useMemo(()=>z.tempValueStrAndroid??c.getV6InputValueFromSections(z.sections,H,t),[z.sections,c,z.tempValueStrAndroid,H,t]);R.useEffect(()=>{P.current&&P.current===aa(P.current)&&ne("all")},[]),ii(()=>{function Pe(){if(!P.current)return;if(U==null){P.current.scrollLeft&&(P.current.scrollLeft=0);return}if(P.current!==aa(P.current))return;const Le=P.current.scrollTop;if(U==="all")P.current.select();else{const $e=xe[U],at=$e.type==="empty"?$e.startInInput-$e.startSeparator.length:$e.startInInput,Re=$e.type==="empty"?$e.endInInput+$e.endSeparator.length:$e.endInInput;(at!==P.current.selectionStart||Re!==P.current.selectionEnd)&&P.current===aa(P.current)&&P.current.setSelectionRange(at,Re),r.start(0,()=>{P.current&&P.current===aa(P.current)&&P.current.selectionStart===P.current.selectionEnd&&(P.current.selectionStart!==at||P.current.selectionEnd!==Re)&&Pe()})}P.current.scrollTop=Le}Pe()});const _e=R.useMemo(()=>F==null||z.sections[F].contentType==="letter"?"text":"numeric",[F,z.sections]),Te=!(P.current&&P.current===aa(P.current))&&N;return R.useImperativeHandle(j,()=>({getSections:()=>z.sections,getActiveSectionIndex:()=>{const Pe=P.current.selectionStart??0,Le=P.current.selectionEnd??0;if(Pe===0&&Le===0)return null;const $e=Pe<=xe[0].startInInput?1:xe.findIndex(at=>at.startInInput-at.startSeparator.length>Pe);return $e===-1?xe.length-1:$e-1},setSelectedSections:Pe=>ne(Pe),focusField:fe,isFieldFocused:()=>d1e(P)})),me({},f,{error:V,"aria-invalid":V,clearable:!!(C&&!N&&!E&&!A),onBlur:ue,onClick:J,onFocus:se,onPaste:Z,onKeyDown:Se,onClear:be,inputRef:$,enableAccessibleFieldDOMStructure:!1,placeholder:ye,inputMode:_e,autoComplete:"off",value:Te?"":ve,onChange:de,focused:I,disabled:A,readOnly:E,autoFocus:O,openPickerAriaLabel:ie})};function d1e(e){return e.current===aa(e.current)}const Are=e=>{const t=i6e();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?Sfn:Cfn)(e)};function kfn(e={}){const{enableAccessibleFieldDOMStructure:t=!0,ampm:n}=e;return R.useMemo(()=>({valueType:"time",validator:TA,internal_valueManager:xo,internal_fieldValueManager:Sre,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:Tfn,internal_useOpenPickerButtonAriaLabel:Efn(n)}),[n,t])}function Efn(e){return function(n){const r=$n(),i=Ks();return R.useMemo(()=>{const o=e??r.is12HourCycleInCurrentLocale()?"fullTime12h":"fullTime24h",s=r.isValid(n)?r.format(n,o):null;return i.openTimePickerDialogue(s)},[n,i,r])}}function Tfn(e){const t=$n(),n=M6e(e),r=R.useMemo(()=>e.ampm??t.is12HourCycleInCurrentLocale(),[e.ampm,t]);return R.useMemo(()=>me({},e,n,{format:e.format??(r?t.formats.fullTime12h:t.formats.fullTime24h)}),[e,n,r,t])}function M6e(e){return R.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1}),[e.disablePast,e.disableFuture])}function Rfn(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return R.useMemo(()=>({valueType:"date-time",validator:YN,internal_valueManager:xo,internal_fieldValueManager:Sre,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:Afn,internal_useOpenPickerButtonAriaLabel:Mfn}),[t])}function Mfn(e){const t=$n(),n=Ks();return R.useMemo(()=>{const r=t.isValid(e)?t.format(e,"fullDate"):null;return n.openDatePickerDialogue(r)},[e,n,t])}function Afn(e){const t=$n(),n=A6e(e),r=R.useMemo(()=>e.ampm??t.is12HourCycleInCurrentLocale(),[e.ampm,t]);return R.useMemo(()=>me({},e,n,{format:e.format??(r?t.formats.keyboardDateTime12h:t.formats.keyboardDateTime24h)}),[e,n,r,t])}function A6e(e){const t=$n(),n=f6e();return R.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:z3(t,e.minDateTime??e.minDate,n.minDate),maxDate:z3(t,e.maxDateTime??e.maxDate,n.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,n])}const Pfn=e=>{const t=Ddn(e);return Are({manager:t,props:e})};function Pre(e){const{ownerState:t}=ji(),n=ss();return R.useMemo(()=>me({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:n?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,n])}const Dfn=He(h.jsx("path",{d:"M7 10l5 5 5-5z"})),Ofn=He(h.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),Ifn=He(h.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),P6e=He(h.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})),jfn=He(h.jsxs(R.Fragment,{children:[h.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),h.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),$fn=He(h.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})),Ffn=He(h.jsxs(R.Fragment,{children:[h.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),h.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),Lfn=He(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function Nfn(e){return tt("MuiPickersTextField",e)}rt("MuiPickersTextField",["root","focused","disabled","error","required"]);function zfn(e){return tt("MuiPickersInputBase",e)}const Bw=rt("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function Bfn(e){return tt("MuiPickersSectionList",e)}const W1=rt("MuiPickersSectionList",["root","section","sectionContent"]),Ufn=["slots","slotProps","elements","sectionListRef","classes"],D6e=we("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),O6e=we("span",{name:"MuiPickersSectionList",slot:"Section"})({}),I6e=we("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),j6e=we("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),Vfn=e=>Qe({root:["root"],section:["section"],sectionContent:["sectionContent"]},Bfn,e);function Hfn(e){const{slots:t,slotProps:n,element:r,classes:i}=e,{ownerState:o}=ji(),s=t?.section??O6e,a=jn({elementType:s,externalSlotProps:n?.section,externalForwardedProps:r.container,className:i.section,ownerState:o}),l=t?.sectionContent??j6e,c=jn({elementType:l,externalSlotProps:n?.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:o}),u=t?.sectionSeparator??I6e,d=jn({elementType:u,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.before,ownerState:me({},o,{separatorPosition:"before"})}),f=jn({elementType:u,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.after,ownerState:me({},o,{separatorPosition:"after"})}),p=R.useRef(null),g=Un(c.ref,p),y=v=>{const x=v.relatedTarget,w=v.currentTarget.closest(`.${W1.root}`);if(w&&x instanceof Node&&w.contains(x)){v.stopPropagation();return}};return h.jsxs(s,me({},a,{children:[h.jsx(u,me({},d)),h.jsx(l,me({},c,{ref:g,onBlur:y})),h.jsx(u,me({},f))]}))}const Wfn=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersSectionList"}),{slots:i,slotProps:o,elements:s,sectionListRef:a,classes:l}=r,c=Wt(r,Ufn),u=Vfn(l),{ownerState:d}=ji(),f=R.useRef(null),p=Un(n,f),g=x=>{if(!f.current)throw new Error(`MUI X: Cannot call sectionListRef.${x} before the mount of the component.`);return f.current};R.useImperativeHandle(a,()=>({getRoot(){return g("getRoot")},getSectionContainer(x){return g("getSectionContainer").querySelector(`.${W1.section}[data-sectionindex="${x}"]`)},getSectionContent(x){return g("getSectionContent").querySelector(`.${W1.section}[data-sectionindex="${x}"] .${W1.sectionContent}`)},getSectionIndexFromDOMElement(x){const w=g("getSectionIndexFromDOMElement");if(x==null||!w.contains(x))return null;let S=null;return x.classList.contains(W1.section)?S=x:x.classList.contains(W1.sectionContent)&&(S=x.parentElement),S==null?null:Number(S.dataset.sectionindex)}}));const y=i?.root??D6e,v=jn({elementType:y,externalSlotProps:o?.root,externalForwardedProps:c,additionalProps:{ref:p,suppressContentEditableWarning:!0},className:u.root,ownerState:d});return h.jsx(y,me({},v,{children:v.contentEditable?s.map(({content:x,before:w,after:S})=>`${w.children}${x.children}${S.children}`).join(""):h.jsx(R.Fragment,{children:s.map((x,w)=>h.jsx(Hfn,{slots:i,slotProps:o,element:x,classes:u},w))})}))}),$6e=R.createContext(null),KN=()=>{const e=R.useContext($6e);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},qfn=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],Gfn=e=>Math.round(e*1e5)/1e5,ZN=we("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>me({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Gfn(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),Dre=we(D6e,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),Yfn=we(O6e,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),Xfn=we(j6e,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Kfn=we(I6e,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Zfn=we("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(me({},PEe)),Qfn=we("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),Jfn=(e,t)=>{const{isFieldFocused:n,isFieldDisabled:r,isFieldReadOnly:i,hasFieldError:o,inputSize:s,isInputInFullWidth:a,inputColor:l,hasStartAdornment:c,hasEndAdornment:u}=t,d={root:["root",n&&!r&&"focused",r&&"disabled",i&&"readOnly",o&&"error",a&&"fullWidth",`color${Ee(l)}`,s==="small"&&"inputSizeSmall",c&&"adornedStart",u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Qe(d,zfn,e)};function f1e(e,t,n,r){if(e.content.id){const i=t.current?.querySelectorAll(`[data-sectionindex="${n}"] [data-range-position="${r}"]`);if(i)return Array.from(i).reduce((o,s)=>o+s.offsetWidth,0)}return 0}function epn(e,t){let n=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let i=e.length-1;i>=e.length/2;i-=1)n+=f1e(e[i],t,i,"end");else for(let i=0;i<e.length/2;i+=1)n+=f1e(e[i],t,i,"start");return{activeBarWidth:n,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const Ore=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:o,value:s,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:f,slotProps:p,contentEditable:g,tabIndex:y,onInput:v,onPaste:x,onKeyDown:w,name:S,readOnly:C,inputProps:k,inputRef:T,sectionListRef:E,onFocus:A,onBlur:O,classes:I,ownerState:j}=r,P=Wt(r,qfn),$=KN(),D=R.useRef(null),F=R.useRef(null),N=R.useRef([]),V=Un(n,D),H=Un(k?.ref,T),U=Lc();if(!U)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const G=j??$,z=ge=>{U.onFocus?.(ge),A?.(ge)},W=ge=>{z(ge)},X=ge=>{if(w?.(ge),ge.key==="Enter"&&!ge.defaultMuiPrevented){if(D.current?.dataset.multiInput)return;const he=D.current?.closest("form"),ie=he?.querySelector('[type="submit"]');if(!he||!ie)return;ge.preventDefault(),he.requestSubmit(ie)}},Q=ge=>{U.onBlur?.(ge),O?.(ge)};R.useEffect(()=>{U&&U.setAdornedStart(!!u)},[U,u]),R.useEffect(()=>{U&&(o?U.onEmpty():U.onFilled())},[U,o]);const ee=Jfn(I,G),ne=f?.root||ZN,oe=jn({elementType:ne,externalSlotProps:p?.root,externalForwardedProps:P,additionalProps:{"aria-invalid":U.error,ref:V},className:ee.root,ownerState:G}),ce=f?.input||Dre,re=i.some(ge=>ge.content["data-range-position"]!==void 0);return R.useEffect(()=>{if(!re||!G.isPickerOpen)return;const{activeBarWidth:ge,sectionOffsets:he}=epn(i,D);N.current=[he[0],he[1]],F.current&&(F.current.style.width=`${ge}px`)},[i,re,G.isPickerOpen]),h.jsxs(ne,me({},oe,{children:[u,h.jsx(Wfn,{sectionListRef:E,elements:i,contentEditable:g,tabIndex:y,className:ee.sectionsContainer,onFocus:z,onBlur:Q,onInput:v,onPaste:x,onKeyDown:X,slots:{root:ce,section:Yfn,sectionContent:Xfn,sectionSeparator:Kfn},slotProps:{root:me({},p?.input,{ownerState:G}),sectionContent:{className:Bw.sectionContent},sectionSeparator:({separatorPosition:ge})=>({className:ge==="before"?Bw.sectionBefore:Bw.sectionAfter})}}),c,d?d(me({},U)):null,h.jsx(Zfn,me({name:S,className:ee.input,value:s,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:C,required:U.required,disabled:U.disabled,onFocus:W},k,{ref:H})),re&&h.jsx(Qfn,{className:ee.activeBar,ref:F,ownerState:{sectionOffsets:N.current}})]}))});function tpn(e){return tt("MuiPickersOutlinedInput",e)}const ed=me({},Bw,rt("MuiPickersOutlinedInput",["root","notchedOutline","input"])),npn=["children","className","label","notched","shrink"],rpn=we("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),p1e=we("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),ipn=we("legend",{shouldForwardProp:e=>kl(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function opn(e){const{className:t,label:n,notched:r}=e,i=Wt(e,npn),o=KN();return h.jsx(rpn,me({"aria-hidden":!0,className:t},i,{ownerState:o,children:h.jsx(ipn,{ownerState:o,notched:r,children:n?h.jsx(p1e,{children:n}):h.jsx(p1e,{className:"notranslate",children:""})})}))}const spn=["label","autoFocus","ownerState","classes","notched"],apn=we(ZN,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ed.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${ed.focused} .${ed.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ed.disabled}`]:{[`& .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${ed.error} .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(n=>(e.vars??e).palette[n]?.main??!1).map(n=>({props:{inputColor:n},style:{[`&.${ed.focused}:not(.${ed.error}) .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}}))}}),lpn=we(Dre,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),cpn=e=>{const n=Qe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},tpn,e);return me({},e,n)},F6e=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersOutlinedInput"}),{label:i,classes:o,notched:s}=r,a=Wt(r,spn),l=Lc(),c=cpn(o);return h.jsx(Ore,me({slots:{root:apn,input:lpn},renderSuffix:u=>h.jsx(opn,{shrink:!!(s||u.adornedStart||u.focused||u.filled),notched:!!(s||u.adornedStart||u.focused||u.filled),className:c.notchedOutline,label:i!=null&&i!==""&&l?.required?h.jsxs(R.Fragment,{children:[i,"","*"]}):i})},a,{label:i,classes:c,ref:n}))});F6e.muiName="Input";function upn(e){return tt("MuiPickersFilledInput",e)}const $y=me({},Bw,rt("MuiPickersFilledInput",["root","underline","input"])),dpn=["label","autoFocus","disableUnderline","hiddenLabel","classes"],fpn=we(ZN,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>kl(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${$y.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${$y.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$y.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$y.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$y.disabled}, .${$y.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${$y.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),ppn=we(Dre,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>kl(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),hpn=(e,t)=>{const{inputHasUnderline:n}=t,i=Qe({root:["root",n&&"underline"],input:["input"]},upn,e);return me({},e,i)},L6e=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:o=!1,hiddenLabel:s=!1,classes:a}=r,l=Wt(r,dpn),c=KN(),u=me({},c,{inputHasUnderline:!o}),d=hpn(a,u);return h.jsx(Ore,me({slots:{root:fpn,input:ppn},slotProps:{root:{disableUnderline:o},input:{hiddenLabel:s}}},l,{label:i,classes:d,ref:n,ownerState:u}))});L6e.muiName="Input";function gpn(e){return tt("MuiPickersFilledInput",e)}const vk=me({},Bw,rt("MuiPickersInput",["root","underline","input"])),mpn=["label","autoFocus","disableUnderline","ownerState","classes"],ypn=we(ZN,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>kl(e)&&e!=="disableUnderline"})(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(r=>(e.vars??e).palette[r].main).map(r=>({props:{inputColor:r,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${vk.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${vk.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${vk.disabled}, .${vk.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${vk.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),vpn=(e,t)=>{const{inputHasUnderline:n}=t,i=Qe({root:["root",!n&&"underline"],input:["input"]},gpn,e);return me({},e,i)},N6e=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersInput"}),{label:i,disableUnderline:o=!1,classes:s}=r,a=Wt(r,mpn),l=KN(),c=me({},l,{inputHasUnderline:!o}),u=vpn(s,c);return h.jsx(Ore,me({slots:{root:ypn},slotProps:{root:{disableUnderline:o}}},a,{ownerState:c,label:i,classes:u,ref:n}))});N6e.muiName="Input";const bpn=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],xpn={standard:N6e,filled:L6e,outlined:F6e},wpn=we(Qf,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),Spn=(e,t)=>{const{isFieldFocused:n,isFieldDisabled:r,isFieldRequired:i}=t;return Qe({root:["root",n&&!r&&"focused",r&&"disabled",i&&"required"]},Nfn,e)},z6e=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersTextField"}),{onFocus:i,onBlur:o,className:s,classes:a,color:l="primary",disabled:c=!1,error:u=!1,variant:d="outlined",required:f=!1,hiddenLabel:p=!1,InputProps:g,inputProps:y,inputRef:v,sectionListRef:x,elements:w,areAllSectionsEmpty:S,onClick:C,onKeyDown:k,onKeyUp:T,onPaste:E,onInput:A,endAdornment:O,startAdornment:I,tabIndex:j,contentEditable:P,focused:$,value:D,onChange:F,fullWidth:N,id:V,name:H,helperText:U,FormHelperTextProps:G,label:z,InputLabelProps:W,"data-active-range-position":X}=r,Q=Wt(r,bpn),ee=R.useRef(null),ne=Un(n,ee),oe=$c(V),ce=U&&oe?`${oe}-helper-text`:void 0,re=z&&oe?`${oe}-label`:void 0,ge=Pre({disabled:r.disabled,required:r.required,readOnly:g?.readOnly}),he=R.useMemo(()=>me({},ge,{isFieldValueEmpty:S,isFieldFocused:$??!1,hasFieldError:u??!1,inputSize:r.size??"medium",inputColor:l??"primary",isInputInFullWidth:N??!1,hasStartAdornment:!!(I??g?.startAdornment),hasEndAdornment:!!(O??g?.endAdornment),inputHasLabel:!!z,isLabelShrunk:!!W?.shrink}),[ge,S,$,u,r.size,l,N,I,O,g?.startAdornment,g?.endAdornment,z,W?.shrink]),ie=Spn(a,he),xe=xpn[d],q={};return d==="outlined"?(W&&typeof W.shrink<"u"&&(q.notched=W.shrink),q.label=z):d==="filled"&&(q.hiddenLabel=p),h.jsx($6e.Provider,{value:he,children:h.jsxs(wpn,me({className:je(ie.root,s),ref:ne,focused:$,disabled:c,variant:d,error:u,color:l,fullWidth:N,required:f,ownerState:he},Q,{children:[z!=null&&z!==""&&h.jsx(JF,me({htmlFor:oe,id:re},W,{children:z})),h.jsx(xe,me({elements:w,areAllSectionsEmpty:S,onClick:C,onKeyDown:k,onKeyUp:T,onInput:A,onPaste:E,onFocus:i,onBlur:o,endAdornment:O,startAdornment:I,tabIndex:j,contentEditable:P,value:D,onChange:F,id:oe,fullWidth:N,inputProps:y,inputRef:v,sectionListRef:x,label:z,name:H,role:"group","aria-labelledby":re,"aria-describedby":ce,"aria-live":ce?"polite":void 0,"data-active-range-position":X},q,g)),U&&h.jsx(QF,me({id:ce},G,{children:U}))]}))})}),_pn=["enableAccessibleFieldDOMStructure"],Cpn=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],kpn=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Epn=["ownerState"],Tpn=["ownerState"],Rpn=["ownerState"],Mpn=["ownerState"],Apn=["InputProps","inputProps"],_U=()=>{},Ppn=e=>{let{enableAccessibleFieldDOMStructure:t}=e,n=Wt(e,_pn);if(t){const{InputProps:w,readOnly:S,onClear:C,clearable:k,clearButtonPosition:T,openPickerButtonPosition:E,openPickerAriaLabel:A}=n,O=Wt(n,Cpn),I=fm>=6&&O?.slotProps?.input?GE(O?.slotProps?.input,w):_U;return{clearable:k,onClear:C,clearButtonPosition:T,openPickerButtonPosition:E,openPickerAriaLabel:A,textFieldProps:me({},O,fm>=6&&O?.slotProps?.input?{slotProps:me({},O?.slotProps,{input:j=>me({},pa(I,j),{readOnly:S})})}:{InputProps:me({},w??{},{readOnly:S})})}}const{onPaste:r,onKeyDown:i,inputMode:o,readOnly:s,InputProps:a,inputProps:l,inputRef:c,onClear:u,clearable:d,clearButtonPosition:f,openPickerButtonPosition:p,openPickerAriaLabel:g}=n,y=Wt(n,kpn),v=fm>=6&&y?.slotProps?.input?GE(y?.slotProps?.input,a):_U,x=fm>=6&&y?.slotProps?.htmlInput?GE(y?.slotProps?.htmlInput,l):_U;return{clearable:d,onClear:u,clearButtonPosition:f,openPickerButtonPosition:p,openPickerAriaLabel:g,textFieldProps:me({},y,fm>=6&&(y?.slotProps?.input||y?.slotProps?.htmlInput)?{slotProps:me({},y?.slotProps,{input:w=>me({},pa(v,w),{readOnly:s}),htmlInput:w=>me({},pa(x,w),{inputMode:o,onPaste:r,onKeyDown:i,ref:c})})}:{InputProps:me({},a??{},{readOnly:s}),inputProps:me({},l??{},{inputMode:o,onPaste:r,onKeyDown:i,ref:c})})}},Ire=R.createContext({slots:{},slotProps:{},inputRef:void 0});function jre(e){const{fieldResponse:t,defaultOpenPickerIcon:n}=e,r=Ks(),i=Ere(),o=R.useContext(Ire),{textFieldProps:s,onClear:a,clearable:l,openPickerAriaLabel:c,clearButtonPosition:u="end",openPickerButtonPosition:d="end"}=Ppn(t),f=Pre(s),p=mt(G=>{G.preventDefault(),i?.setOpen(z=>!z)}),g=i?i.triggerStatus:"hidden",y=l?u:null,v=g!=="hidden"?d:null,x=o.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?zn:z6e),w=o.slots.inputAdornment??ob,S=jn({elementType:w,externalSlotProps:o.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:me({},f,{position:"start"})}),C=Wt(S,Epn),k=jn({elementType:w,externalSlotProps:o.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:me({},f,{position:"end"})}),T=Wt(k,Tpn),E=o.slots.openPickerButton??Pt,A=jn({elementType:E,externalSlotProps:o.slotProps.openPickerButton,additionalProps:{disabled:g==="disabled",onClick:p,"aria-label":c,edge:s.variant!=="standard"?v:!1},ownerState:f}),O=Wt(A,Rpn),I=o.slots.openPickerIcon??n,j=jn({elementType:I,externalSlotProps:o.slotProps.openPickerIcon,ownerState:f}),P=o.slots.clearButton??Pt,$=jn({elementType:P,externalSlotProps:o.slotProps.clearButton,className:"clearButton",additionalProps:{title:r.fieldClearLabel,tabIndex:-1,onClick:a,disabled:t.disabled||t.readOnly,edge:s.variant!=="standard"&&y!==v?y:!1},ownerState:f}),D=Wt($,Mpn),F=o.slots.clearIcon??Lfn,N=jn({elementType:F,externalSlotProps:o.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:f});s.ref=Un(s.ref,i?.rootRef);const V={},H=pa((fm>=6&&s?.slotProps?.input)??s.InputProps,f);i&&(V.ref=i.triggerRef),!H?.startAdornment&&(y==="start"||v==="start")&&(V.startAdornment=h.jsxs(w,me({},C,{children:[v==="start"&&h.jsx(E,me({},O,{children:h.jsx(I,me({},j))})),y==="start"&&h.jsx(P,me({},D,{children:h.jsx(F,me({},N))}))]}))),!H?.endAdornment&&(y==="end"||v==="end")&&(V.endAdornment=h.jsxs(w,me({},T,{children:[y==="end"&&h.jsx(P,me({},D,{children:h.jsx(F,me({},N))})),v==="end"&&h.jsx(E,me({},O,{children:h.jsx(I,me({},j))}))]}))),!V?.endAdornment&&!V?.startAdornment&&o.slots.inputAdornment&&(V.endAdornment=h.jsx(w,me({},T))),y!=null&&(s.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s.sx)?s.sx:[s.sx]]);const U=fm>=6&&s?.slotProps?.input?pa(GE(H,V),f):me({},H,V);return s.inputProps=fm>=6&&s?.slotProps?.htmlInput?pa(s.slotProps.htmlInput,f):s.inputProps,delete s?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete s?.slotProps,h.jsx(x,me({},s,{InputProps:U}))}function GE(e,t){return e?t?n=>me({},pa(t,n),pa(e,n)):e:t}function $re(e){const{ref:t,externalForwardedProps:n,slotProps:r}=e,i=R.useContext(Ire),o=Ere(),s=Pre(n),{InputProps:a,inputProps:l}=n,c=Wt(n,Apn),u=jn({elementType:z6e,externalSlotProps:GE(i.slotProps.textField,r?.textField),externalForwardedProps:c,additionalProps:{ref:t,sx:o?.rootSx,label:o?.label,name:o?.name,className:o?.rootClassName,inputRef:i.inputRef},ownerState:s});return u.inputProps=me({},l,u.inputProps),u.InputProps=me({},a,u.InputProps),u}function Fre(e){const{slots:t={},slotProps:n={},inputRef:r,children:i}=e,o=R.useMemo(()=>({inputRef:r,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton}}),[r,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton]);return h.jsx(Ire.Provider,{value:o,children:i})}const Dpn=["slots","slotProps"],B6e=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiDateField"}),{slots:i,slotProps:o}=r,s=Wt(r,Dpn),a=$re({slotProps:o,ref:n,externalForwardedProps:s}),l=Pfn(a);return h.jsx(Fre,{slots:i,slotProps:o,inputRef:s.inputRef,children:h.jsx(jre,{fieldResponse:l,defaultOpenPickerIcon:P6e})})}),U6e=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s,timezone:a})=>{const l=$n();return R.useCallback(c=>xC({adapter:l,value:c,timezone:a,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s}})!==null,[l,e,t,n,r,i,o,s,a])},Opn=(e,t)=>(n,r)=>{switch(r.type){case"setVisibleDate":return me({},n,{slideDirection:r.direction,currentMonth:r.month,isMonthSwitchingAnimating:!t.isSameMonth(r.month,n.currentMonth)&&!e&&!r.skipAnimation,focusedDay:r.focusedDay});case"changeMonthTimezone":{const i=r.newTimezone;if(t.getTimezone(n.currentMonth)===i)return n;let o=t.setTimezone(n.currentMonth,i);return t.getMonth(o)!==t.getMonth(n.currentMonth)&&(o=t.setMonth(o,t.getMonth(n.currentMonth))),me({},n,{currentMonth:o})}case"finishMonthSwitchingAnimation":return me({},n,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},Ipn=e=>{const{value:t,referenceDate:n,disableFuture:r,disablePast:i,maxDate:o,minDate:s,onMonthChange:a,onYearChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d,getCurrentMonthFromVisibleDate:f}=e,p=$n(),g=R.useRef(Opn(!!c,p)).current,y=R.useMemo(()=>xo.getInitialReferenceValue({value:t,adapter:p,timezone:d,props:e,referenceDate:n,granularity:fd.day}),[n,d]),[v,x]=R.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:y,currentMonth:p.startOfMonth(y),slideDirection:"left"}),w=U6e({shouldDisableDate:u,minDate:s,maxDate:o,disableFuture:r,disablePast:i,timezone:d});R.useEffect(()=>{x({type:"changeMonthTimezone",newTimezone:p.getTimezone(y)})},[y,p]);const S=mt(({target:k,reason:T})=>{if(T==="cell-interaction"&&v.focusedDay!=null&&p.isSameDay(k,v.focusedDay))return;const E=T==="cell-interaction";let A,O;if(T==="cell-interaction")A=f(k,v.currentMonth),O=k;else if(A=p.isSameMonth(k,v.currentMonth)?v.currentMonth:p.startOfMonth(k),O=k,w(O)){const P=p.startOfMonth(k),$=p.endOfMonth(k);O=vR({adapter:p,date:O,minDate:p.isBefore(s,P)?P:s,maxDate:p.isAfter(o,$)?$:o,disablePast:i,disableFuture:r,isDateDisabled:w,timezone:d})}const I=!p.isSameMonth(v.currentMonth,A),j=!p.isSameYear(v.currentMonth,A);I&&a?.(A),j&&l?.(p.startOfYear(A)),x({type:"setVisibleDate",month:A,direction:p.isAfterDay(A,v.currentMonth)?"left":"right",focusedDay:v.focusedDay!=null&&O!=null&&p.isSameDay(O,v.focusedDay)?v.focusedDay:O,skipAnimation:E})}),C=R.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:y,calendarState:v,setVisibleDate:S,isDateDisabled:w,onMonthSwitchingAnimationEnd:C}},jpn=e=>tt("MuiPickersFadeTransitionGroup",e);rt("MuiPickersFadeTransitionGroup",["root"]);const $pn=["children"],Fpn=e=>Qe({root:["root"]},jpn,e),Lpn=we(JR,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function V6e(e){const t=qn({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:n,reduceAnimations:r,transKey:i,classes:o}=t,{children:s}=t,a=Wt(t,$pn),l=Fpn(o),c=xt();return r?s:h.jsx(Lpn,{className:je(l.root,n),ownerState:a,children:h.jsx(t0,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:c.transitions.duration.enteringScreen,enter:c.transitions.duration.enteringScreen,exit:0},children:s},i)})}function Npn(e){return tt("MuiPickersDay",e)}const Fy=rt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function H6e(e){const{disabled:t,selected:n,today:r,outsideCurrentMonth:i,day:o,disableMargin:s,disableHighlightToday:a,showDaysOutsideCurrentMonth:l}=e,c=$n(),{ownerState:u}=ji();return R.useMemo(()=>me({},u,{day:o,isDaySelected:n??!1,isDayDisabled:t??!1,isDayCurrent:r??!1,isDayOutsideMonth:i??!1,isDayStartOfWeek:c.isSameDay(o,c.startOfWeek(o)),isDayEndOfWeek:c.isSameDay(o,c.endOfWeek(o)),disableMargin:s??!1,disableHighlightToday:a??!1,showDaysOutsideCurrentMonth:l??!1}),[c,u,o,n,t,r,i,s,a,l])}const zpn=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],Bpn=(e,t)=>{const{isDaySelected:n,isDayDisabled:r,isDayCurrent:i,isDayOutsideMonth:o,disableMargin:s,disableHighlightToday:a,showDaysOutsideCurrentMonth:l}=t,c=o&&!l;return Qe({root:["root",n&&!c&&"selected",r&&"disabled",!s&&"dayWithMargin",!a&&i&&"today",o&&l&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Npn,e)},W6e=({theme:e})=>me({},e.typography.caption,{width:wR,height:wR,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ut(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ut(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Fy.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Fy.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Fy.disabled}:not(.${Fy.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Fy.disabled}&.${Fy.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${XN}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Fy.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),q6e=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.isDayCurrent&&t.today,!n.isDayOutsideMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.isDayOutsideMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Upn=we(Dl,{name:"MuiPickersDay",slot:"Root",overridesResolver:q6e})(W6e),Vpn=we("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:q6e})(({theme:e})=>me({},W6e({theme:e}),{opacity:0,pointerEvents:"none"})),bk=()=>{},Hpn=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,classes:s,isAnimating:a,onClick:l,onDaySelect:c,onFocus:u=bk,onBlur:d=bk,onKeyDown:f=bk,onMouseDown:p=bk,onMouseEnter:g=bk,children:y,day:v,selected:x,disabled:w,today:S,outsideCurrentMonth:C,disableMargin:k,disableHighlightToday:T,showDaysOutsideCurrentMonth:E}=r,A=Wt(r,zpn),O=H6e({day:v,selected:x,disabled:w,today:S,outsideCurrentMonth:C,disableMargin:k,disableHighlightToday:T,showDaysOutsideCurrentMonth:E}),I=Bpn(s,O),j=$n(),P=R.useRef(null),$=Un(P,n);ii(()=>{i&&!w&&!a&&!C&&P.current.focus()},[i,w,a,C]);const D=N=>{p(N),C&&N.preventDefault()},F=N=>{N.defaultMuiPrevented=!0,w||c(v),C&&N.currentTarget.focus(),l&&l(N)};return C&&!E?h.jsx(Vpn,{className:je(I.root,I.hiddenDaySpacingFiller,o),ownerState:O,role:A.role}):h.jsx(Upn,me({className:je(I.root,o),ref:$,centerRipple:!0,disabled:w,tabIndex:x?0:-1,onKeyDown:N=>f(N,v),onFocus:N=>u(N,v),onBlur:N=>d(N,v),onMouseEnter:N=>g(N,v),onClick:F,onMouseDown:D},A,{ownerState:O,children:y??j.format(v,"dayOfMonth")}))}),Wpn=R.memo(Hpn),qpn=e=>tt("MuiPickersSlideTransition",e),Jc=rt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Gpn=["children","className","reduceAnimations","slideDirection","transKey","classes"],Ypn=(e,t)=>{const{slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Qe(r,qpn,e)},Xpn=we(JR,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Jc["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Jc["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Jc.slideEnterActive}`]:t.slideEnterActive},{[`.${Jc.slideExit}`]:t.slideExit},{[`.${Jc["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Jc["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Jc["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Jc["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Jc.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Jc.slideExit}`]:{transform:"translate(0%)"},[`& .${Jc["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Jc["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Kpn(e){const t=qn({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,slideDirection:o,transKey:s,classes:a}=t,l=Wt(t,Gpn),{ownerState:c}=ji(),u=me({},c,{slideDirection:o}),d=Ypn(a,u),f=xt();if(i)return h.jsx("div",{className:je(d.root,r),children:n});const p={exit:d.exit,enterActive:d.enterActive,enter:d.enter,exitActive:d.exitActive};return h.jsx(Xpn,{className:je(d.root,r),childFactory:g=>R.cloneElement(g,{classNames:p}),role:"presentation",ownerState:u,children:h.jsx(MX,me({mountOnEnter:!0,unmountOnExit:!0,timeout:f.transitions.duration.complex,classNames:p},l,{children:n}),s)})}const Zpn=e=>tt("MuiDayCalendar",e);rt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Qpn=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Jpn=["ownerState"],ehn=e=>Qe({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Zpn,e),G6e=(wR+XN*2)*6,thn=we("div",{name:"MuiDayCalendar",slot:"Root"})({}),nhn=we("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),rhn=we(ae,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),ihn=we(ae,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),ohn=we(ae,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>me({},e.typography.caption,{width:wR,height:wR,padding:0,margin:`0 ${XN}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),shn=we("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:G6e}),ahn=we(Kpn,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:G6e}),lhn=we("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),chn=we("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${XN}px 0`,display:"flex",justifyContent:"center"});function uhn(e){let{parentProps:t,day:n,focusedDay:r,selectedDays:i,isDateDisabled:o,currentMonthNumber:s,isViewFocused:a}=e,l=Wt(e,Qpn);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:f,slots:p,slotProps:g,timezone:y}=t,v=$n(),x=xx(y),w=r!=null&&v.isSameDay(n,r),S=a&&w,C=i.some(D=>v.isSameDay(D,n)),k=v.isSameDay(n,x),T=R.useMemo(()=>c||o(n),[c,o,n]),E=R.useMemo(()=>v.getMonth(n)!==s,[v,n,s]),A=H6e({day:n,selected:C,disabled:T,today:k,outsideCurrentMonth:E,disableMargin:void 0,disableHighlightToday:u,showDaysOutsideCurrentMonth:f}),O=p?.day??Wpn,I=jn({elementType:O,externalSlotProps:g?.day,additionalProps:me({disableHighlightToday:u,showDaysOutsideCurrentMonth:f,role:"gridcell",isAnimating:d,"data-timestamp":v.toJsDate(n).valueOf()},l),ownerState:me({},A,{day:n,isDayDisabled:T,isDaySelected:C})}),j=Wt(I,Jpn),P=R.useMemo(()=>{const D=v.startOfMonth(v.setMonth(n,s));return f?v.isSameDay(n,v.startOfWeek(D)):v.isSameDay(n,D)},[s,n,f,v]),$=R.useMemo(()=>{const D=v.endOfMonth(v.setMonth(n,s));return f?v.isSameDay(n,v.endOfWeek(D)):v.isSameDay(n,D)},[s,n,f,v]);return h.jsx(O,me({},j,{day:n,disabled:T,autoFocus:!E&&S,today:k,outsideCurrentMonth:E,isFirstVisibleCell:P,isLastVisibleCell:$,selected:C,tabIndex:w?0:-1,"aria-selected":C,"aria-current":k?"date":void 0}))}function dhn(e){const t=qn({props:e,name:"MuiDayCalendar"}),n=$n(),{onFocusedDayChange:r,className:i,classes:o,currentMonth:s,selectedDays:a,focusedDay:l,loading:c,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:d,readOnly:f,reduceAnimations:p,renderLoading:g=()=>h.jsx("span",{children:"..."}),slideDirection:y,TransitionProps:v,disablePast:x,disableFuture:w,minDate:S,maxDate:C,shouldDisableDate:k,shouldDisableMonth:T,shouldDisableYear:E,dayOfWeekFormatter:A=he=>n.format(he,"weekdayShort").charAt(0).toUpperCase(),hasFocus:O,onFocusedViewChange:I,gridLabelId:j,displayWeekNumber:P,fixedWeekNumber:$,timezone:D}=t,F=xx(D),N=ehn(o),V=ss(),H=U6e({shouldDisableDate:k,shouldDisableMonth:T,shouldDisableYear:E,minDate:S,maxDate:C,disablePast:x,disableFuture:w,timezone:D}),U=Ks(),G=mt(he=>{f||u(he)}),z=he=>{H(he)||(r(he),I?.(!0))},W=mt((he,ie)=>{switch(he.key){case"ArrowUp":z(n.addDays(ie,-7)),he.preventDefault();break;case"ArrowDown":z(n.addDays(ie,7)),he.preventDefault();break;case"ArrowLeft":{const xe=n.addDays(ie,V?1:-1),q=n.addMonths(ie,V?1:-1),fe=vR({adapter:n,date:xe,minDate:V?xe:n.startOfMonth(q),maxDate:V?n.endOfMonth(q):xe,isDateDisabled:H,timezone:D});z(fe||xe),he.preventDefault();break}case"ArrowRight":{const xe=n.addDays(ie,V?-1:1),q=n.addMonths(ie,V?-1:1),fe=vR({adapter:n,date:xe,minDate:V?n.startOfMonth(q):xe,maxDate:V?xe:n.endOfMonth(q),isDateDisabled:H,timezone:D});z(fe||xe),he.preventDefault();break}case"Home":z(n.startOfWeek(ie)),he.preventDefault();break;case"End":z(n.endOfWeek(ie)),he.preventDefault();break;case"PageUp":z(n.addMonths(ie,1)),he.preventDefault();break;case"PageDown":z(n.addMonths(ie,-1)),he.preventDefault();break}}),X=mt((he,ie)=>z(ie)),Q=mt((he,ie)=>{l!=null&&n.isSameDay(l,ie)&&I?.(!1)}),ee=n.getMonth(s),ne=n.getYear(s),oe=R.useMemo(()=>a.filter(he=>!!he).map(he=>n.startOfDay(he)),[n,a]),ce=`${ne}-${ee}`,re=R.useMemo(()=>R.createRef(),[ce]),ge=R.useMemo(()=>{const he=n.getWeekArray(s);let ie=n.addMonths(s,1);for(;$&&he.length<$;){const xe=n.getWeekArray(ie),q=n.isSameDay(he[he.length-1][0],xe[0][0]);xe.slice(q?1:0).forEach(fe=>{he.length<$&&he.push(fe)}),ie=n.addMonths(ie,1)}return he},[s,$,n]);return h.jsxs(thn,{role:"grid","aria-labelledby":j,className:N.root,children:[h.jsxs(nhn,{role:"row",className:N.header,children:[P&&h.jsx(ihn,{variant:"caption",role:"columnheader","aria-label":U.calendarWeekNumberHeaderLabel,className:N.weekNumberLabel,children:U.calendarWeekNumberHeaderText}),Hun(n,F).map((he,ie)=>h.jsx(rhn,{variant:"caption",role:"columnheader","aria-label":n.format(he,"weekday"),className:N.weekDayLabel,children:A(he)},ie.toString()))]}),c?h.jsx(shn,{className:N.loadingContainer,children:g()}):h.jsx(ahn,me({transKey:ce,onExited:d,reduceAnimations:p,slideDirection:y,className:je(i,N.slideTransition)},v,{nodeRef:re,children:h.jsx(lhn,{ref:re,role:"rowgroup",className:N.monthContainer,children:ge.map((he,ie)=>h.jsxs(chn,{role:"row",className:N.weekContainer,"aria-rowindex":ie+1,children:[P&&h.jsx(ohn,{className:N.weekNumber,role:"rowheader","aria-label":U.calendarWeekNumberAriaLabelText(n.getWeekNumber(he[0])),children:U.calendarWeekNumberText(n.getWeekNumber(he[0]))}),he.map((xe,q)=>h.jsx(uhn,{parentProps:t,day:xe,selectedDays:oe,isViewFocused:O,focusedDay:l,onKeyDown:W,onFocus:X,onBlur:Q,onDaySelect:G,isDateDisabled:H,currentMonthNumber:ee,"aria-colindex":q+1},xe.toString()))]},`week-${he[0]}`))})}))]})}function Y6e(e){return tt("MuiMonthCalendar",e)}const qO=rt("MuiMonthCalendar",["root","button","disabled","selected"]),fhn=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],phn=(e,t)=>{const n={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return Qe(n,Y6e,e)},hhn=we("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${qO.disabled}`]:t.disabled},{[`&.${qO.selected}`]:t.selected}]})(({theme:e})=>me({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ut(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ut(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${qO.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${qO.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),ghn=R.memo(function(t){const{autoFocus:n,classes:r,disabled:i,selected:o,value:s,onClick:a,onKeyDown:l,onFocus:c,onBlur:u,slots:d,slotProps:f}=t,p=Wt(t,fhn),g=R.useRef(null),{ownerState:y}=ji(),v=me({},y,{isMonthDisabled:i,isMonthSelected:o}),x=phn(r,v);ii(()=>{n&&g.current?.focus()},[n]);const w=d?.monthButton??hhn,S=jn({elementType:w,externalSlotProps:f?.monthButton,externalForwardedProps:p,additionalProps:{disabled:i,ref:g,type:"button",role:"radio","aria-checked":o,onClick:C=>a(C,s),onKeyDown:C=>l(C,s),onFocus:C=>c(C,s),onBlur:C=>u(C,s)},ownerState:v,className:x.button});return h.jsx(w,me({},S))}),mhn=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],yhn=e=>Qe({root:["root"]},Y6e,e);function vhn(e,t){const n=qn({props:e,name:t}),r=RA(n);return me({},n,r,{monthsPerRow:n.monthsPerRow??3})}const h1e=(e,t,n,r,i)=>!!(e===t&&r&&i.isSameYear(n,r)),bhn=we("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>kl(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:c_,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),xhn=R.forwardRef(function(t,n){const r=vhn(t,"MuiMonthCalendar"),{autoFocus:i,className:o,currentMonth:s,classes:a,value:l,defaultValue:c,referenceDate:u,disabled:d,disableFuture:f,disablePast:p,maxDate:g,minDate:y,onChange:v,shouldDisableMonth:x,readOnly:w,onMonthFocus:S,hasFocus:C,onFocusedViewChange:k,monthsPerRow:T,timezone:E,gridLabelId:A,slots:O,slotProps:I}=r,j=Wt(r,mhn),{value:P,handleValueChange:$,timezone:D}=X0({name:"MonthCalendar",timezone:E,value:l,defaultValue:c,referenceDate:u,onChange:v,valueManager:xo}),F=xx(D),N=ss(),V=$n(),{ownerState:H}=ji(),U=R.useMemo(()=>xo.getInitialReferenceValue({value:P,adapter:V,props:r,timezone:D,referenceDate:u,granularity:fd.month}),[]),G=yhn(a),z=R.useMemo(()=>V.getMonth(F),[V,F]),W=R.useMemo(()=>P!=null?V.getMonth(P):null,[P,V]),[X,Q]=R.useState(()=>W||V.getMonth(U)),[ee,ne]=Ws({name:"MonthCalendar",state:"hasFocus",controlled:C,default:i??!1}),oe=mt(q=>{ne(q),k&&k(q)}),ce=R.useCallback(q=>{const fe=V.startOfMonth(p&&V.isAfter(F,y)?F:y),se=V.startOfMonth(f&&V.isBefore(F,g)?F:g),J=V.startOfMonth(q);return V.isBefore(J,fe)||V.isAfter(J,se)?!0:x?x(J):!1},[f,p,g,y,F,x,V]),re=mt((q,fe)=>{if(w)return;const se=P&&s&&!V.isSameYear(P,s)?V.setYear(P,V.getYear(s)):P,J=V.setMonth(se??U,fe);$(J)}),ge=mt(q=>{ce(V.setMonth(P??s??U,q))||(Q(q),oe(!0),S&&S(q))});R.useEffect(()=>{Q(q=>W!==null&&q!==W?W:q)},[W]);const he=mt((q,fe)=>{switch(q.key){case"ArrowUp":ge((12+fe-3)%12),q.preventDefault();break;case"ArrowDown":ge((12+fe+3)%12),q.preventDefault();break;case"ArrowLeft":ge((12+fe+(N?1:-1))%12),q.preventDefault();break;case"ArrowRight":ge((12+fe+(N?-1:1))%12),q.preventDefault();break}}),ie=mt((q,fe)=>{ge(fe)}),xe=mt((q,fe)=>{X===fe&&oe(!1)});return h.jsx(bhn,me({ref:n,className:je(G.root,o),ownerState:H,role:"radiogroup","aria-labelledby":A,monthsPerRow:T},j,{children:yre(V,s??P??U).map(q=>{const fe=V.getMonth(q),se=V.format(q,"monthShort"),J=V.format(q,"month"),Z=h1e(fe,W,q,P,V),ue=d||ce(q);return h.jsx(ghn,{selected:Z,value:fe,onClick:re,onKeyDown:he,autoFocus:ee&&fe===X,disabled:ue,tabIndex:fe===X&&!ue?0:-1,onFocus:ie,onBlur:xe,"aria-current":h1e(fe,z,q,F,V)?"date":void 0,"aria-label":J,slots:O,slotProps:I,classes:a,children:se},se)})}))});function X6e(e){return tt("MuiYearCalendar",e)}const GO=rt("MuiYearCalendar",["root","button","disabled","selected"]),whn=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Shn=(e,t)=>{const n={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return Qe(n,X6e,e)},_hn=we("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${GO.disabled}`]:t.disabled},{[`&.${GO.selected}`]:t.selected}]})(({theme:e})=>me({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:ut(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ut(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${GO.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${GO.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Chn=R.memo(function(t){const{autoFocus:n,classes:r,disabled:i,selected:o,value:s,onClick:a,onKeyDown:l,onFocus:c,onBlur:u,slots:d,slotProps:f}=t,p=Wt(t,whn),g=R.useRef(null),{ownerState:y}=ji(),v=me({},y,{isYearDisabled:i,isYearSelected:o}),x=Shn(r,v);ii(()=>{n&&g.current?.focus()},[n]);const w=d?.yearButton??_hn,S=jn({elementType:w,externalSlotProps:f?.yearButton,externalForwardedProps:p,additionalProps:{disabled:i,ref:g,type:"button",role:"radio","aria-checked":o,onClick:C=>a(C,s),onKeyDown:C=>l(C,s),onFocus:C=>c(C,s),onBlur:C=>u(C,s)},ownerState:v,className:x.button});return h.jsx(w,me({},S))}),khn=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Ehn=e=>Qe({root:["root"]},X6e,e);function Thn(e,t){const n=qn({props:e,name:t}),r=RA(n);return me({},n,r,{yearsPerRow:n.yearsPerRow??3,yearsOrder:n.yearsOrder??"asc"})}const Rhn=we("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>kl(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:c_,maxHeight:nfn,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),Mhn=we("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),Ahn=R.forwardRef(function(t,n){const r=Thn(t,"MuiYearCalendar"),{autoFocus:i,className:o,classes:s,value:a,defaultValue:l,referenceDate:c,disabled:u,disableFuture:d,disablePast:f,maxDate:p,minDate:g,onChange:y,readOnly:v,shouldDisableYear:x,onYearFocus:w,hasFocus:S,onFocusedViewChange:C,yearsOrder:k,yearsPerRow:T,timezone:E,gridLabelId:A,slots:O,slotProps:I}=r,j=Wt(r,khn),{value:P,handleValueChange:$,timezone:D}=X0({name:"YearCalendar",timezone:E,value:a,defaultValue:l,referenceDate:c,onChange:y,valueManager:xo}),F=xx(D),N=ss(),V=$n(),{ownerState:H}=ji(),U=R.useMemo(()=>xo.getInitialReferenceValue({value:P,adapter:V,props:r,timezone:D,referenceDate:c,granularity:fd.year}),[]),G=Ehn(s),z=R.useMemo(()=>V.getYear(F),[V,F]),W=R.useMemo(()=>P!=null?V.getYear(P):null,[P,V]),[X,Q]=R.useState(()=>W||V.getYear(U)),[ee,ne]=Ws({name:"YearCalendar",state:"hasFocus",controlled:S,default:i??!1}),oe=mt(de=>{ne(de),C&&C(de)}),ce=R.useCallback(de=>{if(f&&V.isBeforeYear(de,F)||d&&V.isAfterYear(de,F)||g&&V.isBeforeYear(de,g)||p&&V.isAfterYear(de,p))return!0;if(!x)return!1;const be=V.startOfYear(de);return x(be)},[d,f,p,g,F,x,V]),re=mt((de,be)=>{if(v)return;const le=V.setYear(P??U,be);$(le)}),ge=mt(de=>{ce(V.setYear(P??U,de))||(Q(de),oe(!0),w?.(de))});R.useEffect(()=>{Q(de=>W!==null&&de!==W?W:de)},[W]);const he=k!=="desc"?T*1:T*-1,ie=N&&k==="asc"||!N&&k==="desc"?-1:1,xe=mt((de,be)=>{switch(de.key){case"ArrowUp":ge(be-he),de.preventDefault();break;case"ArrowDown":ge(be+he),de.preventDefault();break;case"ArrowLeft":ge(be-ie),de.preventDefault();break;case"ArrowRight":ge(be+ie),de.preventDefault();break}}),q=mt((de,be)=>{ge(be)}),fe=mt((de,be)=>{X===be&&oe(!1)}),se=R.useRef(null),J=Un(n,se);R.useEffect(()=>{if(i||se.current===null)return;const de=se.current.querySelector('[tabindex="0"]');if(!de)return;const be=de.offsetHeight,le=de.offsetTop,Se=se.current.clientHeight,ye=se.current.scrollTop,ve=le+be;be>Se||le<ye||(se.current.scrollTop=ve-Se/2-be/2)},[i]);const Z=V.getYearRange([g,p]);k==="desc"&&Z.reverse();let ue=T-Z.length%T;return ue===T&&(ue=0),h.jsxs(Rhn,me({ref:J,className:je(G.root,o),ownerState:H,role:"radiogroup","aria-labelledby":A,yearsPerRow:T},j,{children:[Z.map(de=>{const be=V.getYear(de),le=be===W,Se=u||ce(de);return h.jsx(Chn,{selected:le,value:be,onClick:re,onKeyDown:xe,autoFocus:ee&&be===X,disabled:Se,tabIndex:be===X&&!Se?0:-1,onFocus:q,onBlur:fe,"aria-current":z===be?"date":void 0,slots:O,slotProps:I,classes:s,children:V.format(de,"year")},V.format(de,"year"))}),Array.from({length:ue},(de,be)=>h.jsx(Mhn,{},be))]}))}),Phn=e=>tt("MuiPickersCalendarHeader",e),Dhn=rt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function Ohn(e){return tt("MuiPickersArrowSwitcher",e)}rt("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Ihn=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],jhn=["ownerState"],$hn=["ownerState"],Fhn=we("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),Lhn=we("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),g1e=we(Pt,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),Nhn=e=>Qe({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},Ohn,e),K6e=R.forwardRef(function(t,n){const r=ss(),i=qn({props:t,name:"MuiPickersArrowSwitcher"}),{children:o,className:s,slots:a,slotProps:l,isNextDisabled:c,isNextHidden:u,onGoToNext:d,nextLabel:f,isPreviousDisabled:p,isPreviousHidden:g,onGoToPrevious:y,previousLabel:v,labelId:x,classes:w}=i,S=Wt(i,Ihn),{ownerState:C}=ji(),k=Nhn(w),T={isDisabled:c,isHidden:u,goTo:d,label:f},E={isDisabled:p,isHidden:g,goTo:y,label:v},A=a?.previousIconButton??g1e,O=jn({elementType:A,externalSlotProps:l?.previousIconButton,additionalProps:{size:"medium",title:E.label,"aria-label":E.label,disabled:E.isDisabled,edge:"end",onClick:E.goTo},ownerState:me({},C,{isButtonHidden:E.isHidden??!1}),className:je(k.button,k.previousIconButton)}),I=a?.nextIconButton??g1e,j=jn({elementType:I,externalSlotProps:l?.nextIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"start",onClick:T.goTo},ownerState:me({},C,{isButtonHidden:T.isHidden??!1}),className:je(k.button,k.nextIconButton)}),P=a?.leftArrowIcon??Ofn,$=jn({elementType:P,externalSlotProps:l?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:C,className:k.leftArrowIcon}),D=Wt($,jhn),F=a?.rightArrowIcon??Ifn,N=jn({elementType:F,externalSlotProps:l?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:C,className:k.rightArrowIcon}),V=Wt(N,$hn);return h.jsxs(Fhn,me({ref:n,className:je(k.root,s),ownerState:C},S,{children:[h.jsx(A,me({},O,{children:r?h.jsx(F,me({},V)):h.jsx(P,me({},D))})),o?h.jsx(ae,{variant:"subtitle1",component:"span",id:x,children:o}):h.jsx(Lhn,{className:k.spacer,ownerState:C}),h.jsx(I,me({},j,{children:r?h.jsx(P,me({},D)):h.jsx(F,me({},V))}))]}))});function zhn(e,{disableFuture:t,maxDate:n,timezone:r}){const i=$n();return R.useMemo(()=>{const o=i.date(void 0,r),s=i.startOfMonth(t&&i.isBefore(o,n)?o:n);return!i.isAfter(s,e)},[t,n,e,i,r])}function Bhn(e,{disablePast:t,minDate:n,timezone:r}){const i=$n();return R.useMemo(()=>{const o=i.date(void 0,r),s=i.startOfMonth(t&&i.isAfter(o,n)?o:n);return!i.isBefore(s,e)},[t,n,e,i,r])}function QN(e,t,n,r){const i=$n(),o=R.useMemo(()=>i.isValid(e)?e:null,[i,e]),s=qun(o,i),a=R.useCallback(l=>{const c=o==null?null:Gun(o,l,!!t,i);n(c,r??"partial")},[t,o,n,r,i]);return{meridiemMode:s,handleMeridiemChange:a}}const Uhn=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Vhn=["ownerState"],Hhn=e=>Qe({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Phn,e),Whn=we("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),qhn=we("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>me({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Ghn=we("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Yhn=we(Pt,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${Dhn.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Xhn=we(Dfn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Khn=R.forwardRef(function(t,n){const r=Ks(),i=$n(),o=qn({props:t,name:"MuiPickersCalendarHeader"}),{slots:s,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:f,minDate:p,onMonthChange:g,onViewChange:y,view:v,reduceAnimations:x,views:w,labelId:S,className:C,classes:k,timezone:T,format:E=`${i.formats.month} ${i.formats.year}`}=o,A=Wt(o,Uhn),{ownerState:O}=ji(),I=Hhn(k),j=s?.switchViewButton??Yhn,P=jn({elementType:j,externalSlotProps:a?.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(v)},ownerState:me({},O,{view:v}),className:I.switchViewButton}),$=s?.switchViewIcon??Xhn,D=jn({elementType:$,externalSlotProps:a?.switchViewIcon,ownerState:O,className:I.switchViewIcon}),F=Wt(D,Vhn),N=()=>g(i.addMonths(l,1)),V=()=>g(i.addMonths(l,-1)),H=zhn(l,{disableFuture:u,maxDate:f,timezone:T}),U=Bhn(l,{disablePast:d,minDate:p,timezone:T}),G=()=>{if(!(w.length===1||!y||c))if(w.length===2)y(w.find(W=>W!==v)||w[0]);else{const W=w.indexOf(v)!==0?0:1;y(w[W])}};if(w.length===1&&w[0]==="year")return null;const z=i.formatByString(l,E);return h.jsxs(Whn,me({},A,{ownerState:O,className:je(I.root,C),ref:n,children:[h.jsxs(qhn,{role:"presentation",onClick:G,ownerState:O,"aria-live":"polite",className:I.labelContainer,children:[h.jsx(V6e,{reduceAnimations:x,transKey:z,children:h.jsx(Ghn,{id:S,ownerState:O,className:I.label,children:z})}),w.length>1&&!c&&h.jsx(j,me({},P,{children:h.jsx($,me({},F))}))]}),h.jsx(t0,{in:v==="day",appear:!x,enter:!x,children:h.jsx(K6e,{slots:s,slotProps:a,onGoToPrevious:V,isPreviousDisabled:U,previousLabel:r.previousMonth,onGoToNext:N,isNextDisabled:H,nextLabel:r.nextMonth})})]}))}),JN=we("div")({overflow:"hidden",width:c_,maxHeight:u_,display:"flex",flexDirection:"column",margin:"0 auto"}),Zhn=e=>tt("MuiDateCalendar",e);rt("MuiDateCalendar",["root","viewTransitionContainer"]);const Qhn=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Jhn=e=>Qe({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Zhn,e);function egn(e,t){const n=qn({props:e,name:t}),r=g6e(n.reduceAnimations),i=RA(n);return me({},n,i,{loading:n.loading??!1,openTo:n.openTo??"day",views:n.views??["year","day"],reduceAnimations:r,renderLoading:n.renderLoading??(()=>h.jsx("span",{children:"..."}))})}const tgn=we(JN,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:u_}),ngn=we(V6e,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),rgn=R.forwardRef(function(t,n){const r=$n(),{ownerState:i}=ji(),o=$c(),s=egn(t,"MuiDateCalendar"),{autoFocus:a,onViewChange:l,value:c,defaultValue:u,referenceDate:d,disableFuture:f,disablePast:p,onChange:g,onMonthChange:y,reduceAnimations:v,shouldDisableDate:x,shouldDisableMonth:w,shouldDisableYear:S,view:C,views:k,openTo:T,className:E,classes:A,disabled:O,readOnly:I,minDate:j,maxDate:P,disableHighlightToday:$,focusedView:D,onFocusedViewChange:F,showDaysOutsideCurrentMonth:N,fixedWeekNumber:V,dayOfWeekFormatter:H,slots:U,slotProps:G,loading:z,renderLoading:W,displayWeekNumber:X,yearsOrder:Q,yearsPerRow:ee,monthsPerRow:ne,timezone:oe}=s,ce=Wt(s,Qhn),{value:re,handleValueChange:ge,timezone:he}=X0({name:"DateCalendar",timezone:oe,value:c,defaultValue:u,referenceDate:d,onChange:g,valueManager:xo}),{view:ie,setView:xe,focusedView:q,setFocusedView:fe,goToNextView:se,setValueAndGoToNextView:J}=MA({view:C,views:k,openTo:T,onChange:ge,onViewChange:l,autoFocus:a,focusedView:D,onFocusedViewChange:F}),{referenceDate:Z,calendarState:ue,setVisibleDate:de,isDateDisabled:be,onMonthSwitchingAnimationEnd:le}=Ipn({value:re,referenceDate:d,reduceAnimations:v,onMonthChange:y,minDate:j,maxDate:P,shouldDisableDate:x,disablePast:p,disableFuture:f,timezone:he,getCurrentMonthFromVisibleDate:(De,bt)=>r.isSameMonth(De,bt)?bt:r.startOfMonth(De)}),Se=O&&re||j,ye=O&&re||P,ve=`${o}-grid-label`,_e=q!==null,Ae=U?.calendarHeader??Khn,Te=jn({elementType:Ae,externalSlotProps:G?.calendarHeader,additionalProps:{views:k,view:ie,currentMonth:ue.currentMonth,onViewChange:xe,onMonthChange:De=>de({target:De,reason:"header-navigation"}),minDate:Se,maxDate:ye,disabled:O,disablePast:p,disableFuture:f,reduceAnimations:v,timezone:he,labelId:ve},ownerState:i}),Pe=mt(De=>{const bt=r.startOfMonth(De),Gt=r.endOfMonth(De),Cn=be(De)?vR({adapter:r,date:De,minDate:r.isBefore(j,bt)?bt:j,maxDate:r.isAfter(P,Gt)?Gt:P,disablePast:p,disableFuture:f,isDateDisabled:be,timezone:he}):De;Cn?(J(Cn,"finish"),de({target:Cn,reason:"cell-interaction"})):(se(),de({target:bt,reason:"cell-interaction"}))}),Le=mt(De=>{const bt=r.startOfYear(De),Gt=r.endOfYear(De),Cn=be(De)?vR({adapter:r,date:De,minDate:r.isBefore(j,bt)?bt:j,maxDate:r.isAfter(P,Gt)?Gt:P,disablePast:p,disableFuture:f,isDateDisabled:be,timezone:he}):De;Cn?(J(Cn,"finish"),de({target:Cn,reason:"cell-interaction"})):(se(),de({target:bt,reason:"cell-interaction"}))}),$e=mt(De=>ge(De&&N3(r,De,re??Z),"finish",ie));R.useEffect(()=>{r.isValid(re)&&de({target:re,reason:"controlled-value-change"})},[re]);const at=Jhn(A),Re={disablePast:p,disableFuture:f,maxDate:P,minDate:j},Ze={disableHighlightToday:$,readOnly:I,disabled:O,timezone:he,gridLabelId:ve,slots:U,slotProps:G},Rt=R.useRef(ie);R.useEffect(()=>{Rt.current!==ie&&(q===Rt.current&&fe(ie,!0),Rt.current=ie)},[q,fe,ie]);const Ct=R.useMemo(()=>[re],[re]);return h.jsxs(tgn,me({ref:n,className:je(at.root,E),ownerState:i},ce,{children:[h.jsx(Ae,me({},Te,{slots:U,slotProps:G})),h.jsx(ngn,{reduceAnimations:v,className:at.viewTransitionContainer,transKey:ie,ownerState:i,children:h.jsxs("div",{children:[ie==="year"&&h.jsx(Ahn,me({},Re,Ze,{value:re,onChange:Le,shouldDisableYear:S,hasFocus:_e,onFocusedViewChange:De=>fe("year",De),yearsOrder:Q,yearsPerRow:ee,referenceDate:Z})),ie==="month"&&h.jsx(xhn,me({},Re,Ze,{currentMonth:ue.currentMonth,hasFocus:_e,className:E,value:re,onChange:Pe,shouldDisableMonth:w,onFocusedViewChange:De=>fe("month",De),monthsPerRow:ne,referenceDate:Z})),ie==="day"&&h.jsx(dhn,me({},ue,Re,Ze,{onMonthSwitchingAnimationEnd:le,hasFocus:_e,onFocusedDayChange:De=>de({target:De,reason:"cell-interaction"}),reduceAnimations:v,selectedDays:Ct,onSelectedDaysChange:$e,shouldDisableDate:x,shouldDisableMonth:w,shouldDisableYear:S,onFocusedViewChange:De=>fe("day",De),showDaysOutsideCurrentMonth:N,fixedWeekNumber:V,dayOfWeekFormatter:H,displayWeekNumber:X,loading:z,renderLoading:W}))]})})]}))}),Tu=({view:e,onViewChange:t,views:n,focusedView:r,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:y,shouldDisableMonth:v,shouldDisableYear:x,reduceAnimations:w,onMonthChange:S,monthsPerRow:C,onYearChange:k,yearsOrder:T,yearsPerRow:E,slots:A,slotProps:O,loading:I,renderLoading:j,disableHighlightToday:P,readOnly:$,disabled:D,showDaysOutsideCurrentMonth:F,dayOfWeekFormatter:N,sx:V,autoFocus:H,fixedWeekNumber:U,displayWeekNumber:G,timezone:z})=>h.jsx(rgn,{view:e,onViewChange:t,views:n.filter(l_),focusedView:r&&l_(r)?r:null,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:y,shouldDisableMonth:v,shouldDisableYear:x,reduceAnimations:w,onMonthChange:S,monthsPerRow:C,onYearChange:k,yearsOrder:T,yearsPerRow:E,slots:A,slotProps:O,loading:I,renderLoading:j,disableHighlightToday:P,readOnly:$,disabled:D,showDaysOutsideCurrentMonth:F,dayOfWeekFormatter:N,sx:V,autoFocus:H,fixedWeekNumber:U,displayWeekNumber:G,timezone:z}),Z6e=R.forwardRef(function(t,n){const r=$n(),i=p6e(t,"MuiDesktopDatePicker"),o=me({day:Tu,month:Tu,year:Tu},i.viewRenderers),s=me({},i,{closeOnSelect:i.closeOnSelect??!0,viewRenderers:o,format:bR(r,i,!1),yearsPerRow:i.yearsPerRow??4,slots:me({field:B6e},i.slots),slotProps:me({},i.slotProps,{field:l=>me({},pa(i.slotProps?.field,l),bC(i)),toolbar:me({hidden:!0},i.slotProps?.toolbar)})}),{renderPicker:a}=Rre({ref:n,props:s,valueManager:xo,valueType:"date",validator:xC,steps:null});return a()});Z6e.propTypes={autoFocus:te.bool,className:te.string,closeOnSelect:te.bool,dayOfWeekFormatter:te.func,defaultValue:te.object,disabled:te.bool,disableFuture:te.bool,disableHighlightToday:te.bool,disableOpenPicker:te.bool,disablePast:te.bool,displayWeekNumber:te.bool,enableAccessibleFieldDOMStructure:te.any,fixedWeekNumber:te.number,format:te.string,formatDensity:te.oneOf(["dense","spacious"]),inputRef:E_,label:te.node,loading:te.bool,localeText:te.object,maxDate:te.object,minDate:te.object,monthsPerRow:te.oneOf([3,4]),name:te.string,onAccept:te.func,onChange:te.func,onClose:te.func,onError:te.func,onMonthChange:te.func,onOpen:te.func,onSelectedSectionsChange:te.func,onViewChange:te.func,onYearChange:te.func,open:te.bool,openTo:te.oneOf(["day","month","year"]),orientation:te.oneOf(["landscape","portrait"]),readOnly:te.bool,reduceAnimations:te.bool,referenceDate:te.object,renderLoading:te.func,selectedSections:te.oneOfType([te.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),te.number]),shouldDisableDate:te.func,shouldDisableMonth:te.func,shouldDisableYear:te.func,showDaysOutsideCurrentMonth:te.bool,slotProps:te.object,slots:te.object,sx:te.oneOfType([te.arrayOf(te.oneOfType([te.func,te.object,te.bool])),te.func,te.object]),timezone:te.string,value:te.object,view:te.oneOf(["day","month","year"]),viewRenderers:te.shape({day:te.func,month:te.func,year:te.func}),views:te.arrayOf(te.oneOf(["day","month","year"]).isRequired),yearsOrder:te.oneOf(["asc","desc"]),yearsPerRow:te.oneOf([3,4])};const ign=we(Oi)({[`& .${SE.container}`]:{outline:0},[`& .${SE.paper}`]:{outline:0,minWidth:c_}}),ogn=we(no)({"&:first-of-type":{padding:0}});function sgn(e){const{children:t,slots:n,slotProps:r}=e,{open:i}=Cp(),{dismissViews:o,onPopperExited:s}=ji(),a=n?.dialog??ign,l=n?.mobileTransition??t0;return h.jsx(a,me({open:i,onClose:()=>{o(),s?.()}},r?.dialog,{TransitionComponent:l,TransitionProps:r?.mobileTransition,PaperComponent:n?.mobilePaper,PaperProps:r?.mobilePaper,children:h.jsx(ogn,{children:t})}))}const agn=["props","steps"],lgn=["ownerState"],Lre=e=>{let{props:t,steps:n}=e,r=Wt(e,agn);const{slots:i,slotProps:o,label:s,inputRef:a,localeText:l}=t,c=C6e({steps:n}),{providerProps:u,renderCurrentView:d,ownerState:f}=y6e(me({},r,{props:t,localeText:l,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:c})),p=u.privateContextValue.labelId,g=o?.toolbar?.hidden??!1,y=i.field,v=jn({elementType:y,externalSlotProps:o?.field,additionalProps:me({},g&&{id:p}),ownerState:f}),x=Wt(v,lgn),w=i.layout??_6e;let S=p;g&&(s?S=`${p}-label`:S=void 0);const C=me({},o,{toolbar:me({},o?.toolbar,{titleId:p}),mobilePaper:me({"aria-labelledby":S},o?.mobilePaper)});return{renderPicker:()=>h.jsxs(a6e,me({},u,{children:[h.jsx(y,me({},x,{slots:me({},i,x.slots),slotProps:me({},C,x.slotProps),inputRef:a})),h.jsx(sgn,{slots:i,slotProps:C,children:h.jsx(w,me({},C?.layout,{slots:i,slotProps:C,children:d()}))})]}))}},Q6e=R.forwardRef(function(t,n){const r=$n(),i=p6e(t,"MuiMobileDatePicker"),o=me({day:Tu,month:Tu,year:Tu},i.viewRenderers),s=me({},i,{viewRenderers:o,format:bR(r,i,!1),slots:me({field:B6e},i.slots),slotProps:me({},i.slotProps,{field:l=>me({},pa(i.slotProps?.field,l),bC(i)),toolbar:me({hidden:!1},i.slotProps?.toolbar)})}),{renderPicker:a}=Lre({ref:n,props:s,valueManager:xo,valueType:"date",validator:xC,steps:null});return a()});Q6e.propTypes={autoFocus:te.bool,className:te.string,closeOnSelect:te.bool,dayOfWeekFormatter:te.func,defaultValue:te.object,disabled:te.bool,disableFuture:te.bool,disableHighlightToday:te.bool,disableOpenPicker:te.bool,disablePast:te.bool,displayWeekNumber:te.bool,enableAccessibleFieldDOMStructure:te.any,fixedWeekNumber:te.number,format:te.string,formatDensity:te.oneOf(["dense","spacious"]),inputRef:E_,label:te.node,loading:te.bool,localeText:te.object,maxDate:te.object,minDate:te.object,monthsPerRow:te.oneOf([3,4]),name:te.string,onAccept:te.func,onChange:te.func,onClose:te.func,onError:te.func,onMonthChange:te.func,onOpen:te.func,onSelectedSectionsChange:te.func,onViewChange:te.func,onYearChange:te.func,open:te.bool,openTo:te.oneOf(["day","month","year"]),orientation:te.oneOf(["landscape","portrait"]),readOnly:te.bool,reduceAnimations:te.bool,referenceDate:te.object,renderLoading:te.func,selectedSections:te.oneOfType([te.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),te.number]),shouldDisableDate:te.func,shouldDisableMonth:te.func,shouldDisableYear:te.func,showDaysOutsideCurrentMonth:te.bool,slotProps:te.object,slots:te.object,sx:te.oneOfType([te.arrayOf(te.oneOfType([te.func,te.object,te.bool])),te.func,te.object]),timezone:te.string,value:te.object,view:te.oneOf(["day","month","year"]),viewRenderers:te.shape({day:te.func,month:te.func,year:te.func}),views:te.arrayOf(te.oneOf(["day","month","year"]).isRequired),yearsOrder:te.oneOf(["asc","desc"]),yearsPerRow:te.oneOf([3,4])};const cgn=["desktopModeMediaQuery"],ugn=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=Tre}=r,o=Wt(r,cgn);return r0(i,{defaultMatches:!0})?h.jsx(Z6e,me({ref:n},o)):h.jsx(Q6e,me({ref:n},o))}),dgn=e=>{const t=Rfn(e);return Are({manager:t,props:e})},fgn=["slots","slotProps"],J6e=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiDateTimeField"}),{slots:i,slotProps:o}=r,s=Wt(r,fgn),a=$re({slotProps:o,ref:n,externalForwardedProps:s}),l=dgn(a);return h.jsx(Fre,{slots:i,slotProps:o,inputRef:s.inputRef,children:h.jsx(jre,{fieldResponse:l,defaultOpenPickerIcon:P6e})})});function pgn(e){return tt("MuiDateTimePickerTabs",e)}rt("MuiDateTimePickerTabs",["root"]);const hgn=e=>l_(e)?"date":"time",ggn=e=>e==="date"?"day":"hours",mgn=e=>Qe({root:["root"]},pgn,e),ygn=we(qb,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${OI.indicator}`]:{bottom:"auto",top:0}}})),vgn=function(t){const n=qn({props:t,name:"MuiDateTimePickerTabs"}),{dateIcon:r=h.jsx($fn,{}),timeIcon:i=h.jsx(Ffn,{}),hidden:o=typeof window>"u"||window.innerHeight<667,className:s,classes:a,sx:l}=n,c=Ks(),{ownerState:u}=ji(),{view:d,setView:f}=Cp(),p=mgn(a),g=(y,v)=>{f(ggn(v))};return o?null:h.jsxs(ygn,{ownerState:u,variant:"fullWidth",value:hgn(d),onChange:g,className:je(s,p.root),sx:l,children:[h.jsx(wl,{value:"date","aria-label":c.dateTableLabel,icon:h.jsx(R.Fragment,{children:r})}),h.jsx(wl,{value:"time","aria-label":c.timeTableLabel,icon:h.jsx(R.Fragment,{children:i})})]})};function bgn(e){return tt("MuiPickersToolbarText",e)}const xgn=rt("MuiPickersToolbarText",["root"]),wgn=["className","classes","selected","value"],Sgn=e=>Qe({root:["root"]},bgn,e),_gn=we(ae,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Nre=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersToolbarText"}),{className:i,classes:o,selected:s,value:a}=r,l=Wt(r,wgn),c=Sgn(o);return h.jsx(_gn,me({ref:n,className:je(c.root,i),component:"span",ownerState:r},s&&{"data-selected":!0},l,{children:a}))}),Cgn=["align","className","classes","selected","typographyClassName","value","variant","width"],kgn=e=>Qe({root:["root"]},t6e,e),Egn=we(Be,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),rc=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiPickersToolbarButton"}),{align:i,className:o,classes:s,selected:a,typographyClassName:l,value:c,variant:u,width:d}=r,f=Wt(r,Cgn),p=kgn(s);return h.jsx(Egn,me({variant:"text",ref:n,className:je(p.root,o),ownerState:r},d?{sx:{width:d}}:{},f,{children:h.jsx(Nre,{align:i,className:l,variant:u,value:c,selected:a})}))});function Tgn(e){return tt("MuiDateTimePickerToolbar",e)}const CU=rt("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Rgn=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],Mgn=(e,t)=>{const{pickerOrientation:n,toolbarDirection:r}=t;return Qe({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",r==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",r==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",n==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Tgn,e)},Agn=we(Cre,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>kl(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${adn.content} .${xgn.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),Pgn=we("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Dgn=we("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>kl(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:t})=>e==="landscape"&&t!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:t,toolbarDirection:n})=>e==="landscape"&&t!=="desktop"&&n==="rtl",style:{flexDirection:"column-reverse"}}]}),Ogn=we("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>kl(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),m1e=we(Nre,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>kl(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),Ign=we("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${CU.ampmLabel}`]:t.ampmLabel},{[`&.${CU.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${CU.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),jgn=R.createContext(null);function $gn(e){const t=qn({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:n,ampmInClock:r,toolbarFormat:i,toolbarPlaceholder:o="",toolbarTitle:s,className:a,classes:l}=t,c=Wt(t,Rgn),{value:u,setValue:d,disabled:f,readOnly:p,variant:g,orientation:y,view:v,setView:x,views:w}=Cp(),S=Ks(),C=GN(),k=Mgn(l,C),T=$n(),E=R.useContext(jgn),A=E?E.value:u,O=E?E.setValue:d,I=E?E.view:v,j=E?E.setView:x,{meridiemMode:P,handleMeridiemChange:$}=QN(A,n,G=>O(G,{changeImportance:"set",source:"view"})),D=E?.forceDesktopVariant?"desktop":g,F=D==="desktop",N=!!(n&&!r),V=s??S.dateTimePickerToolbarTitle,H=R.useMemo(()=>T.isValid(A)?i?T.formatByString(A,i):T.format(A,"shortDate"):o,[A,i,o,T]),U=(G,z)=>T.isValid(A)?T.format(A,G):z;return h.jsxs(Agn,me({className:je(k.root,a),toolbarTitle:V,toolbarVariant:D},c,{ownerState:C,children:[h.jsxs(Pgn,{className:k.dateContainer,ownerState:C,children:[w.includes("year")&&h.jsx(rc,{tabIndex:-1,variant:"subtitle1",onClick:()=>j("year"),selected:I==="year",value:U("year","")}),w.includes("day")&&h.jsx(rc,{tabIndex:-1,variant:F?"h5":"h4",onClick:()=>j("day"),selected:I==="day",value:H})]}),h.jsxs(Dgn,{className:k.timeContainer,ownerState:C,toolbarVariant:D,children:[h.jsxs(Ogn,{className:k.timeDigitsContainer,ownerState:C,toolbarVariant:D,children:[w.includes("hours")&&h.jsxs(R.Fragment,{children:[h.jsx(rc,{variant:F?"h5":"h3",width:F&&y==="portrait"?sE:void 0,onClick:()=>j("hours"),selected:I==="hours",value:U(n?"hours12h":"hours24h","--")}),h.jsx(m1e,{variant:F?"h5":"h3",value:":",className:k.separator,ownerState:C,toolbarVariant:D}),h.jsx(rc,{variant:F?"h5":"h3",width:F&&y==="portrait"?sE:void 0,onClick:()=>j("minutes"),selected:I==="minutes"||!w.includes("minutes")&&I==="hours",value:U("minutes","--"),disabled:!w.includes("minutes")})]}),w.includes("seconds")&&h.jsxs(R.Fragment,{children:[h.jsx(m1e,{variant:F?"h5":"h3",value:":",className:k.separator,ownerState:C,toolbarVariant:D}),h.jsx(rc,{variant:F?"h5":"h3",width:F&&y==="portrait"?sE:void 0,onClick:()=>j("seconds"),selected:I==="seconds",value:U("seconds","--")})]})]}),N&&!F&&h.jsxs(Ign,{className:k.ampmSelection,ownerState:C,children:[h.jsx(rc,{variant:"subtitle2",selected:P==="am",typographyClassName:k.ampmLabel,value:Cd(T,"am"),onClick:p?void 0:()=>$("am"),disabled:f}),h.jsx(rc,{variant:"subtitle2",selected:P==="pm",typographyClassName:k.ampmLabel,value:Cd(T,"pm"),onClick:p?void 0:()=>$("pm"),disabled:f})]}),n&&F&&h.jsx(rc,{variant:"h5",onClick:()=>j("meridiem"),selected:I==="meridiem",value:A&&P?Cd(T,P):"--",width:sE})]})]}))}const Fgn=["views","format"],eBe=(e,t,n)=>{let{views:r,format:i}=t,o=Wt(t,Fgn);if(i)return i;const s=[],a=[];if(r.forEach(u=>{Ob(u)?a.push(u):l_(u)&&s.push(u)}),a.length===0)return bR(e,me({views:s},o),!1);if(s.length===0)return B3(e,me({views:a},o));const l=B3(e,me({views:a},o));return`${bR(e,me({views:s},o),!1)} ${l}`},Lgn=(e,t,n)=>n?t.filter(r=>!pw(r)||r==="hours"):e?[...t,"meridiem"]:t,Ngn=(e,t)=>1440/((e.hours??1)*(e.minutes??5))<=t;function tBe({thresholdToRenderTimeInASingleColumn:e,ampm:t,timeSteps:n,views:r}){const i=e??24,o=me({hours:1,minutes:5,seconds:5},n),s=Ngn(o,i);return{thresholdToRenderTimeInASingleColumn:i,timeSteps:o,shouldRenderTimeInASingleColumn:s,views:Lgn(t,r,s)}}function nBe(e,t){const n=$n(),r=qn({props:e,name:t}),i=A6e(r),o=r.ampm??n.is12HourCycleInCurrentLocale(),s=R.useMemo(()=>r.localeText?.toolbarTitle==null?r.localeText:me({},r.localeText,{dateTimePickerToolbarTitle:r.localeText.toolbarTitle}),[r.localeText]),{openTo:a,views:l}=mre({views:r.views,openTo:r.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:c,thresholdToRenderTimeInASingleColumn:u,views:d,timeSteps:f}=tBe({thresholdToRenderTimeInASingleColumn:r.thresholdToRenderTimeInASingleColumn,ampm:o,timeSteps:r.timeSteps,views:l}),p=o?[...l,"meridiem"]:l;return me({},r,i,{timeSteps:f,openTo:a,shouldRenderTimeInASingleColumn:c,thresholdToRenderTimeInASingleColumn:u,views:d,viewsForFormatting:p,ampm:o,localeText:s,orientation:r.orientation??"portrait",slots:me({toolbar:$gn,tabs:vgn},r.slots),slotProps:me({},r.slotProps,{toolbar:me({ampm:o},r.slotProps?.toolbar)})})}function zgn(e){return tt("MuiTimeClock",e)}rt("MuiTimeClock",["root","arrowSwitcher"]);const d_=220,Fh=36,SR={x:d_/2,y:d_/2},rBe={x:SR.x,y:0},Bgn=rBe.x-SR.x,Ugn=rBe.y-SR.y,Vgn=e=>e*(180/Math.PI),iBe=(e,t,n)=>{const r=t-SR.x,i=n-SR.y,o=Math.atan2(Bgn,Ugn)-Math.atan2(r,i);let s=Vgn(o);s=Math.round(s/e)*e,s%=360;const a=Math.floor(s/e)||0,l=r**2+i**2,c=Math.sqrt(l);return{value:a,distance:c}},Hgn=(e,t,n=1)=>{const r=n*6;let{value:i}=iBe(r,e,t);return i=i*n%60,i},Wgn=(e,t,n)=>{const{value:r,distance:i}=iBe(30,e,t);let o=r||12;return n?o%=12:i<d_/2-Fh&&(o+=12,o%=24),o};function qgn(e){return tt("MuiClockPointer",e)}rt("MuiClockPointer",["root","thumb"]);const Ggn=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],Ygn=e=>Qe({root:["root"],thumb:["thumb"]},qgn,e),Xgn=we("div",{name:"MuiClockPointer",slot:"Root"})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),Kgn=we("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Fh/2}px)`,border:`${(Fh-4)/2}px solid ${(e.vars||e).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function Zgn(e){const t=qn({props:e,name:"MuiClockPointer"}),{className:n,classes:r,isBetweenTwoClockValues:i,isInner:o,type:s,viewValue:a}=t,l=Wt(t,Ggn),c=R.useRef(s);R.useEffect(()=>{c.current=s},[s]);const{ownerState:u}=ji(),d=me({},u,{isClockPointerAnimated:c.current!==s,isClockPointerBetweenTwoValues:i}),f=Ygn(r),p=()=>{let y=360/(s==="hours"?12:60)*a;return s==="hours"&&a>12&&(y-=360),{height:Math.round((o?.26:.4)*d_),transform:`rotateZ(${y}deg)`}};return h.jsx(Xgn,me({style:p(),className:je(f.root,n),ownerState:d},l,{children:h.jsx(Kgn,{ownerState:d,className:f.thumb})}))}function Qgn(e){return tt("MuiClock",e)}rt("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const Jgn=(e,t)=>{const n={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",t.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",t.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return Qe(n,Qgn,e)},emn=we("div",{name:"MuiClock",slot:"Root"})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),tmn=we("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),nmn=we("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),rmn=we("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),imn=we("div",{name:"MuiClock",slot:"Pin"})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),oBe=(e,t)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Fh,variants:[{props:{clockMeridiemMode:t},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),omn=we(Pt,{name:"MuiClock",slot:"AmButton"})(({theme:e})=>me({},oBe(e,"am"),{position:"absolute",left:8})),smn=we(Pt,{name:"MuiClock",slot:"PmButton"})(({theme:e})=>me({},oBe(e,"pm"),{position:"absolute",right:8})),y1e=we(ae,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function amn(e){const t=qn({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:i,children:o,value:s,handleMeridiemChange:a,isTimeDisabled:l,meridiemMode:c,minutesStep:u=1,onChange:d,selectedId:f,type:p,viewValue:g,viewRange:[y,v],disabled:x=!1,readOnly:w,className:S,classes:C}=t,k=$n(),T=Ks(),{ownerState:E}=ji(),A=me({},E,{isClockDisabled:x,clockMeridiemMode:c}),O=R.useRef(!1),I=Jgn(C,A),j=l(g,p),P=!n&&p==="hours"&&(g<1||g>12),$=(ee,ne)=>{x||w||l(ee,p)||d(ee,ne)},D=(ee,ne)=>{let{offsetX:oe,offsetY:ce}=ee;if(oe===void 0){const ge=ee.target.getBoundingClientRect();oe=ee.changedTouches[0].clientX-ge.left,ce=ee.changedTouches[0].clientY-ge.top}const re=p==="seconds"||p==="minutes"?Hgn(oe,ce,u):Wgn(oe,ce,!!n);$(re,ne)},F=ee=>{O.current=!0,D(ee,"shallow")},N=ee=>{O.current&&(D(ee,"finish"),O.current=!1),ee.preventDefault()},V=ee=>{ee.buttons>0&&D(ee.nativeEvent,"shallow")},H=ee=>{O.current&&(O.current=!1),D(ee.nativeEvent,"finish")},U=p==="hours"?!1:g%5!==0,G=p==="minutes"?u:1,z=R.useRef(null);ii(()=>{i&&z.current.focus()},[i]);const W=ee=>Math.max(y,Math.min(v,ee)),X=ee=>(ee+(v+1))%(v+1),Q=ee=>{if(!O.current)switch(ee.key){case"Home":$(y,"partial"),ee.preventDefault();break;case"End":$(v,"partial"),ee.preventDefault();break;case"ArrowUp":$(X(g+G),"partial"),ee.preventDefault();break;case"ArrowDown":$(X(g-G),"partial"),ee.preventDefault();break;case"PageUp":$(W(g+5),"partial"),ee.preventDefault();break;case"PageDown":$(W(g-5),"partial"),ee.preventDefault();break;case"Enter":case" ":$(g,"finish"),ee.preventDefault();break}};return h.jsxs(emn,{className:je(I.root,S),children:[h.jsxs(tmn,{className:I.clock,children:[h.jsx(rmn,{onTouchMove:F,onTouchStart:F,onTouchEnd:N,onMouseUp:H,onMouseMove:V,ownerState:A,className:I.squareMask}),!j&&h.jsxs(R.Fragment,{children:[h.jsx(imn,{className:I.pin}),s!=null&&h.jsx(Zgn,{type:p,viewValue:g,isInner:P,isBetweenTwoClockValues:U})]}),h.jsx(nmn,{"aria-activedescendant":f,"aria-label":T.clockLabelText(p,s==null?null:k.format(s,n?"fullTime12h":"fullTime24h")),ref:z,role:"listbox",onKeyDown:Q,tabIndex:0,className:I.wrapper,children:o})]}),n&&r&&h.jsxs(R.Fragment,{children:[h.jsx(omn,{onClick:w?void 0:()=>a("am"),disabled:x||c===null,ownerState:A,className:I.amButton,title:Cd(k,"am"),children:h.jsx(y1e,{variant:"caption",className:I.meridiemText,children:Cd(k,"am")})}),h.jsx(smn,{disabled:x||c===null,onClick:w?void 0:()=>a("pm"),ownerState:A,className:I.pmButton,title:Cd(k,"pm"),children:h.jsx(y1e,{variant:"caption",className:I.meridiemText,children:Cd(k,"pm")})})]})]})}function lmn(e){return tt("MuiClockNumber",e)}const YO=rt("MuiClockNumber",["root","selected","disabled"]),cmn=["className","classes","disabled","index","inner","label","selected"],umn=(e,t)=>{const n={root:["root",t.isClockNumberSelected&&"selected",t.isClockNumberDisabled&&"disabled"]};return Qe(n,lmn,e)},dmn=we("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${YO.disabled}`]:t.disabled},{[`&.${YO.selected}`]:t.selected}]})(({theme:e})=>({height:Fh,width:Fh,position:"absolute",left:`calc((100% - ${Fh}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},[`&.${YO.selected}`]:{color:(e.vars||e).palette.primary.contrastText},[`&.${YO.disabled}`]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:me({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function sBe(e){const t=qn({props:e,name:"MuiClockNumber"}),{className:n,classes:r,disabled:i,index:o,inner:s,label:a,selected:l}=t,c=Wt(t,cmn),{ownerState:u}=ji(),d=me({},u,{isClockNumberInInnerRing:s,isClockNumberSelected:l,isClockNumberDisabled:i}),f=umn(r,d),p=o%12/12*Math.PI*2-Math.PI/2,g=(d_-Fh-2)/2*(s?.65:1),y=Math.round(Math.cos(p)*g),v=Math.round(Math.sin(p)*g);return h.jsx(dmn,me({className:je(f.root,n),"aria-disabled":i?!0:void 0,"aria-selected":l?!0:void 0,role:"option",style:{transform:`translate(${y}px, ${v+(d_-Fh)/2}px`},ownerState:d},c,{children:a}))}const fmn=({ampm:e,value:t,getClockNumberText:n,isDisabled:r,selectedId:i,adapter:o})=>{const s=t?o.getHours(t):null,a=[],l=e?1:0,c=e?12:23,u=d=>s===null?!1:e?d===12?s===12||s===0:s===d||s-12===d:s===d;for(let d=l;d<=c;d+=1){let f=d.toString();d===0&&(f="00");const p=!e&&(d===0||d>12);f=o.formatNumber(f);const g=u(d);a.push(h.jsx(sBe,{id:g?i:void 0,index:d,inner:p,selected:g,disabled:r(d),label:f,"aria-label":n(f)},d))}return a},v1e=({adapter:e,value:t,isDisabled:n,getClockNumberText:r,selectedId:i})=>{const o=e.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([s,a],l)=>{const c=s===t;return h.jsx(sBe,{label:a,id:c?i:void 0,index:l+1,inner:!1,disabled:n(s),selected:c,"aria-label":r(a)},s)})},zre=({value:e,referenceDate:t,adapter:n,props:r,timezone:i})=>{const o=R.useMemo(()=>xo.getInitialReferenceValue({value:e,adapter:n,props:r,referenceDate:t,granularity:fd.day,timezone:i,getTodayDate:()=>vre(n,i,"date")}),[t,i]);return e??o},pmn=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],hmn=e=>Qe({root:["root"],arrowSwitcher:["arrowSwitcher"]},zgn,e),gmn=we(JN,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),mmn=we(K6e,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),ymn=["hours","minutes"],vmn=R.forwardRef(function(t,n){const r=$n(),i=qn({props:t,name:"MuiTimeClock"}),{ampm:o=r.is12HourCycleInCurrentLocale(),ampmInClock:s=!1,autoFocus:a,slots:l,slotProps:c,value:u,defaultValue:d,referenceDate:f,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:g,minTime:y,disableFuture:v,disablePast:x,minutesStep:w=1,shouldDisableTime:S,showViewSwitcher:C,onChange:k,view:T,views:E=ymn,openTo:A,onViewChange:O,focusedView:I,onFocusedViewChange:j,className:P,classes:$,disabled:D,readOnly:F,timezone:N}=i,V=Wt(i,pmn),{value:H,handleValueChange:U,timezone:G}=X0({name:"TimeClock",timezone:N,value:u,defaultValue:d,referenceDate:f,onChange:k,valueManager:xo}),z=zre({value:H,referenceDate:f,adapter:r,props:i,timezone:G}),W=Ks(),X=xx(G),Q=$c(),{ownerState:ee}=ji(),{view:ne,setView:oe,previousView:ce,nextView:re,setValueAndGoToNextView:ge}=MA({view:T,views:E,openTo:A,onViewChange:O,onChange:U,focusedView:I,onFocusedViewChange:j}),{meridiemMode:he,handleMeridiemChange:ie}=QN(z,o,ge),xe=R.useCallback((se,J)=>{const Z=EA(p,r),ue=J==="hours"||J==="minutes"&&E.includes("seconds"),de=({start:le,end:Se})=>!(y&&Z(y,Se)||g&&Z(le,g)||v&&Z(le,X)||x&&Z(X,ue?Se:le)),be=(le,Se=1)=>{if(le%Se!==0)return!1;if(S)switch(J){case"hours":return!S(r.setHours(z,le),"hours");case"minutes":return!S(r.setMinutes(z,le),"minutes");case"seconds":return!S(r.setSeconds(z,le),"seconds");default:return!1}return!0};switch(J){case"hours":{const le=xR(se,he,o),Se=r.setHours(z,le);if(r.getHours(Se)!==le)return!0;const ye=r.setSeconds(r.setMinutes(Se,0),0),ve=r.setSeconds(r.setMinutes(Se,59),59);return!de({start:ye,end:ve})||!be(le)}case"minutes":{const le=r.setMinutes(z,se),Se=r.setSeconds(le,0),ye=r.setSeconds(le,59);return!de({start:Se,end:ye})||!be(se,w)}case"seconds":{const le=r.setSeconds(z,se);return!de({start:le,end:le})||!be(se)}default:throw new Error("not supported")}},[o,z,p,g,he,y,w,S,r,v,x,X,E]),q=R.useMemo(()=>{switch(ne){case"hours":{const se=(ue,de)=>{const be=xR(ue,he,o);ge(r.setHours(z,be),de,"hours")},J=r.getHours(z);let Z;return o?J>12?Z=[12,23]:Z=[0,11]:Z=[0,23],{onChange:se,viewValue:J,children:fmn({value:H,adapter:r,ampm:o,getClockNumberText:W.hoursClockNumberText,isDisabled:ue=>D||xe(ue,"hours"),selectedId:Q}),viewRange:Z}}case"minutes":{const se=r.getMinutes(z);return{viewValue:se,onChange:(Z,ue)=>{ge(r.setMinutes(z,Z),ue,"minutes")},children:v1e({adapter:r,value:se,getClockNumberText:W.minutesClockNumberText,isDisabled:Z=>D||xe(Z,"minutes"),selectedId:Q}),viewRange:[0,59]}}case"seconds":{const se=r.getSeconds(z);return{viewValue:se,onChange:(Z,ue)=>{ge(r.setSeconds(z,Z),ue,"seconds")},children:v1e({adapter:r,value:se,getClockNumberText:W.secondsClockNumberText,isDisabled:Z=>D||xe(Z,"seconds"),selectedId:Q}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[ne,r,H,o,W.hoursClockNumberText,W.minutesClockNumberText,W.secondsClockNumberText,he,ge,z,xe,Q,D]),fe=hmn($);return h.jsxs(gmn,me({ref:n,className:je(fe.root,P),ownerState:ee},V,{children:[h.jsx(amn,me({autoFocus:a??!!I,ampmInClock:s&&E.includes("hours"),value:H,type:ne,ampm:o,minutesStep:w,isTimeDisabled:xe,meridiemMode:he,handleMeridiemChange:ie,selectedId:Q,disabled:D,readOnly:F},q)),C&&h.jsx(mmn,{className:fe.arrowSwitcher,slots:l,slotProps:c,onGoToPrevious:()=>oe(ce),isPreviousDisabled:!ce,previousLabel:W.openPreviousView,onGoToNext:()=>oe(re),isNextDisabled:!re,nextLabel:W.openNextView,ownerState:ee})]}))});function bmn(e){return tt("MuiDigitalClock",e)}const WG=rt("MuiDigitalClock",["root","list","item"]),xmn=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],wmn=e=>Qe({root:["root"],list:["list"],item:["item"]},bmn,e),Smn=we(JN,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:b6e,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),_mn=we(e4,{name:"MuiDigitalClock",slot:"List"})({padding:0}),Cmn=we($t,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ut(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ut(e.palette.primary.main,e.palette.action.focusOpacity)}})),kmn=R.forwardRef(function(t,n){const r=$n(),i=R.useRef(null),o=Un(n,i),s=R.useRef(null),a=qn({props:t,name:"MuiDigitalClock"}),{ampm:l=r.is12HourCycleInCurrentLocale(),timeStep:c=30,autoFocus:u,slots:d,slotProps:f,value:p,defaultValue:g,referenceDate:y,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:x,minTime:w,disableFuture:S,disablePast:C,minutesStep:k=1,shouldDisableTime:T,onChange:E,view:A,openTo:O,onViewChange:I,focusedView:j,onFocusedViewChange:P,className:$,classes:D,disabled:F,readOnly:N,views:V=["hours"],skipDisabled:H=!1,timezone:U}=a,G=Wt(a,xmn),{value:z,handleValueChange:W,timezone:X}=X0({name:"DigitalClock",timezone:U,value:p,defaultValue:g,referenceDate:y,onChange:E,valueManager:xo}),Q=Ks(),ee=xx(X),{ownerState:ne}=ji(),oe=me({},ne,{hasDigitalClockAlreadyBeenRendered:!!i.current}),ce=wmn(D),re=d?.digitalClockItem??Cmn,ge=jn({elementType:re,externalSlotProps:f?.digitalClockItem,ownerState:oe,className:ce.item}),he=zre({value:z,referenceDate:y,adapter:r,props:a,timezone:X}),ie=mt(ue=>W(ue,"finish","hours")),{setValueAndGoToNextView:xe}=MA({view:A,views:V,openTo:O,onViewChange:I,onChange:ie,focusedView:j,onFocusedViewChange:P}),q=mt(ue=>{xe(ue,"finish")});ii(()=>{if(i.current===null)return;const ue=i.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!ue)return;const de=ue.offsetTop;(u||j)&&ue.focus(),i.current.scrollTop=de-4});const fe=R.useCallback(ue=>{const de=EA(v,r),be=()=>!(w&&de(w,ue)||x&&de(ue,x)||S&&de(ue,ee)||C&&de(ee,ue)),le=()=>r.getMinutes(ue)%k!==0?!1:T?!T(ue,"hours"):!0;return!be()||!le()},[v,r,w,x,S,ee,C,k,T]),se=R.useMemo(()=>{const ue=[];let be=r.startOfDay(he);for(;r.isSameDay(he,be);)ue.push(be),be=r.addMinutes(be,c);return ue},[he,c,r]),J=se.findIndex(ue=>r.isEqual(ue,he)),Z=ue=>{switch(ue.key){case"PageUp":{const de=U3(s.current)-5,be=s.current.children,le=Math.max(0,de),Se=be[le];Se&&Se.focus(),ue.preventDefault();break}case"PageDown":{const de=U3(s.current)+5,be=s.current.children,le=Math.min(be.length-1,de),Se=be[le];Se&&Se.focus(),ue.preventDefault();break}}};return h.jsx(Smn,me({ref:o,className:je(ce.root,$),ownerState:oe},G,{children:h.jsx(_mn,{ref:s,role:"listbox","aria-label":Q.timePickerToolbarTitle,className:ce.list,onKeyDown:Z,children:se.map((ue,de)=>{const be=fe(ue);if(H&&be)return null;const le=r.isEqual(ue,z),Se=r.format(ue,l?"fullTime12h":"fullTime24h"),ve=J===de||J===-1&&de===0?0:-1;return h.jsx(re,me({onClick:()=>!N&&q(ue),selected:le,disabled:F||be,disableRipple:N,role:"option","aria-disabled":N,"aria-selected":le,tabIndex:ve,itemValue:ue,formattedValue:Se},ge,{children:Se}),`${ue.valueOf()}-${Se}`)})})}))});function Emn(e){return tt("MuiMultiSectionDigitalClock",e)}const qG=rt("MuiMultiSectionDigitalClock",["root"]);function Tmn(e){return tt("MuiMultiSectionDigitalClockSection",e)}const GG=rt("MuiMultiSectionDigitalClockSection",["root","item"]),Rmn=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Mmn=e=>Qe({root:["root"],item:["item"]},Tmn,e),Amn=we(e4,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:b6e,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Pmn=we($t,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:sE,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ut(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ut(e.palette.primary.main,e.palette.action.focusOpacity)}})),Dmn=R.forwardRef(function(t,n){const r=R.useRef(null),i=Un(n,r),o=R.useRef(null),s=qn({props:t,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:a,onChange:l,className:c,classes:u,disabled:d,readOnly:f,items:p,active:g,slots:y,slotProps:v,skipDisabled:x}=s,w=Wt(s,Rmn),{ownerState:S}=ji(),C=me({},S,{hasDigitalClockAlreadyBeenRendered:!!r.current}),k=Mmn(u),T=y?.digitalClockSectionItem??Pmn;ii(()=>{if(r.current===null)return;const O=r.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(g&&a&&O&&O.focus(),!O||o.current===O)return;o.current=O;const I=O.offsetTop,j=O.offsetHeight,P=r.current.clientHeight,$=r.current.scrollHeight,D=I-P/2+j/2,F=$-P,N=Math.min(D,F);r.current.scrollTop=Math.max(0,N)});const E=p.findIndex(O=>O.isFocused(O.value)),A=O=>{switch(O.key){case"PageUp":{const I=U3(r.current)-5,j=r.current.children,P=Math.max(0,I),$=j[P];$&&$.focus(),O.preventDefault();break}case"PageDown":{const I=U3(r.current)+5,j=r.current.children,P=Math.min(j.length-1,I),$=j[P];$&&$.focus(),O.preventDefault();break}}};return h.jsx(Amn,me({ref:i,className:je(k.root,c),ownerState:C,autoFocusItem:a&&g,role:"listbox",onKeyDown:A},w,{children:p.map((O,I)=>{const j=O.isDisabled?.(O.value),P=d||j;if(x&&P)return null;const $=O.isSelected(O.value),D=E===I||E===-1&&I===0?0:-1;return h.jsx(T,me({onClick:()=>!f&&l(O.value),selected:$,disabled:P,disableRipple:f,role:"option","aria-disabled":f||P||void 0,"aria-label":O.ariaLabel,"aria-selected":$,tabIndex:D,className:k.item},v?.digitalClockSectionItem,{children:O.label}),O.label)})}))}),Omn=({now:e,value:t,adapter:n,ampm:r,isDisabled:i,resolveAriaLabel:o,timeStep:s,valueOrReferenceDate:a})=>{const l=t?n.getHours(t):null,c=[],u=(p,g)=>{const y=g??l;return y===null?!1:r?p===12?y===12||y===0:y===p||y-12===p:y===p},d=p=>u(p,n.getHours(a)),f=r?11:23;for(let p=0;p<=f;p+=s){let g=n.format(n.setHours(e,p),r?"hours12h":"hours24h");const y=o(parseInt(g,10).toString());g=n.formatNumber(g),c.push({value:p,label:g,isSelected:u,isDisabled:i,isFocused:d,ariaLabel:y})}return c},b1e=({value:e,adapter:t,isDisabled:n,timeStep:r,resolveLabel:i,resolveAriaLabel:o,hasValue:s=!0})=>{const a=c=>e===null?!1:s&&e===c,l=c=>e===c;return[...Array.from({length:Math.ceil(60/r)},(c,u)=>{const d=r*u;return{value:d,label:t.formatNumber(i(d)),isDisabled:n,isSelected:a,isFocused:l,ariaLabel:o(d.toString())}})]},Imn=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],jmn=e=>Qe({root:["root"]},Emn,e),$mn=we(JN,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),Fmn=R.forwardRef(function(t,n){const r=$n(),i=ss(),o=qn({props:t,name:"MuiMultiSectionDigitalClock"}),{ampm:s=r.is12HourCycleInCurrentLocale(),timeSteps:a,autoFocus:l,slots:c,slotProps:u,value:d,defaultValue:f,referenceDate:p,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:y,minTime:v,disableFuture:x,disablePast:w,minutesStep:S=1,shouldDisableTime:C,onChange:k,view:T,views:E=["hours","minutes"],openTo:A,onViewChange:O,focusedView:I,onFocusedViewChange:j,className:P,classes:$,disabled:D,readOnly:F,skipDisabled:N=!1,timezone:V}=o,H=Wt(o,Imn),{value:U,handleValueChange:G,timezone:z}=X0({name:"MultiSectionDigitalClock",timezone:V,value:d,defaultValue:f,referenceDate:p,onChange:k,valueManager:xo}),W=Ks(),X=xx(z),Q=R.useMemo(()=>me({hours:1,minutes:5,seconds:5},a),[a]),ee=zre({value:U,referenceDate:p,adapter:r,props:o,timezone:z}),ne=mt((de,be,le)=>G(de,be,le)),oe=R.useMemo(()=>!s||!E.includes("hours")||E.includes("meridiem")?E:[...E,"meridiem"],[s,E]),{view:ce,setValueAndGoToNextView:re,focusedView:ge}=MA({view:T,views:oe,openTo:A,onViewChange:O,onChange:ne,focusedView:I,onFocusedViewChange:j}),he=mt(de=>{re(de,"finish","meridiem")}),{meridiemMode:ie,handleMeridiemChange:xe}=QN(ee,s,he,"finish"),q=R.useCallback((de,be)=>{const le=EA(g,r),Se=be==="hours"||be==="minutes"&&oe.includes("seconds"),ye=({start:_e,end:Ae})=>!(v&&le(v,Ae)||y&&le(_e,y)||x&&le(_e,X)||w&&le(X,Se?Ae:_e)),ve=(_e,Ae=1)=>{if(_e%Ae!==0)return!1;if(C)switch(be){case"hours":return!C(r.setHours(ee,_e),"hours");case"minutes":return!C(r.setMinutes(ee,_e),"minutes");case"seconds":return!C(r.setSeconds(ee,_e),"seconds");default:return!1}return!0};switch(be){case"hours":{const _e=xR(de,ie,s),Ae=r.setHours(ee,_e);if(r.getHours(Ae)!==_e)return!0;const Te=r.setSeconds(r.setMinutes(Ae,0),0),Pe=r.setSeconds(r.setMinutes(Ae,59),59);return!ye({start:Te,end:Pe})||!ve(_e)}case"minutes":{const _e=r.setMinutes(ee,de),Ae=r.setSeconds(_e,0),Te=r.setSeconds(_e,59);return!ye({start:Ae,end:Te})||!ve(de,S)}case"seconds":{const _e=r.setSeconds(ee,de);return!ye({start:_e,end:_e})||!ve(de)}default:throw new Error("not supported")}},[s,ee,g,y,ie,v,S,C,r,x,w,X,oe]),fe=R.useCallback(de=>{switch(de){case"hours":return{onChange:be=>{const le=xR(be,ie,s);re(r.setHours(ee,le),"finish","hours")},items:Omn({now:X,value:U,ampm:s,adapter:r,isDisabled:be=>q(be,"hours"),timeStep:Q.hours,resolveAriaLabel:W.hoursClockNumberText,valueOrReferenceDate:ee})};case"minutes":return{onChange:be=>{re(r.setMinutes(ee,be),"finish","minutes")},items:b1e({value:r.getMinutes(ee),adapter:r,isDisabled:be=>q(be,"minutes"),resolveLabel:be=>r.format(r.setMinutes(X,be),"minutes"),timeStep:Q.minutes,hasValue:!!U,resolveAriaLabel:W.minutesClockNumberText})};case"seconds":return{onChange:be=>{re(r.setSeconds(ee,be),"finish","seconds")},items:b1e({value:r.getSeconds(ee),adapter:r,isDisabled:be=>q(be,"seconds"),resolveLabel:be=>r.format(r.setSeconds(X,be),"seconds"),timeStep:Q.seconds,hasValue:!!U,resolveAriaLabel:W.secondsClockNumberText})};case"meridiem":{const be=Cd(r,"am"),le=Cd(r,"pm");return{onChange:xe,items:[{value:"am",label:be,isSelected:()=>!!U&&ie==="am",isFocused:()=>!!ee&&ie==="am",ariaLabel:be},{value:"pm",label:le,isSelected:()=>!!U&&ie==="pm",isFocused:()=>!!ee&&ie==="pm",ariaLabel:le}]}}default:throw new Error(`Unknown view: ${de} found.`)}},[X,U,s,r,Q.hours,Q.minutes,Q.seconds,W.hoursClockNumberText,W.minutesClockNumberText,W.secondsClockNumberText,ie,re,ee,q,xe]),se=R.useMemo(()=>{if(!i)return oe;const de=oe.filter(be=>be!=="meridiem");return de.reverse(),oe.includes("meridiem")&&de.push("meridiem"),de},[i,oe]),J=R.useMemo(()=>oe.reduce((de,be)=>me({},de,{[be]:fe(be)}),{}),[oe,fe]),{ownerState:Z}=ji(),ue=jmn($);return h.jsx($mn,me({ref:n,className:je(ue.root,P),ownerState:Z,role:"group"},H,{children:se.map(de=>h.jsx(Dmn,{items:J[de].items,onChange:J[de].onChange,active:ce===de,autoFocus:l||ge===de,disabled:D,readOnly:F,slots:c,slotProps:u,skipDisabled:N,"aria-label":W.selectViewText(de)},de))}))}),kU=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:y,minutesStep:v,ampm:x,ampmInClock:w,slots:S,slotProps:C,readOnly:k,disabled:T,sx:E,autoFocus:A,showViewSwitcher:O,disableIgnoringDatePartForTimeValidation:I,timezone:j})=>h.jsx(vmn,{view:e,onViewChange:t,focusedView:n&&Ob(n)?n:null,onFocusedViewChange:r,views:i.filter(Ob),value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:y,minutesStep:v,ampm:x,ampmInClock:w,slots:S,slotProps:C,readOnly:k,disabled:T,sx:E,autoFocus:A,showViewSwitcher:O,disableIgnoringDatePartForTimeValidation:I,timezone:j}),Bre=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:y,minutesStep:v,ampm:x,slots:w,slotProps:S,readOnly:C,disabled:k,sx:T,autoFocus:E,disableIgnoringDatePartForTimeValidation:A,timeSteps:O,skipDisabled:I,timezone:j})=>h.jsx(kmn,{view:e,onViewChange:t,focusedView:n&&Ob(n)?n:null,onFocusedViewChange:r,views:i.filter(Ob),value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:y,minutesStep:v,ampm:x,slots:w,slotProps:S,readOnly:C,disabled:k,sx:T,autoFocus:E,disableIgnoringDatePartForTimeValidation:A,timeStep:O?.minutes,skipDisabled:I,timezone:j}),f_=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:y,minutesStep:v,ampm:x,slots:w,slotProps:S,readOnly:C,disabled:k,sx:T,autoFocus:E,disableIgnoringDatePartForTimeValidation:A,timeSteps:O,skipDisabled:I,timezone:j})=>h.jsx(Fmn,{view:e,onViewChange:t,focusedView:n&&pw(n)?n:null,onFocusedViewChange:r,views:i.filter(Ob),value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:y,minutesStep:v,ampm:x,slots:w,slotProps:S,readOnly:C,disabled:k,sx:T,autoFocus:E,disableIgnoringDatePartForTimeValidation:A,timeSteps:O,skipDisabled:I,timezone:j}),Lmn=R.forwardRef(function(t,n){const{toolbar:r,tabs:i,content:o,actionBar:s,shortcuts:a,ownerState:l}=x6e(t),{orientation:c}=Cp(),{sx:u,className:d,classes:f}=t,p=s&&(s.props.actions?.length??0)>0;return h.jsxs(w6e,{ref:n,className:je(ud.root,f?.root,d),sx:[{[`& .${ud.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${ud.actionBar}`]:{gridRow:5}},...Array.isArray(u)?u:[u]],ownerState:l,children:[c==="landscape"?a:r,c==="landscape"?r:a,h.jsxs(S6e,{className:je(ud.contentWrapper,f?.contentWrapper),ownerState:l,sx:{display:"grid"},children:[o,i,p&&h.jsx(vi,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),s]})}),Nmn=["openTo","focusedView","timeViewsCount"],zmn=function(t){const{viewRenderers:n,popperView:r,rendererProps:i}=t,{openTo:o,focusedView:s,timeViewsCount:a}=i,l=Wt(i,Nmn),c=me({},l,{autoFocus:!1,focusedView:null,sx:[{[`&.${qG.root}`]:{borderBottom:0},[`&.${qG.root}, .${GG.root}, &.${WG.root}`]:{maxHeight:u_}}]}),u=pw(r),d=u?"day":r,f=u?r:"hours";return h.jsxs(R.Fragment,{children:[n[d]?.(me({},i,{view:u?"day":r,focusedView:s&&l_(s)?s:null,views:i.views.filter(l_),sx:[{gridColumn:1},...c.sx]})),a>0&&h.jsxs(R.Fragment,{children:[h.jsx(vi,{orientation:"vertical",sx:{gridColumn:2}}),n[f]?.(me({},c,{view:u?r:"hours",focusedView:s&&pw(s)?s:null,openTo:pw(o)?o:"hours",views:i.views.filter(pw),sx:[{gridColumn:3},...c.sx]}))]})]})},aBe=R.forwardRef(function(t,n){const r=$n(),i=nBe(t,"MuiDesktopDateTimePicker"),o=i.shouldRenderTimeInASingleColumn?Bre:f_,s=me({day:Tu,month:Tu,year:Tu,hours:o,minutes:o,seconds:o,meridiem:o},i.viewRenderers),a=i.ampmInClock??!0,c=s.hours?.name===f_.name?i.views:i.views.filter(f=>f!=="meridiem"),u=me({},i,{viewRenderers:s,format:eBe(r,me({},i,{views:i.viewsForFormatting})),views:c,yearsPerRow:i.yearsPerRow??4,ampmInClock:a,slots:me({field:J6e,layout:Lmn},i.slots),slotProps:me({},i.slotProps,{field:f=>me({},pa(i.slotProps?.field,f),bC(i)),toolbar:me({hidden:!0,ampmInClock:a},i.slotProps?.toolbar),tabs:me({hidden:!0},i.slotProps?.tabs)})}),{renderPicker:d}=Rre({ref:n,props:u,valueManager:xo,valueType:"date-time",validator:YN,rendererInterceptor:zmn,steps:null});return d()});aBe.propTypes={ampm:te.bool,ampmInClock:te.bool,autoFocus:te.bool,className:te.string,closeOnSelect:te.bool,dayOfWeekFormatter:te.func,defaultValue:te.object,disabled:te.bool,disableFuture:te.bool,disableHighlightToday:te.bool,disableIgnoringDatePartForTimeValidation:te.bool,disableOpenPicker:te.bool,disablePast:te.bool,displayWeekNumber:te.bool,enableAccessibleFieldDOMStructure:te.any,fixedWeekNumber:te.number,format:te.string,formatDensity:te.oneOf(["dense","spacious"]),inputRef:E_,label:te.node,loading:te.bool,localeText:te.object,maxDate:te.object,maxDateTime:te.object,maxTime:te.object,minDate:te.object,minDateTime:te.object,minTime:te.object,minutesStep:te.number,monthsPerRow:te.oneOf([3,4]),name:te.string,onAccept:te.func,onChange:te.func,onClose:te.func,onError:te.func,onMonthChange:te.func,onOpen:te.func,onSelectedSectionsChange:te.func,onViewChange:te.func,onYearChange:te.func,open:te.bool,openTo:te.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:te.oneOf(["landscape","portrait"]),readOnly:te.bool,reduceAnimations:te.bool,referenceDate:te.object,renderLoading:te.func,selectedSections:te.oneOfType([te.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),te.number]),shouldDisableDate:te.func,shouldDisableMonth:te.func,shouldDisableTime:te.func,shouldDisableYear:te.func,showDaysOutsideCurrentMonth:te.bool,skipDisabled:te.bool,slotProps:te.object,slots:te.object,sx:te.oneOfType([te.arrayOf(te.oneOfType([te.func,te.object,te.bool])),te.func,te.object]),thresholdToRenderTimeInASingleColumn:te.number,timeSteps:te.shape({hours:te.number,minutes:te.number,seconds:te.number}),timezone:te.string,value:te.object,view:te.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:te.shape({day:te.func,hours:te.func,meridiem:te.func,minutes:te.func,month:te.func,seconds:te.func,year:te.func}),views:te.arrayOf(te.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:te.oneOf(["asc","desc"]),yearsPerRow:te.oneOf([3,4])};const Bmn=[{views:Xze},{views:Kze}],lBe=R.forwardRef(function(t,n){const r=$n(),i=nBe(t,"MuiMobileDateTimePicker"),o=i.shouldRenderTimeInASingleColumn?Bre:f_,s=me({day:Tu,month:Tu,year:Tu,hours:o,minutes:o,seconds:o,meridiem:o},i.viewRenderers),a=i.ampmInClock??!1,c=s.hours?.name===f_.name?i.views:i.views.filter(f=>f!=="meridiem"),u=me({},i,{viewRenderers:s,format:eBe(r,me({},i,{views:i.viewsForFormatting})),views:c,ampmInClock:a,slots:me({field:J6e},i.slots),slotProps:me({},i.slotProps,{field:f=>me({},pa(i.slotProps?.field,f),bC(i)),toolbar:me({hidden:!1,ampmInClock:a},i.slotProps?.toolbar),tabs:me({hidden:!1},i.slotProps?.tabs),layout:me({},i.slotProps?.layout,{sx:Fdn([{[`& .${qG.root}`]:{width:c_},[`& .${GG.root}`]:{flex:1,maxHeight:u_-1,[`.${GG.item}`]:{width:"auto"}},[`& .${WG.root}`]:{width:c_,maxHeight:u_,flex:1,[`.${WG.item}`]:{justifyContent:"center"}}}],i.slotProps?.layout?.sx)})})}),{renderPicker:d}=Lre({ref:n,props:u,valueManager:xo,valueType:"date-time",validator:YN,steps:Bmn});return d()});lBe.propTypes={ampm:te.bool,ampmInClock:te.bool,autoFocus:te.bool,className:te.string,closeOnSelect:te.bool,dayOfWeekFormatter:te.func,defaultValue:te.object,disabled:te.bool,disableFuture:te.bool,disableHighlightToday:te.bool,disableIgnoringDatePartForTimeValidation:te.bool,disableOpenPicker:te.bool,disablePast:te.bool,displayWeekNumber:te.bool,enableAccessibleFieldDOMStructure:te.any,fixedWeekNumber:te.number,format:te.string,formatDensity:te.oneOf(["dense","spacious"]),inputRef:E_,label:te.node,loading:te.bool,localeText:te.object,maxDate:te.object,maxDateTime:te.object,maxTime:te.object,minDate:te.object,minDateTime:te.object,minTime:te.object,minutesStep:te.number,monthsPerRow:te.oneOf([3,4]),name:te.string,onAccept:te.func,onChange:te.func,onClose:te.func,onError:te.func,onMonthChange:te.func,onOpen:te.func,onSelectedSectionsChange:te.func,onViewChange:te.func,onYearChange:te.func,open:te.bool,openTo:te.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:te.oneOf(["landscape","portrait"]),readOnly:te.bool,reduceAnimations:te.bool,referenceDate:te.object,renderLoading:te.func,selectedSections:te.oneOfType([te.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),te.number]),shouldDisableDate:te.func,shouldDisableMonth:te.func,shouldDisableTime:te.func,shouldDisableYear:te.func,showDaysOutsideCurrentMonth:te.bool,skipDisabled:te.bool,slotProps:te.object,slots:te.object,sx:te.oneOfType([te.arrayOf(te.oneOfType([te.func,te.object,te.bool])),te.func,te.object]),thresholdToRenderTimeInASingleColumn:te.number,timeSteps:te.shape({hours:te.number,minutes:te.number,seconds:te.number}),timezone:te.string,value:te.object,view:te.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:te.shape({day:te.func,hours:te.func,meridiem:te.func,minutes:te.func,month:te.func,seconds:te.func,year:te.func}),views:te.arrayOf(te.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:te.oneOf(["asc","desc"]),yearsPerRow:te.oneOf([3,4])};const Umn=["desktopModeMediaQuery"],Vmn=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:i=Tre}=r,o=Wt(r,Umn);return r0(i,{defaultMatches:!0})?h.jsx(aBe,me({ref:n},o)):h.jsx(lBe,me({ref:n},o))}),Hmn=e=>{const t=kfn(e);return Are({manager:t,props:e})},Wmn=["slots","slotProps","InputProps","inputProps"],cBe=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiTimeField"}),{slots:i,slotProps:o}=r,s=Wt(r,Wmn),a=$re({slotProps:o,ref:n,externalForwardedProps:s}),l=Hmn(a);return h.jsx(Fre,{slots:i,slotProps:o,inputRef:s.inputRef,children:h.jsx(jre,{fieldResponse:l,defaultOpenPickerIcon:jfn})})});function qmn(e){return tt("MuiTimePickerToolbar",e)}const YE=rt("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Gmn=["ampm","ampmInClock","className","classes"],Ymn=(e,t)=>{const{pickerOrientation:n,toolbarDirection:r}=t;return Qe({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n==="landscape"&&"hourMinuteLabelLandscape",r==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},qmn,e)},Xmn=we(Cre,{name:"MuiTimePickerToolbar",slot:"Root"})({}),Kmn=we(Nre,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Zmn=we("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,t)=>[{[`&.${YE.hourMinuteLabelLandscape}`]:t.hourMinuteLabelLandscape,[`&.${YE.hourMinuteLabelReverse}`]:t.hourMinuteLabelReverse},t.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),Qmn=we("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${YE.ampmLabel}`]:t.ampmLabel},{[`&.${YE.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${YE.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Jmn(e){const t=qn({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:r,className:i,classes:o}=t,s=Wt(t,Gmn),a=$n(),l=Ks(),c=GN(),u=Ymn(o,c),{value:d,setValue:f,disabled:p,readOnly:g,view:y,setView:v,views:x}=Cp(),w=!!(n&&!r&&x.includes("hours")),{meridiemMode:S,handleMeridiemChange:C}=QN(d,n,E=>f(E,{changeImportance:"set",source:"view"})),k=E=>a.isValid(d)?a.format(d,E):"--",T=h.jsx(Kmn,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:u.separator});return h.jsxs(Xmn,me({landscapeDirection:"row",toolbarTitle:l.timePickerToolbarTitle,ownerState:c,className:je(u.root,i)},s,{children:[h.jsxs(Zmn,{className:u.hourMinuteLabel,ownerState:c,children:[H1(x,"hours")&&h.jsx(rc,{tabIndex:-1,variant:"h3",onClick:()=>v("hours"),selected:y==="hours",value:k(n?"hours12h":"hours24h")}),H1(x,["hours","minutes"])&&T,H1(x,"minutes")&&h.jsx(rc,{tabIndex:-1,variant:"h3",onClick:()=>v("minutes"),selected:y==="minutes",value:k("minutes")}),H1(x,["minutes","seconds"])&&T,H1(x,"seconds")&&h.jsx(rc,{variant:"h3",onClick:()=>v("seconds"),selected:y==="seconds",value:k("seconds")})]}),w&&h.jsxs(Qmn,{className:u.ampmSelection,ownerState:c,children:[h.jsx(rc,{disableRipple:!0,variant:"subtitle2",selected:S==="am",typographyClassName:u.ampmLabel,value:Cd(a,"am"),onClick:g?void 0:()=>C("am"),disabled:p}),h.jsx(rc,{disableRipple:!0,variant:"subtitle2",selected:S==="pm",typographyClassName:u.ampmLabel,value:Cd(a,"pm"),onClick:g?void 0:()=>C("pm"),disabled:p})]})]}))}function uBe(e,t){const n=$n(),r=qn({props:e,name:t}),i=M6e(r),o=r.ampm??n.is12HourCycleInCurrentLocale(),s=R.useMemo(()=>r.localeText?.toolbarTitle==null?r.localeText:me({},r.localeText,{timePickerToolbarTitle:r.localeText.toolbarTitle}),[r.localeText]);return me({},r,i,{ampm:o,localeText:s},mre({views:r.views,openTo:r.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:me({toolbar:Jmn},r.slots),slotProps:me({},r.slotProps,{toolbar:me({ampm:o,ampmInClock:r.ampmInClock},r.slotProps?.toolbar)})})}const dBe=R.forwardRef(function(t,n){const r=$n(),i=uBe(t,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:o,views:s,timeSteps:a}=tBe(i),l=o?Bre:f_,c=me({hours:l,minutes:l,seconds:l,meridiem:l},i.viewRenderers),u=i.ampmInClock??!0,f=c.hours?.name===f_.name?s:s.filter(y=>y!=="meridiem"),p=me({},i,{ampmInClock:u,timeSteps:a,viewRenderers:c,format:B3(r,i),views:o?["hours"]:f,slots:me({field:cBe},i.slots),slotProps:me({},i.slotProps,{field:y=>me({},pa(i.slotProps?.field,y),bC(i)),toolbar:me({hidden:!0,ampmInClock:u},i.slotProps?.toolbar)})}),{renderPicker:g}=Rre({ref:n,props:p,valueManager:xo,valueType:"time",validator:TA,steps:null});return g()});dBe.propTypes={ampm:te.bool,ampmInClock:te.bool,autoFocus:te.bool,className:te.string,closeOnSelect:te.bool,defaultValue:te.object,disabled:te.bool,disableFuture:te.bool,disableIgnoringDatePartForTimeValidation:te.bool,disableOpenPicker:te.bool,disablePast:te.bool,enableAccessibleFieldDOMStructure:te.any,format:te.string,formatDensity:te.oneOf(["dense","spacious"]),inputRef:E_,label:te.node,localeText:te.object,maxTime:te.object,minTime:te.object,minutesStep:te.number,name:te.string,onAccept:te.func,onChange:te.func,onClose:te.func,onError:te.func,onOpen:te.func,onSelectedSectionsChange:te.func,onViewChange:te.func,open:te.bool,openTo:te.oneOf(["hours","meridiem","minutes","seconds"]),orientation:te.oneOf(["landscape","portrait"]),readOnly:te.bool,reduceAnimations:te.bool,referenceDate:te.object,selectedSections:te.oneOfType([te.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),te.number]),shouldDisableTime:te.func,skipDisabled:te.bool,slotProps:te.object,slots:te.object,sx:te.oneOfType([te.arrayOf(te.oneOfType([te.func,te.object,te.bool])),te.func,te.object]),thresholdToRenderTimeInASingleColumn:te.number,timeSteps:te.shape({hours:te.number,minutes:te.number,seconds:te.number}),timezone:te.string,value:te.object,view:te.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:te.shape({hours:te.func,meridiem:te.func,minutes:te.func,seconds:te.func}),views:te.arrayOf(te.oneOf(["hours","minutes","seconds"]).isRequired)};const fBe=R.forwardRef(function(t,n){const r=$n(),i=uBe(t,"MuiMobileTimePicker"),o=me({hours:kU,minutes:kU,seconds:kU},i.viewRenderers),s=i.ampmInClock??!1,a=me({},i,{ampmInClock:s,viewRenderers:o,format:B3(r,i),slots:me({field:cBe},i.slots),slotProps:me({},i.slotProps,{field:c=>me({},pa(i.slotProps?.field,c),bC(i)),toolbar:me({hidden:!1,ampmInClock:s},i.slotProps?.toolbar)})}),{renderPicker:l}=Lre({ref:n,props:a,valueManager:xo,valueType:"time",validator:TA,steps:null});return l()});fBe.propTypes={ampm:te.bool,ampmInClock:te.bool,autoFocus:te.bool,className:te.string,closeOnSelect:te.bool,defaultValue:te.object,disabled:te.bool,disableFuture:te.bool,disableIgnoringDatePartForTimeValidation:te.bool,disableOpenPicker:te.bool,disablePast:te.bool,enableAccessibleFieldDOMStructure:te.any,format:te.string,formatDensity:te.oneOf(["dense","spacious"]),inputRef:E_,label:te.node,localeText:te.object,maxTime:te.object,minTime:te.object,minutesStep:te.number,name:te.string,onAccept:te.func,onChange:te.func,onClose:te.func,onError:te.func,onOpen:te.func,onSelectedSectionsChange:te.func,onViewChange:te.func,open:te.bool,openTo:te.oneOf(["hours","minutes","seconds"]),orientation:te.oneOf(["landscape","portrait"]),readOnly:te.bool,reduceAnimations:te.bool,referenceDate:te.object,selectedSections:te.oneOfType([te.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),te.number]),shouldDisableTime:te.func,slotProps:te.object,slots:te.object,sx:te.oneOfType([te.arrayOf(te.oneOfType([te.func,te.object,te.bool])),te.func,te.object]),timezone:te.string,value:te.object,view:te.oneOf(["hours","minutes","seconds"]),viewRenderers:te.shape({hours:te.func,minutes:te.func,seconds:te.func}),views:te.arrayOf(te.oneOf(["hours","minutes","seconds"]).isRequired)};const e0n=["desktopModeMediaQuery"],t0n=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=Tre}=r,o=Wt(r,e0n);return r0(i,{defaultMatches:!0})?h.jsx(dBe,me({ref:n},o)):h.jsx(fBe,me({ref:n},o))}),Uw=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},V3=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},pBe=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:o={},state:{columnFilterFns:s={}}={}}=t;return e.map(a=>{var l,c;if(a.id||(a.id=Uw(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=pBe({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const u=a.aggregationFn;a.aggregationFn=(d,f,p)=>u.map(g=>{var y;return(y=n[g])===null||y===void 0?void 0:y.call(n,d,f,p)})}Object.keys(i).includes(s[a.id])&&(a.filterFn=(c=i[s[a.id]])!==null&&c!==void 0?c:i.fuzzy,a._filterFn=s[a.id]),Object.keys(o).includes(a.sortingFn)&&(a.sortingFn=o[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},hBe=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},n0n=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t?.includes("range")?"betweenInclusive":t==="select"||t==="checkbox"?"equals":"fuzzy"},ez=({header:e,table:t})=>{var n;const{options:{columnFilterModeOptions:r}}=t,{column:i}=e,{columnDef:o}=i,{filterVariant:s}=o,a=!!(s?.startsWith("date")||s?.startsWith("time")),l=s==="autocomplete",c=s?.includes("range")||["between","betweenInclusive","inNumberRange"].includes(o._filterFn),u=s==="select",d=s==="multi-select",f=["autocomplete","text"].includes(s)||!u&&!d,p=o._filterFn,g=(n=o?.columnFilterModeOptions)!==null&&n!==void 0?n:r,y=i.getFacetedUniqueValues();return{allowedColumnFilterOptions:g,currentFilterOption:p,facetedUniqueValues:y,isAutocompleteFilter:l,isDateFilter:a,isMultiSelectFilter:d,isRangeFilter:c,isSelectFilter:u,isTextboxFilter:f}},gBe=({header:e,table:t})=>{const{column:n}=e,{columnDef:r}=n,{facetedUniqueValues:i,isAutocompleteFilter:o,isMultiSelectFilter:s,isSelectFilter:a}=ez({header:e,table:t});return R.useMemo(()=>{var l;return(l=r.filterSelectOptions)!==null&&l!==void 0?l:(a||s||o)&&i?Array.from(i.keys()).filter(c=>c!=null).sort((c,u)=>c.localeCompare(u)):void 0},[r.filterSelectOptions,i,s,a])},r0n=(e,t,n=-1,r=0,i,o)=>kA(e,"mrt-row-create",Object.assign({},...V3(e.options.columns).map(s=>({[Uw(s)]:""}))),n,r,i,o),i0n=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=xun(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?iv.alphanumeric(e,t,n):r},o0n=Object.assign(Object.assign({},iv),{fuzzy:i0n}),s0n=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),nt=(e,t)=>e instanceof Function?e(t):e,ch=e=>{var t,n;let r="",i="";return e&&(typeof e!="object"?(r=e,i=e):(r=(t=e.label)!==null&&t!==void 0?t:e.value,i=(n=e.value)!==null&&n!==void 0?n:r)),{label:r,value:i}},mBe=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:o,getTopRows:s,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:c,manualPagination:u,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:p,pagination:g}=o(),y=a0n(e);let v=[];if(!y)v=!c||f?.includes("sticky")?t?r().rows:i().rows:n();else{if(v=r().rows.sort((x,w)=>s0n(x,w)),l&&!u&&!t){const x=g.pageIndex*g.pageSize;v=v.slice(x,x+g.pageSize)}c&&!f?.includes("sticky")&&(v=v.filter(x=>!x.getIsPinned()))}if(c&&f?.includes("sticky")){const x=v.filter(w=>w.getIsPinned()).map(w=>w.id);v=[...s().filter(w=>!x.includes(w.id)),...v]}if(d!==void 0&&p&&a==="row"){const x=isNaN(+d)?d==="top"?0:v.length:+d;v=[...v.slice(0,x),p,...v.slice(x)]}return v},yBe=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:o,manualSorting:s}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!o&&!s&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},a0n=e=>{const{globalFilter:t,sorting:n}=e.getState();return yBe(e)&&t&&!Object.values(n).some(Boolean)},H3=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||nt(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},vBe=({row:e,staticRowIndex:t=0,table:n})=>(r,i)=>{var o;const{getState:s,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:c,manualPagination:u,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:p,pageSize:g}}=s(),y=u?0:g*p,v=H3({row:e,table:n});e.toggleSelected(i??!v);const x=new Set([e.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const w=mBe(n,!0),S=w.findIndex(C=>C.id===f.current);if(S!==-1){const C=H3({row:w?.[S],table:n}),k=t+y,[T,E]=S<k?[S,k]:[k,S];if(v!==C)for(let A=T;A<=E;A++)w[A].toggleSelected(!v),x.add(w[A].id)}}f.current=e.id,e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()&&((o=e.subRows)===null||o===void 0||o.forEach(w=>w.toggleSelected(!1))),c&&d?.includes("select")&&x.forEach(w=>{n.getRow(w).pin(v?!1:d?.includes("bottom")?"bottom":"top")})},Ure=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:o,selectAllMode:s},refs:{lastSelectedRowId:a}}=e;s==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&o?.includes("select")&&e.setRowPinning({bottom:[],top:[]}),a.current=null},XO=e=>e.ctrlKey&&navigator.platform.toLowerCase().includes("win")||e.metaKey&&navigator.platform.toLowerCase().includes("mac"),bBe=({cell:e,table:t})=>{const{enableEditing:n}=t.options,{column:{columnDef:r},row:i}=e;return!e.getIsPlaceholder()&&nt(n,i)&&nt(r.enableEditing,i)!==!1},xBe=({cell:e,table:t})=>{const{options:{editDisplayMode:n},refs:{editInputRefs:r}}=t,{column:i}=e;bBe({cell:e,table:t})&&n==="cell"&&(t.setEditingCell(e),queueMicrotask(()=>{var o,s;const a=(o=r.current)===null||o===void 0?void 0:o[i.id];a&&(a.focus(),(s=a.select)===null||s===void 0||s.call(a))}))},Vre=({cell:e,cellElements:t,cellValue:n,containerElement:r,event:i,header:o,parentElement:s,table:a})=>{var l,c,u,d,f,p,g,y;if(!a.options.enableKeyboardShortcuts||i.isPropagationStopped())return;const v=i.currentTarget;if(n&&XO(i)&&i.key==="c")navigator.clipboard.writeText(n);else if(["Enter"," "].includes(i.key))if(((l=e?.column)===null||l===void 0?void 0:l.id)==="mrt-row-select")i.preventDefault(),vBe({row:e.row,table:a,staticRowIndex:+i.target.getAttribute("data-index")})(i);else if(((c=o?.column)===null||c===void 0?void 0:c.id)==="mrt-row-select"&&a.options.enableSelectAll)i.preventDefault(),Ure({table:a})(i);else if(((u=e?.column)===null||u===void 0?void 0:u.id)==="mrt-row-expand"&&(e.row.getCanExpand()||!((f=(d=a.options).renderDetailPanel)===null||f===void 0)&&f.call(d,{row:e.row,table:a})))i.preventDefault(),e.row.toggleExpanded();else if(((p=o?.column)===null||p===void 0?void 0:p.id)==="mrt-row-expand"&&a.options.enableExpandAll)i.preventDefault(),a.toggleAllRowsExpanded();else if(e?.column.id==="mrt-row-pin")i.preventDefault(),e.row.getIsPinned()?e.row.pin(!1):e.row.pin(!((g=a.options.rowPinningDisplayMode)===null||g===void 0)&&g.includes("bottom")?"bottom":"top");else if(o&&XO(i)){const x=v.querySelector(`button[aria-label="${a.options.localization.columnActions}"]`);x&&x.click()}else!((y=o?.column)===null||y===void 0)&&y.getCanSort()&&(i.preventDefault(),o.column.toggleSorting());else if(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(i.key)){i.preventDefault();const x=s||v.closest("tr"),w=r||v.closest("table"),S=t||Array.from(w?.querySelectorAll("th, td")||[]),C=S.indexOf(v),k=parseInt(v.getAttribute("data-index")||"0");let T;const E=(I,j)=>{var P;const $=I==="c"?x:I==="f"?w?.querySelector("tr"):(P=w?.lastElementChild)===null||P===void 0?void 0:P.lastElementChild,D=Array.from($?.children||[]);return j==="f"?D[0]:D[D.length-1]},A=(I,j)=>{var P;const $=j==="t"?w?.querySelector("tr"):(P=w?.lastElementChild)===null||P===void 0?void 0:P.lastElementChild;return Array.from($?.children||[])[I]},O=(I,j)=>(j==="f"?S.slice(C+1):S.slice(0,C).reverse()).find($=>$.matches(`[data-index="${I}"]`));switch(i.key){case"ArrowRight":T=O(k+1,"f");break;case"ArrowLeft":T=O(k-1,"b");break;case"ArrowUp":T=O(k,"b");break;case"ArrowDown":T=O(k,"f");break;case"Home":T=E(XO(i)?"f":"c","f");break;case"End":T=E(XO(i)?"l":"c","l");break;case"PageUp":T=A(k,"t");break;case"PageDown":T=A(k,"b");break}T&&T.focus()}};function wx({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:o,localization:s}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?s[e]:"",size:n}),o?.[t]),{id:t})}const wBe=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!n?.startsWith("select"))},SBe=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},Hre=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&i?.length||r)},Wre=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:o}}=e;return!!(i||o&&t==="row"||r&&["modal","row"].includes(n??""))},_Be=e=>!!e.enableRowSelection,CBe=e=>!!e.enableRowNumbers,kBe=e=>e.layoutMode==="grid-no-grow",l0n=e=>[wBe(e)&&"mrt-row-pin",SBe(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&Wre(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&Hre(e)&&"mrt-row-expand",_Be(e)&&"mrt-row-select",CBe(e)&&"mrt-row-numbers"].filter(Boolean),c0n=e=>[e.positionActionsColumn==="last"&&Wre(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&Hre(e)&&"mrt-row-expand",kBe(e)&&"mrt-row-spacer"].filter(Boolean),qre=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=l0n(e),i=c0n(e),o=V3(e.columns).map(a=>Uw(a));let s=t?o:Array.from(new Set([...n,...o]));return s=s.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...s,...i]},u0n=Object.assign({},Aj),EBe=(e,t,n,r)=>{const i=yun(e.getValue(t),n,{threshold:Fa.MATCHES});return r(i),i.passed};EBe.autoRemove=e=>!e;const TBe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim()))};TBe.autoRemove=e=>!e;const RBe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim()))};RBe.autoRemove=e=>!e;const MBe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim()))};MBe.autoRemove=e=>!e;const tz=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===n.toString().toLowerCase().trim()};tz.autoRemove=e=>!e;const ABe=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};ABe.autoRemove=e=>!e;const nz=(e,t,n)=>{var r,i,o;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+((r=e.getValue(t))!==null&&r!==void 0?r:0)>+n:((o=(i=e.getValue(t))!==null&&i!==void 0?i:"")===null||o===void 0?void 0:o.toString().toLowerCase().trim())>n.toString().toLowerCase().trim()};nz.autoRemove=e=>!e;const Gre=(e,t,n)=>tz(e,t,n)||nz(e,t,n);Gre.autoRemove=e=>!e;const rz=(e,t,n)=>{var r,i,o;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+((r=e.getValue(t))!==null&&r!==void 0?r:0)<+n:((o=(i=e.getValue(t))!==null&&i!==void 0?i:"")===null||o===void 0?void 0:o.toString().toLowerCase().trim())<n.toString().toLowerCase().trim()};rz.autoRemove=e=>!e;const Yre=(e,t,n)=>tz(e,t,n)||rz(e,t,n);Yre.autoRemove=e=>!e;const PBe=(e,t,n)=>(["",void 0].includes(n[0])||nz(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||rz(e,t,n[1]));PBe.autoRemove=e=>!e;const DBe=(e,t,n)=>(["",void 0].includes(n[0])||Gre(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||Yre(e,t,n[1]));DBe.autoRemove=e=>!e;const OBe=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};OBe.autoRemove=e=>!e;const IBe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};IBe.autoRemove=e=>!e;const d0n=Object.assign(Object.assign({},bf),{between:PBe,betweenInclusive:DBe,contains:TBe,empty:OBe,endsWith:MBe,equals:tz,fuzzy:EBe,greaterThan:nz,greaterThanOrEqualTo:Gre,lessThan:rz,lessThanOrEqualTo:Yre,notEmpty:IBe,notEquals:ABe,startsWith:RBe});function cn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const jBe=e=>{var{row:t,table:n,variant:r="icon"}=e,i=cn(e,["row","table","variant"]);const{getState:o,options:{icons:{CancelIcon:s,SaveIcon:a},localization:l,onCreatingRowCancel:c,onCreatingRowSave:u,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:p},setCreatingRow:g,setEditingRow:y}=n,{creatingRow:v,editingRow:x,isSaving:w}=o(),S=v?.id===t.id,C=x?.id===t.id,k=()=>{S?(c?.({row:t,table:n}),g(null)):C&&(d?.({row:t,table:n}),y(null)),t._valuesCache={}},T=()=>{var E,A;(A=Object.values((E=p.current)!==null&&E!==void 0?E:{}).filter(O=>{var I,j;return t.id===((j=(I=O?.name)===null||I===void 0?void 0:I.split("_"))===null||j===void 0?void 0:j[0])}))===null||A===void 0||A.forEach(O=>{O.value!==void 0&&Object.hasOwn(t?._valuesCache,O.name)&&(t._valuesCache[O.name]=O.value)}),S?u?.({exitCreatingMode:()=>g(null),row:t,table:n,values:t._valuesCache}):C&&f?.({exitEditingMode:()=>y(null),row:t,table:n,values:t?._valuesCache})};return h.jsx(Y,{onClick:E=>E.stopPropagation(),sx:E=>Object.assign({display:"flex",gap:"0.75rem"},nt(i?.sx,E)),children:r==="icon"?h.jsxs(h.Fragment,{children:[h.jsx(Dt,{title:l.cancel,children:h.jsx(Pt,{"aria-label":l.cancel,onClick:k,children:h.jsx(s,{})})}),(S&&u||C&&f)&&h.jsx(Dt,{title:l.save,children:h.jsx(Pt,{"aria-label":l.save,color:"info",disabled:w,onClick:T,children:w?h.jsx(To,{size:18}):h.jsx(a,{})})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Be,{onClick:k,sx:{minWidth:"100px"},children:l.cancel}),h.jsxs(Be,{disabled:w,onClick:T,sx:{minWidth:"100px"},variant:"contained",children:[w&&h.jsx(To,{color:"inherit",size:18}),l.save]})]})})},XE=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),f0n=(e,t)=>{var n;const r=nt(e,t),i=(n=r?.baseBackgroundColor)!==null&&n!==void 0?n:t.palette.mode==="dark"?Mr(t.palette.background.default,.05):t.palette.background.default;return Object.assign({baseBackgroundColor:i,cellNavigationOutlineColor:t.palette.primary.main,draggingBorderColor:t.palette.primary.main,matchHighlightColor:t.palette.mode==="dark"?es(t.palette.warning.dark,.25):Mr(t.palette.warning.light,.5),menuBackgroundColor:Mr(i,.07),pinnedRowBackgroundColor:ut(t.palette.primary.main,.1),selectedRowBackgroundColor:ut(t.palette.primary.main,.2)},r)},YG={content:'""',height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1},$Be=({column:e,table:t,theme:n})=>{const{baseBackgroundColor:r}=t.options.mrtTheme,i=e?.getIsPinned();return{'&[data-pinned="true"]':{"&:before":Object.assign({backgroundColor:ut(es(r,n.palette.mode==="dark"?.05:.01),.97),boxShadow:e?i==="left"&&e.getIsLastColumn(i)?`-4px 0 4px -4px ${ut(n.palette.grey[700],.5)} inset`:i==="right"&&e.getIsFirstColumn(i)?`4px 0 4px -4px ${ut(n.palette.grey[700],.5)} inset`:void 0:void 0},YG)}}},Xre=({column:e,header:t,table:n,tableCellProps:r,theme:i})=>{var o,s,a,l,c,u;const{getState:d,options:{enableColumnVirtualization:f,layoutMode:p}}=n,{draggingColumn:g}=d(),{columnDef:y}=e,{columnDefType:v}=y,x=y.columnDefType!=="group"&&e.getIsPinned(),w={minWidth:`max(calc(var(--${t?"header":"col"}-${XE((o=t?.id)!==null&&o!==void 0?o:e.id)}-size) * 1px), ${(s=y.minSize)!==null&&s!==void 0?s:30}px)`,width:`calc(var(--${t?"header":"col"}-${XE((a=t?.id)!==null&&a!==void 0?a:e.id)}-size) * 1px)`};p==="grid"?w.flex=`${[0,!1].includes(y.grow)?0:`var(--${t?"header":"col"}-${XE((l=t?.id)!==null&&l!==void 0?l:e.id)}-size)`} 0 auto`:p==="grid-no-grow"&&(w.flex=`${+(y.grow||0)} 0 auto`);const S=x?Object.assign(Object.assign({},$Be({column:e,table:n,theme:i})),{left:x==="left"?`${e.getStart("left")}px`:void 0,opacity:.97,position:"sticky",right:x==="right"?`${e.getAfter("right")}px`:void 0}):{};return Object.assign(Object.assign(Object.assign({backgroundColor:"inherit",backgroundImage:"inherit",display:p?.startsWith("grid")?"flex":void 0,justifyContent:v==="group"?"center":p?.startsWith("grid")?r.align:void 0,opacity:((c=n.getState().draggingColumn)===null||c===void 0?void 0:c.id)===e.id||((u=n.getState().hoveredColumn)===null||u===void 0?void 0:u.id)===e.id?.5:1,position:"relative",transition:f?"none":"padding 150ms ease-in-out",zIndex:e.getIsResizing()||g?.id===e.id?2:v!=="group"&&x?1:0,"&:focus-visible":{outline:`2px solid ${n.options.mrtTheme.cellNavigationOutlineColor}`,outlineOffset:"-2px"}},S),w),nt(r?.sx,i))},FBe=({table:e})=>({alignItems:"flex-start",backgroundColor:e.options.mrtTheme.baseBackgroundColor,display:"grid",flexWrap:"wrap-reverse",minHeight:"3.5rem",overflow:"hidden",position:"relative",transition:"all 150ms ease-in-out",zIndex:1}),KO=e=>e.direction==="rtl"?{style:{transform:"scaleX(-1)"}}:void 0,Wu=e=>({disableInteractive:!0,enterDelay:1e3,enterNextDelay:1e3,placement:e}),oa=e=>{var{icon:t,label:n,onOpenSubMenu:r,table:i}=e,o=cn(e,["icon","label","onOpenSubMenu","table"]);const{options:{icons:{ArrowRightIcon:s}}}=i;return h.jsxs($t,Object.assign({sx:{alignItems:"center",justifyContent:"space-between",minWidth:"120px",my:0,py:"6px"},tabIndex:0},o,{children:[h.jsxs(Y,{sx:{alignItems:"center",display:"flex"},children:[h.jsx(eo,{children:t}),n]}),r&&h.jsx(Pt,{onClick:r,onMouseEnter:r,size:"small",sx:{p:0},children:h.jsx(s,{})})]}))},p0n=e=>{var{anchorEl:t,handleEdit:n,row:r,setAnchorEl:i,staticRowIndex:o,table:s}=e,a=cn(e,["anchorEl","handleEdit","row","setAnchorEl","staticRowIndex","table"]);const{getState:l,options:{editDisplayMode:c,enableEditing:u,icons:{EditIcon:d},localization:f,mrtTheme:{menuBackgroundColor:p},renderRowActionMenuItems:g}}=s,{density:y}=l(),v=R.useMemo(()=>{const x=[],w=nt(u,r)&&["modal","row"].includes(c)&&h.jsx(oa,{icon:h.jsx(d,{}),label:f.edit,onClick:n,table:s},"edit");w&&x.push(w);const S=g?.({closeMenu:()=>i(null),row:r,staticRowIndex:o,table:s});return S?.length&&x.push(...S),x},[g,r,o,s]);return v.length?h.jsx(Uo,Object.assign({MenuListProps:{dense:y==="compact",sx:{backgroundColor:p}},anchorEl:t,disableScrollLock:!0,onClick:x=>x.stopPropagation(),onClose:()=>i(null),open:!!t},a,{children:v})):null},x1e={"&:hover":{opacity:1},height:"2rem",ml:"10px",opacity:.5,transition:"opacity 150ms",width:"2rem"},h0n=e=>{var t,{cell:n,row:r,staticRowIndex:i,table:o}=e,s=cn(e,["cell","row","staticRowIndex","table"]);const{getState:a,options:{createDisplayMode:l,editDisplayMode:c,enableEditing:u,icons:{EditIcon:d,MoreHorizIcon:f},localization:p,renderRowActionMenuItems:g,renderRowActions:y},setEditingRow:v}=o,{creatingRow:x,editingRow:w}=a(),S=x?.id===r.id,C=w?.id===r.id,k=S&&l==="row"||C&&c==="row",[T,E]=R.useState(null),A=I=>{I.stopPropagation(),I.preventDefault(),E(I.currentTarget)},O=I=>{I.stopPropagation(),v(Object.assign({},r)),E(null)};return h.jsx(h.Fragment,{children:y&&!k?y({cell:n,row:r,staticRowIndex:i,table:o}):k?h.jsx(jBe,{row:r,table:o}):!g&&nt(u,r)&&["modal","row"].includes(c)?h.jsx(Dt,{placement:"right",title:p.edit,children:h.jsx(Pt,Object.assign({"aria-label":p.edit,onClick:O,sx:x1e},s,{children:h.jsx(d,{})}))}):!((t=g?.({row:r,staticRowIndex:i,table:o}))===null||t===void 0)&&t.length?h.jsxs(h.Fragment,{children:[h.jsx(Dt,Object.assign({},Wu(),{title:p.rowActions,children:h.jsx(Pt,Object.assign({"aria-label":p.rowActions,onClick:A,size:"small",sx:x1e},s,{children:h.jsx(f,{})}))})),h.jsx(p0n,{anchorEl:T,handleEdit:O,row:r,setAnchorEl:E,staticRowIndex:i,table:o})]}):null})},g0n=e=>Object.assign({Cell:({cell:t,row:n,staticRowIndex:r,table:i})=>h.jsx(h0n,{cell:t,row:n,staticRowIndex:r,table:i})},wx({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),Kre=e=>{var t,n,{location:r,table:i}=e,o=cn(e,["location","table"]);const{options:{icons:{DragHandleIcon:s},localization:a}}=i;return h.jsx(Dt,Object.assign({},Wu("top"),{title:(t=o?.title)!==null&&t!==void 0?t:a.move,children:h.jsx(Pt,Object.assign({"aria-label":(n=o.title)!==null&&n!==void 0?n:a.move,disableRipple:!0,draggable:"true",size:"small"},o,{onClick:l=>{var c;l.stopPropagation(),(c=o?.onClick)===null||c===void 0||c.call(o,l)},sx:l=>Object.assign({"&:active":{cursor:"grabbing"},"&:hover":{backgroundColor:"transparent",opacity:1},cursor:"grab",m:"0 -0.1rem",opacity:r==="row"?1:.5,p:"2px",transition:"all 150ms ease-in-out"},nt(o?.sx,l)),title:void 0,children:h.jsx(s,{})}))}))},m0n=e=>{var{row:t,rowRef:n,table:r}=e,i=cn(e,["row","rowRef","table"]);const{options:{muiRowDragHandleProps:o}}=r,s=Object.assign(Object.assign({},nt(o,{row:t,table:r})),i),a=c=>{var u;(u=s?.onDragStart)===null||u===void 0||u.call(s,c);try{c.dataTransfer.setDragImage(n.current,0,0)}catch(d){console.error(d)}r.setDraggingRow(t)},l=c=>{var u;(u=s?.onDragEnd)===null||u===void 0||u.call(s,c),r.setDraggingRow(null),r.setHoveredRow(null)};return h.jsx(Kre,Object.assign({},s,{location:"row",onDragEnd:l,onDragStart:a,table:r}))},y0n=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>h.jsx(m0n,{row:t,rowRef:n,table:r}),grow:!1},wx({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),v0n=e=>{var t,n,{table:r}=e,i=cn(e,["table"]);const{getCanSomeRowsExpand:o,getIsAllRowsExpanded:s,getIsSomeRowsExpanded:a,getState:l,options:{icons:{KeyboardDoubleArrowDownIcon:c},localization:u,muiExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:p}=r,{density:g,isLoading:y}=l(),v=Object.assign(Object.assign({},nt(d,{table:r})),i),x=s();return h.jsx(Dt,Object.assign({},Wu(),{title:(t=v?.title)!==null&&t!==void 0?t:x?u.collapseAll:u.expandAll,children:h.jsx("span",{children:h.jsx(Pt,Object.assign({"aria-label":u.expandAll,disabled:y||!f&&!o(),onClick:()=>p(!x)},v,{sx:w=>Object.assign({height:g==="compact"?"1.75rem":"2.25rem",mt:g!=="compact"?"-0.25rem":void 0,width:g==="compact"?"1.75rem":"2.25rem"},nt(v?.sx,w)),title:void 0,children:(n=v?.children)!==null&&n!==void 0?n:h.jsx(c,{style:{transform:`rotate(${x?-180:a()?-90:0}deg)`,transition:"transform 150ms"}})}))})}))},w1e=({row:e,staticRowIndex:t,table:n})=>{var r,i;const o=xt(),{getState:s,options:{icons:{ExpandMoreIcon:a},localization:l,muiExpandButtonProps:c,positionExpandColumn:u,renderDetailPanel:d}}=n,{density:f}=s(),p=nt(c,{row:e,staticRowIndex:t,table:n}),g=e.getCanExpand(),y=e.getIsExpanded(),v=w=>{var S;w.stopPropagation(),e.toggleExpanded(),(S=p?.onClick)===null||S===void 0||S.call(p,w)},x=!!d?.({row:e,table:n});return h.jsx(Dt,Object.assign({disableHoverListener:!g&&!x},Wu(),{title:(r=p?.title)!==null&&r!==void 0?r:y?l.collapse:l.expand,children:h.jsx("span",{children:h.jsx(Pt,Object.assign({"aria-label":l.expand,disabled:!g&&!x},p,{onClick:v,sx:w=>Object.assign({height:f==="compact"?"1.75rem":"2.25rem",opacity:!g&&!x?.3:1,[w.direction==="rtl"||u==="last"?"mr":"ml"]:`${e.depth*16}px`,width:f==="compact"?"1.75rem":"2.25rem"},nt(p?.sx,w)),title:void 0,children:(i=p?.children)!==null&&i!==void 0?i:h.jsx(a,{style:{transform:`rotate(${!g&&!d?u==="last"||o.direction==="rtl"?90:-90:y?-180:0}deg)`,transition:"transform 150ms"}})}))})}))},b0n=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:o,renderDetailPanel:s,state:{grouping:a}}=e,l=o==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:c,column:u,row:d,staticRowIndex:f,table:p})=>{var g,y,v;const x={row:d,staticRowIndex:f,table:p},w=(g=d.subRows)===null||g===void 0?void 0:g.length;return i==="remove"&&d.groupingColumnId?h.jsxs(gt,{alignItems:"center",flexDirection:"row",gap:"0.25rem",children:[h.jsx(w1e,Object.assign({},x)),h.jsx(Dt,Object.assign({},Wu("right"),{title:p.getColumn(d.groupingColumnId).columnDef.header,children:h.jsx("span",{children:d.groupingValue})})),!!w&&h.jsxs("span",{children:["(",w,")"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(w1e,Object.assign({},x)),(v=(y=u.columnDef).GroupedCell)===null||v===void 0?void 0:v.call(y,{cell:c,column:u,row:d,table:p})]})},Header:r?({table:c})=>{var u;return h.jsxs(h.Fragment,{children:[h.jsx(v0n,{table:c}),i==="remove"&&((u=a?.map(d=>c.getColumn(d).columnDef.header))===null||u===void 0?void 0:u.join(", "))]})}:void 0,muiTableBodyCellProps:l,muiTableHeadCellProps:l},wx({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n?.size)!==null&&t!==void 0?t:180:s?r?60:70:100,tableOptions:e}))},x0n=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({row:o,staticRowIndex:s})=>{var a;return((a=n==="static"?(s||0)+(i||0)*(r||0):o.index)!==null&&a!==void 0?a:0)+1},Header:()=>t.rowNumber,grow:!1},wx({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},EU=e=>{var{pinningPosition:t,row:n,table:r}=e,i=cn(e,["pinningPosition","row","table"]);const{options:{icons:{CloseIcon:o,PushPinIcon:s},localization:a,rowPinningDisplayMode:l}}=r,c=n.getIsPinned(),[u,d]=R.useState(!1),f=p=>{d(!1),p.stopPropagation(),n.pin(c?!1:t)};return h.jsx(Dt,Object.assign({},Wu(),{open:u,title:c?a.unpin:a.pin,children:h.jsx(Pt,Object.assign({"aria-label":a.pin,onBlur:()=>d(!1),onClick:f,onFocus:()=>d(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"small"},i,{sx:p=>Object.assign({height:"24px",width:"24px"},nt(i?.sx,p)),children:c?h.jsx(o,{}):h.jsx(s,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))}))},w0n=e=>{var{row:t,table:n}=e,r=cn(e,["row","table"]);const{getState:i,options:{enableRowPinning:o,rowPinningDisplayMode:s}}=n,{density:a}=i();if(!nt(o,t))return null;const c=Object.assign({row:t,table:n},r);return s==="top-and-bottom"&&!t.getIsPinned()?h.jsxs(Y,{sx:{display:"flex",flexDirection:a==="compact"?"row":"column"},children:[h.jsx(EU,Object.assign({pinningPosition:"top"},c)),h.jsx(EU,Object.assign({pinningPosition:"bottom"},c))]}):h.jsx(EU,Object.assign({pinningPosition:s==="bottom"?"bottom":"top"},c))},S0n=e=>Object.assign({Cell:({row:t,table:n})=>h.jsx(w0n,{row:t,table:n}),grow:!1},wx({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),XG=e=>{var t,{row:n,staticRowIndex:r,table:i}=e,o=cn(e,["row","staticRowIndex","table"]);const{getState:s,options:{enableMultiRowSelection:a,localization:l,muiSelectAllCheckboxProps:c,muiSelectCheckboxProps:u,selectAllMode:d}}=i,{density:f,isLoading:p}=s(),g=!n,y=g?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,v=g?y:H3({row:n,table:i}),x=Object.assign(Object.assign({},g?nt(c,{table:i}):nt(u,{row:n,staticRowIndex:r,table:i})),o),w=n?vBe({row:n,staticRowIndex:r,table:i}):void 0,S=Ure({table:i}),C=Object.assign(Object.assign({"aria-label":g?l.toggleSelectAll:l.toggleSelectRow,checked:v,disabled:p||n&&!n.getCanSelect()||n?.id==="mrt-row-create",inputProps:{"aria-label":g?l.toggleSelectAll:l.toggleSelectRow},onChange:k=>{k.stopPropagation(),g?S(k):w(k)},size:f==="compact"?"small":"medium"},x),{onClick:k=>{var T;k.stopPropagation(),(T=x?.onClick)===null||T===void 0||T.call(x,k)},sx:k=>Object.assign({height:f==="compact"?"1.75rem":"2.5rem",m:f!=="compact"?"-0.4rem":void 0,width:f==="compact"?"1.75rem":"2.5rem",zIndex:0},nt(x?.sx,k)),title:void 0});return h.jsx(Dt,Object.assign({},Wu(),{title:(t=x?.title)!==null&&t!==void 0?t:g?l.toggleSelectAll:l.toggleSelectRow,children:a===!1?h.jsx(ET,Object.assign({},C)):h.jsx(Td,Object.assign({indeterminate:!v&&g?i.getIsSomeRowsSelected():n?.getIsSomeSelected()&&n.getCanSelectSubRows()},C))}))},_0n=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({row:r,staticRowIndex:i,table:o})=>h.jsx(XG,{row:r,staticRowIndex:i,table:o}),Header:n&&t?({table:r})=>h.jsx(XG,{table:r}):void 0,grow:!1},wx({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},C0n={ArrowDownwardIcon:Eke,ArrowRightIcon:Mot,CancelIcon:Iot,ChevronLeftIcon:$ot,ChevronRightIcon:Fot,ClearAllIcon:Not,CloseIcon:Vb,ContentCopy:zh,DensityLargeIcon:Uot,DensityMediumIcon:Vot,DensitySmallIcon:Hot,DragHandleIcon:qot,DynamicFeedIcon:Yot,EditIcon:XR,ExpandMoreIcon:KR,FilterAltIcon:Oke,FilterListIcon:ZR,FilterListOffIcon:Ike,FirstPageIcon:Zot,FullscreenExitIcon:Jot,FullscreenIcon:Qot,KeyboardDoubleArrowDownIcon:ist,LastPageIcon:sst,MoreHorizIcon:$ke,MoreVertIcon:zF,PushPinIcon:Lke,RestartAltIcon:k_,SaveIcon:Nke,SearchIcon:zke,SearchOffIcon:mst,SortIcon:bst,SyncAltIcon:wst,ViewColumnIcon:kst,VisibilityOffIcon:tH},k0n={language:"en",actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},E0n={filterVariant:"text",maxSize:1e3,minSize:40,size:180},LBe={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},T0n=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:o,columnResizeMode:s="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:c,editDisplayMode:u="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:p=!0,enableColumnFilters:g=!0,enableColumnOrdering:y=!1,enableColumnPinning:v=!1,enableColumnResizing:x=!1,enableColumnVirtualization:w,enableDensityToggle:S=!0,enableExpandAll:C=!0,enableExpanding:k,enableFacetedValues:T=!1,enableFilterMatchHighlighting:E=!0,enableFilters:A=!0,enableFullScreenToggle:O=!0,enableGlobalFilter:I=!0,enableGlobalFilterRankedResults:j=!0,enableGrouping:P=!1,enableHiding:$=!0,enableKeyboardShortcuts:D=!0,enableMultiRowSelection:F=!0,enableMultiSort:N=!0,enablePagination:V=!0,enableRowPinning:H=!1,enableRowSelection:U=!1,enableRowVirtualization:G,enableSelectAll:z=!0,enableSorting:W=!0,enableStickyHeader:X=!1,enableTableFooter:Q=!0,enableTableHead:ee=!0,enableToolbarInternalActions:ne=!0,enableTopToolbar:oe=!0,filterFns:ce,icons:re,id:ge=R.useId(),layoutMode:he,localization:ie,manualFiltering:xe,manualGrouping:q,manualPagination:fe,manualSorting:se,mrtTheme:J,paginationDisplayMode:Z="default",positionActionsColumn:ue="first",positionCreatingRow:de="top",positionExpandColumn:be="first",positionGlobalFilter:le="right",positionPagination:Se="bottom",positionToolbarAlertBanner:ye="top",positionToolbarDropZone:ve="top",rowNumberDisplayMode:_e="static",rowPinningDisplayMode:Ae="sticky",selectAllMode:Te="page",sortingFns:Pe}=e,Le=cn(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHiding","enableKeyboardShortcuts","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","id","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","mrtTheme","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const $e=xt();return re=R.useMemo(()=>Object.assign(Object.assign({},C0n),re),[re]),ie=R.useMemo(()=>Object.assign(Object.assign({},k0n),ie),[ie]),J=R.useMemo(()=>f0n(J,$e),[J,$e]),n=R.useMemo(()=>Object.assign(Object.assign({},u0n),n),[]),ce=R.useMemo(()=>Object.assign(Object.assign({},d0n),ce),[]),Pe=R.useMemo(()=>Object.assign(Object.assign({},o0n),Pe),[]),l=R.useMemo(()=>Object.assign(Object.assign({},E0n),l),[l]),c=R.useMemo(()=>Object.assign(Object.assign({},LBe),c),[c]),[w,G]=R.useMemo(()=>[w,G],[]),o||(o=$e.direction||"ltr"),he=he||(x?"grid-no-grow":"semantic"),he==="semantic"&&(G||w)&&(he="grid"),G&&(X=!0),V===!1&&fe===void 0&&(fe=!0),!((t=Le.data)===null||t===void 0)&&t.length||(xe=!0,q=!0,fe=!0,se=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:o,columnResizeMode:s,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:c,editDisplayMode:u,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:p,enableColumnFilters:g,enableColumnOrdering:y,enableColumnPinning:v,enableColumnResizing:x,enableColumnVirtualization:w,enableDensityToggle:S,enableExpandAll:C,enableExpanding:k,enableFacetedValues:T,enableFilterMatchHighlighting:E,enableFilters:A,enableFullScreenToggle:O,enableGlobalFilter:I,enableGlobalFilterRankedResults:j,enableGrouping:P,enableHiding:$,enableKeyboardShortcuts:D,enableMultiRowSelection:F,enableMultiSort:N,enablePagination:V,enableRowPinning:H,enableRowSelection:U,enableRowVirtualization:G,enableSelectAll:z,enableSorting:W,enableStickyHeader:X,enableTableFooter:Q,enableTableHead:ee,enableToolbarInternalActions:ne,enableTopToolbar:oe,filterFns:ce,getCoreRowModel:tun(),getExpandedRowModel:k||P?nun():void 0,getFacetedMinMaxValues:T?run():void 0,getFacetedRowModel:T?sun():void 0,getFacetedUniqueValues:T?aun():void 0,getFilteredRowModel:(g||I||A)&&!xe?lun():void 0,getGroupedRowModel:P&&!q?cun():void 0,getPaginationRowModel:V&&!fe?dun():void 0,getSortedRowModel:W&&!se?fun():void 0,getSubRows:at=>at?.subRows,icons:re,id:ge,layoutMode:he,localization:ie,manualFiltering:xe,manualGrouping:q,manualPagination:fe,manualSorting:se,mrtTheme:J,paginationDisplayMode:Z,positionActionsColumn:ue,positionCreatingRow:de,positionExpandColumn:be,positionGlobalFilter:le,positionPagination:Se,positionToolbarAlertBanner:ye,positionToolbarDropZone:ve,rowNumberDisplayMode:_e,rowPinningDisplayMode:Ae,selectAllMode:Te,sortingFns:Pe},Le)},TU={children:null,sx:{minWidth:0,p:0,width:0}},R0n=e=>Object.assign(Object.assign(Object.assign(Object.assign({},wx({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),LBe),{muiTableBodyCellProps:TU,muiTableFooterCellProps:TU,muiTableHeadCellProps:TU}),M0n=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:o,rowCount:s}}=e,{columnOrder:a,density:l,globalFilter:c,isFullScreen:u,isLoading:d,pagination:f,showSkeletons:p,sorting:g}=r(),y=e.options.columns.length,v=s??n().rows.length,x=R.useReducer(()=>({}),{})[1],w=R.useRef(null),S=R.useRef(null);R.useEffect(()=>{typeof window<"u"&&(w.current=document.body.style.height)},[]),R.useEffect(()=>{if(typeof window<"u")if(u)S.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=w.current,!S.current)return;window.scrollTo({behavior:"instant",top:-1*S.current})}},[u]),R.useEffect(()=>{y!==a.length&&e.setColumnOrder(qre(e.options))},[y]),R.useEffect(()=>{if(!i||d||p)return;const{pageIndex:k,pageSize:T}=f,E=v>0?Math.ceil(v/T):1;(k<0||k>=E)&&e.setPageIndex(E-1)},[v,i,d,p]);const C=R.useRef(g);R.useEffect(()=>{g.length&&(C.current=g)},[g]),R.useEffect(()=>{yBe(e)&&(c?e.setSorting([]):e.setSorting(()=>C.current||[]))},[c]),R.useEffect(()=>{o&&t()&&setTimeout(()=>{x()},150)},[l])},A0n=e=>{var t,n,r,i,o,s,a,l,c,u,d,f,p,g,y,v,x,w,S,C,k,T,E,A,O,I,j,P,$,D,F,N,V,H,U;const G=R.useRef(null),z=R.useRef(null),W=R.useRef(null),X=R.useRef({}),Q=R.useRef({}),ee=R.useRef(null),ne=R.useRef(null),oe=R.useRef({}),ce=R.useRef(null),re=R.useRef(null),ge=R.useRef(null),he=R.useRef(null),ie=R.useMemo(()=>{var Br,Yi,kr;const Sn=(Br=e.initialState)!==null&&Br!==void 0?Br:{};return Sn.columnOrder=(Yi=Sn.columnOrder)!==null&&Yi!==void 0?Yi:qre(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),Sn.globalFilterFn=(kr=e.globalFilterFn)!==null&&kr!==void 0?kr:"fuzzy",Sn},[]);e.initialState=ie;const[xe,q]=R.useState((t=ie.actionCell)!==null&&t!==void 0?t:null),[fe,se]=R.useState((n=ie.creatingRow)!==null&&n!==void 0?n:null),[J,Z]=R.useState(()=>Object.assign({},...V3(e.columns).map(Br=>{var Yi,kr,Sn,Zn;return{[Uw(Br)]:Br.filterFn instanceof Function?(Yi=Br.filterFn.name)!==null&&Yi!==void 0?Yi:"custom":(Zn=(kr=Br.filterFn)!==null&&kr!==void 0?kr:(Sn=ie?.columnFilterFns)===null||Sn===void 0?void 0:Sn[Uw(Br)])!==null&&Zn!==void 0?Zn:n0n(Br)}}))),[ue,de]=R.useState((r=ie.columnOrder)!==null&&r!==void 0?r:[]),[be,le]=R.useState((i=ie.columnSizingInfo)!==null&&i!==void 0?i:{}),[Se,ye]=R.useState((o=ie?.density)!==null&&o!==void 0?o:"comfortable"),[ve,_e]=R.useState((s=ie.draggingColumn)!==null&&s!==void 0?s:null),[Ae,Te]=R.useState((a=ie.draggingRow)!==null&&a!==void 0?a:null),[Pe,Le]=R.useState((l=ie.editingCell)!==null&&l!==void 0?l:null),[$e,at]=R.useState((c=ie.editingRow)!==null&&c!==void 0?c:null),[Re,Ze]=R.useState((u=ie.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[Rt,Ct]=R.useState((d=ie.grouping)!==null&&d!==void 0?d:[]),[De,bt]=R.useState((f=ie.hoveredColumn)!==null&&f!==void 0?f:null),[Gt,Cn]=R.useState((p=ie.hoveredRow)!==null&&p!==void 0?p:null),[An,Lt]=R.useState((g=ie?.isFullScreen)!==null&&g!==void 0?g:!1),[qt,ur]=R.useState((y=ie?.pagination)!==null&&y!==void 0?y:{pageIndex:0,pageSize:10}),[ct,Yt]=R.useState((v=ie?.showAlertBanner)!==null&&v!==void 0?v:!1),[St,Ln]=R.useState((x=ie?.showColumnFilters)!==null&&x!==void 0?x:!1),[vt,Xt]=R.useState((w=ie?.showGlobalFilter)!==null&&w!==void 0?w:!1),[Pn,Dn]=R.useState((S=ie?.showToolbarDropZone)!==null&&S!==void 0?S:!1);e.state=Object.assign({actionCell:xe,columnFilterFns:J,columnOrder:ue,columnSizingInfo:be,creatingRow:fe,density:Se,draggingColumn:ve,draggingRow:Ae,editingCell:Pe,editingRow:$e,globalFilterFn:Re,grouping:Rt,hoveredColumn:De,hoveredRow:Gt,isFullScreen:An,pagination:qt,showAlertBanner:ct,showColumnFilters:St,showGlobalFilter:vt,showToolbarDropZone:Pn},e.state);const Et=e,Gi=R.useRef([]);Et.columns=Et.state.columnSizingInfo.isResizingColumn||Et.state.draggingColumn||Et.state.draggingRow?Gi.current:pBe({columnDefs:[...[wBe(Et)&&S0n(Et),SBe(Et)&&y0n(Et),Wre(Et)&&g0n(Et),Hre(Et)&&b0n(Et),_Be(Et)&&_0n(Et),CBe(Et)&&x0n(Et)].filter(Boolean),...Et.columns,...[kBe(Et)&&R0n(Et)].filter(Boolean)],tableOptions:Et}),Gi.current=Et.columns,Et.data=R.useMemo(()=>(Et.state.isLoading||Et.state.showSkeletons)&&!Et.data.length?[...Array(Math.min(Et.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...V3(Et.columns).map(Br=>({[Uw(Br)]:null})))):Et.data,[Et.data,Et.state.isLoading,Et.state.showSkeletons]);const nr=pun(Object.assign(Object.assign({onColumnOrderChange:de,onColumnSizingInfoChange:le,onGroupingChange:Ct,onPaginationChange:ur},Et),{globalFilterFn:(C=Et.filterFns)===null||C===void 0?void 0:C[Re??"fuzzy"]}));return nr.refs={actionCellRef:z,bottomToolbarRef:W,editInputRefs:X,filterInputRefs:Q,lastSelectedRowId:G,searchInputRef:ee,tableContainerRef:ne,tableFooterRef:he,tableHeadCellRefs:oe,tableHeadRef:ge,tablePaperRef:ce,topToolbarRef:re},nr.setActionCell=(k=Et.onActionCellChange)!==null&&k!==void 0?k:q,nr.setCreatingRow=Br=>{var Yi,kr;let Sn=Br;Br===!0&&(Sn=r0n(nr)),(kr=(Yi=Et?.onCreatingRowChange)===null||Yi===void 0?void 0:Yi.call(Et,Sn))!==null&&kr!==void 0||se(Sn)},nr.setColumnFilterFns=(T=Et.onColumnFilterFnsChange)!==null&&T!==void 0?T:Z,nr.setDensity=(E=Et.onDensityChange)!==null&&E!==void 0?E:ye,nr.setDraggingColumn=(A=Et.onDraggingColumnChange)!==null&&A!==void 0?A:_e,nr.setDraggingRow=(O=Et.onDraggingRowChange)!==null&&O!==void 0?O:Te,nr.setEditingCell=(I=Et.onEditingCellChange)!==null&&I!==void 0?I:Le,nr.setEditingRow=(j=Et.onEditingRowChange)!==null&&j!==void 0?j:at,nr.setGlobalFilterFn=(P=Et.onGlobalFilterFnChange)!==null&&P!==void 0?P:Ze,nr.setHoveredColumn=($=Et.onHoveredColumnChange)!==null&&$!==void 0?$:bt,nr.setHoveredRow=(D=Et.onHoveredRowChange)!==null&&D!==void 0?D:Cn,nr.setIsFullScreen=(F=Et.onIsFullScreenChange)!==null&&F!==void 0?F:Lt,nr.setShowAlertBanner=(N=Et.onShowAlertBannerChange)!==null&&N!==void 0?N:Yt,nr.setShowColumnFilters=(V=Et.onShowColumnFiltersChange)!==null&&V!==void 0?V:Ln,nr.setShowGlobalFilter=(H=Et.onShowGlobalFilterChange)!==null&&H!==void 0?H:Xt,nr.setShowToolbarDropZone=(U=Et.onShowToolbarDropZoneChange)!==null&&U!==void 0?U:Dn,M0n(nr),nr},NBe=e=>A0n(T0n(e)),zBe=(e,t)=>{const n=Wze(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},P0n=e=>{var t,n,r,i;const{getState:o,options:{columnVirtualizerInstanceRef:s,columnVirtualizerOptions:a,enableColumnPinning:l,enableColumnVirtualization:c},refs:{tableContainerRef:u}}=e,{columnPinning:d,columnVisibility:f,draggingColumn:p}=o();if(!c)return;const g=nt(a,{table:e}),y=e.getVisibleLeafColumns(),[v,x]=R.useMemo(()=>l?[e.getLeftVisibleLeafColumns().map(A=>A.getPinnedIndex()),e.getRightVisibleLeafColumns().map(A=>y.length-A.getPinnedIndex()-1).sort((A,O)=>A-O)]:[[],[]],[d,f,l]),w=v.length,S=x.length,C=R.useMemo(()=>p?.id?y.findIndex(A=>A.id===p?.id):void 0,[p?.id]),k=Gze(Object.assign({count:y.length,estimateSize:A=>y[A].getSize(),getScrollElement:()=>u.current,horizontal:!0,overscan:3,rangeExtractor:R.useCallback(A=>{const O=zBe(A,C);return!w&&!S?O:[...new Set([...v,...O,...x])]},[v,x,C])},g)),T=k.getVirtualItems();k.virtualColumns=T;const E=T.length;if(E){const A=k.getTotalSize(),O=((t=T[w])===null||t===void 0?void 0:t.start)||0,I=((n=T[v.length-1])===null||n===void 0?void 0:n.end)||0,j=((r=T[E-S])===null||r===void 0?void 0:r.start)||0,P=((i=T[E-S-1])===null||i===void 0?void 0:i.end)||0;k.virtualPaddingLeft=O-I,k.virtualPaddingRight=A-P-(S?A-j:0)}return s&&(s.current=k),k},D0n=(e,t)=>{const{getRowModel:n,getState:r,options:{enableRowVirtualization:i,renderDetailPanel:o,rowVirtualizerInstanceRef:s,rowVirtualizerOptions:a},refs:{tableContainerRef:l}}=e,{density:c,draggingRow:u,expanded:d}=r();if(!i)return;const f=nt(a,{table:e}),p=t??n().rows,g=R.useMemo(()=>u?.id?p.findIndex(w=>w.id===u?.id):void 0,[p,u?.id]),y=p.length,v=c==="compact"?37:c==="comfortable"?58:73,x=Gze(Object.assign({count:o?y*2:y,estimateSize:w=>o&&w%2===1?d===!0?100:0:v,getScrollElement:()=>l.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?w=>w?.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:R.useCallback(w=>zBe(w,g),[g])},f));return x.virtualRows=x.getVirtualItems(),s&&(s.current=x),x},O0n=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:o}}=e,{creatingRow:s,expanded:a,globalFilter:l,pagination:c,rowPinning:u,sorting:d}=n();return R.useMemo(()=>mBe(e),[s,r,i,a,t().rows,l,c.pageIndex,c.pageSize,o,u,d])},RU=["string","number"],S1e=({cell:e,rowRef:t,staticColumnIndex:n,staticRowIndex:r,table:i})=>{var o,s,a;const{getState:l,options:{enableFilterMatchHighlighting:c,mrtTheme:{matchHighlightColor:u}}}=i,{column:d,row:f}=e,{columnDef:p}=d,{globalFilter:g,globalFilterFn:y}=l(),v=d.getFilterValue();let x=e.getIsAggregated()&&p.AggregatedCell?p.AggregatedCell({cell:e,column:d,row:f,table:i,staticColumnIndex:n,staticRowIndex:r}):f.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&p.GroupedCell?p.GroupedCell({cell:e,column:d,row:f,table:i,staticColumnIndex:n,staticRowIndex:r}):void 0;const w=x!==void 0;if(w||(x=e.renderValue()),c&&p.enableFilterMatchHighlighting!==!1&&String(x)&&RU.includes(typeof x)&&(v&&RU.includes(typeof v)&&["autocomplete","text"].includes(p.filterVariant)||g&&RU.includes(typeof g)&&d.getCanGlobalFilter())){const S=SU?.({matchExactly:(v?p._filterFn:y)!=="fuzzy",query:((o=v??g)!==null&&o!==void 0?o:"").toString(),text:x?.toString()});(S?.length>1||!((s=S?.[0])===null||s===void 0)&&s.match)&&(x=h.jsx("span",{"aria-label":x,role:"note",children:(a=S?.map(({key:C,match:k,text:T})=>h.jsx(Y,{"aria-hidden":"true",component:"span",sx:k?{backgroundColor:u,borderRadius:"2px",color:E=>E.palette.mode==="dark"?E.palette.common.white:E.palette.common.black,padding:"2px 1px"}:void 0,children:T},C)))!==null&&a!==void 0?a:x}))}return p.Cell&&!w&&(x=p.Cell({cell:e,column:d,renderedCellValue:x,row:f,rowRef:t,staticColumnIndex:n,staticRowIndex:r,table:i})),x},I0n=e=>{var t,{cell:n,table:r}=e,i=cn(e,["cell","table"]);const{options:{localization:o,muiCopyButtonProps:s}}=r,{column:a,row:l}=n,{columnDef:c}=a,[u,d]=R.useState(!1),f=(g,y)=>{g.stopPropagation(),navigator.clipboard.writeText(y),d(!0),setTimeout(()=>d(!1),4e3)},p=Object.assign(Object.assign(Object.assign({},nt(s,{cell:n,column:a,row:l,table:r})),nt(c.muiCopyButtonProps,{cell:n,column:a,row:l,table:r})),i);return h.jsx(Dt,Object.assign({},Wu("top"),{title:(t=p?.title)!==null&&t!==void 0?t:u?o.copiedToClipboard:o.clickToCopy,children:h.jsx(Be,Object.assign({onClick:g=>f(g,n.getValue()),size:"small",type:"button",variant:"text"},p,{sx:g=>Object.assign({backgroundColor:"transparent",border:"none",color:"inherit",cursor:"copy",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit",m:"-0.25rem",minWidth:"unset",py:0,textAlign:"inherit",textTransform:"inherit"},nt(p?.sx,g)),title:void 0}))}))},BBe=e=>{var t,n,{cell:r,table:i}=e,o=cn(e,["cell","table"]);const{getState:s,options:{createDisplayMode:a,editDisplayMode:l,muiEditTextFieldProps:c},refs:{editInputRefs:u},setCreatingRow:d,setEditingCell:f,setEditingRow:p}=i,{column:g,row:y}=r,{columnDef:v}=g,{creatingRow:x,editingRow:w}=s(),{editSelectOptions:S,editVariant:C}=v,k=x?.id===y.id,T=w?.id===y.id,[E,A]=R.useState(()=>r.getValue()),[O,I]=R.useState(!0),j=Object.assign(Object.assign(Object.assign({},nt(c,{cell:r,column:g,row:y,table:i})),nt(v.muiEditTextFieldProps,{cell:r,column:g,row:y,table:i})),o),P=nt(S,{cell:r,column:g,row:y,table:i}),$=C==="select"||j?.select,D=H=>{y._valuesCache[g.id]=H,k?d(y):T&&p(y)},F=H=>{var U;(U=j.onChange)===null||U===void 0||U.call(j,H),A(H.target.value),$&&D(H.target.value)},N=H=>{var U;(U=j.onBlur)===null||U===void 0||U.call(j,H),D(E),f(null)},V=H=>{var U,G,z;(U=j.onKeyDown)===null||U===void 0||U.call(j,H),H.key==="Enter"&&!H.shiftKey&&O&&((z=(G=u.current)===null||G===void 0?void 0:G[g.id])===null||z===void 0||z.blur())};return v.Edit?h.jsx(h.Fragment,{children:(t=v.Edit)===null||t===void 0?void 0:t.call(v,{cell:r,column:g,row:y,table:i})}):h.jsx(zn,Object.assign({disabled:nt(v.enableEditing,y)===!1,fullWidth:!0,inputRef:H=>{H&&(u.current[g.id]=$?H.node:H,j.inputRef&&(j.inputRef=H))},label:["custom","modal"].includes(k?a:l)?v.header:void 0,margin:"none",name:g.id,placeholder:["custom","modal"].includes(k?a:l)?void 0:v.header,select:$,size:"small",value:E??"",variant:"standard"},j,{InputProps:Object.assign(Object.assign(Object.assign({},j.variant!=="outlined"?{disableUnderline:l==="table"}:{}),j.InputProps),{sx:H=>{var U;return Object.assign({mb:0},nt((U=j?.InputProps)===null||U===void 0?void 0:U.sx,H))}}),SelectProps:Object.assign({MenuProps:{disableScrollLock:!0}},j.SelectProps),inputProps:Object.assign({autoComplete:"off"},j.inputProps),onBlur:N,onChange:F,onClick:H=>{var U;H.stopPropagation(),(U=j?.onClick)===null||U===void 0||U.call(j,H)},onKeyDown:V,onCompositionStart:()=>I(!1),onCompositionEnd:()=>I(!0),children:(n=j.children)!==null&&n!==void 0?n:P?.map(H=>{const{label:U,value:G}=ch(H);return h.jsx($t,{sx:{alignItems:"center",display:"flex",gap:"0.5rem",m:0},value:G,children:U},G)})}))},UBe=e=>{var t,n,r,i,o,{cell:s,numRows:a,rowRef:l,staticColumnIndex:c,staticRowIndex:u,table:d}=e,f=cn(e,["cell","numRows","rowRef","staticColumnIndex","staticRowIndex","table"]);const p=xt(),{getState:g,options:{columnResizeDirection:y,columnResizeMode:v,createDisplayMode:x,editDisplayMode:w,enableCellActions:S,enableClickToCopy:C,enableColumnOrdering:k,enableColumnPinning:T,enableGrouping:E,enableKeyboardShortcuts:A,layoutMode:O,mrtTheme:{draggingBorderColor:I},muiSkeletonProps:j,muiTableBodyCellProps:P},setHoveredColumn:$}=d,{actionCell:D,columnSizingInfo:F,creatingRow:N,density:V,draggingColumn:H,draggingRow:U,editingCell:G,editingRow:z,hoveredColumn:W,hoveredRow:X,isLoading:Q,showSkeletons:ee}=g(),{column:ne,row:oe}=s,{columnDef:ce}=ne,{columnDefType:re}=ce,ge={cell:s,column:ne,row:oe,table:d},he=Object.assign(Object.assign(Object.assign({},nt(P,ge)),nt(ce.muiTableBodyCellProps,ge)),f),ie=nt(j,{cell:s,column:ne,row:oe,table:d}),[xe,q]=R.useState(100);R.useEffect(()=>{if(!Q&&!ee||xe!==100)return;const Te=ne.getSize();q(re==="display"?Te/2:Math.round(Math.random()*(Te-Te/3)+Te/3))},[Q,ee]);const fe=R.useMemo(()=>{const Te=H?.id===ne.id,Pe=W?.id===ne.id,Le=U?.id===oe.id,$e=X?.id===oe.id,at=ne.getIsFirstColumn(),Re=ne.getIsLastColumn(),Ze=a&&u===a-1,Rt=F.isResizingColumn===ne.id,Ct=Rt&&v==="onChange",De=Ct?`2px solid ${I} !important`:Te||Le?`1px dashed ${p.palette.grey[500]} !important`:Pe||$e||Rt?`2px dashed ${I} !important`:void 0;return Ct?y==="ltr"?{borderRight:De}:{borderLeft:De}:De?{borderBottom:Le||$e||Ze&&!Rt?De:void 0,borderLeft:Te||Pe||(Le||$e)&&at?De:void 0,borderRight:Te||Pe||(Le||$e)&&Re?De:void 0,borderTop:Le||$e?De:void 0}:void 0},[F.isResizingColumn,H,U,W,X,u]),se=T&&ce.columnDefType!=="group"&&ne.getIsPinned(),J=bBe({cell:s,table:d}),Z=J&&!["custom","modal"].includes(w)&&(w==="table"||z?.id===oe.id||G?.id===s.id)&&!oe.getIsGrouped(),ue=J&&x==="row"&&N?.id===oe.id,de=(nt(C,s)===!0||nt(ce.enableClickToCopy,s)===!0)&&!["context-menu",!1].includes(nt(ce.enableClickToCopy,s)),be=nt(S,s),le={cell:s,table:d,staticColumnIndex:c,staticRowIndex:u},Se=Te=>{var Pe;(Pe=he?.onDoubleClick)===null||Pe===void 0||Pe.call(he,Te),xBe({cell:s,table:d})},ye=Te=>{var Pe;(Pe=he?.onDragEnter)===null||Pe===void 0||Pe.call(he,Te),E&&W?.id==="drop-zone"&&$(null),k&&H&&$(ce.enableColumnOrdering!==!1?ne:null)},ve=Te=>{ce.enableColumnOrdering!==!1&&Te.preventDefault()},_e=Te=>{var Pe;(Pe=he?.onContextMenu)===null||Pe===void 0||Pe.call(he,Te),be&&(Te.preventDefault(),d.setActionCell(s),d.refs.actionCellRef.current=Te.currentTarget)},Ae=Te=>{var Pe;(Pe=he?.onKeyDown)===null||Pe===void 0||Pe.call(he,Te),Vre({cell:s,cellValue:s.getValue(),event:Te,table:d})};return h.jsx(r4,Object.assign({align:p.direction==="rtl"?"right":"left","data-index":c,"data-pinned":!!se||void 0,tabIndex:A?0:void 0},he,{onKeyDown:Ae,onContextMenu:_e,onDoubleClick:Se,onDragEnter:ye,onDragOver:ve,sx:Te=>Object.assign(Object.assign({"&:hover":{outline:D?.id===s.id||w==="cell"&&J||w==="table"&&(ue||Z)?`1px solid ${Te.palette.grey[500]}`:void 0,textOverflow:"clip"},alignItems:O?.startsWith("grid")?"center":void 0,cursor:be?"context-menu":J&&w==="cell"?"pointer":"inherit",outline:D?.id===s.id?`1px solid ${Te.palette.grey[500]}`:void 0,outlineOffset:"-1px",overflow:"hidden",p:V==="compact"?re==="display"?"0 0.5rem":"0.5rem":V==="comfortable"?re==="display"?"0.5rem 0.75rem":"1rem":re==="display"?"1rem 1.25rem":"1.5rem",textOverflow:re!=="display"?"ellipsis":void 0,whiteSpace:oe.getIsPinned()||V==="compact"?"nowrap":"normal"},Xre({column:ne,table:d,tableCellProps:he,theme:Te})),fe),children:(t=he.children)!==null&&t!==void 0?t:h.jsxs(h.Fragment,{children:[s.getIsPlaceholder()?(r=(n=ce.PlaceholderCell)===null||n===void 0?void 0:n.call(ce,{cell:s,column:ne,row:oe,table:d}))!==null&&r!==void 0?r:null:ee!==!1&&(Q||ee)?h.jsx(Eht,Object.assign({animation:"wave",height:20,width:xe},ie)):re==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(ne.id)||!oe.getIsGrouped())?(i=ce.Cell)===null||i===void 0?void 0:i.call(ce,{cell:s,column:ne,renderedCellValue:s.renderValue(),row:oe,rowRef:l,staticColumnIndex:c,staticRowIndex:u,table:d}):ue||Z?h.jsx(BBe,{cell:s,table:d}):de&&ce.enableClickToCopy!==!1?h.jsx(I0n,{cell:s,table:d,children:h.jsx(S1e,Object.assign({},le))}):h.jsx(S1e,Object.assign({},le)),s.getIsGrouped()&&!ce.GroupedCell&&h.jsxs(h.Fragment,{children:[" (",(o=oe.subRows)===null||o===void 0?void 0:o.length,")"]})]})}))},j0n=R.memo(UBe,(e,t)=>t.cell===e.cell),$0n=e=>{var{parentRowRef:t,row:n,rowVirtualizer:r,staticRowIndex:i,table:o,virtualRow:s}=e,a=cn(e,["parentRowRef","row","rowVirtualizer","staticRowIndex","table","virtualRow"]);const{getState:l,getVisibleLeafColumns:c,options:{layoutMode:u,mrtTheme:{baseBackgroundColor:d},muiDetailPanelProps:f,muiTableBodyRowProps:p,renderDetailPanel:g}}=o,{isLoading:y}=l(),v=nt(p,{isDetailPanel:!0,row:n,staticRowIndex:i,table:o}),x=Object.assign(Object.assign({},nt(f,{row:n,table:o})),a),w=!y&&g?.({row:n,table:o});return h.jsx(i4,Object.assign({className:"Mui-TableBodyCell-DetailPanel","data-index":g?i*2+1:i,ref:S=>{var C;S&&((C=r?.measureElement)===null||C===void 0||C.call(r,S))}},v,{sx:S=>{var C,k;return Object.assign({display:u?.startsWith("grid")?"flex":void 0,position:s?"absolute":void 0,top:s?`${(k=(C=t.current)===null||C===void 0?void 0:C.getBoundingClientRect())===null||k===void 0?void 0:k.height}px`:void 0,transform:s?`translateY(${s?.start}px)`:void 0,width:"100%"},nt(v?.sx,S))},children:h.jsx(r4,Object.assign({className:"Mui-TableBodyCell-DetailPanel",colSpan:c().length},x,{sx:S=>Object.assign({backgroundColor:s?d:void 0,borderBottom:n.getIsExpanded()?void 0:"none",display:u?.startsWith("grid")?"flex":void 0,py:w&&n.getIsExpanded()?"1rem":0,transition:s?void 0:"all 150ms ease-in-out",width:"100%"},nt(x?.sx,S)),children:s?n.getIsExpanded()&&w:h.jsx(Jm,{in:n.getIsExpanded(),mountOnEnter:!0,unmountOnExit:!0,children:w})}))}))},Pj=e=>{var t,n,r,i,{columnVirtualizer:o,numRows:s,pinnedRowIds:a,row:l,rowVirtualizer:c,staticRowIndex:u,table:d,virtualRow:f}=e,p=cn(e,["columnVirtualizer","numRows","pinnedRowIds","row","rowVirtualizer","staticRowIndex","table","virtualRow"]);const g=xt(),{getState:y,options:{enableRowOrdering:v,enableRowPinning:x,enableStickyFooter:w,enableStickyHeader:S,layoutMode:C,memoMode:k,mrtTheme:{baseBackgroundColor:T,pinnedRowBackgroundColor:E,selectedRowBackgroundColor:A},muiTableBodyRowProps:O,renderDetailPanel:I,rowPinningDisplayMode:j},refs:{tableFooterRef:P,tableHeadRef:$},setHoveredRow:D}=d,{density:F,draggingColumn:N,draggingRow:V,editingCell:H,editingRow:U,hoveredRow:G,isFullScreen:z,rowPinning:W}=y(),X=l.getVisibleCells(),{virtualColumns:Q,virtualPaddingLeft:ee,virtualPaddingRight:ne}=o??{},oe=H3({row:l,table:d}),ce=x&&l.getIsPinned(),re=V?.id===l.id,ge=G?.id===l.id,he=Object.assign(Object.assign({},nt(O,{row:l,staticRowIndex:u,table:d})),p),[ie,xe]=R.useMemo(()=>!x||!j?.includes("sticky")||!a||!l.getIsPinned()?[]:[[...a].reverse().indexOf(l.id),a.indexOf(l.id)],[a,W]),q=(S||z)&&((t=$.current)===null||t===void 0?void 0:t.clientHeight)||0,fe=w&&((n=P.current)===null||n===void 0?void 0:n.clientHeight)||0,se=nt(he?.sx,g),J=F==="compact"?37:F==="comfortable"?53:69,ue=parseInt((i=(r=he?.style)===null||r===void 0?void 0:r.height)!==null&&i!==void 0?i:se?.height,10)||void 0||J,de=ve=>{v&&V&&D(l)},be=ve=>{ve.preventDefault()},le=R.useRef(null),Se=oe?A:ce?E:void 0,ye=he?.hover!==!1?oe?Se:g.palette.mode==="dark"?`${Mr(T,.3)}`:`${es(T,.3)}`:void 0;return h.jsxs(h.Fragment,{children:[h.jsxs(i4,Object.assign({"data-index":I?u*2:u,"data-pinned":!!ce||void 0,"data-selected":oe||void 0,onDragEnter:de,onDragOver:be,ref:ve=>{ve&&(le.current=ve,c?.measureElement(ve))},selected:oe},he,{style:Object.assign({transform:f?`translateY(${f.start}px)`:void 0},he?.style),sx:ve=>Object.assign({"&:hover td:after":ye?Object.assign({backgroundColor:ut(ye,.3)},YG):void 0,backgroundColor:`${T} !important`,bottom:!f&&ie!==void 0&&ce?`${ie*ue+(w?fe-1:0)}px`:void 0,boxSizing:"border-box",display:C?.startsWith("grid")?"flex":void 0,opacity:ce?.97:re||ge?.5:1,position:f?"absolute":j?.includes("sticky")&&ce?"sticky":"relative",td:Object.assign({},$Be({table:d,theme:ve})),"td:after":Se?Object.assign({backgroundColor:Se},YG):void 0,top:f?0:xe!==void 0&&ce?`${xe*ue+(S||z?q-1:0)}px`:void 0,transition:f?"none":"all 150ms ease-in-out",width:"100%",zIndex:j?.includes("sticky")&&ce?2:0},se),children:[ee?h.jsx("td",{style:{display:"flex",width:ee}}):null,(Q??X).map((ve,_e)=>{let Ae=ve;o&&(_e=ve.index,Ae=X[_e]);const Te={cell:Ae,numRows:s,rowRef:le,staticColumnIndex:_e,staticRowIndex:u,table:d},Pe=`${Ae.id}-${u}`;return Ae?k==="cells"&&Ae.column.columnDef.columnDefType==="data"&&!N&&!V&&H?.id!==Ae.id&&U?.id!==l.id?h.jsx(j0n,Object.assign({},Te),Pe):h.jsx(UBe,Object.assign({},Te),Pe):null}),ne?h.jsx("td",{style:{display:"flex",width:ne}}):null]})),I&&!l.getIsGrouped()&&h.jsx($0n,{parentRowRef:le,row:l,rowVirtualizer:c,staticRowIndex:u,table:d,virtualRow:f})]})},MU=R.memo(Pj,(e,t)=>e.row===t.row&&e.staticRowIndex===t.staticRowIndex),VBe=e=>{var t,n,r,i,o,s,{columnVirtualizer:a,table:l}=e,c=cn(e,["columnVirtualizer","table"]);const{getBottomRows:u,getIsSomeRowsPinned:d,getRowModel:f,getState:p,getTopRows:g,options:{enableStickyFooter:y,enableStickyHeader:v,layoutMode:x,localization:w,memoMode:S,muiTableBodyProps:C,renderDetailPanel:k,renderEmptyRowsFallback:T,rowPinningDisplayMode:E},refs:{tableFooterRef:A,tableHeadRef:O,tablePaperRef:I}}=l,{columnFilters:j,globalFilter:P,isFullScreen:$,rowPinning:D}=p(),F=Object.assign(Object.assign({},nt(C,{table:l})),c),N=(v||$)&&((t=O.current)===null||t===void 0?void 0:t.clientHeight)||0,V=y&&((n=A.current)===null||n===void 0?void 0:n.clientHeight)||0,H=R.useMemo(()=>{var X,Q;return!(!((X=D.bottom)===null||X===void 0)&&X.length)&&!(!((Q=D.top)===null||Q===void 0)&&Q.length)?[]:f().rows.filter(ee=>ee.getIsPinned()).map(ee=>ee.id)},[D,f().rows]),U=O0n(l),G=D0n(l,U),{virtualRows:z}=G??{},W={columnVirtualizer:a,numRows:U.length,table:l};return h.jsxs(h.Fragment,{children:[!E?.includes("sticky")&&d("top")&&h.jsx($8,Object.assign({},F,{sx:X=>Object.assign({display:x?.startsWith("grid")?"grid":void 0,position:"sticky",top:N-1,zIndex:1},nt(F?.sx,X)),children:g().map((X,Q)=>{const ee=Object.assign(Object.assign({},W),{row:X,staticRowIndex:Q});return S==="rows"?h.jsx(MU,Object.assign({},ee),X.id):h.jsx(Pj,Object.assign({},ee),X.id)})})),h.jsx($8,Object.assign({},F,{sx:X=>Object.assign({display:x?.startsWith("grid")?"grid":void 0,height:G?`${G.getTotalSize()}px`:void 0,minHeight:U.length?void 0:"100px",position:"relative"},nt(F?.sx,X)),children:(r=F?.children)!==null&&r!==void 0?r:U.length?h.jsx(h.Fragment,{children:(z??U).map((X,Q)=>{let ee=X;if(G){if(k){if(X.index%2===1)return null;Q=X.index/2}else Q=X.index;ee=U[Q]}const ne=Object.assign(Object.assign({},W),{pinnedRowIds:H,row:ee,rowVirtualizer:G,staticRowIndex:Q,virtualRow:G?X:void 0}),oe=`${ee.id}-${ee.index}`;return S==="rows"?h.jsx(MU,Object.assign({},ne),oe):h.jsx(Pj,Object.assign({},ne),oe)})}):h.jsx("tr",{style:{display:x?.startsWith("grid")?"grid":void 0},children:h.jsx("td",{colSpan:l.getVisibleLeafColumns().length,style:{display:x?.startsWith("grid")?"grid":void 0},children:(i=T?.({table:l}))!==null&&i!==void 0?i:h.jsx(ae,{sx:{color:"text.secondary",fontStyle:"italic",maxWidth:`min(100vw, ${(s=(o=I.current)===null||o===void 0?void 0:o.clientWidth)!==null&&s!==void 0?s:360}px)`,py:"2rem",textAlign:"center",width:"100%"},children:P||j.length?w.noResultsFound:w.noRecordsToDisplay})})})})),!E?.includes("sticky")&&d("bottom")&&h.jsx($8,Object.assign({},F,{sx:X=>Object.assign({bottom:V-1,display:x?.startsWith("grid")?"grid":void 0,position:"sticky",zIndex:1},nt(F?.sx,X)),children:u().map((X,Q)=>{const ee=Object.assign(Object.assign({},W),{row:X,staticRowIndex:Q});return S==="rows"?h.jsx(MU,Object.assign({},ee),X.id):h.jsx(Pj,Object.assign({},ee),X.id)})}))]})},F0n=R.memo(VBe,(e,t)=>e.table.options.data===t.table.options.data),L0n=e=>{var t,n,r,{footer:i,staticColumnIndex:o,table:s}=e,a=cn(e,["footer","staticColumnIndex","table"]);const l=xt(),{getState:c,options:{enableColumnPinning:u,muiTableFooterCellProps:d,enableKeyboardShortcuts:f}}=s,{density:p}=c(),{column:g}=i,{columnDef:y}=g,{columnDefType:v}=y,x=u&&y.columnDefType!=="group"&&g.getIsPinned(),w={column:g,table:s},S=Object.assign(Object.assign(Object.assign({},nt(d,w)),nt(y.muiTableFooterCellProps,w)),a),C=k=>{var T;(T=S?.onKeyDown)===null||T===void 0||T.call(S,k),Vre({event:k,cellValue:i.column.columnDef.footer,table:s})};return h.jsx(r4,Object.assign({align:v==="group"?"center":l.direction==="rtl"?"right":"left",colSpan:i.colSpan,"data-index":o,"data-pinned":!!x||void 0,tabIndex:f?0:void 0,variant:"footer"},S,{onKeyDown:C,sx:k=>Object.assign(Object.assign({fontWeight:"bold",p:p==="compact"?"0.5rem":p==="comfortable"?"1rem":"1.5rem",verticalAlign:"top"},Xre({column:g,header:i,table:s,tableCellProps:S,theme:k})),nt(S?.sx,k)),children:(t=S.children)!==null&&t!==void 0?t:i.isPlaceholder?null:(r=(n=nt(y.Footer,{column:g,footer:i,table:s}))!==null&&n!==void 0?n:y.footer)!==null&&r!==void 0?r:null}))},N0n=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,o=cn(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:s,mrtTheme:{baseBackgroundColor:a},muiTableFooterRowProps:l}}=i,{virtualColumns:c,virtualPaddingLeft:u,virtualPaddingRight:d}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(p=>typeof p.column.columnDef.footer=="string"&&!!p.column.columnDef.footer||p.column.columnDef.Footer)))return null;const f=Object.assign(Object.assign({},nt(l,{footerGroup:r,table:i})),o);return h.jsxs(i4,Object.assign({},f,{sx:p=>Object.assign({backgroundColor:a,display:s?.startsWith("grid")?"flex":void 0,position:"relative",width:"100%"},nt(f?.sx,p)),children:[u?h.jsx("th",{style:{display:"flex",width:u}}):null,(c??r.headers).map((p,g)=>{let y=p;return n&&(g=p.index,y=r.headers[g]),y?h.jsx(L0n,{footer:y,staticColumnIndex:g,table:i},y.id):null}),d?h.jsx("th",{style:{display:"flex",width:d}}):null]}))},z0n=e=>{var{columnVirtualizer:t,table:n}=e,r=cn(e,["columnVirtualizer","table"]);const{getState:i,options:{enableStickyFooter:o,layoutMode:s,muiTableFooterProps:a},refs:{tableFooterRef:l}}=n,{isFullScreen:c}=i(),u=Object.assign(Object.assign({},nt(a,{table:n})),r),d=(c||o)&&o!==!1,f=n.getFooterGroups();return f.some(p=>{var g;return(g=p.headers)===null||g===void 0?void 0:g.some(y=>typeof y.column.columnDef.footer=="string"&&!!y.column.columnDef.footer||y.column.columnDef.Footer)})?h.jsx(Lgt,Object.assign({},u,{ref:p=>{l.current=p,u?.ref&&(u.ref.current=p)},sx:p=>Object.assign({bottom:d?0:void 0,display:s?.startsWith("grid")?"grid":void 0,opacity:d?.97:void 0,outline:d?p.palette.mode==="light"?`1px solid ${p.palette.grey[300]}`:`1px solid ${p.palette.grey[700]}`:void 0,position:d?"sticky":"relative",zIndex:d?1:void 0},nt(u?.sx,p)),children:f.map(p=>h.jsx(N0n,{columnVirtualizer:t,footerGroup:p,table:n},p.id))})):null},B0n=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],ZO=["between","betweenInclusive","inNumberRange"],AU=["empty","notEmpty"],U0n=["arrIncludesSome","arrIncludesAll","arrIncludes"],V0n=["range-slider","date-range","datetime-range","range"],Zre=e=>{var t,n,r,i,{anchorEl:o,header:s,onSelect:a,setAnchorEl:l,setFilterValue:c,table:u}=e,d=cn(e,["anchorEl","header","onSelect","setAnchorEl","setFilterValue","table"]);const{getState:f,options:{columnFilterModeOptions:p,globalFilterModeOptions:g,localization:y,mrtTheme:{menuBackgroundColor:v},renderColumnFilterModeMenuItems:x,renderGlobalFilterModeMenuItems:w},setColumnFilterFns:S,setGlobalFilterFn:C}=u,{density:k,globalFilterFn:T}=f(),{column:E}=s??{},{columnDef:A}=E??{},O=E?.getFilterValue();let I=(t=A?.columnFilterModeOptions)!==null&&t!==void 0?t:p;V0n.includes(A?.filterVariant)&&(I=[...ZO,...I??[]].filter(D=>ZO.includes(D)));const j=R.useMemo(()=>B0n(y).filter(D=>A?I===void 0||I?.includes(D.option):(!g||g.includes(D.option))&&["contains","fuzzy","startsWith"].includes(D.option)),[]),P=D=>{var F,N;const V=(F=A?._filterFn)!==null&&F!==void 0?F:"";!s||!E?C(D):D!==V&&(S(H=>Object.assign(Object.assign({},H),{[s.id]:D})),AU.includes(D)?O!==" "&&!AU.includes(V)?E.setFilterValue(" "):O&&E.setFilterValue(O):A?.filterVariant==="multi-select"||U0n.includes(D)?O instanceof String||O?.length?(E.setFilterValue([]),c?.([])):O&&E.setFilterValue(O):!((N=A?.filterVariant)===null||N===void 0)&&N.includes("range")||ZO.includes(D)?!Array.isArray(O)||!O?.every(H=>H==="")&&!ZO.includes(V)?(E.setFilterValue(["",""]),c?.("")):E.setFilterValue(O):Array.isArray(O)?(E.setFilterValue(""),c?.("")):O===" "&&AU.includes(V)?E.setFilterValue(void 0):E.setFilterValue(O)),l(null),a?.()},$=s&&A?A._filterFn:T;return h.jsx(Uo,Object.assign({MenuListProps:{dense:k==="compact",sx:{backgroundColor:v}},anchorEl:o,anchorOrigin:{horizontal:"right",vertical:"center"},disableScrollLock:!0,onClose:()=>l(null),open:!!o},d,{children:(i=s&&E&&A?(r=(n=A.renderColumnFilterModeMenuItems)===null||n===void 0?void 0:n.call(A,{column:E,internalFilterOptions:j,onSelectFilterMode:P,table:u}))!==null&&r!==void 0?r:x?.({column:E,internalFilterOptions:j,onSelectFilterMode:P,table:u}):w?.({internalFilterOptions:j,onSelectFilterMode:P,table:u}))!==null&&i!==void 0?i:j.map(({divider:D,label:F,option:N,symbol:V},H)=>h.jsx(oa,{divider:D,icon:V,label:F,onClick:()=>P(N),selected:N===$,table:u,value:N},H))}))},H0n=e=>{var t,n,r,i,o,s,a,l,c,u,{anchorEl:d,header:f,setAnchorEl:p,table:g}=e,y=cn(e,["anchorEl","header","setAnchorEl","table"]);const{getAllLeafColumns:v,getState:x,options:{columnFilterDisplayMode:w,columnFilterModeOptions:S,enableColumnFilterModes:C,enableColumnFilters:k,enableColumnPinning:T,enableColumnResizing:E,enableGrouping:A,enableHiding:O,enableSorting:I,enableSortingRemoval:j,icons:{ClearAllIcon:P,DynamicFeedIcon:$,FilterListIcon:D,FilterListOffIcon:F,PushPinIcon:N,RestartAltIcon:V,SortIcon:H,ViewColumnIcon:U,VisibilityOffIcon:G},localization:z,mrtTheme:{menuBackgroundColor:W},renderColumnActionsMenuItems:X},refs:{filterInputRefs:Q},setColumnFilterFns:ee,setColumnOrder:ne,setColumnSizingInfo:oe,setShowColumnFilters:ce}=g,{column:re}=f,{columnDef:ge}=re,{columnSizing:he,columnVisibility:ie,density:xe,showColumnFilters:q}=x(),fe=re.getFilterValue(),[se,J]=R.useState(null),Z=()=>{re.clearSorting(),p(null)},ue=()=>{re.toggleSorting(!1),p(null)},de=()=>{re.toggleSorting(!0),p(null)},be=()=>{oe(Re=>Object.assign(Object.assign({},Re),{isResizingColumn:!1})),re.resetSize(),p(null)},le=()=>{re.toggleVisibility(!1),p(null)},Se=Re=>{re.pin(Re),p(null)},ye=()=>{re.toggleGrouping(),ne(Re=>["mrt-row-expand",...Re]),p(null)},ve=()=>{re.setFilterValue(void 0),p(null),["empty","notEmpty"].includes(ge._filterFn)&&ee(Re=>{var Ze;return Object.assign(Object.assign({},Re),{[f.id]:(Ze=Le?.[0])!==null&&Ze!==void 0?Ze:"fuzzy"})})},_e=()=>{ce(!0),queueMicrotask(()=>{var Re,Ze;return(Ze=(Re=Q.current)===null||Re===void 0?void 0:Re[`${re.id}-0`])===null||Ze===void 0?void 0:Ze.focus()}),p(null)},Ae=()=>{v().filter(Re=>Re.columnDef.enableHiding!==!1).forEach(Re=>Re.toggleVisibility(!0)),p(null)},Te=Re=>{Re.stopPropagation(),J(Re.currentTarget)},Pe=!!ge.filterSelectOptions,Le=(t=ge?.columnFilterModeOptions)!==null&&t!==void 0?t:S,$e=C&&ge.enableColumnFilterModes!==!1&&!Pe&&(Le===void 0||!!Le?.length),at=[...I&&re.getCanSort()?[j!==!1&&h.jsx(oa,{disabled:re.getIsSorted()===!1,icon:h.jsx(P,{}),label:z.clearSort,onClick:Z,table:g},0),h.jsx(oa,{disabled:re.getIsSorted()==="asc",icon:h.jsx(H,{style:{transform:"rotate(180deg) scaleX(-1)"}}),label:(n=z.sortByColumnAsc)===null||n===void 0?void 0:n.replace("{column}",String(ge.header)),onClick:ue,table:g},1),h.jsx(oa,{disabled:re.getIsSorted()==="desc",divider:k||A||O,icon:h.jsx(H,{}),label:(r=z.sortByColumnDesc)===null||r===void 0?void 0:r.replace("{column}",String(ge.header)),onClick:de,table:g},2)]:[],...k&&re.getCanFilter()?[h.jsx(oa,{disabled:!fe||Array.isArray(fe)&&!fe.filter(Re=>Re).length,icon:h.jsx(F,{}),label:z.clearFilter,onClick:ve,table:g},3),w==="subheader"&&h.jsx(oa,{disabled:q&&!C,divider:A||O,icon:h.jsx(D,{}),label:(i=z.filterByColumn)===null||i===void 0?void 0:i.replace("{column}",String(ge.header)),onClick:q?Te:_e,onOpenSubMenu:$e?Te:void 0,table:g},4),$e&&h.jsx(Zre,{anchorEl:se,header:f,onSelect:_e,setAnchorEl:J,table:g},5)].filter(Boolean):[],...A&&re.getCanGroup()?[h.jsx(oa,{divider:T,icon:h.jsx($,{}),label:(o=z[re.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||o===void 0?void 0:o.replace("{column}",String(ge.header)),onClick:ye,table:g},6)]:[],...T&&re.getCanPin()?[h.jsx(oa,{disabled:re.getIsPinned()==="left"||!re.getCanPin(),icon:h.jsx(N,{style:{transform:"rotate(90deg)"}}),label:z.pinToLeft,onClick:()=>Se("left"),table:g},7),h.jsx(oa,{disabled:re.getIsPinned()==="right"||!re.getCanPin(),icon:h.jsx(N,{style:{transform:"rotate(-90deg)"}}),label:z.pinToRight,onClick:()=>Se("right"),table:g},8),h.jsx(oa,{disabled:!re.getIsPinned(),divider:O,icon:h.jsx(N,{}),label:z.unpin,onClick:()=>Se(!1),table:g},9)]:[],...E&&re.getCanResize()?[h.jsx(oa,{disabled:he[re.id]===void 0,icon:h.jsx(V,{}),label:z.resetColumnSize,onClick:be,table:g},10)]:[],...O?[h.jsx(oa,{disabled:!re.getCanHide(),icon:h.jsx(G,{}),label:(s=z.hideColumn)===null||s===void 0?void 0:s.replace("{column}",String(ge.header)),onClick:le,table:g},11),h.jsx(oa,{disabled:!Object.values(ie).filter(Re=>!Re).length,icon:h.jsx(U,{}),label:(a=z.showAllColumns)===null||a===void 0?void 0:a.replace("{column}",String(ge.header)),onClick:Ae,table:g},12)]:[]].filter(Boolean);return h.jsx(Uo,Object.assign({MenuListProps:{dense:xe==="compact",sx:{backgroundColor:W}},anchorEl:d,disableScrollLock:!0,onClose:()=>p(null),open:!!d},y,{children:(u=(c=(l=ge.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(ge,{closeMenu:()=>p(null),column:re,internalColumnMenuItems:at,table:g}))!==null&&c!==void 0?c:X?.({closeMenu:()=>p(null),column:re,internalColumnMenuItems:at,table:g}))!==null&&u!==void 0?u:at}))},W0n=e=>{var t,n,{header:r,table:i}=e,o=cn(e,["header","table"]);const{options:{icons:{MoreVertIcon:s},localization:a,muiColumnActionsButtonProps:l}}=i,{column:c}=r,{columnDef:u}=c,[d,f]=R.useState(null),p=y=>{y.stopPropagation(),y.preventDefault(),f(y.currentTarget)},g=Object.assign(Object.assign(Object.assign({},nt(l,{column:c,table:i})),nt(u.muiColumnActionsButtonProps,{column:c,table:i})),o);return h.jsxs(h.Fragment,{children:[h.jsx(Dt,Object.assign({},Wu("top"),{title:(t=g?.title)!==null&&t!==void 0?t:a.columnActions,children:h.jsx(Pt,Object.assign({"aria-label":a.columnActions,onClick:p,size:"small"},g,{sx:y=>Object.assign({"&:hover":{opacity:1},height:"2rem",m:"-8px -4px",opacity:.3,transition:"all 150ms",width:"2rem"},nt(g?.sx,y)),title:void 0,children:(n=g?.children)!==null&&n!==void 0?n:h.jsx(s,{style:{transform:"scale(0.9)"}})}))})),d&&h.jsx(H0n,{anchorEl:d,header:r,setAnchorEl:f,table:i})]})},q0n=e=>{var t,n,r,{column:i,table:o}=e,s=cn(e,["column","table"]);const{getState:a,options:{localization:l,muiFilterCheckboxProps:c}}=o,{density:u}=a(),{columnDef:d}=i,f=Object.assign(Object.assign(Object.assign({},nt(c,{column:i,table:o})),nt(d.muiFilterCheckboxProps,{column:i,table:o})),s),p=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header);return h.jsx(Dt,Object.assign({},Wu(),{title:(n=f?.title)!==null&&n!==void 0?n:p,children:h.jsx(Su,{control:h.jsx(Td,Object.assign({checked:i.getFilterValue()==="true",color:i.getFilterValue()===void 0?"default":"primary",indeterminate:i.getFilterValue()===void 0,size:u==="compact"?"small":"medium"},f,{onChange:(g,y)=>{var v;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(v=f?.onChange)===null||v===void 0||v.call(f,g,y)},onClick:g=>{var y;g.stopPropagation(),(y=f?.onClick)===null||y===void 0||y.call(f,g)},sx:g=>Object.assign({height:"2.5rem",width:"2.5rem"},nt(f?.sx,g))})),disableTypography:!0,label:(r=f.title)!==null&&r!==void 0?r:p,sx:{color:"text.secondary",fontWeight:"normal",mt:"-4px"},title:void 0})}))},HBe=e=>{var t,n,r,i,o,s,a,l,c,u,d,f,p,g,y,v,x,w,S,C,k,T,E,{header:A,rangeFilterIndex:O,table:I}=e,j=cn(e,["header","rangeFilterIndex","table"]);const{options:{enableColumnFilterModes:P,icons:{CloseIcon:$,FilterListIcon:D},localization:F,manualFiltering:N,muiFilterAutocompleteProps:V,muiFilterDatePickerProps:H,muiFilterDateTimePickerProps:U,muiFilterTextFieldProps:G,muiFilterTimePickerProps:z},refs:{filterInputRefs:W},setColumnFilterFns:X}=I,{column:Q}=A,{columnDef:ee}=Q,{filterVariant:ne}=ee,oe={column:Q,rangeFilterIndex:O,table:I},ce=Object.assign(Object.assign(Object.assign({},nt(G,oe)),nt(ee.muiFilterTextFieldProps,oe)),j),re=Object.assign(Object.assign({},nt(V,oe)),nt(ee.muiFilterAutocompleteProps,oe)),ge=Object.assign(Object.assign({},nt(H,oe)),nt(ee.muiFilterDatePickerProps,oe)),he=Object.assign(Object.assign({},nt(U,oe)),nt(ee.muiFilterDateTimePickerProps,oe)),ie=Object.assign(Object.assign({},nt(z,oe)),nt(ee.muiFilterTimePickerProps,oe)),{allowedColumnFilterOptions:xe,currentFilterOption:q,facetedUniqueValues:fe,isAutocompleteFilter:se,isDateFilter:J,isMultiSelectFilter:Z,isRangeFilter:ue,isSelectFilter:de,isTextboxFilter:be}=ez({header:A,table:I}),le=gBe({header:A,table:I}),Se=["empty","notEmpty"].includes(q)?F[`filter${((n=(t=q?.charAt)===null||t===void 0?void 0:t.call(q,0))===null||n===void 0?void 0:n.toUpperCase())+q?.slice(1)}`]:"",ye=ue?O===0?F.min:O===1?F.max:"":(r=ce?.placeholder)!==null&&r!==void 0?r:(i=F.filterByColumn)===null||i===void 0?void 0:i.replace("{column}",String(ee.header)),ve=!!(P&&ee.enableColumnFilterModes!==!1&&!O&&(xe===void 0||xe?.length)),[_e,Ae]=R.useState(null),[Te,Pe]=R.useState(()=>{var ct,Yt;return Z?Q.getFilterValue()||[]:ue?((ct=Q.getFilterValue())===null||ct===void 0?void 0:ct[O])||"":se?typeof Q.getFilterValue()=="string"?Q.getFilterValue():"":(Yt=Q.getFilterValue())!==null&&Yt!==void 0?Yt:""}),[Le,$e]=R.useState(()=>se&&Q.getFilterValue()||null),at=R.useCallback(Ub(ct=>{ue?Q.setFilterValue(Yt=>{const St=Yt??["",""];return St[O]=ct??void 0,St}):Q.setFilterValue(ct??void 0)},be?N?400:200:1),[]),Re=ct=>{Pe(ct??""),at(ct)},Ze=ct=>{var Yt;const St=ce.type==="date"?ct.target.valueAsDate:ce.type==="number"?ct.target.valueAsNumber:ct.target.value;Re(St),(Yt=ce?.onChange)===null||Yt===void 0||Yt.call(ce,ct)},Rt=(ct,Yt,St)=>{Re(Yt)},Ct=ct=>{$e(ct),at(ch(ct).value)},De=()=>{Z?(Pe([]),Q.setFilterValue([])):ue?(Pe(""),Q.setFilterValue(ct=>{const Yt=Array.isArray(ct)&&ct||["",""];return Yt[O]=void 0,Yt})):se?($e(null),Pe("")):(Pe(""),Q.setFilterValue(void 0))},bt=()=>{Pe(""),Q.setFilterValue(void 0),X(ct=>{var Yt;return Object.assign(Object.assign({},ct),{[A.id]:(Yt=xe?.[0])!==null&&Yt!==void 0?Yt:"fuzzy"})})},Gt=ct=>{Ae(ct.currentTarget)},Cn=R.useRef(!1);if(R.useEffect(()=>{if(Cn.current){const ct=Q.getFilterValue();ct===void 0?De():Pe(ue&&O!==void 0?ct[O]:ct)}Cn.current=!0},[Q.getFilterValue()]),ee.Filter)return h.jsx(h.Fragment,{children:(o=ee.Filter)===null||o===void 0?void 0:o.call(ee,{column:Q,header:A,rangeFilterIndex:O,table:I})});const An=!se&&!J&&!Se?h.jsx(ob,{position:"end",sx:{mr:de||Z?"20px":void 0,visibility:((s=Te?.length)!==null&&s!==void 0?s:0)>0?"visible":"hidden"},children:h.jsx(Dt,{placement:"right",title:(a=F.clearFilter)!==null&&a!==void 0?a:"",children:h.jsx("span",{children:h.jsx(Pt,{"aria-label":F.clearFilter,disabled:!(!((l=Te?.toString())===null||l===void 0)&&l.length),onClick:De,size:"small",sx:{height:"2rem",transform:"scale(0.9)",width:"2rem"},children:h.jsx($,{})})})})}):null,Lt=ve?h.jsxs(ob,{position:"start",children:[h.jsx(Dt,{title:F.changeFilterMode,children:h.jsx("span",{children:h.jsx(Pt,{"aria-label":F.changeFilterMode,onClick:Gt,size:"small",sx:{height:"1.75rem",width:"1.75rem"},children:h.jsx(D,{})})})}),Se&&h.jsx(Ci,{label:Se,onDelete:bt})]}):null,qt=Object.assign(Object.assign({fullWidth:!0,helperText:ve?h.jsx("label",{children:F.filterMode.replace("{filterType}",F[`filter${((c=q?.charAt(0))===null||c===void 0?void 0:c.toUpperCase())+q?.slice(1)}`])}):null,inputRef:ct=>{W.current[`${Q.id}-${O??0}`]=ct,ce.inputRef&&(ce.inputRef=ct)},margin:"none",placeholder:Se||de||Z?void 0:ye,variant:"standard"},ce),{slotProps:Object.assign(Object.assign({},ce.slotProps),{formHelperText:Object.assign({sx:{fontSize:"0.75rem",lineHeight:"0.8rem",whiteSpace:"nowrap"}},(u=ce.slotProps)===null||u===void 0?void 0:u.formHelperText),input:An?Object.assign({endAdornment:An,startAdornment:Lt},(d=ce.slotProps)===null||d===void 0?void 0:d.input):Object.assign({startAdornment:Lt},(f=ce.slotProps)===null||f===void 0?void 0:f.input),htmlInput:Object.assign({"aria-label":ye,autoComplete:"off",disabled:!!Se,sx:{textOverflow:"ellipsis",width:Se?0:void 0},title:ye},(p=ce.slotProps)===null||p===void 0?void 0:p.htmlInput)}),onKeyDown:ct=>{var Yt;ct.stopPropagation(),(Yt=ce.onKeyDown)===null||Yt===void 0||Yt.call(ce,ct)},sx:ct=>Object.assign({minWidth:J?"160px":P&&O===0?"110px":ue?"100px":Se?"auto":"120px",mx:"-2px",p:0,width:"calc(100% + 4px)"},nt(ce?.sx,ct))}),ur={onChange:ct=>{Re(ct)},value:Te||null};return h.jsxs(h.Fragment,{children:[ne?.startsWith("time")?h.jsx(t0n,Object.assign({},ur,ie,{slotProps:{field:Object.assign({clearable:!0,onClear:()=>De()},(g=ie?.slotProps)===null||g===void 0?void 0:g.field),textField:Object.assign(Object.assign({},qt),(y=ie?.slotProps)===null||y===void 0?void 0:y.textField)}})):ne?.startsWith("datetime")?h.jsx(Vmn,Object.assign({},ur,he,{slotProps:{field:Object.assign({clearable:!0,onClear:()=>De()},(v=he?.slotProps)===null||v===void 0?void 0:v.field),textField:Object.assign(Object.assign({},qt),(x=he?.slotProps)===null||x===void 0?void 0:x.textField)}})):ne?.startsWith("date")?h.jsx(ugn,Object.assign({},ur,ge,{slotProps:{field:Object.assign({clearable:!0,onClear:()=>De()},(w=ge?.slotProps)===null||w===void 0?void 0:w.field),textField:Object.assign(Object.assign({},qt),(S=ge?.slotProps)===null||S===void 0?void 0:S.textField)}})):se?h.jsx(rb,Object.assign({freeSolo:!0,getOptionLabel:ct=>ch(ct).label,onChange:(ct,Yt)=>Ct(Yt),options:(C=le?.map(ct=>ch(ct)))!==null&&C!==void 0?C:[],inputValue:Te,onInputChange:Rt},re,{renderInput:ct=>{var Yt,St,Ln,vt,Xt;return h.jsx(zn,Object.assign({},qt,ct,{slotProps:Object.assign(Object.assign(Object.assign({},ct.slotProps),qt.slotProps),{input:Object.assign(Object.assign(Object.assign({},ct.InputProps),(Yt=ct.slotProps)===null||Yt===void 0?void 0:Yt.input),{startAdornment:(Ln=(St=qt?.slotProps)===null||St===void 0?void 0:St.input)===null||Ln===void 0?void 0:Ln.startAdornment}),htmlInput:Object.assign(Object.assign(Object.assign({},ct.inputProps),(vt=ct.slotProps)===null||vt===void 0?void 0:vt.htmlInput),(Xt=qt?.slotProps)===null||Xt===void 0?void 0:Xt.htmlInput)}),onClick:Pn=>Pn.stopPropagation()}))},value:Le})):h.jsx(zn,Object.assign({select:de||Z},qt,{slotProps:Object.assign(Object.assign({},qt.slotProps),{inputLabel:Object.assign({shrink:de||Z},(k=qt.slotProps)===null||k===void 0?void 0:k.inputLabel),select:Object.assign({MenuProps:{disableScrollLock:!0},displayEmpty:!0,multiple:Z,renderValue:Z?ct=>!Array.isArray(ct)||ct?.length===0?h.jsx(Y,{sx:{opacity:.5},children:ye}):h.jsx(Y,{sx:{display:"flex",flexWrap:"wrap",gap:"2px"},children:ct.map(Yt=>{const St=le?.find(Ln=>ch(Ln).value===Yt);return h.jsx(Ci,{label:ch(St).label},Yt)})}):void 0},(T=qt.slotProps)===null||T===void 0?void 0:T.select)}),onChange:Ze,onClick:ct=>ct.stopPropagation(),value:Z?Array.isArray(Te)?Te:[]:Te,children:(de||Z)&&[h.jsx($t,{disabled:!0,divider:!0,hidden:!0,value:"",children:h.jsx(Y,{sx:{opacity:.5},children:ye})},"p"),(E=ce.children)!==null&&E!==void 0?E:le?.map((ct,Yt)=>{var St;const{label:Ln,value:vt}=ch(ct);return h.jsxs($t,{sx:{alignItems:"center",display:"flex",gap:"0.5rem",m:0},value:vt,children:[Z&&h.jsx(Td,{checked:((St=Q.getFilterValue())!==null&&St!==void 0?St:[]).includes(vt),sx:{mr:"0.5rem"}}),Ln," ",!ee.filterSelectOptions&&`(${fe.get(vt)})`]},`${Yt}-${vt}`)})]})),h.jsx(Zre,{anchorEl:_e,header:A,setAnchorEl:Ae,setFilterValue:Pe,table:I})]})},G0n=e=>{var{header:t,table:n}=e,r=cn(e,["header","table"]);return h.jsx(Y,Object.assign({},r,{sx:i=>Object.assign({display:"grid",gap:"1rem",gridTemplateColumns:"1fr 1fr"},nt(r?.sx,i)),children:[0,1].map(i=>h.jsx(HBe,{header:t,rangeFilterIndex:i,table:n},i))}))},Y0n=e=>{var t,n,{header:r,table:i}=e,o=cn(e,["header","table"]);const{options:{enableColumnFilterModes:s,localization:a,muiFilterSliderProps:l},refs:{filterInputRefs:c}}=i,{column:u}=r,{columnDef:d}=u,f=d._filterFn,p=s&&d.enableColumnFilterModes!==!1,g=Object.assign(Object.assign(Object.assign({},nt(l,{column:u,table:i})),nt(d.muiFilterSliderProps,{column:u,table:i})),o);let[y,v]=g.min!==void 0&&g.max!==void 0?[g.min,g.max]:(t=u.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(y)&&(y=y[0]),Array.isArray(v)&&(v=v[0]),y===null&&(y=0),v===null&&(v=1);const[x,w]=R.useState([y,v]),S=u.getFilterValue(),C=R.useRef(!1),k=T=>{(T.key==="ArrowLeft"||T.key==="ArrowRight")&&T.stopPropagation()};return R.useEffect(()=>{C.current&&(S===void 0?w([y,v]):Array.isArray(S)&&w(S)),C.current=!0},[S,y,v]),h.jsxs(gt,{children:[h.jsx(KX,Object.assign({disableSwap:!0,max:v,min:y,onChange:(T,E)=>{w(E)},onChangeCommitted:(T,E)=>{Array.isArray(E)&&(E[0]<=y&&E[1]>=v?u.setFilterValue(void 0):u.setFilterValue(E))},onKeyDown:k,value:x,valueLabelDisplay:"auto"},g,{slotProps:{input:{ref:T=>{var E,A;T&&(c.current[`${u.id}-0`]=T,!((A=(E=g?.slotProps)===null||E===void 0?void 0:E.input)===null||A===void 0)&&A.ref&&(g.slotProps.input.ref=T))}}},sx:T=>Object.assign({m:"auto",minWidth:`${u.getSize()-50}px`,mt:p?"6px":"10px",px:"4px",width:"calc(100% - 8px)"},nt(g?.sx,T))})),p?h.jsx(QF,{sx:{fontSize:"0.75rem",lineHeight:"0.8rem",m:"-3px -6px",whiteSpace:"nowrap"},children:a.filterMode.replace("{filterType}",a[`filter${((n=f?.charAt(0))===null||n===void 0?void 0:n.toUpperCase())+f?.slice(1)}`])}):null]})},WBe=e=>{var{header:t,table:n}=e,r=cn(e,["header","table"]);const{getState:i,options:{columnFilterDisplayMode:o}}=n,{showColumnFilters:s}=i(),{column:a}=t,{columnDef:l}=a,{isRangeFilter:c}=ez({header:t,table:n});return h.jsx(Jm,Object.assign({in:s||o==="popover",mountOnEnter:!0,unmountOnExit:!0},r,{children:l.filterVariant==="checkbox"?h.jsx(q0n,{column:a,table:n}):l.filterVariant==="range-slider"?h.jsx(Y0n,{header:t,table:n}):c?h.jsx(G0n,{header:t,table:n}):h.jsx(HBe,{header:t,table:n})}))},X0n=e=>{var t,{header:n,table:r}=e,i=cn(e,["header","table"]);const{options:{columnFilterDisplayMode:o,icons:{FilterAltIcon:s},localization:a},refs:{filterInputRefs:l},setShowColumnFilters:c}=r,{column:u}=n,{columnDef:d}=u,f=u.getFilterValue(),[p,g]=R.useState(null),{currentFilterOption:y,isMultiSelectFilter:v,isRangeFilter:x,isSelectFilter:w}=ez({header:n,table:r}),S=gBe({header:n,table:r}),C=E=>ch(S?.find(A=>ch(A).value===(E!==void 0?f[E]:f))).label,k=Array.isArray(f)&&f.some(Boolean)||!!f&&!Array.isArray(f),T=o==="popover"&&!k?(t=a.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(d.header)):a.filteringByColumn.replace("{column}",String(d.header)).replace("{filterType}",y?a[`filter${y.charAt(0).toUpperCase()+y.slice(1)}`]:"").replace("{filterValue}",`"${Array.isArray(f)?f.map((E,A)=>v?C(A):E).join(`" ${x?a.and:a.or} "`):w?C():f}"`).replace('" "',"");return h.jsxs(h.Fragment,{children:[h.jsx(ib,{in:o==="popover"||!!f&&!x||x&&(!!f?.[0]||!!f?.[1]),unmountOnExit:!0,children:h.jsx(Y,{component:"span",sx:{flex:"0 0"},children:h.jsx(Dt,{placement:"top",title:T,children:h.jsx(Pt,Object.assign({disableRipple:!0,onClick:E=>{o==="popover"?g(E.currentTarget):c(!0),queueMicrotask(()=>{var A,O,I,j,P,$;(I=(O=(A=l.current)===null||A===void 0?void 0:A[`${u.id}-0`])===null||O===void 0?void 0:O.focus)===null||I===void 0||I.call(O),($=(P=(j=l.current)===null||j===void 0?void 0:j[`${u.id}-0`])===null||P===void 0?void 0:P.select)===null||$===void 0||$.call(P)}),E.stopPropagation()},size:"small"},i,{sx:E=>Object.assign({height:"16px",ml:"4px",opacity:k?1:.3,p:"8px",transform:"scale(0.75)",transition:"all 150ms ease-in-out",width:"16px"},nt(i?.sx,E)),children:h.jsx(s,{})}))})})}),o==="popover"&&h.jsx(t4,{anchorEl:p,anchorOrigin:{horizontal:"center",vertical:"top"},disableScrollLock:!0,onClick:E=>E.stopPropagation(),onClose:E=>{E.stopPropagation(),g(null)},onKeyDown:E=>E.key==="Enter"&&g(null),open:!!p,slotProps:{paper:{sx:{overflow:"visible"}}},transformOrigin:{horizontal:"center",vertical:"bottom"},children:h.jsx(Y,{sx:{p:"1rem"},children:h.jsx(WBe,{header:n,table:r})})})]})},K0n=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=cn(e,["column","table","tableHeadCellRef"]);const{getState:o,options:{enableColumnOrdering:s,muiColumnDragHandleProps:a},setColumnOrder:l,setColumnPinning:c,setDraggingColumn:u,setHoveredColumn:d}=n,{columnDef:f}=t,{columnOrder:p,draggingColumn:g,hoveredColumn:y}=o(),v=Object.assign(Object.assign(Object.assign({},nt(a,{column:t,table:n})),nt(f.muiColumnDragHandleProps,{column:t,table:n})),i),x=S=>{var C;(C=v?.onDragStart)===null||C===void 0||C.call(v,S),u(t);try{S.dataTransfer.setDragImage(r.current,0,0)}catch(k){console.error(k)}},w=S=>{var C;if((C=v?.onDragEnd)===null||C===void 0||C.call(v,S),y?.id==="drop-zone")t.toggleGrouping();else if(s&&y&&y?.id!==g?.id){const k=hBe(t,y,p);l(k),c(({left:T=[],right:E=[]})=>({left:k.filter(A=>T.includes(A)),right:k.filter(A=>E.includes(A))}))}u(null),d(null)};return h.jsx(Kre,Object.assign({},v,{onDragEnd:w,onDragStart:x,table:n}))},Z0n=e=>{var t,{header:n,table:r}=e,i=cn(e,["header","table"]);const{getState:o,options:{columnResizeDirection:s,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:c}=o(),{column:u}=n,d=n.getResizeHandler(),f=c==="compact"?"-8px":c==="comfortable"?"-16px":"-24px",p=u.columnDef.columnDefType==="display"?"4px":"0";return h.jsx(Y,{className:"Mui-TableHeadCell-ResizeHandle-Wrapper",onDoubleClick:()=>{l(g=>Object.assign(Object.assign({},g),{isResizingColumn:!1})),u.resetSize()},onMouseDown:d,onTouchStart:d,style:{transform:u.getIsResizing()&&a==="onEnd"?`translateX(${(s==="rtl"?-1:1)*((t=o().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0},sx:g=>({"&:active > hr":{backgroundColor:g.palette.info.main,opacity:n.subHeaders.length||a==="onEnd"?1:0},cursor:"col-resize",left:s==="rtl"?p:void 0,ml:s==="rtl"?f:void 0,mr:s==="ltr"?f:void 0,position:"absolute",px:"4px",right:s==="ltr"?p:void 0}),children:h.jsx(vi,{className:"Mui-TableHeadCell-ResizeHandle-Divider",flexItem:!0,orientation:"vertical",sx:g=>Object.assign({borderRadius:"2px",borderWidth:"2px",height:"24px",touchAction:"none",transform:"translateX(4px)",transition:u.getIsResizing()?void 0:"all 150ms ease-in-out",userSelect:"none",zIndex:4},nt(i?.sx,g))})})},Q0n=e=>{var{header:t,table:n}=e,r=cn(e,["header","table"]);const{getState:i,options:{icons:{ArrowDownwardIcon:o,SyncAltIcon:s},localization:a}}=n,{column:l}=t,{columnDef:c}=l,{isLoading:u,showSkeletons:d,sorting:f}=i(),p=!!l.getIsSorted(),g=u||d?"":l.getIsSorted()?l.getIsSorted()==="desc"?a.sortedByColumnDesc.replace("{column}",c.header):a.sortedByColumnAsc.replace("{column}",c.header):l.getNextSortingOrder()==="desc"?a.sortByColumnDesc.replace("{column}",c.header):a.sortByColumnAsc.replace("{column}",c.header),y=p?l.getIsSorted():void 0;return h.jsx(Dt,{placement:"top",title:g,children:h.jsx(gut,{badgeContent:f.length>1?l.getSortIndex()+1:0,overlap:"circular",children:h.jsx(imt,Object.assign({IconComponent:p?o:v=>h.jsx(s,Object.assign({},v,{direction:y,style:{transform:"rotate(-90deg) scaleX(0.9) translateX(-1px)"}})),active:!0,"aria-label":g,direction:y,onClick:v=>{var x;v.stopPropagation(),(x=t.column.getToggleSortingHandler())===null||x===void 0||x(v)}},r,{sx:v=>Object.assign({".MuiTableSortLabel-icon":{color:`${v.palette.mode==="dark"?v.palette.text.primary:v.palette.text.secondary} !important`},flex:"0 0",opacity:p?1:.3,transition:"all 150ms ease-in-out",width:"3ch"},nt(r?.sx,v))}))})})},J0n=e=>{var t,n,r,i,o,s,a,{columnVirtualizer:l,header:c,staticColumnIndex:u,table:d}=e,f=cn(e,["columnVirtualizer","header","staticColumnIndex","table"]);const p=xt(),{getState:g,options:{columnFilterDisplayMode:y,columnResizeDirection:v,columnResizeMode:x,enableKeyboardShortcuts:w,enableColumnActions:S,enableColumnDragging:C,enableColumnOrdering:k,enableColumnPinning:T,enableGrouping:E,enableMultiSort:A,layoutMode:O,mrtTheme:{draggingBorderColor:I},muiTableHeadCellProps:j},refs:{tableHeadCellRefs:P},setHoveredColumn:$}=d,{columnSizingInfo:D,density:F,draggingColumn:N,grouping:V,hoveredColumn:H,showColumnFilters:U}=g(),{column:G}=c,{columnDef:z}=G,{columnDefType:W}=z,X=Object.assign(Object.assign(Object.assign({},nt(j,{column:G,table:d})),nt(z.muiTableHeadCellProps,{column:G,table:d})),f),Q=T&&z.columnDefType!=="group"&&G.getIsPinned(),ee=(S||z.enableColumnActions)&&z.enableColumnActions!==!1,ne=C!==!1&&z.enableColumnDragging!==!1&&(C||k&&z.enableColumnOrdering!==!1||E&&z.enableGrouping!==!1&&!V.includes(G.id)),oe=R.useMemo(()=>{let xe=0;return G.getCanSort()&&(xe+=1),ee&&(xe+=1.75),ne&&(xe+=1.5),xe},[ee,ne]),ce=R.useMemo(()=>{const xe=D.isResizingColumn===G.id&&x==="onChange"&&!c.subHeaders.length,q=xe?`2px solid ${I} !important`:N?.id===G.id?`1px dashed ${p.palette.grey[500]}`:H?.id===G.id?`2px dashed ${I}`:void 0;return xe?v==="ltr"?{borderRight:q}:{borderLeft:q}:q?{borderLeft:q,borderRight:q,borderTop:q}:void 0},[N,H,D.isResizingColumn]),re=xe=>{E&&H?.id==="drop-zone"&&$(null),k&&N&&W!=="group"&&$(z.enableColumnOrdering!==!1?G:null)},ge=xe=>{z.enableColumnOrdering!==!1&&xe.preventDefault()},he=xe=>{var q;(q=X?.onKeyDown)===null||q===void 0||q.call(X,xe),Vre({event:xe,cellValue:c.column.columnDef.header,table:d,header:c})},ie=(t=nt(z.Header,{column:G,header:c,table:d}))!==null&&t!==void 0?t:z.header;return h.jsxs(r4,Object.assign({align:W==="group"?"center":p.direction==="rtl"?"right":"left","aria-sort":G.getIsSorted()?G.getIsSorted()==="asc"?"ascending":"descending":"none",colSpan:c.colSpan,"data-can-sort":G.getCanSort()||void 0,"data-index":u,"data-pinned":!!Q||void 0,"data-sort":G.getIsSorted()||void 0,onDragEnter:re,onDragOver:ge,ref:xe=>{var q;xe&&(P.current[G.id]=xe,W!=="group"&&((q=l?.measureElement)===null||q===void 0||q.call(l,xe)))},tabIndex:w?0:void 0},X,{onKeyDown:he,sx:xe=>Object.assign(Object.assign({"& :hover":{".MuiButtonBase-root":{opacity:1}},flexDirection:O?.startsWith("grid")?"column":void 0,fontWeight:"bold",overflow:"visible",p:F==="compact"?"0.5rem":F==="comfortable"?W==="display"?"0.75rem":"1rem":W==="display"?"1rem 1.25rem":"1.5rem",pb:W==="display"?0:U||F==="compact"?"0.4rem":"0.6rem",pt:W==="group"||F==="compact"?"0.25rem":F==="comfortable"?".75rem":"1.25rem",userSelect:A&&G.getCanSort()?"none":void 0,verticalAlign:"top"},Xre({column:G,header:c,table:d,tableCellProps:X,theme:xe})),ce),children:[c.isPlaceholder?null:(n=X.children)!==null&&n!==void 0?n:h.jsxs(Y,{className:"Mui-TableHeadCell-Content",sx:{alignItems:"center",display:"flex",flexDirection:X?.align==="right"?"row-reverse":"row",justifyContent:W==="group"||X?.align==="center"?"center":G.getCanResize()?"space-between":"flex-start",position:"relative",width:"100%"},children:[h.jsxs(Y,{className:"Mui-TableHeadCell-Content-Labels",onClick:G.getToggleSortingHandler(),sx:{alignItems:"center",cursor:G.getCanSort()&&W!=="group"?"pointer":void 0,display:"flex",flexDirection:X?.align==="right"?"row-reverse":"row",overflow:W==="data"?"hidden":void 0,pl:X?.align==="center"?`${oe}rem`:void 0},children:[h.jsx(Y,{className:"Mui-TableHeadCell-Content-Wrapper",sx:{"&:hover":{textOverflow:"clip"},minWidth:`${Math.min((i=(r=z.header)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,4)}ch`,overflow:W==="data"?"hidden":void 0,textOverflow:"ellipsis",whiteSpace:((s=(o=z.header)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0)<20?"nowrap":"normal"},children:ie}),G.getCanFilter()&&h.jsx(X0n,{header:c,table:d}),G.getCanSort()&&h.jsx(Q0n,{header:c,table:d})]}),W!=="group"&&h.jsxs(Y,{className:"Mui-TableHeadCell-Content-Actions",sx:{whiteSpace:"nowrap"},children:[ne&&h.jsx(K0n,{column:G,table:d,tableHeadCellRef:{current:(a=P.current)===null||a===void 0?void 0:a[G.id]}}),ee&&h.jsx(W0n,{header:c,table:d})]}),G.getCanResize()&&h.jsx(Z0n,{header:c,table:d})]}),y==="subheader"&&G.getCanFilter()&&h.jsx(WBe,{header:c,table:d})]}))},eyn=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=cn(e,["columnVirtualizer","headerGroup","table"]);const{options:{enableStickyHeader:o,layoutMode:s,mrtTheme:{baseBackgroundColor:a},muiTableHeadRowProps:l}}=r,{virtualColumns:c,virtualPaddingLeft:u,virtualPaddingRight:d}=t??{},f=Object.assign(Object.assign({},nt(l,{headerGroup:n,table:r})),i);return h.jsxs(i4,Object.assign({},f,{sx:p=>Object.assign({backgroundColor:a,boxShadow:`4px 0 8px ${ut(p.palette.common.black,.1)}`,display:s?.startsWith("grid")?"flex":void 0,position:o&&s==="semantic"?"sticky":"relative",top:0},nt(f?.sx,p)),children:[u?h.jsx("th",{style:{display:"flex",width:u}}):null,(c??n.headers).map((p,g)=>{let y=p;return t&&(g=p.index,y=n.headers[g]),y?h.jsx(J0n,{columnVirtualizer:t,header:y,staticColumnIndex:g,table:r},y.id):null}),d?h.jsx("th",{style:{display:"flex",width:d}}):null]}))},Qre=e=>{var t,n,r,{stackAlertBanner:i,table:o}=e,s=cn(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getCoreRowModel:l,getState:c,options:{enableRowSelection:u,enableSelectAll:d,localization:f,manualPagination:p,muiToolbarAlertBannerChipProps:g,muiToolbarAlertBannerProps:y,positionToolbarAlertBanner:v,renderToolbarAlertBannerContent:x,rowCount:w},refs:{tablePaperRef:S}}=o,{density:C,grouping:k,rowSelection:T,showAlertBanner:E}=c(),A=Object.assign(Object.assign({},nt(y,{table:o})),s),O=nt(g,{table:o}),I=w??l().rows.length,j=a().rows.length,P=R.useMemo(()=>p?Object.values(T).filter(Boolean).length:j,[T,I,p,j]),$=P>0?h.jsxs(gt,{alignItems:"center",direction:"row",gap:"16px",children:[(n=(t=f.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",P.toLocaleString(f.language)))===null||n===void 0?void 0:n.replace("{rowCount}",I.toLocaleString(f.language)),h.jsx(Be,{onClick:F=>Ure({table:o})(F,!1,!0),size:"small",sx:{p:"2px"},children:f.clearSelection})]}):null,D=k.length>0?h.jsxs("span",{children:[f.groupedBy," ",k.map((F,N)=>h.jsxs(R.Fragment,{children:[N>0?f.thenBy:"",h.jsx(Ci,Object.assign({label:o.getColumn(F).columnDef.header,onDelete:()=>o.getColumn(F).toggleGrouping()},O))]},`${N}-${F}`))]}):null;return h.jsx(Jm,{in:E||!!$||!!D,timeout:i?200:0,children:h.jsx(_T,Object.assign({color:"info",icon:!1},A,{sx:F=>{var N,V;return Object.assign({"& .MuiAlert-message":{maxWidth:`calc(${(V=(N=S.current)===null||N===void 0?void 0:N.clientWidth)!==null&&V!==void 0?V:360}px - 1rem)`,width:"100%"},borderRadius:0,fontSize:"1rem",left:0,mb:i?0:v==="bottom"?"-1rem":void 0,p:0,position:"relative",right:0,top:0,width:"100%",zIndex:2},nt(A?.sx,F))},children:(r=x?.({groupedAlert:D,selectedAlert:$,table:o}))!==null&&r!==void 0?r:h.jsxs(h.Fragment,{children:[A?.title&&h.jsx(Jat,{children:A.title}),h.jsxs(gt,{sx:{p:v!=="head-overlay"?"0.5rem 1rem":C==="spacious"?"0.75rem 1.25rem":C==="comfortable"?"0.5rem 0.75rem":"0.25rem 0.5rem"},children:[A?.children,A?.children&&($||D)&&h.jsx("br",{}),h.jsxs(Y,{sx:{display:"flex"},children:[u&&d&&v==="head-overlay"&&h.jsx(XG,{table:o})," ",$]}),$&&D&&h.jsx("br",{}),D]})]})}))})},tyn=e=>{var{columnVirtualizer:t,table:n}=e,r=cn(e,["columnVirtualizer","table"]);const{getState:i,options:{enableStickyHeader:o,layoutMode:s,muiTableHeadProps:a,positionToolbarAlertBanner:l},refs:{tableHeadRef:c}}=n,{isFullScreen:u,showAlertBanner:d}=i(),f=Object.assign(Object.assign({},nt(a,{table:n})),r),p=o||u;return h.jsx(Vgt,Object.assign({},f,{ref:g=>{c.current=g,f?.ref&&(f.ref.current=g)},sx:g=>Object.assign({display:s?.startsWith("grid")?"grid":void 0,opacity:.97,position:p?"sticky":"relative",top:p&&s?.startsWith("grid")?0:void 0,zIndex:p?2:void 0},nt(f?.sx,g)),children:l==="head-overlay"&&(d||n.getSelectedRowModel().rows.length>0)?h.jsx("tr",{style:{display:s?.startsWith("grid")?"grid":void 0},children:h.jsx("th",{colSpan:n.getVisibleLeafColumns().length,style:{display:s?.startsWith("grid")?"grid":void 0,padding:0},children:h.jsx(Qre,{table:n})})}):n.getHeaderGroups().map(g=>h.jsx(eyn,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))},nyn=e=>{var{table:t}=e,n=cn(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:o,enableStickyHeader:s,enableTableFooter:a,enableTableHead:l,layoutMode:c,memoMode:u,muiTableProps:d,renderCaption:f}}=t,{columnSizing:p,columnSizingInfo:g,columnVisibility:y,isFullScreen:v}=i(),x=Object.assign(Object.assign({},nt(d,{table:t})),n),w=nt(f,{table:t}),S=R.useMemo(()=>{const T=r(),E={};for(let A=0;A<T.length;A++){const O=T[A],I=O.getSize();E[`--header-${XE(O.id)}-size`]=I,E[`--col-${XE(O.column.id)}-size`]=I}return E},[o,p,g,y]),k={columnVirtualizer:P0n(t),table:t};return h.jsxs(wgt,Object.assign({stickyHeader:s||v},x,{style:Object.assign(Object.assign({},S),x?.style),sx:T=>Object.assign({borderCollapse:"separate",display:c?.startsWith("grid")?"grid":void 0,position:"relative"},nt(x?.sx,T)),children:[!!w&&h.jsx("caption",{children:w}),l&&h.jsx(tyn,Object.assign({},k)),u==="table-body"||g.isResizingColumn?h.jsx(F0n,Object.assign({},k)):h.jsx(VBe,Object.assign({},k)),a&&h.jsx(z0n,Object.assign({},k))]}))},ryn=e=>{var t,{table:n}=e,r=cn(e,["table"]);const{options:{id:i,localization:o,mrtTheme:{baseBackgroundColor:s},muiCircularProgressProps:a}}=n,l=Object.assign(Object.assign({},nt(a,{table:n})),r);return h.jsx(Y,{sx:{alignItems:"center",backgroundColor:ut(s,.5),bottom:0,display:"flex",justifyContent:"center",left:0,maxHeight:"100vh",position:"absolute",right:0,top:0,width:"100%",zIndex:3},children:(t=l?.Component)!==null&&t!==void 0?t:h.jsx(To,Object.assign({"aria-label":o.noRecordsToDisplay,id:`mrt-progress-${i}`},l))})},iyn=e=>{var t,n,{table:r}=e,i=cn(e,["table"]);const{getState:o,options:{editDisplayMode:s,enableClickToCopy:a,enableEditing:l,icons:{ContentCopy:c,EditIcon:u},localization:d,mrtTheme:{menuBackgroundColor:f},renderCellActionMenuItems:p},refs:{actionCellRef:g}}=r,{actionCell:y,density:v}=o(),x=y,{row:w}=x,{column:S}=x,{columnDef:C}=S,k=O=>{O?.stopPropagation(),r.setActionCell(null),g.current=null},T=[(nt(a,x)==="context-menu"||nt(C.enableClickToCopy,x)==="context-menu")&&h.jsx(oa,{icon:h.jsx(c,{}),label:d.copy,onClick:O=>{O.stopPropagation(),navigator.clipboard.writeText(x.getValue()),k()},table:r},"mrt-copy"),nt(l,w)&&s==="cell"&&h.jsx(oa,{icon:h.jsx(u,{}),label:d.edit,onClick:()=>{xBe({cell:x,table:r}),k()},table:r},"mrt-edit")].filter(Boolean),E={cell:x,closeMenu:k,column:S,internalMenuItems:T,row:w,table:r},A=(n=(t=C.renderCellActionMenuItems)===null||t===void 0?void 0:t.call(C,E))!==null&&n!==void 0?n:p?.(E);return(!!A?.length||!!T?.length)&&h.jsx(Uo,Object.assign({MenuListProps:{dense:v==="compact",sx:{backgroundColor:f}},anchorEl:g.current,disableScrollLock:!0,onClick:O=>O.stopPropagation(),onClose:k,open:!!x,transformOrigin:{horizontal:-100,vertical:8}},i,{children:A??T}))},oyn=e=>{var t,{open:n,table:r}=e,i=cn(e,["open","table"]);const{getState:o,options:{localization:s,muiCreateRowModalProps:a,muiEditRowDialogProps:l,onCreatingRowCancel:c,onEditingRowCancel:u,renderCreateRowDialogContent:d,renderEditRowDialogContent:f},setCreatingRow:p,setEditingRow:g}=r,{creatingRow:y,editingRow:v}=o(),x=y??v,w=Object.assign(Object.assign(Object.assign({},nt(l,{row:x,table:r})),y&&nt(a,{row:x,table:r})),i),S=x.getAllCells().filter(C=>C.column.columnDef.columnDefType==="data").map(C=>h.jsx(BBe,{cell:C,table:r},C.id));return h.jsx(Oi,Object.assign({fullWidth:!0,maxWidth:"xs",onClose:(C,k)=>{var T;y?(c?.({row:x,table:r}),p(null)):(u?.({row:x,table:r}),g(null)),x._valuesCache={},(T=w.onClose)===null||T===void 0||T.call(w,C,k)},open:n},w,{children:(t=y&&d?.({internalEditComponents:S,row:x,table:r})||f?.({internalEditComponents:S,row:x,table:r}))!==null&&t!==void 0?t:h.jsxs(h.Fragment,{children:[h.jsx(Do,{sx:{textAlign:"center"},children:s.edit}),h.jsx(no,{children:h.jsx("form",{onSubmit:C=>C.preventDefault(),children:h.jsx(gt,{sx:{gap:"32px",paddingTop:"16px",width:"100%"},children:S})})}),h.jsx(wo,{sx:{p:"1.25rem"},children:h.jsx(jBe,{row:x,table:r,variant:"text"})})]})}))},syn=typeof window<"u"?R.useLayoutEffect:R.useEffect,ayn=e=>{var{table:t}=e,n=cn(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableCellActions:s,enableStickyHeader:a,muiTableContainerProps:l},refs:{bottomToolbarRef:c,tableContainerRef:u,topToolbarRef:d}}=t,{actionCell:f,creatingRow:p,editingRow:g,isFullScreen:y,isLoading:v,showLoadingOverlay:x}=r(),w=x!==!1&&(v||x),[S,C]=R.useState(0),k=Object.assign(Object.assign({},nt(l,{table:t})),n);syn(()=>{var A,O,I,j;const P=typeof document<"u"&&(O=(A=d.current)===null||A===void 0?void 0:A.offsetHeight)!==null&&O!==void 0?O:0,$=typeof document<"u"&&(j=(I=c?.current)===null||I===void 0?void 0:I.offsetHeight)!==null&&j!==void 0?j:0;C(P+$)});const T=i==="modal"&&p,E=o==="modal"&&g;return h.jsxs(Ogt,Object.assign({"aria-busy":w,"aria-describedby":w?"mrt-progress":void 0},k,{ref:A=>{A&&(u.current=A,k?.ref&&(k.ref.current=A))},style:Object.assign({maxHeight:y?`calc(100vh - ${S}px)`:void 0},k?.style),sx:A=>Object.assign({maxHeight:a?`clamp(350px, calc(100vh - ${S}px), 9999px)`:void 0,maxWidth:"100%",overflow:"auto",position:"relative"},nt(k?.sx,A)),children:[w?h.jsx(ryn,{table:t}):null,h.jsx(nyn,{table:t}),(T||E)&&h.jsx(oyn,{open:!0,table:t}),s&&f&&h.jsx(iyn,{table:t})]}))},qBe=e=>{var{isTopToolbar:t,table:n}=e,r=cn(e,["isTopToolbar","table"]);const{getState:i,options:{muiLinearProgressProps:o}}=n,{isSaving:s,showProgressBars:a}=i(),l=Object.assign(Object.assign({},nt(o,{isTopToolbar:t,table:n})),r);return h.jsx(Jm,{in:a!==!1&&(a||s),mountOnEnter:!0,sx:{bottom:t?0:void 0,position:"absolute",top:t?void 0:0,width:"100%"},unmountOnExit:!0,children:h.jsx(xEe,Object.assign({"aria-busy":"true","aria-label":"Loading",sx:{position:"relative"}},l))})},lyn=[5,10,15,20,25,30,50,100],GBe=e=>{var{position:t="bottom",table:n}=e,r=cn(e,["position","table"]);const i=xt(),o=r0("(max-width: 720px)"),{getState:s,options:{enableToolbarInternalActions:a,icons:{ChevronLeftIcon:l,ChevronRightIcon:c,FirstPageIcon:u,LastPageIcon:d},id:f,localization:p,muiPaginationProps:g,paginationDisplayMode:y}}=n,{pagination:{pageIndex:v=0,pageSize:x=10}}=s(),w=Object.assign(Object.assign({},nt(g,{table:n})),r),S=n.getRowCount(),C=n.getPageCount(),k=C>2,T=v*x,E=Math.min(v*x+x,S),A=w??{},{SelectProps:O={},disabled:I=!1,rowsPerPageOptions:j=lyn,showFirstButton:P=k,showLastButton:$=k,showRowsPerPage:D=!0}=A,F=cn(A,["SelectProps","disabled","rowsPerPageOptions","showFirstButton","showLastButton","showRowsPerPage"]),N=v<=0||I,V=E>=S||I;o&&O?.native!==!1&&(O.native=!0);const H=Wu();return h.jsxs(Y,{className:"MuiTablePagination-root",sx:{alignItems:"center",display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:{md:"space-between",sm:"center"},justifySelf:"flex-end",mt:t==="top"&&a?"3rem":void 0,position:"relative",px:"8px",py:"12px",zIndex:2},children:[D&&h.jsxs(Y,{sx:{alignItems:"center",display:"flex",gap:"8px"},children:[h.jsx(JF,{htmlFor:`mrt-rows-per-page-${f}`,sx:{mb:0},children:p.rowsPerPage}),h.jsx(Vd,Object.assign({MenuProps:{disableScrollLock:!0},disableUnderline:!0,disabled:I,inputProps:{"aria-label":p.rowsPerPage,id:`mrt-rows-per-page-${f}`},label:p.rowsPerPage,onChange:U=>n.setPageSize(+U.target.value),sx:{mb:0},value:x,variant:"standard"},O,{children:j.map(U=>{var G;const z=typeof U!="number"?U.value:U,W=typeof U!="number"?U.label:`${U}`;return(G=O?.children)!==null&&G!==void 0?G:O?.native?h.jsx("option",{value:z,children:W},z):h.jsx($t,{sx:{m:0},value:z,children:W},z)})}))]}),y==="pages"?h.jsx(Kpt,Object.assign({count:C,disabled:I,onChange:(U,G)=>n.setPageIndex(G-1),page:v+1,renderItem:U=>h.jsx(REe,Object.assign({slots:{first:u,last:d,next:c,previous:l}},U)),showFirstButton:P,showLastButton:$},F)):y==="default"?h.jsxs(h.Fragment,{children:[h.jsx(ae,{align:"center",component:"span",sx:{m:"0 4px",minWidth:"8ch"},variant:"body2",children:`${E===0?0:(T+1).toLocaleString(p.language)}-${E.toLocaleString(p.language)} ${p.of} ${S.toLocaleString(p.language)}`}),h.jsxs(Y,{gap:"xs",children:[P&&h.jsx(Dt,Object.assign({},H,{title:p.goToFirstPage,children:h.jsx("span",{children:h.jsx(Pt,{"aria-label":p.goToFirstPage,disabled:N,onClick:()=>n.firstPage(),size:"small",children:h.jsx(u,Object.assign({},KO(i)))})})})),h.jsx(Dt,Object.assign({},H,{title:p.goToPreviousPage,children:h.jsx("span",{children:h.jsx(Pt,{"aria-label":p.goToPreviousPage,disabled:N,onClick:()=>n.previousPage(),size:"small",children:h.jsx(l,Object.assign({},KO(i)))})})})),h.jsx(Dt,Object.assign({},H,{title:p.goToNextPage,children:h.jsx("span",{children:h.jsx(Pt,{"aria-label":p.goToNextPage,disabled:V,onClick:()=>n.nextPage(),size:"small",children:h.jsx(c,Object.assign({},KO(i)))})})})),$&&h.jsx(Dt,Object.assign({},H,{title:p.goToLastPage,children:h.jsx("span",{children:h.jsx(Pt,{"aria-label":p.goToLastPage,disabled:V,onClick:()=>n.lastPage(),size:"small",children:h.jsx(d,Object.assign({},KO(i)))})})}))]})]}):null]})},YBe=e=>{var t,n,{table:r}=e,i=cn(e,["table"]);const{getState:o,options:{enableGrouping:s,localization:a},setHoveredColumn:l,setShowToolbarDropZone:c}=r,{draggingColumn:u,grouping:d,hoveredColumn:f,showToolbarDropZone:p}=o(),g=v=>{l({id:"drop-zone"})},y=v=>{v.preventDefault()};return R.useEffect(()=>{var v;((v=r.options.state)===null||v===void 0?void 0:v.showToolbarDropZone)!==void 0&&c(!!s&&!!u&&u.columnDef.enableGrouping!==!1&&!d.includes(u.id))},[s,u,d]),h.jsx(t0,{in:p,children:h.jsx(Y,Object.assign({className:"Mui-ToolbarDropZone",onDragEnter:g,onDragOver:y},i,{sx:v=>Object.assign({alignItems:"center",backdropFilter:"blur(4px)",backgroundColor:ut(v.palette.info.main,f?.id==="drop-zone"?.2:.1),border:`dashed ${v.palette.info.main} 2px`,boxSizing:"border-box",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",zIndex:4},nt(i?.sx,v)),children:h.jsx(ae,{fontStyle:"italic",children:a.dropToGroupBy.replace("{column}",(n=(t=u?.columnDef)===null||t===void 0?void 0:t.header)!==null&&n!==void 0?n:"")})}))})},cyn=e=>{var{table:t}=e,n=cn(e,["table"]);const{getState:r,options:{enablePagination:i,muiBottomToolbarProps:o,positionPagination:s,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:c},refs:{bottomToolbarRef:u}}=t,{isFullScreen:d}=r(),f=r0("(max-width:720px)"),p=Object.assign(Object.assign({},nt(o,{table:t})),n),g=f||!!c;return h.jsxs(Y,Object.assign({},p,{ref:y=>{y&&(u.current=y,p?.ref&&(p.ref.current=y))},sx:y=>Object.assign(Object.assign(Object.assign({},FBe({table:t})),{bottom:d?"0":void 0,boxShadow:`0 1px 2px -1px ${ut(y.palette.grey[700],.5)} inset`,left:0,position:d?"fixed":"relative",right:0}),nt(p?.sx,y)),children:[h.jsx(qBe,{isTopToolbar:!1,table:t}),a==="bottom"&&h.jsx(Qre,{stackAlertBanner:g,table:t}),["both","bottom"].includes(l??"")&&h.jsx(YBe,{table:t}),h.jsxs(Y,{sx:{alignItems:"center",boxSizing:"border-box",display:"flex",justifyContent:"space-between",p:"0.5rem",width:"100%"},children:[c?c({table:t}):h.jsx("span",{}),h.jsx(Y,{sx:{display:"flex",justifyContent:"flex-end",position:g?"relative":"absolute",right:0,top:0},children:i&&["both","bottom"].includes(s??"")&&h.jsx(GBe,{position:"bottom",table:t})})]})]}))},uyn=e=>{var{column:t,table:n}=e,r=cn(e,["column","table"]);const{options:{icons:{PushPinIcon:i},localization:o}}=n,s=a=>{t.pin(a)};return h.jsx(Y,Object.assign({},r,{sx:a=>Object.assign({minWidth:"70px",textAlign:"center"},nt(r?.sx,a)),children:t.getIsPinned()?h.jsx(Dt,{title:o.unpin,children:h.jsx(Pt,{onClick:()=>s(!1),size:"small",children:h.jsx(i,{})})}):h.jsxs(h.Fragment,{children:[h.jsx(Dt,{title:o.pinToLeft,children:h.jsx(Pt,{onClick:()=>s("left"),size:"small",children:h.jsx(i,{style:{transform:"rotate(90deg)"}})})}),h.jsx(Dt,{title:o.pinToRight,children:h.jsx(Pt,{onClick:()=>s("right"),size:"small",children:h.jsx(i,{style:{transform:"rotate(-90deg)"}})})})]})}))},XBe=e=>{var t,{allColumns:n,column:r,hoveredColumn:i,isNestedColumns:o,setHoveredColumn:s,table:a}=e,l=cn(e,["allColumns","column","hoveredColumn","isNestedColumns","setHoveredColumn","table"]);const{getState:c,options:{enableColumnOrdering:u,enableColumnPinning:d,enableHiding:f,localization:p,mrtTheme:{draggingBorderColor:g}},setColumnOrder:y,setColumnPinning:v}=a,{columnOrder:x}=c(),{columnDef:w}=r,{columnDefType:S}=w,C=r.getIsVisible(),k=P=>{var $,D;S==="group"?(D=($=P?.columns)===null||$===void 0?void 0:$.forEach)===null||D===void 0||D.call($,F=>{F.toggleVisibility(!C)}):P.toggleVisibility()},T=R.useRef(null),[E,A]=R.useState(!1),O=P=>{A(!0);try{P.dataTransfer.setDragImage(T.current,0,0)}catch($){console.error($)}},I=P=>{if(A(!1),s(null),i){const $=hBe(r,i,x);y($),v(({left:D=[],right:F=[]})=>({left:$.filter(N=>D.includes(N)),right:$.filter(N=>F.includes(N))}))}},j=P=>{!E&&w.enableColumnOrdering!==!1&&s(r)};return!w.header||w.visibleInShowHideMenu===!1?null:h.jsxs(h.Fragment,{children:[h.jsx($t,Object.assign({disableRipple:!0,onDragEnter:j,ref:T},l,{sx:P=>Object.assign({alignItems:"center",justifyContent:"flex-start",my:0,opacity:E?.5:1,outline:E?`2px dashed ${P.palette.grey[500]}`:i?.id===r.id?`2px dashed ${g}`:"none",outlineOffset:"-2px",pl:`${(r.depth+.5)*2}rem`,py:"6px"},nt(l?.sx,P)),children:h.jsxs(Y,{sx:{display:"flex",flexWrap:"nowrap",gap:"8px"},children:[S!=="group"&&u&&!o&&(w.enableColumnOrdering!==!1?h.jsx(Kre,{onDragEnd:I,onDragStart:O,table:a}):h.jsx(Y,{sx:{width:"28px"}})),d&&(r.getCanPin()?h.jsx(uyn,{column:r,table:a}):h.jsx(Y,{sx:{width:"70px"}})),f?h.jsx(Su,{checked:C,componentsProps:{typography:{sx:{mb:0,opacity:S!=="display"?1:.5}}},control:h.jsx(Dt,Object.assign({},Wu(),{title:p.toggleVisibility,children:h.jsx(Bf,{})})),disabled:!r.getCanHide(),label:w.header,onChange:()=>k(r)}):h.jsx(ae,{sx:{alignSelf:"center"},children:w.header})]})})),(t=r.columns)===null||t===void 0?void 0:t.map((P,$)=>h.jsx(XBe,{allColumns:n,column:P,hoveredColumn:i,isNestedColumns:o,setHoveredColumn:s,table:a},`${$}-${P.id}`))]})},dyn=e=>{var{anchorEl:t,setAnchorEl:n,table:r}=e,i=cn(e,["anchorEl","setAnchorEl","table"]);const{getAllColumns:o,getAllLeafColumns:s,getCenterLeafColumns:a,getIsAllColumnsVisible:l,getIsSomeColumnsPinned:c,getIsSomeColumnsVisible:u,getLeftLeafColumns:d,getRightLeafColumns:f,getState:p,initialState:g,options:{enableColumnOrdering:y,enableColumnPinning:v,enableHiding:x,localization:w,mrtTheme:{menuBackgroundColor:S}}}=r,{columnOrder:C,columnPinning:k,density:T}=p(),E=$=>{s().filter(D=>D.columnDef.enableHiding!==!1).forEach(D=>D.toggleVisibility($))},A=R.useMemo(()=>{const $=o();return C.length>0&&!$.some(D=>D.columnDef.columnDefType==="group")?[...d(),...Array.from(new Set(C)).map(D=>a().find(F=>F?.id===D)),...f()].filter(Boolean):$},[C,k,o(),a(),d(),f()]),O=A.some($=>$.columnDef.columnDefType==="group"),I=R.useMemo(()=>C.length!==g.columnOrder.length||!C.every(($,D)=>$===g.columnOrder[D]),[C,g.columnOrder]),[j,P]=R.useState(null);return h.jsxs(Uo,Object.assign({MenuListProps:{dense:T==="compact",sx:{backgroundColor:S}},anchorEl:t,disableScrollLock:!0,onClose:()=>n(null),open:!!t},i,{children:[h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",p:"0.5rem",pt:0},children:[x&&h.jsx(Be,{disabled:!u(),onClick:()=>E(!1),children:w.hideAll}),y&&h.jsx(Be,{onClick:()=>r.setColumnOrder(qre(r.options,!0)),disabled:!I,children:w.resetOrder}),v&&h.jsx(Be,{disabled:!c(),onClick:()=>r.resetColumnPinning(!0),children:w.unpinAll}),x&&h.jsx(Be,{disabled:l(),onClick:()=>E(!0),children:w.showAll})]}),h.jsx(vi,{}),A.map(($,D)=>h.jsx(XBe,{allColumns:A,column:$,hoveredColumn:j,isNestedColumns:O,setHoveredColumn:P,table:r},`${D}-${$.id}`))]}))},fyn=e=>{var t,{table:n}=e,r=cn(e,["table"]);const{options:{icons:{ViewColumnIcon:i},localization:o}}=n,[s,a]=R.useState(null),l=c=>{a(c.currentTarget)};return h.jsxs(h.Fragment,{children:[h.jsx(Dt,{title:(t=r?.title)!==null&&t!==void 0?t:o.showHideColumns,children:h.jsx(Pt,Object.assign({"aria-label":o.showHideColumns,onClick:l},r,{title:void 0,children:h.jsx(i,{})}))}),s&&h.jsx(dyn,{anchorEl:s,setAnchorEl:a,table:n})]})},pyn=e=>{var t,{table:n}=e,r=cn(e,["table"]);const{getState:i,options:{icons:{DensityLargeIcon:o,DensityMediumIcon:s,DensitySmallIcon:a},localization:l},setDensity:c}=n,{density:u}=i(),d=()=>{c(u==="comfortable"?"compact":u==="compact"?"spacious":"comfortable")};return h.jsx(Dt,{title:(t=r?.title)!==null&&t!==void 0?t:l.toggleDensity,children:h.jsx(Pt,Object.assign({"aria-label":l.toggleDensity,onClick:d},r,{title:void 0,children:u==="compact"?h.jsx(a,{}):u==="comfortable"?h.jsx(s,{}):h.jsx(o,{})}))})},hyn=e=>{var t,{table:n}=e,r=cn(e,["table"]);const{getState:i,options:{icons:{FilterListIcon:o,FilterListOffIcon:s},localization:a},setShowColumnFilters:l}=n,{showColumnFilters:c}=i(),u=()=>{l(!c)};return h.jsx(Dt,{title:(t=r?.title)!==null&&t!==void 0?t:a.showHideFilters,children:h.jsx(Pt,Object.assign({"aria-label":a.showHideFilters,onClick:u},r,{title:void 0,children:c?h.jsx(s,{}):h.jsx(o,{})}))})},gyn=e=>{var t,{table:n}=e,r=cn(e,["table"]);const{getState:i,options:{icons:{FullscreenExitIcon:o,FullscreenIcon:s},localization:a},setIsFullScreen:l}=n,{isFullScreen:c}=i(),[u,d]=R.useState(!1),f=()=>{d(!1),l(!c)};return h.jsx(Dt,{open:u,title:(t=r?.title)!==null&&t!==void 0?t:a.toggleFullScreen,children:h.jsx(Pt,Object.assign({"aria-label":a.toggleFullScreen,onBlur:()=>d(!1),onClick:f,onFocus:()=>d(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1)},r,{title:void 0,children:c?h.jsx(o,{}):h.jsx(s,{})}))})},myn=e=>{var t,n,{table:r}=e,i=cn(e,["table"]);const{getState:o,options:{icons:{SearchIcon:s,SearchOffIcon:a},localization:l},refs:{searchInputRef:c},setShowGlobalFilter:u}=r,{globalFilter:d,showGlobalFilter:f}=o(),p=()=>{u(!f),queueMicrotask(()=>{var g;return(g=c.current)===null||g===void 0?void 0:g.focus()})};return h.jsx(Dt,{title:(t=i?.title)!==null&&t!==void 0?t:l.showHideSearch,children:h.jsx(Pt,Object.assign({"aria-label":(n=i?.title)!==null&&n!==void 0?n:l.showHideSearch,disabled:!!d&&f,onClick:p},i,{title:void 0,children:f?h.jsx(a,{}):h.jsx(s,{})}))})},yyn=e=>{var t,{table:n}=e,r=cn(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:o,enableColumnOrdering:s,enableColumnPinning:a,enableDensityToggle:l,enableFilters:c,enableFullScreenToggle:u,enableGlobalFilter:d,enableHiding:f,initialState:p,renderToolbarInternalActions:g}}=n;return h.jsx(Y,Object.assign({},r,{sx:y=>Object.assign({alignItems:"center",display:"flex",zIndex:3},nt(r?.sx,y)),children:(t=g?.({table:n}))!==null&&t!==void 0?t:h.jsxs(h.Fragment,{children:[c&&d&&!p?.showGlobalFilter&&h.jsx(myn,{table:n}),c&&o&&i!=="popover"&&h.jsx(hyn,{table:n}),(f||s||a)&&h.jsx(fyn,{table:n}),l&&h.jsx(pyn,{table:n}),u&&h.jsx(gyn,{table:n})]})}))},PU=e=>{var t,{table:n}=e,r=cn(e,["table"]);const{getState:i,options:{enableGlobalFilterModes:o,icons:{CloseIcon:s,SearchIcon:a},localization:l,manualFiltering:c,muiSearchTextFieldProps:u},refs:{searchInputRef:d},setGlobalFilter:f}=n,{globalFilter:p,showGlobalFilter:g}=i(),y=Object.assign(Object.assign({},nt(u,{table:n})),r),v=R.useRef(!1),[x,w]=R.useState(null),[S,C]=R.useState(p??""),k=R.useCallback(Ub(O=>{var I;f((I=O.target.value)!==null&&I!==void 0?I:void 0)},c?500:250),[]),T=O=>{C(O.target.value),k(O)},E=O=>{w(O.currentTarget)},A=()=>{C(""),f(void 0)};return R.useEffect(()=>{v.current&&(p===void 0?A():C(p)),v.current=!0},[p]),h.jsxs(Jm,{in:g,mountOnEnter:!0,orientation:"horizontal",unmountOnExit:!0,children:[h.jsx(zn,Object.assign({inputProps:Object.assign({autoComplete:"off"},y.inputProps),onChange:T,placeholder:l.search,size:"small",value:S??"",variant:"outlined"},y,{InputProps:Object.assign(Object.assign({endAdornment:h.jsx(ob,{position:"end",children:h.jsx(Dt,{title:(t=l.clearSearch)!==null&&t!==void 0?t:"",children:h.jsx("span",{children:h.jsx(Pt,{"aria-label":l.clearSearch,disabled:!S?.length,onClick:A,size:"small",children:h.jsx(s,{})})})})}),startAdornment:o?h.jsx(ob,{position:"start",children:h.jsx(Dt,{title:l.changeSearchMode,children:h.jsx(Pt,{"aria-label":l.changeSearchMode,onClick:E,size:"small",sx:{height:"1.75rem",width:"1.75rem"},children:h.jsx(a,{})})})}):h.jsx(a,{style:{marginRight:"4px"}})},y.InputProps),{sx:O=>{var I;return Object.assign({mb:0},nt((I=y?.InputProps)===null||I===void 0?void 0:I.sx,O))}}),inputRef:O=>{d.current=O,y?.inputRef&&(y.inputRef=O)}})),h.jsx(Zre,{anchorEl:x,onSelect:A,setAnchorEl:w,table:n})]})},vyn=({table:e})=>{var t;const{getState:n,options:{enableGlobalFilter:r,enablePagination:i,enableToolbarInternalActions:o,muiTopToolbarProps:s,positionGlobalFilter:a,positionPagination:l,positionToolbarAlertBanner:c,positionToolbarDropZone:u,renderTopToolbarCustomActions:d},refs:{topToolbarRef:f}}=e,{isFullScreen:p,showGlobalFilter:g}=n(),y=r0("(max-width:720px)"),v=r0("(max-width:1024px)"),x=nt(s,{table:e}),w=y||!!d||g&&v,S={sx:v?void 0:{zIndex:2},table:e};return h.jsxs(Y,Object.assign({},x,{ref:C=>{f.current=C,x?.ref&&(x.ref.current=C)},sx:C=>Object.assign(Object.assign(Object.assign({},FBe({table:e})),{position:p?"sticky":"relative",top:p?"0":void 0}),nt(x?.sx,C)),children:[c==="top"&&h.jsx(Qre,{stackAlertBanner:w,table:e}),["both","top"].includes(u??"")&&h.jsx(YBe,{table:e}),h.jsxs(Y,{sx:{alignItems:"flex-start",boxSizing:"border-box",display:"flex",gap:"0.5rem",justifyContent:"space-between",p:"0.5rem",position:w?"relative":"absolute",right:0,top:0,width:"100%"},children:[r&&a==="left"&&h.jsx(PU,Object.assign({},S)),(t=d?.({table:e}))!==null&&t!==void 0?t:h.jsx("span",{}),o?h.jsxs(Y,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap-reverse",gap:"0.5rem",justifyContent:"flex-end"},children:[r&&a==="right"&&h.jsx(PU,Object.assign({},S)),h.jsx(yyn,{table:e})]}):r&&a==="right"&&h.jsx(PU,Object.assign({},S))]}),i&&["both","top"].includes(l??"")&&h.jsx(GBe,{position:"top",table:e}),h.jsx(qBe,{isTopToolbar:!0,table:e})]}))},byn=e=>{var t,n,{table:r}=e,i=cn(e,["table"]);const{getState:o,options:{enableBottomToolbar:s,enableTopToolbar:a,mrtTheme:{baseBackgroundColor:l},muiTablePaperProps:c,renderBottomToolbar:u,renderTopToolbar:d},refs:{tablePaperRef:f}}=r,{isFullScreen:p}=o(),g=Object.assign(Object.assign({},nt(c,{table:r})),i),y=xt();return h.jsxs(Pr,Object.assign({elevation:2,onKeyDown:v=>v.key==="Escape"&&r.setIsFullScreen(!1)},g,{ref:v=>{f.current=v,g?.ref&&(g.ref.current=v)},style:Object.assign(Object.assign({},p?{bottom:0,height:"100dvh",left:0,margin:0,maxHeight:"100dvh",maxWidth:"100dvw",padding:0,position:"fixed",right:0,top:0,width:"100dvw",zIndex:y.zIndex.modal}:{}),g?.style),sx:v=>Object.assign({backgroundColor:l,backgroundImage:"unset",overflow:"hidden",transition:"all 100ms ease-in-out"},nt(g?.sx,v)),children:[a&&((t=nt(d,{table:r}))!==null&&t!==void 0?t:h.jsx(vyn,{table:r})),h.jsx(ayn,{table:r}),s&&((n=nt(u,{table:r}))!==null&&n!==void 0?n:h.jsx(cyn,{table:r}))]}))},xyn=e=>e.table!==void 0,AA=e=>{let t;return xyn(e)?t=e.table:t=NBe(e),h.jsx(byn,{table:t})},PA=e=>({baseBackgroundColor:e.palette.background.table,menuBackgroundColor:Mr(e.palette.background.table,.07),draggingBorderColor:e.palette.primary.main,pinnedRowBackgroundColor:ut(e.palette.primary.main,.1),selectedRowBackgroundColor:ut(e.palette.primary.main,.2),matchHighlightColor:e.palette.highlight.match}),wC=({columns:e,data:t,enableRowSelection:n=!1,enableColumnFilters:r=!0,enableSorting:i=!0,enablePagination:o=!0,enableFullScreenToggle:s=!1,enableDensityToggle:a=!1,onClick:l=()=>{},initialState:c={pagination:{pageSize:10,pageIndex:0},showGlobalFilter:!0,density:"comfortable"},renderTopToolbarCustomActions:u,ariaLabel:d="",disabled:f=!1,...p})=>{const g=xt();return h.jsx(Y,{sx:{...f&&{pointerEvents:"none",opacity:.6}},children:h.jsx(AA,{columns:e,data:t,enableRowSelection:n,enableColumnFilters:r,enableFullScreenToggle:s,enableDensityToggle:a,enableSorting:i,enablePagination:o,renderTopToolbarCustomActions:u,enableHiding:!1,initialState:c,mrtTheme:PA(g),positionActionsColumn:"last",layoutMode:"grid",muiTableProps:{"aria-label":d,...f&&{"aria-disabled":"true"}},muiTableContainerProps:{sx:y=>({maxHeight:"60vh",width:"100%",backgroundColor:y.palette.background.paper})},muiPaginationProps:f?{disabled:!0}:void 0,muiTableBodyRowProps:({row:y})=>({onClick:()=>!f&&l(y.original),sx:{cursor:f?"default":"pointer"}}),...p})})},KBe="",QO=10;function wyn(e){if(e==null||e===0)return KBe;const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1024&&n<t.length-1;)r/=1024,n+=1;return n===0?`${r} ${t[n]}`:`${r.toFixed(1)} ${t[n]}`}function Syn({fileUuid:e}){const[t,n]=R.useState(0),{data:r}=U_(e),{data:i,isLoading:o,error:s}=M4({fileUuid:e,pagination:{pageIndex:t,pageSize:QO},enabled:!!e}),a=r?.tag?.name??null,l=R.useMemo(()=>i?.columns?.length?i.columns.map(d=>({accessorKey:d,header:d})):[],[i?.columns]);if(s)return h.jsx(fre,{message:`Failed to load data preview: ${s.message}`});if(!i||!i.columns?.length)return o?h.jsx(ae,{variant:"body2",color:"text.secondary",children:"Loading preview"}):h.jsx(ae,{variant:"body2",color:"text.secondary",children:a?"No data to preview for this file.":"Assign a tag to see schema-based preview, or data may be empty."});const{rows:c,totalLength:u}=i;return h.jsxs(Y,{sx:{overflow:"hidden",overscrollBehavior:"contain","& .MuiPaper-root":{borderRadius:1,overflow:"hidden"},"& .MuiTableContainer-root":{maxHeight:"none",overscrollBehavior:"contain"}},children:[h.jsxs(Y,{sx:{display:"flex",gap:4,my:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(eH,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"File size"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:wyn(r?.size)})]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(Bke,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Rows"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:i?.totalLength!=null?i.totalLength.toLocaleString():KBe})]})]})]}),h.jsx(wC,{columns:l,data:c,onClick:()=>{},enableRowActions:!1,enableStickyHeader:!0,enableColumnResizing:!0,enableColumnActions:!0,enableDensityToggle:!1,enableGlobalFilter:!1,renderTopToolbar:!1,layoutMode:"grid",manualPagination:!0,rowCount:u,onPaginationChange:d=>{const f={pageIndex:t,pageSize:QO},p=typeof d=="function"?d(f):f;p.pageIndex!==t&&n(p.pageIndex)},initialState:{density:"compact",pagination:{pageIndex:t,pageSize:QO}},state:{pagination:{pageIndex:t,pageSize:QO},showProgressBars:o}})]})}const xv="#7b1fa2",jb=({label:e,onClick:t})=>h.jsxs(Y,{component:"span",onClick:t,role:t?"button":void 0,tabIndex:t?0:void 0,onKeyDown:t?n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),t(n))}:void 0,sx:{display:"inline-flex",alignItems:"center",gap:.5,px:1.5,py:.5,borderRadius:1,backgroundColor:ut(xv,.1),color:"text.primary",fontSize:"0.875rem",...t&&{cursor:"pointer","&:hover":{backgroundColor:ut(xv,.18)}}},children:[h.jsx(Lf,{sx:{fontSize:18}}),e]}),_yn=e=>R.createElement("svg",{width:15,height:15,viewBox:"7 2.5 15 15",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("text",{x:6,y:15,fontFamily:"Inter, Arial, sans-serif",fontSize:11,fontWeight:600,fill:"currentColor"},`
        1
    `),R.createElement("text",{x:10.5,y:11,fontFamily:"Inter, Arial, sans-serif",fontSize:11,fontWeight:600,fill:"currentColor"},`
        2
    `),R.createElement("text",{x:16,y:16,fontFamily:"Inter, Arial, sans-serif",fontSize:11,fontWeight:600,fill:"currentColor"},`
        3
    `)),Cyn=e=>{const{sx:t,...n}=e,r=t??{},i=typeof r=="object"&&r!==null&&"fontSize"in r?r.fontSize:"0.75rem";return h.jsx(Y,{component:"span",sx:{display:"inline-flex",flexShrink:0,color:"inherit",overflow:"visible",...r},children:h.jsx(_yn,{width:i,height:i,"aria-hidden":!0,style:{overflow:"visible",minWidth:i},...n})})},kyn=e=>R.createElement("svg",{width:15,height:15,viewBox:"7 2.5 15 15",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("text",{x:7,y:15,fontFamily:"Inter, Arial, sans-serif",fontSize:10,fontWeight:600,fill:"currentColor"},`
        A
    `),R.createElement("text",{x:12,y:10,fontFamily:"Inter, Arial, sans-serif",fontSize:10,fontWeight:600,fill:"currentColor"},`
        B
    `),R.createElement("text",{x:15,y:17,fontFamily:"Inter, Arial, sans-serif",fontSize:10,fontWeight:600,fill:"currentColor"},`
        C
    `)),Eyn=e=>{const{sx:t,...n}=e,r=t??{},i=typeof r=="object"&&r!==null&&"fontSize"in r?r.fontSize:"0.75rem";return h.jsx(Y,{component:"span",sx:{display:"inline-flex",flexShrink:0,color:"inherit",overflow:"visible",...r},children:h.jsx(kyn,{width:i,height:i,"aria-hidden":!0,style:{overflow:"visible",minWidth:i},...n})})},ZBe=["Number","Date","Text"],QBe={Number:Cyn,Date:Oot,Text:Eyn,unknown:est},Tyn={border:1,borderColor:"divider",borderRadius:1,overflow:"hidden",overscrollBehaviorX:"contain","& .MuiTableContainer-root":{maxHeight:"none"}},JO=10;function Ryn({fileUuid:e,mappings:t,onMappingsChange:n,dataPage:r,onDataPageChange:i,disabled:o=!1}){const{data:s,isLoading:a,error:l}=M4({fileUuid:e,pagination:{pageIndex:r,pageSize:JO},enabled:!0}),c=s?{columns:s.columns,rows:s.rows,totalLength:s.totalLength}:null,u=(g,y)=>{const x=t.find(w=>w.column===g)?t.map(w=>w.column===g?{...w,dtype:y}:w):[...t,{column:g,dtype:y}];n(x)},d=g=>t.find(y=>y.column===g)?.dtype??"Text",f=c?.columns??[],p=f.map(g=>{const y=d(g),v=QBe[y];return{accessorKey:g,header:g,size:220,minSize:180,Header:()=>h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:1,flexWrap:"nowrap",minWidth:0},children:[h.jsxs(Y,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1,flexWrap:"nowrap",minWidth:0},children:[v&&h.jsx(Dt,{title:y,children:h.jsx("span",{style:{flexShrink:0,display:"inline-flex"},children:h.jsx(v,{sx:{fontSize:"0.75rem",color:"text.secondary"},"aria-hidden":!0})})}),h.jsx(ae,{variant:"body2",fontWeight:600,sx:{flexShrink:0},children:g})]}),h.jsx(Vd,{size:"small",value:y,onChange:x=>{x.stopPropagation(),u(g,x.target.value)},onClick:x=>x.stopPropagation(),sx:{minWidth:110,flexShrink:0,fontSize:"0.75rem",height:28,"& .MuiSelect-select":{py:.5}},inputProps:{"aria-label":`Data type for ${g}`},disabled:o,children:ZBe.map(x=>h.jsx($t,{value:x,children:x},x))})]})}});return l?h.jsx(fre,{message:l instanceof Error?l.message:"Failed to load file data"}):a?h.jsx(ae,{variant:"body2",color:"text.secondary",children:"Loading data"}):!c||f.length===0?h.jsx(ae,{variant:"body2",color:"text.secondary",children:"No data to preview. Assign a tag or ensure the file has data."}):h.jsx(Y,{sx:Tyn,children:h.jsx(wC,{columns:p,data:c.rows,onClick:()=>{},enableRowActions:!1,enableStickyHeader:!0,enableColumnResizing:!0,enableColumnActions:!0,enableDensityToggle:!1,enableGlobalFilter:!1,enableTopToolbar:!0,enableFullScreenToggle:!0,layoutMode:"grid",manualPagination:!0,disabled:o,ariaLabel:"Column Data Types",rowCount:c.totalLength,onPaginationChange:g=>{const y={pageIndex:r,pageSize:JO},v=typeof g=="function"?g(y):y;v.pageIndex!==r&&i(v.pageIndex)},initialState:{density:"compact",pagination:{pageIndex:r,pageSize:JO}},state:{pagination:{pageIndex:r,pageSize:JO},showProgressBars:a}})})}function Myn({value:e,onChange:t,disabled:n=!1}){const r=xt(),i="file-config-mode-label",o="file-mode-title",s="file-mode-desc",a="tag-mode-title",l="tag-mode-desc",c=d=>{n||t(d)},u=d=>f=>{n||(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),t(d))};return h.jsxs(Y,{children:[h.jsx(ae,{id:i,variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Configuration mode"}),h.jsxs(Y,{role:"radiogroup","aria-labelledby":i,sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:[h.jsx(n0,{role:"radio","aria-checked":e==="file","aria-labelledby":o,"aria-describedby":s,tabIndex:n?-1:0,onClick:()=>c("file"),onKeyDown:u("file"),"data-testid":"mode-file",sx:{cursor:n?"default":"pointer",opacity:n?.6:1,transition:"all 0.2s ease",border:"2px solid",borderColor:e==="file"?"primary.main":"divider",boxShadow:e==="file"?`0 0 0 1px ${r.palette.primary.main}`:"none","&:hover":n?{}:{borderColor:ut(r.palette.primary.main,.5)},outline:"none","&:focus-visible":{boxShadow:`0 0 0 3px ${ut(r.palette.primary.main,.25)}`}},children:h.jsx(la,{sx:{p:2.5},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",gap:1.5},children:[h.jsx(Y,{sx:{p:1,borderRadius:1,bgcolor:"action.hover"},children:h.jsx(Zm,{sx:{fontSize:20},"aria-hidden":"true"})}),h.jsxs(Y,{children:[h.jsx(ae,{id:o,variant:"subtitle1",fontWeight:600,children:"File Based"}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.25},children:[h.jsx(ae,{id:s,variant:"body2",color:"text.secondary",children:"This file's settings are isolated from other files."}),h.jsx(Dt,{title:h.jsx(h.Fragment,{children:"Changes won't affect other files."}),placement:"top",children:h.jsx(Pt,{size:"small",sx:{p:0,minWidth:0},onClick:d=>d.stopPropagation(),"aria-label":"More info about File Based mode","data-testid":"mode-file-info",children:h.jsx(wT,{sx:{fontSize:14,color:"text.disabled",opacity:.7},"aria-hidden":"true"})})})]})]})]}),h.jsx(Y,{"aria-hidden":"true",sx:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",width:20,minWidth:20,height:20,minHeight:20,borderRadius:"50%",border:"2px solid",borderColor:e==="file"?"transparent":"divider",bgcolor:e==="file"?"primary.main":"transparent",color:e==="file"?"primary.contrastText":"transparent"},children:e==="file"&&h.jsx(C5,{sx:{fontSize:14}})})]})})}),h.jsx(n0,{role:"radio","aria-checked":e==="tag","aria-labelledby":a,"aria-describedby":l,tabIndex:n?-1:0,onClick:()=>c("tag"),onKeyDown:u("tag"),"data-testid":"mode-tag",sx:{cursor:n?"default":"pointer",opacity:n?.6:1,transition:"all 0.2s ease",border:"2px solid",borderColor:e==="tag"?"primary.main":"divider",boxShadow:e==="tag"?`0 0 0 1px ${r.palette.primary.main}`:"none","&:hover":n?{}:{borderColor:ut(r.palette.primary.main,.5)},outline:"none","&:focus-visible":{boxShadow:`0 0 0 3px ${ut(r.palette.primary.main,.25)}`}},children:h.jsx(la,{sx:{p:2.5},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",gap:1.5},children:[h.jsx(Y,{sx:{p:1,borderRadius:1,bgcolor:"action.hover"},children:h.jsx(Lf,{sx:{fontSize:20},"aria-hidden":"true"})}),h.jsxs(Y,{children:[h.jsx(ae,{id:a,variant:"subtitle1",fontWeight:600,children:"Tag Based"}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.25},children:[h.jsx(ae,{id:l,variant:"body2",color:"text.secondary",children:"This file inherits settings from the tag."}),h.jsx(Dt,{title:h.jsxs(h.Fragment,{children:[" Ensure consistency across files",h.jsx("br",{})," Auto-match with compatible dashboards",h.jsx("br",{})," Centralized schema management"]}),placement:"top",children:h.jsx(Pt,{size:"small",sx:{p:0,minWidth:0},onClick:d=>d.stopPropagation(),"aria-label":"More info about Tag Based mode","data-testid":"mode-tag-info",children:h.jsx(wT,{sx:{fontSize:14,color:"text.disabled",opacity:.7},"aria-hidden":"true"})})})]})]})]}),h.jsx(Y,{"aria-hidden":"true",sx:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",width:20,minWidth:20,height:20,minHeight:20,borderRadius:"50%",border:"2px solid",borderColor:e==="tag"?"transparent":"divider",bgcolor:e==="tag"?"primary.main":"transparent",color:e==="tag"?"primary.contrastText":"transparent"},children:e==="tag"&&h.jsx(C5,{sx:{fontSize:14}})})]})})})]})]})}const Ayn={border:1,borderColor:"divider",borderRadius:1,overflow:"hidden",overscrollBehaviorX:"contain","& .MuiTableContainer-root":{maxHeight:"none"}};function Pyn({mappings:e,onMappingsChange:t,mode:n,schemaTableData:r,disabled:i=!1}){const o=[{accessorKey:"column",header:"Column",size:200,minSize:120},{accessorKey:"dtype",header:"Data type",size:160,minSize:140,Cell:({row:s})=>h.jsx(Vd,{size:"small",value:s.original.dtype,onChange:a=>{a.stopPropagation();const l=e.map(c=>c.column===s.original.column?{...c,dtype:a.target.value}:c);t(l)},onClick:a=>a.stopPropagation(),displayEmpty:!0,sx:{minWidth:120},inputProps:{"aria-label":`Data type for ${s.original.column}`},disabled:i,children:ZBe.map(a=>h.jsx($t,{value:a,children:a},a))})}];return r.length===0?h.jsx(ae,{variant:"body2",color:"text.secondary",children:n==="tag"?"No column types defined. Defined by template.":"No column types defined. Add fields above to configure data types."}):h.jsx(Y,{sx:Ayn,children:h.jsx(wC,{columns:o,data:r,getRowId:s=>s.column,onClick:()=>{},enableRowActions:!1,enableStickyHeader:!1,enableColumnResizing:!0,enableColumnActions:!0,enableDensityToggle:!1,enableGlobalFilter:!1,enablePagination:!1,enableTopToolbar:!0,enableFullScreenToggle:!0,layoutMode:"grid",initialState:{density:"compact"},ariaLabel:"Column Data Types",disabled:i})})}function Dyn(e){return e?Object.entries(e).map(([t,n])=>({column:t,dtype:n})):[]}function Oyn({fileUuid:e}){const[t,n]=R.useState("schema"),[r,i]=R.useState(0),{data:o}=U_(e),{data:s}=R4(),{showSuccess:a}=Wi(),l=dre(g=>g.open),c=rZ(),u=o?.dtype_mapping?.mapping,d=!!(o?.tag?.id??o?.tag?.name),f=s?.data??[],p=lg({defaultValues:{mode:d?"tag":"file",tagId:o?.tag?.id??null,mappings:Dyn(u)},onSubmit:async({value:g})=>{if(g.mode==="tag"){if(!g.tagId||g.tagId==="none")return;await c.mutateAsync({body:{operation:"update_tag",value:{id:g.tagId}},path:{file_uuid:e}}),p.reset(g),a("Configuration saved successfully")}else if(g.mode==="file"){const v=g.mappings&&g.mappings.length>0?{mapping:Object.fromEntries(g.mappings.map(x=>[x.column,x.dtype])),sources:Object.fromEntries(g.mappings.map(x=>[x.column,"user_specified"]))}:null;await c.mutateAsync({path:{file_uuid:e},body:{operation:"update_dtype_mapping",value:v}}),p.reset(g),a("Configuration saved successfully")}else throw new Error("Invalid mode")}});return o?h.jsx(Y,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:0},children:h.jsx("form",{onSubmit:g=>{g.preventDefault(),g.stopPropagation(),p.handleSubmit()},style:{display:"flex",flexDirection:"column",flex:1,minHeight:0},children:h.jsx(p.Subscribe,{selector:g=>({mode:g.values.mode,values:g.values,isSubmitting:g.isSubmitting,isDirty:g.isDirty}),children:({mode:g,isSubmitting:y,isDirty:v})=>h.jsxs(h.Fragment,{children:[h.jsxs(Y,{sx:{flex:1,minHeight:0,overflow:"auto",display:"flex",flexDirection:"column",gap:3,px:2,py:2},children:[h.jsxs(Y,{sx:{p:2,borderRadius:2,bgcolor:x=>ut(x.palette.primary.main,.05),border:x=>`1px solid ${ut(x.palette.divider,.2)}`,display:"flex",flexDirection:"column",gap:2},children:[h.jsx(p.Field,{name:"mode",children:x=>h.jsx(Myn,{value:x.state.value,onChange:w=>x.handleChange(w),disabled:!o?.meta.can_user_update})}),g==="tag"&&h.jsx(p.Field,{name:"tagId",children:x=>{const w=!x.state.value||x.state.value==="none",S=w;return h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsx(ae,{id:"file-config-select-tag-label",variant:"h6",fontWeight:600,color:"text.secondary",children:"Select Tag"}),h.jsx(Y,{sx:{display:"flex",gap:1},children:h.jsx(Be,{variant:"text",size:"small",disabled:w,onClick:()=>{const C=f.find(k=>k.id===x.state.value);C&&l(C,!0)},children:"Edit tag"})})]}),h.jsxs(Qf,{size:"small",fullWidth:!0,error:S,children:[h.jsxs(Vd,{labelId:"file-config-select-tag-label","aria-label":"Select Tag",value:x.state.value??"none",onChange:C=>x.handleChange(C.target.value==="none"?null:C.target.value),displayEmpty:!0,sx:{minHeight:44},renderValue:C=>{if(C==="none"||!C)return h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,color:"text.secondary"},children:[h.jsx(Lf,{sx:{fontSize:18}}),h.jsx("span",{children:"No tag selected"})]});const k=f.find(T=>T.id===C);return k?h.jsx(jb,{label:k.name}):h.jsx("span",{children:"No tag selected"})},children:[h.jsx($t,{value:"none",children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,color:"text.secondary"},children:[h.jsx(Lf,{sx:{fontSize:18}}),h.jsx("span",{children:"No tag selected"})]})}),f.map(C=>h.jsx($t,{value:C.id,children:h.jsx(jb,{label:C.name})},C.id))]}),S&&h.jsx(QF,{children:"Please select a tag"})]})]})}})]}),h.jsx(p.Field,{name:"mappings",children:x=>{const w=x.state.value??[],S=w.map(C=>({column:C.column,dtype:C.dtype}));return h.jsxs(Y,{children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:1,mb:1},children:[h.jsx(ae,{variant:"subtitle2",fontWeight:600,children:"Column Data Types"}),h.jsxs(FEe,{value:t,exclusive:!0,onChange:(C,k)=>k&&n(k),size:"small",children:[h.jsx(P5,{value:"schema","aria-label":"Schema view",children:h.jsx(Est,{sx:{fontSize:20}})}),h.jsx(P5,{value:"data","aria-label":"Data view",children:h.jsx(Bke,{sx:{fontSize:20}})})]})]}),t==="schema"?h.jsx(Pyn,{mappings:w,onMappingsChange:x.handleChange,mode:g,schemaTableData:S,disabled:!o?.meta.can_user_update||g==="tag"}):h.jsx(Ryn,{fileUuid:e,mappings:w,onMappingsChange:x.handleChange,dataPage:r,onDataPageChange:i,disabled:!o?.meta.can_user_update||g==="tag"})]})}})]}),h.jsxs(Y,{sx:{flexShrink:0,display:"flex",gap:1,justifyContent:"flex-end",borderTop:1,borderColor:"divider",bgcolor:"background.paper",px:2,py:2},children:[h.jsx(Be,{type:"button",variant:"outlined",disabled:!v,onClick:()=>p.reset(),children:"Reset"}),h.jsx(Be,{type:"submit",variant:"contained",startIcon:h.jsx(Nke,{}),disabled:y||!v,children:y?"Saving":"Save configuration"})]})]})})})}):null}const JBe="";function Iyn(e){if(!e)return JBe;try{return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}function jyn({fileUuid:e}){const{showSuccess:t}=Wi(),{data:n}=U_(e),{data:r}=M4({fileUuid:e,pagination:{pageIndex:0,pageSize:1},enabled:!!e});if(!n)return null;const i=n.organization_name;return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(Zm,{}),children:"Details"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.75,fontSize:"0.8125rem"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Filename"}),h.jsx(ae,{variant:"body2",sx:{flex:1,minWidth:0,wordBreak:"break-word"},children:n.filename||JBe})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72,flexShrink:0},children:"UUID"}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5,fontFamily:"monospace",flex:1,minWidth:0},children:[h.jsx(ae,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:n.uuid}),h.jsx(Dt,{title:"Copy to clipboard",children:h.jsx(Pt,{size:"small",sx:{p:.25},onClick:()=>{navigator.clipboard.writeText(n.uuid),t("UUID copied to clipboard")},"aria-label":"Copy UUID",children:h.jsx(zh,{sx:{fontSize:16}})})})]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Uploaded"}),h.jsx(ae,{variant:"body2",children:Iyn(n.creation_date??void 0)})]}),n.size!=null&&h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Size"}),h.jsx(ae,{variant:"body2",children:n.size>=1024*1024?`${(n.size/(1024*1024)).toFixed(1)} MB`:n.size>=1024?`${(n.size/1024).toFixed(1)} KB`:`${n.size} B`})]}),r?.totalLength!=null&&r.totalLength>0&&h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Rows"}),h.jsx(ae,{variant:"body2",children:r.totalLength.toLocaleString()})]}),n.file_hash&&h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72,flexShrink:0},children:"Hash"}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5,fontFamily:"monospace",flex:1,minWidth:0},children:[h.jsx(ae,{variant:"body2",component:"span",sx:{fontFamily:"monospace",wordBreak:"break-all",fontSize:"0.75rem"},children:n.file_hash}),h.jsx(Dt,{title:"Copy to clipboard",children:h.jsx(Pt,{size:"small",sx:{p:.25},onClick:()=>{navigator.clipboard.writeText(n.file_hash??""),t("Hash copied to clipboard")},"aria-label":"Copy hash",children:h.jsx(zh,{sx:{fontSize:16}})})})]})]}),i&&h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Organization"}),h.jsx(ae,{variant:"body2",children:i})]})]})]})})}function $yn({fileUuid:e}){const{setDialogOpen:t}=RAe(),{data:n}=U_(e);if(!n)return null;const r=n.cost_centers,i=n.meta,o=n.organization_name;return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(k5,{}),children:"Cost Center"}),h.jsx(ae,{sx:{mb:2,fontSize:"0.875rem"},color:"text.secondary",children:"This file is shared with the following cost center(s). Users in these cost centers can access the file."}),h.jsx(Y,{sx:{display:"flex",flexWrap:"wrap",gap:.5,minHeight:"32px",alignItems:"center"},children:r?r.split(",").map(s=>h.jsxs(Y,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.5,px:1.5,py:.5,borderRadius:1,bgcolor:"action.selected",color:"text.primary",fontSize:"0.875rem"},children:[h.jsx(k5,{sx:{fontSize:18}}),s.trim()]},s.trim())):h.jsx(ae,{variant:"body2",color:"text.secondary",children:"No cost center assigned"})}),i?.can_user_edit_visibility&&h.jsx(Be,{variant:"outlined",size:"small",startIcon:h.jsx(EX,{fontSize:"small"}),onClick:()=>t({fileUuid:n.uuid,fileName:n.filename,organizationName:o||"",costCenter:r||""}),sx:{mt:2},children:"Change visibility"})]})})}const e8e="";function Fyn(e){if(!e)return e8e;try{return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}function Lyn({fileUuid:e}){const[t,n]=R.useState(0),{data:r,isLoading:i}=U_(e);return i||!r?h.jsx(Y,{sx:{p:4,display:"flex",justifyContent:"center"},children:h.jsx(Sa,{})}):h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",height:"100%",minWidth:0,overflow:"hidden"},children:[h.jsxs(Y,{sx:{borderBottom:1,borderColor:"divider",px:2,py:1.5,bgcolor:"background.paper",flexShrink:0},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,justifyContent:"space-between"},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,minWidth:0},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:1,backgroundColor:ut("#1976d2",.1),color:"#1976d2"},children:h.jsx(Zm,{sx:{fontSize:20}})}),h.jsx(ae,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:r.filename||e8e})]})}),h.jsxs(Y,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:2,mt:1.5,pt:1.5,borderTop:1,borderColor:"divider"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(BF,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Owner"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:r.owner_username})]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(Mke,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Uploaded"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:Fyn(r.creation_date??void 0)})]})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(EX,{sx:{fontSize:18,color:"text.secondary",flexShrink:0},"aria-hidden":!0}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Shared"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:r.cost_centers?.trim()?"Yes":"No"})]})]})]})]}),h.jsxs(qb,{value:t,onChange:(o,s)=>n(s),sx:{borderBottom:1,borderColor:"divider",flexShrink:0},children:[h.jsx(wl,{label:"Data Preview",id:"file-tab-0","aria-controls":"file-tabpanel-0"}),h.jsx(wl,{label:"Configuration",id:"file-tab-1","aria-controls":"file-tabpanel-1",iconPosition:"start"}),h.jsx(wl,{label:"Sharing",id:"file-tab-2","aria-controls":"file-tabpanel-2",iconPosition:"start"}),h.jsx(wl,{label:"More",id:"file-tab-3","aria-controls":"file-tabpanel-3",iconPosition:"start"})]}),h.jsxs(Y,{sx:{flex:1,minHeight:0,overflow:"hidden",display:"flex",flexDirection:"column"},children:[h.jsx(Y,{role:"tabpanel",id:"file-tabpanel-0",hidden:t!==0,sx:{flex:1,minHeight:0,overflow:"auto",p:2},children:t===0&&h.jsx(Syn,{fileUuid:e})}),h.jsx(Y,{role:"tabpanel",id:"file-tabpanel-1",hidden:t!==1,sx:{flex:1,minHeight:0,overflow:"hidden",display:"flex",flexDirection:"column"},children:t===1&&h.jsx(Oyn,{fileUuid:e})}),h.jsx(Y,{role:"tabpanel",id:"file-tabpanel-2",hidden:t!==2,sx:{flex:1,minHeight:0,overflow:"auto",p:2},children:t===2&&h.jsx($yn,{fileUuid:e})}),h.jsx(Y,{role:"tabpanel",id:"file-tabpanel-3",hidden:t!==3,sx:{flex:1,minHeight:0,overflow:"auto",p:2},children:t===3&&h.jsx(jyn,{fileUuid:e})})]})]})}function Nyn(){const{fileUuid:e,isNested:t,close:n}=CA();return e?h.jsx(Vh,{anchor:"right",open:!!e,onClose:n,slotProps:{backdrop:{invisible:!1}},PaperProps:{sx:{width:{xs:t?"45vw":"60vw"}}},children:h.jsx(Lyn,{fileUuid:e})}):null}var DU,_1e;function zyn(){return _1e||(_1e=1,DU=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),DU}var Byn=zyn();const Uyn=k0(Byn);var eI={exports:{}},OU,C1e;function Vyn(){if(C1e)return OU;C1e=1;var e;return e=function(){var t={},n={};return t.on=function(r,i){var o={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(o),o},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var o=n[r],s;if(o)for(s=o.length;s--;)o[s].handler(i)},t},OU=e,OU}var tI={exports:{}},IU,k1e;function Hyn(){if(k1e)return IU;k1e=1,IU=function(i,o,s){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof o=="function"&&(s=o,o={}),o=o||{},s=s||function(){},l.type=o.type||"text/javascript",l.charset=o.charset||"utf8",l.async="async"in o?!!o.async:!0,l.src=i,o.attrs&&e(l,o.attrs),o.text&&(l.text=""+o.text);var c="onload"in l?t:n;c(l,s),l.onload||t(l,s),a.appendChild(l)};function e(r,i){for(var o in i)r.setAttribute(o,i[o])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return IU}var E1e;function Wyn(){return E1e||(E1e=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Hyn(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=function(o){var s=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&o.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return s},e.exports=t.default})(tI,tI.exports)),tI.exports}var nI={exports:{}},rI={exports:{}},iI={exports:{}},jU,T1e;function qyn(){if(T1e)return jU;T1e=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;jU=function(c,u){u=u||{};var d=typeof c;if(d==="string"&&c.length>0)return o(c);if(d==="number"&&isNaN(c)===!1)return u.long?a(c):s(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function o(c){if(c=String(c),!(c.length>100)){var u=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(u){var d=parseFloat(u[1]),f=(u[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function s(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return l(c,r,"day")||l(c,n,"hour")||l(c,t,"minute")||l(c,e,"second")||c+" ms"}function l(c,u,d){if(!(c<u))return c<u*1.5?Math.floor(c/u)+" "+d:Math.ceil(c/u)+" "+d+"s"}return jU}var R1e;function Gyn(){return R1e||(R1e=1,(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=s,t.enable=o,t.enabled=a,t.humanize=qyn(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,f=+new Date,p=f-(n||f);d.diff=p,d.prev=n,d.curr=f,n=f;for(var g=new Array(arguments.length),y=0;y<g.length;y++)g[y]=arguments[y];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var v=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(w,S){if(w==="%%")return w;v++;var C=t.formatters[S];if(typeof C=="function"){var k=g[v];w=C.call(d,k),g.splice(v,1),v--}return w}),t.formatArgs.call(d,g);var x=u.log||t.log||console.log.bind(console);x.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function o(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,f=0;f<d;f++)u[f]&&(c=u[f].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function s(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(iI,iI.exports)),iI.exports}var M1e;function Yyn(){return M1e||(M1e=1,(function(e,t){var n={};t=e.exports=Gyn(),t.log=o,t.formatArgs=i,t.save=s,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var f=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(f++,g==="%c"&&(p=f))}),c.splice(p,0,d)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(rI,rI.exports)),rI.exports}var oI={exports:{}},A1e;function Xyn(){return A1e||(A1e=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(oI,oI.exports)),oI.exports}var sI={exports:{}},P1e;function Kyn(){return P1e||(P1e=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(sI,sI.exports)),sI.exports}var aI={exports:{}},lI={exports:{}},D1e;function Zyn(){return D1e||(D1e=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(lI,lI.exports)),lI.exports}var O1e;function Qyn(){return O1e||(O1e=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Zyn(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(aI,aI.exports)),aI.exports}var I1e;function Jyn(){return I1e||(I1e=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Yyn(),r=u(n),i=Xyn(),o=u(i),s=Kyn(),a=u(s),l=Qyn(),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),f={};f.proxyEvents=function(p){var g={},y=function(E){var A="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[A]=function(O){d('event "%s"',A,O),p.trigger(E,O)}},v=!0,x=!1,w=void 0;try{for(var S=a.default[Symbol.iterator](),C;!(v=(C=S.next()).done);v=!0){var k=C.value;y(k)}}catch(T){x=!0,w=T}finally{try{!v&&S.return&&S.return()}finally{if(x)throw w}}return g},f.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y={},v=function(A){g&&c.default[A]?y[A]=function(){for(var O=arguments.length,I=Array(O),j=0;j<O;j++)I[j]=arguments[j];return p.then(function(P){var $=c.default[A],D=P.getPlayerState(),F=P[A].apply(P,I);return $.stateChangeRequired||Array.isArray($.acceptableStates)&&$.acceptableStates.indexOf(D)===-1?new Promise(function(N){var V=function H(){var U=P.getPlayerState(),G=void 0;typeof $.timeout=="number"&&(G=setTimeout(function(){P.removeEventListener("onStateChange",H),N()},$.timeout)),Array.isArray($.acceptableStates)&&$.acceptableStates.indexOf(U)!==-1&&(P.removeEventListener("onStateChange",H),clearTimeout(G),N())};P.addEventListener("onStateChange",V)}).then(function(){return F}):F})}:y[A]=function(){for(var O=arguments.length,I=Array(O),j=0;j<O;j++)I[j]=arguments[j];return p.then(function(P){return P[A].apply(P,I)})}},x=!0,w=!1,S=void 0;try{for(var C=o.default[Symbol.iterator](),k;!(x=(k=C.next()).done);x=!0){var T=k.value;v(T)}}catch(E){w=!0,S=E}finally{try{!x&&C.return&&C.return()}finally{if(w)throw S}}return y},t.default=f,e.exports=t.default})(nI,nI.exports)),nI.exports}var j1e;function evn(){return j1e||(j1e=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Vyn(),i=c(r),o=Wyn(),s=c(o),a=Jyn(),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,s.default)(g)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');f.events=l.default.proxyEvents(g);var y=new Promise(function(x){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var w=d;x(w)}else u.then(function(S){var C=new S.Player(d,f);return g.on("ready",function(){x(C)}),null})}),v=l.default.promisifyPlayer(y,p);return v.on=g.on,v.off=g.off,v},e.exports=t.default})(eI,eI.exports)),eI.exports}var tvn=evn();const nvn=k0(tvn);var rvn=Object.defineProperty,ivn=Object.defineProperties,ovn=Object.getOwnPropertyDescriptors,$1e=Object.getOwnPropertySymbols,svn=Object.prototype.hasOwnProperty,avn=Object.prototype.propertyIsEnumerable,F1e=(e,t,n)=>t in e?rvn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KG=(e,t)=>{for(var n in t||(t={}))svn.call(t,n)&&F1e(e,n,t[n]);if($1e)for(var n of $1e(t))avn.call(t,n)&&F1e(e,n,t[n]);return e},ZG=(e,t)=>ivn(e,ovn(t)),lvn=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});function cvn(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},o=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==o.start||i.end!==o.end}function L1e(e={}){return ZG(KG({},e),{height:0,width:0,playerVars:ZG(KG({},e.playerVars),{autoplay:0,start:0,end:0})})}function uvn(e,t){return e.videoId!==t.videoId||!Uyn(L1e(e.opts),L1e(t.opts))}function dvn(e,t){var n,r,i,o;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((o=t.opts)==null?void 0:o.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var fvn={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},pvn={videoId:te.string,id:te.string,className:te.string,iframeClassName:te.string,style:te.object,title:te.string,loading:te.oneOf(["lazy","eager"]),opts:te.objectOf(te.any),onReady:te.func,onError:te.func,onPlay:te.func,onPause:te.func,onEnd:te.func,onStateChange:te.func,onPlaybackRateChange:te.func,onPlaybackQualityChange:te.func},Dj=class extends Vt.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,o,s,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Dj.PlayerState.ENDED:(o=(i=this.props).onEnd)==null||o.call(i,t);break;case Dj.PlayerState.PLAYING:(a=(s=this.props).onPlay)==null||a.call(s,t);break;case Dj.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=ZG(KG({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=nvn(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let o=!1;const s={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(s.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(s.endSeconds=this.props.opts.playerVars.end)),o){(r=this.internalPlayer)==null||r.loadVideoById(s);return}(i=this.internalPlayer)==null||i.cueVideoById(s)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return lvn(this,null,function*(){dvn(e,this.props)&&this.updatePlayer(),uvn(e,this.props)&&(yield this.resetPlayer()),cvn(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Vt.createElement("div",{className:this.props.className,style:this.props.style},Vt.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},iz=Dj;iz.propTypes=pvn;iz.defaultProps=fvn;iz.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var t8e=iz;const n8e=()=>{const[e,t]=R.useState();R.useEffect(()=>{t(ARe())},[]);const[n,r]=R.useState();return{openFeedback:async()=>{if(n)n.open();else{const o=await e?.createForm();o?.appendToDom(),o?.open(),r(o)}}}},uu=({children:e,onClick:t,href:n,variant:r="default",sx:i})=>{const o=xt();if(r==="outlined"){const a=t||n;return h.jsx(Y,{component:n?"a":"div",href:n,onClick:t,sx:{height:"100%",display:"block",cursor:a?"pointer":"default",textDecoration:"none",transition:"all 0.2s ease-in-out",border:`1px solid ${ut(o.palette.divider,.1)}`,borderRadius:"12px",...a&&{"&:hover":{borderColor:ut(o.palette.primary.main,.5)}},...i},children:e})}return h.jsx(n0,{component:n?"a":"div",href:n,onClick:t,sx:{height:"100%",cursor:t||n?"pointer":"default",transition:"all 0.2s ease-in-out",border:`1px solid ${ut(o.palette.divider,.1)}`,borderRadius:"12px",textDecoration:"none","&:hover":{borderColor:ut(o.palette.primary.main,.5),boxShadow:`0 8px 24px ${ut(o.palette.primary.main,.1)}`},...i},children:e})},hvn=()=>{const e=xt(),t=[{name:"Finn Gaida",email:"finn.gaida@nomaze.com",role:"CTO",imageURL:"/finn.webp"},{name:"Jakob Zanker",email:"jakob.zanker@nomaze.com",role:"Lead Software Engineer",imageURL:"/jakob.webp"}];return h.jsx(h.Fragment,{children:t.map((n,r)=>h.jsx(uu,{href:`mailto:${n.email}`,children:h.jsx(la,{sx:{p:2.5},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.imageURL?h.jsx(Uh,{src:n.imageURL,alt:n.name,sx:{width:56,height:56,border:`2px solid ${ut(e.palette.primary.main,.2)}`}}):h.jsx(Uh,{sx:{bgcolor:e.palette.primary.main,width:56,height:56,border:`2px solid ${ut(e.palette.primary.main,.2)}`,fontSize:"1.5rem"},children:n.name.split(" ").map(i=>i[0]).join("")}),h.jsxs(Y,{sx:{flex:1},children:[h.jsx(ae,{variant:"body1",sx:{fontWeight:600,mb:.5},children:n.name}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.875rem",mb:.5},children:n.role}),h.jsxs(ae,{variant:"body2",sx:{color:"primary.main",fontSize:"0.875rem",fontWeight:500},children:[n.email," "]})]})]})})},r))})};function gvn(){const{openFeedback:e}=n8e();return h.jsx(Be,{type:"button",onClick:e,children:"Feedback"})}const mvn=e=>{const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,n=e.match(t);return n&&n[2].length===11?n[2]:null},yvn=({open:e,onClose:t})=>{const n=xt(),{openFeedback:r}=n8e(),i="SmartPlot allows breeders and data scientists to visualize data of standard procedures on demand with minimal effort. Due to the flexible architecture of the software, it is able to cover a wide range of standard processes. Easy to use, it provides the user with top-notch visualizations which are customizable for fast and reliable reporting. Stop working on finding the correct analysis of your data and get more time for the interpretation of the results!",o=["https://www.youtube.com/watch?v=Tx6o5a2w0Lo","https://www.youtube.com/watch?v=X0HgiuFJPEw","https://www.youtube.com/watch?v=YIc9ktNwaHw","https://www.youtube.com/watch?v=iLtzgxbscIs&t=2s","https://www.youtube.com/watch?v=ZYjpUpFNFjc"];return h.jsx(Vh,{anchor:"right",open:e,onClose:t,PaperProps:{sx:{width:{xs:"100%",sm:640},maxWidth:"100%"}},children:h.jsxs(Y,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[h.jsxs(Y,{sx:{p:3,borderBottom:`1px solid ${ut(n.palette.divider,.1)}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(ust,{sx:{color:"primary.main"}}),h.jsx(ae,{variant:"h6",sx:{fontWeight:600},children:"Help Center"})]}),h.jsx(Pt,{onClick:t,size:"small",children:h.jsx(Vb,{})})]}),h.jsxs(Y,{sx:{flex:1,overflowY:"auto",p:3,display:"flex",flexDirection:"column",gap:4},children:[h.jsxs(Y,{children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[h.jsx(ast,{sx:{fontSize:20,color:"primary.main"}}),h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600},children:"About SmartPlot"})]}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",lineHeight:1.7,fontSize:"0.875rem"},children:i})]}),h.jsxs(VF,{id:"help-drawer-videos",defaultExpanded:!1,sx:{boxShadow:"none",border:`1px solid ${ut(n.palette.divider,.1)}`,borderRadius:"12px","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[h.jsxs(WF,{expandIcon:h.jsx(KR,{sx:{color:"primary.main"}}),sx:{px:2,py:1.5,"& .MuiAccordionSummary-content":{alignItems:"center",gap:1}},children:[h.jsx(Fke,{sx:{fontSize:20,color:"primary.main"}}),h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600},children:"Video Tutorials"})]}),h.jsx(HF,{sx:{px:2,pb:2},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.map((s,a)=>{const l=mvn(s);return l?h.jsx(n0,{sx:{border:`1px solid ${ut(n.palette.divider,.1)}`,borderRadius:"12px",overflow:"hidden"},children:h.jsx(Y,{sx:{position:"relative",paddingTop:"56.25%",backgroundColor:"#000"},children:h.jsx(Y,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:h.jsx(t8e,{videoId:l,opts:{width:"100%",height:"100%",playerVars:{autoplay:0,controls:1}},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})})})},a):null}),h.jsx(Y,{sx:{display:"flex",justifyContent:"center",pt:1},children:h.jsx(vm,{href:"https://www.youtube.com/@nomaze",target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none",fontSize:"0.875rem",fontWeight:500,"&:hover":{textDecoration:"underline"}},children:"Visit our YouTube channel "})})]})})]}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Frequently Asked"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[h.jsx(uu,{variant:"outlined",children:h.jsxs(la,{sx:{p:2},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:600,mb:1},children:"How do I create my first dashboard?"}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.875rem",lineHeight:1.6},children:'Click "Create a new dashboard" on the home screen or use the + button in the Dashboards section.'})]})}),h.jsx(uu,{variant:"outlined",children:h.jsxs(la,{sx:{p:2},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:600,mb:1},children:"Can I share dashboards with my team?"}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.875rem",lineHeight:1.6},children:"Yes! All dashboards can be shared with team members or made available for cloning organization-wide."})]})}),h.jsx(uu,{variant:"outlined",children:h.jsxs(la,{sx:{p:2},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:600,mb:1},children:"What data sources are supported?"}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.875rem",lineHeight:1.6},children:"SmartPlot supports CSV, Excel,and JSON format via file upload."})]})})]})]}),h.jsxs(Y,{sx:{pt:3,borderTop:`1px solid ${ut(n.palette.divider,.1)}`},children:[h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600,mb:3},children:"Need more help?"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:1.5,mb:3},children:[h.jsx(uu,{variant:"outlined",onClick:r,children:h.jsx(la,{sx:{p:2},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[h.jsx(Y,{sx:{width:40,height:40,borderRadius:1.5,bgcolor:ut(n.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Pke,{sx:{fontSize:20,color:"primary.main"}})}),h.jsxs(Y,{sx:{flex:1},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:500,mb:.5},children:"Give Feedback"}),h.jsx(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem"},children:"Share your thoughts and suggestions"})]}),h.jsx(Y,{sx:{display:"flex"},children:h.jsx(gvn,{})})]})})}),h.jsx(uu,{variant:"outlined",onClick:()=>{window.open("https://calendly.com/bojan-shokoski-nomaze/nomaze-meeting","_blank","noopener,noreferrer")},children:h.jsx(la,{sx:{p:2},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[h.jsx(Y,{sx:{width:40,height:40,borderRadius:1.5,bgcolor:ut(n.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Kot,{sx:{fontSize:20,color:"primary.main"}})}),h.jsxs(Y,{sx:{flex:1},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:500,mb:.5},children:"Book an Onboarding Meeting"}),h.jsx(ae,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem"},children:"Schedule a personalized walkthrough"})]}),h.jsx(Be,{variant:"text",size:"small",children:"Book"})]})})})]}),h.jsxs(Y,{id:"help-drawer-contact",sx:{mb:2},children:[h.jsx(ae,{variant:"subtitle1",sx:{fontWeight:600,mb:1.5},children:"Contact"}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",mb:1,lineHeight:1.7},children:"Got a question, found a bug, or have an idea? Talk directly to our team who build this."}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontStyle:"italic",lineHeight:1.7},children:"No chat bot, no ticket system, just the people writing the code and fixing things."})]}),h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:h.jsx(hvn,{})})]})]})]})})},r8e=Fi(e=>({report:null,open:t=>e({report:t}),close:()=>e({report:null})})),vvn="#f9a825",cI="";function bvn({report:e}){return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(_5,{sx:{color:vvn}}),children:"Details"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.75,fontSize:"0.8125rem"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Name"}),h.jsx(ae,{variant:"body2",sx:{flex:1,minWidth:0,wordBreak:"break-word"},children:e.name||cI})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"ID"}),h.jsx(ae,{variant:"body2",sx:{fontFamily:"monospace"},children:e.id})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Owner"}),h.jsx(ae,{variant:"body2",children:e.user?.username??cI})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Created"}),h.jsx(ae,{variant:"body2",children:e.created_at?new Date(e.created_at).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):cI})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Last Modified"}),h.jsx(ae,{variant:"body2",children:e.updated_at?new Date(e.updated_at).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):cI})]})]})]})})}const N1e="#f9a825",xvn="";function wvn(){const e=Kr(),{report:t,close:n}=r8e();return t?h.jsx(Vh,{anchor:"right",open:!!t,onClose:n,slotProps:{backdrop:{invisible:!1}},PaperProps:{sx:{width:{xs:"60vw"}}},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",height:"100%",minWidth:0,overflow:"hidden"},children:[h.jsx(Y,{sx:{borderBottom:1,borderColor:"divider",px:2,py:1.5,bgcolor:"background.paper",flexShrink:0},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,minWidth:0},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:1,backgroundColor:ut(N1e,.1),color:N1e},children:h.jsx(_5,{sx:{fontSize:20}})}),h.jsx(ae,{variant:"subtitle1",fontWeight:600,noWrap:!0,sx:{flex:1,minWidth:0},children:t.name||xvn}),h.jsx(Be,{size:"small",variant:"outlined",startIcon:h.jsx(QR,{sx:{fontSize:18}}),onClick:()=>{e({to:"/reports/$reportId",params:{reportId:t.id}}),n()},children:"Open report"})]})}),h.jsx(qb,{value:0,sx:{borderBottom:1,borderColor:"divider",minHeight:40,flexShrink:0},children:h.jsx(wl,{label:"Details",id:"report-tab-0","aria-controls":"report-tabpanel-0"})}),h.jsx(Y,{role:"tabpanel",id:"report-tabpanel-0",sx:{flex:1,overflow:"auto",p:2},children:h.jsx(bvn,{report:t})})]})}):null}const z1e="",Svn=["Number","Date","Text"];function i8e({tagId:e}){const[t,n]=R.useState(0),{showSuccess:r,showError:i}=Wi(),{data:o,isLoading:s}=mMt(e),a=gMt(),l=R.useMemo(()=>{const d=o?.dtype_mapping?.mapping??{};return Object.entries(d).map(([f,p])=>({column:f,dtype:p}))},[o?.dtype_mapping?.mapping]),c=R.useCallback((d,f)=>{if(!o?.dtype_mapping)return;const p=o.dtype_mapping.mapping??{},g=o.dtype_mapping.sources??{},y={...p,[d]:f},v={...g,[d]:"user_specified"};a.mutate({path:{tag_id:o.id},body:{operation:"update_dtype_mapping",value:{mapping:y,sources:v}}},{onSuccess:()=>r("Column type updated"),onError:()=>i("Failed to update column type")})},[o?.dtype_mapping,r,a,i]),u=R.useMemo(()=>[{accessorKey:"column",header:"Column"},{accessorKey:"dtype",header:"Data type",Cell:({row:d})=>h.jsx(Vd,{size:"small",value:d.original.dtype,onChange:f=>{f.stopPropagation(),c(d.original.column,f.target.value)},onClick:f=>f.stopPropagation(),displayEmpty:!0,sx:{minWidth:120},disabled:a.isPending,children:Svn.map(f=>h.jsx($t,{value:f,children:f},f))})}],[c,a.isPending]);return s||!o?null:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",height:"100%",minWidth:0,overflow:"hidden"},children:[h.jsx(Y,{sx:{borderBottom:1,borderColor:"divider",px:2,py:1.5,bgcolor:"background.paper",flexShrink:0},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:1,backgroundColor:ut(xv,.1),color:xv},children:h.jsx(Lf,{sx:{fontSize:20}})}),h.jsx(Y,{sx:{minWidth:0},children:h.jsx(ae,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:o.name||z1e})})]})}),h.jsxs(qb,{value:t,onChange:(d,f)=>n(f),sx:{borderBottom:1,borderColor:"divider",minHeight:40,flexShrink:0},children:[h.jsx(wl,{label:"Column Data Types",id:"tag-tab-0","aria-controls":"tag-tabpanel-0"}),h.jsx(wl,{label:"More",id:"tag-tab-2","aria-controls":"tag-tabpanel-2"})]}),h.jsx(Y,{role:"tabpanel",id:"tag-tabpanel-0",hidden:t!==0,sx:{flex:1,overflow:"hidden",minHeight:0,display:"flex",flexDirection:"column"},children:t===0&&h.jsx(Y,{sx:{p:2,flex:1,minHeight:0,display:"flex",flexDirection:"column",gap:2,overflow:"auto"},children:o.dtype_mapping?h.jsxs(h.Fragment,{children:[h.jsx(ae,{variant:"subtitle2",fontWeight:600,flexShrink:0,children:"Column Data Types"}),h.jsx(Y,{sx:{flex:1,minHeight:0,border:1,borderColor:"divider",borderRadius:1,display:"flex",flexDirection:"column"},children:h.jsx(wC,{columns:u,data:l,getRowId:d=>d.column,onClick:()=>{},enableRowActions:!1,enableStickyHeader:!0,enableColumnResizing:!0,enableColumnActions:!0,enableDensityToggle:!1,enableGlobalFilter:!1,enablePagination:!1,renderTopToolbar:!1,layoutMode:"grid",initialState:{density:"compact"},muiTableContainerProps:{sx:{height:"100%",maxHeight:"100%"}}})})]}):h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(Lf,{sx:{color:xv}}),children:"Column Data Types"}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:"Tag has no Column Data Types configured yet. Assign a file so that it will pick up the schema from the file."})]})})}),h.jsx(Y,{role:"tabpanel",id:"tag-tabpanel-2",hidden:t!==1,sx:{flex:1,overflow:"auto",p:2},children:t===1&&h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(Lf,{sx:{color:xv}}),children:"Details"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.75,fontSize:"0.8125rem"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Name"}),h.jsx(ae,{variant:"body2",sx:{flex:1,minWidth:0,wordBreak:"break-word"},children:o.name||z1e})]}),o.created_at&&h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Created"}),h.jsx(ae,{variant:"body2",children:new Date(o.created_at).toLocaleString()})]})]})]})})})]})}function _vn(){const{tag:e,isNested:t,close:n}=dre();return e?h.jsx(Vh,{anchor:"right",open:!!e,onClose:n,slotProps:{backdrop:{invisible:!1}},PaperProps:{sx:{width:{xs:t?"45vw":"60vw"}}},children:h.jsx(Y,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:h.jsx(i8e,{tagId:e.id})})}):null}const o8e=Fi(e=>({template:null,open:t=>e({template:t}),close:()=>e({template:null})})),Cvn="#2e7d32",uI="";function kvn({template:e}){return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{icon:h.jsx(ST,{sx:{color:Cvn}}),children:"Details"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.75,fontSize:"0.8125rem"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Name"}),h.jsx(ae,{variant:"body2",sx:{flex:1,minWidth:0,wordBreak:"break-word"},children:e.name||uI})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"ID"}),h.jsx(ae,{variant:"body2",sx:{fontFamily:"monospace"},children:e.id})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Owner"}),h.jsx(ae,{variant:"body2",children:e.owner??e.user?.username??uI})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Data Source"}),h.jsx(ae,{variant:"body2",children:e.data_source??uI})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"baseline",gap:.5},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",sx:{minWidth:72},children:"Cost Centers"}),h.jsx(ae,{variant:"body2",children:e.cost_centers?.trim()??uI})]})]})]})})}const B1e="#2e7d32",Evn="";function Tvn(){const e=Kr(),{template:t,close:n}=o8e();return t?h.jsx(Vh,{anchor:"right",open:!!t,onClose:n,slotProps:{backdrop:{invisible:!1}},PaperProps:{sx:{width:{xs:"60vw"}}},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",height:"100%",minWidth:0,overflow:"hidden"},children:[h.jsx(Y,{sx:{borderBottom:1,borderColor:"divider",px:2,py:1.5,bgcolor:"background.paper",flexShrink:0},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1.5,minWidth:0},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:1,backgroundColor:ut(B1e,.1),color:B1e},children:h.jsx(ST,{sx:{fontSize:20}})}),h.jsx(ae,{variant:"subtitle1",fontWeight:600,noWrap:!0,sx:{flex:1,minWidth:0},children:t.name||Evn}),h.jsx(Be,{size:"small",variant:"outlined",startIcon:h.jsx(QR,{sx:{fontSize:18}}),onClick:()=>{e({to:Nr.Template+"/"+t.id}),n()},children:"Open template"})]})}),h.jsx(qb,{value:0,sx:{borderBottom:1,borderColor:"divider",minHeight:40,flexShrink:0},children:h.jsx(wl,{label:"Details",id:"template-tab-0","aria-controls":"template-tabpanel-0"})}),h.jsx(Y,{role:"tabpanel",id:"template-tabpanel-0",sx:{flex:1,overflow:"auto",p:2},children:h.jsx(kvn,{template:t})})]})}):null}const Rvn=()=>{const{isKws:e}=Ul(),t=e?[{name:"BIC Support",email:"BIC_support@kws.com"}]:[{name:"Finn Gaida",email:"finn.gaida@nomaze.com"},{name:"Jakob Zanker",email:"jakob.zanker@nomaze.com"}];return h.jsxs(Y,{sx:{mt:4},children:[h.jsx(ae,{variant:"h5",sx:{mb:2},children:"Contact"}),h.jsx(gf,{container:!0,spacing:2,children:t.map((n,r)=>h.jsxs(gf,{children:[n.imageURL===void 0?h.jsx(Y,{sx:{padding:3},children:h.jsx(YR,{fontSize:"large"})}):h.jsx("img",{src:n.imageURL,style:{width:100,height:100},alt:n.name}),h.jsx(ae,{variant:"body1",children:h.jsx("strong",{children:n.name})}),h.jsx(vm,{href:"mailto:"+n.email,children:n.email})]},r))})]})},Nu=({additionalSx:e,children:t})=>{const n=xt();return h.jsx(Y,{borderRadius:1,sx:{backgroundColor:n.palette.background.paper,borderColor:n.palette.grey[200],border:"1px solid ",p:2,display:"flex",flexDirection:"row",overflow:"auto",...e},children:t})},Mvn=({error:e})=>{const t=Kr(),n=()=>{t({to:Nr.Home})};return R.useEffect(()=>{mM(e,{level:"error"})},[e]),h.jsxs(Y,{sx:{display:"flex"},children:[h.jsx(UX,{}),h.jsx(WAe,{handleLogoClick:n,children:h.jsx(Y,{sx:{flexGrow:1}})}),h.jsx(Y,{sx:{padding:4,maxWidth:"100vw"},children:h.jsx(iM,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:h.jsx(Nu,{children:h.jsxs(gt,{direction:"column",spacing:3,children:[h.jsx(ae,{variant:"h2",children:"An unexpected error occurred"}),h.jsxs(ae,{variant:"body2",children:["An error has occurred, possibly due to a system misconfiguration or temporary service issue. We automatically monitor these situations, but if the issue continues, please don't hesitate to contact us.",h.jsx("br",{}),"Or try refreshing or coming back later."]}),h.jsx(Rvn,{}),h.jsxs(ae,{variant:"body2",children:["Technical Error Code: ",e.message]})]})})})})]})},Avn=()=>{const e=zl(),t=xAe();R.useEffect(()=>{t&&dh.identify(t.username,{email:t.username})},[t]),R.useEffect(()=>e.subscribe("onResolved",({toLocation:n})=>{dh.capture("$pageview",{$current_url:window.location.href,$pathname:n.href})}),[])},Pvn=Fi(e=>({file:null,open:!1,setOpen:t=>e({file:t,open:!!t}),setClose:()=>e({file:null,open:!1})})),Dvn=Fi(e=>({pipe:null,open:!1,setOpen:t=>e({pipe:t,open:!!t}),setClose:()=>e({pipe:null,open:!1})})),ds=MWe()({component:Ovn,errorComponent:Mvn});function Ovn(){Avn();const e=_Y(),{isOpen:t,setClose:n}=AM(),{isOpen:r,setClose:i}=Mze(),{isOpen:o,setClose:s}=UAe(),{pipe:a,open:l,setClose:c}=Dvn(),{file:u,open:d,setClose:f}=Pvn(),p=e.pathname.includes("/pipe/"),g=e.pathname.includes("/dashboard/"),y=e.pathname.includes("/block/"),v=e.pathname.includes("/reports/"),x=e.pathname.includes("/files/manager"),w=/^\/files\/[^/]+\/[^/]+$/.test(e.pathname),S=p||g||y||x,C=p||g||y||v||x||w;return h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[h.jsx(UX,{}),!S&&h.jsx(nDt,{}),h.jsx(WPt,{}),h.jsx(rDt,{}),h.jsx(HPt,{}),h.jsx(lcn,{}),h.jsx(jAt,{}),h.jsx(VPt,{}),h.jsx(zAt,{}),h.jsx(XPt,{}),h.jsx($rn,{open:o,onClose:s}),h.jsx(jmt,{}),h.jsx(qPt,{}),h.jsx(YPt,{}),h.jsx(Y,{sx:{flex:1,display:"flex",flexDirection:"column"},children:h.jsx(SY,{})}),!C&&h.jsx(dcn,{}),h.jsx(yvn,{open:t,onClose:n}),h.jsx(pcn,{open:r,onClose:i}),h.jsx(ycn,{}),h.jsx(Nyn,{}),h.jsx(wvn,{}),h.jsx(_vn,{}),h.jsx(Tvn,{}),h.jsx(Pze,{dialogOpen:l,setDialogOpen:k=>!k&&c(),selectedPipelineId:a?.id??0,selectedTagId:a?.tag?.id,selectedTagLabel:a?.tag?.name}),h.jsx(fcn,{dialogOpen:d,setDialogOpen:k=>!k&&f(),selectedFileUuid:u?.uuid??"",selectedTagId:u?.tag?.id??"",selectedTagLabel:u?.tag?.name??""}),h.jsxs(h.Fragment,{children:[h.jsx(pAt,{toggleButtonProps:{style:{left:"100px"}}}),h.jsx(fAt,{initialIsOpen:!1})]})]})}function ot(e,t,n){function r(a,l){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,l);const c=s.prototype,u=Object.keys(c);for(let d=0;d<u.length;d++){const f=u[d];f in a||(a[f]=c[f].bind(a))}}const i=n?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const c=n?.Parent?new o:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const u of c._zod.deferred)u();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class Vw extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class s8e extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const a8e={};function $b(e){return a8e}function l8e(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function QG(e,t){return typeof t=="bigint"?t.toString():t}function Jre(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function eie(e){return e==null}function tie(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Ivn(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l?.[1]&&(i=Number.parseInt(l[1]))}const o=n>i?n:i,s=Number.parseInt(e.toFixed(o).replace(".","")),a=Number.parseInt(t.toFixed(o).replace(".",""));return s%a/10**o}const U1e=Symbol("evaluating");function ri(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==U1e)return r===void 0&&(r=U1e,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Sx(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function K0(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function V1e(e){return JSON.stringify(e)}function jvn(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const c8e="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function W3(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const $vn=Jre(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function _R(e){if(W3(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(W3(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function u8e(e){return _R(e)?{...e}:Array.isArray(e)?[...e]:e}const Fvn=new Set(["string","number","symbol"]);function oz(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z0(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function wn(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Lvn(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Nvn={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function zvn(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=K0(e._zod.def,{get shape(){const s={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(s[a]=n.shape[a])}return Sx(this,"shape",s),s},checks:[]});return Z0(e,o)}function Bvn(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=K0(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete s[a]}return Sx(this,"shape",s),s},checks:[]});return Z0(e,o)}function Uvn(e,t){if(!_R(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const o=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=K0(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return Sx(this,"shape",o),o}});return Z0(e,i)}function Vvn(e,t){if(!_R(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=K0(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Sx(this,"shape",r),r}});return Z0(e,n)}function Hvn(e,t){const n=K0(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Sx(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Z0(e,n)}function Wvn(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=K0(t._zod.def,{get shape(){const a=t._zod.def.shape,l={...a};if(n)for(const c in n){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=e?new e({type:"optional",innerType:a[c]}):a[c])}else for(const c in a)l[c]=e?new e({type:"optional",innerType:a[c]}):a[c];return Sx(this,"shape",l),l},checks:[]});return Z0(t,s)}function qvn(e,t,n){const r=K0(t._zod.def,{get shape(){const i=t._zod.def.shape,o={...i};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)o[s]=new e({type:"nonoptional",innerType:i[s]});return Sx(this,"shape",o),o}});return Z0(t,r)}function gw(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function d8e(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function dI(e){return typeof e=="string"?e:e?.message}function Fb(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=dI(e.inst?._zod.def?.error?.(e))??dI(t?.error?.(e))??dI(n.customError?.(e))??dI(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function nie(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function CR(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const f8e=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,QG,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},p8e=ot("$ZodError",f8e),h8e=ot("$ZodError",f8e,{Parent:Error});function Gvn(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function Yvn(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>r({issues:s}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(t(o));else{let s=n,a=0;for(;a<o.path.length;){const l=o.path[a];a===o.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(o))):s[l]=s[l]||{_errors:[]},s=s[l],a++}}};return r(e),n}const rie=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new Vw;if(s.issues.length){const a=new(i?.Err??e)(s.issues.map(l=>Fb(l,o,$b())));throw c8e(a,i?.callee),a}return s.value},iie=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new(i?.Err??e)(s.issues.map(l=>Fb(l,o,$b())));throw c8e(a,i?.callee),a}return s.value},sz=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Vw;return o.issues.length?{success:!1,error:new(e??p8e)(o.issues.map(s=>Fb(s,i,$b())))}:{success:!0,data:o.value}},Xvn=sz(h8e),az=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Fb(s,i,$b())))}:{success:!0,data:o.value}},Kvn=az(h8e),Zvn=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return rie(e)(t,n,i)},Qvn=e=>(t,n,r)=>rie(e)(t,n,r),Jvn=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return iie(e)(t,n,i)},ebn=e=>async(t,n,r)=>iie(e)(t,n,r),tbn=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sz(e)(t,n,i)},nbn=e=>(t,n,r)=>sz(e)(t,n,r),rbn=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return az(e)(t,n,i)},ibn=e=>async(t,n,r)=>az(e)(t,n,r),obn=/^[cC][^\s-]{8,}$/,sbn=/^[0-9a-z]+$/,abn=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,lbn=/^[0-9a-vA-V]{20}$/,cbn=/^[A-Za-z0-9]{27}$/,ubn=/^[a-zA-Z0-9_-]{21}$/,dbn=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,fbn=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,H1e=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,pbn=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,hbn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gbn(){return new RegExp(hbn,"u")}const mbn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ybn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,vbn=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bbn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xbn=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,g8e=/^[A-Za-z0-9_-]*$/,wbn=/^\+[1-9]\d{6,14}$/,m8e="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Sbn=new RegExp(`^${m8e}$`);function y8e(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function _bn(e){return new RegExp(`^${y8e(e)}$`)}function Cbn(e){const t=y8e({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${m8e}T(?:${r})$`)}const kbn=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Ebn=/^-?\d+$/,Tbn=/^-?\d+(?:\.\d+)?$/,Rbn=/^[^A-Z]*$/,Mbn=/^[^a-z]*$/,ql=ot("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),v8e={number:"number",bigint:"bigint",object:"date"},b8e=ot("$ZodCheckLessThan",(e,t)=>{ql.init(e,t);const n=v8e[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),x8e=ot("$ZodCheckGreaterThan",(e,t)=>{ql.init(e,t);const n=v8e[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Abn=ot("$ZodCheckMultipleOf",(e,t)=>{ql.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Ivn(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Pbn=ot("$ZodCheckNumberFormat",(e,t)=>{ql.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,o]=Nvn[t.format];e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,a.minimum=i,a.maximum=o,n&&(a.pattern=Ebn)}),e._zod.check=s=>{const a=s.value;if(n){if(!Number.isInteger(a)){s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),Dbn=ot("$ZodCheckMaxLength",(e,t)=>{var n;ql.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!eie(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const s=nie(i);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),Obn=ot("$ZodCheckMinLength",(e,t)=>{var n;ql.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!eie(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const s=nie(i);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),Ibn=ot("$ZodCheckLengthEquals",(e,t)=>{var n;ql.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!eie(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,o=i.length;if(o===t.length)return;const s=nie(i),a=o>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),lz=ot("$ZodCheckStringFormat",(e,t)=>{var n,r;ql.init(e,t),e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),jbn=ot("$ZodCheckRegex",(e,t)=>{lz.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),$bn=ot("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Rbn),lz.init(e,t)}),Fbn=ot("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Mbn),lz.init(e,t)}),Lbn=ot("$ZodCheckIncludes",(e,t)=>{ql.init(e,t);const n=oz(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),Nbn=ot("$ZodCheckStartsWith",(e,t)=>{ql.init(e,t);const n=new RegExp(`^${oz(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),zbn=ot("$ZodCheckEndsWith",(e,t)=>{ql.init(e,t);const n=new RegExp(`.*${oz(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Bbn=ot("$ZodCheckOverwrite",(e,t)=>{ql.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Ubn{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}}const Vbn={major:4,minor:3,patch:5},Go=ot("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Vbn;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const o of i._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(s,a,l)=>{let c=gw(s),u;for(const d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(c)continue;const f=s.issues.length,p=d._zod.check(s);if(p instanceof Promise&&l?.async===!1)throw new Vw;if(u||p instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await p,s.issues.length!==f&&(c||(c=gw(s,f)))});else{if(s.issues.length===f)continue;c||(c=gw(s,f))}}return u?u.then(()=>s):s},o=(s,a,l)=>{if(gw(s))return s.aborted=!0,s;const c=i(a,r,l);if(c instanceof Promise){if(l.async===!1)throw new Vw;return c.then(u=>e._zod.parse(u,l))}return e._zod.parse(c,l)};e._zod.run=(s,a)=>{if(a.skipChecks)return e._zod.parse(s,a);if(a.direction==="backward"){const c=e._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return c instanceof Promise?c.then(u=>o(u,s,a)):o(c,s,a)}const l=e._zod.parse(s,a);if(l instanceof Promise){if(a.async===!1)throw new Vw;return l.then(c=>i(c,r,a))}return i(l,r,a)}}ri(e,"~standard",()=>({validate:i=>{try{const o=Xvn(e,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Kvn(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),oie=ot("$ZodString",(e,t)=>{Go.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??kbn(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),qi=ot("$ZodStringFormat",(e,t)=>{lz.init(e,t),oie.init(e,t)}),Hbn=ot("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=fbn),qi.init(e,t)}),Wbn=ot("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=H1e(r))}else t.pattern??(t.pattern=H1e());qi.init(e,t)}),qbn=ot("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=pbn),qi.init(e,t)}),Gbn=ot("$ZodURL",(e,t)=>{qi.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Ybn=ot("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=gbn()),qi.init(e,t)}),Xbn=ot("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=ubn),qi.init(e,t)}),Kbn=ot("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=obn),qi.init(e,t)}),Zbn=ot("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=sbn),qi.init(e,t)}),Qbn=ot("$ZodULID",(e,t)=>{t.pattern??(t.pattern=abn),qi.init(e,t)}),Jbn=ot("$ZodXID",(e,t)=>{t.pattern??(t.pattern=lbn),qi.init(e,t)}),exn=ot("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=cbn),qi.init(e,t)}),txn=ot("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Cbn(t)),qi.init(e,t)}),nxn=ot("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Sbn),qi.init(e,t)}),rxn=ot("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=_bn(t)),qi.init(e,t)}),ixn=ot("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=dbn),qi.init(e,t)}),oxn=ot("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=mbn),qi.init(e,t),e._zod.bag.format="ipv4"}),sxn=ot("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ybn),qi.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),axn=ot("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=vbn),qi.init(e,t)}),lxn=ot("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=bbn),qi.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,o]=r;if(!o)throw new Error;const s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function w8e(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const cxn=ot("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=xbn),qi.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{w8e(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function uxn(e){if(!g8e.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return w8e(n)}const dxn=ot("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=g8e),qi.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{uxn(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),fxn=ot("$ZodE164",(e,t)=>{t.pattern??(t.pattern=wbn),qi.init(e,t)});function pxn(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const hxn=ot("$ZodJWT",(e,t)=>{qi.init(e,t),e._zod.check=n=>{pxn(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),S8e=ot("$ZodNumber",(e,t)=>{Go.init(e,t),e._zod.pattern=e._zod.bag.pattern??Tbn,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),gxn=ot("$ZodNumberFormat",(e,t)=>{Pbn.init(e,t),S8e.init(e,t)}),mxn=ot("$ZodUnknown",(e,t)=>{Go.init(e,t),e._zod.parse=n=>n}),yxn=ot("$ZodNever",(e,t)=>{Go.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function W1e(e,t,n){e.issues.length&&t.issues.push(...d8e(n,e.issues)),t.value[n]=e.value}const vxn=ot("$ZodArray",(e,t)=>{Go.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(c=>W1e(c,n,s))):W1e(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function q3(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...d8e(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function _8e(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Lvn(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function C8e(e,t,n,r,i,o){const s=[],a=i.keySet,l=i.catchall._zod,c=l.def.type,u=l.optout==="optional";for(const d in t){if(a.has(d))continue;if(c==="never"){s.push(d);continue}const f=l.run({value:t[d],issues:[]},r);f instanceof Promise?e.push(f.then(p=>q3(p,n,d,t,u))):q3(f,n,d,t,u)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const bxn=ot("$ZodObject",(e,t)=>{if(Go.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...a};return Object.defineProperty(t,"shape",{value:l}),l}})}const r=Jre(()=>_8e(t));ri(e._zod,"propValues",()=>{const a=t.shape,l={};for(const c in a){const u=a[c]._zod;if(u.values){l[c]??(l[c]=new Set);for(const d of u.values)l[c].add(d)}}return l});const i=W3,o=t.catchall;let s;e._zod.parse=(a,l)=>{s??(s=r.value);const c=a.value;if(!i(c))return a.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),a;a.value={};const u=[],d=s.shape;for(const f of s.keys){const p=d[f],g=p._zod.optout==="optional",y=p._zod.run({value:c[f],issues:[]},l);y instanceof Promise?u.push(y.then(v=>q3(v,a,f,c,g))):q3(y,a,f,c,g)}return o?C8e(u,c,a,l,r.value,e):u.length?Promise.all(u).then(()=>a):a}}),xxn=ot("$ZodObjectJIT",(e,t)=>{bxn.init(e,t);const n=e._zod.parse,r=Jre(()=>_8e(t)),i=f=>{const p=new Ubn(["shape","payload","ctx"]),g=r.value,y=S=>{const C=V1e(S);return`shape[${C}]._zod.run({ value: input[${C}], issues: [] }, ctx)`};p.write("const input = payload.value;");const v=Object.create(null);let x=0;for(const S of g.keys)v[S]=`key_${x++}`;p.write("const newResult = {};");for(const S of g.keys){const C=v[S],k=V1e(S),E=f[S]?._zod?.optout==="optional";p.write(`const ${C} = ${y(S)};`),E?p.write(`
        if (${C}.issues.length) {
          if (${k} in input) {
            payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${k}, ...iss.path] : [${k}]
            })));
          }
        }
        
        if (${C}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${C}.value;
        }
        
      `):p.write(`
        if (${C}.issues.length) {
          payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        if (${C}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${C}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const w=p.compile();return(S,C)=>w(f,S,C)};let o;const s=W3,a=!a8e.jitless,c=a&&$vn.value,u=t.catchall;let d;e._zod.parse=(f,p)=>{d??(d=r.value);const g=f.value;return s(g)?a&&c&&p?.async===!1&&p.jitless!==!0?(o||(o=i(t.shape)),f=o(f,p),u?C8e([],g,f,p,d,e):f):n(f,p):(f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f)}});function q1e(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const i=e.filter(o=>!gw(o));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(s=>Fb(s,r,$b())))}),t)}const wxn=ot("$ZodUnion",(e,t)=>{Go.init(e,t),ri(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),ri(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),ri(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),ri(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>tie(o.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let s=!1;const a=[];for(const l of t.options){const c=l._zod.run({value:i.value,issues:[]},o);if(c instanceof Promise)a.push(c),s=!0;else{if(c.issues.length===0)return c;a.push(c)}}return s?Promise.all(a).then(l=>q1e(l,i,e,o)):q1e(a,i,e,o)}}),Sxn=ot("$ZodIntersection",(e,t)=>{Go.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,o=t.left._zod.run({value:i,issues:[]},r),s=t.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([l,c])=>G1e(n,l,c)):G1e(n,o,s)}});function JG(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(_R(e)&&_R(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),i={...e,...t};for(const o of r){const s=JG(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=t[r],s=JG(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function G1e(e,t,n){const r=new Map;let i;for(const a of t.issues)if(a.code==="unrecognized_keys"){i??(i=a);for(const l of a.keys)r.has(l)||r.set(l,{}),r.get(l).l=!0}else e.issues.push(a);for(const a of n.issues)if(a.code==="unrecognized_keys")for(const l of a.keys)r.has(l)||r.set(l,{}),r.get(l).r=!0;else e.issues.push(a);const o=[...r].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(o.length&&i&&e.issues.push({...i,keys:o}),gw(e))return e;const s=JG(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const _xn=ot("$ZodEnum",(e,t)=>{Go.init(e,t);const n=l8e(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>Fvn.has(typeof i)).map(i=>typeof i=="string"?oz(i):i.toString()).join("|")})$`),e._zod.parse=(i,o)=>{const s=i.value;return r.has(s)||i.issues.push({code:"invalid_value",values:n,input:s,inst:e}),i}}),Cxn=ot("$ZodTransform",(e,t)=>{Go.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new s8e(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new Vw;return n.value=i,n}});function Y1e(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const k8e=ot("$ZodOptional",(e,t)=>{Go.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ri(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ri(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${tie(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>Y1e(o,n.value)):Y1e(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),kxn=ot("$ZodExactOptional",(e,t)=>{k8e.init(e,t),ri(e._zod,"values",()=>t.innerType._zod.values),ri(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),Exn=ot("$ZodNullable",(e,t)=>{Go.init(e,t),ri(e._zod,"optin",()=>t.innerType._zod.optin),ri(e._zod,"optout",()=>t.innerType._zod.optout),ri(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${tie(n.source)}|null)$`):void 0}),ri(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Txn=ot("$ZodDefault",(e,t)=>{Go.init(e,t),e._zod.optin="optional",ri(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>X1e(o,t)):X1e(i,t)}});function X1e(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Rxn=ot("$ZodPrefault",(e,t)=>{Go.init(e,t),e._zod.optin="optional",ri(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Mxn=ot("$ZodNonOptional",(e,t)=>{Go.init(e,t),ri(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>K1e(o,e)):K1e(i,e)}});function K1e(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Axn=ot("$ZodCatch",(e,t)=>{Go.init(e,t),ri(e._zod,"optin",()=>t.innerType._zod.optin),ri(e._zod,"optout",()=>t.innerType._zod.optout),ri(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Fb(s,r,$b()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>Fb(o,r,$b()))},input:n.value}),n.issues=[]),n)}}),Pxn=ot("$ZodPipe",(e,t)=>{Go.init(e,t),ri(e._zod,"values",()=>t.in._zod.values),ri(e._zod,"optin",()=>t.in._zod.optin),ri(e._zod,"optout",()=>t.out._zod.optout),ri(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=t.out._zod.run(n,r);return o instanceof Promise?o.then(s=>fI(s,t.in,r)):fI(o,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(o=>fI(o,t.out,r)):fI(i,t.out,r)}});function fI(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Dxn=ot("$ZodReadonly",(e,t)=>{Go.init(e,t),ri(e._zod,"propValues",()=>t.innerType._zod.propValues),ri(e._zod,"values",()=>t.innerType._zod.values),ri(e._zod,"optin",()=>t.innerType?._zod?.optin),ri(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(Z1e):Z1e(i)}});function Z1e(e){return e.value=Object.freeze(e.value),e}const Oxn=ot("$ZodCustom",(e,t)=>{ql.init(e,t),Go.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>Q1e(o,n,r,e));Q1e(i,n,r,e)}});function Q1e(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(CR(i))}}var J1e;class Ixn{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function jxn(){return new Ixn}(J1e=globalThis).__zod_globalRegistry??(J1e.__zod_globalRegistry=jxn());const aE=globalThis.__zod_globalRegistry;function $xn(e,t){return new e({type:"string",...wn(t)})}function Fxn(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...wn(t)})}function ewe(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...wn(t)})}function Lxn(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...wn(t)})}function Nxn(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...wn(t)})}function zxn(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...wn(t)})}function Bxn(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...wn(t)})}function Uxn(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...wn(t)})}function Vxn(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...wn(t)})}function Hxn(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...wn(t)})}function Wxn(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...wn(t)})}function qxn(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...wn(t)})}function Gxn(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...wn(t)})}function Yxn(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...wn(t)})}function Xxn(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...wn(t)})}function Kxn(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...wn(t)})}function Zxn(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...wn(t)})}function Qxn(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...wn(t)})}function Jxn(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...wn(t)})}function e1n(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...wn(t)})}function t1n(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...wn(t)})}function n1n(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...wn(t)})}function r1n(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...wn(t)})}function i1n(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...wn(t)})}function o1n(e,t){return new e({type:"string",format:"date",check:"string_format",...wn(t)})}function s1n(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...wn(t)})}function a1n(e,t){return new e({type:"string",format:"duration",check:"string_format",...wn(t)})}function l1n(e,t){return new e({type:"number",checks:[],...wn(t)})}function c1n(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...wn(t)})}function u1n(e){return new e({type:"unknown"})}function d1n(e,t){return new e({type:"never",...wn(t)})}function twe(e,t){return new b8e({check:"less_than",...wn(t),value:e,inclusive:!1})}function $U(e,t){return new b8e({check:"less_than",...wn(t),value:e,inclusive:!0})}function nwe(e,t){return new x8e({check:"greater_than",...wn(t),value:e,inclusive:!1})}function FU(e,t){return new x8e({check:"greater_than",...wn(t),value:e,inclusive:!0})}function rwe(e,t){return new Abn({check:"multiple_of",...wn(t),value:e})}function E8e(e,t){return new Dbn({check:"max_length",...wn(t),maximum:e})}function G3(e,t){return new Obn({check:"min_length",...wn(t),minimum:e})}function T8e(e,t){return new Ibn({check:"length_equals",...wn(t),length:e})}function f1n(e,t){return new jbn({check:"string_format",format:"regex",...wn(t),pattern:e})}function p1n(e){return new $bn({check:"string_format",format:"lowercase",...wn(e)})}function h1n(e){return new Fbn({check:"string_format",format:"uppercase",...wn(e)})}function g1n(e,t){return new Lbn({check:"string_format",format:"includes",...wn(t),includes:e})}function m1n(e,t){return new Nbn({check:"string_format",format:"starts_with",...wn(t),prefix:e})}function y1n(e,t){return new zbn({check:"string_format",format:"ends_with",...wn(t),suffix:e})}function SC(e){return new Bbn({check:"overwrite",tx:e})}function v1n(e){return SC(t=>t.normalize(e))}function b1n(){return SC(e=>e.trim())}function x1n(){return SC(e=>e.toLowerCase())}function w1n(){return SC(e=>e.toUpperCase())}function S1n(){return SC(e=>jvn(e))}function _1n(e,t,n){return new e({type:"array",element:t,...wn(n)})}function C1n(e,t,n){return new e({type:"custom",check:"custom",fn:t,...wn(n)})}function k1n(e){const t=E1n(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(CR(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(CR(i))}},e(n.value,n)));return t}function E1n(e,t){const n=new ql({check:"custom",...wn(t)});return n._zod.check=e,n}function R8e(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??aE,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Ys(e,t,n={path:[],schemaPath:[]}){var r;const i=e._zod.def,o=t.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const s={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,s);const a=e._zod.toJSONSchema?.();if(a)s.schema=a;else{const u={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,u);else{const f=s.schema,p=t.processors[i.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);p(e,t,f,u)}const d=e._zod.parent;d&&(s.ref||(s.ref=d),Ys(d,t,u),t.seen.get(d).isParent=!0)}const l=t.metadataRegistry.get(e);return l&&Object.assign(s.schema,l),t.io==="input"&&Pa(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function M8e(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const s of e.seen.entries()){const a=e.metadataRegistry.get(s[0])?.id;if(a){const l=r.get(a);if(l&&l!==s[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(a,s[0])}}const i=s=>{const a=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const d=e.external.registry.get(s[0])?.id,f=e.external.uri??(g=>g);if(d)return{ref:f(d)};const p=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=p,{defId:p,ref:`${f("__shared")}#/${a}/${p}`}}if(s[1]===n)return{ref:"#"};const c=`#/${a}/`,u=s[1].schema.id??`__schema${e.counter++}`;return{defId:u,ref:c+u}},o=s=>{if(s[1].schema.$ref)return;const a=s[1],{ref:l,defId:c}=i(s);a.def={...a.schema},c&&(a.defId=c);const u=a.schema;for(const d in u)delete u[d];u.$ref=l};if(e.cycles==="throw")for(const s of e.seen.entries()){const a=s[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const a=s[1];if(t===s[0]){o(s);continue}if(e.external){const c=e.external.registry.get(s[0])?.id;if(t!==s[0]&&c){o(s);continue}}if(e.metadataRegistry.get(s[0])?.id){o(s);continue}if(a.cycle){o(s);continue}if(a.count>1&&e.reused==="ref"){o(s);continue}}}function A8e(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=s=>{const a=e.seen.get(s);if(a.ref===null)return;const l=a.def??a.schema,c={...l},u=a.ref;if(a.ref=null,u){r(u);const f=e.seen.get(u),p=f.schema;if(p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(l.allOf=l.allOf??[],l.allOf.push(p)):Object.assign(l,p),Object.assign(l,c),s._zod.parent===u)for(const y in l)y==="$ref"||y==="allOf"||y in c||delete l[y];if(p.$ref)for(const y in l)y==="$ref"||y==="allOf"||y in f.def&&JSON.stringify(l[y])===JSON.stringify(f.def[y])&&delete l[y]}const d=s._zod.parent;if(d&&d!==u){r(d);const f=e.seen.get(d);if(f?.schema.$ref&&(l.$ref=f.schema.$ref,f.def))for(const p in l)p==="$ref"||p==="allOf"||p in f.def&&JSON.stringify(l[p])===JSON.stringify(f.def[p])&&delete l[p]}e.override({zodSchema:s,jsonSchema:l,path:a.path??[]})};for(const s of[...e.seen.entries()].reverse())r(s[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const s=e.external.registry.get(t)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(s)}Object.assign(i,n.def??n.schema);const o=e.external?.defs??{};for(const s of e.seen.entries()){const a=s[1];a.def&&a.defId&&(o[a.defId]=a.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{const s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...t["~standard"],jsonSchema:{input:Y3(t,"input",e.processors),output:Y3(t,"output",e.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function Pa(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Pa(r.element,n);if(r.type==="set")return Pa(r.valueType,n);if(r.type==="lazy")return Pa(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Pa(r.innerType,n);if(r.type==="intersection")return Pa(r.left,n)||Pa(r.right,n);if(r.type==="record"||r.type==="map")return Pa(r.keyType,n)||Pa(r.valueType,n);if(r.type==="pipe")return Pa(r.in,n)||Pa(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Pa(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Pa(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Pa(i,n))return!0;return!!(r.rest&&Pa(r.rest,n))}return!1}const T1n=(e,t={})=>n=>{const r=R8e({...n,processors:t});return Ys(e,r),M8e(r,e),A8e(r,e)},Y3=(e,t,n={})=>r=>{const{libraryOptions:i,target:o}=r??{},s=R8e({...i??{},target:o,io:t,processors:n});return Ys(e,s),M8e(s,e),A8e(s,e)},R1n={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},M1n=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:o,maximum:s,format:a,patterns:l,contentEncoding:c}=e._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof s=="number"&&(i.maxLength=s),a&&(i.format=R1n[a]??a,i.format===""&&delete i.format,a==="time"&&delete i.format),c&&(i.contentEncoding=c),l&&l.size>0){const u=[...l];u.length===1?i.pattern=u[0].source:u.length>1&&(i.allOf=[...u.map(d=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},A1n=(e,t,n,r)=>{const i=n,{minimum:o,maximum:s,format:a,multipleOf:l,exclusiveMaximum:c,exclusiveMinimum:u}=e._zod.bag;typeof a=="string"&&a.includes("int")?i.type="integer":i.type="number",typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=u,i.exclusiveMinimum=!0):i.exclusiveMinimum=u),typeof o=="number"&&(i.minimum=o,typeof u=="number"&&t.target!=="draft-04"&&(u>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof c=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=c,i.exclusiveMaximum=!0):i.exclusiveMaximum=c),typeof s=="number"&&(i.maximum=s,typeof c=="number"&&t.target!=="draft-04"&&(c<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof l=="number"&&(i.multipleOf=l)},P1n=(e,t,n,r)=>{n.not={}},D1n=(e,t,n,r)=>{},O1n=(e,t,n,r)=>{const i=e._zod.def,o=l8e(i.entries);o.every(s=>typeof s=="number")&&(n.type="number"),o.every(s=>typeof s=="string")&&(n.type="string"),n.enum=o},I1n=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},j1n=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},$1n=(e,t,n,r)=>{const i=n,o=e._zod.def,{minimum:s,maximum:a}=e._zod.bag;typeof s=="number"&&(i.minItems=s),typeof a=="number"&&(i.maxItems=a),i.type="array",i.items=Ys(o.element,t,{...r,path:[...r.path,"items"]})},F1n=(e,t,n,r)=>{const i=n,o=e._zod.def;i.type="object",i.properties={};const s=o.shape;for(const c in s)i.properties[c]=Ys(s[c],t,{...r,path:[...r.path,"properties",c]});const a=new Set(Object.keys(s)),l=new Set([...a].filter(c=>{const u=o.shape[c]._zod;return t.io==="input"?u.optin===void 0:u.optout===void 0}));l.size>0&&(i.required=Array.from(l)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=Ys(o.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},L1n=(e,t,n,r)=>{const i=e._zod.def,o=i.inclusive===!1,s=i.options.map((a,l)=>Ys(a,t,{...r,path:[...r.path,o?"oneOf":"anyOf",l]}));o?n.oneOf=s:n.anyOf=s},N1n=(e,t,n,r)=>{const i=e._zod.def,o=Ys(i.left,t,{...r,path:[...r.path,"allOf",0]}),s=Ys(i.right,t,{...r,path:[...r.path,"allOf",1]}),a=c=>"allOf"in c&&Object.keys(c).length===1,l=[...a(o)?o.allOf:[o],...a(s)?s.allOf:[s]];n.allOf=l},z1n=(e,t,n,r)=>{const i=e._zod.def,o=Ys(i.innerType,t,r),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},B1n=(e,t,n,r)=>{const i=e._zod.def;Ys(i.innerType,t,r);const o=t.seen.get(e);o.ref=i.innerType},U1n=(e,t,n,r)=>{const i=e._zod.def;Ys(i.innerType,t,r);const o=t.seen.get(e);o.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},V1n=(e,t,n,r)=>{const i=e._zod.def;Ys(i.innerType,t,r);const o=t.seen.get(e);o.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},H1n=(e,t,n,r)=>{const i=e._zod.def;Ys(i.innerType,t,r);const o=t.seen.get(e);o.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=s},W1n=(e,t,n,r)=>{const i=e._zod.def,o=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Ys(o,t,r);const s=t.seen.get(e);s.ref=o},q1n=(e,t,n,r)=>{const i=e._zod.def;Ys(i.innerType,t,r);const o=t.seen.get(e);o.ref=i.innerType,n.readOnly=!0},P8e=(e,t,n,r)=>{const i=e._zod.def;Ys(i.innerType,t,r);const o=t.seen.get(e);o.ref=i.innerType},G1n=ot("ZodISODateTime",(e,t)=>{txn.init(e,t),ro.init(e,t)});function Y1n(e){return i1n(G1n,e)}const X1n=ot("ZodISODate",(e,t)=>{nxn.init(e,t),ro.init(e,t)});function K1n(e){return o1n(X1n,e)}const Z1n=ot("ZodISOTime",(e,t)=>{rxn.init(e,t),ro.init(e,t)});function Q1n(e){return s1n(Z1n,e)}const J1n=ot("ZodISODuration",(e,t)=>{ixn.init(e,t),ro.init(e,t)});function ewn(e){return a1n(J1n,e)}const twn=(e,t)=>{p8e.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Yvn(e,n)},flatten:{value:n=>Gvn(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,QG,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,QG,2)}},isEmpty:{get(){return e.issues.length===0}}})},qu=ot("ZodError",twn,{Parent:Error}),nwn=rie(qu),rwn=iie(qu),iwn=sz(qu),own=az(qu),swn=Zvn(qu),awn=Qvn(qu),lwn=Jvn(qu),cwn=ebn(qu),uwn=tbn(qu),dwn=nbn(qu),fwn=rbn(qu),pwn=ibn(qu),Yo=ot("ZodType",(e,t)=>(Go.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Y3(e,"input"),output:Y3(e,"output")}}),e.toJSONSchema=T1n(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(K0(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Z0(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>nwn(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>iwn(e,n,r),e.parseAsync=async(n,r)=>rwn(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>own(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>swn(e,n,r),e.decode=(n,r)=>awn(e,n,r),e.encodeAsync=async(n,r)=>lwn(e,n,r),e.decodeAsync=async(n,r)=>cwn(e,n,r),e.safeEncode=(n,r)=>uwn(e,n,r),e.safeDecode=(n,r)=>dwn(e,n,r),e.safeEncodeAsync=async(n,r)=>fwn(e,n,r),e.safeDecodeAsync=async(n,r)=>pwn(e,n,r),e.refine=(n,r)=>e.check(aSn(n,r)),e.superRefine=n=>e.check(lSn(n)),e.overwrite=n=>e.check(SC(n)),e.optional=()=>awe(e),e.exactOptional=()=>Ywn(e),e.nullable=()=>lwe(e),e.nullish=()=>awe(lwe(e)),e.nonoptional=n=>eSn(e,n),e.array=()=>Lwn(e),e.or=n=>Bwn([e,n]),e.and=n=>Vwn(e,n),e.transform=n=>cwe(e,qwn(n)),e.default=n=>Zwn(e,n),e.prefault=n=>Jwn(e,n),e.catch=n=>nSn(e,n),e.pipe=n=>cwe(e,n),e.readonly=()=>oSn(e),e.describe=n=>{const r=e.clone();return aE.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return aE.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return aE.get(e);const r=e.clone();return aE.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),D8e=ot("_ZodString",(e,t)=>{oie.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(r,i,o)=>M1n(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(f1n(...r)),e.includes=(...r)=>e.check(g1n(...r)),e.startsWith=(...r)=>e.check(m1n(...r)),e.endsWith=(...r)=>e.check(y1n(...r)),e.min=(...r)=>e.check(G3(...r)),e.max=(...r)=>e.check(E8e(...r)),e.length=(...r)=>e.check(T8e(...r)),e.nonempty=(...r)=>e.check(G3(1,...r)),e.lowercase=r=>e.check(p1n(r)),e.uppercase=r=>e.check(h1n(r)),e.trim=()=>e.check(b1n()),e.normalize=(...r)=>e.check(v1n(...r)),e.toLowerCase=()=>e.check(x1n()),e.toUpperCase=()=>e.check(w1n()),e.slugify=()=>e.check(S1n())}),hwn=ot("ZodString",(e,t)=>{oie.init(e,t),D8e.init(e,t),e.email=n=>e.check(Fxn(gwn,n)),e.url=n=>e.check(Uxn(mwn,n)),e.jwt=n=>e.check(r1n(Pwn,n)),e.emoji=n=>e.check(Vxn(ywn,n)),e.guid=n=>e.check(ewe(iwe,n)),e.uuid=n=>e.check(Lxn(pI,n)),e.uuidv4=n=>e.check(Nxn(pI,n)),e.uuidv6=n=>e.check(zxn(pI,n)),e.uuidv7=n=>e.check(Bxn(pI,n)),e.nanoid=n=>e.check(Hxn(vwn,n)),e.guid=n=>e.check(ewe(iwe,n)),e.cuid=n=>e.check(Wxn(bwn,n)),e.cuid2=n=>e.check(qxn(xwn,n)),e.ulid=n=>e.check(Gxn(wwn,n)),e.base64=n=>e.check(e1n(Rwn,n)),e.base64url=n=>e.check(t1n(Mwn,n)),e.xid=n=>e.check(Yxn(Swn,n)),e.ksuid=n=>e.check(Xxn(_wn,n)),e.ipv4=n=>e.check(Kxn(Cwn,n)),e.ipv6=n=>e.check(Zxn(kwn,n)),e.cidrv4=n=>e.check(Qxn(Ewn,n)),e.cidrv6=n=>e.check(Jxn(Twn,n)),e.e164=n=>e.check(n1n(Awn,n)),e.datetime=n=>e.check(Y1n(n)),e.date=n=>e.check(K1n(n)),e.time=n=>e.check(Q1n(n)),e.duration=n=>e.check(ewn(n))});function Hw(e){return $xn(hwn,e)}const ro=ot("ZodStringFormat",(e,t)=>{qi.init(e,t),D8e.init(e,t)}),gwn=ot("ZodEmail",(e,t)=>{qbn.init(e,t),ro.init(e,t)}),iwe=ot("ZodGUID",(e,t)=>{Hbn.init(e,t),ro.init(e,t)}),pI=ot("ZodUUID",(e,t)=>{Wbn.init(e,t),ro.init(e,t)}),mwn=ot("ZodURL",(e,t)=>{Gbn.init(e,t),ro.init(e,t)}),ywn=ot("ZodEmoji",(e,t)=>{Ybn.init(e,t),ro.init(e,t)}),vwn=ot("ZodNanoID",(e,t)=>{Xbn.init(e,t),ro.init(e,t)}),bwn=ot("ZodCUID",(e,t)=>{Kbn.init(e,t),ro.init(e,t)}),xwn=ot("ZodCUID2",(e,t)=>{Zbn.init(e,t),ro.init(e,t)}),wwn=ot("ZodULID",(e,t)=>{Qbn.init(e,t),ro.init(e,t)}),Swn=ot("ZodXID",(e,t)=>{Jbn.init(e,t),ro.init(e,t)}),_wn=ot("ZodKSUID",(e,t)=>{exn.init(e,t),ro.init(e,t)}),Cwn=ot("ZodIPv4",(e,t)=>{oxn.init(e,t),ro.init(e,t)}),kwn=ot("ZodIPv6",(e,t)=>{sxn.init(e,t),ro.init(e,t)}),Ewn=ot("ZodCIDRv4",(e,t)=>{axn.init(e,t),ro.init(e,t)}),Twn=ot("ZodCIDRv6",(e,t)=>{lxn.init(e,t),ro.init(e,t)}),Rwn=ot("ZodBase64",(e,t)=>{cxn.init(e,t),ro.init(e,t)}),Mwn=ot("ZodBase64URL",(e,t)=>{dxn.init(e,t),ro.init(e,t)}),Awn=ot("ZodE164",(e,t)=>{fxn.init(e,t),ro.init(e,t)}),Pwn=ot("ZodJWT",(e,t)=>{hxn.init(e,t),ro.init(e,t)}),O8e=ot("ZodNumber",(e,t)=>{S8e.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(r,i,o)=>A1n(e,r,i),e.gt=(r,i)=>e.check(nwe(r,i)),e.gte=(r,i)=>e.check(FU(r,i)),e.min=(r,i)=>e.check(FU(r,i)),e.lt=(r,i)=>e.check(twe(r,i)),e.lte=(r,i)=>e.check($U(r,i)),e.max=(r,i)=>e.check($U(r,i)),e.int=r=>e.check(owe(r)),e.safe=r=>e.check(owe(r)),e.positive=r=>e.check(nwe(0,r)),e.nonnegative=r=>e.check(FU(0,r)),e.negative=r=>e.check(twe(0,r)),e.nonpositive=r=>e.check($U(0,r)),e.multipleOf=(r,i)=>e.check(rwe(r,i)),e.step=(r,i)=>e.check(rwe(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Dwn(e){return l1n(O8e,e)}const Own=ot("ZodNumberFormat",(e,t)=>{gxn.init(e,t),O8e.init(e,t)});function owe(e){return c1n(Own,e)}const Iwn=ot("ZodUnknown",(e,t)=>{mxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>D1n()});function swe(){return u1n(Iwn)}const jwn=ot("ZodNever",(e,t)=>{yxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>P1n(e,n,r)});function $wn(e){return d1n(jwn,e)}const Fwn=ot("ZodArray",(e,t)=>{vxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>$1n(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(G3(n,r)),e.nonempty=n=>e.check(G3(1,n)),e.max=(n,r)=>e.check(E8e(n,r)),e.length=(n,r)=>e.check(T8e(n,r)),e.unwrap=()=>e.element});function Lwn(e,t){return _1n(Fwn,e,t)}const Nwn=ot("ZodObject",(e,t)=>{xxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>F1n(e,n,r,i),ri(e,"shape",()=>t.shape),e.keyof=()=>Hwn(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:swe()}),e.loose=()=>e.clone({...e._zod.def,catchall:swe()}),e.strict=()=>e.clone({...e._zod.def,catchall:$wn()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Uvn(e,n),e.safeExtend=n=>Vvn(e,n),e.merge=n=>Hvn(e,n),e.pick=n=>zvn(e,n),e.omit=n=>Bvn(e,n),e.partial=(...n)=>Wvn(I8e,e,n[0]),e.required=(...n)=>qvn(j8e,e,n[0])});function sie(e,t){const n={type:"object",shape:e??{},...wn(t)};return new Nwn(n)}const zwn=ot("ZodUnion",(e,t)=>{wxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>L1n(e,n,r,i),e.options=t.options});function Bwn(e,t){return new zwn({type:"union",options:e,...wn(t)})}const Uwn=ot("ZodIntersection",(e,t)=>{Sxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>N1n(e,n,r,i)});function Vwn(e,t){return new Uwn({type:"intersection",left:e,right:t})}const eY=ot("ZodEnum",(e,t)=>{_xn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(r,i,o)=>O1n(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new eY({...t,checks:[],...wn(i),entries:o})},e.exclude=(r,i)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new eY({...t,checks:[],...wn(i),entries:o})}});function Hwn(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new eY({type:"enum",entries:n,...wn(t)})}const Wwn=ot("ZodTransform",(e,t)=>{Cxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>j1n(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new s8e(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(CR(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(CR(s))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function qwn(e){return new Wwn({type:"transform",transform:e})}const I8e=ot("ZodOptional",(e,t)=>{k8e.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>P8e(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function awe(e){return new I8e({type:"optional",innerType:e})}const Gwn=ot("ZodExactOptional",(e,t)=>{kxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>P8e(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Ywn(e){return new Gwn({type:"optional",innerType:e})}const Xwn=ot("ZodNullable",(e,t)=>{Exn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>z1n(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function lwe(e){return new Xwn({type:"nullable",innerType:e})}const Kwn=ot("ZodDefault",(e,t)=>{Txn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>U1n(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Zwn(e,t){return new Kwn({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():u8e(t)}})}const Qwn=ot("ZodPrefault",(e,t)=>{Rxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>V1n(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Jwn(e,t){return new Qwn({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():u8e(t)}})}const j8e=ot("ZodNonOptional",(e,t)=>{Mxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>B1n(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function eSn(e,t){return new j8e({type:"nonoptional",innerType:e,...wn(t)})}const tSn=ot("ZodCatch",(e,t)=>{Axn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>H1n(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function nSn(e,t){return new tSn({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const rSn=ot("ZodPipe",(e,t)=>{Pxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>W1n(e,n,r,i),e.in=t.in,e.out=t.out});function cwe(e,t){return new rSn({type:"pipe",in:e,out:t})}const iSn=ot("ZodReadonly",(e,t)=>{Dxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>q1n(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function oSn(e){return new iSn({type:"readonly",innerType:e})}const sSn=ot("ZodCustom",(e,t)=>{Oxn.init(e,t),Yo.init(e,t),e._zod.processJSONSchema=(n,r,i)=>I1n(e,n)});function aSn(e,t={}){return C1n(sSn,e,t)}function lSn(e){return k1n(e)}function Ww({children:e}){return h.jsx(Y,{sx:{position:"absolute",width:"100vw",height:"100vh",display:"grid",placeItems:"center"},children:h.jsx(Y,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:e})})}const cSn=({delay:e=500}={})=>{const t=Kr();return n=>{setTimeout(async()=>{await t(n)},e)}},uSn=sie({pipeId:Dwn(),fileUuid:Hw(),fileName:Hw().optional(),dashboardName:Hw().optional()}),$8e=mo("/open-external")({component:dSn,validateSearch:uSn});function dSn(){const e=cSn({delay:1e3}),t=Kr(),{pipeId:n,fileUuid:r,fileName:i,dashboardName:o}=$8e.useSearch(),{showError:s}=Wi(),a=pn(),l=bMt(),c=()=>{l.mutate({body:{file_uuid:r},path:{id:n}},{onSuccess:async u=>{a.clear();const{id:d,user:f}=u,p=ba(f.username,d);t({to:Nr.Dashboard+"/"+p})},onError:()=>{s("Could not open Dashboard"),e({to:Nr.Home})}})};return R.useEffect(()=>{if(!r||!n){s("Missing search params fileUuid and pipeId"),e({to:Nr.Home});return}},[]),!r||!n?h.jsx(Ww,{children:h.jsx(Y,{children:"Redirecting to Home..."})}):l.isError?h.jsxs(Ww,{children:[l.error.message,h.jsx(Y,{children:"Redirecting to Home..."})]}):h.jsxs(Ww,{children:[h.jsxs(Be,{sx:{mb:3},variant:"contained",onClick:c,children:['Open Dashboard "',o,'"']}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[o&&h.jsxs(Y,{children:["Dashboard Name: ",o]}),i&&h.jsxs(Y,{children:["File Name: ",i]})]})]})}const fSn=mo("/changelog")({component:pSn});function pSn(){return L3?h.jsx("div",{children:h.jsxs(iM,{maxWidth:"lg",sx:{marginTop:8,padding:4},children:[h.jsx(ae,{variant:"h4",sx:{marginBottom:2},children:"Latest Release Notes"}),L3.map((e,t)=>h.jsxs(VF,{defaultExpanded:t===0,children:[h.jsxs(WF,{expandIcon:h.jsx(KR,{}),children:[h.jsx(ae,{variant:"h5",children:e.Version}),h.jsx(ae,{variant:"body1",sx:{marginLeft:2},children:h.jsx("em",{children:new Date(e["Release Date"]).toLocaleDateString()})})]}),h.jsxs(HF,{children:[e.Content.features&&e.Content.features.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(ae,{variant:"h6",children:"Features"}),h.jsx("ul",{children:e.Content.features.map((n,r)=>h.jsx("li",{children:n},r))})]}),e.Content.improvements&&e.Content.improvements.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(ae,{variant:"h6",children:"Improvements"}),h.jsx("ul",{children:e.Content.improvements.map((n,r)=>h.jsx("li",{children:n},r))})]}),e.Content.fixes&&e.Content.fixes.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(ae,{variant:"h6",children:"Fixes"}),h.jsx("ul",{children:e.Content.fixes.map((n,r)=>h.jsx("li",{children:n},r))})]})]})]},e.Version))]})}):h.jsx(To,{})}const p_=({loading:e})=>h.jsx(oM,{sx:{mt:20},"data-testid":"loading-spinner",anchorOrigin:{vertical:"top",horizontal:"center"},open:e,message:h.jsxs(Y,{sx:{display:"inline-flex",flexDirection:"row"},children:[h.jsx(To,{size:30}),h.jsx(Y,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(ae,{children:"Loading..."})})]})}),hSn=mo("/auth-callback")({component:gSn});function gSn(){const t=new URL(window.location.href.replace("#/","")).searchParams.get("token");return t&&A_().setToken(t),window.location.assign("/"),h.jsx(p_,{loading:!0})}const cz=({variant:e="loading"})=>e==="spinner-only"?h.jsx(Y,{"data-testid":"loading-spinner",sx:{position:"fixed",inset:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(To,{size:30})}):h.jsx(Y,{sx:{position:"fixed",inset:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:h.jsxs(Y,{sx:{border:"1px solid #d6d3d1",borderRadius:1,padding:2,display:"inline-flex",flexDirection:"row",alignItems:"center",backgroundColor:"background.paper",width:"288px",height:"65px"},children:[h.jsx(To,{size:30}),h.jsx(Y,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(ae,{children:"Loading..."})})]})}),F8e=()=>{const{isKws:e}=Ul(),t=AM(n=>n.setOpen);return h.jsx(uu,{variant:"outlined",onClick:()=>{e?window.open("https://kwsnet.sharepoint.com/sites/Breeding-Information-Circle/SitePages/Trainings-&-Tutorials.aspx","_blank","noopener,noreferrer"):t()},children:h.jsxs(la,{sx:{p:2.5,display:"flex",alignItems:"center",justifyContent:"center",gap:2,height:"100%"},children:[h.jsx(Y,{sx:{width:64,height:64,borderRadius:2,bgcolor:ut("#FFB800",.15),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px"},children:""}),h.jsxs(Y,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[h.jsx(ae,{variant:"bodyMedium",sx:{mb:.5},children:"Visit Help Center"}),h.jsx(ae,{variant:"caption",sx:{color:"text.secondary"},children:"Guides, tutorials, and documentation"})]}),h.jsx(vE,{sx:{color:"text.secondary"}})]})})},L8e=()=>{const e=xt(),t=[{name:"BIC Support",email:"BIC_support@kws.com",role:"Support Team"}];return h.jsx(h.Fragment,{children:t.map((n,r)=>h.jsx(uu,{variant:"outlined",href:`mailto:${n.email}`,children:h.jsx(la,{sx:{p:2.5},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.imageURL?h.jsx(Uh,{src:n.imageURL,alt:n.name,sx:{width:56,height:56,border:`2px solid ${ut(e.palette.primary.main,.2)}`}}):h.jsx(Uh,{sx:{bgcolor:e.palette.primary.main,width:56,height:56,border:`2px solid ${ut(e.palette.primary.main,.2)}`,fontSize:"1.5rem"},children:"BIC"}),h.jsxs(Y,{sx:{flex:1},children:[h.jsx(ae,{variant:"body1",sx:{fontWeight:600,mb:.5},children:n.name}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.875rem",mb:.5},children:n.role}),h.jsxs(ae,{variant:"body2",sx:{color:"primary.main",fontSize:"0.875rem",fontWeight:500},children:[n.email," "]})]})]})})},r))})},N8e=()=>{const e=xt(),{isKws:t}=Ul(),n=t?"SmartPlot":"NoMaze",[r,i]=R.useState(!1),o=AM(s=>s.setOpen);return h.jsxs(h.Fragment,{children:[h.jsx(uu,{variant:"outlined",onClick:()=>i(!0),children:h.jsxs(la,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2},children:[h.jsxs(Y,{sx:{position:"relative"},children:[h.jsx(Uh,{src:"/finn.webp",alt:"Finn Gaida",sx:{width:64,height:64,bgcolor:e.palette.secondary.main},children:"FG"}),h.jsx(Y,{sx:{position:"absolute",bottom:-4,right:-4,width:24,height:24,borderRadius:"50%",bgcolor:e.palette.primary.main,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Fke,{sx:{fontSize:14,color:"primary.contrastText"}})})]}),h.jsxs(Y,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[h.jsx(ae,{variant:"bodyMedium",sx:{mb:.5},children:"Watch our product tour"}),h.jsx(ae,{variant:"caption",sx:{color:"text.secondary"},children:"3 min video from Finn Gaida, CTO"})]}),h.jsx(vE,{sx:{color:"text.secondary"}})]})}),h.jsxs(Oi,{open:r,onClose:()=>i(!1),maxWidth:"md",fullWidth:!0,children:[h.jsxs(Do,{children:["Welcome to ",n]}),h.jsxs(no,{children:[h.jsx(Y,{sx:{mb:2},children:h.jsx(Y,{sx:{position:"relative",paddingTop:"56.25%",backgroundColor:"#000",borderRadius:"8px",overflow:"hidden"},children:h.jsx(Y,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:h.jsx(t8e,{videoId:"0avQe8-0h9k",opts:{width:"100%",height:"100%",playerVars:{autoplay:0,controls:1}},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})})})}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[h.jsx(Uh,{src:"/finn.webp",alt:"Finn Gaida",sx:{bgcolor:e.palette.primary.main},children:"FG"}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column"},children:[h.jsx(ae,{variant:"bodyMedium",sx:{mb:.5},children:"Finn Gaida"}),h.jsx(ae,{variant:"caption",sx:{color:"text.secondary"},children:"Chief Technology Officer"})]})]}),h.jsx(Y,{sx:{display:"flex",justifyContent:"center"},children:h.jsx(Be,{variant:"outlined",onClick:()=>{i(!1),o(),setTimeout(()=>{const s=document.getElementById("help-drawer-videos");s&&s.scrollIntoView({behavior:"smooth",block:"start"})},300)},sx:{textTransform:"none"},children:"Watch more video tutorials"})})]})]})]})},mSn=()=>{const e=xt(),t=Kr(),n=xAe(),{isKws:r}=Ul(),i="SmartPlot",o=uZ(c=>c.setDialogOpen),s=()=>{o()},a=()=>{t({to:`${Nr.Templates}/${n?.username}`})},l=()=>{t({to:`${Nr.Pipes}/${n?.username}`})};return h.jsx(Y,{sx:{minHeight:"90vh",display:"flex",justifyContent:"center",alignItems:"center",pt:15,mx:10},children:h.jsxs(Y,{sx:{},children:[h.jsxs(Y,{sx:{textAlign:"center",mb:6,display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[h.jsxs(Y,{sx:{display:"inline-flex",alignItems:"center",gap:1,px:2,py:.75,borderRadius:"20px",backgroundColor:ut(e.palette.primary.main,.1),color:e.palette.primary.main,mb:2},children:[h.jsx(wX,{sx:{fontSize:18}}),h.jsxs(ae,{variant:"bodyMedium",children:["Welcome to ",i]})]}),h.jsx(ae,{variant:"h3",sx:{mb:1},children:"Let's get you started"}),h.jsxs(ae,{variant:"bodyLarge",sx:{color:"text.secondary",maxWidth:"600px"},children:[i," helps your team turn data into actionable insights."]})]}),h.jsxs(gf,{container:!0,spacing:2,sx:{mb:6},children:[h.jsx(gf,{size:{xs:6,md:4},sx:{maxWidth:{md:"400px"}},children:h.jsx(uu,{onClick:s,children:h.jsxs(la,{sx:{p:3},children:[h.jsx(Y,{sx:{width:48,height:48,borderRadius:2,backgroundColor:ut(e.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:h.jsx(LF,{sx:{fontSize:28,color:e.palette.primary.main}})}),h.jsx(ae,{variant:"h6",sx:{mb:1},children:"Create a new dashboard"}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",mb:2},children:"Start from scratch with a blank canvas. Connect your data sources and build custom visualizations."}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",color:"primary.main",gap:.5},children:[h.jsx(ae,{variant:"bodyMedium",children:"Get started"}),h.jsx(vE,{sx:{fontSize:18}})]})]})})}),h.jsx(gf,{size:{xs:6,md:4},sx:{maxWidth:{md:"400px"}},children:h.jsx(uu,{onClick:a,children:h.jsxs(la,{sx:{p:3},children:[h.jsx(Y,{sx:{width:48,height:48,borderRadius:2,backgroundColor:ut(e.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center",mb:2,transition:"background-color 0.2s","&:hover":{backgroundColor:ut(e.palette.primary.main,.2)}},children:h.jsx(zh,{sx:{fontSize:28,color:e.palette.primary.main}})}),h.jsx(ae,{variant:"h6",sx:{mb:1},children:"Clone a team dashboard"}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",mb:2},children:"Browse dashboards created by your colleagues. Clone and customize them for your needs."}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",color:"primary.main",gap:.5},children:[h.jsx(ae,{variant:"bodyMedium",children:"Browse templates"}),h.jsx(vE,{sx:{fontSize:18}})]})]})})}),h.jsx(gf,{size:{xs:6,md:4},sx:{maxWidth:{md:"400px"}},children:h.jsx(uu,{onClick:l,children:h.jsxs(la,{sx:{p:3},children:[h.jsx(Y,{sx:{width:48,height:48,borderRadius:2,backgroundColor:ut(e.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center",mb:2,transition:"background-color 0.2s","&:hover":{backgroundColor:ut(e.palette.primary.main,.2)}},children:h.jsx(aS,{sx:{fontSize:28,color:e.palette.primary.main}})}),h.jsx(ae,{variant:"h6",sx:{mb:1},children:"Continue working"}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",mb:2},children:"Pick up where you left off. Access your existing dashboards and continue your analysis."}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",color:"primary.main",gap:.5},children:[h.jsx(ae,{variant:"bodyMedium",children:"Go to dashboards"}),h.jsx(vE,{sx:{fontSize:18}})]})]})})})]}),h.jsxs(Y,{sx:{mb:4},children:[h.jsx(ae,{variant:"h6",sx:{mb:3,color:"text.primary"},children:"Need help getting started?"}),h.jsxs(gf,{container:!0,spacing:2,children:[!r&&h.jsx(gf,{size:{xs:12,md:6,sm:6,lg:4},children:h.jsx(N8e,{})}),r&&h.jsx(gf,{size:{xs:12,md:6,sm:6,lg:4},children:h.jsx(L8e,{})}),h.jsx(gf,{size:{xs:12,md:6,sm:6,lg:4},children:h.jsx(F8e,{})})]})]})]})})},ySn=()=>{const{user:e,isLoading:t}=ag(),{isKws:n}=Ul(),r=xt();return t?h.jsx(cz,{variant:"spinner-only"}):e?h.jsx(Y,{sx:{position:"relative"},children:h.jsx(mSn,{})}):h.jsx(Y,{sx:{minHeight:"90vh",display:"flex",justifyContent:"center",alignItems:"center",pt:15,px:{xs:2,sm:4,md:10},pb:8},children:h.jsxs(Y,{sx:{width:"100%",maxWidth:"1200px"},children:[h.jsxs(Y,{sx:{textAlign:"center",mb:6,display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[h.jsxs(Y,{sx:{display:"inline-flex",alignItems:"center",gap:1,px:2,py:.75,borderRadius:"20px",backgroundColor:ut(r.palette.primary.main,.1),color:r.palette.primary.main,mb:2},children:[h.jsx(wX,{sx:{fontSize:18}}),h.jsx(ae,{variant:"bodyMedium",children:"Welcome to SmartPlot"})]}),h.jsx(ae,{variant:"h3",sx:{mb:1,fontWeight:700},children:"Turn data into actionable insights"}),h.jsx(ae,{variant:"bodyLarge",sx:{color:"text.secondary",maxWidth:"600px"},children:"SmartPlot helps breeders and data scientists visualize data of standard procedures on demand with minimal effort."})]}),h.jsx(Y,{sx:{mb:8,display:"flex",justifyContent:"center"},children:h.jsx(Be,{variant:"contained",size:"large",onClick:()=>{window.location.href="https://redpill.nomaze.com/"+Nr.LoginRedirect},sx:{px:6,py:1.5,fontSize:"1.1rem",fontWeight:600},startIcon:h.jsx(jke,{}),children:"Sign In"})}),h.jsx(Y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:4},children:h.jsxs(Y,{sx:{display:"flex",justifyContent:"center",gap:2,flexWrap:"wrap",width:"100%",maxWidth:"800px"},children:[!n&&h.jsx(N8e,{}),n&&h.jsx(L8e,{}),h.jsx(F8e,{})]})})]})})},vSn=mo("/")({component:ySn}),ef=({children:e})=>{const{user:t,isLoading:n}=ag(),r=Kr();return R.useEffect(()=>{if(!t&&!n){const i=setTimeout(()=>{r({to:Nr.Home})},1e3);return()=>clearTimeout(i)}},[t,n,r]),n||!t?h.jsx(cz,{variant:"spinner-only"}):h.jsx(h.Fragment,{children:e})};function z8e(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const tY=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return tY(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return tY(r)(n)}}}},bSn=(e,t)=>(n,r,i)=>{let o={storage:z8e(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...t},s=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...y)},r,i);const u=()=>{const y=o.partialize({...r()});return c.setItem(o.name,{state:y,version:o.version})},d=i.setState;i.setState=(y,v)=>(d(y,v),u());const f=e((...y)=>(n(...y),u()),r,i);i.getInitialState=()=>f;let p;const g=()=>{var y,v;if(!c)return;s=!1,a.forEach(w=>{var S;return w((S=r())!=null?S:f)});const x=((v=o.onRehydrateStorage)==null?void 0:v.call(o,(y=r())!=null?y:f))||void 0;return tY(c.getItem.bind(c))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate){const S=o.migrate(w.state,w.version);return S instanceof Promise?S.then(C=>[!0,C]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var S;const[C,k]=w;if(p=o.merge(k,(S=r())!=null?S:f),n(p,!0),C)return u()}).then(()=>{x?.(p,void 0),p=r(),s=!0,l.forEach(w=>w(p))}).catch(w=>{x?.(void 0,w)})};return i.persist={setOptions:y=>{o={...o,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},o.skipHydration||g(),p||f},xSn=bSn,wSn=Fi()(xSn(e=>({hideNewReportIndicator:!1,setHideNewReportIndicator:t=>e({hideNewReportIndicator:t}),hideIndicator:()=>e({hideNewReportIndicator:!1})}),{name:"hide-new-report-indicator",storage:z8e(()=>localStorage),version:1})),uz=({icon:e,title:t,description:n,iconBackgroundColor:r,iconColor:i,actionButton:o,searchPlaceholder:s="Search...",searchMaxWidth:a="500px",additionalContent:l,tableColumns:c,tableData:u,renderRowActionMenuItems:d,tableProps:f={},onRowClick:p,isLoading:g=!1})=>{const[y,v]=R.useState(""),x=xt(),{initialState:w,...S}=f||{},C={showGlobalFilter:!1,density:"compact",pagination:{pageSize:10,pageIndex:0},...w||{}};return g?h.jsx(Sa,{}):h.jsxs(Y,{sx:{width:"100%",display:"flex",flexDirection:"column",px:{xs:5,sm:8,md:12},mt:{xs:12,sm:12,md:13},pb:{xs:2,sm:2,md:3},gap:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:3,mb:1},children:[h.jsx(Y,{sx:{flex:1,minWidth:"200px"},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:3,mb:2},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:48,height:48,borderRadius:2,backgroundColor:r||ut(x.palette.primary.main,.1),color:i||x.palette.primary.main,flexShrink:0},children:e}),h.jsxs(Y,{sx:{flex:1},children:[h.jsx(ae,{variant:"h4",sx:{mb:1,letterSpacing:"-0.02em"},children:t}),h.jsx(ae,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.875rem",lineHeight:1.6,maxWidth:"400px"},children:n})]})]})}),o&&h.jsx(Y,{sx:{display:"flex",alignItems:"center",mt:2,ml:2},children:o})]}),l&&h.jsx(Y,{sx:{mb:3},children:l}),h.jsx(Y,{sx:{maxWidth:a,mb:0},children:h.jsx(zn,{fullWidth:!0,size:"medium",placeholder:s,value:y,onChange:k=>v(k.target.value),InputProps:{startAdornment:h.jsx(ob,{position:"start",children:h.jsx(zke,{sx:{color:"text.secondary",fontSize:22,opacity:.7}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px",backgroundColor:x.palette.mode==="dark"?ut(x.palette.background.paper,.6):x.palette.background.paper,border:`1px solid ${x.palette.mode==="dark"?ut(x.palette.divider,.5):ut(x.palette.divider,.3)}`,transition:"all 0.2s ease-in-out","&:hover":{borderColor:ut(x.palette.primary.main,.5),backgroundColor:x.palette.mode==="dark"?ut(x.palette.background.paper,.8):x.palette.background.paper},"&.Mui-focused":{borderColor:x.palette.primary.main,backgroundColor:x.palette.mode==="dark"?ut(x.palette.background.paper,.9):x.palette.background.paper,boxShadow:`0 0 0 3px ${ut(x.palette.primary.main,.1)}`},"& fieldset":{border:"none"}},"& .MuiInputBase-input":{py:1.5,fontSize:"0.9375rem"}}})}),h.jsx(Y,{sx:{flex:1,width:"100%",minHeight:0,overflow:"hidden",display:"flex",flexDirection:"column",position:"relative",mt:0,"& .MuiPaper-root":{borderRadius:3,boxShadow:"none",backgroundColor:"transparent",width:"100%",maxWidth:"none",height:"100%",display:"flex",flexDirection:"column"},"& .MuiTable-root":{width:"100%"},"& .MuiTableContainer-root":{width:"100%",flex:1,overflow:"auto",maxHeight:"none"},"& .MuiTableCell-root":{fontSize:"0.8125rem"},"& .MuiTableBody-root .MuiTableCell-root:first-of-type":{fontWeight:600}},children:h.jsx(wC,{columns:c,data:u,onClick:p||(()=>{}),enableRowActions:!!d,renderRowActionMenuItems:d,enableStickyHeader:!0,enableColumnResizing:!0,enableColumnActions:!0,enableDensityToggle:!1,enableGlobalFilter:!0,renderTopToolbar:!1,layoutMode:"grid",initialState:C,state:{globalFilter:y},muiTablePaperProps:{sx:{width:"100%",maxWidth:"none",height:"100%",display:"flex",flexDirection:"column"}},muiTableContainerProps:{sx:{maxHeight:"none",height:"100%",flex:1,overflow:"auto"}},muiTableBodyRowProps:({row:k})=>({onClick:T=>{const E=T.target;E.closest('[role="menuitem"]')||E.closest("button")||p&&p(k.original)},sx:{cursor:"pointer",height:"44px","&:hover":{backgroundColor:"action.hover"},"& .MuiTableCell-root":{py:.75}}}),muiTableHeadRowProps:{sx:{height:"44px","& .MuiTableCell-root":{py:1}}},...S})})]})},Lb=({date:e})=>{if(!e)return h.jsx(Y,{children:"-"});const t=new Date(e),n=new Date,r=new Date(n);r.setDate(r.getDate()-1);const i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=()=>i.getTime()===o.getTime()?`Today at ${new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(t)}`:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(t),l=()=>i.getTime()===o.getTime()?h.jsx(Y,{children:new Intl.DateTimeFormat(void 0,{timeStyle:"short"}).format(t)}):i.getTime()===s.getTime()?h.jsx(Y,{children:"Yesterday"}):h.jsx(Y,{children:new Intl.DateTimeFormat(void 0,{dateStyle:"medium"}).format(t)});return h.jsx(Dt,{title:a(),arrow:!0,children:l()})},DA=({loading:e=!0,variant:t="loading",blur:n=!1,children:r})=>h.jsxs(Y,{sx:{position:"relative",height:"100%"},children:[h.jsx(Y,{sx:{height:"100%",transition:"filter 0.3s ease-in-out",...e&&n&&{filter:"blur(2px)",pointerEvents:"none"}},children:r}),e&&h.jsx(h.Fragment,{children:t==="spinner-only"?h.jsx(Y,{"data-testid":"loading-spinner",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3},children:h.jsx(To,{size:30})}):h.jsx(Y,{"data-testid":"loading-spinner",sx:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3,border:"1px solid #d6d3d1",backdropFilter:"blur(10px)",borderRadius:1,padding:2,width:"288px",height:"65px"},children:h.jsxs(Y,{sx:{display:"inline-flex",flexDirection:"row"},children:[h.jsx(To,{size:30}),h.jsx(Y,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(ae,{children:"Loading..."})})]})})})]}),dz=({icon:e,iconColor:t,label:n,onOpen:r})=>h.jsxs(Y,{component:"span",onClick:r,sx:{display:"flex",alignItems:"center",gap:1.5,cursor:"pointer",width:"100%",padding:"3px 16px 3px 24px",borderRadius:2,minHeight:32,"&:hover":{bgcolor:i=>ut(t,.3),"& .MuiButton-root":{display:"inline-flex",opacity:1}}},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,flexShrink:0,borderRadius:1.5,backgroundColor:ut(t,.3),color:t},children:e}),h.jsx(Y,{component:"span",sx:{flex:1,minWidth:0},children:n}),h.jsx(Be,{size:"small",variant:"text",sx:{display:"none",flexShrink:0,minWidth:"auto",px:1.5,fontSize:"0.8125rem",textTransform:"none",color:"text.secondary",backgroundColor:i=>ut(i.palette.background.paper,.8),backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)"},startIcon:h.jsx(QR,{sx:{fontSize:14}}),onClick:i=>{i.stopPropagation(),r(i)},children:"Open"})]}),SSn=()=>{const{data:e,isLoading:t}=hAe(),n=Kr(),r=r8e(v=>v.open),{setDialogOpen:i}=BAe(),{hideNewReportIndicator:o,setHideNewReportIndicator:s}=wSn(),{showSuccess:a,showError:l}=Wi(),c=WMt(),u=async({id:v})=>{try{await c.mutateAsync({path:{id:v}}),a("Report deleted successfully")}catch(x){console.error("Failed to delete report:",x),l("Failed to delete report. Please try again.")}};if(t)return h.jsx(DA,{loading:t});if(!e)return null;const d=()=>{i()},f=(v,x)=>{v.stopPropagation(),n({to:"/reports/$reportId",params:{reportId:x.id}})},p=v=>{navigator.clipboard.writeText(`${window.location.host}/#/reports/${v.id}`),a("Link copied",{timeout:1500})},g=[{accessorKey:"name",header:"Name",size:200,Cell:({row:v,renderedCellValue:x})=>{const w=v.original;return h.jsx(dz,{icon:h.jsx(_5,{sx:{fontSize:18}}),iconColor:"#f9a825",label:x,onOpen:S=>f(S,w)})}},{accessorKey:"user.username",header:"Owner"},{accessorKey:"updated_at",header:"Last Modified",size:150,sortingFn:"datetime",Cell:({row:v})=>h.jsx(Lb,{date:v.original.updated_at})},{accessorKey:"created_at",header:"Created",size:150,sortingFn:"datetime",Cell:({row:v})=>h.jsx(Lb,{date:v.original.created_at})}],y=({closeMenu:v,row:x})=>{const w=[],S=x.original,C=S?.meta;return w.push(h.jsxs($t,{onClick:()=>{v(),r(S)},children:[h.jsx(eo,{children:h.jsx(R0,{fontSize:"small"})}),"Settings"]},"settings")),w.push(h.jsxs($t,{onClick:()=>{p(S)},children:[h.jsx(eo,{children:h.jsx(hst,{fontSize:"small",style:{transform:"scale(-1,1)"}})}),"Share Link"]},"share")),C?.can_user_delete&&w.push(h.jsxs($t,{onClick:()=>{v(),u(S)},children:[h.jsx(eo,{children:h.jsx(Hb,{fontSize:"small"})}),"Delete"]},"delete")),w};return h.jsx(uz,{icon:h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:48,height:48,borderRadius:2,backgroundColor:ut("#f9a825",.1),color:"#f9a825"},children:h.jsx(_5,{sx:{fontSize:28}})}),title:"Reports",description:"Create and manage your reports",actionButton:h.jsx(Be,{variant:"contained",color:"primary",onClick:d,"data-testid":"button-create-report",children:"Create Report"}),searchPlaceholder:"Search reports...",searchMaxWidth:"400px",additionalContent:o?void 0:h.jsx(n0,{sx:{position:"relative",background:"linear-gradient(135deg, rgba(255, 193, 7, 0.09) 0%, rgba(255, 152, 0, 0.0) 100%)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px"},children:h.jsx(la,{sx:{p:3},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[h.jsxs(Y,{sx:{flex:1},children:[h.jsx(ae,{variant:"h6",sx:{mb:1},children:"New Reports Feature Available in Beta!"}),h.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Add blocks from different dashboards and combine them on a report."})]}),h.jsx(Be,{variant:"outlined",size:"small",onClick:()=>s(!0),sx:{minWidth:"auto",px:2},children:"Hide message"})]})})}),tableColumns:g,tableData:e.reports,renderRowActionMenuItems:y,onRowClick:v=>r(v),isLoading:t})},_Sn=mo("/reports/")({component:CSn});function CSn(){return h.jsx(ef,{children:h.jsx(SSn,{})})}const aie=({open:e,objectName:t,onClose:n,onDeleteConfirmed:r})=>h.jsxs(Oi,{open:e,onClose:n,children:[h.jsxs(Do,{children:['Do you really want to delete "',h.jsx("b",{children:t}),'"?']}),h.jsx(no,{children:h.jsx(yo,{children:h.jsxs("p",{children:['This action cannot be undone. Are you sure you want to delete "',t,'"?']})})}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:n,children:"Cancel"}),h.jsx(Be,{onClick:()=>{r(),n()},variant:"contained",color:"error",children:"Delete"})]})]}),kSn=({label:e,onClick:t,onDelete:n,sx:r,loading:i,allowActions:o})=>e?i?h.jsx(Ci,{label:"Loading...",sx:r}):h.jsx(Ci,{icon:h.jsx(Lf,{sx:{fontSize:18}}),label:e,onClick:t?s=>{s.stopPropagation(),t(s)}:void 0,onDelete:o?n:void 0,sx:{bgcolor:"rgba(25, 118, 210, 0.08)","& .MuiChip-icon":{display:"flex",alignItems:"center",justifyContent:"center",color:s=>s.palette.grey[500]},...r}}):null,ESn=({onSignupButtonClick:e})=>{const[t,n]=R.useState(""),[r,i]=R.useState(""),[o,s]=R.useState("");return h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx(ae,{variant:"h4",children:"Create Account"}),h.jsx(zn,{label:"username",value:t,variant:"outlined",onChange:a=>{n(a.target.value)}}),h.jsx(zn,{label:"name",value:r,variant:"outlined",onChange:a=>{i(a.target.value)}}),h.jsx(zn,{label:"password",type:"password",variant:"outlined",value:o,onChange:a=>{s(a.target.value)}}),h.jsx(Be,{variant:"contained",onClick:()=>{e(t,r,o)},children:"Sign up"})]})},TSn=({onClose:e})=>{const[t,n]=R.useState(""),[r,i]=R.useState(!1),[o,s]=R.useState(!1),a=AMt(),l=(c,u,d)=>{if(c===""||u===""||d===""){n("You have to fill in the values!"),i(!0);return}a.mutate({body:{username:c,name:u,password:d}},{onSuccess:f=>{Vo.info("Sign up success: "+f),n(""),i(!1),s(!0)},onError:f=>{Vo.error("Sign up error",f),i(!0);const p=f;p?.response?.data?.type?n(p.response.data.type):p?.message?n(p.message):n("An error occurred during signup")}})};return h.jsx(Nu,{additionalSx:{width:250,mt:0,ml:"auto",mr:"auto"},children:h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx(ESn,{onSignupButtonClick:l}),r&&h.jsx("div",{className:"alert alert-light",role:"alert",children:t}),h.jsxs(Oi,{open:o,onClose:()=>{s(!1)},children:[h.jsx(Do,{children:"Signup Successful"}),h.jsx(yo,{children:"A new account has been created"}),h.jsx(wo,{children:h.jsx(Be,{variant:"contained",onClick:()=>{s(!1),e()},children:"Okay"})})]})]})})},RSn=({config:e,onVisibilityChange:t})=>{const n=i=>{e.options&&e.options.forEach(o=>{e.hidden_options?.includes(String(o))===i&&t(o)})},r=()=>!e.options||e.options.length===0?!1:!e.options.some(i=>e.hidden_options?.includes(String(i)));return h.jsxs(Wb,{dense:!0,sx:{ml:-2,mt:2},children:[h.jsxs(Hh,{sx:{my:-2},children:[h.jsx(eo,{children:h.jsx(Td,{checked:r(),indeterminate:!!(e.options&&e.options.length>0&&!r()&&e.options.some(i=>!e.hidden_options?.includes(String(i)))),onChange:i=>n(i.target.checked)})}),h.jsx(_h,{primary:h.jsx(ae,{variant:"caption",children:h.jsx("strong",{children:"Select All"})})})]}),e.options&&e.options.map((i,o)=>h.jsxs(Hh,{sx:{my:-2},children:[h.jsx(eo,{children:h.jsx(Td,{checked:!e.hidden_options?.includes(String(i)),onChange:()=>t(i)})}),h.jsx(_h,{primary:String(i)})]},o))]})},nn={mean:"mean",relative:"relative",relative_to_checks:"relative_to_checks",file_import:"file_import",long_to_wide:"long_to_wide",wide_to_long:"wide_to_long",breakout:"breakout",export:"export",rename_columns:"rename_columns",create_subgroup:"create_subgroup",filter_orthogonal:"filter_orthogonal",filter_standard:"filter_standard",plot_swap:"plot_swap",h2h_matrix:"h2h_matrix",correlation_matrix:"correlation_matrix",box_plot:"box_plot",show_table:"show_table",scatter_plot:"scatter_plot",bar_plot:"bar_plot",histogram_plot:"histogram_plot",heatmap:"heatmap",violin_plot:"violin_plot"},B8e=[nn.file_import,nn.show_table,nn.h2h_matrix],fz=[nn.violin_plot,nn.scatter_plot,nn.box_plot,nn.bar_plot,nn.histogram_plot,nn.correlation_matrix,nn.heatmap],MSn=[nn.filter_standard,nn.plot_swap,nn.export,nn.create_subgroup,nn.filter_orthogonal],lie=[nn.breakout,nn.filter_orthogonal],cie=[nn.long_to_wide,nn.wide_to_long,nn.breakout,nn.mean,nn.h2h_matrix,nn.relative,nn.relative_to_checks,nn.show_table,nn.rename_columns,nn.file_import],ASn=e=>({[nn.mean]:"Mean Calculation",[nn.relative]:"Relative Calculation",[nn.relative_to_checks]:"Relative To Checks Calculation",[nn.file_import]:"File Import",[nn.long_to_wide]:"Long to Wide",[nn.wide_to_long]:"Wide to Long",[nn.breakout]:"Breakout",[nn.export]:"Export",[nn.rename_columns]:"Rename Columns",[nn.create_subgroup]:"Create Subgroup",[nn.filter_orthogonal]:"Orthogonal Filter",[nn.filter_standard]:"Standard Filter",[nn.plot_swap]:"Plot Swap",[nn.h2h_matrix]:"Head to Head Matrix",[nn.correlation_matrix]:"Correlation Matrix",[nn.box_plot]:"Box Plot",[nn.show_table]:"Show Table",[nn.scatter_plot]:"Scatter Plot",[nn.bar_plot]:"Bar Plot",[nn.histogram_plot]:"Histogram Plot",[nn.heatmap]:"Heatmap",[nn.violin_plot]:"Violin Plot"})[e],uwe="plot-title",LU=28,X3="http://www.w3.org/2000/svg",PSn=e=>{if(e.dataset.responsive)return;const t=e.getAttribute("width")||"600",n=e.getAttribute("height")||"400";e.hasAttribute("viewBox")||e.setAttribute("viewBox",`0 0 ${t} ${n}`),Object.assign(e.style,{width:"auto",height:"auto",maxWidth:"none",minWidth:"auto"}),e.dataset.responsive="true"},DSn=(e,t,n)=>{if(e.querySelector(`.${uwe}`))return;const r=document.createElementNS(X3,"g");for(;e.firstChild;)r.appendChild(e.firstChild);r.setAttribute("transform",`translate(0, ${LU})`),e.appendChild(r);const i=document.createElementNS(X3,"text");i.setAttribute("class",uwe),i.setAttribute("fill",n?"#fff":"#000"),i.setAttribute("text-anchor","middle"),i.setAttribute("font-size","16px"),i.setAttribute("font-family","sans-serif"),i.setAttribute("font-weight","bold"),i.style.cursor="text";const s=e.viewBox?.baseVal?.width??parseFloat(e.getAttribute("width")||"600");i.setAttribute("x",(s/2).toString()),i.setAttribute("y","18"),i.textContent=t,e.insertBefore(i,e.firstChild);const a=parseFloat(e.getAttribute("height")||"400");e.setAttribute("height",(a+LU).toString());const l=e.getAttribute("viewBox")?.split(" ").map(Number);l?.length===4&&(l[3]+=LU,e.setAttribute("viewBox",l.join(" ")))},OSn=(e,t,n)=>{const r=[],i=o=>{e.querySelectorAll(o).forEach(s=>{const a=s;a.style.pointerEvents="all",a.style.cursor="text";const l=()=>{const d=a.getAttribute("role")==="graphics-symbol";a.__origFontSize==null&&(a.__origFontSize=a.getAttribute("font-size")??""),a.__origFontWeight==null&&(a.__origFontWeight=a.getAttribute("font-weight")??"");const f=parseFloat(a.__origFontSize||"10");a.setAttribute("font-size",`${f*(d?1.5:1.25)}px`),a.setAttribute("font-weight","bold")},c=()=>{a.setAttribute("font-size",a.__origFontSize||""),a.__origFontWeight?a.setAttribute("font-weight",a.__origFontWeight):a.removeAttribute("font-weight")},u=()=>{const d=a.querySelectorAll("tspan"),f=d.length?[...d].map(p=>p.textContent).join(`
`):a.textContent||"";t(a),n(f)};a.addEventListener("mouseenter",l),a.addEventListener("mouseleave",c),a.addEventListener("click",u),r.push(()=>{a.removeEventListener("mouseenter",l),a.removeEventListener("mouseleave",c),a.removeEventListener("click",u)})})};return i("g.role-axis-title text"),i('text[role="graphics-symbol"]'),i("text.plot-title"),i("g.role-title text, text.role-title"),i("g.role-legend-title text, text.role-legend-title"),i("g.role-legend-label text, text.role-legend-label"),()=>r.forEach(o=>o())},ISn=(e,t)=>{const n=[];return e.querySelectorAll("g.role-legend-symbol circle,g.role-legend-symbol rect,g.role-legend-symbol path,g.role-legend-entry > rect,g.role-legend-entry > path,g.role-legend-entry > circle").forEach(i=>{i.style.pointerEvents="all",i.style.cursor="pointer";const o=()=>{const s=i.getAttribute("fill")||getComputedStyle(i).fill||"";t(i,s)};i.addEventListener("click",o),n.push(()=>i.removeEventListener("click",o))}),()=>n.forEach(i=>i())},jSn=(e,t)=>{PSn(e),DSn(e,t.title,t.darkMode);const n=OSn(e,t.setEditingElement,t.setEditingText),r=ISn(e,t.openColorPicker);return()=>{n(),r()}},$Sn=(e,t)=>{if(!e)return;const n=t.split(/\r?\n/);e.innerHTML="",n.forEach((r,i)=>{const o=document.createElementNS(X3,"tspan");i&&o.setAttribute("dy","1.2em"),o.setAttribute("x",e.getAttribute("x")||"0"),o.textContent=r,e.appendChild(o)})},dwe=(e,t)=>{let n=getComputedStyle(e).backgroundColor;if((!n||n==="rgba(0, 0, 0, 0)"||n==="transparent")&&(n=t?"#000000":"#ffffff"),e.setAttribute("style",`background:${n}`),!e.querySelector("rect.__download-bg")){const r=document.createElementNS(X3,"rect");r.setAttribute("class","__download-bg"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("fill",n),e.insertBefore(r,e.firstChild)}},FSn=(e,t)=>{const n=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${t}.svg`,i.click(),URL.revokeObjectURL(r)},U8e=(e,t)=>new Promise((n,r)=>{const i=new Image;i.onload=()=>{const o=document.createElement("canvas");o.width=i.width,o.height=i.height;const s=o.getContext("2d");if(!s){r(new Error("Could not get canvas context"));return}s.fillStyle=t,s.fillRect(0,0,o.width,o.height),s.drawImage(i,0,0),o.toBlob(a=>a?n(a):r(new Error("toBlob failed")),"image/png")},i.onerror=()=>r(new Error("Image load failed")),i.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e)))}),LSn=(e,t,n)=>{U8e(e,n).then(r=>{const i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=`${t}.png`,o.click(),URL.revokeObjectURL(i)})},NSn=({open:e,pipeId:t,nodeId:n,username:r,height:i,width:o,filename:s,isDarkMode:a})=>{const[l,c]=R.useState(null),u=R.useCallback(I=>{c(I)},[]),[d,f]=R.useState(null),[p,g]=R.useState(""),[y,v]=R.useState(null),[x,w]=R.useState(""),S=(I,j)=>{v(I),w(j)},{data:C,isLoading:k}=fAe({pipeId:t,blockId:n,username:r,height:i||400,width:o||600,format:"svg",enabled:e});R.useEffect(()=>{if(!e||!C||!l)return;l.innerHTML=C;const I=l.querySelector("svg");if(I)return jSn(I,{title:s,darkMode:a,setEditingElement:f,setEditingText:g,openColorPicker:S})},[e,C,l,s,a]),R.useEffect(()=>{e||(f(null),g(""))},[e]);const T=(I,j)=>{if(!l)return;const P=l.querySelector("svg");if(!P)return;dwe(P,a);const D=new XMLSerializer().serializeToString(P);if(I==="svg")FSn(D,s);else{const F=getComputedStyle(P).backgroundColor;LSn(D,s,F)}j()},E=async I=>{if(!l)return;const j=l.querySelector("svg");if(!j)return;dwe(j,a);const $=new XMLSerializer().serializeToString(j);if(I==="png"){const D=getComputedStyle(j).backgroundColor,F=await U8e($,D);await navigator.clipboard.write([new ClipboardItem({"image/png":F})])}else await navigator.clipboard.writeText($)},A=(I,j,P)=>{I.querySelectorAll(`[fill="${j}"],[stroke="${j}"]`).forEach($=>{$.getAttribute("fill")===j&&$.setAttribute("fill",P),$.getAttribute("stroke")===j&&$.setAttribute("stroke",P)})};return{svgContainerRef:u,loading:k,editingElement:d,editingText:p,setEditingText:g,setEditingElement:f,handleDownload:T,handleCopyToClipboard:E,pickerAnchor:y,pickerOldColor:x,applyNewColor:I=>{if(!l||!x)return;const j=l.querySelector("svg");j&&(A(j,x,I),v(null),w(I))}}};var mw=255,Am=100,lE=e=>{var{r:t,g:n,b:r,a:i}=e,o=Math.max(t,n,r),s=o-Math.min(t,n,r),a=s?o===t?(n-r)/s:o===n?2+(r-t)/s:4+(t-n)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*Am:0,v:o/mw*Am,a:i}},zSn=e=>{var{h:t,s:n,v:r,a:i}=e,o=(200-n)*r/Am;return{h:t,s:o>0&&o<200?n*r/Am/(o<=Am?o:200-o)*Am:0,l:o/2,a:i}},V8e=e=>{var{r:t,g:n,b:r}=e,i=t<<16|n<<8|r;return"#"+(o=>new Array(7-o.length).join("0")+o)(i.toString(16))},BSn=e=>{var{r:t,g:n,b:r,a:i}=e,o=typeof i=="number"&&(i*255|256).toString(16).slice(1);return""+V8e({r:t,g:n,b:r})+(o||"")},kR=e=>lE(USn(e)),USn=e=>{var t=e.replace("#","");/^#?/.test(e)&&t.length===3&&(e="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var n=new RegExp("[A-Za-z0-9]{2}","g"),[r,i,o=0,s]=e.match(n).map(a=>parseInt(a,16));return{r,g:i,b:o,a:(s??255)/mw}},uie=e=>{var{h:t,s:n,v:r,a:i}=e,o=t/60,s=n/Am,a=r/Am,l=Math.floor(o)%6,c=o-Math.floor(o),u=mw*a*(1-s),d=mw*a*(1-s*c),f=mw*a*(1-s*(1-c));a*=mw;var p={};switch(l){case 0:p.r=a,p.g=f,p.b=u;break;case 1:p.r=d,p.g=a,p.b=u;break;case 2:p.r=u,p.g=a,p.b=f;break;case 3:p.r=u,p.g=d,p.b=a;break;case 4:p.r=f,p.g=u,p.b=a;break;case 5:p.r=a,p.g=u,p.b=d;break}return p.r=Math.round(p.r),p.g=Math.round(p.g),p.b=Math.round(p.b),me({},p,{a:i})},VSn=e=>{var{r:t,g:n,b:r}=e;return{r:t,g:n,b:r}},HSn=e=>{var{h:t,s:n,l:r}=e;return{h:t,s:n,l:r}},nY=e=>V8e(uie(e)),WSn=e=>{var{h:t,s:n,v:r}=e;return{h:t,s:n,v:r}},qSn=e=>{var{r:t,g:n,b:r}=e,i=function(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)},o=i(t/255),s=i(n/255),a=i(r/255),l={};return l.x=o*.4124+s*.3576+a*.1805,l.y=o*.2126+s*.7152+a*.0722,l.bri=o*.0193+s*.1192+a*.9505,l},wv=e=>{var t,n,r,i,o,s,a,l,c;return typeof e=="string"&&rY(e)?(s=kR(e),l=e):typeof e!="string"&&(s=e),s&&(r=WSn(s),o=zSn(s),i=uie(s),c=BSn(i),l=nY(s),n=HSn(o),t=VSn(i),a=qSn(t)),{rgb:t,hsl:n,hsv:r,rgba:i,hsla:o,hsva:s,hex:l,hexa:c,xy:a}},GSn=e=>{if(!e)return"#ffffff";var t=wv(e),n=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return n>=128?"#000000":"#ffffff"},rY=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e),YSn=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur","renderInput"],XSn=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e),KSn=e=>Number(String(e).replace(/%/g,"")),yw=Vt.forwardRef((e,t)=>{var{prefixCls:n="w-color-editable-input",placement:r="bottom",label:i,value:o,className:s,style:a,labelStyle:l,inputStyle:c,onChange:u,onBlur:d,renderInput:f}=e,p=Wt(e,YSn),[g,y]=R.useState(o),v=R.useRef(!1);R.useEffect(()=>{e.value!==g&&(v.current||y(e.value))},[e.value]);function x(E,A){var O=(A||E.target.value).trim().replace(/^#/,"");XSn(O)&&u&&u(E,O);var I=KSn(O);isNaN(I)||u&&u(E,I),y(O)}function w(E){v.current=!1,y(e.value),d&&d(E)}var S={};r==="bottom"&&(S.flexDirection="column"),r==="top"&&(S.flexDirection="column-reverse"),r==="left"&&(S.flexDirection="row-reverse");var C=me({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},S,a),k=me({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},c),T=me({value:g,onChange:x,onBlur:w,autoComplete:"off",onFocus:()=>v.current=!0},p,{style:k,onFocusCapture:E=>{var A=E.target;A.setSelectionRange(A.value.length,A.value.length)}});return h.jsxs("div",{className:[n,s||""].filter(Boolean).join(" "),style:C,children:[f?f(T,t):h.jsx("input",me({ref:t},T)),i&&h.jsx("span",{style:me({color:"var(--editable-input-label-color)",textTransform:"capitalize"},l),children:i})]})});yw.displayName="EditableInput";var ZSn=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],H8e=Vt.forwardRef((e,t)=>{var{prefixCls:n="w-color-swatch",className:r,color:i,colors:o=[],style:s,rectProps:a={},onChange:l,addonAfter:c,addonBefore:u,rectRender:d}=e,f=Wt(e,ZSn),p=me({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},a.style),g=(y,v)=>{l&&l(kR(y),wv(kR(y)),v)};return h.jsxs("div",me({ref:t},f,{className:[n,r||""].filter(Boolean).join(" "),style:me({display:"flex",flexWrap:"wrap",position:"relative"},s),children:[u&&Vt.isValidElement(u)&&u,o&&Array.isArray(o)&&o.map((y,v)=>{var x="",w="";typeof y=="string"&&(x=y,w=y),typeof y=="object"&&y.color&&(x=y.title||y.color,w=y.color);var S=i&&i.toLocaleLowerCase()===w.toLocaleLowerCase(),C=d&&d({title:x,color:w,checked:!!S,style:me({},p,{background:w}),onClick:T=>g(w,T)});if(C)return h.jsx(R.Fragment,{children:C},v);var k=a.children&&Vt.isValidElement(a.children)?Vt.cloneElement(a.children,{color:w,checked:S}):null;return h.jsx("div",me({tabIndex:0,title:x,onClick:T=>g(w,T)},a,{children:k,style:me({},p,{background:w})}),v)}),c&&Vt.isValidElement(c)&&c]}))});H8e.displayName="Swatch";var QSn=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],W8e=Vt.forwardRef((e,t)=>{var{prefixCls:n="w-color-editable-input-rgba",hsva:r,placement:i="bottom",rProps:o={},gProps:s={},bProps:a={},aProps:l={},className:c,style:u,onChange:d}=e,f=Wt(e,QSn),p=r?uie(r):{};function g(w){var S=Number(w.target.value);S&&S>255&&(w.target.value="255"),S&&S<0&&(w.target.value="0")}var y=w=>{var S=Number(w.target.value);S&&S>100&&(w.target.value="100"),S&&S<0&&(w.target.value="0")},v=(w,S,C)=>{typeof w=="number"&&(S==="a"&&(w<0&&(w=0),w>100&&(w=100),d&&d(wv(lE(me({},p,{a:w/100}))))),w>255&&(w=255,C.target.value="255"),w<0&&(w=0,C.target.value="0"),S==="r"&&d&&d(wv(lE(me({},p,{r:w})))),S==="g"&&d&&d(wv(lE(me({},p,{g:w})))),S==="b"&&d&&d(wv(lE(me({},p,{b:w})))))},x=p.a?Math.round(p.a*100)/100:0;return h.jsxs("div",me({ref:t,className:[n,c||""].filter(Boolean).join(" ")},f,{style:me({fontSize:11,display:"flex"},u),children:[h.jsx(yw,me({label:"R",value:p.r||0,onBlur:g,placement:i,onChange:(w,S)=>v(S,"r",w)},o,{style:me({},o.style)})),h.jsx(yw,me({label:"G",value:p.g||0,onBlur:g,placement:i,onChange:(w,S)=>v(S,"g",w)},s,{style:me({marginLeft:5},o.style)})),h.jsx(yw,me({label:"B",value:p.b||0,onBlur:g,placement:i,onChange:(w,S)=>v(S,"b",w)},a,{style:me({marginLeft:5},a.style)})),l&&h.jsx(yw,me({label:"A",value:parseInt(String(x*100),10),onBlur:y,placement:i,onChange:(w,S)=>v(S,"a",w)},l,{style:me({marginLeft:5},l.style)}))]}))});W8e.displayName="EditableInputRGBA";var JSn=["prefixCls","className","style","onChange","color","colors","rectProps","rectRender","addonBefore","addonAfter"],e_n=["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"];function t_n(e){return e.checked?h.jsx("div",{style:{height:5,width:5,borderRadius:"50%",backgroundColor:GSn(e.color)}}):null}var q8e=Vt.forwardRef((e,t)=>{var{prefixCls:n="w-color-compact",className:r,style:i,onChange:o,color:s,colors:a=e_n,rectProps:l,rectRender:c,addonBefore:u,addonAfter:d}=e,f=Wt(e,JSn),p=typeof s=="string"&&rY(s)?kR(s):s,g=s?nY(p).replace(/^#/,""):"",y=R.useCallback(S=>o&&o(wv(S)),[]),v=(S,C)=>{typeof S=="string"&&rY(S)&&/(3|6)/.test(String(S.length))&&y(kR(S))},x={style:{alignItems:"baseline"},inputStyle:{boxShadow:"none",backgroundColor:"transparent",outline:0}},w=me({"--compact-background-color":"#f6f6f6",background:"var(--compact-background-color)",borderRadius:3,display:"flex",width:240,flexWrap:"wrap",paddingTop:5,paddingLeft:5},i);return h.jsxs("div",me({ref:t,style:w,className:[n,r||""].filter(Boolean).join(" ")},f,{children:[h.jsx(H8e,{colors:a,color:s?nY(p):void 0,rectRender:c,rectProps:me({children:h.jsx(t_n,{})},l,{style:me({display:"flex",alignItems:"center",justifyContent:"center"},l?.style)}),onChange:S=>y(S),addonBefore:u,addonAfter:d}),h.jsxs("div",{className:[n+"-input-wrapper",r||""].filter(Boolean).join(" "),style:{display:"flex",margin:"0 4px 3px 0"},children:[h.jsx(yw,{onChange:(S,C)=>v(C),labelStyle:{paddingRight:5,marginTop:-1},value:g.toLocaleUpperCase(),label:h.jsx("div",{style:{width:8,height:8,backgroundColor:"#"+g}}),inputStyle:{outline:"none",boxShadow:"initial",background:"transparent"},style:{flexDirection:"row-reverse",flex:"1 1 0%",minWidth:80}}),h.jsx(W8e,{hsva:p,placement:"left",onChange:S=>y(S.hsva),aProps:!1,rProps:x,gProps:x,bProps:x})]})]}))});q8e.displayName="Compact";function OA(e,t=100){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function K3(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function die(){const[e,t]=R.useState(K3());return R.useEffect(()=>{function n(){t(K3())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function G8e(e=300){const[t,n]=R.useState(K3());return R.useEffect(()=>{const r=OA(()=>{n(K3())},e);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[e]),t}function n_n({editingElement:e,editingText:t,setEditingText:n,setEditingElement:r}){if(!e)return null;const i=()=>{$Sn(e,t),r(null)},o=()=>{r(null)};return h.jsxs(gt,{direction:"row",spacing:1,mt:2,alignItems:"flex-start",children:[h.jsx(zn,{label:"Edit text",size:"small",multiline:!0,value:t,onChange:s=>n(s.target.value),autoFocus:!0,sx:{flexGrow:1},onFocus:s=>{const a=s.target.value.length;s.target.setSelectionRange(a,a)}}),h.jsx(Be,{variant:"contained",onClick:i,children:"Apply"}),h.jsx(Be,{onClick:o,children:"Cancel"})]})}function Y8e({open:e,onClose:t,pipeId:n,nodeId:r,filename:i,username:o}){const{isDarkMode:s}=Li(),{showSuccess:a}=Wi(),[l,c]=R.useState("png"),{height:u}=die(),d=Math.round(u*.55),f=Math.round(u*.75),{svgContainerRef:p,loading:g,editingElement:y,editingText:v,setEditingText:x,setEditingElement:w,handleDownload:S,handleCopyToClipboard:C,pickerAnchor:k,pickerOldColor:T,applyNewColor:E}=NSn({open:e,pipeId:n,nodeId:r,username:o,height:d,width:f,filename:i,isDarkMode:s}),A=()=>{S(l,t)},O=async()=>{try{await C(l),a("Image copied to clipboard",{timeout:1500})}catch{}};return h.jsxs(Oi,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,children:[h.jsx(Do,{children:"Customize & Download"}),h.jsxs(no,{children:[g?h.jsx(gt,{alignItems:"center",my:4,children:h.jsx(To,{})}):h.jsx("div",{ref:p,style:{textAlign:"center",overflow:"auto"}}),h.jsx(n_n,{editingElement:y,editingText:v,setEditingText:x,setEditingElement:w})]}),h.jsx(t4,{open:!!k,anchorEl:k,onClose:()=>E(T),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:h.jsx(q8e,{color:T,onChange:I=>E(I.hex)})}),h.jsxs(wo,{sx:{justifyContent:"space-between",alignItems:"center",gap:2,flexWrap:"wrap"},children:[h.jsxs(FEe,{value:l,onChange:(I,j)=>j&&c(j),exclusive:!0,size:"small",children:[h.jsx(P5,{value:"png",children:"PNG"}),h.jsx(P5,{value:"svg",children:"SVG"})]}),h.jsxs(gt,{direction:"row",spacing:2,children:[h.jsx(Be,{onClick:t,children:"Cancel"}),h.jsx(Be,{disabled:g,variant:"outlined",onClick:O,children:"Copy to clipboard"}),h.jsx(Be,{disabled:g,variant:"contained",onClick:A,children:"Download"})]})]})]})}const X8e=({open:e,onClose:t,blockTitle:n,blockId:r})=>{const[i,o]=R.useState(0),[s,a]=R.useState("new"),[l,c]=R.useState(""),[u,d]=R.useState(""),{data:f,isLoading:p}=hAe(),g=gAe(),y=mAe(),{showSuccess:v,showError:x}=Wi(),w=A=>{a(A.target.value)},S=A=>{c(A.target.value)},C=A=>{d(A.target.value)},k=async()=>{if(s==="new"&&l.trim())await g.mutateAsync({body:{name:l,block_ids:[r]}},{onError:A=>{x(A?.response?.data?.type??"Failed to pin block to report.")}}),v(`Report "${l}" created successfully with block pinned`);else if(s==="existing"&&u){await y.mutateAsync({body:{type:"LinkingReportBlock",block_id:r},path:{id:u}},{onError:O=>{x(O?.response?.data?.type??"Failed to pin block to report.")}});const A=f?.reports.find(O=>O.id===u)?.name;v(A?`Block pinned to report "${A}" successfully`:"Block pinned to report successfully")}t()},T=()=>{o(0),a("new"),c(""),d(""),t()};if(p||!f)return null;const E=s==="new"&&!l.trim()||s==="existing"&&!u;return h.jsxs(Oi,{open:e,onClose:T,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{height:600,maxHeight:700}},children:[h.jsxs(Do,{children:['Pin "',n,'" to Report']}),h.jsx(no,{children:h.jsxs(h.Fragment,{children:[h.jsx(yo,{sx:{mb:3},children:"Choose whether to pin this block to a new report or an existing one."}),h.jsxs(Qf,{component:"fieldset",sx:{mb:3},children:[h.jsx(bEe,{component:"legend",children:"Report Type"}),h.jsxs(yH,{value:s,onChange:w,sx:{mt:1},children:[h.jsx(Su,{value:"new",control:h.jsx(ET,{}),label:"New Report"}),h.jsx(Su,{value:"existing",control:h.jsx(ET,{}),label:"Existing Report"})]})]}),s==="new"&&h.jsx(zn,{fullWidth:!0,label:"Report Name",value:l,onChange:S,placeholder:"Enter report name",variant:"outlined",sx:{mb:2}}),s==="existing"&&h.jsxs(Qf,{fullWidth:!0,sx:{mb:2},children:[h.jsx(ae,{id:"report-select-label",variant:"body2",sx:{mb:1},children:"Select Report"}),h.jsxs(Vd,{"aria-labelledby":"report-select-label",value:u,onChange:C,displayEmpty:!0,variant:"outlined",children:[h.jsx($t,{value:"",disabled:!0,children:"Choose a report"}),f.reports.map(A=>h.jsx($t,{value:A.id,children:A.name},A.id))]})]})]})}),h.jsxs(wo,{sx:{p:3,pt:1},children:[h.jsx(Be,{onClick:T,children:"Cancel"}),i===0&&h.jsx(Be,{onClick:k,variant:"contained",disabled:E,children:"Pin to Report"})]})]})},r_n=({isOnDashboard:e,blockTitle:t,reportId:n,blockId:r,hasSyncOption:i,blockIdentifier:o,handleSyncToggle:s,pipeId:a,context:l,setOpenExportDialog:c,synced:u})=>{const{data:d,isLoading:f}=ls(a),[p,g]=R.useState(null),y=YMt(),{showSuccess:v,showError:x}=Wi(),w=!!p,[S,C]=R.useState(!1),k=I=>{g(I.currentTarget)},T=()=>{g(null)},E=()=>{C(!0),T()},A=async()=>{try{await y.mutateAsync({path:{report_id:n,block_id:r}}),v("Block removed from report successfully"),T()}catch(I){console.error("Failed to remove block from report:",I),x("Failed to remove block from report.")}};if(f||!d)return null;const O=[l==="dashboard"&&h.jsxs($t,{onClick:E,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Lke,{fontSize:"small",style:{transform:"rotate(45deg)"}}),"Pin to Report"]},"pin-to-report"),l==="report"&&h.jsxs($t,{onClick:A,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Hb,{fontSize:"small"}),"Delete from Report"]},"delete-from-report"),e&&i&&h.jsxs($t,{onClick:s,sx:{display:"flex",alignItems:"center",gap:1},children:[u?h.jsx(NF,{fontSize:"small"}):h.jsx(kX,{fontSize:"small"}),u?"Unsync axes":"Sync axes"]},"sync-axes"),fz.includes(o)&&h.jsxs($t,{onClick:()=>c(!0),sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Dke,{fontSize:"small"}),"Download Plot as Image"]},"download-plot")];return O.length===0?null:h.jsxs(h.Fragment,{children:[h.jsx(Pt,{onClick:k,"aria-label":"Block Details Options Menu","aria-controls":w?"block-menu":void 0,"aria-haspopup":"true","aria-expanded":w?"true":void 0,children:h.jsx(zF,{})}),h.jsx(Uo,{id:"block-menu",anchorEl:p,open:w,onClose:T,MenuListProps:{"aria-labelledby":"block-menu-button"},children:O}),h.jsx(X8e,{open:S,onClose:()=>C(!1),blockTitle:t,blockId:r})]})},fie=({pipeId:e,nodeId:t,reportId:n,context:r,usernameFromPath:i,isOnDashboard:o=!0,onSelectionChanged:s=()=>{},isFilterCategoriesSideBlock:a=!1})=>{const{data:l,isLoading:c}=B_(e,t,i),u=Kr(),[d,f]=R.useState(!1),p=yAe(),g=sZ();if(c||!l)return null;const y=lie.includes(l.identifier),v=o,x=y&&!a,w=l.configuration?.elements?.some(E=>E.is_synced),S=l.configuration?.elements?.some(E=>(E.name==="Y Columns"||E.name==="Y Axis"||E.name==="Columns")&&E.is_synced!=null),C=()=>{const E=l.configuration?.elements?.map(A=>A.name==="Y Columns"||A.name==="Y Axis"||A.name==="Columns"?{...A,is_synced:!w}:A);p.mutate({pipeId:e,nodeId:t,username:i,configuration:{elements:E}},{onSuccess:()=>{s()},onError:A=>{Vo.error("Failed to update sync state",A)}})},k=(E,A)=>{E.stopPropagation(),g.mutate({pipeId:e,nodeId:t,username:i,skip:!A},{onSuccess:()=>{s()},onError:O=>{Vo.error("Error updating the block",O)}})},T=()=>{u({to:`/pipe/${ba(i,e)}/block/${l.flow_id}`})};return h.jsxs(h.Fragment,{children:[h.jsxs(gt,{spacing:1,className:o&&l.skip?"MuiSkippedBlock-root":"",sx:{width:"100%"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:a?"column":"row"},children:[h.jsxs(gt,{direction:"row",alignItems:"center",spacing:1,sx:{width:"100%"},children:[h.jsx(ae,{variant:"h5",color:l.skip?"text.disabled":"inherit",children:l.title}),!a&&o&&h.jsx(Ci,{className:l.skip?"MuiSkippedChip-root":"",label:ASn(l.identifier),size:"small"})]}),h.jsxs(gt,{direction:"row",sx:{flexWrap:a?"wrap":"nowrap",width:a?"100%":"auto",justifyContent:o?"flex-start":"flex-end"},children:[x&&h.jsx(Dt,{title:l.skip?"Activate block":"Skip block",children:h.jsx(Y,{sx:{display:"flex",alignItems:"center"},children:h.jsx(Bf,{"aria-label":"Toggle filter orthogonal",checked:!l.skip,onChange:k,className:"withIcons"})})}),h.jsx("div",{id:`block-${t}-details-button-portal`}),v&&h.jsx(Dt,{title:"Open block details",children:h.jsx(Pt,{onClick:E=>{E.stopPropagation(),T()},children:h.jsx(QR,{})})})]}),h.jsx(r_n,{blockTitle:l.title,context:r,reportId:n??"",isOnDashboard:o,hasSyncOption:S??!1,handleSyncToggle:C,blockId:l.id,blockIdentifier:l.identifier,pipeId:l.pipe_id,setOpenExportDialog:f,synced:w??!1})]}),h.jsx(ae,{sx:{whiteSpace:"break-spaces"},variant:"body1",color:l.skip?"text.disabled":"inherit",children:l.description})]}),h.jsx(Y8e,{open:d,onClose:()=>f(!1),pipeId:e,nodeId:l.flow_id,filename:l.title,username:i})]})},i_n=({config:e,onPairsChange:t,onChangeIsSynced:n,onChangeSortDescending:r,onChangeAdjustText:i,isForeignPipe:o=()=>!1})=>{const[s,a]=R.useState({x:"",y:""}),l=e.selected_values.map((f,p)=>({...f,id:`${f.x}-${f.y}-${p}`})),c=()=>{if(s.x&&s.y){const f={x:s.x,y:s.y,id:`${s.x}-${s.y}`},p=[...l||[],f];t(p),a({x:"",y:""})}},u=f=>{const p=(l||[]).filter(g=>g.id!==f);t(p)},d=(f,p)=>(l||[]).some(g=>g.x===f&&g.y===p);return h.jsxs(gt,{direction:"column",sx:{width:"100%"},children:[h.jsx(K8e,{config:e,onChangeIsSynced:n,onChangeSortDescending:r,onChangeAdjustText:i}),h.jsxs(Y,{sx:{p:2,border:"1px dashed #ccc",borderRadius:1},children:[h.jsx(ae,{variant:"subtitle2",sx:{mb:2},children:"Add Plot Axes"}),h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx(rb,{options:e.options||[],value:s.x||null,onChange:(f,p)=>a({...s,x:String(p)||""}),disabled:o(),renderInput:f=>h.jsx(zn,{...f,label:"X Axis",variant:"outlined"})}),h.jsx(rb,{options:e.y_options||[],value:s.y||null,onChange:(f,p)=>a({...s,y:String(p)||""}),disabled:o(),renderInput:f=>h.jsx(zn,{...f,label:"Y Axis",variant:"outlined"})}),h.jsx(Be,{variant:"contained",size:"small",startIcon:h.jsx(LF,{}),onClick:c,fullWidth:!0,disabled:o(),children:"Add Pair"})]}),d(s.x,s.y)&&s.x&&s.y&&h.jsx(ae,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:"This coordinate pair is already selected"})]}),h.jsx(Y,{children:(l||[]).length===0?h.jsx(ae,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",mt:1},children:"No Axis pairs selected"}):h.jsx(Wb,{dense:!0,children:(l||[]).map(f=>h.jsx(Hh,{sx:{border:"1px solid #e0e0e0",borderRadius:1,mb:1,bgcolor:"background.paper",pl:1,pr:1},secondaryAction:!o()&&h.jsx(Pt,{edge:"end",size:"small",onClick:()=>u(f.id),children:h.jsx(Lot,{})}),children:h.jsx(_h,{primary:h.jsxs(gt,{direction:"row",spacing:1,alignItems:"flex-start",flexWrap:"wrap",sx:{maxWidth:"90%",rowGap:.5},children:[h.jsx(Ci,{label:`X: ${f.x}`,size:"small",color:"primary",sx:{maxWidth:"100%"}}),h.jsx(ae,{variant:"body2",children:""}),h.jsx(Ci,{label:`Y: ${f.y}`,size:"small",color:"primary",sx:{maxWidth:"100%"}})]})})},f.id))})})]})},K8e=({config:e,onChangeIsSynced:t,onChangeSortDescending:n,onChangeAdjustText:r})=>h.jsxs(gt,{direction:"row",alignItems:"center",children:[h.jsx(ae,{variant:"h6",children:e.name}),e.is_synced!==null&&e.is_synced!==void 0&&t&&h.jsx(Dt,{title:e.is_synced?"Unsync Y axes across the breakout plots":"Sync Y axes across the breakout plots",children:h.jsx(Td,{checked:!!e.is_synced,icon:h.jsx(kX,{}),checkedIcon:h.jsx(NF,{}),onChange:i=>{const o=i.target.checked;t(o)}})}),e.sort_ascending!==null&&e.sort_ascending!==void 0&&n&&h.jsx(Dt,{title:e.sort_ascending===!0?"Sort X-Axis in descending order":"Sort X-Axis in ascending order",children:h.jsx(Td,{checked:!!e.sort_ascending,icon:h.jsx(Eke,{}),checkedIcon:h.jsx(Aot,{}),onChange:i=>{const o=i.target.checked;n(o)}})}),e.adjust_text!==null&&e.adjust_text!==void 0&&r&&h.jsx(Dt,{title:e.adjust_text?"Disable Label Overlap Adjustment":"Enable Label Overlap Adjustment",children:h.jsx("span",{children:h.jsx(Td,{checked:!!e.adjust_text,disabled:e.disabled??!1,icon:h.jsx(_st,{style:{transform:"scaleX(-1)"}}),checkedIcon:h.jsx(Cst,{}),onChange:i=>{const o=i.target.checked;r(o)}})})})]}),o_n=({onSaveConfig:e,isForeignPipe:t,initialConfig:n={elements:[]},isShowTableBlock:r=!1,isAdminMode:i=!1,onAdminModeToggle:o,pipeId:s,nodeId:a,username:l})=>{const c=xt(),{isDarkMode:u}=Li(),{hasPermission:d}=wA(),[f,p]=R.useState({elements:[]}),g=yAe(),y=f!=n;R.useEffect(()=>{p(n)},[n]);const v=(I,j)=>{const P=Array.isArray(I)?I[0]??"":I??"",$={...f};$.elements[j]&&($.elements[j]={...$.elements[j],selected_values:[P]}),p($)},x=(I,j)=>{const P={...f};if(!P.elements[j])return;const $=P.elements[j];let D=$.selected_values||[];if(r){const F=Array.isArray(I)?I[0]:I;typeof F=="string"&&(D.includes(F)?D=D.filter(N=>N!==F):D.push(F)),P.elements[j]={...$,selected_values:D}}else P.elements[j]={...$,selected_values:Array.isArray(I)?I:[I]};p(P)},w=(I,j)=>{const P={...f};P.elements[I]&&(P.elements[I]={...P.elements[I],is_synced:j}),p(P)},S=(I,j)=>{const P={...f};P.elements[I]&&(P.elements[I]={...P.elements[I],sort_ascending:j}),p(P)},C=(I,j)=>{const P={...f};P.elements[I]&&(P.elements[I]={...P.elements[I],adjust_text:j}),p(P)},k=(I,j)=>{const P={...f},$=P.elements[I];$&&($.hidden_options||($.hidden_options=[]),$.hidden_options.includes(j)?$.hidden_options=$.hidden_options.filter(D=>D!==j):$.hidden_options.push(j),p(P))},T=(I,j)=>{const P={...f};P.elements[I]&&(P.elements[I]={...P.elements[I],toggle:j}),p(P)},E=(I,j)=>{const P={...f};if(P.elements[I]){const $=Array.isArray(j)?j[0]:j;P.elements[I]={...P.elements[I],selected_values:[$]}}p(P)},A=(I,j)=>{const P={...f};if(P.elements[I]){const $=j.map(D=>({x:D.x,y:D.y}));P.elements[I]={...P.elements[I],selected_values:$}}p(P)},O=()=>{g.mutate({pipeId:s,nodeId:a,username:l,configuration:{elements:f.elements}},{onSuccess:()=>{e(f),p(n)}})};return h.jsxs(Y,{sx:{overflowY:"auto",height:"100%"},children:[h.jsxs(Y,{sx:{position:"sticky",borderBottom:`1px solid ${u?c.palette.grey[900]:c.palette.grey[300]}`,display:"flex",flexDirection:"column",top:0,gap:2,p:2,zIndex:1e3,mb:1,background:c.palette.background.paper,containerType:"inline-size",containerName:"card"},children:[h.jsx(fie,{pipeId:s,nodeId:a,usernameFromPath:l,context:"block",isOnDashboard:!1,isFilterCategoriesSideBlock:!1}),h.jsx(Dt,{title:y?"Save changes and reload the page":"No changes to save",children:h.jsx(Y,{children:h.jsx(Be,{variant:"contained",sx:{mx:"auto",display:"block"},onClick:O,disabled:!y||t()||g.isPending,children:g.isPending?"Saving...":"Save & Reload"})})})]}),h.jsxs(Wb,{children:[d(a0.MANAGE_BLOCK_OPTIONS)&&!t()&&h.jsx(gt,{direction:"row",justifyContent:"space-between",sx:{p:1},children:h.jsxs("div",{children:[h.jsx(Dt,{title:i?"Switch to Normal Mode":"Switch to Admin Mode",children:h.jsx(Pt,{onClick:o,children:h.jsx(Rot,{color:i?"primary":"inherit"})})}),h.jsx(ae,{variant:"caption",children:i?"Switch to Normal Mode":"Switch to Admin Mode"})]})}),f.elements.map((I,j)=>h.jsx(Hh,{children:h.jsxs(gt,{direction:"column",sx:{width:"100%"},children:[(I.type==="single_select"||I.type==="multi_select")&&h.jsx(Z8e,{config:I,onSelectOption:P=>{I.type==="single_select"?v(P,j):I.type==="multi_select"&&x(P,j)},isForeignPipe:t,onChangeIsSynced:P=>w(j,P),onChangeSortDescending:P=>S(j,P),onChangeAdjustText:P=>C(j,P),onVisibilityChange:P=>k(j,P),isAdminMode:i,allowMultiple:I.type==="multi_select"}),I.type==="toggle_switch"&&h.jsxs(gt,{direction:"row",alignItems:"center",children:[h.jsx(ae,{variant:"h6",children:I.name}),h.jsx(Dt,{title:I.disabled?`${I.name} not supported in this configuration`:"",children:h.jsx("span",{children:h.jsx(Bf,{checked:I.toggle??!1,onChange:P=>T(j,P.target.checked),disabled:I.disabled===!0||t()})})})]}),I.type==="slider"&&h.jsxs(gt,{direction:"column",alignItems:"flex-start",sx:{width:"65%"},children:[h.jsx(ae,{variant:"h6",children:I.name}),h.jsxs(ae,{variant:"body2",children:["Max Value: ",I.selected_values?.[0]??30]}),h.jsx(KX,{value:I.selected_values?.[0]??30,onChange:(P,$)=>E(j,$),min:I.min||2,max:I.max||100,step:I.step||1,marks:I.marks||!1})]}),I.type==="pair_select"&&h.jsx(h.Fragment,{children:h.jsx(i_n,{config:I,onPairsChange:P=>A(j,P),onChangeIsSynced:P=>w(j,P),onChangeSortDescending:P=>S(j,P),onChangeAdjustText:P=>C(j,P),isForeignPipe:t})})]})},`${I?.name}-${j}`))]})]})};function s_n(e){const{setValue:t,onChange:n,...r}=e,[i,o]=R.useState(!1),s=()=>{o(a=>(t(a?[]:[...e.options]),!a))};return h.jsx(rb,{...r,onChange:(a,l,c,u)=>{(c==="clear"||c==="removeOption")&&o(!1),c==="selectOption"&&l.length===e.options.length&&o(!0),t(l),n!==void 0&&n(a,l,c,u)},PaperComponent:a=>{const{children:l,...c}=a;return h.jsxs(Pr,{...c,children:[h.jsx(Y,{onMouseDown:u=>u.preventDefault(),pl:1.5,py:.5,children:h.jsx(Su,{label:"Select all",onClick:u=>{u.preventDefault(),s()},control:h.jsx(Td,{id:e.checkboxId??`select-all-checkbox-for-autocomplete-${e.id}`,checked:i})})}),h.jsx(vi,{}),l]})}})}const Z8e=({config:e,onSelectOption:t,isForeignPipe:n=()=>!1,onChangeIsSynced:r,onChangeSortDescending:i,onChangeAdjustText:o,isAdminMode:s,onVisibilityChange:a,allowMultiple:l=!1})=>{const{hasPermission:c}=wA(),u=s?e.options||[]:e.options?.filter(g=>!e.hidden_options?.includes(String(g)))||[],d=e.selected_values?.filter(g=>g&&!e.options?.includes(String(g))),f=l?s_n:rb,p=Array.isArray(e.selected_values)?e.selected_values.filter(g=>typeof g=="string"&&g!==""):[];return h.jsxs(gt,{direction:"column",children:[h.jsx(K8e,{config:e,onChangeIsSynced:r,onChangeSortDescending:i,onChangeAdjustText:o}),s?h.jsx(RSn,{config:e,onVisibilityChange:a?g=>{const y=!e.hidden_options?.includes(String(g));a(String(g),!y)}:()=>{}}):h.jsxs(h.Fragment,{children:[h.jsx(f,{multiple:!0,setValue:t,options:u?.map(g=>String(g)),disabled:n()||e.name==="Correlation Metric"&&!c(a0.CHANGE_CORRELATION_METRICS),disableCloseOnSelect:l,value:p,getOptionLabel:g=>`${g}`,onChange:(g,y)=>{if(l)t(y);else{const v=y;t(v[v.length-1])}},renderInput:g=>h.jsx(zn,{...g,variant:"outlined",placeholder:l?"Select options":"Select option",fullWidth:!0}),renderTags:(g,y)=>g.map((v,x)=>{const w=y({index:x}),{key:S,...C}=w;return h.jsx(Dt,{title:v,children:h.jsx(Ci,{label:v,...C},S)},S)})}),d&&d.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(ae,{variant:"h6",color:"error",sx:{mt:2},children:"Invalid options"}),h.jsx(rb,{multiple:!0,options:d,getOptionLabel:g=>`${g}`,value:d,disabled:!0,renderInput:g=>h.jsx(zn,{...g,variant:"standard",label:"Invalid options"})})]})]})]})},Q8e=({data:e,initialSelectionState:t={},handleFilterChange:n,onRowSelection:r,categoricalFilter:i=!1,category:o,generateRowActionItems:s,disabledRows:a,disabledColumns:l,isForeignPipe:c=()=>!1,isLoading:u=!1,bottomToolbarComponent:d,getSubRows:f,muiBottomToolbarProps:p})=>{const g=xt(),y=r!==void 0,v=s!==void 0,x=(y||i)&&!c(),w=f!==void 0,[S,C]=R.useState(t),[k,T]=R.useState({}),E=(j,P)=>{let $=[];return j.length>0&&($=Object.keys(j[0])),l&&($=$.filter(D=>!l.includes(D))),P&&v&&$.indexOf("mrt-row-actions")===-1&&$.splice(0,0,"mrt-row-actions"),P&&x&&$.indexOf("mrt-row-select")===-1&&$.splice(0,0,"mrt-row-select"),$},A=j=>{const P=j.indexOf("count");return P!==-1&&(j.splice(P,1),j.push("count")),j},O=j=>e.length===0?[]:j.map(P=>{const $={accessorKey:P,header:P};return i&&($.size=150),P==="count"&&($.header="#",$.size=80),$}),I=j=>o?a?.includes(j.original[o])??!1:!1;return R.useEffect(()=>{t&&Object.keys(t).length>0&&JSON.stringify(S)!==JSON.stringify(t)&&C(t)},[t]),R.useEffect(()=>{if(i)n?.(S);else{const j=Object.keys(S);if(j.length===1){const P=j[0],$=Number.parseInt(P.split("-")[0],10);Number.isNaN($)||r?.($)}}},[S]),h.jsx(AA,{columns:O(A(E(e,!1))),data:e,enableRowSelection:x,enableMultiRowSelection:i,enableStickyHeader:!0,enableTopToolbar:!1,enableClickToCopy:!1,enableColumnResizing:!0,enableFullScreenToggle:!1,enableRowActions:v,enableExpanding:w,enableExpandAll:!1,autoResetPageIndex:!1,paginateExpandedRows:!1,selectAllMode:"all",displayColumnDefOptions:{"mrt-row-select":{size:20},"mrt-row-actions":{size:20},"mrt-row-expand":{size:20}},getRowId:(j,P)=>{if(i&&o){const $=j[o];if($!=null)return String($)}return`${P}-${JSON.stringify(j)}`},getSubRows:f,renderRowActionMenuItems:s,renderBottomToolbarCustomActions:()=>d||null,onRowSelectionChange:C,onExpandedChange:T,initialState:{density:"compact",rowSelection:S,columnOrder:A(E(e,!0))},muiSelectCheckboxProps:({row:j})=>({disabled:u||I(j)}),muiPaginationProps:{showRowsPerPage:!1},muiBottomToolbarProps:p,state:{rowSelection:S,expanded:k,isSaving:u,columnOrder:A(E(e,!0))},mrtTheme:PA(g)})},NU={Admin:"Admin",KeyUser:"Key User",User:"User"},a_n=({selectedOption:e,onSelectOption:t})=>h.jsx(Nu,{additionalSx:{mt:0},children:h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx(ae,{variant:"h4",children:"Change Role"}),h.jsx(Z8e,{config:{type:"single_select",name:"Change Role",selected_values:[e],options:[NU.Admin,NU.User,NU.KeyUser]},onSelectOption:t})]})}),l_n=({username:e,open:t,onClose:n})=>{const[r,i]=R.useState(""),o=EMt();return h.jsxs(Oi,{open:t,onClose:n,children:[h.jsxs(Do,{children:["Do you really want to reset the password for user ",h.jsx("b",{children:e}),"?"]}),h.jsxs(no,{children:[h.jsx(yo,{children:"Please enter a new password for the user."}),h.jsx(zn,{label:"password",type:"password",variant:"outlined",value:r,onChange:s=>{i(s.target.value)}})]}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:n,children:"Cancel"}),h.jsx(Be,{onClick:()=>{n(),o.mutate({body:{new_password:r,user:e}})},variant:"contained",children:"Reset Password"})]})]})},J8e=({target:e,originalCostCentersValue:t,onClose:n})=>{const[r,i]=R.useState(t||"");return h.jsx(Nu,{additionalSx:{mt:0},children:h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsxs(ae,{variant:"h5",children:["Change the Visibility for ",h.jsx("b",{children:e})]}),h.jsx(ae,{variant:"body1",children:Uf.COST_CENTER_INFO}),h.jsx(zn,{label:"Cost Centers",variant:"outlined",value:r,onChange:o=>{i(o.target.value)},error:!gv(r),helperText:gv(r)?"":Uf.COST_CENTER_WARNING}),h.jsx(Be,{onClick:()=>{gv(r)&&n(r)},variant:"contained",disabled:!gv(r),children:"Save Changes"})]})})},c_n=()=>{const[e,t]=R.useState(!1),[n,r]=R.useState(),[i,o]=R.useState(),[s,a]=R.useState(),[l,c]=R.useState(),{data:u,isLoading:d}=TMt(),f=RMt(),p=MMt();if(d||!u)return h.jsx(DA,{loading:d});const g=u.map(v=>({Username:v.username,Name:v.name,Organization:v.organization,"Cost Center":v.cost_centers,Role:v.role,Permissions:v.permissions})),y=({closeMenu:v,row:x})=>[h.jsx($t,{onClick:()=>{o(x.original),v()},children:"Reset Password"},0),h.jsx($t,{onClick:()=>{r(x.original),v()},children:"Change roles"},1),h.jsx($t,{onClick:()=>{a(x.original),v()},children:"Change cost centers and crops"},3),h.jsx($t,{onClick:()=>{c(x.original),v()},children:"Delete User"},4)];return h.jsx(iM,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:h.jsxs(Nu,{children:[h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsxs(gt,{direction:"row",spacing:2,children:[h.jsx(ae,{variant:"h5",children:"User Management"}),!1]}),h.jsx(Q8e,{data:g,generateRowActionItems:y})]}),h.jsx(Oi,{open:e,onClose:()=>t(!1),children:h.jsx(TSn,{onClose:()=>t(!1)})}),h.jsx(l_n,{username:i?.Username||"",open:i!==void 0,onClose:()=>o(void 0)}),h.jsx(Oi,{open:n!==void 0,onClose:()=>r(void 0),children:h.jsx(a_n,{selectedOption:n?.Role||"",onSelectOption:v=>{const x=n?.Username;r(void 0),x&&f.mutate({body:{operation:"change_role",value:v},path:{username:x}})}})}),h.jsx(Oi,{open:s!==void 0,onClose:()=>a(void 0),children:h.jsx(J8e,{target:s?.Username,originalCostCentersValue:s?.["Cost Center"],onClose:v=>{const x=s?.Username;a(void 0),x&&f.mutate({body:{operation:"change_cost_centers",value:v},path:{username:x}})}})}),h.jsx(aie,{open:l!==void 0,objectName:l?.Username||"",onClose:()=>c(void 0),onDeleteConfirmed:()=>{l&&p.mutate({path:{username:l.Username}})}})]})})},u_n=()=>{const e=Kr(),{data:t=[],isLoading:n}=SMt(),r=o8e(T=>T.open),i=kMt(),o=pAe(),{setRenamePipeModalOpen:s}=hZ(),[a,l]=R.useState(void 0),[c,u]=R.useState(!1),[d,f]=R.useState(null),[p,g]=R.useState(!1),[y,v]=R.useState(null),x=(T,E)=>{T.stopPropagation(),e({to:Nr.Template+"/"+E.id})},w=async T=>{try{await i.mutateAsync({path:{template_id:T.id}}),Vo.info("Template deleted successfully")}catch(E){Vo.error("Could not delete template",E)}},S=async T=>{l(void 0);try{a&&await o.mutateAsync({path:{id:a.id},body:{operation:"update_cost_centers",value:T}})}catch(E){Vo.error("Could not update template visibility",E)}},C=[{accessorKey:"name",header:"Name",size:200,Cell:({row:T,renderedCellValue:E})=>{const A=T.original;return h.jsx(dz,{icon:h.jsx(ST,{sx:{fontSize:18}}),iconColor:"#2e7d32",label:E,onOpen:O=>x(O,A)})}},{accessorKey:"data_source",header:"Data Source",size:200},{accessorKey:"cost_centers",header:"Cost Centers",id:"cost_centers",accessorFn:T=>T.cost_centers??"",Cell:({renderedCellValue:T})=>h.jsx("span",{children:String(T)||"-"})},{accessorKey:"owner",header:"Owner",size:150},{header:"Tag",id:"tag.name",accessorFn:T=>T?.tag?.name??"",Cell:({row:T,renderedCellValue:E})=>{const A=eZ();return h.jsx(kSn,{label:String(E),onClick:O=>{v(T.original),g(!0)},loading:A.isPending,allowActions:T.original?.meta?.can_user_update,onDelete:()=>{A.mutate({path:{pipe_id:T.original.id}})}})}}],k=({closeMenu:T,row:E})=>{const A=[],O=E.original,I=O?.meta;A.push(h.jsxs($t,{onClick:()=>{T(),r(O)},children:[h.jsx(eo,{children:h.jsx(R0,{fontSize:"small"})}),"Settings"]},"settings"));const j=!!I&&"can_user_edit_visibility"in I&&I.can_user_edit_visibility,P=!!I&&"can_user_rename"in I&&I.can_user_rename;return j&&A.push(h.jsxs($t,{onClick:()=>{T(),l(O)},children:[h.jsx(eo,{children:h.jsx(TX,{fontSize:"small"})}),"Change visibility"]},"visibility")),P&&A.push(h.jsxs($t,{onClick:()=>{T(),s(!0,O.id,O.name)},children:[h.jsx(eo,{children:h.jsx(Got,{fontSize:"small"})}),"Rename"]},"rename")),I?.can_user_update&&A.push(h.jsxs($t,{onClick:()=>{T(),v(O),g(!0)},children:[h.jsx(eo,{children:h.jsx(ost,{fontSize:"small"})}),"Manage Tag"]},"tag")),I?.can_user_delete&&A.push(h.jsxs($t,{onClick:()=>{T(),u(!0),f(O)},children:[h.jsx(eo,{children:h.jsx(Hb,{fontSize:"small"})}),"Delete"]},"delete")),A};return n?h.jsx(Sa,{}):h.jsxs(h.Fragment,{children:[h.jsx(uz,{icon:h.jsx(ST,{sx:{fontSize:28}}),title:"Templates",description:"Manage your templates to share them with other cost centers",iconBackgroundColor:ut("#2e7d32",.1),iconColor:"#2e7d32",searchPlaceholder:"Search templates...",tableColumns:C,tableData:t,renderRowActionMenuItems:k,onRowClick:T=>r(T),isLoading:n}),h.jsx(Oi,{open:a!==void 0,onClose:()=>l(void 0),children:h.jsx(J8e,{target:a?.name,originalCostCentersValue:a?.cost_centers??void 0,onClose:S})}),h.jsx(aie,{open:c,objectName:d?.name||"",onClose:()=>u(!1),onDeleteConfirmed:()=>{d&&w(d)}}),y&&h.jsx(Pze,{setDialogOpen:g,dialogOpen:p,selectedPipelineId:y.id,selectedTagId:y.tag?.id,selectedTagLabel:y.tag?.name})]})},d_n=mo("/templates/$username")({component:f_n});function f_n(){return h.jsx(ef,{children:h.jsx(u_n,{})})}const e9e={NODE_DATA:"nodeData"},fwe=e=>Math.max(1/e,1),t9e=()=>{const{zoom:e}=_Qe(),[t,n]=R.useState(fwe(e)),r=R.useMemo(()=>OA(i=>{n(fwe(i))},30),[]);return R.useEffect(()=>{r(e)},[e,r]),t},p_n=({x:e,y:t,onClick:n,id:r,onMouseEnter:i,onMouseLeave:o})=>{const s=xt(),{isDarkMode:a}=Li(),l=t9e();return h.jsx(wQe,{children:h.jsx(Dt,{title:"Unlink connection",children:h.jsxs(Pr,{onMouseEnter:i,onMouseLeave:o,onClick:c=>{c.stopPropagation(),n(r)},sx:{borderWidth:l,position:"absolute",transform:`translate(-50%, -50%) translate(${e}px,${t}px)`,pointerEvents:"all",display:"flex",alignItems:"center",backgroundColor:a?"black":"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",cursor:"pointer",padding:"4px 8px","&:hover":{backgroundColor:a?s.palette.grey[900]:s.palette.grey[50],"& .button-icon":{opacity:0,position:"absolute"},"& .button-icon-hover":{opacity:1,position:"relative"}}},children:[h.jsx(NF,{className:"button-icon",sx:{position:"relative"}}),h.jsx(kX,{className:"button-icon-hover",sx:{opacity:0,position:"absolute"}})]})})})},h_n=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:o,targetPosition:s,onCloseButtonClick:a,isDisabled:l})=>{const c=xt(),[u,d]=R.useState(!1),{isDarkMode:f}=Li(),[p,g,y]=NY({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:s}),v=f?"white":c.palette.grey[500];return h.jsxs(h.Fragment,{children:[h.jsx(FR,{id:e,path:p,style:{stroke:u?v:c.palette.grey[400],strokeWidth:u?1.5:1,strokeDasharray:"none"}}),!l&&h.jsx(p_n,{x:g,y,onClick:a,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),id:e})]})},g_n=Fi((e,t)=>({viewports:{},storeViewport:(n,r)=>e(i=>({viewports:{...i.viewports,[n]:r}})),getViewport:n=>t().viewports[n]||null})),m_n=e=>{const{storeViewport:t,getViewport:n}=g_n(),r=$R(),i=OA((o,s)=>{t(o,s)},400);EQe({onChange:o=>{i(e,o)}}),R.useEffect(()=>{const o=n(e);o?r.setViewport(o):r.getNodes().length>0&&r.fitView({maxZoom:.75,padding:{top:"200px",left:"300px",bottom:"100px",right:"50px"}})},[r,e,n])};const y_n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v_n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),pwe=e=>{const t=v_n(e);return t.charAt(0).toUpperCase()+t.slice(1)},n9e=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),b_n=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var x_n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const w_n=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>R.createElement("svg",{ref:l,...x_n,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:n9e("lucide",i),...!o&&!b_n(a)&&{"aria-hidden":"true"},...a},[...s.map(([c,u])=>R.createElement(c,u)),...Array.isArray(o)?o:[o]]));const Mn=(e,t)=>{const n=R.forwardRef(({className:r,...i},o)=>R.createElement(w_n,{ref:o,iconNode:t,className:n9e(`lucide-${y_n(pwe(e))}`,`lucide-${e}`,r),...i}));return n.displayName=pwe(e),n};const S_n=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],__n=Mn("arrow-right",S_n);const C_n=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],k_n=Mn("arrow-up-narrow-wide",C_n);const E_n=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Oj=Mn("calculator",E_n);const T_n=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],KE=Mn("chart-column",T_n);const R_n=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],M_n=Mn("chart-pie",R_n);const A_n=[["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["circle",{cx:"18.5",cy:"5.5",r:".5",fill:"currentColor",key:"lysivs"}],["circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor",key:"byv1b8"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["circle",{cx:"17.5",cy:"14.5",r:".5",fill:"currentColor",key:"1gjh6j"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}]],P_n=Mn("chart-scatter",A_n);const D_n=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],O_n=Mn("chevron-left",D_n);const I_n=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],j_n=Mn("chevron-right",I_n);const $_n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],r9e=Mn("columns-2",$_n);const F_n=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],L_n=Mn("database",F_n);const N_n=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],z_n=Mn("download",N_n);const B_n=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],i9e=Mn("ellipsis-vertical",B_n);const U_n=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],o9e=Mn("ellipsis",U_n);const V_n=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],H_n=Mn("external-link",V_n);const W_n=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],q_n=Mn("file-down",W_n);const G_n=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ij=Mn("funnel",G_n);const Y_n=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],s9e=Mn("git-merge",Y_n);const X_n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zU=Mn("grid-3x3",X_n);const K_n=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Z_n=Mn("grip-vertical",K_n);const Q_n=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],J_n=Mn("hash",Q_n);const eCn=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],tCn=Mn("house",eCn);const nCn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rCn=Mn("info",nCn);const iCn=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oCn=Mn("layers",iCn);const sCn=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],aCn=Mn("layout-grid",sCn);const lCn=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],cCn=Mn("lock-open",lCn);const uCn=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],a9e=Mn("maximize",uCn);const dCn=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],fCn=Mn("minimize-2",dCn);const pCn=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],hCn=Mn("move",pCn);const gCn=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hwe=Mn("pen-line",gCn);const mCn=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],l9e=Mn("pencil",mCn);const yCn=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],vCn=Mn("pin",yCn);const bCn=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],h_=Mn("plus",bCn);const xCn=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],c9e=Mn("refresh-cw",xCn);const wCn=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}]],u9e=Mn("rows-2",wCn);const SCn=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_Cn=Mn("settings",SCn);const CCn=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],kCn=Mn("share",CCn);const ECn=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TCn=Mn("shield-check",ECn);const RCn=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],MCn=Mn("sparkles",RCn);const ACn=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}]],PCn=Mn("square-mouse-pointer",ACn);const DCn=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],OCn=Mn("table-2",DCn);const ICn=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],BU=Mn("table",ICn);const jCn=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],d9e=Mn("trash-2",jCn);const $Cn=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],FCn=Mn("trending-down",$Cn);const LCn=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],NCn=Mn("trending-up",LCn);const zCn=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BCn=Mn("upload",zCn);const UCn=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pz=Mn("x",UCn),VCn={calculations:{icon:Oj,color:"#1976d2"},data:{icon:L_n,color:"#388e3c"},filter:{icon:Ij,color:"#f57c00"},misc:{icon:o9e,color:"#7b1fa2"},statistics:{icon:NCn,color:"#c2185b"},visualization:{icon:KE,color:"#0288d1"}},HCn=e=>{const t=["mean","relative","relative_to_checks"],n=["file_import","long_to_wide","wide_to_long","breakout","export","rename_columns"],r=["create_subgroup","filter_orthogonal","filter_standard"],i=["plot_swap"],o=["h2h_matrix","correlation_matrix"],s=["box_plot","show_table","scatter_plot","bar_plot","histogram_plot","heatmap","violin_plot"];if(t.includes(e))return"calculations";if(n.includes(e))return"data";if(r.includes(e))return"filter";if(i.includes(e))return"misc";if(o.includes(e))return"statistics";if(s.includes(e))return"visualization"},WCn={mean:Oj,relative:Oj,relative_to_checks:Oj,file_import:BCn,long_to_wide:zU,wide_to_long:zU,breakout:oCn,export:q_n,rename_columns:J_n,create_subgroup:Ij,filter_orthogonal:Ij,filter_standard:Ij,plot_swap:o9e,h2h_matrix:BU,correlation_matrix:BU,box_plot:KE,show_table:BU,scatter_plot:P_n,bar_plot:KE,histogram_plot:KE,heatmap:zU,violin_plot:M_n},C0=({identifier:e})=>{const t=xt(),n=20,r=WCn[e],i=HCn(e),o=i?VCn[i]:null,s=o?.icon,a=o?.color||t.palette.text.primary;return r?h.jsx(r,{size:n,style:{color:a}}):s?h.jsx(s,{size:n,style:{color:a}}):h.jsx(KE,{size:n,style:{color:t.palette.text.primary}})},_C=({id:e,type:t,position:n,isValidConnection:r,tooltip:i,tooltipPlacement:o="top",style:s={},isConnectable:a=!0})=>{const l=xt(),{isDarkMode:c}=Li(),u=c?l.palette.grey[800]:l.palette.grey[200],d=h.jsx(Y,{sx:{"& .react-flow__handle":{cursor:"pointer",backgroundColor:l.palette.background.default,border:"2px solid",borderColor:u,"&:hover":{borderColor:l.palette.primary.main}},"& .react-flow__handle.connectingto":{backgroundColor:Mr(l.palette.error.main,.2),border:"2px solid",borderColor:Mr(l.palette.error.main,.2),animation:"pulse 1.5s infinite","@keyframes pulse":{"0%":{boxShadow:"0 0 0 0 rgba(255, 0, 0, 0.4)"},"70%":{boxShadow:"0 0 0 6px rgba(255, 0, 0, 0)"},"100%":{boxShadow:"0 0 0 0 rgba(255, 0, 0, 0)"}}},"& .react-flow__handle.valid":{backgroundColor:Mr(l.palette.success.main,.5),animation:"none",borderColor:l.palette.success.main,boxShadow:`0 0 8px ${Mr(l.palette.success.main,.5)}`}},children:h.jsx(dT,{id:e,type:t,position:n,style:{width:"25px",height:"25px",transition:"all 0.2s ease",...s},isConnectable:a,isValidConnection:r})});if(i){const f=o==="top"?65:0;return h.jsx(Dt,{title:i,placement:o,enterDelay:300,enterNextDelay:300,leaveDelay:100,PopperProps:{modifiers:[{name:"offset",options:{offset:[0,f]}}]},children:d})}return d},qCn=({isValidConnection:e,isConnectable:t})=>h.jsx(_C,{id:"Left",type:"target",position:on.Left,isValidConnection:e,isConnectable:t}),GCn=({isValidConnection:e,isConnectable:t})=>h.jsx(_C,{id:"TopLeft",type:"target",position:on.Left,isValidConnection:e,isConnectable:t,style:{top:"50%",marginTop:"-25px"}}),YCn=({isValidConnection:e,isConnectable:t})=>h.jsx(_C,{id:"BottomLeft",type:"target",position:on.Left,isValidConnection:e,isConnectable:t,style:{top:"50%",marginTop:"25px"}}),XCn=({isValidConnection:e,isConnectable:t})=>h.jsx(_C,{id:"Right",type:"source",position:on.Right,isValidConnection:e,isConnectable:t}),KCn=({isValidConnection:e,isMeanBlock:t,isConnectable:n=!0})=>h.jsx(_C,{id:"TopRight",type:"source",position:on.Right,isValidConnection:e,isConnectable:n,style:{top:"50%",marginTop:"-25px"},tooltip:t?"Full Table with Mean Columns":!1,tooltipPlacement:"top"}),ZCn=({isValidConnection:e,isMeanBlock:t,isConnectable:n})=>h.jsx(_C,{id:"BottomRight",type:"source",position:on.Right,isValidConnection:e,isConnectable:n,style:{top:"50%",marginTop:"25px"},tooltip:t?"Mean / Truncated Table":!1,tooltipPlacement:"bottom"}),QCn=({open:e,setOpen:t,setBlockTitle:n,blockTitle:r,blockDescription:i,username:o,pipeId:s,nodeId:a})=>{const[l,c]=R.useState(r??""),u=iZ(),d=p=>{p.stopPropagation(),t(!1),c(r??"")},f=async p=>{p.stopPropagation(),p.preventDefault(),!(l.length===0||l.length>50)&&await u.mutateAsync({pipeId:s,nodeId:parseInt(a),username:o,title:l,description:i},{onSuccess:()=>{t(!1),n(l),Vo.info("Successfully changed block title")},onError:g=>{Vo.error("Error updating the block",g)}})};return h.jsxs(Oi,{open:e,onClose:d,PaperProps:{component:"form",onSubmit:p=>{f(p)}},onClick:p=>p.stopPropagation(),children:[h.jsx(Do,{children:"Edit Title"}),h.jsxs(no,{children:[h.jsx(yo,{children:"Type the new title for the block, then click save."}),h.jsx(zn,{autoFocus:!0,required:!0,margin:"dense",id:"name",name:"title",label:"Title",fullWidth:!0,value:l,helperText:l.length>50?"Name must be 50 characters or less":void 0,error:l.length>50,onChange:p=>{c(p.target.value)},disabled:u.isPending})]}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:p=>d(p),disabled:u.isPending,children:"Cancel"}),h.jsx(Be,{variant:"contained",type:"submit",disabled:u.isPending||l.length===0||l.length>50,children:u.isPending?"Saving...":"Save"})]})]})},JCn=({blockIdentifier:e})=>{const t=new Map([[jot,[nn.filter_standard,nn.show_table]],[Dke,[nn.export]],[xst,[nn.plot_swap]],[vst,[nn.scatter_plot]]]);let n=null;if(e){for(const[r,i]of t.entries())if(i.includes(e)){n=r;break}}return h.jsxs(gt,{direction:"row",alignItems:"center",children:[n?h.jsx(n,{fontSize:"small"}):null,h.jsx(ae,{sx:{ml:1},variant:"body1",children:"Click for more options"})]})},e2n=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,isOnFlowNode:i=!1,use80percentWidth:o=!1})=>{const{height:s,width:a}=G8e(700),{fontSize:l}=lZ(),[c,u]=R.useState(null),{isDarkMode:d}=Li(),f=i?120:600,p=i?130:Math.round(s*.55),{data:g,isLoading:y,isRefetching:v,refetch:x}=fAe({pipeId:e,blockId:t,username:n,sparsify:i,height:i?300:Math.round(s*.55),width:i?150:o?a*(2.8/4):a*(5/6),includeDescription:!1});return R.useEffect(()=>{if(!g)return;const w=URL.createObjectURL(new Blob([g],{type:"image/svg+xml"}));return u(w),()=>{URL.revokeObjectURL(w)}},[g]),R.useEffect(()=>{x()},[r,l,d,x]),y||v?h.jsx("div",{style:{width:f,height:p,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:h.jsx(Sa,{height:`${p}px`})}):h.jsx("div",{style:{width:"100%"},children:c&&h.jsx("img",{src:c,alt:"",draggable:!1,style:{transform:"translateZ(0)",transformOrigin:"top left",objectFit:"contain",display:"block",margin:"0 auto"}})})},t2n=({nodeId:e,pipeId:t,usernameFromPath:n})=>h.jsx(e2n,{pipeId:t,nodeId:parseInt(e,10),usernameFromPath:n,isOnFlowNode:!0}),n2n=({values:e,size:t})=>h.jsx(gt,{direction:"column",spacing:2,children:e&&e.map((n,r)=>h.jsx(n0,{variant:"outlined",children:h.jsx(ae,{variant:"body1",sx:{padding:1,fontSize:t},children:n})},r))}),r2n=({id:e,anchorEl:t,open:n,handleClose:r,setDialogOpen:i,onDeleteButtonClick:o,checkBoxes:s,checked:a,onCheckboxClick:l,isForeignPipe:c})=>h.jsx(Uo,{anchorEl:t,open:n,onClose:r,MenuListProps:{"aria-labelledby":"basic-button"},children:h.jsxs(e4,{dense:!0,sx:{mt:-1,mb:-1},children:[h.jsxs($t,{onClick:u=>{i(!0),r(u)},children:[h.jsx(eo,{children:h.jsx(XR,{})}),h.jsx(_h,{primary:"Rename"})]}),h.jsxs($t,{onClick:u=>{o(e),r(u)},children:[h.jsx(eo,{children:h.jsx(Hb,{})}),h.jsx(_h,{primary:"Delete"})]}),s.map((u,d)=>h.jsxs($t,{onClick:f=>{l(e,u,!a[u]),f.stopPropagation()},children:[h.jsx(eo,{children:h.jsx(Td,{name:u,checked:a[u]??!1,disabled:c(),sx:{ml:-1}})}),h.jsx(_h,{primary:u})]},d))]})}),i2n=({id:e,pipeId:t,usernameFromPath:n,data:r,onDeleteButtonClick:i,onCheckboxClick:o,isReadOnly:s,...a})=>{const{getEdges:l}=$R(),c=Wd(n),{isTemplate:u}=Ca(),d=t9e(),[f,p]=R.useState(!1),[g,y]=R.useState(r.title),v=xt(),x=r.df_specs.filter(G=>G.type==="in"),w=r.df_specs.filter(G=>G.type==="out"),[S,C]=R.useState(null),T=(r?.identifier?lie.includes(r.identifier):!1)?nxe:[nxe[0]],[E,A]=R.useState({[T[0]]:r.dashboard_configuration?.view_in_dashboard,[T[1]??""]:r.skip}),O=!!S,I="1rem",{isDarkMode:j}=Li(),P=G=>G.source===VE||G.target===VE?!1:l().filter(X=>X.target===G.target&&X.targetHandle===G.targetHandle).length===0,$=()=>x.length===0?h.jsx(h.Fragment,{}):x.length===2?h.jsxs(h.Fragment,{children:[h.jsx(GCn,{isValidConnection:P,isConnectable:!s}),h.jsx(YCn,{isValidConnection:P,isConnectable:!s})]}):h.jsx(qCn,{isValidConnection:P,isConnectable:!s}),D=()=>{if(w.length===0)return h.jsx(h.Fragment,{});if(w.length===2){const G=r.identifier===nn.mean;return h.jsxs(h.Fragment,{children:[h.jsx(KCn,{isValidConnection:P,isConnectable:!s,isMeanBlock:G}),h.jsx(ZCn,{isValidConnection:P,isConnectable:!s,isMeanBlock:G})]})}else return h.jsx(XCn,{isValidConnection:P,isConnectable:!s})},F=(G,z)=>{if(!G.identifier)return h.jsx(h.Fragment,{});if(cie.includes(G.identifier)){let W=[];return G.identifier===nn.file_import&&G.data?.value?.["0"]!==void 0?W=[G.data.value[0].filename??""]:W=G.configuration?.elements.filter(X=>X.type==="single_select"&&X.selected_values.length===1).map(X=>X.selected_values[0])??[],h.jsx(n2n,{values:W,size:I})}else return fz.includes(G.identifier)?h.jsx(t2n,{config:G,nodeId:e,pipeId:t,usernameFromPath:n,...z}):MSn.includes(G.identifier)?h.jsx(JCn,{blockIdentifier:G.identifier}):(Vo.error("Unknown node type: "+G.identifier),h.jsx(h.Fragment,{}))},N=G=>{C(G.currentTarget),G.stopPropagation()},V=G=>{C(null),G.stopPropagation()},H=(G,z,W)=>{A(X=>({...X,[z]:W})),o(G,z,W)},U=E.Skip??!1;return h.jsxs(h.Fragment,{children:[h.jsx($,{}),h.jsxs(Pr,{sx:{mt:0,p:2,cursor:"grab",borderWidth:d,boxShadow:"0 2px 10px rgba(0,0,0,0.1)",backgroundColor:U?v.palette.background.disabled:v.palette.background.default,BorderColor:U?v.palette.highlight.border:v.palette.background.border,...!u&&{"&:hover":{backgroundColor:U?j?Mr(v.palette.background.disabled,.05):es(v.palette.background.disabled,.05):j?Mr(v.palette.background.default,.1):es(v.palette.background.default,.05),cursor:"pointer"}}},children:[h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsxs(gt,{direction:"row",spacing:1,sx:{alignItems:"center",justifyContent:"space-between"},children:[r.identifier&&h.jsx(C0,{identifier:r.identifier}),h.jsx(ae,{variant:"body1",sx:{ml:1,fontSize:I},children:g}),!s&&h.jsx(Pt,{sx:{ml:"auto"},onClick:N,"data-testid":`rf__node-${e}-edit-button`,children:h.jsx(zF,{})}),h.jsx(r2n,{id:e,anchorEl:S,open:O,handleClose:V,setDialogOpen:p,onDeleteButtonClick:i,checkBoxes:T,checked:E,onCheckboxClick:H,isForeignPipe:c})]}),e!==VE&&F(r,a)]}),h.jsx(QCn,{open:f,setOpen:p,blockTitle:g,blockDescription:r.description||"",setBlockTitle:y,username:n,pipeId:t,nodeId:e})]}),h.jsx(D,{})]})},o2n=()=>{const e=dp(),t=Kr(),n=xt(),{pipeId:r,username:i,isTemplate:o}=Ca(),s=Wd(i)(),a=cAe(),l=nZ(),c=async()=>{if(o){const u=await l.mutateAsync({body:{name:"template clone",template_id:r}}),d=ba(e.username,u.id);await t({to:`${Nr.Dashboard}/${d}`})}else{if(!i||!r)return;const u=await a.mutateAsync({body:{pipe_id:r,owner:i}}),d=ba(e.username,u.id);await t({to:`${Nr.Dashboard}/${d}`})}};return!s&&!o?null:h.jsxs(Pr,{sx:{position:"absolute",top:"130px",left:"50%",transform:"translateX(-50%)",width:"300px",padding:"15px",zIndex:100,display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",backgroundColor:n.palette.background.paper,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[h.jsxs(ae,{variant:"h6",sx:{textAlign:"center",color:n.palette.text.primary},children:["Read-only ",o?"Template":"Pipeline"]}),h.jsxs(Be,{variant:"contained",color:"primary",onClick:c,startIcon:h.jsx(zh,{}),sx:{px:3},children:["Clone ",o?"Template":"Pipeline"]})]})},s2n=({block_blueprint:e})=>{const t=n=>{const r=n.currentTarget.getBoundingClientRect(),i=n.clientX-r.left,o=n.clientY-r.top,s={...e,offsetX:i,offsetY:o};n.dataTransfer.setData(e9e.NODE_DATA,JSON.stringify(s)),n.dataTransfer.effectAllowed="move"};return h.jsx(Dt,{title:e.description,enterDelay:500,enterNextDelay:500,children:h.jsx(n0,{onDragStart:t,draggable:!0,sx:{padding:2,cursor:"grab","&:hover":{backgroundColor:"primary.light"}},"data-testid":`block-library-${e.identifier}`,children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"row"},children:[h.jsx(C0,{identifier:e.identifier}),h.jsx(ae,{variant:"body1",sx:{ml:1},children:e.title})]})})})},a2n=({searchTerm:e,setSearchTerm:t,placeholder:n="Search...",size:r,fullWidth:i,inputRef:o,onKeyDown:s,autoFocus:a,sx:l})=>{const c=d=>{t(d.target.value)},u=()=>{t(""),o&&"current"in o&&o.current&&o.current.focus()};return h.jsx(Y,{sx:{position:"relative",mt:2,...l},children:h.jsx(zn,{type:"text",placeholder:n,value:e,onChange:c,size:r,fullWidth:i,inputRef:o,onKeyDown:s,autoFocus:a,InputProps:{endAdornment:e?h.jsx(ob,{position:"end",children:h.jsx(Pt,{"aria-label":"clear search",onClick:u,edge:"end",size:"small",children:h.jsx(Vb,{fontSize:"small"})})}):void 0}})})},l2n=({title:e,blueprints:t})=>{const n=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();return h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx(ae,{variant:"h6",children:n}),t.map((r,i)=>h.jsx(s2n,{block_blueprint:r},i))]})},c2n=({height:e})=>{const{data:t}=wMt(),[n,r]=R.useState("");if(!t)return null;const o=[["input",t.input],["filter",t.filter],["visualization",t.visualization],["calculations",t.calculations],["statistics",t.statistics],["data",t.data],["misc",t.misc]].map(([s,a])=>{if(!n)return[s,a];const l=a.filter(c=>c.title.toLowerCase().includes(n.toLowerCase()));return[s,l]}).filter(([s,a])=>a.length>0);return h.jsx(Pr,{sx:{mt:0,overflow:"hidden",overflowY:"auto",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",width:"230px"},children:h.jsx(Y,{sx:{pb:0,p:2},children:h.jsxs(gt,{direction:"column",children:[h.jsx(Y,{children:h.jsx(Dt,{title:"You can drag these nodes onto the canvas.",children:h.jsx(ae,{variant:"h5",children:"Block Library"})})}),h.jsx(a2n,{searchTerm:n??"",setSearchTerm:r}),h.jsxs(gt,{direction:"column",spacing:2,sx:{pt:2,display:"flex",height:e},children:[o.map(([s,a],l)=>h.jsx(l2n,{title:s,blueprints:a},l)),h.jsx("div",{style:{minHeight:"5px"}})]})]})})})},u2n=e=>e.map(t=>({id:`${t.flow_id}`,data:{...t},position:t.position,type:"custom"})),d2n=(e,t,n,r)=>`e${e}-${t}-${n}-${r}`,f9e=e=>({id:d2n(e.source,e.sourceHandle,e.target,e.targetHandle),type:"custom",animated:!0,style:{stroke:"black"},...e}),f2n=e=>e.map(t=>f9e({source:t.source_flow_id.toString(),sourceHandle:t.source_handle_id,target:t.target_flow_id.toString(),targetHandle:t.target_handle_id})),p9e=({pipeId:e,username:t,isTemplate:n})=>{const r=xt(),i=R.useRef(null),[o,s]=R.useState(null),{height:a}=die(),l=Kr(),[c,u,d]=CQe([]),[f,p,g]=kQe([]),[y,v]=R.useState(!1),[x,w]=R.useState(!1),{data:S,isLoading:C}=ls(e),k=S?.is_template||!S?.meta?.can_user_update;m_n(e);const T=jMt(),E=LMt(),A=NMt(),O=zMt(),I=$Mt(),j=oZ(),P=XMt(),$=sZ(),D=R.useCallback(ne=>{const oe=f9e(ne);p(ce=>A_e(ne,ce)),A.mutate({path:{pipe_id:e},body:{operation:"add_connection",value:oe}})},[]),F=R.useCallback(ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move"},[]),N=ne=>{ne.preventDefault();const oe=ne.dataTransfer.getData(e9e.NODE_DATA),ce=JSON.parse(oe);if(ce.identifier===nn.file_import&&!y&&c.some(xe=>xe.data?.identifier===nn.file_import)&&(w(!0),v(!0)),typeof ce>"u"||!ce){Vo.error("Invalid newBlock");return}const re=i?.current?.getBoundingClientRect();if(!o||!re)return;const ge=o.screenToFlowPosition({x:ne.clientX-re.left,y:ne.clientY-re.top}),he={x:ge.x-(ce.offsetX||0),y:ge.y-(ce.offsetY||0)},ie={id:VE,type:"custom",position:he,data:{identifier:ce.identifier,width:150,height:80,title:ce.identifier,description:ce.description,df_specs:ce.df_specs}};u(xe=>[...xe,ie]),T.mutate({path:{pipe_id:e},body:{operation:"add_block",value:{position:he,identifier:ce.identifier}}})},V=(ne,oe)=>{if(document.getElementById("basic-menu")!==null||n||k&&!oe.data?.dashboard_configuration?.view_in_dashboard||oe.id===VE||!t||!e)return;const ce=ba(t,e);l({to:`/pipe/${ce}/block/${oe.id}`})},H=(ne,oe)=>{oe&&I.mutate({path:{pipe_id:e},body:{operation:"move_block",value:{block_id:parseInt(oe.id),position:oe.position}}})},U=(ne,oe)=>{j.mutate({pipeId:e,nodeId:parseInt(ne),username:t,value:oe})},G=ne=>{u(oe=>oe.filter(ce=>ce.id!==ne)),p(oe=>oe.filter(ce=>ce.source!==ne&&ce.target!==ne)),E.mutate({path:{pipe_id:e},body:{operation:"delete_block",value:{block_id:parseInt(ne)}}})},z=(ne,oe)=>{P.mutate({pipeId:e,nodeId:parseInt(ne),username:t,viewInDashboard:oe})},W=(ne,oe)=>{$.mutate({pipeId:e,nodeId:parseInt(ne),username:t,skip:oe})},X=ne=>{t&&(p(oe=>oe.filter(ce=>ce.id!==ne)),O.mutate({path:{pipe_id:e},body:{operation:"delete_connection",value:{connection_id:ne}}}))},Q=R.useMemo(()=>({custom:ne=>h.jsx(i2n,{pipeId:e,usernameFromPath:t,onValueChanged:oe=>{U(ne.id,oe)},onDeleteButtonClick:oe=>{G(oe)},onCheckboxClick:(oe,ce,re)=>{ce==="Skip"?W(oe,re):z(oe,re)},isReadOnly:k,...ne})}),[t,k]),ee=R.useMemo(()=>({custom:ne=>h.jsx(h_n,{onCloseButtonClick:oe=>{X(oe)},isDisabled:k,...ne})}),[t]);return R.useEffect(()=>{if(S){const{blocks:ne,connections:oe}=S;u(u2n(ne)),p(f2n(oe))}},[S]),h.jsxs(Y,{sx:{"& .react-flow__controls":{...!k&&{bottom:"10px !important",left:"270px !important"}}},children:[h.jsx("div",{style:{position:"absolute",width:"200px",left:"30px",top:"60px",zIndex:100,transition:"top 0.3s ease"},children:!k&&h.jsx(c2n,{height:a-210})}),h.jsx(Y,{ref:i,sx:{width:"100vw",height:"calc(100vh - 50px)"},children:C?h.jsx(To,{sx:{position:"absolute",top:"50%",left:"50%"}}):h.jsxs(h.Fragment,{children:[k&&h.jsx(o2n,{}),h.jsxs(bQe,{colorMode:r.palette.mode,style:{background:Mr(r.palette.background.paper,.9)},connectionRadius:70,nodes:c,edges:f,nodeTypes:Q,edgeTypes:ee,onNodesChange:d,onEdgesChange:g,onConnect:D,nodesDraggable:!k,nodesConnectable:!k,elementsSelectable:!k,onInit:s,onDrop:N,onDragOver:F,onNodeClick:V,onNodeDragStop:H,minZoom:.3,"data-testid":"react-flow-pipeline-canvas",children:[h.jsx(PQe,{color:r.palette.highlight.flowGrid}),h.jsx(LQe,{})]}),h.jsx(oM,{open:x,autoHideDuration:6e3,onClose:()=>w(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:h.jsx(_T,{onClose:()=>w(!1),severity:"warning",variant:"filled",sx:{width:"100%"},children:"You already have a File Import block in this pipe. The Branch Ordering feature only works with the first Import block."})})]})})]})},h9e=({handleDownload:e,handleOpenDialog:t,handleDropdownClose:n,handleDropdownOpen:r,handleCopyLink:i,anchorEl:o})=>{const s=!!o;return h.jsxs(h.Fragment,{children:[h.jsxs(fEe,{sx:{p:1},children:[h.jsx(Be,{size:"small",startIcon:h.jsx(kCn,{size:18}),onClick:t,sx:{px:3},children:"Share"}),h.jsx(Be,{size:"small","aria-controls":s?"share-menu":void 0,"aria-expanded":s?"true":void 0,"aria-label":"select share action","aria-haspopup":"menu",onClick:r,children:h.jsx(Tke,{})})]}),h.jsxs(Uo,{id:"share-menu",anchorEl:o,open:s,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[!!e&&h.jsxs($t,{onClick:e,children:["Download",h.jsx(pst,{fontSize:"small",sx:{marginLeft:"auto"}})]}),h.jsxs($t,{onClick:i,"data-clipboard-text":window.location.href,children:["Copy Link",h.jsx(zh,{fontSize:"small",sx:{marginLeft:"auto"}})]}),h.jsx(Y,{sx:{px:2,py:1},children:h.jsx(ae,{variant:"caption",sx:{color:"text.secondary",display:"block"},children:"Everybody with this link can view the board."})})]})]})},p2n=({id:e,pipeId:t,pipeName:n})=>{const{setShareDialogOpen:r}=FN(),[i,o]=R.useState(null),{isRWA:s}=Ul(),{username:a,isTemplate:l}=Ca(),c=Wd(a)(),u=()=>{r({pipeId:t})},d=()=>{o(null)},f=v=>{o(v.currentTarget)},p=()=>{navigator.clipboard.writeText(window.location.href),d()},{download:g}=cre({onDownloadStarted:()=>{d()}});if(c||l)return null;const y=()=>{g({pipeId:e,fileName:n})};return h.jsx(h9e,{handleOpenDialog:u,handleDownload:s?void 0:y,handleCopyLink:p,anchorEl:i,handleDropdownClose:d,handleDropdownOpen:f})},h2n=()=>{const[e,t]=R.useState(!1),n=()=>{const s=document;return document.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement},r=()=>{const s=document.documentElement;s.requestFullscreen?s.requestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.msRequestFullscreen&&s.msRequestFullscreen()},i=()=>{const s=document;document.exitFullscreen?document.exitFullscreen():s.webkitExitFullscreen?s.webkitExitFullscreen():s.mozCancelFullScreen?s.mozCancelFullScreen():s.msExitFullscreen&&s.msExitFullscreen()},o=()=>{n()?i():r()};return R.useEffect(()=>{const s=()=>{t(!!n())};return document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("MSFullscreenChange",s),t(!!n()),()=>{document.removeEventListener("fullscreenchange",s),document.removeEventListener("webkitfullscreenchange",s),document.removeEventListener("mozfullscreenchange",s),document.removeEventListener("MSFullscreenChange",s)}},[]),{isFullscreen:e,toggleFullscreen:o,requestFullscreen:r,exitFullscreen:i}};function g2n({pipeId:e}){const t=dp(),n=Kr(),{username:r,isTemplate:i}=Ca(),o=Wd(r)(),{data:s,isLoading:a}=ls(e),l=cAe(),c=nZ();if(a||!s)return null;const u=async()=>{if(i){const d=await c.mutateAsync({body:{name:"template clone",template_id:e}}),f=ba(t.username,d.id);await n({to:`${Nr.Dashboard}/${f}`})}else if(r){const d=await l.mutateAsync({body:{pipe_id:e,owner:r}}),f=ba(t.username,d.id);await n({to:`${Nr.Dashboard}/${f}`})}};return!o&&!i||s.is_snapshot?null:h.jsx(Dt,{title:"Clone Pipe",children:h.jsx(Pt,{color:"primary",onClick:u,children:h.jsx(zh,{})})})}const gwe=({pipeId:e,destination:t,username:n})=>{const r=Kr(),i=xt(),o=ba(n,e),s=t==="pipe";return h.jsx(Dt,{title:`Switch to ${t}`,children:h.jsxs(Be,{size:"small",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,px:2,whiteSpace:"nowrap",...s&&{backgroundColor:i.palette.primary.main,color:i.palette.primary.contrastText,fontWeight:600,border:`2px solid ${i.palette.primary.dark}`,boxShadow:"none","&:hover":{backgroundColor:i.palette.primary.dark,boxShadow:"none"}}},variant:s?"contained":"outlined","data-testid":"button-toggle-pipeline-view",onClick:()=>{r({to:`/${t}/${o}`})},children:[h.jsx(s9e,{size:18,style:{color:s?i.palette.primary.contrastText:i.palette.primary.main}}),t==="dashboard"?"View Dashboard":"Pipeline Editor"]})})};function m2n({username:e,shouldShowBackToDashboardButton:t,shouldShowBackToPipeButton:n,pipeId:r}){return h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[t&&h.jsx(gwe,{username:e,pipeId:r,destination:"dashboard"}),n&&h.jsxs(h.Fragment,{children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center"},children:h.jsx(vi,{orientation:"vertical",flexItem:!0,sx:{height:"30px"}})}),h.jsx(gwe,{username:e,pipeId:r,destination:"pipe"})]})]})}function g9e({pipeId:e,nodeId:t,username:n}){const r=Wd(n)(),{data:i,isLoading:o,isError:s}=B_(e,t,n),{setEditBlockDialogOpen:a}=zAe();return o||s?null:h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100%"},children:r?h.jsxs(Y,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(Y,{sx:{display:"inline-flex",alignItems:"center",marginRight:1,"& svg":{height:16,width:16}},children:h.jsx(C0,{identifier:i.identifier})}),h.jsx(ae,{variant:"body2",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.875rem",lineHeight:1},children:i.title})]}):h.jsxs(O4,{onClick:()=>{a({pipeId:e,nodeId:t,username:n,title:i.title,description:i.description})},children:[h.jsx(Y,{sx:{display:"inline-flex",alignItems:"center",marginRight:1,"& svg":{height:16,width:16}},children:h.jsx(C0,{identifier:i.identifier})}),h.jsx(ae,{variant:"body2",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.875rem",lineHeight:1},children:i.title})]})})}const y2n=({templateId:e,dashboardTemplateVersion:t})=>{const n=xt(),{isDarkMode:r}=Li(),{data:i,isPending:o}=ls(e);if(o||!i)return null;const s=r?n.palette.grey[700]:n.palette.grey[200];return h.jsxs(Y,{sx:{px:2,py:1.5,borderTop:`1px solid ${s}`,backgroundColor:n.palette.background.paper,display:"flex",flexDirection:"column",gap:1.5},children:[h.jsx(ae,{variant:"h6",color:"text.secondary",children:"Template Update available"}),h.jsxs(ae,{variant:"caption",color:"text.secondary",sx:{lineHeight:1.4,fontSize:"0.75rem"},children:["The template for this Dashboard has a new version available."," ",h.jsx(M3,{variant:"caption",href:Nr.Template+"/"+i.id,"data-testid":"template-changes-link",children:"View the template"})," ","to see the changes."]}),h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:"2px"},children:[h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Your Dashboard is cloned from Version:"}),h.jsx(ae,{variant:"caption",color:"text.primary",children:t})]}),h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"The Template has Version:"}),h.jsx(ae,{variant:"caption",color:"text.primary",children:i.template_version})]})]})]})},m9e=({anchorEl:e,onClose:t,children:n})=>{const r=xt(),{isDarkMode:i}=Li(),o=i?r.palette.grey[700]:r.palette.grey[200];return h.jsx(Uo,{anchorEl:e,open:!!e,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{zIndex:1300,"& .MuiPaper-root":{minWidth:300,maxWidth:400,backgroundColor:i?r.palette.grey[900]:Mr(r.palette.grey[50],.5),borderColor:o,marginTop:"20px",position:"relative",overflow:"visible","&::before":{content:'""',position:"absolute",top:"-8px",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:`8px solid ${r.palette.background.paper}`,zIndex:1},"&::after":{content:'""',position:"absolute",top:"-9px",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"9px solid transparent",borderRight:"9px solid transparent",borderBottom:`9px solid ${o}`,zIndex:0}}},closeAfterTransition:!0,children:n})},v2n=({anchorEl:e,onClose:t,pipeId:n})=>{const{username:r}=Ca(),{data:i,isLoading:o}=ls(n),{setRenamePipeModalOpen:s}=hZ(),a=Wd(r)(),l=dp();if(o||!i)return null;const c=i.is_template;return h.jsxs(m9e,{onClose:t,anchorEl:e,children:[h.jsx(Y,{sx:{m:1,display:"flex",justifyContent:"center",alignItems:"center",gap:1},children:h.jsxs(Y,{sx:{backgroundColor:"action.hover",px:2,py:1,borderRadius:2,display:"flex",alignItems:"center",gap:2},children:[h.jsx(ae,{variant:"h6",children:i.name}),!a&&!c&&h.jsx(Dt,{title:"Rename dashboard",arrow:!0,children:h.jsx(Pt,{size:"small",onClick:()=>{s(!0,n,i.name),t()},children:h.jsx(XR,{})})})]})}),h.jsxs(Y,{sx:{px:2,py:1,display:"flex",flexDirection:"column",gap:"2px"},children:[h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:c?"Published:":"Created:"}),h.jsx(ae,{variant:"caption",color:"text.primary",children:h.jsx(Lb,{date:i?.created_at})})]}),h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Last Updated:"}),h.jsx(ae,{variant:"caption",color:"text.primary",children:h.jsx(Lb,{date:i?.updated_at})})]}),h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Creator:"}),h.jsx(Ci,{icon:h.jsx(YR,{}),label:(()=>{const u=l?.username===i?.user?.username?`${i?.user?.username} (You)`:i?.user?.username;return u&&u.length>30?`${u.substring(0,20)}...`:u})(),size:"small",variant:"outlined"})]}),!i.is_template&&i.template_id&&h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Dashboard based on Template:"}),h.jsx(M3,{variant:"caption",href:Nr.Template+"/"+i.template_id,sx:{fontSize:"0.75rem"},"data-testid":"template-link",children:i.template_id})]}),i.is_template&&!!i.template_version&&h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Template Version"}),h.jsx(ae,{variant:"caption",color:"text.primary",children:i.template_version})]}),i.target_template_id&&h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Dashboard is published as Template:"}),h.jsx(M3,{variant:"body1",href:Nr.Template+"/"+i.target_template_id,sx:{fontSize:"0.75rem"},children:i.target_template_id})]})]}),i?.template_has_update&&i.template_version&&i.template_id&&h.jsx(y2n,{dashboardTemplateVersion:i.template_version,templateId:i.template_id})]})};function b2n({pipeId:e}){const{data:t,isLoading:n}=ls(e),[r,i]=R.useState(null),o=a=>{i(a.currentTarget)},s=()=>{i(null)};return n||!t?null:h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100%"},children:[h.jsx(O4,{onClick:o,children:h.jsxs(ae,{variant:"body1",sx:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:.5,fontWeight:700},children:[t.name,t?.template_has_update&&h.jsx(Ci,{label:"Update available",size:"small",color:"success",icon:h.jsx(rCn,{size:14}),sx:{ml:1,height:22,"& .MuiChip-label":{fontWeight:500}}})]})}),h.jsx(v2n,{anchorEl:r,onClose:s,pipeId:t.id})]})})}function pie(){const e=Kwe({predicate:({queryKey:t})=>t[0]!=="filterConfig"});return h.jsx(h.Fragment,{children:!!e&&h.jsx(xEe,{"data-testid":"loading-spinner",sx:{height:"2px"}})})}function hie({pipeId:e,nodeId:t,shouldShowBackToDashboardButton:n=!1,shouldShowBackToPipeButton:r=!1}){const i=Kr(),o=xt(),{isKws:s}=Ul(),{isFullscreen:a,toggleFullscreen:l}=h2n(),c=ure(y=>y.open),{username:u}=Ca(),{data:d,isLoading:f}=ls(e),p=!!t,g=()=>{p&&u?window.history.back():u&&i({to:`/pipes/${u}`})};return f||!d?null:h.jsx(h.Fragment,{children:h.jsxs(eM,{position:"static",sx:{mt:0,height:"45px",transition:"all 0.3s ease"},style:{borderLeft:"none",borderRight:"none",borderTop:"none"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",px:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[u&&!t&&h.jsxs(h.Fragment,{children:[h.jsx(Dt,{title:"Back",children:h.jsx(Be,{variant:"text",size:"small",startIcon:s?void 0:h.jsx(tCn,{size:18}),onClick:g,sx:{minWidth:"auto",py:.5,px:2},"data-testid":"nav-dashboards",children:"Home"})}),h.jsx(vi,{orientation:"vertical",flexItem:!0})]}),u&&t&&h.jsxs(h.Fragment,{children:[h.jsx(Be,{variant:"text",size:"small",startIcon:h.jsx(SX,{}),onClick:g,children:"Back"}),h.jsx(vi,{orientation:"vertical",flexItem:!0})]}),!t&&h.jsx(b2n,{pipeId:d.id}),u&&t&&h.jsx(g9e,{pipeId:e,nodeId:t,username:u})]}),h.jsxs(Y,{sx:{width:"600px",display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:[!t&&h.jsxs(h.Fragment,{children:[h.jsx(Dt,{title:a?"Exit Fullscreen":"Enter Fullscreen",children:h.jsx(Pt,{size:"small",onClick:l,sx:{color:o.palette.primary.accent},children:a?h.jsx(fCn,{size:20}):h.jsx(a9e,{size:20})})}),h.jsx(Dt,{title:"Settings",children:h.jsx(Pt,{size:"small",onClick:()=>c(d),sx:{color:o.palette.primary.accent},children:h.jsx(_Cn,{size:20})})})]}),!p&&d.id&&h.jsx(p2n,{id:d.id,pipeId:d.id,pipeName:d.name}),h.jsx(g2n,{pipeId:d.id}),u&&h.jsx(m2n,{username:u,shouldShowBackToDashboardButton:n,shouldShowBackToPipeButton:r,pipeId:e})]})]}),h.jsx(Y,{sx:{position:"absolute",top:"44px",width:"100vw",zIndex:1300},children:h.jsx(pie,{})})]})})}const x2n=mo("/template/$pipeId")({component:w2n});function w2n(){const{pipeId:e,username:t,isTemplate:n}=Ca();return e?h.jsxs(ef,{children:[h.jsx(hie,{pipeId:e}),h.jsx(p9e,{pipeId:e,username:t,isTemplate:n})]}):null}const S2n=({label:e,onClick:t})=>h.jsxs(Y,{component:"span",onClick:t,role:t?"button":void 0,tabIndex:t?0:void 0,onKeyDown:t?n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),t(n))}:void 0,sx:{display:"inline-flex",alignItems:"center",gap:.5,px:1.5,py:.5,borderRadius:1,backgroundColor:ut("#1976d2",.1),color:"text.primary",fontSize:"0.875rem",...t&&{cursor:"pointer","&:hover":{backgroundColor:ut("#1976d2",.18)}}},children:[h.jsx(Zm,{sx:{fontSize:18}}),e]}),_2n=()=>{const e=dp(),t=xt(),{data:n=[],isLoading:r}=lAe(),i=DMt(),{hasPermission:o}=wA(),s=Kr(),a=ure(x=>x.open),{setDialogOpen:l}=uZ(),[c,u]=R.useState(!1),[d,f]=R.useState(null),p=async x=>{try{await i.mutateAsync({path:{username:e.username,pipe_id:x.id}}),Vo.info("Pipe deleted successfully")}catch(w){Vo.error("Could not delete pipe",w)}},g=()=>{l()},y=[{accessorKey:"name",header:"Name",size:300,Cell:({row:x,renderedCellValue:w})=>{const S=x.original;return h.jsx(dz,{icon:h.jsx(aS,{sx:{fontSize:18}}),iconColor:t.palette.primary.main,label:w,onOpen:C=>{C.stopPropagation(),s({to:`${Nr.Dashboard}/${ba(S.user?.username||"",S.id)}`})}})}},{accessorKey:"data_source",header:"Data Source",size:200,Cell:({row:x})=>{const w=x.original,S=w.data_source?.trim(),C=!!(S&&S!=="-"),k=!!w.tag?.name;return!C&&!k?null:h.jsxs(Y,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[C&&h.jsx(S2n,{label:S}),k&&h.jsx(jb,{label:w.tag?.name??""})]})}},{accessorKey:"updated_at",header:"Last Modified",size:150,sortingFn:"datetime",Cell:({row:x})=>{const w="updated_at"in x.original?x.original.updated_at:void 0;return h.jsx(Lb,{date:w})}}],v=({closeMenu:x,row:w})=>{const S=[],C=w.original,k=C?.meta;return S.push(h.jsxs($t,{onClick:()=>{x(),a(C)},children:[h.jsx(eo,{children:h.jsx(R0,{fontSize:"small"})}),"Settings"]},"settings")),k?.can_user_delete&&S.push(h.jsxs($t,{onClick:()=>{x(),u(!0),f(C)},children:[h.jsx(eo,{children:h.jsx(Hb,{fontSize:"small"})}),"Delete"]},"delete")),S};return r?h.jsx(Sa,{}):h.jsxs(h.Fragment,{children:[h.jsx(uz,{icon:h.jsx(aS,{sx:{fontSize:28}}),title:"Dashboards",description:"Create and manage your analytics dashboards",actionButton:o(a0.CREATE_PIPE)?h.jsx(Be,{variant:"contained",color:"primary",onClick:g,"data-testid":"button-create-dashboard",startIcon:h.jsx(LF,{}),children:"Create Dashboard"}):void 0,searchPlaceholder:"Search dashboards...",tableColumns:y,tableData:n,renderRowActionMenuItems:v,onRowClick:x=>a(x),tableProps:{initialState:{sorting:[{id:"updated_at",desc:!0}]}},isLoading:r}),h.jsx(aie,{open:c,objectName:d?.name||"",onClose:()=>u(!1),onDeleteConfirmed:()=>{d&&p(d)}})]})},C2n=mo("/pipes/$username")({component:k2n});function k2n(){return h.jsx(ef,{children:h.jsx(_2n,{})})}const E2n=mo("/files/$username")({component:T2n});function T2n(){return h.jsx(ef,{children:h.jsx(SY,{})})}const R2n="https://vega.github.io/schema/vega/v5.json",M2n="An implementation of the classic video game Pacman.",A2n=800,P2n=800,D2n=JSON.parse(`[{"name":"grid","value":{"width":15,"height":15}},{"name":"rangeWidthDelta","update":"(width - blockSize*grid.width)/2"},{"name":"rangeHeightDelta","update":"(height - blockSize*grid.height)/2"},{"name":"blockSize","init":"min(width/grid.width, height/grid.height)"},{"name":"pacManIsOpen","init":"true","on":[{"events":{"type":"timer","throttle":500},"update":"!pacManIsOpen"}]},{"name":"superPower","init":"0","on":[{"events":{"signal":"pacManX || pacManY"},"force":true,"update":"superPower > 0 ? superPower - 1 : 0"},{"events":{"signal":"testPowerEaten"},"update":"testPowerEaten? 30 : superPower"}]},{"name":"restart","on":[{"events":"timer:500","update":"!superPower && ((gRedX === pacManX && gRedY === pacManY) || (gBlueX === pacManX && gBlueY === pacManY) || (gGreenX === pacManX && gGreenY === pacManY) || (gOrangeX === pacManX && gOrangeY === pacManY))"}]},{"name":"testEatenGhost","update":"superPower ? ((gRedX === pacManX && gRedY === pacManY) ? gRed : (gBlueX === pacManX && gBlueY === pacManY) ? gBlue : (gGreenX === pacManX && gGreenY === pacManY) ? gGreen : (gOrangeX === pacManX && gOrangeY === pacManY) ? gOrange : null) : null"},{"name":"testEaten","update":"!restart && (indata('gums', 'key', pacManX+'-'+pacManY) && !indata('eatenGums', 'key', pacManX+'-'+pacManY)) ? {x:pacManX, y:pacManY, key:pacManX+'-'+pacManY} : null"},{"name":"testPowerEaten","update":"!restart && (indata('powerGums', 'key', pacManX+'-'+pacManY) && !indata('eatenGums', 'key', pacManX+'-'+pacManY)) ? {x:pacManX, y:pacManY, key:pacManX+'-'+pacManY} : null"},{"name":"score","init":"0","on":[{"events":{"signal":"testEaten"},"update":"testEaten ? score + 10 : score"},{"events":{"signal":"testPowerEaten"},"update":"testPowerEaten ? score + 50 : score"},{"events":{"signal":"testEatenGhost"},"update":"testEatenGhost ? score + 100 : score"},{"events":{"signal":"restart"},"force":true,"update":"restart ? 0 : score"}]},{"name":"hiScore","init":"0","on":[{"events":{"signal":"score"},"update":"max(score,hiScore)"}]},{"name":"gRed","init":"data('ghosts')[0]"},{"name":"gRedDelta","update":"{dx:pacManX-gRedX, dy: pacManY-gRedY}"},{"name":"gRedLastDir","update":"gRedDirection"},{"name":"gRedPreferences","update":"setdata('gRedDecisions',[{d:'up', i: (gRedLastDir === 'down' ? 4 : (abs(gRedDelta.dy) > abs(gRedDelta.dx) ? (gRedDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gRedDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gRedLastDir === 'up' ? 4 : (abs(gRedDelta.dy) > abs(gRedDelta.dx) ? (gRedDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gRedDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gRedLastDir === 'right' ? 4 : (abs(gRedDelta.dy) < abs(gRedDelta.dx) ? (gRedDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gRedDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gRedLastDir === 'left' ? 4 : abs(gRedDelta.dy) < abs(gRedDelta.dx) ? (gRedDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gRedDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gRedHasWallX","update":"(gRedOffsetX<0 && !gRedCanLeft) || (gRedOffsetX>0 && !gRedCanRight) ? true : false"},{"name":"gRedHasWallY","update":"(gRedOffsetY<0 && !gRedCanUp) || (gRedOffsetY>0 && !gRedCanDown) ? true : false"},{"name":"gRedCanLeft","update":"indata('walls', 'key', gRedX + '-' + gRedY + '-true') ? false : true"},{"name":"gRedCanUp","update":"indata('walls', 'key', gRedX + '-' + gRedY + '-false')? false : true"},{"name":"gRedCanRight","update":"indata('walls', 'key', (gRedX + 1) + '-' + gRedY + '-true') ? false : true"},{"name":"gRedCanDown","update":"indata('walls', 'key', gRedX + '-' + (gRedY+1) + '-false')? false : true"},{"name":"gRedHasPacMan","update":"superPower && ((gRedX + gRedOffsetX === pacManX) && (gRedY + gRedOffsetY === pacManY))"},{"name":"gRedBlocked","on":[{"events":{"signal":"gRedProposedDirection"},"force":true,"update":"!gRedProposedDirection ||(gRedProposedDirection === 'up' && !gRedCanUp) || (gRedProposedDirection === 'down' && !gRedCanDown) || (gRedProposedDirection === 'left' && !gRedCanLeft) || (gRedProposedDirection === 'right' && !gRedCanRight) ? true : false"}]},{"name":"gRedTry","on":[{"events":{"type":"timer","throttle":400},"update":"gRedBlocked && gRedTry <3 ? gRedTry+1 : 0"}]},{"name":"gRedDecision","update":"data('gRedDecisions')[gRedTry]"},{"name":"gRedProposedDirection","on":[{"events":{"signal":"gRedDecision"},"force":true,"update":"gRedDecision ? gRedDecision.d : 'none'"}]},{"name":"gRedDirection","update":"gRedProposedDirection && !gRedBlocked ? gRedProposedDirection : gRedDirection"},{"name":"gRedOffsetX","update":"gRedDirection === 'left'? - 1 : gRedDirection === 'right'? 1 : 0"},{"name":"gRedOffsetY","update":"gRedDirection === 'up'? -1 : gRedDirection === 'down' ? 1 : 0"},{"name":"gRedX","init":"gRed.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'red') ? 6 : (!restart && !gRedHasWallX && !gRedHasPacMan ? ((gRedOffsetX <0 && gRedX <= 0) ? grid.width - 1 : ((gRedOffsetX > 0 && gRedX >= grid.width -1) ? 0 : (gRedX + gRedOffsetX))) : gRedX)"},{"events":{"signal":"restart"},"update":"gRed.x","force":true}]},{"name":"gRedY","init":"gRed.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'red') ? 7 : (!restart && !gRedHasWallY && !gRedHasPacMan ? ((gRedOffsetY <0 && gRedY <= 0) ? grid.height-1 : (gRedOffsetY > 0 && gRedY >= grid.height - 1)? 0 : gRedY + gRedOffsetY) : gRedY)"},{"events":{"signal":"restart"},"force":true,"update":"gRed.y"}]},{"name":"gBlue","init":"data('ghosts')[1]"},{"name":"gBlueDelta","update":"{dx:pacManX-gBlueX, dy: pacManY-gBlueY}"},{"name":"gBlueLastDir","update":"gBlueDirection"},{"name":"gBluePreferences","update":"setdata('gBlueDecisions',[{d:'up', i: (gBlueLastDir === 'down' ? 4 : (abs(gBlueDelta.dy) > abs(gBlueDelta.dx) ? (gBlueDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gBlueDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gBlueLastDir === 'up' ? 4 : (abs(gBlueDelta.dy) > abs(gBlueDelta.dx) ? (gBlueDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gBlueDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gBlueLastDir === 'right' ? 4 : (abs(gBlueDelta.dy) < abs(gBlueDelta.dx) ? (gBlueDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gBlueDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gBlueLastDir === 'left' ? 4 : abs(gBlueDelta.dy) < abs(gBlueDelta.dx) ? (gBlueDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gBlueDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gBlueHasWallX","update":"(gBlueOffsetX<0 && !gBlueCanLeft) || (gBlueOffsetX>0 && !gBlueCanRight) ? true : false"},{"name":"gBlueHasWallY","update":"(gBlueOffsetY<0 && !gBlueCanUp) || (gBlueOffsetY>0 && !gBlueCanDown) ? true : false"},{"name":"gBlueHasGhost","update":"(gBlueX == gRedX && gBlueY === gRedY)"},{"name":"gBlueHasPacMan","update":"superPower && ((gBlueX + gBlueOffsetX === pacManX) && (gBlueY + gBlueOffsetY === pacManY)) "},{"name":"gBlueCanLeft","update":"indata('walls', 'key', gBlueX + '-' + gBlueY + '-true') ? false : true"},{"name":"gBlueCanUp","update":"indata('walls', 'key', gBlueX + '-' + gBlueY + '-false')? false : true"},{"name":"gBlueCanRight","update":"indata('walls', 'key', (gBlueX + 1) + '-' + gBlueY + '-true') ? false : true"},{"name":"gBlueCanDown","update":"indata('walls', 'key', gBlueX + '-' + (gBlueY+1) + '-false')? false : true"},{"name":"gBlueBlocked","on":[{"events":{"signal":"gBlueProposedDirection"},"force":true,"update":"!gBlueProposedDirection || (gBlueProposedDirection === 'up' && !gBlueCanUp) || (gBlueProposedDirection === 'down' && !gBlueCanDown) || (gBlueProposedDirection === 'left' && !gBlueCanLeft) || (gBlueProposedDirection === 'right' && !gBlueCanRight) ? true : false"}]},{"name":"gBlueTry","on":[{"events":{"type":"timer","throttle":400},"update":"gBlueBlocked && gBlueTry <=3 ? gBlueTry+1 : 0"}]},{"name":"gBlueDecision","update":"data('gBlueDecisions')[gBlueTry]"},{"name":"gBlueProposedDirection","on":[{"events":{"signal":"gBlueDecision"},"force":true,"update":"gBlueDecision ? gBlueDecision.d : 'none'"}]},{"name":"gBlueDirection","update":"gBlueProposedDirection && !gBlueBlocked ? gBlueProposedDirection : gBlueDirection"},{"name":"gBlueOffsetX","update":"gBlueDirection === 'left'? - 1 : gBlueDirection === 'right'? 1 : 0"},{"name":"gBlueOffsetY","update":"gBlueDirection === 'up' ? -1 : gBlueDirection === 'down' ? 1 : 0"},{"name":"gBlueX","init":"gBlue.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'steelblue') ? 7 : (!restart && !gBlueHasWallX && !gBlueHasGhost && !gBlueHasPacMan ? ((gBlueOffsetX <0 && gBlueX <= 0) ? grid.width - 1 : ((gBlueOffsetX > 0 && gBlueX >= grid.width -1) ? 0 : (gBlueX + gBlueOffsetX))) : gBlueX)"},{"events":{"signal":"restart"},"update":"gBlue.x","force":true}]},{"name":"gBlueY","init":"gBlue.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'steelblue') ? 7 : (!restart && !gBlueHasWallY && !gBlueHasGhost && !gBlueHasPacMan ? ((gBlueOffsetY <0 && gBlueY <= 0) ? grid.height-1 : (gBlueOffsetY > 0 && gBlueY >= grid.height - 1)? 0 : gBlueY + gBlueOffsetY) : gBlueY)"},{"events":{"signal":"restart"},"force":true,"update":"gBlue.y"}]},{"name":"gGreen","init":"data('ghosts')[2]"},{"name":"gGreenDelta","update":"{dx:pacManX-gGreenX, dy: pacManY-gGreenY}"},{"name":"gGreenLastDir","update":"gGreenDirection"},{"name":"gGreenPreferences","update":"setdata('gGreenDecisions',[{d:'up', i: (gGreenLastDir === 'down' ? 4 : (abs(gGreenDelta.dy) > abs(gGreenDelta.dx) ? (gGreenDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gGreenDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gGreenLastDir === 'up' ? 4 : (abs(gGreenDelta.dy) > abs(gGreenDelta.dx) ? (gGreenDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gGreenDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gGreenLastDir === 'right' ? 4 : (abs(gGreenDelta.dy) < abs(gGreenDelta.dx) ? (gGreenDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gGreenDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gGreenLastDir === 'left' ? 4 : abs(gGreenDelta.dy) < abs(gGreenDelta.dx) ? (gGreenDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gGreenDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gGreenHasWallX","update":"(gGreenOffsetX<0 && !gGreenCanLeft) || (gGreenOffsetX>0 && !gGreenCanRight) ? true : false"},{"name":"gGreenHasWallY","update":"(gGreenOffsetY<0 && !gGreenCanUp) || (gGreenOffsetY>0 && !gGreenCanDown) ? true : false"},{"name":"gGreenHasGhost","update":"(gGreenX === gRedX && gGreenY === gRedY) || (gGreenX === gBlueX && gGreenY+gGreenOffsetY === gBlueY)"},{"name":"gGreenHasPacMan","update":"superPower && ((gGreenX + gGreenOffsetX === pacManX) && (gGreenY + gGreenOffsetY === pacManY)) "},{"name":"gGreenCanLeft","update":"indata('walls', 'key', gGreenX + '-' + gGreenY + '-true') ? false : true"},{"name":"gGreenCanUp","update":"indata('walls', 'key', gGreenX + '-' + gGreenY + '-false')? false : true"},{"name":"gGreenCanRight","update":"indata('walls', 'key', (gGreenX + 1) + '-' + gGreenY + '-true') ? false : true"},{"name":"gGreenCanDown","update":"indata('walls', 'key', gGreenX + '-' + (gGreenY+1) + '-false')? false : true"},{"name":"gGreenBlocked","on":[{"events":{"signal":"gGreenProposedDirection"},"force":true,"update":"!gGreenProposedDirection || (gGreenProposedDirection === 'up' && !gGreenCanUp) || (gGreenProposedDirection === 'down' && !gGreenCanDown) || (gGreenProposedDirection === 'left' && !gGreenCanLeft) || (gGreenProposedDirection === 'right' && !gGreenCanRight) ? true : false"}]},{"name":"gGreenTry","on":[{"events":{"type":"timer","throttle":400},"update":"gGreenBlocked && gGreenTry <=3 ? gGreenTry+1 : 0"}]},{"name":"gGreenDecision","update":"data('gGreenDecisions')[gGreenTry]"},{"name":"gGreenProposedDirection","on":[{"events":{"signal":"gGreenDecision"},"force":true,"update":"gGreenDecision ? gGreenDecision.d : 'none'"}]},{"name":"gGreenDirection","update":"gGreenProposedDirection && !gGreenBlocked ? gGreenProposedDirection : gGreenDirection"},{"name":"gGreenOffsetX","update":"gGreenDirection === 'left'? - 1 : gGreenDirection === 'right'? 1 : 0"},{"name":"gGreenOffsetY","update":"gGreenDirection === 'up' ? -1 : gGreenDirection === 'down' ? 1 : 0"},{"name":"gGreenX","init":"gGreen.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'green') ? 8 : (!restart && !gGreenHasWallX && !gGreenHasGhost && !gGreenHasPacMan ? ((gGreenOffsetX <0 && gGreenX <= 0) ? grid.width - 1 : ((gGreenOffsetX > 0 && gGreenX >= grid.width -1) ? 0 : (gGreenX + gGreenOffsetX))) : gGreenX)"},{"events":{"signal":"restart"},"update":"gGreen.x","force":true}]},{"name":"gGreenY","init":"gGreen.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'green') ? 7 : (!restart && !gGreenHasWallY && !gGreenHasGhost && !gGreenHasPacMan ? ((gGreenOffsetY <0 && gGreenY <= 0) ? grid.height-1 : (gGreenOffsetY > 0 && gGreenY >= grid.height - 1)? 0 : gGreenY + gGreenOffsetY) : gGreenY)"},{"events":{"signal":"restart"},"force":true,"update":"gGreen.y"}]},{"name":"gOrange","init":"data('ghosts')[3]"},{"name":"gOrangeDelta","update":"{dx:pacManX-gOrangeX, dy: pacManY-gOrangeY}"},{"name":"gOrangeLastDir","update":"gOrangeDirection"},{"name":"gOrangePreferences","update":"setdata('gOrangeDecisions',[{d:'up', i: (gOrangeLastDir === 'down' ? 4 : (abs(gOrangeDelta.dy) > abs(gOrangeDelta.dx) ? (gOrangeDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gOrangeDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gOrangeLastDir === 'up' ? 4 : (abs(gOrangeDelta.dy) > abs(gOrangeDelta.dx) ? (gOrangeDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gOrangeDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gOrangeLastDir === 'right' ? 4 : (abs(gOrangeDelta.dy) < abs(gOrangeDelta.dx) ? (gOrangeDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gOrangeDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gOrangeLastDir === 'left' ? 4 : abs(gOrangeDelta.dy) < abs(gOrangeDelta.dx) ? (gOrangeDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gOrangeDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gOrangeHasWallX","update":"(gOrangeOffsetX<0 && !gOrangeCanLeft) || (gOrangeOffsetX>0 && !gOrangeCanRight) ? true : false"},{"name":"gOrangeHasWallY","update":"(gOrangeOffsetY<0 && !gOrangeCanUp) || (gOrangeOffsetY>0 && !gOrangeCanDown) ? true : false"},{"name":"gOrangeHasGhost","update":"(gOrangeX === gRedX && gOrangeY === gRedY) || (gOrangeX === gBlueX && gOrangeY === gBlueY) || (gOrangeX === gGreenX && gOrangeY === gGreenY)"},{"name":"gOrangeCanLeft","update":"indata('walls', 'key', gOrangeX + '-' + gOrangeY + '-true') ? false : true"},{"name":"gOrangeCanUp","update":"indata('walls', 'key', gOrangeX + '-' + gOrangeY + '-false')? false : true"},{"name":"gOrangeCanRight","update":"indata('walls', 'key', (gOrangeX + 1) + '-' + gOrangeY + '-true') ? false : true"},{"name":"gOrangeCanDown","update":"indata('walls', 'key', gOrangeX + '-' + (gOrangeY+1) + '-false')? false : true"},{"name":"gOrangeBlocked","on":[{"events":{"signal":"gOrangeProposedDirection"},"force":true,"update":"!gOrangeProposedDirection || (gOrangeProposedDirection === 'up' && !gOrangeCanUp) || (gOrangeProposedDirection === 'down' && !gOrangeCanDown) || (gOrangeProposedDirection === 'left' && !gOrangeCanLeft) || (gOrangeProposedDirection === 'right' && !gOrangeCanRight) ? true : false"}]},{"name":"gOrangeTry","on":[{"events":{"type":"timer","throttle":400},"update":"gOrangeBlocked && gOrangeTry <=3 ? gOrangeTry+1 : 0"}]},{"name":"gOrangeHasPacMan","update":"superPower && ((gOrangeX + gOrangeOffsetX === pacManX) && (gOrangeY + gOrangeOffsetY === pacManY)) "},{"name":"gOrangeDecision","update":"data('gOrangeDecisions')[gOrangeTry]"},{"name":"gOrangeProposedDirection","on":[{"events":{"signal":"gOrangeDecision"},"force":true,"update":"gOrangeDecision ? gOrangeDecision.d : 'none'"}]},{"name":"gOrangeDirection","update":"gOrangeProposedDirection && !gOrangeBlocked ? gOrangeProposedDirection : gOrangeDirection"},{"name":"gOrangeOffsetX","update":"gOrangeDirection === 'left'? - 1 : gOrangeDirection === 'right'? 1 : 0"},{"name":"gOrangeOffsetY","update":"gOrangeDirection === 'up' ? -1 : gOrangeDirection === 'down' ? 1 : 0"},{"name":"gOrangeX","init":"gOrange.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'orange') ? 7 : (!restart && !gOrangeHasWallX && !gOrangeHasGhost && !gOrangeHasPacMan ? ((gOrangeOffsetX <0 && gOrangeX <= 0) ? grid.width - 1 : ((gOrangeOffsetX > 0 && gOrangeX >= grid.width -1) ? 0 : (gOrangeX + gOrangeOffsetX))) : gOrangeX)"},{"events":{"signal":"restart"},"update":"gOrange.x","force":true}]},{"name":"gOrangeY","init":"gOrange.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'orange') ? 7 : (!restart && !gOrangeHasWallY && !gOrangeHasGhost && !gOrangeHasPacMan  ? ((gOrangeOffsetY <0 && gOrangeY <= 0) ? grid.height-1 : (gOrangeOffsetY > 0 && gOrangeY >= grid.height - 1)? 0 : gOrangeY + gOrangeOffsetY) : gOrangeY)"},{"events":{"signal":"restart"},"force":true,"update":"gOrange.y"}]},{"name":"pacManX","init":"7","on":[{"events":"timer:500","update":"!restart && canMoveX ? ((xOffset <0 && pacManX <= 0) ? grid.width - 1 : ((xOffset > 0 && pacManX >= grid.width -1) ? 0 : (pacManX + xOffset))) : pacManX"},{"events":{"signal":"restart"},"update":"7","force":true}]},{"name":"pacManY","init":"7","on":[{"events":"timer:500","update":"! restart && canMoveY ? ((yOffset <0 && pacManY <= 0) ? grid.height-1 : (yOffset > 0 && pacManY >= grid.height - 1)? 0 : pacManY + yOffset) : pacManY"},{"events":{"signal":"restart"},"force":true,"update":"7"}]},{"name":"canMoveX","update":"!hasWallX && !hasGhost"},{"name":"canMoveY","update":"!hasWallY && !hasGhost"},{"name":"hasGhost","update":"!superPower && (((pacManX + xOffset === gRedX) && (pacManY + yOffset === gRedY)) || ((pacManX + xOffset === gBlueX) && (pacManY + yOffset === gBlueY)) || ((pacManX + xOffset === gGreenX) && (pacManY + yOffset === gGreenY)) || ((pacManX + xOffset === gOrangeX) && (pacManY + yOffset === gOrangeY)))"},{"name":"hasWallX","update":"(xOffset<=0 && indata('walls', 'key', pacManX + '-' + pacManY + '-true')) || (xOffset>=0 && indata('walls', 'key', (pacManX + 1) + '-' + pacManY + '-true')) ? true : false"},{"name":"hasWallY","update":"(yOffset<=0 && indata('walls', 'key', pacManX + '-' + pacManY + '-false')) || (yOffset>=0 && indata('walls', 'key', pacManX + '-' + (pacManY+1) + '-false')) ? true : false"},{"name":"xOffset","update":"key === 'ArrowRight' ? 1 : key === 'ArrowLeft' ? -1 : 0"},{"name":"yOffset","update":"key === 'ArrowUp' ? -1 : key === 'ArrowDown' ? 1 : 0"},{"name":"key","on":[{"events":"window:keydown","update":"event.code"}]}]`),O2n=[{name:"scaleX",type:"band",domain:{data:"columns",field:"data"},range:[{signal:"rangeWidthDelta"},{signal:"width-rangeWidthDelta"}],padding:0},{name:"scaleY",type:"band",domain:{data:"rows",field:"data"},range:[{signal:"rangeHeightDelta"},{signal:"height-rangeHeightDelta"}]}],I2n=[{type:"rect",encode:{enter:{width:{signal:"width"},height:{signal:"height"},fill:{value:"black"}}}},{type:"rect",from:{data:"walls"},encode:{enter:{x:{signal:"datum.x < grid.width ? datum.x : grid.width-1",scale:"scaleX",offset:{signal:"datum.vertical? (datum.x < grid.width ? datum.x === 0 ? 0 : -1 : blockSize - 2):0"}},y:{signal:"datum.y < grid.height ? datum.y : grid.height-1",scale:"scaleY",offset:{signal:"datum.vertical? 0: datum.y < grid.height? datum.y === 0 ? 0 : -1 : blockSize -2"}},fill:{value:"green"},width:{signal:"datum.vertical?blockSize/10:blockSize"},height:{signal:"datum.vertical?blockSize:blockSize/10"}}}},{type:"text",encode:{enter:{x:{value:7,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:3,scale:"scaleY",offset:{signal:"blockSize/2"}},fill:{value:"yellow"},align:{value:"center"},baseline:{value:"middle"},fontSize:{value:14}},update:{text:{value:"score"}}}},{type:"text",encode:{enter:{x:{value:7,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:4,scale:"scaleY"},fill:{value:"yellow"},align:{value:"center"},baseline:{value:"middle"},fontSize:{value:25}},update:{text:{signal:"score"}}}},{type:"text",encode:{enter:{x:{value:5,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:11,scale:"scaleY",offset:{signal:"blockSize/2"}},fill:{value:"lightblue"},align:{value:"left"},baseline:{value:"middle"},fontSize:{value:14}},update:{opacity:{signal:"hiScore?1:0"},text:{value:"high score"}}}},{type:"text",encode:{enter:{x:{value:8,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:11,scale:"scaleY",offset:{signal:"blockSize/2"}},fill:{value:"lightblue"},align:{value:"center"},baseline:{value:"middle"},fontSize:{value:20}},update:{opacity:{signal:"hiScore?1:0"},text:{signal:"hiScore"}}}},{type:"image",from:{data:"gums"},encode:{enter:{width:{signal:"blockSize*0.5"},height:{signal:"blockSize*0.5"},url:{value:"corn.png"},x:{field:"x",scale:"scaleX",offset:{signal:"blockSize/3"}},y:{field:"y",scale:"scaleY",offset:{signal:"blockSize/3"}},fill:{value:"yellow"}},update:{opacity:[{test:"indata('eatenGums', 'key', datum.x+'-'+datum.y)",value:0},{value:1}]}}},{type:"symbol",from:{data:"powerGums"},encode:{enter:{x:{field:"x",scale:"scaleX",offset:{signal:"blockSize/2"}},y:{field:"y",scale:"scaleY",offset:{signal:"blockSize/2"}},size:{value:200},fill:{value:"white"}},update:{opacity:[{test:"indata('eatenGums', 'key', datum.x+'-'+datum.y)",value:0},{value:1}]}}},{type:"group",name:"pacMan",encode:{update:{x:{signal:"pacManX",scale:"scaleX"},y:{signal:"pacManY",scale:"scaleY"},width:{scale:"scaleX",band:!0},height:{scale:"scaleY",band:!0}}},marks:[{type:"arc",encode:{enter:{outerRadius:{signal:"(blockSize/2)*0.8"},stroke:{value:"black"},x:{signal:"blockSize/2"},y:{signal:"blockSize/2"}},update:{fill:{signal:"superPower ? 'red': 'yellow'"},endAngle:{signal:"(pacManIsOpen? 5*PI/2-PI/6:5*PI/2-0.001)*(xOffset === 0 ? 1: xOffset)"},startAngle:{signal:"(pacManIsOpen? PI/2+PI/6:PI/2)*(xOffset === 0 ? 1: xOffset)"}}}},{type:"symbol",encode:{enter:{y:{signal:"blockSize/2",offset:{signal:"-blockSize/5"}},size:{signal:"pow(blockSize/10, 2)"},fill:{value:"black"}},update:{x:{signal:"blockSize/2",offset:{signal:"2*(xOffset === 0 ? 1: xOffset)"}}}}}]},{type:"group",from:{data:"ghosts"},name:"ghost",encode:{update:{x:{signal:"datum.color === 'red' ? gRedX : datum.color === 'steelblue'? gBlueX : datum.color === 'green'? gGreenX : gOrangeX",scale:"scaleX"},y:{signal:"datum.color === 'red' ? gRedY : datum.color === 'steelblue'? gBlueY : datum.color === 'green'? gGreenY : gOrangeY",scale:"scaleY"},width:{scale:"scaleX",band:!0},height:{scale:"scaleY",band:!0}}},marks:[{type:"image",encode:{enter:{width:{signal:"blockSize*1.1"},height:{signal:"blockSize*1.1"},url:{value:"harvester.png"},x:{signal:"blockSize/8"},y:{signal:"blockSize/9"}},update:{fill:{signal:"superPower? 'white' :parent.color"},opacity:{signal:"superPower?0.7:1"}}}}]}],j2n=JSON.parse(`[{"name":"columns","transform":[{"type":"sequence","start":0,"stop":{"signal":"grid.width"},"step":1}]},{"name":"rows","transform":[{"type":"sequence","start":0,"stop":{"signal":"grid.height"},"step":1}]},{"name":"ghosts","values":[{"x":0,"y":0,"color":"red"},{"x":14,"y":0,"color":"steelblue"},{"x":0,"y":14,"color":"green"},{"x":14,"y":14,"color":"orange"}]},{"name":"eatenGhosts","on":[{"trigger":"testEatenGhost","insert":"testEatenGhost"},{"trigger":"!superPower","remove":"!superPower"}]},{"name":"gRedDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gBlueDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gGreenDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gOrangeDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gums","values":[{"x":0,"y":1},{"x":0,"y":2},{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":7},{"x":0,"y":10},{"x":0,"y":11},{"x":0,"y":12},{"x":0,"y":14},{"x":1,"y":0},{"x":1,"y":2},{"x":1,"y":4},{"x":1,"y":7},{"x":1,"y":10},{"x":1,"y":12},{"x":1,"y":13},{"x":1,"y":14},{"x":2,"y":0},{"x":2,"y":2},{"x":2,"y":3},{"x":2,"y":4},{"x":2,"y":7},{"x":2,"y":10},{"x":2,"y":13},{"x":2,"y":14},{"x":3,"y":0},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":8},{"x":3,"y":9},{"x":3,"y":10},{"x":3,"y":12},{"x":3,"y":13},{"x":3,"y":14},{"x":4,"y":0},{"x":4,"y":2},{"x":4,"y":6},{"x":4,"y":10},{"x":4,"y":11},{"x":4,"y":12},{"x":4,"y":14},{"x":5,"y":0},{"x":5,"y":2},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5},{"x":5,"y":6},{"x":5,"y":7},{"x":5,"y":8},{"x":5,"y":10},{"x":5,"y":12},{"x":5,"y":14},{"x":6,"y":0},{"x":6,"y":2},{"x":6,"y":5},{"x":6,"y":6},{"x":6,"y":7},{"x":6,"y":8},{"x":6,"y":10},{"x":6,"y":12},{"x":6,"y":13},{"x":6,"y":14},{"x":7,"y":0},{"x":7,"y":1},{"x":7,"y":2},{"x":7,"y":6},{"x":7,"y":8},{"x":7,"y":9},{"x":7,"y":10},{"x":7,"y":14},{"x":14,"y":0},{"x":14,"y":1},{"x":14,"y":2},{"x":14,"y":3},{"x":14,"y":4},{"x":14,"y":7},{"x":14,"y":10},{"x":14,"y":11},{"x":14,"y":12},{"x":14,"y":14},{"x":13,"y":0},{"x":13,"y":2},{"x":13,"y":4},{"x":13,"y":7},{"x":13,"y":10},{"x":13,"y":12},{"x":13,"y":13},{"x":13,"y":14},{"x":12,"y":0},{"x":12,"y":2},{"x":12,"y":3},{"x":12,"y":4},{"x":12,"y":7},{"x":12,"y":10},{"x":12,"y":13},{"x":12,"y":14},{"x":11,"y":0},{"x":11,"y":1},{"x":11,"y":2},{"x":11,"y":4},{"x":11,"y":5},{"x":11,"y":6},{"x":11,"y":7},{"x":11,"y":8},{"x":11,"y":9},{"x":11,"y":10},{"x":11,"y":12},{"x":11,"y":13},{"x":11,"y":14},{"x":10,"y":0},{"x":10,"y":2},{"x":10,"y":6},{"x":10,"y":10},{"x":10,"y":11},{"x":10,"y":12},{"x":10,"y":14},{"x":9,"y":0},{"x":9,"y":2},{"x":9,"y":3},{"x":9,"y":4},{"x":9,"y":5},{"x":9,"y":6},{"x":9,"y":7},{"x":9,"y":8},{"x":9,"y":10},{"x":9,"y":12},{"x":9,"y":14},{"x":8,"y":0},{"x":8,"y":2},{"x":8,"y":5},{"x":8,"y":6},{"x":8,"y":7},{"x":8,"y":8},{"x":8,"y":10},{"x":8,"y":12},{"x":8,"y":13},{"x":8,"y":14}],"transform":[{"type":"formula","expr":"datum.x+'-'+datum.y","as":"key"}]},{"name":"powerGums","values":[{"x":0,"y":0},{"x":14,"y":0},{"x":0,"y":14},{"x":14,"y":14}],"transform":[{"type":"formula","expr":"datum.x+'-'+datum.y","as":"key"}]},{"name":"eatenGums","on":[{"trigger":"testEaten","insert":"testEaten"},{"trigger":"testPowerEaten","insert":"testPowerEaten"},{"trigger":"restart","remove":"restart"}]},{"name":"walls","values":[{"x":0,"y":0,"vertical":false},{"x":1,"y":0,"vertical":false},{"x":2,"y":0,"vertical":false},{"x":3,"y":0,"vertical":false},{"x":4,"y":0,"vertical":false},{"x":5,"y":0,"vertical":false},{"x":6,"y":0,"vertical":false},{"x":7,"y":0,"vertical":false},{"x":8,"y":0,"vertical":false},{"x":9,"y":0,"vertical":false},{"x":10,"y":0,"vertical":false},{"x":11,"y":0,"vertical":false},{"x":12,"y":0,"vertical":false},{"x":13,"y":0,"vertical":false},{"x":14,"y":0,"vertical":false},{"x":0,"y":15,"vertical":false},{"x":1,"y":15,"vertical":false},{"x":2,"y":15,"vertical":false},{"x":3,"y":15,"vertical":false},{"x":4,"y":15,"vertical":false},{"x":5,"y":15,"vertical":false},{"x":6,"y":15,"vertical":false},{"x":7,"y":15,"vertical":false},{"x":8,"y":15,"vertical":false},{"x":9,"y":15,"vertical":false},{"x":10,"y":15,"vertical":false},{"x":11,"y":15,"vertical":false},{"x":12,"y":15,"vertical":false},{"x":13,"y":15,"vertical":false},{"x":14,"y":15,"vertical":false},{"x":0,"y":0,"vertical":true},{"x":0,"y":1,"vertical":true},{"x":0,"y":2,"vertical":true},{"x":0,"y":3,"vertical":true},{"x":0,"y":4,"vertical":true},{"x":0,"y":5,"vertical":false},{"x":1,"y":5,"vertical":false},{"x":2,"y":5,"vertical":false},{"x":0,"y":7,"vertical":false},{"x":1,"y":7,"vertical":false},{"x":2,"y":7,"vertical":false},{"x":0,"y":8,"vertical":false},{"x":1,"y":8,"vertical":false},{"x":0,"y":10,"vertical":false},{"x":1,"y":10,"vertical":false},{"x":2,"y":10,"vertical":false},{"x":2,"y":8,"vertical":false},{"x":3,"y":5,"vertical":true},{"x":3,"y":6,"vertical":true},{"x":3,"y":8,"vertical":true},{"x":3,"y":9,"vertical":true},{"x":0,"y":10,"vertical":true},{"x":0,"y":11,"vertical":true},{"x":0,"y":12,"vertical":true},{"x":0,"y":13,"vertical":true},{"x":0,"y":14,"vertical":true},{"x":15,"y":0,"vertical":true},{"x":15,"y":1,"vertical":true},{"x":15,"y":2,"vertical":true},{"x":15,"y":3,"vertical":true},{"x":15,"y":4,"vertical":true},{"x":12,"y":5,"vertical":true},{"x":14,"y":5,"vertical":false},{"x":13,"y":5,"vertical":false},{"x":14,"y":7,"vertical":false},{"x":13,"y":7,"vertical":false},{"x":12,"y":7,"vertical":false},{"x":12,"y":5,"vertical":false},{"x":12,"y":6,"vertical":true},{"x":14,"y":8,"vertical":false},{"x":13,"y":8,"vertical":false},{"x":14,"y":10,"vertical":false},{"x":13,"y":10,"vertical":false},{"x":12,"y":10,"vertical":false},{"x":12,"y":8,"vertical":false},{"x":12,"y":8,"vertical":true},{"x":12,"y":9,"vertical":true},{"x":15,"y":10,"vertical":true},{"x":15,"y":11,"vertical":true},{"x":15,"y":12,"vertical":true},{"x":15,"y":13,"vertical":true},{"x":15,"y":14,"vertical":true},{"x":6,"y":5,"vertical":false},{"x":7,"y":5,"vertical":true},{"x":7,"y":6,"vertical":false},{"x":8,"y":5,"vertical":true},{"x":8,"y":5,"vertical":false},{"x":7,"y":5,"vertical":true},{"x":7,"y":3,"vertical":false},{"x":8,"y":3,"vertical":false},{"x":6,"y":3,"vertical":false},{"x":6,"y":4,"vertical":true},{"x":9,"y":3,"vertical":true},{"x":9,"y":4,"vertical":true},{"x":6,"y":3,"vertical":true},{"x":3,"y":3,"vertical":false},{"x":4,"y":3,"vertical":false},{"x":3,"y":3,"vertical":true},{"x":5,"y":3,"vertical":true},{"x":3,"y":4,"vertical":false},{"x":4,"y":4,"vertical":true},{"x":5,"y":4,"vertical":true},{"x":4,"y":5,"vertical":true},{"x":5,"y":5,"vertical":true},{"x":4,"y":6,"vertical":false},{"x":10,"y":3,"vertical":false},{"x":11,"y":3,"vertical":false},{"x":10,"y":3,"vertical":true},{"x":12,"y":3,"vertical":true},{"x":11,"y":4,"vertical":false},{"x":10,"y":4,"vertical":true},{"x":11,"y":4,"vertical":true},{"x":10,"y":5,"vertical":true},{"x":11,"y":5,"vertical":true},{"x":10,"y":6,"vertical":false},{"x":1,"y":1,"vertical":true},{"x":1,"y":1,"vertical":false},{"x":2,"y":1,"vertical":false},{"x":1,"y":2,"vertical":false},{"x":2,"y":2,"vertical":false},{"x":3,"y":1,"vertical":true},{"x":4,"y":1,"vertical":true},{"x":4,"y":1,"vertical":false},{"x":4,"y":2,"vertical":false},{"x":5,"y":1,"vertical":false},{"x":6,"y":1,"vertical":false},{"x":5,"y":2,"vertical":false},{"x":6,"y":2,"vertical":false},{"x":7,"y":1,"vertical":true},{"x":8,"y":1,"vertical":true},{"x":8,"y":1,"vertical":false},{"x":9,"y":1,"vertical":false},{"x":8,"y":2,"vertical":false},{"x":9,"y":2,"vertical":false},{"x":11,"y":1,"vertical":true},{"x":10,"y":1,"vertical":false},{"x":10,"y":2,"vertical":false},{"x":12,"y":1,"vertical":true},{"x":12,"y":1,"vertical":false},{"x":13,"y":1,"vertical":false},{"x":12,"y":2,"vertical":false},{"x":13,"y":2,"vertical":false},{"x":14,"y":1,"vertical":true},{"x":1,"y":3,"vertical":true},{"x":2,"y":3,"vertical":true},{"x":1,"y":3,"vertical":false},{"x":13,"y":4,"vertical":false},{"x":13,"y":3,"vertical":true},{"x":14,"y":3,"vertical":true},{"x":13,"y":3,"vertical":false},{"x":1,"y":4,"vertical":false},{"x":6,"y":7,"vertical":true},{"x":9,"y":7,"vertical":true},{"x":7,"y":8,"vertical":false},{"x":6,"y":8,"vertical":false},{"x":8,"y":8,"vertical":false},{"x":4,"y":7,"vertical":false},{"x":4,"y":10,"vertical":false},{"x":5,"y":10,"vertical":false},{"x":6,"y":10,"vertical":false},{"x":4,"y":7,"vertical":true},{"x":4,"y":8,"vertical":true},{"x":4,"y":9,"vertical":true},{"x":5,"y":7,"vertical":true},{"x":5,"y":8,"vertical":true},{"x":7,"y":9,"vertical":true},{"x":6,"y":10,"vertical":false},{"x":6,"y":9,"vertical":false},{"x":5,"y":9,"vertical":false},{"x":10,"y":7,"vertical":false},{"x":10,"y":10,"vertical":false},{"x":9,"y":10,"vertical":false},{"x":8,"y":10,"vertical":false},{"x":10,"y":7,"vertical":true},{"x":10,"y":8,"vertical":true},{"x":11,"y":9,"vertical":true},{"x":11,"y":7,"vertical":true},{"x":11,"y":8,"vertical":true},{"x":8,"y":9,"vertical":true},{"x":6,"y":10,"vertical":false},{"x":9,"y":9,"vertical":false},{"x":8,"y":9,"vertical":false},{"x":5,"y":11,"vertical":false},{"x":6,"y":11,"vertical":false},{"x":7,"y":11,"vertical":false},{"x":8,"y":11,"vertical":false},{"x":9,"y":11,"vertical":false},{"x":10,"y":11,"vertical":true},{"x":5,"y":11,"vertical":true},{"x":5,"y":12,"vertical":false},{"x":6,"y":12,"vertical":false},{"x":8,"y":12,"vertical":false},{"x":9,"y":12,"vertical":false},{"x":7,"y":12,"vertical":true},{"x":8,"y":12,"vertical":true},{"x":7,"y":13,"vertical":true},{"x":8,"y":13,"vertical":true},{"x":7,"y":14,"vertical":false},{"x":1,"y":13,"vertical":true},{"x":0,"y":13,"vertical":false},{"x":0,"y":14,"vertical":false},{"x":2,"y":11,"vertical":false},{"x":3,"y":11,"vertical":false},{"x":1,"y":12,"vertical":false},{"x":1,"y":11,"vertical":false},{"x":2,"y":13,"vertical":false},{"x":3,"y":12,"vertical":false},{"x":4,"y":11,"vertical":true},{"x":2,"y":12,"vertical":true},{"x":1,"y":11,"vertical":true},{"x":3,"y":12,"vertical":true},{"x":4,"y":13,"vertical":false},{"x":5,"y":13,"vertical":false},{"x":4,"y":14,"vertical":false},{"x":5,"y":14,"vertical":false},{"x":4,"y":13,"vertical":true},{"x":6,"y":13,"vertical":true},{"x":9,"y":13,"vertical":false},{"x":10,"y":13,"vertical":false},{"x":9,"y":14,"vertical":false},{"x":10,"y":14,"vertical":false},{"x":9,"y":13,"vertical":true},{"x":11,"y":13,"vertical":true},{"x":14,"y":13,"vertical":true},{"x":14,"y":13,"vertical":false},{"x":14,"y":14,"vertical":false},{"x":11,"y":11,"vertical":false},{"x":13,"y":11,"vertical":false},{"x":11,"y":12,"vertical":false},{"x":12,"y":11,"vertical":false},{"x":12,"y":13,"vertical":false},{"x":13,"y":12,"vertical":false},{"x":14,"y":11,"vertical":true},{"x":12,"y":12,"vertical":true},{"x":11,"y":11,"vertical":true},{"x":13,"y":12,"vertical":true}],"transform":[{"type":"formula","expr":"datum.x+'-'+datum.y+'-'+datum.vertical","as":"key"}]}]`),$2n={$schema:R2n,description:M2n,width:A2n,height:P2n,signals:D2n,scales:O2n,marks:I2n,data:j2n},F2n=mo("/eastereggs/pacman")({component:L2n});function L2n(){return h.jsx(iM,{sx:{marginTop:10},children:h.jsx(jne,{spec:$2n,options:{actions:!1}})})}const N2n=mo("/admin/user-management")({component:z2n});function z2n(){return h.jsx(ef,{children:h.jsx(c_n,{})})}const B2n=sie({user:Hw().optional(),password:Hw().optional()}),y9e=mo("/admin/login")({component:V2n,validateSearch:B2n});function U2n(e,t){const n=xMt();return R.useEffect(()=>{},[e,t]),n}function V2n({isWidget:e}){const{user:t,password:n}=y9e.useSearch(),[r,i]=R.useState(""),[o,s]=R.useState(""),[a,l]=R.useState(""),c=U2n(t,n),u=e===!0?{flexDirection:"column",padding:"20px",margin:"20px",height:"100%"}:{padding:5,width:320,ml:"auto",mr:"auto"},d=async()=>{if(r===""||o===""){l("You have to fill in the values!");return}try{await c.mutateAsync({body:{user:r,password:o}}),Vo.info("Login success"),l(""),window.location.href=Nr.Home}catch(f){Vo.error("Login error",f);const p=f;p?.response?.data?.type?l(p.response.data.type):p?.message?l(p.message):l("An error occurred during login")}};return h.jsx(iM,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:h.jsx(Nu,{additionalSx:u,children:h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx("h2",{children:"Login"}),h.jsx(zn,{label:"username",value:r,onChange:f=>{i(f.target.value)}}),h.jsx(zn,{label:"password",type:"password",value:o,onChange:f=>{s(f.target.value)},onKeyUp:f=>{f.key==="Enter"&&d()}}),h.jsx(Be,{variant:"contained",onClick:d,disabled:c.isPending,children:c.isPending?"Logging in...":"Login"}),a&&h.jsx("div",{className:"alert alert-light",role:"alert",children:a})]})})})}const gie=({error:e,refetch:t,pipeId:n,usernameFromPath:r})=>{const i=Kr(),o=e,s=o?.response?.data?.type||"An unknown error occurred while loading the block.",a=o?.response?.data?.location,l=()=>{if(a&&a.id){const c=ba(r,n);i({to:`/pipe/${c}/block/${a.id}`})}};return h.jsxs(Y,{sx:{p:2,color:"error.main"},children:[h.jsx(ae,{variant:"h6",children:"Error Loading Block"}),h.jsx(ae,{variant:"body1",children:s}),a&&h.jsx(Be,{variant:"contained",onClick:l,sx:{mt:2},children:"Open Block"}),h.jsx(Be,{variant:"contained",color:"primary",onClick:()=>t(),sx:{mt:2,ml:2},children:"Retry"})]})};function H2n({children:e,minHeight:t="0"}){const n=R.useRef(null),[r,i]=R.useState({width:0,height:0}),o=R.useRef({width:0,height:0});return R.useEffect(()=>{const s=n.current;if(!s)return;const a=()=>{if(s){const u=s.clientWidth,d=s.clientHeight;if(u>0&&d>0){const f={width:u,height:d};o.current=f,i(f)}else o.current.width>0&&o.current.height>0&&i(o.current)}},l=OA(()=>{requestAnimationFrame(()=>{a()})},150);a();const c=new ResizeObserver(u=>{for(const d of u)d.target===s&&l()});return c.observe(s),()=>{c.disconnect()}},[]),h.jsx(Y,{id:"measuring-container-outer",sx:{width:"100%",minHeight:t,display:"flex",flexDirection:"column"},children:h.jsx(Y,{id:"measuring-container",ref:n,sx:{width:"100%",height:"100%",flex:1,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden",minHeight:0},children:r.width>0&&r.height>0?e(r):null})})}const W2n=()=>{const e=i=>i.getState({signals:o=>o?.includes("brush")??!1}).signals,t=(i,o)=>{for(const s of o){const a=Object.keys(s)[0],l=i.filter(c=>c.length>0&&Object.keys(c[0]).includes(a));if(l.length===1)return l[0]}return i.reduce((s,a)=>a.length>s.length?a:s,[])},n=i=>{if(typeof i=="string"&&i.split("T").length===2){const s=i.split("T")[0].split("-").length===3,a=i.split("T")[1].split(":").length===3;if(s&&a){const l=new Date(i);if(!isNaN(l.getTime()))return l.getTime()}}return i};return{getCurrentBrushSelectionsFromView:e,filterViewDataWithSelections:(i,o,s=["data"])=>{const a=s.map(u=>i.data(u));return a.length===0?[]:t(a,o).filter(u=>{for(const d of o)for(const[f,p]of Object.entries(d))if(p.length===2&&typeof p[0]=="number"){const[g,y]=p,v=n(u[f]);if(isNaN(+v)||v<g||v>y)return!1}else if(!p.includes(u[f]))return!1;return!0})}}},Z3={DataTableShapeBadge:"DataTableShapeBadge",PlotSwapWidgetHeader:"PlotSwapWidgetHeader"};function mwe({id:e,name:t,className:n,style:r}){return h.jsx("div",{id:e,"data-portalname":t,className:n,style:r})}function v9e({to:e,name:t,children:n}){const r=document.getElementById(e);return r?zd.createPortal(n,r):null}function q2n({pipeData:e}){const t=xt(),{isDarkMode:n}=Li(),[r,i,o]=R.useMemo(()=>{const c=e.length;if(c===0)return[0,0,0];const u=e[0],d=u.meta?.length??u.df.length;if(u.df.length===0)return[c,0,0];const f=Object.keys(u.df[0]).filter(p=>!p.startsWith("Unnamed:")).length;return[c,d,f]},[e]),s=14,a=t.palette.text.secondary,l={display:"inline-flex",alignItems:"center",gap:.5,px:1,py:.25,borderRadius:1,backgroundColor:n?t.palette.grey[800]:t.palette.action.hover,color:t.palette.text.secondary,typography:"caption","&:not(:last-of-type)":{marginRight:.5}};return h.jsxs(Y,{component:"span",sx:{display:"inline-flex",alignItems:"center",flexWrap:"wrap",gap:0,background:n?t.palette.grey[800]:t.palette.grey[100],borderRadius:"12px"},"aria-label":`${r} tables, ${o} columns, ${i} rows`,children:[h.jsx(Dt,{title:`${r} tables`,placement:"top",children:h.jsxs(Y,{component:"span",sx:l,children:[h.jsx(OCn,{size:s,color:a,strokeWidth:2}),h.jsx("span",{children:r})]})}),h.jsx(Dt,{title:`${o} columns`,placement:"top",children:h.jsxs(Y,{component:"span",sx:l,children:[h.jsx(r9e,{size:s,color:a,strokeWidth:2}),h.jsx("span",{children:o})]})}),h.jsx(Dt,{title:`${i} rows`,placement:"top",children:h.jsxs(Y,{component:"span",sx:l,children:[h.jsx(u9e,{size:s,color:a,strokeWidth:2}),h.jsx("span",{children:i})]})})]})}function G2n({columnName:e,dtype:t}){const n=t==="unknown"?"Unknown":t,r=QBe[t];return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",gap:1,flexWrap:"nowrap",minWidth:0},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1,flexWrap:"nowrap",minWidth:0},children:[r&&h.jsx(Dt,{title:`Data type: ${n}`,children:h.jsx("span",{style:{flexShrink:0,display:"inline-flex"},children:h.jsx(r,{sx:{fontSize:"0.75rem",color:"text.secondary"},"aria-hidden":!0})})}),h.jsx(ae,{variant:"body2",fontWeight:600,sx:{flexShrink:0},children:e})]})})}const Y2n="en-US",X2n=e=>e.map(t=>(Object.keys(t).forEach(n=>{const r=t[n];typeof r=="number"&&(t[n]=r.toLocaleString(Y2n,{minimumFractionDigits:0,maximumFractionDigits:4}))}),t)),K2n=e=>!e||e.length===0?"transparent":e.length===1?e[0]:`linear-gradient(to right, ${e.map((n,r)=>{const i=r/(e.length-1)*100;return`${n} ${i}%`}).join(", ")})`;function Z2n({isCorrelation:e,gradientStops:t=[]}){return h.jsxs(gt,{direction:"row",alignItems:"center",sx:{mx:1,pt:1.2},children:[h.jsx(ae,{variant:"caption",sx:{mr:1},children:e?"-1":"Min"}),h.jsx(Y,{sx:{width:100,height:8,borderRadius:5,background:K2n(t)}}),h.jsx(ae,{variant:"caption",sx:{ml:1},children:e?"1":"Max"})]})}const Q2n={redyellowblue:P$t,redyellowgreen:YOe,spectral:I$t,purplegreen:M$t},J2n=({data:e,columns:t,pipeId:n,nodeId:r,username:i,block:o,config:s,reloadData:a=void 0,rowCount:l=void 0,isLoading:c=!1,minMax:u,dtypeMapping:d,columnVisibility:f,setColumnVisibility:p,hiddenRows:g,onToggleRow:y,isFilteredList:v=void 0})=>{const[x,w]=R.useState(!1),S=xt(),C=pn(),{user:k}=ag(),{data:T}=V_(k?.username||""),{fontSize:E}=lZ(),I=8*ZX(E),[j,P]=R.useState([]),[$,D]=R.useState(""),[F,N]=R.useState([]),[V,H]=R.useState(null),[U,G]=R.useState({pageIndex:0,pageSize:15}),{isDarkMode:z}=Li(),[W,X]=R.useState(!1),Q=o?.identifier===nn.show_table,ne=s?.elements?.find(Re=>Re.name==="Color Coding")?.selected_values?.[0];let oe=ne!=null&&ne!=="";const ce=ne==="Correlations",re=o?.identifier===nn.scatter_plot,ge=T?.theme_continuous?.toLowerCase()||"redyellowblue",he=R.useMemo(()=>Q2n[ge]||YOe,[ge]),ie=R.useMemo(()=>[he(0),he(.5),he(1)],[he]),[xe,q]=R.useState(null),fe=(Re,Ze)=>{H(Re.currentTarget),q(Ze.id)},se=Re=>re&&v&&Re.index<v.length&&v[Re.index]!==void 0?v[Re.index]===!0:!1,J=R.useCallback(({row:Re})=>{const Ze=se(Re),Rt=!!V&&xe===Re.id;return h.jsxs(h.Fragment,{children:[h.jsx(Pt,{size:"small",onClick:Ct=>fe(Ct,Re),children:Ze?h.jsx(tH,{}):h.jsx($ke,{})}),h.jsx(Uo,{anchorEl:V,open:Rt,onClose:Z,children:h.jsx($t,{onClick:()=>ue(Re),children:Ze?"Show data point":"Filter data point"})})]})},[V,xe,v]),Z=()=>{H(null),q(null)},ue=Re=>{const Rt=!se(Re);y(Re.original,Rt),Z(),C.invalidateQueries({queryKey:["runPipe",n,r]})},[de,be]=R.useState(()=>t.map(Re=>({accessorKey:Re,header:Re,enableHiding:Q}))),[le,Se]=R.useState(void 0),[ye,ve]=R.useState(void 0),_e=R.useRef(null);R.useEffect(()=>{if(Q&&o){const Re=o.data?.value;if(Re){if(Re.updated_order){const Ze=Re.updated_order;Array.isArray(Ze)&&Ze.length>0&&ve(Ze)}Re.hide_columns&&(_e.current=Re.hide_columns,p(Re.hide_columns))}w(!0)}},[o]),R.useEffect(()=>{if(ye&&t.length>0&&x){const Ze=ye.filter(De=>t.includes(De)),Rt=t.filter(De=>!Ze.includes(De)),Ct=Ze.concat(Rt);if(Se(Ct),ve(void 0),Rt.length>0){const De={...f};Rt.forEach(bt=>{bt in De||(De[bt]=!0)}),p(De)}}},[ye,t,x]),R.useEffect(()=>{const Re=t.map(Ze=>{const Rt={accessorKey:Ze,header:Ze,Header:()=>h.jsx(G2n,{columnName:Ze,dtype:d?.[Ze]??"unknown"}),enableHiding:Q};if(u?.[Ze]){Rt.filterVariant="range-slider";const Ct=u[Ze].max,De=u[Ze].min,bt=Math.max(.01,(Ct-De)/100);Rt.muiFilterSliderProps={max:Ct,min:De,step:bt}}else Rt.filterVariant="autocomplete";if(oe){let Ct=null;if(ne==="Whole Table"&&u){let De=0,bt=0;t.forEach(Gt=>{u&&u[Gt]&&(De=Math.min(De,u[Gt].min),bt=Math.max(bt,u[Gt].max))}),Ct={min:De,max:bt}}else u?.[Ze]&&(Ct=u[Ze]);if(Ct&&u?.[Ze]){const{min:De,max:bt}=Ct;ne==="Correlations"&&!(De>=-1&&bt<=1)&&(oe=!1),Rt.muiTableBodyCellProps=({cell:Gt})=>{const Cn=Gt.getValue(),An=parseFloat(String(Cn).replace(/,/g,""));let Lt=(An-De)/(bt-De);Lt=Math.min(Math.max(Lt,0),1),isNaN(Lt)&&(Lt=0);const qt=oe?Ae(An,De,bt,ne??"",Lt):S.palette.background.tableCell,ur=ce?An<=-.8&&An>=-1||An>=.8&&An<=1?"white":"black":oe?Lt<=.1||Lt>=.9?"white":"black":z?"white":"black";return{style:{backgroundColor:qt,color:ur},sx:{backgroundColor:`${qt} !important`,color:`${ur} !important`,"&::before":{backgroundColor:`${qt} !important`,boxShadow:"none !important"},"& *":{color:`${ur} !important`}}}}}}return Rt});be(Re)},[t,e,u,d,s,o,ge,z,he,S.palette.background.tableCell]);const Ae=(Re,Ze,Rt,Ct,De)=>{if(Re==null||isNaN(Re))return S.palette.background.tableCell;if(Ct==="Correlations")if(Ze>=-1&&Rt<=1){const Cn=Math.min(Math.max((Re- -1)/2,0),1);return he(Cn)}else return S.palette.background.tableCell;else{const bt=Math.min(Math.max(De,0),1);return he(bt)}};R.useEffect(()=>{a!==void 0&&a(j,$,U.pageIndex,U.pageSize,F,W)},[j,$,U.pageIndex,U.pageSize,F,W]);const Te=KMt();R.useEffect(()=>{if(Object.keys(f).length===0||_e.current&&JSON.stringify(f)===JSON.stringify(_e.current))return;const Re=Object.fromEntries(Object.entries(f).filter(([Ze])=>t.includes(Ze)));i&&Te.mutate({pipeId:n,nodeId:r,username:i,order:le||t,hiddenColumns:Re})},[f]);const Pe=R.useCallback(({column:Re})=>Re.columnDef.header,[]),Le=Re=>{if(!Q||!x)return;const Ct=(typeof Re=="function"?Re($e):Re).filter(De=>De!=="mrt-row-spacer").filter(De=>t.includes(De));Se(Ct),i&&Te.mutate({pipeId:n,nodeId:r,username:i,order:Ct,hiddenColumns:f})},$e=R.useMemo(()=>{const Re=le||t;return re?["mrt-row-actions",...Re]:Re},[le,t,re]),at=R.useMemo(()=>!re||!g?!1:g.size>0,[re,g]);return R.useEffect(()=>{re&&!at&&X(!1)},[re,at]),h.jsx(Y,{sx:{"& .MuiTableCell-root":{fontSize:`${I}pt`,lineHeight:1},"& .MuiTableHead-root .MuiTableCell-root":{fontSize:`${I*.95}pt`,fontWeight:600}},children:h.jsx(AA,{columns:de.map(Re=>({...Re,Header:Re.Header??Pe,accessorFn:Ze=>Ze[Re.accessorKey]})),data:X2n(e),columnOrder:$e,enableStickyHeader:!0,enableDensityToggle:!1,enableTopToolbar:!0,enableClickToCopy:!1,enableColumnOrdering:Q,enableHiding:Q,enableColumnResizing:!0,enableFullScreenToggle:!0,enableColumnPinning:!0,columnFilterDisplayMode:"popover",renderTopToolbarCustomActions:()=>oe?h.jsx(Z2n,{isCorrelation:ce,gradientStops:ie}):null,muiTableContainerProps:{sx:{overscrollBehaviorX:"contain"}},manualFiltering:!0,manualPagination:!0,manualSorting:!0,onColumnVisibilityChange:p,onColumnOrderChange:Le,onColumnFiltersChange:P,onGlobalFilterChange:D,onPaginationChange:G,onSortingChange:N,rowCount:l,selectAllMode:"all",displayColumnDefOptions:{"mrt-row-select":{size:20},"mrt-row-actions":{size:20,header:re&&at?h.jsx(Pt,{size:"small",onClick:()=>X(!W),title:W?"Reset":"Show only filtered rows",sx:{padding:"4px","& .MuiSvgIcon-root":{fontSize:"20px"}},children:W?h.jsx(tH,{}):h.jsx(TX,{})}):""}},muiTableBodyRowProps:({row:Re})=>re?{sx:{opacity:se(Re)?.5:1}}:{},enableRowActions:!0,renderRowActions:re?J:void 0,renderEmptyRowsFallback:Re=>h.jsxs(gt,{direction:"column",sx:{justifyContent:"center",alignItems:"center",height:200},spacing:2,children:[h.jsx(ae,{variant:"body1",children:"No Records matching the filter"}),h.jsx(Be,{variant:"contained",startIcon:h.jsx(k_,{}),onClick:()=>{Re.table&&Re.table.resetColumnFilters()},children:"Clear Filter"})]}),initialState:{density:"compact",columnOrder:$e,columnVisibility:f,sorting:le&&le.length>0?[{id:le[0],desc:!1}]:[]},muiTablePaginationProps:{labelRowsPerPage:""},state:{columnOrder:$e,columnVisibility:f,columnFilters:j,globalFilter:$,pagination:U,showProgressBars:c,sorting:F},mrtTheme:PA(S)})})},Q0=Vt.memo(({pipeId:e,nodeId:t,username:n,block:r,reloadPipeCounter:i,preview:o=!1,config:s=void 0,hiddenRows:a,onToggleRow:l=()=>{}})=>{const[c,u]=R.useState({}),[d,f]=R.useState({pagination:{pageIndex:0,pageSize:10},filters:{columnFilters:[],globalFilter:""},sorting:[],showFilteredRows:!1}),{data:p=[],isLoading:g,refetch:y}=dAe({pipeId:e,nodeId:t,username:n??"",preview:o,pagination:d.pagination,filters:d.filters,sorting:d.sorting,showFilteredRows:d.showFilteredRows}),[v,x]=R.useState([]);R.useEffect(()=>{p.length>0&&x(p)},[p]),R.useEffect(()=>{i&&y()},[i,y]);const w=R.useCallback((C,k,T,E,A,O)=>{f({pagination:{pageIndex:T,pageSize:E},filters:{columnFilters:C,globalFilter:k},sorting:A,showFilteredRows:O??!1})},[]),S=g&&p.length===0&&v.length>0?v:p;return h.jsx(Y,{"data-testid":"data-table",children:h.jsxs(gt,{direction:"column",sx:{overflow:"auto",overscrollBehaviorX:"contain"},children:[h.jsx(gt,{direction:"row",spacing:2,children:S.map((C,k)=>h.jsxs(Y,{sx:{width:"100%"},children:[h.jsx(ae,{variant:"h6",align:"center",children:C.meta.breakout}),h.jsx(J2n,{data:C.df,columns:C.meta?.columns??[],pipeId:e,nodeId:t,username:n,block:r,config:s,reloadData:w,rowCount:C.meta.length,isLoading:g,minMax:C.meta.min_max,dtypeMapping:C.meta?.dtype_mapping?.mapping,columnVisibility:c,setColumnVisibility:u,hiddenRows:a,onToggleRow:l,isFilteredList:C.meta?.is_filtered})]},k))}),h.jsx(v9e,{name:Z3.DataTableShapeBadge,to:`block-${e}-${t}-show-table-shape-badge`,children:h.jsx(q2n,{pipeData:p})})]})})}),ekn=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,onViewLoaded:i=()=>{},patchVegaSpec:o=()=>{},disableInteractivity:s=!1,width:a,height:l})=>{const c=die(),u=a??c.width,d=l??c.height,f=a??u,p=l??d,g=p*(4/3),y=f*(3/4);let v,x;g<=f?(v=Math.round(g),x=Math.round(p)):(v=Math.round(f),x=Math.round(y));const{data:w,isLoading:S,isRefetching:C,isError:k,refetch:T,error:E}=VMt({pipeId:e??0,blockId:t??0,username:n??"",width:Math.round(v*.85),height:Math.round(x*.85),enabled:e!==void 0&&t!==void 0&&n!==void 0}),A=CS(S,200),O=CS(C,200);if(R.useEffect(()=>{T()},[r]),S||!w)return h.jsx(Sa,{});if(A)return h.jsx(Sa,{});const{spec:I,warning_message:j}=w;return k?E.message:h.jsx(DA,{loading:O,variant:"spinner-only",blur:!0,children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",overflowX:"auto",overscrollBehaviorX:"contain"},children:[j&&h.jsx($ne,{message:j}),h.jsx(Fne,{spec:I,patchVegaSpec:o,onViewLoaded:i,disableInteractivity:s})]})})},tkn=({pipeId:e,nodeId:t,reloadCounter:n,onSelectionChanged:r=()=>{},usernameFromPath:i,showTable:o=!0,isDashboardItem:s=!1,isFullScreen:a=!1,block:l})=>{const[c,u]=R.useState(new Set),d=W2n(),[f,p]=R.useState(0),[g,y]=R.useState([]),[v,x]=R.useState([]),w=UMt(),S=oZ(),C=R.useRef(void 0),k=R.useRef(!1),T=Wd(i),E=R.useCallback(G=>{C.current||(C.current=setTimeout(()=>{G(),C.current=void 0},1e3))},[]);R.useEffect(()=>{const G=l?.data?.filter;Array.isArray(G)?u(new Set(G)):u(new Set)},[l,n]);const A=R.useCallback(G=>{G.signals&&Array.isArray(G.signals)&&(G.signals.push({name:"click",on:[{events:"click",update:"event"}]}),G.signals.push({name:"dblclick",on:[{events:"dblclick",update:"event"}]}))},[]),O=R.useCallback(G=>Object.entries(G).reduce((z,[W,X])=>{if(W==="N"||W.includes("_jittered"))return z;if(typeof X!="string"){const Q=parseFloat(String(X));Number.isNaN(Q)||(z[W]=[Q,Q])}return z},{}),[]),I=R.useCallback(G=>{const z=d.getCurrentBrushSelectionsFromView(G);return Object.entries(z).filter(([X,Q])=>Q&&!Array.isArray(Q)&&Object.keys(Q).length>0).map(([X,Q])=>Q)},[d]),j=R.useCallback(G=>{if(k.current){k.current=!1;return}const z=I(G);x(z),JSON.stringify(z)!==JSON.stringify(g)&&H(z)},[I,g]),P=R.useCallback(G=>{const z=d.getCurrentBrushSelectionsFromView(G);for(const W of Object.keys(z))G.addSignalListener(W,()=>E(()=>j(G)))},[d,E,j]),$=R.useCallback((G,z)=>{if(I(G).length>0)return;const W=z?.item;if(W?.mark&&W?.mark?.role&&W?.mark?.role.includes("legend"))return;const X=W?.datum;if(!X)return;const Q=O(X);if(Object.keys(Q).length===0)return;const ee=[Q];x(ee),H(ee),k.current=!0},[I,O]),D=R.useCallback(()=>{H([])},[]),F=R.useCallback(G=>{try{G.addSignalListener("click",(z,W)=>$(G,W)),G.addSignalListener("dblclick",(z,W)=>D())}catch(z){console.warn("Could not add click signal listener:",z)}},[$,D]),N=R.useCallback(G=>{P(G),F(G),k.current=!0,j(G)},[P,F,j]),V=R.useCallback(G=>{const z={};for(const W in G){const X=W.endsWith("_jittered")?W.replace("_jittered",""):W;z[X]=G[W]}return z},[]),H=G=>{if(!isNaN(e)&&!isNaN(t)&&G){const z=G.map(V);S.mutate({pipeId:e,nodeId:t,username:i,value:z},{onSuccess:()=>{y(z),r(),p(W=>W+1)}})}},U=R.useCallback((G,z)=>{G&&w.mutate({path:{pipe_id:e,block_id:t,username:i},body:{operation:"update_scatter_filter",filter:G,hide:z}},{onSuccess:()=>{p(W=>W+1)}})},[e,t,i,w]);return h.jsxs(Y,{id:"brush-selection-list-plot-component",sx:{display:"flex",flexDirection:"column",gap:2,height:"100%"},children:[h.jsx(Y,{children:h.jsx(H2n,{minHeight:a?"95vh":"75vh",children:({width:G,height:z})=>h.jsx(ekn,{pipeId:e,nodeId:t,reload:n,usernameFromPath:i,onViewLoaded:N,patchVegaSpec:A,disableInteractivity:T(),width:G,height:z})})}),o&&h.jsx(Q0,{pipeId:e,nodeId:t,username:i,reloadPipeCounter:f,block:l,hiddenRows:c,onToggleRow:U}),s&&document.getElementById(`block-${t}-details-button-portal`)&&zd.createPortal(h.jsx(h.Fragment,{children:v.length>0&&h.jsx(Dt,{title:"Apply & Reload page",children:h.jsx(Be,{variant:"contained",color:"primary",onClick:G=>{G.stopPropagation(),H(v)},startIcon:h.jsx(ZR,{}),children:"Apply"})})}),document.getElementById(`block-${t}-details-button-portal`))]})};function nkn(e){return tt("MuiMasonry",e)}rt("MuiMasonry",["root"]);const cm=e=>Number(e.replace("px","")),rkn={flexBasis:"100%",width:0,margin:0,padding:0},ikn=e=>{const{classes:t}=e;return Qe({root:["root"]},nkn,t)},okn=({ownerState:e,theme:t})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(e.isSSR){const c={},u=cm(t.spacing(e.defaultSpacing));for(let d=1;d<=e.defaultColumns;d+=1)c[`&:nth-of-type(${e.defaultColumns}n+${d%e.defaultColumns})`]={order:d};return r.height=e.defaultHeight,r.margin=-(u/2),r["& > *"]={...n["& > *"],...c,margin:u/2,width:`calc(${(100/e.defaultColumns).toFixed(2)}% - ${u}px)`},{...n,...r}}const i=mE({values:e.spacing,breakpoints:t.breakpoints.values}),o=WR(t);n=Eo(n,Cl({theme:t},i,c=>{let u;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const d=Number(c);u=Ff(o,d)}else u=c;return{margin:`calc(0px - (${u} / 2))`,"& > *":{margin:`calc(${u} / 2)`},...e.maxColumnHeight&&{height:typeof u=="number"?Math.ceil(e.maxColumnHeight+cm(u)):`calc(${e.maxColumnHeight}px + ${u})`}}}));const a=mE({values:e.columns,breakpoints:t.breakpoints.values});return n=Eo(n,Cl({theme:t},a,c=>{const d=`${(100/Number(c)).toFixed(2)}%`,f=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?Ff(o,Number(i)):"0px";return{"& > *":{width:`calc(${d} - ${f})`}}})),typeof i=="object"&&(n=Eo(n,Cl({theme:t},i,(c,u)=>{if(u){const d=Number(c),f=Object.keys(a).pop(),p=Ff(o,d);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[u]||a[f]:a)).toFixed(2)}%`} - ${p})`}}}return null}))),n},skn=we("div",{name:"MuiMasonry",slot:"Root"})(okn),akn=R.forwardRef(function(t,n){const r=qn({props:t,name:"MuiMasonry"}),{children:i,className:o,component:s="div",columns:a=4,spacing:l=1,sequential:c=!1,defaultColumns:u,defaultHeight:d,defaultSpacing:f,...p}=r,g=R.useRef(),[y,v]=R.useState(),x=!y&&d&&u!==void 0&&f!==void 0,[w,S]=R.useState(x?u-1:0),C={...r,spacing:l,columns:a,maxColumnHeight:y,defaultColumns:u,defaultHeight:d,defaultSpacing:f,isSSR:x},k=ikn(C),T=R.useCallback(O=>{if(!g.current||!O||O.length===0)return;const I=g.current,j=g.current.firstChild,P=I.clientWidth,$=j.clientWidth;if(P===0||$===0)return;const D=window.getComputedStyle(j),F=cm(D.marginLeft),N=cm(D.marginRight),V=Math.round(P/($+F+N)),H=new Array(V).fill(0);let U=!1,G=1;I.childNodes.forEach(z=>{if(z.nodeType!==Node.ELEMENT_NODE||z.dataset.class==="line-break"||U)return;const W=window.getComputedStyle(z),X=cm(W.marginTop),Q=cm(W.marginBottom),ee=cm(W.height)?Math.ceil(cm(W.height))+X+Q:0;if(ee===0){U=!0;return}for(let ne=0;ne<z.childNodes.length;ne+=1){const oe=z.childNodes[ne];if(oe.tagName==="IMG"&&oe.clientHeight===0){U=!0;break}}if(!U)if(c)H[G-1]+=ee,z.style.order=G,G+=1,G>V&&(G=1);else{const ne=H.indexOf(Math.min(...H));H[ne]+=ee;const oe=ne+1;z.style.order=oe}}),U||zd.flushSync(()=>{v(Math.max(...H)),S(V>0?V-1:0)})},[c]);ii(()=>{if(typeof ResizeObserver>"u")return;let O;const I=new ResizeObserver(()=>{O=requestAnimationFrame(T)});return g.current&&g.current.childNodes.forEach(j=>{I.observe(j)}),()=>{O&&cancelAnimationFrame(O),I&&I.disconnect()}},[a,l,i,T]);const E=Un(n,g),A=new Array(w).fill("").map((O,I)=>h.jsx("span",{"data-class":"line-break",style:{...rkn,order:I+1}},I));return h.jsxs(skn,{as:s,className:je(k.root,o),ref:E,ownerState:C,...p,children:[i,A]})});function lkn(e){const t=R.useRef(void 0);return R.useEffect(()=>{t.current=e}),t.current}const ckn=({disabled:e,initialTitle:t,onSaveButtonClick:n})=>{const[r,i]=R.useState("");return R.useEffect(()=>{i(t)},[t]),h.jsxs(gt,{direction:"row",spacing:2,sx:{alignItems:"center"},children:[h.jsx(ae,{variant:"body1",children:"Name of the subgroup:"}),h.jsx(zn,{required:!0,margin:"dense",id:"name",label:"Subgroup Name",value:r,onChange:o=>{i(o.target.value)}}),h.jsx(Be,{variant:"contained",onClick:()=>{n(r)},disabled:e,sx:{ml:2,mt:1,mb:0},children:"Save"})]})},ukn=({onClickAdd:e,onClickSave:t})=>{const[n,r]=R.useState(null),i=()=>{r(null)},o=a=>{r(a.currentTarget)},s=!!n;return h.jsxs(h.Fragment,{children:[h.jsxs(fEe,{children:[h.jsx(Be,{onClick:t,children:"Save"}),h.jsx(Be,{size:"small","aria-controls":s?"save-menu":void 0,"aria-expanded":s?"true":void 0,"aria-label":"Filter save splitbutton","aria-haspopup":"menu",onClick:o,children:h.jsx(Tke,{})})]}),h.jsx(Uo,{id:"save-menu",anchorEl:n,open:s,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:h.jsx($t,{onClick:()=>{e(),i()},children:"Add to selection"})})]})},dkn=Fi(e=>({filters:{},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}}))})),b9e=e=>{const{filters:t,setFilter:n}=dkn();return{showColumnFilters:!!t[e],setShowColumnFilters:r=>{const i=!!t[e],o=typeof r=="function"?r(i):r;n(e,o)}}},fkn=({id:e,data:t,initialSelectionState:n={},enableRowSelection:r,handleFilterChange:i,filterName:o,disabledColumns:s=void 0,isLoading:a=!1,resetFilterTablesKey:l})=>{const c=xt(),[u,d]=R.useState("unknown"),[f,p]=R.useState([]),{showColumnFilters:g,setShowColumnFilters:y}=b9e(`${e}-${o}`),[v,x]=R.useState(n),[w,S]=R.useState(n);R.useEffect(()=>{S(n),x(n)},[JSON.stringify(n)]);const C=R.useMemo(()=>{if(!t||t.length===0)return[];let O=Object.keys(t[0]);return s&&(O=O.filter(I=>!s.includes(I))),O.map(I=>{const j={accessorKey:I,header:I,size:150,filterFn:"includesString"};return I==="count"&&(j.header="#",j.size=80),j})},[t,s]),k=(O=!1)=>{const I=A.getFilteredSelectedRowModel().rows.map(j=>j.original);if(O){const j=t.filter(P=>Object.keys(v).includes(P[o]));i([...I,...j])}else i(I);d("save")},T=()=>{k(!1)},E=()=>{k(!0)},A=NBe({columns:C,data:t,enableRowSelection:r,enableMultiRowSelection:!0,enableTopToolbar:!1,enableColumnResizing:!0,enableClickToCopy:!1,enableFullScreenToggle:!1,paginateExpandedRows:!1,getRowId:O=>String(O[o]),onShowColumnFiltersChange:y,onColumnFiltersChange:O=>{p(O),d("filter")},renderBottomToolbarCustomActions:()=>h.jsx(gt,{direction:"row",spacing:2,sx:{ml:2},children:h.jsx(ukn,{onClickSave:T,onClickAdd:E},`${e}-${o}`)}),onRowSelectionChange:O=>{S(I=>{const j=typeof O=="function"?O(I):O;return f.length===0&&x(j),j})},initialState:{density:"compact",sorting:[{id:String(o),desc:!1}]},muiSelectAllCheckboxProps:({table:O})=>{const I=O.getFilteredRowModel().rows,j=I.length>0&&I.every($=>$.getIsSelected()),P=I.some($=>$.getIsSelected())&&!j;return{checked:j,indeterminate:P,onChange:($,D)=>{I.forEach(F=>F.toggleSelected(D))}}},muiSelectCheckboxProps:{disabled:a},muiPaginationProps:{showRowsPerPage:!1},muiBottomToolbarProps:{sx:{minHeight:45,".MuiBox-root":{p:"4px"},".MuiTablePagination-root":{height:45,py:0,".MuiInputLabel-root, .MuiTypography-root":{fontSize:13},svg:{fontSize:20}}}},state:{columnFilters:f,showColumnFilters:g,rowSelection:w,isSaving:a},mrtTheme:PA(c)});return R.useEffect(()=>{g||A.resetColumnFilters()},[g]),R.useEffect(()=>{l!==void 0&&l>0&&(A.resetColumnFilters(),p([]))},[l,A]),R.useEffect(()=>{if(f.length>0&&u=="filter"){const j=A.getFilteredRowModel().rows.reduce((P,$)=>(P[$.id]=!0,P),{});S(j)}else S(v)},[f,A,JSON.stringify(v),u]),h.jsx(AA,{table:A})};function ywe(e,t){const n={};for(const r of e){const i=r[t];n[String(i)]=!0}return n}const x9e=({id:e,filterName:t,data:n,isChecked:r,isForeignPipe:i,handleFilterChange:o,disabledColumns:s,isLoading:a=!1,resetFilterTablesKey:l})=>{const c=n.filter(f=>r(f)),u=ywe(c,t),d=f=>{o(Object.keys(ywe(f,t)))};return h.jsx(fkn,{id:e,data:n,filterName:t,enableRowSelection:!i(),handleFilterChange:d,initialSelectionState:u,disabledColumns:s,isLoading:a,resetFilterTablesKey:l})},w9e=({filterConfig:e,filterChanged:t,isForeignPipe:n})=>{const[r,i]=R.useState(String(e.min)),[o,s]=R.useState(String(e.max));return R.useEffect(()=>{i(String(e.min)),s(String(e.max))},[e]),h.jsxs(gt,{direction:"column",children:[h.jsxs(gt,{direction:"row",children:[h.jsx(Hh,{children:h.jsx(zn,{id:"outlined-required",label:"Min",value:r,onChange:a=>{i(a.target.value)},disabled:n()})}),h.jsxs(ae,{sx:{alignContent:"center",whiteSpace:"nowrap",mr:2},children:["(",Number(e.in_min).toFixed(2),")"]})]}),h.jsxs(gt,{direction:"row",children:[h.jsx(Hh,{children:h.jsx(zn,{id:"outlined-required",label:"Max",value:o,onChange:a=>{s(a.target.value)},disabled:n()})}),h.jsxs(ae,{sx:{alignContent:"center",whiteSpace:"nowrap",mr:2},children:["(",Number(e.in_max).toFixed(2),")"]})]}),h.jsx(Be,{variant:"outlined",onClick:()=>{t(r,o)},disabled:n(),sx:{m:2},children:"Save"})]})},pkn=({pipeId:e,nodeId:t,blockType:n,usernameFromPath:r,showTable:i=!0,onSelectionChanged:o=()=>{},isFilterCategoriesSideBlock:s=!1})=>{const[a,l]=R.useState({}),[c,u]=R.useState({}),[d,f]=R.useState({}),p=lkn(c),[g,y]=R.useState(0),[v,x]=R.useState(""),w=Wd(r),[S,C]=R.useState(!1),{width:k}=G8e(500),{data:T,isLoading:E}=_Mt(e,t,r),{mutate:A,isPending:O}=vAe();R.useEffect(()=>{if(T){const{filter_configs:U}=T,G=U.filter(z=>z.type==="categorical").reduce((z,W)=>(z[W.name]={type:W.type,values:W.values.map(X=>({[W.name]:X.value})),min:"",max:""},z),{});l(G)}},[T]);const I=(U,G)=>{if(typeof U!=typeof G)return!1;if(typeof U>"u")return!0;if(typeof U=="string"||typeof U=="number")return U===G;if(typeof U=="object")if(Array.isArray(U)){if(U.length!==G.length)return!1;const z=[...U].sort(),W=[...G].sort();return z.every((X,Q)=>I(X,W[Q]))}else return Object.keys(U).length!==Object.keys(G).length?!1:U.type&&U.type==="numerical"?U.min===G.min&&U.max===G.max:Object.keys(U).filter(W=>I(U[W],G[W])).length===Object.keys(U).length;else return console.log(`Unknown object type ${typeof U}`),!1};R.useEffect(()=>{if(c&&Object.keys(c).length>0&&a&&Object.keys(a).length===Object.keys(c).filter(U=>U!=="subgroup_title").length){if(p&&I(p,c))return;const U={...c};Object.entries(c).forEach(([G,z])=>{const W=a[G];G==="subgroup_title"||(W.type==="o"||W.type==="categorical"?z.length===W.values.length&&delete U[G]:W.type==="numerical"&&z.min===W.min&&z.max===W.max&&delete U[G])}),A({pipeId:e,nodeId:t,username:r,config:U},{onSuccess:()=>{y(G=>G+1)}})}},[c,a,p,e,t,r,A]);const j=()=>{if(Object.keys(a).length===0)return[];const U=Object.entries(a),G=U.filter(([X,Q])=>Q.type==="categorical"),z=U.filter(([X,Q])=>Q.type==="numerical");return G.sort((X,Q)=>X[1].values.length-Q[1].values.length).concat(z)},P=(U,G)=>{if(a[U].type==="numerical")return!1;const z=structuredClone(c);z[U]=G,u(z),C(!0)},$=(U,G)=>{const z=c[U];return Array.isArray(z)&&z.includes(G)},D=(U,G,z)=>{const W=structuredClone(c);W[U].min=G,W[U].max=z,u(W)},F=U=>{const G=structuredClone(c);G.subgroup_title=U,u(G)},N=()=>{const U=structuredClone(c);Object.keys(U).forEach(G=>{const z=a[G];z.type==="numerical"?U[G]={min:z.min,max:z.max}:G!=="subgroup_title"&&(U[G]=z.values?.map(W=>W[G]))}),u(U)},V=()=>{let U=!0;const G=Object.values(a).filter(W=>W.type==="categorical");G.length>0&&G[0].values.length>0&&(U=Object.keys(G[0].values[0]).length>1);const z={onecol:1};return U?(z.twocol=2,z.threecol=3,z.fourcol=4,z.fivecol=5,z.sixcol=6):(z.twocol_small=2,z.threecol_small=3,z.fourcol_small=4,z.fivecol_small=5,z.sixcol_small=6),z},H=()=>j().map(([G,z],W)=>z.type==="categorical"?h.jsx(Y,{children:h.jsx(x9e,{id:G,filterName:G,data:z.values,isChecked:X=>$(G,X[G]),isForeignPipe:w,handleFilterChange:X=>P(G,X),isLoading:E||O})},W):z.type==="numerical"&&n!=="create_subgroup"?h.jsx(Y,{children:h.jsx(w9e,{filterConfig:{min:c[G]?.min||z.min,max:c[G]?.max||z.max,in_min:0,in_max:0},filterChanged:(X,Q)=>{D(G,X,Q)},isForeignPipe:w})},W):null);return h.jsxs(Y,{"data-testid":"create-subgroup",sx:s?{minWidth:"14.7vw"}:{},children:[s?h.jsx(gt,{direction:"column",spacing:2,sx:{ml:-2},children:H()}):h.jsx(akn,{columns:V(),sx:{"& > *":{width:"300px"},width:"95%"},children:H()},k),document.getElementById(`block-${t}-details-button-portal`)&&n!=="create_subgroup"&&zd.createPortal(h.jsxs(gt,{direction:"row",spacing:1,children:[h.jsx(Dt,{title:"Reset all filters",children:h.jsx(Pt,{color:"inherit",onClick:U=>{U.stopPropagation(),N()},children:h.jsx(k_,{})})}),S&&s&&h.jsx(Dt,{title:"Apply filters & Reload page",children:h.jsx(Be,{variant:"contained",color:"primary",onClick:U=>{U.stopPropagation(),o()},startIcon:h.jsx(ZR,{}),children:"Apply"})})]}),document.getElementById(`block-${t}-details-button-portal`)),n==="create_subgroup"&&h.jsx(ckn,{disabled:w(),initialTitle:v,onSaveButtonClick:F}),i&&h.jsx(Y,{sx:{mt:3},children:h.jsx(Q0,{pipeId:e,nodeId:t,username:r,reloadPipeCounter:g})})]})},hkn=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,showTable:i=!0})=>{const o=A_().getAccessToken(),{percentage:s,download:a,cancel:l,error:c,isInProgress:u}=Rze({mode:"cors",headers:{Authorization:`Bearer ${o}`}}),d=`https://redpill.nomaze.com//user/${n}/pipe/${e}/export/${t}?pipe_url=${encodeURIComponent(window.location.href)}`,{data:f,isLoading:p}=ls(e);return p||!f?h.jsx(p_,{loading:!0}):h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx(ae,{variant:"body1",children:"Clicking the button will download a ZIP file containing the data as Excel file and all plots as SVG files. Please note that this process could take a minute depending on your data."}),h.jsxs(gt,{spacing:2,sx:{width:"fit-content"},children:[h.jsxs(gt,{direction:"row",spacing:2,children:[h.jsx(Be,{startIcon:h.jsx(Wot,{}),variant:"contained",onClick:()=>a(d,`${f.name}.zip`),disabled:u,sx:{width:"fit-content"},children:u?`Downloading... ${s}%`:"Export"}),u&&h.jsx(Be,{variant:"outlined",color:"error",onClick:l,sx:{width:"fit-content"},children:"Cancel"})]}),c&&h.jsxs(ae,{color:"error",children:["Error downloading file: ",c.errorMessage]})]}),i&&h.jsx(Y,{sx:{width:"100%",mt:3},children:h.jsx(Q0,{pipeId:e,nodeId:t,username:n,reloadPipeCounter:r})})]})};function vwe(e){return typeof e=="object"&&e!==null}function UU(e,t){const n=e?.data?.value;if(vwe(n)&&vwe(n[0]))return n[0][t]}const gkn=({type:e="warning",message:t,filename:n,showFilename:r=!0,sx:i={}})=>{const s=(p=>{if(!p)return null;const g=p.match(/!([^!]+)!/);return g?g[1]:null})(t)||n,a=t&&t.replace(/![^!]+!/,"").trim(),l=p=>{switch(e){case"success":return p.palette.success.main;case"error":return p.palette.error.main;case"warning":default:return p.palette.warning.light}},c=p=>{switch(e){case"success":return p.palette.success.main+"20";case"error":return p.palette.error.main+"20";case"warning":default:return p.palette.warning.main+"20"}},u=p=>{switch(e){case"success":return p.palette.success.dark;case"error":return p.palette.error.dark;case"warning":default:return p.palette.warning.dark}},d=()=>{switch(e){case"success":return h.jsx(_X,{fontSize:"small"});case"error":return h.jsx(CX,{fontSize:"small"});case"loading":return h.jsx(To,{size:16});case"warning":default:return h.jsx(Vke,{fontSize:"small"})}},f=()=>{if(a?.includes("Error at block")){const p=a.split("Error at block"),g=p[0],y=p[1].split(":"),v=y[0],x=y.slice(1).join(":").trim();return h.jsxs(h.Fragment,{children:[h.jsxs(ae,{variant:"body2",sx:{fontWeight:500,mb:1,lineHeight:1.5,fontSize:"14px"},children:[r&&s&&h.jsx(Y,{component:"span",sx:{backgroundColor:c,color:u,px:1.5,py:.5,borderRadius:1,fontWeight:600,fontSize:"0.75rem",mr:1,display:"inline-block"},children:s}),g,h.jsx(Y,{component:"span",sx:{fontWeight:600},children:"Error at block"}),h.jsx(Y,{component:"span",sx:{backgroundColor:w=>w.palette.warning.main+"20",color:w=>w.palette.warning.dark,px:1.5,py:.5,borderRadius:1,fontWeight:600,fontSize:"0.75rem",mx:1,display:"inline-block"},children:v}),":"]}),x&&h.jsx(ae,{variant:"body2",sx:{color:w=>w.palette.warning.main,fontWeight:500,fontFamily:"monospace",fontSize:"0.75rem",backgroundColor:w=>w.palette.warning.light+"30",px:1.5,py:1,borderRadius:1,border:1,borderColor:w=>w.palette.warning.main+"40",display:"inline-block",width:"fit-content"},children:x})]})}return h.jsxs(ae,{variant:"body2",sx:{fontWeight:500,my:1,lineHeight:1.5,fontSize:"14px"},children:[r&&s&&h.jsx(Y,{component:"span",sx:{backgroundColor:c,color:u,px:1.5,py:.5,borderRadius:1,fontWeight:600,fontSize:"0.75rem",mr:1,display:"inline-block"},children:s}),a]})};return h.jsx(Pr,{sx:{display:"flex",alignItems:"center",px:2,py:1,mb:2,...i},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[h.jsx(Y,{sx:{color:l,display:"flex",alignItems:"center"},children:d()}),h.jsx(Y,{sx:{flex:1},children:f()})]})})},mkn=[{accessorKey:"File name",header:"File name",size:400},{accessorKey:"Configuration",header:"Configuration",Cell:({renderedCellValue:e})=>e?h.jsx(Y,{sx:{display:"inline-flex",alignItems:"center",lineHeight:1},children:h.jsx(jb,{label:String(e)})}):null},{accessorKey:"Uploaded at",header:"Uploaded at"}],ykn=({pipeId:e,nodeId:t,usernameFromPath:n,showTable:r=!0,onSelectionChanged:i=()=>{}})=>{const o=xt(),[s,a]=R.useState(0),[l,c]=R.useState("idle"),[u,d]=R.useState(""),f=hMt(),{data:p}=B_(e,t,n),{data:g}=ls(e),{data:y,refetch:v}=tZ(g?.tag?.name),x=oZ(),w=uAe(),S=Wd(n),{setDialogOpen:C,uploadedFileUuid:k,clearUploadedFileUuid:T}=fZ(),E=CA(ne=>ne.open),A=UU(p,"uuid"),O=UU(p,"deleted"),I=UU(p,"filename"),j=R.useCallback(async ne=>{if(!g?.blocks)return"idle";c("loading"),d("File Validation in Progress.");try{const oe=await f.mutateAsync({path:{username:n,pipe_id:e},query:{file_uuid:ne}});return oe?.success?(c("success"),d(oe.message||"Successfully validated file schema"),"success"):(c("warning"),d(oe?.error??"Validation failed"),"warning")}catch{return c("error"),d("File schema does not match existing schema of pipeline"),"error"}},[g?.blocks,f,n,e]),P=R.useMemo(()=>(y??[]).map(ne=>({"File name":ne.filename,"Uploaded at":ne.creation_date,Configuration:ne.tag?.name})),[y]),$=R.useCallback(ne=>ne?{[ne]:!0}:{},[]),D=R.useMemo(()=>$(A),[$,A]),F=R.useCallback(ne=>Object.keys(ne).find(oe=>ne[oe])??null,[]),N=lg({defaultValues:{rowSelection:D},onSubmit:async({value:ne})=>{const oe=F(ne.rowSelection),ce=y?.find(re=>re.uuid===oe);ce&&x.mutate({pipeId:e,nodeId:parseInt(t.toString(),10),username:n,value:{0:{uuid:ce.uuid,filename:ce.filename}}},{onSuccess:()=>{a(re=>re+1),i(),c("idle"),d("")}})}}),V=EAe({form:N,name:"rowSelection",validators:{onChangeAsync:async({value:ne})=>{const oe=F(ne??{});if(!oe||oe===A){c("idle"),d("");return}return await j(oe)==="error"?"File schema does not match existing schema of pipeline":void 0}}}),H=R.useCallback(ne=>{const oe=typeof ne=="function"?ne(V.state.value??{}):ne;V.handleChange(oe)},[V]),U=V.state.value,G=F(U),z=R.useCallback(ne=>ne?y?.find(oe=>oe.uuid===ne):void 0,[y]),W=R.useCallback(()=>{N.setFieldValue("rowSelection",$(A)),c("idle"),d(""),T()},[N,A,$,T]),X=R.useCallback(()=>{G&&w.mutate({path:{file_uuid:G},query:{force:!1}},{onSuccess:()=>{c("idle"),d(""),T(),N.setFieldValue("rowSelection",$(A)),v()}})},[G,w,T,N,A,$,v]),Q=R.useCallback(ne=>{w.mutateAsync({path:{file_uuid:ne.uuid},query:{force:!1}})},[w]),ee=({closeMenu:ne,row:oe})=>[h.jsx($t,{disabled:S(),onClick:()=>{ne(),y?.[oe.index]&&E(y[oe.index].uuid)},children:"Settings"},"settings"),h.jsx($t,{disabled:S(),onClick:()=>{ne(),y?.[oe.index]&&Q(y[oe.index])},children:"Delete"},"delete")];return!y||!p||!g?h.jsx(Sa,{}):h.jsx("form",{onSubmit:ne=>{ne.preventDefault(),ne.stopPropagation(),N.handleSubmit()},noValidate:!0,autoComplete:"off",children:h.jsxs(gt,{direction:"column",spacing:3,children:[!S()&&h.jsxs(gt,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",children:[h.jsx(Y,{sx:{flex:1},children:g?.tag&&h.jsxs(Pr,{elevation:0,sx:{display:"flex",alignItems:"center",px:2,py:1,width:"fit-content"},children:[h.jsx(ae,{variant:"body2",children:"Viewing all Files with Tag:"}),h.jsx(Y,{component:"span",sx:{ml:1.5},children:h.jsx(jb,{label:g.tag.name})})]})}),h.jsxs(gt,{direction:"row",spacing:2,children:[h.jsx(Be,{variant:"outlined",color:"primary",disabled:!G&&!A,onClick:()=>{const ne=G??A;ne&&E(ne,!0)},children:"File Settings"}),h.jsx(Be,{variant:"contained",color:"primary",onClick:()=>C({selectedTag:g?.tag?.id?{value:g.tag.id,label:g.tag.name||""}:void 0}),children:"Upload New File"})]})]}),O&&h.jsx($ne,{message:`Previously selected file ${I?`with name ${I}`:""} was deleted`}),h.jsx(Y,{sx:{width:"100%"},children:h.jsx(AA,{columns:mkn,data:P,enableRowSelection:!S(),enableMultiRowSelection:!1,enableSelectAll:!1,enableStickyHeader:!0,enableTopToolbar:!1,enableClickToCopy:!1,enableColumnResizing:!0,enableDensityToggle:!1,enableFullScreenToggle:!1,enableRowActions:!0,enableExpandAll:!1,autoResetPageIndex:!1,positionActionsColumn:"last",displayColumnDefOptions:{"mrt-row-select":{size:50},"mrt-row-actions":{size:100}},getRowId:(ne,oe)=>y?.[oe]?.uuid??String(oe),initialState:{density:"compact",columnPinning:{right:["mrt-row-actions"]}},renderRowActionMenuItems:ee,onRowSelectionChange:S()?void 0:H,muiSelectCheckboxProps:()=>({disabled:S()}),muiPaginationProps:{showRowsPerPage:!1},muiTableBodyRowProps:({row:ne})=>({onClick:oe=>{const ce=oe.target;if(ce.closest('[role="menuitem"]')||ce.closest("button")||S())return;const re=ne.id;re&&V.handleChange({[re]:!0})},sx:{cursor:S()?"default":"pointer",height:40,"& .MuiTableCell-root":{p:0},"&:hover":S()?void 0:{backgroundColor:"action.hover"}}}),muiTableBodyCellProps:{sx:{verticalAlign:"middle",fontSize:"0.8125rem"}},state:{rowSelection:U,columnOrder:["mrt-row-select","File name","Configuration","Uploaded at","mrt-row-actions"]},mrtTheme:PA(o)})}),l!=="idle"&&h.jsxs(Y,{children:[h.jsx(gkn,{type:l,message:u,filename:z(G??A)?.filename}),h.jsx(N.Subscribe,{selector:ne=>[(F(ne.values.rowSelection??{})??null)!==(A??null),ne.isSubmitting],children:([ne,oe])=>ne?h.jsxs(gt,{direction:"row",spacing:2,sx:{mt:2,justifyContent:"flex-end"},children:[h.jsx(Be,{type:"button",onClick:W,children:"Cancel"}),h.jsx(Be,{type:"submit",variant:"contained",color:l==="success"?"success":"primary",disabled:oe,startIcon:l==="success"?h.jsx(_X,{fontSize:"small"}):null,children:oe?"Saving...":"Confirm Selection"}),k&&(l==="warning"||l==="error")?h.jsx(Be,{type:"button",variant:"outlined",color:"error",onClick:X,children:"Delete File"}):null]}):null})]}),r&&h.jsx(Q0,{reloadPipeCounter:s,pipeId:e,nodeId:t,username:n})]})})},vkn=({pipeId:e,nodeId:t,usernameFromPath:n,block:r,reload:i,isDashboardItem:o=!1})=>{const s=xt(),{data:a,isLoading:l,refetch:c}=CMt(e,t,n,!o);R.useEffect(()=>{i&&c()},[i,c]);const u=!r.skip,d=r.configuration?.elements?.find(C=>C.name==="ID")?.selected_values,f=r.configuration?.elements?.find(C=>C.name==="Environment")?.selected_values,p=r.configuration?.elements?.find(C=>C.name==="Categories")?.selected_values,g=a?.[0],y=g&&g.initial_rows>0,v=g?g.initial_rows-g.final_rows:0,x=(C,k)=>Object.entries(C).map(([T,E])=>({Environment:T,Orthogonal:E.is_orthogonal?"True":"False","Unique IDs":`${E.unique_ids} / ${k}`})),w=(C,k)=>{const T=C.environment_stats[k.Environment];return T?T.id_counts?.map(E=>({Environment:String(E.id0??""),Orthogonal:String(E.id1??""),"Unique IDs":`${E.count} repetition${E.count===1?"":"s"}`}))??[]:[]},S=(f?.length??0)>0||(d?.length??0)>0;return h.jsxs(gt,{spacing:2,className:o&&r.skip?"MuiSkippedBlock-root":"",sx:{width:"100%"},children:[h.jsx(Pr,{elevation:0,sx:{p:2,width:"100%",...o?{border:"none",boxShadow:"none",bgcolor:"transparent"}:{border:`1px solid ${s.palette.divider}`,borderRadius:2}},children:h.jsxs(gt,{spacing:2,children:[S&&h.jsx(Pr,{elevation:0,variant:"outlined",sx:{p:1.5,borderRadius:1.5,bgcolor:u?ut(s.palette.primary.main,.08):s.palette.action.hover,borderColor:u?ut(s.palette.primary.main,.3):s.palette.divider,opacity:u?1:.7},children:h.jsxs(gt,{direction:"row",alignItems:"center",flexWrap:"wrap",gap:.75,useFlexGap:!0,children:[h.jsx(ae,{variant:"body2",color:"text.secondary",children:"Filtering all"}),(f??[]).map(C=>h.jsx(Ci,{label:C,size:"small",variant:u?"filled":"outlined",color:u?"primary":"default",sx:{fontSize:"0.75rem"}},C)),h.jsx(ae,{variant:"body2",color:"text.secondary",children:"where not all"}),(d??[]).map(C=>h.jsx(Ci,{label:C,size:"small",variant:u?"filled":"outlined",color:u?"primary":"default",sx:{fontSize:"0.75rem"}},C)),h.jsx(ae,{variant:"body2",color:"text.secondary",children:"are present"}),(p?.length??0)>0&&h.jsxs(h.Fragment,{children:[h.jsx(ae,{variant:"body2",color:"text.secondary",children:"with"}),(p??[]).map(C=>h.jsx(Ci,{label:C,size:"small",variant:u?"filled":"outlined",color:u?"primary":"default",sx:{fontSize:"0.75rem"}},C)),h.jsx(ae,{variant:"body2",color:"text.secondary",children:"values"})]})]})}),y&&g&&h.jsx(Pr,{elevation:0,variant:"outlined",sx:{p:1.5,borderRadius:1.5,bgcolor:s.palette.action.hover,borderColor:s.palette.divider,opacity:u?1:.6},children:h.jsxs(gt,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"space-between",children:[h.jsxs(Y,{children:[h.jsxs(gt,{direction:"row",alignItems:"center",spacing:.75,children:[h.jsx(FCn,{size:14,style:{color:s.palette.text.secondary}}),h.jsx(ae,{variant:"caption",fontWeight:500,color:"text.secondary",children:"Rows Filtered"})]}),h.jsx(ae,{variant:"h6",fontWeight:600,sx:{fontVariantNumeric:"tabular-nums",mt:.25},children:u?v.toLocaleString():"0"}),h.jsxs(ae,{variant:"caption",color:"text.secondary",children:[g.initial_rows.toLocaleString()," "," ",u?g.final_rows.toLocaleString():g.initial_rows.toLocaleString()]})]}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",fontWeight:500,color:"text.secondary",display:"block",children:"Breakdown"}),h.jsxs(gt,{direction:"column",spacing:.25,sx:{mt:.25},children:[h.jsxs(ae,{variant:"caption",color:"text.secondary",children:[h.jsx(Y,{component:"span",fontWeight:600,sx:{fontVariantNumeric:"tabular-nums"},children:u?g.dropped_rows.non_orthogonal:0})," ","non-orthogonal"]}),h.jsxs(ae,{variant:"caption",color:"text.secondary",children:[h.jsx(Y,{component:"span",fontWeight:600,sx:{fontVariantNumeric:"tabular-nums"},children:u?g.dropped_rows.category_nulls:0})," ","with NaNs"]})]})]})]})})]})}),a&&a.map((C,k)=>h.jsx(Y,{children:!o&&h.jsx(Q8e,{data:x(C.environment_stats,C.total_unique_ids),getSubRows:T=>w(C,T)})},k)),h.jsx(p_,{loading:l})]})},S9e=Fi((e,t)=>({accordionGroups:{},registerAccordion:(n,r)=>e(i=>{const o=i.accordionGroups[n]||{};return r in o?i:{accordionGroups:{...i.accordionGroups,[n]:{...o,[r]:!0}}}}),toggleAccordion:(n,r)=>e(i=>{const o=i.accordionGroups[n]||{};return{accordionGroups:{...i.accordionGroups,[n]:{...o,[r]:!o[r]}}}}),toggleAll:n=>e(r=>{const i=r.accordionGroups[n]||{},o=Object.values(i).some(Boolean);return{accordionGroups:{...r.accordionGroups,[n]:Object.fromEntries(Object.keys(i).map(s=>[s,!o]))}}}),isExpanded:(n,r)=>{const i=n;return!!t().accordionGroups[i]?.[r]},isAnyExpanded:n=>{const r=t().accordionGroups[n]||{};return Object.values(r).some(Boolean)}})),bwe=({blockId:e,id:t,children:n,title:r,wasFilterTouched:i,chips:o,isEnabled:s,onRemoveFilter:a})=>{const{registerAccordion:l,isExpanded:c,toggleAccordion:u}=S9e(),d=xt(),{isDarkMode:f}=Li();l(`${e}-${s}`,t);const{showColumnFilters:p,setShowColumnFilters:g}=b9e(`${t}-${r}`),y=c(`${e}-${s}`,t);return h.jsxs(VF,{"data-testid":"accordion-filter",expanded:y,onChange:()=>u(`${e}-${s}`,t),defaultExpanded:!0,sx:{background:i?f?es(d.palette.primary.main,.6):Mr(d.palette.primary.main,.9):void 0,"& .MuiCardContent-root":{paddingBottom:"0px !important"}},children:[h.jsx(WF,{expandIcon:s?h.jsx(KR,{}):null,sx:{overflow:"hidden",...!s&&{pointerEvents:"none"},minHeight:40,paddingY:.25,"&.Mui-expanded":{minHeight:40},"& .MuiAccordionSummary-content":{margin:0,"&.Mui-expanded":{margin:0}}},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[h.jsx(Y,{children:h.jsx(ae,{color:f?d.palette.grey[200]:d.palette.grey[900],sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r})}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"right",minWidth:"100px",gap:1},children:[o.map(v=>h.jsx(Dt,{title:v.tooltip||v.label,enterDelay:300,enterNextDelay:300,leaveDelay:100,children:h.jsx(Ci,{size:"small","aria-label":`Remove filters for ${r}`,sx:{background:d.palette.primary.light,overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"auto","& .MuiChip-icon":{color:f?es(d.palette.primary.main,.5):d.palette.primary.main}},onClick:x=>{v.canRemove&&a(r),x.stopPropagation()},icon:h.jsx(Oke,{}),onDelete:v.canRemove?()=>a(r):void 0,label:v.label})})),y&&h.jsx(Pt,{sx:{pointerEvents:"auto"},onClick:v=>{g(!p),v.stopPropagation()},size:"small",children:p?h.jsx(Ike,{fontSize:"small"}):h.jsx(ZR,{fontSize:"small"})})]})]})}),h.jsx(HF,{sx:{p:0},children:h.jsx(la,{sx:{height:"100%",p:0,display:"flex",flexDirection:"column"},children:n})})]},t)},bkn=({valueChanged:e,onValueChanged:t,onSelectionChanged:n,noFilterConfigured:r,onResetAllFilters:i})=>{const o=xt(),{isDarkMode:s}=Li();return h.jsxs(Y,{sx:{borderBottom:`1px solid ${s?o.palette.grey[900]:o.palette.grey[300]}`,display:"flex",justifyContent:"end",p:1,gap:2,pt:2,mb:2},children:[h.jsx(Dt,{title:"Apply filters",children:h.jsx(Be,{variant:"contained",color:"primary",disabled:!e||r,onClick:a=>{a.stopPropagation(),n(),t(!1)},startIcon:h.jsx(Ake,{}),children:"Apply Filter"})}),h.jsx(Be,{variant:"outlined",color:"primary",disabled:r,onClick:a=>{a.stopPropagation(),i()},startIcon:h.jsx(k_,{}),children:"Reset"})]})},xkn=({valueChanged:e,onValueChanged:t,onSelectionChanged:n,noFilterConfigured:r,onResetAllFilters:i,nodeId:o,isFilterCategoriesSideBlock:s=!0})=>{const a=xt(),{isDarkMode:l}=Li(),c=`${o}-${s}`,{username:u}=Ca(),{toggleAll:d,isAnyExpanded:f}=S9e(),p=f(c);return u?h.jsxs(h.Fragment,{children:[h.jsx(Y,{sx:{position:"sticky",top:0,borderBottom:`1px solid ${l?a.palette.grey[900]:a.palette.grey[300]}`,zIndex:1e3,background:a.palette.background.paper,mb:1,containerType:"inline-size",containerName:"card"},children:h.jsx(Y,{sx:{m:2,display:"flex",flexDirection:"column",gap:2,position:"relative"},children:h.jsxs(Y,{sx:{display:"grid",gridTemplateColumns:"60% 40%",mr:2,gap:2,"@container card (max-width: 300px)":{gridTemplateColumns:"100%",mr:0}},children:[h.jsx(Dt,{title:"Apply filters & Reload page",children:h.jsx(Be,{variant:"contained",color:"primary",disabled:!e||r,onClick:g=>{g.stopPropagation(),n(),t(!1)},startIcon:h.jsx(Ake,{}),children:"Apply Filter"})}),h.jsx(Be,{variant:"outlined",color:"primary",disabled:r,onClick:g=>{g.stopPropagation(),i()},startIcon:h.jsx(k_,{}),children:"Reset"})]})})}),!r&&h.jsx(Y,{sx:{display:"flex",justifyContent:"end",pr:2},children:h.jsx(Be,{variant:"text",size:"small",onClick:()=>d(c),children:p?"Close all":"Expand all"})})]}):null},wkn=({pipeId:e,nodeId:t,showTable:n=!0,onSelectionChanged:r=()=>{},isFilterCategoriesSideBlock:i=!1})=>{const{username:o}=Ca(),s=Wd(o),[a,l]=R.useState(!1),[c,u]=R.useState(0),d=pn(),{data:{filter_configs:f}={},isLoading:p,error:g}=yMt(o??"",t,e),{mutate:y}=vAe();if(p)return h.jsx(Sa,{});const v=()=>{d.invalidateQueries({queryKey:["runPipe",e]}),d.invalidateQueries({queryKey:["block",e]}),d.invalidateQueries({queryKey:["spec",e]}),o&&d.invalidateQueries({queryKey:[{_id:"getFilterConfigs"}]}),r()},x=()=>{if(!o)return;y({pipeId:e,nodeId:t,username:o,config:{selectedOptions:{},recentFilteredColumn:{name:void 0}}},{onSuccess:()=>{d.invalidateQueries({queryKey:["runPipe",e]}),u(E=>E+1)}}),l(!0)};if(g)return h.jsxs(Y,{sx:{mt:4,p:2},children:[h.jsx(ae,{variant:"body1",children:g?.response?.data?.message||g.message}),h.jsx(Be,{variant:"outlined",color:"primary",onClick:T=>{T.stopPropagation(),x()},startIcon:h.jsx(k_,{}),children:"Reset"})]});if(!f)return null;const w=(T,E)=>{if(!o)return;const O={selectedOptions:f.map(I=>I.type==="numerical"?{...I}:I.name===T?{...I,values:I.values?.filter(j=>E.includes(j.value))}:{...I,values:I.values?.filter(j=>j.is_checked)}),recentFilteredColumn:{name:T}};l(!0),y({pipeId:e,nodeId:t,username:o,config:O})},S=(T,E,A)=>{if(!o)return;const I={selectedOptions:f.map(j=>j.type==="categorical"?{...j,values:j.values?.filter(P=>P.is_checked)}:j.name===T?{...j,min:Number(E),max:Number(A)}:{...j}),recentFilteredColumn:{name:T}};l(!0),y({pipeId:e,nodeId:t,username:o,config:I})},C=T=>{if(!o)return;const A={selectedOptions:f.filter(O=>O.name!==T).map(O=>O.type==="categorical"?{...O,values:O.values?.filter(I=>I.is_checked)}:{...O}),recentFilteredColumn:{name:void 0}};y({pipeId:e,nodeId:t,username:o,config:A}),l(!0)},k=f.length===0;return h.jsx("div",{children:h.jsxs(Y,{sx:{containerType:"inline-size",containerName:"filterpage"},children:[i?h.jsx(xkn,{nodeId:t,noFilterConfigured:k,onResetAllFilters:x,onSelectionChanged:v,onValueChanged:l,valueChanged:a}):h.jsx(bkn,{noFilterConfigured:k,onResetAllFilters:x,onSelectionChanged:v,onValueChanged:l,valueChanged:a}),h.jsxs(Y,{className:"filter-page-grid",sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gridAutoFlow:"dense","@container filterpage (max-width: 300px)":{gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))"},gap:2,m:1,mt:0,mb:6,borderRadius:2,"@container filterpage (max-width: 500px)":{"& .MuiPaper-root":{borderLeft:"none",borderRight:"none",borderRadius:0},m:0}},children:[k&&h.jsx(Y,{sx:{height:"50vh",display:"grid",placeItems:"center"},children:h.jsx(n0,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:h.jsx(Y,{sx:{m:3},children:"No filter configured"})})}),f.map((T,E)=>{const A=`column-${T.name}-index-${E}-${i}`;if(T.type==="categorical"){const O=T.values?.filter(F=>F.is_visible).map(F=>({[T.name]:F.value,count:`${F.count_after_filter} / ${F.count_before_filter}`,is_checked:F.is_checked})),I=T.values.length,j=T.values.filter(F=>F.is_checked&&F.is_visible),$=T.values.filter(F=>F.is_checked).length!==I,D=[];if($){const F=`${j.length} ${j.length===1?"item":"items"}`,N=`${j.length} ${j.length===1?"item":"items"} filtered`;D.push({label:F,canRemove:!0,tooltip:N})}return h.jsx(Y,{children:h.jsx(bwe,{id:A,blockId:t,wasFilterTouched:$,title:T.name,chips:D,isEnabled:i,onRemoveFilter:C,children:h.jsx(x9e,{id:A,filterName:T.name,data:O,isChecked:F=>F.is_checked,disabledColumns:["is_checked"],isForeignPipe:s,handleFilterChange:F=>{w(T.name,F)},isLoading:p,resetFilterTablesKey:c})})},A)}else if(T.type==="numerical"){const O=T.min!==T.in_min,I=T.max!==T.in_max,j=O||I||!!T.nan_count,P=[];if(O||I){const $=O&&I?"Min & Max":O?"Min":"Max";P.push({label:$,canRemove:!0})}return T.nan_count&&P.push({label:`${T.nan_count} NaN`,canRemove:!1,tooltip:`${T.nan_count} items are filtered because their value is NaN`}),h.jsx(Y,{children:h.jsx(bwe,{id:A,blockId:t,wasFilterTouched:j,chips:P,title:T.name,isEnabled:i,onRemoveFilter:C,children:h.jsx(w9e,{filterConfig:{min:T.min??0,max:T.max??0,in_min:T.in_min??0,in_max:T.in_max??0},filterChanged:($,D)=>{S(T.name,Number($),Number(D))},isForeignPipe:s})})},A)}return null})]}),n&&h.jsx(Y,{sx:{mt:3},children:h.jsx(Q0,{pipeId:e,nodeId:t,username:o})})]})})};function Skn(e){const t=R.useRef(null),[n,r]=R.useState(!1);return R.useEffect(()=>{if(!t.current)return;const i=new ResizeObserver(([o])=>{r(o.contentRect.width<e)});return i.observe(t.current),()=>i.disconnect()},[e]),[t,n]}const _kn=({pipeId:e,nodeId:t,showTable:n=!0,onSelectionChanged:r=()=>{},isFilterCategoriesSideBlock:i=!1})=>{const o=xt(),{isDarkMode:s}=Li(),[a,l]=Skn(30);return h.jsx("div",{"data-testid":"filter-component",style:{width:"100%",height:"100%",minHeight:0,display:"flex",flexDirection:"column"},ref:a,children:l?h.jsx(Y,{sx:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",pt:4,backgroundColor:s?o.palette.grey[900]:o.palette.grey[50]},children:h.jsx(ZR,{fontSize:"small"})}):h.jsx(Y,{sx:{overflow:"auto",height:"100%"},children:h.jsx(wkn,{nodeId:t,pipeId:e,showTable:n,onSelectionChanged:r,isFilterCategoriesSideBlock:i})})})};function Ckn({pipeId:e,nodeId:t,username:n,skip:r,onToggled:i}){const o=xt(),s=sZ(),a=!r,l=(c,u)=>{c.stopPropagation(),s.mutate({pipeId:e,nodeId:t,username:n,skip:!u},{onSuccess:()=>{i?.()},onError:d=>{Vo.error("Error updating the block",d)}})};return h.jsxs(gt,{direction:"row",alignItems:"center",spacing:1,children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:1.5,flexShrink:0,bgcolor:a?"primary.main":o.palette.action.hover,color:a?"primary.contrastText":o.palette.text.secondary},children:a?"On":"Off"}),h.jsx(Dt,{title:r?"Activate block":"Skip block",placement:"left",children:h.jsx(Bf,{checked:a,onChange:l,"aria-label":"Toggle filter orthogonal",className:"withIcons"})})]})}function _9e({pipeId:e}){const t=sg();return{updateWidget:R.useCallback(async(r,i)=>{await t.mutateAsync({path:{pipe_id:e},body:{op:"replaceNode",targetId:r,node:{content:i}}})},[t,e])}}const VU=[{type:"horizontal-split",icon:r9e,label:"Horizontal Split"},{type:"vertical-split",icon:u9e,label:"Vertical Split"},{type:"tabs",icon:aCn,label:"Tabs"},{type:"scrollable",icon:Z_n,label:"Scrollable"}];function C9e({pipeId:e,widgetId:t,anchorEl:n,onClose:r,anchorOrigin:i={vertical:"bottom",horizontal:"left"},transformOrigin:o={vertical:"top",horizontal:"left"}}){const s=xt(),{data:a,isLoading:l}=ls(e),{updateWidget:c}=_9e({pipeId:e}),u=g=>{c(t,{kind:"block",blockId:g}),r()},d=g=>{c(t,{kind:"layout",type:g}),r()};if(l)return h.jsxs(Uo,{anchorEl:n,open:!!n,onClose:r,anchorOrigin:i,transformOrigin:o,children:[h.jsx($t,{disabled:!0,children:"Blocks"}),h.jsx($t,{disabled:!0,children:"Loading..."}),h.jsx(vi,{}),h.jsx($t,{disabled:!0,children:"Layouts"}),VU.map(g=>h.jsxs($t,{onClick:()=>d(g.type),children:[h.jsx(g.icon,{style:{height:16,width:16,marginRight:s.spacing(1)}}),g.label]},g.type))]});const p=(a?.blocks||[]).filter(g=>g.dashboard_configuration.view_in_dashboard);return p.length===0?h.jsxs(Uo,{anchorEl:n,open:!!n,onClose:r,anchorOrigin:i,transformOrigin:o,children:[h.jsx($t,{disabled:!0,children:"Blocks"}),h.jsx($t,{disabled:!0,children:"No blocks available"}),h.jsx(vi,{}),h.jsx($t,{disabled:!0,children:"Layouts"}),VU.map(g=>h.jsxs($t,{onClick:()=>d(g.type),children:[h.jsx(g.icon,{style:{height:16,width:16,marginRight:s.spacing(1)}}),g.label]},g.type))]}):h.jsxs(Uo,{anchorEl:n,open:!!n,onClose:r,anchorOrigin:i,transformOrigin:o,children:[h.jsx($t,{disabled:!0,children:"Blocks"}),p.map(g=>h.jsxs($t,{onClick:()=>u(g.id),children:[h.jsx(Y,{sx:{display:"inline-flex",alignItems:"center",marginRight:s.spacing(1),"& svg":{height:16,width:16}},children:h.jsx(C0,{identifier:g.identifier})}),g.title]},g.id)),h.jsx(vi,{}),h.jsx($t,{disabled:!0,children:"Layouts"}),VU.map(g=>h.jsxs($t,{onClick:()=>d(g.type),children:[h.jsx(g.icon,{style:{height:16,width:16,marginRight:s.spacing(1)}}),g.label]},g.type))]})}function xwe({title:e,description:t}){return h.jsx(Y,{sx:{display:"flex",flexDirection:"column",height:"calc(100vh - 50px)",overflow:"hidden",position:"relative",alignItems:"center",justifyContent:"center"},children:h.jsxs(Y,{sx:{p:2,textAlign:"center"},children:[h.jsx(ae,{variant:"h6",color:"error",sx:{mb:1},children:e}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:t})]})})}function hz(){const e=Kr({from:"/dashboard/$pipeId/page/$pageId"}),{pipeId:t,username:n}=Ca(),r=R.useCallback(o=>{if(!t||!o||!n)return;const s=ba(n,t);e({to:"/dashboard/$pipeId/page/$pageId",params:{pipeId:s,pageId:o},search:a=>({...a,tabId:void 0}),replace:!0})},[e,t,n]),i=R.useCallback(o=>{e({search:s=>({...s,tabId:o||void 0}),replace:!0})},[e]);return{setActivePageId:r,setActiveTabId:i}}function kkn({pipeId:e}){const{activePageId:t,pages:n}=IA({pipeId:e}),{setActivePageId:r}=hz(),i=n.findIndex(c=>c.id===t),o=i>0,s=i<n.length-1,a=()=>{o&&r(n[i-1].id)},l=()=>{s&&r(n[i+1].id)};return h.jsxs(Y,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(Pt,{size:"small",onClick:a,disabled:!o,sx:{opacity:o?1:.5},children:h.jsx(O_n,{style:{height:16,width:16}})}),h.jsx(Pt,{size:"small",onClick:l,disabled:!s,sx:{opacity:s?1:.5},children:h.jsx(j_n,{style:{height:16,width:16}})}),h.jsx(vi,{orientation:"vertical",flexItem:!0,sx:{mx:1}})]})}function Ekn({pipeId:e}){const t=sg(),{setActivePageId:n}=hz();return{addPage:R.useCallback(async(i,o="custom")=>{const s=await t.mutateAsync({path:{pipe_id:e},body:{op:"addPage",name:i,type:o}});if(n&&s?.pages&&s.pages.length>0){const a=s.pages[s.pages.length-1].id;n(a)}return s},[e,n,t]),isPending:t.isPending}}function Tkn({pipeId:e}){const{data:t}=aZ(e),n=sg(),{setActivePageId:r}=hz(),i=t?.pages??[];return{deletePage:R.useCallback(async(s,a)=>{if(i.length<=1)return;const l=i.findIndex(d=>d.id===s),c=a===s&&l>0,u=await n.mutateAsync({path:{pipe_id:e},body:{op:"deletePage",pageId:s}});if(r&&c&&u?.pages&&u.pages.length>0){const d=l>0?l-1:0;d<u.pages.length?r(u.pages[d].id):u.pages.length>0&&r(u.pages[u.pages.length-1].id)}return u},[i,e,r,n]),isPending:n.isPending}}function Rkn({pipeId:e}){const t=sg();return{renamePage:R.useCallback(async(r,i)=>{await t.mutateAsync({path:{pipe_id:e},body:{op:"renamePage",pageId:r,name:i}})},[e,t]),isPending:t.isPending}}function Mkn({pipeId:e}){const t=sg();return{reorderPages:R.useCallback(async r=>{await t.mutateAsync({path:{pipe_id:e},body:{op:"reorderPages",pageIds:r}})},[e,t]),isPending:t.isPending}}function Akn({pipeId:e}){const t=xt(),{pages:n,activePageId:r}=IA({pipeId:e}),{addPage:i}=Ekn({pipeId:e}),{deletePage:o}=Tkn({pipeId:e}),{renamePage:s}=Rkn({pipeId:e}),{reorderPages:a}=Mkn({pipeId:e}),{setActivePageId:l}=hz(),[c,u]=R.useState({}),[d,f]=R.useState(null),[p,g]=R.useState(""),y=R.useCallback(E=>{if(!E.destination)return;const A=E.source.index,O=E.destination.index;if(A===O)return;const I=Array.from(n),[j]=I.splice(A,1);I.splice(O,0,j);const P=I.map($=>$.id);requestAnimationFrame(()=>{a(P)})},[n,a]),v=R.useCallback(()=>{i(`Page ${n.length+1}`)},[n]),x=(E,A)=>{E.stopPropagation(),u(O=>({...O,[A]:E.currentTarget}))},w=E=>{u(A=>({...A,[E]:null}))},S=(E,A)=>{w(E),k(E,A)},C=E=>{w(E),o(E,r)},k=(E,A)=>{f(E),g(A)},T=async()=>{d&&p.trim()&&(await s(d,p.trim()),f(null),g(""))};return h.jsxs(h.Fragment,{children:[h.jsx(ore,{onDragEnd:y,children:h.jsx(lre,{droppableId:"pages",direction:"horizontal",children:E=>h.jsxs(Y,{ref:E.innerRef,...E.droppableProps,sx:{display:"flex",alignItems:"center",gap:.5,overflowX:"auto",position:"relative",mr:1},children:[n.map((A,O)=>h.jsx(are,{draggableId:A.id,index:O,children:(I,j)=>{const P=j.isDragging;return h.jsx(Y,{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,onClick:()=>{P||l(A.id)},onDoubleClick:()=>{P||k(A.id,A.name)},sx:{display:"flex",alignItems:"center",gap:.5,px:1.5,py:.75,height:32,...d===A.id&&{minWidth:200,flexShrink:0},fontSize:t.typography.body2.fontSize,borderRadius:"4px 4px 0 0",cursor:"pointer !important",borderBottom:`2px solid ${r===A.id?t.palette.primary.main:"transparent"}`,bgcolor:P?"action.selected":A.type==="automatic"?r===A.id?t.palette.dashboard.tabAutomaticTint:t.palette.dashboard.tabInactive:r===A.id?t.palette.dashboard.tabActive:t.palette.dashboard.tabInactive,color:r===A.id?"text.primary":"text.secondary",boxShadow:P?3:0,zIndex:P?2e3:"auto",position:P?"relative":"static","&:hover":{bgcolor:r===A.id?A.type==="automatic"?t.palette.dashboard.tabAutomaticTintHover:t.palette.dashboard.tabActive:A.type==="automatic"?t.palette.dashboard.tabAutomaticTintHover:t.palette.dashboard.tabInactive,color:"text.primary"},transition:P?"none":"all 0.2s"},children:d===A.id?h.jsx(zn,{value:p,onChange:$=>g($.target.value),onBlur:T,onKeyDown:$=>{$.key==="Enter"&&T(),$.key==="Escape"&&(g(A.name),f(null))},size:"small",autoFocus:!0,onClick:$=>$.stopPropagation(),sx:{width:200,flexShrink:0,"& .MuiInputBase-root":{height:28,fontSize:t.typography.body2.fontSize,backgroundColor:"background.paper",borderRadius:1},"& .MuiOutlinedInput-notchedOutline":{borderColor:"divider"}}}):h.jsxs(h.Fragment,{children:[A.type==="automatic"&&h.jsx(Dt,{enterDelay:600,enterNextDelay:600,leaveDelay:100,title:"Automatic pages add all blocks automatically to the layout and have a fixed layout grid",arrow:!0,children:h.jsx(MCn,{size:14,style:{color:t.palette.primary.main,flexShrink:0}})}),h.jsx(ae,{variant:"body2",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:220},children:A.name}),n.length>1&&h.jsxs(h.Fragment,{children:[h.jsx(Pt,{size:"small","data-testid":"page-menu-button",onClick:$=>x($,A.id),disabled:r!==A.id,sx:{opacity:r===A.id?1:0,visibility:r===A.id?"visible":"hidden",pointerEvents:r===A.id?"auto":"none","&:hover":{opacity:r===A.id?1:0},transition:"opacity 0.2s"},children:h.jsx(i9e,{style:{height:14,width:14}})}),h.jsxs(Uo,{anchorEl:c[A.id],open:!!c[A.id],onClose:()=>w(A.id),anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:[h.jsxs($t,{onClick:()=>S(A.id,A.name),children:[h.jsx(l9e,{size:16,style:{marginRight:t.spacing(1)}}),"Rename"]}),h.jsxs($t,{onClick:()=>C(A.id),sx:{color:"error.main"},children:[h.jsx(d9e,{size:16,style:{marginRight:t.spacing(1)}}),"Delete Page"]})]})]})]})})}},A.id)),E.placeholder]})})}),h.jsx(Pt,{size:"small",onClick:v,"data-testid":"create-new-dashboard-page",children:h.jsx(h_,{style:{height:16,width:16}})})]})}function Pkn({pipeId:e,mode:t="normal"}){const n=xt();return h.jsx(Y,{sx:{position:"fixed",bottom:0,left:0,right:0,height:40,display:"flex",alignItems:"center",px:1,borderTop:`1px solid ${n.palette.dashboard.border}`,bgcolor:t==="empty"?n.palette.dashboard.footerEmpty:n.palette.dashboard.footer,zIndex:1e3,margin:0,opacity:t==="empty"?.7:1},children:t==="empty"?h.jsx(Y,{sx:{px:2,width:"100%",textAlign:"center"},children:h.jsx(ae,{variant:"body2",color:"text.secondary",children:"No pages yet. Create your first page above."})}):h.jsxs(h.Fragment,{children:[h.jsx(kkn,{pipeId:e}),h.jsx(Akn,{pipeId:e})]})})}function Dkn({pipeId:e}){const t=sg();return{updateLayoutPanelSizes:R.useCallback(async(r,i)=>{const o=Math.round(i);await t.mutateAsync({path:{pipe_id:e},body:{op:"updatePanelSizes",targetId:r,panelSizes:[o,100-o]}})},[e,t])}}const Xg={error:"rgba(211, 47, 47, 0.01)",success:"rgba(46, 125, 50, 0.01)"},Okn=()=>{const e="block-highlight-styles";let t=document.getElementById(e);const n=`
    [data-empty-block-id].empty-block-hover-highlight {
      background-color: ${Xg.error} !important;
    }
    [data-empty-block-id].empty-block-hover-highlight-success {
      background-color: ${Xg.success} !important;
    }
    [data-panel-id].panel-hover-highlight {
      background-color: ${Xg.error} !important;
    }
    [data-panel-id].panel-hover-highlight-success {
      background-color: ${Xg.success} !important;
    }
    [data-layout-id].layout-hover-highlight {
      background-color: ${Xg.error} !important;
    }
    [data-layout-id].layout-hover-highlight > * {
      background-color: ${Xg.error} !important;
    }
    [data-layout-id].layout-hover-highlight-success {
      background-color: ${Xg.success} !important;
    }
    [data-layout-id].layout-hover-highlight-success > * {
      background-color: ${Xg.success} !important;
    }
  `;t?t.textContent=n:(t=document.createElement("style"),t.id=e,t.textContent=n,document.head.appendChild(t))};function k9e({emptyBlockId:e,parentPanelId:t,parentLayoutId:n,variant:r="error"}){R.useEffect(()=>{Okn()},[]);const i=r==="success"?"empty-block-hover-highlight-success":"empty-block-hover-highlight",o=r==="success"?"panel-hover-highlight-success":"panel-hover-highlight",s=r==="success"?"layout-hover-highlight-success":"layout-hover-highlight",a=R.useCallback(()=>{if(e){const c=document.querySelector(`[data-empty-block-id="${e}"]`);c&&c.classList.add(i)}if(t){const c=document.querySelector(`[data-panel-id="${t}"]`);c&&c.classList.add(o)}else if(n){const c=document.querySelector(`[data-layout-id="${n}"]`);c&&c.classList.add(s)}},[e,t,n,i,o,s]),l=R.useCallback(()=>{if(e){const c=document.querySelector(`[data-empty-block-id="${e}"]`);c&&c.classList.remove(i)}if(t){const c=document.querySelector(`[data-panel-id="${t}"]`);c&&c.classList.remove(o)}else if(n){const c=document.querySelector(`[data-layout-id="${n}"]`);c&&c.classList.remove(s)}},[e,t,n,i,o,s]);return{onMouseEnter:a,onMouseLeave:l}}const Ikn=()=>({id:`block-${crypto.randomUUID()}`,content:{kind:"empty"}}),jkn=(e,t)=>e.blocks?.find(r=>r.id===t);function $kn({widget:e,pipeId:t,username:n,pipeData:r,reloadCounter:i,onReload:o,isInScrollableLayout:s=!1}){if(e.content.kind!=="block")return null;const a=jkn(r,e.content.blockId);if(!a)return null;const l=a.identifier,c=a.order;return h.jsxs(Pr,{elevation:1,"data-layout-type":e.content.kind,"data-block-identifier":l,"data-block-title":a.title,"data-block-order":c,sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[h.jsx(i7e,{blockData:a,widgetId:e.id,pipeId:t,username:n,onReload:o,isInScrollableLayout:s}),h.jsx(Y,{sx:{flex:1,overflow:"auto"},children:h.jsx(jA,{pipeId:t,nodeId:a.flow_id,usernameFromPath:n,showTable:!1,isDashboardItem:!0,isFilterCategoriesSideBlock:!0,context:"dashboard"},i)})]})}function Fkn({widgetId:e,pipeId:t,buttonText:n="Add Widget",buttonVariant:r="outlined",buttonSize:i="medium",showIcon:o=!0}){const[s,a]=R.useState(null),l=u=>{a(u.currentTarget)},c=()=>{a(null)};return h.jsxs(h.Fragment,{children:[h.jsx(Be,{variant:r,size:i,startIcon:o?h.jsx(h_,{style:{height:16,width:16}}):void 0,onClick:l,children:n}),h.jsx(C9e,{widgetId:e,pipeId:t,anchorEl:s,onClose:c})]})}function Lkn({pipeId:e,widgetId:t,emptyBlockId:n,parentPanelId:r,parentLayoutId:i}){const o=sg(),s=k9e({emptyBlockId:n,parentPanelId:r,parentLayoutId:i}),a=()=>{o.mutateAsync({path:{pipe_id:e},body:{op:"deleteNode",targetId:t}})};return h.jsx(Pt,{size:"small",onClick:a,onMouseEnter:s.onMouseEnter,onMouseLeave:s.onMouseLeave,sx:{color:"error.main","&:hover":{bgcolor:"error.light",color:"error.dark"}},children:h.jsx(pz,{style:{height:16,width:16}})})}function Nb({panelId:e,children:t,widgetKind:n,sx:r,...i}){return h.jsx(Y,{"data-panel-id":e,sx:{height:"100%",width:"100%",py:n==="block"?1.25:0,px:n==="block"?1.25:0,overflow:"hidden",transition:"background-color 0.2s",...r},...i,children:t})}function Nkn({widgetId:e,pipeId:t,showDeleteButton:n,parentPanelId:r,parentLayoutId:i,blockHighlight:o}){const{activePage:s}=IA({pipeId:t}),a=xt(),l=`empty-block-${e}`;return s.type=="automatic"?null:h.jsx(Nb,{widgetKind:"empty",panelId:l,sx:{height:"100%",p:1.5},children:h.jsxs(Y,{"data-empty-block-id":l,sx:{height:"100%",minHeight:"20vh",flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,bgcolor:a.palette.dashboard.emptySlot,border:`1px dashed ${a.palette.dashboard.emptySlotBorder}`,borderRadius:1,transition:"background-color 0.2s"},children:[h.jsx(Y,{...o,children:h.jsx(Fkn,{widgetId:e,pipeId:t})}),n&&h.jsx(Lkn,{pipeId:t,widgetId:e,emptyBlockId:l,parentPanelId:r,parentLayoutId:i})]})})}function pi(e,t="Assertion error"){if(!e)throw Error(t)}function g_({group:e}){const{orientation:t,panels:n}=e;return n.reduce((r,i)=>(r+=t==="horizontal"?i.element.offsetWidth:i.element.offsetHeight,r),0)}function iY(e,t){return t.sort(e==="horizontal"?zkn:Bkn)}function zkn(e,t){const n=e.element.offsetLeft-t.element.offsetLeft;return n!==0?n:e.element.offsetWidth-t.element.offsetWidth}function Bkn(e,t){const n=e.element.offsetTop-t.element.offsetTop;return n!==0?n:e.element.offsetHeight-t.element.offsetHeight}function E9e(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function T9e(e,t){return{x:e.x>=t.left&&e.x<=t.right?0:Math.min(Math.abs(e.x-t.left),Math.abs(e.x-t.right)),y:e.y>=t.top&&e.y<=t.bottom?0:Math.min(Math.abs(e.y-t.top),Math.abs(e.y-t.bottom))}}function Ukn({orientation:e,rects:t,targetRect:n}){const r={x:n.x+n.width/2,y:n.y+n.height/2};let i,o=Number.MAX_VALUE;for(const s of t){const{x:a,y:l}=T9e(r,s),c=e==="horizontal"?a:l;c<o&&(o=c,i=s)}return pi(i,"No rect found"),i}function R9e(e){const{element:t,orientation:n,panels:r,separators:i}=e,o=iY(n,Array.from(t.children).filter(E9e).map(u=>({element:u}))).map(({element:u})=>u),s=[];let a=!1,l,c=[];for(const u of o)if(u.hasAttribute("data-panel")){const d=r.find(f=>f.element===u);if(d){if(l){const f=l.element.getBoundingClientRect(),p=u.getBoundingClientRect();let g;if(a){const y=n==="horizontal"?new DOMRect(f.right,f.top,0,f.height):new DOMRect(f.left,f.bottom,f.width,0),v=n==="horizontal"?new DOMRect(p.left,p.top,0,p.height):new DOMRect(p.left,p.top,p.width,0);switch(c.length){case 0:{g=[y,v];break}case 1:{const x=c[0],w=Ukn({orientation:n,rects:[f,p],targetRect:x.element.getBoundingClientRect()});g=[x,w===f?v:y];break}default:{g=c;break}}}else c.length?g=c:g=[n==="horizontal"?new DOMRect(f.right,p.top,p.left-f.right,p.height):new DOMRect(p.left,f.bottom,p.width,p.top-f.bottom)];for(const y of g)s.push({group:e,groupSize:g_({group:e}),panels:[l,d],separator:"width"in y?void 0:y,rect:"width"in y?y:y.element.getBoundingClientRect()})}a=!1,l=d,c=[]}}else if(u.hasAttribute("data-separator")){const d=i.find(f=>f.element===u);d?c.push(d):(l=void 0,c=[])}else a=!0;return s}function Vkn(e,t){const n=getComputedStyle(e),r=parseFloat(n.fontSize);return t*r}function Hkn(e,t){const n=getComputedStyle(e.ownerDocument.body),r=parseFloat(n.fontSize);return t*r}function Wkn(e){return e/100*window.innerHeight}function qkn(e){return e/100*window.innerWidth}function Gkn(e){switch(typeof e){case"number":return[e,"px"];case"string":{const t=parseFloat(e);return e.endsWith("%")?[t,"%"]:e.endsWith("px")?[t,"px"]:e.endsWith("rem")?[t,"rem"]:e.endsWith("em")?[t,"em"]:e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[t,"%"]}}}function hI({groupSize:e,panelElement:t,styleProp:n}){let r;const[i,o]=Gkn(n);switch(o){case"%":{r=i/100*e;break}case"px":{r=i;break}case"rem":{r=Hkn(t,i);break}case"em":{r=Vkn(t,i);break}case"vh":{r=Wkn(i);break}case"vw":{r=qkn(i);break}}return r}function kd(e){return parseFloat(e.toFixed(3))}function wwe(e){const{panels:t}=e,n=g_({group:e});return n===0?t.map(r=>({collapsedSize:0,collapsible:r.panelConstraints.collapsible===!0,defaultSize:void 0,minSize:0,maxSize:100,panelId:r.id})):t.map(r=>{const{element:i,panelConstraints:o}=r;let s=0;if(o.collapsedSize){const u=hI({groupSize:n,panelElement:i,styleProp:o.collapsedSize});s=kd(u/n*100)}let a;if(o.defaultSize){const u=hI({groupSize:n,panelElement:i,styleProp:o.defaultSize});a=kd(u/n*100)}let l=0;if(o.minSize){const u=hI({groupSize:n,panelElement:i,styleProp:o.minSize});l=kd(u/n*100)}let c=100;if(o.maxSize){const u=hI({groupSize:n,panelElement:i,styleProp:o.maxSize});c=kd(u/n*100)}return{collapsedSize:s,collapsible:o.collapsible===!0,defaultSize:a,minSize:l,maxSize:c,panelId:r.id}})}class Ykn{#e={};addListener(t,n){const r=this.#e[t];return r===void 0?this.#e[t]=[n]:r.includes(n)||r.push(n),()=>{this.removeListener(t,n)}}emit(t,n){const r=this.#e[t];if(r!==void 0)if(r.length===1)r[0].call(null,n);else{let i=!1,o=null;const s=Array.from(r);for(let a=0;a<s.length;a++){const l=s[a];try{l.call(null,n)}catch(c){o===null&&(i=!0,o=c)}}if(i)throw o}}removeAllListeners(){this.#e={}}removeListener(t,n){const r=this.#e[t];if(r!==void 0){const i=r.indexOf(n);i>=0&&r.splice(i,1)}}}function La(e,t,n=0){return Math.abs(kd(e)-kd(t))<=n}let tu={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Hv=new Ykn;function kp(){return tu}function Ru(e){const t=typeof e=="function"?e(tu):e;if(tu===t)return tu;const n=tu;return tu={...tu,...t},t.cursorFlags!==void 0&&Hv.emit("cursorFlagsChange",tu.cursorFlags),t.interactionState!==void 0&&Hv.emit("interactionStateChange",tu.interactionState),t.mountedGroups!==void 0&&(tu.mountedGroups.forEach((r,i)=>{r.derivedPanelConstraints.forEach(o=>{if(o.collapsible){const{layout:s}=n.mountedGroups.get(i)??{};if(s){const a=La(o.collapsedSize,r.layout[o.panelId]),l=La(o.collapsedSize,s[o.panelId]);a&&!l&&(i.inMemoryLastExpandedPanelSizes[o.panelId]=s[o.panelId])}}})}),Hv.emit("mountedGroupsChange",tu.mountedGroups)),tu}function Xkn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function ER(e,t){return La(e,t)?0:e>t?1:-1}function vw({panelConstraints:e,size:t}){const{collapsedSize:n=0,collapsible:r,maxSize:i=100,minSize:o=0}=e;if(ER(t,o)<0)if(r){const s=(n+o)/2;ER(t,s)<0?t=n:t=o}else t=o;return t=Math.min(i,t),t=kd(t),t}function TR({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:o}){if(La(e,0))return t;const s=Object.values(t),a=Object.values(i),l=[...s],[c,u]=r;pi(c!=null,"Invalid first pivot index"),pi(u!=null,"Invalid second pivot index");let d=0;if(o==="keyboard"){{const g=e<0?u:c,y=n[g];pi(y,`Panel constraints not found for index ${g}`);const{collapsedSize:v=0,collapsible:x,minSize:w=0}=y;if(x){const S=s[g];if(pi(S!=null,`Previous layout not found for panel index ${g}`),La(S,v)){const C=w-S;ER(C,Math.abs(e))>0&&(e=e<0?0-C:C)}}}{const g=e<0?c:u,y=n[g];pi(y,`No panel constraints found for index ${g}`);const{collapsedSize:v=0,collapsible:x,minSize:w=0}=y;if(x){const S=s[g];if(pi(S!=null,`Previous layout not found for panel index ${g}`),La(S,w)){const C=S-v;ER(C,Math.abs(e))>0&&(e=e<0?0-C:C)}}}}{const g=e<0?1:-1;let y=e<0?u:c,v=0;for(;;){const w=s[y];pi(w!=null,`Previous layout not found for panel index ${y}`);const S=vw({panelConstraints:n[y],size:100})-w;if(v+=S,y+=g,y<0||y>=n.length)break}const x=Math.min(Math.abs(e),Math.abs(v));e=e<0?0-x:x}{let g=e<0?c:u;for(;g>=0&&g<n.length;){const y=Math.abs(e)-Math.abs(d),v=s[g];pi(v!=null,`Previous layout not found for panel index ${g}`);const x=v-y,w=vw({panelConstraints:n[g],size:x});if(!La(v,w)&&(d+=v-w,l[g]=w,d.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(Xkn(a,l))return i;{const g=e<0?u:c,y=s[g];pi(y!=null,`Previous layout not found for panel index ${g}`);const v=y+d,x=vw({panelConstraints:n[g],size:v});if(l[g]=x,!La(x,v)){let w=v-x,S=e<0?u:c;for(;S>=0&&S<n.length;){const C=l[S];pi(C!=null,`Previous layout not found for panel index ${S}`);const k=C+w,T=vw({panelConstraints:n[S],size:k});if(La(C,T)||(w-=T-C,l[S]=T),La(w,0))break;e>0?S--:S++}}}const f=Object.values(l).reduce((g,y)=>y+g,0);if(!La(f,100,.1))return i;const p=Object.keys(i);return l.reduce((g,y,v)=>(g[p[v]]=y,g),{})}function jj(e){const{mountedGroups:t}=kp();for(const[n]of t)if(n.separators.some(r=>r.element===e))return n;throw Error("Could not find parent Group for separator element")}function CC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(t[n]===void 0||ER(e[n],t[n])!==0)return!1;return!0}function zb({layout:e,panelConstraints:t}){const n=[...Object.values(e)],r=n.reduce((s,a)=>s+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!La(r,100)&&n.length>0)for(let s=0;s<t.length;s++){const a=n[s];pi(a!=null,`No layout data found for index ${s}`);const l=100/r*a;n[s]=l}let i=0;for(let s=0;s<t.length;s++){const a=n[s];pi(a!=null,`No layout data found for index ${s}`);const l=vw({panelConstraints:t[s],size:a});a!=l&&(i+=a-l,n[s]=l)}if(!La(i,0))for(let s=0;s<t.length;s++){const a=n[s];pi(a!=null,`No layout data found for index ${s}`);const l=a+i,c=vw({panelConstraints:t[s],size:l});if(a!==c&&(i-=c-a,n[s]=c,La(i,0)))break}const o=Object.keys(e);return n.reduce((s,a,l)=>(s[o[l]]=a,s),{})}function M9e({groupId:e}){const t=()=>{const{mountedGroups:n}=kp();for(const[r,i]of n)if(r.id===e)return{group:r,...i};throw Error(`Could not find Group with id "${e}"`)};return{getLayout(){const{defaultLayoutDeferred:n,layout:r}=t();return n?{}:r},setLayout(n){const{defaultLayoutDeferred:r,derivedPanelConstraints:i,group:o,layout:s,separatorToPanels:a}=t(),l=zb({layout:n,panelConstraints:i});return r?s:(CC(s,l)||Ru(c=>({mountedGroups:new Map(c.mountedGroups).set(o,{defaultLayoutDeferred:r,derivedPanelConstraints:i,layout:l,separatorToPanels:a})})),l)}}}function A9e(e){const{mountedGroups:t}=kp(),n=t.get(e);return pi(n,`Mounted Group ${e.id} not found`),n}function Ly(e,t){const n=jj(e),r=A9e(n),i=n.separators.find(u=>u.element===e);pi(i,"Matching separator not found");const o=r.separatorToPanels.get(i);pi(o,"Matching panels not found");const s=o.map(u=>n.panels.indexOf(u)),a=M9e({groupId:n.id}).getLayout(),l=TR({delta:t,initialLayout:a,panelConstraints:r.derivedPanelConstraints,pivotIndices:s,prevLayout:a,trigger:"keyboard"}),c=zb({layout:l,panelConstraints:r.derivedPanelConstraints});CC(a,c)||Ru(u=>({mountedGroups:new Map(u.mountedGroups).set(n,{defaultLayoutDeferred:r.defaultLayoutDeferred,derivedPanelConstraints:r.derivedPanelConstraints,layout:c,separatorToPanels:r.separatorToPanels})}))}function Swe(e){if(e.defaultPrevented)return;const t=e.currentTarget,n=jj(t);if(!n.disabled)switch(e.key){case"ArrowDown":{e.preventDefault(),n.orientation==="vertical"&&Ly(t,5);break}case"ArrowLeft":{e.preventDefault(),n.orientation==="horizontal"&&Ly(t,-5);break}case"ArrowRight":{e.preventDefault(),n.orientation==="horizontal"&&Ly(t,5);break}case"ArrowUp":{e.preventDefault(),n.orientation==="vertical"&&Ly(t,-5);break}case"End":{e.preventDefault(),Ly(t,100);break}case"Enter":{e.preventDefault();const r=jj(t),{derivedPanelConstraints:i,layout:o,separatorToPanels:s}=A9e(r),a=r.separators.find(d=>d.element===t);pi(a,"Matching separator not found");const l=s.get(a);pi(l,"Matching panels not found");const c=l[0],u=i.find(d=>d.panelId===c.id);if(pi(u,"Panel metadata not found"),u.collapsible){const d=o[c.id],f=u.collapsedSize===d?r.inMemoryLastExpandedPanelSizes[c.id]??u.minSize:u.collapsedSize;Ly(t,f-d)}break}case"F6":{e.preventDefault();const r=jj(t).separators.map(s=>s.element),i=Array.from(r).findIndex(s=>s===e.currentTarget);pi(i!==null,"Index not found");const o=e.shiftKey?i>0?i-1:r.length-1:i+1<r.length?i+1:0;r[o].focus();break}case"Home":{e.preventDefault(),Ly(t,-100);break}}}const Kkn=e=>e,HU=()=>{},P9e=1,D9e=2,O9e=4,I9e=8,_we={coarse:10,precise:5};function Zkn(e,t,n){let r,i={x:1/0,y:1/0};for(const o of t){const s=T9e(n,o.rect);switch(e){case"horizontal":{s.x<=i.x&&(r=o,i=s);break}case"vertical":{s.y<=i.y&&(r=o,i=s);break}}}return r?{distance:i,hitRegion:r}:void 0}let gI;function Qkn(){return gI===void 0&&(typeof matchMedia=="function"?gI=!!matchMedia("(pointer:coarse)").matches:gI=!1),gI}function Jkn(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function eEn(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Ewe(e),b:Ewe(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;pi(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:kwe(Cwe(n.a)),b:kwe(Cwe(n.b))};if(i.a===i.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let a=o.length;for(;a--;){const l=o[a];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(i.a-i.b)}const tEn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function nEn(e){const t=getComputedStyle(j9e(e)??e).display;return t==="flex"||t==="inline-flex"}function rEn(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||nEn(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||tEn.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Cwe(e){let t=e.length;for(;t--;){const n=e[t];if(pi(n,"Missing node"),rEn(n))return n}return null}function kwe(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ewe(e){const t=[];for(;e;)t.push(e),e=j9e(e);return t}function j9e(e){const{parentNode:t}=e;return Jkn(t)?t.host:t}function iEn(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function oEn({groupElement:e,hitRegion:t,pointerEventTarget:n}){if(!E9e(n)||n.contains(e)||e.contains(n))return!0;if(eEn(n,e)>0){let r=n;for(;r;){if(r.contains(e))return!0;if(iEn(r.getBoundingClientRect(),t))return!1;r=r.parentElement}}return!0}function $9e(e,t){const n=[];return t.forEach((r,i)=>{if(i.disabled)return;const o=Qkn()?_we.coarse:_we.precise,s=R9e(i),a=Zkn(i.orientation,s,{x:e.clientX,y:e.clientY});a&&a.distance.x<=o&&a.distance.y<=o&&oEn({groupElement:i.element,hitRegion:a.hitRegion.rect,pointerEventTarget:e.target})&&n.push(a.hitRegion)}),n}function Twe(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{mountedGroups:t}=kp(),n=$9e(e,t),r=new Set,i=new Set,o=new Set,s=new Map;let a=!1;n.forEach(l=>{r.add(l.group),l.panels.forEach(u=>{i.add(u)}),l.separator&&(o.add(l.separator),a||(a=!0,l.separator.element.focus()));const c=t.get(l.group);c&&s.set(l.group,c.layout)}),Ru({interactionState:{hitRegions:n,initialLayoutMap:s,pointerDownAtPoint:{x:e.clientX,y:e.clientY},state:"active"}}),n.length&&e.preventDefault()}function sEn({cursorFlags:e,groups:t,state:n}){let r=0,i=0;switch(n){case"active":case"hover":t.forEach(o=>{if(!o.disableCursor)switch(o.orientation){case"horizontal":{r++;break}case"vertical":{i++;break}}})}if(r===0&&i===0)return null;switch(n){case"active":{const o=(e&P9e)!==0,s=(e&D9e)!==0,a=(e&O9e)!==0,l=(e&I9e)!==0;if(e){if(o)return a?"se-resize":l?"ne-resize":"e-resize";if(s)return a?"sw-resize":l?"nw-resize":"w-resize";if(a)return"s-resize";if(l)return"n-resize"}break}}return r>0&&i>0?"move":r>0?"ew-resize":"ns-resize"}const Rwe=new WeakMap;function mie(e){if(e.defaultView===null||e.defaultView===void 0)return;let{prevStyle:t,styleSheet:n}=Rwe.get(e)??{};n===void 0&&(n=new e.defaultView.CSSStyleSheet,e.adoptedStyleSheets=[n]);const{cursorFlags:r,interactionState:i}=kp();switch(i.state){case"active":case"hover":{const o=sEn({cursorFlags:r,groups:i.hitRegions.map(a=>a.group),state:i.state}),s=`*{cursor: ${o} !important; ${i.state==="active"?"touch-action: none;":""} }`;if(t===s)return;t=s,o?n.cssRules.length===0?n.insertRule(s):n.replaceSync(s):n.cssRules.length===1&&n.deleteRule(0);break}case"inactive":{t=void 0,n.cssRules.length===1&&n.deleteRule(0);break}}Rwe.set(e,{prevStyle:t,styleSheet:n})}function F9e({document:e,event:t,hitRegions:n,initialLayoutMap:r,mountedGroups:i,pointerDownAtPoint:o}){let s=0;const a=new Map(i);n.forEach(l=>{const{group:c,groupSize:u}=l,{disableCursor:d,orientation:f,panels:p}=c;let g=0;o?f==="horizontal"?g=(t.clientX-o.x)/u*100:g=(t.clientY-o.y)/u*100:f==="horizontal"?g=t.clientX<0?-100:100:g=t.clientY<0?-100:100;const y=r.get(c),{defaultLayoutDeferred:v,derivedPanelConstraints:x,layout:w,separatorToPanels:S}=i.get(c)??{defaultLayoutDeferred:!1};if(x&&y&&w&&S){const C=TR({delta:g,initialLayout:y,panelConstraints:x,pivotIndices:l.panels.map(k=>p.indexOf(k)),prevLayout:w,trigger:"mouse-or-touch"});if(CC(C,w)){if(g!==0&&!d)switch(f){case"horizontal":{s|=g<0?P9e:D9e;break}case"vertical":{s|=g<0?O9e:I9e;break}}}else{a.set(l.group,{defaultLayoutDeferred:v,derivedPanelConstraints:x,layout:C,separatorToPanels:S});const k=l.group.panels.map(({id:T})=>T).join(",");l.group.inMemoryLayouts[k]=C}}}),Ru({cursorFlags:s,mountedGroups:a}),mie(e)}function Mwe(e){const{interactionState:t,mountedGroups:n}=kp();switch(t.state){case"active":F9e({document:e.currentTarget,event:e,hitRegions:t.hitRegions,initialLayoutMap:t.initialLayoutMap,mountedGroups:n})}}function Awe(e){if(e.defaultPrevented)return;const{interactionState:t,mountedGroups:n}=kp();switch(t.state){case"active":{if(e.buttons===0){Ru(r=>r.interactionState.state==="inactive"?r:{cursorFlags:0,interactionState:{state:"inactive"}});return}F9e({document:e.currentTarget,event:e,hitRegions:t.hitRegions,initialLayoutMap:t.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:t.pointerDownAtPoint});break}default:{const r=$9e(e,n);r.length===0?t.state!=="inactive"&&Ru({interactionState:{state:"inactive"}}):Ru({interactionState:{hitRegions:r,state:"hover"}}),mie(e.currentTarget);break}}}function Pwe(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;e.preventDefault();const{interactionState:t}=kp();switch(t.state){case"active":Ru({cursorFlags:0,interactionState:{state:"inactive"}}),mie(e.currentTarget)}}function Dwe(e){let t=0,n=0;const r={};for(const o of e)if(o.defaultSize!==void 0){t++;const s=kd(o.defaultSize);n+=s,r[o.panelId]=s}else r[o.panelId]=void 0;const i=e.length-t;if(i!==0){const o=kd((100-n)/i);for(const s of e)s.defaultSize===void 0&&(r[s.panelId]=o)}return r}function aEn(e,t,n){const r=n[0];if(!r)return;const i=e.panels.find(l=>l.element===t);if(!i||!i.onResize)return;const o=g_({group:e}),s=i.mutableValues.prevSize,a={asPercentage:kd(r.inlineSize/o*100),inPixels:r.inlineSize};i.mutableValues.prevSize=a,i.onResize(a,i.id,s)}function lEn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function cEn(e,t){const n=e.map(i=>i.id),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n)if(!r.includes(i))return!1;return!0}const D1=new Map;function uEn(e){let t=!0;pi(e.element.ownerDocument.defaultView,"Cannot register an unmounted Group");const n=e.element.ownerDocument.defaultView.ResizeObserver,r=new Set,i=new Set,o=new n(g=>{for(const y of g){const{borderBoxSize:v,target:x}=y;if(x===e.element){if(t){if(g_({group:e})===0)return;Ru(w=>{const S=w.mountedGroups.get(e);if(S){const C=wwe(e),k=S.defaultLayoutDeferred?Dwe(C):S.layout,T=zb({layout:k,panelConstraints:C});return!S.defaultLayoutDeferred&&CC(k,T)&&lEn(S.derivedPanelConstraints,C)?w:{mountedGroups:new Map(w.mountedGroups).set(e,{defaultLayoutDeferred:!1,derivedPanelConstraints:C,layout:T,separatorToPanels:S.separatorToPanels})}}return w})}}else aEn(e,x,v)}});o.observe(e.element),e.panels.forEach(g=>{pi(!r.has(g.id),`Panel ids must be unique; id "${g.id}" was used more than once`),r.add(g.id),g.onResize&&o.observe(g.element)});const s=g_({group:e}),a=wwe(e),l=e.panels.map(({id:g})=>g).join(",");let c=e.defaultLayout;c&&(cEn(e.panels,c)||(c=void 0));const u=e.inMemoryLayouts[l]??c??Dwe(a),d=zb({layout:u,panelConstraints:a}),f=R9e(e),p=e.element.ownerDocument;return Ru(g=>{const y=new Map;return D1.set(p,(D1.get(p)??0)+1),f.forEach(v=>{v.separator&&y.set(v.separator,v.panels)}),{mountedGroups:new Map(g.mountedGroups).set(e,{defaultLayoutDeferred:s===0,derivedPanelConstraints:a,layout:d,separatorToPanels:y})}}),e.separators.forEach(g=>{pi(!i.has(g.id),`Separator ids must be unique; id "${g.id}" was used more than once`),i.add(g.id),g.element.addEventListener("keydown",Swe)}),D1.get(p)===1&&(p.addEventListener("pointerdown",Twe),p.addEventListener("pointerleave",Mwe),p.addEventListener("pointermove",Awe),p.addEventListener("pointerup",Pwe)),function(){t=!1,D1.set(p,Math.max(0,(D1.get(p)??0)-1)),Ru(g=>{const y=new Map(g.mountedGroups);return y.delete(e),{mountedGroups:y}}),e.separators.forEach(g=>{g.element.removeEventListener("keydown",Swe)}),D1.get(p)||(p.removeEventListener("pointerdown",Twe),p.removeEventListener("pointerleave",Mwe),p.removeEventListener("pointermove",Awe),p.removeEventListener("pointerup",Pwe)),o.disconnect()}}function dEn(){const[e,t]=R.useState({}),n=R.useCallback(()=>t({}),[]);return[e,n]}function yie(e){const t=R.useId();return`${e??t}`}const _x=typeof window<"u"?R.useLayoutEffect:R.useEffect;function vie(e){const t=R.useRef(e);return _x(()=>{t.current=e},[e]),R.useCallback((...n)=>t.current?.(...n),[t])}function bie(...e){return vie(t=>{e.forEach(n=>{if(n)switch(typeof n){case"function":{n(t);break}case"object":{n.current=t;break}}})})}function fEn(e){const t=R.useRef({...e});return _x(()=>{for(const n in e)t.current[n]=e[n]},[e]),t.current}const L9e="--react-resizable-panels--panel--pointer-events";function N9e(e,t){const n=e.replace(/[^a-zA-Z0-9\-_]/g,""),r=t.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${r}`}const z9e=R.createContext(null);function pEn(e,t){const n=R.useRef({getLayout:()=>({}),setLayout:Kkn});R.useImperativeHandle(t,()=>n.current,[]),_x(()=>{Object.assign(n.current,M9e({groupId:e}))})}function B9e({children:e,className:t,defaultLayout:n,disableCursor:r,disabled:i,elementRef:o,groupRef:s,id:a,onLayoutChange:l,orientation:c="horizontal",style:u,...d}){const f=R.useRef({}),p=vie(P=>{CC(f.current,P)||(f.current=P,l?.(P))}),g=yie(a),y=R.useRef(null),[v,x]=R.useState(!1),[w,S]=R.useState(n??{}),[C,k]=dEn(),T=R.useRef({lastExpandedPanelSizes:{},layouts:{},panels:[],separators:[]}),E=bie(y,o);pEn(g,s);const A=R.useMemo(()=>({id:g,orientation:c,registerPanel:P=>{const $=T.current;return $.panels=iY(c,[...$.panels,P]),k(),()=>{$.panels=$.panels.filter(D=>D!==P),k()}},registerSeparator:P=>{const $=T.current;return $.separators=iY(c,[...$.separators,P]),k(),()=>{$.separators=$.separators.filter(D=>D!==P),k()}}}),[g,k,c]),O=fEn({defaultLayout:n,disableCursor:r}),I=R.useRef(null);_x(()=>{const P=y.current;if(P===null)return;const $=T.current,D={defaultLayout:O.defaultLayout,disableCursor:!!O.disableCursor,disabled:!!i,element:P,id:g,inMemoryLastExpandedPanelSizes:T.current.lastExpandedPanelSizes,inMemoryLayouts:T.current.layouts,orientation:c,panels:$.panels,separators:$.separators};I.current=D;const F=uEn(D),N=kp().mountedGroups.get(D);if(N){const{defaultLayoutDeferred:U,derivedPanelConstraints:G,layout:z}=N;!U&&G.length>0&&(S(z),p?.(z))}const V=Hv.addListener("interactionStateChange",U=>{switch(U.state){case"active":{x(U.hitRegions.some(G=>G.group===D));break}default:{x(!1);break}}}),H=Hv.addListener("mountedGroupsChange",U=>{const G=U.get(D);if(G){const{defaultLayoutDeferred:z,derivedPanelConstraints:W,layout:X}=G;if(z||W.length===0)return;S(X),p?.(X)}});return()=>{I.current=null,F(),V(),H()}},[i,g,p,c,C,O]),R.useEffect(()=>{const P=I.current;P&&(P.defaultLayout=n,P.disableCursor=!!r)});const j={[L9e]:v?"none":void 0};for(const P in w){const $=N9e(g,P),D=w[P];j[$]=D}return h.jsx(z9e.Provider,{value:A,children:h.jsx("div",{...d,"aria-orientation":c,className:t,"data-group":!0,"data-testid":g,id:g,ref:E,style:{height:"100%",width:"100%",overflow:"hidden",...u,...j,display:"flex",flexDirection:c==="horizontal"?"row":"column",flexWrap:"nowrap"},children:e})})}B9e.displayName="Group";function xie(){const e=R.useContext(z9e);return pi(e,"Group Context not found; did you render a Panel or Separator outside of a Group?"),e}function hEn({groupId:e,panelId:t}){const n=()=>{const{mountedGroups:a}=kp();for(const[l,{defaultLayoutDeferred:c,derivedPanelConstraints:u,layout:d,separatorToPanels:f}]of a)if(l.id===e)return{defaultLayoutDeferred:c,derivedPanelConstraints:u,group:l,layout:d,separatorToPanels:f};throw Error(`Group ${e} not found`)},r=()=>{const a=n().derivedPanelConstraints.find(l=>l.panelId===t);if(a!==void 0)return a;throw Error(`Panel constraints not found for Panel ${t}`)},i=()=>{const a=n().group.panels.find(l=>l.id===t);if(a!==void 0)return a;throw Error(`Layout not found for Panel ${t}`)},o=()=>{const a=n().layout[t];if(a!==void 0)return a;throw Error(`Layout not found for Panel ${t}`)},s=a=>{const l=o();if(a===l)return;const{defaultLayoutDeferred:c,derivedPanelConstraints:u,group:d,layout:f,separatorToPanels:p}=n(),g=d.panels.findIndex(w=>w.id===t),y=g===d.panels.length-1,v=TR({delta:y?l-a:a-l,initialLayout:f,panelConstraints:u,pivotIndices:y?[g-1,g]:[g,g+1],prevLayout:f,trigger:"imperative-api"}),x=zb({layout:v,panelConstraints:u});CC(f,x)||Ru(w=>({mountedGroups:new Map(w.mountedGroups).set(d,{defaultLayoutDeferred:c,derivedPanelConstraints:u,layout:x,separatorToPanels:p})}))};return{collapse:()=>{const{collapsible:a,collapsedSize:l}=r(),{mutableValues:c}=i(),u=o();a&&u!==l&&(c.expandToSize=u,s(l))},expand:()=>{const{collapsible:a,collapsedSize:l,minSize:c}=r(),{mutableValues:u}=i(),d=o();if(a&&d===l){let f=u.expandToSize??c;f===0&&(f=1),s(f)}},getSize:()=>{const{group:a}=n(),l=o(),{element:c}=i(),u=a.orientation==="horizontal"?c.offsetWidth:c.offsetHeight;return{asPercentage:l,inPixels:u}},isCollapsed:()=>{const{collapsible:a,collapsedSize:l}=r(),c=o();return a&&La(l,c)},resize:a=>{if(o()!==a){let l;switch(typeof a){case"number":{const{group:c}=n(),u=g_({group:c});l=kd(a/u*100);break}case"string":{l=parseFloat(a);break}}s(l)}}}}function gEn(e,t){const{id:n}=xie(),r=R.useRef({collapse:HU,expand:HU,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:HU});R.useImperativeHandle(t,()=>r.current,[]),_x(()=>{Object.assign(r.current,hEn({groupId:n,panelId:e}))})}function U9e({children:e,className:t,collapsedSize:n="0%",collapsible:r=!1,defaultSize:i,elementRef:o,id:s,maxSize:a="100%",minSize:l="0%",onResize:c,panelRef:u,style:d,...f}){const p=!!s,g=yie(s),y=R.useRef(null),v=bie(y,o),{id:x,registerPanel:w}=xie(),S=c!==null,C=vie((T,E,A)=>{c?.(T,s,A)});_x(()=>{const T=y.current;if(T!==null)return w({element:T,id:g,idIsStable:p,mutableValues:{expandToSize:void 0,prevSize:void 0},onResize:S?C:void 0,panelConstraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l}})},[n,r,i,S,g,p,a,l,C,w]),gEn(g,u);const k=N9e(x,g);return h.jsx("div",{...f,"data-panel":!0,"data-testid":g,id:g,ref:v,style:{...mEn,flexBasis:0,flexGrow:`var(${k}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${L9e})`},children:h.jsx("div",{className:t,style:{width:"100%",height:"100%",...d},children:e})})}U9e.displayName="Panel";const mEn={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function yEn({layout:e,panelConstraints:t,panelId:n,panelIndex:r}){let i,o;const s=e[n],a=t.find(l=>l.panelId===n);if(a){const l=a.maxSize,c=o=a.collapsible?a.collapsedSize:a.minSize,u=[r,r+1];o=zb({layout:TR({delta:c-s,initialLayout:e,panelConstraints:t,pivotIndices:u,prevLayout:e,trigger:"keyboard"}),panelConstraints:t})[n],i=zb({layout:TR({delta:l-s,initialLayout:e,panelConstraints:t,pivotIndices:u,prevLayout:e,trigger:"keyboard"}),panelConstraints:t})[n]}return{valueControls:n,valueMax:i,valueMin:o,valueNow:s}}function wie({children:e,className:t,elementRef:n,id:r,style:i,...o}){const s=yie(r),[a,l]=R.useState({}),[c,u]=R.useState("inactive"),d=R.useRef(null),f=bie(d,n),{id:p,orientation:g,registerSeparator:y}=xie(),v=g==="horizontal"?"vertical":"horizontal";return _x(()=>{const x=d.current;if(x!==null){const w={element:x,id:s},S=y(w),C=Hv.addListener("interactionStateChange",T=>{u(T.state!=="inactive"&&T.hitRegions.some(E=>E.separator===w)?T.state:"inactive")}),k=Hv.addListener("mountedGroupsChange",T=>{T.forEach(({derivedPanelConstraints:E,layout:A,separatorToPanels:O},I)=>{if(I.id===p){const j=O.get(w);if(j){const P=j[0],$=I.panels.indexOf(P);l(yEn({layout:A,panelConstraints:E,panelId:P.id,panelIndex:$}))}}})});return()=>{C(),k(),S()}}},[p,s,y]),h.jsx("div",{...o,"aria-controls":a.valueControls,"aria-orientation":v,"aria-valuemax":a.valueMax,"aria-valuemin":a.valueMin,"aria-valuenow":a.valueNow,children:e,className:t,"data-separator":c,"data-testid":s,id:s,ref:f,role:"separator",style:{flexBasis:"auto",...i,flexGrow:0,flexShrink:0},tabIndex:0})}wie.displayName="Separator";const vEn=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},bEn=(e,t)=>({classGroupId:e,validator:t}),V9e=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Q3="-",Owe=[],xEn="arbitrary..",wEn=e=>{const t=_En(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return SEn(s);const a=s.split(Q3),l=a[0]===""&&a.length>1?1:0;return H9e(a,l,t)},getConflictingClassGroupIds:(s,a)=>{if(a){const l=r[s],c=n[s];return l?c?vEn(c,l):l:c||Owe}return n[s]||Owe}}},H9e=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],o=n.nextPart.get(i);if(o){const c=H9e(e,t+1,o);if(c)return c}const s=n.validators;if(s===null)return;const a=t===0?e.join(Q3):e.slice(t).join(Q3),l=s.length;for(let c=0;c<l;c++){const u=s[c];if(u.validator(a))return u.classGroupId}},SEn=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?xEn+r:void 0})(),_En=e=>{const{theme:t,classGroups:n}=e;return CEn(n,t)},CEn=(e,t)=>{const n=V9e();for(const r in e){const i=e[r];Sie(i,n,r,t)}return n},Sie=(e,t,n,r)=>{const i=e.length;for(let o=0;o<i;o++){const s=e[o];kEn(s,t,n,r)}},kEn=(e,t,n,r)=>{if(typeof e=="string"){EEn(e,t,n);return}if(typeof e=="function"){TEn(e,t,n,r);return}REn(e,t,n,r)},EEn=(e,t,n)=>{const r=e===""?t:W9e(t,e);r.classGroupId=n},TEn=(e,t,n,r)=>{if(MEn(e)){Sie(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(bEn(n,e))},REn=(e,t,n,r)=>{const i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,l]=i[s];Sie(l,W9e(t,a),n,r)}},W9e=(e,t)=>{let n=e;const r=t.split(Q3),i=r.length;for(let o=0;o<i;o++){const s=r[o];let a=n.nextPart.get(s);a||(a=V9e(),n.nextPart.set(s,a)),n=a}return n},MEn=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,AEn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(o,s)=>{n[o]=s,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(o){let s=n[o];if(s!==void 0)return s;if((s=r[o])!==void 0)return i(o,s),s},set(o,s){o in n?n[o]=s:i(o,s)}}},oY="!",Iwe=":",PEn=[],jwe=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),DEn=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let s=0,a=0,l=0,c;const u=i.length;for(let y=0;y<u;y++){const v=i[y];if(s===0&&a===0){if(v===Iwe){o.push(i.slice(l,y)),l=y+1;continue}if(v==="/"){c=y;continue}}v==="["?s++:v==="]"?s--:v==="("?a++:v===")"&&a--}const d=o.length===0?i:i.slice(l);let f=d,p=!1;d.endsWith(oY)?(f=d.slice(0,-1),p=!0):d.startsWith(oY)&&(f=d.slice(1),p=!0);const g=c&&c>l?c-l:void 0;return jwe(o,p,f,g)};if(t){const i=t+Iwe,o=r;r=s=>s.startsWith(i)?o(s.slice(i.length)):jwe(PEn,!1,s,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},OEn=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const s=n[o],a=s[0]==="[",l=t.has(s);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(s)):i.push(s)}return i.length>0&&(i.sort(),r.push(...i)),r}},IEn=e=>({cache:AEn(e.cacheSize),parseClassName:DEn(e),sortModifiers:OEn(e),...wEn(e)}),jEn=/\s+/,$En=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(jEn);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let v=!!y,x=r(v?g.substring(0,y):g);if(!x){if(!v){l=u+(l.length>0?" "+l:l);continue}if(x=r(g),!x){l=u+(l.length>0?" "+l:l);continue}v=!1}const w=f.length===0?"":f.length===1?f[0]:o(f).join(":"),S=p?w+oY:w,C=S+x;if(s.indexOf(C)>-1)continue;s.push(C);const k=i(x,v);for(let T=0;T<k.length;++T){const E=k[T];s.push(S+E)}l=u+(l.length>0?" "+l:l)}return l},FEn=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=q9e(n))&&(i&&(i+=" "),i+=r);return i},q9e=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=q9e(e[r]))&&(n&&(n+=" "),n+=t);return n},LEn=(e,...t)=>{let n,r,i,o;const s=l=>{const c=t.reduce((u,d)=>d(u),e());return n=IEn(c),r=n.cache.get,i=n.cache.set,o=a,a(l)},a=l=>{const c=r(l);if(c)return c;const u=$En(l,n);return i(l,u),u};return o=s,(...l)=>o(FEn(...l))},NEn=[],Ko=e=>{const t=n=>n[e]||NEn;return t.isThemeGetter=!0,t},G9e=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Y9e=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zEn=/^\d+\/\d+$/,BEn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UEn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VEn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,HEn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WEn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,O1=e=>zEn.test(e),Qn=e=>!!e&&!Number.isNaN(Number(e)),Kg=e=>!!e&&Number.isInteger(Number(e)),WU=e=>e.endsWith("%")&&Qn(e.slice(0,-1)),eh=e=>BEn.test(e),qEn=()=>!0,GEn=e=>UEn.test(e)&&!VEn.test(e),X9e=()=>!1,YEn=e=>HEn.test(e),XEn=e=>WEn.test(e),KEn=e=>!Zt(e)&&!Qt(e),ZEn=e=>kC(e,Q9e,X9e),Zt=e=>G9e.test(e),Ny=e=>kC(e,J9e,GEn),qU=e=>kC(e,nTn,Qn),$we=e=>kC(e,K9e,X9e),QEn=e=>kC(e,Z9e,XEn),mI=e=>kC(e,e7e,YEn),Qt=e=>Y9e.test(e),xk=e=>EC(e,J9e),JEn=e=>EC(e,rTn),Fwe=e=>EC(e,K9e),eTn=e=>EC(e,Q9e),tTn=e=>EC(e,Z9e),yI=e=>EC(e,e7e,!0),kC=(e,t,n)=>{const r=G9e.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},EC=(e,t,n=!1)=>{const r=Y9e.exec(e);return r?r[1]?t(r[1]):n:!1},K9e=e=>e==="position"||e==="percentage",Z9e=e=>e==="image"||e==="url",Q9e=e=>e==="length"||e==="size"||e==="bg-size",J9e=e=>e==="length",nTn=e=>e==="number",rTn=e=>e==="family-name",e7e=e=>e==="shadow",iTn=()=>{const e=Ko("color"),t=Ko("font"),n=Ko("text"),r=Ko("font-weight"),i=Ko("tracking"),o=Ko("leading"),s=Ko("breakpoint"),a=Ko("container"),l=Ko("spacing"),c=Ko("radius"),u=Ko("shadow"),d=Ko("inset-shadow"),f=Ko("text-shadow"),p=Ko("drop-shadow"),g=Ko("blur"),y=Ko("perspective"),v=Ko("aspect"),x=Ko("ease"),w=Ko("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...C(),Qt,Zt],T=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],A=()=>[Qt,Zt,l],O=()=>[O1,"full","auto",...A()],I=()=>[Kg,"none","subgrid",Qt,Zt],j=()=>["auto",{span:["full",Kg,Qt,Zt]},Kg,Qt,Zt],P=()=>[Kg,"auto",Qt,Zt],$=()=>["auto","min","max","fr",Qt,Zt],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...A()],V=()=>[O1,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],H=()=>[e,Qt,Zt],U=()=>[...C(),Fwe,$we,{position:[Qt,Zt]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",eTn,ZEn,{size:[Qt,Zt]}],W=()=>[WU,xk,Ny],X=()=>["","none","full",c,Qt,Zt],Q=()=>["",Qn,xk,Ny],ee=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Qn,WU,Fwe,$we],ce=()=>["","none",g,Qt,Zt],re=()=>["none",Qn,Qt,Zt],ge=()=>["none",Qn,Qt,Zt],he=()=>[Qn,Qt,Zt],ie=()=>[O1,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[eh],breakpoint:[eh],color:[qEn],container:[eh],"drop-shadow":[eh],ease:["in","out","in-out"],font:[KEn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[eh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[eh],shadow:[eh],spacing:["px",Qn],text:[eh],"text-shadow":[eh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",O1,Zt,Qt,v]}],container:["container"],columns:[{columns:[Qn,Zt,Qt,a]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Kg,"auto",Qt,Zt]}],basis:[{basis:[O1,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qn,O1,"auto","initial","none",Zt]}],grow:[{grow:["",Qn,Qt,Zt]}],shrink:[{shrink:["",Qn,Qt,Zt]}],order:[{order:[Kg,"first","last","none",Qt,Zt]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[a,"screen",...V()]}],"min-w":[{"min-w":[a,"screen","none",...V()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",n,xk,Ny]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Qt,qU]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",WU,Zt]}],"font-family":[{font:[JEn,Zt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Qt,Zt]}],"line-clamp":[{"line-clamp":[Qn,"none",Qt,qU]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Qt,Zt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qt,Zt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qn,"from-font","auto",Qt,Ny]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Qn,"auto",Qt,Zt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qt,Zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qt,Zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kg,Qt,Zt],radial:["",Qt,Zt],conic:[Kg,Qt,Zt]},tTn,QEn]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qn,Qt,Zt]}],"outline-w":[{outline:["",Qn,xk,Ny]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",u,yI,mI]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",d,yI,mI]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Qn,Ny]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",f,yI,mI]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Qn,Qt,Zt]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qn]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Qt,Zt]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Qn]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Qt,Zt]}],filter:[{filter:["","none",Qt,Zt]}],blur:[{blur:ce()}],brightness:[{brightness:[Qn,Qt,Zt]}],contrast:[{contrast:[Qn,Qt,Zt]}],"drop-shadow":[{"drop-shadow":["","none",p,yI,mI]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Qn,Qt,Zt]}],"hue-rotate":[{"hue-rotate":[Qn,Qt,Zt]}],invert:[{invert:["",Qn,Qt,Zt]}],saturate:[{saturate:[Qn,Qt,Zt]}],sepia:[{sepia:["",Qn,Qt,Zt]}],"backdrop-filter":[{"backdrop-filter":["","none",Qt,Zt]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[Qn,Qt,Zt]}],"backdrop-contrast":[{"backdrop-contrast":[Qn,Qt,Zt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qn,Qt,Zt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qn,Qt,Zt]}],"backdrop-invert":[{"backdrop-invert":["",Qn,Qt,Zt]}],"backdrop-opacity":[{"backdrop-opacity":[Qn,Qt,Zt]}],"backdrop-saturate":[{"backdrop-saturate":[Qn,Qt,Zt]}],"backdrop-sepia":[{"backdrop-sepia":["",Qn,Qt,Zt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qt,Zt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qn,"initial",Qt,Zt]}],ease:[{ease:["linear","initial",x,Qt,Zt]}],delay:[{delay:[Qn,Qt,Zt]}],animate:[{animate:["none",w,Qt,Zt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Qt,Zt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[Qt,Zt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ie()}],"translate-x":[{"translate-x":ie()}],"translate-y":[{"translate-y":ie()}],"translate-z":[{"translate-z":ie()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qt,Zt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qt,Zt]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Qn,xk,Ny,qU]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oTn=LEn(iTn);function _ie(...e){return oTn(je(e))}function Cie({className:e,...t}){return h.jsx(B9e,{"data-slot":"resizable-panel-group",className:_ie("flex h-screen w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function m_({...e}){return h.jsx(U9e,{"data-slot":"resizable-panel",...e})}function sTn({className:e,children:t,...n}){return h.jsx(wie,{"data-slot":"resizable-handle",className:_ie("relative flex items-center justify-center bg-transparent focus-visible:outline-hidden","w-px","before:content-[''] before:absolute before:inset-y-0 before:-left-2 before:-right-3 before:bg-transparent","after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] after:-translate-x-1/2 after:bg-border hover:after:bg-gray-500",e),...n,children:t})}function aTn({className:e,children:t,...n}){return h.jsx(wie,{"data-slot":"resizable-handle",className:_ie("relative flex items-center justify-center bg-transparent focus-visible:outline-hidden","h-px w-full min-h-[4px]","before:content-[''] before:absolute before:inset-x-0 before:-top-2 before:-bottom-2 before:bg-transparent","after:absolute after:left-0 after:right-0 after:top-1/2 after:h-[2px] after:w-full after:-translate-y-1/2 after:bg-border hover:after:bg-gray-500","[&>div]:rotate-90",e),...n,children:t})}function kie({orientation:e="horizontal",className:t,children:n,...r}){return e==="vertical"?h.jsx(aTn,{className:t,...r,children:n}):h.jsx(sTn,{className:t,...r,children:n})}function lTn({widget:e,panelSizes:t,onPanelResize:n,depth:r,pipeId:i,username:o,pipeData:s,activeTabId:a}){if(e.content.kind!=="layout"||e.content.type!=="horizontal-split")return null;const{children:l}=e.content,c=l[0].content.kind==="empty",u=l[1].content.kind==="empty",f=c&&u||!c||!u;return h.jsx(Y,{"data-testid":"dashboard-widget-layout-horizontal-split","data-layout-id":e.id,"data-layout-type":e.content.type,sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:"background-color 0.2s"},children:h.jsx(Y,{sx:{flex:1,overflow:"hidden"},children:h.jsxs(Cie,{orientation:"horizontal",style:{height:"100%",width:"100%"},id:e.id,children:[h.jsx(m_,{defaultSize:`${t[0]}%`,minSize:"5%",onResize:({asPercentage:p})=>{n(p)},children:h.jsx(Nb,{panelId:`${e.id}-panel-0`,widgetKind:l[0].content.kind,children:h.jsx(Bb,{widget:l[0],depth:r+1,pipeId:i,username:o,pipeData:s,parentLayoutId:c&&f?e.id:void 0,parentPanelId:`${e.id}-panel-0`,showDeleteButton:c&&f,activeTabId:a})})}),h.jsx(kie,{orientation:"horizontal"}),h.jsx(m_,{defaultSize:`${t[1]}%`,minSize:"5%",children:h.jsx(Nb,{panelId:`${e.id}-panel-1`,widgetKind:l[1].content.kind,children:h.jsx(Bb,{widget:l[1],depth:r+1,pipeId:i,username:o,pipeData:s,parentLayoutId:u&&f?e.id:void 0,parentPanelId:`${e.id}-panel-1`,showDeleteButton:u&&f,activeTabId:a})})})]})})})}function cTn({widget:e,depth:t,pipeId:n,username:r,pipeData:i,activeTabId:o}){if(e.content.kind!=="layout"||e.content.type!=="scrollable")return null;const{children:s}=e.content,a=s.every(l=>l.content.kind==="empty");return h.jsx(Y,{"data-layout-id":e.id,"data-layout-type":e.content.type,sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative",transition:"background-color 0.2s"},children:h.jsx(Nb,{panelId:e.id,widgetKind:"layout",sx:{flex:1,overflow:"auto",scrollSnapType:"y proximity",scrollPaddingBlock:8},children:h.jsx(gt,{spacing:1,children:s.map(l=>h.jsx(Y,{sx:{scrollSnapAlign:"start",scrollSnapStop:"normal"},children:h.jsx(Nb,{panelId:l.id,widgetKind:l.content.kind,children:h.jsx(Bb,{widget:l,depth:t+1,pipeId:n,username:r,pipeData:i,parentLayoutId:a?e.id:void 0,showDeleteButton:a,activeTabId:o,isInScrollableLayout:!0})})},l.id))})})})}function uTn({widget:e,depth:t,pipeId:n,username:r,pipeData:i}){const o=xt(),[s,a]=R.useState(""),l=sg(),{updateWidget:c}=_9e({pipeId:n});if(e.content.kind!=="layout"||e.content.type!=="tabs")return null;const u=()=>{l.mutateAsync({path:{pipe_id:n},body:{op:"deleteNode",targetId:e.id}})},{children:d}=e.content,f=s&&d.some(g=>g.id===s)?s:d[0]?.id??"",p=()=>{const g=Ikn();e.content.kind==="layout"&&(c(e.id,{...e.content,children:[...d,g]}),a(g.id))};return h.jsxs(Pr,{elevation:1,"data-layout-id":e.id,"data-layout-type":e.content.type,sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5,px:1,pt:.75,pb:0,borderBottom:`1px solid ${o.palette.dashboard.border}`,bgcolor:o.palette.dashboard.surfaceSubtle},children:[d.map((g,y)=>h.jsxs(Y,{onClick:()=>a(g.id),sx:{display:"flex",alignItems:"center",gap:.5,px:1.5,py:.75,fontSize:o.typography.body2.fontSize,borderRadius:"4px 4px 0 0",cursor:"pointer",borderBottom:`2px solid ${f===g.id?o.palette.primary.main:"transparent"}`,bgcolor:f===g.id?o.palette.dashboard.tabActive:o.palette.dashboard.tabInactive,color:f===g.id?"text.primary":"text.secondary","&:hover":{bgcolor:o.palette.dashboard.tabInactive,color:"text.primary"},transition:"all 0.2s"},children:["Tab ",y+1]},g.id)),h.jsx(Pt,{size:"small",onClick:p,children:h.jsx(h_,{style:{height:12,width:12}})}),h.jsx(Y,{sx:{flexGrow:1}}),h.jsx(Pt,{size:"small",onClick:u,sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:-.75},children:h.jsx(pz,{style:{height:12,width:12}})})]}),h.jsx(Y,{"data-testid":"tabs-widget-content",sx:{flex:1,p:.5,position:"relative",overflow:"hidden"},children:f&&d.filter(g=>g.id===f).map(g=>h.jsx(Bb,{widget:g,depth:t+1,pipeId:n,username:r,pipeData:i},g.id))})]})}function dTn({widget:e,panelSizes:t,onPanelResize:n,depth:r,pipeId:i,username:o,pipeData:s,activeTabId:a}){const l=R.useRef(null),c=R.useCallback(()=>{if(l.current){const{asPercentage:y}=l.current.getSize();n(y)}},[n]);if(e.content.kind!=="layout"||e.content.type!=="vertical-split")return null;const{children:u}=e.content,d=u[0].content.kind==="empty",f=u[1].content.kind==="empty",g=d&&f||!d||!f;return h.jsx(Y,{"data-testid":"dashboard-widget-layout-vertical-split","data-layout-id":e.id,"data-layout-type":e.content.type,sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:"background-color 0.2s"},children:h.jsx(Y,{sx:{flex:1,overflow:"hidden"},children:h.jsxs(Cie,{orientation:"vertical",style:{height:"100%",width:"100%"},id:e.id,children:[h.jsx(m_,{defaultSize:`${t[0]}%`,minSize:"5%",panelRef:l,onResize:c,children:h.jsx(Nb,{panelId:`${e.id}-panel-0`,widgetKind:u[0].content.kind,children:h.jsx(Bb,{widget:u[0],depth:r+1,pipeId:i,username:o,pipeData:s,parentLayoutId:d&&g?e.id:void 0,parentPanelId:`${e.id}-panel-0`,showDeleteButton:d&&g,activeTabId:a})})}),h.jsx(kie,{orientation:"vertical"}),h.jsx(m_,{defaultSize:`${t[1]}%`,minSize:"5%",children:h.jsx(Nb,{panelId:`${e.id}-panel-1`,widgetKind:u[1].content.kind,children:h.jsx(Bb,{widget:u[1],depth:r+1,pipeId:i,username:o,pipeData:s,parentLayoutId:f&&g?e.id:void 0,parentPanelId:`${e.id}-panel-1`,showDeleteButton:f&&g,activeTabId:a})})})]})})})}function Bb({widget:e,depth:t=0,pipeId:n,username:r,parentLayoutId:i,pipeData:o,activeTabId:s,parentPanelId:a,showDeleteButton:l,isInScrollableLayout:c=!1}){const[u,d]=R.useState(0),{updateLayoutPanelSizes:f}=Dkn({pipeId:n}),p=R.useMemo(()=>OA(v=>f(e.id,v),600),[e.id,f]),g=e.content.kind==="empty"?`empty-block-${e.id}`:void 0,y=k9e({emptyBlockId:g,parentPanelId:a,parentLayoutId:i,variant:"success"});if(e.content.kind==="empty")return h.jsx(Nkn,{widgetId:e.id,pipeId:n,showDeleteButton:l,parentPanelId:a,parentLayoutId:i,blockHighlight:y});if(e.content.kind==="block")return h.jsx($kn,{widget:e,pipeId:n,username:r,pipeData:o,reloadCounter:u,onReload:()=>d(v=>v+1),isInScrollableLayout:c});if(e.content.kind==="layout"){const{type:v}=e.content,x=e.content.panelSizes&&e.content.panelSizes.length===2?e.content.panelSizes:[50,50];if(v==="horizontal-split")return h.jsx(lTn,{widget:e,panelSizes:x,onPanelResize:p,depth:t,pipeId:n,username:r,pipeData:o,activeTabId:s});if(v==="vertical-split")return h.jsx(dTn,{widget:e,panelSizes:x,onPanelResize:p,depth:t,pipeId:n,username:r,pipeData:o,activeTabId:s});if(v==="tabs")return h.jsx(uTn,{widget:e,depth:t,pipeId:n,username:r,pipeData:o});if(v==="scrollable")return h.jsx(cTn,{widget:e,depth:t,pipeId:n,username:r,pipeData:o,activeTabId:s})}return null}function fTn({emptyBlockId:e,pipeId:t,username:n}){const r=xt(),i=`/pipe/${ba(n,t)}`;return h.jsx(gt,{flex:1,"data-empty-block-id":e,sx:{bgcolor:r.palette.dashboard.surface,position:"relative",overflow:"hidden",alignItems:"center",justifyContent:"center",minHeight:0,p:2},children:h.jsx(Pr,{elevation:0,variant:"outlined",sx:{maxWidth:420,width:"100%",p:4,textAlign:"center",borderStyle:"dashed",borderColor:r.palette.dashboard.border,bgcolor:r.palette.dashboard.surfaceSubtle},children:h.jsxs(gt,{spacing:2,alignItems:"center",children:[h.jsx(Y,{sx:{width:56,height:56,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"action.selected",color:"text.secondary"},children:h.jsx(l9e,{size:28,strokeWidth:1.5})}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"h6",component:"h2",color:"text.primary",children:"No widgets yet"}),h.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:"Add blocks in the pipeline editor to see them here on the dashboard."})]}),h.jsx(Pr,{variant:"outlined",sx:{p:1.5,width:"100%",bgcolor:r.palette.dashboard.surface,borderColor:r.palette.dashboard.border},children:h.jsxs(Y,{sx:{display:"flex",gap:1.5,height:96},children:[h.jsxs(Y,{sx:{width:"20%",bgcolor:r.palette.dashboard.previewTint,borderRadius:.5,p:1,display:"flex",flexDirection:"column",gap:.75,border:`1px solid ${r.palette.dashboard.previewBorder}`},children:[h.jsx(Y,{sx:{height:6,width:"75%",bgcolor:r.palette.dashboard.previewBlock,borderRadius:.25}}),[1,2,3,4].map(o=>h.jsx(Y,{sx:{height:4,width:o===4?"67%":"100%",bgcolor:r.palette.dashboard.previewBlock,borderRadius:.25}},o))]}),h.jsxs(Y,{sx:{flex:1,display:"flex",flexDirection:"column",gap:1.5},children:[h.jsx(Y,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:1.5},children:[1,2,3].map(o=>h.jsx(Y,{sx:{height:32,bgcolor:r.palette.dashboard.previewBlock,borderRadius:.5,border:`1px solid ${r.palette.dashboard.border}`}},o))}),h.jsx(Y,{sx:{height:48,bgcolor:r.palette.dashboard.previewBlock,borderRadius:.5,border:`1px solid ${r.palette.dashboard.border}`}}),h.jsx(Y,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1.5},children:[1,2].map(o=>h.jsx(Y,{sx:{height:40,bgcolor:r.palette.dashboard.previewBlock,borderRadius:.5,border:`1px solid ${r.palette.dashboard.border}`}},o))})]})]})}),i&&h.jsx(Be,{component:wY,to:i,variant:"contained",sx:{mt:1},children:"Open pipeline editor"})]})})})}function pTn({page:e,pipeId:t,username:n,pipeData:r,activeTabId:i}){const o=r.blocks&&r.blocks.length>0;return e.rootWidget.content.kind==="empty"&&!o?h.jsx(fTn,{emptyBlockId:`empty-block-${e.rootWidget.id}`,pipeId:t,username:n}):h.jsx(Bb,{widget:e.rootWidget,pipeId:t,username:n,pipeData:r,activeTabId:i})}const t7e=R.createContext(null);function hTn({activePageId:e,children:t,pageIds:n}){const[r,i]=R.useState(new Set);R.useEffect(()=>{e&&i(l=>{const c=new Set(l);return c.add(e),c})},[e]),R.useEffect(()=>{r.size===0&&e&&i(new Set([e]))},[r.size,e]);const o=n?.slice().sort().join(",")??"";R.useEffect(()=>{if(n&&n.length>0){const l=new Set(n);i(c=>{const u=new Set(c);for(const d of c)l.has(d)||u.delete(d);return u})}},[o]);const s=R.useCallback(l=>{i(c=>{const u=new Set(c);return u.add(l),u})},[]),a=R.useMemo(()=>({activePageId:e,accessedPageIds:r,registerPage:s}),[e,r,s]);return h.jsx(t7e.Provider,{value:a,children:h.jsx(Y,{sx:{flex:1,overflow:"hidden",position:"relative",height:"100%"},children:t})})}function gTn({pageId:e,children:t}){const n=xt(),r=R.useContext(t7e);if(!r)throw new Error("LazyTab must be used within LazyTabs");const{activePageId:i,accessedPageIds:o,registerPage:s}=r,a=e===i,l=o.has(e);return R.useEffect(()=>{a&&!l&&s(e)},[a,l,e,s]),l?h.jsx(Y,{role:"tabpanel",hidden:!a,"data-pageid":e,sx:{position:"absolute",inset:0,display:a?"flex":"none",flexDirection:"column",bgcolor:n.palette.dashboard.surface,borderRadius:1,overflow:"hidden"},"data-split-container":!0,children:h.jsx(Y,{"data-testid":"lazy-tab-content",sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",flex:1},children:t})}):null}function mTn({pipeId:e,username:t}){const{data:n,isLoading:r}=ls(e),{tabId:i}=Eie.useSearch(),{pages:o,isLoading:s,activePageId:a,activePage:l}=IA({pipeId:e});return s||r||!n?h.jsx(cz,{variant:"spinner-only"}):n?l?h.jsx(DA,{loading:s,variant:"spinner-only",children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",height:"calc(100vh - 85px)",overflow:"hidden",position:"relative",p:1},children:[o&&h.jsx(hTn,{activePageId:a,pageIds:o.map(c=>c.id),children:o.map(c=>h.jsx(gTn,{pageId:c.id,children:h.jsx(pTn,{page:c,pipeId:e,username:t,pipeData:n,activeTabId:i})},c.id))}),h.jsx(Pkn,{pipeId:e})]})}):h.jsx(xwe,{title:"Error: No active page found",description:"This should not happen. Please refresh the page or contact support."}):h.jsx(xwe,{title:"Error: Pipe data not available",description:"Please refresh the page or contact support."})}const yTn=sie({tabId:Hw().optional()}),Eie=mo("/dashboard/$pipeId/page/$pageId")({component:vTn,validateSearch:yTn});function vTn(){const{pipeId:e,username:t}=Ca();return!e||!t?null:h.jsxs(ef,{children:[h.jsx(hie,{pipeId:e,shouldShowBackToPipeButton:!0}),h.jsx(mTn,{pipeId:e,username:t})]})}function IA({pipeId:e}){const{data:t,isLoading:n,error:r}=aZ(e),{pageId:i}=Eie.useParams(),o=t?.pages??[],s=i,a=o.find(l=>l.id===s)||o[0];return{pages:o,layout:t,activePageId:s,activePage:a,isLoading:n,error:r}}function bTn(e){return{mean:"Mean Calculation",relative:"Relative Calculation",relative_to_checks:"Relative To Checks Calculation",file_import:"File Import",long_to_wide:"Long to Wide",wide_to_long:"Wide to Long",breakout:"Breakout",export:"Export",rename_columns:"Rename Columns",create_subgroup:"Create Subgroup",filter_orthogonal:"Orthogonal Filter",filter_standard:"Filter Standard",plot_swap:"Plot Swap",h2h_matrix:"Head to Head Matrix",correlation_matrix:"Correlation Matrix",box_plot:"Box Plot",show_table:"Show Table",scatter_plot:"Scatter Plot",bar_plot:"Bar Plot",histogram_plot:"Histogram Plot",heatmap:"Heatmap",violin_plot:"Violin Plot"}[e]??e}function xTn({anchorEl:e,onClose:t,blockData:n,pipeId:r,username:i,flowId:o}){const s=iZ(),a=n.title,l=n.description??"",[c,u]=R.useState(!1),[d,f]=R.useState(!1),[p,g]=R.useState(a),[y,v]=R.useState(l),x=()=>{t(),u(!1),f(!1),g(a),v(l)},w=()=>{u(!0),g(a)},S=()=>{f(!0),v(l)},C=async()=>{try{await s.mutateAsync({pipeId:r,nodeId:o,username:i,title:p,description:l}),u(!1)}catch(T){console.error("Failed to update block title:",T)}},k=async()=>{try{await s.mutateAsync({pipeId:r,nodeId:o,username:i,title:a,description:y}),f(!1)}catch(T){console.error("Failed to update block description:",T)}};return h.jsx(t4,{open:!!e,anchorEl:e,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{width:320,p:2}},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Y,{sx:{display:"inline-flex",alignItems:"center","& svg":{height:16,width:16}},children:h.jsx(C0,{identifier:n.identifier})}),h.jsx(ae,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:bTn(n.identifier)})]}),h.jsx(vi,{}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:500},children:"Title"}),!c&&h.jsx(Be,{variant:"text",size:"small",onClick:w,sx:{minWidth:"auto",height:24,fontSize:"0.75rem",textTransform:"none"},startIcon:h.jsx(hwe,{style:{height:12,width:12}}),children:"Edit"})]}),c?h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[h.jsx(zn,{fullWidth:!0,value:p,onChange:T=>g(T.target.value.slice(0,50)),placeholder:"Enter block title...",variant:"outlined",size:"small",autoFocus:!0,sx:{"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:[p.length,"/50"]}),h.jsxs(Y,{sx:{display:"flex",gap:1},children:[h.jsx(Be,{variant:"text",size:"small",onClick:()=>u(!1),sx:{height:28,fontSize:"0.75rem",textTransform:"none"},children:"Cancel"}),h.jsx(Be,{variant:"contained",size:"small",onClick:C,disabled:p.length===0||p.length>50,sx:{height:28,fontSize:"0.75rem",textTransform:"none"},children:"Save"})]})]})]}):h.jsx(ae,{variant:"body2",color:"text.primary",sx:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.6},children:a}),h.jsx(vi,{}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"body2",sx:{fontWeight:500},children:"Description"}),!d&&h.jsx(Be,{variant:"text",size:"small",onClick:S,sx:{minWidth:"auto",height:24,fontSize:"0.75rem",textTransform:"none"},startIcon:h.jsx(hwe,{style:{height:12,width:12}}),children:"Edit"})]}),d?h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[h.jsx(zn,{fullWidth:!0,multiline:!0,rows:4,value:y,onChange:T=>v(T.target.value.slice(0,500)),placeholder:"Add a description...",variant:"outlined",size:"small",autoFocus:!0,sx:{"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:[y.length,"/500"]}),h.jsxs(Y,{sx:{display:"flex",gap:1},children:[h.jsx(Be,{variant:"text",size:"small",onClick:()=>f(!1),sx:{height:28,fontSize:"0.75rem",textTransform:"none"},children:"Cancel"}),h.jsx(Be,{variant:"contained",size:"small",onClick:k,sx:{height:28,fontSize:"0.75rem",textTransform:"none"},children:"Save"})]})]})]}):h.jsx(ae,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem",lineHeight:1.6,whiteSpace:"pre-wrap"},children:l||"No description available"})]})})}function n7e(e){const t=e==="scatter_plot",n=lie.includes(e),r=["violin_plot","scatter_plot","box_plot","bar_plot","histogram_plot","correlation_matrix","heatmap"].includes(e),i=["violin_plot","scatter_plot","box_plot","bar_plot","histogram_plot","correlation_matrix","heatmap"].includes(e);return{shouldShowFullScreenButton:r,shouldShowBrushZoomToggle:t,shouldShowRefreshButton:i,shouldShowSkipBlockToggle:n,shouldShowTableShape:e==="show_table"}}function r7e({size:e="small"}){const t=xt(),n=dp(),{data:r}=V_(n.username),i=P4(),[o,s]=R.useState(r?.plot_interaction||"brush");R.useEffect(()=>{r?.plot_interaction&&s(r.plot_interaction)},[r?.plot_interaction]);const a=c=>{const u=c.target.checked?"zoom":"brush";s(u),n.username&&i.mutate({path:{username:n.username},body:{plot_interaction:u}})},l=e==="small"?14:18;return h.jsx(Dt,{enterDelay:600,enterNextDelay:600,leaveDelay:100,title:"Toggle between Brush and Move/Zoom in Scatterplot",children:h.jsxs(Y,{onClick:()=>{a({target:{checked:o!=="zoom"}})},sx:{display:"flex",alignItems:"center",gap:.5,mr:1,cursor:"pointer",px:1,py:.3,borderRadius:1,transition:"background-color 0.2s ease-in-out","&:hover":{backgroundColor:t.palette.action.hover}},children:[h.jsx(PCn,{size:l,style:{opacity:o==="brush"?1:.4}}),h.jsx(Su,{control:h.jsx(Bf,{size:"small",checked:o==="zoom",onChange:a,onClick:c=>c.stopPropagation(),sx:{"& .MuiSwitch-thumb":{width:12,height:12},"&:hover":{backgroundColor:"transparent"},"& .MuiSwitch-switchBase:hover":{backgroundColor:"transparent"}}}),label:"",sx:{margin:0}}),h.jsx(hCn,{size:l,style:{opacity:o==="zoom"?1:.4}})]})})}function wTn({open:e,onClose:t,blockData:n,pipeId:r,username:i,onReload:o}){const s=xt(),a=()=>{o?.(),t()},{shouldShowBrushZoomToggle:l,shouldShowRefreshButton:c}=n7e(n.identifier),u={"&:hover":{bgcolor:"action.hover"}};return h.jsx(Oi,{open:e,onClose:a,maxWidth:!1,fullWidth:!0,fullScreen:!0,PaperProps:{sx:{m:0,height:"100vh",maxHeight:"100vh"}},children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.5,py:1,borderBottom:`1px solid ${s.palette.dashboard.border}`},children:[h.jsx(ae,{variant:"h6",children:n.title}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5},children:[l&&h.jsxs(h.Fragment,{children:[h.jsx(r7e,{size:"small"}),h.jsx(vi,{orientation:"vertical",flexItem:!0,sx:{height:"20px",mt:.5}})]}),c&&o&&h.jsx(Pt,{size:"small",onClick:o,sx:u,children:h.jsx(c9e,{style:{height:16,width:16}})}),h.jsx(Pt,{size:"small",onClick:a,sx:u,children:h.jsx(pz,{style:{height:16,width:16}})})]})]}),h.jsx(Y,{sx:{flex:1,overflow:"auto"},children:h.jsx(jA,{pipeId:r,nodeId:n.flow_id,usernameFromPath:i,showTable:!1,isDashboardItem:!0,context:"fullscreen"})})]})})}function STn({open:e,onClose:t,pipeId:n}){const{data:r,isLoading:i}=ls(n),o=T4(),s=pn(),{showError:a,showSuccess:l}=Wi(),c=R.useMemo(()=>r?.blocks?r.blocks.filter(x=>x.dashboard_configuration.view_in_dashboard).filter(x=>x.identifier!==nn.filter_standard).map(x=>({id:x.id,name:x.title,order:x.order,identifier:x.identifier,description:x.description})):[],[r?.blocks]),[u,d]=R.useState([]),[f,p]=R.useState(!1);R.useEffect(()=>{d(c),p(!1)},[c]);const g=x=>{if(!x.destination)return;const w=Array.from(u),[S]=w.splice(x.source.index,1);w.splice(x.destination.index,0,S);const C=w.map((k,T)=>({...k,order:T+1}));d(C),p(!0)},y=()=>{if(!r?.id){a("Unable to save: Pipeline data not available");return}const x=u.map(w=>({id:w.id,order:w.order}));o.mutate({body:{operation:"update_order",value:{blocks:x}},path:{pipe_id:r.id}},{onSuccess:()=>{l("Block order updated successfully"),s.invalidateQueries({queryKey:["pipe",n]}),t()},onError:w=>{a(w?.response?.data?.message??"Failed to update block order")}})},v=o.isPending;return h.jsxs(Oi,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[h.jsx(no,{sx:{pt:3},children:h.jsxs(_s,{children:[h.jsx(Cs,{children:"Sort Blocks"}),i&&h.jsx(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:h.jsx(To,{})}),!i&&c.length===0&&h.jsx(yo,{sx:{mb:2},children:"No blocks found."}),!i&&c.length>0&&u.length===0&&h.jsx(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:h.jsx(To,{})}),!i&&u.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(yo,{sx:{mb:2,fontSize:"0.875rem"},children:"Drag and drop blocks to reorder them."}),h.jsx(Y,{sx:{maxHeight:400,overflowY:"auto",overflowX:"hidden"},children:h.jsx(ore,{onDragEnd:g,children:h.jsx(lre,{droppableId:"blocks",children:x=>h.jsxs("div",{...x.droppableProps,ref:x.innerRef,children:[u.map((w,S)=>h.jsx(are,{draggableId:w.id.toString(),index:S,children:(C,k)=>h.jsxs(Y,{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,sx:{display:"flex",alignItems:"center",gap:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,mb:1,px:2,py:.5,bgcolor:k.isDragging?"action.selected":"background.paper",boxShadow:k.isDragging?3:0,cursor:"grab","&:active":{cursor:"grabbing"}},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:h.jsx(C0,{identifier:w.identifier})}),h.jsx(_h,{primary:w.name,secondary:w.description,primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"caption",color:"text.secondary"}})]})},w.id)),x.placeholder]})})})})]})]})}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:t,children:"Close"}),h.jsx(Be,{onClick:y,variant:"contained",disabled:u.length===0||v||!f,children:v?"Saving...":"Save Order"})]})]})}function _Tn({anchorEl:e,open:t,onClose:n,pipeId:r,widgetId:i,blockData:o,isCustomPage:s,isInScrollableLayout:a=!1,onEdit:l,onExport:c,onPinToReport:u,onChangeWidget:d}){const{isProd:f,isKws:p}=Ul(),[g,y]=R.useState(!1),v=sg(),x=()=>{v.mutateAsync({path:{pipe_id:r},body:{op:"deleteNode",targetId:i}})},w=()=>{n(),y(!0)};return h.jsxs(h.Fragment,{children:[h.jsxs(Uo,{anchorEl:e,open:t,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[h.jsxs($t,{onClick:()=>{n(),l()},sx:{display:"flex",justifyContent:"space-between"},children:["Edit",h.jsx(H_n,{style:{height:16,width:16,marginLeft:8}})]}),fz.includes(o.identifier)&&[h.jsxs($t,{onClick:()=>{n(),c()},sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(Y,{sx:{mr:1},children:"Download"}),h.jsx(z_n,{style:{height:16,width:16}})]},"menu-item-export")],a&&[h.jsx(vi,{},"divider-sort"),h.jsxs($t,{onClick:w,sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(Y,{sx:{mr:1},children:"Sort Block"}),h.jsx(k_n,{style:{height:16,width:16}})]},"menu-item-sort")],!(f&&p)&&h.jsxs($t,{onClick:()=>{n(),u()},sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(Y,{sx:{mr:1},children:"Pin to Report"}),h.jsx(vCn,{style:{height:16,width:16,transform:"rotate(45deg)"}})]}),s&&[h.jsx(vi,{},"divider-custom"),h.jsx($t,{onClick:S=>{n(),d(S)},children:"Change Widget"},"menu-item-change"),h.jsx($t,{sx:{color:"error.main"},onClick:()=>{n(),x()},children:"Delete Widget"},"menu-item-delete")]]}),h.jsx(STn,{open:g,onClose:()=>y(!1),pipeId:r})]})}function i7e({blockData:e,widgetId:t,pipeId:n,username:r,onReload:i,isInScrollableLayout:o=!1,children:s}){const a=xt(),l=Kr(),{activePage:c}=IA({pipeId:n}),u=c.type==="custom",[d,f]=R.useState(null),[p,g]=R.useState(!1),[y,v]=R.useState(!1),[x,w]=R.useState(!1),[S,C]=R.useState(null),[k,T]=R.useState(null),E=V=>{f(V.currentTarget)},A=()=>{f(null)},O=V=>{T(null),C(V.currentTarget)},{shouldShowBrushZoomToggle:I,shouldShowRefreshButton:j,shouldShowSkipBlockToggle:P,shouldShowTableShape:$,shouldShowFullScreenButton:D}=n7e(e.identifier),F={"&:hover":{bgcolor:"action.hover"}};if(e.identifier==="plot_swap")return h.jsx(mwe,{name:Z3.PlotSwapWidgetHeader,id:`block-${e.pipe_id}-${e.flow_id}-plot-swap`});const N=P&&{bgcolor:e.skip?a.palette.dashboard.surface:a.palette.dashboard.tabActive};return h.jsxs(h.Fragment,{children:[h.jsxs(Y,{sx:{display:"grid",gridTemplateColumns:"1fr auto 1fr",alignItems:"center",gap:1,px:1.5,py:1,borderBottom:`1px solid ${a.palette.dashboard.border}`,...N},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center",minWidth:0},children:h.jsxs(O4,{onClick:E,children:[h.jsx(Y,{sx:{display:"inline-flex",alignItems:"center",marginRight:1,"& svg":{height:16,width:16}},children:h.jsx(C0,{identifier:e.identifier})}),h.jsx(ae,{"data-widget-title":e.title,variant:"body2",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.875rem",lineHeight:1},children:e.title})]})}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[s,$&&h.jsx(mwe,{name:Z3.DataTableShapeBadge,id:`block-${e.pipe_id}-${e.flow_id}-show-table-shape-badge`})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"flex-end"},children:[I&&h.jsxs(h.Fragment,{children:[h.jsx(r7e,{size:"small"}),h.jsx(vi,{orientation:"vertical",flexItem:!0,sx:{height:"20px",mt:.5}})]}),P&&h.jsx(Ckn,{pipeId:n,nodeId:e.flow_id,username:r,skip:e.skip??!1,onToggled:i}),j&&i&&h.jsx(Pt,{size:"small",onClick:i,sx:F,children:h.jsx(c9e,{style:{height:16,width:16}})}),D&&h.jsx(Pt,{size:"small",onClick:()=>{g(!0),i?.()},sx:F,children:h.jsx(a9e,{style:{height:16,width:16}})}),h.jsx(Pt,{size:"small","aria-label":"Block Details Options Menu","data-testid":"block-menu-button",onClick:V=>T(V.currentTarget),sx:F,children:h.jsx(i9e,{style:{height:16,width:16}})})]})]}),h.jsx(_Tn,{anchorEl:k,open:!!k,onClose:()=>T(null),pipeId:n,blockData:e,widgetId:t,isCustomPage:u,isInScrollableLayout:o,onEdit:()=>{l({to:`/pipe/${ba(r,n)}/block/${e?.flow_id}`})},onFullscreen:()=>{g(!0),i?.()},onReload:i??(()=>{}),onExport:()=>v(!0),onPinToReport:()=>w(!0),onChangeWidget:O}),h.jsx(xTn,{anchorEl:d,onClose:A,blockData:e,pipeId:n,username:r,flowId:e.flow_id}),h.jsx(C9e,{pipeId:n,widgetId:t,anchorEl:S,onClose:()=>C(null),anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}}),h.jsx(wTn,{open:p,onClose:()=>g(!1),blockData:e,pipeId:n,username:r,onReload:i}),h.jsx(Y8e,{open:y,onClose:()=>v(!1),pipeId:n,nodeId:e.flow_id,filename:e.title,username:r}),h.jsx(X8e,{open:x,onClose:()=>w(!1),blockTitle:e.title,blockId:e.id})]})}const CTn=({pipeId:e,block:t,usernameFromPath:n,isDashboardItem:r,reload:i,onSelectionChanged:o,showTable:s=!0})=>{const[a,l]=R.useState(0),{data:c}=ls(e),u=t.parent_blocks,d=R.useMemo(()=>{if(t){if(t.identifier==="plot_swap"){const p=t.parent_blocks;if(p&&p.length>0)return p[a%p.length]}return t}},[u,a]),f=R.useMemo(()=>(u??[]).map(p=>h.jsx(jA,{pipeId:e,nodeId:p.flow_id,usernameFromPath:n,reload:i,showTable:s,isDashboardItem:r,hideBlockDetails:!0,onSelectionChanged:o},`${p.flow_id}`)),[u,e,n,i,s,r,o]);return!u||u.length===0?h.jsx("div",{children:"Please configure input blocks for the Swap Plot"}):!d||!c?null:h.jsxs(gt,{direction:"column",children:[f.map((p,g)=>h.jsx(Y,{sx:{display:g===a%f.length?"block":"none"},children:p},g)),h.jsx(v9e,{name:Z3.PlotSwapWidgetHeader,to:`block-${t.pipe_id}-${t.flow_id}-plot-swap`,children:h.jsx(i7e,{blockData:d,widgetId:"",pipeId:e,username:n,children:h.jsx(Y,{children:h.jsx(Dt,{title:"Swap to alternative Block",children:h.jsx(Be,{variant:"contained",size:"small",onClick:()=>{l(a+1)},children:"Swap"})})})})})]})};function kTn({pipeId:e,nodeId:t,usernameFromPath:n,block:r,showTable:i=!0,isDashboardItem:o=!1,onSelectionChanged:s=()=>{}}){const a=xt(),c=!Wd(n)(),u=r?.data?.value??{},{data:d=[]}=dAe({pipeId:e,nodeId:t,username:n,pagination:{pageIndex:0,pageSize:1}}),f=d.length>0&&d[0]?.meta?.columns?d[0].meta.columns:[],p=ZMt(),[g,y]=R.useState(!1),[v,x]=R.useState(""),[w,S]=R.useState(""),k=Object.keys(u).length>0,T=()=>{!v.trim()||!w.trim()||!c||p.mutate({pipeId:e,nodeId:t,username:n,headerMapping:{[v.trim()]:w.trim()},reset:!1},{onSuccess:()=>{x(""),S(""),y(!1),s()}})},E=A=>{c&&p.mutate({pipeId:e,nodeId:t,username:n,headerMapping:{[A]:A},reset:!0},{onSuccess:()=>s()})};return h.jsxs(gt,{direction:"column",spacing:2,children:[h.jsx(Pr,{elevation:0,sx:{width:"100%",borderRadius:2,overflow:"hidden",...o?{border:"none",boxShadow:"none",bgcolor:"transparent"}:{border:`1px solid ${a.palette.divider}`}},children:h.jsxs(Y,{sx:{px:2,pb:2,pt:2},children:[k&&h.jsx(gt,{spacing:1.5,sx:{mb:2},children:h.jsx(gt,{spacing:1,children:Object.entries(u).map(([A,O])=>h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,p:1.25,borderRadius:1,border:`1px solid ${a.palette.divider}`,bgcolor:"background.paper","&:hover":{bgcolor:a.palette.action.hover}},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,flex:1,minWidth:0},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",noWrap:!0,sx:{flex:1,minWidth:0},children:A}),h.jsx(__n,{size:14,style:{color:a.palette.text.secondary,opacity:.6,flexShrink:0}}),h.jsx(ae,{variant:"caption",fontWeight:600,noWrap:!0,sx:{flex:1,minWidth:0},children:O})]}),c&&h.jsx(Dt,{title:"Revert to original name",children:h.jsx(Pt,{size:"small",onClick:()=>E(A),disabled:p.isPending,sx:{flexShrink:0},children:h.jsx(d9e,{size:14})})})]},A))})}),c&&h.jsx(h.Fragment,{children:g?h.jsxs(Y,{sx:{p:1.5,borderRadius:1,border:`2px dashed ${a.palette.primary.main}`,borderColor:"primary.main",bgcolor:a.palette.primary.main+"0D"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.5},children:[h.jsx(ae,{variant:"caption",fontWeight:500,children:"New Renaming"}),h.jsx(Pt,{size:"small",onClick:()=>{y(!1),x(""),S("")},children:h.jsx(pz,{size:16})})]}),h.jsxs(gt,{spacing:1.5,children:[h.jsxs(Qf,{fullWidth:!0,size:"small",children:[h.jsx(JF,{id:"rename-original-column-label",children:"Original Column Name"}),h.jsxs(Vd,{labelId:"rename-original-column-label",value:v,label:"Original Column Name",onChange:A=>x(A.target.value),onKeyDown:A=>{A.key==="Enter"?T():A.key==="Escape"&&(y(!1),x(""),S(""))},children:[h.jsx($t,{value:"",children:h.jsx("em",{children:"Select column"})}),f.map(A=>h.jsx($t,{value:A,children:A},A))]})]}),h.jsxs(Y,{children:[h.jsx(ae,{variant:"caption",color:"text.secondary",component:"label",display:"block",sx:{mb:.5},children:"New Column Name"}),h.jsx(zn,{fullWidth:!0,size:"small",placeholder:"e.g., Cylinders2",value:w,onChange:A=>S(A.target.value),onKeyDown:A=>{A.key==="Enter"?T():A.key==="Escape"&&(y(!1),x(""),S(""))}})]}),h.jsx(Be,{variant:"contained",size:"small",startIcon:h.jsx(h_,{size:14}),onClick:T,disabled:!v.trim()||!w.trim()||p.isPending,fullWidth:!0,children:"Add Renaming"})]})]}):h.jsx(Be,{variant:"outlined",size:"small",startIcon:h.jsx(h_,{size:16}),onClick:()=>y(!0),fullWidth:!0,children:"Add Column Renaming"})})]})}),i&&h.jsx(Y,{sx:{mt:1},children:h.jsx(Q0,{pipeId:e,nodeId:t,username:n,block:r,reloadPipeCounter:0,config:r.configuration})})]})}const ETn=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,showTable:i})=>{const o=xt(),{data:s,isLoading:a,refetch:l}=vMt(e,t,n),c=!!s?.old_value_columns?.length,u=!!s?.id_columns?.length;return R.useEffect(()=>{r&&l()},[r,l]),h.jsxs(Y,{children:[h.jsx(Y,{children:s&&h.jsxs(Pr,{elevation:0,sx:{padding:2},children:[!c&&h.jsx(ae,{variant:"body1",children:"No value columns selected - using all numeric columns"}),!u&&h.jsx(ae,{variant:"body1",children:"No id columns selected"}),c&&u&&h.jsxs(gt,{direction:"column",spacing:1,children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[h.jsx(ae,{variant:"body1",children:'Input "Value Variables" columns'}),s.old_value_columns?.map(d=>h.jsx(Ci,{label:d,size:"small"},d))]}),h.jsxs(Y,{component:"ul",sx:{"& li":{mb:1}},children:[h.jsx(Y,{component:"li",children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[h.jsx(ae,{variant:"body1",children:"Become new columns"}),s.new_value_columns?.map(d=>h.jsx(Ci,{label:d,size:"small"},d))]})}),h.jsx(Y,{component:"li",children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[h.jsx(ae,{variant:"body1",children:"With options"}),s.new_values?.map(d=>h.jsx(Ci,{label:d,size:"small",sx:{backgroundColor:ut(o.palette.primary.main,.1)}},d)),h.jsx(ae,{variant:"body1",children:'within "Category Column"'}),h.jsx(Ci,{label:s.new_variable_column,size:"small"},s.new_variable_column)]})}),h.jsx(Y,{component:"li",children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[h.jsx(ae,{variant:"body1",children:'Indexed by "ID Columns"'}),s.id_columns?.map(d=>h.jsx(Ci,{label:d,size:"small"},d))]})})]})]})]})}),i&&h.jsx(Y,{sx:{mt:3},children:h.jsx(Q0,{pipeId:e,nodeId:t,username:n,reloadPipeCounter:r})}),h.jsx(p_,{loading:a})]})},jA=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,showTable:i=!0,isDashboardItem:o=!1,context:s="detail-page",onSelectionChanged:a=()=>{}})=>{const[l,c]=R.useState(0),{data:u,isLoading:d,isError:f,error:p,refetch:g}=B_(e,t,n);return R.useEffect(()=>{r&&g()},[r,g]),R.useEffect(()=>{c(l+1)},[r]),d?h.jsx(Sa,{}):f?h.jsx(Nu,{additionalSx:{mt:o?0:7},children:h.jsx(gie,{error:p,refetch:g,pipeId:e,usernameFromPath:n})}):u?u.identifier==="plot_swap"?h.jsx(CTn,{pipeId:e,block:u,usernameFromPath:n,reload:r??0,isDashboardItem:o??!1,showTable:i,onSelectionChanged:a}):u.identifier==="file_import"?h.jsx(ykn,{pipeId:e,nodeId:t,usernameFromPath:n,showTable:i,onSelectionChanged:a}):u.identifier==="rename_columns"?h.jsx(kTn,{pipeId:e,nodeId:t,usernameFromPath:n,block:u,showTable:i,isDashboardItem:o,onSelectionChanged:a}):fz.includes(u.identifier)?h.jsx(Y,{sx:{m:1},children:h.jsx(tkn,{pipeId:e,nodeId:t,reloadCounter:l,onSelectionChanged:a,showTable:i,usernameFromPath:n,isDashboardItem:o,block:u,isFullScreen:s==="fullscreen"})}):cie.includes(u.identifier)?!i&&!B8e.includes(u.identifier)?h.jsx(h.Fragment,{}):h.jsx(Q0,{pipeId:e,nodeId:t,block:u,username:n,reloadPipeCounter:r,config:u.configuration}):u.identifier==="filter_standard"?h.jsx(_kn,{pipeId:e,nodeId:t,showTable:i,onSelectionChanged:a,isFilterCategoriesSideBlock:!0}):u.identifier==="create_subgroup"?h.jsx(pkn,{pipeId:e,nodeId:t,blockType:u.identifier,usernameFromPath:n,showTable:i,onSelectionChanged:a,isFilterCategoriesSideBlock:!1}):u.identifier==="filter_orthogonal"?h.jsx(vkn,{pipeId:e,nodeId:t,usernameFromPath:n,block:u,reload:l,isDashboardItem:o,onSelectionChanged:a}):u.identifier==="wide_to_long"?h.jsx(ETn,{pipeId:e,nodeId:t,usernameFromPath:n,reload:l,showTable:i??!1}):u.identifier==="export"?h.jsx(hkn,{pipeId:e,nodeId:t,usernameFromPath:n,reload:r??0,showTable:i}):null:h.jsx(Ww,{children:h.jsx(Nu,{children:h.jsx(ae,{variant:"body1",children:"No block data available"})})})},TTn=({pipeId:e,nodeId:t,reportId:n,usernameFromPath:r})=>{const{data:i,isLoading:o,isError:s,error:a,refetch:l}=B_(e,t,r),c=xt();if(o)return h.jsx(Sa,{});if(s)return h.jsx(Nu,{additionalSx:{mt:0},children:h.jsx(gie,{error:a,refetch:l,pipeId:e,usernameFromPath:r})});if(!i)return h.jsx(Ww,{children:h.jsx(Nu,{children:h.jsx(ae,{variant:"body1",children:"No block data available"})})});const u=()=>h.jsx(fie,{pipeId:e,nodeId:i.flow_id,reportId:n,context:"report",usernameFromPath:r,isOnDashboard:!0,isFilterCategoriesSideBlock:!1});return h.jsxs("div",{className:"pipe-item",style:{marginBottom:"0px",paddingBottom:"50px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:c.palette.background.paper,borderRadius:"8px"},children:[h.jsx("div",{style:{marginTop:"3rem",display:"flex",maxWidth:"800px",width:"100%"},children:u()}),h.jsx("div",{style:{padding:"10px",alignItems:"stretch",display:"flex",flexDirection:"column",width:"100%"},children:h.jsx(jA,{pipeId:e,nodeId:t,showTable:!1,usernameFromPath:r})})]},i.id)},RTn=({reportId:e,insertionIndex:t})=>{const[n,r]=R.useState(!1),i=mAe(),{showSuccess:o,showError:s}=Wi(),a=xt(),{isDarkMode:l}=Li(),c=lg({defaultValues:{title:"",description:""},onSubmit:async({value:u})=>{await i.mutateAsync({body:{type:"TextReportBlock",title:u.title,description:u.description,order:t},path:{id:e}},{onError:d=>{s(d?.response?.data?.type??"Failed to add text block.")},onSuccess:()=>{o("Text block added successfully!"),r(!1),c.reset()}})}});return R.useEffect(()=>{n&&c.reset()},[n,c]),h.jsxs(h.Fragment,{children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",top:"25px",borderRadius:"20px","&:hover .add-text-button":{opacity:1,zIndex:999,pointerEvents:"auto"},"&:hover .add-icon-button":{opacity:0}},children:[h.jsx(Pt,{onClick:()=>r(!0),className:"add-icon-button",size:"small",sx:{opacity:1,backgroundColor:l?a.palette.grey[800]:a.palette.grey.A100,transition:"opacity 0.2s ease-in-out, background-color 0.2s ease-in-out","&:hover":{backgroundColor:"unset",opacity:1}},"aria-label":"Add text block",children:h.jsx(h_,{color:"grey",size:10})}),h.jsx(Be,{onClick:()=>r(!0),className:"add-text-button",size:"small",variant:"outlined",sx:{position:"absolute",opacity:0,background:a.palette.primary.light,transition:"opacity 0.2s ease-in-out",minWidth:"100px",whiteSpace:"nowrap",px:2,pointerEvents:"none"},children:"Add Text"})]}),h.jsxs(MM,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[h.jsx(Do,{children:"Add Text Block"}),h.jsx(no,{sx:{display:"flex",flexDirection:"column",gap:2},children:h.jsx("form",{onSubmit:u=>{u.preventDefault(),u.stopPropagation(),c.handleSubmit()},noValidate:!0,autoComplete:"off",children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[h.jsxs(Y,{children:[h.jsx(ae,{sx:{mb:1},children:"Title"}),h.jsx(c.Field,{name:"title",children:u=>h.jsx(zn,{id:u.name,value:u.state.value,onChange:d=>u.handleChange(d.target.value),onBlur:u.handleBlur,name:u.name,placeholder:"Enter title",error:!!u.state.meta.errors.length,helperText:u.state.meta.errors[0]||"",fullWidth:!0,autoFocus:!0})})]}),h.jsxs(Y,{children:[h.jsx(ae,{sx:{mb:1},children:"Description"}),h.jsx(c.Field,{name:"description",children:u=>h.jsx(zn,{id:u.name,value:u.state.value,onChange:d=>u.handleChange(d.target.value),onBlur:u.handleBlur,name:u.name,placeholder:"Enter description",error:!!u.state.meta.errors.length,helperText:u.state.meta.errors[0]||"",fullWidth:!0,multiline:!0,rows:4})})]})]})})}),h.jsx(wo,{disableSpacing:!0,sx:{display:"flex",justifyContent:"flex-end",width:"100%",gap:3,pb:4,px:4},children:h.jsx(c.Subscribe,{selector:u=>[u.canSubmit,u.isSubmitting],children:([u,d])=>h.jsxs(h.Fragment,{children:[h.jsx(Be,{onClick:()=>r(!1),color:"primary",children:"Cancel"}),h.jsx(Be,{onClick:()=>c.handleSubmit(),color:"primary",variant:"contained",disabled:!u||d,children:d?"Saving...":"Save"})]})})})]})]})},MTn=({reportId:e,blockId:t,initialTitle:n,initialDescription:r,open:i,onClose:o})=>{const{showError:s,showSuccess:a}=Wi(),l=qMt(),c=lg({defaultValues:{title:n,description:r},onSubmit:async({value:u})=>{l.mutate({path:{report_id:e,block_id:t},body:{title:u.title,description:u.description}},{onSuccess:()=>{a("Text block updated successfully!"),o(),c.reset()},onError:d=>{s(d?.response?.data?.type??"Failed to add text block.")}})}});return R.useEffect(()=>{i&&(c.setFieldValue("title",n),c.setFieldValue("description",r))},[i,n,r,c]),h.jsxs(MM,{open:i,onClose:o,maxWidth:"sm",fullWidth:!0,children:[h.jsx(Do,{children:"Edit Text Block"}),h.jsx(no,{sx:{display:"flex",flexDirection:"column",gap:2},children:h.jsx("form",{onSubmit:u=>{u.preventDefault(),u.stopPropagation(),c.handleSubmit()},noValidate:!0,autoComplete:"off",children:h.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[h.jsxs(Y,{children:[h.jsx(ae,{sx:{mb:1},children:"Title"}),h.jsx(c.Field,{name:"title",children:u=>h.jsx(zn,{id:u.name,value:u.state.value,onChange:d=>u.handleChange(d.target.value),onBlur:u.handleBlur,name:u.name,placeholder:"Enter title",error:!!u.state.meta.errors.length,helperText:u.state.meta.errors[0]||"",fullWidth:!0,autoFocus:!0})})]}),h.jsxs(Y,{children:[h.jsx(ae,{sx:{mb:1},children:"Description"}),h.jsx(c.Field,{name:"description",children:u=>h.jsx(zn,{id:u.name,value:u.state.value,onChange:d=>u.handleChange(d.target.value),onBlur:u.handleBlur,name:u.name,placeholder:"Enter description",error:!!u.state.meta.errors.length,helperText:u.state.meta.errors[0]||"",fullWidth:!0,multiline:!0,rows:4})})]})]})})}),h.jsx(wo,{disableSpacing:!0,sx:{display:"flex",justifyContent:"flex-end",width:"100%",gap:3,pb:4,px:4},children:h.jsx(c.Subscribe,{selector:u=>[u.canSubmit,u.isSubmitting],children:([u,d])=>h.jsxs(h.Fragment,{children:[h.jsx(Be,{onClick:o,color:"primary",children:"Cancel"}),h.jsx(Be,{onClick:()=>c.handleSubmit(),color:"primary",variant:"contained",disabled:!u||d,children:d?"Updating...":"Update"})]})})})]})},ATn=({title:e,description:t,reportId:n,blockId:r})=>{const[i,o]=R.useState(null),[s,a]=R.useState(!1),l=GMt(),{showSuccess:c,showError:u}=Wi(),d=!!i,f=v=>{o(v.currentTarget)},p=()=>{o(null)},g=()=>{a(!0),p()},y=async()=>{try{await l.mutateAsync({path:{report_id:n,block_id:r}}),c("Text block removed from report successfully"),p()}catch(v){console.error("Failed to remove text block from report:",v),u("Failed to remove text block from report.")}};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[h.jsx("div",{style:{marginTop:"3rem",display:"flex",maxWidth:"800px",width:"100%"},children:h.jsxs(Y,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"h5",children:e}),h.jsx(Pt,{onClick:f,"aria-label":"Text Block Options Menu","aria-controls":d?"text-block-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,children:h.jsx(zF,{})}),h.jsxs(Uo,{id:"text-block-menu",anchorEl:i,open:d,onClose:p,MenuListProps:{"aria-labelledby":"text-block-menu-button"},children:[h.jsxs($t,{onClick:g,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(XR,{fontSize:"small"}),"Edit"]}),h.jsxs($t,{onClick:y,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Hb,{fontSize:"small"}),"Delete from Report"]})]})]})}),h.jsx(Y,{sx:{alignItems:"stretch",display:"flex",flexDirection:"column",width:"100%",maxWidth:"800px"},children:h.jsx(ae,{sx:{whiteSpace:"break-spaces"},variant:"body1",children:t})}),h.jsx(MTn,{reportId:n,blockId:r,initialTitle:e,initialDescription:t,open:s,onClose:()=>a(!1)})]})},PTn=({reportId:e})=>{const{data:t,isLoading:n}=og(e),r=xt();return n?h.jsx(DA,{loading:n}):t?h.jsx(Y,{sx:{mt:12,mb:5},children:t.blocks.map((i,o)=>h.jsxs(Y,{className:"pipe-item",sx:{backgroundColor:r.palette.background.paper},children:[i.type==="TextReportBlock"&&h.jsx(ATn,{title:i.title,description:i.description,reportId:e,blockId:i.id}),i.type==="LinkingReportBlock"&&h.jsx(TTn,{pipeId:i.pipe.id,reportId:e,nodeId:i.flow_id,usernameFromPath:i.pipe.user.username},i.id),h.jsx(Y,{sx:{display:"flex",height:"50px",alignItems:"center",justifyContent:"center"},children:h.jsx(RTn,{reportId:e,insertionIndex:o+2})})]},i.id))},e):null},DTn=({anchorEl:e,onClose:t,reportId:n})=>{const{data:r,isLoading:i}=og(n),o=dp(),s=A4(),{setRenameReportModalOpen:a}=qAe(),l=c=>{s.mutateAsync({path:{id:n},body:{operation:"update_lock",value:{locked:c}}})};return i||!r?null:h.jsxs(m9e,{onClose:t,anchorEl:e,children:[h.jsx(Y,{sx:{m:1,display:"flex",justifyContent:"center",alignItems:"center",gap:1},children:h.jsxs(Y,{sx:{backgroundColor:"action.hover",px:2,py:1,borderRadius:2,display:"flex",alignItems:"center",gap:2},children:[h.jsx(ae,{variant:"h6",children:r.name}),h.jsx(Dt,{title:"Rename Report",arrow:!0,children:h.jsx(Pt,{size:"small",onClick:()=>{a(!0,n,r.name),t()},children:h.jsx(XR,{})})})]})}),h.jsxs(Y,{sx:{px:2,py:1,display:"flex",flexDirection:"column",gap:"2px"},children:[h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Created"}),h.jsx(ae,{variant:"caption",color:"text.primary",children:h.jsx(Lb,{date:r.created_at})})]}),h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Last Updated:"}),h.jsx(ae,{variant:"caption",color:"text.primary",children:h.jsx(Lb,{date:r?.updated_at})})]}),h.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Creator"}),h.jsx(Ci,{icon:h.jsx(YR,{}),label:(()=>{const c=o?.username===r?.user?.username?`${r?.user?.username} (You)`:r?.user?.username;return c&&c.length>30?`${c.substring(0,20)}...`:c})(),size:"small",variant:"outlined"})]}),h.jsx(vi,{sx:{my:2}}),h.jsx(Y,{sx:{display:"flex",justifyContent:"center",px:1},children:h.jsx(Su,{control:h.jsx(Bf,{checked:r.is_locked,onChange:c=>l(c.target.checked),color:"primary"}),label:h.jsx(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:r.is_locked?h.jsxs(h.Fragment,{children:[h.jsx(TCn,{size:18,color:"#4caf50"}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:"Report is write protected"})]}):h.jsxs(h.Fragment,{children:[h.jsx(cCn,{size:18,color:"#666"}),h.jsx(ae,{variant:"body2",color:"text.secondary",children:"Report can be edited"})]})}),sx:{margin:0,"& .MuiFormControlLabel-label":{marginLeft:1}}})})]})]})};function OTn({reportId:e}){const t=xt(),{isDarkMode:n}=Li(),[r,i]=R.useState(null),{data:o,isLoading:s}=og(e),a=c=>{i(c.currentTarget)},l=()=>{i(null)};return s||!o?null:h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100%"},children:[h.jsx(Y,{sx:{display:"flex",alignItems:"center"},children:h.jsx(ae,{variant:"body1",sx:{mr:1},children:"Report"})}),h.jsx(ae,{variant:"h5",onClick:a,sx:{whiteSpace:"nowrap",mr:1,cursor:"pointer",display:"flex",alignItems:"center",gap:.5,padding:"4px 8px",borderRadius:1,"&:hover":{backgroundColor:n?es(t.palette.primary.main,.5):Mr(t.palette.primary.main,.8)}},children:o.name}),h.jsx(DTn,{anchorEl:r,onClose:l,reportId:e})]})})}const ITn=({reportId:e})=>{const[t,n]=R.useState(null),{showSuccess:r}=Wi(),{isRWA:i}=Ul(),{data:o}=og(e),{setShareDialogOpen:s}=FN(),a=()=>{s({reportId:e})},l=()=>{n(null)},c=p=>{n(p.currentTarget)},u=()=>{navigator.clipboard.writeText(window.location.href),r("Link copied",{timeout:1500}),l()},{download:d}=cre({onDownloadFinished:()=>{l()}});if(!o)return null;const f=()=>{d({reportId:e,fileName:o.name})};return h.jsx(h9e,{handleOpenDialog:a,handleDownload:i?void 0:f,handleCopyLink:u,anchorEl:t,handleDropdownClose:l,handleDropdownOpen:c})};function jTn({reportId:e,children:t}){const{data:n,isLoading:r}=og(e);return!n||r?null:h.jsxs(h.Fragment,{children:[h.jsx(Y,{sx:{position:"relative"},children:h.jsxs(eM,{sx:{mt:"65px",height:"50px"},style:{borderLeft:"none",borderRight:"none",borderTop:"none"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",px:2},children:[h.jsx(Y,{sx:{width:"600px"}}),h.jsx(OTn,{reportId:e}),h.jsx(Y,{sx:{width:"600px",display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:h.jsx(ITn,{reportId:e})})]}),h.jsx(Y,{sx:{position:"absolute",top:"48px",width:"100vw",zIndex:1300},children:h.jsx(pie,{})})]})}),h.jsx(Y,{sx:{width:"100%"},children:t})]})}const o7e=mo("/reports/$reportId/")({component:$Tn});function $Tn(){const{reportId:e}=o7e.useParams(),{data:t,isLoading:n}=og(e);return n||!t?null:h.jsx(ef,{children:h.jsx(jTn,{reportId:e,children:h.jsx(PTn,{reportId:e})})})}function FTn({pipeId:e,nodeId:t}){const n=xt(),{username:r}=Ca(),{data:i,isLoading:o}=ls(e);return o||!i?null:h.jsx(h.Fragment,{children:h.jsxs(eM,{position:"static",sx:{mt:0,height:"45px",transition:"all 0.3s ease"},style:{borderLeft:"none",borderRight:"none",borderTop:"none"},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",px:2},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[r&&i&&h.jsxs(h.Fragment,{children:[h.jsx(Be,{"data-testid":"go-back-to-dashboard",variant:"text",size:"small",startIcon:h.jsx(SX,{}),onClick:()=>{window.history.back()},children:"Go back to dashboard"}),h.jsx(vi,{orientation:"vertical",flexItem:!0})]}),!t&&h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(s9e,{size:18,style:{color:n.palette.text.primary}}),h.jsx(ae,{variant:"body1",sx:{fontWeight:700},children:"Pipeline Editor"})]}),r&&t&&h.jsx(g9e,{pipeId:e,nodeId:t,username:r})]}),h.jsx(Y,{sx:{width:"600px",display:"flex",justifyContent:"end",alignItems:"center",gap:2}})]}),h.jsx(Y,{sx:{position:"absolute",top:"44px",width:"100vw",zIndex:1300},children:h.jsx(pie,{})})]})})}const LTn=mo("/pipe/$pipeId/")({component:NTn});function NTn(){const{pipeId:e,username:t,isTemplate:n}=Ca();return!e||!t?null:h.jsxs(ef,{children:[h.jsx(FTn,{pipeId:e,shouldShowBackToDashboardButton:!0}),h.jsx(p9e,{pipeId:e,username:t,isTemplate:n})]})}const zTn=({open:e,onClose:t,onTagCreated:n})=>{const[r,i]=R.useState(""),o=aAe(),s=()=>{i(""),t()},a=async()=>{if(!r.trim())return;const c=await o.mutateAsync({body:{tag:r.trim()}});s(),n?.(c)},l=r.trim().length>0&&r.trim().length<=50;return h.jsxs(Oi,{open:e,onClose:s,children:[h.jsx(Do,{children:"Create Tag"}),h.jsxs(no,{children:[h.jsx(yo,{children:"Enter a name for the new tag."}),h.jsx(zn,{autoFocus:!0,margin:"dense",label:"Tag name",fullWidth:!0,variant:"outlined",value:r,helperText:r.length>50?"Name must be 50 characters or less":void 0,error:r.length>50,onChange:c=>{i(c.target.value)}})]}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:s,children:"Cancel"}),h.jsx(Be,{onClick:()=>{a()},variant:"contained",disabled:!l||o.isPending,children:"Create"})]})]})},BTn=({open:e,onClose:t,tags:n})=>{const[r,i]=R.useState(null),[o,s]=R.useState(!1);R.useEffect(()=>{if(!e||n.length===0)return;const l=r&&n.some(c=>c.id===r.id);(!r||!l)&&i(n[0])},[e,n,r]);const a=()=>{i(null),t()};return h.jsxs(Vh,{anchor:"right",open:e,onClose:a,slotProps:{backdrop:{invisible:!1}},PaperProps:{sx:{width:{xs:"70vw"}}},children:[h.jsxs(Y,{sx:{height:"100%",display:"flex",flexDirection:"row",overflow:"hidden"},children:[h.jsxs(Y,{sx:{width:240,flexShrink:0,borderRight:1,borderColor:"divider",overflowY:"auto"},children:[h.jsxs(Y,{sx:{height:"61px",display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1.5,borderBottom:1,borderColor:"divider",typography:"subtitle1",fontWeight:600},children:["Tags",h.jsx(Be,{size:"small",variant:"contained",startIcon:h.jsx(LF,{}),onClick:()=>s(!0),"data-testid":"create-tag",children:"Create"})]}),h.jsxs(Wb,{disablePadding:!0,children:[n.map(l=>h.jsx(Hh,{disablePadding:!0,children:h.jsx(wEe,{selected:r?.id===l.id,onClick:()=>i(l),sx:{"&.Mui-selected":{bgcolor:ut(xv,.12)}},children:h.jsx(jb,{label:l.name})})},l.id)),n.length===0&&h.jsx(Y,{sx:{px:2,py:3,color:"text.secondary"},children:"No tags yet"})]})]}),h.jsx(Y,{sx:{flex:1,minWidth:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:r?h.jsx(i8e,{tagId:r.id}):h.jsx(Y,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:"Select a tag to configure"})})]}),h.jsx(zTn,{open:o,onClose:()=>s(!1),onTagCreated:l=>i(l)})]})},UTn=({username:e,onClick:t,onDelete:n,allowActions:r=!1,sx:i})=>h.jsx(Ci,{size:"small",icon:h.jsx(BF,{sx:{fontSize:18}}),label:e.length>10?`${e.slice(0,10)}`:e,title:e.length>10?e:void 0,onClick:t?o=>{o.stopPropagation(),t(o)}:void 0,onDelete:r?n:void 0,sx:{bgcolor:"rgba(25, 118, 210, 0.08)","& .MuiChip-icon":{display:"flex",alignItems:"center",justifyContent:"center",color:o=>o.palette.grey[500]},...i}}),VTn=()=>{const{hasPermission:e}=wA(),t=Kr(),n=dp(),{data:r,isLoading:i,error:o}=tZ(),{setDialogOpen:s}=fZ(),a=uAe(),l=CA(x=>x.open),[c,u]=R.useState(!1),[d,f]=R.useState(!1),{data:p}=R4(),g=p?.data??[];if(i)return h.jsx(p_,{loading:!0});if(o)return h.jsxs("div",{children:["Error loading files: ",o?.message]});if(!r)return h.jsx(p_,{loading:!0});const y=[{accessorKey:"filename",header:"Name",size:400,Cell:({row:x,renderedCellValue:w})=>{const S=x.original,C=S.cost_centers?.trim(),k=C?C.split(",").map(E=>h.jsxs(Y,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.5,px:1.5,py:.5,borderRadius:1,bgcolor:"action.selected",color:"text.primary",fontSize:"0.875rem"},children:[h.jsx(k5,{sx:{fontSize:18}}),E.trim()]},E.trim())):null,T=S.owner_username&&S.owner_username!==n.username?h.jsx(UTn,{username:S.owner_username}):null;return h.jsx(dz,{icon:h.jsx(Zm,{sx:{fontSize:18}}),iconColor:"#1976d2",label:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx("span",{children:w}),T,k]}),onOpen:E=>{E.stopPropagation(),t({to:`${Nr.Files}/${n.username}/${S.uuid}`})}})}},{header:"Configuration",id:"tag_name",accessorFn:x=>x.tag_name??"",Cell:({row:x,renderedCellValue:w})=>!(x.original.tag_id&&x.original.tag_name)?null:h.jsx(jb,{label:String(w)})},{accessorKey:"creation_date",header:"Creation Date"}],v=({closeMenu:x,row:w})=>{const S=[],k=w.original.meta;return k?.can_user_read&&S.push(h.jsxs($t,{onClick:()=>{x(),l(w.original.uuid)},children:[h.jsx(eo,{children:h.jsx(R0,{fontSize:"small"})}),"Settings"]},"settings")),k?.can_user_manage_tag&&S.push(h.jsxs($t,{onClick:()=>{x(),a.mutateAsync({path:{file_uuid:w.original.uuid}}).catch(T=>{T?.response?.status===400&&u(w.original.uuid)})},children:[h.jsx(eo,{children:h.jsx(Hb,{fontSize:"small"})}),"Delete"]},"delete")),S};return h.jsxs(h.Fragment,{children:[h.jsx(uz,{icon:h.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:48,height:48,borderRadius:2,backgroundColor:ut("#1976d2",.1),color:"#1976d2"},children:h.jsx(Zm,{sx:{fontSize:28}})}),title:"Files",description:"Upload and manage your data files",actionButton:h.jsxs(Y,{sx:{display:"flex",gap:1},children:[e(a0.CREATE_TAGS)&&h.jsx(Be,{variant:"outlined",color:"primary",onClick:()=>f(!0),"data-testid":"manage-tags",startIcon:h.jsx(Lf,{}),children:"Manage tags"}),e(a0.UPLOAD_FILE)&&h.jsx(Be,{variant:"contained",color:"primary",onClick:()=>s(),"data-testid":"upload-file",children:"Upload New File"})]}),searchPlaceholder:"Search files...",searchMaxWidth:"400px",tableColumns:y,tableData:r,onRowClick:x=>{l(x.uuid)},renderRowActionMenuItems:v,tableProps:{positionActionsColumn:"last"},isLoading:i}),h.jsx(BTn,{open:d,onClose:()=>f(!1),tags:g}),h.jsxs(Oi,{open:!!c,onClose:()=>u(!1),"aria-labelledby":"file-in-use-dialog-title","aria-describedby":"file-in-use-dialog-description",children:[h.jsx(Do,{id:"file-exists-dialog-title",children:"File In Use"}),h.jsx(no,{children:h.jsx(yo,{id:"file-in-use-dialog-description",children:"The file you are trying to delete is in use by a dashboard. Do you want to delete it anyway?"})}),h.jsxs(wo,{children:[h.jsx(Be,{onClick:()=>u(!1),color:"primary",children:"Cancel"}),h.jsx(Be,{onClick:()=>{u(!1),a.mutateAsync({path:{file_uuid:c},query:{force:!0}})},color:"primary",variant:"contained",autoFocus:!0,children:"Delete"})]})]})]})},HTn=mo("/files/$username/")({component:VTn});function WTn({username:e,pipeId:t}){const n=Kr(),{data:r,isLoading:i}=aZ(t);if(R.useEffect(()=>{if(r?.pages&&r.pages.length>0){const o=r.pages[0].id;n({to:`/dashboard/${ba(e,t)}/page/${o}`,replace:!0})}},[r,t,n]),i||!r?.pages||r.pages.length===0)return h.jsx(cz,{variant:"spinner-only"});if(r&&!r.pages)return"Error"}const qTn=mo("/dashboard/$pipeId/")({component:GTn});function GTn(){const{pipeId:e,username:t}=Ca();return!e||!t?null:h.jsx(WTn,{username:t,pipeId:e})}const s7e="",vI=25;function YTn(e){if(e==null||e===0)return s7e;const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1024&&n<t.length-1;)r/=1024,n+=1;return n===0?`${r} ${t[n]}`:`${r.toFixed(1)} ${t[n]}`}function XTn({fileUuid:e,username:t}){const[n,r]=R.useState(0),i=Kr(),o=CA(w=>w.open),{data:s,error:a,isError:l}=U_(e),{data:c,isLoading:u,error:d}=M4({fileUuid:e,pagination:{pageIndex:n,pageSize:vI},enabled:!!e}),f=t?`/files/${t}`:"/",p=l?a:d,g=R.useMemo(()=>c?.columns?.length?c.columns.map(w=>({accessorKey:w,header:w})):[],[c?.columns]),{rows:y,totalLength:v}=c??{rows:[],totalLength:0},x={display:"flex",flexDirection:"column",flex:1,minHeight:0,overflow:"hidden",mt:"65px"};return p?h.jsx(Y,{sx:x,children:h.jsxs(Y,{sx:{p:3,display:"flex",flexDirection:"column",gap:2},children:[h.jsx(fre,{message:p instanceof Error?p.message:"Failed to load file"}),h.jsx(Be,{variant:"outlined",onClick:()=>i({to:f}),sx:{alignSelf:"flex-start"},children:t?"Back to files":"Back to home"})]})}):!c||!c.columns?.length?u?h.jsx(Y,{sx:x,children:h.jsx(Sa,{})}):h.jsx(Y,{sx:x,children:h.jsx(Y,{sx:{p:3},children:h.jsx(ae,{variant:"body2",color:"text.secondary",children:"No data to display for this file."})})}):h.jsxs(Y,{sx:x,children:[h.jsx(eM,{position:"static",sx:{mt:0,height:"45px",transition:"all 0.3s ease"},style:{borderLeft:"none",borderRight:"none",borderTop:"none"},children:h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%",height:"100%",px:2},children:[t&&h.jsx(Pt,{size:"small",onClick:()=>i({to:f}),"aria-label":"Back to files",children:h.jsx(SX,{})}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:4},children:[h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"File"}),h.jsx(ae,{variant:"body1",fontWeight:500,children:s?.filename??e})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Size"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:YTn(s?.size)})]}),h.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:.75},children:[h.jsx(ae,{variant:"caption",color:"text.secondary",children:"Rows"}),h.jsx(ae,{variant:"body2",fontWeight:500,children:v!=null?v.toLocaleString():s7e})]})]}),h.jsx(Pt,{size:"small",onClick:()=>o(e),"aria-label":"File settings",sx:{ml:"auto"},children:h.jsx(R0,{})})]})}),h.jsx(Y,{sx:{flex:1,minHeight:0,overflow:"hidden",display:"flex",flexDirection:"column","& .MuiPaper-root":{borderRadius:0,flex:1,minHeight:0,display:"flex",flexDirection:"column"},"& .MuiTableContainer-root":{flex:1,minHeight:0,overflow:"auto !important",maxHeight:"calc(100vh - 65px - 45px - 58px)"}},children:h.jsx(wC,{columns:g,data:y,onClick:()=>{},enableRowActions:!1,enableStickyHeader:!0,enableColumnResizing:!0,enableColumnActions:!0,enableDensityToggle:!1,enableGlobalFilter:!1,renderTopToolbar:!1,layoutMode:"grid",manualPagination:!0,rowCount:v,onPaginationChange:w=>{const S={pageIndex:n,pageSize:vI},C=typeof w=="function"?w(S):S;C.pageIndex!==n&&r(C.pageIndex)},initialState:{density:"compact",pagination:{pageIndex:n,pageSize:vI}},state:{pagination:{pageIndex:n,pageSize:vI},showProgressBars:u},muiTableContainerProps:{sx:()=>({maxHeight:"calc(100vh - 65px - 45px - 52px)",width:"100%",overflow:"auto",overscrollBehavior:"contain"})}})})]})}const a7e=mo("/files/$username/$fileUuid")({component:KTn});function KTn(){const{fileUuid:e,username:t}=a7e.useParams();return h.jsx(ef,{children:h.jsx(Y,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:h.jsx(XTn,{fileUuid:e,username:t})})})}const ZTn=({pipeId:e,nodeId:t,reportId:n,usernameFromPath:r,reload:i,showTable:o=!0,isDashboardItem:s=!1,context:a="block",onSelectionChanged:l=()=>{},isFilterCategoriesSideBlock:c=!1})=>{const[u,d]=R.useState(0),[f,p]=R.useState(!1),{data:g,isLoading:y,isError:v,error:x,refetch:w}=B_(e,t,r);R.useEffect(()=>{i&&w()},[i,w]);const S=()=>{p(!f)};R.useEffect(()=>{d(u+1)},[i]);const C=j=>{d(u+1),Vo.info("Configuration update triggered")};if(y)return h.jsx(Sa,{});if(v)return h.jsx(Nu,{additionalSx:{mt:s?0:7},children:h.jsx(gie,{error:x,refetch:w,pipeId:e,usernameFromPath:r})});if(!g)return h.jsx(Ww,{children:h.jsx(Nu,{children:h.jsx(ae,{variant:"body1",children:"No block data available"})})});const k=()=>{const j=g;return h.jsx(fie,{pipeId:e,nodeId:j?.flow_id,reportId:n,context:a??"block",usernameFromPath:r,isOnDashboard:s,onSelectionChanged:l,isFilterCategoriesSideBlock:c})},T=s&&(cie.includes(g.identifier)&&!B8e.includes(g.identifier)||g.identifier==="filter_orthogonal"&&g?.skip===!0),E=!s||g.identifier==="filter_standard",A=g.identifier==="file_import",O=g,I=h.jsxs(Y,{sx:{m:3},children:[!E&&h.jsx(Y,{children:k()}),!T&&h.jsx(Y,{sx:{maxHeight:A?"none":"70%"},children:h.jsx(jA,{pipeId:e,nodeId:t,usernameFromPath:r})})]});return A?h.jsx(Y,{sx:{height:"calc(100vh - 45px)",backgroundColor:"background.default",overflowY:"auto"},children:I}):h.jsx(Y,{sx:{height:"calc(100vh - 45px)",backgroundColor:"background.default"},children:h.jsxs(Cie,{orientation:"horizontal",className:"h-full w-full",style:{height:"100%",width:"100%"},autoSave:`${O?.pipe_id}-${O?.flow_id}`,children:[h.jsx(m_,{style:{overflowY:"auto"},defaultSize:"80%",children:I}),h.jsx(kie,{}),h.jsx(m_,{defaultSize:"20%",minSize:"15%",maxSize:"30%",children:g&&o&&h.jsx(o_n,{onSaveConfig:j=>C(),isForeignPipe:()=>!O?.meta?.can_user_update,initialConfig:O?.configuration,isShowTableBlock:O&&O.identifier==="show_table",isAdminMode:f,onAdminModeToggle:S,pipeId:e,nodeId:O?.flow_id??t,username:r})})]})})},QTn=mo("/pipe/$pipeId/block/$blockId")({component:JTn});function JTn(){const{pipeId:e,nodeId:t,username:n}=Ca();return!e||!t||!n?null:h.jsxs(ef,{children:[h.jsx(hie,{pipeId:e,nodeId:t}),h.jsx(Y,{"data-testid":"block-details-page",children:h.jsx(ZTn,{pipeId:e,nodeId:t,usernameFromPath:n})})]})}const eRn=mo("/licenses")(),tRn=eRn.update({id:"/licenses",path:"/licenses",getParentRoute:()=>ds}).lazy(()=>dAt(()=>import("./licenses.lazy-DNYR8eTZ.js"),[]).then(e=>e.Route)),nRn=$8e.update({id:"/open-external",path:"/open-external",getParentRoute:()=>ds}),rRn=fSn.update({id:"/changelog",path:"/changelog",getParentRoute:()=>ds}),iRn=hSn.update({id:"/auth-callback",path:"/auth-callback",getParentRoute:()=>ds}),oRn=vSn.update({id:"/",path:"/",getParentRoute:()=>ds}),sRn=_Sn.update({id:"/reports/",path:"/reports/",getParentRoute:()=>ds}),aRn=d_n.update({id:"/templates/$username",path:"/templates/$username",getParentRoute:()=>ds}),lRn=x2n.update({id:"/template/$pipeId",path:"/template/$pipeId",getParentRoute:()=>ds}),cRn=C2n.update({id:"/pipes/$username",path:"/pipes/$username",getParentRoute:()=>ds}),Tie=E2n.update({id:"/files/$username",path:"/files/$username",getParentRoute:()=>ds}),uRn=F2n.update({id:"/eastereggs/pacman",path:"/eastereggs/pacman",getParentRoute:()=>ds}),dRn=N2n.update({id:"/admin/user-management",path:"/admin/user-management",getParentRoute:()=>ds}),fRn=y9e.update({id:"/admin/login",path:"/admin/login",getParentRoute:()=>ds}),pRn=o7e.update({id:"/reports/$reportId/",path:"/reports/$reportId/",getParentRoute:()=>ds}),hRn=LTn.update({id:"/pipe/$pipeId/",path:"/pipe/$pipeId/",getParentRoute:()=>ds}),gRn=HTn.update({id:"/",path:"/",getParentRoute:()=>Tie}),mRn=qTn.update({id:"/dashboard/$pipeId/",path:"/dashboard/$pipeId/",getParentRoute:()=>ds}),yRn=a7e.update({id:"/$fileUuid",path:"/$fileUuid",getParentRoute:()=>Tie}),vRn=QTn.update({id:"/pipe/$pipeId/block/$blockId",path:"/pipe/$pipeId/block/$blockId",getParentRoute:()=>ds}),bRn=Eie.update({id:"/dashboard/$pipeId/page/$pageId",path:"/dashboard/$pipeId/page/$pageId",getParentRoute:()=>ds}),xRn={FilesUsernameFileUuidRoute:yRn,FilesUsernameIndexRoute:gRn},wRn=Tie._addFileChildren(xRn),SRn={IndexRoute:oRn,AuthCallbackRoute:iRn,ChangelogRoute:rRn,OpenExternalRoute:nRn,LicensesLazyRoute:tRn,AdminLoginRoute:fRn,AdminUserManagementRoute:dRn,EastereggsPacmanRoute:uRn,FilesUsernameRoute:wRn,PipesUsernameRoute:cRn,TemplatePipeIdRoute:lRn,TemplatesUsernameRoute:aRn,ReportsIndexRoute:sRn,DashboardPipeIdIndexRoute:mRn,PipePipeIdIndexRoute:hRn,ReportsReportIdIndexRoute:pRn,DashboardPipeIdPagePageIdRoute:bRn,PipePipeIdBlockBlockIdRoute:vRn},_Rn=ds._addFileChildren(SRn)._addFileTypes(),CRn=dHe(),kRn=zWe({routeTree:_Rn,history:CRn}),Lwe=new qVe({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),ERn=()=>(lAt(),aAt(),h.jsx(mtt,{client:dh,children:h.jsx(GVe,{client:Lwe,children:h.jsx(nAt,{children:h.jsx(rAt,{children:h.jsxs(wCe,{children:[h.jsx(xot,{}),h.jsx(iAt,{}),h.jsx($mt,{}),h.jsx(VWe,{router:kRn,context:{queryClient:Lwe}})]})})})})}));function TRn(){fMt({dsn:"https://9a97459f2886eb5407776edef0c6659d@o4505233137926144.ingest.us.sentry.io/4508811273699328",environment:"matrix",integrations:[aMt(),URt(),D_t({autoInject:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/api\.nomaze\.com/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,debug:!0})}TRn();const RRn=document.getElementById("root");SVe.createRoot(RRn).render(h.jsx(Vt.StrictMode,{children:h.jsx(ERn,{})}));export{VF as A,To as C,KR as E,gf as G,ae as T,iM as a,WF as b,Yle as c,HF as d,h as j};
//# sourceMappingURL=index-Buz7-R-m.js.map
