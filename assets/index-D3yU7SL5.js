var lPe=Object.defineProperty;var NZ=e=>{throw TypeError(e)};var cPe=(e,t,n)=>t in e?lPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tt=(e,t,n)=>cPe(e,typeof t!="symbol"?t+"":t,n),QF=(e,t,n)=>t.has(e)||NZ("Cannot "+n);var Ce=(e,t,n)=>(QF(e,t,"read from private field"),n?n.call(e):t.get(e)),rn=(e,t,n)=>t.has(e)?NZ("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Dt=(e,t,n,r)=>(QF(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Dn=(e,t,n)=>(QF(e,t,"access private method"),n);var ER=(e,t,n,r)=>({set _(i){Dt(e,t,i,n)},get _(){return Ce(e,t,r)}});try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="139ecb25-0331-4846-8390-f49cb13644e5",e._sentryDebugIdIdentifier="sentry-dbid-139ecb25-0331-4846-8390-f49cb13644e5")}catch{}function uPe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"465810a60e52f5873d60a4fd5f093bb6c63f1e2e"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dPe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ZF={exports:{}},lw={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LZ;function fPe(){if(LZ)return lw;LZ=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return lw.Fragment=t,lw.jsx=n,lw.jsxs=n,lw}var jZ;function pPe(){return jZ||(jZ=1,ZF.exports=fPe()),ZF.exports}var x=pPe();const _n=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,hr=globalThis,Rg=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,l0="9.11.0";function dy(){return sP(hr),hr}function sP(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||l0,t[l0]=t[l0]||{}}function aP(e,t,n=hr){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[l0]=r[l0]||{};return i[e]||(i[e]=t())}const hPe="Sentry Logger ",Zj=["debug","info","warn","error","log","assert","trace"],SA={};function fy(e){if(!("console"in hr))return e();const t=hr.console,n={},r=Object.keys(SA);r.forEach(i=>{const o=SA[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function gPe(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Rg?Zj.forEach(n=>{t[n]=(...r)=>{e&&fy(()=>{hr.console[n](`${hPe}[${n}]:`,...r)})}}):Zj.forEach(n=>{t[n]=()=>{}}),t}const kt=aP("logger",gPe),Ade=50,k0="?",zZ=/\(error: (.*)\)/,BZ=/captureMessage|captureException/;function Ode(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){const l=s[a];if(l.length>1024)continue;const c=zZ.test(l)?l.replace(zZ,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){o.push(d);break}}if(o.length>=Ade+i)break}}return yPe(o.slice(i))}}function mPe(e){return Array.isArray(e)?Ode(...e):e}function yPe(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(kR(t).function||"")&&t.pop(),t.reverse(),BZ.test(kR(t).function||"")&&(t.pop(),BZ.test(kR(t).function||"")&&t.pop()),t.slice(0,Ade).map(n=>({...n,filename:n.filename||kR(t).filename,function:n.function||k0}))}function kR(e){return e[e.length-1]||{}}const JF="<anonymous>";function Jf(e){try{return!e||typeof e!="function"?JF:e.name||JF}catch{return JF}}function UZ(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const vM={},HZ={};function Tg(e,t){vM[e]=vM[e]||[],vM[e].push(t)}function Mg(e,t){if(!HZ[e]){HZ[e]=!0;try{t()}catch(n){Rg&&kt.error(`Error while instrumenting ${e}`,n)}}}function nc(e,t){const n=e&&vM[e];if(n)for(const r of n)try{r(t)}catch(i){Rg&&kt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Jf(r)}
Error:`,i)}}let eN=null;function Dde(e){const t="error";Tg(t,e),Mg(t,vPe)}function vPe(){eN=hr.onerror,hr.onerror=function(e,t,n,r,i){return nc("error",{column:r,error:i,line:n,msg:e,url:t}),eN?eN.apply(this,arguments):!1},hr.onerror.__SENTRY_INSTRUMENTED__=!0}let tN=null;function Pde(e){const t="unhandledrejection";Tg(t,e),Mg(t,bPe)}function bPe(){tN=hr.onunhandledrejection,hr.onunhandledrejection=function(e){return nc("unhandledrejection",e),tN?tN.apply(this,arguments):!0},hr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ide=1e3;function $E(){return Date.now()/Ide}function xPe(){const{performance:e}=hr;if(!(e!=null&&e.now))return $E;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Ide}const js=xPe();let nN;function SPe(){var u;const{performance:e}=hr;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=(u=e.timing)==null?void 0:u.navigationStart,l=typeof s=="number"?Math.abs(s+n-r):t,c=l<t;return o||c?i<=l?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function wl(){return nN||(nN=SPe()),nN[0]}const $de=Object.prototype.toString;function k9(e){switch($de.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ep(e,Error)}}function yx(e,t){return $de.call(e)===`[object ${t}]`}function Fde(e){return yx(e,"ErrorEvent")}function VZ(e){return yx(e,"DOMError")}function wPe(e){return yx(e,"DOMException")}function Ff(e){return yx(e,"String")}function R9(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function T9(e){return e===null||R9(e)||typeof e!="object"&&typeof e!="function"}function y_(e){return yx(e,"Object")}function lP(e){return typeof Event<"u"&&ep(e,Event)}function CPe(e){return typeof Element<"u"&&ep(e,Element)}function _Pe(e){return yx(e,"RegExp")}function cP(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function EPe(e){return y_(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ep(e,t){try{return e instanceof t}catch{return!1}}function Nde(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const M9=hr,kPe=80;function tp(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||kPe;for(;n&&o++<r&&(c=RPe(n,u),!(c==="html"||o>1&&s+i.length*l+c.length>=d));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function RPe(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(M9.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t!=null&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i!=null&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&Ff(s)){const a=s.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function vx(){try{return M9.document.location.href}catch{return""}}function Lde(e){if(!M9.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function wA(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function WZ(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{Nde(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function TPe(e,t,n=!1){return Ff(e)?_Pe(t)?t.test(e):Ff(t)?n?e===t:e.includes(t):!1:!1}function Nh(e,t=[],n=!1){return t.some(r=>TPe(e,r,n))}function ha(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&jde(i,r);try{e[t]=i}catch{Rg&&kt.log(`Failed to replace method "${t}" in object`,e)}}function dl(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Rg&&kt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function jde(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,dl(e,"__sentry_original__",t)}catch{}}function A9(e){return e.__sentry_original__}function zde(e){if(k9(e))return{message:e.message,name:e.name,stack:e.stack,...GZ(e)};if(lP(e)){const t={type:e.type,target:qZ(e.target),currentTarget:qZ(e.currentTarget),...GZ(e)};return typeof CustomEvent<"u"&&ep(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function qZ(e){try{return CPe(e)?tp(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function GZ(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function MPe(e,t=40){const n=Object.keys(zde(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return wA(r,t);for(let i=n.length;i>0;i--){const o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:wA(o,t)}return""}function APe(){const e=hr;return e.crypto||e.msCrypto}function nl(e=APe()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Bde(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Fm(e){const{message:t,event_id:n}=e;if(t)return t;const r=Bde(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Jj(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function s1(e,t){const n=Bde(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const o={...i==null?void 0:i.data,...t.data};n.mechanism.data=o}}function YZ(e){if(OPe(e))return!0;try{dl(e,"__sentry_captured__",!0)}catch{}return!1}function OPe(e){try{return e.__sentry_captured__}catch{}}var bf;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(bf||(bf={}));function np(e){return new Kh(t=>{t(e)})}function CA(e){return new Kh((t,n)=>{n(e)})}class Kh{constructor(t){this._state=bf.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new Kh((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(s){i(s)}},o=>{if(!n)i(o);else try{r(n(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Kh((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}_executeHandlers(){if(this._state===bf.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===bf.RESOLVED&&n[1](this._value),this._state===bf.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,s)=>{if(this._state===bf.PENDING){if(cP(s)){s.then(r,i);return}this._state=o,this._value=s,this._executeHandlers()}},r=o=>{n(bf.RESOLVED,o)},i=o=>{n(bf.REJECTED,o)};try{t(r,i)}catch(o){i(o)}}}function DPe(e){const t=js(),n={sid:nl(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>IPe(n)};return e&&a1(n,e),n}function a1(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||js(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:nl()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function PPe(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),a1(e,n)}function IPe(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Qh(){return nl()}function FE(){return nl().substring(16)}function NE(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=NE(r[i],t[i],n-1));return r}const ez="_sentrySpan";function v_(e,t){t?dl(e,ez,t):delete e[ez]}function _A(e){return e[ez]}const $Pe=100;let R0=class tz{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Qh(),sampleRand:Math.random()}}clone(){const t=new tz;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,v_(t,_A(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&a1(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof tz?n.getScopeData():y_(n)?t:void 0,{tags:i,extra:o,user:s,contexts:a,level:l,fingerprint:c=[],propagationContext:u}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,v_(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Qh(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var o;const r=typeof n=="number"?n:$Pe;if(r<=0)return this;const i={timestamp:$E(),...t,message:t.message?wA(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_A(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=NE(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||nl();if(!this._client)return kt.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=(r==null?void 0:r.event_id)||nl();if(!this._client)return kt.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||nl();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(kt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function FPe(){return aP("defaultCurrentScope",()=>new R0)}function NPe(){return aP("defaultIsolationScope",()=>new R0)}class LPe{constructor(t,n){let r;t?r=t:r=new R0;let i;n?i=n:i=new R0,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return cP(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function l1(){const e=dy(),t=sP(e);return t.stack=t.stack||new LPe(FPe(),NPe())}function jPe(e){return l1().withScope(e)}function zPe(e,t){const n=l1();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function XZ(e){return l1().withScope(()=>e(l1().getIsolationScope()))}function BPe(){return{withIsolationScope:XZ,withScope:jPe,withSetScope:zPe,withSetIsolationScope:(e,t)=>XZ(t),getCurrentScope:()=>l1().getScope(),getIsolationScope:()=>l1().getIsolationScope()}}function bx(e){const t=sP(e);return t.acs?t.acs:BPe()}function si(){const e=dy();return bx(e).getCurrentScope()}function gu(){const e=dy();return bx(e).getIsolationScope()}function UPe(){return aP("globalScope",()=>new R0)}function O9(...e){const t=dy(),n=bx(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Qn(){return si().getClient()}function HPe(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,o={trace_id:n,span_id:i||FE()};return r&&(o.parent_span_id=r),o}const id="sentry.source",Ude="sentry.sample_rate",T0="sentry.op",Co="sentry.origin",nz="sentry.idle_span_finish_reason",uP="sentry.measurement_unit",dP="sentry.measurement_value",KZ="sentry.custom_span_name",D9="sentry.profile_id",LE="sentry.exclusive_time",VPe="sentry.link.type",WPe=0,Hde=1,po=2;function qPe(e){if(e<400&&e>=100)return{code:Hde};if(e>=400&&e<500)switch(e){case 401:return{code:po,message:"unauthenticated"};case 403:return{code:po,message:"permission_denied"};case 404:return{code:po,message:"not_found"};case 409:return{code:po,message:"already_exists"};case 413:return{code:po,message:"failed_precondition"};case 429:return{code:po,message:"resource_exhausted"};case 499:return{code:po,message:"cancelled"};default:return{code:po,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:po,message:"unimplemented"};case 503:return{code:po,message:"unavailable"};case 504:return{code:po,message:"deadline_exceeded"};default:return{code:po,message:"internal_error"}}return{code:po,message:"unknown_error"}}function Vde(e,t){e.setAttribute("http.response.status_code",t);const n=qPe(t);n.message!=="unknown_error"&&e.setStatus(n)}const Wde="_sentryScope",qde="_sentryIsolationScope";function GPe(e,t,n){e&&(dl(e,qde,n),dl(e,Wde,t))}function EA(e){return{scope:e[Wde],isolationScope:e[qde]}}function M0(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const P9="sentry-",YPe=/^sentry-/,XPe=8192;function Gde(e){const t=QPe(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(YPe)){const s=i.slice(P9.length);r[s]=o}return r},{});if(Object.keys(n).length>0)return n}function KPe(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${P9}${r}`]=i),n),{});return ZPe(t)}function QPe(e){if(!(!e||!Ff(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=QZ(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):QZ(e)}function QZ(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function ZPe(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=i===0?o:`${t},${o}`;return s.length>XPe?(Rg&&kt.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}const Yde=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function JPe(e){if(!e)return;const t=e.match(Yde);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function eIe(e,t){const n=JPe(e),r=Gde(t);if(!(n!=null&&n.traceId))return{traceId:Qh(),sampleRand:Math.random()};const i=tIe(n,r);r&&(r.sample_rand=i.toString());const{traceId:o,parentSpanId:s,parentSampled:a}=n;return{traceId:o,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:i}}function Xde(e=Qh(),t=FE(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function tIe(e,t){const n=M0(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=M0(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Kde=0,I9=1;let ZZ=!1;function nIe(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a,links:l}=Sr(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a,links:l}}function rIe(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:Sr(e).parent_span_id,o=EA(e).scope,s=r?(o==null?void 0:o.getPropagationContext().propagationSpanId)||FE():t;return{parent_span_id:i,span_id:s,trace_id:n}}function iIe(e){const{traceId:t,spanId:n}=e.spanContext(),r=py(e);return Xde(t,n,r)}function Qde(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:o})=>({span_id:t,trace_id:n,sampled:r===I9,attributes:o,...i}))}function c0(e){return typeof e=="number"?JZ(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?JZ(e.getTime()):js()}function JZ(e){return e>9999999999?e/1e3:e}function Sr(e){if(sIe(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(oIe(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:l,links:c}=e;return{span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:c0(i),timestamp:c0(s)||void 0,status:Zde(l),op:r[T0],origin:r[Co],links:Qde(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function oIe(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function sIe(e){return typeof e.getSpanJSON=="function"}function py(e){const{traceFlags:t}=e.spanContext();return t===I9}function Zde(e){if(!(!e||e.code===WPe))return e.code===Hde?"ok":e.message||"unknown_error"}const u0="_sentryChildSpans",rz="_sentryRootSpan";function Jde(e,t){const n=e[rz]||e;dl(t,rz,n),e[u0]?e[u0].add(t):dl(e,u0,new Set([t]))}function aIe(e,t){e[u0]&&e[u0].delete(t)}function bM(e){const t=new Set;function n(r){if(!t.has(r)&&py(r)){t.add(r);const i=r[u0]?Array.from(r[u0]):[];for(const o of i)n(o)}}return n(e),Array.from(t)}function us(e){return e[rz]||e}function qs(){const e=dy(),t=bx(e);return t.getActiveSpan?t.getActiveSpan():_A(si())}function iz(){ZZ||(fy(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),ZZ=!0)}let eJ=!1;function lIe(){eJ||(eJ=!0,Dde(oz),Pde(oz))}function oz(){const e=qs(),t=e&&us(e);if(t){const n="internal_error";_n&&kt.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:po,message:n})}}oz.tag="sentry_tracingErrorCallback";function Zh(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=Qn())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const $9="production",efe="_frozenDsc";function xM(e,t){dl(e,efe,t)}function tfe(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||$9,release:n.release,public_key:r,trace_id:e};return t.emit("createDsc",i),i}function nfe(e,t){const n=t.getPropagationContext();return n.dsc||tfe(n.traceId,e)}function rp(e){var g;const t=Qn();if(!t)return{};const n=us(e),r=Sr(n),i=r.data,o=n.spanContext().traceState,s=(o==null?void 0:o.get("sentry.sample_rate"))??i[Ude];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}const l=n[efe];if(l)return a(l);const c=o==null?void 0:o.get("sentry.dsc"),u=c&&Gde(c);if(u)return a(u);const d=tfe(e.spanContext().traceId,t),f=i[id],p=r.description;return f!=="url"&&p&&(d.transaction=p),Zh()&&(d.sampled=String(py(n)),d.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((g=EA(n).scope)==null?void 0:g.getPropagationContext().sampleRand.toString())),a(d),t.emit("createDsc",d,n),d}class A0{constructor(t={}){this._traceId=t.traceId||Qh(),this._spanId=t.spanId||FE()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Kde}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function cIe(e){if(!_n)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Sr(e),{spanId:i}=e.spanContext(),o=py(e),s=us(e),a=s===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=Sr(s);c.push(`root ID: ${s.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}kt.log(`${l}
  ${c.join(`
  `)}`)}function uIe(e){if(!_n)return;const{description:t="< unknown name >",op:n="< unknown op >"}=Sr(e),{spanId:r}=e.spanContext(),o=us(e)===e,s=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;kt.log(s)}function dIe(e,t,n){if(!Zh(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const o=M0(i);if(o===void 0)return _n&&kt.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!o)return _n&&kt.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const s=n<o;return s||_n&&kt.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[s,o,r]}const fIe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pIe(e){return e==="http"||e==="https"}function jE(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function hIe(e){const t=fIe.exec(e);if(!t){fy(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",o="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return rfe({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function rfe(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function gIe(e){if(!Rg)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(kt.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?pIe(r)?t&&isNaN(parseInt(t,10))?(kt.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(kt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(kt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function mIe(e){const t=typeof e=="string"?hIe(e):rfe(e);if(!(!t||!gIe(t)))return t}function jc(e,t=100,n=1/0){try{return sz("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function ife(e,t=3,n=100*1024){const r=jc(e,t);return xIe(r)>n?ife(e,t-1,n):r}function sz(e,t,n=1/0,r=1/0,i=SIe()){const[o,s]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=yIe(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return sz("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const f=zde(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=f[p];u[p]=sz(p,g,l-1,r,i),d++}return s(t),u}function yIe(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Nde(t))return"[VueViewModel]";if(EPe(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Jf(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=vIe(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function vIe(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function bIe(e){return~-encodeURI(e).split(/%..|./).length}function xIe(e){return bIe(JSON.stringify(e))}function SIe(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function hy(e,t=[]){return[e,t]}function wIe(e,t){const[n,r]=e;return[n,[...r,t]]}function tJ(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function az(e){const t=sP(hr);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function CIe(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[az(r),o]:r.push(typeof o=="string"?az(o):o)}for(const o of n){const[s,a]=o;if(i(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(jc(a))}i(l)}}return typeof r=="string"?r:_Ie(r)}function _Ie(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function EIe(e){return[{type:"span"},e]}function kIe(e){const t=typeof e.data=="string"?az(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const RIe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",otel_log:"log_item"};function nJ(e){return RIe[e]}function F9(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ofe(e,t,n,r){var o;const i=(o=e.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:jE(r)},...i&&{trace:i}}}function TIe(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function MIe(e,t,n,r){const i=F9(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:jE(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return hy(o,[s])}function AIe(e,t,n,r){const i=F9(n),o=e.type&&e.type!=="replay_event"?e.type:"event";TIe(e,n==null?void 0:n.sdk);const s=ofe(e,i,r,t);return delete e.sdkProcessingMetadata,hy(s,[[{type:o},e]])}function OIe(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=rp(e[0]),i=t==null?void 0:t.getDsn(),o=t==null?void 0:t.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&i&&{dsn:jE(i)}},a=t==null?void 0:t.getOptions().beforeSendSpan,l=a?u=>{const d=Sr(u),f=a(d);return f||(iz(),d)}:Sr,c=[];for(const u of e){const d=l(u);d&&c.push(EIe(d))}return hy(s,c)}function DIe(e,t,n,r=qs()){const i=r&&us(r);i&&(_n&&kt.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[dP]:t,[uP]:n}))}function rJ(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[uP],o=r[dP];typeof i=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:i})}),t}const iJ=1e3;class N9{constructor(t={}){this._traceId=t.traceId||Qh(),this._spanId=t.spanId||FE(),this._startTime=t.startTimestamp||js(),this._links=t.links,this._attributes={},this.setAttributes({[Co]:"manual",[T0]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?I9:Kde}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=c0(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(id,"custom"),this}end(t){this._endTime||(this._endTime=c0(t),uIe(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[T0],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Zde(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Co],profile_id:this._attributes[D9],exclusive_time:this._attributes[LE],measurements:rJ(this._events),is_segment:this._isStandaloneSpan&&us(this)===this||void 0,segment_id:this._isStandaloneSpan?us(this).spanContext().spanId:void 0,links:Qde(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){_n&&kt.log("[Tracing] Adding an event to span:",t);const i=oJ(n)?n:r||js(),o=oJ(n)?{}:n||{},s={name:t,time:c0(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Qn();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===us(this)))return;if(this._isStandaloneSpan){this._sampled?IIe(OIe([this],t)):(_n&&kt.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(EA(this).scope||si()).captureEvent(r)}_convertSpanToTransaction(){if(!sJ(Sr(this)))return;this._name||(_n&&kt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=EA(this);if(this._sampled!==!0)return;const i=bM(this).filter(c=>c!==this&&!PIe(c)).map(c=>Sr(c)).filter(sJ),o=this._attributes[id];delete this._attributes[KZ],i.forEach(c=>{delete c.data[KZ]});const s={contexts:{trace:nIe(this)},spans:i.length>iJ?i.sort((c,u)=>c.start_timestamp-u.start_timestamp).slice(0,iJ):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:rp(this)},...o&&{transaction_info:{source:o}}},a=rJ(this._events);return a&&Object.keys(a).length&&(_n&&kt.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),s.measurements=a),s}}function oJ(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function sJ(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function PIe(e){return e instanceof N9&&e.isStandaloneSpan()}function IIe(e){const t=Qn();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const sfe="__SENTRY_SUPPRESS_TRACING__";function zE(e){const t=lfe();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=FIe(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?s=>O9(e.scope,s):i!==void 0?s=>afe(i,s):s=>s())(()=>{const s=si(),a=LIe(s);return e.onlyIfParent&&!a?new A0:$Ie({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}function afe(e,t){const n=lfe();return n.withActiveSpan?n.withActiveSpan(e,t):O9(r=>(v_(r,e||void 0),t(r)))}function $Ie({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Zh()){const s=new A0;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...rp(s)};xM(s,a)}return s}const i=gu();let o;if(e&&!n)o=NIe(e,r,t),Jde(e,o);else if(e){const s=rp(e),{traceId:a,spanId:l}=e.spanContext(),c=py(e);o=aJ({traceId:a,parentSpanId:l,...t},r,c),xM(o,s)}else{const{traceId:s,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};o=aJ({traceId:s,parentSpanId:l,...t},r,c),a&&xM(o,a)}return cIe(o),GPe(o,r,i),o}function FIe(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=c0(e.startTime),delete r.startTime,r}return n}function lfe(){const e=dy();return bx(e)}function aJ(e,t,n){var f;const r=Qn(),i=(r==null?void 0:r.getOptions())||{},{name:o="",attributes:s}=e,a=t.getPropagationContext(),[l,c,u]=t.getScopeData().sdkProcessingMetadata[sfe]?[!1]:dIe(i,{name:o,parentSampled:n,attributes:s,parentSampleRate:M0((f=a.dsc)==null?void 0:f.sample_rate)},a.sampleRand),d=new N9({...e,attributes:{[id]:"custom",[Ude]:c!==void 0&&u?c:void 0,...e.attributes},sampled:l});return!l&&r&&(_n&&kt.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",d),d}function NIe(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[sfe]?!1:py(e),s=o?new N9({...n,parentSpanId:r,traceId:i,sampled:o}):new A0({traceId:i});Jde(e,s);const a=Qn();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function LIe(e){const t=_A(e);if(!t)return;const n=Qn();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?us(t):t}const SM={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},jIe="heartbeatFailed",zIe="idleTimeout",BIe="finalTimeout",UIe="externalFinish";function cfe(e,t={}){const n=new Map;let r=!1,i,o=UIe,s=!t.disableAutoFinish;const a=[],{idleTimeout:l=SM.idleTimeout,finalTimeout:c=SM.finalTimeout,childSpanTimeout:u=SM.childSpanTimeout,beforeSpanEnd:d}=t,f=Qn();if(!f||!Zh()){const T=new A0,k={sample_rate:"0",sampled:"false",...rp(T)};return xM(T,k),T}const p=si(),g=qs(),m=HIe(e);m.end=new Proxy(m.end,{apply(T,k,A){if(d&&d(m),k instanceof A0)return;const[P,...D]=A,F=P||js(),I=c0(F),j=bM(m).filter(q=>q!==m);if(!j.length)return E(I),Reflect.apply(T,k,[I,...D]);const M=j.map(q=>Sr(q).timestamp).filter(q=>!!q),$=M.length?Math.max(...M):void 0,L=Sr(m).start_timestamp,V=Math.min(L?L+c/1e3:1/0,Math.max(L||-1/0,Math.min(I,$||1/0)));return E(V),Reflect.apply(T,k,[V,...D])}});function v(){i&&(clearTimeout(i),i=void 0)}function b(T){v(),i=setTimeout(()=>{!r&&n.size===0&&s&&(o=zIe,m.end(T))},l)}function S(T){i=setTimeout(()=>{!r&&s&&(o=jIe,m.end(T))},u)}function C(T){v(),n.set(T,!0);const k=js();S(k+u/1e3)}function _(T){if(n.has(T)&&n.delete(T),n.size===0){const k=js();b(k+l/1e3)}}function E(T){r=!0,n.clear(),a.forEach(I=>I()),v_(p,g);const k=Sr(m),{start_timestamp:A}=k;if(!A)return;k.data[nz]||m.setAttribute(nz,o),kt.log(`[Tracing] Idle span "${k.op}" finished`);const D=bM(m).filter(I=>I!==m);let F=0;D.forEach(I=>{I.isRecording()&&(I.setStatus({code:po,message:"cancelled"}),I.end(T),_n&&kt.log("[Tracing] Cancelling span since span ended early",JSON.stringify(I,void 0,2)));const j=Sr(I),{timestamp:M=0,start_timestamp:$=0}=j,L=$<=T,V=(c+l)/1e3,q=M-$<=V;if(_n){const U=JSON.stringify(I,void 0,2);L?q||kt.log("[Tracing] Discarding span since it finished after idle span final timeout",U):kt.log("[Tracing] Discarding span since it happened after idle span was finished",U)}(!q||!L)&&(aIe(m,I),F++)}),F>0&&m.setAttribute("sentry.idle_span_discarded_spans",F)}return a.push(f.on("spanStart",T=>{if(r||T===m||Sr(T).timestamp)return;bM(m).includes(T)&&C(T.spanContext().spanId)})),a.push(f.on("spanEnd",T=>{r||_(T.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",T=>{T===m&&(s=!0,b(),n.size&&S())})),t.disableAutoFinish||b(),setTimeout(()=>{r||(m.setStatus({code:po,message:"deadline_exceeded"}),o=BIe,m.end())},c),m}function HIe(e){const t=zE(e);return v_(si(),t),_n&&kt.log("[Tracing] Started span is an idle span"),t}function lz(e,t,n,r=0){return new Kh((i,o)=>{const s=e[r];if(t===null||typeof s!="function")i(t);else{const a=s({...t},n);_n&&s.id&&a===null&&kt.log(`Event processor "${s.id}" dropped event`),cP(a)?a.then(l=>lz(e,l,n,r+1).then(i)).then(null,o):lz(e,a,n,r+1).then(i).then(null,o)}})}let RR,lJ,TR;function VIe(e){const t=hr._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return TR&&n.length===lJ||(lJ=n.length,TR=n.reduce((r,i)=>{RR||(RR={});const o=RR[i];if(o)r[o[0]]=o[1];else{const s=e(i);for(let a=s.length-1;a>=0;a--){const l=s[a],c=l==null?void 0:l.filename,u=t[i];if(c&&u){r[c]=u,RR[i]=[c,u];break}}}return r},{})),TR}function WIe(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;qIe(e,t),r&&XIe(e,r),KIe(e,n),GIe(e,i),YIe(e,o)}function cJ(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:f,transactionName:p,span:g}=t;MR(e,"extra",n),MR(e,"tags",r),MR(e,"user",i),MR(e,"contexts",o),e.sdkProcessingMetadata=NE(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function MR(e,t,n){e[t]=NE(e[t],n,1)}function qIe(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function GIe(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function YIe(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function XIe(e,t){e.contexts={trace:rIe(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:rp(t),...e.sdkProcessingMetadata};const n=us(t),r=Sr(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function KIe(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function ufe(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||nl(),timestamp:t.timestamp||$E()},c=n.integrations||e.integrations.map(v=>v.name);QIe(l,e),e$e(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&ZIe(l,e.stackParser);const u=n$e(r,n.captureContext);n.mechanism&&s1(l,n.mechanism);const d=i?i.getEventProcessors():[],f=UPe().getScopeData();if(o){const v=o.getScopeData();cJ(f,v)}if(u){const v=u.getScopeData();cJ(f,v)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),WIe(l,f);const g=[...d,...f.eventProcessors];return lz(g,l,n).then(v=>(v&&JIe(v),typeof s=="number"&&s>0?t$e(v,s,a):v))}function QIe(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||$9,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const s=e.request;s!=null&&s.url&&(s.url=wA(s.url,o))}function ZIe(e,t){var r,i;const n=VIe(t);(i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(o=>{var s,a;(a=(s=o.stacktrace)==null?void 0:s.frames)==null||a.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function JIe(e){var r,i;const t={};if((i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(o=>{var s,a;(a=(s=o.stacktrace)==null?void 0:s.frames)==null||a.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([o,s])=>{n.push({type:"sourcemap",code_file:o,debug_id:s})})}function e$e(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function t$e(e,t,n){var i,o;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:jc(s.data,t,n)}}))},...e.user&&{user:jc(e.user,t,n)},...e.contexts&&{contexts:jc(e.contexts,t,n)},...e.extra&&{extra:jc(e.extra,t,n)}};return(i=e.contexts)!=null&&i.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=jc(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:jc(s.data,t,n)}}))),(o=e.contexts)!=null&&o.flags&&r.contexts&&(r.contexts.flags=jc(e.contexts.flags,3,n)),r}function n$e(e,t){if(!t)return e;const n=e?e.clone():new R0;return n.update(t),n}function r$e(e){if(e)return i$e(e)?{captureContext:e}:s$e(e)?{captureContext:e}:e}function i$e(e){return e instanceof R0||typeof e=="function"}const o$e=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function s$e(e){return Object.keys(e).some(t=>o$e.includes(t))}function L9(e,t){return si().captureException(e,r$e(t))}function dfe(e,t){return si().captureEvent(e,t)}function ffe(e,t){gu().setContext(e,t)}function a$e(e){gu().setUser(e)}function l$e(){const e=Qn();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function c$e(e){gu().addEventProcessor(e)}function uJ(e){const t=gu(),n=si(),{userAgent:r}=hr.navigator||{},i=DPe({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return(o==null?void 0:o.status)==="ok"&&a1(o,{status:"exited"}),pfe(),t.setSession(i),i}function pfe(){const e=gu(),n=si().getSession()||e.getSession();n&&PPe(n),hfe(),e.setSession()}function hfe(){const e=gu(),t=Qn(),n=e.getSession();n&&t&&t.captureSession(n)}function dJ(e=!1){if(e){pfe();return}hfe()}const u$e="7";function d$e(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function f$e(e){return`${d$e(e)}${e.projectId}/envelope/`}function p$e(e,t){const n={sentry_version:u$e};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function h$e(e,t,n){return t||`${f$e(e)}?${p$e(e,n)}`}const fJ=[];function g$e(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function m$e(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return g$e(r)}function y$e(e,t){const n={};return t.forEach(r=>{r&&gfe(e,r,n)}),n}function pJ(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function gfe(e,t,n){if(n[t.name]){_n&&kt.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,fJ.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),fJ.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}_n&&kt.log(`Integration installed: ${t.name}`)}function v$e(e,t,n){const r=[{type:"client_report"},{timestamp:$E(),discarded_events:e}];return hy(t?{dsn:t}:{},[r])}function mfe(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function b$e(e){var l;const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:o,data:s,op:a}=((l=e.contexts)==null?void 0:l.trace)??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:s==null?void 0:s[D9],exclusive_time:s==null?void 0:s[LE],measurements:e.measurements,is_segment:!0}}function x$e(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[D9]:e.profile_id},...e.exclusive_time&&{[LE]:e.exclusive_time}}}},measurements:e.measurements}}const hJ="Not capturing exception because it's already been captured.",gJ="Discarded session because of missing or non-string release",yfe=Symbol.for("SentryInternalError"),vfe=Symbol.for("SentryDoNotSendEventError");function wM(e){return{message:e,[yfe]:!0}}function rN(e){return{message:e,[vfe]:!0}}function mJ(e){return!!e&&typeof e=="object"&&yfe in e}function yJ(e){return!!e&&typeof e=="object"&&vfe in e}class S$e{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=mIe(t.dsn):_n&&kt.warn("No DSN provided, client will not send events."),this._dsn){const n=h$e(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=nl();if(YZ(t))return _n&&kt.log(hJ),i;const o={event_id:i,...n};return this._process(this.eventFromException(t,o).then(s=>this._captureEvent(s,o,r))),o.event_id}captureMessage(t,n,r,i){const o={event_id:nl(),...r},s=R9(t)?t:String(t),a=T9(t)?this.eventFromMessage(s,n,o):this.eventFromException(t,o);return this._process(a.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(t,n,r){const i=nl();if(n!=null&&n.originalException&&YZ(n.originalException))return _n&&kt.log(hJ),i;const o={event_id:i,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,l=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||r,l)),o.event_id}captureSession(t){this.sendSession(t),a1(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):np(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];gfe(this,t,this._integrations),n||pJ(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=AIe(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=wIe(r,kIe(o));const i=this.sendEnvelope(r);i&&i.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const{release:n,environment:r=$9}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){_n&&kt.warn(gJ);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){_n&&kt.warn(gJ);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const i=MIe(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const i=`${t}:${n}`;_n&&kt.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(_n&&kt.error("Error while sending envelope:",n),n)):(_n&&kt.error("Transport disabled"),np({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=y$e(this,t),pJ(this,t)}_updateSessionFromEvent(t,n){var l;let r=n.level==="fatal",i=!1;const o=(l=n.exception)==null?void 0:l.values;if(o){i=!0;for(const c of o){const u=c.mechanism;if((u==null?void 0:u.handled)===!1){r=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&r)&&(a1(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Kh(n=>{let r=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=i,t&&r>=t&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i){const o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&(s!=null&&s.length)&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),ufe(o,t,n,r,this,i).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:HPe(r),...a.contexts};const l=nfe(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=si(),i=gu()){return _n&&cz(t)&&kt.log(`Captured error event \`${mfe(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,i).then(o=>o.event_id,o=>{_n&&(yJ(o)?kt.log(o.message):mJ(o)?kt.warn(o.message):kt.warn(o))})}_processEvent(t,n,r,i){const o=this.getOptions(),{sampleRate:s}=o,a=bfe(t),l=cz(t),c=t.type||"error",u=`before send for type \`${c}\``,d=typeof s>"u"?void 0:M0(s);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),CA(rN(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));const f=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,r,i).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),rN("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const m=C$e(this,o,p,n);return w$e(m,u)}).then(p=>{var v;if(p===null){if(this.recordDroppedEvent("before_send",f),a){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw rN(`${u} returned \`null\`, will not send event.`)}const g=r.getSession()||i.getSession();if(l&&g&&this._updateSessionFromEvent(g,p),a){const b=((v=p.sdkProcessingMetadata)==null?void 0:v.spanCountBeforeProcessing)||0,S=p.spans?p.spans.length:0,C=b-S;C>0&&this.recordDroppedEvent("before_send","span",C)}const m=p.transaction_info;if(a&&m&&p.transaction!==t.transaction){const b="custom";p.transaction_info={...m,source:b}}return this.sendEvent(p,n),p}).then(null,p=>{throw yJ(p)||mJ(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),wM(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}_flushOutcomes(){_n&&kt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){_n&&kt.log("No outcomes to send");return}if(!this._dsn){_n&&kt.log("No dsn provided, will not send outcomes");return}_n&&kt.log("Sending outcomes:",t);const n=v$e(t,this._options.tunnel&&jE(this._dsn));this.sendEnvelope(n)}}function w$e(e,t){const n=`${t} must return \`null\` or a valid event.`;if(cP(e))return e.then(r=>{if(!y_(r)&&r!==null)throw wM(n);return r},r=>{throw wM(`${t} rejected with ${r}`)});if(!y_(e)&&e!==null)throw wM(n);return e}function C$e(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;let a=n;if(cz(a)&&i)return i(a,r);if(bfe(a)){if(s){const l=s(b$e(a));if(l?a=NE(n,x$e(l)):iz(),a.spans){const c=[];for(const u of a.spans){const d=s(u);d?c.push(d):(iz(),c.push(u))}a.spans=c}}if(o){if(a.spans){const l=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:l}}return o(a,r)}}return a}function cz(e){return e.type===void 0}function bfe(e){return e.type==="transaction"}function _$e(e){return[{type:"otel_log"},e]}function E$e(e,t,n,r){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=jE(r)),hy(i,e.map(_$e))}const k$e=new WeakMap;function iN(e,t){const n=k$e.get(e)??[];if(n.length===0)return;const r=e.getOptions(),i=E$e(n,r._metadata,r.tunnel,e.getDsn());n.length=0,e.sendEnvelope(i)}function R$e(e,t){t.debug===!0&&(_n?kt.enable():fy(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),si().update(t.initialScope);const r=new e(t);return T$e(r),r.init(),r}function T$e(e){si().setClient(e)}const xfe=Symbol.for("SentryBufferFullError");function M$e(e){const t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!n())return CA(xfe);const a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(s){return new Kh((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{np(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:o}}const A$e=60*1e3;function O$e(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?A$e:r-t}function D$e(e,t){return e[t]||e.all||0}function Sfe(e,t,n=Date.now()){return D$e(e,t)>n}function wfe(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n==null?void 0:n["x-sentry-rate-limits"],s=n==null?void 0:n["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),f=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+f;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+f):i[p]=r+f}else s?i.all=r+O$e(s,r):t===429&&(i.all=r+60*1e3);return i}const P$e=64;function I$e(e,t,n=M$e(e.bufferSize||P$e)){let r={};const i=s=>n.drain(s);function o(s){const a=[];if(tJ(s,(d,f)=>{const p=nJ(f);Sfe(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(d)}),a.length===0)return np({});const l=hy(s[0],a),c=d=>{tJ(l,(f,p)=>{e.recordDroppedEvent(d,nJ(p))})},u=()=>t({body:CIe(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&_n&&kt.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=wfe(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d===xfe)return _n&&kt.error("Skipped sending event because buffer is full."),c("queue_overflow"),np({});throw d})}return{send:o,flush:i}}function $$e(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return N$e(e,n)||F$e(e,r)}function F$e(e,t){return t?vJ(e)===vJ(t):!1}function N$e(e,t){return t?e.includes(t.host):!1}function vJ(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function L$e(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function j$e(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Cfe(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:l0})),version:l0}),e._metadata=i}function _fe(e={}){const t=Qn();if(!l$e()||!t)return{};const n=dy(),r=bx(n);if(r.getTraceData)return r.getTraceData(e);const i=si(),o=e.span||qs(),s=o?iIe(o):z$e(i),a=o?rp(o):nfe(t,i),l=KPe(a);return Yde.test(s)?{"sentry-trace":s,baggage:l}:(kt.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function z$e(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Xde(t,r,n)}const B$e=100;function Jh(e,t){const n=Qn(),r=gu();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=B$e}=n.getOptions();if(o<=0)return;const a={timestamp:$E(),...e},l=i?fy(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,o))}let bJ;const U$e="FunctionToString",xJ=new WeakMap,H$e=()=>({name:U$e,setupOnce(){bJ=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=A9(this),n=xJ.has(Qn())&&t!==void 0?t:this;return bJ.apply(n,e)}}catch{}},setup(e){xJ.set(e,!0)}}),V$e=H$e,W$e=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],q$e="EventFilters",G$e=(e={})=>{let t;return{name:q$e,setup(n){const r=n.getOptions();t=SJ(e,r)},processEvent(n,r,i){if(!t){const o=i.getOptions();t=SJ(e,o)}return X$e(n,t)?null:n}}},Y$e=(e={})=>({...G$e(e),name:"InboundFilters"});function SJ(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:W$e],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function X$e(e,t){if(e.type){if(e.type==="transaction"&&Q$e(e,t.ignoreTransactions))return _n&&kt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Fm(e)}`),!0}else{if(K$e(e,t.ignoreErrors))return _n&&kt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Fm(e)}`),!0;if(t5e(e))return _n&&kt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Fm(e)}`),!0;if(Z$e(e,t.denyUrls))return _n&&kt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Fm(e)}.
Url: ${kA(e)}`),!0;if(!J$e(e,t.allowUrls))return _n&&kt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Fm(e)}.
Url: ${kA(e)}`),!0}return!1}function K$e(e,t){return t!=null&&t.length?mfe(e).some(n=>Nh(n,t)):!1}function Q$e(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?Nh(n,t):!1}function Z$e(e,t){if(!(t!=null&&t.length))return!1;const n=kA(e);return n?Nh(n,t):!1}function J$e(e,t){if(!(t!=null&&t.length))return!0;const n=kA(e);return n?Nh(n,t):!0}function e5e(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function kA(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(o=>{var s,a,l;return((s=o.mechanism)==null?void 0:s.parent_id)===void 0&&((l=(a=o.stacktrace)==null?void 0:a.frames)==null?void 0:l.length)}),i=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return i?e5e(i):null}catch{return _n&&kt.error(`Cannot extract url for event ${Fm(e)}`),null}}function t5e(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function n5e(e,t,n,r,i,o){var a;if(!((a=i.exception)!=null&&a.values)||!o||!ep(o.originalException,Error))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;s&&(i.exception.values=uz(e,t,r,o.originalException,n,i.exception.values,s,0))}function uz(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(ep(r[i],Error)){wJ(s,a);const c=e(t,r[i]),u=l.length;CJ(c,i,u,a),l=uz(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(ep(c,Error)){wJ(s,a);const d=e(t,c),f=l.length;CJ(d,`errors[${u}]`,f,a),l=uz(e,t,n,c,i,[d,...l],d,f)}}),l}function wJ(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function CJ(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function r5e(e){const t="console";Tg(t,e),Mg(t,i5e)}function i5e(){"console"in hr&&Zj.forEach(function(e){e in hr.console&&ha(hr.console,e,function(t){return SA[e]=t,function(...n){nc("console",{args:n,level:e});const i=SA[e];i==null||i.apply(hr.console,n)}})})}function Efe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const o5e="Dedupe",s5e=()=>{let e;return{name:o5e,processEvent(t){if(t.type)return t;try{if(l5e(t,e))return _n&&kt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},a5e=s5e;function l5e(e,t){return t?!!(c5e(e,t)||u5e(e,t)):!1}function c5e(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Rfe(e,t)||!kfe(e,t))}function u5e(e,t){const n=_J(t),r=_J(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Rfe(e,t)||!kfe(e,t))}function kfe(e,t){let n=UZ(e),r=UZ(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function Rfe(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function _J(e){var t;return((t=e.exception)==null?void 0:t.values)&&e.exception.values[0]}const d5e="thismessage:/";function Tfe(e){return"isRelative"in e}function f5e(e,t){const n=e.startsWith("/"),r=n?d5e:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function p5e(e){if(Tfe(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function d0(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function h5e(e){return e.split(/[?#]/,1)[0]}function g5e(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const{method:o,url:s}=e.fetchData,a=Zh()&&t(s);if(e.endTimestamp&&a){const d=e.fetchData.__span;if(!d)return;const f=r[d];f&&(y5e(f,e),delete r[d]);return}const l=!!qs(),c=a&&l?zE(x5e(s,o,i)):new A0;if(e.fetchData.__span=c.spanContext().spanId,r[c.spanContext().spanId]=c,n(e.fetchData.url)){const d=e.args[0],f=e.args[1]||{},p=m5e(d,f,Zh()&&l?c:void 0);p&&(e.args[1]=f,f.headers=p)}const u=Qn();if(u){const d={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};u.emit("beforeOutgoingRequestSpan",c,d)}return c}function m5e(e,t,n){const r=_fe({span:n}),i=r["sentry-trace"],o=r.baggage;if(!i)return;const s=t.headers||(v5e(e)?e.headers:void 0);if(s)if(b5e(s)){const a=new Headers(s);if(a.set("sentry-trace",i),o){const l=a.get("baggage");if(l){const c=AR(l);a.set("baggage",c?`${c},${o}`:o)}else a.set("baggage",o)}return a}else if(Array.isArray(s)){const a=[...s.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){const[c,u,...d]=l;return[c,AR(u),...d]}else return l}),["sentry-trace",i]];return o&&a.push(["baggage",o]),a}else{const a="baggage"in s?s.baggage:void 0;let l=[];return Array.isArray(a)?l=a.map(c=>typeof c=="string"?AR(c):c).filter(c=>c===""):a&&l.push(AR(a)),o&&l.push(o),{...s,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...r}}function y5e(e,t){var n;if(t.response){Vde(e,t.response.status);const r=((n=t.response)==null?void 0:n.headers)&&t.response.headers.get("content-length");if(r){const i=parseInt(r);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:po,message:"internal_error"});e.end()}function AR(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(P9)).join(",")}function v5e(e){return typeof Request<"u"&&ep(e,Request)}function b5e(e){return typeof Headers<"u"&&ep(e,Headers)}function x5e(e,t,n){const r=f5e(e);return{name:r?`${t} ${p5e(r)}`:t,attributes:S5e(e,r,t,n)}}function S5e(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[Co]:r,[T0]:"http.client"};return t&&(Tfe(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function Mfe(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const b_=hr;function w5e(){return"history"in b_&&!!b_.history}function Afe(){if(!("fetch"in b_))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function dz(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function C5e(){var n;if(typeof EdgeRuntime=="string")return!0;if(!Afe())return!1;if(dz(b_.fetch))return!0;let e=!1;const t=b_.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=dz(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Rg&&kt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Ofe(e,t){const n="fetch";Tg(n,e),Mg(n,()=>Dfe(void 0,t))}function _5e(e){const t="fetch-body-resolved";Tg(t,e),Mg(t,()=>Dfe(k5e))}function Dfe(e,t=!1){t&&!C5e()||ha(hr,"fetch",function(n){return function(...r){const i=new Error,{method:o,url:s}=R5e(r),a={args:r,fetchData:{method:o,url:s},startTimestamp:js()*1e3,virtualError:i};return e||nc("fetch",{...a}),n.apply(hr,r).then(async l=>(e?e(l):nc("fetch",{...a,endTimestamp:js()*1e3,response:l}),l),l=>{if(nc("fetch",{...a,endTimestamp:js()*1e3,error:l}),k9(l)&&l.stack===void 0&&(l.stack=i.stack,dl(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const c=new URL(a.fetchData.url);l.message=`${l.message} (${c.host})`}catch{}throw l})}})}async function E5e(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(s),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(s)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function k5e(e){let t;try{t=e.clone()}catch{return}E5e(t,()=>{nc("fetch-body-resolved",{endTimestamp:js()*1e3,response:e})})}function fz(e,t){return!!e&&typeof e=="object"&&!!e[t]}function EJ(e){return typeof e=="string"?e:e?fz(e,"url")?e.url:e.toString?e.toString():"":""}function R5e(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:EJ(n),method:fz(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:EJ(t),method:fz(t,"method")?String(t.method).toUpperCase():"GET"}}function T5e(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function M5e(){return"npm"}function A5e(){return!T5e()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function kJ(){return typeof window<"u"&&(!A5e()||O5e())}function O5e(){const e=hr.process;return(e==null?void 0:e.type)==="renderer"}const cr=hr;let pz=0;function Pfe(){return pz>0}function D5e(){pz++,setTimeout(()=>{pz--})}function c1(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(A9(e))return e}catch{return e}const r=function(...i){try{const o=i.map(s=>c1(s,t));return e.apply(this,o)}catch(o){throw D5e(),O9(s=>{s.addEventProcessor(a=>(t.mechanism&&(Jj(a,void 0),s1(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),L9(o)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}jde(r,e),dl(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function j9(e,t){const n=z9(e,t),r={type:N5e(t),value:L5e(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function P5e(e,t,n,r){const i=Qn(),o=i==null?void 0:i.getOptions().normalizeDepth,s=H5e(t),a={__serialized__:ife(t,o)};if(s)return{exception:{values:[j9(e,s)]},extra:a};const l={exception:{values:[{type:lP(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:B5e(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=z9(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function oN(e,t){return{exception:{values:[j9(e,t)]}}}function z9(e,t){const n=t.stacktrace||t.stack||"",r=$5e(t),i=F5e(t);try{return e(n,r,i)}catch{}return[]}const I5e=/Minified React error #\d+;/i;function $5e(e){return e&&I5e.test(e.message)?1:0}function F5e(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Ife(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function N5e(e){const t=e==null?void 0:e.name;return!t&&Ife(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function L5e(e){const t=e==null?void 0:e.message;return Ife(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function j5e(e,t,n,r){const i=(n==null?void 0:n.syntheticException)||void 0,o=B9(e,t,i,r);return s1(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),np(o)}function z5e(e,t,n="info",r,i){const o=(r==null?void 0:r.syntheticException)||void 0,s=hz(e,t,o,i);return s.level=n,r!=null&&r.event_id&&(s.event_id=r.event_id),np(s)}function B9(e,t,n,r,i){let o;if(Fde(t)&&t.error)return oN(e,t.error);if(VZ(t)||wPe(t)){const s=t;if("stack"in t)o=oN(e,t);else{const a=s.name||(VZ(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=hz(e,l,n,r),Jj(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return k9(t)?oN(e,t):y_(t)||lP(t)?(o=P5e(e,t,n,i),s1(o,{synthetic:!0}),o):(o=hz(e,t,n,r),Jj(o,`${t}`),s1(o,{synthetic:!0}),o)}function hz(e,t,n,r){const i={};if(r&&n){const o=z9(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]}),s1(i,{synthetic:!0})}if(R9(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function B5e(e,{isUnhandledRejection:t}){const n=MPe(e),r=t?"promise rejection":"exception";return Fde(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:lP(e)?`Event \`${U5e(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function U5e(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function H5e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const V5e=5e3;class W5e extends S$e{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=cr.SENTRY_SDK_SOURCE||M5e();Cfe(n,"browser",["browser"],r),super(n);const i=this,{sendDefaultPii:o,_experiments:s}=i._options,a=s==null?void 0:s.enableLogs;n.sendClientReports&&cr.document&&cr.document.addEventListener("visibilitychange",()=>{cr.document.visibilityState==="hidden"&&(this._flushOutcomes(),a&&iN(i))}),a&&(i.on("flush",()=>{iN(i)}),i.on("afterCaptureLog",()=>{i._logFlushIdleTimeout&&clearTimeout(i._logFlushIdleTimeout),i._logFlushIdleTimeout=setTimeout(()=>{iN(i)},V5e)})),o&&(i.on("postprocessEvent",L$e),i.on("beforeSendSession",j$e))}eventFromException(t,n){return j5e(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return z5e(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,i)}}const x_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,q5e=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",xx=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i||0),(o||i===void 0)&&(i=t.value,t.delta=o,t.rating=q5e(t.value,n),e(t)))}},Bn=hr,G5e=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,BE=(e=!0)=>{var n,r;const t=(r=(n=Bn.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},UE=()=>{const e=BE();return(e==null?void 0:e.activationStart)||0},Sx=(e,t)=>{var o,s;const n=BE();let r="navigate";return n&&((o=Bn.document)!=null&&o.prerendering||UE()>0?r="prerender":(s=Bn.document)!=null&&s.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:G5e(),navigationType:r}},gy=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},wx=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=Bn.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Bn.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},fP=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let PC=-1;const Y5e=()=>Bn.document.visibilityState==="hidden"&&!Bn.document.prerendering?0:1/0,RA=e=>{Bn.document.visibilityState==="hidden"&&PC>-1&&(PC=e.type==="visibilitychange"?e.timeStamp:0,K5e())},X5e=()=>{addEventListener("visibilitychange",RA,!0),addEventListener("prerenderingchange",RA,!0)},K5e=()=>{removeEventListener("visibilitychange",RA,!0),removeEventListener("prerenderingchange",RA,!0)},pP=()=>(Bn.document&&PC<0&&(PC=Y5e(),X5e()),{get firstHiddenTime(){return PC}}),HE=e=>{var t;(t=Bn.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Q5e=[1800,3e3],Z5e=(e,t={})=>{HE(()=>{const n=pP(),r=Sx("FCP");let i;const s=gy("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-UE(),0),r.entries.push(l),i(!0)))})});s&&(i=xx(e,r,Q5e,t.reportAllChanges))})},J5e=[.1,.25],e3e=(e,t={})=>{Z5e(fP(()=>{const n=Sx("CLS",0);let r,i=0,o=[];const s=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=o[0],d=o[o.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,o.push(c)):(i=c.value,o=[c])}}),i>n.value&&(n.value=i,n.entries=o,r())},a=gy("layout-shift",s);a&&(r=xx(e,n,J5e,t.reportAllChanges),wx(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},t3e=[100,300],n3e=(e,t={})=>{HE(()=>{const n=pP(),r=Sx("FID");let i;const o=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},s=l=>{l.forEach(o)},a=gy("first-input",s);i=xx(e,r,t3e,t.reportAllChanges),a&&wx(fP(()=>{s(a.takeRecords()),a.disconnect()}))})};let $fe=0,sN=1/0,OR=0;const r3e=e=>{e.forEach(t=>{t.interactionId&&(sN=Math.min(sN,t.interactionId),OR=Math.max(OR,t.interactionId),$fe=OR?(OR-sN)/7+1:0)})};let gz;const i3e=()=>gz?$fe:performance.interactionCount||0,o3e=()=>{"interactionCount"in performance||gz||(gz=gy("event",r3e,{type:"event",buffered:!0,durationThreshold:0}))},xf=[],aN=new Map,s3e=40;let a3e=0;const l3e=()=>i3e()-a3e,c3e=()=>{const e=Math.min(xf.length-1,Math.floor(l3e()/50));return xf[e]},lN=10,u3e=[],d3e=e=>{var r;if(u3e.forEach(i=>i(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=xf[xf.length-1],n=aN.get(e.interactionId);if(n||xf.length<lN||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===((r=n.entries[0])==null?void 0:r.startTime)&&n.entries.push(e);else{const i={id:e.interactionId,latency:e.duration,entries:[e]};aN.set(i.id,i),xf.push(i)}xf.sort((i,o)=>o.latency-i.latency),xf.length>lN&&xf.splice(lN).forEach(i=>aN.delete(i.id))}},Ffe=e=>{var r;const t=Bn.requestIdleCallback||Bn.setTimeout;let n=-1;return e=fP(e),((r=Bn.document)==null?void 0:r.visibilityState)==="hidden"?e():(n=t(e),wx(e)),n},f3e=[200,500],p3e=(e,t={})=>{"PerformanceEventTiming"in Bn&&"interactionId"in PerformanceEventTiming.prototype&&HE(()=>{o3e();const n=Sx("INP");let r;const i=s=>{Ffe(()=>{s.forEach(d3e);const a=c3e();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},o=gy("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:s3e});r=xx(e,n,f3e,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),wx(()=>{i(o.takeRecords()),r(!0)}))})},h3e=[2500,4e3],RJ={},g3e=(e,t={})=>{HE(()=>{const n=pP(),r=Sx("LCP");let i;const o=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-UE(),0),r.entries=[l],i())})},s=gy("largest-contentful-paint",o);if(s){i=xx(e,r,h3e,t.reportAllChanges);const a=fP(()=>{RJ[r.id]||(o(s.takeRecords()),s.disconnect(),RJ[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Bn.document&&addEventListener(l,()=>Ffe(a),{once:!0,capture:!0})}),wx(a)}})},m3e=[800,1800],mz=e=>{var t,n;(t=Bn.document)!=null&&t.prerendering?HE(()=>mz(e)):((n=Bn.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>mz(e),!0):setTimeout(e,0)},y3e=(e,t={})=>{const n=Sx("TTFB"),r=xx(e,n,m3e,t.reportAllChanges);mz(()=>{const i=BE();i&&(n.value=Math.max(i.responseStart-UE(),0),n.entries=[i],r(!0))})},IC={},TA={};let Nfe,Lfe,jfe,zfe,Bfe;function U9(e,t=!1){return VE("cls",e,b3e,Nfe,t)}function Ufe(e,t=!1){return VE("lcp",e,S3e,jfe,t)}function Hfe(e){return VE("fid",e,x3e,Lfe)}function v3e(e){return VE("ttfb",e,w3e,zfe)}function Vfe(e){return VE("inp",e,C3e,Bfe)}function u1(e,t){return Wfe(e,t),TA[e]||(_3e(e),TA[e]=!0),qfe(e,t)}function Cx(e,t){const n=IC[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(i){x_&&kt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Jf(r)}
Error:`,i)}}function b3e(){return e3e(e=>{Cx("cls",{metric:e}),Nfe=e},{reportAllChanges:!0})}function x3e(){return n3e(e=>{Cx("fid",{metric:e}),Lfe=e})}function S3e(){return g3e(e=>{Cx("lcp",{metric:e}),jfe=e},{reportAllChanges:!0})}function w3e(){return y3e(e=>{Cx("ttfb",{metric:e}),zfe=e})}function C3e(){return p3e(e=>{Cx("inp",{metric:e}),Bfe=e})}function VE(e,t,n,r,i=!1){Wfe(e,t);let o;return TA[e]||(o=n(),TA[e]=!0),r&&t({metric:r}),qfe(e,t,i?o:void 0)}function _3e(e){const t={};e==="event"&&(t.durationThreshold=0),gy(e,n=>{Cx(e,{entries:n})},t)}function Wfe(e,t){IC[e]=IC[e]||[],IC[e].push(t)}function qfe(e,t,n){return()=>{n&&n();const r=IC[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function E3e(e){return"duration"in e}function cN(e){return typeof e=="number"&&isFinite(e)}function ip(e,t,n,{...r}){const i=Sr(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),afe(e,()=>{const o=zE({startTime:t,...r});return o&&o.end(n),o})}function Gfe(e){var v;const t=Qn();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:o}=e,{release:s,environment:a,sendDefaultPii:l}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c==null?void 0:c.getReplayId(),d=si(),f=d.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let g;try{g=d.getScopeData().contexts.profile.profile_id}catch{}const m={release:s,environment:a,user:p||void 0,profile_id:g||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":(v=Bn.navigator)==null?void 0:v.userAgent,"client.address":l?"{{auto}}":void 0,...i};return zE({name:n,attributes:m,startTime:o,experimental:{standalone:!0}})}function H9(){return Bn.addEventListener&&Bn.performance}function Ni(e){return e/1e3}function Yfe(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function k3e(){let e=0,t,n;if(!T3e())return;let r=!1;function i(){r||(r=!0,n&&R3e(e,t,n),o())}const o=U9(({metric:s})=>{const a=s.entries[s.entries.length-1];a&&(e=s.value,t=a)},!0);wx(()=>{i()}),setTimeout(()=>{const s=Qn();if(!s)return;const a=s.on("startNavigationSpan",()=>{i(),a==null||a()}),l=qs();if(l){const c=us(l);Sr(c).op==="pageload"&&(n=c.spanContext().spanId)}},0)}function R3e(e,t,n){var l;x_&&kt.log(`Sending CLS span (${e})`);const r=Ni((wl()||0)+((t==null?void 0:t.startTime)||0)),i=si().getScopeData().transactionName,o=t?tp((l=t.sources[0])==null?void 0:l.node):"Layout shift",s={[Co]:"auto.http.browser.cls",[T0]:"ui.webvital.cls",[LE]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n},a=Gfe({name:o,transaction:i,attributes:s,startTime:r});a&&(a.addEvent("cls",{[uP]:"",[dP]:e}),a.end(r))}function T3e(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const M3e=2147483647;let TJ=0,Po={},sa,ib;function A3e({recordClsStandaloneSpans:e}){const t=H9();if(t&&wl()){t.mark&&Bn.performance.mark("sentry-tracing-init");const n=F3e(),r=$3e(),i=N3e(),o=e?k3e():I3e();return()=>{n(),r(),i(),o==null||o()}}return()=>{}}function O3e(){u1("longtask",({entries:e})=>{const t=qs();if(!t)return;const{op:n,start_timestamp:r}=Sr(t);for(const i of e){const o=Ni(wl()+i.startTime),s=Ni(i.duration);n==="navigation"&&r&&o<r||ip(t,o,o+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Co]:"auto.ui.browser.metrics"}})}})}function D3e(){new PerformanceObserver(t=>{const n=qs();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=Ni(wl()+r.startTime),{start_timestamp:o,op:s}=Sr(n);if(s==="navigation"&&o&&i<o)continue;const a=Ni(r.duration),l={[Co]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:u,invokerType:d,sourceURL:f,sourceFunctionName:p,sourceCharPosition:g}=c;l["browser.script.invoker"]=u,l["browser.script.invoker_type"]=d,f&&(l["code.filepath"]=f),p&&(l["code.function"]=p),g!==-1&&(l["browser.script.source_char_position"]=g),ip(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function P3e(){u1("event",({entries:e})=>{const t=qs();if(t){for(const n of e)if(n.name==="click"){const r=Ni(wl()+n.startTime),i=Ni(n.duration),o={name:tp(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Co]:"auto.ui.browser.metrics"}},s=Lde(n.target);s&&(o.attributes["ui.component_name"]=s),ip(t,r,r+i,o)}}})}function I3e(){return U9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Po.cls={value:e.value,unit:""},ib=t)},!0)}function $3e(){return Ufe(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Po.lcp={value:e.value,unit:"millisecond"},sa=t)},!0)}function F3e(){return Hfe(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Ni(wl()),r=Ni(t.startTime);Po.fid={value:e.value,unit:"millisecond"},Po["mark.fid"]={value:n+r,unit:"second"}})}function N3e(){return v3e(({metric:e})=>{e.entries[e.entries.length-1]&&(Po.ttfb={value:e.value,unit:"millisecond"})})}function L3e(e,t){const n=H9(),r=wl();if(!(n!=null&&n.getEntries)||!r)return;const i=Ni(r),o=n.getEntries(),{op:s,start_timestamp:a}=Sr(e);if(o.slice(TJ).forEach(l=>{const c=Ni(l.startTime),u=Ni(Math.max(0,l.duration));if(!(s==="navigation"&&a&&i+c<a))switch(l.entryType){case"navigation":{z3e(e,l,i);break}case"mark":case"paint":case"measure":{j3e(e,l,c,u,i);const d=pP(),f=l.startTime<d.firstHiddenTime;l.name==="first-paint"&&f&&(Po.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&f&&(Po.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{H3e(e,l,l.name,c,u,i);break}}}),TJ=Math.max(o.length-1,0),V3e(e),s==="pageload"){q3e(Po);const l=Po["mark.fid"];l&&Po.fid&&(ip(e,l.value,l.value+Ni(Po.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Co]:"auto.ui.browser.metrics"}}),delete Po["mark.fid"]),(!("fcp"in Po)||!t.recordClsOnPageloadSpan)&&delete Po.cls,Object.entries(Po).forEach(([c,u])=>{DIe(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",UE()),W3e(e)}sa=void 0,ib=void 0,Po={}}function j3e(e,t,n,r,i){const o=BE(!1),s=Ni(o?o.requestStart:0),a=i+Math.max(n,s),l=i+n,c=l+r,u={[Co]:"auto.resource.browser.metrics"};a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),a<=c&&ip(e,a,c,{name:t.name,op:t.entryType,attributes:u})}function z3e(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{DR(e,t,r,n)}),DR(e,t,"secureConnection",n,"TLS/SSL"),DR(e,t,"fetch",n,"cache"),DR(e,t,"domainLookup",n,"DNS"),U3e(e,t,n)}function DR(e,t,n,r,i=n){const o=B3e(n),s=t[o],a=t[`${n}Start`];!a||!s||ip(e,r+Ni(a),r+Ni(s),{op:`browser.${i}`,name:t.name,attributes:{[Co]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function B3e(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function U3e(e,t,n){const r=n+Ni(t.requestStart),i=n+Ni(t.responseEnd),o=n+Ni(t.responseStart);t.responseEnd&&(ip(e,r,i,{op:"browser.request",name:t.name,attributes:{[Co]:"auto.ui.browser.metrics"}}),ip(e,o,i,{op:"browser.response",name:t.name,attributes:{[Co]:"auto.ui.browser.metrics"}}))}function H3e(e,t,n,r,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const s=d0(n),a={[Co]:"auto.resource.browser.metrics"};uN(a,t,"transferSize","http.response_transfer_size"),uN(a,t,"encodedBodySize","http.response_content_length"),uN(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;l!=null&&(a["http.response_delivery_type"]=l);const c=t.renderBlockingStatus;c&&(a["resource.render_blocking_status"]=c),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(Bn.location.origin);const{name:u,version:d}=Yfe(t.nextHopProtocol);a["network.protocol.name"]=u,a["network.protocol.version"]=d;const f=o+r,p=f+i;ip(e,f,p,{name:n.replace(Bn.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function V3e(e){const t=Bn.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),cN(n.rtt)&&(Po["connection.rtt"]={value:n.rtt,unit:"millisecond"})),cN(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),cN(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function W3e(e){sa&&(sa.element&&e.setAttribute("lcp.element",tp(sa.element)),sa.id&&e.setAttribute("lcp.id",sa.id),sa.url&&e.setAttribute("lcp.url",sa.url.trim().slice(0,200)),sa.loadTime!=null&&e.setAttribute("lcp.loadTime",sa.loadTime),sa.renderTime!=null&&e.setAttribute("lcp.renderTime",sa.renderTime),e.setAttribute("lcp.size",sa.size)),ib!=null&&ib.sources&&ib.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,tp(t.node)))}function uN(e,t,n,r){const i=t[n];i!=null&&i<M3e&&(e[r]=i)}function q3e(e){const t=BE(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const G3e=1e3;let MJ,yz,vz;function Xfe(e){const t="dom";Tg(t,e),Mg(t,Y3e)}function Y3e(){if(!Bn.document)return;const e=nc.bind(null,"dom"),t=AJ(e,!0);Bn.document.addEventListener("click",t,!1),Bn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var o,s;const i=(o=Bn[n])==null?void 0:o.prototype;(s=i==null?void 0:i.hasOwnProperty)!=null&&s.call(i,"addEventListener")&&(ha(i,"addEventListener",function(a){return function(l,c,u){if(l==="click"||l=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[l]=d[l]||{refCount:0};if(!f.handler){const p=AJ(e);f.handler=p,a.call(this,l,p,u)}f.refCount++}catch{}return a.call(this,l,c,u)}}),ha(i,"removeEventListener",function(a){return function(l,c,u){if(l==="click"||l=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},f=d[l];f&&(f.refCount--,f.refCount<=0&&(a.call(this,l,f.handler,u),f.handler=void 0,delete d[l]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,l,c,u)}}))})}function X3e(e){if(e.type!==yz)return!1;try{if(!e.target||e.target._sentryId!==vz)return!1}catch{}return!0}function K3e(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function AJ(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Q3e(n);if(K3e(n.type,r))return;dl(n,"_sentryCaptured",!0),r&&!r._sentryId&&dl(r,"_sentryId",nl());const i=n.type==="keypress"?"input":n.type;X3e(n)||(e({event:n,name:i,global:t}),yz=n.type,vz=r?r._sentryId:void 0),clearTimeout(MJ),MJ=Bn.setTimeout(()=>{vz=void 0,yz=void 0},G3e)}}function Q3e(e){try{return e.target}catch{return null}}let PR;function hP(e){const t="history";Tg(t,e),Mg(t,Z3e)}function Z3e(){if(Bn.addEventListener("popstate",()=>{const t=Bn.location.href,n=PR;if(PR=t,n===t)return;nc("history",{from:n,to:t})}),!w5e())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=PR,o=String(r);if(PR=o,i===o)return t.apply(this,n);nc("history",{from:i,to:o})}return t.apply(this,n)}}ha(Bn.history,"pushState",e),ha(Bn.history,"replaceState",e)}const CM={};function Kfe(e){const t=CM[e];if(t)return t;let n=Bn[e];if(dz(n))return CM[e]=n.bind(Bn);const r=Bn.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const o=i.contentWindow;o!=null&&o[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){x_&&kt.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(CM[e]=n.bind(Bn))}function OJ(e){CM[e]=void 0}function d1(...e){return Kfe("setTimeout")(...e)}const Wm="__sentry_xhr_v3__";function Qfe(e){const t="xhr";Tg(t,e),Mg(t,J3e)}function J3e(){if(!Bn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,o=js()*1e3,s=Ff(r[0])?r[0].toUpperCase():void 0,a=eFe(r[1]);if(!s||!a)return t.apply(n,r);n[Wm]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Wm];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const u={endTimestamp:js()*1e3,startTimestamp:o,xhr:n,virtualError:i};nc("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,u,d){return l(),c.apply(u,d)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,u,d){const[f,p]=d,g=u[Wm];return g&&Ff(f)&&Ff(p)&&(g.request_headers[f.toLowerCase()]=p),c.apply(u,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Wm];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const o={startTimestamp:js()*1e3,xhr:n};return nc("xhr",o),t.apply(n,r)}})}function eFe(e){if(Ff(e))return e;try{return e.toString()}catch{}}function Zfe(e){return new URLSearchParams(e).toString()}function Jfe(e,t=kt){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Zfe(e)];if(!e)return[void 0]}catch(n){return x_&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return x_&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function epe(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}const dN=[],_M=new Map;function tFe(){if(H9()&&wl()){const t=nFe();return()=>{t()}}return()=>{}}const DJ={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function nFe(){return Vfe(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(g=>g.duration===e.value&&DJ[g.name]);if(!t)return;const{interactionId:n}=t,r=DJ[t.name],i=Ni(wl()+t.startTime),o=Ni(e.value),s=qs(),a=s?us(s):void 0,c=(n!=null?_M.get(n):void 0)||a,u=c?Sr(c).description:si().getScopeData().transactionName,d=tp(t.target),f={[Co]:"auto.http.browser.inp",[T0]:`ui.interaction.${r}`,[LE]:t.duration},p=Gfe({name:d,transaction:u,attributes:f,startTime:i});p&&(p.addEvent("inp",{[uP]:"millisecond",[dP]:e.value}),p.end(i+o))})}function rFe(){const e=({entries:t})=>{const n=qs(),r=n&&us(n);t.forEach(i=>{if(!E3e(i)||!r)return;const o=i.interactionId;if(o!=null&&!_M.has(o)){if(dN.length>10){const s=dN.shift();_M.delete(s)}dN.push(o),_M.set(o,r)}})};u1("event",e),u1("first-input",e)}function iFe(e,t=Kfe("fetch")){let n=0,r=0;function i(o){const s=o.body.length;n+=s,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return OJ("fetch"),CA("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return OJ("fetch"),n-=s,r--,CA(l)}}return I$e(e,i)}const oFe=30,sFe=50;function bz(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?k0:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const aFe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,lFe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,cFe=/\((\S*)(?::(\d+))(?::(\d+))\)/,uFe=e=>{const t=aFe.exec(e);if(t){const[,r,i,o]=t;return bz(r,k0,+i,+o)}const n=lFe.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=cFe.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,o]=tpe(n[1]||k0,n[2]);return bz(o,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},dFe=[oFe,uFe],fFe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,pFe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,hFe=e=>{const t=fFe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=pFe.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],i=t[1]||k0;return[i,r]=tpe(i,r),bz(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},gFe=[sFe,hFe],mFe=[dFe,gFe],yFe=Ode(...mFe),tpe=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:k0,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},cc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,IR=1024,vFe="Breadcrumbs",bFe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:vFe,setup(n){t.console&&r5e(CFe(n)),t.dom&&Xfe(wFe(n,t.dom)),t.xhr&&Qfe(_Fe(n)),t.fetch&&Ofe(EFe(n)),t.history&&hP(kFe(n)),t.sentry&&n.on("beforeSendEvent",SFe(n))}}},xFe=bFe;function SFe(e){return function(n){Qn()===e&&Jh({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Fm(n)},{event:n})}}function wFe(e,t){return function(r){if(Qn()!==e)return;let i,o,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>IR&&(cc&&kt.warn(`\`dom.maxStringLength\` cannot exceed ${IR}, but a value of ${a} was configured. Sentry will use ${IR} instead.`),a=IR),typeof s=="string"&&(s=[s]);try{const c=r.event,u=RFe(c)?c.target:c;i=tp(u,{keyAttrs:s,maxStringLength:a}),o=Lde(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};o&&(l.data={"ui.component_name":o}),Jh(l,{event:r.event,name:r.name,global:r.global})}}function CFe(e){return function(n){if(Qn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Efe(n.level),message:WZ(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${WZ(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Jh(r,{input:n.args,level:n.level})}}function _Fe(e){return function(n){if(Qn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[Wm];if(!r||!i||!o)return;const{method:s,url:a,status_code:l,body:c}=o,u={method:s,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},f={category:"xhr",data:u,type:"http",level:Mfe(l)};e.emit("beforeOutgoingRequestBreadcrumb",f,d),Jh(f,d)}}function EFe(e){return function(n){if(Qn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Jh(a,s)}else{const o=n.response,s={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:i},l={category:"fetch",data:s,type:"http",level:Mfe(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,a),Jh(l,a)}}}function kFe(e){return function(n){if(Qn()!==e)return;let r=n.from,i=n.to;const o=d0(cr.location.href);let s=r?d0(r):void 0;const a=d0(i);s!=null&&s.path||(s=o),o.protocol===a.protocol&&o.host===a.host&&(i=a.relative),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),Jh({category:"navigation",data:{from:r,to:i}})}}function RFe(e){return!!e&&!!e.target}const TFe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],MFe="BrowserApiErrors",AFe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:MFe,setupOnce(){t.setTimeout&&ha(cr,"setTimeout",PJ),t.setInterval&&ha(cr,"setInterval",PJ),t.requestAnimationFrame&&ha(cr,"requestAnimationFrame",DFe),t.XMLHttpRequest&&"XMLHttpRequest"in cr&&ha(XMLHttpRequest.prototype,"send",PFe);const n=t.eventTarget;n&&(Array.isArray(n)?n:TFe).forEach(IFe)}}},OFe=AFe;function PJ(e){return function(...t){const n=t[0];return t[0]=c1(n,{mechanism:{data:{function:Jf(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function DFe(e){return function(t){return e.apply(this,[c1(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Jf(e)},handled:!1,type:"instrument"}})])}}function PFe(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&ha(n,i,function(o){const s={mechanism:{data:{function:i,handler:Jf(o)},handled:!1,type:"instrument"}},a=A9(o);return a&&(s.mechanism.data.handler=Jf(a)),c1(o,s)})}),e.apply(this,t)}}function IFe(e){var r,i;const n=(r=cr[e])==null?void 0:r.prototype;(i=n==null?void 0:n.hasOwnProperty)!=null&&i.call(n,"addEventListener")&&(ha(n,"addEventListener",function(o){return function(s,a,l){try{$Fe(a)&&(a.handleEvent=c1(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Jf(a),target:e},handled:!1,type:"instrument"}}))}catch{}return o.apply(this,[s,c1(a,{mechanism:{data:{function:"addEventListener",handler:Jf(a),target:e},handled:!1,type:"instrument"}}),l])}}),ha(n,"removeEventListener",function(o){return function(s,a,l){try{const c=a.__sentry_wrapped__;c&&o.call(this,s,c,l)}catch{}return o.call(this,s,a,l)}}))}function $Fe(e){return typeof e.handleEvent=="function"}const FFe=()=>({name:"BrowserSession",setupOnce(){if(typeof cr.document>"u"){cc&&kt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}uJ({ignoreDuration:!0}),dJ(),hP(({from:e,to:t})=>{e!==void 0&&e!==t&&(uJ({ignoreDuration:!0}),dJ())})}}),NFe="GlobalHandlers",LFe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:NFe,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(zFe(n),IJ("onerror")),t.onunhandledrejection&&(BFe(n),IJ("onunhandledrejection"))}}},jFe=LFe;function zFe(e){Dde(t=>{const{stackParser:n,attachStacktrace:r}=npe();if(Qn()!==e||Pfe())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=VFe(B9(n,l||i,void 0,r,!1),o,s,a);c.level="error",dfe(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function BFe(e){Pde(t=>{const{stackParser:n,attachStacktrace:r}=npe();if(Qn()!==e||Pfe())return;const i=UFe(t),o=T9(i)?HFe(i):B9(n,i,void 0,r,!0);o.level="error",dfe(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function UFe(e){if(T9(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function HFe(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function VFe(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=r,u=n,d=Ff(t)&&t.length>0?t:vx();return l.length===0&&l.push({colno:c,filename:d,function:k0,in_app:!0,lineno:u}),e}function IJ(e){cc&&kt.log(`Global Handler attached: ${e}`)}function npe(){const e=Qn();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const WFe=()=>({name:"HttpContext",preprocessEvent(e){var s,a;if(!cr.navigator&&!cr.location&&!cr.document)return;const t=((s=e.request)==null?void 0:s.url)||vx(),{referrer:n}=cr.document||{},{userAgent:r}=cr.navigator||{},i={...(a=e.request)==null?void 0:a.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),qFe="cause",GFe=5,YFe="LinkedErrors",XFe=(e={})=>{const t=e.limit||GFe,n=e.key||qFe;return{name:YFe,preprocessEvent(r,i,o){const s=o.getOptions();n5e(j9,s.stackParser,n,t,r,i)}}},KFe=XFe;function QFe(e){return[Y$e(),V$e(),OFe(),xFe(),jFe(),KFe(),a5e(),WFe(),FFe()]}function ZFe(e={}){var n;return{...{defaultIntegrations:QFe(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(n=cr.SENTRY_RELEASE)==null?void 0:n.id,sendClientReports:!0},...JFe(e)}}function JFe(e){const t={};for(const n of Object.getOwnPropertyNames(e)){const r=n;e[r]!==void 0&&(t[r]=e[r])}return t}function eNe(){var l;const e=typeof cr.window<"u"&&cr;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=(l=n==null?void 0:n.runtime)==null?void 0:l.id,i=vx()||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],s=!!r&&cr===cr.top&&o.some(c=>i.startsWith(`${c}//`)),a=typeof e.nw<"u";return!!r&&!s&&!a}function tNe(e={}){const t=ZFe(e);if(!t.skipBrowserExtensionCheck&&eNe()){cc&&fy(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}cc&&!Afe()&&kt.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const n={...t,stackParser:mPe(t.stackParser||yFe),integrations:m$e(t),transport:t.transport||iFe};return R$e(W5e,n)}const Xr=hr,V9="sentryReplaySession",nNe="replay_event",W9="Unable to send Replay",rNe=3e5,iNe=9e5,oNe=5e3,sNe=5500,aNe=6e4,lNe=5e3,cNe=3,$J=15e4,$R=5e3,uNe=3e3,dNe=300,q9=2e7,fNe=4999,pNe=15e3,FJ=36e5;var hNe=Object.defineProperty,gNe=(e,t,n)=>t in e?hNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NJ=(e,t,n)=>gNe(e,typeof t!="symbol"?t+"":t,n),ho=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ho||{});function mNe(e){return e.nodeType===e.ELEMENT_NODE}function $C(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function FC(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function yNe(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function vNe(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function MA(e){try{const t=e.rules||e.cssRules;return t?yNe(Array.from(t,rpe).join("")):null}catch{return null}}function bNe(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],o=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function rpe(e){let t;if(SNe(e))try{t=MA(e.styleSheet)||vNe(e)}catch{}else if(wNe(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=bNe(e)),r&&(n=xNe(n)),r||i)return n}return t||e.cssText}function xNe(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function SNe(e){return"styleSheet"in e}function wNe(e){return"selectorText"in e}let ipe=class{constructor(){NJ(this,"idNodeMap",new Map),NJ(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function CNe(){return new ipe}function gP({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function S_({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function f1(e){return e.toLowerCase()}function xz(e){return e.toUpperCase()}const LJ="__rrweb_original__";function _Ne(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const o=t.getImageData,s=LJ in o?o[LJ]:o;if(new Uint32Array(s.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function G9(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?f1(t):null}function AA(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function ope(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return(i==null?void 0:i[1])??null}const jJ={};function spe(e){const t=jJ[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return jJ[e]=r.bind(window)}function Sz(...e){return spe("setTimeout")(...e)}function ape(...e){return spe("clearTimeout")(...e)}function lpe(e){try{return e.contentDocument}catch{}}let ENe=1;const kNe=new RegExp("[^a-z0-9-_:]"),w_=-2;function Y9(){return ENe++}function RNe(e){if(e instanceof HTMLFormElement)return"form";const t=f1(e.tagName);return kNe.test(t)?"div":t}function TNe(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let kv,zJ;const MNe=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ANe=/^(?:[a-z+]+:)?\/\//i,ONe=/^www\..*/i,DNe=/^(data:)([^,]*),(.*)/i;function OA(e,t){return(e||"").replace(MNe,(n,r,i,o,s,a)=>{const l=i||s||a,c=r||o||"";if(!l)return n;if(ANe.test(l)||ONe.test(l))return`url(${c}${l}${c})`;if(DNe.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${TNe(t)+l}${c})`;const u=t.split("/"),d=l.split("/");u.pop();for(const f of d)f!=="."&&(f===".."?u.pop():u.push(f));return`url(${c}${u.join("/")}${c})`})}const PNe=/^[^ \t\n\r\u000c]+/,INe=/^[, \t\n\r\u000c]+/;function $Ne(e,t){if(t.trim()==="")return t;let n=0;function r(o){let s;const a=o.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}const i=[];for(;r(INe),!(n>=t.length);){let o=r(PNe);if(o.slice(-1)===",")o=ob(e,o.substring(0,o.length-1)),i.push(o);else{let s="";o=ob(e,o);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((o+s).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((o+s).trim());break}else l==="("&&(a=!0);s+=l,n+=1}}}return i.join(", ")}const BJ=new WeakMap;function ob(e,t){return!t||t.trim()===""?t:mP(e,t)}function FNe(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function mP(e,t){let n=BJ.get(e);if(n||(n=e.createElement("a"),BJ.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function cpe(e,t,n,r,i,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?ob(e,r):n==="srcset"?$Ne(e,r):n==="style"?OA(r,mP(e)):t==="object"&&n==="data"?ob(e,r):typeof o=="function"?o(n,r,i):r)}function upe(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function dpe(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const o=e.classList[i];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function NNe(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function qm(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:qm(e.parentNode,t,n,r+1)}function sb(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(NNe(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function p1(e,t,n,r,i,o){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){const c=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let a=-1,l=-1;if(o){if(l=qm(s,sb(r,i)),l<0)return!0;a=qm(s,sb(t,n),l>=0?l:1/0)}else{if(a=qm(s,sb(t,n)),a<0)return!1;l=qm(s,sb(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!o}catch{}return!!o}function LNe(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Sz(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{ape(a),i=!0,t()});return}const s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Sz(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function jNe(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const o=Sz(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{ape(o),r=!0,t()})}function zNe(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:g={},maskTextFn:m,maskInputFn:v,dataURLOptions:b={},inlineImages:S,recordCanvas:C,keepIframeSrcFn:_,newlyAddedElement:E=!1}=t,T=BNe(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ho.Document,childNodes:[],compatMode:e.compatMode}:{type:ho.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ho.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:T};case e.ELEMENT_NODE:return HNe(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:g,maskInputFn:v,dataURLOptions:b,inlineImages:S,recordCanvas:C,keepIframeSrcFn:_,newlyAddedElement:E,rootId:T,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return UNe(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:g,maskInputFn:v,rootId:T});case e.CDATA_SECTION_NODE:return{type:ho.CDATA,textContent:"",rootId:T};case e.COMMENT_NODE:return{type:ho.Comment,textContent:e.textContent||"",rootId:T};default:return!1}}function BNe(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function UNe(e,t){var b;const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,g=d==="SCRIPT"?!0:void 0,m=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||(b=e.parentNode.sheet)!=null&&b.cssRules&&(f=MA(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=OA(f,mP(t.doc))}g&&(f="SCRIPT_PLACEHOLDER");const v=p1(e,r,o,i,s,n);if(!p&&!g&&!m&&f&&v&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(l.textarea||v)&&(f=c?c(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const S=gP({type:null,tagName:d,maskInputOptions:l});f=S_({isMasked:p1(e,r,o,i,s,S),element:e,value:f,maskInputFn:c})}return{type:ho.Text,textContent:f||"",isStyle:p,rootId:u}}function HNe(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:g=!1,rootId:m,maskTextClass:v,unmaskTextClass:b,maskTextSelector:S,unmaskTextSelector:C}=t,_=dpe(e,r,i,o),E=RNe(e);let T={};const k=e.attributes.length;for(let P=0;P<k;P++){const D=e.attributes[P];D.name&&!upe(E,D.name,D.value)&&(T[D.name]=cpe(n,E,f1(D.name),D.value,e,l))}if(E==="link"&&s){const P=Array.from(n.styleSheets).find(F=>F.href===e.href);let D=null;P&&(D=MA(P)),D&&(T.rel=null,T.href=null,T.crossorigin=null,T._cssText=OA(D,P.href))}if(E==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const P=MA(e.sheet);P&&(T._cssText=OA(P,mP(n)))}if(E==="input"||E==="textarea"||E==="select"||E==="option"){const P=e,D=G9(P),F=AA(P,xz(E),D),I=P.checked;if(D!=="submit"&&D!=="button"&&F){const j=p1(P,v,S,b,C,gP({type:D,tagName:xz(E),maskInputOptions:a}));T.value=S_({isMasked:j,element:P,value:F,maskInputFn:c})}I&&(T.checked=I)}if(E==="option"&&(e.selected&&!a.select?T.selected=!0:delete T.selected),E==="canvas"&&f){if(e.__context==="2d")_Ne(e)||(T.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const P=e.toDataURL(u.type,u.quality),D=n.createElement("canvas");D.width=e.width,D.height=e.height;const F=D.toDataURL(u.type,u.quality);P!==F&&(T.rr_dataURL=P)}}if(E==="img"&&d){kv||(kv=n.createElement("canvas"),zJ=kv.getContext("2d"));const P=e,D=P.currentSrc||P.getAttribute("src")||"<unknown-src>",F=P.crossOrigin,I=()=>{P.removeEventListener("load",I);try{kv.width=P.naturalWidth,kv.height=P.naturalHeight,zJ.drawImage(P,0,0),T.rr_dataURL=kv.toDataURL(u.type,u.quality)}catch(j){if(P.crossOrigin!=="anonymous"){P.crossOrigin="anonymous",P.complete&&P.naturalWidth!==0?I():P.addEventListener("load",I);return}else console.warn(`Cannot inline img src=${D}! Error: ${j}`)}P.crossOrigin==="anonymous"&&(F?T.crossOrigin=F:P.removeAttribute("crossorigin"))};P.complete&&P.naturalWidth!==0?I():P.addEventListener("load",I)}if((E==="audio"||E==="video")&&(T.rr_mediaState=e.paused?"paused":"played",T.rr_mediaCurrentTime=e.currentTime),g||(e.scrollLeft&&(T.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(T.rr_scrollTop=e.scrollTop)),_){const{width:P,height:D}=e.getBoundingClientRect();T={class:T.class,rr_width:`${P}px`,rr_height:`${D}px`}}E==="iframe"&&!p(T.src)&&(!_&&!lpe(e)&&(T.rr_src=T.src),delete T.src);let A;try{customElements.get(E)&&(A=!0)}catch{}return{type:ho.Element,tagName:E,attributes:T,childNodes:[],isSVG:FNe(e)||void 0,needBlock:_,rootId:m,isCustom:A}}function Yr(e){return e==null?"":e.toLowerCase()}function VNe(e,t){if(t.comment&&e.type===ho.Comment)return!0;if(e.type===ho.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&ope(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Yr(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Yr(e.attributes.name)==="application-name"||Yr(e.attributes.rel)==="icon"||Yr(e.attributes.rel)==="apple-touch-icon"||Yr(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Yr(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Yr(e.attributes.property).match(/^(og|twitter|fb):/)||Yr(e.attributes.name).match(/^(og|twitter):/)||Yr(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Yr(e.attributes.name)==="robots"||Yr(e.attributes.name)==="googlebot"||Yr(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Yr(e.attributes.name)==="author"||Yr(e.attributes.name)==="generator"||Yr(e.attributes.name)==="framework"||Yr(e.attributes.name)==="publisher"||Yr(e.attributes.name)==="progid"||Yr(e.attributes.property).match(/^article:/)||Yr(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Yr(e.attributes.name)==="google-site-verification"||Yr(e.attributes.name)==="yandex-verification"||Yr(e.attributes.name)==="csrf-token"||Yr(e.attributes.name)==="p:domain_verify"||Yr(e.attributes.name)==="verify-v1"||Yr(e.attributes.name)==="verification"||Yr(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ab(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:g={},maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:S,dataURLOptions:C={},inlineImages:_=!1,recordCanvas:E=!1,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:A=5e3,onStylesheetLoad:P,stylesheetLoadTimeout:D=5e3,keepIframeSrcFn:F=()=>!1,newlyAddedElement:I=!1}=t;let{preserveWhiteSpace:j=!0}=t;const M=zNe(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,dataURLOptions:C,inlineImages:_,recordCanvas:E,keepIframeSrcFn:F,newlyAddedElement:I});if(!M)return console.warn(e,"not serialized"),null;let $;r.hasNode(e)?$=r.getId(e):VNe(M,S)||!j&&M.type===ho.Text&&!M.isStyle&&!M.textContent.replace(/^\s+|\s+$/gm,"").length?$=w_:$=Y9();const L=Object.assign(M,{id:$});if(r.add(e,L),$===w_)return null;T&&T(e);let V=!f;if(L.type===ho.Element){V=V&&!L.needBlock,delete L.needBlock;const q=e.shadowRoot;q&&FC(q)&&(L.isShadowHost=!0)}if((L.type===ho.Document||L.type===ho.Element)&&V){S.headWhitespace&&L.type===ho.Element&&L.tagName==="head"&&(j=!1);const q={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:S,dataURLOptions:C,inlineImages:_,recordCanvas:E,preserveWhiteSpace:j,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:A,onStylesheetLoad:P,stylesheetLoadTimeout:D,keepIframeSrcFn:F};for(const U of Array.from(e.childNodes)){const z=ab(U,q);z&&L.childNodes.push(z)}if(mNe(e)&&e.shadowRoot)for(const U of Array.from(e.shadowRoot.childNodes)){const z=ab(U,q);z&&(FC(e.shadowRoot)&&(z.isShadow=!0),L.childNodes.push(z))}}return e.parentNode&&$C(e.parentNode)&&FC(e.parentNode)&&(L.isShadow=!0),L.type===ho.Element&&L.tagName==="iframe"&&!dpe(e,i,o,s)&&LNe(e,()=>{const q=lpe(e);if(q&&k){const U=ab(q,{doc:q,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:S,dataURLOptions:C,inlineImages:_,recordCanvas:E,preserveWhiteSpace:j,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:A,onStylesheetLoad:P,stylesheetLoadTimeout:D,keepIframeSrcFn:F});U&&k(e,U)}},A),L.type===ho.Element&&L.tagName==="link"&&typeof L.attributes.rel=="string"&&(L.attributes.rel==="stylesheet"||L.attributes.rel==="preload"&&typeof L.attributes.href=="string"&&ope(L.attributes.href)==="css")&&jNe(e,()=>{if(P){const q=ab(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:S,dataURLOptions:C,inlineImages:_,recordCanvas:E,preserveWhiteSpace:j,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:A,onStylesheetLoad:P,stylesheetLoadTimeout:D,keepIframeSrcFn:F});q&&P(e,q)}},D),L}function WNe(e,t){const{mirror:n=new ipe,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:g=!1,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOM:S=!1,dataURLOptions:C,preserveWhiteSpace:_,onSerialize:E,onIframeLoad:T,iframeLoadTimeout:k,onStylesheetLoad:A,stylesheetLoadTimeout:P,keepIframeSrcFn:D=()=>!1}=t||{};return ab(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:g===!1?{}:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:C,inlineImages:f,recordCanvas:p,preserveWhiteSpace:_,onSerialize:E,onIframeLoad:T,iframeLoadTimeout:k,onStylesheetLoad:A,stylesheetLoadTimeout:P,keepIframeSrcFn:D,newlyAddedElement:!1})}function $s(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Xv=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let UJ={map:{},getId(){return console.error(Xv),-1},getNode(){return console.error(Xv),null},removeNodeFromMap(){console.error(Xv)},has(){return console.error(Xv),!1},reset(){console.error(Xv)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(UJ=new Proxy(UJ,{get(e,t,n){return t==="map"&&console.error(Xv),Reflect.get(e,t,n)}}));function C_(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();!i&&n.leading===!1&&(i=s);const a=t-(s-i),l=this;a<=0||a>t?(r&&(ZNe(r),r=null),i=s,e.apply(l,o)):!r&&n.trailing!==!1&&(r=yP(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,o)},a))}}function fpe(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(s){yP(()=>{n.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>fpe(e,t,o||{},!0)}function X9(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let DA=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(DA=()=>new Date().getTime());function ppe(e){var n,r,i,o,s,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((i=t==null?void 0:t.body)==null?void 0:i.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((s=(o=t==null?void 0:t.body)==null?void 0:o.parentElement)==null?void 0:s.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function hpe(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function gpe(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function mpe(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Wa(e,t,n,r,i){if(!e)return!1;const o=mpe(e);if(!o)return!1;const s=sb(t,n);if(!i){const c=r&&o.matches(r);return s(o)&&!c}const a=qm(o,s);let l=-1;return a<0?!1:(r&&(l=qm(o,sb(null,r))),a>-1&&l<0?!0:a<l)}function qNe(e,t){return t.getId(e)!==-1}function fN(e,t){return t.getId(e)===w_}function ype(e,t){if($C(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?ype(e.parentNode,t):!0:!0}function wz(e){return!!e.changedTouches}function GNe(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function vpe(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function bpe(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Cz(e){return!!(e!=null&&e.shadowRoot)}class YNe{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function xpe(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function XNe(e){let t=e,n;for(;n=xpe(t);)t=n;return t}function KNe(e){const t=e.ownerDocument;if(!t)return!1;const n=XNe(e);return t.contains(n)}function Spe(e){const t=e.ownerDocument;return t?t.contains(e)||KNe(e):!1}const HJ={};function K9(e){const t=HJ[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return HJ[e]=r.bind(window)}function QNe(...e){return K9("requestAnimationFrame")(...e)}function yP(...e){return K9("setTimeout")(...e)}function ZNe(...e){return K9("clearTimeout")(...e)}var Fn=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Fn||{}),xn=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(xn||{}),Cs=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Cs||{}),yf=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(yf||{}),Kv=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Kv||{});function Q9(e){try{return e.contentDocument}catch{}}function JNe(e){try{return e.contentWindow}catch{}}function VJ(e){return"__ln"in e}class eLe{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&VJ(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&VJ(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const WJ=(e,t)=>`${e}@${t}`;class tLe{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new eLe,i=l=>{let c=l,u=w_;for(;u===w_;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},o=l=>{if(!l.parentNode||!Spe(l))return;const c=$C(l.parentNode)?this.mirror.getId(xpe(l)):this.mirror.getId(l.parentNode),u=i(l);if(c===-1||u===-1)return r.addNode(l);const d=ab(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{vpe(f,this.mirror)&&!Wa(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),bpe(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Cz(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{Wa(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:c,nextId:u,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)qJ(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||o(l);for(const l of this.addedSet)!GJ(this.droppedSet,l)&&!qJ(this.removes,l,this.mirror)||GJ(this.movedSet,l)?o(l):this.droppedSet.add(l);let s=null;for(;r.length;){let l=null;if(s){const c=this.mirror.getId(s.value.parentNode),u=i(s.value);c!==-1&&u!==-1&&(l=s)}if(!l){let c=r.tail;for(;c;){const u=c;if(c=c.previous,u){const d=this.mirror.getId(u.value.parentNode);if(i(u.value)===-1)continue;if(d!==-1){l=u;break}else{const p=u.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=p.parentNode.host;if(this.mirror.getId(g)!==-1){l=u;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}s=l.previous,r.removeNode(l.value),o(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const u=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);u.length<c.style.length&&(u+d).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!fN(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Wa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:p1(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,mpe(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const s=G9(n),a=n.tagName;i=AA(n,a,s);const l=gP({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),c=p1(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=S_({isMasked:c,element:n,value:i,maskInputFn:this.maskInputFn})}if(Wa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!Q9(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!upe(n.tagName,r)&&(o.attributes[r]=cpe(this.doc,f1(n.tagName),f1(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==s.style.getPropertyValue(a)||c!==s.style.getPropertyPriority(a)?c===""?o.styleDiff[a]=l:o.styleDiff[a]=[l,c]:o._unchangedStyles[a]=[l,c]}for(const a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(Wa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=$C(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Wa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||fN(n,this.mirror)||!qNe(n,this.mirror)||(this.addedSet.has(n)?(_z(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||ype(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[WJ(r,i)]?_z(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:$C(t.target)&&FC(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(fN(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[WJ(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Wa(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Cz(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function _z(e,t){e.delete(t),t.childNodes.forEach(n=>_z(e,n))}function qJ(e,t,n){return e.length===0?!1:nLe(e,t,n)}function nLe(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(o=>o.id===i))return!0;r=r.parentNode}return!1}function GJ(e,t){return e.size===0?!1:wpe(e,t)}function wpe(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:wpe(e,n):!1}let NC;function rLe(e){NC=e}function iLe(){NC=void 0}const rr=e=>NC?(...n)=>{try{return e(...n)}catch(r){if(NC&&NC(r)===!0)return()=>{};throw r}}:e,lb=[];function WE(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Cpe(e,t){var s,a;const n=new tLe;lb.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=(a=(s=window==null?void 0:window.Zone)==null?void 0:s.__symbol__)==null?void 0:a.call(s,"MutationObserver");i&&window[i]&&(r=window[i]);const o=new r(rr(l=>{e.onMutation&&e.onMutation(l)===!1||n.processMutations.bind(n)(l)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function oLe({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let s=[],a;const l=C_(rr(d=>{const f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),d),s=[],a=null}),o),c=rr(C_(rr(d=>{const f=WE(d),{clientX:p,clientY:g}=wz(d)?d.changedTouches[0]:d;a||(a=DA()),s.push({x:p,y:g,id:r.getId(f),timeOffset:DA()-a}),l(typeof DragEvent<"u"&&d instanceof DragEvent?xn.Drag:d instanceof MouseEvent?xn.MouseMove:xn.TouchMove)}),i,{trailing:!1})),u=[$s("mousemove",c,n),$s("touchmove",c,n),$s("drag",c,n)];return rr(()=>{u.forEach(d=>d())})}function sLe({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[];let c=null;const u=d=>f=>{const p=WE(f);if(Wa(p,r,i,o,!0))return;let g=null,m=d;if("pointerType"in f){switch(f.pointerType){case"mouse":g=yf.Mouse;break;case"touch":g=yf.Touch;break;case"pen":g=yf.Pen;break}g===yf.Touch?Cs[d]===Cs.MouseDown?m="TouchStart":Cs[d]===Cs.MouseUp&&(m="TouchEnd"):yf.Pen}else wz(f)&&(g=yf.Touch);g!==null?(c=g,(m.startsWith("Touch")&&g===yf.Touch||m.startsWith("Mouse")&&g===yf.Mouse)&&(g=null)):Cs[d]===Cs.Click&&(g=c,c=null);const v=wz(f)?f.changedTouches[0]:f;if(!v)return;const b=n.getId(p),{clientX:S,clientY:C}=v;rr(e)({type:Cs[m],id:b,x:S,y:C,...g!==null&&{pointerType:g}})};return Object.keys(Cs).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=f1(d);const p=u(d);if(window.PointerEvent)switch(Cs[d]){case Cs.MouseDown:case Cs.MouseUp:f=f.replace("mouse","pointer");break;case Cs.TouchStart:case Cs.TouchEnd:return}l.push($s(f,p,t))}),rr(()=>{l.forEach(d=>d())})}function _pe({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){const a=rr(C_(rr(l=>{const c=WE(l);if(!c||Wa(c,r,i,o,!0))return;const u=n.getId(c);if(c===t&&t.defaultView){const d=ppe(t.defaultView);e({id:u,x:d.left,y:d.top})}else e({id:u,x:c.scrollLeft,y:c.scrollTop})}),s.scroll||100));return $s("scroll",a,t)}function aLe({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=rr(C_(rr(()=>{const o=hpe(),s=gpe();(n!==o||r!==s)&&(e({width:Number(s),height:Number(o)}),n=o,r=s)}),200));return $s("resize",i,t)}const lLe=["INPUT","TEXTAREA","SELECT"],YJ=new WeakMap;function cLe({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:m}){function v(k){let A=WE(k);const P=k.isTrusted,D=A&&xz(A.tagName);if(D==="OPTION"&&(A=A.parentElement),!A||!D||lLe.indexOf(D)<0||Wa(A,r,i,o,!0))return;const F=A;if(F.classList.contains(s)||a&&F.matches(a))return;const I=G9(A);let j=AA(F,D,I),M=!1;const $=gP({maskInputOptions:l,tagName:D,type:I}),L=p1(A,f,g,p,m,$);(I==="radio"||I==="checkbox")&&(M=A.checked),j=S_({isMasked:L,element:A,value:j,maskInputFn:c}),b(A,d?{text:j,isChecked:M,userTriggered:P}:{text:j,isChecked:M});const V=A.name;I==="radio"&&V&&M&&t.querySelectorAll(`input[type="radio"][name="${V}"]`).forEach(q=>{if(q!==A){const U=S_({isMasked:L,element:q,value:AA(q,D,I),maskInputFn:c});b(q,d?{text:U,isChecked:!M,userTriggered:!1}:{text:U,isChecked:!M})}})}function b(k,A){const P=YJ.get(k);if(!P||P.text!==A.text||P.isChecked!==A.isChecked){YJ.set(k,A);const D=n.getId(k);rr(e)({...A,id:D})}}const C=(u.input==="last"?["change"]:["input","change"]).map(k=>$s(k,rr(v),t)),_=t.defaultView;if(!_)return()=>{C.forEach(k=>k())};const E=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),T=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return E&&E.set&&C.push(...T.map(k=>fpe(k[0],k[1],{set(){rr(v)({target:this,isTrusted:!1})}},!1,_))),rr(()=>{C.forEach(k=>k())})}function PA(e){const t=[];function n(r,i){if(FR("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||FR("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||FR("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||FR("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const s=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(s)}else if(r.parentStyleSheet){const s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(s)}return i}return n(e,t)}function oh(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function uLe({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:rr((u,d,f)=>{const[p,g]=f,{id:m,styleId:v}=oh(d,t,n.styleMirror);return(m&&m!==-1||v&&v!==-1)&&e({id:m,styleId:v,adds:[{rule:p,index:g}]}),u.apply(d,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:rr((u,d,f)=>{const[p]=f,{id:g,styleId:m}=oh(d,t,n.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,removes:[{index:p}]}),u.apply(d,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:rr((u,d,f)=>{const[p]=f,{id:g,styleId:m}=oh(d,t,n.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,replace:p}),u.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:rr((u,d,f)=>{const[p]=f,{id:g,styleId:m}=oh(d,t,n.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,replaceSync:p}),u.apply(d,f)})}));const l={};NR("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(NR("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),NR("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),NR("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([u,d])=>{c[u]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(c[u].insertRule,{apply:rr((f,p,g)=>{const[m,v]=g,{id:b,styleId:S}=oh(p.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||S&&S!==-1)&&e({id:b,styleId:S,adds:[{rule:m,index:[...PA(p),v||0]}]}),f.apply(p,g)})}),d.prototype.deleteRule=new Proxy(c[u].deleteRule,{apply:rr((f,p,g)=>{const[m]=g,{id:v,styleId:b}=oh(p.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||b&&b!==-1)&&e({id:v,styleId:b,removes:[{index:[...PA(p),m]}]}),f.apply(p,g)})})}),rr(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([u,d])=>{d.prototype.insertRule=c[u].insertRule,d.prototype.deleteRule=c[u].deleteRule})})}function Epe({mirror:e,stylesheetManager:t},n){var s,a,l;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?(s=n.defaultView)==null?void 0:s.Document:(l=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:l.ShadowRoot,o=i!=null&&i.prototype?Object.getOwnPropertyDescriptor(i==null?void 0:i.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var c;return(c=o.get)==null?void 0:c.call(this)},set(c){var d;const u=(d=o.set)==null?void 0:d.call(this,c);if(r!==null&&r!==-1)try{t.adoptStyleSheets(c,r)}catch{}return u}}),rr(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function dLe({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:rr((a,l,c)=>{var m;const[u,d,f]=c;if(n.has(u))return o.apply(l,[u,d,f]);const{id:p,styleId:g}=oh((m=l.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,set:{property:u,value:d,priority:f},index:PA(l.parentRule)}),a.apply(l,c)})});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:rr((a,l,c)=>{var p;const[u]=c;if(n.has(u))return s.apply(l,[u]);const{id:d,styleId:f}=oh((p=l.parentRule)==null?void 0:p.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:u},index:PA(l.parentRule)}),a.apply(l,c)})}),rr(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}function fLe({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){const a=rr(c=>C_(rr(u=>{const d=WE(u);if(!d||Wa(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:g,playbackRate:m}=d;e({type:c,id:i.getId(d),currentTime:f,volume:p,muted:g,playbackRate:m})}),o.media||500)),l=[$s("play",a(Kv.Play),s),$s("pause",a(Kv.Pause),s),$s("seeked",a(Kv.Seeked),s),$s("volumechange",a(Kv.VolumeChange),s),$s("ratechange",a(Kv.RateChange),s)];return rr(()=>{l.forEach(c=>c())})}function pLe({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(l,c,u){const d=new o(l,c,u);return i.set(d,{family:l,buffer:typeof c!="string",descriptors:u,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),d};const s=X9(t.fonts,"add",function(a){return function(l){return yP(rr(()=>{const c=i.get(l);c&&(e(c),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=o}),r.push(s),rr(()=>{r.forEach(a=>a())})}function hLe(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=e;let a=!0;const l=rr(()=>{const c=t.getSelection();if(!c||a&&(c!=null&&c.isCollapsed))return;a=c.isCollapsed||!1;const u=[],d=c.rangeCount||0;for(let f=0;f<d;f++){const p=c.getRangeAt(f),{startContainer:g,startOffset:m,endContainer:v,endOffset:b}=p;Wa(g,r,i,o,!0)||Wa(v,r,i,o,!0)||u.push({start:n.getId(g),startOffset:m,end:n.getId(v),endOffset:b})}s({ranges:u})});return l(),$s("selectionchange",l)}function gLe({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:X9(n.customElements,"define",function(i){return function(o,s,a){try{t({define:{name:o}})}catch{}return i.apply(this,[o,s,a])}})}function mLe(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Cpe(e,e.doc));const i=oLe(e),o=sLe(e),s=_pe(e),a=aLe(e,{win:n}),l=cLe(e),c=fLe(e);let u=()=>{},d=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(u=uLe(e,{win:n}),d=Epe(e,e.doc),f=dLe(e,{win:n}),e.collectFonts&&(p=pLe(e)));const g=hLe(e),m=gLe(e),v=[];for(const b of e.plugins)v.push(b.observer(b.callback,n,b.options));return rr(()=>{lb.forEach(b=>b.reset()),r==null||r.disconnect(),i(),o(),s(),a(),l(),c(),u(),d(),f(),p(),g(),m(),v.forEach(b=>b())})}function FR(e){return typeof window[e]<"u"}function NR(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ez{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const o=r||this.getIdToRemoteIdMap(t),s=i||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),s.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=i.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class yLe{constructor(){this.crossOriginIframeMirror=new Ez(Y9),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class vLe{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ez(Y9),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ez(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var i,o;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((i=t.contentWindow)==null||i.addEventListener("message",this.handleMessage.bind(this))),(o=this.loadListener)==null||o.call(this,t);const r=Q9(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const o=this.transformCrossOriginEvent(i,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Fn.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:Fn.IncrementalSnapshot,data:{source:xn.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Fn.Meta:case Fn.Load:case Fn.DomContentLoaded:return!1;case Fn.Plugin:return n;case Fn.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Fn.IncrementalSnapshot:switch(n.data.source){case xn.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(i.node,o)}),n.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case xn.Drag:case xn.TouchMove:case xn.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case xn.ViewportResize:return!1;case xn.MediaInteraction:case xn.MouseInteraction:case xn.Scroll:case xn.CanvasMutation:case xn.Input:return this.replaceIds(n.data,t,["id"]),n;case xn.StyleSheetRule:case xn.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case xn.Font:return n;case xn.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),n;case xn.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(const o of i)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ho.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class bLe{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class xLe{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!FC(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Cpe({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(_pe({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),yP(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Epe({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Q9(t),r=JNe(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(X9(t.prototype,"attachShadow",function(i){return function(o){const s=i.call(this,o);return this.shadowRoot&&Spe(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var XJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SLe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var LR=0;LR<XJ.length;LR++)SLe[XJ.charCodeAt(LR)]=LR;class KJ{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class wLe{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new YNe,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const o of t){let s;this.styleMirror.has(o)?s=this.styleMirror.getId(o):(s=this.styleMirror.add(o),i.push({styleId:s,rules:Array.from(o.rules||CSSRule,(a,l)=>({rule:rpe(a),index:l}))})),r.styleIds.push(s)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class CLe{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,QNe(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let xi,IA;var vde;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((vde=e.contentWindow)==null?void 0:vde.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Pc=CNe();function Nf(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:g=!0,maskAllInputs:m,maskInputOptions:v,slimDOMOptions:b,maskAttributeFn:S,maskInputFn:C,maskTextFn:_,maxCanvasSize:E=null,packFn:T,sampling:k={},dataURLOptions:A={},mousemoveWait:P,recordDOM:D=!0,recordCanvas:F=!1,recordCrossOriginIframes:I=!1,recordAfter:j=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:M=!1,collectFonts:$=!1,inlineImages:L=!1,plugins:V,keepIframeSrcFn:q=()=>!1,ignoreCSSAttributes:U=new Set([]),errorHandler:z,onMutation:B,getCanvasManager:G}=e;rLe(z);const Y=I?window.parent===window:!0;let Q=!1;if(!Y)try{window.parent.document&&(Q=!1)}catch{Q=!0}if(Y&&!t)throw new Error("emit function is required");if(!Y&&!Q)return()=>{};P!==void 0&&k.mousemove===void 0&&(k.mousemove=P),Pc.reset();const K=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:v!==void 0?v:{},te=b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:b==="all",headMetaDescKeywords:b==="all"}:b||{};GNe();let ce,ie=0;const re=ge=>{for(const be of V||[])be.eventProcessor&&(ge=be.eventProcessor(ge));return T&&!Q&&(ge=T(ge)),ge};xi=(ge,be)=>{var Re;const de=ge;if(de.timestamp=DA(),(Re=lb[0])!=null&&Re.isFrozen()&&de.type!==Fn.FullSnapshot&&!(de.type===Fn.IncrementalSnapshot&&de.data.source===xn.Mutation)&&lb.forEach(xe=>xe.unfreeze()),Y)t==null||t(re(de),be);else if(Q){const xe={type:"rrweb",event:re(de),origin:window.location.origin,isCheckout:be};window.parent.postMessage(xe,"*")}if(de.type===Fn.FullSnapshot)ce=de,ie=0;else if(de.type===Fn.IncrementalSnapshot){if(de.data.source===xn.Mutation&&de.data.isAttachIframe)return;ie++;const xe=r&&ie>=r,ue=n&&ce&&de.timestamp-ce.timestamp>n;(xe||ue)&&oe(!0)}};const he=ge=>{xi({type:Fn.IncrementalSnapshot,data:{source:xn.Mutation,...ge}})},fe=ge=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.Scroll,...ge}}),ne=ge=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.CanvasMutation,...ge}}),pe=ge=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.AdoptedStyleSheet,...ge}}),W=new wLe({mutationCb:he,adoptedStyleSheetCb:pe}),se=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new yLe:new vLe({mirror:Pc,mutationCb:he,stylesheetManager:W,recordCrossOriginIframes:I,wrappedEmit:xi});for(const ge of V||[])ge.getMirror&&ge.getMirror({nodeMirror:Pc,crossOriginIframeMirror:se.crossOriginIframeMirror,crossOriginIframeStyleMirror:se.crossOriginIframeStyleMirror});const ae=new CLe,X=ELe(G,{mirror:Pc,win:window,mutationCb:ge=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.CanvasMutation,...ge}}),recordCanvas:F,blockClass:i,blockSelector:o,unblockSelector:s,maxCanvasSize:E,sampling:k.canvas,dataURLOptions:A,errorHandler:z}),Z=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new bLe:new xLe({mutationCb:he,scrollCb:fe,bypassOptions:{onMutation:B,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:g,maskInputOptions:K,dataURLOptions:A,maskAttributeFn:S,maskTextFn:_,maskInputFn:C,recordCanvas:F,inlineImages:L,sampling:k,slimDOMOptions:te,iframeManager:se,stylesheetManager:W,canvasManager:X,keepIframeSrcFn:q,processedNodeManager:ae},mirror:Pc}),oe=(ge=!1)=>{if(!D)return;xi({type:Fn.Meta,data:{href:window.location.href,width:gpe(),height:hpe()}},ge),W.reset(),Z.init(),lb.forEach(de=>de.lock());const be=WNe(document,{mirror:Pc,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:g,maskAllInputs:K,maskAttributeFn:S,maskInputFn:C,maskTextFn:_,slimDOM:te,dataURLOptions:A,recordCanvas:F,inlineImages:L,onSerialize:de=>{vpe(de,Pc)&&se.addIframe(de),bpe(de,Pc)&&W.trackLinkElement(de),Cz(de)&&Z.addShadowRoot(de.shadowRoot,document)},onIframeLoad:(de,Re)=>{se.attachIframe(de,Re),de.contentWindow&&X.addWindow(de.contentWindow),Z.observeAttachShadow(de)},onStylesheetLoad:(de,Re)=>{W.attachLinkElement(de,Re)},keepIframeSrcFn:q});if(!be)return console.warn("Failed to snapshot the document");xi({type:Fn.FullSnapshot,data:{node:be,initialOffset:ppe(window)}}),lb.forEach(de=>de.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&W.adoptStyleSheets(document.adoptedStyleSheets,Pc.getId(document))};IA=oe;try{const ge=[],be=Re=>{var xe;return rr(mLe)({onMutation:B,mutationCb:he,mousemoveCb:(ue,we)=>xi({type:Fn.IncrementalSnapshot,data:{source:we,positions:ue}}),mouseInteractionCb:ue=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.MouseInteraction,...ue}}),scrollCb:fe,viewportResizeCb:ue=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.ViewportResize,...ue}}),inputCb:ue=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.Input,...ue}}),mediaInteractionCb:ue=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.MediaInteraction,...ue}}),styleSheetRuleCb:ue=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.StyleSheetRule,...ue}}),styleDeclarationCb:ue=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.StyleDeclaration,...ue}}),canvasMutationCb:ne,fontCb:ue=>xi({type:Fn.IncrementalSnapshot,data:{source:xn.Font,...ue}}),selectionCb:ue=>{xi({type:Fn.IncrementalSnapshot,data:{source:xn.Selection,...ue}})},customElementCb:ue=>{xi({type:Fn.IncrementalSnapshot,data:{source:xn.CustomElement,...ue}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:K,inlineStylesheet:g,sampling:k,recordDOM:D,recordCanvas:F,inlineImages:L,userTriggeredOnInput:M,collectFonts:$,doc:Re,maskAttributeFn:S,maskInputFn:C,maskTextFn:_,keepIframeSrcFn:q,blockSelector:o,unblockSelector:s,slimDOMOptions:te,dataURLOptions:A,mirror:Pc,iframeManager:se,stylesheetManager:W,shadowDomManager:Z,processedNodeManager:ae,canvasManager:X,ignoreCSSAttributes:U,plugins:((xe=V==null?void 0:V.filter(ue=>ue.observer))==null?void 0:xe.map(ue=>({observer:ue.observer,options:ue.options,callback:we=>xi({type:Fn.Plugin,data:{plugin:ue.name,payload:we}})})))||[]},{})};se.addLoadListener(Re=>{try{ge.push(be(Re.contentDocument))}catch(xe){console.warn(xe)}});const de=()=>{oe(),ge.push(be(document))};return document.readyState==="interactive"||document.readyState==="complete"?de():(ge.push($s("DOMContentLoaded",()=>{xi({type:Fn.DomContentLoaded,data:{}}),j==="DOMContentLoaded"&&de()})),ge.push($s("load",()=>{xi({type:Fn.Load,data:{}}),j==="load"&&de()},window))),()=>{ge.forEach(Re=>Re()),ae.destroy(),IA=void 0,iLe()}}catch(ge){console.warn(ge)}}function _Le(e){if(!IA)throw new Error("please take full snapshot after start recording");IA(e)}Nf.mirror=Pc;Nf.takeFullSnapshot=_Le;function ELe(e,t){try{return e?e(t):new KJ}catch{return console.warn("Unable to initialize CanvasManager"),new KJ}}var QJ;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(QJ||(QJ={}));const kLe=3,RLe=5;function Z9(e){return e>9999999999?e:e*1e3}function pN(e){return e>9999999999?e/1e3:e}function qE(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Fn.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:jc(t,10,1e3)}}),t.category==="console")))}const TLe="button,a";function kpe(e){return e.closest(TLe)||e}function Rpe(e){const t=Tpe(e);return!t||!(t instanceof Element)?t:kpe(t)}function Tpe(e){return MLe(e)?e.target:e}function MLe(e){return typeof e=="object"&&!!e&&"target"in e}let sh;function ALe(e){return sh||(sh=[],OLe()),sh.push(e),()=>{const t=sh?sh.indexOf(e):-1;t>-1&&sh.splice(t,1)}}function OLe(){ha(Xr,"open",function(e){return function(...t){if(sh)try{sh.forEach(n=>n())}catch{}return e.apply(Xr,t)}})}const DLe=new Set([xn.Mutation,xn.StyleSheetRule,xn.StyleDeclaration,xn.AdoptedStyleSheet,xn.CanvasMutation,xn.Selection,xn.MediaInteraction]);function PLe(e,t,n){e.handleClick(t,n)}class ILe{constructor(t,n,r=qE){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=ALe(()=>{this._lastMutation=ZJ()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(FLe(n,this._ignoreSelector)||!NLe(t))return;const r={timestamp:pN(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=pN(t)}registerScroll(t=Date.now()){this._lastScroll=pN(t)}registerClick(t){const n=kpe(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=ZJ();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!i,{clickCount:s,clickBreadcrumb:a}=t;if(o){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,c=l<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Xr.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:c,clickCount:s||1}};this._addBreadcrumbEvent(n,u);return}if(s>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Xr.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=d1(()=>this._checkClicks(),1e3)}}const $Le=["A","BUTTON","INPUT"];function FLe(e,t){return!!(!$Le.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function NLe(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function ZJ(){return Date.now()/1e3}function LLe(e,t){try{if(!jLe(t))return;const{source:n}=t.data;if(DLe.has(n)&&e.registerMutation(t.timestamp),n===xn.Scroll&&e.registerScroll(t.timestamp),zLe(t)){const{type:r,id:i}=t.data,o=Nf.mirror.getNode(i);o instanceof HTMLElement&&r===Cs.Click&&e.registerClick(o)}}catch{}}function jLe(e){return e.type===kLe}function zLe(e){return e.data.source===xn.MouseInteraction}function od(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var J9=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(J9||{});const BLe=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ULe(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(BLe.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const HLe=e=>t=>{if(!e.isEnabled())return;const n=VLe(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&PLe(e.clickDetector,n,Rpe(t.event)),qE(e,n)};function Mpe(e,t){const n=Nf.mirror.getId(e),r=n&&Nf.mirror.getNode(n),i=r&&Nf.mirror.getMeta(r),o=i&&qLe(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(s=>s.type===J9.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:ULe(o.attributes)}}:{}}}function VLe(e){const{target:t,message:n}=WLe(e);return od({category:`ui.${e.name}`,...Mpe(t,n)})}function WLe(e){const t=e.name==="click";let n,r=null;try{r=t?Rpe(e.event):Tpe(e.event),n=tp(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function qLe(e){return e.type===J9.Element}function GLe(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=YLe(t);n&&qE(e,n)}function YLe(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:s}=e;if(!s||XLe(s)||!o)return null;const a=t||r||i,l=o.length===1;if(!a&&l)return null;const c=tp(s,{maxStringLength:200})||"<unknown>",u=Mpe(s,c);return od({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}function XLe(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const KLe={resource:t4e,paint:JLe,navigation:e4e};function jR(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function QLe(e){return e.map(ZLe).filter(Boolean)}function ZLe(e){const t=KLe[e.entryType];return t?t(e):null}function h1(e){return((wl()||Xr.performance.timeOrigin)+e)/1e3}function JLe(e){const{duration:t,entryType:n,name:r,startTime:i}=e,o=h1(i);return{type:n,name:r,start:o,end:o+t,data:void 0}}function e4e(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:g,type:m}=e;return i===0?null:{type:`${t}.${m}`,start:h1(p),end:h1(o),name:n,data:{size:g,decodedBodySize:r,encodedBodySize:s,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:o,redirectCount:f}}}function t4e(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:h1(o),end:h1(i),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}}function n4e(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return vP(e,"largest-contentful-paint",n)}function r4e(e){return e.sources!==void 0}function i4e(e){const t=[],n=[];for(const r of e.entries)if(r4e(r)){const i=[];for(const o of r.sources)if(o.node){n.push(o.node);const s=Nf.mirror.getId(o.node);s&&i.push(s)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return vP(e,"cumulative-layout-shift",n,t)}function o4e(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return vP(e,"first-input-delay",n)}function s4e(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return vP(e,"interaction-to-next-paint",n)}function vP(e,t,n,r){const i=e.value,o=e.rating,s=h1(i);return{type:"web-vital",name:t,start:s,end:s,data:{value:i,size:i,rating:o,nodeIds:n?n.map(a=>Nf.mirror.getId(a)):void 0,attributions:r}}}function a4e(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(u1(i,n))}),r.push(Ufe(jR(n4e,e)),U9(jR(i4e,e)),Hfe(jR(o4e,e)),Vfe(jR(s4e,e))),()=>{r.forEach(i=>i())}}const gn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,l4e='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function c4e(){const e=new Blob([l4e]);return URL.createObjectURL(e)}const JJ=["info","warn","error","log"],EM="[Replay] ";function hN(e,t="info"){Jh({category:"console",data:{logger:"replay"},level:t,message:`${EM}${e}`},{level:t})}function u4e(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return gn?(JJ.forEach(r=>{n[r]=(...i)=>{kt[r](EM,...i),t&&hN(i.join(""),Efe(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),kt.error(EM,r),e?L9(r):t&&hN(r,"error")},n.infoTick=(...r)=>{kt.info(EM,...r),t&&setTimeout(()=>hN(r[0]),0)}):JJ.forEach(r=>{n[r]=()=>{}}),n}const mn=u4e();class e7 extends Error{constructor(){super(`Event buffer exceeded maximum size of ${q9}.`)}}class Ape{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>q9)throw new e7;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Z9(t):null}}class d4e{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){gn&&mn.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,o)=>{const s=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",s),!l.success){gn&&mn.error("Error in compression worker: ",l.response),o(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class f4e{constructor(t){this._worker=new d4e(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Z9(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>q9?Promise.reject(new e7):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{gn&&mn.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class p4e{constructor(t){this._fallback=new Ape,this._compression=new f4e(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){gn&&mn.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const o of t)i.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(o){gn&&mn.exception(o,"Failed to add events when switching buffers.")}}}function h4e({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=g4e(t);if(n)return n}return gn&&mn.info("Using simple buffer"),new Ape}function g4e(e){try{const t=e||m4e();if(!t)return;gn&&mn.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new p4e(n)}catch(t){gn&&mn.exception(t,"Failed to create compression worker")}}function m4e(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?c4e():""}function t7(){try{return"sessionStorage"in Xr&&!!Xr.sessionStorage}catch{return!1}}function y4e(e){v4e(),e.session=void 0}function v4e(){if(t7())try{Xr.sessionStorage.removeItem(V9)}catch{}}function Ope(e){return e===void 0?!1:Math.random()<e}function Dpe(e){const t=Date.now(),n=e.id||nl(),r=e.started||t,i=e.lastActivity||t,o=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:o,sampled:s,previousSessionId:a}}function n7(e){if(t7())try{Xr.sessionStorage.setItem(V9,JSON.stringify(e))}catch{}}function b4e(e,t){return Ope(e)?"session":t?"buffer":!1}function eee({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=b4e(e,t),o=Dpe({sampled:i,previousSessionId:r});return n&&n7(o),o}function x4e(){if(!t7())return null;try{const e=Xr.sessionStorage.getItem(V9);if(!e)return null;const t=JSON.parse(e);return gn&&mn.infoTick("Loading existing session"),Dpe(t)}catch{return null}}function kz(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Ppe(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return kz(e.started,t,r)||kz(e.lastActivity,n,r)}function Ipe(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Ppe(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function gN({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&x4e();return i?Ipe(i,{sessionIdleExpire:e,maxReplayDuration:t})?(gn&&mn.infoTick("Session in sessionStorage is expired, creating new one..."),eee(r,{previousSessionId:i.id})):i:(gn&&mn.infoTick("Creating new session"),eee(r,{previousSessionId:n}))}function S4e(e){return e.type===Fn.Custom}function r7(e,t,n){return Fpe(e,t)?($pe(e,t,n),!0):!1}function w4e(e,t,n){return Fpe(e,t)?$pe(e,t,n):Promise.resolve(null)}async function $pe(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),s=C4e(t,o.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(o){const s=o&&o instanceof e7,a=s?"addEventSizeExceeded":"addEvent";if(s&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const l=Qn();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function Fpe(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Z9(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(gn&&mn.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function C4e(e,t){try{if(typeof t=="function"&&S4e(e))return t(e)}catch(n){return gn&&mn.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function i7(e){return!e.type}function Rz(e){return e.type==="transaction"}function _4e(e){return e.type==="replay_event"}function tee(e){return e.type==="feedback"}function E4e(e){return(t,n)=>{if(!e.isEnabled()||!i7(t)&&!Rz(t))return;const r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(Rz(t)){k4e(e,t);return}R4e(e,t)}}}function k4e(e,t){var r,i;const n=e.getContext();(i=(r=t.contexts)==null?void 0:r.trace)!=null&&i.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function R4e(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||d1(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function T4e(e){return t=>{!e.isEnabled()||!i7(t)||M4e(e,t)}}function M4e(e,t){var r,i,o;const n=(o=(i=(r=t.exception)==null?void 0:r.values)==null?void 0:i[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const s=od({category:"replay.hydrate-error",data:{url:vx()}});qE(e,s)}}function A4e(e){const t=Qn();t&&t.on("beforeAddBreadcrumb",n=>O4e(e,n))}function O4e(e,t){if(!e.isEnabled()||!Npe(t))return;const n=D4e(t);n&&qE(e,n)}function D4e(e){return!Npe(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?P4e(e):od(e)}function P4e(e){var i;const t=(i=e.data)==null?void 0:i.arguments;if(!Array.isArray(t)||t.length===0)return od(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>$R?(n=!0,`${o.slice(0,$R)}`):o;if(typeof o=="object")try{const s=jc(o,7);return JSON.stringify(s).length>$R?(n=!0,`${JSON.stringify(s,null,2).slice(0,$R)}`):s}catch{}return o});return od({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Npe(e){return!!e.category}function I4e(e,t){var n;return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!((n=t.originalException)!=null&&n.__rrweb__)}function Lpe(){const e=si().getPropagationContext().dsc;e&&delete e.replay_id;const t=qs();if(t){const n=rp(t);delete n.replay_id}}function $4e(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Fn.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function F4e(e,t){return e.recordingMode!=="buffer"||t.message===W9||!t.exception||t.type?!1:Ope(e.getOptions().errorSampleRate)}function N4e(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:_4e(t)?(delete t.breadcrumbs,t):!i7(t)&&!Rz(t)&&!tee(t)?t:e.checkAndHandleExpiredSession()?tee(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),$4e(e,t),t):I4e(t,n)&&!e.getOptions()._experiments.captureExceptions?(gn&&mn.log("Ignoring error from rrweb internals",t),null):((F4e(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Lpe(),t),{id:"Replay"})}function bP(e,t){return t.map(({type:n,start:r,end:i,name:o,data:s})=>{const a=e.throttledAddEvent({type:Fn.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:i,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function L4e(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function j4e(e){return t=>{if(!e.isEnabled())return;const n=L4e(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(bP(e,[n]),!1)))}}function z4e(e,t){return gn&&e.getOptions()._experiments.traceInternals?!1:$$e(t,Qn())}function jpe(e,t){e.isEnabled()&&t!==null&&(z4e(e,t.name)||e.addUpdate(()=>(bP(e,[t]),!0)))}function xP(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Zfe(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function zpe(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function $A(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Bpe(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:s,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:o,statusCode:s,request:a,response:l}}}function __(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Lh(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:o}=B4e(n);return r.body=i,o!=null&&o.length&&(r._meta={warnings:o}),r}function Tz(e,t){return Object.entries(e).reduce((n,[r,i])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n},{})}function B4e(e){if(!e||typeof e!="string")return{body:e};const t=e.length>$J,n=U4e(e);if(t){const r=e.slice(0,$J);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function U4e(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function FA(e,t){const n=H4e(e);return Nh(n,t)}function H4e(e,t=Xr.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Xr.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function V4e(e,t,n){try{const r=await q4e(e,t,n),i=Bpe("resource.fetch",r);jpe(n.replay,i)}catch(r){gn&&mn.exception(r,"Failed to capture fetch breadcrumb")}}function W4e(e,t){const{input:n,response:r}=t,i=n?epe(n):void 0,o=xP(i),s=r?zpe(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),s!==void 0&&(e.data.response_body_size=s)}async function q4e(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:s,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=FA(s,n.networkDetailAllowUrls)&&!FA(s,n.networkDetailDenyUrls),f=d?G4e(n,t.input,c):__(c),p=await Y4e(d,n,t.response,u);return{startTimestamp:i,endTimestamp:o,url:s,method:a,statusCode:l,request:f,response:p}}function G4e({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?Q4e(n,t):{};if(!e)return Lh(i,r,void 0);const o=epe(n),[s,a]=Jfe(o,mn),l=Lh(i,r,s);return a?$A(l,a):l}async function Y4e(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return __(i);const o=r?Upe(r.headers,n):{};if(!r||!t&&i!==void 0)return Lh(o,i,void 0);const[s,a]=await K4e(r),l=X4e(s,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});return a?$A(l,a):l}function X4e(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const o=e!=null&&e.length&&n===void 0?xP(e):n;return r?t?Lh(i,o,e):Lh(i,o,void 0):__(o)}catch(o){return gn&&mn.exception(o,"Failed to serialize response body"),Lh(i,n,void 0)}}async function K4e(e){const t=Z4e(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await J4e(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(gn&&mn.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(gn&&mn.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Upe(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Q4e(e,t){return e.length===1&&typeof e[0]!="string"?nee(e[0],t):e.length===2?nee(e[1],t):{}}function nee(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Upe(n,t):Array.isArray(n)?{}:Tz(n,t):{}}function Z4e(e){try{return e.clone()}catch(t){gn&&mn.exception(t,"Failed to clone response body")}}function J4e(e){return new Promise((t,n)=>{const r=d1(()=>n(new Error("Timeout while trying to read response body")),500);eje(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function eje(e){return await e.text()}async function tje(e,t,n){try{const r=rje(e,t,n),i=Bpe("resource.xhr",r);jpe(n.replay,i)}catch(r){gn&&mn.exception(r,"Failed to capture xhr breadcrumb")}}function nje(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=xP(r),o=n.getResponseHeader("content-length")?zpe(n.getResponseHeader("content-length")):aje(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function rje(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:s,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:f}=e.data;if(!l)return null;if(!a||!FA(l,n.networkDetailAllowUrls)||FA(l,n.networkDetailDenyUrls)){const T=__(d),k=__(f);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:T,response:k}}const p=a[Wm],g=p?Tz(p.request_headers,n.networkRequestHeaders):{},m=Tz(ije(a),n.networkResponseHeaders),[v,b]=n.networkCaptureBodies?Jfe(s,mn):[void 0],[S,C]=n.networkCaptureBodies?oje(a):[void 0],_=Lh(g,d,v),E=Lh(m,f,S);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:b?$A(_,b):_,response:C?$A(E,C):E}}function ije(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,o]=r.split(": ");return o&&(n[i.toLowerCase()]=o),n},{}):{}}function oje(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return sje(e.response,e.responseType)}catch(n){t.push(n)}return gn&&mn.warn("Failed to get xhr response body",...t),[void 0]}function sje(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return gn&&mn.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return gn&&mn.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function aje(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return xP(n)}catch{return}}function lje(e){const t=Qn();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(l,c)=>cje(a,l,c))}catch{}}function cje(e,t,n){if(t.data)try{uje(t)&&fje(n)&&(nje(t,n),tje(t,n,e)),dje(t)&&pje(n)&&(W4e(t,n),V4e(t,n,e))}catch(r){gn&&mn.exception(r,"Error when enriching network breadcrumb")}}function uje(e){return e.category==="xhr"}function dje(e){return e.category==="fetch"}function fje(e){return e==null?void 0:e.xhr}function pje(e){return e==null?void 0:e.response}function hje(e,{autoFlushOnFeedback:t}){const n=Qn();Xfe(HLe(e)),hP(j4e(e)),A4e(e),lje(e);const r=N4e(e);c$e(r),n&&(n.on("beforeSendEvent",T4e(e)),n.on("afterSendEvent",E4e(e)),n.on("createDsc",i=>{const o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(i.replay_id=o)}),n.on("spanStart",i=>{e.lastActiveSpan=i}),n.on("spanEnd",i=>{e.lastActiveSpan=i}),n.on("beforeSendFeedback",async(i,o)=>{var a;const s=e.getSessionId();o!=null&&o.includeReplay&&e.isEnabled()&&s&&((a=i.contexts)!=null&&a.feedback)&&(i.contexts.feedback.source==="api"&&t&&await e.flush(),i.contexts.feedback.replay_id=s)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function gje(e){try{return Promise.all(bP(e,[mje(Xr.performance.memory)]))}catch{return[]}}function mje(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function yje(e,t,n){let r,i,o;const s=n!=null&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){i!==void 0&&clearTimeout(i),o!==void 0&&clearTimeout(o),i=o=void 0}function c(){return i!==void 0||o!==void 0?a():r}function u(){return i&&clearTimeout(i),i=d1(a,t),s&&o===void 0&&(o=d1(a,s)),r}return u.cancel=l,u.flush=c,u}const Il=hr.navigator;function vje(){return/iPhone|iPad|iPod/i.test((Il==null?void 0:Il.userAgent)??"")||/Macintosh/i.test((Il==null?void 0:Il.userAgent)??"")&&(Il!=null&&Il.maxTouchPoints)&&(Il==null?void 0:Il.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function bje(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){gn&&mn.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&LLe(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!r7(e,n,i))return!0;if(!i)return!1;const o=e.session;if(Sje(e,i),e.recordingMode==="buffer"&&o&&e.eventBuffer){const s=e.eventBuffer.getEarliestTimestamp();s&&(gn&&mn.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),o.started=s,e.getOptions().stickySession&&n7(o))}return o!=null&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function xje(e){const t=e.getOptions();return{type:Fn.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Sje(e,t){!t||!e.session||e.session.segmentId!==0||r7(e,xje(e),!1)}function wje(e,t,n,r){return hy(ofe(e,F9(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Cje({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function _je({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:i};e.emit("preprocessEvent",r,o);const s=await ufe(e.getOptions(),r,o,t,e,gu());if(!s)return null;e.emit("postprocessEvent",s,o),s.platform=s.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:c}=(a==null?void 0:a.sdk)||{};return s.sdk={...s.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},s}async function Eje({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){const s=Cje({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:u}=r,d=Qn(),f=si(),p=d==null?void 0:d.getTransport(),g=d==null?void 0:d.getDsn();if(!d||!p||!g||!o.sampled)return np({});const m={type:nNe,replay_start_timestamp:u/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},v=await _je({scope:f,client:d,replayId:t,event:m});if(!v)return d.recordDroppedEvent("event_processor","replay"),gn&&mn.info("An event processor returned `null`, will not send event."),np({});delete v.sdkProcessingMetadata;const b=wje(v,s,g,d.getOptions().tunnel);let S;try{S=await p.send(b)}catch(_){const E=new Error(W9);try{E.cause=_}catch{}throw E}if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new Hpe(S.statusCode);const C=wfe({},S);if(Sfe(C,"replay"))throw new o7(C);return S}class Hpe extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class o7 extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Vpe(e,t={count:0,interval:lNe}){const{recordingData:n,onError:r}=e;if(n.length)try{return await Eje(e),!0}catch(i){if(i instanceof Hpe||i instanceof o7)throw i;if(ffe("Replays",{_retryCount:t.count}),r&&r(i),t.count>=cNe){const o=new Error(`${W9} - max retries exceeded`);try{o.cause=i}catch{}throw o}return t.interval*=++t.count,new Promise((o,s)=>{d1(async()=>{try{await Vpe(e,t),o(!0)}catch(a){s(a)}},t.interval)})}}const Wpe="__THROTTLED",kje="__SKIPPED";function Rje(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((c,u)=>{u<l&&r.delete(u)})},o=()=>[...r.values()].reduce((a,l)=>a+l,0);let s=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),o()>=t){const u=s;return s=!0,u?kje:Wpe}s=!1;const c=r.get(l)||0;return r.set(l,c+1),e(...a)}}class Tje{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:rNe,sessionIdleExpire:iNe},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=yje(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Rje((s,a)=>w4e(this,s,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),o=r?{threshold:Math.min(uNe,r),timeout:r,scrollTimeout:dNe,ignoreSelector:i?i.join(","):""}:void 0;if(o&&(this.clickDetector=new ILe(this,o)),gn){const s=t._experiments;mn.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{Xr.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const s=od({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{const s=od({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{GLe(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){gn&&mn.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){gn&&mn.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",gn&&mn.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){gn&&mn.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){gn&&mn.info("Buffering is in progress, call `flush()` to save the replay");return}gn&&mn.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=gN({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){gn&&mn.info("Buffering is in progress, call `flush()` to save the replay");return}gn&&mn.infoTick("Starting replay in buffer mode");const t=gN({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Nf({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:aNe}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:bje(this),...vje(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1;try{gn&&mn.info(`Stopping Replay${n?` triggered by ${n}`:""}`),Lpe(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,y4e(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),gn&&mn.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),gn&&mn.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();gn&&mn.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return(t=this.session)==null?void 0:t.id}checkAndHandleExpiredSession(){if(this._lastActivity&&kz(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Xr.location.pathname}${Xr.location.hash}${Xr.location.search}`,n=`${Xr.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Wpe){const i=od({category:"replay.throttled"});this.addUpdate(()=>!r7(this,{type:RLe,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||qs(),n=t&&us(t),i=(n&&Sr(n).data||{})[id];if(!(!n||!i||!["route","custom"].includes(i)))return Sr(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=h4e({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=gN({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Ipe(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Xr.document.addEventListener("visibilitychange",this._handleVisibilityChange),Xr.addEventListener("blur",this._handleWindowBlur),Xr.addEventListener("focus",this._handleWindowFocus),Xr.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(hje(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=a4e(this)}_removeListeners(){try{Xr.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Xr.removeEventListener("blur",this._handleWindowBlur),Xr.removeEventListener("focus",this._handleWindowFocus),Xr.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Ppe(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){gn&&mn.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Fn.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=QLe(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(bP(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){gn&&mn.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await gje(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await Vpe({replayId:t,recordingData:s,segmentId:o,eventContext:i,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const i=Qn();if(i){const o=r instanceof o7?"ratelimit_backoff":"send_error";i.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){gn&&mn.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const o=i<this._options.minReplayDuration,s=i>this._options.maxReplayDuration+5e3;if(o||s){gn&&mn.info(`Session duration (${Math.floor(i/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&gn&&mn.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(c){this.handleException(c)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&n7(this.session)}_onMutationHandler(t){const n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>i||o){const s=od({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(s)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function cw(e,t){return[...e,...t].join(",")}function Mje({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const o=["base","iframe[srcdoc]:not([src])"],s=cw(e,[".sentry-mask","[data-sentry-mask]"]),a=cw(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:cw(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:cw(r,[]),ignoreSelector:cw(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Aje({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const ree='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Oje=["content-length","content-type","accept"];let iee=!1;const Dje=e=>new Pje(e);class Pje{constructor({flushMinDelay:t=oNe,flushMaxDelay:n=sNe,minReplayDuration:r=fNe,maxReplayDuration:i=FJ,stickySession:o=!0,useCompression:s=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:b=[],networkCaptureBodies:S=!0,networkRequestHeaders:C=[],networkResponseHeaders:_=[],mask:E=[],maskAttributes:T=["title","placeholder"],unmask:k=[],block:A=[],unblock:P=[],ignore:D=[],maskFn:F,beforeAddRecordingEvent:I,beforeErrorSampling:j,onError:M}={}){this.name="Replay";const $=Mje({mask:E,unmask:k,block:A,unblock:P,ignore:D});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:F,maskInputFn:F,maskAttributeFn:(L,V,q)=>Aje({maskAttributes:T,maskAllText:c,privacyOptions:$,key:L,value:V,el:q}),...$,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:L=>{try{L.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!l.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,pNe),maxReplayDuration:Math.min(i,FJ),stickySession:o,useCompression:s,workerUrl:a,blockAllMedia:d,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:g,slowClickIgnoreSelectors:m,networkDetailAllowUrls:v,networkDetailDenyUrls:b,networkCaptureBodies:S,networkRequestHeaders:oee(C),networkResponseHeaders:oee(_),beforeAddRecordingEvent:I,beforeErrorSampling:j,onError:M,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ree}`:ree),this._isInitialized&&kJ())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return iee}set _isInitialized(t){iee=t}afterAllSetup(t){!kJ()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=Ije(this._initialOptions,t);this._replay=new Tje({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function Ije(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},i=M0(n.replaysSessionSampleRate),o=M0(n.replaysOnErrorSampleRate);return i==null&&o==null&&fy(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),o!=null&&(r.errorSampleRate=o),r}function oee(e){return[...Oje,...e.map(t=>t.toLowerCase())]}const see=new WeakMap,mN=new Map,kM={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function $je(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:a}={traceFetch:kM.traceFetch,traceXHR:kM.traceXHR,trackFetchStreamPerformance:kM.trackFetchStreamPerformance,...t},l=typeof o=="function"?o:d=>!0,c=d=>Lje(d,a),u={};n&&(e.addEventProcessor(d=>(d.type==="transaction"&&d.spans&&d.spans.forEach(f=>{if(f.op==="http.client"){const p=mN.get(f.span_id);p&&(f.timestamp=p/1e3,mN.delete(f.span_id))}}),d)),i&&_5e(d=>{if(d.response){const f=see.get(d.response);f&&d.endTimestamp&&mN.set(f,d.endTimestamp)}}),Ofe(d=>{const f=g5e(d,l,c,u);if(d.response&&d.fetchData.__span&&see.set(d.response,d.fetchData.__span),f){const p=qpe(d.fetchData.url),g=p?d0(p).host:void 0;f.setAttributes({"http.url":p,"server.address":g})}s&&f&&aee(f)})),r&&Qfe(d=>{const f=jje(d,l,c,u);s&&f&&aee(f)})}function Fje(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function aee(e){const{url:t}=Sr(e).data;if(!t||typeof t!="string")return;const n=u1("resource",({entries:r})=>{r.forEach(i=>{Fje(i)&&i.name.endsWith(t)&&(Nje(i).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function Fu(e=0){return((wl()||performance.timeOrigin)+e)/1e3}function Nje(e){const{name:t,version:n}=Yfe(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),wl()?[...r,["http.request.redirect_start",Fu(e.redirectStart)],["http.request.fetch_start",Fu(e.fetchStart)],["http.request.domain_lookup_start",Fu(e.domainLookupStart)],["http.request.domain_lookup_end",Fu(e.domainLookupEnd)],["http.request.connect_start",Fu(e.connectStart)],["http.request.secure_connection_start",Fu(e.secureConnectionStart)],["http.request.connection_end",Fu(e.connectEnd)],["http.request.request_start",Fu(e.requestStart)],["http.request.response_start",Fu(e.responseStart)],["http.request.response_end",Fu(e.responseEnd)]]:r}function Lje(e,t){const n=vx();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const o=r.origin===i;return t?Nh(r.toString(),t)||o&&Nh(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?Nh(e,t):r}}function jje(e,t,n,r){const i=e.xhr,o=i==null?void 0:i[Wm];if(!i||i.__sentry_own_request__||!o)return;const{url:s,method:a}=o,l=Zh()&&t(s);if(e.endTimestamp&&l){const m=i.__sentry_xhr_span_id__;if(!m)return;const v=r[m];v&&o.status_code!==void 0&&(Vde(v,o.status_code),v.end(),delete r[m]);return}const c=qpe(s),u=d0(c||s),d=h5e(s),f=!!qs(),p=l&&f?zE({name:`${a} ${d}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":c,"server.address":u==null?void 0:u.host,[Co]:"auto.http.browser",[T0]:"http.client",...(u==null?void 0:u.search)&&{"http.query":u==null?void 0:u.search},...(u==null?void 0:u.hash)&&{"http.fragment":u==null?void 0:u.hash}}}):new A0;i.__sentry_xhr_span_id__=p.spanContext().spanId,r[i.__sentry_xhr_span_id__]=p,n(s)&&zje(i,Zh()&&f?p:void 0);const g=Qn();return g&&g.emit("beforeOutgoingRequestSpan",p,e),p}function zje(e,t){const{"sentry-trace":n,baggage:r}=_fe({span:t});n&&Bje(e,n,r)}function Bje(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function qpe(e){try{return new URL(e,cr.location.origin).href}catch{return}}function Uje(){cr.document?cr.document.addEventListener("visibilitychange",()=>{const e=qs();if(!e)return;const t=us(e);if(cr.document.hidden&&t){const n="cancelled",{op:r,status:i}=Sr(t);cc&&kt.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:po,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):cc&&kt.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Hje=3600,Gpe="sentry_previous_trace",Vje="sentry.previous_trace";function lee(e,t){const n=Sr(t);if(!e)return{spanContext:t.spanContext(),startTimestamp:n.start_timestamp};const r=e.spanContext;return r.traceId===n.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Hje&&(cc&&kt.info(`Adding previous_trace ${r} link to span ${{op:n.op,...t.spanContext()}}`),t.addLink({context:r,attributes:{[VPe]:"previous_trace"}}),t.setAttribute(Vje,`${r.traceId}-${r.spanId}-${r.traceFlags===1?1:0}`)),{spanContext:t.spanContext(),startTimestamp:Sr(t).start_timestamp})}function Wje(e){try{cr.sessionStorage.setItem(Gpe,JSON.stringify(e))}catch(t){cc&&kt.warn("Could not store previous trace in sessionStorage",t)}}function qje(){var e;try{const t=(e=cr.sessionStorage)==null?void 0:e.getItem(Gpe);return JSON.parse(t)}catch{return}}const Gje="BrowserTracing",Yje={...SM,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,linkPreviousTrace:"in-memory",_experiments:{},...kM},Xje=(e={})=>{const t=cr.document;lIe();const{enableInp:n,enableLongTask:r,enableLongAnimationFrame:i,_experiments:{enableInteractions:o,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:l,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:f,traceXHR:p,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:m,enableHTTPTimings:v,instrumentPageLoad:b,instrumentNavigation:S,linkPreviousTrace:C}={...Yje,...e},_=A3e({recordClsStandaloneSpans:s||!1});n&&tFe(),i&&hr.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?D3e():r&&O3e(),o&&P3e();const E={name:void 0,source:void 0};function T(k,A){const P=A.op==="pageload",D=a?a(A):A,F=D.attributes||{};A.name!==D.name&&(F[id]="custom",D.attributes=F),E.name=D.name,E.source=F[id];const I=cfe(D,{idleTimeout:l,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:P,beforeSpanEnd:M=>{_(),L3e(M,{recordClsOnPageloadSpan:!s}),uee(k,void 0);const $=si(),L=$.getPropagationContext();$.setPropagationContext({...L,traceId:I.spanContext().traceId,sampled:py(I),dsc:rp(M)})}});uee(k,I);function j(){t&&["interactive","complete"].includes(t.readyState)&&k.emit("idleSpanEnableAutoFinish",I)}P&&t&&(t.addEventListener("readystatechange",()=>{j()}),j())}return{name:Gje,afterAllSetup(k){let A=vx();function P(){const D=SP(k);D&&!Sr(D).timestamp&&(cc&&kt.log(`[Tracing] Finishing current active span with op: ${Sr(D).op}`),D.end())}if(k.on("startNavigationSpan",D=>{Qn()===k&&(P(),gu().setPropagationContext({traceId:Qh(),sampleRand:Math.random()}),si().setPropagationContext({traceId:Qh(),sampleRand:Math.random()}),T(k,{op:"navigation",...D}))}),k.on("startPageLoadSpan",(D,F={})=>{if(Qn()!==k)return;P();const I=F.sentryTrace||cee("sentry-trace"),j=F.baggage||cee("baggage"),M=eIe(I,j);si().setPropagationContext(M),T(k,{op:"pageload",...D})}),C!=="off"){let D;k.on("spanStart",F=>{if(us(F)===F)if(C==="session-storage"){const I=lee(qje(),F);Wje(I)}else D=lee(D,F)})}if(cr.location){if(b){const D=wl();Kje(k,{name:cr.location.pathname,startTime:D?D/1e3:void 0,attributes:{[id]:"url",[Co]:"auto.pageload.browser"}})}S&&hP(({to:D,from:F})=>{if(F===void 0&&(A==null?void 0:A.indexOf(D))!==-1){A=void 0;return}F!==D&&(A=void 0,Qje(k,{name:cr.location.pathname,attributes:{[id]:"url",[Co]:"auto.navigation.browser"}}))})}d&&Uje(),o&&Zje(k,l,c,u,E),n&&rFe(),$je(k,{traceFetch:f,traceXHR:p,trackFetchStreamPerformance:g,tracePropagationTargets:k.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:m,enableHTTPTimings:v})}}};function Kje(e,t,n){return e.emit("startPageLoadSpan",t,n),si().setTransactionName(t.name),SP(e)}function Qje(e,t){return e.emit("startNavigationSpan",t),si().setTransactionName(t.name),SP(e)}function cee(e){const t=cr.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function Zje(e,t,n,r,i){const o=cr.document;let s;const a=()=>{const l="ui.action.click",c=SP(e);if(c){const u=Sr(c).op;if(["navigation","pageload"].includes(u)){cc&&kt.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(nz,"interactionInterrupted"),s.end(),s=void 0),!i.name){cc&&kt.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}s=cfe({name:i.name,op:l,attributes:{[id]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",a,{once:!1,capture:!0})}const Ype="_sentry_idleSpan";function SP(e){return e[Ype]}function uee(e,t){dl(e,Ype,t)}var yN={exports:{}},Mn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dee;function Jje(){if(dee)return Mn;dee=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function f(z){return z===null||typeof z!="object"?null:(z=d&&z[d]||z["@@iterator"],typeof z=="function"?z:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(z,B,G){this.props=z,this.context=B,this.refs=m,this.updater=G||p}v.prototype.isReactComponent={},v.prototype.setState=function(z,B){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,B,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function b(){}b.prototype=v.prototype;function S(z,B,G){this.props=z,this.context=B,this.refs=m,this.updater=G||p}var C=S.prototype=new b;C.constructor=S,g(C,v.prototype),C.isPureReactComponent=!0;var _=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function k(z,B,G,Y,Q,K){return G=K.ref,{$$typeof:e,type:z,key:B,ref:G!==void 0?G:null,props:K}}function A(z,B){return k(z.type,B,void 0,void 0,void 0,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function D(z){var B={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(G){return B[G]})}var F=/\/+/g;function I(z,B){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):B.toString(36)}function j(){}function M(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(B){z.status==="pending"&&(z.status="fulfilled",z.value=B)},function(B){z.status==="pending"&&(z.status="rejected",z.reason=B)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function $(z,B,G,Y,Q){var K=typeof z;(K==="undefined"||K==="boolean")&&(z=null);var te=!1;if(z===null)te=!0;else switch(K){case"bigint":case"string":case"number":te=!0;break;case"object":switch(z.$$typeof){case e:case t:te=!0;break;case u:return te=z._init,$(te(z._payload),B,G,Y,Q)}}if(te)return Q=Q(z),te=Y===""?"."+I(z,0):Y,_(Q)?(G="",te!=null&&(G=te.replace(F,"$&/")+"/"),$(Q,B,G,"",function(re){return re})):Q!=null&&(P(Q)&&(Q=A(Q,G+(Q.key==null||z&&z.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+te)),B.push(Q)),1;te=0;var ce=Y===""?".":Y+":";if(_(z))for(var ie=0;ie<z.length;ie++)Y=z[ie],K=ce+I(Y,ie),te+=$(Y,B,G,K,Q);else if(ie=f(z),typeof ie=="function")for(z=ie.call(z),ie=0;!(Y=z.next()).done;)Y=Y.value,K=ce+I(Y,ie++),te+=$(Y,B,G,K,Q);else if(K==="object"){if(typeof z.then=="function")return $(M(z),B,G,Y,Q);throw B=String(z),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return te}function L(z,B,G){if(z==null)return z;var Y=[],Q=0;return $(z,Y,"","",function(K){return B.call(G,K,Q++)}),Y}function V(z){if(z._status===-1){var B=z._result;B=B(),B.then(function(G){(z._status===0||z._status===-1)&&(z._status=1,z._result=G)},function(G){(z._status===0||z._status===-1)&&(z._status=2,z._result=G)}),z._status===-1&&(z._status=0,z._result=B)}if(z._status===1)return z._result.default;throw z._result}var q=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function U(){}return Mn.Children={map:L,forEach:function(z,B,G){L(z,function(){B.apply(this,arguments)},G)},count:function(z){var B=0;return L(z,function(){B++}),B},toArray:function(z){return L(z,function(B){return B})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Mn.Component=v,Mn.Fragment=n,Mn.Profiler=i,Mn.PureComponent=S,Mn.StrictMode=r,Mn.Suspense=l,Mn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Mn.__COMPILER_RUNTIME={__proto__:null,c:function(z){return E.H.useMemoCache(z)}},Mn.cache=function(z){return function(){return z.apply(null,arguments)}},Mn.cloneElement=function(z,B,G){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Y=g({},z.props),Q=z.key,K=void 0;if(B!=null)for(te in B.ref!==void 0&&(K=void 0),B.key!==void 0&&(Q=""+B.key),B)!T.call(B,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&B.ref===void 0||(Y[te]=B[te]);var te=arguments.length-2;if(te===1)Y.children=G;else if(1<te){for(var ce=Array(te),ie=0;ie<te;ie++)ce[ie]=arguments[ie+2];Y.children=ce}return k(z.type,Q,void 0,void 0,K,Y)},Mn.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Mn.createElement=function(z,B,G){var Y,Q={},K=null;if(B!=null)for(Y in B.key!==void 0&&(K=""+B.key),B)T.call(B,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Q[Y]=B[Y]);var te=arguments.length-2;if(te===1)Q.children=G;else if(1<te){for(var ce=Array(te),ie=0;ie<te;ie++)ce[ie]=arguments[ie+2];Q.children=ce}if(z&&z.defaultProps)for(Y in te=z.defaultProps,te)Q[Y]===void 0&&(Q[Y]=te[Y]);return k(z,K,void 0,void 0,null,Q)},Mn.createRef=function(){return{current:null}},Mn.forwardRef=function(z){return{$$typeof:a,render:z}},Mn.isValidElement=P,Mn.lazy=function(z){return{$$typeof:u,_payload:{_status:-1,_result:z},_init:V}},Mn.memo=function(z,B){return{$$typeof:c,type:z,compare:B===void 0?null:B}},Mn.startTransition=function(z){var B=E.T,G={};E.T=G;try{var Y=z(),Q=E.S;Q!==null&&Q(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(U,q)}catch(K){q(K)}finally{E.T=B}},Mn.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Mn.use=function(z){return E.H.use(z)},Mn.useActionState=function(z,B,G){return E.H.useActionState(z,B,G)},Mn.useCallback=function(z,B){return E.H.useCallback(z,B)},Mn.useContext=function(z){return E.H.useContext(z)},Mn.useDebugValue=function(){},Mn.useDeferredValue=function(z,B){return E.H.useDeferredValue(z,B)},Mn.useEffect=function(z,B,G){var Y=E.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(z,B)},Mn.useId=function(){return E.H.useId()},Mn.useImperativeHandle=function(z,B,G){return E.H.useImperativeHandle(z,B,G)},Mn.useInsertionEffect=function(z,B){return E.H.useInsertionEffect(z,B)},Mn.useLayoutEffect=function(z,B){return E.H.useLayoutEffect(z,B)},Mn.useMemo=function(z,B){return E.H.useMemo(z,B)},Mn.useOptimistic=function(z,B){return E.H.useOptimistic(z,B)},Mn.useReducer=function(z,B,G){return E.H.useReducer(z,B,G)},Mn.useRef=function(z){return E.H.useRef(z)},Mn.useState=function(z){return E.H.useState(z)},Mn.useSyncExternalStore=function(z,B,G){return E.H.useSyncExternalStore(z,B,G)},Mn.useTransition=function(){return E.H.useTransition()},Mn.version="19.1.0",Mn}var fee;function mu(){return fee||(fee=1,yN.exports=Jje()),yN.exports}var O=mu();const hn=kg(O),NA=uPe({__proto__:null,default:hn},[O]);function eze(e){const t={...e};return Cfe(t,"react"),ffe("react",{version:O.version}),tNe(t)}var vN={exports:{}},Cr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pee;function tze(){if(pee)return Cr;pee=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function C(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case t:switch(E=E.type,E){case l:case c:case r:case o:case i:case d:return E;default:switch(E=E&&E.$$typeof,E){case a:case u:case g:case p:case s:return E;default:return T}}case n:return T}}}function _(E){return C(E)===c}return Cr.AsyncMode=l,Cr.ConcurrentMode=c,Cr.ContextConsumer=a,Cr.ContextProvider=s,Cr.Element=t,Cr.ForwardRef=u,Cr.Fragment=r,Cr.Lazy=g,Cr.Memo=p,Cr.Portal=n,Cr.Profiler=o,Cr.StrictMode=i,Cr.Suspense=d,Cr.isAsyncMode=function(E){return _(E)||C(E)===l},Cr.isConcurrentMode=_,Cr.isContextConsumer=function(E){return C(E)===a},Cr.isContextProvider=function(E){return C(E)===s},Cr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Cr.isForwardRef=function(E){return C(E)===u},Cr.isFragment=function(E){return C(E)===r},Cr.isLazy=function(E){return C(E)===g},Cr.isMemo=function(E){return C(E)===p},Cr.isPortal=function(E){return C(E)===n},Cr.isProfiler=function(E){return C(E)===o},Cr.isStrictMode=function(E){return C(E)===i},Cr.isSuspense=function(E){return C(E)===d},Cr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===c||E===o||E===i||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===s||E.$$typeof===a||E.$$typeof===u||E.$$typeof===v||E.$$typeof===b||E.$$typeof===S||E.$$typeof===m)},Cr.typeOf=C,Cr}var hee;function nze(){return hee||(hee=1,vN.exports=tze()),vN.exports}var bN,gee;function rze(){if(gee)return bN;gee=1;var e=nze(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function s(g){return e.isMemo(g)?i:o[g.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(g,m,v){if(typeof m!="string"){if(f){var b=d(m);b&&b!==f&&p(g,b,v)}var S=l(m);c&&(S=S.concat(c(m)));for(var C=s(g),_=s(m),E=0;E<S.length;++E){var T=S[E];if(!n[T]&&!(v&&v[T])&&!(_&&_[T])&&!(C&&C[T])){var k=u(m,T);try{a(g,T,k)}catch{}}}}return g}return bN=p,bN}rze();var xN={exports:{}},uw={},SN={exports:{}},wN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mee;function ize(){return mee||(mee=1,function(e){function t(L,V){var q=L.length;L.push(V);e:for(;0<q;){var U=q-1>>>1,z=L[U];if(0<i(z,V))L[U]=V,L[q]=z,q=U;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],q=L.pop();if(q!==V){L[0]=q;e:for(var U=0,z=L.length,B=z>>>1;U<B;){var G=2*(U+1)-1,Y=L[G],Q=G+1,K=L[Q];if(0>i(Y,q))Q<z&&0>i(K,Y)?(L[U]=K,L[Q]=q,U=Q):(L[U]=Y,L[G]=q,U=G);else if(Q<z&&0>i(K,q))L[U]=K,L[Q]=q,U=Q;else break e}}return V}function i(L,V){var q=L.sortIndex-V.sortIndex;return q!==0?q:L.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,m=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function _(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function E(L){if(m=!1,_(L),!g)if(n(l)!==null)g=!0,T||(T=!0,I());else{var V=n(c);V!==null&&$(E,V.startTime-L)}}var T=!1,k=-1,A=5,P=-1;function D(){return v?!0:!(e.unstable_now()-P<A)}function F(){if(v=!1,T){var L=e.unstable_now();P=L;var V=!0;try{e:{g=!1,m&&(m=!1,S(k),k=-1),p=!0;var q=f;try{t:{for(_(L),d=n(l);d!==null&&!(d.expirationTime>L&&D());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var z=U(d.expirationTime<=L);if(L=e.unstable_now(),typeof z=="function"){d.callback=z,_(L),V=!0;break t}d===n(l)&&r(l),_(L)}else r(l);d=n(l)}if(d!==null)V=!0;else{var B=n(c);B!==null&&$(E,B.startTime-L),V=!1}}break e}finally{d=null,f=q,p=!1}V=void 0}}finally{V?I():T=!1}}}var I;if(typeof C=="function")I=function(){C(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,M=j.port2;j.port1.onmessage=F,I=function(){M.postMessage(null)}}else I=function(){b(F,0)};function $(L,V){k=b(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var q=f;f=V;try{return L()}finally{f=q}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=f;f=L;try{return V()}finally{f=q}},e.unstable_scheduleCallback=function(L,V,q){var U=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?U+q:U):q=U,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=q+z,L={id:u++,callback:V,priorityLevel:L,startTime:q,expirationTime:z,sortIndex:-1},q>U?(L.sortIndex=q,t(c,L),n(l)===null&&L===n(c)&&(m?(S(k),k=-1):m=!0,$(E,q-U))):(L.sortIndex=z,t(l,L),g||p||(g=!0,T||(T=!0,I()))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var V=f;return function(){var q=f;f=V;try{return L.apply(this,arguments)}finally{f=q}}}}(wN)),wN}var yee;function oze(){return yee||(yee=1,SN.exports=ize()),SN.exports}var CN={exports:{}},Ko={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vee;function sze(){if(vee)return Ko;vee=1;var e=mu();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(l,c,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:c,implementation:u}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ko.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ko.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return o(l,c,null,u)},Ko.flushSync=function(l){var c=s.T,u=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=c,r.p=u,r.d.f()}},Ko.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Ko.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Ko.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin),f=typeof c.integrity=="string"?c.integrity:void 0,p=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:f,fetchPriority:p}):u==="script"&&r.d.X(l,{crossOrigin:d,integrity:f,fetchPriority:p,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ko.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Ko.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin);r.d.L(l,u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ko.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Ko.requestFormReset=function(l){r.d.r(l)},Ko.unstable_batchedUpdates=function(l,c){return l(c)},Ko.useFormState=function(l,c,u){return s.H.useFormState(l,c,u)},Ko.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ko.version="19.1.0",Ko}var bee;function Xpe(){if(bee)return CN.exports;bee=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),CN.exports=sze(),CN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xee;function aze(){if(xee)return uw;xee=1;var e=oze(),t=mu(),n=Xpe();function r(h){var y="https://react.dev/errors/"+h;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+h+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function o(h){var y=h,w=h;if(h.alternate)for(;y.return;)y=y.return;else{h=y;do y=h,(y.flags&4098)!==0&&(w=y.return),h=y.return;while(h)}return y.tag===3?w:null}function s(h){if(h.tag===13){var y=h.memoizedState;if(y===null&&(h=h.alternate,h!==null&&(y=h.memoizedState)),y!==null)return y.dehydrated}return null}function a(h){if(o(h)!==h)throw Error(r(188))}function l(h){var y=h.alternate;if(!y){if(y=o(h),y===null)throw Error(r(188));return y!==h?null:h}for(var w=h,R=y;;){var N=w.return;if(N===null)break;var H=N.alternate;if(H===null){if(R=N.return,R!==null){w=R;continue}break}if(N.child===H.child){for(H=N.child;H;){if(H===w)return a(N),h;if(H===R)return a(N),y;H=H.sibling}throw Error(r(188))}if(w.return!==R.return)w=N,R=H;else{for(var J=!1,le=N.child;le;){if(le===w){J=!0,w=N,R=H;break}if(le===R){J=!0,R=N,w=H;break}le=le.sibling}if(!J){for(le=H.child;le;){if(le===w){J=!0,w=H,R=N;break}if(le===R){J=!0,R=H,w=N;break}le=le.sibling}if(!J)throw Error(r(189))}}if(w.alternate!==R)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?h:y}function c(h){var y=h.tag;if(y===5||y===26||y===27||y===6)return h;for(h=h.child;h!==null;){if(y=c(h),y!==null)return y;h=h.sibling}return null}var u=Object.assign,d=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function I(h){return h===null||typeof h!="object"?null:(h=F&&h[F]||h["@@iterator"],typeof h=="function"?h:null)}var j=Symbol.for("react.client.reference");function M(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===j?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case g:return"Fragment";case v:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case P:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case p:return"Portal";case C:return(h.displayName||"Context")+".Provider";case S:return(h._context.displayName||"Context")+".Consumer";case _:var y=h.render;return h=h.displayName,h||(h=y.displayName||y.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case k:return y=h.displayName||null,y!==null?y:M(h.type)||"Memo";case A:y=h._payload,h=h._init;try{return M(h(y))}catch{}}return null}var $=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},U=[],z=-1;function B(h){return{current:h}}function G(h){0>z||(h.current=U[z],U[z]=null,z--)}function Y(h,y){z++,U[z]=h.current,h.current=y}var Q=B(null),K=B(null),te=B(null),ce=B(null);function ie(h,y){switch(Y(te,y),Y(K,h),Y(Q,null),y.nodeType){case 9:case 11:h=(h=y.documentElement)&&(h=h.namespaceURI)?dZ(h):0;break;default:if(h=y.tagName,y=y.namespaceURI)y=dZ(y),h=fZ(y,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}G(Q),Y(Q,h)}function re(){G(Q),G(K),G(te)}function he(h){h.memoizedState!==null&&Y(ce,h);var y=Q.current,w=fZ(y,h.type);y!==w&&(Y(K,h),Y(Q,w))}function fe(h){K.current===h&&(G(Q),G(K)),ce.current===h&&(G(ce),rw._currentValue=q)}var ne=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,W=e.unstable_cancelCallback,se=e.unstable_shouldYield,ae=e.unstable_requestPaint,X=e.unstable_now,Z=e.unstable_getCurrentPriorityLevel,oe=e.unstable_ImmediatePriority,ge=e.unstable_UserBlockingPriority,be=e.unstable_NormalPriority,de=e.unstable_LowPriority,Re=e.unstable_IdlePriority,xe=e.log,ue=e.unstable_setDisableYieldValue,we=null,Oe=null;function ke(h){if(typeof xe=="function"&&ue(h),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(we,h)}catch{}}var Ie=Math.clz32?Math.clz32:$e,ve=Math.log,_e=Math.LN2;function $e(h){return h>>>=0,h===0?32:31-(ve(h)/_e|0)|0}var De=256,ot=4194304;function Me(h){var y=h&42;if(y!==0)return y;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function ze(h,y,w){var R=h.pendingLanes;if(R===0)return 0;var N=0,H=h.suspendedLanes,J=h.pingedLanes;h=h.warmLanes;var le=R&134217727;return le!==0?(R=le&~H,R!==0?N=Me(R):(J&=le,J!==0?N=Me(J):w||(w=le&~h,w!==0&&(N=Me(w))))):(le=R&~H,le!==0?N=Me(le):J!==0?N=Me(J):w||(w=R&~h,w!==0&&(N=Me(w)))),N===0?0:y!==0&&y!==N&&(y&H)===0&&(H=N&-N,w=y&-y,H>=w||H===32&&(w&4194048)!==0)?y:N}function Qe(h,y){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&y)===0}function Rt(h,y){switch(h){case 1:case 2:case 4:case 8:case 64:return y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(){var h=De;return De<<=1,(De&4194048)===0&&(De=256),h}function Wt(){var h=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),h}function vn(h){for(var y=[],w=0;31>w;w++)y.push(h);return y}function It(h,y){h.pendingLanes|=y,y!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function $t(h,y,w,R,N,H){var J=h.pendingLanes;h.pendingLanes=w,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=w,h.entangledLanes&=w,h.errorRecoveryDisabledLanes&=w,h.shellSuspendCounter=0;var le=h.entanglements,Se=h.expirationTimes,Fe=h.hiddenUpdates;for(w=J&~w;0<w;){var Ye=31-Ie(w),rt=1<<Ye;le[Ye]=0,Se[Ye]=-1;var Le=Fe[Ye];if(Le!==null)for(Fe[Ye]=null,Ye=0;Ye<Le.length;Ye++){var je=Le[Ye];je!==null&&(je.lane&=-536870913)}w&=~rt}R!==0&&ur(h,R,0),H!==0&&N===0&&h.tag!==0&&(h.suspendedLanes|=H&~(J&~y))}function ur(h,y,w){h.pendingLanes|=y,h.suspendedLanes&=~y;var R=31-Ie(y);h.entangledLanes|=y,h.entanglements[R]=h.entanglements[R]|1073741824|w&4194090}function ht(h,y){var w=h.entangledLanes|=y;for(h=h.entanglements;w;){var R=31-Ie(w),N=1<<R;N&y|h[R]&y&&(h[R]|=y),w&=~N}}function jt(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Ot(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function dr(){var h=V.p;return h!==0?h:(h=window.event,h===void 0?32:OZ(h.type))}function xt(h,y){var w=V.p;try{return V.p=h,y()}finally{V.p=w}}var wt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+wt,Kt="__reactProps$"+wt,gt="__reactContainer$"+wt,di="__reactEvents$"+wt,Yn="__reactListeners$"+wt,Tr="__reactHandles$"+wt,Zr="__reactResources$"+wt,On="__reactMarker$"+wt;function Hn(h){delete h[Bt],delete h[Kt],delete h[di],delete h[Yn],delete h[Tr]}function ti(h){var y=h[Bt];if(y)return y;for(var w=h.parentNode;w;){if(y=w[gt]||w[Bt]){if(w=y.alternate,y.child!==null||w!==null&&w.child!==null)for(h=mZ(h);h!==null;){if(w=h[Bt])return w;h=mZ(h)}return y}h=w,w=h.parentNode}return null}function Qs(h){if(h=h[Bt]||h[gt]){var y=h.tag;if(y===5||y===6||y===13||y===26||y===27||y===3)return h}return null}function Ge(h){var y=h.tag;if(y===5||y===26||y===27||y===6)return h.stateNode;throw Error(r(33))}function He(h){var y=h[Zr];return y||(y=h[Zr]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function yt(h){h[On]=!0}var bn=new Set,Tn={};function Vn(h,y){Mr(h,y),Mr(h+"Capture",y)}function Mr(h,y){for(Tn[h]=y,h=0;h<y.length;h++)bn.add(y[h])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kp={},Uy={};function Hy(h){return ne.call(Uy,h)?!0:ne.call(kp,h)?!1:Mo.test(h)?Uy[h]=!0:(kp[h]=!0,!1)}function kc(h,y,w){if(Hy(y))if(w===null)h.removeAttribute(y);else{switch(typeof w){case"undefined":case"function":case"symbol":h.removeAttribute(y);return;case"boolean":var R=y.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){h.removeAttribute(y);return}}h.setAttribute(y,""+w)}}function Rc(h,y,w){if(w===null)h.removeAttribute(y);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(y);return}h.setAttribute(y,""+w)}}function Cn(h,y,w,R){if(R===null)h.removeAttribute(w);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(w);return}h.setAttributeNS(y,w,""+R)}}var Yo,Zs;function Js(h){if(Yo===void 0)try{throw Error()}catch(w){var y=w.stack.trim().match(/\n( *(at )?)/);Yo=y&&y[1]||"",Zs=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yo+h+Zs}var Kg=!1;function gS(h,y){if(!h||Kg)return"";Kg=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(y){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(je){var Le=je}Reflect.construct(h,[],rt)}else{try{rt.call()}catch(je){Le=je}h.call(rt.prototype)}}else{try{throw Error()}catch(je){Le=je}(rt=h())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(je){if(je&&Le&&typeof je.stack=="string")return[je.stack,Le.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=R.DetermineComponentFrameRoot(),J=H[0],le=H[1];if(J&&le){var Se=J.split(`
`),Fe=le.split(`
`);for(N=R=0;R<Se.length&&!Se[R].includes("DetermineComponentFrameRoot");)R++;for(;N<Fe.length&&!Fe[N].includes("DetermineComponentFrameRoot");)N++;if(R===Se.length||N===Fe.length)for(R=Se.length-1,N=Fe.length-1;1<=R&&0<=N&&Se[R]!==Fe[N];)N--;for(;1<=R&&0<=N;R--,N--)if(Se[R]!==Fe[N]){if(R!==1||N!==1)do if(R--,N--,0>N||Se[R]!==Fe[N]){var Ye=`
`+Se[R].replace(" at new "," at ");return h.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",h.displayName)),Ye}while(1<=R&&0<=N);break}}}finally{Kg=!1,Error.prepareStackTrace=w}return(w=h?h.displayName||h.name:"")?Js(w):""}function G5(h){switch(h.tag){case 26:case 27:case 5:return Js(h.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 15:return gS(h.type,!1);case 11:return gS(h.type.render,!1);case 1:return gS(h.type,!0);case 31:return Js("Activity");default:return""}}function mk(h){try{var y="";do y+=G5(h),h=h.return;while(h);return y}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function ea(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function yk(h){var y=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Vy(h){var y=yk(h)?"checked":"value",w=Object.getOwnPropertyDescriptor(h.constructor.prototype,y),R=""+h[y];if(!h.hasOwnProperty(y)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var N=w.get,H=w.set;return Object.defineProperty(h,y,{configurable:!0,get:function(){return N.call(this)},set:function(J){R=""+J,H.call(this,J)}}),Object.defineProperty(h,y,{enumerable:w.enumerable}),{getValue:function(){return R},setValue:function(J){R=""+J},stopTracking:function(){h._valueTracker=null,delete h[y]}}}}function Wy(h){h._valueTracker||(h._valueTracker=Vy(h))}function vk(h){if(!h)return!1;var y=h._valueTracker;if(!y)return!0;var w=y.getValue(),R="";return h&&(R=yk(h)?h.checked?"true":"false":h.value),h=R,h!==w?(y.setValue(h),!0):!1}function Rp(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Y5=/[\n"\\]/g;function ta(h){return h.replace(Y5,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function qy(h,y,w,R,N,H,J,le){h.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?h.type=J:h.removeAttribute("type"),y!=null?J==="number"?(y===0&&h.value===""||h.value!=y)&&(h.value=""+ea(y)):h.value!==""+ea(y)&&(h.value=""+ea(y)):J!=="submit"&&J!=="reset"||h.removeAttribute("value"),y!=null?X5(h,J,ea(y)):w!=null?X5(h,J,ea(w)):R!=null&&h.removeAttribute("value"),N==null&&H!=null&&(h.defaultChecked=!!H),N!=null&&(h.checked=N&&typeof N!="function"&&typeof N!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?h.name=""+ea(le):h.removeAttribute("name")}function lX(h,y,w,R,N,H,J,le){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(h.type=H),y!=null||w!=null){if(!(H!=="submit"&&H!=="reset"||y!=null))return;w=w!=null?""+ea(w):"",y=y!=null?""+ea(y):w,le||y===h.value||(h.value=y),h.defaultValue=y}R=R??N,R=typeof R!="function"&&typeof R!="symbol"&&!!R,h.checked=le?h.checked:!!R,h.defaultChecked=!!R,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(h.name=J)}function X5(h,y,w){y==="number"&&Rp(h.ownerDocument)===h||h.defaultValue===""+w||(h.defaultValue=""+w)}function Gy(h,y,w,R){if(h=h.options,y){y={};for(var N=0;N<w.length;N++)y["$"+w[N]]=!0;for(w=0;w<h.length;w++)N=y.hasOwnProperty("$"+h[w].value),h[w].selected!==N&&(h[w].selected=N),N&&R&&(h[w].defaultSelected=!0)}else{for(w=""+ea(w),y=null,N=0;N<h.length;N++){if(h[N].value===w){h[N].selected=!0,R&&(h[N].defaultSelected=!0);return}y!==null||h[N].disabled||(y=h[N])}y!==null&&(y.selected=!0)}}function cX(h,y,w){if(y!=null&&(y=""+ea(y),y!==h.value&&(h.value=y),w==null)){h.defaultValue!==y&&(h.defaultValue=y);return}h.defaultValue=w!=null?""+ea(w):""}function uX(h,y,w,R){if(y==null){if(R!=null){if(w!=null)throw Error(r(92));if($(R)){if(1<R.length)throw Error(r(93));R=R[0]}w=R}w==null&&(w=""),y=w}w=ea(y),h.defaultValue=w,R=h.textContent,R===w&&R!==""&&R!==null&&(h.value=R)}function Yy(h,y){if(y){var w=h.firstChild;if(w&&w===h.lastChild&&w.nodeType===3){w.nodeValue=y;return}}h.textContent=y}var oOe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dX(h,y,w){var R=y.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?R?h.setProperty(y,""):y==="float"?h.cssFloat="":h[y]="":R?h.setProperty(y,w):typeof w!="number"||w===0||oOe.has(y)?y==="float"?h.cssFloat=w:h[y]=(""+w).trim():h[y]=w+"px"}function fX(h,y,w){if(y!=null&&typeof y!="object")throw Error(r(62));if(h=h.style,w!=null){for(var R in w)!w.hasOwnProperty(R)||y!=null&&y.hasOwnProperty(R)||(R.indexOf("--")===0?h.setProperty(R,""):R==="float"?h.cssFloat="":h[R]="");for(var N in y)R=y[N],y.hasOwnProperty(N)&&w[N]!==R&&dX(h,N,R)}else for(var H in y)y.hasOwnProperty(H)&&dX(h,H,y[H])}function K5(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sOe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aOe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bk(h){return aOe.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Q5=null;function Z5(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Xy=null,Ky=null;function pX(h){var y=Qs(h);if(y&&(h=y.stateNode)){var w=h[Kt]||null;e:switch(h=y.stateNode,y.type){case"input":if(qy(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),y=w.name,w.type==="radio"&&y!=null){for(w=h;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+ta(""+y)+'"][type="radio"]'),y=0;y<w.length;y++){var R=w[y];if(R!==h&&R.form===h.form){var N=R[Kt]||null;if(!N)throw Error(r(90));qy(R,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(y=0;y<w.length;y++)R=w[y],R.form===h.form&&vk(R)}break e;case"textarea":cX(h,w.value,w.defaultValue);break e;case"select":y=w.value,y!=null&&Gy(h,!!w.multiple,y,!1)}}}var J5=!1;function hX(h,y,w){if(J5)return h(y,w);J5=!0;try{var R=h(y);return R}finally{if(J5=!1,(Xy!==null||Ky!==null)&&(iR(),Xy&&(y=Xy,h=Ky,Ky=Xy=null,pX(y),h)))for(y=0;y<h.length;y++)pX(h[y])}}function mS(h,y){var w=h.stateNode;if(w===null)return null;var R=w[Kt]||null;if(R===null)return null;w=R[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(h=h.type,R=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!R;break e;default:h=!1}if(h)return null;if(w&&typeof w!="function")throw Error(r(231,y,typeof w));return w}var Xd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e3=!1;if(Xd)try{var yS={};Object.defineProperty(yS,"passive",{get:function(){e3=!0}}),window.addEventListener("test",yS,yS),window.removeEventListener("test",yS,yS)}catch{e3=!1}var Tp=null,t3=null,xk=null;function gX(){if(xk)return xk;var h,y=t3,w=y.length,R,N="value"in Tp?Tp.value:Tp.textContent,H=N.length;for(h=0;h<w&&y[h]===N[h];h++);var J=w-h;for(R=1;R<=J&&y[w-R]===N[H-R];R++);return xk=N.slice(h,1<R?1-R:void 0)}function Sk(h){var y=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&y===13&&(h=13)):h=y,h===10&&(h=13),32<=h||h===13?h:0}function wk(){return!0}function mX(){return!1}function na(h){function y(w,R,N,H,J){this._reactName=w,this._targetInst=N,this.type=R,this.nativeEvent=H,this.target=J,this.currentTarget=null;for(var le in h)h.hasOwnProperty(le)&&(w=h[le],this[le]=w?w(H):H[le]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?wk:mX,this.isPropagationStopped=mX,this}return u(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=wk)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=wk)},persist:function(){},isPersistent:wk}),y}var Qg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ck=na(Qg),vS=u({},Qg,{view:0,detail:0}),lOe=na(vS),n3,r3,bS,_k=u({},vS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o3,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==bS&&(bS&&h.type==="mousemove"?(n3=h.screenX-bS.screenX,r3=h.screenY-bS.screenY):r3=n3=0,bS=h),n3)},movementY:function(h){return"movementY"in h?h.movementY:r3}}),yX=na(_k),cOe=u({},_k,{dataTransfer:0}),uOe=na(cOe),dOe=u({},vS,{relatedTarget:0}),i3=na(dOe),fOe=u({},Qg,{animationName:0,elapsedTime:0,pseudoElement:0}),pOe=na(fOe),hOe=u({},Qg,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),gOe=na(hOe),mOe=u({},Qg,{data:0}),vX=na(mOe),yOe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vOe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bOe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xOe(h){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(h):(h=bOe[h])?!!y[h]:!1}function o3(){return xOe}var SOe=u({},vS,{key:function(h){if(h.key){var y=yOe[h.key]||h.key;if(y!=="Unidentified")return y}return h.type==="keypress"?(h=Sk(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?vOe[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o3,charCode:function(h){return h.type==="keypress"?Sk(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Sk(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),wOe=na(SOe),COe=u({},_k,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bX=na(COe),_Oe=u({},vS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o3}),EOe=na(_Oe),kOe=u({},Qg,{propertyName:0,elapsedTime:0,pseudoElement:0}),ROe=na(kOe),TOe=u({},_k,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),MOe=na(TOe),AOe=u({},Qg,{newState:0,oldState:0}),OOe=na(AOe),DOe=[9,13,27,32],s3=Xd&&"CompositionEvent"in window,xS=null;Xd&&"documentMode"in document&&(xS=document.documentMode);var POe=Xd&&"TextEvent"in window&&!xS,xX=Xd&&(!s3||xS&&8<xS&&11>=xS),SX=" ",wX=!1;function CX(h,y){switch(h){case"keyup":return DOe.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _X(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Qy=!1;function IOe(h,y){switch(h){case"compositionend":return _X(y);case"keypress":return y.which!==32?null:(wX=!0,SX);case"textInput":return h=y.data,h===SX&&wX?null:h;default:return null}}function $Oe(h,y){if(Qy)return h==="compositionend"||!s3&&CX(h,y)?(h=gX(),xk=t3=Tp=null,Qy=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return xX&&y.locale!=="ko"?null:y.data;default:return null}}var FOe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EX(h){var y=h&&h.nodeName&&h.nodeName.toLowerCase();return y==="input"?!!FOe[h.type]:y==="textarea"}function kX(h,y,w,R){Xy?Ky?Ky.push(R):Ky=[R]:Xy=R,y=uR(y,"onChange"),0<y.length&&(w=new Ck("onChange","change",null,w,R),h.push({event:w,listeners:y}))}var SS=null,wS=null;function NOe(h){sZ(h,0)}function Ek(h){var y=Ge(h);if(vk(y))return h}function RX(h,y){if(h==="change")return y}var TX=!1;if(Xd){var a3;if(Xd){var l3="oninput"in document;if(!l3){var MX=document.createElement("div");MX.setAttribute("oninput","return;"),l3=typeof MX.oninput=="function"}a3=l3}else a3=!1;TX=a3&&(!document.documentMode||9<document.documentMode)}function AX(){SS&&(SS.detachEvent("onpropertychange",OX),wS=SS=null)}function OX(h){if(h.propertyName==="value"&&Ek(wS)){var y=[];kX(y,wS,h,Z5(h)),hX(NOe,y)}}function LOe(h,y,w){h==="focusin"?(AX(),SS=y,wS=w,SS.attachEvent("onpropertychange",OX)):h==="focusout"&&AX()}function jOe(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Ek(wS)}function zOe(h,y){if(h==="click")return Ek(y)}function BOe(h,y){if(h==="input"||h==="change")return Ek(y)}function UOe(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var $a=typeof Object.is=="function"?Object.is:UOe;function CS(h,y){if($a(h,y))return!0;if(typeof h!="object"||h===null||typeof y!="object"||y===null)return!1;var w=Object.keys(h),R=Object.keys(y);if(w.length!==R.length)return!1;for(R=0;R<w.length;R++){var N=w[R];if(!ne.call(y,N)||!$a(h[N],y[N]))return!1}return!0}function DX(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function PX(h,y){var w=DX(h);h=0;for(var R;w;){if(w.nodeType===3){if(R=h+w.textContent.length,h<=y&&R>=y)return{node:w,offset:y-h};h=R}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=DX(w)}}function IX(h,y){return h&&y?h===y?!0:h&&h.nodeType===3?!1:y&&y.nodeType===3?IX(h,y.parentNode):"contains"in h?h.contains(y):h.compareDocumentPosition?!!(h.compareDocumentPosition(y)&16):!1:!1}function $X(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var y=Rp(h.document);y instanceof h.HTMLIFrameElement;){try{var w=typeof y.contentWindow.location.href=="string"}catch{w=!1}if(w)h=y.contentWindow;else break;y=Rp(h.document)}return y}function c3(h){var y=h&&h.nodeName&&h.nodeName.toLowerCase();return y&&(y==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||y==="textarea"||h.contentEditable==="true")}var HOe=Xd&&"documentMode"in document&&11>=document.documentMode,Zy=null,u3=null,_S=null,d3=!1;function FX(h,y,w){var R=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;d3||Zy==null||Zy!==Rp(R)||(R=Zy,"selectionStart"in R&&c3(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),_S&&CS(_S,R)||(_S=R,R=uR(u3,"onSelect"),0<R.length&&(y=new Ck("onSelect","select",null,y,w),h.push({event:y,listeners:R}),y.target=Zy)))}function Zg(h,y){var w={};return w[h.toLowerCase()]=y.toLowerCase(),w["Webkit"+h]="webkit"+y,w["Moz"+h]="moz"+y,w}var Jy={animationend:Zg("Animation","AnimationEnd"),animationiteration:Zg("Animation","AnimationIteration"),animationstart:Zg("Animation","AnimationStart"),transitionrun:Zg("Transition","TransitionRun"),transitionstart:Zg("Transition","TransitionStart"),transitioncancel:Zg("Transition","TransitionCancel"),transitionend:Zg("Transition","TransitionEnd")},f3={},NX={};Xd&&(NX=document.createElement("div").style,"AnimationEvent"in window||(delete Jy.animationend.animation,delete Jy.animationiteration.animation,delete Jy.animationstart.animation),"TransitionEvent"in window||delete Jy.transitionend.transition);function Jg(h){if(f3[h])return f3[h];if(!Jy[h])return h;var y=Jy[h],w;for(w in y)if(y.hasOwnProperty(w)&&w in NX)return f3[h]=y[w];return h}var LX=Jg("animationend"),jX=Jg("animationiteration"),zX=Jg("animationstart"),VOe=Jg("transitionrun"),WOe=Jg("transitionstart"),qOe=Jg("transitioncancel"),BX=Jg("transitionend"),UX=new Map,p3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");p3.push("scrollEnd");function Tc(h,y){UX.set(h,y),Vn(y,[h])}var HX=new WeakMap;function Rl(h,y){if(typeof h=="object"&&h!==null){var w=HX.get(h);return w!==void 0?w:(y={value:h,source:y,stack:mk(y)},HX.set(h,y),y)}return{value:h,source:y,stack:mk(y)}}var Tl=[],ev=0,h3=0;function kk(){for(var h=ev,y=h3=ev=0;y<h;){var w=Tl[y];Tl[y++]=null;var R=Tl[y];Tl[y++]=null;var N=Tl[y];Tl[y++]=null;var H=Tl[y];if(Tl[y++]=null,R!==null&&N!==null){var J=R.pending;J===null?N.next=N:(N.next=J.next,J.next=N),R.pending=N}H!==0&&VX(w,N,H)}}function Rk(h,y,w,R){Tl[ev++]=h,Tl[ev++]=y,Tl[ev++]=w,Tl[ev++]=R,h3|=R,h.lanes|=R,h=h.alternate,h!==null&&(h.lanes|=R)}function g3(h,y,w,R){return Rk(h,y,w,R),Tk(h)}function tv(h,y){return Rk(h,null,null,y),Tk(h)}function VX(h,y,w){h.lanes|=w;var R=h.alternate;R!==null&&(R.lanes|=w);for(var N=!1,H=h.return;H!==null;)H.childLanes|=w,R=H.alternate,R!==null&&(R.childLanes|=w),H.tag===22&&(h=H.stateNode,h===null||h._visibility&1||(N=!0)),h=H,H=H.return;return h.tag===3?(H=h.stateNode,N&&y!==null&&(N=31-Ie(w),h=H.hiddenUpdates,R=h[N],R===null?h[N]=[y]:R.push(y),y.lane=w|536870912),H):null}function Tk(h){if(50<XS)throw XS=0,SF=null,Error(r(185));for(var y=h.return;y!==null;)h=y,y=h.return;return h.tag===3?h.stateNode:null}var nv={};function GOe(h,y,w,R){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(h,y,w,R){return new GOe(h,y,w,R)}function m3(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Kd(h,y){var w=h.alternate;return w===null?(w=Fa(h.tag,y,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=y,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&65011712,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,y=h.dependencies,w.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w.refCleanup=h.refCleanup,w}function WX(h,y){h.flags&=65011714;var w=h.alternate;return w===null?(h.childLanes=0,h.lanes=y,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,y=w.dependencies,h.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),h}function Mk(h,y,w,R,N,H){var J=0;if(R=h,typeof h=="function")m3(h)&&(J=1);else if(typeof h=="string")J=XDe(h,w,Q.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case P:return h=Fa(31,w,y,N),h.elementType=P,h.lanes=H,h;case g:return em(w.children,N,H,y);case m:J=8,N|=24;break;case v:return h=Fa(12,w,y,N|2),h.elementType=v,h.lanes=H,h;case E:return h=Fa(13,w,y,N),h.elementType=E,h.lanes=H,h;case T:return h=Fa(19,w,y,N),h.elementType=T,h.lanes=H,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case b:case C:J=10;break e;case S:J=9;break e;case _:J=11;break e;case k:J=14;break e;case A:J=16,R=null;break e}J=29,w=Error(r(130,h===null?"null":typeof h,"")),R=null}return y=Fa(J,w,y,N),y.elementType=h,y.type=R,y.lanes=H,y}function em(h,y,w,R){return h=Fa(7,h,R,y),h.lanes=w,h}function y3(h,y,w){return h=Fa(6,h,null,y),h.lanes=w,h}function v3(h,y,w){return y=Fa(4,h.children!==null?h.children:[],h.key,y),y.lanes=w,y.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},y}var rv=[],iv=0,Ak=null,Ok=0,Ml=[],Al=0,tm=null,Qd=1,Zd="";function nm(h,y){rv[iv++]=Ok,rv[iv++]=Ak,Ak=h,Ok=y}function qX(h,y,w){Ml[Al++]=Qd,Ml[Al++]=Zd,Ml[Al++]=tm,tm=h;var R=Qd;h=Zd;var N=32-Ie(R)-1;R&=~(1<<N),w+=1;var H=32-Ie(y)+N;if(30<H){var J=N-N%5;H=(R&(1<<J)-1).toString(32),R>>=J,N-=J,Qd=1<<32-Ie(y)+N|w<<N|R,Zd=H+h}else Qd=1<<H|w<<N|R,Zd=h}function b3(h){h.return!==null&&(nm(h,1),qX(h,1,0))}function x3(h){for(;h===Ak;)Ak=rv[--iv],rv[iv]=null,Ok=rv[--iv],rv[iv]=null;for(;h===tm;)tm=Ml[--Al],Ml[Al]=null,Zd=Ml[--Al],Ml[Al]=null,Qd=Ml[--Al],Ml[Al]=null}var vs=null,vi=null,vr=!1,rm=null,Ou=!1,S3=Error(r(519));function im(h){var y=Error(r(418,""));throw RS(Rl(y,h)),S3}function GX(h){var y=h.stateNode,w=h.type,R=h.memoizedProps;switch(y[Bt]=h,y[Kt]=R,w){case"dialog":qn("cancel",y),qn("close",y);break;case"iframe":case"object":case"embed":qn("load",y);break;case"video":case"audio":for(w=0;w<QS.length;w++)qn(QS[w],y);break;case"source":qn("error",y);break;case"img":case"image":case"link":qn("error",y),qn("load",y);break;case"details":qn("toggle",y);break;case"input":qn("invalid",y),lX(y,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0),Wy(y);break;case"select":qn("invalid",y);break;case"textarea":qn("invalid",y),uX(y,R.value,R.defaultValue,R.children),Wy(y)}w=R.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||y.textContent===""+w||R.suppressHydrationWarning===!0||uZ(y.textContent,w)?(R.popover!=null&&(qn("beforetoggle",y),qn("toggle",y)),R.onScroll!=null&&qn("scroll",y),R.onScrollEnd!=null&&qn("scrollend",y),R.onClick!=null&&(y.onclick=dR),y=!0):y=!1,y||im(h)}function YX(h){for(vs=h.return;vs;)switch(vs.tag){case 5:case 13:Ou=!1;return;case 27:case 3:Ou=!0;return;default:vs=vs.return}}function ES(h){if(h!==vs)return!1;if(!vr)return YX(h),vr=!0,!1;var y=h.tag,w;if((w=y!==3&&y!==27)&&((w=y===5)&&(w=h.type,w=!(w!=="form"&&w!=="button")||NF(h.type,h.memoizedProps)),w=!w),w&&vi&&im(h),YX(h),y===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,y=0;h;){if(h.nodeType===8)if(w=h.data,w==="/$"){if(y===0){vi=Ac(h.nextSibling);break e}y--}else w!=="$"&&w!=="$!"&&w!=="$?"||y++;h=h.nextSibling}vi=null}}else y===27?(y=vi,Vp(h.type)?(h=BF,BF=null,vi=h):vi=y):vi=vs?Ac(h.stateNode.nextSibling):null;return!0}function kS(){vi=vs=null,vr=!1}function XX(){var h=rm;return h!==null&&(oa===null?oa=h:oa.push.apply(oa,h),rm=null),h}function RS(h){rm===null?rm=[h]:rm.push(h)}var w3=B(null),om=null,Jd=null;function Mp(h,y,w){Y(w3,y._currentValue),y._currentValue=w}function ef(h){h._currentValue=w3.current,G(w3)}function C3(h,y,w){for(;h!==null;){var R=h.alternate;if((h.childLanes&y)!==y?(h.childLanes|=y,R!==null&&(R.childLanes|=y)):R!==null&&(R.childLanes&y)!==y&&(R.childLanes|=y),h===w)break;h=h.return}}function _3(h,y,w,R){var N=h.child;for(N!==null&&(N.return=h);N!==null;){var H=N.dependencies;if(H!==null){var J=N.child;H=H.firstContext;e:for(;H!==null;){var le=H;H=N;for(var Se=0;Se<y.length;Se++)if(le.context===y[Se]){H.lanes|=w,le=H.alternate,le!==null&&(le.lanes|=w),C3(H.return,w,h),R||(J=null);break e}H=le.next}}else if(N.tag===18){if(J=N.return,J===null)throw Error(r(341));J.lanes|=w,H=J.alternate,H!==null&&(H.lanes|=w),C3(J,w,h),J=null}else J=N.child;if(J!==null)J.return=N;else for(J=N;J!==null;){if(J===h){J=null;break}if(N=J.sibling,N!==null){N.return=J.return,J=N;break}J=J.return}N=J}}function TS(h,y,w,R){h=null;for(var N=y,H=!1;N!==null;){if(!H){if((N.flags&524288)!==0)H=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var J=N.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var le=N.type;$a(N.pendingProps.value,J.value)||(h!==null?h.push(le):h=[le])}}else if(N===ce.current){if(J=N.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(h!==null?h.push(rw):h=[rw])}N=N.return}h!==null&&_3(y,h,w,R),y.flags|=262144}function Dk(h){for(h=h.firstContext;h!==null;){if(!$a(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function sm(h){om=h,Jd=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Xo(h){return KX(om,h)}function Pk(h,y){return om===null&&sm(h),KX(h,y)}function KX(h,y){var w=y._currentValue;if(y={context:y,memoizedValue:w,next:null},Jd===null){if(h===null)throw Error(r(308));Jd=y,h.dependencies={lanes:0,firstContext:y},h.flags|=524288}else Jd=Jd.next=y;return w}var YOe=typeof AbortController<"u"?AbortController:function(){var h=[],y=this.signal={aborted:!1,addEventListener:function(w,R){h.push(R)}};this.abort=function(){y.aborted=!0,h.forEach(function(w){return w()})}},XOe=e.unstable_scheduleCallback,KOe=e.unstable_NormalPriority,Zi={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E3(){return{controller:new YOe,data:new Map,refCount:0}}function MS(h){h.refCount--,h.refCount===0&&XOe(KOe,function(){h.controller.abort()})}var AS=null,k3=0,ov=0,sv=null;function QOe(h,y){if(AS===null){var w=AS=[];k3=0,ov=TF(),sv={status:"pending",value:void 0,then:function(R){w.push(R)}}}return k3++,y.then(QX,QX),y}function QX(){if(--k3===0&&AS!==null){sv!==null&&(sv.status="fulfilled");var h=AS;AS=null,ov=0,sv=null;for(var y=0;y<h.length;y++)(0,h[y])()}}function ZOe(h,y){var w=[],R={status:"pending",value:null,reason:null,then:function(N){w.push(N)}};return h.then(function(){R.status="fulfilled",R.value=y;for(var N=0;N<w.length;N++)(0,w[N])(y)},function(N){for(R.status="rejected",R.reason=N,N=0;N<w.length;N++)(0,w[N])(void 0)}),R}var ZX=L.S;L.S=function(h,y){typeof y=="object"&&y!==null&&typeof y.then=="function"&&QOe(h,y),ZX!==null&&ZX(h,y)};var am=B(null);function R3(){var h=am.current;return h!==null?h:Gr.pooledCache}function Ik(h,y){y===null?Y(am,am.current):Y(am,y.pool)}function JX(){var h=R3();return h===null?null:{parent:Zi._currentValue,pool:h}}var OS=Error(r(460)),eK=Error(r(474)),$k=Error(r(542)),T3={then:function(){}};function tK(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Fk(){}function nK(h,y,w){switch(w=h[w],w===void 0?h.push(y):w!==y&&(y.then(Fk,Fk),y=w),y.status){case"fulfilled":return y.value;case"rejected":throw h=y.reason,iK(h),h;default:if(typeof y.status=="string")y.then(Fk,Fk);else{if(h=Gr,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=y,h.status="pending",h.then(function(R){if(y.status==="pending"){var N=y;N.status="fulfilled",N.value=R}},function(R){if(y.status==="pending"){var N=y;N.status="rejected",N.reason=R}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw h=y.reason,iK(h),h}throw DS=y,OS}}var DS=null;function rK(){if(DS===null)throw Error(r(459));var h=DS;return DS=null,h}function iK(h){if(h===OS||h===$k)throw Error(r(483))}var Ap=!1;function M3(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A3(h,y){h=h.updateQueue,y.updateQueue===h&&(y.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Op(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Dp(h,y,w){var R=h.updateQueue;if(R===null)return null;if(R=R.shared,(Ar&2)!==0){var N=R.pending;return N===null?y.next=y:(y.next=N.next,N.next=y),R.pending=y,y=Tk(h),VX(h,null,w),y}return Rk(h,R,y,w),Tk(h)}function PS(h,y,w){if(y=y.updateQueue,y!==null&&(y=y.shared,(w&4194048)!==0)){var R=y.lanes;R&=h.pendingLanes,w|=R,y.lanes=w,ht(h,w)}}function O3(h,y){var w=h.updateQueue,R=h.alternate;if(R!==null&&(R=R.updateQueue,w===R)){var N=null,H=null;if(w=w.firstBaseUpdate,w!==null){do{var J={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};H===null?N=H=J:H=H.next=J,w=w.next}while(w!==null);H===null?N=H=y:H=H.next=y}else N=H=y;w={baseState:R.baseState,firstBaseUpdate:N,lastBaseUpdate:H,shared:R.shared,callbacks:R.callbacks},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=y:h.next=y,w.lastBaseUpdate=y}var D3=!1;function IS(){if(D3){var h=sv;if(h!==null)throw h}}function $S(h,y,w,R){D3=!1;var N=h.updateQueue;Ap=!1;var H=N.firstBaseUpdate,J=N.lastBaseUpdate,le=N.shared.pending;if(le!==null){N.shared.pending=null;var Se=le,Fe=Se.next;Se.next=null,J===null?H=Fe:J.next=Fe,J=Se;var Ye=h.alternate;Ye!==null&&(Ye=Ye.updateQueue,le=Ye.lastBaseUpdate,le!==J&&(le===null?Ye.firstBaseUpdate=Fe:le.next=Fe,Ye.lastBaseUpdate=Se))}if(H!==null){var rt=N.baseState;J=0,Ye=Fe=Se=null,le=H;do{var Le=le.lane&-536870913,je=Le!==le.lane;if(je?(tr&Le)===Le:(R&Le)===Le){Le!==0&&Le===ov&&(D3=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var fn=h,cn=le;Le=y;var Lr=w;switch(cn.tag){case 1:if(fn=cn.payload,typeof fn=="function"){rt=fn.call(Lr,rt,Le);break e}rt=fn;break e;case 3:fn.flags=fn.flags&-65537|128;case 0:if(fn=cn.payload,Le=typeof fn=="function"?fn.call(Lr,rt,Le):fn,Le==null)break e;rt=u({},rt,Le);break e;case 2:Ap=!0}}Le=le.callback,Le!==null&&(h.flags|=64,je&&(h.flags|=8192),je=N.callbacks,je===null?N.callbacks=[Le]:je.push(Le))}else je={lane:Le,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Ye===null?(Fe=Ye=je,Se=rt):Ye=Ye.next=je,J|=Le;if(le=le.next,le===null){if(le=N.shared.pending,le===null)break;je=le,le=je.next,je.next=null,N.lastBaseUpdate=je,N.shared.pending=null}}while(!0);Ye===null&&(Se=rt),N.baseState=Se,N.firstBaseUpdate=Fe,N.lastBaseUpdate=Ye,H===null&&(N.shared.lanes=0),zp|=J,h.lanes=J,h.memoizedState=rt}}function oK(h,y){if(typeof h!="function")throw Error(r(191,h));h.call(y)}function sK(h,y){var w=h.callbacks;if(w!==null)for(h.callbacks=null,h=0;h<w.length;h++)oK(w[h],y)}var av=B(null),Nk=B(0);function aK(h,y){h=lf,Y(Nk,h),Y(av,y),lf=h|y.baseLanes}function P3(){Y(Nk,lf),Y(av,av.current)}function I3(){lf=Nk.current,G(av),G(Nk)}var Pp=0,$n=null,Fr=null,Vi=null,Lk=!1,lv=!1,lm=!1,jk=0,FS=0,cv=null,JOe=0;function Ii(){throw Error(r(321))}function $3(h,y){if(y===null)return!1;for(var w=0;w<y.length&&w<h.length;w++)if(!$a(h[w],y[w]))return!1;return!0}function F3(h,y,w,R,N,H){return Pp=H,$n=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,L.H=h===null||h.memoizedState===null?VK:WK,lm=!1,H=w(R,N),lm=!1,lv&&(H=cK(y,w,R,N)),lK(h),H}function lK(h){L.H=Wk;var y=Fr!==null&&Fr.next!==null;if(Pp=0,Vi=Fr=$n=null,Lk=!1,FS=0,cv=null,y)throw Error(r(300));h===null||co||(h=h.dependencies,h!==null&&Dk(h)&&(co=!0))}function cK(h,y,w,R){$n=h;var N=0;do{if(lv&&(cv=null),FS=0,lv=!1,25<=N)throw Error(r(301));if(N+=1,Vi=Fr=null,h.updateQueue!=null){var H=h.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}L.H=sDe,H=y(w,R)}while(lv);return H}function eDe(){var h=L.H,y=h.useState()[0];return y=typeof y.then=="function"?NS(y):y,h=h.useState()[0],(Fr!==null?Fr.memoizedState:null)!==h&&($n.flags|=1024),y}function N3(){var h=jk!==0;return jk=0,h}function L3(h,y,w){y.updateQueue=h.updateQueue,y.flags&=-2053,h.lanes&=~w}function j3(h){if(Lk){for(h=h.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}Lk=!1}Pp=0,Vi=Fr=$n=null,lv=!1,FS=jk=0,cv=null}function ra(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vi===null?$n.memoizedState=Vi=h:Vi=Vi.next=h,Vi}function Wi(){if(Fr===null){var h=$n.alternate;h=h!==null?h.memoizedState:null}else h=Fr.next;var y=Vi===null?$n.memoizedState:Vi.next;if(y!==null)Vi=y,Fr=h;else{if(h===null)throw $n.alternate===null?Error(r(467)):Error(r(310));Fr=h,h={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Vi===null?$n.memoizedState=Vi=h:Vi=Vi.next=h}return Vi}function z3(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function NS(h){var y=FS;return FS+=1,cv===null&&(cv=[]),h=nK(cv,h,y),y=$n,(Vi===null?y.memoizedState:Vi.next)===null&&(y=y.alternate,L.H=y===null||y.memoizedState===null?VK:WK),h}function zk(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return NS(h);if(h.$$typeof===C)return Xo(h)}throw Error(r(438,String(h)))}function B3(h){var y=null,w=$n.updateQueue;if(w!==null&&(y=w.memoCache),y==null){var R=$n.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(y={data:R.data.map(function(N){return N.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),w===null&&(w=z3(),$n.updateQueue=w),w.memoCache=y,w=y.data[y.index],w===void 0)for(w=y.data[y.index]=Array(h),R=0;R<h;R++)w[R]=D;return y.index++,w}function tf(h,y){return typeof y=="function"?y(h):y}function Bk(h){var y=Wi();return U3(y,Fr,h)}function U3(h,y,w){var R=h.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=w;var N=h.baseQueue,H=R.pending;if(H!==null){if(N!==null){var J=N.next;N.next=H.next,H.next=J}y.baseQueue=N=H,R.pending=null}if(H=h.baseState,N===null)h.memoizedState=H;else{y=N.next;var le=J=null,Se=null,Fe=y,Ye=!1;do{var rt=Fe.lane&-536870913;if(rt!==Fe.lane?(tr&rt)===rt:(Pp&rt)===rt){var Le=Fe.revertLane;if(Le===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),rt===ov&&(Ye=!0);else if((Pp&Le)===Le){Fe=Fe.next,Le===ov&&(Ye=!0);continue}else rt={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},Se===null?(le=Se=rt,J=H):Se=Se.next=rt,$n.lanes|=Le,zp|=Le;rt=Fe.action,lm&&w(H,rt),H=Fe.hasEagerState?Fe.eagerState:w(H,rt)}else Le={lane:rt,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},Se===null?(le=Se=Le,J=H):Se=Se.next=Le,$n.lanes|=rt,zp|=rt;Fe=Fe.next}while(Fe!==null&&Fe!==y);if(Se===null?J=H:Se.next=le,!$a(H,h.memoizedState)&&(co=!0,Ye&&(w=sv,w!==null)))throw w;h.memoizedState=H,h.baseState=J,h.baseQueue=Se,R.lastRenderedState=H}return N===null&&(R.lanes=0),[h.memoizedState,R.dispatch]}function H3(h){var y=Wi(),w=y.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=h;var R=w.dispatch,N=w.pending,H=y.memoizedState;if(N!==null){w.pending=null;var J=N=N.next;do H=h(H,J.action),J=J.next;while(J!==N);$a(H,y.memoizedState)||(co=!0),y.memoizedState=H,y.baseQueue===null&&(y.baseState=H),w.lastRenderedState=H}return[H,R]}function uK(h,y,w){var R=$n,N=Wi(),H=vr;if(H){if(w===void 0)throw Error(r(407));w=w()}else w=y();var J=!$a((Fr||N).memoizedState,w);J&&(N.memoizedState=w,co=!0),N=N.queue;var le=pK.bind(null,R,N,h);if(LS(2048,8,le,[h]),N.getSnapshot!==y||J||Vi!==null&&Vi.memoizedState.tag&1){if(R.flags|=2048,uv(9,Uk(),fK.bind(null,R,N,w,y),null),Gr===null)throw Error(r(349));H||(Pp&124)!==0||dK(R,y,w)}return w}function dK(h,y,w){h.flags|=16384,h={getSnapshot:y,value:w},y=$n.updateQueue,y===null?(y=z3(),$n.updateQueue=y,y.stores=[h]):(w=y.stores,w===null?y.stores=[h]:w.push(h))}function fK(h,y,w,R){y.value=w,y.getSnapshot=R,hK(y)&&gK(h)}function pK(h,y,w){return w(function(){hK(y)&&gK(h)})}function hK(h){var y=h.getSnapshot;h=h.value;try{var w=y();return!$a(h,w)}catch{return!0}}function gK(h){var y=tv(h,2);y!==null&&Ba(y,h,2)}function V3(h){var y=ra();if(typeof h=="function"){var w=h;if(h=w(),lm){ke(!0);try{w()}finally{ke(!1)}}}return y.memoizedState=y.baseState=h,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:h},y}function mK(h,y,w,R){return h.baseState=w,U3(h,Fr,typeof R=="function"?R:tf)}function tDe(h,y,w,R,N){if(Vk(h))throw Error(r(485));if(h=y.action,h!==null){var H={payload:N,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){H.listeners.push(J)}};L.T!==null?w(!0):H.isTransition=!1,R(H),w=y.pending,w===null?(H.next=y.pending=H,yK(y,H)):(H.next=w.next,y.pending=w.next=H)}}function yK(h,y){var w=y.action,R=y.payload,N=h.state;if(y.isTransition){var H=L.T,J={};L.T=J;try{var le=w(N,R),Se=L.S;Se!==null&&Se(J,le),vK(h,y,le)}catch(Fe){W3(h,y,Fe)}finally{L.T=H}}else try{H=w(N,R),vK(h,y,H)}catch(Fe){W3(h,y,Fe)}}function vK(h,y,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(R){bK(h,y,R)},function(R){return W3(h,y,R)}):bK(h,y,w)}function bK(h,y,w){y.status="fulfilled",y.value=w,xK(y),h.state=w,y=h.pending,y!==null&&(w=y.next,w===y?h.pending=null:(w=w.next,y.next=w,yK(h,w)))}function W3(h,y,w){var R=h.pending;if(h.pending=null,R!==null){R=R.next;do y.status="rejected",y.reason=w,xK(y),y=y.next;while(y!==R)}h.action=null}function xK(h){h=h.listeners;for(var y=0;y<h.length;y++)(0,h[y])()}function SK(h,y){return y}function wK(h,y){if(vr){var w=Gr.formState;if(w!==null){e:{var R=$n;if(vr){if(vi){t:{for(var N=vi,H=Ou;N.nodeType!==8;){if(!H){N=null;break t}if(N=Ac(N.nextSibling),N===null){N=null;break t}}H=N.data,N=H==="F!"||H==="F"?N:null}if(N){vi=Ac(N.nextSibling),R=N.data==="F!";break e}}im(R)}R=!1}R&&(y=w[0])}}return w=ra(),w.memoizedState=w.baseState=y,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SK,lastRenderedState:y},w.queue=R,w=BK.bind(null,$n,R),R.dispatch=w,R=V3(!1),H=K3.bind(null,$n,!1,R.queue),R=ra(),N={state:y,dispatch:null,action:h,pending:null},R.queue=N,w=tDe.bind(null,$n,N,H,w),N.dispatch=w,R.memoizedState=h,[y,w,!1]}function CK(h){var y=Wi();return _K(y,Fr,h)}function _K(h,y,w){if(y=U3(h,y,SK)[0],h=Bk(tf)[0],typeof y=="object"&&y!==null&&typeof y.then=="function")try{var R=NS(y)}catch(J){throw J===OS?$k:J}else R=y;y=Wi();var N=y.queue,H=N.dispatch;return w!==y.memoizedState&&($n.flags|=2048,uv(9,Uk(),nDe.bind(null,N,w),null)),[R,H,h]}function nDe(h,y){h.action=y}function EK(h){var y=Wi(),w=Fr;if(w!==null)return _K(y,w,h);Wi(),y=y.memoizedState,w=Wi();var R=w.queue.dispatch;return w.memoizedState=h,[y,R,!1]}function uv(h,y,w,R){return h={tag:h,create:w,deps:R,inst:y,next:null},y=$n.updateQueue,y===null&&(y=z3(),$n.updateQueue=y),w=y.lastEffect,w===null?y.lastEffect=h.next=h:(R=w.next,w.next=h,h.next=R,y.lastEffect=h),h}function Uk(){return{destroy:void 0,resource:void 0}}function kK(){return Wi().memoizedState}function Hk(h,y,w,R){var N=ra();R=R===void 0?null:R,$n.flags|=h,N.memoizedState=uv(1|y,Uk(),w,R)}function LS(h,y,w,R){var N=Wi();R=R===void 0?null:R;var H=N.memoizedState.inst;Fr!==null&&R!==null&&$3(R,Fr.memoizedState.deps)?N.memoizedState=uv(y,H,w,R):($n.flags|=h,N.memoizedState=uv(1|y,H,w,R))}function RK(h,y){Hk(8390656,8,h,y)}function TK(h,y){LS(2048,8,h,y)}function MK(h,y){return LS(4,2,h,y)}function AK(h,y){return LS(4,4,h,y)}function OK(h,y){if(typeof y=="function"){h=h();var w=y(h);return function(){typeof w=="function"?w():y(null)}}if(y!=null)return h=h(),y.current=h,function(){y.current=null}}function DK(h,y,w){w=w!=null?w.concat([h]):null,LS(4,4,OK.bind(null,y,h),w)}function q3(){}function PK(h,y){var w=Wi();y=y===void 0?null:y;var R=w.memoizedState;return y!==null&&$3(y,R[1])?R[0]:(w.memoizedState=[h,y],h)}function IK(h,y){var w=Wi();y=y===void 0?null:y;var R=w.memoizedState;if(y!==null&&$3(y,R[1]))return R[0];if(R=h(),lm){ke(!0);try{h()}finally{ke(!1)}}return w.memoizedState=[R,y],R}function G3(h,y,w){return w===void 0||(Pp&1073741824)!==0?h.memoizedState=y:(h.memoizedState=w,h=NQ(),$n.lanes|=h,zp|=h,w)}function $K(h,y,w,R){return $a(w,y)?w:av.current!==null?(h=G3(h,w,R),$a(h,y)||(co=!0),h):(Pp&42)===0?(co=!0,h.memoizedState=w):(h=NQ(),$n.lanes|=h,zp|=h,y)}function FK(h,y,w,R,N){var H=V.p;V.p=H!==0&&8>H?H:8;var J=L.T,le={};L.T=le,K3(h,!1,y,w);try{var Se=N(),Fe=L.S;if(Fe!==null&&Fe(le,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ye=ZOe(Se,R);jS(h,y,Ye,za(h))}else jS(h,y,R,za(h))}catch(rt){jS(h,y,{then:function(){},status:"rejected",reason:rt},za())}finally{V.p=H,L.T=J}}function rDe(){}function Y3(h,y,w,R){if(h.tag!==5)throw Error(r(476));var N=NK(h).queue;FK(h,N,y,q,w===null?rDe:function(){return LK(h),w(R)})}function NK(h){var y=h.memoizedState;if(y!==null)return y;y={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:q},next:null};var w={};return y.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:w},next:null},h.memoizedState=y,h=h.alternate,h!==null&&(h.memoizedState=y),y}function LK(h){var y=NK(h).next.queue;jS(h,y,{},za())}function X3(){return Xo(rw)}function jK(){return Wi().memoizedState}function zK(){return Wi().memoizedState}function iDe(h){for(var y=h.return;y!==null;){switch(y.tag){case 24:case 3:var w=za();h=Op(w);var R=Dp(y,h,w);R!==null&&(Ba(R,y,w),PS(R,y,w)),y={cache:E3()},h.payload=y;return}y=y.return}}function oDe(h,y,w){var R=za();w={lane:R,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},Vk(h)?UK(y,w):(w=g3(h,y,w,R),w!==null&&(Ba(w,h,R),HK(w,y,R)))}function BK(h,y,w){var R=za();jS(h,y,w,R)}function jS(h,y,w,R){var N={lane:R,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(Vk(h))UK(y,N);else{var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=y.lastRenderedReducer,H!==null))try{var J=y.lastRenderedState,le=H(J,w);if(N.hasEagerState=!0,N.eagerState=le,$a(le,J))return Rk(h,y,N,0),Gr===null&&kk(),!1}catch{}finally{}if(w=g3(h,y,N,R),w!==null)return Ba(w,h,R),HK(w,y,R),!0}return!1}function K3(h,y,w,R){if(R={lane:2,revertLane:TF(),action:R,hasEagerState:!1,eagerState:null,next:null},Vk(h)){if(y)throw Error(r(479))}else y=g3(h,w,R,2),y!==null&&Ba(y,h,2)}function Vk(h){var y=h.alternate;return h===$n||y!==null&&y===$n}function UK(h,y){lv=Lk=!0;var w=h.pending;w===null?y.next=y:(y.next=w.next,w.next=y),h.pending=y}function HK(h,y,w){if((w&4194048)!==0){var R=y.lanes;R&=h.pendingLanes,w|=R,y.lanes=w,ht(h,w)}}var Wk={readContext:Xo,use:zk,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useLayoutEffect:Ii,useInsertionEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useSyncExternalStore:Ii,useId:Ii,useHostTransitionStatus:Ii,useFormState:Ii,useActionState:Ii,useOptimistic:Ii,useMemoCache:Ii,useCacheRefresh:Ii},VK={readContext:Xo,use:zk,useCallback:function(h,y){return ra().memoizedState=[h,y===void 0?null:y],h},useContext:Xo,useEffect:RK,useImperativeHandle:function(h,y,w){w=w!=null?w.concat([h]):null,Hk(4194308,4,OK.bind(null,y,h),w)},useLayoutEffect:function(h,y){return Hk(4194308,4,h,y)},useInsertionEffect:function(h,y){Hk(4,2,h,y)},useMemo:function(h,y){var w=ra();y=y===void 0?null:y;var R=h();if(lm){ke(!0);try{h()}finally{ke(!1)}}return w.memoizedState=[R,y],R},useReducer:function(h,y,w){var R=ra();if(w!==void 0){var N=w(y);if(lm){ke(!0);try{w(y)}finally{ke(!1)}}}else N=y;return R.memoizedState=R.baseState=N,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:N},R.queue=h,h=h.dispatch=oDe.bind(null,$n,h),[R.memoizedState,h]},useRef:function(h){var y=ra();return h={current:h},y.memoizedState=h},useState:function(h){h=V3(h);var y=h.queue,w=BK.bind(null,$n,y);return y.dispatch=w,[h.memoizedState,w]},useDebugValue:q3,useDeferredValue:function(h,y){var w=ra();return G3(w,h,y)},useTransition:function(){var h=V3(!1);return h=FK.bind(null,$n,h.queue,!0,!1),ra().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,y,w){var R=$n,N=ra();if(vr){if(w===void 0)throw Error(r(407));w=w()}else{if(w=y(),Gr===null)throw Error(r(349));(tr&124)!==0||dK(R,y,w)}N.memoizedState=w;var H={value:w,getSnapshot:y};return N.queue=H,RK(pK.bind(null,R,H,h),[h]),R.flags|=2048,uv(9,Uk(),fK.bind(null,R,H,w,y),null),w},useId:function(){var h=ra(),y=Gr.identifierPrefix;if(vr){var w=Zd,R=Qd;w=(R&~(1<<32-Ie(R)-1)).toString(32)+w,y=""+y+"R"+w,w=jk++,0<w&&(y+="H"+w.toString(32)),y+=""}else w=JOe++,y=""+y+"r"+w.toString(32)+"";return h.memoizedState=y},useHostTransitionStatus:X3,useFormState:wK,useActionState:wK,useOptimistic:function(h){var y=ra();y.memoizedState=y.baseState=h;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=w,y=K3.bind(null,$n,!0,w),w.dispatch=y,[h,y]},useMemoCache:B3,useCacheRefresh:function(){return ra().memoizedState=iDe.bind(null,$n)}},WK={readContext:Xo,use:zk,useCallback:PK,useContext:Xo,useEffect:TK,useImperativeHandle:DK,useInsertionEffect:MK,useLayoutEffect:AK,useMemo:IK,useReducer:Bk,useRef:kK,useState:function(){return Bk(tf)},useDebugValue:q3,useDeferredValue:function(h,y){var w=Wi();return $K(w,Fr.memoizedState,h,y)},useTransition:function(){var h=Bk(tf)[0],y=Wi().memoizedState;return[typeof h=="boolean"?h:NS(h),y]},useSyncExternalStore:uK,useId:jK,useHostTransitionStatus:X3,useFormState:CK,useActionState:CK,useOptimistic:function(h,y){var w=Wi();return mK(w,Fr,h,y)},useMemoCache:B3,useCacheRefresh:zK},sDe={readContext:Xo,use:zk,useCallback:PK,useContext:Xo,useEffect:TK,useImperativeHandle:DK,useInsertionEffect:MK,useLayoutEffect:AK,useMemo:IK,useReducer:H3,useRef:kK,useState:function(){return H3(tf)},useDebugValue:q3,useDeferredValue:function(h,y){var w=Wi();return Fr===null?G3(w,h,y):$K(w,Fr.memoizedState,h,y)},useTransition:function(){var h=H3(tf)[0],y=Wi().memoizedState;return[typeof h=="boolean"?h:NS(h),y]},useSyncExternalStore:uK,useId:jK,useHostTransitionStatus:X3,useFormState:EK,useActionState:EK,useOptimistic:function(h,y){var w=Wi();return Fr!==null?mK(w,Fr,h,y):(w.baseState=h,[h,w.queue.dispatch])},useMemoCache:B3,useCacheRefresh:zK},dv=null,zS=0;function qk(h){var y=zS;return zS+=1,dv===null&&(dv=[]),nK(dv,h,y)}function BS(h,y){y=y.props.ref,h.ref=y!==void 0?y:null}function Gk(h,y){throw y.$$typeof===d?Error(r(525)):(h=Object.prototype.toString.call(y),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":h)))}function qK(h){var y=h._init;return y(h._payload)}function GK(h){function y(Ae,Ee){if(h){var Pe=Ae.deletions;Pe===null?(Ae.deletions=[Ee],Ae.flags|=16):Pe.push(Ee)}}function w(Ae,Ee){if(!h)return null;for(;Ee!==null;)y(Ae,Ee),Ee=Ee.sibling;return null}function R(Ae){for(var Ee=new Map;Ae!==null;)Ae.key!==null?Ee.set(Ae.key,Ae):Ee.set(Ae.index,Ae),Ae=Ae.sibling;return Ee}function N(Ae,Ee){return Ae=Kd(Ae,Ee),Ae.index=0,Ae.sibling=null,Ae}function H(Ae,Ee,Pe){return Ae.index=Pe,h?(Pe=Ae.alternate,Pe!==null?(Pe=Pe.index,Pe<Ee?(Ae.flags|=67108866,Ee):Pe):(Ae.flags|=67108866,Ee)):(Ae.flags|=1048576,Ee)}function J(Ae){return h&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function le(Ae,Ee,Pe,Ze){return Ee===null||Ee.tag!==6?(Ee=y3(Pe,Ae.mode,Ze),Ee.return=Ae,Ee):(Ee=N(Ee,Pe),Ee.return=Ae,Ee)}function Se(Ae,Ee,Pe,Ze){var Lt=Pe.type;return Lt===g?Ye(Ae,Ee,Pe.props.children,Ze,Pe.key):Ee!==null&&(Ee.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===A&&qK(Lt)===Ee.type)?(Ee=N(Ee,Pe.props),BS(Ee,Pe),Ee.return=Ae,Ee):(Ee=Mk(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ze),BS(Ee,Pe),Ee.return=Ae,Ee)}function Fe(Ae,Ee,Pe,Ze){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Pe.containerInfo||Ee.stateNode.implementation!==Pe.implementation?(Ee=v3(Pe,Ae.mode,Ze),Ee.return=Ae,Ee):(Ee=N(Ee,Pe.children||[]),Ee.return=Ae,Ee)}function Ye(Ae,Ee,Pe,Ze,Lt){return Ee===null||Ee.tag!==7?(Ee=em(Pe,Ae.mode,Ze,Lt),Ee.return=Ae,Ee):(Ee=N(Ee,Pe),Ee.return=Ae,Ee)}function rt(Ae,Ee,Pe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=y3(""+Ee,Ae.mode,Pe),Ee.return=Ae,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case f:return Pe=Mk(Ee.type,Ee.key,Ee.props,null,Ae.mode,Pe),BS(Pe,Ee),Pe.return=Ae,Pe;case p:return Ee=v3(Ee,Ae.mode,Pe),Ee.return=Ae,Ee;case A:var Ze=Ee._init;return Ee=Ze(Ee._payload),rt(Ae,Ee,Pe)}if($(Ee)||I(Ee))return Ee=em(Ee,Ae.mode,Pe,null),Ee.return=Ae,Ee;if(typeof Ee.then=="function")return rt(Ae,qk(Ee),Pe);if(Ee.$$typeof===C)return rt(Ae,Pk(Ae,Ee),Pe);Gk(Ae,Ee)}return null}function Le(Ae,Ee,Pe,Ze){var Lt=Ee!==null?Ee.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Lt!==null?null:le(Ae,Ee,""+Pe,Ze);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case f:return Pe.key===Lt?Se(Ae,Ee,Pe,Ze):null;case p:return Pe.key===Lt?Fe(Ae,Ee,Pe,Ze):null;case A:return Lt=Pe._init,Pe=Lt(Pe._payload),Le(Ae,Ee,Pe,Ze)}if($(Pe)||I(Pe))return Lt!==null?null:Ye(Ae,Ee,Pe,Ze,null);if(typeof Pe.then=="function")return Le(Ae,Ee,qk(Pe),Ze);if(Pe.$$typeof===C)return Le(Ae,Ee,Pk(Ae,Pe),Ze);Gk(Ae,Pe)}return null}function je(Ae,Ee,Pe,Ze,Lt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ae=Ae.get(Pe)||null,le(Ee,Ae,""+Ze,Lt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case f:return Ae=Ae.get(Ze.key===null?Pe:Ze.key)||null,Se(Ee,Ae,Ze,Lt);case p:return Ae=Ae.get(Ze.key===null?Pe:Ze.key)||null,Fe(Ee,Ae,Ze,Lt);case A:var jn=Ze._init;return Ze=jn(Ze._payload),je(Ae,Ee,Pe,Ze,Lt)}if($(Ze)||I(Ze))return Ae=Ae.get(Pe)||null,Ye(Ee,Ae,Ze,Lt,null);if(typeof Ze.then=="function")return je(Ae,Ee,Pe,qk(Ze),Lt);if(Ze.$$typeof===C)return je(Ae,Ee,Pe,Pk(Ee,Ze),Lt);Gk(Ee,Ze)}return null}function fn(Ae,Ee,Pe,Ze){for(var Lt=null,jn=null,qt=Ee,dn=Ee=0,fo=null;qt!==null&&dn<Pe.length;dn++){qt.index>dn?(fo=qt,qt=null):fo=qt.sibling;var fr=Le(Ae,qt,Pe[dn],Ze);if(fr===null){qt===null&&(qt=fo);break}h&&qt&&fr.alternate===null&&y(Ae,qt),Ee=H(fr,Ee,dn),jn===null?Lt=fr:jn.sibling=fr,jn=fr,qt=fo}if(dn===Pe.length)return w(Ae,qt),vr&&nm(Ae,dn),Lt;if(qt===null){for(;dn<Pe.length;dn++)qt=rt(Ae,Pe[dn],Ze),qt!==null&&(Ee=H(qt,Ee,dn),jn===null?Lt=qt:jn.sibling=qt,jn=qt);return vr&&nm(Ae,dn),Lt}for(qt=R(qt);dn<Pe.length;dn++)fo=je(qt,Ae,dn,Pe[dn],Ze),fo!==null&&(h&&fo.alternate!==null&&qt.delete(fo.key===null?dn:fo.key),Ee=H(fo,Ee,dn),jn===null?Lt=fo:jn.sibling=fo,jn=fo);return h&&qt.forEach(function(Xp){return y(Ae,Xp)}),vr&&nm(Ae,dn),Lt}function cn(Ae,Ee,Pe,Ze){if(Pe==null)throw Error(r(151));for(var Lt=null,jn=null,qt=Ee,dn=Ee=0,fo=null,fr=Pe.next();qt!==null&&!fr.done;dn++,fr=Pe.next()){qt.index>dn?(fo=qt,qt=null):fo=qt.sibling;var Xp=Le(Ae,qt,fr.value,Ze);if(Xp===null){qt===null&&(qt=fo);break}h&&qt&&Xp.alternate===null&&y(Ae,qt),Ee=H(Xp,Ee,dn),jn===null?Lt=Xp:jn.sibling=Xp,jn=Xp,qt=fo}if(fr.done)return w(Ae,qt),vr&&nm(Ae,dn),Lt;if(qt===null){for(;!fr.done;dn++,fr=Pe.next())fr=rt(Ae,fr.value,Ze),fr!==null&&(Ee=H(fr,Ee,dn),jn===null?Lt=fr:jn.sibling=fr,jn=fr);return vr&&nm(Ae,dn),Lt}for(qt=R(qt);!fr.done;dn++,fr=Pe.next())fr=je(qt,Ae,dn,fr.value,Ze),fr!==null&&(h&&fr.alternate!==null&&qt.delete(fr.key===null?dn:fr.key),Ee=H(fr,Ee,dn),jn===null?Lt=fr:jn.sibling=fr,jn=fr);return h&&qt.forEach(function(aPe){return y(Ae,aPe)}),vr&&nm(Ae,dn),Lt}function Lr(Ae,Ee,Pe,Ze){if(typeof Pe=="object"&&Pe!==null&&Pe.type===g&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case f:e:{for(var Lt=Pe.key;Ee!==null;){if(Ee.key===Lt){if(Lt=Pe.type,Lt===g){if(Ee.tag===7){w(Ae,Ee.sibling),Ze=N(Ee,Pe.props.children),Ze.return=Ae,Ae=Ze;break e}}else if(Ee.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===A&&qK(Lt)===Ee.type){w(Ae,Ee.sibling),Ze=N(Ee,Pe.props),BS(Ze,Pe),Ze.return=Ae,Ae=Ze;break e}w(Ae,Ee);break}else y(Ae,Ee);Ee=Ee.sibling}Pe.type===g?(Ze=em(Pe.props.children,Ae.mode,Ze,Pe.key),Ze.return=Ae,Ae=Ze):(Ze=Mk(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ze),BS(Ze,Pe),Ze.return=Ae,Ae=Ze)}return J(Ae);case p:e:{for(Lt=Pe.key;Ee!==null;){if(Ee.key===Lt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Pe.containerInfo&&Ee.stateNode.implementation===Pe.implementation){w(Ae,Ee.sibling),Ze=N(Ee,Pe.children||[]),Ze.return=Ae,Ae=Ze;break e}else{w(Ae,Ee);break}else y(Ae,Ee);Ee=Ee.sibling}Ze=v3(Pe,Ae.mode,Ze),Ze.return=Ae,Ae=Ze}return J(Ae);case A:return Lt=Pe._init,Pe=Lt(Pe._payload),Lr(Ae,Ee,Pe,Ze)}if($(Pe))return fn(Ae,Ee,Pe,Ze);if(I(Pe)){if(Lt=I(Pe),typeof Lt!="function")throw Error(r(150));return Pe=Lt.call(Pe),cn(Ae,Ee,Pe,Ze)}if(typeof Pe.then=="function")return Lr(Ae,Ee,qk(Pe),Ze);if(Pe.$$typeof===C)return Lr(Ae,Ee,Pk(Ae,Pe),Ze);Gk(Ae,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,Ee!==null&&Ee.tag===6?(w(Ae,Ee.sibling),Ze=N(Ee,Pe),Ze.return=Ae,Ae=Ze):(w(Ae,Ee),Ze=y3(Pe,Ae.mode,Ze),Ze.return=Ae,Ae=Ze),J(Ae)):w(Ae,Ee)}return function(Ae,Ee,Pe,Ze){try{zS=0;var Lt=Lr(Ae,Ee,Pe,Ze);return dv=null,Lt}catch(qt){if(qt===OS||qt===$k)throw qt;var jn=Fa(29,qt,null,Ae.mode);return jn.lanes=Ze,jn.return=Ae,jn}finally{}}}var fv=GK(!0),YK=GK(!1),Ol=B(null),Du=null;function Ip(h){var y=h.alternate;Y(Ji,Ji.current&1),Y(Ol,h),Du===null&&(y===null||av.current!==null||y.memoizedState!==null)&&(Du=h)}function XK(h){if(h.tag===22){if(Y(Ji,Ji.current),Y(Ol,h),Du===null){var y=h.alternate;y!==null&&y.memoizedState!==null&&(Du=h)}}else $p()}function $p(){Y(Ji,Ji.current),Y(Ol,Ol.current)}function nf(h){G(Ol),Du===h&&(Du=null),G(Ji)}var Ji=B(0);function Yk(h){for(var y=h;y!==null;){if(y.tag===13){var w=y.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||zF(w)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}function Q3(h,y,w,R){y=h.memoizedState,w=w(R,y),w=w==null?y:u({},y,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var Z3={enqueueSetState:function(h,y,w){h=h._reactInternals;var R=za(),N=Op(R);N.payload=y,w!=null&&(N.callback=w),y=Dp(h,N,R),y!==null&&(Ba(y,h,R),PS(y,h,R))},enqueueReplaceState:function(h,y,w){h=h._reactInternals;var R=za(),N=Op(R);N.tag=1,N.payload=y,w!=null&&(N.callback=w),y=Dp(h,N,R),y!==null&&(Ba(y,h,R),PS(y,h,R))},enqueueForceUpdate:function(h,y){h=h._reactInternals;var w=za(),R=Op(w);R.tag=2,y!=null&&(R.callback=y),y=Dp(h,R,w),y!==null&&(Ba(y,h,w),PS(y,h,w))}};function KK(h,y,w,R,N,H,J){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(R,H,J):y.prototype&&y.prototype.isPureReactComponent?!CS(w,R)||!CS(N,H):!0}function QK(h,y,w,R){h=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(w,R),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(w,R),y.state!==h&&Z3.enqueueReplaceState(y,y.state,null)}function cm(h,y){var w=y;if("ref"in y){w={};for(var R in y)R!=="ref"&&(w[R]=y[R])}if(h=h.defaultProps){w===y&&(w=u({},w));for(var N in h)w[N]===void 0&&(w[N]=h[N])}return w}var Xk=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function ZK(h){Xk(h)}function JK(h){console.error(h)}function eQ(h){Xk(h)}function Kk(h,y){try{var w=h.onUncaughtError;w(y.value,{componentStack:y.stack})}catch(R){setTimeout(function(){throw R})}}function tQ(h,y,w){try{var R=h.onCaughtError;R(w.value,{componentStack:w.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function J3(h,y,w){return w=Op(w),w.tag=3,w.payload={element:null},w.callback=function(){Kk(h,y)},w}function nQ(h){return h=Op(h),h.tag=3,h}function rQ(h,y,w,R){var N=w.type.getDerivedStateFromError;if(typeof N=="function"){var H=R.value;h.payload=function(){return N(H)},h.callback=function(){tQ(y,w,R)}}var J=w.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(h.callback=function(){tQ(y,w,R),typeof N!="function"&&(Bp===null?Bp=new Set([this]):Bp.add(this));var le=R.stack;this.componentDidCatch(R.value,{componentStack:le!==null?le:""})})}function aDe(h,y,w,R,N){if(w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(y=w.alternate,y!==null&&TS(y,w,N,!0),w=Ol.current,w!==null){switch(w.tag){case 13:return Du===null?CF():w.alternate===null&&bi===0&&(bi=3),w.flags&=-257,w.flags|=65536,w.lanes=N,R===T3?w.flags|=16384:(y=w.updateQueue,y===null?w.updateQueue=new Set([R]):y.add(R),EF(h,R,N)),!1;case 22:return w.flags|=65536,R===T3?w.flags|=16384:(y=w.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([R])},w.updateQueue=y):(w=y.retryQueue,w===null?y.retryQueue=new Set([R]):w.add(R)),EF(h,R,N)),!1}throw Error(r(435,w.tag))}return EF(h,R,N),CF(),!1}if(vr)return y=Ol.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=N,R!==S3&&(h=Error(r(422),{cause:R}),RS(Rl(h,w)))):(R!==S3&&(y=Error(r(423),{cause:R}),RS(Rl(y,w))),h=h.current.alternate,h.flags|=65536,N&=-N,h.lanes|=N,R=Rl(R,w),N=J3(h.stateNode,R,N),O3(h,N),bi!==4&&(bi=2)),!1;var H=Error(r(520),{cause:R});if(H=Rl(H,w),YS===null?YS=[H]:YS.push(H),bi!==4&&(bi=2),y===null)return!0;R=Rl(R,w),w=y;do{switch(w.tag){case 3:return w.flags|=65536,h=N&-N,w.lanes|=h,h=J3(w.stateNode,R,h),O3(w,h),!1;case 1:if(y=w.type,H=w.stateNode,(w.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Bp===null||!Bp.has(H))))return w.flags|=65536,N&=-N,w.lanes|=N,N=nQ(N),rQ(N,h,w,R),O3(w,N),!1}w=w.return}while(w!==null);return!1}var iQ=Error(r(461)),co=!1;function Ao(h,y,w,R){y.child=h===null?YK(y,null,w,R):fv(y,h.child,w,R)}function oQ(h,y,w,R,N){w=w.render;var H=y.ref;if("ref"in R){var J={};for(var le in R)le!=="ref"&&(J[le]=R[le])}else J=R;return sm(y),R=F3(h,y,w,J,H,N),le=N3(),h!==null&&!co?(L3(h,y,N),rf(h,y,N)):(vr&&le&&b3(y),y.flags|=1,Ao(h,y,R,N),y.child)}function sQ(h,y,w,R,N){if(h===null){var H=w.type;return typeof H=="function"&&!m3(H)&&H.defaultProps===void 0&&w.compare===null?(y.tag=15,y.type=H,aQ(h,y,H,R,N)):(h=Mk(w.type,null,R,y,y.mode,N),h.ref=y.ref,h.return=y,y.child=h)}if(H=h.child,!aF(h,N)){var J=H.memoizedProps;if(w=w.compare,w=w!==null?w:CS,w(J,R)&&h.ref===y.ref)return rf(h,y,N)}return y.flags|=1,h=Kd(H,R),h.ref=y.ref,h.return=y,y.child=h}function aQ(h,y,w,R,N){if(h!==null){var H=h.memoizedProps;if(CS(H,R)&&h.ref===y.ref)if(co=!1,y.pendingProps=R=H,aF(h,N))(h.flags&131072)!==0&&(co=!0);else return y.lanes=h.lanes,rf(h,y,N)}return eF(h,y,w,R,N)}function lQ(h,y,w){var R=y.pendingProps,N=R.children,H=h!==null?h.memoizedState:null;if(R.mode==="hidden"){if((y.flags&128)!==0){if(R=H!==null?H.baseLanes|w:w,h!==null){for(N=y.child=h.child,H=0;N!==null;)H=H|N.lanes|N.childLanes,N=N.sibling;y.childLanes=H&~R}else y.childLanes=0,y.child=null;return cQ(h,y,R,w)}if((w&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},h!==null&&Ik(y,H!==null?H.cachePool:null),H!==null?aK(y,H):P3(),XK(y);else return y.lanes=y.childLanes=536870912,cQ(h,y,H!==null?H.baseLanes|w:w,w)}else H!==null?(Ik(y,H.cachePool),aK(y,H),$p(),y.memoizedState=null):(h!==null&&Ik(y,null),P3(),$p());return Ao(h,y,N,w),y.child}function cQ(h,y,w,R){var N=R3();return N=N===null?null:{parent:Zi._currentValue,pool:N},y.memoizedState={baseLanes:w,cachePool:N},h!==null&&Ik(y,null),P3(),XK(y),h!==null&&TS(h,y,R,!0),null}function Qk(h,y){var w=y.ref;if(w===null)h!==null&&h.ref!==null&&(y.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(r(284));(h===null||h.ref!==w)&&(y.flags|=4194816)}}function eF(h,y,w,R,N){return sm(y),w=F3(h,y,w,R,void 0,N),R=N3(),h!==null&&!co?(L3(h,y,N),rf(h,y,N)):(vr&&R&&b3(y),y.flags|=1,Ao(h,y,w,N),y.child)}function uQ(h,y,w,R,N,H){return sm(y),y.updateQueue=null,w=cK(y,R,w,N),lK(h),R=N3(),h!==null&&!co?(L3(h,y,H),rf(h,y,H)):(vr&&R&&b3(y),y.flags|=1,Ao(h,y,w,H),y.child)}function dQ(h,y,w,R,N){if(sm(y),y.stateNode===null){var H=nv,J=w.contextType;typeof J=="object"&&J!==null&&(H=Xo(J)),H=new w(R,H),y.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Z3,y.stateNode=H,H._reactInternals=y,H=y.stateNode,H.props=R,H.state=y.memoizedState,H.refs={},M3(y),J=w.contextType,H.context=typeof J=="object"&&J!==null?Xo(J):nv,H.state=y.memoizedState,J=w.getDerivedStateFromProps,typeof J=="function"&&(Q3(y,w,J,R),H.state=y.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(J=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),J!==H.state&&Z3.enqueueReplaceState(H,H.state,null),$S(y,R,H,N),IS(),H.state=y.memoizedState),typeof H.componentDidMount=="function"&&(y.flags|=4194308),R=!0}else if(h===null){H=y.stateNode;var le=y.memoizedProps,Se=cm(w,le);H.props=Se;var Fe=H.context,Ye=w.contextType;J=nv,typeof Ye=="object"&&Ye!==null&&(J=Xo(Ye));var rt=w.getDerivedStateFromProps;Ye=typeof rt=="function"||typeof H.getSnapshotBeforeUpdate=="function",le=y.pendingProps!==le,Ye||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(le||Fe!==J)&&QK(y,H,R,J),Ap=!1;var Le=y.memoizedState;H.state=Le,$S(y,R,H,N),IS(),Fe=y.memoizedState,le||Le!==Fe||Ap?(typeof rt=="function"&&(Q3(y,w,rt,R),Fe=y.memoizedState),(Se=Ap||KK(y,w,Se,R,Le,Fe,J))?(Ye||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(y.flags|=4194308)):(typeof H.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=R,y.memoizedState=Fe),H.props=R,H.state=Fe,H.context=J,R=Se):(typeof H.componentDidMount=="function"&&(y.flags|=4194308),R=!1)}else{H=y.stateNode,A3(h,y),J=y.memoizedProps,Ye=cm(w,J),H.props=Ye,rt=y.pendingProps,Le=H.context,Fe=w.contextType,Se=nv,typeof Fe=="object"&&Fe!==null&&(Se=Xo(Fe)),le=w.getDerivedStateFromProps,(Fe=typeof le=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(J!==rt||Le!==Se)&&QK(y,H,R,Se),Ap=!1,Le=y.memoizedState,H.state=Le,$S(y,R,H,N),IS();var je=y.memoizedState;J!==rt||Le!==je||Ap||h!==null&&h.dependencies!==null&&Dk(h.dependencies)?(typeof le=="function"&&(Q3(y,w,le,R),je=y.memoizedState),(Ye=Ap||KK(y,w,Ye,R,Le,je,Se)||h!==null&&h.dependencies!==null&&Dk(h.dependencies))?(Fe||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(R,je,Se),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(R,je,Se)),typeof H.componentDidUpdate=="function"&&(y.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof H.componentDidUpdate!="function"||J===h.memoizedProps&&Le===h.memoizedState||(y.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&Le===h.memoizedState||(y.flags|=1024),y.memoizedProps=R,y.memoizedState=je),H.props=R,H.state=je,H.context=Se,R=Ye):(typeof H.componentDidUpdate!="function"||J===h.memoizedProps&&Le===h.memoizedState||(y.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&Le===h.memoizedState||(y.flags|=1024),R=!1)}return H=R,Qk(h,y),R=(y.flags&128)!==0,H||R?(H=y.stateNode,w=R&&typeof w.getDerivedStateFromError!="function"?null:H.render(),y.flags|=1,h!==null&&R?(y.child=fv(y,h.child,null,N),y.child=fv(y,null,w,N)):Ao(h,y,w,N),y.memoizedState=H.state,h=y.child):h=rf(h,y,N),h}function fQ(h,y,w,R){return kS(),y.flags|=256,Ao(h,y,w,R),y.child}var tF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nF(h){return{baseLanes:h,cachePool:JX()}}function rF(h,y,w){return h=h!==null?h.childLanes&~w:0,y&&(h|=Dl),h}function pQ(h,y,w){var R=y.pendingProps,N=!1,H=(y.flags&128)!==0,J;if((J=H)||(J=h!==null&&h.memoizedState===null?!1:(Ji.current&2)!==0),J&&(N=!0,y.flags&=-129),J=(y.flags&32)!==0,y.flags&=-33,h===null){if(vr){if(N?Ip(y):$p(),vr){var le=vi,Se;if(Se=le){e:{for(Se=le,le=Ou;Se.nodeType!==8;){if(!le){le=null;break e}if(Se=Ac(Se.nextSibling),Se===null){le=null;break e}}le=Se}le!==null?(y.memoizedState={dehydrated:le,treeContext:tm!==null?{id:Qd,overflow:Zd}:null,retryLane:536870912,hydrationErrors:null},Se=Fa(18,null,null,0),Se.stateNode=le,Se.return=y,y.child=Se,vs=y,vi=null,Se=!0):Se=!1}Se||im(y)}if(le=y.memoizedState,le!==null&&(le=le.dehydrated,le!==null))return zF(le)?y.lanes=32:y.lanes=536870912,null;nf(y)}return le=R.children,R=R.fallback,N?($p(),N=y.mode,le=Zk({mode:"hidden",children:le},N),R=em(R,N,w,null),le.return=y,R.return=y,le.sibling=R,y.child=le,N=y.child,N.memoizedState=nF(w),N.childLanes=rF(h,J,w),y.memoizedState=tF,R):(Ip(y),iF(y,le))}if(Se=h.memoizedState,Se!==null&&(le=Se.dehydrated,le!==null)){if(H)y.flags&256?(Ip(y),y.flags&=-257,y=oF(h,y,w)):y.memoizedState!==null?($p(),y.child=h.child,y.flags|=128,y=null):($p(),N=R.fallback,le=y.mode,R=Zk({mode:"visible",children:R.children},le),N=em(N,le,w,null),N.flags|=2,R.return=y,N.return=y,R.sibling=N,y.child=R,fv(y,h.child,null,w),R=y.child,R.memoizedState=nF(w),R.childLanes=rF(h,J,w),y.memoizedState=tF,y=N);else if(Ip(y),zF(le)){if(J=le.nextSibling&&le.nextSibling.dataset,J)var Fe=J.dgst;J=Fe,R=Error(r(419)),R.stack="",R.digest=J,RS({value:R,source:null,stack:null}),y=oF(h,y,w)}else if(co||TS(h,y,w,!1),J=(w&h.childLanes)!==0,co||J){if(J=Gr,J!==null&&(R=w&-w,R=(R&42)!==0?1:jt(R),R=(R&(J.suspendedLanes|w))!==0?0:R,R!==0&&R!==Se.retryLane))throw Se.retryLane=R,tv(h,R),Ba(J,h,R),iQ;le.data==="$?"||CF(),y=oF(h,y,w)}else le.data==="$?"?(y.flags|=192,y.child=h.child,y=null):(h=Se.treeContext,vi=Ac(le.nextSibling),vs=y,vr=!0,rm=null,Ou=!1,h!==null&&(Ml[Al++]=Qd,Ml[Al++]=Zd,Ml[Al++]=tm,Qd=h.id,Zd=h.overflow,tm=y),y=iF(y,R.children),y.flags|=4096);return y}return N?($p(),N=R.fallback,le=y.mode,Se=h.child,Fe=Se.sibling,R=Kd(Se,{mode:"hidden",children:R.children}),R.subtreeFlags=Se.subtreeFlags&65011712,Fe!==null?N=Kd(Fe,N):(N=em(N,le,w,null),N.flags|=2),N.return=y,R.return=y,R.sibling=N,y.child=R,R=N,N=y.child,le=h.child.memoizedState,le===null?le=nF(w):(Se=le.cachePool,Se!==null?(Fe=Zi._currentValue,Se=Se.parent!==Fe?{parent:Fe,pool:Fe}:Se):Se=JX(),le={baseLanes:le.baseLanes|w,cachePool:Se}),N.memoizedState=le,N.childLanes=rF(h,J,w),y.memoizedState=tF,R):(Ip(y),w=h.child,h=w.sibling,w=Kd(w,{mode:"visible",children:R.children}),w.return=y,w.sibling=null,h!==null&&(J=y.deletions,J===null?(y.deletions=[h],y.flags|=16):J.push(h)),y.child=w,y.memoizedState=null,w)}function iF(h,y){return y=Zk({mode:"visible",children:y},h.mode),y.return=h,h.child=y}function Zk(h,y){return h=Fa(22,h,null,y),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function oF(h,y,w){return fv(y,h.child,null,w),h=iF(y,y.pendingProps.children),h.flags|=2,y.memoizedState=null,h}function hQ(h,y,w){h.lanes|=y;var R=h.alternate;R!==null&&(R.lanes|=y),C3(h.return,y,w)}function sF(h,y,w,R,N){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:R,tail:w,tailMode:N}:(H.isBackwards=y,H.rendering=null,H.renderingStartTime=0,H.last=R,H.tail=w,H.tailMode=N)}function gQ(h,y,w){var R=y.pendingProps,N=R.revealOrder,H=R.tail;if(Ao(h,y,R.children,w),R=Ji.current,(R&2)!==0)R=R&1|2,y.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=y.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&hQ(h,w,y);else if(h.tag===19)hQ(h,w,y);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===y)break e;for(;h.sibling===null;){if(h.return===null||h.return===y)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}R&=1}switch(Y(Ji,R),N){case"forwards":for(w=y.child,N=null;w!==null;)h=w.alternate,h!==null&&Yk(h)===null&&(N=w),w=w.sibling;w=N,w===null?(N=y.child,y.child=null):(N=w.sibling,w.sibling=null),sF(y,!1,N,w,H);break;case"backwards":for(w=null,N=y.child,y.child=null;N!==null;){if(h=N.alternate,h!==null&&Yk(h)===null){y.child=N;break}h=N.sibling,N.sibling=w,w=N,N=h}sF(y,!0,w,null,H);break;case"together":sF(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function rf(h,y,w){if(h!==null&&(y.dependencies=h.dependencies),zp|=y.lanes,(w&y.childLanes)===0)if(h!==null){if(TS(h,y,w,!1),(w&y.childLanes)===0)return null}else return null;if(h!==null&&y.child!==h.child)throw Error(r(153));if(y.child!==null){for(h=y.child,w=Kd(h,h.pendingProps),y.child=w,w.return=y;h.sibling!==null;)h=h.sibling,w=w.sibling=Kd(h,h.pendingProps),w.return=y;w.sibling=null}return y.child}function aF(h,y){return(h.lanes&y)!==0?!0:(h=h.dependencies,!!(h!==null&&Dk(h)))}function lDe(h,y,w){switch(y.tag){case 3:ie(y,y.stateNode.containerInfo),Mp(y,Zi,h.memoizedState.cache),kS();break;case 27:case 5:he(y);break;case 4:ie(y,y.stateNode.containerInfo);break;case 10:Mp(y,y.type,y.memoizedProps.value);break;case 13:var R=y.memoizedState;if(R!==null)return R.dehydrated!==null?(Ip(y),y.flags|=128,null):(w&y.child.childLanes)!==0?pQ(h,y,w):(Ip(y),h=rf(h,y,w),h!==null?h.sibling:null);Ip(y);break;case 19:var N=(h.flags&128)!==0;if(R=(w&y.childLanes)!==0,R||(TS(h,y,w,!1),R=(w&y.childLanes)!==0),N){if(R)return gQ(h,y,w);y.flags|=128}if(N=y.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Y(Ji,Ji.current),R)break;return null;case 22:case 23:return y.lanes=0,lQ(h,y,w);case 24:Mp(y,Zi,h.memoizedState.cache)}return rf(h,y,w)}function mQ(h,y,w){if(h!==null)if(h.memoizedProps!==y.pendingProps)co=!0;else{if(!aF(h,w)&&(y.flags&128)===0)return co=!1,lDe(h,y,w);co=(h.flags&131072)!==0}else co=!1,vr&&(y.flags&1048576)!==0&&qX(y,Ok,y.index);switch(y.lanes=0,y.tag){case 16:e:{h=y.pendingProps;var R=y.elementType,N=R._init;if(R=N(R._payload),y.type=R,typeof R=="function")m3(R)?(h=cm(R,h),y.tag=1,y=dQ(null,y,R,h,w)):(y.tag=0,y=eF(null,y,R,h,w));else{if(R!=null){if(N=R.$$typeof,N===_){y.tag=11,y=oQ(null,y,R,h,w);break e}else if(N===k){y.tag=14,y=sQ(null,y,R,h,w);break e}}throw y=M(R)||R,Error(r(306,y,""))}}return y;case 0:return eF(h,y,y.type,y.pendingProps,w);case 1:return R=y.type,N=cm(R,y.pendingProps),dQ(h,y,R,N,w);case 3:e:{if(ie(y,y.stateNode.containerInfo),h===null)throw Error(r(387));R=y.pendingProps;var H=y.memoizedState;N=H.element,A3(h,y),$S(y,R,null,w);var J=y.memoizedState;if(R=J.cache,Mp(y,Zi,R),R!==H.cache&&_3(y,[Zi],w,!0),IS(),R=J.element,H.isDehydrated)if(H={element:R,isDehydrated:!1,cache:J.cache},y.updateQueue.baseState=H,y.memoizedState=H,y.flags&256){y=fQ(h,y,R,w);break e}else if(R!==N){N=Rl(Error(r(424)),y),RS(N),y=fQ(h,y,R,w);break e}else{switch(h=y.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(vi=Ac(h.firstChild),vs=y,vr=!0,rm=null,Ou=!0,w=YK(y,null,R,w),y.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(kS(),R===N){y=rf(h,y,w);break e}Ao(h,y,R,w)}y=y.child}return y;case 26:return Qk(h,y),h===null?(w=xZ(y.type,null,y.pendingProps,null))?y.memoizedState=w:vr||(w=y.type,h=y.pendingProps,R=fR(te.current).createElement(w),R[Bt]=y,R[Kt]=h,Do(R,w,h),yt(R),y.stateNode=R):y.memoizedState=xZ(y.type,h.memoizedProps,y.pendingProps,h.memoizedState),null;case 27:return he(y),h===null&&vr&&(R=y.stateNode=yZ(y.type,y.pendingProps,te.current),vs=y,Ou=!0,N=vi,Vp(y.type)?(BF=N,vi=Ac(R.firstChild)):vi=N),Ao(h,y,y.pendingProps.children,w),Qk(h,y),h===null&&(y.flags|=4194304),y.child;case 5:return h===null&&vr&&((N=R=vi)&&(R=FDe(R,y.type,y.pendingProps,Ou),R!==null?(y.stateNode=R,vs=y,vi=Ac(R.firstChild),Ou=!1,N=!0):N=!1),N||im(y)),he(y),N=y.type,H=y.pendingProps,J=h!==null?h.memoizedProps:null,R=H.children,NF(N,H)?R=null:J!==null&&NF(N,J)&&(y.flags|=32),y.memoizedState!==null&&(N=F3(h,y,eDe,null,null,w),rw._currentValue=N),Qk(h,y),Ao(h,y,R,w),y.child;case 6:return h===null&&vr&&((h=w=vi)&&(w=NDe(w,y.pendingProps,Ou),w!==null?(y.stateNode=w,vs=y,vi=null,h=!0):h=!1),h||im(y)),null;case 13:return pQ(h,y,w);case 4:return ie(y,y.stateNode.containerInfo),R=y.pendingProps,h===null?y.child=fv(y,null,R,w):Ao(h,y,R,w),y.child;case 11:return oQ(h,y,y.type,y.pendingProps,w);case 7:return Ao(h,y,y.pendingProps,w),y.child;case 8:return Ao(h,y,y.pendingProps.children,w),y.child;case 12:return Ao(h,y,y.pendingProps.children,w),y.child;case 10:return R=y.pendingProps,Mp(y,y.type,R.value),Ao(h,y,R.children,w),y.child;case 9:return N=y.type._context,R=y.pendingProps.children,sm(y),N=Xo(N),R=R(N),y.flags|=1,Ao(h,y,R,w),y.child;case 14:return sQ(h,y,y.type,y.pendingProps,w);case 15:return aQ(h,y,y.type,y.pendingProps,w);case 19:return gQ(h,y,w);case 31:return R=y.pendingProps,w=y.mode,R={mode:R.mode,children:R.children},h===null?(w=Zk(R,w),w.ref=y.ref,y.child=w,w.return=y,y=w):(w=Kd(h.child,R),w.ref=y.ref,y.child=w,w.return=y,y=w),y;case 22:return lQ(h,y,w);case 24:return sm(y),R=Xo(Zi),h===null?(N=R3(),N===null&&(N=Gr,H=E3(),N.pooledCache=H,H.refCount++,H!==null&&(N.pooledCacheLanes|=w),N=H),y.memoizedState={parent:R,cache:N},M3(y),Mp(y,Zi,N)):((h.lanes&w)!==0&&(A3(h,y),$S(y,null,null,w),IS()),N=h.memoizedState,H=y.memoizedState,N.parent!==R?(N={parent:R,cache:R},y.memoizedState=N,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=N),Mp(y,Zi,R)):(R=H.cache,Mp(y,Zi,R),R!==N.cache&&_3(y,[Zi],w,!0))),Ao(h,y,y.pendingProps.children,w),y.child;case 29:throw y.pendingProps}throw Error(r(156,y.tag))}function of(h){h.flags|=4}function yQ(h,y){if(y.type!=="stylesheet"||(y.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!EZ(y)){if(y=Ol.current,y!==null&&((tr&4194048)===tr?Du!==null:(tr&62914560)!==tr&&(tr&536870912)===0||y!==Du))throw DS=T3,eK;h.flags|=8192}}function Jk(h,y){y!==null&&(h.flags|=4),h.flags&16384&&(y=h.tag!==22?Wt():536870912,h.lanes|=y,mv|=y)}function US(h,y){if(!vr)switch(h.tailMode){case"hidden":y=h.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var R=null;w!==null;)w.alternate!==null&&(R=w),w=w.sibling;R===null?y||h.tail===null?h.tail=null:h.tail.sibling=null:R.sibling=null}}function fi(h){var y=h.alternate!==null&&h.alternate.child===h.child,w=0,R=0;if(y)for(var N=h.child;N!==null;)w|=N.lanes|N.childLanes,R|=N.subtreeFlags&65011712,R|=N.flags&65011712,N.return=h,N=N.sibling;else for(N=h.child;N!==null;)w|=N.lanes|N.childLanes,R|=N.subtreeFlags,R|=N.flags,N.return=h,N=N.sibling;return h.subtreeFlags|=R,h.childLanes=w,y}function cDe(h,y,w){var R=y.pendingProps;switch(x3(y),y.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(y),null;case 1:return fi(y),null;case 3:return w=y.stateNode,R=null,h!==null&&(R=h.memoizedState.cache),y.memoizedState.cache!==R&&(y.flags|=2048),ef(Zi),re(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(h===null||h.child===null)&&(ES(y)?of(y):h===null||h.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,XX())),fi(y),null;case 26:return w=y.memoizedState,h===null?(of(y),w!==null?(fi(y),yQ(y,w)):(fi(y),y.flags&=-16777217)):w?w!==h.memoizedState?(of(y),fi(y),yQ(y,w)):(fi(y),y.flags&=-16777217):(h.memoizedProps!==R&&of(y),fi(y),y.flags&=-16777217),null;case 27:fe(y),w=te.current;var N=y.type;if(h!==null&&y.stateNode!=null)h.memoizedProps!==R&&of(y);else{if(!R){if(y.stateNode===null)throw Error(r(166));return fi(y),null}h=Q.current,ES(y)?GX(y):(h=yZ(N,R,w),y.stateNode=h,of(y))}return fi(y),null;case 5:if(fe(y),w=y.type,h!==null&&y.stateNode!=null)h.memoizedProps!==R&&of(y);else{if(!R){if(y.stateNode===null)throw Error(r(166));return fi(y),null}if(h=Q.current,ES(y))GX(y);else{switch(N=fR(te.current),h){case 1:h=N.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:h=N.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":h=N.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":h=N.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":h=N.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof R.is=="string"?N.createElement("select",{is:R.is}):N.createElement("select"),R.multiple?h.multiple=!0:R.size&&(h.size=R.size);break;default:h=typeof R.is=="string"?N.createElement(w,{is:R.is}):N.createElement(w)}}h[Bt]=y,h[Kt]=R;e:for(N=y.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===y)break e;for(;N.sibling===null;){if(N.return===null||N.return===y)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}y.stateNode=h;e:switch(Do(h,w,R),w){case"button":case"input":case"select":case"textarea":h=!!R.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&of(y)}}return fi(y),y.flags&=-16777217,null;case 6:if(h&&y.stateNode!=null)h.memoizedProps!==R&&of(y);else{if(typeof R!="string"&&y.stateNode===null)throw Error(r(166));if(h=te.current,ES(y)){if(h=y.stateNode,w=y.memoizedProps,R=null,N=vs,N!==null)switch(N.tag){case 27:case 5:R=N.memoizedProps}h[Bt]=y,h=!!(h.nodeValue===w||R!==null&&R.suppressHydrationWarning===!0||uZ(h.nodeValue,w)),h||im(y)}else h=fR(h).createTextNode(R),h[Bt]=y,y.stateNode=h}return fi(y),null;case 13:if(R=y.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(N=ES(y),R!==null&&R.dehydrated!==null){if(h===null){if(!N)throw Error(r(318));if(N=y.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Bt]=y}else kS(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;fi(y),N=!1}else N=XX(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=N),N=!0;if(!N)return y.flags&256?(nf(y),y):(nf(y),null)}if(nf(y),(y.flags&128)!==0)return y.lanes=w,y;if(w=R!==null,h=h!==null&&h.memoizedState!==null,w){R=y.child,N=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(N=R.alternate.memoizedState.cachePool.pool);var H=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(H=R.memoizedState.cachePool.pool),H!==N&&(R.flags|=2048)}return w!==h&&w&&(y.child.flags|=8192),Jk(y,y.updateQueue),fi(y),null;case 4:return re(),h===null&&DF(y.stateNode.containerInfo),fi(y),null;case 10:return ef(y.type),fi(y),null;case 19:if(G(Ji),N=y.memoizedState,N===null)return fi(y),null;if(R=(y.flags&128)!==0,H=N.rendering,H===null)if(R)US(N,!1);else{if(bi!==0||h!==null&&(h.flags&128)!==0)for(h=y.child;h!==null;){if(H=Yk(h),H!==null){for(y.flags|=128,US(N,!1),h=H.updateQueue,y.updateQueue=h,Jk(y,h),y.subtreeFlags=0,h=w,w=y.child;w!==null;)WX(w,h),w=w.sibling;return Y(Ji,Ji.current&1|2),y.child}h=h.sibling}N.tail!==null&&X()>nR&&(y.flags|=128,R=!0,US(N,!1),y.lanes=4194304)}else{if(!R)if(h=Yk(H),h!==null){if(y.flags|=128,R=!0,h=h.updateQueue,y.updateQueue=h,Jk(y,h),US(N,!0),N.tail===null&&N.tailMode==="hidden"&&!H.alternate&&!vr)return fi(y),null}else 2*X()-N.renderingStartTime>nR&&w!==536870912&&(y.flags|=128,R=!0,US(N,!1),y.lanes=4194304);N.isBackwards?(H.sibling=y.child,y.child=H):(h=N.last,h!==null?h.sibling=H:y.child=H,N.last=H)}return N.tail!==null?(y=N.tail,N.rendering=y,N.tail=y.sibling,N.renderingStartTime=X(),y.sibling=null,h=Ji.current,Y(Ji,R?h&1|2:h&1),y):(fi(y),null);case 22:case 23:return nf(y),I3(),R=y.memoizedState!==null,h!==null?h.memoizedState!==null!==R&&(y.flags|=8192):R&&(y.flags|=8192),R?(w&536870912)!==0&&(y.flags&128)===0&&(fi(y),y.subtreeFlags&6&&(y.flags|=8192)):fi(y),w=y.updateQueue,w!==null&&Jk(y,w.retryQueue),w=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),R=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(R=y.memoizedState.cachePool.pool),R!==w&&(y.flags|=2048),h!==null&&G(am),null;case 24:return w=null,h!==null&&(w=h.memoizedState.cache),y.memoizedState.cache!==w&&(y.flags|=2048),ef(Zi),fi(y),null;case 25:return null;case 30:return null}throw Error(r(156,y.tag))}function uDe(h,y){switch(x3(y),y.tag){case 1:return h=y.flags,h&65536?(y.flags=h&-65537|128,y):null;case 3:return ef(Zi),re(),h=y.flags,(h&65536)!==0&&(h&128)===0?(y.flags=h&-65537|128,y):null;case 26:case 27:case 5:return fe(y),null;case 13:if(nf(y),h=y.memoizedState,h!==null&&h.dehydrated!==null){if(y.alternate===null)throw Error(r(340));kS()}return h=y.flags,h&65536?(y.flags=h&-65537|128,y):null;case 19:return G(Ji),null;case 4:return re(),null;case 10:return ef(y.type),null;case 22:case 23:return nf(y),I3(),h!==null&&G(am),h=y.flags,h&65536?(y.flags=h&-65537|128,y):null;case 24:return ef(Zi),null;case 25:return null;default:return null}}function vQ(h,y){switch(x3(y),y.tag){case 3:ef(Zi),re();break;case 26:case 27:case 5:fe(y);break;case 4:re();break;case 13:nf(y);break;case 19:G(Ji);break;case 10:ef(y.type);break;case 22:case 23:nf(y),I3(),h!==null&&G(am);break;case 24:ef(Zi)}}function HS(h,y){try{var w=y.updateQueue,R=w!==null?w.lastEffect:null;if(R!==null){var N=R.next;w=N;do{if((w.tag&h)===h){R=void 0;var H=w.create,J=w.inst;R=H(),J.destroy=R}w=w.next}while(w!==N)}}catch(le){Ur(y,y.return,le)}}function Fp(h,y,w){try{var R=y.updateQueue,N=R!==null?R.lastEffect:null;if(N!==null){var H=N.next;R=H;do{if((R.tag&h)===h){var J=R.inst,le=J.destroy;if(le!==void 0){J.destroy=void 0,N=y;var Se=w,Fe=le;try{Fe()}catch(Ye){Ur(N,Se,Ye)}}}R=R.next}while(R!==H)}}catch(Ye){Ur(y,y.return,Ye)}}function bQ(h){var y=h.updateQueue;if(y!==null){var w=h.stateNode;try{sK(y,w)}catch(R){Ur(h,h.return,R)}}}function xQ(h,y,w){w.props=cm(h.type,h.memoizedProps),w.state=h.memoizedState;try{w.componentWillUnmount()}catch(R){Ur(h,y,R)}}function VS(h,y){try{var w=h.ref;if(w!==null){switch(h.tag){case 26:case 27:case 5:var R=h.stateNode;break;case 30:R=h.stateNode;break;default:R=h.stateNode}typeof w=="function"?h.refCleanup=w(R):w.current=R}}catch(N){Ur(h,y,N)}}function Pu(h,y){var w=h.ref,R=h.refCleanup;if(w!==null)if(typeof R=="function")try{R()}catch(N){Ur(h,y,N)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(N){Ur(h,y,N)}else w.current=null}function SQ(h){var y=h.type,w=h.memoizedProps,R=h.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":w.autoFocus&&R.focus();break e;case"img":w.src?R.src=w.src:w.srcSet&&(R.srcset=w.srcSet)}}catch(N){Ur(h,h.return,N)}}function lF(h,y,w){try{var R=h.stateNode;ODe(R,h.type,w,y),R[Kt]=y}catch(N){Ur(h,h.return,N)}}function wQ(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Vp(h.type)||h.tag===4}function cF(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||wQ(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Vp(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function uF(h,y,w){var R=h.tag;if(R===5||R===6)h=h.stateNode,y?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(h,y):(y=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,y.appendChild(h),w=w._reactRootContainer,w!=null||y.onclick!==null||(y.onclick=dR));else if(R!==4&&(R===27&&Vp(h.type)&&(w=h.stateNode,y=null),h=h.child,h!==null))for(uF(h,y,w),h=h.sibling;h!==null;)uF(h,y,w),h=h.sibling}function eR(h,y,w){var R=h.tag;if(R===5||R===6)h=h.stateNode,y?w.insertBefore(h,y):w.appendChild(h);else if(R!==4&&(R===27&&Vp(h.type)&&(w=h.stateNode),h=h.child,h!==null))for(eR(h,y,w),h=h.sibling;h!==null;)eR(h,y,w),h=h.sibling}function CQ(h){var y=h.stateNode,w=h.memoizedProps;try{for(var R=h.type,N=y.attributes;N.length;)y.removeAttributeNode(N[0]);Do(y,R,w),y[Bt]=h,y[Kt]=w}catch(H){Ur(h,h.return,H)}}var sf=!1,$i=!1,dF=!1,_Q=typeof WeakSet=="function"?WeakSet:Set,uo=null;function dDe(h,y){if(h=h.containerInfo,$F=vR,h=$X(h),c3(h)){if("selectionStart"in h)var w={start:h.selectionStart,end:h.selectionEnd};else e:{w=(w=h.ownerDocument)&&w.defaultView||window;var R=w.getSelection&&w.getSelection();if(R&&R.rangeCount!==0){w=R.anchorNode;var N=R.anchorOffset,H=R.focusNode;R=R.focusOffset;try{w.nodeType,H.nodeType}catch{w=null;break e}var J=0,le=-1,Se=-1,Fe=0,Ye=0,rt=h,Le=null;t:for(;;){for(var je;rt!==w||N!==0&&rt.nodeType!==3||(le=J+N),rt!==H||R!==0&&rt.nodeType!==3||(Se=J+R),rt.nodeType===3&&(J+=rt.nodeValue.length),(je=rt.firstChild)!==null;)Le=rt,rt=je;for(;;){if(rt===h)break t;if(Le===w&&++Fe===N&&(le=J),Le===H&&++Ye===R&&(Se=J),(je=rt.nextSibling)!==null)break;rt=Le,Le=rt.parentNode}rt=je}w=le===-1||Se===-1?null:{start:le,end:Se}}else w=null}w=w||{start:0,end:0}}else w=null;for(FF={focusedElem:h,selectionRange:w},vR=!1,uo=y;uo!==null;)if(y=uo,h=y.child,(y.subtreeFlags&1024)!==0&&h!==null)h.return=y,uo=h;else for(;uo!==null;){switch(y=uo,H=y.alternate,h=y.flags,y.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&H!==null){h=void 0,w=y,N=H.memoizedProps,H=H.memoizedState,R=w.stateNode;try{var fn=cm(w.type,N,w.elementType===w.type);h=R.getSnapshotBeforeUpdate(fn,H),R.__reactInternalSnapshotBeforeUpdate=h}catch(cn){Ur(w,w.return,cn)}}break;case 3:if((h&1024)!==0){if(h=y.stateNode.containerInfo,w=h.nodeType,w===9)jF(h);else if(w===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":jF(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=y.sibling,h!==null){h.return=y.return,uo=h;break}uo=y.return}}function EQ(h,y,w){var R=w.flags;switch(w.tag){case 0:case 11:case 15:Np(h,w),R&4&&HS(5,w);break;case 1:if(Np(h,w),R&4)if(h=w.stateNode,y===null)try{h.componentDidMount()}catch(J){Ur(w,w.return,J)}else{var N=cm(w.type,y.memoizedProps);y=y.memoizedState;try{h.componentDidUpdate(N,y,h.__reactInternalSnapshotBeforeUpdate)}catch(J){Ur(w,w.return,J)}}R&64&&bQ(w),R&512&&VS(w,w.return);break;case 3:if(Np(h,w),R&64&&(h=w.updateQueue,h!==null)){if(y=null,w.child!==null)switch(w.child.tag){case 27:case 5:y=w.child.stateNode;break;case 1:y=w.child.stateNode}try{sK(h,y)}catch(J){Ur(w,w.return,J)}}break;case 27:y===null&&R&4&&CQ(w);case 26:case 5:Np(h,w),y===null&&R&4&&SQ(w),R&512&&VS(w,w.return);break;case 12:Np(h,w);break;case 13:Np(h,w),R&4&&TQ(h,w),R&64&&(h=w.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(w=xDe.bind(null,w),LDe(h,w))));break;case 22:if(R=w.memoizedState!==null||sf,!R){y=y!==null&&y.memoizedState!==null||$i,N=sf;var H=$i;sf=R,($i=y)&&!H?Lp(h,w,(w.subtreeFlags&8772)!==0):Np(h,w),sf=N,$i=H}break;case 30:break;default:Np(h,w)}}function kQ(h){var y=h.alternate;y!==null&&(h.alternate=null,kQ(y)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(y=h.stateNode,y!==null&&Hn(y)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var ni=null,ia=!1;function af(h,y,w){for(w=w.child;w!==null;)RQ(h,y,w),w=w.sibling}function RQ(h,y,w){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(we,w)}catch{}switch(w.tag){case 26:$i||Pu(w,y),af(h,y,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:$i||Pu(w,y);var R=ni,N=ia;Vp(w.type)&&(ni=w.stateNode,ia=!1),af(h,y,w),JS(w.stateNode),ni=R,ia=N;break;case 5:$i||Pu(w,y);case 6:if(R=ni,N=ia,ni=null,af(h,y,w),ni=R,ia=N,ni!==null)if(ia)try{(ni.nodeType===9?ni.body:ni.nodeName==="HTML"?ni.ownerDocument.body:ni).removeChild(w.stateNode)}catch(H){Ur(w,y,H)}else try{ni.removeChild(w.stateNode)}catch(H){Ur(w,y,H)}break;case 18:ni!==null&&(ia?(h=ni,gZ(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,w.stateNode),aw(h)):gZ(ni,w.stateNode));break;case 4:R=ni,N=ia,ni=w.stateNode.containerInfo,ia=!0,af(h,y,w),ni=R,ia=N;break;case 0:case 11:case 14:case 15:$i||Fp(2,w,y),$i||Fp(4,w,y),af(h,y,w);break;case 1:$i||(Pu(w,y),R=w.stateNode,typeof R.componentWillUnmount=="function"&&xQ(w,y,R)),af(h,y,w);break;case 21:af(h,y,w);break;case 22:$i=(R=$i)||w.memoizedState!==null,af(h,y,w),$i=R;break;default:af(h,y,w)}}function TQ(h,y){if(y.memoizedState===null&&(h=y.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{aw(h)}catch(w){Ur(y,y.return,w)}}function fDe(h){switch(h.tag){case 13:case 19:var y=h.stateNode;return y===null&&(y=h.stateNode=new _Q),y;case 22:return h=h.stateNode,y=h._retryCache,y===null&&(y=h._retryCache=new _Q),y;default:throw Error(r(435,h.tag))}}function fF(h,y){var w=fDe(h);y.forEach(function(R){var N=SDe.bind(null,h,R);w.has(R)||(w.add(R),R.then(N,N))})}function Na(h,y){var w=y.deletions;if(w!==null)for(var R=0;R<w.length;R++){var N=w[R],H=h,J=y,le=J;e:for(;le!==null;){switch(le.tag){case 27:if(Vp(le.type)){ni=le.stateNode,ia=!1;break e}break;case 5:ni=le.stateNode,ia=!1;break e;case 3:case 4:ni=le.stateNode.containerInfo,ia=!0;break e}le=le.return}if(ni===null)throw Error(r(160));RQ(H,J,N),ni=null,ia=!1,H=N.alternate,H!==null&&(H.return=null),N.return=null}if(y.subtreeFlags&13878)for(y=y.child;y!==null;)MQ(y,h),y=y.sibling}var Mc=null;function MQ(h,y){var w=h.alternate,R=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Na(y,h),La(h),R&4&&(Fp(3,h,h.return),HS(3,h),Fp(5,h,h.return));break;case 1:Na(y,h),La(h),R&512&&($i||w===null||Pu(w,w.return)),R&64&&sf&&(h=h.updateQueue,h!==null&&(R=h.callbacks,R!==null&&(w=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=w===null?R:w.concat(R))));break;case 26:var N=Mc;if(Na(y,h),La(h),R&512&&($i||w===null||Pu(w,w.return)),R&4){var H=w!==null?w.memoizedState:null;if(R=h.memoizedState,w===null)if(R===null)if(h.stateNode===null){e:{R=h.type,w=h.memoizedProps,N=N.ownerDocument||N;t:switch(R){case"title":H=N.getElementsByTagName("title")[0],(!H||H[On]||H[Bt]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=N.createElement(R),N.head.insertBefore(H,N.querySelector("head > title"))),Do(H,R,w),H[Bt]=h,yt(H),R=H;break e;case"link":var J=CZ("link","href",N).get(R+(w.href||""));if(J){for(var le=0;le<J.length;le++)if(H=J[le],H.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&H.getAttribute("rel")===(w.rel==null?null:w.rel)&&H.getAttribute("title")===(w.title==null?null:w.title)&&H.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){J.splice(le,1);break t}}H=N.createElement(R),Do(H,R,w),N.head.appendChild(H);break;case"meta":if(J=CZ("meta","content",N).get(R+(w.content||""))){for(le=0;le<J.length;le++)if(H=J[le],H.getAttribute("content")===(w.content==null?null:""+w.content)&&H.getAttribute("name")===(w.name==null?null:w.name)&&H.getAttribute("property")===(w.property==null?null:w.property)&&H.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&H.getAttribute("charset")===(w.charSet==null?null:w.charSet)){J.splice(le,1);break t}}H=N.createElement(R),Do(H,R,w),N.head.appendChild(H);break;default:throw Error(r(468,R))}H[Bt]=h,yt(H),R=H}h.stateNode=R}else _Z(N,h.type,h.stateNode);else h.stateNode=wZ(N,R,h.memoizedProps);else H!==R?(H===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):H.count--,R===null?_Z(N,h.type,h.stateNode):wZ(N,R,h.memoizedProps)):R===null&&h.stateNode!==null&&lF(h,h.memoizedProps,w.memoizedProps)}break;case 27:Na(y,h),La(h),R&512&&($i||w===null||Pu(w,w.return)),w!==null&&R&4&&lF(h,h.memoizedProps,w.memoizedProps);break;case 5:if(Na(y,h),La(h),R&512&&($i||w===null||Pu(w,w.return)),h.flags&32){N=h.stateNode;try{Yy(N,"")}catch(je){Ur(h,h.return,je)}}R&4&&h.stateNode!=null&&(N=h.memoizedProps,lF(h,N,w!==null?w.memoizedProps:N)),R&1024&&(dF=!0);break;case 6:if(Na(y,h),La(h),R&4){if(h.stateNode===null)throw Error(r(162));R=h.memoizedProps,w=h.stateNode;try{w.nodeValue=R}catch(je){Ur(h,h.return,je)}}break;case 3:if(gR=null,N=Mc,Mc=pR(y.containerInfo),Na(y,h),Mc=N,La(h),R&4&&w!==null&&w.memoizedState.isDehydrated)try{aw(y.containerInfo)}catch(je){Ur(h,h.return,je)}dF&&(dF=!1,AQ(h));break;case 4:R=Mc,Mc=pR(h.stateNode.containerInfo),Na(y,h),La(h),Mc=R;break;case 12:Na(y,h),La(h);break;case 13:Na(y,h),La(h),h.child.flags&8192&&h.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(vF=X()),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,fF(h,R)));break;case 22:N=h.memoizedState!==null;var Se=w!==null&&w.memoizedState!==null,Fe=sf,Ye=$i;if(sf=Fe||N,$i=Ye||Se,Na(y,h),$i=Ye,sf=Fe,La(h),R&8192)e:for(y=h.stateNode,y._visibility=N?y._visibility&-2:y._visibility|1,N&&(w===null||Se||sf||$i||um(h)),w=null,y=h;;){if(y.tag===5||y.tag===26){if(w===null){Se=w=y;try{if(H=Se.stateNode,N)J=H.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{le=Se.stateNode;var rt=Se.memoizedProps.style,Le=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;le.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(je){Ur(Se,Se.return,je)}}}else if(y.tag===6){if(w===null){Se=y;try{Se.stateNode.nodeValue=N?"":Se.memoizedProps}catch(je){Ur(Se,Se.return,je)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===h)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break e;for(;y.sibling===null;){if(y.return===null||y.return===h)break e;w===y&&(w=null),y=y.return}w===y&&(w=null),y.sibling.return=y.return,y=y.sibling}R&4&&(R=h.updateQueue,R!==null&&(w=R.retryQueue,w!==null&&(R.retryQueue=null,fF(h,w))));break;case 19:Na(y,h),La(h),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,fF(h,R)));break;case 30:break;case 21:break;default:Na(y,h),La(h)}}function La(h){var y=h.flags;if(y&2){try{for(var w,R=h.return;R!==null;){if(wQ(R)){w=R;break}R=R.return}if(w==null)throw Error(r(160));switch(w.tag){case 27:var N=w.stateNode,H=cF(h);eR(h,H,N);break;case 5:var J=w.stateNode;w.flags&32&&(Yy(J,""),w.flags&=-33);var le=cF(h);eR(h,le,J);break;case 3:case 4:var Se=w.stateNode.containerInfo,Fe=cF(h);uF(h,Fe,Se);break;default:throw Error(r(161))}}catch(Ye){Ur(h,h.return,Ye)}h.flags&=-3}y&4096&&(h.flags&=-4097)}function AQ(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var y=h;AQ(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),h=h.sibling}}function Np(h,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)EQ(h,y.alternate,y),y=y.sibling}function um(h){for(h=h.child;h!==null;){var y=h;switch(y.tag){case 0:case 11:case 14:case 15:Fp(4,y,y.return),um(y);break;case 1:Pu(y,y.return);var w=y.stateNode;typeof w.componentWillUnmount=="function"&&xQ(y,y.return,w),um(y);break;case 27:JS(y.stateNode);case 26:case 5:Pu(y,y.return),um(y);break;case 22:y.memoizedState===null&&um(y);break;case 30:um(y);break;default:um(y)}h=h.sibling}}function Lp(h,y,w){for(w=w&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var R=y.alternate,N=h,H=y,J=H.flags;switch(H.tag){case 0:case 11:case 15:Lp(N,H,w),HS(4,H);break;case 1:if(Lp(N,H,w),R=H,N=R.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Fe){Ur(R,R.return,Fe)}if(R=H,N=R.updateQueue,N!==null){var le=R.stateNode;try{var Se=N.shared.hiddenCallbacks;if(Se!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Se.length;N++)oK(Se[N],le)}catch(Fe){Ur(R,R.return,Fe)}}w&&J&64&&bQ(H),VS(H,H.return);break;case 27:CQ(H);case 26:case 5:Lp(N,H,w),w&&R===null&&J&4&&SQ(H),VS(H,H.return);break;case 12:Lp(N,H,w);break;case 13:Lp(N,H,w),w&&J&4&&TQ(N,H);break;case 22:H.memoizedState===null&&Lp(N,H,w),VS(H,H.return);break;case 30:break;default:Lp(N,H,w)}y=y.sibling}}function pF(h,y){var w=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),h=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(h=y.memoizedState.cachePool.pool),h!==w&&(h!=null&&h.refCount++,w!=null&&MS(w))}function hF(h,y){h=null,y.alternate!==null&&(h=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==h&&(y.refCount++,h!=null&&MS(h))}function Iu(h,y,w,R){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)OQ(h,y,w,R),y=y.sibling}function OQ(h,y,w,R){var N=y.flags;switch(y.tag){case 0:case 11:case 15:Iu(h,y,w,R),N&2048&&HS(9,y);break;case 1:Iu(h,y,w,R);break;case 3:Iu(h,y,w,R),N&2048&&(h=null,y.alternate!==null&&(h=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==h&&(y.refCount++,h!=null&&MS(h)));break;case 12:if(N&2048){Iu(h,y,w,R),h=y.stateNode;try{var H=y.memoizedProps,J=H.id,le=H.onPostCommit;typeof le=="function"&&le(J,y.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Se){Ur(y,y.return,Se)}}else Iu(h,y,w,R);break;case 13:Iu(h,y,w,R);break;case 23:break;case 22:H=y.stateNode,J=y.alternate,y.memoizedState!==null?H._visibility&2?Iu(h,y,w,R):WS(h,y):H._visibility&2?Iu(h,y,w,R):(H._visibility|=2,pv(h,y,w,R,(y.subtreeFlags&10256)!==0)),N&2048&&pF(J,y);break;case 24:Iu(h,y,w,R),N&2048&&hF(y.alternate,y);break;default:Iu(h,y,w,R)}}function pv(h,y,w,R,N){for(N=N&&(y.subtreeFlags&10256)!==0,y=y.child;y!==null;){var H=h,J=y,le=w,Se=R,Fe=J.flags;switch(J.tag){case 0:case 11:case 15:pv(H,J,le,Se,N),HS(8,J);break;case 23:break;case 22:var Ye=J.stateNode;J.memoizedState!==null?Ye._visibility&2?pv(H,J,le,Se,N):WS(H,J):(Ye._visibility|=2,pv(H,J,le,Se,N)),N&&Fe&2048&&pF(J.alternate,J);break;case 24:pv(H,J,le,Se,N),N&&Fe&2048&&hF(J.alternate,J);break;default:pv(H,J,le,Se,N)}y=y.sibling}}function WS(h,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var w=h,R=y,N=R.flags;switch(R.tag){case 22:WS(w,R),N&2048&&pF(R.alternate,R);break;case 24:WS(w,R),N&2048&&hF(R.alternate,R);break;default:WS(w,R)}y=y.sibling}}var qS=8192;function hv(h){if(h.subtreeFlags&qS)for(h=h.child;h!==null;)DQ(h),h=h.sibling}function DQ(h){switch(h.tag){case 26:hv(h),h.flags&qS&&h.memoizedState!==null&&QDe(Mc,h.memoizedState,h.memoizedProps);break;case 5:hv(h);break;case 3:case 4:var y=Mc;Mc=pR(h.stateNode.containerInfo),hv(h),Mc=y;break;case 22:h.memoizedState===null&&(y=h.alternate,y!==null&&y.memoizedState!==null?(y=qS,qS=16777216,hv(h),qS=y):hv(h));break;default:hv(h)}}function PQ(h){var y=h.alternate;if(y!==null&&(h=y.child,h!==null)){y.child=null;do y=h.sibling,h.sibling=null,h=y;while(h!==null)}}function GS(h){var y=h.deletions;if((h.flags&16)!==0){if(y!==null)for(var w=0;w<y.length;w++){var R=y[w];uo=R,$Q(R,h)}PQ(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)IQ(h),h=h.sibling}function IQ(h){switch(h.tag){case 0:case 11:case 15:GS(h),h.flags&2048&&Fp(9,h,h.return);break;case 3:GS(h);break;case 12:GS(h);break;case 22:var y=h.stateNode;h.memoizedState!==null&&y._visibility&2&&(h.return===null||h.return.tag!==13)?(y._visibility&=-3,tR(h)):GS(h);break;default:GS(h)}}function tR(h){var y=h.deletions;if((h.flags&16)!==0){if(y!==null)for(var w=0;w<y.length;w++){var R=y[w];uo=R,$Q(R,h)}PQ(h)}for(h=h.child;h!==null;){switch(y=h,y.tag){case 0:case 11:case 15:Fp(8,y,y.return),tR(y);break;case 22:w=y.stateNode,w._visibility&2&&(w._visibility&=-3,tR(y));break;default:tR(y)}h=h.sibling}}function $Q(h,y){for(;uo!==null;){var w=uo;switch(w.tag){case 0:case 11:case 15:Fp(8,w,y);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var R=w.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:MS(w.memoizedState.cache)}if(R=w.child,R!==null)R.return=w,uo=R;else e:for(w=h;uo!==null;){R=uo;var N=R.sibling,H=R.return;if(kQ(R),R===w){uo=null;break e}if(N!==null){N.return=H,uo=N;break e}uo=H}}}var pDe={getCacheForType:function(h){var y=Xo(Zi),w=y.data.get(h);return w===void 0&&(w=h(),y.data.set(h,w)),w}},hDe=typeof WeakMap=="function"?WeakMap:Map,Ar=0,Gr=null,Wn=null,tr=0,Or=0,ja=null,jp=!1,gv=!1,gF=!1,lf=0,bi=0,zp=0,dm=0,mF=0,Dl=0,mv=0,YS=null,oa=null,yF=!1,vF=0,nR=1/0,rR=null,Bp=null,Oo=0,Up=null,yv=null,vv=0,bF=0,xF=null,FQ=null,XS=0,SF=null;function za(){if((Ar&2)!==0&&tr!==0)return tr&-tr;if(L.T!==null){var h=ov;return h!==0?h:TF()}return dr()}function NQ(){Dl===0&&(Dl=(tr&536870912)===0||vr?Et():536870912);var h=Ol.current;return h!==null&&(h.flags|=32),Dl}function Ba(h,y,w){(h===Gr&&(Or===2||Or===9)||h.cancelPendingCommit!==null)&&(bv(h,0),Hp(h,tr,Dl,!1)),It(h,w),((Ar&2)===0||h!==Gr)&&(h===Gr&&((Ar&2)===0&&(dm|=w),bi===4&&Hp(h,tr,Dl,!1)),$u(h))}function LQ(h,y,w){if((Ar&6)!==0)throw Error(r(327));var R=!w&&(y&124)===0&&(y&h.expiredLanes)===0||Qe(h,y),N=R?yDe(h,y):_F(h,y,!0),H=R;do{if(N===0){gv&&!R&&Hp(h,y,0,!1);break}else{if(w=h.current.alternate,H&&!gDe(w)){N=_F(h,y,!1),H=!1;continue}if(N===2){if(H=y,h.errorRecoveryDisabledLanes&H)var J=0;else J=h.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){y=J;e:{var le=h;N=YS;var Se=le.current.memoizedState.isDehydrated;if(Se&&(bv(le,J).flags|=256),J=_F(le,J,!1),J!==2){if(gF&&!Se){le.errorRecoveryDisabledLanes|=H,dm|=H,N=4;break e}H=oa,oa=N,H!==null&&(oa===null?oa=H:oa.push.apply(oa,H))}N=J}if(H=!1,N!==2)continue}}if(N===1){bv(h,0),Hp(h,y,0,!0);break}e:{switch(R=h,H=N,H){case 0:case 1:throw Error(r(345));case 4:if((y&4194048)!==y)break;case 6:Hp(R,y,Dl,!jp);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((y&62914560)===y&&(N=vF+300-X(),10<N)){if(Hp(R,y,Dl,!jp),ze(R,0,!0)!==0)break e;R.timeoutHandle=pZ(jQ.bind(null,R,w,oa,rR,yF,y,Dl,dm,mv,jp,H,2,-0,0),N);break e}jQ(R,w,oa,rR,yF,y,Dl,dm,mv,jp,H,0,-0,0)}}break}while(!0);$u(h)}function jQ(h,y,w,R,N,H,J,le,Se,Fe,Ye,rt,Le,je){if(h.timeoutHandle=-1,rt=y.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(nw={stylesheets:null,count:0,unsuspend:KDe},DQ(y),rt=ZDe(),rt!==null)){h.cancelPendingCommit=rt(qQ.bind(null,h,y,H,w,R,N,J,le,Se,Ye,1,Le,je)),Hp(h,H,J,!Fe);return}qQ(h,y,H,w,R,N,J,le,Se)}function gDe(h){for(var y=h;;){var w=y.tag;if((w===0||w===11||w===15)&&y.flags&16384&&(w=y.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var R=0;R<w.length;R++){var N=w[R],H=N.getSnapshot;N=N.value;try{if(!$a(H(),N))return!1}catch{return!1}}if(w=y.child,y.subtreeFlags&16384&&w!==null)w.return=y,y=w;else{if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function Hp(h,y,w,R){y&=~mF,y&=~dm,h.suspendedLanes|=y,h.pingedLanes&=~y,R&&(h.warmLanes|=y),R=h.expirationTimes;for(var N=y;0<N;){var H=31-Ie(N),J=1<<H;R[H]=-1,N&=~J}w!==0&&ur(h,w,y)}function iR(){return(Ar&6)===0?(KS(0),!1):!0}function wF(){if(Wn!==null){if(Or===0)var h=Wn.return;else h=Wn,Jd=om=null,j3(h),dv=null,zS=0,h=Wn;for(;h!==null;)vQ(h.alternate,h),h=h.return;Wn=null}}function bv(h,y){var w=h.timeoutHandle;w!==-1&&(h.timeoutHandle=-1,PDe(w)),w=h.cancelPendingCommit,w!==null&&(h.cancelPendingCommit=null,w()),wF(),Gr=h,Wn=w=Kd(h.current,null),tr=y,Or=0,ja=null,jp=!1,gv=Qe(h,y),gF=!1,mv=Dl=mF=dm=zp=bi=0,oa=YS=null,yF=!1,(y&8)!==0&&(y|=y&32);var R=h.entangledLanes;if(R!==0)for(h=h.entanglements,R&=y;0<R;){var N=31-Ie(R),H=1<<N;y|=h[N],R&=~H}return lf=y,kk(),w}function zQ(h,y){$n=null,L.H=Wk,y===OS||y===$k?(y=rK(),Or=3):y===eK?(y=rK(),Or=4):Or=y===iQ?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,ja=y,Wn===null&&(bi=1,Kk(h,Rl(y,h.current)))}function BQ(){var h=L.H;return L.H=Wk,h===null?Wk:h}function UQ(){var h=L.A;return L.A=pDe,h}function CF(){bi=4,jp||(tr&4194048)!==tr&&Ol.current!==null||(gv=!0),(zp&134217727)===0&&(dm&134217727)===0||Gr===null||Hp(Gr,tr,Dl,!1)}function _F(h,y,w){var R=Ar;Ar|=2;var N=BQ(),H=UQ();(Gr!==h||tr!==y)&&(rR=null,bv(h,y)),y=!1;var J=bi;e:do try{if(Or!==0&&Wn!==null){var le=Wn,Se=ja;switch(Or){case 8:wF(),J=6;break e;case 3:case 2:case 9:case 6:Ol.current===null&&(y=!0);var Fe=Or;if(Or=0,ja=null,xv(h,le,Se,Fe),w&&gv){J=0;break e}break;default:Fe=Or,Or=0,ja=null,xv(h,le,Se,Fe)}}mDe(),J=bi;break}catch(Ye){zQ(h,Ye)}while(!0);return y&&h.shellSuspendCounter++,Jd=om=null,Ar=R,L.H=N,L.A=H,Wn===null&&(Gr=null,tr=0,kk()),J}function mDe(){for(;Wn!==null;)HQ(Wn)}function yDe(h,y){var w=Ar;Ar|=2;var R=BQ(),N=UQ();Gr!==h||tr!==y?(rR=null,nR=X()+500,bv(h,y)):gv=Qe(h,y);e:do try{if(Or!==0&&Wn!==null){y=Wn;var H=ja;t:switch(Or){case 1:Or=0,ja=null,xv(h,y,H,1);break;case 2:case 9:if(tK(H)){Or=0,ja=null,VQ(y);break}y=function(){Or!==2&&Or!==9||Gr!==h||(Or=7),$u(h)},H.then(y,y);break e;case 3:Or=7;break e;case 4:Or=5;break e;case 7:tK(H)?(Or=0,ja=null,VQ(y)):(Or=0,ja=null,xv(h,y,H,7));break;case 5:var J=null;switch(Wn.tag){case 26:J=Wn.memoizedState;case 5:case 27:var le=Wn;if(!J||EZ(J)){Or=0,ja=null;var Se=le.sibling;if(Se!==null)Wn=Se;else{var Fe=le.return;Fe!==null?(Wn=Fe,oR(Fe)):Wn=null}break t}}Or=0,ja=null,xv(h,y,H,5);break;case 6:Or=0,ja=null,xv(h,y,H,6);break;case 8:wF(),bi=6;break e;default:throw Error(r(462))}}vDe();break}catch(Ye){zQ(h,Ye)}while(!0);return Jd=om=null,L.H=R,L.A=N,Ar=w,Wn!==null?0:(Gr=null,tr=0,kk(),bi)}function vDe(){for(;Wn!==null&&!se();)HQ(Wn)}function HQ(h){var y=mQ(h.alternate,h,lf);h.memoizedProps=h.pendingProps,y===null?oR(h):Wn=y}function VQ(h){var y=h,w=y.alternate;switch(y.tag){case 15:case 0:y=uQ(w,y,y.pendingProps,y.type,void 0,tr);break;case 11:y=uQ(w,y,y.pendingProps,y.type.render,y.ref,tr);break;case 5:j3(y);default:vQ(w,y),y=Wn=WX(y,lf),y=mQ(w,y,lf)}h.memoizedProps=h.pendingProps,y===null?oR(h):Wn=y}function xv(h,y,w,R){Jd=om=null,j3(y),dv=null,zS=0;var N=y.return;try{if(aDe(h,N,y,w,tr)){bi=1,Kk(h,Rl(w,h.current)),Wn=null;return}}catch(H){if(N!==null)throw Wn=N,H;bi=1,Kk(h,Rl(w,h.current)),Wn=null;return}y.flags&32768?(vr||R===1?h=!0:gv||(tr&536870912)!==0?h=!1:(jp=h=!0,(R===2||R===9||R===3||R===6)&&(R=Ol.current,R!==null&&R.tag===13&&(R.flags|=16384))),WQ(y,h)):oR(y)}function oR(h){var y=h;do{if((y.flags&32768)!==0){WQ(y,jp);return}h=y.return;var w=cDe(y.alternate,y,lf);if(w!==null){Wn=w;return}if(y=y.sibling,y!==null){Wn=y;return}Wn=y=h}while(y!==null);bi===0&&(bi=5)}function WQ(h,y){do{var w=uDe(h.alternate,h);if(w!==null){w.flags&=32767,Wn=w;return}if(w=h.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!y&&(h=h.sibling,h!==null)){Wn=h;return}Wn=h=w}while(h!==null);bi=6,Wn=null}function qQ(h,y,w,R,N,H,J,le,Se){h.cancelPendingCommit=null;do sR();while(Oo!==0);if((Ar&6)!==0)throw Error(r(327));if(y!==null){if(y===h.current)throw Error(r(177));if(H=y.lanes|y.childLanes,H|=h3,$t(h,w,H,J,le,Se),h===Gr&&(Wn=Gr=null,tr=0),yv=y,Up=h,vv=w,bF=H,xF=N,FQ=R,(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,wDe(be,function(){return QQ(),null})):(h.callbackNode=null,h.callbackPriority=0),R=(y.flags&13878)!==0,(y.subtreeFlags&13878)!==0||R){R=L.T,L.T=null,N=V.p,V.p=2,J=Ar,Ar|=4;try{dDe(h,y,w)}finally{Ar=J,V.p=N,L.T=R}}Oo=1,GQ(),YQ(),XQ()}}function GQ(){if(Oo===1){Oo=0;var h=Up,y=yv,w=(y.flags&13878)!==0;if((y.subtreeFlags&13878)!==0||w){w=L.T,L.T=null;var R=V.p;V.p=2;var N=Ar;Ar|=4;try{MQ(y,h);var H=FF,J=$X(h.containerInfo),le=H.focusedElem,Se=H.selectionRange;if(J!==le&&le&&le.ownerDocument&&IX(le.ownerDocument.documentElement,le)){if(Se!==null&&c3(le)){var Fe=Se.start,Ye=Se.end;if(Ye===void 0&&(Ye=Fe),"selectionStart"in le)le.selectionStart=Fe,le.selectionEnd=Math.min(Ye,le.value.length);else{var rt=le.ownerDocument||document,Le=rt&&rt.defaultView||window;if(Le.getSelection){var je=Le.getSelection(),fn=le.textContent.length,cn=Math.min(Se.start,fn),Lr=Se.end===void 0?cn:Math.min(Se.end,fn);!je.extend&&cn>Lr&&(J=Lr,Lr=cn,cn=J);var Ae=PX(le,cn),Ee=PX(le,Lr);if(Ae&&Ee&&(je.rangeCount!==1||je.anchorNode!==Ae.node||je.anchorOffset!==Ae.offset||je.focusNode!==Ee.node||je.focusOffset!==Ee.offset)){var Pe=rt.createRange();Pe.setStart(Ae.node,Ae.offset),je.removeAllRanges(),cn>Lr?(je.addRange(Pe),je.extend(Ee.node,Ee.offset)):(Pe.setEnd(Ee.node,Ee.offset),je.addRange(Pe))}}}}for(rt=[],je=le;je=je.parentNode;)je.nodeType===1&&rt.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<rt.length;le++){var Ze=rt[le];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}vR=!!$F,FF=$F=null}finally{Ar=N,V.p=R,L.T=w}}h.current=y,Oo=2}}function YQ(){if(Oo===2){Oo=0;var h=Up,y=yv,w=(y.flags&8772)!==0;if((y.subtreeFlags&8772)!==0||w){w=L.T,L.T=null;var R=V.p;V.p=2;var N=Ar;Ar|=4;try{EQ(h,y.alternate,y)}finally{Ar=N,V.p=R,L.T=w}}Oo=3}}function XQ(){if(Oo===4||Oo===3){Oo=0,ae();var h=Up,y=yv,w=vv,R=FQ;(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?Oo=5:(Oo=0,yv=Up=null,KQ(h,h.pendingLanes));var N=h.pendingLanes;if(N===0&&(Bp=null),Ot(w),y=y.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(we,y,void 0,(y.current.flags&128)===128)}catch{}if(R!==null){y=L.T,N=V.p,V.p=2,L.T=null;try{for(var H=h.onRecoverableError,J=0;J<R.length;J++){var le=R[J];H(le.value,{componentStack:le.stack})}}finally{L.T=y,V.p=N}}(vv&3)!==0&&sR(),$u(h),N=h.pendingLanes,(w&4194090)!==0&&(N&42)!==0?h===SF?XS++:(XS=0,SF=h):XS=0,KS(0)}}function KQ(h,y){(h.pooledCacheLanes&=y)===0&&(y=h.pooledCache,y!=null&&(h.pooledCache=null,MS(y)))}function sR(h){return GQ(),YQ(),XQ(),QQ()}function QQ(){if(Oo!==5)return!1;var h=Up,y=bF;bF=0;var w=Ot(vv),R=L.T,N=V.p;try{V.p=32>w?32:w,L.T=null,w=xF,xF=null;var H=Up,J=vv;if(Oo=0,yv=Up=null,vv=0,(Ar&6)!==0)throw Error(r(331));var le=Ar;if(Ar|=4,IQ(H.current),OQ(H,H.current,J,w),Ar=le,KS(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(we,H)}catch{}return!0}finally{V.p=N,L.T=R,KQ(h,y)}}function ZQ(h,y,w){y=Rl(w,y),y=J3(h.stateNode,y,2),h=Dp(h,y,2),h!==null&&(It(h,2),$u(h))}function Ur(h,y,w){if(h.tag===3)ZQ(h,h,w);else for(;y!==null;){if(y.tag===3){ZQ(y,h,w);break}else if(y.tag===1){var R=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Bp===null||!Bp.has(R))){h=Rl(w,h),w=nQ(2),R=Dp(y,w,2),R!==null&&(rQ(w,R,y,h),It(R,2),$u(R));break}}y=y.return}}function EF(h,y,w){var R=h.pingCache;if(R===null){R=h.pingCache=new hDe;var N=new Set;R.set(y,N)}else N=R.get(y),N===void 0&&(N=new Set,R.set(y,N));N.has(w)||(gF=!0,N.add(w),h=bDe.bind(null,h,y,w),y.then(h,h))}function bDe(h,y,w){var R=h.pingCache;R!==null&&R.delete(y),h.pingedLanes|=h.suspendedLanes&w,h.warmLanes&=~w,Gr===h&&(tr&w)===w&&(bi===4||bi===3&&(tr&62914560)===tr&&300>X()-vF?(Ar&2)===0&&bv(h,0):mF|=w,mv===tr&&(mv=0)),$u(h)}function JQ(h,y){y===0&&(y=Wt()),h=tv(h,y),h!==null&&(It(h,y),$u(h))}function xDe(h){var y=h.memoizedState,w=0;y!==null&&(w=y.retryLane),JQ(h,w)}function SDe(h,y){var w=0;switch(h.tag){case 13:var R=h.stateNode,N=h.memoizedState;N!==null&&(w=N.retryLane);break;case 19:R=h.stateNode;break;case 22:R=h.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(y),JQ(h,w)}function wDe(h,y){return pe(h,y)}var aR=null,Sv=null,kF=!1,lR=!1,RF=!1,fm=0;function $u(h){h!==Sv&&h.next===null&&(Sv===null?aR=Sv=h:Sv=Sv.next=h),lR=!0,kF||(kF=!0,_De())}function KS(h,y){if(!RF&&lR){RF=!0;do for(var w=!1,R=aR;R!==null;){if(h!==0){var N=R.pendingLanes;if(N===0)var H=0;else{var J=R.suspendedLanes,le=R.pingedLanes;H=(1<<31-Ie(42|h)+1)-1,H&=N&~(J&~le),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(w=!0,rZ(R,H))}else H=tr,H=ze(R,R===Gr?H:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(H&3)===0||Qe(R,H)||(w=!0,rZ(R,H));R=R.next}while(w);RF=!1}}function CDe(){eZ()}function eZ(){lR=kF=!1;var h=0;fm!==0&&(DDe()&&(h=fm),fm=0);for(var y=X(),w=null,R=aR;R!==null;){var N=R.next,H=tZ(R,y);H===0?(R.next=null,w===null?aR=N:w.next=N,N===null&&(Sv=w)):(w=R,(h!==0||(H&3)!==0)&&(lR=!0)),R=N}KS(h)}function tZ(h,y){for(var w=h.suspendedLanes,R=h.pingedLanes,N=h.expirationTimes,H=h.pendingLanes&-62914561;0<H;){var J=31-Ie(H),le=1<<J,Se=N[J];Se===-1?((le&w)===0||(le&R)!==0)&&(N[J]=Rt(le,y)):Se<=y&&(h.expiredLanes|=le),H&=~le}if(y=Gr,w=tr,w=ze(h,h===y?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),R=h.callbackNode,w===0||h===y&&(Or===2||Or===9)||h.cancelPendingCommit!==null)return R!==null&&R!==null&&W(R),h.callbackNode=null,h.callbackPriority=0;if((w&3)===0||Qe(h,w)){if(y=w&-w,y===h.callbackPriority)return y;switch(R!==null&&W(R),Ot(w)){case 2:case 8:w=ge;break;case 32:w=be;break;case 268435456:w=Re;break;default:w=be}return R=nZ.bind(null,h),w=pe(w,R),h.callbackPriority=y,h.callbackNode=w,y}return R!==null&&R!==null&&W(R),h.callbackPriority=2,h.callbackNode=null,2}function nZ(h,y){if(Oo!==0&&Oo!==5)return h.callbackNode=null,h.callbackPriority=0,null;var w=h.callbackNode;if(sR()&&h.callbackNode!==w)return null;var R=tr;return R=ze(h,h===Gr?R:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),R===0?null:(LQ(h,R,y),tZ(h,X()),h.callbackNode!=null&&h.callbackNode===w?nZ.bind(null,h):null)}function rZ(h,y){if(sR())return null;LQ(h,y,!0)}function _De(){IDe(function(){(Ar&6)!==0?pe(oe,CDe):eZ()})}function TF(){return fm===0&&(fm=Et()),fm}function iZ(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:bk(""+h)}function oZ(h,y){var w=y.ownerDocument.createElement("input");return w.name=y.name,w.value=y.value,h.id&&w.setAttribute("form",h.id),y.parentNode.insertBefore(w,y),h=new FormData(h),w.parentNode.removeChild(w),h}function EDe(h,y,w,R,N){if(y==="submit"&&w&&w.stateNode===N){var H=iZ((N[Kt]||null).action),J=R.submitter;J&&(y=(y=J[Kt]||null)?iZ(y.formAction):J.getAttribute("formAction"),y!==null&&(H=y,J=null));var le=new Ck("action","action",null,R,N);h.push({event:le,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(fm!==0){var Se=J?oZ(N,J):new FormData(N);Y3(w,{pending:!0,data:Se,method:N.method,action:H},null,Se)}}else typeof H=="function"&&(le.preventDefault(),Se=J?oZ(N,J):new FormData(N),Y3(w,{pending:!0,data:Se,method:N.method,action:H},H,Se))},currentTarget:N}]})}}for(var MF=0;MF<p3.length;MF++){var AF=p3[MF],kDe=AF.toLowerCase(),RDe=AF[0].toUpperCase()+AF.slice(1);Tc(kDe,"on"+RDe)}Tc(LX,"onAnimationEnd"),Tc(jX,"onAnimationIteration"),Tc(zX,"onAnimationStart"),Tc("dblclick","onDoubleClick"),Tc("focusin","onFocus"),Tc("focusout","onBlur"),Tc(VOe,"onTransitionRun"),Tc(WOe,"onTransitionStart"),Tc(qOe,"onTransitionCancel"),Tc(BX,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var QS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TDe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(QS));function sZ(h,y){y=(y&4)!==0;for(var w=0;w<h.length;w++){var R=h[w],N=R.event;R=R.listeners;e:{var H=void 0;if(y)for(var J=R.length-1;0<=J;J--){var le=R[J],Se=le.instance,Fe=le.currentTarget;if(le=le.listener,Se!==H&&N.isPropagationStopped())break e;H=le,N.currentTarget=Fe;try{H(N)}catch(Ye){Xk(Ye)}N.currentTarget=null,H=Se}else for(J=0;J<R.length;J++){if(le=R[J],Se=le.instance,Fe=le.currentTarget,le=le.listener,Se!==H&&N.isPropagationStopped())break e;H=le,N.currentTarget=Fe;try{H(N)}catch(Ye){Xk(Ye)}N.currentTarget=null,H=Se}}}}function qn(h,y){var w=y[di];w===void 0&&(w=y[di]=new Set);var R=h+"__bubble";w.has(R)||(aZ(y,h,2,!1),w.add(R))}function OF(h,y,w){var R=0;y&&(R|=4),aZ(w,h,R,y)}var cR="_reactListening"+Math.random().toString(36).slice(2);function DF(h){if(!h[cR]){h[cR]=!0,bn.forEach(function(w){w!=="selectionchange"&&(TDe.has(w)||OF(w,!1,h),OF(w,!0,h))});var y=h.nodeType===9?h:h.ownerDocument;y===null||y[cR]||(y[cR]=!0,OF("selectionchange",!1,y))}}function aZ(h,y,w,R){switch(OZ(y)){case 2:var N=tPe;break;case 8:N=nPe;break;default:N=qF}w=N.bind(null,y,w,h),N=void 0,!e3||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(N=!0),R?N!==void 0?h.addEventListener(y,w,{capture:!0,passive:N}):h.addEventListener(y,w,!0):N!==void 0?h.addEventListener(y,w,{passive:N}):h.addEventListener(y,w,!1)}function PF(h,y,w,R,N){var H=R;if((y&1)===0&&(y&2)===0&&R!==null)e:for(;;){if(R===null)return;var J=R.tag;if(J===3||J===4){var le=R.stateNode.containerInfo;if(le===N)break;if(J===4)for(J=R.return;J!==null;){var Se=J.tag;if((Se===3||Se===4)&&J.stateNode.containerInfo===N)return;J=J.return}for(;le!==null;){if(J=ti(le),J===null)return;if(Se=J.tag,Se===5||Se===6||Se===26||Se===27){R=H=J;continue e}le=le.parentNode}}R=R.return}hX(function(){var Fe=H,Ye=Z5(w),rt=[];e:{var Le=UX.get(h);if(Le!==void 0){var je=Ck,fn=h;switch(h){case"keypress":if(Sk(w)===0)break e;case"keydown":case"keyup":je=wOe;break;case"focusin":fn="focus",je=i3;break;case"focusout":fn="blur",je=i3;break;case"beforeblur":case"afterblur":je=i3;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=yX;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=uOe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=EOe;break;case LX:case jX:case zX:je=pOe;break;case BX:je=ROe;break;case"scroll":case"scrollend":je=lOe;break;case"wheel":je=MOe;break;case"copy":case"cut":case"paste":je=gOe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=bX;break;case"toggle":case"beforetoggle":je=OOe}var cn=(y&4)!==0,Lr=!cn&&(h==="scroll"||h==="scrollend"),Ae=cn?Le!==null?Le+"Capture":null:Le;cn=[];for(var Ee=Fe,Pe;Ee!==null;){var Ze=Ee;if(Pe=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Pe===null||Ae===null||(Ze=mS(Ee,Ae),Ze!=null&&cn.push(ZS(Ee,Ze,Pe))),Lr)break;Ee=Ee.return}0<cn.length&&(Le=new je(Le,fn,null,w,Ye),rt.push({event:Le,listeners:cn}))}}if((y&7)===0){e:{if(Le=h==="mouseover"||h==="pointerover",je=h==="mouseout"||h==="pointerout",Le&&w!==Q5&&(fn=w.relatedTarget||w.fromElement)&&(ti(fn)||fn[gt]))break e;if((je||Le)&&(Le=Ye.window===Ye?Ye:(Le=Ye.ownerDocument)?Le.defaultView||Le.parentWindow:window,je?(fn=w.relatedTarget||w.toElement,je=Fe,fn=fn?ti(fn):null,fn!==null&&(Lr=o(fn),cn=fn.tag,fn!==Lr||cn!==5&&cn!==27&&cn!==6)&&(fn=null)):(je=null,fn=Fe),je!==fn)){if(cn=yX,Ze="onMouseLeave",Ae="onMouseEnter",Ee="mouse",(h==="pointerout"||h==="pointerover")&&(cn=bX,Ze="onPointerLeave",Ae="onPointerEnter",Ee="pointer"),Lr=je==null?Le:Ge(je),Pe=fn==null?Le:Ge(fn),Le=new cn(Ze,Ee+"leave",je,w,Ye),Le.target=Lr,Le.relatedTarget=Pe,Ze=null,ti(Ye)===Fe&&(cn=new cn(Ae,Ee+"enter",fn,w,Ye),cn.target=Pe,cn.relatedTarget=Lr,Ze=cn),Lr=Ze,je&&fn)t:{for(cn=je,Ae=fn,Ee=0,Pe=cn;Pe;Pe=wv(Pe))Ee++;for(Pe=0,Ze=Ae;Ze;Ze=wv(Ze))Pe++;for(;0<Ee-Pe;)cn=wv(cn),Ee--;for(;0<Pe-Ee;)Ae=wv(Ae),Pe--;for(;Ee--;){if(cn===Ae||Ae!==null&&cn===Ae.alternate)break t;cn=wv(cn),Ae=wv(Ae)}cn=null}else cn=null;je!==null&&lZ(rt,Le,je,cn,!1),fn!==null&&Lr!==null&&lZ(rt,Lr,fn,cn,!0)}}e:{if(Le=Fe?Ge(Fe):window,je=Le.nodeName&&Le.nodeName.toLowerCase(),je==="select"||je==="input"&&Le.type==="file")var Lt=RX;else if(EX(Le))if(TX)Lt=BOe;else{Lt=jOe;var jn=LOe}else je=Le.nodeName,!je||je.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Fe&&K5(Fe.elementType)&&(Lt=RX):Lt=zOe;if(Lt&&(Lt=Lt(h,Fe))){kX(rt,Lt,w,Ye);break e}jn&&jn(h,Le,Fe),h==="focusout"&&Fe&&Le.type==="number"&&Fe.memoizedProps.value!=null&&X5(Le,"number",Le.value)}switch(jn=Fe?Ge(Fe):window,h){case"focusin":(EX(jn)||jn.contentEditable==="true")&&(Zy=jn,u3=Fe,_S=null);break;case"focusout":_S=u3=Zy=null;break;case"mousedown":d3=!0;break;case"contextmenu":case"mouseup":case"dragend":d3=!1,FX(rt,w,Ye);break;case"selectionchange":if(HOe)break;case"keydown":case"keyup":FX(rt,w,Ye)}var qt;if(s3)e:{switch(h){case"compositionstart":var dn="onCompositionStart";break e;case"compositionend":dn="onCompositionEnd";break e;case"compositionupdate":dn="onCompositionUpdate";break e}dn=void 0}else Qy?CX(h,w)&&(dn="onCompositionEnd"):h==="keydown"&&w.keyCode===229&&(dn="onCompositionStart");dn&&(xX&&w.locale!=="ko"&&(Qy||dn!=="onCompositionStart"?dn==="onCompositionEnd"&&Qy&&(qt=gX()):(Tp=Ye,t3="value"in Tp?Tp.value:Tp.textContent,Qy=!0)),jn=uR(Fe,dn),0<jn.length&&(dn=new vX(dn,h,null,w,Ye),rt.push({event:dn,listeners:jn}),qt?dn.data=qt:(qt=_X(w),qt!==null&&(dn.data=qt)))),(qt=POe?IOe(h,w):$Oe(h,w))&&(dn=uR(Fe,"onBeforeInput"),0<dn.length&&(jn=new vX("onBeforeInput","beforeinput",null,w,Ye),rt.push({event:jn,listeners:dn}),jn.data=qt)),EDe(rt,h,Fe,w,Ye)}sZ(rt,y)})}function ZS(h,y,w){return{instance:h,listener:y,currentTarget:w}}function uR(h,y){for(var w=y+"Capture",R=[];h!==null;){var N=h,H=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||H===null||(N=mS(h,w),N!=null&&R.unshift(ZS(h,N,H)),N=mS(h,y),N!=null&&R.push(ZS(h,N,H))),h.tag===3)return R;h=h.return}return[]}function wv(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function lZ(h,y,w,R,N){for(var H=y._reactName,J=[];w!==null&&w!==R;){var le=w,Se=le.alternate,Fe=le.stateNode;if(le=le.tag,Se!==null&&Se===R)break;le!==5&&le!==26&&le!==27||Fe===null||(Se=Fe,N?(Fe=mS(w,H),Fe!=null&&J.unshift(ZS(w,Fe,Se))):N||(Fe=mS(w,H),Fe!=null&&J.push(ZS(w,Fe,Se)))),w=w.return}J.length!==0&&h.push({event:y,listeners:J})}var MDe=/\r\n?/g,ADe=/\u0000|\uFFFD/g;function cZ(h){return(typeof h=="string"?h:""+h).replace(MDe,`
`).replace(ADe,"")}function uZ(h,y){return y=cZ(y),cZ(h)===y}function dR(){}function Nr(h,y,w,R,N,H){switch(w){case"children":typeof R=="string"?y==="body"||y==="textarea"&&R===""||Yy(h,R):(typeof R=="number"||typeof R=="bigint")&&y!=="body"&&Yy(h,""+R);break;case"className":Rc(h,"class",R);break;case"tabIndex":Rc(h,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":Rc(h,w,R);break;case"style":fX(h,R,H);break;case"data":if(y!=="object"){Rc(h,"data",R);break}case"src":case"href":if(R===""&&(y!=="a"||w!=="href")){h.removeAttribute(w);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){h.removeAttribute(w);break}R=bk(""+R),h.setAttribute(w,R);break;case"action":case"formAction":if(typeof R=="function"){h.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(w==="formAction"?(y!=="input"&&Nr(h,y,"name",N.name,N,null),Nr(h,y,"formEncType",N.formEncType,N,null),Nr(h,y,"formMethod",N.formMethod,N,null),Nr(h,y,"formTarget",N.formTarget,N,null)):(Nr(h,y,"encType",N.encType,N,null),Nr(h,y,"method",N.method,N,null),Nr(h,y,"target",N.target,N,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){h.removeAttribute(w);break}R=bk(""+R),h.setAttribute(w,R);break;case"onClick":R!=null&&(h.onclick=dR);break;case"onScroll":R!=null&&qn("scroll",h);break;case"onScrollEnd":R!=null&&qn("scrollend",h);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(w=R.__html,w!=null){if(N.children!=null)throw Error(r(60));h.innerHTML=w}}break;case"multiple":h.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":h.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){h.removeAttribute("xlink:href");break}w=bk(""+R),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?h.setAttribute(w,""+R):h.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?h.setAttribute(w,""):h.removeAttribute(w);break;case"capture":case"download":R===!0?h.setAttribute(w,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?h.setAttribute(w,R):h.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?h.setAttribute(w,R):h.removeAttribute(w);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?h.removeAttribute(w):h.setAttribute(w,R);break;case"popover":qn("beforetoggle",h),qn("toggle",h),kc(h,"popover",R);break;case"xlinkActuate":Cn(h,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":Cn(h,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":Cn(h,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":Cn(h,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":Cn(h,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":Cn(h,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":Cn(h,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":Cn(h,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":Cn(h,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":kc(h,"is",R);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=sOe.get(w)||w,kc(h,w,R))}}function IF(h,y,w,R,N,H){switch(w){case"style":fX(h,R,H);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(w=R.__html,w!=null){if(N.children!=null)throw Error(r(60));h.innerHTML=w}}break;case"children":typeof R=="string"?Yy(h,R):(typeof R=="number"||typeof R=="bigint")&&Yy(h,""+R);break;case"onScroll":R!=null&&qn("scroll",h);break;case"onScrollEnd":R!=null&&qn("scrollend",h);break;case"onClick":R!=null&&(h.onclick=dR);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tn.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(N=w.endsWith("Capture"),y=w.slice(2,N?w.length-7:void 0),H=h[Kt]||null,H=H!=null?H[w]:null,typeof H=="function"&&h.removeEventListener(y,H,N),typeof R=="function")){typeof H!="function"&&H!==null&&(w in h?h[w]=null:h.hasAttribute(w)&&h.removeAttribute(w)),h.addEventListener(y,R,N);break e}w in h?h[w]=R:R===!0?h.setAttribute(w,""):kc(h,w,R)}}}function Do(h,y,w){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qn("error",h),qn("load",h);var R=!1,N=!1,H;for(H in w)if(w.hasOwnProperty(H)){var J=w[H];if(J!=null)switch(H){case"src":R=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,y));default:Nr(h,y,H,J,w,null)}}N&&Nr(h,y,"srcSet",w.srcSet,w,null),R&&Nr(h,y,"src",w.src,w,null);return;case"input":qn("invalid",h);var le=H=J=N=null,Se=null,Fe=null;for(R in w)if(w.hasOwnProperty(R)){var Ye=w[R];if(Ye!=null)switch(R){case"name":N=Ye;break;case"type":J=Ye;break;case"checked":Se=Ye;break;case"defaultChecked":Fe=Ye;break;case"value":H=Ye;break;case"defaultValue":le=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,y));break;default:Nr(h,y,R,Ye,w,null)}}lX(h,H,le,Se,Fe,J,N,!1),Wy(h);return;case"select":qn("invalid",h),R=J=H=null;for(N in w)if(w.hasOwnProperty(N)&&(le=w[N],le!=null))switch(N){case"value":H=le;break;case"defaultValue":J=le;break;case"multiple":R=le;default:Nr(h,y,N,le,w,null)}y=H,w=J,h.multiple=!!R,y!=null?Gy(h,!!R,y,!1):w!=null&&Gy(h,!!R,w,!0);return;case"textarea":qn("invalid",h),H=N=R=null;for(J in w)if(w.hasOwnProperty(J)&&(le=w[J],le!=null))switch(J){case"value":R=le;break;case"defaultValue":N=le;break;case"children":H=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(91));break;default:Nr(h,y,J,le,w,null)}uX(h,R,N,H),Wy(h);return;case"option":for(Se in w)if(w.hasOwnProperty(Se)&&(R=w[Se],R!=null))switch(Se){case"selected":h.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Nr(h,y,Se,R,w,null)}return;case"dialog":qn("beforetoggle",h),qn("toggle",h),qn("cancel",h),qn("close",h);break;case"iframe":case"object":qn("load",h);break;case"video":case"audio":for(R=0;R<QS.length;R++)qn(QS[R],h);break;case"image":qn("error",h),qn("load",h);break;case"details":qn("toggle",h);break;case"embed":case"source":case"link":qn("error",h),qn("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in w)if(w.hasOwnProperty(Fe)&&(R=w[Fe],R!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,y));default:Nr(h,y,Fe,R,w,null)}return;default:if(K5(y)){for(Ye in w)w.hasOwnProperty(Ye)&&(R=w[Ye],R!==void 0&&IF(h,y,Ye,R,w,void 0));return}}for(le in w)w.hasOwnProperty(le)&&(R=w[le],R!=null&&Nr(h,y,le,R,w,null))}function ODe(h,y,w,R){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,H=null,J=null,le=null,Se=null,Fe=null,Ye=null;for(je in w){var rt=w[je];if(w.hasOwnProperty(je)&&rt!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":Se=rt;default:R.hasOwnProperty(je)||Nr(h,y,je,null,R,rt)}}for(var Le in R){var je=R[Le];if(rt=w[Le],R.hasOwnProperty(Le)&&(je!=null||rt!=null))switch(Le){case"type":H=je;break;case"name":N=je;break;case"checked":Fe=je;break;case"defaultChecked":Ye=je;break;case"value":J=je;break;case"defaultValue":le=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,y));break;default:je!==rt&&Nr(h,y,Le,je,R,rt)}}qy(h,J,le,Se,Fe,Ye,H,N);return;case"select":je=J=le=Le=null;for(H in w)if(Se=w[H],w.hasOwnProperty(H)&&Se!=null)switch(H){case"value":break;case"multiple":je=Se;default:R.hasOwnProperty(H)||Nr(h,y,H,null,R,Se)}for(N in R)if(H=R[N],Se=w[N],R.hasOwnProperty(N)&&(H!=null||Se!=null))switch(N){case"value":Le=H;break;case"defaultValue":le=H;break;case"multiple":J=H;default:H!==Se&&Nr(h,y,N,H,R,Se)}y=le,w=J,R=je,Le!=null?Gy(h,!!w,Le,!1):!!R!=!!w&&(y!=null?Gy(h,!!w,y,!0):Gy(h,!!w,w?[]:"",!1));return;case"textarea":je=Le=null;for(le in w)if(N=w[le],w.hasOwnProperty(le)&&N!=null&&!R.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:Nr(h,y,le,null,R,N)}for(J in R)if(N=R[J],H=w[J],R.hasOwnProperty(J)&&(N!=null||H!=null))switch(J){case"value":Le=N;break;case"defaultValue":je=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==H&&Nr(h,y,J,N,R,H)}cX(h,Le,je);return;case"option":for(var fn in w)if(Le=w[fn],w.hasOwnProperty(fn)&&Le!=null&&!R.hasOwnProperty(fn))switch(fn){case"selected":h.selected=!1;break;default:Nr(h,y,fn,null,R,Le)}for(Se in R)if(Le=R[Se],je=w[Se],R.hasOwnProperty(Se)&&Le!==je&&(Le!=null||je!=null))switch(Se){case"selected":h.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Nr(h,y,Se,Le,R,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var cn in w)Le=w[cn],w.hasOwnProperty(cn)&&Le!=null&&!R.hasOwnProperty(cn)&&Nr(h,y,cn,null,R,Le);for(Fe in R)if(Le=R[Fe],je=w[Fe],R.hasOwnProperty(Fe)&&Le!==je&&(Le!=null||je!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,y));break;default:Nr(h,y,Fe,Le,R,je)}return;default:if(K5(y)){for(var Lr in w)Le=w[Lr],w.hasOwnProperty(Lr)&&Le!==void 0&&!R.hasOwnProperty(Lr)&&IF(h,y,Lr,void 0,R,Le);for(Ye in R)Le=R[Ye],je=w[Ye],!R.hasOwnProperty(Ye)||Le===je||Le===void 0&&je===void 0||IF(h,y,Ye,Le,R,je);return}}for(var Ae in w)Le=w[Ae],w.hasOwnProperty(Ae)&&Le!=null&&!R.hasOwnProperty(Ae)&&Nr(h,y,Ae,null,R,Le);for(rt in R)Le=R[rt],je=w[rt],!R.hasOwnProperty(rt)||Le===je||Le==null&&je==null||Nr(h,y,rt,Le,R,je)}var $F=null,FF=null;function fR(h){return h.nodeType===9?h:h.ownerDocument}function dZ(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fZ(h,y){if(h===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&y==="foreignObject"?0:h}function NF(h,y){return h==="textarea"||h==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var LF=null;function DDe(){var h=window.event;return h&&h.type==="popstate"?h===LF?!1:(LF=h,!0):(LF=null,!1)}var pZ=typeof setTimeout=="function"?setTimeout:void 0,PDe=typeof clearTimeout=="function"?clearTimeout:void 0,hZ=typeof Promise=="function"?Promise:void 0,IDe=typeof queueMicrotask=="function"?queueMicrotask:typeof hZ<"u"?function(h){return hZ.resolve(null).then(h).catch($De)}:pZ;function $De(h){setTimeout(function(){throw h})}function Vp(h){return h==="head"}function gZ(h,y){var w=y,R=0,N=0;do{var H=w.nextSibling;if(h.removeChild(w),H&&H.nodeType===8)if(w=H.data,w==="/$"){if(0<R&&8>R){w=R;var J=h.ownerDocument;if(w&1&&JS(J.documentElement),w&2&&JS(J.body),w&4)for(w=J.head,JS(w),J=w.firstChild;J;){var le=J.nextSibling,Se=J.nodeName;J[On]||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&J.rel.toLowerCase()==="stylesheet"||w.removeChild(J),J=le}}if(N===0){h.removeChild(H),aw(y);return}N--}else w==="$"||w==="$?"||w==="$!"?N++:R=w.charCodeAt(0)-48;else R=0;w=H}while(w);aw(y)}function jF(h){var y=h.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var w=y;switch(y=y.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":jF(w),Hn(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}h.removeChild(w)}}function FDe(h,y,w,R){for(;h.nodeType===1;){var N=w;if(h.nodeName.toLowerCase()!==y.toLowerCase()){if(!R&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(R){if(!h[On])switch(y){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(H=h.getAttribute("rel"),H==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(H!==N.rel||h.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||h.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||h.getAttribute("title")!==(N.title==null?null:N.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(H=h.getAttribute("src"),(H!==(N.src==null?null:N.src)||h.getAttribute("type")!==(N.type==null?null:N.type)||h.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&H&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(y==="input"&&h.type==="hidden"){var H=N.name==null?null:""+N.name;if(N.type==="hidden"&&h.getAttribute("name")===H)return h}else return h;if(h=Ac(h.nextSibling),h===null)break}return null}function NDe(h,y,w){if(y==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!w||(h=Ac(h.nextSibling),h===null))return null;return h}function zF(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function LDe(h,y){var w=h.ownerDocument;if(h.data!=="$?"||w.readyState==="complete")y();else{var R=function(){y(),w.removeEventListener("DOMContentLoaded",R)};w.addEventListener("DOMContentLoaded",R),h._reactRetry=R}}function Ac(h){for(;h!=null;h=h.nextSibling){var y=h.nodeType;if(y===1||y===3)break;if(y===8){if(y=h.data,y==="$"||y==="$!"||y==="$?"||y==="F!"||y==="F")break;if(y==="/$")return null}}return h}var BF=null;function mZ(h){h=h.previousSibling;for(var y=0;h;){if(h.nodeType===8){var w=h.data;if(w==="$"||w==="$!"||w==="$?"){if(y===0)return h;y--}else w==="/$"&&y++}h=h.previousSibling}return null}function yZ(h,y,w){switch(y=fR(w),h){case"html":if(h=y.documentElement,!h)throw Error(r(452));return h;case"head":if(h=y.head,!h)throw Error(r(453));return h;case"body":if(h=y.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}function JS(h){for(var y=h.attributes;y.length;)h.removeAttributeNode(y[0]);Hn(h)}var Pl=new Map,vZ=new Set;function pR(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var cf=V.d;V.d={f:jDe,r:zDe,D:BDe,C:UDe,L:HDe,m:VDe,X:qDe,S:WDe,M:GDe};function jDe(){var h=cf.f(),y=iR();return h||y}function zDe(h){var y=Qs(h);y!==null&&y.tag===5&&y.type==="form"?LK(y):cf.r(h)}var Cv=typeof document>"u"?null:document;function bZ(h,y,w){var R=Cv;if(R&&typeof y=="string"&&y){var N=ta(y);N='link[rel="'+h+'"][href="'+N+'"]',typeof w=="string"&&(N+='[crossorigin="'+w+'"]'),vZ.has(N)||(vZ.add(N),h={rel:h,crossOrigin:w,href:y},R.querySelector(N)===null&&(y=R.createElement("link"),Do(y,"link",h),yt(y),R.head.appendChild(y)))}}function BDe(h){cf.D(h),bZ("dns-prefetch",h,null)}function UDe(h,y){cf.C(h,y),bZ("preconnect",h,y)}function HDe(h,y,w){cf.L(h,y,w);var R=Cv;if(R&&h&&y){var N='link[rel="preload"][as="'+ta(y)+'"]';y==="image"&&w&&w.imageSrcSet?(N+='[imagesrcset="'+ta(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(N+='[imagesizes="'+ta(w.imageSizes)+'"]')):N+='[href="'+ta(h)+'"]';var H=N;switch(y){case"style":H=_v(h);break;case"script":H=Ev(h)}Pl.has(H)||(h=u({rel:"preload",href:y==="image"&&w&&w.imageSrcSet?void 0:h,as:y},w),Pl.set(H,h),R.querySelector(N)!==null||y==="style"&&R.querySelector(ew(H))||y==="script"&&R.querySelector(tw(H))||(y=R.createElement("link"),Do(y,"link",h),yt(y),R.head.appendChild(y)))}}function VDe(h,y){cf.m(h,y);var w=Cv;if(w&&h){var R=y&&typeof y.as=="string"?y.as:"script",N='link[rel="modulepreload"][as="'+ta(R)+'"][href="'+ta(h)+'"]',H=N;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=Ev(h)}if(!Pl.has(H)&&(h=u({rel:"modulepreload",href:h},y),Pl.set(H,h),w.querySelector(N)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(tw(H)))return}R=w.createElement("link"),Do(R,"link",h),yt(R),w.head.appendChild(R)}}}function WDe(h,y,w){cf.S(h,y,w);var R=Cv;if(R&&h){var N=He(R).hoistableStyles,H=_v(h);y=y||"default";var J=N.get(H);if(!J){var le={loading:0,preload:null};if(J=R.querySelector(ew(H)))le.loading=5;else{h=u({rel:"stylesheet",href:h,"data-precedence":y},w),(w=Pl.get(H))&&UF(h,w);var Se=J=R.createElement("link");yt(Se),Do(Se,"link",h),Se._p=new Promise(function(Fe,Ye){Se.onload=Fe,Se.onerror=Ye}),Se.addEventListener("load",function(){le.loading|=1}),Se.addEventListener("error",function(){le.loading|=2}),le.loading|=4,hR(J,y,R)}J={type:"stylesheet",instance:J,count:1,state:le},N.set(H,J)}}}function qDe(h,y){cf.X(h,y);var w=Cv;if(w&&h){var R=He(w).hoistableScripts,N=Ev(h),H=R.get(N);H||(H=w.querySelector(tw(N)),H||(h=u({src:h,async:!0},y),(y=Pl.get(N))&&HF(h,y),H=w.createElement("script"),yt(H),Do(H,"link",h),w.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},R.set(N,H))}}function GDe(h,y){cf.M(h,y);var w=Cv;if(w&&h){var R=He(w).hoistableScripts,N=Ev(h),H=R.get(N);H||(H=w.querySelector(tw(N)),H||(h=u({src:h,async:!0,type:"module"},y),(y=Pl.get(N))&&HF(h,y),H=w.createElement("script"),yt(H),Do(H,"link",h),w.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},R.set(N,H))}}function xZ(h,y,w,R){var N=(N=te.current)?pR(N):null;if(!N)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(y=_v(w.href),w=He(N).hoistableStyles,R=w.get(y),R||(R={type:"style",instance:null,count:0,state:null},w.set(y,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){h=_v(w.href);var H=He(N).hoistableStyles,J=H.get(h);if(J||(N=N.ownerDocument||N,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(h,J),(H=N.querySelector(ew(h)))&&!H._p&&(J.instance=H,J.state.loading=5),Pl.has(h)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},Pl.set(h,w),H||YDe(N,h,w,J.state))),y&&R===null)throw Error(r(528,""));return J}if(y&&R!==null)throw Error(r(529,""));return null;case"script":return y=w.async,w=w.src,typeof w=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=Ev(w),w=He(N).hoistableScripts,R=w.get(y),R||(R={type:"script",instance:null,count:0,state:null},w.set(y,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function _v(h){return'href="'+ta(h)+'"'}function ew(h){return'link[rel="stylesheet"]['+h+"]"}function SZ(h){return u({},h,{"data-precedence":h.precedence,precedence:null})}function YDe(h,y,w,R){h.querySelector('link[rel="preload"][as="style"]['+y+"]")?R.loading=1:(y=h.createElement("link"),R.preload=y,y.addEventListener("load",function(){return R.loading|=1}),y.addEventListener("error",function(){return R.loading|=2}),Do(y,"link",w),yt(y),h.head.appendChild(y))}function Ev(h){return'[src="'+ta(h)+'"]'}function tw(h){return"script[async]"+h}function wZ(h,y,w){if(y.count++,y.instance===null)switch(y.type){case"style":var R=h.querySelector('style[data-href~="'+ta(w.href)+'"]');if(R)return y.instance=R,yt(R),R;var N=u({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return R=(h.ownerDocument||h).createElement("style"),yt(R),Do(R,"style",N),hR(R,w.precedence,h),y.instance=R;case"stylesheet":N=_v(w.href);var H=h.querySelector(ew(N));if(H)return y.state.loading|=4,y.instance=H,yt(H),H;R=SZ(w),(N=Pl.get(N))&&UF(R,N),H=(h.ownerDocument||h).createElement("link"),yt(H);var J=H;return J._p=new Promise(function(le,Se){J.onload=le,J.onerror=Se}),Do(H,"link",R),y.state.loading|=4,hR(H,w.precedence,h),y.instance=H;case"script":return H=Ev(w.src),(N=h.querySelector(tw(H)))?(y.instance=N,yt(N),N):(R=w,(N=Pl.get(H))&&(R=u({},w),HF(R,N)),h=h.ownerDocument||h,N=h.createElement("script"),yt(N),Do(N,"link",R),h.head.appendChild(N),y.instance=N);case"void":return null;default:throw Error(r(443,y.type))}else y.type==="stylesheet"&&(y.state.loading&4)===0&&(R=y.instance,y.state.loading|=4,hR(R,w.precedence,h));return y.instance}function hR(h,y,w){for(var R=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=R.length?R[R.length-1]:null,H=N,J=0;J<R.length;J++){var le=R[J];if(le.dataset.precedence===y)H=le;else if(H!==N)break}H?H.parentNode.insertBefore(h,H.nextSibling):(y=w.nodeType===9?w.head:w,y.insertBefore(h,y.firstChild))}function UF(h,y){h.crossOrigin==null&&(h.crossOrigin=y.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=y.referrerPolicy),h.title==null&&(h.title=y.title)}function HF(h,y){h.crossOrigin==null&&(h.crossOrigin=y.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=y.referrerPolicy),h.integrity==null&&(h.integrity=y.integrity)}var gR=null;function CZ(h,y,w){if(gR===null){var R=new Map,N=gR=new Map;N.set(w,R)}else N=gR,R=N.get(w),R||(R=new Map,N.set(w,R));if(R.has(h))return R;for(R.set(h,null),w=w.getElementsByTagName(h),N=0;N<w.length;N++){var H=w[N];if(!(H[On]||H[Bt]||h==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var J=H.getAttribute(y)||"";J=h+J;var le=R.get(J);le?le.push(H):R.set(J,[H])}}return R}function _Z(h,y,w){h=h.ownerDocument||h,h.head.insertBefore(w,y==="title"?h.querySelector("head > title"):null)}function XDe(h,y,w){if(w===1||y.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;switch(y.rel){case"stylesheet":return h=y.disabled,typeof y.precedence=="string"&&h==null;default:return!0}case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function EZ(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var nw=null;function KDe(){}function QDe(h,y,w){if(nw===null)throw Error(r(475));var R=nw;if(y.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var N=_v(w.href),H=h.querySelector(ew(N));if(H){h=H._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(R.count++,R=mR.bind(R),h.then(R,R)),y.state.loading|=4,y.instance=H,yt(H);return}H=h.ownerDocument||h,w=SZ(w),(N=Pl.get(N))&&UF(w,N),H=H.createElement("link"),yt(H);var J=H;J._p=new Promise(function(le,Se){J.onload=le,J.onerror=Se}),Do(H,"link",w),y.instance=H}R.stylesheets===null&&(R.stylesheets=new Map),R.stylesheets.set(y,h),(h=y.state.preload)&&(y.state.loading&3)===0&&(R.count++,y=mR.bind(R),h.addEventListener("load",y),h.addEventListener("error",y))}}function ZDe(){if(nw===null)throw Error(r(475));var h=nw;return h.stylesheets&&h.count===0&&VF(h,h.stylesheets),0<h.count?function(y){var w=setTimeout(function(){if(h.stylesheets&&VF(h,h.stylesheets),h.unsuspend){var R=h.unsuspend;h.unsuspend=null,R()}},6e4);return h.unsuspend=y,function(){h.unsuspend=null,clearTimeout(w)}}:null}function mR(){if(this.count--,this.count===0){if(this.stylesheets)VF(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var yR=null;function VF(h,y){h.stylesheets=null,h.unsuspend!==null&&(h.count++,yR=new Map,y.forEach(JDe,h),yR=null,mR.call(h))}function JDe(h,y){if(!(y.state.loading&4)){var w=yR.get(h);if(w)var R=w.get(null);else{w=new Map,yR.set(h,w);for(var N=h.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<N.length;H++){var J=N[H];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(w.set(J.dataset.precedence,J),R=J)}R&&w.set(null,R)}N=y.instance,J=N.getAttribute("data-precedence"),H=w.get(J)||R,H===R&&w.set(null,N),w.set(J,N),this.count++,R=mR.bind(this),N.addEventListener("load",R),N.addEventListener("error",R),H?H.parentNode.insertBefore(N,H.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(N,h.firstChild)),y.state.loading|=4}}var rw={$$typeof:C,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function ePe(h,y,w,R,N,H,J,le){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=R,this.onUncaughtError=N,this.onCaughtError=H,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function kZ(h,y,w,R,N,H,J,le,Se,Fe,Ye,rt){return h=new ePe(h,y,w,J,le,Se,Fe,rt),y=1,H===!0&&(y|=24),H=Fa(3,null,null,y),h.current=H,H.stateNode=h,y=E3(),y.refCount++,h.pooledCache=y,y.refCount++,H.memoizedState={element:R,isDehydrated:w,cache:y},M3(H),h}function RZ(h){return h?(h=nv,h):nv}function TZ(h,y,w,R,N,H){N=RZ(N),R.context===null?R.context=N:R.pendingContext=N,R=Op(y),R.payload={element:w},H=H===void 0?null:H,H!==null&&(R.callback=H),w=Dp(h,R,y),w!==null&&(Ba(w,h,y),PS(w,h,y))}function MZ(h,y){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<y?w:y}}function WF(h,y){MZ(h,y),(h=h.alternate)&&MZ(h,y)}function AZ(h){if(h.tag===13){var y=tv(h,67108864);y!==null&&Ba(y,h,67108864),WF(h,67108864)}}var vR=!0;function tPe(h,y,w,R){var N=L.T;L.T=null;var H=V.p;try{V.p=2,qF(h,y,w,R)}finally{V.p=H,L.T=N}}function nPe(h,y,w,R){var N=L.T;L.T=null;var H=V.p;try{V.p=8,qF(h,y,w,R)}finally{V.p=H,L.T=N}}function qF(h,y,w,R){if(vR){var N=GF(R);if(N===null)PF(h,y,R,bR,w),DZ(h,R);else if(iPe(N,h,y,w,R))R.stopPropagation();else if(DZ(h,R),y&4&&-1<rPe.indexOf(h)){for(;N!==null;){var H=Qs(N);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var J=Me(H.pendingLanes);if(J!==0){var le=H;for(le.pendingLanes|=2,le.entangledLanes|=2;J;){var Se=1<<31-Ie(J);le.entanglements[1]|=Se,J&=~Se}$u(H),(Ar&6)===0&&(nR=X()+500,KS(0))}}break;case 13:le=tv(H,2),le!==null&&Ba(le,H,2),iR(),WF(H,2)}if(H=GF(R),H===null&&PF(h,y,R,bR,w),H===N)break;N=H}N!==null&&R.stopPropagation()}else PF(h,y,R,null,w)}}function GF(h){return h=Z5(h),YF(h)}var bR=null;function YF(h){if(bR=null,h=ti(h),h!==null){var y=o(h);if(y===null)h=null;else{var w=y.tag;if(w===13){if(h=s(y),h!==null)return h;h=null}else if(w===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;h=null}else y!==h&&(h=null)}}return bR=h,null}function OZ(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z()){case oe:return 2;case ge:return 8;case be:case de:return 32;case Re:return 268435456;default:return 32}default:return 32}}var XF=!1,Wp=null,qp=null,Gp=null,iw=new Map,ow=new Map,Yp=[],rPe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DZ(h,y){switch(h){case"focusin":case"focusout":Wp=null;break;case"dragenter":case"dragleave":qp=null;break;case"mouseover":case"mouseout":Gp=null;break;case"pointerover":case"pointerout":iw.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":ow.delete(y.pointerId)}}function sw(h,y,w,R,N,H){return h===null||h.nativeEvent!==H?(h={blockedOn:y,domEventName:w,eventSystemFlags:R,nativeEvent:H,targetContainers:[N]},y!==null&&(y=Qs(y),y!==null&&AZ(y)),h):(h.eventSystemFlags|=R,y=h.targetContainers,N!==null&&y.indexOf(N)===-1&&y.push(N),h)}function iPe(h,y,w,R,N){switch(y){case"focusin":return Wp=sw(Wp,h,y,w,R,N),!0;case"dragenter":return qp=sw(qp,h,y,w,R,N),!0;case"mouseover":return Gp=sw(Gp,h,y,w,R,N),!0;case"pointerover":var H=N.pointerId;return iw.set(H,sw(iw.get(H)||null,h,y,w,R,N)),!0;case"gotpointercapture":return H=N.pointerId,ow.set(H,sw(ow.get(H)||null,h,y,w,R,N)),!0}return!1}function PZ(h){var y=ti(h.target);if(y!==null){var w=o(y);if(w!==null){if(y=w.tag,y===13){if(y=s(w),y!==null){h.blockedOn=y,xt(h.priority,function(){if(w.tag===13){var R=za();R=jt(R);var N=tv(w,R);N!==null&&Ba(N,w,R),WF(w,R)}});return}}else if(y===3&&w.stateNode.current.memoizedState.isDehydrated){h.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}h.blockedOn=null}function xR(h){if(h.blockedOn!==null)return!1;for(var y=h.targetContainers;0<y.length;){var w=GF(h.nativeEvent);if(w===null){w=h.nativeEvent;var R=new w.constructor(w.type,w);Q5=R,w.target.dispatchEvent(R),Q5=null}else return y=Qs(w),y!==null&&AZ(y),h.blockedOn=w,!1;y.shift()}return!0}function IZ(h,y,w){xR(h)&&w.delete(y)}function oPe(){XF=!1,Wp!==null&&xR(Wp)&&(Wp=null),qp!==null&&xR(qp)&&(qp=null),Gp!==null&&xR(Gp)&&(Gp=null),iw.forEach(IZ),ow.forEach(IZ)}function SR(h,y){h.blockedOn===y&&(h.blockedOn=null,XF||(XF=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oPe)))}var wR=null;function $Z(h){wR!==h&&(wR=h,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wR===h&&(wR=null);for(var y=0;y<h.length;y+=3){var w=h[y],R=h[y+1],N=h[y+2];if(typeof R!="function"){if(YF(R||w)===null)continue;break}var H=Qs(w);H!==null&&(h.splice(y,3),y-=3,Y3(H,{pending:!0,data:N,method:w.method,action:R},R,N))}}))}function aw(h){function y(Se){return SR(Se,h)}Wp!==null&&SR(Wp,h),qp!==null&&SR(qp,h),Gp!==null&&SR(Gp,h),iw.forEach(y),ow.forEach(y);for(var w=0;w<Yp.length;w++){var R=Yp[w];R.blockedOn===h&&(R.blockedOn=null)}for(;0<Yp.length&&(w=Yp[0],w.blockedOn===null);)PZ(w),w.blockedOn===null&&Yp.shift();if(w=(h.ownerDocument||h).$$reactFormReplay,w!=null)for(R=0;R<w.length;R+=3){var N=w[R],H=w[R+1],J=N[Kt]||null;if(typeof H=="function")J||$Z(w);else if(J){var le=null;if(H&&H.hasAttribute("formAction")){if(N=H,J=H[Kt]||null)le=J.formAction;else if(YF(N)!==null)continue}else le=J.action;typeof le=="function"?w[R+1]=le:(w.splice(R,3),R-=3),$Z(w)}}}function KF(h){this._internalRoot=h}CR.prototype.render=KF.prototype.render=function(h){var y=this._internalRoot;if(y===null)throw Error(r(409));var w=y.current,R=za();TZ(w,R,h,y,null,null)},CR.prototype.unmount=KF.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var y=h.containerInfo;TZ(h.current,2,null,h,null,null),iR(),y[gt]=null}};function CR(h){this._internalRoot=h}CR.prototype.unstable_scheduleHydration=function(h){if(h){var y=dr();h={blockedOn:null,target:h,priority:y};for(var w=0;w<Yp.length&&y!==0&&y<Yp[w].priority;w++);Yp.splice(w,0,h),w===0&&PZ(h)}};var FZ=t.version;if(FZ!=="19.1.0")throw Error(r(527,FZ,"19.1.0"));V.findDOMNode=function(h){var y=h._reactInternals;if(y===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=l(y),h=h!==null?c(h):null,h=h===null?null:h.stateNode,h};var sPe={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _R=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_R.isDisabled&&_R.supportsFiber)try{we=_R.inject(sPe),Oe=_R}catch{}}return uw.createRoot=function(h,y){if(!i(h))throw Error(r(299));var w=!1,R="",N=ZK,H=JK,J=eQ,le=null;return y!=null&&(y.unstable_strictMode===!0&&(w=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onUncaughtError!==void 0&&(N=y.onUncaughtError),y.onCaughtError!==void 0&&(H=y.onCaughtError),y.onRecoverableError!==void 0&&(J=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(le=y.unstable_transitionCallbacks)),y=kZ(h,1,!1,null,null,w,R,N,H,J,le,null),h[gt]=y.current,DF(h),new KF(y)},uw.hydrateRoot=function(h,y,w){if(!i(h))throw Error(r(299));var R=!1,N="",H=ZK,J=JK,le=eQ,Se=null,Fe=null;return w!=null&&(w.unstable_strictMode===!0&&(R=!0),w.identifierPrefix!==void 0&&(N=w.identifierPrefix),w.onUncaughtError!==void 0&&(H=w.onUncaughtError),w.onCaughtError!==void 0&&(J=w.onCaughtError),w.onRecoverableError!==void 0&&(le=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&(Se=w.unstable_transitionCallbacks),w.formState!==void 0&&(Fe=w.formState)),y=kZ(h,1,!0,y,w??null,R,N,H,J,le,Se,Fe),y.context=RZ(null),w=y.current,R=za(),R=jt(R),N=Op(R),N.callback=null,Dp(w,N,R),w=R,y.current.lanes=w,It(y,w),$u(y),h[gt]=y.current,DF(h),new CR(y)},uw.version="19.1.0",uw}var See;function lze(){if(See)return xN.exports;See=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xN.exports=aze(),xN.exports}var cze=lze();const E_={black:"#000",white:"#fff"},Rv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Tv={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Mv={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Av={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ov={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},dw={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},uze={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function op(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const rc="$$material";function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(null,arguments)}function dze(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function fze(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var pze=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fze(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=dze(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),es="-ms-",LA="-moz-",br="-webkit-",Kpe="comm",s7="rule",a7="decl",hze="@import",Qpe="@keyframes",gze="@layer",mze=Math.abs,wP=String.fromCharCode,yze=Object.assign;function vze(e,t){return $o(e,0)^45?(((t<<2^$o(e,0))<<2^$o(e,1))<<2^$o(e,2))<<2^$o(e,3):0}function Zpe(e){return e.trim()}function bze(e,t){return(e=t.exec(e))?e[0]:e}function xr(e,t,n){return e.replace(t,n)}function Mz(e,t){return e.indexOf(t)}function $o(e,t){return e.charCodeAt(t)|0}function k_(e,t,n){return e.slice(t,n)}function Ku(e){return e.length}function l7(e){return e.length}function zR(e,t){return t.push(e),e}function xze(e,t){return e.map(t).join("")}var CP=1,g1=1,Jpe=0,Sa=0,qi=0,_x="";function _P(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:CP,column:g1,length:s,return:""}}function fw(e,t){return yze(_P("",null,null,"",null,null,0),e,{length:-e.length},t)}function Sze(){return qi}function wze(){return qi=Sa>0?$o(_x,--Sa):0,g1--,qi===10&&(g1=1,CP--),qi}function rl(){return qi=Sa<Jpe?$o(_x,Sa++):0,g1++,qi===10&&(g1=1,CP++),qi}function ud(){return $o(_x,Sa)}function RM(){return Sa}function GE(e,t){return k_(_x,e,t)}function R_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ehe(e){return CP=g1=1,Jpe=Ku(_x=e),Sa=0,[]}function the(e){return _x="",e}function TM(e){return Zpe(GE(Sa-1,Az(e===91?e+2:e===40?e+1:e)))}function Cze(e){for(;(qi=ud())&&qi<33;)rl();return R_(e)>2||R_(qi)>3?"":" "}function _ze(e,t){for(;--t&&rl()&&!(qi<48||qi>102||qi>57&&qi<65||qi>70&&qi<97););return GE(e,RM()+(t<6&&ud()==32&&rl()==32))}function Az(e){for(;rl();)switch(qi){case e:return Sa;case 34:case 39:e!==34&&e!==39&&Az(qi);break;case 40:e===41&&Az(e);break;case 92:rl();break}return Sa}function Eze(e,t){for(;rl()&&e+qi!==57;)if(e+qi===84&&ud()===47)break;return"/*"+GE(t,Sa-1)+"*"+wP(e===47?e:rl())}function kze(e){for(;!R_(ud());)rl();return GE(e,Sa)}function Rze(e){return the(MM("",null,null,null,[""],e=ehe(e),0,[0],e))}function MM(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,p=0,g=0,m=1,v=1,b=1,S=0,C="",_=i,E=o,T=r,k=C;v;)switch(g=S,S=rl()){case 40:if(g!=108&&$o(k,d-1)==58){Mz(k+=xr(TM(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=TM(S);break;case 9:case 10:case 13:case 32:k+=Cze(g);break;case 92:k+=_ze(RM()-1,7);continue;case 47:switch(ud()){case 42:case 47:zR(Tze(Eze(rl(),RM()),t,n),l);break;default:k+="/"}break;case 123*m:a[c++]=Ku(k)*b;case 125*m:case 59:case 0:switch(S){case 0:case 125:v=0;case 59+u:b==-1&&(k=xr(k,/\f/g,"")),p>0&&Ku(k)-d&&zR(p>32?Cee(k+";",r,n,d-1):Cee(xr(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(zR(T=wee(k,t,n,c,u,i,a,C,_=[],E=[],d),o),S===123)if(u===0)MM(k,t,T,T,_,o,d,a,E);else switch(f===99&&$o(k,3)===110?100:f){case 100:case 108:case 109:case 115:MM(e,T,T,r&&zR(wee(e,T,T,0,0,i,a,C,i,_=[],d),E),i,E,d,a,r?_:E);break;default:MM(k,T,T,T,[""],E,0,a,E)}}c=u=p=0,m=b=1,C=k="",d=s;break;case 58:d=1+Ku(k),p=g;default:if(m<1){if(S==123)--m;else if(S==125&&m++==0&&wze()==125)continue}switch(k+=wP(S),S*m){case 38:b=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(Ku(k)-1)*b,b=1;break;case 64:ud()===45&&(k+=TM(rl())),f=ud(),u=d=Ku(C=k+=kze(RM())),S++;break;case 45:g===45&&Ku(k)==2&&(m=0)}}return o}function wee(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],p=l7(f),g=0,m=0,v=0;g<r;++g)for(var b=0,S=k_(e,d+1,d=mze(m=s[g])),C=e;b<p;++b)(C=Zpe(m>0?f[b]+" "+S:xr(S,/&\f/g,f[b])))&&(l[v++]=C);return _P(e,t,n,i===0?s7:a,l,c,u)}function Tze(e,t,n){return _P(e,t,n,Kpe,wP(Sze()),k_(e,2,-2),0)}function Cee(e,t,n,r){return _P(e,t,n,a7,k_(e,0,r),k_(e,r+1,-1),r)}function Cb(e,t){for(var n="",r=l7(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Mze(e,t,n,r){switch(e.type){case gze:if(e.children.length)break;case hze:case a7:return e.return=e.return||e.value;case Kpe:return"";case Qpe:return e.return=e.value+"{"+Cb(e.children,r)+"}";case s7:e.value=e.props.join(",")}return Ku(n=Cb(e.children,r))?e.return=e.value+"{"+n+"}":""}function Aze(e){var t=l7(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function Oze(e){return function(t){t.root||(t=t.return)&&e(t)}}function nhe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Dze=function(t,n,r){for(var i=0,o=0;i=o,o=ud(),i===38&&o===12&&(n[r]=1),!R_(o);)rl();return GE(t,Sa)},Pze=function(t,n){var r=-1,i=44;do switch(R_(i)){case 0:i===38&&ud()===12&&(n[r]=1),t[r]+=Dze(Sa-1,n,r);break;case 2:t[r]+=TM(i);break;case 4:if(i===44){t[++r]=ud()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wP(i)}while(i=rl());return t},Ize=function(t,n){return the(Pze(ehe(t),n))},_ee=new WeakMap,$ze=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!_ee.get(r))&&!i){_ee.set(t,!0);for(var o=[],s=Ize(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},Fze=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function rhe(e,t){switch(vze(e,t)){case 5103:return br+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return br+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return br+e+LA+e+es+e+e;case 6828:case 4268:return br+e+es+e+e;case 6165:return br+e+es+"flex-"+e+e;case 5187:return br+e+xr(e,/(\w+).+(:[^]+)/,br+"box-$1$2"+es+"flex-$1$2")+e;case 5443:return br+e+es+"flex-item-"+xr(e,/flex-|-self/,"")+e;case 4675:return br+e+es+"flex-line-pack"+xr(e,/align-content|flex-|-self/,"")+e;case 5548:return br+e+es+xr(e,"shrink","negative")+e;case 5292:return br+e+es+xr(e,"basis","preferred-size")+e;case 6060:return br+"box-"+xr(e,"-grow","")+br+e+es+xr(e,"grow","positive")+e;case 4554:return br+xr(e,/([^-])(transform)/g,"$1"+br+"$2")+e;case 6187:return xr(xr(xr(e,/(zoom-|grab)/,br+"$1"),/(image-set)/,br+"$1"),e,"")+e;case 5495:case 3959:return xr(e,/(image-set\([^]*)/,br+"$1$`$1");case 4968:return xr(xr(e,/(.+:)(flex-)?(.*)/,br+"box-pack:$3"+es+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+br+e+e;case 4095:case 3583:case 4068:case 2532:return xr(e,/(.+)-inline(.+)/,br+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ku(e)-1-t>6)switch($o(e,t+1)){case 109:if($o(e,t+4)!==45)break;case 102:return xr(e,/(.+:)(.+)-([^]+)/,"$1"+br+"$2-$3$1"+LA+($o(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Mz(e,"stretch")?rhe(xr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if($o(e,t+1)!==115)break;case 6444:switch($o(e,Ku(e)-3-(~Mz(e,"!important")&&10))){case 107:return xr(e,":",":"+br)+e;case 101:return xr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+br+($o(e,14)===45?"inline-":"")+"box$3$1"+br+"$2$3$1"+es+"$2box$3")+e}break;case 5936:switch($o(e,t+11)){case 114:return br+e+es+xr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return br+e+es+xr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return br+e+es+xr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return br+e+es+e+e}return e}var Nze=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case a7:t.return=rhe(t.value,t.length);break;case Qpe:return Cb([fw(t,{value:xr(t.value,"@","@"+br)})],i);case s7:if(t.length)return xze(t.props,function(o){switch(bze(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cb([fw(t,{props:[xr(o,/:(read-\w+)/,":"+LA+"$1")]})],i);case"::placeholder":return Cb([fw(t,{props:[xr(o,/:(plac\w+)/,":"+br+"input-$1")]}),fw(t,{props:[xr(o,/:(plac\w+)/,":"+LA+"$1")]}),fw(t,{props:[xr(o,/:(plac\w+)/,es+"input-$1")]})],i)}return""})}},Lze=[Nze],jze=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||Lze,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)o[v[b]]=!0;a.push(m)});var l,c=[$ze,Fze];{var u,d=[Mze,Oze(function(m){u.insert(m)})],f=Aze(c.concat(i,d)),p=function(v){return Cb(Rze(v),f)};l=function(v,b,S,C){u=S,p(v?v+"{"+b.styles+"}":b.styles),C&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new pze({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},zze=!0;function ihe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var c7=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||zze===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},u7=function(t,n,r){c7(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Bze(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Uze={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hze=/[A-Z]|^ms/g,Vze=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ohe=function(t){return t.charCodeAt(1)===45},Eee=function(t){return t!=null&&typeof t!="boolean"},_N=nhe(function(e){return ohe(e)?e:e.replace(Hze,"-$&").toLowerCase()}),kee=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Vze,function(r,i,o){return Qu={name:i,styles:o,next:Qu},i})}return Uze[t]!==1&&!ohe(t)&&typeof n=="number"&&n!==0?n+"px":n};function T_(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Qu={name:i.name,styles:i.styles,next:Qu},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Qu={name:s.name,styles:s.styles,next:Qu},s=s.next;var a=o.styles+";";return a}return Wze(e,t,n)}case"function":{if(e!==void 0){var l=Qu,c=n(e);return Qu=l,T_(e,t,c)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function Wze(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=T_(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":Eee(a)&&(r+=_N(o)+":"+kee(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)Eee(s[l])&&(r+=_N(o)+":"+kee(o,s[l])+";");else{var c=T_(e,t,s);switch(o){case"animation":case"animationName":{r+=_N(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var Ree=/label:\s*([^\s;{]+)\s*(;|$)/g,Qu;function YE(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Qu=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=T_(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=T_(n,t,e[a]),r){var l=o;i+=l[a]}Ree.lastIndex=0;for(var c="",u;(u=Ree.exec(i))!==null;)c+="-"+u[1];var d=Bze(i)+c;return{name:d,styles:i,next:Qu}}var qze=function(t){return t()},she=NA.useInsertionEffect?NA.useInsertionEffect:!1,ahe=she||qze,Tee=she||O.useLayoutEffect,lhe=O.createContext(typeof HTMLElement<"u"?jze({key:"css"}):null);lhe.Provider;var d7=function(t){return O.forwardRef(function(n,r){var i=O.useContext(lhe);return t(n,i,r)})},XE=O.createContext({}),f7={}.hasOwnProperty,Oz="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Gze=function(t,n){var r={};for(var i in n)f7.call(n,i)&&(r[i]=n[i]);return r[Oz]=t,r},Yze=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return c7(n,r,i),ahe(function(){return u7(n,r,i)}),null},Xze=d7(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[Oz],o=[r],s="";typeof e.className=="string"?s=ihe(t.registered,o,e.className):e.className!=null&&(s=e.className+" ");var a=YE(o,void 0,O.useContext(XE));s+=t.key+"-"+a.name;var l={};for(var c in e)f7.call(e,c)&&c!=="css"&&c!==Oz&&(l[c]=e[c]);return l.className=s,n&&(l.ref=n),O.createElement(O.Fragment,null,O.createElement(Yze,{cache:t,serialized:a,isStringTag:typeof i=="string"}),O.createElement(i,l))}),Kze=Xze,Mee=function(t,n){var r=arguments;if(n==null||!f7.call(n,"css"))return O.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=Kze,o[1]=Gze(t,n);for(var s=2;s<i;s++)o[s]=r[s];return O.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Mee||(Mee={}));var Qze=d7(function(e,t){var n=e.styles,r=YE([n],void 0,O.useContext(XE)),i=O.useRef();return Tee(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),Tee(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&u7(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Ag(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YE(t)}function Id(){var e=Ag.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Zze=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Jze=nhe(function(e){return Zze.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),e6e=Jze,t6e=function(t){return t!=="theme"},Aee=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?e6e:t6e},Oee=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},n6e=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return c7(n,r,i),ahe(function(){return u7(n,r,i)}),null},r6e=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=Oee(t,n,r),l=a||Aee(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var p=u.length,g=1;g<p;g++)d.push(u[g],f[g])}var m=d7(function(v,b,S){var C=c&&v.as||i,_="",E=[],T=v;if(v.theme==null){T={};for(var k in v)T[k]=v[k];T.theme=O.useContext(XE)}typeof v.className=="string"?_=ihe(b.registered,E,v.className):v.className!=null&&(_=v.className+" ");var A=YE(d.concat(E),b.registered,T);_+=b.key+"-"+A.name,s!==void 0&&(_+=" "+s);var P=c&&a===void 0?Aee(C):l,D={};for(var F in v)c&&F==="as"||P(F)&&(D[F]=v[F]);return D.className=_,S&&(D.ref=S),O.createElement(O.Fragment,null,O.createElement(n6e,{cache:b,serialized:A,isStringTag:typeof C=="string"}),O.createElement(C,D))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(v,b){var S=e(v,me({},n,b,{shouldForwardProp:Oee(m,b,!0)}));return S.apply(void 0,d)},m}},i6e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Dz=r6e.bind(null);i6e.forEach(function(e){Dz[e]=Dz(e)});var EN={exports:{}},kN,Dee;function o6e(){if(Dee)return kN;Dee=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kN=e,kN}var RN,Pee;function s6e(){if(Pee)return RN;Pee=1;var e=o6e();function t(){}function n(){}return n.resetWarningCache=t,RN=function(){function r(s,a,l,c,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},RN}var Iee;function che(){return Iee||(Iee=1,EN.exports=s6e()()),EN.exports}var a6e=che();const ee=kg(a6e);function l6e(e){return e==null||Object.keys(e).length===0}function uhe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(l6e(i)?n:i):t;return x.jsx(Qze,{styles:r})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function dhe(e,t){return Dz(e,t)}function c6e(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const $ee=[];function Fee(e){return $ee[0]=e,YE($ee)}var TN={exports:{}},jr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nee;function u6e(){if(Nee)return jr;Nee=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),p=Symbol.for("react.client.reference");function g(m){if(typeof m=="object"&&m!==null){var v=m.$$typeof;switch(v){case e:switch(m=m.type,m){case n:case i:case r:case l:case c:return m;default:switch(m=m&&m.$$typeof,m){case s:case a:case d:case u:return m;case o:return m;default:return v}}case t:return v}}}return jr.ContextConsumer=o,jr.ContextProvider=s,jr.Element=e,jr.ForwardRef=a,jr.Fragment=n,jr.Lazy=d,jr.Memo=u,jr.Portal=t,jr.Profiler=i,jr.StrictMode=r,jr.Suspense=l,jr.SuspenseList=c,jr.isContextConsumer=function(m){return g(m)===o},jr.isContextProvider=function(m){return g(m)===s},jr.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===e},jr.isForwardRef=function(m){return g(m)===a},jr.isFragment=function(m){return g(m)===n},jr.isLazy=function(m){return g(m)===d},jr.isMemo=function(m){return g(m)===u},jr.isPortal=function(m){return g(m)===t},jr.isProfiler=function(m){return g(m)===i},jr.isStrictMode=function(m){return g(m)===r},jr.isSuspense=function(m){return g(m)===l},jr.isSuspenseList=function(m){return g(m)===c},jr.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===n||m===i||m===r||m===l||m===c||m===f||typeof m=="object"&&m!==null&&(m.$$typeof===d||m.$$typeof===u||m.$$typeof===s||m.$$typeof===o||m.$$typeof===a||m.$$typeof===p||m.getModuleId!==void 0)},jr.typeOf=g,jr}var Lee;function d6e(){return Lee||(Lee=1,TN.exports=u6e()),TN.exports}var fhe=d6e();function Ju(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function phe(e){if(O.isValidElement(e)||fhe.isValidElementType(e)||!Ju(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=phe(e[n])}),t}function Li(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Ju(e)&&Ju(t)&&Object.keys(t).forEach(i=>{O.isValidElement(t[i])||fhe.isValidElementType(t[i])?r[i]=t[i]:Ju(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Ju(e[i])?r[i]=Li(e[i],t[i],n):n.clone?r[i]=Ju(t[i])?phe(t[i]):t[i]:r[i]=t[i]}),r}const f6e=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function p6e(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=f6e(t),s=Object.keys(o);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function c(f,p){const g=s.indexOf(p);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:p)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function d(f){const p=s.indexOf(f);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}function h6e(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function g6e(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function m6e(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function y6e(e){const t=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>t(e.breakpoints.up(...a),s),o.down=(...a)=>t(e.breakpoints.down(...a),s),o.between=(...a)=>t(e.breakpoints.between(...a),s),o.only=(...a)=>t(e.breakpoints.only(...a),s),o.not=(...a)=>{const l=t(e.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const v6e={borderRadius:4};function LC(e,t){return t?Li(e,t,{clone:!1}):e}const EP={xs:0,sm:600,md:900,lg:1200,xl:1536},jee={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${EP[e]}px)`},b6e={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:EP[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Uo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||jee;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||jee;return Object.keys(t).reduce((s,a)=>{if(g6e(o.keys,a)){const l=m6e(r.containerQueries?r:b6e,a);l&&(s[l]=n(t[a],a))}else if(Object.keys(o.values||EP).includes(a)){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function hhe(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function ghe(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function x6e(e,...t){const n=hhe(e),r=[n,...t].reduce((i,o)=>Li(i,o),{});return ghe(Object.keys(n),r)}function S6e(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function Lf({values:e,breakpoints:t,base:n}){const r=n||S6e(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,l)=>(Array.isArray(e)?(s[a]=e[l]!=null?e[l]:e[o],o=l):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function Te(e){if(typeof e!="string")throw new Error(op(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Eh(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function jA(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Eh(e,n)||r,t&&(i=t(i,r,e)),i}function Ui(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=Eh(l,r)||{};return Uo(s,a,d=>{let f=jA(c,i,d);return d===f&&typeof d=="string"&&(f=jA(c,i,`${t}${d==="default"?"":Te(d)}`,d)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[t],o}function w6e(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const C6e={m:"margin",p:"padding"},_6e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zee={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},E6e=w6e(e=>{if(e.length>2)if(zee[e])e=zee[e];else return[e];const[t,n]=e.split(""),r=C6e[t],i=_6e[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),p7=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h7=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...p7,...h7];function KE(e,t,n,r){const i=Eh(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function QE(e){return KE(e,"spacing",8)}function dd(e,t){return typeof t=="string"||t==null?t:e(t)}function k6e(e,t){return n=>e.reduce((r,i)=>(r[i]=dd(t,n),r),{})}function R6e(e,t,n,r){if(!t.includes(n))return null;const i=E6e(n),o=k6e(i,r),s=e[n];return Uo(e,s,o)}function mhe(e,t){const n=QE(e.theme);return Object.keys(e).map(r=>R6e(e,t,r,n)).reduce(LC,{})}function Si(e){return mhe(e,p7)}Si.propTypes={};Si.filterProps=p7;function wi(e){return mhe(e,h7)}wi.propTypes={};wi.filterProps=h7;function yhe(e=8,t=QE({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function kP(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?LC(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ql(e){return typeof e!="number"?e:`${e}px solid`}function xc(e,t){return Ui({prop:e,themeKey:"borders",transform:t})}const T6e=xc("border",ql),M6e=xc("borderTop",ql),A6e=xc("borderRight",ql),O6e=xc("borderBottom",ql),D6e=xc("borderLeft",ql),P6e=xc("borderColor"),I6e=xc("borderTopColor"),$6e=xc("borderRightColor"),F6e=xc("borderBottomColor"),N6e=xc("borderLeftColor"),L6e=xc("outline",ql),j6e=xc("outlineColor"),RP=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=KE(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:dd(t,r)});return Uo(e,e.borderRadius,n)}return null};RP.propTypes={};RP.filterProps=["borderRadius"];kP(T6e,M6e,A6e,O6e,D6e,P6e,I6e,$6e,F6e,N6e,RP,L6e,j6e);const TP=e=>{if(e.gap!==void 0&&e.gap!==null){const t=KE(e.theme,"spacing",8),n=r=>({gap:dd(t,r)});return Uo(e,e.gap,n)}return null};TP.propTypes={};TP.filterProps=["gap"];const MP=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=KE(e.theme,"spacing",8),n=r=>({columnGap:dd(t,r)});return Uo(e,e.columnGap,n)}return null};MP.propTypes={};MP.filterProps=["columnGap"];const AP=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=KE(e.theme,"spacing",8),n=r=>({rowGap:dd(t,r)});return Uo(e,e.rowGap,n)}return null};AP.propTypes={};AP.filterProps=["rowGap"];const z6e=Ui({prop:"gridColumn"}),B6e=Ui({prop:"gridRow"}),U6e=Ui({prop:"gridAutoFlow"}),H6e=Ui({prop:"gridAutoColumns"}),V6e=Ui({prop:"gridAutoRows"}),W6e=Ui({prop:"gridTemplateColumns"}),q6e=Ui({prop:"gridTemplateRows"}),G6e=Ui({prop:"gridTemplateAreas"}),Y6e=Ui({prop:"gridArea"});kP(TP,MP,AP,z6e,B6e,U6e,H6e,V6e,W6e,q6e,G6e,Y6e);function _b(e,t){return t==="grey"?t:e}const X6e=Ui({prop:"color",themeKey:"palette",transform:_b}),K6e=Ui({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_b}),Q6e=Ui({prop:"backgroundColor",themeKey:"palette",transform:_b});kP(X6e,K6e,Q6e);function Xa(e){return e<=1&&e!==0?`${e*100}%`:e}const Z6e=Ui({prop:"width",transform:Xa}),g7=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,o,s,a,l;const r=((s=(o=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||EP[n];return r?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Xa(n)}};return Uo(e,e.maxWidth,t)}return null};g7.filterProps=["maxWidth"];const J6e=Ui({prop:"minWidth",transform:Xa}),eBe=Ui({prop:"height",transform:Xa}),tBe=Ui({prop:"maxHeight",transform:Xa}),nBe=Ui({prop:"minHeight",transform:Xa});Ui({prop:"size",cssProperty:"width",transform:Xa});Ui({prop:"size",cssProperty:"height",transform:Xa});const rBe=Ui({prop:"boxSizing"});kP(Z6e,g7,J6e,eBe,tBe,nBe,rBe);const ZE={border:{themeKey:"borders",transform:ql},borderTop:{themeKey:"borders",transform:ql},borderRight:{themeKey:"borders",transform:ql},borderBottom:{themeKey:"borders",transform:ql},borderLeft:{themeKey:"borders",transform:ql},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ql},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:RP},color:{themeKey:"palette",transform:_b},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_b},backgroundColor:{themeKey:"palette",transform:_b},p:{style:wi},pt:{style:wi},pr:{style:wi},pb:{style:wi},pl:{style:wi},px:{style:wi},py:{style:wi},padding:{style:wi},paddingTop:{style:wi},paddingRight:{style:wi},paddingBottom:{style:wi},paddingLeft:{style:wi},paddingX:{style:wi},paddingY:{style:wi},paddingInline:{style:wi},paddingInlineStart:{style:wi},paddingInlineEnd:{style:wi},paddingBlock:{style:wi},paddingBlockStart:{style:wi},paddingBlockEnd:{style:wi},m:{style:Si},mt:{style:Si},mr:{style:Si},mb:{style:Si},ml:{style:Si},mx:{style:Si},my:{style:Si},margin:{style:Si},marginTop:{style:Si},marginRight:{style:Si},marginBottom:{style:Si},marginLeft:{style:Si},marginX:{style:Si},marginY:{style:Si},marginInline:{style:Si},marginInlineStart:{style:Si},marginInlineEnd:{style:Si},marginBlock:{style:Si},marginBlockStart:{style:Si},marginBlockEnd:{style:Si},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:TP},rowGap:{style:AP},columnGap:{style:MP},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Xa},maxWidth:{style:g7},minWidth:{transform:Xa},height:{transform:Xa},maxHeight:{transform:Xa},minHeight:{transform:Xa},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function iBe(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function oBe(e,t){return typeof e=="function"?e(t):e}function sBe(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Eh(i,c)||{};return d?d(s):Uo(s,r,g=>{let m=jA(f,u,g);return g===m&&typeof g=="string"&&(m=jA(f,u,`${n}${g==="default"?"":Te(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??ZE;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=hhe(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(f=>{const p=oBe(l[f],i);if(p!=null)if(typeof p=="object")if(o[f])d=LC(d,e(f,p,i,o));else{const g=Uo({theme:i},p,m=>({[f]:m}));iBe(g,p)?d[f]=t({sx:p,theme:i}):d=LC(d,g)}else d=LC(d,e(f,p,i,o))}),h6e(i,ghe(u,d))}return Array.isArray(r)?r.map(s):s(r)}return t}const eg=sBe();eg.filterProps=["sx"];function aBe(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Ex(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=e,a=p6e(n),l=yhe(i);let c=Li({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...v6e,...o}},s);return c=y6e(c),c.applyStyles=aBe,c=t.reduce((u,d)=>Li(u,d),c),c.unstable_sxConfig={...ZE,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(d){return eg({sx:d,theme:this})},c}function lBe(e){return Object.keys(e).length===0}function m7(e=null){const t=O.useContext(XE);return!t||lBe(t)?e:t}const cBe=Ex();function JE(e=cBe){return m7(e)}function uBe({styles:e,themeId:t,defaultTheme:n={}}){const r=JE(n),i=typeof e=="function"?e(t&&r[t]||r):e;return x.jsx(uhe,{styles:i})}const dBe=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??ZE;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function e2(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=dBe(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Ju(a)?{...r,...a}:r}:o={...r,...t},{...i,sx:o}}const Bee=e=>e,fBe=()=>{let e=Bee;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Bee}}},vhe=fBe();function bhe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=bhe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=bhe(e))&&(r&&(r+=" "),r+=t);return r}function pBe(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=dhe("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(eg);return O.forwardRef(function(l,c){const u=JE(n),{className:d,component:f="div",...p}=e2(l);return x.jsx(o,{as:f,ref:c,className:Ne(d,i?i(r):r),theme:t&&u[t]||u,...p})})}const hBe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function et(e,t,n="Mui"){const r=hBe[t];return r?`${n}-${r}`:`${vhe.generate(e)}-${t}`}function nt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=et(e,i,n)}),r}function xhe(e){const{variants:t,...n}=e,r={variants:t,style:Fee(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=Fee(i.style))}),r}const gBe=Ex();function AM(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function mBe(e){return e?(t,n)=>n[e]:null}function yBe(e,t,n){e.theme=bBe(e.theme)?n:e.theme[t]||e.theme}function OM(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>OM(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return She(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function She(e,t,n=[]){var i;let r;e:for(let o=0;o<t.length;o+=1){const s=t[o];if(typeof s.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!s.props(r))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&((i=e.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function whe(e={}){const{themeId:t,defaultTheme:n=gBe,rootShouldForwardProp:r=AM,slotShouldForwardProp:i=AM}=e;function o(a){yBe(a,t,n)}return(a,l={})=>{c6e(a,E=>E.filter(T=>T!==eg));const{name:c,slot:u,skipVariantsResolver:d,skipSx:f,overridesResolver:p=mBe(SBe(u)),...g}=l,m=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,v=f||!1;let b=AM;u==="Root"||u==="root"?b=r:u?b=i:xBe(a)&&(b=void 0);const S=dhe(a,{shouldForwardProp:b,label:vBe(),...g}),C=E=>{if(typeof E=="function"&&E.__emotion_real!==E)return function(k){return OM(k,E)};if(Ju(E)){const T=xhe(E);return T.variants?function(A){return OM(A,T)}:T.style}return E},_=(...E)=>{const T=[],k=E.map(C),A=[];if(T.push(o),c&&p&&A.push(function(I){var L,V;const M=(V=(L=I.theme.components)==null?void 0:L[c])==null?void 0:V.styleOverrides;if(!M)return null;const $={};for(const q in M)$[q]=OM(I,M[q]);return p(I,$)}),c&&!m&&A.push(function(I){var $,L;const j=I.theme,M=(L=($=j==null?void 0:j.components)==null?void 0:$[c])==null?void 0:L.variants;return M?She(I,M):null}),v||A.push(eg),Array.isArray(k[0])){const F=k.shift(),I=new Array(T.length).fill(""),j=new Array(A.length).fill("");let M;M=[...I,...F,...j],M.raw=[...I,...F.raw,...j],T.unshift(M)}const P=[...T,...k,...A],D=S(...P);return a.muiName&&(D.muiName=a.muiName),D};return S.withConfig&&(_.withConfig=S.withConfig),_}}function vBe(e,t){return void 0}function bBe(e){for(const t in e)return!1;return!0}function xBe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function SBe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const y7=whe();function M_(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],s=t[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=M_(o[l],s[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Che(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:M_(t.components[n].defaultProps,r)}function OP({props:e,name:t,defaultTheme:n,themeId:r}){let i=JE(n);return r&&(i=i[r]||i),Che({theme:i,name:t,props:e})}const li=typeof window<"u"?O.useLayoutEffect:O.useEffect;function wBe(e,t,n,r,i){const[o,s]=O.useState(()=>i&&n?n(e).matches:r?r(e).matches:t);return li(()=>{if(!n)return;const a=n(e),l=()=>{s(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[e,n]),o}const CBe={...NA},_he=CBe.useSyncExternalStore;function _Be(e,t,n,r,i){const o=O.useCallback(()=>t,[t]),s=O.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return o},[o,e,r,i,n]),[a,l]=O.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(e);return[()=>u.matches,d=>(u.addEventListener("change",d),()=>{u.removeEventListener("change",d)})]},[o,n,e]);return _he(l,a,s)}function Ehe(e={}){const{themeId:t}=e;return function(r,i={}){let o=m7();o&&t&&(o=o[t]||o);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:u=!1}=Che({name:"MuiUseMediaQuery",props:i,theme:o});let d=typeof r=="function"?r(o):r;return d=d.replace(/^@media( ?)/m,""),(_he!==void 0?_Be:wBe)(d,a,l,c,u)}}Ehe();function Qv(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function v7(e,t=0,n=1){return Qv(e,t,n)}function EBe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function tg(e){if(e.type)return e;if(e.charAt(0)==="#")return tg(EBe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(op(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(op(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const kBe=e=>{const t=tg(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Jw=(e,t)=>{try{return kBe(e)}catch{return e}};function DP(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function khe(e){e=tg(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),DP({type:a,values:l})}function Pz(e){e=tg(e);let t=e.type==="hsl"||e.type==="hsla"?tg(khe(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function RBe(e,t){const n=Pz(e),r=Pz(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function _t(e,t){return e=tg(e),t=v7(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,DP(e)}function BR(e,t,n){try{return _t(e,t)}catch{return e}}function fl(e,t){if(e=tg(e),t=v7(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return DP(e)}function Hr(e,t,n){try{return fl(e,t)}catch{return e}}function Ho(e,t){if(e=tg(e),t=v7(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return DP(e)}function Vr(e,t,n){try{return Ho(e,t)}catch{return e}}function Rhe(e,t=.15){return Pz(e)>.5?fl(e,t):Ho(e,t)}function UR(e,t,n){try{return Rhe(e,t)}catch{return e}}const kx=ee.oneOfType([ee.func,ee.object]);function Iz(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function my(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function jC(e,t){var n,r,i;return O.isValidElement(e)&&t.indexOf(e.type.muiName??((i=(r=(n=e.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function ai(e){return e&&e.ownerDocument||document}function pl(e){return ai(e).defaultView||window}function zA(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let Uee=0;function TBe(e){const[t,n]=O.useState(e),r=e||t;return O.useEffect(()=>{t==null&&(Uee+=1,n(`mui-${Uee}`))},[t]),r}const MBe={...NA},Hee=MBe.useId;function Cl(e){if(Hee!==void 0){const t=Hee();return e??t}return TBe(e)}function Vo({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=O.useRef(e!==void 0),[o,s]=O.useState(t),a=i?e:o,l=O.useCallback(c=>{i||s(c)},[]);return[a,l]}function mt(e){const t=O.useRef(e);return li(()=>{t.current=e}),O.useRef((...n)=>(0,t.current)(...n)).current}function Ln(...e){return O.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{zA(n,t)})},e)}const Vee={};function The(e,t){const n=O.useRef(Vee);return n.current===Vee&&(n.current=e(t)),n}const ABe=[];function OBe(e){O.useEffect(e,ABe)}class PP{constructor(){tt(this,"currentId",null);tt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});tt(this,"disposeEffect",()=>this.clear)}static create(){return new PP}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function kh(){const e=The(PP.create).current;return OBe(e.disposeEffect),e}function ng(e){try{return e.matches(":focus-visible")}catch{}return!1}function Mhe(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const b7=e=>{const t=O.useRef({});return O.useEffect(()=>{t.current=e}),t.current};function DBe(e){return O.Children.toArray(e).filter(t=>O.isValidElement(t))}const Ahe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ke(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function PBe(e){return typeof e=="string"}function Ohe(e,t,n){return e===void 0||PBe(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function f0(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Wee(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Dhe(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const p=Ne(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...n,...i,...r};return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const s=f0({...i,...r}),a=Wee(r),l=Wee(i),c=t(s),u=Ne(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function sp(e,t,n){return typeof e=="function"?e(t,n):e}function pn(e){var d;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:sp(n,r),{props:a,internalRef:l}=Dhe({...o,externalSlotProps:s}),c=Ln(l,s==null?void 0:s.ref,(d=e.additionalProps)==null?void 0:d.ref);return Ohe(t,{...a,ref:c},r)}function Og(e){var t;return parseInt(O.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const Phe=O.createContext(null);function x7(){return O.useContext(Phe)}const IBe=typeof Symbol=="function"&&Symbol.for,$Be=IBe?Symbol.for("mui.nested"):"__THEME_NESTED__";function FBe(e,t){return typeof t=="function"?t(e):{...e,...t}}function NBe(e){const{children:t,theme:n}=e,r=x7(),i=O.useMemo(()=>{const o=r===null?{...n}:FBe(r,n);return o!=null&&(o[$Be]=r!==null),o},[n,r]);return x.jsx(Phe.Provider,{value:i,children:t})}const Ihe=O.createContext();function LBe({value:e,...t}){return x.jsx(Ihe.Provider,{value:e??!0,...t})}const Pi=()=>O.useContext(Ihe)??!1,$he=O.createContext(void 0);function jBe({value:e,children:t}){return x.jsx($he.Provider,{value:e,children:t})}function zBe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?M_(i.defaultProps,r):!i.styleOverrides&&!i.variants?M_(i,r):r}function BBe({props:e,name:t}){const n=O.useContext($he);return zBe({props:e,name:t,theme:{components:n}})}const qee={};function Gee(e,t,n,r=!1){return O.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?{...t,[e]:o}:o;return r?()=>s:s}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function Fhe(e){const{children:t,theme:n,themeId:r}=e,i=m7(qee),o=x7()||qee,s=Gee(r,i,n),a=Gee(r,o,n,!0),l=(r?s[r]:s).direction==="rtl";return x.jsx(NBe,{theme:a,children:x.jsx(XE.Provider,{value:s,children:x.jsx(LBe,{value:l,children:x.jsx(jBe,{value:r?s[r].components:s.components,children:t})})})})}const Yee={theme:void 0};function UBe(e){let t,n;return function(i){let o=t;return(o===void 0||i.theme!==n)&&(Yee.theme=i.theme,o=xhe(e(Yee)),t=o,n=i.theme),o}}const S7="mode",w7="color-scheme",HBe="data-color-scheme";function VBe(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=S7,colorSchemeStorageKey:o=w7,attribute:s=HBe,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};let c="",u=s;if(s==="class"&&(u=".%s"),s==="data"&&(u="[data-%s]"),u.startsWith(".")){const f=u.substring(1);c+=`${a}.classList.remove('${f}'.replace('%s', light), '${f}'.replace('%s', dark));
      ${a}.classList.add('${f}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[f,p]=d[1].split("=");p||(c+=`${a}.removeAttribute('${f}'.replace('%s', light));
      ${a}.removeAttribute('${f}'.replace('%s', dark));`),c+=`
      ${a}.setAttribute('${f}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else c+=`${a}.setAttribute('${u}', colorScheme);`;return x.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${o}-dark') || '${r}';
  const light = localStorage.getItem('${o}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function WBe(){}const qBe=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(n){if(typeof window>"u")return;if(!t)return n;let r;try{r=t.localStorage.getItem(e)}catch{}return r||n},set:n=>{if(t)try{t.localStorage.setItem(e,n)}catch{}},subscribe:n=>{if(!t)return WBe;const r=i=>{const o=i.newValue;i.key===e&&n(o)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function MN(){}function Xee(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Nhe(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function GBe(e){return Nhe(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function YBe(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:o=S7,colorSchemeStorageKey:s=w7,storageWindow:a=typeof window>"u"?void 0:window,storageManager:l=qBe,noSsr:c=!1}=e,u=i.join(","),d=i.length>1,f=O.useMemo(()=>l==null?void 0:l({key:o,storageWindow:a}),[l,o,a]),p=O.useMemo(()=>l==null?void 0:l({key:`${s}-light`,storageWindow:a}),[l,s,a]),g=O.useMemo(()=>l==null?void 0:l({key:`${s}-dark`,storageWindow:a}),[l,s,a]),[m,v]=O.useState(()=>{const A=(f==null?void 0:f.get(t))||t,P=(p==null?void 0:p.get(n))||n,D=(g==null?void 0:g.get(r))||r;return{mode:A,systemMode:Xee(A),lightColorScheme:P,darkColorScheme:D}}),[b,S]=O.useState(c||!d);O.useEffect(()=>{S(!0)},[]);const C=GBe(m),_=O.useCallback(A=>{v(P=>{if(A===P.mode)return P;const D=A??t;return f==null||f.set(D),{...P,mode:D,systemMode:Xee(D)}})},[f,t]),E=O.useCallback(A=>{A?typeof A=="string"?A&&!u.includes(A)?console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`):v(P=>{const D={...P};return Nhe(P,F=>{F==="light"&&(p==null||p.set(A),D.lightColorScheme=A),F==="dark"&&(g==null||g.set(A),D.darkColorScheme=A)}),D}):v(P=>{const D={...P},F=A.light===null?n:A.light,I=A.dark===null?r:A.dark;return F&&(u.includes(F)?(D.lightColorScheme=F,p==null||p.set(F)):console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`)),I&&(u.includes(I)?(D.darkColorScheme=I,g==null||g.set(I)):console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`)),D}):v(P=>(p==null||p.set(n),g==null||g.set(r),{...P,lightColorScheme:n,darkColorScheme:r}))},[u,p,g,n,r]),T=O.useCallback(A=>{m.mode==="system"&&v(P=>{const D=A!=null&&A.matches?"dark":"light";return P.systemMode===D?P:{...P,systemMode:D}})},[m.mode]),k=O.useRef(T);return k.current=T,O.useEffect(()=>{if(typeof window.matchMedia!="function"||!d)return;const A=(...D)=>k.current(...D),P=window.matchMedia("(prefers-color-scheme: dark)");return P.addListener(A),A(P),()=>{P.removeListener(A)}},[d]),O.useEffect(()=>{if(d){const A=(f==null?void 0:f.subscribe(F=>{(!F||["light","dark","system"].includes(F))&&_(F||t)}))||MN,P=(p==null?void 0:p.subscribe(F=>{(!F||u.match(F))&&E({light:F})}))||MN,D=(g==null?void 0:g.subscribe(F=>{(!F||u.match(F))&&E({dark:F})}))||MN;return()=>{A(),P(),D()}}},[E,_,u,t,a,d,f,p,g]),{...m,mode:b?m.mode:void 0,systemMode:b?m.systemMode:void 0,colorScheme:b?C:void 0,setMode:_,setColorScheme:E}}const XBe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function KBe(e){const{themeId:t,theme:n={},modeStorageKey:r=S7,colorSchemeStorageKey:i=w7,disableTransitionOnChange:o=!1,defaultColorScheme:s,resolveTheme:a}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=O.createContext(void 0),u=()=>O.useContext(c)||l,d={},f={};function p(b){var xe,ue,we,Oe;const{children:S,theme:C,modeStorageKey:_=r,colorSchemeStorageKey:E=i,disableTransitionOnChange:T=o,storageManager:k,storageWindow:A=typeof window>"u"?void 0:window,documentNode:P=typeof document>"u"?void 0:document,colorSchemeNode:D=typeof document>"u"?void 0:document.documentElement,disableNestedContext:F=!1,disableStyleSheetGeneration:I=!1,defaultMode:j="system",noSsr:M}=b,$=O.useRef(!1),L=x7(),V=O.useContext(c),q=!!V&&!F,U=O.useMemo(()=>C||(typeof n=="function"?n():n),[C]),z=U[t],B=z||U,{colorSchemes:G=d,components:Y=f,cssVarPrefix:Q}=B,K=Object.keys(G).filter(ke=>!!G[ke]).join(","),te=O.useMemo(()=>K.split(","),[K]),ce=typeof s=="string"?s:s.light,ie=typeof s=="string"?s:s.dark,re=G[ce]&&G[ie]?j:((ue=(xe=G[B.defaultColorScheme])==null?void 0:xe.palette)==null?void 0:ue.mode)||((we=B.palette)==null?void 0:we.mode),{mode:he,setMode:fe,systemMode:ne,lightColorScheme:pe,darkColorScheme:W,colorScheme:se,setColorScheme:ae}=YBe({supportedColorSchemes:te,defaultLightColorScheme:ce,defaultDarkColorScheme:ie,modeStorageKey:_,colorSchemeStorageKey:E,defaultMode:re,storageManager:k,storageWindow:A,noSsr:M});let X=he,Z=se;q&&(X=V.mode,Z=V.colorScheme);const oe=O.useMemo(()=>{var _e;const ke=Z||B.defaultColorScheme,Ie=((_e=B.generateThemeVars)==null?void 0:_e.call(B))||B.vars,ve={...B,components:Y,colorSchemes:G,cssVarPrefix:Q,vars:Ie};if(typeof ve.generateSpacing=="function"&&(ve.spacing=ve.generateSpacing()),ke){const $e=G[ke];$e&&typeof $e=="object"&&Object.keys($e).forEach(De=>{$e[De]&&typeof $e[De]=="object"?ve[De]={...ve[De],...$e[De]}:ve[De]=$e[De]})}return a?a(ve):ve},[B,Z,Y,G,Q]),ge=B.colorSchemeSelector;li(()=>{if(Z&&D&&ge&&ge!=="media"){const ke=ge;let Ie=ge;if(ke==="class"&&(Ie=".%s"),ke==="data"&&(Ie="[data-%s]"),ke!=null&&ke.startsWith("data-")&&!ke.includes("%s")&&(Ie=`[${ke}="%s"]`),Ie.startsWith("."))D.classList.remove(...te.map(ve=>Ie.substring(1).replace("%s",ve))),D.classList.add(Ie.substring(1).replace("%s",Z));else{const ve=Ie.replace("%s",Z).match(/\[([^\]]+)\]/);if(ve){const[_e,$e]=ve[1].split("=");$e||te.forEach(De=>{D.removeAttribute(_e.replace(Z,De))}),D.setAttribute(_e,$e?$e.replace(/"|'/g,""):"")}else D.setAttribute(Ie,Z)}}},[Z,ge,D,te]),O.useEffect(()=>{let ke;if(T&&$.current&&P){const Ie=P.createElement("style");Ie.appendChild(P.createTextNode(XBe)),P.head.appendChild(Ie),window.getComputedStyle(P.body),ke=setTimeout(()=>{P.head.removeChild(Ie)},1)}return()=>{clearTimeout(ke)}},[Z,T,P]),O.useEffect(()=>($.current=!0,()=>{$.current=!1}),[]);const be=O.useMemo(()=>({allColorSchemes:te,colorScheme:Z,darkColorScheme:W,lightColorScheme:pe,mode:X,setColorScheme:ae,setMode:fe,systemMode:ne}),[te,Z,W,pe,X,ae,fe,ne,oe.colorSchemeSelector]);let de=!0;(I||B.cssVariables===!1||q&&(L==null?void 0:L.cssVarPrefix)===Q)&&(de=!1);const Re=x.jsxs(O.Fragment,{children:[x.jsx(Fhe,{themeId:z?t:void 0,theme:oe,children:S}),de&&x.jsx(uhe,{styles:((Oe=oe.generateStyleSheets)==null?void 0:Oe.call(oe))||[]})]});return q?Re:x.jsx(c.Provider,{value:be,children:Re})}const g=typeof s=="string"?s:s.light,m=typeof s=="string"?s:s.dark;return{CssVarsProvider:p,useColorScheme:u,getInitColorSchemeScript:b=>VBe({colorSchemeStorageKey:i,defaultLightColorScheme:g,defaultDarkColorScheme:m,modeStorageKey:r,...b})}}function QBe(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const Kee=(e,t,n,r=[])=>{let i=e;t.forEach((o,s)=>{s===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},ZBe=(e,t,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):t([...o,a],l,s))})}r(e)},JBe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function AN(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return ZBe(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=JBe(a,l);Object.assign(i,{[u]:d}),Kee(o,a,`var(${u})`,c),Kee(s,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function e8e(e,t={}){const{getSelector:n=v,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=AN(l,t);let f=d;const p={},{[a]:g,...m}=o;if(Object.entries(m||{}).forEach(([C,_])=>{const{vars:E,css:T,varsWithDefaults:k}=AN(_,t);f=Li(f,k),p[C]={css:T,vars:E}}),g){const{css:C,vars:_,varsWithDefaults:E}=AN(g,t);f=Li(f,E),p[a]={css:C,vars:_}}function v(C,_){var T,k;let E=i;if(i==="class"&&(E=".%s"),i==="data"&&(E="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(E=`[${i}="%s"]`),C){if(E==="media")return e.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((k=(T=o[C])==null?void 0:T.palette)==null?void 0:k.mode)||C})`]:{":root":_}};if(E)return e.defaultColorScheme===C?`:root, ${E.replace("%s",String(C))}`:E.replace("%s",String(C))}return":root"}return{vars:f,generateThemeVars:()=>{let C={...c};return Object.entries(p).forEach(([,{vars:_}])=>{C=Li(C,_)}),C},generateStyleSheets:()=>{var A,P;const C=[],_=e.defaultColorScheme||"light";function E(D,F){Object.keys(F).length&&C.push(typeof D=="string"?{[D]:{...F}}:D)}E(n(void 0,{...u}),u);const{[_]:T,...k}=p;if(T){const{css:D}=T,F=(P=(A=o[_])==null?void 0:A.palette)==null?void 0:P.mode,I=!r&&F?{colorScheme:F,...D}:{...D};E(n(_,{...I}),I)}return Object.entries(k).forEach(([D,{css:F}])=>{var M,$;const I=($=(M=o[D])==null?void 0:M.palette)==null?void 0:$.mode,j=!r&&I?{colorScheme:I,...F}:{...F};E(n(D,{...j}),j)}),C}}}function t8e(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const n8e=Ex(),r8e=y7("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Te(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),i8e=e=>OP({props:e,name:"MuiContainer",defaultTheme:n8e}),o8e=(e,t)=>{const n=l=>et(t,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${Te(String(s))}`,i&&"fixed",o&&"disableGutters"]};return Ke(a,n,r)};function s8e(e={}){const{createStyledComponent:t=r8e,useThemeProps:n=i8e,componentName:r="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return O.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:f=!1,fixed:p=!1,maxWidth:g="lg",classes:m,...v}=c,b={...c,component:d,disableGutters:f,fixed:p,maxWidth:g},S=o8e(b,r);return x.jsx(i,{as:d,ownerState:b,className:Ne(S.root,u),ref:l,...v})})}const a8e=(e,t)=>e.filter(n=>t.includes(n)),Rx=(e,t,n)=>{const r=e.keys[0];Array.isArray(t)?t.forEach((i,o)=>{n((s,a)=>{o<=e.keys.length-1&&(o===0?Object.assign(s,a):s[e.up(e.keys[o])]=a)},i)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:a8e(e.keys,Object.keys(t))).forEach(o=>{if(e.keys.includes(o)){const s=t[o];s!==void 0&&n((a,l)=>{r===o?Object.assign(a,l):a[e.up(o)]=l},s)}}):(typeof t=="number"||typeof t=="string")&&n((i,o)=>{Object.assign(i,o)},t)};function BA(e){return`--Grid-${e}Spacing`}function IP(e){return`--Grid-parent-${e}Spacing`}const Qee="--Grid-columns",Eb="--Grid-parent-columns",l8e=({theme:e,ownerState:t})=>{const n={};return Rx(e.breakpoints,t.size,(r,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${Eb}) - (var(${Eb}) - ${i}) * (var(${IP("column")}) / var(${Eb})))`}),r(n,o)}),n},c8e=({theme:e,ownerState:t})=>{const n={};return Rx(e.breakpoints,t.offset,(r,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${Eb}) + var(${IP("column")}) * ${i} / var(${Eb}))`}),r(n,o)}),n},u8e=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={[Qee]:12};return Rx(e.breakpoints,t.columns,(r,i)=>{const o=i??12;r(n,{[Qee]:o,"> *":{[Eb]:o}})}),n},d8e=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Rx(e.breakpoints,t.rowSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=e.spacing)==null?void 0:s.call(e,i);r(n,{[BA("row")]:o,"> *":{[IP("row")]:o}})}),n},f8e=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Rx(e.breakpoints,t.columnSpacing,(r,i)=>{var s;const o=typeof i=="string"?i:(s=e.spacing)==null?void 0:s.call(e,i);r(n,{[BA("column")]:o,"> *":{[IP("column")]:o}})}),n},p8e=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Rx(e.breakpoints,t.direction,(r,i)=>{r(n,{flexDirection:i})}),n},h8e=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${BA("row")}) var(${BA("column")})`}}),g8e=e=>{const t=[];return Object.entries(e).forEach(([n,r])=>{r!==!1&&r!==void 0&&t.push(`grid-${n}-${String(r)}`)}),t},m8e=(e,t="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const r=[];return Object.entries(e).forEach(([i,o])=>{n(o)&&r.push(`spacing-${i}-${String(o)}`)}),r}return[]},y8e=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,n])=>`direction-${t}-${n}`):[`direction-xs-${String(e)}`];function v8e(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(n=>{e[n]!==void 0&&delete e[n]})}const b8e=Ex(),x8e=y7("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function S8e(e){return OP({props:e,name:"MuiGrid",defaultTheme:b8e})}function w8e(e={}){const{createStyledComponent:t=x8e,useThemeProps:n=S8e,useTheme:r=JE,componentName:i="MuiGrid"}=e,o=(c,u)=>{const{container:d,direction:f,spacing:p,wrap:g,size:m}=c,v={root:["root",d&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...y8e(f),...g8e(m),...d?m8e(p,u.breakpoints.keys[0]):[]]};return Ke(v,b=>et(i,b),{})};function s(c,u,d=()=>!0){const f={};return c===null||(Array.isArray(c)?c.forEach((p,g)=>{p!==null&&d(p)&&u.keys[g]&&(f[u.keys[g]]=p)}):typeof c=="object"?Object.keys(c).forEach(p=>{const g=c[p];g!=null&&d(g)&&(f[p]=g)}):f[u.keys[0]]=c),f}const a=t(u8e,f8e,d8e,l8e,p8e,h8e,c8e),l=O.forwardRef(function(u,d){const f=r(),p=n(u),g=e2(p);v8e(g,f.breakpoints);const{className:m,children:v,columns:b=12,container:S=!1,component:C="div",direction:_="row",wrap:E="wrap",size:T={},offset:k={},spacing:A=0,rowSpacing:P=A,columnSpacing:D=A,unstable_level:F=0,...I}=g,j=s(T,f.breakpoints,B=>B!==!1),M=s(k,f.breakpoints),$=u.columns??(F?void 0:b),L=u.spacing??(F?void 0:A),V=u.rowSpacing??u.spacing??(F?void 0:P),q=u.columnSpacing??u.spacing??(F?void 0:D),U={...g,level:F,columns:$,container:S,direction:_,wrap:E,spacing:L,rowSpacing:V,columnSpacing:q,size:j,offset:M},z=o(U,f);return x.jsx(a,{ref:d,as:C,ownerState:U,className:Ne(z.root,m),...I,children:O.Children.map(v,B=>{var G;return O.isValidElement(B)&&jC(B,["Grid"])&&S&&B.props.container?O.cloneElement(B,{unstable_level:((G=B.props)==null?void 0:G.unstable_level)??F+1}):B})})});return l.muiName="Grid",l}const C8e=Ex(),_8e=y7("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function E8e(e){return OP({props:e,name:"MuiStack",defaultTheme:C8e})}function k8e(e,t){const n=O.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(O.cloneElement(t,{key:`separator-${o}`})),r),[])}const R8e=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],T8e=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...Uo({theme:t},Lf({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=QE(t),i=Object.keys(t.breakpoints.values).reduce((l,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(l[c]=!0),l),{}),o=Lf({values:e.direction,base:i}),s=Lf({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const f=c>0?o[u[c-1]]:"column";o[l]=f}}),n=Li(n,Uo({theme:t},s,(l,c)=>e.useFlexGap?{gap:dd(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${R8e(c?o[c]:e.direction)}`]:dd(r,l)}}))}return n=x6e(t.breakpoints,n),n};function Lhe(e={}){const{createStyledComponent:t=_8e,useThemeProps:n=E8e,componentName:r="MuiStack"}=e,i=()=>Ke({root:["root"]},l=>et(r,l),{}),o=t(T8e);return O.forwardRef(function(l,c){const u=n(l),d=e2(u),{component:f="div",direction:p="column",spacing:g=0,divider:m,children:v,className:b,useFlexGap:S=!1,...C}=d,_={direction:p,spacing:g,useFlexGap:S},E=i();return x.jsx(o,{as:f,ownerState:_,ref:c,className:Ne(E.root,b),...C,children:m?k8e(v,m):v})})}const Zee=Lhe();function jhe(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:E_.white,default:E_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const M8e=jhe();function zhe(){return{text:{primary:E_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:E_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Jee=zhe();function ete(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Ho(e.main,i):t==="dark"&&(e.dark=fl(e.main,o)))}function A8e(e="light"){return e==="dark"?{main:Mv[200],light:Mv[50],dark:Mv[400]}:{main:Mv[700],light:Mv[400],dark:Mv[800]}}function O8e(e="light"){return e==="dark"?{main:Tv[200],light:Tv[50],dark:Tv[400]}:{main:Tv[500],light:Tv[300],dark:Tv[700]}}function D8e(e="light"){return e==="dark"?{main:Rv[500],light:Rv[300],dark:Rv[700]}:{main:Rv[700],light:Rv[400],dark:Rv[800]}}function P8e(e="light"){return e==="dark"?{main:Av[400],light:Av[300],dark:Av[700]}:{main:Av[700],light:Av[500],dark:Av[900]}}function I8e(e="light"){return e==="dark"?{main:Ov[400],light:Ov[300],dark:Ov[700]}:{main:Ov[800],light:Ov[500],dark:Ov[900]}}function $8e(e="light"){return e==="dark"?{main:dw[400],light:dw[300],dark:dw[700]}:{main:"#ed6c02",light:dw[500],dark:dw[900]}}function C7(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||A8e(t),s=e.secondary||O8e(t),a=e.error||D8e(t),l=e.info||P8e(t),c=e.success||I8e(t),u=e.warning||$8e(t);function d(m){return RBe(m,Jee.text.primary)>=n?Jee.text.primary:M8e.text.primary}const f=({color:m,name:v,mainShade:b=500,lightShade:S=300,darkShade:C=700})=>{if(m={...m},!m.main&&m[b]&&(m.main=m[b]),!m.hasOwnProperty("main"))throw new Error(op(11,v?` (${v})`:"",b));if(typeof m.main!="string")throw new Error(op(12,v?` (${v})`:"",JSON.stringify(m.main)));return ete(m,"light",S,r),ete(m,"dark",C,r),m.contrastText||(m.contrastText=d(m.main)),m};let p;return t==="light"?p=jhe():t==="dark"&&(p=zhe()),Li({common:{...E_},mode:t,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:uze,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r,...p},i)}function F8e(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function N8e(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function L8e(e){return Math.round(e*1e5)/1e5}const tte={textTransform:"uppercase"},nte='"Roboto", "Helvetica", "Arial", sans-serif';function Bhe(e,t){const{fontFamily:n=nte,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,f=r/14,p=u||(v=>`${v/l*f}rem`),g=(v,b,S,C,_)=>({fontFamily:n,fontWeight:v,fontSize:p(b),lineHeight:S,...n===nte?{letterSpacing:`${L8e(C/b)}em`}:{},..._,...c}),m={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(s,14,1.75,.4,tte),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,tte),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Li({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...m},d,{clone:!1})}const j8e=.2,z8e=.14,B8e=.12;function ri(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${j8e})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${z8e})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${B8e})`].join(",")}const U8e=["none",ri(0,2,1,-1,0,1,1,0,0,1,3,0),ri(0,3,1,-2,0,2,2,0,0,1,5,0),ri(0,3,3,-2,0,3,4,0,0,1,8,0),ri(0,2,4,-1,0,4,5,0,0,1,10,0),ri(0,3,5,-1,0,5,8,0,0,1,14,0),ri(0,3,5,-1,0,6,10,0,0,1,18,0),ri(0,4,5,-2,0,7,10,1,0,2,16,1),ri(0,5,5,-3,0,8,10,1,0,3,14,2),ri(0,5,6,-3,0,9,12,1,0,3,16,2),ri(0,6,6,-3,0,10,14,1,0,4,18,3),ri(0,6,7,-4,0,11,15,1,0,4,20,3),ri(0,7,8,-4,0,12,17,2,0,5,22,4),ri(0,7,8,-4,0,13,19,2,0,5,24,4),ri(0,7,9,-4,0,14,21,2,0,5,26,4),ri(0,8,9,-5,0,15,22,2,0,6,28,5),ri(0,8,10,-5,0,16,24,2,0,6,30,5),ri(0,8,11,-5,0,17,26,2,0,6,32,5),ri(0,9,11,-5,0,18,28,2,0,7,34,6),ri(0,9,12,-6,0,19,29,2,0,7,36,6),ri(0,10,13,-6,0,20,31,3,0,8,38,7),ri(0,10,13,-6,0,21,33,3,0,8,40,7),ri(0,10,14,-6,0,22,35,3,0,8,42,7),ri(0,11,14,-7,0,23,36,3,0,9,44,8),ri(0,11,15,-7,0,24,38,3,0,9,46,8)],H8e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Uhe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rte(e){return`${Math.round(e)}ms`}function V8e(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function W8e(e){const t={...H8e,...e.easing},n={...Uhe,...e.duration};return{getAutoHeightDuration:V8e,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:rte(s)} ${a} ${typeof l=="string"?l:rte(l)}`).join(",")},...e,easing:t,duration:n}}const q8e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function G8e(e){return Ju(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Hhe(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!G8e(a)||s.startsWith("unstable_")?delete r[s]:Ju(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function $z(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(op(20));const u=C7(o),d=Ex(e);let f=Li(d,{mixins:N8e(d.breakpoints,r),palette:u,shadows:U8e.slice(),typography:Bhe(u,a),transitions:W8e(s),zIndex:{...q8e}});return f=Li(f,c),f=t.reduce((p,g)=>Li(p,g),f),f.unstable_sxConfig={...ZE,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(g){return eg({sx:g,theme:this})},f.toRuntimeSource=Hhe,f}function Fz(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Y8e=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Fz(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Vhe(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Whe(e){return e==="dark"?Y8e:[]}function X8e(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=C7(t);return{palette:o,opacity:{...Vhe(o.mode),...n},overlays:r||Whe(o.mode),...i}}function K8e(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Q8e=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Z8e=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return Q8e(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",t)]:s,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function J8e(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function Ve(e,t,n){!e[t]&&n&&(e[t]=n)}function eC(e){return typeof e!="string"||!e.startsWith("hsl")?e:khe(e)}function uf(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Jw(eC(e[t])))}function e9e(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Nu=e=>{try{return e()}catch{}},t9e=(e="mui")=>QBe(e);function ON(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=X8e({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:o,...s}=$z({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:o,opacity:{...Vhe(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Whe(i)},s}function n9e(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=K8e,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=e,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),f=t9e(o),{[d]:p,light:g,dark:m,...v}=n,b={...v};let S=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(S=!0),!S)throw new Error(op(21,d));const C=ON(b,S,c,d);g&&!b.light&&ON(b,g,void 0,"light"),m&&!b.dark&&ON(b,m,void 0,"dark");let _={defaultColorScheme:d,...C,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:b,font:{...F8e(C.typography),...C.font},spacing:e9e(c.spacing)};Object.keys(_.colorSchemes).forEach(P=>{const D=_.colorSchemes[P].palette,F=I=>{const j=I.split("-"),M=j[1],$=j[2];return f(I,D[M][$])};if(D.mode==="light"&&(Ve(D.common,"background","#fff"),Ve(D.common,"onBackground","#000")),D.mode==="dark"&&(Ve(D.common,"background","#000"),Ve(D.common,"onBackground","#fff")),J8e(D,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),D.mode==="light"){Ve(D.Alert,"errorColor",Hr(D.error.light,.6)),Ve(D.Alert,"infoColor",Hr(D.info.light,.6)),Ve(D.Alert,"successColor",Hr(D.success.light,.6)),Ve(D.Alert,"warningColor",Hr(D.warning.light,.6)),Ve(D.Alert,"errorFilledBg",F("palette-error-main")),Ve(D.Alert,"infoFilledBg",F("palette-info-main")),Ve(D.Alert,"successFilledBg",F("palette-success-main")),Ve(D.Alert,"warningFilledBg",F("palette-warning-main")),Ve(D.Alert,"errorFilledColor",Nu(()=>D.getContrastText(D.error.main))),Ve(D.Alert,"infoFilledColor",Nu(()=>D.getContrastText(D.info.main))),Ve(D.Alert,"successFilledColor",Nu(()=>D.getContrastText(D.success.main))),Ve(D.Alert,"warningFilledColor",Nu(()=>D.getContrastText(D.warning.main))),Ve(D.Alert,"errorStandardBg",Vr(D.error.light,.9)),Ve(D.Alert,"infoStandardBg",Vr(D.info.light,.9)),Ve(D.Alert,"successStandardBg",Vr(D.success.light,.9)),Ve(D.Alert,"warningStandardBg",Vr(D.warning.light,.9)),Ve(D.Alert,"errorIconColor",F("palette-error-main")),Ve(D.Alert,"infoIconColor",F("palette-info-main")),Ve(D.Alert,"successIconColor",F("palette-success-main")),Ve(D.Alert,"warningIconColor",F("palette-warning-main")),Ve(D.AppBar,"defaultBg",F("palette-grey-100")),Ve(D.Avatar,"defaultBg",F("palette-grey-400")),Ve(D.Button,"inheritContainedBg",F("palette-grey-300")),Ve(D.Button,"inheritContainedHoverBg",F("palette-grey-A100")),Ve(D.Chip,"defaultBorder",F("palette-grey-400")),Ve(D.Chip,"defaultAvatarColor",F("palette-grey-700")),Ve(D.Chip,"defaultIconColor",F("palette-grey-700")),Ve(D.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ve(D.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ve(D.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ve(D.LinearProgress,"primaryBg",Vr(D.primary.main,.62)),Ve(D.LinearProgress,"secondaryBg",Vr(D.secondary.main,.62)),Ve(D.LinearProgress,"errorBg",Vr(D.error.main,.62)),Ve(D.LinearProgress,"infoBg",Vr(D.info.main,.62)),Ve(D.LinearProgress,"successBg",Vr(D.success.main,.62)),Ve(D.LinearProgress,"warningBg",Vr(D.warning.main,.62)),Ve(D.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),Ve(D.Slider,"primaryTrack",Vr(D.primary.main,.62)),Ve(D.Slider,"secondaryTrack",Vr(D.secondary.main,.62)),Ve(D.Slider,"errorTrack",Vr(D.error.main,.62)),Ve(D.Slider,"infoTrack",Vr(D.info.main,.62)),Ve(D.Slider,"successTrack",Vr(D.success.main,.62)),Ve(D.Slider,"warningTrack",Vr(D.warning.main,.62));const I=UR(D.background.default,.8);Ve(D.SnackbarContent,"bg",I),Ve(D.SnackbarContent,"color",Nu(()=>D.getContrastText(I))),Ve(D.SpeedDialAction,"fabHoverBg",UR(D.background.paper,.15)),Ve(D.StepConnector,"border",F("palette-grey-400")),Ve(D.StepContent,"border",F("palette-grey-400")),Ve(D.Switch,"defaultColor",F("palette-common-white")),Ve(D.Switch,"defaultDisabledColor",F("palette-grey-100")),Ve(D.Switch,"primaryDisabledColor",Vr(D.primary.main,.62)),Ve(D.Switch,"secondaryDisabledColor",Vr(D.secondary.main,.62)),Ve(D.Switch,"errorDisabledColor",Vr(D.error.main,.62)),Ve(D.Switch,"infoDisabledColor",Vr(D.info.main,.62)),Ve(D.Switch,"successDisabledColor",Vr(D.success.main,.62)),Ve(D.Switch,"warningDisabledColor",Vr(D.warning.main,.62)),Ve(D.TableCell,"border",Vr(BR(D.divider,1),.88)),Ve(D.Tooltip,"bg",BR(D.grey[700],.92))}if(D.mode==="dark"){Ve(D.Alert,"errorColor",Vr(D.error.light,.6)),Ve(D.Alert,"infoColor",Vr(D.info.light,.6)),Ve(D.Alert,"successColor",Vr(D.success.light,.6)),Ve(D.Alert,"warningColor",Vr(D.warning.light,.6)),Ve(D.Alert,"errorFilledBg",F("palette-error-dark")),Ve(D.Alert,"infoFilledBg",F("palette-info-dark")),Ve(D.Alert,"successFilledBg",F("palette-success-dark")),Ve(D.Alert,"warningFilledBg",F("palette-warning-dark")),Ve(D.Alert,"errorFilledColor",Nu(()=>D.getContrastText(D.error.dark))),Ve(D.Alert,"infoFilledColor",Nu(()=>D.getContrastText(D.info.dark))),Ve(D.Alert,"successFilledColor",Nu(()=>D.getContrastText(D.success.dark))),Ve(D.Alert,"warningFilledColor",Nu(()=>D.getContrastText(D.warning.dark))),Ve(D.Alert,"errorStandardBg",Hr(D.error.light,.9)),Ve(D.Alert,"infoStandardBg",Hr(D.info.light,.9)),Ve(D.Alert,"successStandardBg",Hr(D.success.light,.9)),Ve(D.Alert,"warningStandardBg",Hr(D.warning.light,.9)),Ve(D.Alert,"errorIconColor",F("palette-error-main")),Ve(D.Alert,"infoIconColor",F("palette-info-main")),Ve(D.Alert,"successIconColor",F("palette-success-main")),Ve(D.Alert,"warningIconColor",F("palette-warning-main")),Ve(D.AppBar,"defaultBg",F("palette-grey-900")),Ve(D.AppBar,"darkBg",F("palette-background-paper")),Ve(D.AppBar,"darkColor",F("palette-text-primary")),Ve(D.Avatar,"defaultBg",F("palette-grey-600")),Ve(D.Button,"inheritContainedBg",F("palette-grey-800")),Ve(D.Button,"inheritContainedHoverBg",F("palette-grey-700")),Ve(D.Chip,"defaultBorder",F("palette-grey-700")),Ve(D.Chip,"defaultAvatarColor",F("palette-grey-300")),Ve(D.Chip,"defaultIconColor",F("palette-grey-300")),Ve(D.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ve(D.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ve(D.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ve(D.LinearProgress,"primaryBg",Hr(D.primary.main,.5)),Ve(D.LinearProgress,"secondaryBg",Hr(D.secondary.main,.5)),Ve(D.LinearProgress,"errorBg",Hr(D.error.main,.5)),Ve(D.LinearProgress,"infoBg",Hr(D.info.main,.5)),Ve(D.LinearProgress,"successBg",Hr(D.success.main,.5)),Ve(D.LinearProgress,"warningBg",Hr(D.warning.main,.5)),Ve(D.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),Ve(D.Slider,"primaryTrack",Hr(D.primary.main,.5)),Ve(D.Slider,"secondaryTrack",Hr(D.secondary.main,.5)),Ve(D.Slider,"errorTrack",Hr(D.error.main,.5)),Ve(D.Slider,"infoTrack",Hr(D.info.main,.5)),Ve(D.Slider,"successTrack",Hr(D.success.main,.5)),Ve(D.Slider,"warningTrack",Hr(D.warning.main,.5));const I=UR(D.background.default,.98);Ve(D.SnackbarContent,"bg",I),Ve(D.SnackbarContent,"color",Nu(()=>D.getContrastText(I))),Ve(D.SpeedDialAction,"fabHoverBg",UR(D.background.paper,.15)),Ve(D.StepConnector,"border",F("palette-grey-600")),Ve(D.StepContent,"border",F("palette-grey-600")),Ve(D.Switch,"defaultColor",F("palette-grey-300")),Ve(D.Switch,"defaultDisabledColor",F("palette-grey-600")),Ve(D.Switch,"primaryDisabledColor",Hr(D.primary.main,.55)),Ve(D.Switch,"secondaryDisabledColor",Hr(D.secondary.main,.55)),Ve(D.Switch,"errorDisabledColor",Hr(D.error.main,.55)),Ve(D.Switch,"infoDisabledColor",Hr(D.info.main,.55)),Ve(D.Switch,"successDisabledColor",Hr(D.success.main,.55)),Ve(D.Switch,"warningDisabledColor",Hr(D.warning.main,.55)),Ve(D.TableCell,"border",Hr(BR(D.divider,1),.68)),Ve(D.Tooltip,"bg",BR(D.grey[700],.92))}uf(D.background,"default"),uf(D.background,"paper"),uf(D.common,"background"),uf(D.common,"onBackground"),uf(D,"divider"),Object.keys(D).forEach(I=>{const j=D[I];I!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&Ve(D[I],"mainChannel",Jw(eC(j.main))),j.light&&Ve(D[I],"lightChannel",Jw(eC(j.light))),j.dark&&Ve(D[I],"darkChannel",Jw(eC(j.dark))),j.contrastText&&Ve(D[I],"contrastTextChannel",Jw(eC(j.contrastText))),I==="text"&&(uf(D[I],"primary"),uf(D[I],"secondary")),I==="action"&&(j.active&&uf(D[I],"active"),j.selected&&uf(D[I],"selected")))})}),_=t.reduce((P,D)=>Li(P,D),_);const E={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:Z8e(_)},{vars:T,generateThemeVars:k,generateStyleSheets:A}=e8e(_,E);return _.vars=T,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach(([P,D])=>{_[P]=D}),_.generateThemeVars=k,_.generateStyleSheets=A,_.generateSpacing=function(){return yhe(c.spacing,QE(this))},_.getColorSchemeSelector=t8e(a),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=s,_.unstable_sxConfig={...ZE,...c==null?void 0:c.unstable_sxConfig},_.unstable_sx=function(D){return eg({sx:D,theme:this})},_.toRuntimeSource=Hhe,_}function ite(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:C7({...n===!0?{}:n.palette,mode:t})})}function $P(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=e,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return $z(e,...t);let u=n;"palette"in e||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=$z({...e,palette:u},...t);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},ite(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},ite(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),n9e({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}function r9e(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function i9e(e){return parseFloat(e)}const FP=$P();function lr(){const e=JE(FP);return e[rc]||e}function wn({props:e,name:t}){return OP({props:e,name:t,defaultTheme:FP,themeId:rc})}function NP(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const ko=e=>NP(e)&&e!=="classes",ye=whe({themeId:rc,defaultTheme:FP,rootShouldForwardProp:ko});function ote({theme:e,...t}){const n=rc in e?e[rc]:void 0;return x.jsx(Fhe,{...t,themeId:n?rc:void 0,theme:n||e})}const HR={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:o9e}=KBe({themeId:rc,theme:()=>$P({cssVariables:!0}),colorSchemeStorageKey:HR.colorSchemeStorageKey,modeStorageKey:HR.modeStorageKey,defaultColorScheme:{light:HR.defaultLightColorScheme,dark:HR.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Bhe(e.palette,e.typography)};return t.unstable_sx=function(r){return eg({sx:r,theme:this})},t}}),s9e=o9e;function ste({theme:e,...t}){return typeof e=="function"?x.jsx(ote,{theme:e,...t}):"colorSchemes"in(rc in e?e[rc]:e)?x.jsx(s9e,{theme:e,...t}):x.jsx(ote,{theme:e,...t})}function a9e(e){return x.jsx(uBe,{...e,defaultTheme:FP,themeId:rc})}function _7(e){return function(n){return x.jsx(a9e,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function l9e(){return e2}const pt=UBe;function Ct(e){return BBe(e)}function c9e(e){return et("MuiSvgIcon",e)}nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const u9e=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Te(t)}`,`fontSize${Te(n)}`]};return Ke(i,c9e,r)},d9e=ye("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Te(n.color)}`],t[`fontSize${Te(n.fontSize)}`]]}})(pt(({theme:e})=>{var t,n,r,i,o,s,a,l,c,u,d,f,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:m=>!m.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,m])=>m&&m.main).map(([m])=>{var v,b;return{props:{color:m},style:{color:(b=(v=(e.vars??e).palette)==null?void 0:v[m])==null?void 0:b.main}}}),{props:{color:"action"},style:{color:(f=(d=(e.vars??e).palette)==null?void 0:d.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(g=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Nz=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24",...p}=r,g=O.isValidElement(i)&&i.type==="svg",m={...r,color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g},v={};u||(v.viewBox=f);const b=u9e(m);return x.jsxs(d9e,{as:a,className:Ne(b.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...v,...p,...g&&i.props,ownerState:m,children:[g?i.props.children:i,d?x.jsx("title",{children:d}):null]})});Nz.muiName="SvgIcon";function st(e,t){function n(r,i){return x.jsx(Nz,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Nz.muiName,O.memo(O.forwardRef(n))}function E7(e,t){if(!e)return t;if(typeof e=="function"||typeof t=="function")return i=>{const o=typeof t=="function"?t(i):t,s=typeof e=="function"?e({...i,...o}):e,a=Ne(i==null?void 0:i.className,o==null?void 0:o.className,s==null?void 0:s.className);return{...o,...s,...!!a&&{className:a},...(o==null?void 0:o.style)&&(s==null?void 0:s.style)&&{style:{...o.style,...s.style}},...(o==null?void 0:o.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};const n=t,r=Ne(n==null?void 0:n.className,e==null?void 0:e.className);return{...t,...e,...!!r&&{className:r},...(n==null?void 0:n.style)&&(e==null?void 0:e.style)&&{style:{...n.style,...e.style}},...(n==null?void 0:n.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Ht(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lz(e,t){return Lz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lz(e,t)}function k7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Lz(e,t)}function f9e(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function p9e(e,t){e.classList?e.classList.add(t):f9e(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function ate(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function h9e(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ate(e.className,t):e.setAttribute("class",ate(e.className&&e.className.baseVal||"",t))}var gp=Xpe();const tC=kg(gp),lte={disabled:!1},UA=hn.createContext(null);var qhe=function(t){return t.scrollTop},nC="unmounted",Tm="exited",Mm="entering",Zv="entered",jz="exiting",_l=function(e){k7(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Tm,o.appearStatus=Mm):l=Zv:r.unmountOnExit||r.mountOnEnter?l=nC:l=Tm,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===nC?{status:Tm}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Mm&&s!==Zv&&(o=Mm):(s===Mm||s===Zv)&&(o=jz)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Mm){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:tC.findDOMNode(this);s&&qhe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Tm&&this.setState({status:nC})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[tC.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||lte.disabled){this.safeSetState({status:Zv},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Mm},function(){o.props.onEntering(c,u),o.onTransitionEnd(f,function(){o.safeSetState({status:Zv},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:tC.findDOMNode(this);if(!o||lte.disabled){this.safeSetState({status:Tm},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:jz},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Tm},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:tC.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===nC)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Ht(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return hn.createElement(UA.Provider,{value:null},typeof s=="function"?s(i,a):hn.cloneElement(hn.Children.only(s),a))},t}(hn.Component);_l.contextType=UA;_l.propTypes={};function Dv(){}_l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dv,onEntering:Dv,onEntered:Dv,onExit:Dv,onExiting:Dv,onExited:Dv};_l.UNMOUNTED=nC;_l.EXITED=Tm;_l.ENTERING=Mm;_l.ENTERED=Zv;_l.EXITING=jz;var g9e=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return p9e(t,r)})},DN=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return h9e(t,r)})},R7=function(e){k7(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],f=c?d+"-active":l[a+"Active"],p=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:p}},r}var n=t.prototype;return n.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;o==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&i&&qhe(i),a&&(this.appliedClasses[o][s]=a,g9e(i,a))},n.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,c=s.done;this.appliedClasses[o]={},a&&DN(i,a),l&&DN(i,l),c&&DN(i,c)},n.render=function(){var i=this.props;i.classNames;var o=Ht(i,["classNames"]);return hn.createElement(_l,me({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(hn.Component);R7.defaultProps={classNames:""};R7.propTypes={};function m9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T7(e,t){var n=function(o){return t&&O.isValidElement(o)?t(o):o},r=Object.create(null);return e&&O.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function y9e(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Gm(e,t,n){return n[t]!=null?n[t]:e.props[t]}function v9e(e,t){return T7(e.children,function(n){return O.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Gm(n,"appear",e),enter:Gm(n,"enter",e),exit:Gm(n,"exit",e)})})}function b9e(e,t,n){var r=T7(e.children),i=y9e(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(O.isValidElement(s)){var a=o in t,l=o in r,c=t[o],u=O.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=O.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Gm(s,"exit",e),enter:Gm(s,"enter",e)}):!l&&a&&!u?i[o]=O.cloneElement(s,{in:!1}):l&&a&&O.isValidElement(c)&&(i[o]=O.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Gm(s,"exit",e),enter:Gm(s,"enter",e)}))}}),i}var x9e=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},S9e={component:"div",childFactory:function(t){return t}},t2=function(e){k7(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(m9e(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?v9e(i,a):b9e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=T7(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=me({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Ht(i,["component","childFactory"]),l=this.state.contextValue,c=x9e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?hn.createElement(UA.Provider,{value:l},c):hn.createElement(UA.Provider,{value:l},hn.createElement(o,a,c))},t}(hn.Component);t2.propTypes={};t2.defaultProps=S9e;const M7=e=>e.scrollTop;function rg(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}function w9e(e){return et("MuiCollapse",e)}nt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const C9e=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ke(r,w9e,n)},_9e=ye("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(pt(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),E9e=ye("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),k9e=ye("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ig=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:g,onExited:m,onExiting:v,orientation:b="vertical",style:S,timeout:C=Uhe.standard,TransitionComponent:_=_l,...E}=r,T={...r,orientation:b,collapsedSize:a},k=C9e(T),A=lr(),P=kh(),D=O.useRef(null),F=O.useRef(),I=typeof a=="number"?`${a}px`:a,j=b==="horizontal",M=j?"width":"height",$=O.useRef(null),L=Ln(n,$),V=te=>ce=>{if(te){const ie=$.current;ce===void 0?te(ie):te(ie,ce)}},q=()=>D.current?D.current[j?"clientWidth":"clientHeight"]:0,U=V((te,ce)=>{D.current&&j&&(D.current.style.position="absolute"),te.style[M]=I,d&&d(te,ce)}),z=V((te,ce)=>{const ie=q();D.current&&j&&(D.current.style.position="");const{duration:re,easing:he}=rg({style:S,timeout:C,easing:c},{mode:"enter"});if(C==="auto"){const fe=A.transitions.getAutoHeightDuration(ie);te.style.transitionDuration=`${fe}ms`,F.current=fe}else te.style.transitionDuration=typeof re=="string"?re:`${re}ms`;te.style[M]=`${ie}px`,te.style.transitionTimingFunction=he,p&&p(te,ce)}),B=V((te,ce)=>{te.style[M]="auto",f&&f(te,ce)}),G=V(te=>{te.style[M]=`${q()}px`,g&&g(te)}),Y=V(m),Q=V(te=>{const ce=q(),{duration:ie,easing:re}=rg({style:S,timeout:C,easing:c},{mode:"exit"});if(C==="auto"){const he=A.transitions.getAutoHeightDuration(ce);te.style.transitionDuration=`${he}ms`,F.current=he}else te.style.transitionDuration=typeof ie=="string"?ie:`${ie}ms`;te.style[M]=I,te.style.transitionTimingFunction=re,v&&v(te)}),K=te=>{C==="auto"&&P.start(F.current||0,te),i&&i($.current,te)};return x.jsx(_,{in:u,onEnter:U,onEntered:B,onEntering:z,onExit:G,onExited:Y,onExiting:Q,addEndListener:K,nodeRef:$,timeout:C==="auto"?null:C,...E,children:(te,{ownerState:ce,...ie})=>x.jsx(_9e,{as:l,className:Ne(k.root,s,{entered:k.entered,exited:!u&&I==="0px"&&k.hidden}[te]),style:{[j?"minWidth":"minHeight"]:I,...S},ref:L,ownerState:{...T,state:te},...ie,children:x.jsx(E9e,{ownerState:{...T,state:te},className:k.wrapper,ref:D,children:x.jsx(k9e,{ownerState:{...T,state:te},className:k.wrapperInner,children:o})})})})});ig&&(ig.muiSupportAuto=!0);function R9e(e){return et("MuiPaper",e)}nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const T9e=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Ke(o,R9e,i)},M9e=ye("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(pt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),El=O.forwardRef(function(t,n){var p;const r=Ct({props:t,name:"MuiPaper"}),i=lr(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:s,elevation:a,square:l,variant:c},f=T9e(d);return x.jsx(M9e,{as:s,ownerState:d,className:Ne(f.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${_t("#fff",Fz(a))}, ${_t("#fff",Fz(a))})`}},...u.style}})}),Ghe=O.createContext({});function Nt(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...f}=o,p=u[e]||r,g=sp(d[e],i),{props:{component:m,...v},internalRef:b}=Dhe({className:n,...l,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:g}),S=Ln(b,g==null?void 0:g.ref,t.ref),C=e==="root"?m||c:m,_=Ohe(p,{...e==="root"&&!c&&!u[e]&&s,...e!=="root"&&!u[e]&&s,...v,...C&&!a&&{as:C},...C&&a&&{component:C},ref:S},i);return[p,_]}function A9e(e){return et("MuiAccordion",e)}const VR=nt("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),O9e=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return Ke({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},A9e,t)},D9e=ye(El,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${VR.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(pt(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${VR.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${VR.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),pt(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${VR.expanded}`]:{margin:"16px 0"}}}]}))),P9e=ye("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),Yhe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:f={},slotProps:p={},TransitionComponent:g,TransitionProps:m,...v}=r,[b,S]=Vo({controlled:c,default:s,name:"Accordion",state:"expanded"}),C=O.useCallback(L=>{S(!b),u&&u(L,!b)},[b,u,S]),[_,...E]=O.Children.toArray(i),T=O.useMemo(()=>({expanded:b,disabled:a,disableGutters:l,toggle:C}),[b,a,l,C]),k={...r,square:d,disabled:a,disableGutters:l,expanded:b},A=O9e(k),P={transition:g,...f},D={transition:m,...p},F={slots:P,slotProps:D},[I,j]=Nt("heading",{elementType:P9e,externalForwardedProps:F,className:A.heading,ownerState:k}),[M,$]=Nt("transition",{elementType:ig,externalForwardedProps:F,ownerState:k});return x.jsxs(D9e,{className:Ne(A.root,o),ref:n,ownerState:k,square:d,...v,children:[x.jsx(I,{...j,children:x.jsx(Ghe.Provider,{value:T,children:_})}),x.jsx(M,{in:b,timeout:"auto",...$,children:x.jsx("div",{"aria-labelledby":_.props.id,id:_.props["aria-controls"],role:"region",className:A.region,children:E})})]})});function I9e(e){return et("MuiAccordionDetails",e)}nt("MuiAccordionDetails",["root"]);const $9e=e=>{const{classes:t}=e;return Ke({root:["root"]},I9e,t)},F9e=ye("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(pt(({theme:e})=>({padding:e.spacing(1,2,2)}))),Xhe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiAccordionDetails"}),{className:i,...o}=r,s=r,a=$9e(s);return x.jsx(F9e,{className:Ne(a.root,i),ref:n,ownerState:s,...o})});class HA{constructor(){tt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new HA}static use(){const t=The(HA.create).current,[n,r]=O.useState(!1);return t.shouldMount=n,t.setShouldMount=r,O.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=L9e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function N9e(){return HA.use()}function L9e(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function j9e(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[u,d]=O.useState(!1),f=Ne(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=Ne(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),O.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),x.jsx("span",{className:f,style:p,children:x.jsx("span",{className:g})})}const Wl=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zz=550,z9e=80,B9e=Id`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,U9e=Id`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,H9e=Id`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,V9e=ye("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),W9e=ye(j9e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Wl.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${B9e};
    animation-duration: ${zz}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Wl.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Wl.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Wl.childLeaving} {
    opacity: 0;
    animation-name: ${U9e};
    animation-duration: ${zz}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Wl.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${H9e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,q9e=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=O.useState([]),u=O.useRef(0),d=O.useRef(null);O.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=O.useRef(!1),p=kh(),g=O.useRef(null),m=O.useRef(null),v=O.useCallback(_=>{const{pulsate:E,rippleX:T,rippleY:k,rippleSize:A,cb:P}=_;c(D=>[...D,x.jsx(W9e,{classes:{ripple:Ne(o.ripple,Wl.ripple),rippleVisible:Ne(o.rippleVisible,Wl.rippleVisible),ripplePulsate:Ne(o.ripplePulsate,Wl.ripplePulsate),child:Ne(o.child,Wl.child),childLeaving:Ne(o.childLeaving,Wl.childLeaving),childPulsate:Ne(o.childPulsate,Wl.childPulsate)},timeout:zz,pulsate:E,rippleX:T,rippleY:k,rippleSize:A},u.current)]),u.current+=1,d.current=P},[o]),b=O.useCallback((_={},E={},T=()=>{})=>{const{pulsate:k=!1,center:A=i||E.pulsate,fakeElement:P=!1}=E;if((_==null?void 0:_.type)==="mousedown"&&f.current){f.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(f.current=!0);const D=P?null:m.current,F=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let I,j,M;if(A||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)I=Math.round(F.width/2),j=Math.round(F.height/2);else{const{clientX:$,clientY:L}=_.touches&&_.touches.length>0?_.touches[0]:_;I=Math.round($-F.left),j=Math.round(L-F.top)}if(A)M=Math.sqrt((2*F.width**2+F.height**2)/3),M%2===0&&(M+=1);else{const $=Math.max(Math.abs((D?D.clientWidth:0)-I),I)*2+2,L=Math.max(Math.abs((D?D.clientHeight:0)-j),j)*2+2;M=Math.sqrt($**2+L**2)}_!=null&&_.touches?g.current===null&&(g.current=()=>{v({pulsate:k,rippleX:I,rippleY:j,rippleSize:M,cb:T})},p.start(z9e,()=>{g.current&&(g.current(),g.current=null)})):v({pulsate:k,rippleX:I,rippleY:j,rippleSize:M,cb:T})},[i,v,p]),S=O.useCallback(()=>{b({},{pulsate:!0})},[b]),C=O.useCallback((_,E)=>{if(p.clear(),(_==null?void 0:_.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{C(_,E)});return}g.current=null,c(T=>T.length>0?T.slice(1):T),d.current=E},[p]);return O.useImperativeHandle(n,()=>({pulsate:S,start:b,stop:C}),[S,b,C]),x.jsx(V9e,{className:Ne(Wl.root,o.root,s),ref:m,...a,children:x.jsx(t2,{component:null,exit:!0,children:l})})});function G9e(e){return et("MuiButtonBase",e)}const Y9e=nt("MuiButtonBase",["root","disabled","focusVisible"]),X9e=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Ke({root:["root",t&&"disabled",n&&"focusVisible"]},G9e,i);return n&&r&&(s.root+=` ${r}`),s},K9e=ye("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Y9e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),uc=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:m,onClick:v,onContextMenu:b,onDragLeave:S,onFocus:C,onFocusVisible:_,onKeyDown:E,onKeyUp:T,onMouseDown:k,onMouseLeave:A,onMouseUp:P,onTouchEnd:D,onTouchMove:F,onTouchStart:I,tabIndex:j=0,TouchRippleProps:M,touchRippleRef:$,type:L,...V}=r,q=O.useRef(null),U=N9e(),z=Ln(U.ref,$),[B,G]=O.useState(!1);c&&B&&G(!1),O.useImperativeHandle(i,()=>({focusVisible:()=>{G(!0),q.current.focus()}}),[]);const Y=U.shouldMount&&!u&&!c;O.useEffect(()=>{B&&f&&!u&&U.pulsate()},[u,f,B,U]);const Q=df(U,"start",k,d),K=df(U,"stop",b,d),te=df(U,"stop",S,d),ce=df(U,"stop",P,d),ie=df(U,"stop",de=>{B&&de.preventDefault(),A&&A(de)},d),re=df(U,"start",I,d),he=df(U,"stop",D,d),fe=df(U,"stop",F,d),ne=df(U,"stop",de=>{ng(de.target)||G(!1),m&&m(de)},!1),pe=mt(de=>{q.current||(q.current=de.currentTarget),ng(de.target)&&(G(!0),_&&_(de)),C&&C(de)}),W=()=>{const de=q.current;return l&&l!=="button"&&!(de.tagName==="A"&&de.href)},se=mt(de=>{f&&!de.repeat&&B&&de.key===" "&&U.stop(de,()=>{U.start(de)}),de.target===de.currentTarget&&W()&&de.key===" "&&de.preventDefault(),E&&E(de),de.target===de.currentTarget&&W()&&de.key==="Enter"&&!c&&(de.preventDefault(),v&&v(de))}),ae=mt(de=>{f&&de.key===" "&&B&&!de.defaultPrevented&&U.stop(de,()=>{U.pulsate(de)}),T&&T(de),v&&de.target===de.currentTarget&&W()&&de.key===" "&&!de.defaultPrevented&&v(de)});let X=l;X==="button"&&(V.href||V.to)&&(X=g);const Z={};X==="button"?(Z.type=L===void 0?"button":L,Z.disabled=c):(!V.href&&!V.to&&(Z.role="button"),c&&(Z["aria-disabled"]=c));const oe=Ln(n,q),ge={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:j,focusVisible:B},be=X9e(ge);return x.jsxs(K9e,{as:X,className:Ne(be.root,a),ownerState:ge,onBlur:ne,onClick:v,onContextMenu:K,onFocus:pe,onKeyDown:se,onKeyUp:ae,onMouseDown:Q,onMouseLeave:ie,onMouseUp:ce,onDragLeave:te,onTouchEnd:he,onTouchMove:fe,onTouchStart:re,ref:oe,tabIndex:c?-1:j,type:L,...Z,...V,children:[s,Y?x.jsx(q9e,{ref:z,center:o,...M}):null]})});function df(e,t,n,r=!1){return mt(i=>(n&&n(i),r||e[t](i),!0))}function Q9e(e){return et("MuiAccordionSummary",e)}const cb=nt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Z9e=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return Ke({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Q9e,t)},J9e=ye(uc,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(pt(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${cb.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${cb.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${cb.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${cb.expanded}`]:{minHeight:64}}}]}})),e7e=ye("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(pt(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${cb.expanded}`]:{margin:"20px 0"}}}]}))),t7e=ye("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(pt(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${cb.expanded}`]:{transform:"rotate(180deg)"}}))),Khe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l,...c}=r,{disabled:u=!1,disableGutters:d,expanded:f,toggle:p}=O.useContext(Ghe),g=b=>{p&&p(b),l&&l(b)},m={...r,expanded:f,disabled:u,disableGutters:d},v=Z9e(m);return x.jsxs(J9e,{focusRipple:!1,disableRipple:!0,disabled:u,"aria-expanded":f,className:Ne(v.root,o),focusVisibleClassName:Ne(v.focusVisible,a),onClick:g,ref:n,ownerState:m,...c,children:[x.jsx(e7e,{className:v.content,ownerState:m,children:i}),s&&x.jsx(t7e,{className:v.expandIconWrapper,ownerState:m,children:s})]})});function n7e(e){return typeof e.main=="string"}function r7e(e,t=[]){if(!n7e(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Xn(e=[]){return([,t])=>t&&r7e(t,e)}function i7e(e){return et("MuiAlert",e)}const cte=nt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function o7e(e){return et("MuiCircularProgress",e)}nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Kp=44,Bz=Id`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Uz=Id`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,s7e=typeof Bz!="string"?Ag`
        animation: ${Bz} 1.4s linear infinite;
      `:null,a7e=typeof Uz!="string"?Ag`
        animation: ${Uz} 1.4s ease-in-out infinite;
      `:null,l7e=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${Te(r)}`],svg:["svg"],circle:["circle",`circle${Te(n)}`,i&&"circleDisableShrink"]};return Ke(o,o7e,t)},c7e=ye("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Te(n.color)}`]]}})(pt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:s7e||{animation:`${Bz} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),u7e=ye("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),d7e=ye("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Te(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(pt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:a7e||{animation:`${Uz} 1.4s ease-in-out infinite`}}]}))),au=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...f}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d},g=l7e(p),m={},v={},b={};if(d==="determinate"){const S=2*Math.PI*((Kp-c)/2);m.strokeDasharray=S.toFixed(3),b["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*S).toFixed(3)}px`,v.transform="rotate(-90deg)"}return x.jsx(c7e,{className:Ne(g.root,i),style:{width:a,height:a,...v,...l},ownerState:p,ref:n,role:"progressbar",...b,...f,children:x.jsx(u7e,{className:g.svg,ownerState:p,viewBox:`${Kp/2} ${Kp/2} ${Kp} ${Kp}`,children:x.jsx(d7e,{className:g.circle,style:m,ownerState:p,cx:Kp,cy:Kp,r:(Kp-c)/2,fill:"none",strokeWidth:c})})})});function f7e(e){return et("MuiIconButton",e)}const ute=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),p7e=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:s}=e,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Te(r)}`,i&&`edge${Te(i)}`,`size${Te(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ke(a,f7e,t)},h7e=ye(uc,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Te(n.color)}`],n.edge&&t[`edge${Te(n.edge)}`],t[`size${Te(n.size)}`]]}})(pt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),pt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${ute.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${ute.loading}`]:{color:"transparent"}}))),g7e=ye("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),sn=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:d,loading:f=null,loadingIndicator:p,...g}=r,m=Cl(d),v=p??x.jsx(au,{"aria-labelledby":m,color:"inherit",size:16}),b={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:f,loadingIndicator:v,size:u},S=p7e(b);return x.jsxs(h7e,{id:f?m:d,className:Ne(S.root,s),centerRipple:!0,focusRipple:!c,disabled:l||f,ref:n,...g,ownerState:b,children:[typeof f=="boolean"&&x.jsx("span",{className:S.loadingWrapper,style:{display:"contents"},children:x.jsx(g7e,{className:S.loadingIndicator,ownerState:b,children:f&&v})}),o]})}),m7e=st(x.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y7e=st(x.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),v7e=st(x.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),b7e=st(x.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Qhe=st(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),x7e=e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`color${Te(n||r)}`,`${t}${Te(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ke(o,i7e,i)},S7e=ye(El,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Te(n.color||n.severity)}`]]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?fl:Ho,n=e.palette.mode==="light"?Ho:fl;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Xn(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${cte.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(Xn(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${cte.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(Xn(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)}}}))]}})),w7e=ye("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),C7e=ye("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),_7e=ye("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),dte={success:x.jsx(m7e,{fontSize:"inherit"}),warning:x.jsx(y7e,{fontSize:"inherit"}),error:x.jsx(v7e,{fontSize:"inherit"}),info:x.jsx(b7e,{fontSize:"inherit"})},Zhe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiAlert"}),{action:i,children:o,className:s,closeText:a="Close",color:l,components:c={},componentsProps:u={},icon:d,iconMapping:f=dte,onClose:p,role:g="alert",severity:m="success",slotProps:v={},slots:b={},variant:S="standard",...C}=r,_={...r,color:l,severity:m,variant:S,colorSeverity:l||m},E=x7e(_),T={slots:{closeButton:c.CloseButton,closeIcon:c.CloseIcon,...b},slotProps:{...u,...v}},[k,A]=Nt("root",{ref:n,shouldForwardComponentProp:!0,className:Ne(E.root,s),elementType:S7e,externalForwardedProps:{...T,...C},ownerState:_,additionalProps:{role:g,elevation:0}}),[P,D]=Nt("icon",{className:E.icon,elementType:w7e,externalForwardedProps:T,ownerState:_}),[F,I]=Nt("message",{className:E.message,elementType:C7e,externalForwardedProps:T,ownerState:_}),[j,M]=Nt("action",{className:E.action,elementType:_7e,externalForwardedProps:T,ownerState:_}),[$,L]=Nt("closeButton",{elementType:sn,externalForwardedProps:T,ownerState:_}),[V,q]=Nt("closeIcon",{elementType:Qhe,externalForwardedProps:T,ownerState:_});return x.jsxs(k,{...A,children:[d!==!1?x.jsx(P,{...D,children:d||f[m]||dte[m]}):null,x.jsx(F,{...I,children:o}),i!=null?x.jsx(j,{...M,children:i}):null,i==null&&p?x.jsx(j,{...M,children:x.jsx($,{size:"small","aria-label":a,title:a,color:"inherit",onClick:p,...L,children:x.jsx(V,{fontSize:"small",...q})})}):null]})});function E7e(e){return et("MuiTypography",e)}const VA=nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),k7e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},R7e=l9e(),T7e=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${Te(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ke(a,E7e,s)},M7e=ye("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Te(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(pt(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Xn()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Te(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),fte={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},it=O.forwardRef(function(t,n){const{color:r,...i}=Ct({props:t,name:"MuiTypography"}),o=!k7e[r],s=R7e({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:f=!1,variant:p="body1",variantMapping:g=fte,...m}=s,v={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:f,variant:p,variantMapping:g},b=c||(f?"p":g[p]||fte[p])||"span",S=T7e(v);return x.jsx(M7e,{as:b,ref:n,className:Ne(S.root,l),...m,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...m.style}})});function A7e(e){return et("MuiAlertTitle",e)}nt("MuiAlertTitle",["root"]);const O7e=e=>{const{classes:t}=e;return Ke({root:["root"]},A7e,t)},D7e=ye(it,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(pt(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2}))),P7e=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiAlertTitle"}),{className:i,...o}=r,s=r,a=O7e(s);return x.jsx(D7e,{gutterBottom:!0,component:"div",ownerState:s,ref:n,className:Ne(a.root,i),...o})});function I7e(e){return et("MuiAppBar",e)}nt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const $7e=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${Te(t)}`,`position${Te(n)}`]};return Ke(i,I7e,r)},pte=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,F7e=ye(El,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Te(n.position)}`],t[`color${Te(n.color)}`]]}})(pt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Xn(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?pte(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?pte(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Jhe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed",...l}=r,c={...r,color:o,position:a,enableColorOnDark:s},u=$7e(c);return x.jsx(F7e,{square:!0,component:"header",ownerState:c,elevation:4,className:Ne(u.root,i,a==="fixed"&&"mui-fixed"),ref:n,...l})});function hte(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function N7e(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=e;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=hte(u));const d=u?a.filter(f=>{let p=(o||c)(f);return n&&(p=p.toLowerCase()),t&&(p=hte(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?d.slice(0,r):d}}const L7e=N7e(),j7e=5,z7e=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},B7e=[];function gte(e,t,n){if(t||e==null)return"";const r=n(e);return typeof r=="string"?r:""}function U7e(e){const{unstable_isActiveElementInListbox:t=z7e,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=e.multiple?B7e:null,disableClearable:d=!1,disableCloseOnSelect:f=!1,disabled:p,disabledItemsFocusable:g=!1,disableListWrap:m=!1,filterOptions:v=L7e,filterSelectedOptions:b=!1,freeSolo:S=!1,getOptionDisabled:C,getOptionKey:_,getOptionLabel:E=Ge=>Ge.label??Ge,groupBy:T,handleHomeEndKeys:k=!e.freeSolo,id:A,includeInputInList:P=!1,inputValue:D,isOptionEqualToValue:F=(Ge,He)=>Ge===He,multiple:I=!1,onChange:j,onClose:M,onHighlightChange:$,onInputChange:L,onOpen:V,open:q,openOnFocus:U=!1,options:z,readOnly:B=!1,selectOnFocus:G=!e.freeSolo,value:Y}=e,Q=Cl(A);let K=E;K=Ge=>{const He=E(Ge);return typeof He!="string"?String(He):He};const te=O.useRef(!1),ce=O.useRef(!0),ie=O.useRef(null),re=O.useRef(null),[he,fe]=O.useState(null),[ne,pe]=O.useState(-1),W=i?0:-1,se=O.useRef(W),ae=O.useRef(gte(u,I,K)).current,[X,Z]=Vo({controlled:Y,default:u,name:c}),[oe,ge]=Vo({controlled:D,default:ae,name:c,state:"inputValue"}),[be,de]=O.useState(!1),Re=O.useCallback((Ge,He,yt)=>{if(!(I?X.length<He.length:He!==null)&&!a)return;const Tn=gte(He,I,K);oe!==Tn&&(ge(Tn),L&&L(Ge,Tn,yt))},[K,oe,I,L,ge,a,X]),[xe,ue]=Vo({controlled:q,default:!1,name:c,state:"open"}),[we,Oe]=O.useState(!0),ke=!I&&X!=null&&oe===K(X),Ie=xe&&!B,ve=Ie?v(z.filter(Ge=>!(b&&(I?X:[X]).some(He=>He!==null&&F(Ge,He)))),{inputValue:ke&&we?"":oe,getOptionLabel:K}):[],_e=b7({filteredOptions:ve,value:X,inputValue:oe});O.useEffect(()=>{const Ge=X!==_e.value;be&&!Ge||S&&!Ge||Re(null,X,"reset")},[X,Re,be,_e.value,S]);const $e=xe&&ve.length>0&&!B,De=mt(Ge=>{Ge===-1?ie.current.focus():he.querySelector(`[data-tag-index="${Ge}"]`).focus()});O.useEffect(()=>{I&&ne>X.length-1&&(pe(-1),De(-1))},[X,I,ne,De]);function ot(Ge,He){if(!re.current||Ge<0||Ge>=ve.length)return-1;let yt=Ge;for(;;){const bn=re.current.querySelector(`[data-option-index="${yt}"]`),Tn=g?!1:!bn||bn.disabled||bn.getAttribute("aria-disabled")==="true";if(bn&&bn.hasAttribute("tabindex")&&!Tn)return yt;if(He==="next"?yt=(yt+1)%ve.length:yt=(yt-1+ve.length)%ve.length,yt===Ge)return-1}}const Me=mt(({event:Ge,index:He,reason:yt="auto"})=>{if(se.current=He,He===-1?ie.current.removeAttribute("aria-activedescendant"):ie.current.setAttribute("aria-activedescendant",`${Q}-option-${He}`),$&&$(Ge,He===-1?null:ve[He],yt),!re.current)return;const bn=re.current.querySelector(`[role="option"].${n}-focused`);bn&&(bn.classList.remove(`${n}-focused`),bn.classList.remove(`${n}-focusVisible`));let Tn=re.current;if(re.current.getAttribute("role")!=="listbox"&&(Tn=re.current.parentElement.querySelector('[role="listbox"]')),!Tn)return;if(He===-1){Tn.scrollTop=0;return}const Vn=re.current.querySelector(`[data-option-index="${He}"]`);if(Vn&&(Vn.classList.add(`${n}-focused`),yt==="keyboard"&&Vn.classList.add(`${n}-focusVisible`),Tn.scrollHeight>Tn.clientHeight&&yt!=="mouse"&&yt!=="touch")){const Mr=Vn,Mo=Tn.clientHeight+Tn.scrollTop,kp=Mr.offsetTop+Mr.offsetHeight;kp>Mo?Tn.scrollTop=kp-Tn.clientHeight:Mr.offsetTop-Mr.offsetHeight*(T?1.3:0)<Tn.scrollTop&&(Tn.scrollTop=Mr.offsetTop-Mr.offsetHeight*(T?1.3:0))}}),ze=mt(({event:Ge,diff:He,direction:yt="next",reason:bn="auto"})=>{if(!Ie)return;const Vn=ot((()=>{const Mr=ve.length-1;if(He==="reset")return W;if(He==="start")return 0;if(He==="end")return Mr;const Mo=se.current+He;return Mo<0?Mo===-1&&P?-1:m&&se.current!==-1||Math.abs(He)>1?0:Mr:Mo>Mr?Mo===Mr+1&&P?-1:m||Math.abs(He)>1?Mr:0:Mo})(),yt);if(Me({index:Vn,reason:bn,event:Ge}),r&&He!=="reset")if(Vn===-1)ie.current.value=oe;else{const Mr=K(ve[Vn]);ie.current.value=Mr,Mr.toLowerCase().indexOf(oe.toLowerCase())===0&&oe.length>0&&ie.current.setSelectionRange(oe.length,Mr.length)}}),Qe=()=>{const Ge=(He,yt)=>{const bn=He?K(He):"",Tn=yt?K(yt):"";return bn===Tn};if(se.current!==-1&&_e.filteredOptions&&_e.filteredOptions.length!==ve.length&&_e.inputValue===oe&&(I?X.length===_e.value.length&&_e.value.every((He,yt)=>K(X[yt])===K(He)):Ge(_e.value,X))){const He=_e.filteredOptions[se.current];if(He)return ve.findIndex(yt=>K(yt)===K(He))}return-1},Rt=O.useCallback(()=>{if(!Ie)return;const Ge=Qe();if(Ge!==-1){se.current=Ge;return}const He=I?X[0]:X;if(ve.length===0||He==null){ze({diff:"reset"});return}if(re.current){if(He!=null){const yt=ve[se.current];if(I&&yt&&X.findIndex(Tn=>F(yt,Tn))!==-1)return;const bn=ve.findIndex(Tn=>F(Tn,He));bn===-1?ze({diff:"reset"}):Me({index:bn});return}if(se.current>=ve.length-1){Me({index:ve.length-1});return}Me({index:se.current})}},[ve.length,I?!1:X,b,ze,Me,Ie,oe,I]),Et=mt(Ge=>{zA(re,Ge),Ge&&Rt()});O.useEffect(()=>{Rt()},[Rt]);const Wt=Ge=>{xe||(ue(!0),Oe(!0),V&&V(Ge))},vn=(Ge,He)=>{xe&&(ue(!1),M&&M(Ge,He))},It=(Ge,He,yt,bn)=>{if(I){if(X.length===He.length&&X.every((Tn,Vn)=>Tn===He[Vn]))return}else if(X===He)return;j&&j(Ge,He,yt,bn),Z(He)},$t=O.useRef(!1),ur=(Ge,He,yt="selectOption",bn="options")=>{let Tn=yt,Vn=He;if(I){Vn=Array.isArray(X)?X.slice():[];const Mr=Vn.findIndex(Mo=>F(He,Mo));Mr===-1?Vn.push(He):bn!=="freeSolo"&&(Vn.splice(Mr,1),Tn="removeOption")}Re(Ge,Vn,Tn),It(Ge,Vn,Tn,{option:He}),!f&&(!Ge||!Ge.ctrlKey&&!Ge.metaKey)&&vn(Ge,Tn),(s===!0||s==="touch"&&$t.current||s==="mouse"&&!$t.current)&&ie.current.blur()};function ht(Ge,He){if(Ge===-1)return-1;let yt=Ge;for(;;){if(He==="next"&&yt===X.length||He==="previous"&&yt===-1)return-1;const bn=he.querySelector(`[data-tag-index="${yt}"]`);if(!bn||!bn.hasAttribute("tabindex")||bn.disabled||bn.getAttribute("aria-disabled")==="true")yt+=He==="next"?1:-1;else return yt}}const jt=(Ge,He)=>{if(!I)return;oe===""&&vn(Ge,"toggleInput");let yt=ne;ne===-1?oe===""&&He==="previous"&&(yt=X.length-1):(yt+=He==="next"?1:-1,yt<0&&(yt=0),yt===X.length&&(yt=-1)),yt=ht(yt,He),pe(yt),De(yt)},Ot=Ge=>{te.current=!0,ge(""),L&&L(Ge,"","clear"),It(Ge,I?[]:null,"clear")},dr=Ge=>He=>{if(Ge.onKeyDown&&Ge.onKeyDown(He),!He.defaultMuiPrevented&&(ne!==-1&&!["ArrowLeft","ArrowRight"].includes(He.key)&&(pe(-1),De(-1)),He.which!==229))switch(He.key){case"Home":Ie&&k&&(He.preventDefault(),ze({diff:"start",direction:"next",reason:"keyboard",event:He}));break;case"End":Ie&&k&&(He.preventDefault(),ze({diff:"end",direction:"previous",reason:"keyboard",event:He}));break;case"PageUp":He.preventDefault(),ze({diff:-5,direction:"previous",reason:"keyboard",event:He}),Wt(He);break;case"PageDown":He.preventDefault(),ze({diff:j7e,direction:"next",reason:"keyboard",event:He}),Wt(He);break;case"ArrowDown":He.preventDefault(),ze({diff:1,direction:"next",reason:"keyboard",event:He}),Wt(He);break;case"ArrowUp":He.preventDefault(),ze({diff:-1,direction:"previous",reason:"keyboard",event:He}),Wt(He);break;case"ArrowLeft":jt(He,"previous");break;case"ArrowRight":jt(He,"next");break;case"Enter":if(se.current!==-1&&Ie){const yt=ve[se.current],bn=C?C(yt):!1;if(He.preventDefault(),bn)return;ur(He,yt,"selectOption"),r&&ie.current.setSelectionRange(ie.current.value.length,ie.current.value.length)}else S&&oe!==""&&ke===!1&&(I&&He.preventDefault(),ur(He,oe,"createOption","freeSolo"));break;case"Escape":Ie?(He.preventDefault(),He.stopPropagation(),vn(He,"escape")):l&&(oe!==""||I&&X.length>0)&&(He.preventDefault(),He.stopPropagation(),Ot(He));break;case"Backspace":if(I&&!B&&oe===""&&X.length>0){const yt=ne===-1?X.length-1:ne,bn=X.slice();bn.splice(yt,1),It(He,bn,"removeOption",{option:X[yt]})}break;case"Delete":if(I&&!B&&oe===""&&X.length>0&&ne!==-1){const yt=ne,bn=X.slice();bn.splice(yt,1),It(He,bn,"removeOption",{option:X[yt]})}break}},xt=Ge=>{de(!0),U&&!te.current&&Wt(Ge)},wt=Ge=>{if(t(re)){ie.current.focus();return}de(!1),ce.current=!0,te.current=!1,o&&se.current!==-1&&Ie?ur(Ge,ve[se.current],"blur"):o&&S&&oe!==""?ur(Ge,oe,"blur","freeSolo"):a&&Re(Ge,X,"blur"),vn(Ge,"blur")},Bt=Ge=>{const He=Ge.target.value;oe!==He&&(ge(He),Oe(!1),L&&L(Ge,He,"input")),He===""?!d&&!I&&It(Ge,null,"clear"):Wt(Ge)},Kt=Ge=>{const He=Number(Ge.currentTarget.getAttribute("data-option-index"));se.current!==He&&Me({event:Ge,index:He,reason:"mouse"})},gt=Ge=>{Me({event:Ge,index:Number(Ge.currentTarget.getAttribute("data-option-index")),reason:"touch"}),$t.current=!0},di=Ge=>{const He=Number(Ge.currentTarget.getAttribute("data-option-index"));ur(Ge,ve[He],"selectOption"),$t.current=!1},Yn=Ge=>He=>{const yt=X.slice();yt.splice(Ge,1),It(He,yt,"removeOption",{option:X[Ge]})},Tr=Ge=>{xe?vn(Ge,"toggleInput"):Wt(Ge)},Zr=Ge=>{Ge.currentTarget.contains(Ge.target)&&Ge.target.getAttribute("id")!==Q&&Ge.preventDefault()},On=Ge=>{Ge.currentTarget.contains(Ge.target)&&(ie.current.focus(),G&&ce.current&&ie.current.selectionEnd-ie.current.selectionStart===0&&ie.current.select(),ce.current=!1)},Hn=Ge=>{!p&&(oe===""||!xe)&&Tr(Ge)};let ti=S&&oe.length>0;ti=ti||(I?X.length>0:X!==null);let Qs=ve;return T&&(Qs=ve.reduce((Ge,He,yt)=>{const bn=T(He);return Ge.length>0&&Ge[Ge.length-1].group===bn?Ge[Ge.length-1].options.push(He):Ge.push({key:yt,index:yt,group:bn,options:[He]}),Ge},[])),p&&be&&wt(),{getRootProps:(Ge={})=>({...Ge,onKeyDown:dr(Ge),onMouseDown:Zr,onClick:On}),getInputLabelProps:()=>({id:`${Q}-label`,htmlFor:Q}),getInputProps:()=>({id:Q,value:oe,onBlur:wt,onFocus:xt,onChange:Bt,onMouseDown:Hn,"aria-activedescendant":Ie?"":null,"aria-autocomplete":r?"both":"list","aria-controls":$e?`${Q}-listbox`:void 0,"aria-expanded":$e,autoComplete:"off",ref:ie,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ot}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Tr}),getTagProps:({index:Ge})=>({key:Ge,"data-tag-index":Ge,tabIndex:-1,...!B&&{onDelete:Yn(Ge)}}),getListboxProps:()=>({role:"listbox",id:`${Q}-listbox`,"aria-labelledby":`${Q}-label`,ref:Et,onMouseDown:Ge=>{Ge.preventDefault()}}),getOptionProps:({index:Ge,option:He})=>{const yt=(I?X:[X]).some(Tn=>Tn!=null&&F(He,Tn)),bn=C?C(He):!1;return{key:(_==null?void 0:_(He))??K(He),tabIndex:-1,role:"option",id:`${Q}-option-${Ge}`,onMouseMove:Kt,onClick:di,onTouchStart:gt,"data-option-index":Ge,"aria-disabled":bn,"aria-selected":yt}},id:Q,inputValue:oe,value:X,dirty:ti,expanded:Ie&&he,popupOpen:Ie,focused:be||ne!==-1,anchorEl:he,setAnchorEl:fe,focusedTag:ne,groupedOptions:Qs}}var ma="top",dc="bottom",fc="right",ya="left",A7="auto",n2=[ma,dc,fc,ya],m1="start",A_="end",H7e="clippingParents",ege="viewport",pw="popper",V7e="reference",mte=n2.reduce(function(e,t){return e.concat([t+"-"+m1,t+"-"+A_])},[]),tge=[].concat(n2,[A7]).reduce(function(e,t){return e.concat([t,t+"-"+m1,t+"-"+A_])},[]),W7e="beforeRead",q7e="read",G7e="afterRead",Y7e="beforeMain",X7e="main",K7e="afterMain",Q7e="beforeWrite",Z7e="write",J7e="afterWrite",eUe=[W7e,q7e,G7e,Y7e,X7e,K7e,Q7e,Z7e,J7e];function bd(e){return e?(e.nodeName||"").toLowerCase():null}function hl(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function O0(e){var t=hl(e).Element;return e instanceof t||e instanceof Element}function ic(e){var t=hl(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function O7(e){if(typeof ShadowRoot>"u")return!1;var t=hl(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function tUe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!ic(o)||!bd(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function nUe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!ic(i)||!bd(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const rUe={name:"applyStyles",enabled:!0,phase:"write",fn:tUe,effect:nUe,requires:["computeStyles"]};function fd(e){return e.split("-")[0]}var p0=Math.max,WA=Math.min,y1=Math.round;function Hz(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nge(){return!/^((?!chrome|android).)*safari/i.test(Hz())}function v1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&ic(e)&&(i=e.offsetWidth>0&&y1(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&y1(r.height)/e.offsetHeight||1);var s=O0(e)?hl(e):window,a=s.visualViewport,l=!nge()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function D7(e){var t=v1(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rge(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&O7(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ap(e){return hl(e).getComputedStyle(e)}function iUe(e){return["table","td","th"].indexOf(bd(e))>=0}function Dg(e){return((O0(e)?e.ownerDocument:e.document)||window.document).documentElement}function LP(e){return bd(e)==="html"?e:e.assignedSlot||e.parentNode||(O7(e)?e.host:null)||Dg(e)}function yte(e){return!ic(e)||ap(e).position==="fixed"?null:e.offsetParent}function oUe(e){var t=/firefox/i.test(Hz()),n=/Trident/i.test(Hz());if(n&&ic(e)){var r=ap(e);if(r.position==="fixed")return null}var i=LP(e);for(O7(i)&&(i=i.host);ic(i)&&["html","body"].indexOf(bd(i))<0;){var o=ap(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function r2(e){for(var t=hl(e),n=yte(e);n&&iUe(n)&&ap(n).position==="static";)n=yte(n);return n&&(bd(n)==="html"||bd(n)==="body"&&ap(n).position==="static")?t:n||oUe(e)||t}function P7(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zC(e,t,n){return p0(e,WA(t,n))}function sUe(e,t,n){var r=zC(e,t,n);return r>n?n:r}function ige(){return{top:0,right:0,bottom:0,left:0}}function oge(e){return Object.assign({},ige(),e)}function sge(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var aUe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,oge(typeof t!="number"?t:sge(t,n2))};function lUe(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=fd(n.placement),l=P7(a),c=[ya,fc].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=aUe(i.padding,n),f=D7(o),p=l==="y"?ma:ya,g=l==="y"?dc:fc,m=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],v=s[l]-n.rects.reference[l],b=r2(o),S=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,C=m/2-v/2,_=d[p],E=S-f[u]-d[g],T=S/2-f[u]/2+C,k=zC(_,T,E),A=l;n.modifiersData[r]=(t={},t[A]=k,t.centerOffset=k-T,t)}}function cUe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||rge(t.elements.popper,i)&&(t.elements.arrow=i))}const uUe={name:"arrow",enabled:!0,phase:"main",fn:lUe,effect:cUe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function b1(e){return e.split("-")[1]}var dUe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fUe(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:y1(n*i)/i||0,y:y1(r*i)/i||0}}function vte(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=s.x,p=f===void 0?0:f,g=s.y,m=g===void 0?0:g,v=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=v.x,m=v.y;var b=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),C=ya,_=ma,E=window;if(c){var T=r2(n),k="clientHeight",A="clientWidth";if(T===hl(n)&&(T=Dg(n),ap(T).position!=="static"&&a==="absolute"&&(k="scrollHeight",A="scrollWidth")),T=T,i===ma||(i===ya||i===fc)&&o===A_){_=dc;var P=d&&T===E&&E.visualViewport?E.visualViewport.height:T[k];m-=P-r.height,m*=l?1:-1}if(i===ya||(i===ma||i===dc)&&o===A_){C=fc;var D=d&&T===E&&E.visualViewport?E.visualViewport.width:T[A];p-=D-r.width,p*=l?1:-1}}var F=Object.assign({position:a},c&&dUe),I=u===!0?fUe({x:p,y:m},hl(n)):{x:p,y:m};if(p=I.x,m=I.y,l){var j;return Object.assign({},F,(j={},j[_]=S?"0":"",j[C]=b?"0":"",j.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",j))}return Object.assign({},F,(t={},t[_]=S?m+"px":"",t[C]=b?p+"px":"",t.transform="",t))}function pUe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:fd(t.placement),variation:b1(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,vte(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,vte(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const hUe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pUe,data:{}};var WR={passive:!0};function gUe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=hl(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,WR)}),a&&l.addEventListener("resize",n.update,WR),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,WR)}),a&&l.removeEventListener("resize",n.update,WR)}}const mUe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gUe,data:{}};var yUe={left:"right",right:"left",bottom:"top",top:"bottom"};function DM(e){return e.replace(/left|right|bottom|top/g,function(t){return yUe[t]})}var vUe={start:"end",end:"start"};function bte(e){return e.replace(/start|end/g,function(t){return vUe[t]})}function I7(e){var t=hl(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function $7(e){return v1(Dg(e)).left+I7(e).scrollLeft}function bUe(e,t){var n=hl(e),r=Dg(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=nge();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+$7(e),y:l}}function xUe(e){var t,n=Dg(e),r=I7(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=p0(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=p0(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+$7(e),l=-r.scrollTop;return ap(i||n).direction==="rtl"&&(a+=p0(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function F7(e){var t=ap(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function age(e){return["html","body","#document"].indexOf(bd(e))>=0?e.ownerDocument.body:ic(e)&&F7(e)?e:age(LP(e))}function BC(e,t){var n;t===void 0&&(t=[]);var r=age(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=hl(r),s=i?[o].concat(o.visualViewport||[],F7(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(BC(LP(s)))}function Vz(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function SUe(e,t){var n=v1(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function xte(e,t,n){return t===ege?Vz(bUe(e,n)):O0(t)?SUe(t,n):Vz(xUe(Dg(e)))}function wUe(e){var t=BC(LP(e)),n=["absolute","fixed"].indexOf(ap(e).position)>=0,r=n&&ic(e)?r2(e):e;return O0(r)?t.filter(function(i){return O0(i)&&rge(i,r)&&bd(i)!=="body"}):[]}function CUe(e,t,n,r){var i=t==="clippingParents"?wUe(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=xte(e,c,r);return l.top=p0(u.top,l.top),l.right=WA(u.right,l.right),l.bottom=WA(u.bottom,l.bottom),l.left=p0(u.left,l.left),l},xte(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function lge(e){var t=e.reference,n=e.element,r=e.placement,i=r?fd(r):null,o=r?b1(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case ma:l={x:s,y:t.y-n.height};break;case dc:l={x:s,y:t.y+t.height};break;case fc:l={x:t.x+t.width,y:a};break;case ya:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?P7(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case m1:l[c]=l[c]-(t[u]/2-n[u]/2);break;case A_:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function O_(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?H7e:a,c=n.rootBoundary,u=c===void 0?ege:c,d=n.elementContext,f=d===void 0?pw:d,p=n.altBoundary,g=p===void 0?!1:p,m=n.padding,v=m===void 0?0:m,b=oge(typeof v!="number"?v:sge(v,n2)),S=f===pw?V7e:pw,C=e.rects.popper,_=e.elements[g?S:f],E=CUe(O0(_)?_:_.contextElement||Dg(e.elements.popper),l,u,s),T=v1(e.elements.reference),k=lge({reference:T,element:C,placement:i}),A=Vz(Object.assign({},C,k)),P=f===pw?A:T,D={top:E.top-P.top+b.top,bottom:P.bottom-E.bottom+b.bottom,left:E.left-P.left+b.left,right:P.right-E.right+b.right},F=e.modifiersData.offset;if(f===pw&&F){var I=F[i];Object.keys(D).forEach(function(j){var M=[fc,dc].indexOf(j)>=0?1:-1,$=[ma,dc].indexOf(j)>=0?"y":"x";D[j]+=I[$]*M})}return D}function _Ue(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?tge:l,u=b1(r),d=u?a?mte:mte.filter(function(g){return b1(g)===u}):n2,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var p=f.reduce(function(g,m){return g[m]=O_(e,{placement:m,boundary:i,rootBoundary:o,padding:s})[fd(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function EUe(e){if(fd(e)===A7)return[];var t=DM(e);return[bte(e),t,bte(t)]}function kUe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,v=t.options.placement,b=fd(v),S=b===v,C=l||(S||!g?[DM(v)]:EUe(v)),_=[v].concat(C).reduce(function(Q,K){return Q.concat(fd(K)===A7?_Ue(t,{placement:K,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):K)},[]),E=t.rects.reference,T=t.rects.popper,k=new Map,A=!0,P=_[0],D=0;D<_.length;D++){var F=_[D],I=fd(F),j=b1(F)===m1,M=[ma,dc].indexOf(I)>=0,$=M?"width":"height",L=O_(t,{placement:F,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),V=M?j?fc:ya:j?dc:ma;E[$]>T[$]&&(V=DM(V));var q=DM(V),U=[];if(o&&U.push(L[I]<=0),a&&U.push(L[V]<=0,L[q]<=0),U.every(function(Q){return Q})){P=F,A=!1;break}k.set(F,U)}if(A)for(var z=g?3:1,B=function(K){var te=_.find(function(ce){var ie=k.get(ce);if(ie)return ie.slice(0,K).every(function(re){return re})});if(te)return P=te,"break"},G=z;G>0;G--){var Y=B(G);if(Y==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}const RUe={name:"flip",enabled:!0,phase:"main",fn:kUe,requiresIfExists:["offset"],data:{_skip:!1}};function Ste(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function wte(e){return[ma,fc,dc,ya].some(function(t){return e[t]>=0})}function TUe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=O_(t,{elementContext:"reference"}),a=O_(t,{altBoundary:!0}),l=Ste(s,r),c=Ste(a,i,o),u=wte(l),d=wte(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const MUe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:TUe};function AUe(e,t,n){var r=fd(e),i=[ya,ma].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ya,fc].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function OUe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=tge.reduce(function(u,d){return u[d]=AUe(d,t.rects,o),u},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const DUe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:OUe};function PUe(e){var t=e.state,n=e.name;t.modifiersData[n]=lge({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const IUe={name:"popperOffsets",enabled:!0,phase:"read",fn:PUe,data:{}};function $Ue(e){return e==="x"?"y":"x"}function FUe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,m=g===void 0?0:g,v=O_(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=fd(t.placement),S=b1(t.placement),C=!S,_=P7(b),E=$Ue(_),T=t.modifiersData.popperOffsets,k=t.rects.reference,A=t.rects.popper,P=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,D=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(T){if(o){var j,M=_==="y"?ma:ya,$=_==="y"?dc:fc,L=_==="y"?"height":"width",V=T[_],q=V+v[M],U=V-v[$],z=p?-A[L]/2:0,B=S===m1?k[L]:A[L],G=S===m1?-A[L]:-k[L],Y=t.elements.arrow,Q=p&&Y?D7(Y):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ige(),te=K[M],ce=K[$],ie=zC(0,k[L],Q[L]),re=C?k[L]/2-z-ie-te-D.mainAxis:B-ie-te-D.mainAxis,he=C?-k[L]/2+z+ie+ce+D.mainAxis:G+ie+ce+D.mainAxis,fe=t.elements.arrow&&r2(t.elements.arrow),ne=fe?_==="y"?fe.clientTop||0:fe.clientLeft||0:0,pe=(j=F==null?void 0:F[_])!=null?j:0,W=V+re-pe-ne,se=V+he-pe,ae=zC(p?WA(q,W):q,V,p?p0(U,se):U);T[_]=ae,I[_]=ae-V}if(a){var X,Z=_==="x"?ma:ya,oe=_==="x"?dc:fc,ge=T[E],be=E==="y"?"height":"width",de=ge+v[Z],Re=ge-v[oe],xe=[ma,ya].indexOf(b)!==-1,ue=(X=F==null?void 0:F[E])!=null?X:0,we=xe?de:ge-k[be]-A[be]-ue+D.altAxis,Oe=xe?ge+k[be]+A[be]-ue-D.altAxis:Re,ke=p&&xe?sUe(we,ge,Oe):zC(p?we:de,ge,p?Oe:Re);T[E]=ke,I[E]=ke-ge}t.modifiersData[r]=I}}const NUe={name:"preventOverflow",enabled:!0,phase:"main",fn:FUe,requiresIfExists:["offset"]};function LUe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function jUe(e){return e===hl(e)||!ic(e)?I7(e):LUe(e)}function zUe(e){var t=e.getBoundingClientRect(),n=y1(t.width)/e.offsetWidth||1,r=y1(t.height)/e.offsetHeight||1;return n!==1||r!==1}function BUe(e,t,n){n===void 0&&(n=!1);var r=ic(t),i=ic(t)&&zUe(t),o=Dg(t),s=v1(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((bd(t)!=="body"||F7(o))&&(a=jUe(t)),ic(t)?(l=v1(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=$7(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function UUe(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function HUe(e){var t=UUe(e);return eUe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function VUe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function WUe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Cte={placement:"bottom",modifiers:[],strategy:"absolute"};function _te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function qUe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?Cte:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cte,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(b){var S=typeof b=="function"?b(u.options):b;m(),u.options=Object.assign({},o,u.options,S),u.scrollParents={reference:O0(a)?BC(a):a.contextElement?BC(a.contextElement):[],popper:BC(l)};var C=HUe(WUe([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(_){return _.enabled}),g(),p.update()},forceUpdate:function(){if(!f){var b=u.elements,S=b.reference,C=b.popper;if(_te(S,C)){u.rects={reference:BUe(S,r2(C),u.options.strategy==="fixed"),popper:D7(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(D){return u.modifiersData[D.name]=Object.assign({},D.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var E=u.orderedModifiers[_],T=E.fn,k=E.options,A=k===void 0?{}:k,P=E.name;typeof T=="function"&&(u=T({state:u,options:A,name:P,instance:p})||u)}}}},update:VUe(function(){return new Promise(function(v){p.forceUpdate(),v(u)})}),destroy:function(){m(),f=!0}};if(!_te(a,l))return p;p.setOptions(c).then(function(v){!f&&c.onFirstUpdate&&c.onFirstUpdate(v)});function g(){u.orderedModifiers.forEach(function(v){var b=v.name,S=v.options,C=S===void 0?{}:S,_=v.effect;if(typeof _=="function"){var E=_({state:u,name:b,instance:p,options:C}),T=function(){};d.push(E||T)}})}function m(){d.forEach(function(v){return v()}),d=[]}return p}}var GUe=[mUe,IUe,hUe,rUe,DUe,RUe,NUe,uUe,MUe],YUe=qUe({defaultModifiers:GUe});function XUe(e){return typeof e=="function"?e():e}const cge=O.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=O.useState(null),l=Ln(O.isValidElement(r)?Og(r):null,n);if(li(()=>{o||a(XUe(i)||document.body)},[i,o]),li(()=>{if(s&&!o)return zA(n,s),()=>{zA(n,null)}},[n,s,o]),o){if(O.isValidElement(r)){const c={ref:l};return O.cloneElement(r,c)}return r}return s&&gp.createPortal(r,s)});function KUe(e){return et("MuiPopper",e)}nt("MuiPopper",["root"]);function QUe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Wz(e){return typeof e=="function"?e():e}function ZUe(e){return e.nodeType!==void 0}const JUe=e=>{const{classes:t}=e;return Ke({root:["root"]},KUe,t)},eHe={},tHe=O.forwardRef(function(t,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:d,slotProps:f={},slots:p={},TransitionProps:g,ownerState:m,...v}=t,b=O.useRef(null),S=Ln(b,n),C=O.useRef(null),_=Ln(C,d),E=O.useRef(_);li(()=>{E.current=_},[_]),O.useImperativeHandle(d,()=>C.current,[]);const T=QUe(c,o),[k,A]=O.useState(T),[P,D]=O.useState(Wz(r));O.useEffect(()=>{C.current&&C.current.forceUpdate()}),O.useEffect(()=>{r&&D(Wz(r))},[r]),li(()=>{if(!P||!l)return;const $=q=>{A(q.placement)};let L=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:q})=>{$(q)}}];a!=null&&(L=L.concat(a)),u&&u.modifiers!=null&&(L=L.concat(u.modifiers));const V=YUe(P,b.current,{placement:T,...u,modifiers:L});return E.current(V),()=>{V.destroy(),E.current(null)}},[P,s,a,l,u,T]);const F={placement:k};g!==null&&(F.TransitionProps=g);const I=JUe(t),j=p.root??"div",M=pn({elementType:j,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:S},ownerState:t,className:I.root});return x.jsx(j,{...M,children:typeof i=="function"?i(F):i})}),nHe=O.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=eHe,popperRef:p,style:g,transition:m=!1,slotProps:v={},slots:b={},...S}=t,[C,_]=O.useState(!0),E=()=>{_(!1)},T=()=>{_(!0)};if(!l&&!u&&(!m||C))return null;let k;if(o)k=o;else if(r){const D=Wz(r);k=D&&ZUe(D)?ai(D).body:ai(null).body}const A=!u&&l&&(!m||C)?"none":void 0,P=m?{in:u,onEnter:E,onExited:T}:void 0;return x.jsx(cge,{disablePortal:a,container:k,children:x.jsx(tHe,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:m?!C:u,placement:d,popperOptions:f,popperRef:p,slotProps:v,slots:b,...S,style:{position:"fixed",top:0,left:0,display:A,...g},TransitionProps:P,children:i})})}),rHe=ye(nHe,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),i2=O.forwardRef(function(t,n){const r=Pi(),i=Ct({props:t,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:f,open:p,placement:g,popperOptions:m,popperRef:v,transition:b,slots:S,slotProps:C,..._}=i,E=(S==null?void 0:S.root)??(a==null?void 0:a.Root),T={anchorEl:o,container:c,disablePortal:u,keepMounted:d,modifiers:f,open:p,placement:g,popperOptions:m,popperRef:v,transition:b,..._};return x.jsx(rHe,{as:s,direction:r?"rtl":"ltr",slots:{root:E},slotProps:C??l,...T,ref:n})});function iHe(e){return et("MuiListSubheader",e)}nt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const oHe=e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:o}=e,s={root:["root",n!=="default"&&`color${Te(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return Ke(s,iHe,t)},sHe=ye("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Te(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(pt(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),qz=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,d={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},f=oHe(d);return x.jsx(sHe,{as:s,className:Ne(f.root,i),ref:n,ownerState:d,...u})});qz&&(qz.muiSkipListHighlight=!0);const aHe=st(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function lHe(e){return et("MuiChip",e)}const Gn=nt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),cHe=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled",`size${Te(r)}`,`color${Te(i)}`,a&&"clickable",a&&`clickableColor${Te(i)}`,s&&"deletable",s&&`deletableColor${Te(i)}`,`${l}${Te(i)}`],label:["label",`label${Te(r)}`],avatar:["avatar",`avatar${Te(r)}`,`avatarColor${Te(i)}`],icon:["icon",`icon${Te(r)}`,`iconColor${Te(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Te(r)}`,`deleteIconColor${Te(i)}`,`deleteIcon${Te(l)}Color${Te(i)}`]};return Ke(c,lHe,t)},uHe=ye("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Gn.avatar}`]:t.avatar},{[`& .${Gn.avatar}`]:t[`avatar${Te(a)}`]},{[`& .${Gn.avatar}`]:t[`avatarColor${Te(r)}`]},{[`& .${Gn.icon}`]:t.icon},{[`& .${Gn.icon}`]:t[`icon${Te(a)}`]},{[`& .${Gn.icon}`]:t[`iconColor${Te(i)}`]},{[`& .${Gn.deleteIcon}`]:t.deleteIcon},{[`& .${Gn.deleteIcon}`]:t[`deleteIcon${Te(a)}`]},{[`& .${Gn.deleteIcon}`]:t[`deleteIconColor${Te(r)}`]},{[`& .${Gn.deleteIcon}`]:t[`deleteIcon${Te(l)}Color${Te(r)}`]},t.root,t[`size${Te(a)}`],t[`color${Te(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${Te(r)})`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${Te(r)}`],t[l],t[`${l}${Te(r)}`]]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Gn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Gn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Gn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Gn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Gn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Gn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Gn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:_t(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:_t(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Gn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Gn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Xn(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${Gn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].contrastTextChannel} / 0.7)`:_t(e.palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Gn.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Gn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Gn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_t(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(Xn(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Gn.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_t(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Gn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_t(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Xn(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Gn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Gn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Gn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Gn.avatar}`]:{marginLeft:4},[`& .${Gn.avatarSmall}`]:{marginLeft:2},[`& .${Gn.icon}`]:{marginLeft:4},[`& .${Gn.iconSmall}`]:{marginLeft:2},[`& .${Gn.deleteIcon}`]:{marginRight:5},[`& .${Gn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Xn()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:_t(e.palette[n].main,.7)}`,[`&.${Gn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette[n].main,e.palette.action.hoverOpacity)},[`&.${Gn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.focusOpacity})`:_t(e.palette[n].main,e.palette.action.focusOpacity)},[`& .${Gn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:_t(e.palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),dHe=ye("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Te(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Ete(e){return e.key==="Backspace"||e.key==="Delete"}const D0=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:p,onDelete:g,onKeyDown:m,onKeyUp:v,size:b="medium",variant:S="filled",tabIndex:C,skipFocusWhenDisabled:_=!1,...E}=r,T=O.useRef(null),k=Ln(T,n),A=U=>{U.stopPropagation(),g&&g(U)},P=U=>{U.currentTarget===U.target&&Ete(U)&&U.preventDefault(),m&&m(U)},D=U=>{U.currentTarget===U.target&&g&&Ete(U)&&g(U),v&&v(U)},F=s!==!1&&p?!0:s,I=F||g?uc:l||"div",j={...r,component:I,disabled:u,size:b,color:a,iconColor:O.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:F,variant:S},M=cHe(j),$=I===uc?{component:l||"div",focusVisibleClassName:M.focusVisible,...g&&{disableRipple:!0}}:{};let L=null;g&&(L=c&&O.isValidElement(c)?O.cloneElement(c,{className:Ne(c.props.className,M.deleteIcon),onClick:A}):x.jsx(aHe,{className:Ne(M.deleteIcon),onClick:A}));let V=null;i&&O.isValidElement(i)&&(V=O.cloneElement(i,{className:Ne(M.avatar,i.props.className)}));let q=null;return d&&O.isValidElement(d)&&(q=O.cloneElement(d,{className:Ne(M.icon,d.props.className)})),x.jsxs(uHe,{as:I,className:Ne(M.root,o),disabled:F&&u?!0:void 0,onClick:p,onKeyDown:P,onKeyUp:D,ref:k,tabIndex:_&&u?-1:C,ownerState:j,...$,...E,children:[V||q,x.jsx(dHe,{className:Ne(M.label),ownerState:j,children:f}),L]})});function qR(e){return parseInt(e,10)||0}const fHe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function pHe(e){for(const t in e)return!1;return!0}function hHe(e){return pHe(e)||e.outerHeightStyle===0&&!e.overflowing}const gHe=O.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=t,{current:c}=O.useRef(a!=null),u=O.useRef(null),d=Ln(n,u),f=O.useRef(null),p=O.useRef(null),g=O.useCallback(()=>{const S=u.current,C=p.current;if(!S||!C)return;const E=pl(S).getComputedStyle(S);if(E.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=E.width,C.value=S.value||t.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const T=E.boxSizing,k=qR(E.paddingBottom)+qR(E.paddingTop),A=qR(E.borderBottomWidth)+qR(E.borderTopWidth),P=C.scrollHeight;C.value="x";const D=C.scrollHeight;let F=P;o&&(F=Math.max(Number(o)*D,F)),i&&(F=Math.min(Number(i)*D,F)),F=Math.max(F,D);const I=F+(T==="border-box"?k+A:0),j=Math.abs(F-P)<=1;return{outerHeightStyle:I,overflowing:j}},[i,o,t.placeholder]),m=O.useCallback(()=>{const S=u.current,C=g();if(!S||!C||hHe(C))return;const _=C.outerHeightStyle;f.current!==_&&(f.current=_,S.style.height=`${_}px`),S.style.overflow=C.overflowing?"hidden":""},[g]),v=O.useRef(-1);li(()=>{const S=my(()=>m()),C=u==null?void 0:u.current;if(!C)return;const _=pl(C);_.addEventListener("resize",S);let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(()=>{E.unobserve(C),cancelAnimationFrame(v.current),m(),v.current=requestAnimationFrame(()=>{E.observe(C)})}),E.observe(C)),()=>{S.clear(),cancelAnimationFrame(v.current),_.removeEventListener("resize",S),E&&E.disconnect()}},[g,m]),li(()=>{m()});const b=S=>{c||m(),r&&r(S)};return x.jsxs(O.Fragment,{children:[x.jsx("textarea",{value:a,onChange:b,ref:d,rows:o,style:s,...l}),x.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:{...fHe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function jf(e){return typeof e=="string"}function yy({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const jP=O.createContext(void 0);function Ta(){return O.useContext(jP)}function kte(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function qA(e,t=!1){return e&&(kte(e.value)&&e.value!==""||t&&kte(e.defaultValue)&&e.defaultValue!=="")}function mHe(e){return e.startAdornment}function yHe(e){return et("MuiInputBase",e)}const qa=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Rte;const zP=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Te(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},BP=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},vHe=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:g}=e,m={root:["root",`color${Te(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${Te(f)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Ke(m,yHe,t)},UP=ye("div",{name:"MuiInputBase",slot:"Root",overridesResolver:zP})(pt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${qa.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),HP=ye("input",{name:"MuiInputBase",slot:"Input",overridesResolver:BP})(pt(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${qa.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${qa.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Tte=_7({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),N7=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:g,error:m,fullWidth:v=!1,id:b,inputComponent:S="input",inputProps:C={},inputRef:_,margin:E,maxRows:T,minRows:k,multiline:A=!1,name:P,onBlur:D,onChange:F,onClick:I,onFocus:j,onKeyDown:M,onKeyUp:$,placeholder:L,readOnly:V,renderSuffix:q,rows:U,size:z,slotProps:B={},slots:G={},startAdornment:Y,type:Q="text",value:K,...te}=r,ce=C.value!=null?C.value:K,{current:ie}=O.useRef(ce!=null),re=O.useRef(),he=O.useCallback(_e=>{},[]),fe=Ln(re,_,C.ref,he),[ne,pe]=O.useState(!1),W=Ta(),se=yy({props:r,muiFormControl:W,states:["color","disabled","error","hiddenLabel","size","required","filled"]});se.focused=W?W.focused:ne,O.useEffect(()=>{!W&&f&&ne&&(pe(!1),D&&D())},[W,f,ne,D]);const ae=W&&W.onFilled,X=W&&W.onEmpty,Z=O.useCallback(_e=>{qA(_e)?ae&&ae():X&&X()},[ae,X]);li(()=>{ie&&Z({value:ce})},[ce,Z,ie]);const oe=_e=>{j&&j(_e),C.onFocus&&C.onFocus(_e),W&&W.onFocus?W.onFocus(_e):pe(!0)},ge=_e=>{D&&D(_e),C.onBlur&&C.onBlur(_e),W&&W.onBlur?W.onBlur(_e):pe(!1)},be=(_e,...$e)=>{if(!ie){const De=_e.target||re.current;if(De==null)throw new Error(op(1));Z({value:De.value})}C.onChange&&C.onChange(_e,...$e),F&&F(_e,...$e)};O.useEffect(()=>{Z(re.current)},[]);const de=_e=>{re.current&&_e.currentTarget===_e.target&&re.current.focus(),I&&I(_e)};let Re=S,xe=C;A&&Re==="input"&&(U?xe={type:void 0,minRows:U,maxRows:U,...xe}:xe={type:void 0,maxRows:T,minRows:k,...xe},Re=gHe);const ue=_e=>{Z(_e.animationName==="mui-auto-fill-cancel"?re.current:{value:"x"})};O.useEffect(()=>{W&&W.setAdornedStart(!!Y)},[W,Y]);const we={...r,color:se.color||"primary",disabled:se.disabled,endAdornment:g,error:se.error,focused:se.focused,formControl:W,fullWidth:v,hiddenLabel:se.hiddenLabel,multiline:A,size:se.size,startAdornment:Y,type:Q},Oe=vHe(we),ke=G.root||c.Root||UP,Ie=B.root||u.root||{},ve=G.input||c.Input||HP;return xe={...xe,...B.input??u.input},x.jsxs(O.Fragment,{children:[!p&&typeof Tte=="function"&&(Rte||(Rte=x.jsx(Tte,{}))),x.jsxs(ke,{...Ie,ref:n,onClick:de,...te,...!jf(ke)&&{ownerState:{...we,...Ie.ownerState}},className:Ne(Oe.root,Ie.className,a,V&&"MuiInputBase-readOnly"),children:[Y,x.jsx(jP.Provider,{value:null,children:x.jsx(ve,{"aria-invalid":se.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:se.disabled,id:b,onAnimationStart:ue,name:P,placeholder:L,readOnly:V,required:se.required,rows:U,value:ce,onKeyDown:M,onKeyUp:$,type:Q,...xe,...!jf(ve)&&{as:Re,ownerState:{...we,...xe.ownerState}},ref:fe,className:Ne(Oe.input,xe.className,V&&"MuiInputBase-readOnly"),onBlur:ge,onChange:be,onFocus:oe})}),g,q?q({...se,startAdornment:Y}):null]})]})});function bHe(e){return et("MuiInput",e)}const ph={...qa,...nt("MuiInput",["root","underline","input"])};function xHe(e){return et("MuiOutlinedInput",e)}const zl={...qa,...nt("MuiOutlinedInput",["root","notchedOutline","input"])};function SHe(e){return et("MuiFilledInput",e)}const Ga={...qa,...nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},uge=st(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function wHe(e){return et("MuiAutocomplete",e)}const Pn=nt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Mte,Ate;const CHe=e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=e,d={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Te(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ke(d,wHe,t)},_He=ye("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${Pn.tag}`]:t.tag},{[`& .${Pn.tag}`]:t[`tagSize${Te(a)}`]},{[`& .${Pn.inputRoot}`]:t.inputRoot},{[`& .${Pn.input}`]:t.input},{[`& .${Pn.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${Pn.focused} .${Pn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Pn.clearIndicator}`]:{visibility:"visible"}},[`& .${Pn.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Pn.inputRoot}`]:{[`.${Pn.hasPopupIcon}&, .${Pn.hasClearIcon}&`]:{paddingRight:30},[`.${Pn.hasPopupIcon}.${Pn.hasClearIcon}&`]:{paddingRight:56},[`& .${Pn.input}`]:{width:0,minWidth:30}},[`& .${ph.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${ph.root}.${qa.sizeSmall}`]:{[`& .${ph.input}`]:{padding:"2px 4px 3px 0"}},[`& .${zl.root}`]:{padding:9,[`.${Pn.hasPopupIcon}&, .${Pn.hasClearIcon}&`]:{paddingRight:39},[`.${Pn.hasPopupIcon}.${Pn.hasClearIcon}&`]:{paddingRight:65},[`& .${Pn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Pn.endAdornment}`]:{right:9}},[`& .${zl.root}.${qa.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Pn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ga.root}`]:{paddingTop:19,paddingLeft:8,[`.${Pn.hasPopupIcon}&, .${Pn.hasClearIcon}&`]:{paddingRight:39},[`.${Pn.hasPopupIcon}.${Pn.hasClearIcon}&`]:{paddingRight:65},[`& .${Ga.input}`]:{padding:"7px 4px"},[`& .${Pn.endAdornment}`]:{right:9}},[`& .${Ga.root}.${qa.sizeSmall}`]:{paddingBottom:1,[`& .${Ga.input}`]:{padding:"2.5px 4px"}},[`& .${qa.hiddenLabel}`]:{paddingTop:8},[`& .${Ga.root}.${qa.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Pn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ga.root}.${qa.hiddenLabel}.${qa.sizeSmall}`]:{[`& .${Pn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Pn.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Pn.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Pn.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Pn.inputRoot}`]:{flexWrap:"wrap"}}}]}),EHe=ye("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),kHe=ye(sn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),RHe=ye(sn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),THe=ye(i2,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Pn.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),MHe=ye(El,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(pt(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),AHe=ye("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),OHe=ye("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),DHe=ye("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(pt(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Pn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Pn.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Pn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_t(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Pn.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_t(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Pn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_t(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),PHe=ye(qz,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(pt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),IHe=ye("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Pn.option}`]:{paddingLeft:24}}),Gz=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=Mte||(Mte=x.jsx(Qhe,{fontSize:"small"})),clearOnBlur:d=!r.freeSolo,clearOnEscape:f=!1,clearText:p="Clear",closeText:g="Close",componentsProps:m,defaultValue:v=r.multiple?[]:null,disableClearable:b=!1,disableCloseOnSelect:S=!1,disabled:C=!1,disabledItemsFocusable:_=!1,disableListWrap:E=!1,disablePortal:T=!1,filterOptions:k,filterSelectedOptions:A=!1,forcePopupIcon:P="auto",freeSolo:D=!1,fullWidth:F=!1,getLimitTagsText:I=Cn=>`+${Cn}`,getOptionDisabled:j,getOptionKey:M,getOptionLabel:$,isOptionEqualToValue:L,groupBy:V,handleHomeEndKeys:q=!r.freeSolo,id:U,includeInputInList:z=!1,inputValue:B,limitTags:G=-1,ListboxComponent:Y,ListboxProps:Q,loading:K=!1,loadingText:te="Loading",multiple:ce=!1,noOptionsText:ie="No options",onChange:re,onClose:he,onHighlightChange:fe,onInputChange:ne,onOpen:pe,open:W,openOnFocus:se=!1,openText:ae="Open",options:X,PaperComponent:Z,PopperComponent:oe,popupIcon:ge=Ate||(Ate=x.jsx(uge,{})),readOnly:be=!1,renderGroup:de,renderInput:Re,renderOption:xe,renderTags:ue,selectOnFocus:we=!r.freeSolo,size:Oe="medium",slots:ke={},slotProps:Ie={},value:ve,..._e}=r,{getRootProps:$e,getInputProps:De,getInputLabelProps:ot,getPopupIndicatorProps:Me,getClearProps:ze,getTagProps:Qe,getListboxProps:Rt,getOptionProps:Et,value:Wt,dirty:vn,expanded:It,id:$t,popupOpen:ur,focused:ht,focusedTag:jt,anchorEl:Ot,setAnchorEl:dr,inputValue:xt,groupedOptions:wt}=U7e({...r,componentName:"Autocomplete"}),Bt=!b&&!C&&vn&&!be,Kt=(!D||P===!0)&&P!==!1,{onMouseDown:gt}=De(),{ref:di,...Yn}=Rt(),Zr=$||(Cn=>Cn.label??Cn),On={...r,disablePortal:T,expanded:It,focused:ht,fullWidth:F,getOptionLabel:Zr,hasClearIcon:Bt,hasPopupIcon:Kt,inputFocused:jt===-1,popupOpen:ur,size:Oe},Hn=CHe(On),ti={slots:{paper:Z,popper:oe,...ke},slotProps:{chip:l,listbox:Q,...m,...Ie}},[Qs,Ge]=Nt("listbox",{elementType:DHe,externalForwardedProps:ti,ownerState:On,className:Hn.listbox,additionalProps:Yn,ref:di}),[He,yt]=Nt("paper",{elementType:El,externalForwardedProps:ti,ownerState:On,className:Hn.paper}),[bn,Tn]=Nt("popper",{elementType:i2,externalForwardedProps:ti,ownerState:On,className:Hn.popper,additionalProps:{disablePortal:T,style:{width:Ot?Ot.clientWidth:null},role:"presentation",anchorEl:Ot,open:ur}});let Vn;if(ce&&Wt.length>0){const Cn=Yo=>({className:Hn.tag,disabled:C,...Qe(Yo)});ue?Vn=ue(Wt,Cn,On):Vn=Wt.map((Yo,Zs)=>{const{key:Js,...Kg}=Cn({index:Zs});return x.jsx(D0,{label:Zr(Yo),size:Oe,...Kg,...ti.slotProps.chip},Js)})}if(G>-1&&Array.isArray(Vn)){const Cn=Vn.length-G;!ht&&Cn>0&&(Vn=Vn.splice(0,G),Vn.push(x.jsx("span",{className:Hn.tag,children:I(Cn)},Vn.length)))}const Mo=de||(Cn=>x.jsxs("li",{children:[x.jsx(PHe,{className:Hn.groupLabel,ownerState:On,component:"div",children:Cn.group}),x.jsx(IHe,{className:Hn.groupUl,ownerState:On,children:Cn.children})]},Cn.key)),Uy=xe||((Cn,Yo)=>{const{key:Zs,...Js}=Cn;return x.jsx("li",{...Js,children:Zr(Yo)},Zs)}),Hy=(Cn,Yo)=>{const Zs=Et({option:Cn,index:Yo});return Uy({...Zs,className:Hn.option},Cn,{selected:Zs["aria-selected"],index:Yo,inputValue:xt},On)},kc=ti.slotProps.clearIndicator,Rc=ti.slotProps.popupIndicator;return x.jsxs(O.Fragment,{children:[x.jsx(_He,{ref:n,className:Ne(Hn.root,c),ownerState:On,...$e(_e),children:Re({id:$t,disabled:C,fullWidth:!0,size:Oe==="small"?"small":void 0,InputLabelProps:ot(),InputProps:{ref:dr,className:Hn.inputRoot,startAdornment:Vn,onMouseDown:Cn=>{Cn.target===Cn.currentTarget&&gt(Cn)},...(Bt||Kt)&&{endAdornment:x.jsxs(EHe,{className:Hn.endAdornment,ownerState:On,children:[Bt?x.jsx(kHe,{...ze(),"aria-label":p,title:p,ownerState:On,...kc,className:Ne(Hn.clearIndicator,kc==null?void 0:kc.className),children:u}):null,Kt?x.jsx(RHe,{...Me(),disabled:C,"aria-label":ur?g:ae,title:ur?g:ae,ownerState:On,...Rc,className:Ne(Hn.popupIndicator,Rc==null?void 0:Rc.className),children:ge}):null]})}},inputProps:{className:Hn.input,disabled:C,readOnly:be,...De()}})}),Ot?x.jsx(THe,{as:bn,...Tn,children:x.jsxs(MHe,{as:He,...yt,children:[K&&wt.length===0?x.jsx(AHe,{className:Hn.loading,ownerState:On,children:te}):null,wt.length===0&&!D&&!K?x.jsx(OHe,{className:Hn.noOptions,ownerState:On,role:"presentation",onMouseDown:Cn=>{Cn.preventDefault()},children:ie}):null,wt.length>0?x.jsx(Qs,{as:Y,...Ge,children:wt.map((Cn,Yo)=>V?Mo({key:Cn.key,group:Cn.group,children:Cn.options.map((Zs,Js)=>Hy(Zs,Cn.index+Js))}):Hy(Cn,Yo))}):null]})}):null]})}),$He={entering:{opacity:1},entered:{opacity:1}},og=O.forwardRef(function(t,n){const r=lr(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:m,style:v,timeout:b=i,TransitionComponent:S=_l,...C}=t,_=O.useRef(null),E=Ln(_,Og(a),n),T=M=>$=>{if(M){const L=_.current;$===void 0?M(L):M(L,$)}},k=T(f),A=T((M,$)=>{M7(M);const L=rg({style:v,timeout:b,easing:l},{mode:"enter"});M.style.webkitTransition=r.transitions.create("opacity",L),M.style.transition=r.transitions.create("opacity",L),u&&u(M,$)}),P=T(d),D=T(m),F=T(M=>{const $=rg({style:v,timeout:b,easing:l},{mode:"exit"});M.style.webkitTransition=r.transitions.create("opacity",$),M.style.transition=r.transitions.create("opacity",$),p&&p(M)}),I=T(g),j=M=>{o&&o(_.current,M)};return x.jsx(S,{appear:s,in:c,nodeRef:_,onEnter:A,onEntered:P,onEntering:k,onExit:F,onExited:I,onExiting:D,addEndListener:j,timeout:b,...C,children:(M,{ownerState:$,...L})=>O.cloneElement(a,{style:{opacity:0,visibility:M==="exited"&&!c?"hidden":void 0,...$He[M],...v,...a.props.style},ref:E,...L})})});function FHe(e){return et("MuiBackdrop",e)}nt("MuiBackdrop",["root","invisible"]);const NHe=e=>{const{classes:t,invisible:n}=e;return Ke({root:["root",n&&"invisible"]},FHe,t)},LHe=ye("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),dge=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:f={},TransitionComponent:p,transitionDuration:g,...m}=r,v={...r,component:s,invisible:a},b=NHe(v),S={transition:p,root:c.Root,...f},C={...u,...d},_={slots:S,slotProps:C},[E,T]=Nt("root",{elementType:LHe,externalForwardedProps:_,className:Ne(b.root,o),ownerState:v}),[k,A]=Nt("transition",{elementType:og,externalForwardedProps:_,ownerState:v});return x.jsx(k,{in:l,timeout:g,...m,...A,children:x.jsx(E,{"aria-hidden":!0,...T,classes:b,ref:n,children:i})})});function jHe(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=b7({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:l=r}=s?o:e,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:c}}function zHe(e){return et("MuiBadge",e)}const Qp=nt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),PN=10,IN=4,BHe=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${Te(n.vertical)}${Te(n.horizontal)}`,`anchorOrigin${Te(n.vertical)}${Te(n.horizontal)}${Te(i)}`,`overlap${Te(i)}`,t!=="default"&&`color${Te(t)}`]};return Ke(a,zHe,s)},UHe=ye("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),HHe=ye("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Te(n.anchorOrigin.vertical)}${Te(n.anchorOrigin.horizontal)}${Te(n.overlap)}`],n.color!=="default"&&t[`color${Te(n.color)}`],n.invisible&&t.invisible]}})(pt(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:PN*2,lineHeight:1,padding:"0 6px",height:PN*2,borderRadius:PN,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Xn(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:IN,height:IN*2,minWidth:IN*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Qp.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function Ote(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const VHe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:o,classes:s,component:a,components:l={},componentsProps:c={},children:u,overlap:d="rectangular",color:f="default",invisible:p=!1,max:g=99,badgeContent:m,slots:v,slotProps:b,showZero:S=!1,variant:C="standard",..._}=r,{badgeContent:E,invisible:T,max:k,displayValue:A}=jHe({max:g,invisible:p,badgeContent:m,showZero:S}),P=b7({anchorOrigin:Ote(i),color:f,overlap:d,variant:C,badgeContent:m}),D=T||E==null&&C!=="dot",{color:F=f,overlap:I=d,anchorOrigin:j,variant:M=C}=D?P:r,$=Ote(j),L=M!=="dot"?A:void 0,V={...r,badgeContent:E,invisible:D,max:k,displayValue:L,showZero:S,anchorOrigin:$,color:F,overlap:I,variant:M},q=BHe(V),U=(v==null?void 0:v.root)??l.Root??UHe,z=(v==null?void 0:v.badge)??l.Badge??HHe,B=(b==null?void 0:b.root)??c.root,G=(b==null?void 0:b.badge)??c.badge,Y=pn({elementType:U,externalSlotProps:B,externalForwardedProps:_,additionalProps:{ref:n,as:a},ownerState:V,className:Ne(B==null?void 0:B.className,q.root,o)}),Q=pn({elementType:z,externalSlotProps:G,ownerState:V,className:Ne(q.badge,G==null?void 0:G.className)});return x.jsxs(U,{...Y,children:[u,x.jsx(z,{...Q,children:L})]})}),WHe=nt("MuiBox",["root"]),qHe=$P(),lt=pBe({themeId:rc,defaultTheme:qHe,defaultClassName:WHe.root,generateClassName:vhe.generate});function GHe(e){return et("MuiButton",e)}const pm=nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),fge=O.createContext({}),pge=O.createContext(void 0),YHe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=e,c={root:["root",s&&"loading",o,`${o}${Te(t)}`,`size${Te(i)}`,`${o}Size${Te(i)}`,`color${Te(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Te(a)}`],startIcon:["icon","startIcon",`iconSize${Te(i)}`],endIcon:["icon","endIcon",`iconSize${Te(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=Ke(c,GHe,l);return{...l,...u}},hge=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],XHe=ye(uc,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Te(n.color)}`],t[`size${Te(n.size)}`],t[`${n.variant}Size${Te(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(pt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${pm.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${pm.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${pm.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${pm.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Xn()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:_t(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${pm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${pm.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${pm.loading}`]:{color:"transparent"}}}]}})),KHe=ye("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Te(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...hge]})),QHe=ye("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Te(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...hge]})),ZHe=ye("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Dte=ye("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Ft=O.forwardRef(function(t,n){const r=O.useContext(fge),i=O.useContext(pge),o=M_(r,t),s=Ct({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:v=!1,id:b,loading:S=null,loadingIndicator:C,loadingPosition:_="center",size:E="medium",startIcon:T,type:k,variant:A="text",...P}=s,D=Cl(b),F=C??x.jsx(au,{"aria-labelledby":D,color:"inherit",size:16}),I={...s,color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:v,loading:S,loadingIndicator:F,loadingPosition:_,size:E,type:k,variant:A},j=YHe(I),M=(T||S&&_==="start")&&x.jsx(KHe,{className:j.startIcon,ownerState:I,children:T||x.jsx(Dte,{className:j.loadingIconPlaceholder,ownerState:I})}),$=(g||S&&_==="end")&&x.jsx(QHe,{className:j.endIcon,ownerState:I,children:g||x.jsx(Dte,{className:j.loadingIconPlaceholder,ownerState:I})}),L=i||"",V=typeof S=="boolean"?x.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:S&&x.jsx(ZHe,{className:j.loadingIndicator,ownerState:I,children:F})}):null;return x.jsxs(XHe,{ownerState:I,className:Ne(r.className,j.root,u,L),component:c,disabled:d||S,focusRipple:!p,focusVisibleClassName:Ne(j.focusVisible,m),ref:n,type:k,id:S?D:b,...P,classes:j,children:[M,_!=="end"&&V,a,_==="end"&&V,$]})});function JHe(e){return et("MuiButtonGroup",e)}const An=nt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),eVe=(e,t)=>{const{ownerState:n}=e;return[{[`& .${An.grouped}`]:t.grouped},{[`& .${An.grouped}`]:t[`grouped${Te(n.orientation)}`]},{[`& .${An.grouped}`]:t[`grouped${Te(n.variant)}`]},{[`& .${An.grouped}`]:t[`grouped${Te(n.variant)}${Te(n.orientation)}`]},{[`& .${An.grouped}`]:t[`grouped${Te(n.variant)}${Te(n.color)}`]},{[`& .${An.firstButton}`]:t.firstButton},{[`& .${An.lastButton}`]:t.lastButton},{[`& .${An.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},tVe=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,l={root:["root",a,s,o&&"fullWidth",i&&"disableElevation",`color${Te(n)}`],grouped:["grouped",`grouped${Te(s)}`,`grouped${Te(a)}`,`grouped${Te(a)}${Te(s)}`,`grouped${Te(a)}${Te(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ke(l,JHe,t)},nVe=ye("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:eVe})(pt(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(e.vars||e).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${An.lastButton},& .${An.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${An.firstButton},& .${An.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${An.lastButton},& .${An.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${An.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${An.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(Xn()).flatMap(([t])=>[{props:{variant:"text",color:t},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.5)`:_t(e.palette[t].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${An.lastButton},& .${An.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${An.lastButton},& .${An.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${An.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${An.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(Xn(["dark"])).map(([t])=>({props:{variant:"contained",color:t},style:{[`& .${An.firstButton},& .${An.middleButton}`]:{borderColor:(e.vars||e).palette[t].dark}}}))],[`& .${An.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),rVe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:p="horizontal",size:g="medium",variant:m="outlined",...v}=r,b={...r,color:s,component:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,orientation:p,size:g,variant:m},S=tVe(b),C=O.useMemo(()=>({className:S.grouped,color:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,size:g,variant:m}),[s,l,c,u,d,f,g,m,S.grouped]),_=DBe(i),E=_.length,T=k=>{const A=k===0,P=k===E-1;return A&&P?"":A?S.firstButton:P?S.lastButton:S.middleButton};return x.jsx(nVe,{as:a,role:"group",className:Ne(S.root,o),ref:n,ownerState:b,...v,children:x.jsx(fge.Provider,{value:C,children:_.map((k,A)=>x.jsx(pge.Provider,{value:T(A),children:k},A))})})});function iVe(e){return et("MuiCard",e)}nt("MuiCard",["root"]);const oVe=e=>{const{classes:t}=e;return Ke({root:["root"]},iVe,t)},sVe=ye(El,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),VP=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiCard"}),{className:i,raised:o=!1,...s}=r,a={...r,raised:o},l=oVe(a);return x.jsx(sVe,{className:Ne(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a,...s})});function aVe(e){return et("MuiCardContent",e)}nt("MuiCardContent",["root"]);const lVe=e=>{const{classes:t}=e;return Ke({root:["root"]},aVe,t)},cVe=ye("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),uVe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiCardContent"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=lVe(a);return x.jsx(cVe,{as:o,className:Ne(l.root,i),ownerState:a,ref:n,...s})});function dVe(e){return et("MuiCardHeader",e)}const GA=nt("MuiCardHeader",["root","avatar","action","content","title","subheader"]),fVe=e=>{const{classes:t}=e;return Ke({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},dVe,t)},pVe=ye("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${GA.title}`]:t.title},{[`& .${GA.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),hVe=ye("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),gVe=ye("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),mVe=ye("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto",[`.${VA.root}:where(& .${GA.title})`]:{display:"block"},[`.${VA.root}:where(& .${GA.subheader})`]:{display:"block"}}),yVe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiCardHeader"}),{action:i,avatar:o,component:s="div",disableTypography:a=!1,subheader:l,subheaderTypographyProps:c,title:u,titleTypographyProps:d,slots:f={},slotProps:p={},...g}=r,m={...r,component:s,disableTypography:a},v=fVe(m),b={slots:f,slotProps:{title:d,subheader:c,...p}};let S=u;const[C,_]=Nt("title",{className:v.title,elementType:it,externalForwardedProps:b,ownerState:m,additionalProps:{variant:o?"body2":"h5",component:"span"}});S!=null&&S.type!==it&&!a&&(S=x.jsx(C,{..._,children:S}));let E=l;const[T,k]=Nt("subheader",{className:v.subheader,elementType:it,externalForwardedProps:b,ownerState:m,additionalProps:{variant:o?"body2":"body1",color:"textSecondary",component:"span"}});E!=null&&E.type!==it&&!a&&(E=x.jsx(T,{...k,children:E}));const[A,P]=Nt("root",{ref:n,className:v.root,elementType:pVe,externalForwardedProps:{...b,...g,component:s},ownerState:m}),[D,F]=Nt("avatar",{className:v.avatar,elementType:hVe,externalForwardedProps:b,ownerState:m}),[I,j]=Nt("content",{className:v.content,elementType:mVe,externalForwardedProps:b,ownerState:m}),[M,$]=Nt("action",{className:v.action,elementType:gVe,externalForwardedProps:b,ownerState:m});return x.jsxs(A,{...P,children:[o&&x.jsx(D,{...F,children:o}),x.jsxs(I,{...j,children:[S,E]}),i&&x.jsx(M,{...$,children:i})]})});function vVe(e){return et("PrivateSwitchBase",e)}nt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const bVe=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Te(i)}`],input:["input"]};return Ke(o,vVe,t)},xVe=ye(uc)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),SVe=ye("input",{shouldForwardProp:ko})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),L7=O.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:f,inputRef:p,name:g,onBlur:m,onChange:v,onFocus:b,readOnly:S,required:C=!1,tabIndex:_,type:E,value:T,slots:k={},slotProps:A={},...P}=t,[D,F]=Vo({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),I=Ta(),j=K=>{b&&b(K),I&&I.onFocus&&I.onFocus(K)},M=K=>{m&&m(K),I&&I.onBlur&&I.onBlur(K)},$=K=>{if(K.nativeEvent.defaultPrevented)return;const te=K.target.checked;F(te),v&&v(K,te)};let L=a;I&&typeof L>"u"&&(L=I.disabled);const V=E==="checkbox"||E==="radio",q={...t,checked:D,disabled:L,disableFocusRipple:l,edge:c},U=bVe(q),z={slots:k,slotProps:{input:f,...A}},[B,G]=Nt("root",{ref:n,elementType:xVe,className:U.root,shouldForwardComponentProp:!0,externalForwardedProps:{...z,component:"span",...P},getSlotProps:K=>({...K,onFocus:te=>{var ce;(ce=K.onFocus)==null||ce.call(K,te),j(te)},onBlur:te=>{var ce;(ce=K.onBlur)==null||ce.call(K,te),M(te)}}),ownerState:q,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:L,role:void 0,tabIndex:null}}),[Y,Q]=Nt("input",{ref:p,elementType:SVe,className:U.input,externalForwardedProps:z,getSlotProps:K=>({onChange:te=>{var ce;(ce=K.onChange)==null||ce.call(K,te),$(te)}}),ownerState:q,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:L,id:V?d:void 0,name:g,readOnly:S,required:C,tabIndex:_,type:E,...E==="checkbox"&&T===void 0?{}:{value:T}}});return x.jsxs(B,{...G,children:[x.jsx(Y,{...Q}),D?o:u]})}),wVe=st(x.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CVe=st(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),_Ve=st(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function EVe(e){return et("MuiCheckbox",e)}const $N=nt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),kVe=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${Te(r)}`,`size${Te(i)}`]},s=Ke(o,EVe,t);return{...t,...s}},RVe=ye(L7,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Te(n.size)}`],n.color!=="default"&&t[`color${Te(n.color)}`]]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{[`&.${$N.checked}, &.${$N.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${$N.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),TVe=x.jsx(CVe,{}),MVe=x.jsx(wVe,{}),AVe=x.jsx(_Ve,{}),sg=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiCheckbox"}),{checkedIcon:i=TVe,color:o="primary",icon:s=MVe,indeterminate:a=!1,indeterminateIcon:l=AVe,inputProps:c,size:u="medium",disableRipple:d=!1,className:f,slots:p={},slotProps:g={},...m}=r,v=a?l:s,b=a?l:i,S={...r,disableRipple:d,color:o,indeterminate:a,size:u},C=kVe(S),_=g.input??c,[E,T]=Nt("root",{ref:n,elementType:RVe,className:Ne(C.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:g,...m},ownerState:S,additionalProps:{type:"checkbox",icon:O.cloneElement(v,{fontSize:v.props.fontSize??u}),checkedIcon:O.cloneElement(b,{fontSize:b.props.fontSize??u}),disableRipple:d,slots:p,slotProps:{input:E7(typeof _=="function"?_(S):_,{"data-indeterminate":a})}}});return x.jsx(E,{...T,classes:C})});function Pte(e){return e.substring(2).toLowerCase()}function OVe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function DVe(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=O.useRef(!1),a=O.useRef(null),l=O.useRef(!1),c=O.useRef(!1);O.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Ln(Og(t),a),d=mt(g=>{const m=c.current;c.current=!1;const v=ai(a.current);if(!l.current||!a.current||"clientX"in g&&OVe(g,v))return;if(s.current){s.current=!1;return}let b;g.composedPath?b=g.composedPath().includes(a.current):b=!v.documentElement.contains(g.target)||a.current.contains(g.target),!b&&(n||!m)&&i(g)}),f=g=>m=>{c.current=!0;const v=t.props[g];v&&v(m)},p={ref:u};return o!==!1&&(p[o]=f(o)),O.useEffect(()=>{if(o!==!1){const g=Pte(o),m=ai(a.current),v=()=>{s.current=!0};return m.addEventListener(g,d),m.addEventListener("touchmove",v),()=>{m.removeEventListener(g,d),m.removeEventListener("touchmove",v)}}},[d,o]),r!==!1&&(p[r]=f(r)),O.useEffect(()=>{if(r!==!1){const g=Pte(r),m=ai(a.current);return m.addEventListener(g,d),()=>{m.removeEventListener(g,d)}}},[d,r]),O.cloneElement(t,p)}const Pg=s8e({createStyledComponent:ye("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Te(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ct({props:e,name:"MuiContainer"})}),Yz=typeof _7({})=="function",PVe=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),IVe=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),gge=(e,t=!1)=>{var o,s;const n={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([a,l])=>{var u,d;const c=e.getColorSchemeSelector(a);c.startsWith("@")?n[c]={":root":{colorScheme:(u=l.palette)==null?void 0:u.mode}}:n[c.replace(/\s*&/,"")]={colorScheme:(d=l.palette)==null?void 0:d.mode}});let r={html:PVe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...IVe(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const i=(s=(o=e.components)==null?void 0:o.MuiCssBaseline)==null?void 0:s.styleOverrides;return i&&(r=[r,i]),r},PM="mui-ecs",$Ve=e=>{const t=gge(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${PM})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([r,i])=>{var s,a;const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${PM}))`]:{colorScheme:(s=i.palette)==null?void 0:s.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${PM}))`]:{colorScheme:(a=i.palette)==null?void 0:a.mode}}}),t},FVe=_7(Yz?({theme:e,enableColorScheme:t})=>gge(e,t):({theme:e})=>$Ve(e));function j7(e){const t=Ct({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return x.jsxs(O.Fragment,{children:[Yz&&x.jsx(FVe,{enableColorScheme:r}),!Yz&&!r&&x.jsx("span",{className:PM,style:{display:"none"}}),n]})}function NVe(e){const t=ai(e);return t.body===e?pl(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function UC(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ite(e){return parseInt(pl(e).getComputedStyle(e).paddingRight,10)||0}function LVe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function $te(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=!o.includes(s),l=!LVe(s);a&&l&&UC(s,i)})}function FN(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function jVe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(NVe(r)){const s=Mhe(pl(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Ite(r)+s}px`;const a=ai(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Ite(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ai(r).body;else{const s=r.parentElement,a=pl(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function zVe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class BVe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&UC(t.modalRef,!1);const i=zVe(n);$te(n,t.mount,t.modalRef,i,!0);const o=FN(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=FN(this.containers,o=>o.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=jVe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=FN(this.containers,s=>s.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&UC(t.modalRef,n),$te(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&UC(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const UVe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function HVe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function VVe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function WVe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||VVe(e))}function qVe(e){const t=[],n=[];return Array.from(e.querySelectorAll(UVe)).forEach((r,i)=>{const o=HVe(r);o===-1||!WVe(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function GVe(){return!0}function mge(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=qVe,isEnabled:s=GVe,open:a}=e,l=O.useRef(!1),c=O.useRef(null),u=O.useRef(null),d=O.useRef(null),f=O.useRef(null),p=O.useRef(!1),g=O.useRef(null),m=Ln(Og(t),g),v=O.useRef(null);O.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),O.useEffect(()=>{if(!a||!g.current)return;const C=ai(g.current);return g.current.contains(C.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),O.useEffect(()=>{if(!a||!g.current)return;const C=ai(g.current),_=k=>{v.current=k,!(r||!s()||k.key!=="Tab")&&C.activeElement===g.current&&k.shiftKey&&(l.current=!0,u.current&&u.current.focus())},E=()=>{var P,D;const k=g.current;if(k===null)return;if(!C.hasFocus()||!s()||l.current){l.current=!1;return}if(k.contains(C.activeElement)||r&&C.activeElement!==c.current&&C.activeElement!==u.current)return;if(C.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let A=[];if((C.activeElement===c.current||C.activeElement===u.current)&&(A=o(g.current)),A.length>0){const F=!!((P=v.current)!=null&&P.shiftKey&&((D=v.current)==null?void 0:D.key)==="Tab"),I=A[0],j=A[A.length-1];typeof I!="string"&&typeof j!="string"&&(F?j.focus():I.focus())}else k.focus()};C.addEventListener("focusin",E),C.addEventListener("keydown",_,!0);const T=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(T),C.removeEventListener("focusin",E),C.removeEventListener("keydown",_,!0)}},[n,r,i,s,a,o]);const b=C=>{d.current===null&&(d.current=C.relatedTarget),p.current=!0,f.current=C.target;const _=t.props.onFocus;_&&_(C)},S=C=>{d.current===null&&(d.current=C.relatedTarget),p.current=!0};return x.jsxs(O.Fragment,{children:[x.jsx("div",{tabIndex:a?0:-1,onFocus:S,ref:c,"data-testid":"sentinelStart"}),O.cloneElement(t,{ref:m,onFocus:b}),x.jsx("div",{tabIndex:a?0:-1,onFocus:S,ref:u,"data-testid":"sentinelEnd"})]})}function YVe(e){return typeof e=="function"?e():e}function XVe(e){return e?e.props.hasOwnProperty("in"):!1}const Fte=()=>{},GR=new BVe;function KVe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=e,d=O.useRef({}),f=O.useRef(null),p=O.useRef(null),g=Ln(p,u),[m,v]=O.useState(!c),b=XVe(a);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const C=()=>ai(f.current),_=()=>(d.current.modalRef=p.current,d.current.mount=f.current,d.current),E=()=>{GR.mount(_(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},T=mt(()=>{const $=YVe(t)||C().body;GR.add(_(),$),p.current&&E()}),k=()=>GR.isTopModal(_()),A=mt($=>{f.current=$,$&&(c&&k()?E():p.current&&UC(p.current,S))}),P=O.useCallback(()=>{GR.remove(_(),S)},[S]);O.useEffect(()=>()=>{P()},[P]),O.useEffect(()=>{c?T():(!b||!i)&&P()},[c,P,b,i,T]);const D=$=>L=>{var V;(V=$.onKeyDown)==null||V.call($,L),!(L.key!=="Escape"||L.which===229||!k())&&(n||(L.stopPropagation(),l&&l(L,"escapeKeyDown")))},F=$=>L=>{var V;(V=$.onClick)==null||V.call($,L),L.target===L.currentTarget&&l&&l(L,"backdropClick")};return{getRootProps:($={})=>{const L=f0(e);delete L.onTransitionEnter,delete L.onTransitionExited;const V={...L,...$};return{role:"presentation",...V,onKeyDown:D(V),ref:g}},getBackdropProps:($={})=>{const L=$;return{"aria-hidden":!0,...L,onClick:F(L),open:c}},getTransitionProps:()=>{const $=()=>{v(!1),o&&o()},L=()=>{v(!0),s&&s(),i&&P()};return{onEnter:Iz($,(a==null?void 0:a.props.onEnter)??Fte),onExited:Iz(L,(a==null?void 0:a.props.onExited)??Fte)}},rootRef:g,portalRef:A,isTopModal:k,exited:m,hasTransition:b}}function QVe(e){return et("MuiModal",e)}nt("MuiModal",["root","hidden","backdrop"]);const ZVe=e=>{const{open:t,exited:n,classes:r}=e;return Ke({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},QVe,r)},JVe=ye("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(pt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),eWe=ye(dge,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),z7=O.forwardRef(function(t,n){const r=Ct({name:"MuiModal",props:t}),{BackdropComponent:i=eWe,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:f={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:v=!1,disablePortal:b=!1,disableRestoreFocus:S=!1,disableScrollLock:C=!1,hideBackdrop:_=!1,keepMounted:E=!1,onBackdropClick:T,onClose:k,onTransitionEnter:A,onTransitionExited:P,open:D,slotProps:F={},slots:I={},theme:j,...M}=r,$={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:m,disableEscapeKeyDown:v,disablePortal:b,disableRestoreFocus:S,disableScrollLock:C,hideBackdrop:_,keepMounted:E},{getRootProps:L,getBackdropProps:V,getTransitionProps:q,portalRef:U,isTopModal:z,exited:B,hasTransition:G}=KVe({...$,rootRef:n}),Y={...$,exited:B},Q=ZVe(Y),K={};if(c.props.tabIndex===void 0&&(K.tabIndex="-1"),G){const{onEnter:fe,onExited:ne}=q();K.onEnter=fe,K.onExited=ne}const te={slots:{root:f.Root,backdrop:f.Backdrop,...I},slotProps:{...p,...F}},[ce,ie]=Nt("root",{ref:n,elementType:JVe,externalForwardedProps:{...te,...M,component:d},getSlotProps:L,ownerState:Y,className:Ne(a,Q==null?void 0:Q.root,!Y.open&&Y.exited&&(Q==null?void 0:Q.hidden))}),[re,he]=Nt("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:te,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:fe=>V({...fe,onClick:ne=>{T&&T(ne),fe!=null&&fe.onClick&&fe.onClick(ne)}}),className:Ne(o==null?void 0:o.className,Q==null?void 0:Q.backdrop),ownerState:Y});return!E&&!D&&(!G||B)?null:x.jsx(cge,{ref:U,container:u,disablePortal:b,children:x.jsxs(ce,{...ie,children:[!_&&i?x.jsx(re,{...he}):null,x.jsx(mge,{disableEnforceFocus:m,disableAutoFocus:g,disableRestoreFocus:S,isEnabled:z,open:D,children:O.cloneElement(c,K)})]})})});function tWe(e){return et("MuiDialog",e)}const HC=nt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),yge=O.createContext({}),nWe=ye(dge,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),rWe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${Te(n)}`],paper:["paper",`paperScroll${Te(n)}`,`paperWidth${Te(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Ke(s,tWe,t)},iWe=ye(z7,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),oWe=ye("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Te(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),sWe=ye(El,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Te(n.scroll)}`],t[`paperWidth${Te(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(pt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${HC.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${HC.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${HC.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ri=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiDialog"}),i=lr(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:f,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:m=!1,maxWidth:v="sm",onBackdropClick:b,onClick:S,onClose:C,open:_,PaperComponent:E=El,PaperProps:T={},scroll:k="paper",slots:A={},slotProps:P={},TransitionComponent:D=og,transitionDuration:F=o,TransitionProps:I,...j}=r,M={...r,disableEscapeKeyDown:p,fullScreen:g,fullWidth:m,maxWidth:v,scroll:k},$=rWe(M),L=O.useRef(),V=W=>{L.current=W.target===W.currentTarget},q=W=>{S&&S(W),L.current&&(L.current=null,b&&b(W),C&&C(W,"backdropClick"))},U=Cl(a),z=O.useMemo(()=>({titleId:U}),[U]),B={transition:D,...A},G={transition:I,paper:T,backdrop:u,...P},Y={slots:B,slotProps:G},[Q,K]=Nt("root",{elementType:iWe,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:M,className:Ne($.root,f),ref:n}),[te,ce]=Nt("backdrop",{elementType:nWe,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:M}),[ie,re]=Nt("paper",{elementType:sWe,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:M,className:Ne($.paper,T.className)}),[he,fe]=Nt("container",{elementType:oWe,externalForwardedProps:Y,ownerState:M,className:Ne($.container)}),[ne,pe]=Nt("transition",{elementType:og,externalForwardedProps:Y,ownerState:M,additionalProps:{appear:!0,in:_,timeout:F,role:"presentation"}});return x.jsx(Q,{closeAfterTransition:!0,slots:{backdrop:te},slotProps:{backdrop:{transitionDuration:F,as:c,...ce}},disableEscapeKeyDown:p,onClose:C,open:_,onClick:q,...K,...j,children:x.jsx(ne,{...pe,children:x.jsx(he,{onMouseDown:V,...fe,children:x.jsx(ie,{as:E,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":U,"aria-modal":l,...re,children:x.jsx(yge.Provider,{value:z,children:d})})})})})});function aWe(e){return et("MuiDialogActions",e)}nt("MuiDialogActions",["root","spacing"]);const lWe=e=>{const{classes:t,disableSpacing:n}=e;return Ke({root:["root",!n&&"spacing"]},aWe,t)},cWe=ye("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Gs=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=lWe(a);return x.jsx(cWe,{className:Ne(l.root,i),ownerState:a,ref:n,...s})});function uWe(e){return et("MuiDialogContent",e)}nt("MuiDialogContent",["root","dividers"]);function dWe(e){return et("MuiDialogTitle",e)}const fWe=nt("MuiDialogTitle",["root"]),pWe=e=>{const{classes:t,dividers:n}=e;return Ke({root:["root",n&&"dividers"]},uWe,t)},hWe=ye("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(pt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${fWe.root} + &`]:{paddingTop:0}}}]}))),Ma=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=pWe(a);return x.jsx(hWe,{className:Ne(l.root,i),ownerState:a,ref:n,...s})});function gWe(e){return et("MuiDialogContentText",e)}nt("MuiDialogContentText",["root"]);const mWe=e=>{const{classes:t}=e,r=Ke({root:["root"]},gWe,t);return{...t,...r}},yWe=ye(it,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gl=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiDialogContentText"}),{children:i,className:o,...s}=r,a=mWe(s);return x.jsx(yWe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:s,className:Ne(a.root,o),...r,classes:a})}),vWe=e=>{const{classes:t}=e;return Ke({root:["root"]},dWe,t)},bWe=ye(it,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Aa=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=vWe(a),{titleId:c=o}=O.useContext(yge);return x.jsx(bWe,{component:"h2",className:Ne(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})});function xWe(e){return et("MuiDivider",e)}const Nte=nt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),SWe=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return Ke({root:["root",t&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},xWe,r)},wWe=ye("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(pt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:_t(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),CWe=ye("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(pt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),ag=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:a="horizontal",component:l=o||a==="vertical"?"div":"hr",flexItem:c=!1,light:u=!1,role:d=l!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth",...g}=r,m={...r,absolute:i,component:l,flexItem:c,light:u,orientation:a,role:d,textAlign:f,variant:p},v=SWe(m);return x.jsx(wWe,{as:l,className:Ne(v.root,s),role:d,ref:n,ownerState:m,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...g,children:o?x.jsx(CWe,{className:v.wrapper,ownerState:m,children:o}):null})});ag&&(ag.muiSkipListHighlight=!0);function _We(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=pl(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const c=o.getComputedStyle(t);s=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(s&&s!=="none"&&typeof s=="string"){const c=s.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return e==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${o.innerWidth+a-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:e==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${o.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function EWe(e){return typeof e=="function"?e():e}function YR(e,t,n){const r=EWe(n),i=_We(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const kWe=O.forwardRef(function(t,n){const r=lr(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:f,onEnter:p,onEntered:g,onEntering:m,onExit:v,onExited:b,onExiting:S,style:C,timeout:_=o,TransitionComponent:E=_l,...T}=t,k=O.useRef(null),A=Ln(Og(l),k,n),P=q=>U=>{q&&(U===void 0?q(k.current):q(k.current,U))},D=P((q,U)=>{YR(u,q,c),M7(q),p&&p(q,U)}),F=P((q,U)=>{const z=rg({timeout:_,style:C,easing:d},{mode:"enter"});q.style.webkitTransition=r.transitions.create("-webkit-transform",{...z}),q.style.transition=r.transitions.create("transform",{...z}),q.style.webkitTransform="none",q.style.transform="none",m&&m(q,U)}),I=P(g),j=P(S),M=P(q=>{const U=rg({timeout:_,style:C,easing:d},{mode:"exit"});q.style.webkitTransition=r.transitions.create("-webkit-transform",U),q.style.transition=r.transitions.create("transform",U),YR(u,q,c),v&&v(q)}),$=P(q=>{q.style.webkitTransition="",q.style.transition="",b&&b(q)}),L=q=>{s&&s(k.current,q)},V=O.useCallback(()=>{k.current&&YR(u,k.current,c)},[u,c]);return O.useEffect(()=>{if(f||u==="down"||u==="right")return;const q=my(()=>{k.current&&YR(u,k.current,c)}),U=pl(k.current);return U.addEventListener("resize",q),()=>{q.clear(),U.removeEventListener("resize",q)}},[u,f,c]),O.useEffect(()=>{f||V()},[f,V]),x.jsx(E,{nodeRef:k,onEnter:D,onEntered:I,onEntering:F,onExit:M,onExited:$,onExiting:j,addEndListener:L,appear:a,in:f,timeout:_,...T,children:(q,{ownerState:U,...z})=>O.cloneElement(l,{ref:A,style:{visibility:q==="exited"&&!f?"hidden":void 0,...C,...l.props.style},...z})})});function RWe(e){return et("MuiDrawer",e)}nt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const vge=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},TWe=e=>{const{classes:t,anchor:n,variant:r}=e,i={root:["root",`anchor${Te(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Te(n)}`,r!=="temporary"&&`paperAnchorDocked${Te(n)}`]};return Ke(i,RWe,t)},MWe=ye(z7,{name:"MuiDrawer",slot:"Root",overridesResolver:vge})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),AWe=ye("div",{shouldForwardProp:ko,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:vge})({flex:"0 0 auto"}),OWe=ye(El,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${Te(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${Te(n.anchor)}`]]}})(pt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),bge={left:"right",right:"left",top:"down",bottom:"up"};function DWe(e){return["left","right"].includes(e)}function PWe({direction:e},t){return e==="rtl"&&DWe(t)?bge[t]:t}const IWe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiDrawer"}),i=lr(),o=Pi(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p,...g}={},onClose:m,open:v=!1,PaperProps:b={},SlideProps:S,TransitionComponent:C,transitionDuration:_=s,variant:E="temporary",slots:T={},slotProps:k={},...A}=r,P=O.useRef(!1);O.useEffect(()=>{P.current=!0},[]);const D=PWe({direction:o?"rtl":"ltr"},a),I={...r,anchor:a,elevation:d,open:v,variant:E,...A},j=TWe(I),M={slots:{transition:C,...T},slotProps:{paper:b,transition:S,...k,backdrop:E7(k.backdrop||{...l,...p},{transitionDuration:_})}},[$,L]=Nt("root",{ref:n,elementType:MWe,className:Ne(j.root,j.modal,u),shouldForwardComponentProp:!0,ownerState:I,externalForwardedProps:{...M,...A,...g},additionalProps:{open:v,onClose:m,hideBackdrop:f,slots:{backdrop:M.slots.backdrop},slotProps:{backdrop:M.slotProps.backdrop}}}),[V,q]=Nt("paper",{elementType:OWe,shouldForwardComponentProp:!0,className:Ne(j.paper,b.className),ownerState:I,externalForwardedProps:M,additionalProps:{elevation:E==="temporary"?d:0,square:!0}}),[U,z]=Nt("docked",{elementType:AWe,ref:n,className:Ne(j.root,j.docked,u),ownerState:I,externalForwardedProps:M,additionalProps:A}),[B,G]=Nt("transition",{elementType:kWe,ownerState:I,externalForwardedProps:M,additionalProps:{in:v,direction:bge[D],timeout:_,appear:P.current}}),Y=x.jsx(V,{...q,children:c});if(E==="permanent")return x.jsx(U,{...z,children:Y});const Q=x.jsx(B,{...G,children:Y});return E==="persistent"?x.jsx(U,{...z,children:Q}):x.jsx($,{...L,children:Q})}),$We=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Te(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=Ke(l,SHe,t);return{...t,...c}},FWe=ye(UP,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...zP(e,t),!n.disableUnderline&&t.underline]}})(pt(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Ga.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Ga.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ga.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ga.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ga.disabled}, .${Ga.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Ga.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Xn()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(e.vars||e).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),NWe=ye(HP,{name:"MuiFilledInput",slot:"Input",overridesResolver:BP})(pt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),B7=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:f={},type:p="text",...g}=r,m={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},v=$We(r),b={root:{ownerState:m},input:{ownerState:m}},S=d??s?Li(b,d??s):b,C=f.root??o.Root??FWe,_=f.input??o.Input??NWe;return x.jsx(N7,{slots:{root:C,input:_},slotProps:S,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...g,classes:v})});B7.muiName="Input";function LWe(e){return et("MuiFormControl",e)}nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const jWe=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${Te(n)}`,r&&"fullWidth"]};return Ke(i,LWe,t)},zWe=ye("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Te(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),xge=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:g=!1,size:m="medium",variant:v="outlined",...b}=r,S={...r,color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:g,size:m,variant:v},C=jWe(S),[_,E]=O.useState(()=>{let $=!1;return i&&O.Children.forEach(i,L=>{if(!jC(L,["Input","Select"]))return;const V=jC(L,["Select"])?L.props.input:L;V&&mHe(V.props)&&($=!0)}),$}),[T,k]=O.useState(()=>{let $=!1;return i&&O.Children.forEach(i,L=>{jC(L,["Input","Select"])&&(qA(L.props,!0)||qA(L.props.inputProps,!0))&&($=!0)}),$}),[A,P]=O.useState(!1);l&&A&&P(!1);const D=u!==void 0&&!l?u:A;let F;O.useRef(!1);const I=O.useCallback(()=>{k(!0)},[]),j=O.useCallback(()=>{k(!1)},[]),M=O.useMemo(()=>({adornedStart:_,setAdornedStart:E,color:s,disabled:l,error:c,filled:T,focused:D,fullWidth:d,hiddenLabel:f,size:m,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:j,onFilled:I,registerEffect:F,required:g,variant:v}),[_,s,l,c,T,D,d,f,F,j,I,g,m,v]);return x.jsx(jP.Provider,{value:M,children:x.jsx(zWe,{as:a,ownerState:S,className:Ne(C.root,o),ref:n,...b,children:i})})});function BWe(e){return et("MuiFormControlLabel",e)}const rC=nt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),UWe=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${Te(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Ke(s,BWe,t)},HWe=ye("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${rC.label}`]:t.label},t.root,t[`labelPlacement${Te(n.labelPlacement)}`]]}})(pt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${rC.disabled}`]:{cursor:"default"},[`& .${rC.label}`]:{[`&.${rC.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),VWe=ye("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(pt(({theme:e})=>({[`&.${rC.error}`]:{color:(e.vars||e).palette.error.main}}))),Sge=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:c,inputRef:u,label:d,labelPlacement:f="end",name:p,onChange:g,required:m,slots:v={},slotProps:b={},value:S,...C}=r,_=Ta(),E=l??a.props.disabled??(_==null?void 0:_.disabled),T=m??a.props.required,k={disabled:E,required:T};["checked","name","onChange","value","inputRef"].forEach($=>{typeof a.props[$]>"u"&&typeof r[$]<"u"&&(k[$]=r[$])});const A=yy({props:r,muiFormControl:_,states:["error"]}),P={...r,disabled:E,labelPlacement:f,required:T,error:A.error},D=UWe(P),F={slots:v,slotProps:{...s,...b}},[I,j]=Nt("typography",{elementType:it,externalForwardedProps:F,ownerState:P});let M=d;return M!=null&&M.type!==it&&!c&&(M=x.jsx(I,{component:"span",...j,className:Ne(D.label,j==null?void 0:j.className),children:M})),x.jsxs(HWe,{className:Ne(D.root,o),ownerState:P,ref:n,...C,children:[O.cloneElement(a,k),T?x.jsxs("div",{children:[M,x.jsxs(VWe,{ownerState:P,"aria-hidden":!0,className:D.asterisk,children:["","*"]})]}):M]})});function WWe(e){return et("MuiFormHelperText",e)}const Lte=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var jte;const qWe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&`size${Te(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Ke(c,WWe,t)},GWe=ye("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Te(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Lte.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Lte.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),U7=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:d,required:f,variant:p,...g}=r,m=Ta(),v=yy({props:r,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),b={...r,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete b.ownerState;const S=qWe(b);return x.jsx(GWe,{as:s,className:Ne(S.root,o),ref:n,...g,ownerState:b,children:i===" "?jte||(jte=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function YWe(e){return et("MuiFormLabel",e)}const VC=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),XWe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root",`color${Te(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Ke(l,YWe,t)},KWe=ye("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{[`&.${VC.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${VC.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${VC.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),QWe=ye("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(pt(({theme:e})=>({[`&.${VC.error}`]:{color:(e.vars||e).palette.error.main}}))),ZWe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:d,required:f,...p}=r,g=Ta(),m=yy({props:r,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:m.color||"primary",component:a,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required},b=XWe(v);return x.jsxs(KWe,{as:a,ownerState:v,className:Ne(b.root,o),ref:n,...p,children:[i,m.required&&x.jsxs(QWe,{ownerState:v,"aria-hidden":!0,className:b.asterisk,children:["","*"]})]})}),zte=O.createContext();function JWe(e){return et("MuiGrid",e)}const eqe=[0,1,2,3,4,5,6,7,8,9,10],tqe=["column-reverse","column","row-reverse","row"],nqe=["nowrap","wrap-reverse","wrap"],hw=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],D_=nt("MuiGrid",["root","container","item","zeroMinWidth",...eqe.map(e=>`spacing-xs-${e}`),...tqe.map(e=>`direction-xs-${e}`),...nqe.map(e=>`wrap-xs-${e}`),...hw.map(e=>`grid-xs-${e}`),...hw.map(e=>`grid-sm-${e}`),...hw.map(e=>`grid-md-${e}`),...hw.map(e=>`grid-lg-${e}`),...hw.map(e=>`grid-xl-${e}`)]);function rqe({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Lf({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${u})`;c={flexBasis:d,maxWidth:d}}}o={flexBasis:l,flexGrow:0,maxWidth:l,...c}}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function iqe({theme:e,ownerState:t}){const n=Lf({values:t.direction,breakpoints:e.breakpoints.values});return Uo({theme:e},n,r=>{const i={flexDirection:r};return r.startsWith("column")&&(i[`& > .${D_.item}`]={maxWidth:"none"}),i})}function wge({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function oqe({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=Lf({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=wge({breakpoints:e.breakpoints.values,values:o})),i=Uo({theme:e},o,(a,l)=>{const c=e.spacing(a);return c!=="0px"?{marginTop:`calc(-1 * ${c})`,[`& > .${D_.item}`]:{paddingTop:c}}:s!=null&&s.includes(l)?{}:{marginTop:0,[`& > .${D_.item}`]:{paddingTop:0}}})}return i}function sqe({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=Lf({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=wge({breakpoints:e.breakpoints.values,values:o})),i=Uo({theme:e},o,(a,l)=>{const c=e.spacing(a);if(c!=="0px"){const u=`calc(-1 * ${c})`;return{width:`calc(100% + ${c})`,marginLeft:u,[`& > .${D_.item}`]:{paddingLeft:c}}}return s!=null&&s.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${D_.item}`]:{paddingLeft:0}}})}return i}function aqe(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const lqe=ye("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=aqe(s,c,t));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(t[`grid-${f}-${String(p)}`])}),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...d]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),iqe,oqe,sqe,rqe);function cqe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const uqe=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=cqe(o,l));const u=[];l.forEach(f=>{const p=e[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return Ke(d,JWe,t)},Wc=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiGrid"}),{breakpoints:i}=lr(),o=e2(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:g=0,wrap:m="wrap",zeroMinWidth:v=!1,...b}=o,S=p||g,C=l||g,_=O.useContext(zte),E=u?a||12:_,T={},k={...b};i.keys.forEach(D=>{b[D]!=null&&(T[D]=b[D],delete k[D])});const A={...o,columns:E,container:u,direction:d,item:f,rowSpacing:S,columnSpacing:C,wrap:m,zeroMinWidth:v,spacing:g,...T,breakpoints:i.keys},P=uqe(A);return x.jsx(zte.Provider,{value:E,children:x.jsx(lqe,{ownerState:A,className:Ne(P.root,s),as:c,ref:n,...k})})}),kb=w8e({createStyledComponent:ye("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid2",useThemeProps:e=>Ct({props:e,name:"MuiGrid2"}),useTheme:lr});function Xz(e){return`scale(${e}, ${e**2})`}const dqe={entering:{opacity:1,transform:Xz(1)},entered:{opacity:1,transform:"none"}},NN=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),P0=O.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:g,timeout:m="auto",TransitionComponent:v=_l,...b}=t,S=kh(),C=O.useRef(),_=lr(),E=O.useRef(null),T=Ln(E,Og(o),n),k=$=>L=>{if($){const V=E.current;L===void 0?$(V):$(V,L)}},A=k(u),P=k(($,L)=>{M7($);const{duration:V,delay:q,easing:U}=rg({style:g,timeout:m,easing:s},{mode:"enter"});let z;m==="auto"?(z=_.transitions.getAutoHeightDuration($.clientHeight),C.current=z):z=V,$.style.transition=[_.transitions.create("opacity",{duration:z,delay:q}),_.transitions.create("transform",{duration:NN?z:z*.666,delay:q,easing:U})].join(","),l&&l($,L)}),D=k(c),F=k(p),I=k($=>{const{duration:L,delay:V,easing:q}=rg({style:g,timeout:m,easing:s},{mode:"exit"});let U;m==="auto"?(U=_.transitions.getAutoHeightDuration($.clientHeight),C.current=U):U=L,$.style.transition=[_.transitions.create("opacity",{duration:U,delay:V}),_.transitions.create("transform",{duration:NN?U:U*.666,delay:NN?V:V||U*.333,easing:q})].join(","),$.style.opacity=0,$.style.transform=Xz(.75),d&&d($)}),j=k(f),M=$=>{m==="auto"&&S.start(C.current||0,$),r&&r(E.current,$)};return x.jsx(v,{appear:i,in:a,nodeRef:E,onEnter:P,onEntered:D,onEntering:A,onExit:I,onExited:j,onExiting:F,addEndListener:M,timeout:m==="auto"?null:m,...b,children:($,{ownerState:L,...V})=>O.cloneElement(o,{style:{opacity:0,transform:Xz(.75),visibility:$==="exited"&&!a?"hidden":void 0,...dqe[$],...g,...o.props.style},ref:T,...V})})});P0&&(P0.muiSupportAuto=!0);const lg=Ehe({themeId:rc}),fqe=e=>{const{classes:t,disableUnderline:n}=e,i=Ke({root:["root",!n&&"underline"],input:["input"]},bHe,t);return{...t,...i}},pqe=ye(UP,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...zP(e,t),!n.disableUnderline&&t.underline]}})(pt(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ph.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ph.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ph.disabled}, .${ph.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ph.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Xn()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),hqe=ye(HP,{name:"MuiInput",slot:"Input",overridesResolver:BP})({}),H7=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:f="text",...p}=r,g=fqe(r),v={root:{ownerState:{disableUnderline:i}}},b=u??s?Li(u??s,v):v,S=d.root??o.Root??pqe,C=d.input??o.Input??hqe;return x.jsx(N7,{slots:{root:S,input:C},slotProps:b,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:f,...p,classes:g})});H7.muiName="Input";function gqe(e){return et("MuiInputAdornment",e)}const Bte=nt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Ute;const mqe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Te(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},yqe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${Te(i)}`,s,r&&"hiddenLabel",o&&`size${Te(o)}`]};return Ke(a,gqe,t)},vqe=ye("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:mqe})(pt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Bte.positionStart}&:not(.${Bte.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),I0=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u,...d}=r,f=Ta()||{};let p=u;u&&f.variant,f&&!p&&(p=f.variant);const g={...r,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:c,variant:p},m=yqe(g);return x.jsx(jP.Provider,{value:null,children:x.jsx(vqe,{as:s,ownerState:g,className:Ne(m.root,o),ref:n,...d,children:typeof i=="string"&&!l?x.jsx(it,{color:"textSecondary",children:i}):x.jsxs(O.Fragment,{children:[c==="start"?Ute||(Ute=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function bqe(e){return et("MuiInputLabel",e)}nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const xqe=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Te(r)}`,s],asterisk:[a&&"asterisk"]},c=Ke(l,bqe,t);return{...t,...c}},Sqe=ye(ZWe,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${VC.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(pt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),V7=O.forwardRef(function(t,n){const r=Ct({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=Ta();let d=s;typeof d>"u"&&u&&(d=u.filled||u.focused||u.adornedStart);const f=yy({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:d,size:f.size,variant:f.variant,required:f.required,focused:f.focused},g=xqe(p);return x.jsx(Sqe,{"data-shrink":d,ref:n,className:Ne(g.root,l),...c,ownerState:p,classes:g})});function wqe(e){return et("MuiLinearProgress",e)}nt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Kz=4,Qz=Id`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Cqe=typeof Qz!="string"?Ag`
        animation: ${Qz} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Zz=Id`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,_qe=typeof Zz!="string"?Ag`
        animation: ${Zz} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Jz=Id`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Eqe=typeof Jz!="string"?Ag`
        animation: ${Jz} 3s infinite linear;
      `:null,kqe=e=>{const{classes:t,variant:n,color:r}=e,i={root:["root",`color${Te(r)}`,n],dashed:["dashed",`dashedColor${Te(r)}`],bar1:["bar","bar1",`barColor${Te(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Te(r)}`,n==="buffer"&&`color${Te(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Ke(i,wqe,t)},W7=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Ho(e.palette[t].main,.62):fl(e.palette[t].main,.5),Rqe=ye("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Te(n.color)}`],t[n.variant]]}})(pt(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{backgroundColor:W7(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Tqe=ye("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Te(n.color)}`]]}})(pt(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(Xn()).map(([t])=>{const n=W7(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),Eqe||{animation:`${Jz} 3s infinite linear`}),Mqe=ye("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${Te(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(pt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${Kz}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${Kz}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Cqe||{animation:`${Qz} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Aqe=ye("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${Te(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(pt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:W7(e,t),transition:`transform .${Kz}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:_qe||{animation:`${Zz} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Oqe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:a,variant:l="indeterminate",...c}=r,u={...r,color:o,variant:l},d=kqe(u),f=Pi(),p={},g={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&s!==void 0){p["aria-valuenow"]=Math.round(s),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let m=s-100;f&&(m=-m),g.bar1.transform=`translateX(${m}%)`}if(l==="buffer"&&a!==void 0){let m=(a||0)-100;f&&(m=-m),g.bar2.transform=`translateX(${m}%)`}return x.jsxs(Rqe,{className:Ne(d.root,i),ownerState:u,role:"progressbar",...p,ref:n,...c,children:[l==="buffer"?x.jsx(Tqe,{className:d.dashed,ownerState:u}):null,x.jsx(Mqe,{className:d.bar1,ownerState:u,style:g.bar1}),l==="determinate"?null:x.jsx(Aqe,{className:d.bar2,ownerState:u,style:g.bar2})]})});function Dqe(e){return et("MuiLink",e)}const Pqe=nt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Iqe=({theme:e,ownerState:t})=>{const n=t.color,r=Eh(e,`palette.${n}.main`,!1)||Eh(e,`palette.${n}`,!1)||t.color,i=Eh(e,`palette.${n}.mainChannel`)||Eh(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:_t(r,.4)},Hte={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},$qe=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${Te(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Ke(o,Dqe,t)},Fqe=ye(it,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${Te(n.underline)}`],n.component==="button"&&t.button]}})(pt(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:n})=>t==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:_t(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:_t(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:_t(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pqe.focusVisible}`]:{outline:"auto"}}}]}))),Nqe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiLink"}),i=lr(),{className:o,color:s="primary",component:a="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:d="always",variant:f="inherit",sx:p,...g}=r,[m,v]=O.useState(!1),b=E=>{ng(E.target)||v(!1),l&&l(E)},S=E=>{ng(E.target)&&v(!0),c&&c(E)},C={...r,color:s,component:a,focusVisible:m,underline:d,variant:f},_=$qe(C);return x.jsx(Fqe,{color:s,className:Ne(_.root,o),classes:u,component:a,onBlur:b,onFocus:S,ref:n,ownerState:C,variant:f,...g,sx:[...Hte[s]===void 0?[{color:s}]:[],...Array.isArray(p)?p:[p]],style:{...g.style,...d==="always"&&s!=="inherit"&&!Hte[s]&&{"--Link-underlineColor":Iqe({theme:i,ownerState:C})}}})}),zf=O.createContext({});function Lqe(e){return et("MuiList",e)}nt("MuiList",["root","padding","dense","subheader"]);const jqe=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Ke({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Lqe,t)},zqe=ye("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Tx=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,d=O.useMemo(()=>({dense:a}),[a]),f={...r,component:s,dense:a,disablePadding:l},p=jqe(f);return x.jsx(zf.Provider,{value:d,children:x.jsxs(zqe,{as:s,className:Ne(p.root,o),ref:n,ownerState:f,...u,children:[c,i]})})});function Bqe(e){return et("MuiListItem",e)}nt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Uqe=nt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Hqe(e){return et("MuiListItemSecondaryAction",e)}nt("MuiListItemSecondaryAction",["root","disableGutters"]);const Vqe=e=>{const{disableGutters:t,classes:n}=e;return Ke({root:["root",t&&"disableGutters"]},Hqe,n)},Wqe=ye("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Cge=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=O.useContext(zf),a={...r,disableGutters:s.disableGutters},l=Vqe(a);return x.jsx(Wqe,{className:Ne(l.root,i),ownerState:a,ref:n,...o})});Cge.muiName="ListItemSecondaryAction";const qqe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},Gqe=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=e;return Ke({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},Bqe,n)},Yqe=ye("div",{name:"MuiListItem",slot:"Root",overridesResolver:qqe})(pt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Uqe.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),Xqe=ye("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),$0=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:a,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...f}={},dense:p=!1,disableGutters:g=!1,disablePadding:m=!1,divider:v=!1,secondaryAction:b,slotProps:S={},slots:C={},..._}=r,E=O.useContext(zf),T=O.useMemo(()=>({dense:p||E.dense||!1,alignItems:i,disableGutters:g}),[i,E.dense,p,g]),k=O.useRef(null),A=O.Children.toArray(o),P=A.length&&jC(A[A.length-1],["ListItemSecondaryAction"]),D={...r,alignItems:i,dense:T.dense,disableGutters:g,disablePadding:m,divider:v,hasSecondaryAction:P},F=Gqe(D),I=Ln(k,n),j=C.root||l.Root||Yqe,M=S.root||c.root||{},$={className:Ne(F.root,M.className,s),..._};let L=a||"li";return P?(L=!$.component&&!a?"div":L,u==="li"&&(L==="li"?L="div":$.component==="li"&&($.component="div")),x.jsx(zf.Provider,{value:T,children:x.jsxs(Xqe,{as:u,className:Ne(F.container,d),ref:I,ownerState:D,...f,children:[x.jsx(j,{...M,...!jf(j)&&{as:L,ownerState:{...D,...M.ownerState}},...$,children:A}),A.pop()]})})):x.jsx(zf.Provider,{value:T,children:x.jsxs(j,{...M,as:L,ref:I,...!jf(j)&&{ownerState:{...D,...M.ownerState}},...$,children:[A,b&&x.jsx(Cge,{children:b})]})})});function Kqe(e){return et("MuiListItemIcon",e)}const Vte=nt("MuiListItemIcon",["root","alignItemsFlexStart"]),Qqe=e=>{const{alignItems:t,classes:n}=e;return Ke({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Kqe,n)},Zqe=ye("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(pt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),no=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiListItemIcon"}),{className:i,...o}=r,s=O.useContext(zf),a={...r,alignItems:s.alignItems},l=Qqe(a);return x.jsx(Zqe,{className:Ne(l.root,i),ownerState:a,ref:n,...o})});function Jqe(e){return et("MuiListItemText",e)}const ub=nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),eGe=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return Ke({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Jqe,t)},tGe=ye("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ub.primary}`]:t.primary},{[`& .${ub.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${VA.root}:where(& .${ub.primary})`]:{display:"block"},[`.${VA.root}:where(& .${ub.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),sd=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:f={},slotProps:p={},...g}=r,{dense:m}=O.useContext(zf);let v=l??i,b=u;const S={...r,disableTypography:s,inset:a,primary:!!v,secondary:!!b,dense:m},C=eGe(S),_={slots:f,slotProps:{primary:c,secondary:d,...p}},[E,T]=Nt("primary",{className:C.primary,elementType:it,externalForwardedProps:_,ownerState:S}),[k,A]=Nt("secondary",{className:C.secondary,elementType:it,externalForwardedProps:_,ownerState:S});return v!=null&&v.type!==it&&!s&&(v=x.jsx(E,{variant:m?"body2":"body1",component:T!=null&&T.variant?void 0:"span",...T,children:v})),b!=null&&b.type!==it&&!s&&(b=x.jsx(k,{variant:"body2",color:"textSecondary",...A,children:b})),x.jsxs(tGe,{className:Ne(C.root,o),ownerState:S,ref:n,...g,children:[v,b]})});function LN(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Wte(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function _ge(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function gw(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!_ge(a,o)||l)a=i(e,a,n);else return a.focus(),!0}return!1}const o2=O.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...f}=t,p=O.useRef(null),g=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});li(()=>{i&&p.current.focus()},[i]),O.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:_})=>{const E=!p.current.style.width;if(C.clientHeight<p.current.clientHeight&&E){const T=`${Mhe(pl(C))}px`;p.current.style[_==="rtl"?"paddingLeft":"paddingRight"]=T,p.current.style.width=`calc(100% + ${T})`}return p.current}}),[]);const m=C=>{const _=p.current,E=C.key;if(C.ctrlKey||C.metaKey||C.altKey){u&&u(C);return}const k=ai(_).activeElement;if(E==="ArrowDown")C.preventDefault(),gw(_,k,c,l,LN);else if(E==="ArrowUp")C.preventDefault(),gw(_,k,c,l,Wte);else if(E==="Home")C.preventDefault(),gw(_,null,c,l,LN);else if(E==="End")C.preventDefault(),gw(_,null,c,l,Wte);else if(E.length===1){const A=g.current,P=E.toLowerCase(),D=performance.now();A.keys.length>0&&(D-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&P!==A.keys[0]&&(A.repeating=!1)),A.lastTime=D,A.keys.push(P);const F=k&&!A.repeating&&_ge(k,A);A.previousKeyMatched&&(F||gw(_,k,!1,l,LN,A))?C.preventDefault():A.previousKeyMatched=!1}u&&u(C)},v=Ln(p,n);let b=-1;O.Children.forEach(s,(C,_)=>{if(!O.isValidElement(C)){b===_&&(b+=1,b>=s.length&&(b=-1));return}C.props.disabled||(d==="selectedMenu"&&C.props.selected||b===-1)&&(b=_),b===_&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(b+=1,b>=s.length&&(b=-1))});const S=O.Children.map(s,(C,_)=>{if(_===b){const E={};return o&&(E.autoFocus=!0),C.props.tabIndex===void 0&&d==="selectedMenu"&&(E.tabIndex=0),O.cloneElement(C,E)}return C});return x.jsx(Tx,{role:"menu",ref:v,className:a,onKeyDown:m,tabIndex:i?0:-1,...f,children:S})});function nGe(e){return et("MuiPopover",e)}nt("MuiPopover",["root","paper"]);function qte(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Gte(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Yte(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function jN(e){return typeof e=="function"?e():e}const rGe=e=>{const{classes:t}=e;return Ke({root:["root"],paper:["paper"]},nGe,t)},iGe=ye(z7,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ege=ye(El,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),kge=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:f=8,marginThreshold:p=16,open:g,PaperProps:m={},slots:v={},slotProps:b={},transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:_="auto",TransitionProps:E={},disableScrollLock:T=!1,...k}=r,A=O.useRef(),P={...r,anchorOrigin:s,anchorReference:l,elevation:f,marginThreshold:p,transformOrigin:S,TransitionComponent:C,transitionDuration:_,TransitionProps:E},D=rGe(P),F=O.useCallback(()=>{if(l==="anchorPosition")return a;const he=jN(o),ne=(he&&he.nodeType===1?he:ai(A.current).body).getBoundingClientRect();return{top:ne.top+qte(ne,s.vertical),left:ne.left+Gte(ne,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),I=O.useCallback(he=>({vertical:qte(he,S.vertical),horizontal:Gte(he,S.horizontal)}),[S.horizontal,S.vertical]),j=O.useCallback(he=>{const fe={width:he.offsetWidth,height:he.offsetHeight},ne=I(fe);if(l==="none")return{top:null,left:null,transformOrigin:Yte(ne)};const pe=F();let W=pe.top-ne.vertical,se=pe.left-ne.horizontal;const ae=W+fe.height,X=se+fe.width,Z=pl(jN(o)),oe=Z.innerHeight-p,ge=Z.innerWidth-p;if(p!==null&&W<p){const be=W-p;W-=be,ne.vertical+=be}else if(p!==null&&ae>oe){const be=ae-oe;W-=be,ne.vertical+=be}if(p!==null&&se<p){const be=se-p;se-=be,ne.horizontal+=be}else if(X>ge){const be=X-ge;se-=be,ne.horizontal+=be}return{top:`${Math.round(W)}px`,left:`${Math.round(se)}px`,transformOrigin:Yte(ne)}},[o,l,F,I,p]),[M,$]=O.useState(g),L=O.useCallback(()=>{const he=A.current;if(!he)return;const fe=j(he);fe.top!==null&&he.style.setProperty("top",fe.top),fe.left!==null&&(he.style.left=fe.left),he.style.transformOrigin=fe.transformOrigin,$(!0)},[j]);O.useEffect(()=>(T&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)),[o,T,L]);const V=()=>{L()},q=()=>{$(!1)};O.useEffect(()=>{g&&L()}),O.useImperativeHandle(i,()=>g?{updatePosition:()=>{L()}}:null,[g,L]),O.useEffect(()=>{if(!g)return;const he=my(()=>{L()}),fe=pl(o);return fe.addEventListener("resize",he),()=>{he.clear(),fe.removeEventListener("resize",he)}},[o,g,L]);let U=_;const z={slots:{transition:C,...v},slotProps:{transition:E,paper:m,...b}},[B,G]=Nt("transition",{elementType:P0,externalForwardedProps:z,ownerState:P,getSlotProps:he=>({...he,onEntering:(fe,ne)=>{var pe;(pe=he.onEntering)==null||pe.call(he,fe,ne),V()},onExited:fe=>{var ne;(ne=he.onExited)==null||ne.call(he,fe),q()}}),additionalProps:{appear:!0,in:g}});_==="auto"&&!B.muiSupportAuto&&(U=void 0);const Y=d||(o?ai(jN(o)).body:void 0),[Q,{slots:K,slotProps:te,...ce}]=Nt("root",{ref:n,elementType:iGe,externalForwardedProps:{...z,...k},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:E7(typeof b.backdrop=="function"?b.backdrop(P):b.backdrop,{invisible:!0})},container:Y,open:g},ownerState:P,className:Ne(D.root,u)}),[ie,re]=Nt("paper",{ref:A,className:D.paper,elementType:Ege,externalForwardedProps:z,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:M?void 0:{opacity:0}},ownerState:P});return x.jsx(Q,{...ce,...!jf(Q)&&{slots:K,slotProps:te,disableScrollLock:T},children:x.jsx(B,{...G,timeout:U,children:x.jsx(ie,{...re,children:c})})})});function oGe(e){return et("MuiMenu",e)}nt("MuiMenu",["root","paper","list"]);const sGe={vertical:"top",horizontal:"right"},aGe={vertical:"top",horizontal:"left"},lGe=e=>{const{classes:t}=e;return Ke({root:["root"],paper:["paper"],list:["list"]},oGe,t)},cGe=ye(kge,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),uGe=ye(Ege,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),dGe=ye(o2,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),$d=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:f,transitionDuration:p="auto",TransitionProps:{onEntering:g,...m}={},variant:v="selectedMenu",slots:b={},slotProps:S={},...C}=r,_=Pi(),E={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:g,PaperProps:d,transitionDuration:p,TransitionProps:m,variant:v},T=lGe(E),k=i&&!a&&u,A=O.useRef(null),P=(U,z)=>{A.current&&A.current.adjustStyleForScrollbar(U,{direction:_?"rtl":"ltr"}),g&&g(U,z)},D=U=>{U.key==="Tab"&&(U.preventDefault(),c&&c(U,"tabKeyDown"))};let F=-1;O.Children.map(o,(U,z)=>{O.isValidElement(U)&&(U.props.disabled||(v==="selectedMenu"&&U.props.selected||F===-1)&&(F=z))});const I={slots:b,slotProps:{list:l,transition:m,paper:d,...S}},j=pn({elementType:b.root,externalSlotProps:S.root,ownerState:E,className:[T.root,s]}),[M,$]=Nt("paper",{className:T.paper,elementType:uGe,externalForwardedProps:I,shouldForwardComponentProp:!0,ownerState:E}),[L,V]=Nt("list",{className:Ne(T.list,l.className),elementType:dGe,shouldForwardComponentProp:!0,externalForwardedProps:I,getSlotProps:U=>({...U,onKeyDown:z=>{var B;D(z),(B=U.onKeyDown)==null||B.call(U,z)}}),ownerState:E}),q=typeof I.slotProps.transition=="function"?I.slotProps.transition(E):I.slotProps.transition;return x.jsx(cGe,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?sGe:aGe,slots:{root:b.root,paper:M,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:j,paper:$,backdrop:typeof S.backdrop=="function"?S.backdrop(E):S.backdrop,transition:{...q,onEntering:(...U)=>{var z;P(...U),(z=q==null?void 0:q.onEntering)==null||z.call(q,...U)}}},open:u,ref:n,transitionDuration:p,ownerState:E,...C,classes:f,children:x.jsx(L,{actions:A,autoFocus:i&&(F===-1||a),autoFocusItem:k,variant:v,...V,children:o})})});function fGe(e){return et("MuiMenuItem",e)}const mw=nt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),pGe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},hGe=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,l=Ke({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},fGe,s);return{...s,...l}},gGe=ye(uc,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:pGe})(pt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${mw.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_t(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${mw.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_t(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${mw.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_t(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_t(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${mw.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${mw.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Nte.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Nte.inset}`]:{marginLeft:52},[`& .${ub.root}`]:{marginTop:0,marginBottom:0},[`& .${ub.inset}`]:{paddingLeft:36},[`& .${Vte.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${Vte.root} svg`]:{fontSize:"1.25rem"}}}]}))),ir=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f,...p}=r,g=O.useContext(zf),m=O.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),v=O.useRef(null);li(()=>{i&&v.current&&v.current.focus()},[i]);const b={...r,dense:m.dense,divider:a,disableGutters:l},S=hGe(r),C=Ln(v,n);let _;return r.disabled||(_=d!==void 0?d:-1),x.jsx(zf.Provider,{value:m,children:x.jsx(gGe,{ref:C,role:u,tabIndex:_,component:o,focusVisibleClassName:Ne(S.focusVisible,c),className:Ne(S.root,f),...p,ownerState:b,classes:S})})});function mGe(e){return et("MuiNativeSelect",e)}const q7=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),yGe=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Te(n)}`,o&&"iconOpen",r&&"disabled"]};return Ke(a,mGe,t)},Rge=ye("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${q7.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),vGe=ye(Rge,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ko,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${q7.multiple}`]:t.multiple}]}})({}),Tge=ye("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${q7.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),bGe=ye(Tge,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Te(n.variant)}`],n.open&&t.iconOpen]}})({}),xGe=O.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=t,u={...t,disabled:i,variant:l,error:o},d=yGe(u);return x.jsxs(O.Fragment,{children:[x.jsx(vGe,{ownerState:u,className:Ne(d.select,r),disabled:i,ref:a||n,...c}),t.multiple?null:x.jsx(bGe,{as:s,ownerState:u,className:d.icon})]})});var Xte;const SGe=ye("fieldset",{shouldForwardProp:ko})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),wGe=ye("legend",{shouldForwardProp:ko})(pt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function CGe(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,a=i!=null&&i!=="",l={...e,notched:o,withLabel:a};return x.jsx(SGe,{"aria-hidden":!0,className:r,ownerState:l,...s,children:x.jsx(wGe,{ownerState:l,children:a?x.jsx("span",{children:i}):Xte||(Xte=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const _Ge=e=>{const{classes:t}=e,r=Ke({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},xHe,t);return{...t,...r}},EGe=ye(UP,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:zP})(pt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${zl.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${zl.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${zl.focused} .${zl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Xn()).map(([n])=>({props:{color:n},style:{[`&.${zl.focused} .${zl.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${zl.error} .${zl.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${zl.disabled} .${zl.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),kGe=ye(CGe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(pt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),RGe=ye(HP,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:BP})(pt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),G7=O.forwardRef(function(t,n){var r;const i=Ct({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:d={},type:f="text",...p}=i,g=_Ge(i),m=Ta(),v=yy({props:i,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...i,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:m,fullWidth:s,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:f},S=d.root??o.Root??EGe,C=d.input??o.Input??RGe;return x.jsx(N7,{slots:{root:S,input:C},renderSuffix:_=>x.jsx(kGe,{ownerState:b,className:g.notchedOutline,label:l!=null&&l!==""&&v.required?r||(r=x.jsxs(O.Fragment,{children:[l,"","*"]})):l,notched:typeof u<"u"?u:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:f,...p,classes:{...g,notchedOutline:null}})});G7.muiName="Input";function TGe(e){return et("MuiPagination",e)}nt("MuiPagination",["root","ul","outlined","text"]);function MGe(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:i=1,disabled:o=!1,hideNextButton:s=!1,hidePrevButton:a=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:f=1,...p}=e,[g,m]=Vo({controlled:c,default:i,name:n,state:"page"}),v=(P,D)=>{c||m(D),l&&l(P,D)},b=(P,D)=>{const F=D-P+1;return Array.from({length:F},(I,j)=>P+j)},S=b(1,Math.min(t,r)),C=b(Math.max(r-t+1,t+1),r),_=Math.max(Math.min(g-f,r-t-f*2-1),t+2),E=Math.min(Math.max(g+f,t+f*2+2),r-t-1),T=[...u?["first"]:[],...a?[]:["previous"],...S,..._>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...b(_,E),...E<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...C,...s?[]:["next"],...d?["last"]:[]],k=P=>{switch(P){case"first":return 1;case"previous":return g-1;case"next":return g+1;case"last":return r;default:return null}};return{items:T.map(P=>typeof P=="number"?{onClick:D=>{v(D,P)},type:"page",page:P,selected:P===g,disabled:o,"aria-current":P===g?"page":void 0}:{onClick:D=>{v(D,k(P))},type:P,page:k(P),selected:!1,disabled:o||!P.includes("ellipsis")&&(P==="next"||P==="last"?g>=r:g<=1)}),...p}}function AGe(e){return et("MuiPaginationItem",e)}const ws=nt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),OGe=st(x.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),DGe=st(x.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),PGe=st(x.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),IGe=st(x.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Mge=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Te(n.size)}`],n.variant==="text"&&t[`text${Te(n.color)}`],n.variant==="outlined"&&t[`outlined${Te(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},$Ge=e=>{const{classes:t,color:n,disabled:r,selected:i,size:o,shape:s,type:a,variant:l}=e,c={root:["root",`size${Te(o)}`,l,s,n!=="standard"&&`color${Te(n)}`,n!=="standard"&&`${l}${Te(n)}`,r&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]};return Ke(c,AGe,t)},FGe=ye("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Mge})(pt(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${ws.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),NGe=ye(uc,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Mge})(pt(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${ws.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ws.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ws.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_t(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${ws.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_t(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${ws.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ws.selected}`]:{[`&.${ws.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${ws.selected}`]:{[`&.${ws.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(Xn(["dark","contrastText"])).map(([t])=>({props:{variant:"text",color:t},style:{[`&.${ws.selected}`]:{color:(e.vars||e).palette[t].contrastText,backgroundColor:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:(e.vars||e).palette[t].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t].main}},[`&.${ws.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t].dark},[`&.${ws.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(Xn(["light"])).map(([t])=>({props:{variant:"outlined",color:t},style:{[`&.${ws.selected}`]:{color:(e.vars||e).palette[t].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.5)`:_t(e.palette[t].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:_t(e.palette[t].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_t(e.palette[t].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ws.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_t(e.palette[t].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}}}}))]}))),LGe=ye("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(pt(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),Age=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiPaginationItem"}),{className:i,color:o="standard",component:s,components:a={},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:f="medium",slots:p={},slotProps:g={},type:m="page",variant:v="text",...b}=r,S={...r,color:o,disabled:l,selected:u,shape:d,size:f,type:m,variant:v},C=Pi(),_=$Ge(S),E={slots:{previous:p.previous??a.previous,next:p.next??a.next,first:p.first??a.first,last:p.last??a.last},slotProps:g},[T,k]=Nt("previous",{elementType:PGe,externalForwardedProps:E,ownerState:S}),[A,P]=Nt("next",{elementType:IGe,externalForwardedProps:E,ownerState:S}),[D,F]=Nt("first",{elementType:OGe,externalForwardedProps:E,ownerState:S}),[I,j]=Nt("last",{elementType:DGe,externalForwardedProps:E,ownerState:S}),M=C?{previous:"next",next:"previous",first:"last",last:"first"}[m]:m,$={previous:T,next:A,first:D,last:I}[M],L={previous:k,next:P,first:F,last:j}[M];return m==="start-ellipsis"||m==="end-ellipsis"?x.jsx(FGe,{ref:n,ownerState:S,className:Ne(_.root,i),children:""}):x.jsxs(NGe,{ref:n,ownerState:S,component:s,disabled:l,className:Ne(_.root,i),...b,children:[m==="page"&&c,$?x.jsx(LGe,{...L,className:_.icon,as:$}):null]})}),jGe=e=>{const{classes:t,variant:n}=e;return Ke({root:["root",n],ul:["ul"]},TGe,t)},zGe=ye("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),BGe=ye("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function UGe(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const HGe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiPagination"}),{boundaryCount:i=1,className:o,color:s="standard",count:a=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=UGe,hideNextButton:d=!1,hidePrevButton:f=!1,onChange:p,page:g,renderItem:m=D=>x.jsx(Age,{...D}),shape:v="circular",showFirstButton:b=!1,showLastButton:S=!1,siblingCount:C=1,size:_="medium",variant:E="text",...T}=r,{items:k}=MGe({...r,componentName:"Pagination"}),A={...r,boundaryCount:i,color:s,count:a,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:f,renderItem:m,shape:v,showFirstButton:b,showLastButton:S,siblingCount:C,size:_,variant:E},P=jGe(A);return x.jsx(zGe,{"aria-label":"pagination navigation",className:Ne(P.root,o),ownerState:A,ref:n,...T,children:x.jsx(BGe,{className:P.ul,ownerState:A,children:k.map((D,F)=>x.jsx("li",{children:m({...D,color:s,"aria-label":u(D.type,D.page,D.selected),shape:v,size:_,variant:E})},F))})})}),VGe=st(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),WGe=st(x.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),qGe=ye("span",{shouldForwardProp:ko})({position:"relative",display:"flex"}),GGe=ye(VGe)({transform:"scale(1)"}),YGe=ye(WGe)(pt(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function Oge(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i={...e,checked:t};return x.jsxs(qGe,{className:n.root,ownerState:i,children:[x.jsx(GGe,{fontSize:r,className:n.background,ownerState:i}),x.jsx(YGe,{fontSize:r,className:n.dot,ownerState:i})]})}const XGe=O.createContext(void 0);function KGe(){return O.useContext(XGe)}function QGe(e){return et("MuiRadio",e)}const Kte=nt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),ZGe=e=>{const{classes:t,color:n,size:r}=e,i={root:["root",`color${Te(n)}`,r!=="medium"&&`size${Te(r)}`]};return{...t,...Ke(i,QGe,t)}},JGe=ye(L7,{shouldForwardProp:e=>ko(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size!=="medium"&&t[`size${Te(n.size)}`],t[`color${Te(n.color)}`]]}})(pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${Kte.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${Kte.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function eYe(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const tYe=x.jsx(Oge,{checked:!0}),nYe=x.jsx(Oge,{}),rYe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiRadio"}),{checked:i,checkedIcon:o=tYe,color:s="primary",icon:a=nYe,name:l,onChange:c,size:u="medium",className:d,disabled:f,disableRipple:p=!1,slots:g={},slotProps:m={},inputProps:v,...b}=r,S=Ta();let C=f;S&&typeof C>"u"&&(C=S.disabled),C??(C=!1);const _={...r,disabled:C,disableRipple:p,color:s,size:u},E=ZGe(_),T=KGe();let k=i;const A=Iz(c,T&&T.onChange);let P=l;T&&(typeof k>"u"&&(k=eYe(T.value,r.value)),typeof P>"u"&&(P=T.name));const D=m.input??v,[F,I]=Nt("root",{ref:n,elementType:JGe,className:Ne(E.root,d),shouldForwardComponentProp:!0,externalForwardedProps:{slots:g,slotProps:m,...b},getSlotProps:j=>({...j,onChange:(M,...$)=>{var L;(L=j.onChange)==null||L.call(j,M,...$),A(M,...$)}}),ownerState:_,additionalProps:{type:"radio",icon:O.cloneElement(a,{fontSize:a.props.fontSize??u}),checkedIcon:O.cloneElement(o,{fontSize:o.props.fontSize??u}),disabled:C,name:P,checked:k,slots:g,slotProps:{input:typeof D=="function"?D(_):D}}});return x.jsx(F,{...I,classes:E})});function Dge(e){return et("MuiSelect",e)}const yw=nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Qte;const iYe=ye(Rge,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${yw.select}`]:t.select},{[`&.${yw.select}`]:t[n.variant]},{[`&.${yw.error}`]:t.error},{[`&.${yw.multiple}`]:t.multiple}]}})({[`&.${yw.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),oYe=ye(Tge,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Te(n.variant)}`],n.open&&t.iconOpen]}})({}),sYe=ye("input",{shouldForwardProp:e=>NP(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Zte(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function aYe(e){return e==null||typeof e=="string"&&!e.trim()}const lYe=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Te(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ke(a,Dge,t)},cYe=O.forwardRef(function(t,n){var ot;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:m,labelId:v,MenuProps:b={},multiple:S,name:C,onBlur:_,onChange:E,onClose:T,onFocus:k,onOpen:A,open:P,readOnly:D,renderValue:F,required:I,SelectDisplayProps:j={},tabIndex:M,type:$,value:L,variant:V="standard",...q}=t,[U,z]=Vo({controlled:L,default:u,name:"Select"}),[B,G]=Vo({controlled:P,default:c,name:"Select"}),Y=O.useRef(null),Q=O.useRef(null),[K,te]=O.useState(null),{current:ce}=O.useRef(P!=null),[ie,re]=O.useState(),he=Ln(n,m),fe=O.useCallback(Me=>{Q.current=Me,Me&&te(Me)},[]),ne=K==null?void 0:K.parentNode;O.useImperativeHandle(he,()=>({focus:()=>{Q.current.focus()},node:Y.current,value:U}),[U]),O.useEffect(()=>{c&&B&&K&&!ce&&(re(s?null:ne.clientWidth),Q.current.focus())},[K,s]),O.useEffect(()=>{o&&Q.current.focus()},[o]),O.useEffect(()=>{if(!v)return;const Me=ai(Q.current).getElementById(v);if(Me){const ze=()=>{getSelection().isCollapsed&&Q.current.focus()};return Me.addEventListener("click",ze),()=>{Me.removeEventListener("click",ze)}}},[v]);const pe=(Me,ze)=>{Me?A&&A(ze):T&&T(ze),ce||(re(s?null:ne.clientWidth),G(Me))},W=Me=>{Me.button===0&&(Me.preventDefault(),Q.current.focus(),pe(!0,Me))},se=Me=>{pe(!1,Me)},ae=O.Children.toArray(a),X=Me=>{const ze=ae.find(Qe=>Qe.props.value===Me.target.value);ze!==void 0&&(z(ze.props.value),E&&E(Me,ze))},Z=Me=>ze=>{let Qe;if(ze.currentTarget.hasAttribute("tabindex")){if(S){Qe=Array.isArray(U)?U.slice():[];const Rt=U.indexOf(Me.props.value);Rt===-1?Qe.push(Me.props.value):Qe.splice(Rt,1)}else Qe=Me.props.value;if(Me.props.onClick&&Me.props.onClick(ze),U!==Qe&&(z(Qe),E)){const Rt=ze.nativeEvent||ze,Et=new Rt.constructor(Rt.type,Rt);Object.defineProperty(Et,"target",{writable:!0,value:{value:Qe,name:C}}),E(Et,Me)}S||pe(!1,ze)}},oe=Me=>{D||[" ","ArrowUp","ArrowDown","Enter"].includes(Me.key)&&(Me.preventDefault(),pe(!0,Me))},ge=K!==null&&B,be=Me=>{!ge&&_&&(Object.defineProperty(Me,"target",{writable:!0,value:{value:U,name:C}}),_(Me))};delete q["aria-invalid"];let de,Re;const xe=[];let ue=!1;(qA({value:U})||f)&&(F?de=F(U):ue=!0);const we=ae.map(Me=>{if(!O.isValidElement(Me))return null;let ze;if(S){if(!Array.isArray(U))throw new Error(op(2));ze=U.some(Qe=>Zte(Qe,Me.props.value)),ze&&ue&&xe.push(Me.props.children)}else ze=Zte(U,Me.props.value),ze&&ue&&(Re=Me.props.children);return O.cloneElement(Me,{"aria-selected":ze?"true":"false",onClick:Z(Me),onKeyUp:Qe=>{Qe.key===" "&&Qe.preventDefault(),Me.props.onKeyUp&&Me.props.onKeyUp(Qe)},role:"option",selected:ze,value:void 0,"data-value":Me.props.value})});ue&&(S?xe.length===0?de=null:de=xe.reduce((Me,ze,Qe)=>(Me.push(ze),Qe<xe.length-1&&Me.push(", "),Me),[]):de=Re);let Oe=ie;!s&&ce&&K&&(Oe=ne.clientWidth);let ke;typeof M<"u"?ke=M:ke=d?null:0;const Ie=j.id||(C?`mui-component-select-${C}`:void 0),ve={...t,variant:V,value:U,open:ge,error:p},_e=lYe(ve),$e={...b.PaperProps,...(ot=b.slotProps)==null?void 0:ot.paper},De=Cl();return x.jsxs(O.Fragment,{children:[x.jsx(iYe,{as:"div",ref:fe,tabIndex:ke,role:"combobox","aria-controls":ge?De:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":ge?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,Ie].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":I?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:oe,onMouseDown:d||D?null:W,onBlur:be,onFocus:k,...j,ownerState:ve,className:Ne(j.className,_e.select,l),id:Ie,children:aYe(de)?Qte||(Qte=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):de}),x.jsx(sYe,{"aria-invalid":p,value:Array.isArray(U)?U.join(","):U,name:C,ref:Y,"aria-hidden":!0,onChange:X,tabIndex:-1,disabled:d,className:_e.nativeInput,autoFocus:o,required:I,...q,ownerState:ve}),x.jsx(oYe,{as:g,className:_e.icon,ownerState:ve}),x.jsx($d,{id:`menu-${C||""}`,anchorEl:ne,open:ge,onClose:se,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:De,...b.MenuListProps},paper:{...$e,style:{minWidth:Oe,...$e!=null?$e.style:null}}},children:we})]})}),uYe=e=>{const{classes:t}=e,r=Ke({root:["root"]},Dge,t);return{...t,...r}},Y7={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>ko(e)&&e!=="variant",slot:"Root"},dYe=ye(H7,Y7)(""),fYe=ye(G7,Y7)(""),pYe=ye(B7,Y7)(""),X7=O.forwardRef(function(t,n){const r=Ct({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=uge,id:d,input:f,inputProps:p,label:g,labelId:m,MenuProps:v,multiple:b=!1,native:S=!1,onClose:C,onOpen:_,open:E,renderValue:T,SelectDisplayProps:k,variant:A="outlined",...P}=r,D=S?xGe:cYe,F=Ta(),I=yy({props:r,muiFormControl:F,states:["variant","error"]}),j=I.variant||A,M={...r,variant:j,classes:s},$=uYe(M),{root:L,...V}=$,q=f||{standard:x.jsx(dYe,{ownerState:M}),outlined:x.jsx(fYe,{label:g,ownerState:M}),filled:x.jsx(pYe,{ownerState:M})}[j],U=Ln(n,Og(q));return x.jsx(O.Fragment,{children:O.cloneElement(q,{inputComponent:D,inputProps:{children:o,error:I.error,IconComponent:u,variant:j,type:void 0,multiple:b,...S?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:v,onClose:C,onOpen:_,open:E,renderValue:T,SelectDisplayProps:{id:d,...k}},...p,classes:p?Li(V,p.classes):V,...f?f.props.inputProps:{}},...(b&&S||c)&&j==="outlined"?{notched:!0}:{},ref:U,className:Ne(q.props.className,a,$.root),...!f&&{variant:j},...P})})});X7.muiName="Select";function hYe(e){return et("MuiSkeleton",e)}nt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const gYe=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:s}=e;return Ke({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},hYe,t)},e6=Id`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,t6=Id`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,mYe=typeof e6!="string"?Ag`
        animation: ${e6} 2s ease-in-out 0.5s infinite;
      `:null,yYe=typeof t6!="string"?Ag`
        &::after {
          animation: ${t6} 2s linear 0.5s infinite;
        }
      `:null,vYe=ye("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(pt(({theme:e})=>{const t=r9e(e.shape.borderRadius)||"px",n=i9e(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:_t(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:mYe||{animation:`${e6} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:yYe||{"&::after":{animation:`${t6} 2s linear 0.5s infinite`}}}]}})),bYe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:c="text",width:u,...d}=r,f={...r,animation:i,component:s,variant:c,hasChildren:!!d.children},p=gYe(f);return x.jsx(vYe,{as:s,ref:n,className:Ne(p.root,o),ownerState:f,...d,style:{width:u,height:a,...l}})});function xYe(e,t,n=(r,i)=>r===i){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}const SYe=2;function Pv(e,t,n,r,i){return n===1?Math.min(e+t,i):Math.max(e-t,r)}function Pge(e,t){return e-t}function Jte(e,t){const{index:n}=e.reduce((r,i,o)=>{const s=Math.abs(t-i);return r===null||s<r.distance||s===r.distance?{distance:s,index:o}:r},null)??{};return n}function XR(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function YA(e,t,n){return(e-t)*100/(n-t)}function wYe(e,t,n){return(n-t)*e+t}function CYe(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function _Ye(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(CYe(t)))}function ene({values:e,newValue:t,index:n}){const r=e.slice();return r[n]=t,r.sort(Pge)}function KR({sliderRef:e,activeIndex:t,setActive:n}){var i,o,s;const r=ai(e.current);(!((i=e.current)!=null&&i.contains(r.activeElement))||Number((o=r==null?void 0:r.activeElement)==null?void 0:o.getAttribute("data-index"))!==t)&&((s=e.current)==null||s.querySelector(`[type="range"][data-index="${t}"]`).focus()),n&&n(t)}function QR(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?xYe(e,t):!1}const EYe={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},kYe=e=>e;let ZR;function tne(){return ZR===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?ZR=CSS.supports("touch-action","none"):ZR=!0),ZR}function RYe(e){const{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:o=!1,marks:s=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",rootRef:p,scale:g=kYe,step:m=1,shiftStep:v=10,tabIndex:b,value:S}=e,C=O.useRef(void 0),[_,E]=O.useState(-1),[T,k]=O.useState(-1),[A,P]=O.useState(!1),D=O.useRef(0),F=O.useRef(null),[I,j]=Vo({controlled:S,default:n??l,name:"Slider"}),M=u&&((ue,we,Oe)=>{const ke=ue.nativeEvent||ue,Ie=new ke.constructor(ke.type,ke);Object.defineProperty(Ie,"target",{writable:!0,value:{value:we,name:c}}),F.current=we,u(Ie,we,Oe)}),$=Array.isArray(I);let L=$?I.slice().sort(Pge):[I];L=L.map(ue=>ue==null?l:Qv(ue,l,a));const V=s===!0&&m!==null?[...Array(Math.floor((a-l)/m)+1)].map((ue,we)=>({value:l+m*we})):s||[],q=V.map(ue=>ue.value),[U,z]=O.useState(-1),B=O.useRef(null),G=Ln(p,B),Y=ue=>we=>{var ke;const Oe=Number(we.currentTarget.getAttribute("data-index"));ng(we.target)&&z(Oe),k(Oe),(ke=ue==null?void 0:ue.onFocus)==null||ke.call(ue,we)},Q=ue=>we=>{var Oe;ng(we.target)||z(-1),k(-1),(Oe=ue==null?void 0:ue.onBlur)==null||Oe.call(ue,we)},K=(ue,we)=>{const Oe=Number(ue.currentTarget.getAttribute("data-index")),ke=L[Oe],Ie=q.indexOf(ke);let ve=we;if(V&&m==null){const _e=q[q.length-1];ve>=_e?ve=_e:ve<=q[0]?ve=q[0]:ve=ve<ke?q[Ie-1]:q[Ie+1]}if(ve=Qv(ve,l,a),$){i&&(ve=Qv(ve,L[Oe-1]||-1/0,L[Oe+1]||1/0));const _e=ve;ve=ene({values:L,newValue:ve,index:Oe});let $e=Oe;i||($e=ve.indexOf(_e)),KR({sliderRef:B,activeIndex:$e})}j(ve),z(Oe),M&&!QR(ve,I)&&M(ue,ve,Oe),d&&d(ue,F.current??ve)},te=ue=>we=>{var Oe;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(we.key)){we.preventDefault();const ke=Number(we.currentTarget.getAttribute("data-index")),Ie=L[ke];let ve=null;if(m!=null){const _e=we.shiftKey?v:m;switch(we.key){case"ArrowUp":ve=Pv(Ie,_e,1,l,a);break;case"ArrowRight":ve=Pv(Ie,_e,o?-1:1,l,a);break;case"ArrowDown":ve=Pv(Ie,_e,-1,l,a);break;case"ArrowLeft":ve=Pv(Ie,_e,o?1:-1,l,a);break;case"PageUp":ve=Pv(Ie,v,1,l,a);break;case"PageDown":ve=Pv(Ie,v,-1,l,a);break;case"Home":ve=l;break;case"End":ve=a;break}}else if(V){const _e=q[q.length-1],$e=q.indexOf(Ie),De=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],ot=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];De.includes(we.key)?$e===0?ve=q[0]:ve=q[$e-1]:ot.includes(we.key)&&($e===q.length-1?ve=_e:ve=q[$e+1])}ve!=null&&K(we,ve)}(Oe=ue==null?void 0:ue.onKeyDown)==null||Oe.call(ue,we)};li(()=>{var ue;r&&B.current.contains(document.activeElement)&&((ue=document.activeElement)==null||ue.blur())},[r]),r&&_!==-1&&E(-1),r&&U!==-1&&z(-1);const ce=ue=>we=>{var Oe;(Oe=ue.onChange)==null||Oe.call(ue,we),K(we,we.target.valueAsNumber)},ie=O.useRef(void 0);let re=f;o&&f==="horizontal"&&(re+="-reverse");const he=({finger:ue,move:we=!1})=>{const{current:Oe}=B,{width:ke,height:Ie,bottom:ve,left:_e}=Oe.getBoundingClientRect();let $e;re.startsWith("vertical")?$e=(ve-ue.y)/Ie:$e=(ue.x-_e)/ke,re.includes("-reverse")&&($e=1-$e);let De;if(De=wYe($e,l,a),m)De=_Ye(De,m,l);else{const Me=Jte(q,De);De=q[Me]}De=Qv(De,l,a);let ot=0;if($){we?ot=ie.current:ot=Jte(L,De),i&&(De=Qv(De,L[ot-1]||-1/0,L[ot+1]||1/0));const Me=De;De=ene({values:L,newValue:De,index:ot}),i&&we||(ot=De.indexOf(Me),ie.current=ot)}return{newValue:De,activeIndex:ot}},fe=mt(ue=>{const we=XR(ue,C);if(!we)return;if(D.current+=1,ue.type==="mousemove"&&ue.buttons===0){ne(ue);return}const{newValue:Oe,activeIndex:ke}=he({finger:we,move:!0});KR({sliderRef:B,activeIndex:ke,setActive:E}),j(Oe),!A&&D.current>SYe&&P(!0),M&&!QR(Oe,I)&&M(ue,Oe,ke)}),ne=mt(ue=>{const we=XR(ue,C);if(P(!1),!we)return;const{newValue:Oe}=he({finger:we,move:!0});E(-1),ue.type==="touchend"&&k(-1),d&&d(ue,F.current??Oe),C.current=void 0,W()}),pe=mt(ue=>{if(r)return;tne()||ue.preventDefault();const we=ue.changedTouches[0];we!=null&&(C.current=we.identifier);const Oe=XR(ue,C);if(Oe!==!1){const{newValue:Ie,activeIndex:ve}=he({finger:Oe});KR({sliderRef:B,activeIndex:ve,setActive:E}),j(Ie),M&&!QR(Ie,I)&&M(ue,Ie,ve)}D.current=0;const ke=ai(B.current);ke.addEventListener("touchmove",fe,{passive:!0}),ke.addEventListener("touchend",ne,{passive:!0})}),W=O.useCallback(()=>{const ue=ai(B.current);ue.removeEventListener("mousemove",fe),ue.removeEventListener("mouseup",ne),ue.removeEventListener("touchmove",fe),ue.removeEventListener("touchend",ne)},[ne,fe]);O.useEffect(()=>{const{current:ue}=B;return ue.addEventListener("touchstart",pe,{passive:tne()}),()=>{ue.removeEventListener("touchstart",pe),W()}},[W,pe]),O.useEffect(()=>{r&&W()},[r,W]);const se=ue=>we=>{var Ie;if((Ie=ue.onMouseDown)==null||Ie.call(ue,we),r||we.defaultPrevented||we.button!==0)return;we.preventDefault();const Oe=XR(we,C);if(Oe!==!1){const{newValue:ve,activeIndex:_e}=he({finger:Oe});KR({sliderRef:B,activeIndex:_e,setActive:E}),j(ve),M&&!QR(ve,I)&&M(we,ve,_e)}D.current=0;const ke=ai(B.current);ke.addEventListener("mousemove",fe,{passive:!0}),ke.addEventListener("mouseup",ne)},ae=YA($?L[0]:l,l,a),X=YA(L[L.length-1],l,a)-ae,Z=(ue={})=>{const we=f0(ue),Oe={onMouseDown:se(we||{})},ke={...we,...Oe};return{...ue,ref:G,...ke}},oe=ue=>we=>{var ke;(ke=ue.onMouseOver)==null||ke.call(ue,we);const Oe=Number(we.currentTarget.getAttribute("data-index"));k(Oe)},ge=ue=>we=>{var Oe;(Oe=ue.onMouseLeave)==null||Oe.call(ue,we),k(-1)},be=(ue={})=>{const we=f0(ue),Oe={onMouseOver:oe(we||{}),onMouseLeave:ge(we||{})};return{...ue,...we,...Oe}},de=ue=>({pointerEvents:_!==-1&&_!==ue?"none":void 0});let Re;return f==="vertical"&&(Re=o?"vertical-rl":"vertical-lr"),{active:_,axis:re,axisProps:EYe,dragging:A,focusedThumbIndex:U,getHiddenInputProps:(ue={})=>{const we=f0(ue),Oe={onChange:ce(we||{}),onFocus:Y(we||{}),onBlur:Q(we||{}),onKeyDown:te(we||{})},ke={...we,...Oe};return{tabIndex:b,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":g(a),"aria-valuemin":g(l),name:c,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:r,...ue,...ke,style:{...Ahe,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Re}}},getRootProps:Z,getThumbProps:be,marks:V,open:T,range:$,rootRef:G,trackLeap:X,trackOffset:ae,values:L,getThumbStyle:de}}const TYe=e=>!e||!jf(e);function MYe(e){return et("MuiSlider",e)}const Kl=nt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),AYe=e=>{const{open:t}=e;return{offset:Ne(t&&Kl.valueLabelOpen),circle:Kl.valueLabelCircle,label:Kl.valueLabelLabel}};function OYe(e){const{children:t,className:n,value:r}=e,i=AYe(e);return t?O.cloneElement(t,{className:Ne(t.props.className)},x.jsxs(O.Fragment,{children:[t.props.children,x.jsx("span",{className:Ne(i.offset,n),"aria-hidden":!0,children:x.jsx("span",{className:i.circle,children:x.jsx("span",{className:i.label,children:r})})})]})):null}function nne(e){return e}const DYe=ye("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Te(n.color)}`],n.size!=="medium"&&t[`size${Te(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(pt(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Kl.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Kl.dragging}`]:{[`& .${Kl.thumb}, & .${Kl.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),PYe=ye("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),IYe=ye("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(pt(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:Ho(e.palette[t].main,.62),borderColor:Ho(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:fl(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:fl(e.palette[t].main,.5)})}}}))]}))),$Ye=ye("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${Te(n.color)}`],n.size!=="medium"&&t[`thumbSize${Te(n.size)}`]]}})(pt(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Kl.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(Xn()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${Kl.focusVisible}`]:{...e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${_t(e.palette[t].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Kl.active}`]:{...e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${_t(e.palette[t].main,.16)}`}}}}))]}))),FYe=ye(OYe,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(pt(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Kl.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Kl.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),NYe=ye("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>NP(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(pt(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),LYe=ye("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>NP(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(pt(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),jYe=e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=e,c={root:["root",t&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",a&&`color${Te(a)}`,l&&`size${Te(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${Te(l)}`,a&&`thumbColor${Te(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Ke(c,MYe,s)},zYe=({children:e})=>e,Ige=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiSlider"}),i=Pi(),{"aria-label":o,"aria-valuetext":s,"aria-labelledby":a,component:l="span",components:c={},componentsProps:u={},color:d="primary",classes:f,className:p,disableSwap:g=!1,disabled:m=!1,getAriaLabel:v,getAriaValueText:b,marks:S=!1,max:C=100,min:_=0,name:E,onChange:T,onChangeCommitted:k,orientation:A="horizontal",shiftStep:P=10,size:D="medium",step:F=1,scale:I=nne,slotProps:j,slots:M,tabIndex:$,track:L="normal",value:V,valueLabelDisplay:q="off",valueLabelFormat:U=nne,...z}=r,B={...r,isRtl:i,max:C,min:_,classes:f,disabled:m,disableSwap:g,orientation:A,marks:S,color:d,size:D,step:F,shiftStep:P,scale:I,track:L,valueLabelDisplay:q,valueLabelFormat:U},{axisProps:G,getRootProps:Y,getHiddenInputProps:Q,getThumbProps:K,open:te,active:ce,axis:ie,focusedThumbIndex:re,range:he,dragging:fe,marks:ne,values:pe,trackOffset:W,trackLeap:se,getThumbStyle:ae}=RYe({...B,rootRef:n});B.marked=ne.length>0&&ne.some(It=>It.label),B.dragging=fe,B.focusedThumbIndex=re;const X=jYe(B),Z=(M==null?void 0:M.root)??c.Root??DYe,oe=(M==null?void 0:M.rail)??c.Rail??PYe,ge=(M==null?void 0:M.track)??c.Track??IYe,be=(M==null?void 0:M.thumb)??c.Thumb??$Ye,de=(M==null?void 0:M.valueLabel)??c.ValueLabel??FYe,Re=(M==null?void 0:M.mark)??c.Mark??NYe,xe=(M==null?void 0:M.markLabel)??c.MarkLabel??LYe,ue=(M==null?void 0:M.input)??c.Input??"input",we=(j==null?void 0:j.root)??u.root,Oe=(j==null?void 0:j.rail)??u.rail,ke=(j==null?void 0:j.track)??u.track,Ie=(j==null?void 0:j.thumb)??u.thumb,ve=(j==null?void 0:j.valueLabel)??u.valueLabel,_e=(j==null?void 0:j.mark)??u.mark,$e=(j==null?void 0:j.markLabel)??u.markLabel,De=(j==null?void 0:j.input)??u.input,ot=pn({elementType:Z,getSlotProps:Y,externalSlotProps:we,externalForwardedProps:z,additionalProps:{...TYe(Z)&&{as:l}},ownerState:{...B,...we==null?void 0:we.ownerState},className:[X.root,p]}),Me=pn({elementType:oe,externalSlotProps:Oe,ownerState:B,className:X.rail}),ze=pn({elementType:ge,externalSlotProps:ke,additionalProps:{style:{...G[ie].offset(W),...G[ie].leap(se)}},ownerState:{...B,...ke==null?void 0:ke.ownerState},className:X.track}),Qe=pn({elementType:be,getSlotProps:K,externalSlotProps:Ie,ownerState:{...B,...Ie==null?void 0:Ie.ownerState},className:X.thumb}),Rt=pn({elementType:de,externalSlotProps:ve,ownerState:{...B,...ve==null?void 0:ve.ownerState},className:X.valueLabel}),Et=pn({elementType:Re,externalSlotProps:_e,ownerState:B,className:X.mark}),Wt=pn({elementType:xe,externalSlotProps:$e,ownerState:B,className:X.markLabel}),vn=pn({elementType:ue,getSlotProps:Q,externalSlotProps:De,ownerState:B});return x.jsxs(Z,{...ot,children:[x.jsx(oe,{...Me}),x.jsx(ge,{...ze}),ne.filter(It=>It.value>=_&&It.value<=C).map((It,$t)=>{const ur=YA(It.value,_,C),ht=G[ie].offset(ur);let jt;return L===!1?jt=pe.includes(It.value):jt=L==="normal"&&(he?It.value>=pe[0]&&It.value<=pe[pe.length-1]:It.value<=pe[0])||L==="inverted"&&(he?It.value<=pe[0]||It.value>=pe[pe.length-1]:It.value>=pe[0]),x.jsxs(O.Fragment,{children:[x.jsx(Re,{"data-index":$t,...Et,...!jf(Re)&&{markActive:jt},style:{...ht,...Et.style},className:Ne(Et.className,jt&&X.markActive)}),It.label!=null?x.jsx(xe,{"aria-hidden":!0,"data-index":$t,...Wt,...!jf(xe)&&{markLabelActive:jt},style:{...ht,...Wt.style},className:Ne(X.markLabel,Wt.className,jt&&X.markLabelActive),children:It.label}):null]},$t)}),pe.map((It,$t)=>{const ur=YA(It,_,C),ht=G[ie].offset(ur),jt=q==="off"?zYe:de;return x.jsx(jt,{...!jf(jt)&&{valueLabelFormat:U,valueLabelDisplay:q,value:typeof U=="function"?U(I(It),$t):U,index:$t,open:te===$t||ce===$t||q==="on",disabled:m},...Rt,children:x.jsx(be,{"data-index":$t,...Qe,className:Ne(X.thumb,Qe.className,ce===$t&&X.active,re===$t&&X.focusVisible),style:{...ht,...ae($t),...Qe.style},children:x.jsx(ue,{"data-index":$t,"aria-label":v?v($t):o,"aria-valuenow":I(It),"aria-labelledby":a,"aria-valuetext":b?b(I(It),$t):s,value:pe[$t],...vn})})},$t)})]})});function BYe(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=e,s=kh();O.useEffect(()=>{if(!i)return;function b(S){S.defaultPrevented||S.key==="Escape"&&(r==null||r(S,"escapeKeyDown"))}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[i,r]);const a=mt((b,S)=>{r==null||r(b,S)}),l=mt(b=>{!r||b==null||s.start(b,()=>{a(null,"timeout")})});O.useEffect(()=>(i&&l(t),s.clear),[i,t,l,s]);const c=b=>{r==null||r(b,"clickaway")},u=s.clear,d=O.useCallback(()=>{t!=null&&l(o??t*.5)},[t,o,l]),f=b=>S=>{const C=b.onBlur;C==null||C(S),d()},p=b=>S=>{const C=b.onFocus;C==null||C(S),u()},g=b=>S=>{const C=b.onMouseEnter;C==null||C(S),u()},m=b=>S=>{const C=b.onMouseLeave;C==null||C(S),d()};return O.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(b={})=>{const S={...f0(e),...f0(b)};return{role:"presentation",...b,...S,onBlur:f(S),onFocus:p(S),onMouseEnter:g(S),onMouseLeave:m(S)}},onClickAway:c}}function UYe(e){return et("MuiSnackbarContent",e)}nt("MuiSnackbarContent",["root","message","action"]);const HYe=e=>{const{classes:t}=e;return Ke({root:["root"],action:["action"],message:["message"]},UYe,t)},VYe=ye(El,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(pt(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=Rhe(e.palette.background.default,t);return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),WYe=ye("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),qYe=ye("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),K7=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert",...l}=r,c=r,u=HYe(c);return x.jsxs(VYe,{role:a,square:!0,elevation:6,className:Ne(u.root,o),ownerState:c,ref:n,...l,children:[x.jsx(WYe,{className:u.message,ownerState:c,children:s}),i?x.jsx(qYe,{className:u.action,ownerState:c,children:i}):null]})});function GYe(e){return et("MuiSnackbar",e)}nt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const YYe=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Te(n.vertical)}${Te(n.horizontal)}`]};return Ke(r,GYe,t)},XYe=ye("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Te(n.anchorOrigin.vertical)}${Te(n.anchorOrigin.horizontal)}`]]}})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),WP=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiSnackbar"}),i=lr(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:g=!1,message:m,onBlur:v,onClose:b,onFocus:S,onMouseEnter:C,onMouseLeave:_,open:E,resumeHideDuration:T,slots:k={},slotProps:A={},TransitionComponent:P,transitionDuration:D=o,TransitionProps:{onEnter:F,onExited:I,...j}={},...M}=r,$={...r,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:g,TransitionComponent:P,transitionDuration:D},L=YYe($),{getRootProps:V,onClickAway:q}=BYe({...$}),[U,z]=O.useState(!0),B=ne=>{z(!0),I&&I(ne)},G=(ne,pe)=>{z(!1),F&&F(ne,pe)},Y={slots:{transition:P,...k},slotProps:{content:p,clickAwayListener:f,transition:j,...A}},[Q,K]=Nt("root",{ref:n,className:[L.root,d],elementType:XYe,getSlotProps:V,externalForwardedProps:{...Y,...M},ownerState:$}),[te,ce]=Nt("clickAwayListener",{elementType:DVe,externalForwardedProps:Y,getSlotProps:ne=>({onClickAway:(...pe)=>{var W;(W=ne.onClickAway)==null||W.call(ne,...pe),q(...pe)}}),ownerState:$}),[ie,re]=Nt("content",{elementType:K7,shouldForwardComponentProp:!0,externalForwardedProps:Y,additionalProps:{message:m,action:s},ownerState:$}),[he,fe]=Nt("transition",{elementType:P0,externalForwardedProps:Y,getSlotProps:ne=>({onEnter:(...pe)=>{var W;(W=ne.onEnter)==null||W.call(ne,...pe),G(...pe)},onExited:(...pe)=>{var W;(W=ne.onExited)==null||W.call(ne,...pe),B(...pe)}}),additionalProps:{appear:!0,in:E,timeout:D,direction:a==="top"?"down":"up"},ownerState:$});return!E&&U?null:x.jsx(te,{...ce,children:x.jsx(Q,{...K,children:x.jsx(he,{...fe,children:u||x.jsx(ie,{...re})})})})});function KYe(e){return et("MuiTooltip",e)}const _i=nt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function QYe(e){return Math.round(e*1e5)/1e5}const ZYe=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Te(o.split("-")[0])}`],arrow:["arrow"]};return Ke(s,KYe,t)},JYe=ye(i2,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${_i.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${_i.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${_i.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${_i.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${_i.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${_i.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${_i.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${_i.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),eXe=ye("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Te(n.placement.split("-")[0])}`]]}})(pt(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:_t(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${_i.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${_i.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${_i.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${_i.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${QYe(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${_i.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${_i.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${_i.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${_i.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${_i.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${_i.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${_i.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${_i.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${_i.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${_i.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),tXe=ye("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(pt(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:_t(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let JR=!1;const rne=new PP;let vw={x:0,y:0};function eT(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Yt=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:a={},componentsProps:l={},describeChild:c=!1,disableFocusListener:u=!1,disableHoverListener:d=!1,disableInteractive:f=!1,disableTouchListener:p=!1,enterDelay:g=100,enterNextDelay:m=0,enterTouchDelay:v=700,followCursor:b=!1,id:S,leaveDelay:C=0,leaveTouchDelay:_=1500,onClose:E,onOpen:T,open:k,placement:A="bottom",PopperComponent:P,PopperProps:D={},slotProps:F={},slots:I={},title:j,TransitionComponent:M,TransitionProps:$,...L}=r,V=O.isValidElement(o)?o:x.jsx("span",{children:o}),q=lr(),U=Pi(),[z,B]=O.useState(),[G,Y]=O.useState(null),Q=O.useRef(!1),K=f||b,te=kh(),ce=kh(),ie=kh(),re=kh(),[he,fe]=Vo({controlled:k,default:!1,name:"Tooltip",state:"open"});let ne=he;const pe=Cl(S),W=O.useRef(),se=mt(()=>{W.current!==void 0&&(document.body.style.WebkitUserSelect=W.current,W.current=void 0),re.clear()});O.useEffect(()=>se,[se]);const ae=Ot=>{rne.clear(),JR=!0,fe(!0),T&&!ne&&T(Ot)},X=mt(Ot=>{rne.start(800+C,()=>{JR=!1}),fe(!1),E&&ne&&E(Ot),te.start(q.transitions.duration.shortest,()=>{Q.current=!1})}),Z=Ot=>{Q.current&&Ot.type!=="touchstart"||(z&&z.removeAttribute("title"),ce.clear(),ie.clear(),g||JR&&m?ce.start(JR?m:g,()=>{ae(Ot)}):ae(Ot))},oe=Ot=>{ce.clear(),ie.start(C,()=>{X(Ot)})},[,ge]=O.useState(!1),be=Ot=>{ng(Ot.target)||(ge(!1),oe(Ot))},de=Ot=>{z||B(Ot.currentTarget),ng(Ot.target)&&(ge(!0),Z(Ot))},Re=Ot=>{Q.current=!0;const dr=V.props;dr.onTouchStart&&dr.onTouchStart(Ot)},xe=Ot=>{Re(Ot),ie.clear(),te.clear(),se(),W.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",re.start(v,()=>{document.body.style.WebkitUserSelect=W.current,Z(Ot)})},ue=Ot=>{V.props.onTouchEnd&&V.props.onTouchEnd(Ot),se(),ie.start(_,()=>{X(Ot)})};O.useEffect(()=>{if(!ne)return;function Ot(dr){dr.key==="Escape"&&X(dr)}return document.addEventListener("keydown",Ot),()=>{document.removeEventListener("keydown",Ot)}},[X,ne]);const we=Ln(Og(V),B,n);!j&&j!==0&&(ne=!1);const Oe=O.useRef(),ke=Ot=>{const dr=V.props;dr.onMouseMove&&dr.onMouseMove(Ot),vw={x:Ot.clientX,y:Ot.clientY},Oe.current&&Oe.current.update()},Ie={},ve=typeof j=="string";c?(Ie.title=!ne&&ve&&!d?j:null,Ie["aria-describedby"]=ne?pe:null):(Ie["aria-label"]=ve?j:null,Ie["aria-labelledby"]=ne&&!ve?pe:null);const _e={...Ie,...L,...V.props,className:Ne(L.className,V.props.className),onTouchStart:Re,ref:we,...b?{onMouseMove:ke}:{}},$e={};p||(_e.onTouchStart=xe,_e.onTouchEnd=ue),d||(_e.onMouseOver=eT(Z,_e.onMouseOver),_e.onMouseLeave=eT(oe,_e.onMouseLeave),K||($e.onMouseOver=Z,$e.onMouseLeave=oe)),u||(_e.onFocus=eT(de,_e.onFocus),_e.onBlur=eT(be,_e.onBlur),K||($e.onFocus=de,$e.onBlur=be));const De={...r,isRtl:U,arrow:i,disableInteractive:K,placement:A,PopperComponentProp:P,touch:Q.current},ot=typeof F.popper=="function"?F.popper(De):F.popper,Me=O.useMemo(()=>{var dr,xt;let Ot=[{name:"arrow",enabled:!!G,options:{element:G,padding:4}}];return(dr=D.popperOptions)!=null&&dr.modifiers&&(Ot=Ot.concat(D.popperOptions.modifiers)),(xt=ot==null?void 0:ot.popperOptions)!=null&&xt.modifiers&&(Ot=Ot.concat(ot.popperOptions.modifiers)),{...D.popperOptions,...ot==null?void 0:ot.popperOptions,modifiers:Ot}},[G,D.popperOptions,ot==null?void 0:ot.popperOptions]),ze=ZYe(De),Qe=typeof F.transition=="function"?F.transition(De):F.transition,Rt={slots:{popper:a.Popper,transition:a.Transition??M,tooltip:a.Tooltip,arrow:a.Arrow,...I},slotProps:{arrow:F.arrow??l.arrow,popper:{...D,...ot??l.popper},tooltip:F.tooltip??l.tooltip,transition:{...$,...Qe??l.transition}}},[Et,Wt]=Nt("popper",{elementType:JYe,externalForwardedProps:Rt,ownerState:De,className:Ne(ze.popper,D==null?void 0:D.className)}),[vn,It]=Nt("transition",{elementType:P0,externalForwardedProps:Rt,ownerState:De}),[$t,ur]=Nt("tooltip",{elementType:eXe,className:ze.tooltip,externalForwardedProps:Rt,ownerState:De}),[ht,jt]=Nt("arrow",{elementType:tXe,className:ze.arrow,externalForwardedProps:Rt,ownerState:De,ref:Y});return x.jsxs(O.Fragment,{children:[O.cloneElement(V,_e),x.jsx(Et,{as:P??i2,placement:A,anchorEl:b?{getBoundingClientRect:()=>({top:vw.y,left:vw.x,right:vw.x,bottom:vw.y,width:0,height:0})}:z,popperRef:Oe,open:z?ne:!1,id:pe,transition:!0,...$e,...Wt,popperOptions:Me,children:({TransitionProps:Ot})=>x.jsx(vn,{timeout:q.transitions.duration.shorter,...Ot,...It,children:x.jsxs($t,{...ur,children:[j,i?x.jsx(ht,{...jt}):null]})})})]})}),en=Lhe({createStyledComponent:ye("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Ct({props:e,name:"MuiStack"})});function nXe(e){return et("MuiSwitch",e)}const ks=nt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),rXe=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&`edge${Te(n)}`,`size${Te(r)}`],switchBase:["switchBase",`color${Te(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Ke(a,nXe,t);return{...t,...l}},iXe=ye("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Te(n.edge)}`],t[`size${Te(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ks.thumb}`]:{width:16,height:16},[`& .${ks.switchBase}`]:{padding:4,[`&.${ks.checked}`]:{transform:"translateX(16px)"}}}}]}),oXe=ye(L7,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${ks.input}`]:t.input},n.color!=="default"&&t[`color${Te(n.color)}`]]}})(pt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${ks.checked}`]:{transform:"translateX(20px)"},[`&.${ks.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${ks.checked} + .${ks.track}`]:{opacity:.5},[`&.${ks.disabled} + .${ks.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${ks.input}`]:{left:"-100%",width:"300%"}})),pt(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Xn(["light"])).map(([t])=>({props:{color:t},style:{[`&.${ks.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ks.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Ho(e.palette[t].main,.62):fl(e.palette[t].main,.55)}`}},[`&.${ks.checked} + .${ks.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),sXe=ye("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(pt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),aXe=ye("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(pt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),$ge=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l,...c}=r,u={...r,color:o,edge:s,size:a},d=rXe(u),f=x.jsx(aXe,{className:d.thumb,ownerState:u});return x.jsxs(iXe,{className:Ne(d.root,i),sx:l,ownerState:u,children:[x.jsx(oXe,{type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:u,...c,classes:{...d,root:d.switchBase}}),x.jsx(sXe,{className:d.track,ownerState:u})]})});function lXe(e){return et("MuiTab",e)}const $l=nt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),cXe=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=e,c={root:["root",o&&s&&"labelIcon",`textColor${Te(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return Ke(c,lXe,t)},uXe=ye(uc,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Te(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${$l.iconWrapper}`]:t.iconWrapper},{[`& .${$l.icon}`]:t.icon}]}})(pt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${$l.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${$l.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${$l.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${$l.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${$l.selected}`]:{opacity:1},[`&.${$l.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${$l.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${$l.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${$l.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${$l.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),ine=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:p,onFocus:g,selected:m,selectionFollowsFocus:v,textColor:b="inherit",value:S,wrapped:C=!1,..._}=r,E={...r,disabled:o,disableFocusRipple:s,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:b,wrapped:C},T=cXe(E),k=l&&d&&O.isValidElement(l)?O.cloneElement(l,{className:Ne(T.icon,l.props.className)}):l,A=D=>{!m&&f&&f(D,S),p&&p(D)},P=D=>{v&&!m&&f&&f(D,S),g&&g(D)};return x.jsxs(uXe,{focusRipple:!s,className:Ne(T.root,i),ref:n,role:"tab","aria-selected":m,disabled:o,onClick:A,onFocus:P,ownerState:E,tabIndex:m?0:-1,..._,children:[c==="top"||c==="start"?x.jsxs(O.Fragment,{children:[k,d]}):x.jsxs(O.Fragment,{children:[d,k]}),u]})}),Fge=O.createContext();function dXe(e){return et("MuiTable",e)}nt("MuiTable",["root","stickyHeader"]);const fXe=e=>{const{classes:t,stickyHeader:n}=e;return Ke({root:["root",n&&"stickyHeader"]},dXe,t)},pXe=ye("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(pt(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),one="table",hXe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTable"}),{className:i,component:o=one,padding:s="normal",size:a="medium",stickyHeader:l=!1,...c}=r,u={...r,component:o,padding:s,size:a,stickyHeader:l},d=fXe(u),f=O.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return x.jsx(Fge.Provider,{value:f,children:x.jsx(pXe,{as:o,role:o===one?null:"table",ref:n,className:Ne(d.root,i),ownerState:u,...c})})}),s2=O.createContext();function gXe(e){return et("MuiTableBody",e)}nt("MuiTableBody",["root"]);const mXe=e=>{const{classes:t}=e;return Ke({root:["root"]},gXe,t)},yXe=ye("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),vXe={variant:"body"},sne="tbody",zN=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTableBody"}),{className:i,component:o=sne,...s}=r,a={...r,component:o},l=mXe(a);return x.jsx(s2.Provider,{value:vXe,children:x.jsx(yXe,{className:Ne(l.root,i),as:o,ref:n,role:o===sne?null:"rowgroup",ownerState:a,...s})})});function bXe(e){return et("MuiTableCell",e)}const xXe=nt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),SXe=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Te(r)}`,i!=="normal"&&`padding${Te(i)}`,`size${Te(o)}`]};return Ke(a,bXe,t)},wXe=ye("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Te(n.size)}`],n.padding!=="normal"&&t[`padding${Te(n.padding)}`],n.align!=="inherit"&&t[`align${Te(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(pt(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Ho(_t(e.palette.divider,1),.88):fl(_t(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${xXe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),qP=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:d,...f}=r,p=O.useContext(Fge),g=O.useContext(s2),m=g&&g.variant==="head";let v;s?v=s:v=m?"th":"td";let b=l;v==="td"?b=void 0:!b&&m&&(b="col");const S=d||g&&g.variant,C={...r,align:i,component:v,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:S==="head"&&p&&p.stickyHeader,variant:S},_=SXe(C);let E=null;return u&&(E=u==="asc"?"ascending":"descending"),x.jsx(wXe,{as:v,ref:n,className:Ne(_.root,o),"aria-sort":E,scope:b,ownerState:C,...f})});function CXe(e){return et("MuiTableContainer",e)}nt("MuiTableContainer",["root"]);const _Xe=e=>{const{classes:t}=e;return Ke({root:["root"]},CXe,t)},EXe=ye("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),kXe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTableContainer"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=_Xe(a);return x.jsx(EXe,{ref:n,as:o,className:Ne(l.root,i),ownerState:a,...s})});function RXe(e){return et("MuiTableFooter",e)}nt("MuiTableFooter",["root"]);const TXe=e=>{const{classes:t}=e;return Ke({root:["root"]},RXe,t)},MXe=ye("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-footer-group"}),AXe={variant:"footer"},ane="tfoot",OXe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTableFooter"}),{className:i,component:o=ane,...s}=r,a={...r,component:o},l=TXe(a);return x.jsx(s2.Provider,{value:AXe,children:x.jsx(MXe,{as:o,className:Ne(l.root,i),ref:n,role:o===ane?null:"rowgroup",ownerState:a,...s})})});function DXe(e){return et("MuiTableHead",e)}nt("MuiTableHead",["root"]);const PXe=e=>{const{classes:t}=e;return Ke({root:["root"]},DXe,t)},IXe=ye("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),$Xe={variant:"head"},lne="thead",FXe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTableHead"}),{className:i,component:o=lne,...s}=r,a={...r,component:o},l=PXe(a);return x.jsx(s2.Provider,{value:$Xe,children:x.jsx(IXe,{as:o,className:Ne(l.root,i),ref:n,role:o===lne?null:"rowgroup",ownerState:a,...s})})});function NXe(e){return et("MuiToolbar",e)}nt("MuiToolbar",["root","gutters","regular","dense"]);const LXe=e=>{const{classes:t,disableGutters:n,variant:r}=e;return Ke({root:["root",!n&&"gutters",r]},NXe,t)},jXe=ye("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(pt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),zXe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular",...l}=r,c={...r,component:o,disableGutters:s,variant:a},u=LXe(c);return x.jsx(jXe,{as:o,className:Ne(u.root,i),ref:n,ownerState:c,...l})}),BXe=st(x.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),UXe=st(x.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function HXe(e){return et("MuiTableRow",e)}const cne=nt("MuiTableRow",["root","selected","hover","head","footer"]),VXe=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return Ke({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},HXe,t)},WXe=ye("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(pt(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${cne.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${cne.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_t(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_t(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),une="tr",GP=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTableRow"}),{className:i,component:o=une,hover:s=!1,selected:a=!1,...l}=r,c=O.useContext(s2),u={...r,component:o,hover:s,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},d=VXe(u);return x.jsx(WXe,{as:o,ref:n,className:Ne(d.root,i),role:o===une?null:"row",ownerState:u,...l})}),qXe=st(x.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function GXe(e){return et("MuiTableSortLabel",e)}const BN=nt("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),YXe=e=>{const{classes:t,direction:n,active:r}=e,i={root:["root",r&&"active",`direction${Te(n)}`],icon:["icon",`iconDirection${Te(n)}`]};return Ke(i,GXe,t)},XXe=ye(uc,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.active&&t.active]}})(pt(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${BN.icon}`]:{opacity:.5}},[`&.${BN.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${BN.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),KXe=ye("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,t[`iconDirection${Te(n.direction)}`]]}})(pt(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),QXe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTableSortLabel"}),{active:i=!1,children:o,className:s,direction:a="asc",hideSortIcon:l=!1,IconComponent:c=qXe,slots:u={},slotProps:d={},...f}=r,p={...r,active:i,direction:a,hideSortIcon:l,IconComponent:c},g=YXe(p),m={slots:u,slotProps:d},[v,b]=Nt("root",{elementType:XXe,externalForwardedProps:m,ownerState:p,className:Ne(g.root,s),ref:n}),[S,C]=Nt("icon",{elementType:KXe,externalForwardedProps:m,ownerState:p,className:g.icon});return x.jsxs(v,{disableRipple:!0,component:"span",...b,...f,children:[o,l&&!i?null:x.jsx(S,{as:c,...C})]})});function ZXe(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function JXe(e,t,n,r={},i=()=>{}){const{ease:o=ZXe,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const p=Math.min(1,(f-a)/s);if(t[e]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const eKe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function tKe(e){const{onChange:t,...n}=e,r=O.useRef(),i=O.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return li(()=>{const s=my(()=>{const l=r.current;o(),l!==r.current&&t(r.current)}),a=pl(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),O.useEffect(()=>{o(),t(r.current)},[t]),x.jsx("div",{style:eKe,...n,ref:i})}function nKe(e){return et("MuiTabScrollButton",e)}const rKe=nt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),iKe=e=>{const{classes:t,orientation:n,disabled:r}=e;return Ke({root:["root",n,r&&"disabled"]},nKe,t)},oKe=ye(uc,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${rKe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),sKe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:c,...u}=r,d=Pi(),f={isRtl:d,...r},p=iKe(f),g=o.StartScrollButtonIcon??BXe,m=o.EndScrollButtonIcon??UXe,v=pn({elementType:g,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),b=pn({elementType:m,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return x.jsx(oKe,{component:"div",className:Ne(p.root,i),ref:n,role:null,ownerState:f,tabIndex:null,...u,style:{...u.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${d?-90:90}deg)`}},children:a==="left"?x.jsx(g,{...v}):x.jsx(m,{...b})})});function aKe(e){return et("MuiTabs",e)}const IM=nt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),dne=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,fne=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,tT=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(e,i);else{i.focus();return}}},lKe=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=e;return Ke({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},aKe,l)},cKe=ye("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${IM.scrollButtons}`]:t.scrollButtons},{[`& .${IM.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(pt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${IM.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),uKe=ye("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),dKe=ye("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),fKe=ye("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(pt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),pKe=ye(tKe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),pne={},hKe=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTabs"}),i=lr(),o=Pi(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:m,orientation:v="horizontal",ScrollButtonComponent:b,scrollButtons:S="auto",selectionFollowsFocus:C,slots:_={},slotProps:E={},TabIndicatorProps:T={},TabScrollButtonProps:k={},textColor:A="primary",value:P,variant:D="standard",visibleScrollbar:F=!1,...I}=r,j=D==="scrollable",M=v==="vertical",$=M?"scrollTop":"scrollLeft",L=M?"top":"left",V=M?"bottom":"right",q=M?"clientHeight":"clientWidth",U=M?"height":"width",z={...r,component:f,allowScrollButtonsMobile:p,indicatorColor:g,orientation:v,vertical:M,scrollButtons:S,textColor:A,variant:D,visibleScrollbar:F,fixed:!j,hideScrollbar:j&&!F,scrollableX:j&&!M,scrollableY:j&&M,centered:c&&!j,scrollButtonsHideMobile:!p},B=lKe(z),G=pn({elementType:_.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:z}),Y=pn({elementType:_.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:z}),[Q,K]=O.useState(!1),[te,ce]=O.useState(pne),[ie,re]=O.useState(!1),[he,fe]=O.useState(!1),[ne,pe]=O.useState(!1),[W,se]=O.useState({overflow:"hidden",scrollbarWidth:0}),ae=new Map,X=O.useRef(null),Z=O.useRef(null),oe={slots:_,slotProps:{indicator:T,scrollButton:k,...E}},ge=()=>{const xt=X.current;let wt;if(xt){const Kt=xt.getBoundingClientRect();wt={clientWidth:xt.clientWidth,scrollLeft:xt.scrollLeft,scrollTop:xt.scrollTop,scrollWidth:xt.scrollWidth,top:Kt.top,bottom:Kt.bottom,left:Kt.left,right:Kt.right}}let Bt;if(xt&&P!==!1){const Kt=Z.current.children;if(Kt.length>0){const gt=Kt[ae.get(P)];Bt=gt?gt.getBoundingClientRect():null}}return{tabsMeta:wt,tabMeta:Bt}},be=mt(()=>{const{tabsMeta:xt,tabMeta:wt}=ge();let Bt=0,Kt;M?(Kt="top",wt&&xt&&(Bt=wt.top-xt.top+xt.scrollTop)):(Kt=o?"right":"left",wt&&xt&&(Bt=(o?-1:1)*(wt[Kt]-xt[Kt]+xt.scrollLeft)));const gt={[Kt]:Bt,[U]:wt?wt[U]:0};if(typeof te[Kt]!="number"||typeof te[U]!="number")ce(gt);else{const di=Math.abs(te[Kt]-gt[Kt]),Yn=Math.abs(te[U]-gt[U]);(di>=1||Yn>=1)&&ce(gt)}}),de=(xt,{animation:wt=!0}={})=>{wt?JXe($,X.current,xt,{duration:i.transitions.duration.standard}):X.current[$]=xt},Re=xt=>{let wt=X.current[$];M?wt+=xt:wt+=xt*(o?-1:1),de(wt)},xe=()=>{const xt=X.current[q];let wt=0;const Bt=Array.from(Z.current.children);for(let Kt=0;Kt<Bt.length;Kt+=1){const gt=Bt[Kt];if(wt+gt[q]>xt){Kt===0&&(wt=xt);break}wt+=gt[q]}return wt},ue=()=>{Re(-1*xe())},we=()=>{Re(xe())},[Oe,{onChange:ke,...Ie}]=Nt("scrollbar",{className:Ne(B.scrollableX,B.hideScrollbar),elementType:pKe,shouldForwardComponentProp:!0,externalForwardedProps:oe,ownerState:z}),ve=O.useCallback(xt=>{ke==null||ke(xt),se({overflow:null,scrollbarWidth:xt})},[ke]),[_e,$e]=Nt("scrollButtons",{className:Ne(B.scrollButtons,k.className),elementType:sKe,externalForwardedProps:oe,ownerState:z,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:_.startScrollButtonIcon||_.StartScrollButtonIcon,EndScrollButtonIcon:_.endScrollButtonIcon||_.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:G,endScrollButtonIcon:Y}}}),De=()=>{const xt={};xt.scrollbarSizeListener=j?x.jsx(Oe,{...Ie,onChange:ve}):null;const Bt=j&&(S==="auto"&&(ie||he)||S===!0);return xt.scrollButtonStart=Bt?x.jsx(_e,{direction:o?"right":"left",onClick:ue,disabled:!ie,...$e}):null,xt.scrollButtonEnd=Bt?x.jsx(_e,{direction:o?"left":"right",onClick:we,disabled:!he,...$e}):null,xt},ot=mt(xt=>{const{tabsMeta:wt,tabMeta:Bt}=ge();if(!(!Bt||!wt)){if(Bt[L]<wt[L]){const Kt=wt[$]+(Bt[L]-wt[L]);de(Kt,{animation:xt})}else if(Bt[V]>wt[V]){const Kt=wt[$]+(Bt[V]-wt[V]);de(Kt,{animation:xt})}}}),Me=mt(()=>{j&&S!==!1&&pe(!ne)});O.useEffect(()=>{const xt=my(()=>{X.current&&be()});let wt;const Bt=di=>{di.forEach(Yn=>{Yn.removedNodes.forEach(Tr=>{wt==null||wt.unobserve(Tr)}),Yn.addedNodes.forEach(Tr=>{wt==null||wt.observe(Tr)})}),xt(),Me()},Kt=pl(X.current);Kt.addEventListener("resize",xt);let gt;return typeof ResizeObserver<"u"&&(wt=new ResizeObserver(xt),Array.from(Z.current.children).forEach(di=>{wt.observe(di)})),typeof MutationObserver<"u"&&(gt=new MutationObserver(Bt),gt.observe(Z.current,{childList:!0})),()=>{xt.clear(),Kt.removeEventListener("resize",xt),gt==null||gt.disconnect(),wt==null||wt.disconnect()}},[be,Me]),O.useEffect(()=>{const xt=Array.from(Z.current.children),wt=xt.length;if(typeof IntersectionObserver<"u"&&wt>0&&j&&S!==!1){const Bt=xt[0],Kt=xt[wt-1],gt={root:X.current,threshold:.99},di=On=>{re(!On[0].isIntersecting)},Yn=new IntersectionObserver(di,gt);Yn.observe(Bt);const Tr=On=>{fe(!On[0].isIntersecting)},Zr=new IntersectionObserver(Tr,gt);return Zr.observe(Kt),()=>{Yn.disconnect(),Zr.disconnect()}}},[j,S,ne,u==null?void 0:u.length]),O.useEffect(()=>{K(!0)},[]),O.useEffect(()=>{be()}),O.useEffect(()=>{ot(pne!==te)},[ot,te]),O.useImperativeHandle(l,()=>({updateIndicator:be,updateScrollButtons:Me}),[be,Me]);const[ze,Qe]=Nt("indicator",{className:Ne(B.indicator,T.className),elementType:fKe,externalForwardedProps:oe,ownerState:z,additionalProps:{style:te}}),Rt=x.jsx(ze,{...Qe});let Et=0;const Wt=O.Children.map(u,xt=>{if(!O.isValidElement(xt))return null;const wt=xt.props.value===void 0?Et:xt.props.value;ae.set(wt,Et);const Bt=wt===P;return Et+=1,O.cloneElement(xt,{fullWidth:D==="fullWidth",indicator:Bt&&!Q&&Rt,selected:Bt,selectionFollowsFocus:C,onChange:m,textColor:A,value:wt,...Et===1&&P===!1&&!xt.props.tabIndex?{tabIndex:0}:{}})}),vn=xt=>{const wt=Z.current,Bt=ai(wt).activeElement;if(Bt.getAttribute("role")!=="tab")return;let gt=v==="horizontal"?"ArrowLeft":"ArrowUp",di=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&o&&(gt="ArrowRight",di="ArrowLeft"),xt.key){case gt:xt.preventDefault(),tT(wt,Bt,fne);break;case di:xt.preventDefault(),tT(wt,Bt,dne);break;case"Home":xt.preventDefault(),tT(wt,null,dne);break;case"End":xt.preventDefault(),tT(wt,null,fne);break}},It=De(),[$t,ur]=Nt("root",{ref:n,className:Ne(B.root,d),elementType:cKe,externalForwardedProps:{...oe,...I,component:f},ownerState:z}),[ht,jt]=Nt("scroller",{ref:X,className:B.scroller,elementType:uKe,externalForwardedProps:oe,ownerState:z,additionalProps:{style:{overflow:W.overflow,[M?`margin${o?"Left":"Right"}`:"marginBottom"]:F?void 0:-W.scrollbarWidth}}}),[Ot,dr]=Nt("list",{ref:Z,className:Ne(B.list,B.flexContainer),elementType:dKe,externalForwardedProps:oe,ownerState:z,getSlotProps:xt=>({...xt,onKeyDown:wt=>{var Bt;vn(wt),(Bt=xt.onKeyDown)==null||Bt.call(xt,wt)}})});return x.jsxs($t,{...ur,children:[It.scrollButtonStart,It.scrollbarSizeListener,x.jsxs(ht,{...jt,children:[x.jsx(Ot,{"aria-label":s,"aria-labelledby":a,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...dr,children:Wt}),Q&&Rt]}),It.scrollButtonEnd]})});function gKe(e){return et("MuiTextField",e)}nt("MuiTextField",["root"]);const mKe={standard:H7,filled:B7,outlined:G7},yKe=e=>{const{classes:t}=e;return Ke({root:["root"]},gKe,t)},vKe=ye(xge,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ir=O.forwardRef(function(t,n){const r=Ct({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:g,id:m,InputLabelProps:v,inputProps:b,InputProps:S,inputRef:C,label:_,maxRows:E,minRows:T,multiline:k=!1,name:A,onBlur:P,onChange:D,onFocus:F,placeholder:I,required:j=!1,rows:M,select:$=!1,SelectProps:L,slots:V={},slotProps:q={},type:U,value:z,variant:B="outlined",...G}=r,Y={...r,autoFocus:o,color:l,disabled:u,error:d,fullWidth:p,multiline:k,required:j,select:$,variant:B},Q=yKe(Y),K=Cl(m),te=g&&K?`${K}-helper-text`:void 0,ce=_&&K?`${K}-label`:void 0,ie=mKe[B],re={slots:V,slotProps:{input:S,inputLabel:v,htmlInput:b,formHelperText:f,select:L,...q}},he={},fe=re.slotProps.inputLabel;B==="outlined"&&(fe&&typeof fe.shrink<"u"&&(he.notched=fe.shrink),he.label=_),$&&((!L||!L.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[ne,pe]=Nt("input",{elementType:ie,externalForwardedProps:re,additionalProps:he,ownerState:Y}),[W,se]=Nt("inputLabel",{elementType:V7,externalForwardedProps:re,ownerState:Y}),[ae,X]=Nt("htmlInput",{elementType:"input",externalForwardedProps:re,ownerState:Y}),[Z,oe]=Nt("formHelperText",{elementType:U7,externalForwardedProps:re,ownerState:Y}),[ge,be]=Nt("select",{elementType:X7,externalForwardedProps:re,ownerState:Y}),de=x.jsx(ne,{"aria-describedby":te,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:k,name:A,rows:M,maxRows:E,minRows:T,type:U,value:z,id:K,inputRef:C,onBlur:P,onChange:D,onFocus:F,placeholder:I,inputProps:X,slots:{input:V.htmlInput?ae:void 0},...pe});return x.jsxs(vKe,{className:Ne(Q.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:j,color:l,variant:B,ownerState:Y,...G,children:[_!=null&&_!==""&&x.jsx(W,{htmlFor:K,id:ce,...se,children:_}),$?x.jsx(ge,{"aria-describedby":te,id:K,labelId:ce,value:z,input:de,...be,children:s}):de,g&&x.jsx(Z,{id:te,...oe,children:g})]})});var Mx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},F0=typeof window>"u"||"Deno"in globalThis;function Hl(){}function bKe(e,t){return typeof e=="function"?e(t):e}function n6(e){return typeof e=="number"&&e>=0&&e!==1/0}function Nge(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rb(e,t){return typeof e=="function"?e(t):e}function qc(e,t){return typeof e=="function"?e(t):e}function hne(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==Q7(s,t.options))return!1}else if(!P_(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function gne(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(N0(t.options.mutationKey)!==N0(o))return!1}else if(!P_(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Q7(e,t){return((t==null?void 0:t.queryKeyHashFn)||N0)(e)}function N0(e){return JSON.stringify(e,(t,n)=>r6(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function P_(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>P_(e[n],t[n])):!1}function Lge(e,t){if(e===t)return e;const n=mne(e)&&mne(t);if(n||r6(e)&&r6(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(a[u]=void 0,l++):(a[u]=Lge(e[u],t[u]),a[u]===e[u]&&e[u]!==void 0&&l++)}return i===s&&l===i?e:a}return t}function XA(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function mne(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r6(e){if(!yne(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!yne(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yne(e){return Object.prototype.toString.call(e)==="[object Object]"}function xKe(e){return new Promise(t=>{setTimeout(t,e)})}function i6(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Lge(e,t):t}function SKe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wKe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Z7=Symbol();function jge(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Z7?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var e0,mh,qb,bde,CKe=(bde=class extends Mx{constructor(){super();rn(this,e0);rn(this,mh);rn(this,qb);Dt(this,qb,t=>{if(!F0&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ce(this,mh)||this.setEventListener(Ce(this,qb))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,mh))==null||t.call(this),Dt(this,mh,void 0))}setEventListener(t){var n;Dt(this,qb,t),(n=Ce(this,mh))==null||n.call(this),Dt(this,mh,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Ce(this,e0)!==t&&(Dt(this,e0,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ce(this,e0)=="boolean"?Ce(this,e0):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},e0=new WeakMap,mh=new WeakMap,qb=new WeakMap,bde),J7=new CKe,Gb,yh,Yb,xde,_Ke=(xde=class extends Mx{constructor(){super();rn(this,Gb,!0);rn(this,yh);rn(this,Yb);Dt(this,Yb,t=>{if(!F0&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ce(this,yh)||this.setEventListener(Ce(this,Yb))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,yh))==null||t.call(this),Dt(this,yh,void 0))}setEventListener(t){var n;Dt(this,Yb,t),(n=Ce(this,yh))==null||n.call(this),Dt(this,yh,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,Gb)!==t&&(Dt(this,Gb,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Ce(this,Gb)}},Gb=new WeakMap,yh=new WeakMap,Yb=new WeakMap,xde),KA=new _Ke;function o6(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function EKe(e){return Math.min(1e3*2**e,3e4)}function zge(e){return(e??"online")==="online"?KA.isOnline():!0}var Bge=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function UN(e){return e instanceof Bge}function Uge(e){let t=!1,n=0,r=!1,i;const o=o6(),s=m=>{var v;r||(f(new Bge(m)),(v=e.abort)==null||v.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>J7.isFocused()&&(e.networkMode==="always"||KA.isOnline())&&e.canRun(),u=()=>zge(e.networkMode)&&e.canRun(),d=m=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,m),i==null||i(),o.resolve(m))},f=m=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,m),i==null||i(),o.reject(m))},p=()=>new Promise(m=>{var v;i=b=>{(r||c())&&m(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;i=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const v=n===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(d).catch(b=>{var T;if(r)return;const S=e.retry??(F0?0:3),C=e.retryDelay??EKe,_=typeof C=="function"?C(n,b):C,E=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,b);if(t||!E){f(b);return}n++,(T=e.onFail)==null||T.call(e,n,b),xKe(_).then(()=>c()?void 0:p()).then(()=>{t?f(b):g()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():p().then(g),o)}}var kKe=e=>setTimeout(e,0);function RKe(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=kKe;const o=a=>{t?e.push(a):i(()=>{n(a)})},s=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var eo=RKe(),t0,Sde,Hge=(Sde=class{constructor(){rn(this,t0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n6(this.gcTime)&&Dt(this,t0,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(F0?1/0:5*60*1e3))}clearGcTimeout(){Ce(this,t0)&&(clearTimeout(Ce(this,t0)),Dt(this,t0,void 0))}},t0=new WeakMap,Sde),Xb,Kb,Ul,n0,rs,OE,r0,Nc,vf,wde,TKe=(wde=class extends Hge{constructor(t){super();rn(this,Nc);rn(this,Xb);rn(this,Kb);rn(this,Ul);rn(this,n0);rn(this,rs);rn(this,OE);rn(this,r0);Dt(this,r0,!1),Dt(this,OE,t.defaultOptions),this.setOptions(t.options),this.observers=[],Dt(this,n0,t.client),Dt(this,Ul,Ce(this,n0).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Dt(this,Xb,MKe(this.options)),this.state=t.state??Ce(this,Xb),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ce(this,rs))==null?void 0:t.promise}setOptions(t){this.options={...Ce(this,OE),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,Ul).remove(this)}setData(t,n){const r=i6(this.state.data,t,this.options);return Dn(this,Nc,vf).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Dn(this,Nc,vf).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Ce(this,rs))==null?void 0:r.promise;return(i=Ce(this,rs))==null||i.cancel(t),n?n.then(Hl).catch(Hl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,Xb))}isActive(){return this.observers.some(t=>qc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Z7||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Nge(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Ce(this,rs))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Ce(this,rs))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ce(this,Ul).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Ce(this,rs)&&(Ce(this,r0)?Ce(this,rs).cancel({revert:!0}):Ce(this,rs).cancelRetry()),this.scheduleGc()),Ce(this,Ul).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dn(this,Nc,vf).call(this,{type:"invalidate"})}fetch(t,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,rs))return Ce(this,rs).continueRetry(),Ce(this,rs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Dt(this,r0,!0),r.signal)})},o=()=>{const d=jge(this.options,n),f={client:Ce(this,n0),queryKey:this.queryKey,meta:this.meta};return i(f),Dt(this,r0,!1),this.options.persister?this.options.persister(d,f,this):d(f)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ce(this,n0),state:this.state,fetchFn:o};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),Dt(this,Kb,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Dn(this,Nc,vf).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,p,g,m;UN(d)&&d.silent||Dn(this,Nc,vf).call(this,{type:"error",error:d}),UN(d)||((p=(f=Ce(this,Ul).config).onError)==null||p.call(f,d,this),(m=(g=Ce(this,Ul).config).onSettled)==null||m.call(g,this.state.data,d,this)),this.scheduleGc()};return Dt(this,rs,Uge({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,p,g,m;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){a(v);return}(p=(f=Ce(this,Ul).config).onSuccess)==null||p.call(f,d,this),(m=(g=Ce(this,Ul).config).onSettled)==null||m.call(g,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{Dn(this,Nc,vf).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Dn(this,Nc,vf).call(this,{type:"pause"})},onContinue:()=>{Dn(this,Nc,vf).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Ce(this,rs).start()}},Xb=new WeakMap,Kb=new WeakMap,Ul=new WeakMap,n0=new WeakMap,rs=new WeakMap,OE=new WeakMap,r0=new WeakMap,Nc=new WeakSet,vf=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Vge(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return UN(i)&&i.revert&&Ce(this,Kb)?{...Ce(this,Kb),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),eo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ce(this,Ul).notify({query:this,type:"updated",action:t})})},wde);function Vge(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zge(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MKe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qu,Cde,AKe=(Cde=class extends Mx{constructor(t={}){super();rn(this,qu);this.config=t,Dt(this,qu,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??Q7(i,n);let s=this.get(o);return s||(s=new TKe({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){Ce(this,qu).has(t.queryHash)||(Ce(this,qu).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ce(this,qu).get(t.queryHash);n&&(t.destroy(),n===t&&Ce(this,qu).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){eo.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,qu).get(t)}getAll(){return[...Ce(this,qu).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hne(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>hne(t,r)):n}notify(t){eo.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){eo.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){eo.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qu=new WeakMap,Cde),Gu,Rs,i0,Yu,th,_de,OKe=(_de=class extends Hge{constructor(t){super();rn(this,Yu);rn(this,Gu);rn(this,Rs);rn(this,i0);this.mutationId=t.mutationId,Dt(this,Rs,t.mutationCache),Dt(this,Gu,[]),this.state=t.state||Wge(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ce(this,Gu).includes(t)||(Ce(this,Gu).push(t),this.clearGcTimeout(),Ce(this,Rs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Dt(this,Gu,Ce(this,Gu).filter(n=>n!==t)),this.scheduleGc(),Ce(this,Rs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ce(this,Gu).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,Rs).remove(this))}continue(){var t;return((t=Ce(this,i0))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,l,c,u,d,f,p,g,m,v,b,S,C,_,E,T,k;Dt(this,i0,Uge({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{Dn(this,Yu,th).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{Dn(this,Yu,th).call(this,{type:"pause"})},onContinue:()=>{Dn(this,Yu,th).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,Rs).canRun(this)}));const n=this.state.status==="pending",r=!Ce(this,i0).canStart();try{if(!n){Dn(this,Yu,th).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=Ce(this,Rs).config).onMutate)==null?void 0:o.call(i,t,this));const P=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));P!==this.state.context&&Dn(this,Yu,th).call(this,{type:"pending",context:P,variables:t,isPaused:r})}const A=await Ce(this,i0).start();return await((c=(l=Ce(this,Rs).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,A,t,this.state.context)),await((p=(f=Ce(this,Rs).config).onSettled)==null?void 0:p.call(f,A,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,A,null,t,this.state.context)),Dn(this,Yu,th).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(v=Ce(this,Rs).config).onError)==null?void 0:b.call(v,A,t,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,A,t,this.state.context)),await((E=(_=Ce(this,Rs).config).onSettled)==null?void 0:E.call(_,void 0,A,this.state.variables,this.state.context,this)),await((k=(T=this.options).onSettled)==null?void 0:k.call(T,void 0,A,t,this.state.context)),A}finally{Dn(this,Yu,th).call(this,{type:"error",error:A})}}finally{Ce(this,Rs).runNext(this)}}},Gu=new WeakMap,Rs=new WeakMap,i0=new WeakMap,Yu=new WeakSet,th=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),eo.batch(()=>{Ce(this,Gu).forEach(r=>{r.onMutationUpdate(t)}),Ce(this,Rs).notify({mutation:this,type:"updated",action:t})})},_de);function Wge(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ef,Lc,DE,Ede,DKe=(Ede=class extends Mx{constructor(t={}){super();rn(this,Ef);rn(this,Lc);rn(this,DE);this.config=t,Dt(this,Ef,new Set),Dt(this,Lc,new Map),Dt(this,DE,0)}build(t,n,r){const i=new OKe({mutationCache:this,mutationId:++ER(this,DE)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){Ce(this,Ef).add(t);const n=nT(t);if(typeof n=="string"){const r=Ce(this,Lc).get(n);r?r.push(t):Ce(this,Lc).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ce(this,Ef).delete(t)){const n=nT(t);if(typeof n=="string"){const r=Ce(this,Lc).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&Ce(this,Lc).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=nT(t);if(typeof n=="string"){const r=Ce(this,Lc).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=nT(t);if(typeof n=="string"){const i=(r=Ce(this,Lc).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){eo.batch(()=>{Ce(this,Ef).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ce(this,Ef).clear(),Ce(this,Lc).clear()})}getAll(){return Array.from(Ce(this,Ef))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>gne(n,r))}findAll(t={}){return this.getAll().filter(n=>gne(t,n))}notify(t){eo.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return eo.batch(()=>Promise.all(t.map(n=>n.continue().catch(Hl))))}},Ef=new WeakMap,Lc=new WeakMap,DE=new WeakMap,Ede);function nT(e){var t;return(t=e.options.scope)==null?void 0:t.id}function vne(e){return{onFetch:(t,n)=>{var u,d,f,p,g;const r=t.options,i=(f=(d=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=jge(t.options,t.fetchOptions),S=async(C,_,E)=>{if(m)return Promise.reject();if(_==null&&C.pages.length)return Promise.resolve(C);const T={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};v(T);const k=await b(T),{maxPages:A}=t.options,P=E?wKe:SKe;return{pages:P(C.pages,k,A),pageParams:P(C.pageParams,_,A)}};if(i&&o.length){const C=i==="backward",_=C?PKe:bne,E={pages:o,pageParams:s},T=_(r,E);a=await S(E,T,C)}else{const C=e??o.length;do{const _=l===0?s[0]??r.initialPageParam:bne(r,a);if(l>0&&_==null)break;a=await S(a,_),l++}while(l<C)}return a};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function bne(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function PKe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ci,vh,bh,Qb,Zb,xh,Jb,e1,kde,IKe=(kde=class{constructor(e={}){rn(this,Ci);rn(this,vh);rn(this,bh);rn(this,Qb);rn(this,Zb);rn(this,xh);rn(this,Jb);rn(this,e1);Dt(this,Ci,e.queryCache||new AKe),Dt(this,vh,e.mutationCache||new DKe),Dt(this,bh,e.defaultOptions||{}),Dt(this,Qb,new Map),Dt(this,Zb,new Map),Dt(this,xh,0)}mount(){ER(this,xh)._++,Ce(this,xh)===1&&(Dt(this,Jb,J7.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,Ci).onFocus())})),Dt(this,e1,KA.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,Ci).onOnline())})))}unmount(){var e,t;ER(this,xh)._--,Ce(this,xh)===0&&((e=Ce(this,Jb))==null||e.call(this),Dt(this,Jb,void 0),(t=Ce(this,e1))==null||t.call(this),Dt(this,e1,void 0))}isFetching(e){return Ce(this,Ci).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ce(this,vh).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ce(this,Ci).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ce(this,Ci).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Rb(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Ce(this,Ci).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Ce(this,Ci).get(r.queryHash),o=i==null?void 0:i.state.data,s=bKe(t,o);if(s!==void 0)return Ce(this,Ci).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return eo.batch(()=>Ce(this,Ci).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ce(this,Ci).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Ce(this,Ci);eo.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ce(this,Ci);return eo.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=eo.batch(()=>Ce(this,Ci).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Hl).catch(Hl)}invalidateQueries(e,t={}){return eo.batch(()=>(Ce(this,Ci).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=eo.batch(()=>Ce(this,Ci).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Hl)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Hl)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ce(this,Ci).build(this,t);return n.isStaleByTime(Rb(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hl).catch(Hl)}fetchInfiniteQuery(e){return e.behavior=vne(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hl).catch(Hl)}ensureInfiniteQueryData(e){return e.behavior=vne(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return KA.isOnline()?Ce(this,vh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,Ci)}getMutationCache(){return Ce(this,vh)}getDefaultOptions(){return Ce(this,bh)}setDefaultOptions(e){Dt(this,bh,e)}setQueryDefaults(e,t){Ce(this,Qb).set(N0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,Qb).values()],n={};return t.forEach(r=>{P_(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Ce(this,Zb).set(N0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,Zb).values()],n={};return t.forEach(r=>{P_(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ce(this,bh).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Q7(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Z7&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ce(this,bh).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ce(this,Ci).clear(),Ce(this,vh).clear()}},Ci=new WeakMap,vh=new WeakMap,bh=new WeakMap,Qb=new WeakMap,Zb=new WeakMap,xh=new WeakMap,Jb=new WeakMap,e1=new WeakMap,kde),la,Zn,PE,Ts,o0,t1,Sh,Xu,IE,n1,r1,s0,a0,wh,i1,kr,iC,s6,a6,l6,c6,u6,d6,f6,qge,Rde,$Ke=(Rde=class extends Mx{constructor(t,n){super();rn(this,kr);rn(this,la);rn(this,Zn);rn(this,PE);rn(this,Ts);rn(this,o0);rn(this,t1);rn(this,Sh);rn(this,Xu);rn(this,IE);rn(this,n1);rn(this,r1);rn(this,s0);rn(this,a0);rn(this,wh);rn(this,i1,new Set);this.options=n,Dt(this,la,t),Dt(this,Xu,null),Dt(this,Sh,o6()),this.options.experimental_prefetchInRender||Ce(this,Sh).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ce(this,Zn).addObserver(this),xne(Ce(this,Zn),this.options)?Dn(this,kr,iC).call(this):this.updateResult(),Dn(this,kr,c6).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p6(Ce(this,Zn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p6(Ce(this,Zn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Dn(this,kr,u6).call(this),Dn(this,kr,d6).call(this),Ce(this,Zn).removeObserver(this)}setOptions(t){const n=this.options,r=Ce(this,Zn);if(this.options=Ce(this,la).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qc(this.options.enabled,Ce(this,Zn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Dn(this,kr,f6).call(this),Ce(this,Zn).setOptions(this.options),n._defaulted&&!XA(this.options,n)&&Ce(this,la).getQueryCache().notify({type:"observerOptionsUpdated",query:Ce(this,Zn),observer:this});const i=this.hasListeners();i&&Sne(Ce(this,Zn),r,this.options,n)&&Dn(this,kr,iC).call(this),this.updateResult(),i&&(Ce(this,Zn)!==r||qc(this.options.enabled,Ce(this,Zn))!==qc(n.enabled,Ce(this,Zn))||Rb(this.options.staleTime,Ce(this,Zn))!==Rb(n.staleTime,Ce(this,Zn)))&&Dn(this,kr,s6).call(this);const o=Dn(this,kr,a6).call(this);i&&(Ce(this,Zn)!==r||qc(this.options.enabled,Ce(this,Zn))!==qc(n.enabled,Ce(this,Zn))||o!==Ce(this,wh))&&Dn(this,kr,l6).call(this,o)}getOptimisticResult(t){const n=Ce(this,la).getQueryCache().build(Ce(this,la),t),r=this.createResult(n,t);return NKe(this,r)&&(Dt(this,Ts,r),Dt(this,t1,this.options),Dt(this,o0,Ce(this,Zn).state)),r}getCurrentResult(){return Ce(this,Ts)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){Ce(this,i1).add(t)}getCurrentQuery(){return Ce(this,Zn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Ce(this,la).defaultQueryOptions(t),r=Ce(this,la).getQueryCache().build(Ce(this,la),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Dn(this,kr,iC).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ce(this,Ts)))}createResult(t,n){var A;const r=Ce(this,Zn),i=this.options,o=Ce(this,Ts),s=Ce(this,o0),a=Ce(this,t1),c=t!==r?t.state:Ce(this,PE),{state:u}=t;let d={...u},f=!1,p;if(n._optimisticResults){const P=this.hasListeners(),D=!P&&xne(t,n),F=P&&Sne(t,r,n,i);(D||F)&&(d={...d,...Vge(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=d;if(n.select&&d.data!==void 0)if(o&&d.data===(s==null?void 0:s.data)&&n.select===Ce(this,IE))p=Ce(this,n1);else try{Dt(this,IE,n.select),p=n.select(d.data),p=i6(o==null?void 0:o.data,p,n),Dt(this,n1,p),Dt(this,Xu,null)}catch(P){Dt(this,Xu,P)}else p=d.data;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let P;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=o.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((A=Ce(this,r1))==null?void 0:A.state.data,Ce(this,r1)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),Dt(this,Xu,null)}catch(D){Dt(this,Xu,D)}P!==void 0&&(v="success",p=i6(o==null?void 0:o.data,P,n),f=!0)}Ce(this,Xu)&&(g=Ce(this,Xu),p=Ce(this,n1),m=Date.now(),v="error");const b=d.fetchStatus==="fetching",S=v==="pending",C=v==="error",_=S&&b,E=p!==void 0,k={status:v,fetchStatus:d.fetchStatus,isPending:S,isSuccess:v==="success",isError:C,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:C&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&E,isStale:eU(t,n),refetch:this.refetch,promise:Ce(this,Sh)};if(this.options.experimental_prefetchInRender){const P=I=>{k.status==="error"?I.reject(k.error):k.data!==void 0&&I.resolve(k.data)},D=()=>{const I=Dt(this,Sh,k.promise=o6());P(I)},F=Ce(this,Sh);switch(F.status){case"pending":t.queryHash===r.queryHash&&P(F);break;case"fulfilled":(k.status==="error"||k.data!==F.value)&&D();break;case"rejected":(k.status!=="error"||k.error!==F.reason)&&D();break}}return k}updateResult(){const t=Ce(this,Ts),n=this.createResult(Ce(this,Zn),this.options);if(Dt(this,o0,Ce(this,Zn).state),Dt(this,t1,this.options),Ce(this,o0).data!==void 0&&Dt(this,r1,Ce(this,Zn)),XA(n,t))return;Dt(this,Ts,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!Ce(this,i1).size)return!0;const s=new Set(o??Ce(this,i1));return this.options.throwOnError&&s.add("error"),Object.keys(Ce(this,Ts)).some(a=>{const l=a;return Ce(this,Ts)[l]!==t[l]&&s.has(l)})};Dn(this,kr,qge).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Dn(this,kr,c6).call(this)}},la=new WeakMap,Zn=new WeakMap,PE=new WeakMap,Ts=new WeakMap,o0=new WeakMap,t1=new WeakMap,Sh=new WeakMap,Xu=new WeakMap,IE=new WeakMap,n1=new WeakMap,r1=new WeakMap,s0=new WeakMap,a0=new WeakMap,wh=new WeakMap,i1=new WeakMap,kr=new WeakSet,iC=function(t){Dn(this,kr,f6).call(this);let n=Ce(this,Zn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Hl)),n},s6=function(){Dn(this,kr,u6).call(this);const t=Rb(this.options.staleTime,Ce(this,Zn));if(F0||Ce(this,Ts).isStale||!n6(t))return;const r=Nge(Ce(this,Ts).dataUpdatedAt,t)+1;Dt(this,s0,setTimeout(()=>{Ce(this,Ts).isStale||this.updateResult()},r))},a6=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ce(this,Zn)):this.options.refetchInterval)??!1},l6=function(t){Dn(this,kr,d6).call(this),Dt(this,wh,t),!(F0||qc(this.options.enabled,Ce(this,Zn))===!1||!n6(Ce(this,wh))||Ce(this,wh)===0)&&Dt(this,a0,setInterval(()=>{(this.options.refetchIntervalInBackground||J7.isFocused())&&Dn(this,kr,iC).call(this)},Ce(this,wh)))},c6=function(){Dn(this,kr,s6).call(this),Dn(this,kr,l6).call(this,Dn(this,kr,a6).call(this))},u6=function(){Ce(this,s0)&&(clearTimeout(Ce(this,s0)),Dt(this,s0,void 0))},d6=function(){Ce(this,a0)&&(clearInterval(Ce(this,a0)),Dt(this,a0,void 0))},f6=function(){const t=Ce(this,la).getQueryCache().build(Ce(this,la),this.options);if(t===Ce(this,Zn))return;const n=Ce(this,Zn);Dt(this,Zn,t),Dt(this,PE,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},qge=function(t){eo.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Ce(this,Ts))}),Ce(this,la).getQueryCache().notify({query:Ce(this,Zn),type:"observerResultsUpdated"})})},Rde);function FKe(e,t){return qc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xne(e,t){return FKe(e,t)||e.state.data!==void 0&&p6(e,t,t.refetchOnMount)}function p6(e,t,n){if(qc(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&eU(e,t)}return!1}function Sne(e,t,n,r){return(e!==t||qc(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&eU(e,n)}function eU(e,t){return qc(t.enabled,e)!==!1&&e.isStaleByTime(Rb(t.staleTime,e))}function NKe(e,t){return!XA(e.getCurrentResult(),t)}var Ch,_h,ca,kf,Zf,$M,h6,Tde,LKe=(Tde=class extends Mx{constructor(n,r){super();rn(this,Zf);rn(this,Ch);rn(this,_h);rn(this,ca);rn(this,kf);Dt(this,Ch,n),this.setOptions(r),this.bindMethods(),Dn(this,Zf,$M).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Ce(this,Ch).defaultMutationOptions(n),XA(this.options,r)||Ce(this,Ch).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ce(this,ca),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&N0(r.mutationKey)!==N0(this.options.mutationKey)?this.reset():((i=Ce(this,ca))==null?void 0:i.state.status)==="pending"&&Ce(this,ca).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Ce(this,ca))==null||n.removeObserver(this)}onMutationUpdate(n){Dn(this,Zf,$M).call(this),Dn(this,Zf,h6).call(this,n)}getCurrentResult(){return Ce(this,_h)}reset(){var n;(n=Ce(this,ca))==null||n.removeObserver(this),Dt(this,ca,void 0),Dn(this,Zf,$M).call(this),Dn(this,Zf,h6).call(this)}mutate(n,r){var i;return Dt(this,kf,r),(i=Ce(this,ca))==null||i.removeObserver(this),Dt(this,ca,Ce(this,Ch).getMutationCache().build(Ce(this,Ch),this.options)),Ce(this,ca).addObserver(this),Ce(this,ca).execute(n)}},Ch=new WeakMap,_h=new WeakMap,ca=new WeakMap,kf=new WeakMap,Zf=new WeakSet,$M=function(){var r;const n=((r=Ce(this,ca))==null?void 0:r.state)??Wge();Dt(this,_h,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},h6=function(n){eo.batch(()=>{var r,i,o,s,a,l,c,u;if(Ce(this,kf)&&this.hasListeners()){const d=Ce(this,_h).variables,f=Ce(this,_h).context;(n==null?void 0:n.type)==="success"?((i=(r=Ce(this,kf)).onSuccess)==null||i.call(r,n.data,d,f),(s=(o=Ce(this,kf)).onSettled)==null||s.call(o,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((l=(a=Ce(this,kf)).onError)==null||l.call(a,n.error,d,f),(u=(c=Ce(this,kf)).onSettled)==null||u.call(c,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(Ce(this,_h))})})},Tde),Gge=O.createContext(void 0),Qr=e=>{const t=O.useContext(Gge);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jKe=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),x.jsx(Gge.Provider,{value:e,children:t})),Yge=O.createContext(!1),zKe=()=>O.useContext(Yge);Yge.Provider;function BKe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UKe=O.createContext(BKe()),HKe=()=>O.useContext(UKe);function Xge(e,t){return typeof e=="function"?e(...t):!!e}function g6(){}var VKe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},WKe=e=>{O.useEffect(()=>{e.clearReset()},[e])},qKe=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Xge(n,[e.error,r])),GKe=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},YKe=(e,t)=>e.isLoading&&e.isFetching&&!t,XKe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,wne=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function KKe(e,t,n){var d,f,p,g,m;const r=Qr(),i=zKe(),o=HKe(),s=r.defaultQueryOptions(e);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,s),s._optimisticResults=i?"isRestoring":"optimistic",GKe(s),VKe(s,o),WKe(o);const a=!r.getQueryCache().get(s.queryHash),[l]=O.useState(()=>new t(r,s)),c=l.getOptimisticResult(s),u=!i&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(v=>{const b=u?l.subscribe(eo.batchCalls(v)):g6;return l.updateResult(),b},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),O.useEffect(()=>{l.setOptions(s)},[s,l]),XKe(s,c))throw wne(s,l,o);if(qKe({result:c,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;if((g=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,s,c),s.experimental_prefetchInRender&&!F0&&YKe(c,i)){const v=a?wne(s,l,o):(m=r.getQueryCache().get(s.queryHash))==null?void 0:m.promise;v==null||v.catch(g6).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?c:l.trackResult(c)}function Sc(e,t){return KKe(e,$Ke)}function yi(e,t){const n=Qr(),[r]=O.useState(()=>new LKe(n,e));O.useEffect(()=>{r.setOptions(e)},[r,e]);const i=O.useSyncExternalStore(O.useCallback(s=>r.subscribe(eo.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=O.useCallback((s,a)=>{r.mutate(s,a).catch(g6)},[r]);if(i.error&&Xge(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const QKe="modulepreload",ZKe=function(e){return"/"+e},Cne={},_s=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(c=>{if(c=ZKe(c),c in Cne)return;Cne[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":QKe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};var JKe=function(){return null},eQe="Invariant failed";function ad(e,t){if(!e)throw new Error(eQe)}const Tb=new WeakMap,FM=new WeakMap,QA={current:[]};let HN=!1,WC=0;const oC=new Set,rT=new Map;function Kge(e){const t=Array.from(e).sort((n,r)=>n instanceof Mb&&n.options.deps.includes(r)?1:r instanceof Mb&&r.options.deps.includes(n)?-1:0);for(const n of t){if(QA.current.includes(n))continue;QA.current.push(n),n.recompute();const r=FM.get(n);if(r)for(const i of r){const o=Tb.get(i);o&&Kge(o)}}}function tQe(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function nQe(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Qge(e){if(WC>0&&!rT.has(e)&&rT.set(e,e.prevState),oC.add(e),!(WC>0)&&!HN)try{for(HN=!0;oC.size>0;){const t=Array.from(oC);oC.clear();for(const n of t){const r=rT.get(n)??n.prevState;n.prevState=r,tQe(n)}for(const n of t){const r=Tb.get(n);r&&(QA.current.push(n),Kge(r))}for(const n of t){const r=Tb.get(n);if(r)for(const i of r)nQe(i)}}}finally{HN=!1,QA.current=[],rT.clear()}}function VN(e){WC++;try{e()}finally{if(WC--,WC===0){const t=Array.from(oC)[0];t&&Qge(t)}}}class m6{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var i,o;this.listeners.add(r);const s=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),s==null||s()}},this.setState=r=>{var i,o,s;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(s=(o=this.options)==null?void 0:o.onUpdate)==null||s.call(o),Qge(this)},this.prevState=t,this.state=t,this.options=n}}class Mb{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:o,prevVal:s}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:o,prevVal:s}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof Mb&&o.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let o=0;o<i.length;o++)if(i[o]!==r[o]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const o=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),o==null||o()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof Mb)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof m6){let r=Tb.get(n);r||(r=new Set,Tb.set(n,r)),r.add(this);let i=FM.get(this);i||(i=new Set,FM.set(this,i)),i.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof Mb)this.unregisterFromGraph(n.options.deps);else if(n instanceof m6){const r=Tb.get(n);r&&r.delete(this);const i=FM.get(this);i&&i.delete(n)}}}const jh="__TSR_index",_ne="popstate",Ene="beforeunload";function Zge(e){let t=e.getLocation();const n=new Set,r=s=>{t=e.getLocation(),n.forEach(a=>a({location:t,action:s}))},i=s=>{e.notifyOnIndexChange??!0?r(s):t=e.getLocation()},o=async({task:s,navigateOpts:a,...l})=>{var c,u;if((a==null?void 0:a.ignoreBlocker)??!1){s();return}const f=((c=e.getBlockers)==null?void 0:c.call(e))??[],p=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&f.length&&p)for(const g of f){const m=x1(l.path,l.state);if(await g.blockerFn({currentLocation:t,nextLocation:m,action:l.type})){(u=e.onBlocked)==null||u.call(e);return}}s()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:s=>(n.add(s),()=>{n.delete(s)}),push:(s,a,l)=>{const c=t.state[jh];a=y6(c+1,a),o({task:()=>{e.pushState(s,a),r({type:"PUSH"})},navigateOpts:l,type:"PUSH",path:s,state:a})},replace:(s,a,l)=>{const c=t.state[jh];a=y6(c,a),o({task:()=>{e.replaceState(s,a),r({type:"REPLACE"})},navigateOpts:l,type:"REPLACE",path:s,state:a})},go:(s,a)=>{o({task:()=>{e.go(s),i({type:"GO",index:s})},navigateOpts:a,type:"GO"})},back:s=>{o({task:()=>{e.back((s==null?void 0:s.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:s,type:"BACK"})},forward:s=>{o({task:()=>{e.forward((s==null?void 0:s.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:s,type:"FORWARD"})},canGoBack:()=>t.state[jh]!==0,createHref:s=>e.createHref(s),block:s=>{var a;if(!e.setBlockers)return()=>{};const l=((a=e.getBlockers)==null?void 0:a.call(e))??[];return e.setBlockers([...l,s]),()=>{var c,u;const d=((c=e.getBlockers)==null?void 0:c.call(e))??[];(u=e.setBlockers)==null||u.call(e,d.filter(f=>f!==s))}},flush:()=>{var s;return(s=e.flush)==null?void 0:s.call(e)},destroy:()=>{var s;return(s=e.destroy)==null?void 0:s.call(e)},notify:r}}function y6(e,t){return t||(t={}),{...t,key:tU(),[jh]:e}}function Jge(e){var t;const n=(e==null?void 0:e.window)??(typeof document<"u"?window:void 0),r=n.history.pushState,i=n.history.replaceState;let o=[];const s=()=>o,a=P=>o=P,l=(e==null?void 0:e.createHref)??(P=>P),c=(e==null?void 0:e.parseLocation)??(()=>x1(`${n.location.pathname}${n.location.search}${n.location.hash}`,n.history.state));(t=n.history.state)!=null&&t.key||n.history.replaceState({[jh]:0,key:tU()},"");let u=c(),d,f=!1,p=!1,g=!1,m=!1;const v=()=>u;let b,S;const C=()=>{b&&(A._ignoreSubscribers=!0,(b.isPush?n.history.pushState:n.history.replaceState)(b.state,"",b.href),A._ignoreSubscribers=!1,b=void 0,S=void 0,d=void 0)},_=(P,D,F)=>{const I=l(D);S||(d=u),u=x1(D,F),b={href:I,state:F,isPush:(b==null?void 0:b.isPush)||P==="push"},S||(S=Promise.resolve().then(()=>C()))},E=P=>{u=c(),A.notify({type:P})},T=async()=>{if(p){p=!1;return}const P=c(),D=P.state[jh]-u.state[jh],F=D===1,I=D===-1,j=!F&&!I||f;f=!1;const M=j?"GO":I?"BACK":"FORWARD",$=j?{type:"GO",index:D}:{type:I?"BACK":"FORWARD"};if(g)g=!1;else{const L=s();if(typeof document<"u"&&L.length){for(const V of L)if(await V.blockerFn({currentLocation:u,nextLocation:P,action:M})){p=!0,n.history.go(1),A.notify($);return}}}u=c(),A.notify($)},k=P=>{if(m){m=!1;return}let D=!1;const F=s();if(typeof document<"u"&&F.length)for(const I of F){const j=I.enableBeforeUnload??!0;if(j===!0){D=!0;break}if(typeof j=="function"&&j()===!0){D=!0;break}}if(D)return P.preventDefault(),P.returnValue=""},A=Zge({getLocation:v,getLength:()=>n.history.length,pushState:(P,D)=>_("push",P,D),replaceState:(P,D)=>_("replace",P,D),back:P=>(P&&(g=!0),m=!0,n.history.back()),forward:P=>{P&&(g=!0),m=!0,n.history.forward()},go:P=>{f=!0,n.history.go(P)},createHref:P=>l(P),flush:C,destroy:()=>{n.history.pushState=r,n.history.replaceState=i,n.removeEventListener(Ene,k,{capture:!0}),n.removeEventListener(_ne,T)},onBlocked:()=>{d&&u!==d&&(u=d)},getBlockers:s,setBlockers:a,notifyOnIndexChange:!1});return n.addEventListener(Ene,k,{capture:!0}),n.addEventListener(_ne,T),n.history.pushState=function(...P){const D=r.apply(n.history,P);return A._ignoreSubscribers||E("PUSH"),D},n.history.replaceState=function(...P){const D=i.apply(n.history,P);return A._ignoreSubscribers||E("REPLACE"),D},A}function rQe(e){const t=typeof document<"u"?window:void 0;return Jge({window:t,parseLocation:()=>{const n=t.location.hash.split("#").slice(1),r=n[0]??"/",i=t.location.search,o=n.slice(1),s=o.length===0?"":`#${o.join("#")}`,a=`${r}${i}${s}`;return x1(a,t.history.state)},createHref:n=>`${t.location.pathname}${t.location.search}#${n}`})}function iQe(e={initialEntries:["/"]}){const t=e.initialEntries;let n=e.initialIndex?Math.min(Math.max(e.initialIndex,0),t.length-1):t.length-1;const r=t.map((o,s)=>y6(s,void 0));return Zge({getLocation:()=>x1(t[n],r[n]),getLength:()=>t.length,pushState:(o,s)=>{n<t.length-1&&(t.splice(n+1),r.splice(n+1)),r.push(s),t.push(o),n=Math.max(t.length-1,0)},replaceState:(o,s)=>{r[n]=s,t[n]=o},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,t.length-1)},go:o=>{n=Math.min(Math.max(n+o,0),t.length-1)},createHref:o=>o})}function x1(e,t){const n=e.indexOf("#"),r=e.indexOf("?");return{href:e,pathname:e.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:e.length),hash:n>-1?e.substring(n):"",search:r>-1?e.slice(r,n===-1?void 0:n):"",state:t||{[jh]:0,key:tU()}}}function tU(){return(Math.random()+1).toString(36).substring(7)}function db(e){return e[e.length-1]}function oQe(e){return typeof e=="function"}function sC(e,t){return oQe(e)?e(t):e}function v6(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function Bl(e,t){if(e===t)return e;const n=t,r=Rne(e)&&Rne(n);if(r||ZA(e)&&ZA(n)){const i=r?e:Object.keys(e),o=i.length,s=r?n:Object.keys(n),a=s.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:s[u];(!r&&i.includes(d)||r)&&e[d]===void 0&&n[d]===void 0?(l[d]=void 0,c++):(l[d]=Bl(e[d],n[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return o===a&&c===o?e:l}return n}function ZA(e){if(!kne(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!kne(n)||!n.hasOwnProperty("isPrototypeOf"))}function kne(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rne(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tne(e,t){let n=Object.keys(e);return t&&(n=n.filter(r=>e[r]!==void 0)),n}function qC(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(ZA(e)&&ZA(t)){const r=(n==null?void 0:n.ignoreUndefined)??!0,i=Tne(e,r),o=Tne(t,r);return!(n!=null&&n.partial)&&i.length!==o.length?!1:o.every(s=>qC(e[s],t[s],n))}return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:!e.some((r,i)=>!qC(r,t[i],n)):!1}function Jv(e){let t,n;const r=new Promise((i,o)=>{t=i,n=o});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,t(i),e==null||e(i)},r.reject=i=>{r.status="rejected",n(i)},r}function sQe(e){return/%[0-9A-Fa-f]{2}/.test(e)}function Bf(e){return YP(e.filter(t=>t!==void 0).join("/"))}function YP(e){return e.replace(/\/{2,}/g,"/")}function nU(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Ym(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function aQe(e){return Ym(nU(e))}function lQe({basepath:e,base:t,to:n,trailingSlash:r="never",caseSensitive:i}){var o,s;t=JA(e,t,i),n=JA(e,n,i);let a=S1(t);const l=S1(n);a.length>1&&((o=db(a))==null?void 0:o.value)==="/"&&a.pop(),l.forEach((u,d)=>{u.value==="/"?d?d===l.length-1&&a.push(u):a=[u]:u.value===".."?a.pop():u.value==="."||a.push(u)}),a.length>1&&(((s=db(a))==null?void 0:s.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const c=Bf([e,...a.map(u=>u.value)]);return YP(c)}function S1(e){if(!e)return[];e=YP(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const n=e.split("/").filter(Boolean);return t.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(i=>decodeURI(i)).join("%25"):decodeURI(r)})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function iT({path:e,params:t,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const o=S1(e);function s(c){const u=t[c],d=typeof u=="string";return["*","_splat"].includes(c)?d?encodeURI(u):u:d?cQe(u,i):u}const a={},l=Bf(o.map(c=>{if(c.type==="wildcard"){a._splat=t._splat;const u=s("_splat");return n?`${c.value}${u??""}`:u}if(c.type==="param"){const u=c.value.substring(1);if(a[u]=t[u],r){const d=s(c.value);return`${c.value}${d??""}`}return s(u)??"undefined"}return c.value}));return{usedParams:a,interpolatedPath:l}}function cQe(e,t){let n=encodeURIComponent(e);if(t)for(const[r,i]of t)n=n.replaceAll(r,i);return n}function oT(e,t,n){const r=uQe(e,t,n);if(!(n.to&&!r))return r??{}}function JA(e,t,n=!1){const r=n?e:e.toLowerCase(),i=n?t:t.toLowerCase();switch(!0){case r==="/":return t;case i===r:return"";case t.length<e.length:return t;case i[r.length]!=="/":return t;case i.startsWith(r):return t.slice(e.length);default:return t}}function uQe(e,t,n){if(e!=="/"&&!t.startsWith(e))return;t=JA(e,t,n.caseSensitive);const r=JA(e,`${n.to??"$"}`,n.caseSensitive),i=S1(t),o=S1(r);t.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||o.unshift({type:"pathname",value:"/"});const s={};return(()=>{for(let l=0;l<Math.max(i.length,o.length);l++){const c=i[l],u=o[l],d=l>=i.length-1,f=l>=o.length-1;if(u){if(u.type==="wildcard"){const p=decodeURI(Bf(i.slice(l).map(g=>g.value)));return s["*"]=p,s._splat=p,!0}if(u.type==="pathname"){if(u.value==="/"&&!(c!=null&&c.value))return!0;if(c){if(n.caseSensitive){if(u.value!==c.value)return!1}else if(u.value.toLowerCase()!==c.value.toLowerCase())return!1}}if(!c)return!1;if(u.type==="param"){if(c.value==="/")return!1;c.value.charAt(0)!=="$"&&(s[u.value.substring(1)]=decodeURIComponent(c.value))}}if(!d&&f)return s["**"]=Bf(i.slice(l+1).map(p=>p.value)),!!n.fuzzy&&(u==null?void 0:u.value)!=="/"}return!0})()?s:void 0}function Vl(e){return!!(e!=null&&e.isNotFound)}const eO="tsr-scroll-restoration-v1_3";let eme=!1;try{eme=typeof window<"u"&&typeof window.sessionStorage=="object"}catch{}const dQe=(e,t)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{e(...r),n=null},t))}},fb=eme?{state:JSON.parse(window.sessionStorage.getItem(eO)||"null")||{},set:t=>(fb.state=sC(t,fb.state)||fb.state,window.sessionStorage.setItem(eO,JSON.stringify(fb.state)))}:void 0,b6=e=>e.state.key||e.href;function fQe(e){const t=[];let n;for(;n=e.parentNode;)t.unshift(`${e.tagName}:nth-child(${[].indexOf.call(n.children,e)+1})`),e=n;return`${t.join(" > ")}`.toLowerCase()}let tO=!1;function tme(e,t,n,r,i){var o;let s;try{s=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(c){console.error(c);return}const a=t||((o=window.history.state)==null?void 0:o.key),l=s[a];tO=!0,(()=>{if(r&&l){for(const u in l){const d=l[u];if(u==="window")window.scrollTo({top:d.scrollY,left:d.scrollX,behavior:n});else if(u){const f=document.querySelector(u);f&&(f.scrollLeft=d.scrollX,f.scrollTop=d.scrollY)}}return}const c=window.location.hash.split("#")[1];if(c){const u=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(u){const d=document.getElementById(c);d&&d.scrollIntoView(u)}return}["window",...(i==null?void 0:i.filter(u=>u!=="window"))??[]].forEach(u=>{const d=u==="window"?window:document.querySelector(u);d&&d.scrollTo({top:0,left:0,behavior:n})})})(),tO=!1}function pQe(e,t){if((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup)return;e.isScrollRestorationSetup=!0,tO=!1;const r=e.options.getScrollRestorationKey||b6;window.history.scrollRestoration="manual";const i=o=>{if(tO||!e.isScrollRestoring)return;let s="";if(o.target===document||o.target===window)s="window";else{const l=o.target.getAttribute("data-scroll-restoration-id");l?s=`[data-scroll-restoration-id="${l}"]`:s=fQe(o.target)}const a=r(e.state.location);fb.set(l=>{const c=l[a]=l[a]||{},u=c[s]=c[s]||{};if(s==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(s){const d=document.querySelector(s);d&&(u.scrollX=d.scrollLeft||0,u.scrollY=d.scrollTop||0)}return l})};typeof document<"u"&&document.addEventListener("scroll",dQe(i,100),!0),e.subscribe("onRendered",o=>{const s=r(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}tme(eO,s,e.options.scrollRestorationBehavior||void 0,e.isScrollRestoring||void 0,e.options.scrollToTopSelectors||void 0),e.isScrollRestoring&&fb.set(a=>(a[s]=a[s]||{},a))})}function hQe(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function gQe(e,t){const n=Object.entries(e).flatMap(([i,o])=>Array.isArray(o)?o.map(s=>[i,String(s)]):[[i,String(o)]]);return""+new URLSearchParams(n).toString()}function WN(e){if(!e)return"";const t=sQe(e)?decodeURIComponent(e):decodeURIComponent(encodeURIComponent(e));return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function mQe(e,t){const n=e;return[...new URLSearchParams(n).entries()].reduce((o,[s,a])=>{const l=o[s];return l==null?o[s]=WN(a):o[s]=Array.isArray(l)?[...l,WN(a)]:[l,WN(a)],o},{})}const yQe=bQe(JSON.parse),vQe=xQe(JSON.stringify,JSON.parse);function bQe(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const n=mQe(t);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=e(i)}catch{}}return n}}function xQe(e,t){function n(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(typeof r=="string"&&typeof t=="function")try{return t(r),e(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(o=>{const s=r[o];typeof s>"u"||s===void 0?delete r[o]:r[o]=n(s)});const i=gQe(r).toString();return i?`?${i}`:""}}const zc="__root__";function Am(e){return!!(e!=null&&e.isRedirect)}function qN(e){return!!(e!=null&&e.isRedirect)&&e.href}function Ab(e){const t=e.resolvedLocation,n=e.location,r=(t==null?void 0:t.pathname)!==n.pathname,i=(t==null?void 0:t.href)!==n.href,o=(t==null?void 0:t.hash)!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:r,hrefChanged:i,hashChanged:o}}class SQe{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${aQe(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?iQe({initialEntries:[this.basepath||"/"]}):Jge()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new m6(CQe(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}}),pQe(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=s=>{s.forEach((a,l)=>{a.init({originalIndex:l,defaultSsr:this.options.defaultSsr});const c=this.routesById[a.id];if(ad(!c,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const d=Ym(a.fullPath);(!this.routesByPath[d]||a.fullPath.endsWith("/"))&&(this.routesByPath[d]=a)}const u=a.children;u!=null&&u.length&&r(u)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((s,a)=>{var l;if(s.isRoot||!s.path)return;const c=nU(s.fullPath),u=S1(c);for(;u.length>1&&((l=u[0])==null?void 0:l.value)==="/";)u.shift();const d=u.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);i.push({child:s,trimmed:c,parsed:u,index:a,scores:d})}),this.flatRoutes=i.sort((s,a)=>{const l=Math.min(s.scores.length,a.scores.length);for(let c=0;c<l;c++)if(s.scores[c]!==a.scores[c])return a.scores[c]-s.scores[c];if(s.scores.length!==a.scores.length)return a.scores.length-s.scores.length;for(let c=0;c<l;c++)if(s.parsed[c].value!==a.parsed[c].value)return s.parsed[c].value>a.parsed[c].value?1:-1;return s.index-a.index}).map((s,a)=>(s.child.rank=a,s.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:l,search:c,hash:u,state:d})=>{const f=this.options.parseSearch(c),p=this.options.stringifySearch(f);return{pathname:l,searchStr:p,search:Bl(n==null?void 0:n.search,f),hash:u.split("#").reverse()[0]??"",href:`${l}${p}${u}`,state:Bl(n==null?void 0:n.state,d)}},o=i(r??this.history.location),{__tempLocation:s,__tempKey:a}=o.state;if(s&&(!a||a===this.tempLocationKey)){const l=i(s);return l.state.key=o.state.key,delete l.state.__tempLocation,{...l,maskedLocation:o}}return o},this.resolvePathWithBase=(n,r)=>lQe({basepath:this.basepath,base:n,to:YP(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(n,r,i)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},i):this.matchRoutesInternal(n,r),this.getMatchedRoutes=(n,r)=>{let i={};const o=Ym(n.pathname),s=u=>oT(this.basepath,o,{to:u.fullPath,caseSensitive:u.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;a?i=s(a):a=this.flatRoutes.find(u=>{const d=s(u);return d?(i=d,!0):!1});let l=a||this.routesById[zc];const c=[l];for(;l.parentRoute;)l=l.parentRoute,c.unshift(l);return{matchedRoutes:c,routeParams:i,foundRoute:a}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(o={},s)=>{var a,l,c,u,d,f,p;const g=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,m=o.from!=null?g.find(I=>oT(this.basepath,Ym(I.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,v=(m==null?void 0:m.pathname)||this.latestLocation.pathname;ad(o.from==null||m!=null,"Could not find match for from: "+o.from);const b=(a=this.state.pendingMatches)!=null&&a.length?(l=db(this.state.pendingMatches))==null?void 0:l.search:((c=db(g))==null?void 0:c.search)||this.latestLocation.search,S=s==null?void 0:s.matchedRoutes.filter(I=>g.find(j=>j.routeId===I.id));let C;if(o.to){const I=(m==null?void 0:m.fullPath)||((u=db(g))==null?void 0:u.fullPath)||this.latestLocation.pathname;C=this.resolvePathWithBase(I,`${o.to}`)}else{const I=this.routesById[(d=S==null?void 0:S.find(j=>{const M=iT({path:j.fullPath,params:(s==null?void 0:s.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Bf([this.basepath,M])===v}))==null?void 0:d.id];C=this.resolvePathWithBase(v,(I==null?void 0:I.to)??v)}const _={...(f=db(g))==null?void 0:f.params};let E=(o.params??!0)===!0?_:{..._,...sC(o.params,_)};Object.keys(E).length>0&&(s==null||s.matchedRoutes.map(I=>{var j;return((j=I.options.params)==null?void 0:j.stringify)??I.options.stringifyParams}).filter(Boolean).forEach(I=>{E={...E,...I(E)}})),C=iT({path:C,params:E??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let T=b;if(n._includeValidateSearch&&((p=this.options.search)!=null&&p.strict)){let I={};s==null||s.matchedRoutes.forEach(j=>{try{j.options.validateSearch&&(I={...I,...GN(j.options.validateSearch,{...I,...T})??{}})}catch{}}),T=I}T=(I=>{const j=(s==null?void 0:s.matchedRoutes.reduce((L,V)=>{var q;const U=[];if("search"in V.options)(q=V.options.search)!=null&&q.middlewares&&U.push(...V.options.search.middlewares);else if(V.options.preSearchFilters||V.options.postSearchFilters){const z=({search:B,next:G})=>{let Y=B;"preSearchFilters"in V.options&&V.options.preSearchFilters&&(Y=V.options.preSearchFilters.reduce((K,te)=>te(K),B));const Q=G(Y);return"postSearchFilters"in V.options&&V.options.postSearchFilters?V.options.postSearchFilters.reduce((K,te)=>te(K),Q):Q};U.push(z)}if(n._includeValidateSearch&&V.options.validateSearch){const z=({search:B,next:G})=>{const Y=G(B);try{return{...Y,...GN(V.options.validateSearch,Y)??{}}}catch{return Y}};U.push(z)}return L.concat(U)},[]))??[],M=({search:L})=>o.search?o.search===!0?L:sC(o.search,L):{};j.push(M);const $=(L,V)=>{if(L>=j.length)return V;const q=j[L];return q({search:V,next:z=>$(L+1,z)})};return $(0,I)})(T),T=Bl(b,T);const A=this.options.stringifySearch(T),P=o.hash===!0?this.latestLocation.hash:o.hash?sC(o.hash,this.latestLocation.hash):void 0,D=P?`#${P}`:"";let F=o.state===!0?this.latestLocation.state:o.state?sC(o.state,this.latestLocation.state):{};return F=Bl(this.latestLocation.state,F),{pathname:C,search:T,searchStr:A,state:F,hash:P??"",href:`${C}${A}${D}`,unmaskOnReload:o.unmaskOnReload}},i=(o={},s)=>{var a;const l=r(o);let c=s?r(s):void 0;if(!c){let f={};const p=(a=this.options.routeMasks)==null?void 0:a.find(g=>{const m=oT(this.basepath,l.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1});return m?(f=m,!0):!1});if(p){const{from:g,...m}=p;s={...v6(n,["from"]),...m,params:f},c=r(s)}}const u=this.getMatchedRoutes(l,o),d=r(o,u);if(c){const f=this.getMatchedRoutes(c,s),p=r(s,f);d.maskedLocation=p}return d};return n.mask?i(n,{...v6(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const o=()=>{const l=["key","__TSR_index","__hashScrollIntoViewOptions"];l.forEach(u=>{i.state[u]=this.latestLocation.state[u]});const c=qC(i.state,this.latestLocation.state);return l.forEach(u=>{delete i.state[u]}),c},s=this.latestLocation.href===i.href,a=this.commitLocationPromise;if(this.commitLocationPromise=Jv(()=>{a==null||a.resolve()}),s&&o())this.load();else{let{maskedLocation:l,hashScrollIntoView:c,...u}=i;l&&(u={...l,state:{...l.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),u.state.__hashScrollIntoViewOptions=c??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](u.href,u.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:o,ignoreBlocker:s,href:a,...l}={})=>{if(a){const u=this.history.location.state.__TSR_index,d=x1(a,{__TSR_index:n?u:u+1});l.to=d.pathname,l.search=this.options.parseSearch(d.search),l.hash=d.hash.slice(1)}const c=this.buildLocation({...l,_includeValidateSearch:!0});return this.commitLocation({...c,viewTransition:o,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:s})},this.navigate=({to:n,reloadDocument:r,href:i,...o})=>{if(r){if(!i){const s=this.buildLocation({to:n,...o});i=this.history.createHref(s.href)}o.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...o,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,o;for(o=new Promise(s=>{this.startTransition(async()=>{var a;try{const l=this.latestLocation,c=this.state.resolvedLocation;this.cancelMatches();let u;VN(()=>{u=this.matchRoutes(l),this.__store.setState(d=>({...d,status:"pending",isLoading:!0,location:l,pendingMatches:u,cachedMatches:d.cachedMatches.filter(f=>!u.find(p=>p.id===f.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...Ab({resolvedLocation:c,location:l})}),this.emit({type:"onBeforeLoad",...Ab({resolvedLocation:c,location:l})}),await this.loadMatches({sync:n==null?void 0:n.sync,matches:u,location:l,onReady:async()=>{this.startViewTransition(async()=>{let d,f,p;VN(()=>{this.__store.setState(g=>{const m=g.matches,v=g.pendingMatches||g.matches;return d=m.filter(b=>!v.find(S=>S.id===b.id)),f=v.filter(b=>!m.find(S=>S.id===b.id)),p=m.filter(b=>v.find(S=>S.id===b.id)),{...g,isLoading:!1,loadedAt:Date.now(),matches:v,pendingMatches:void 0,cachedMatches:[...g.cachedMatches,...d.filter(b=>b.status!=="error")]}}),this.clearExpiredCache()}),[[d,"onLeave"],[f,"onEnter"],[p,"onStay"]].forEach(([g,m])=>{g.forEach(v=>{var b,S;(S=(b=this.looseRoutesById[v.routeId].options)[m])==null||S.call(b,v)})})})}})}catch(l){qN(l)?(r=l,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Vl(l)&&(i=l),this.__store.setState(c=>({...c,statusCode:r?r.statusCode:i?404:c.matches.some(u=>u.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),s()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(s=>({...s,statusCode:404}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let o;const s=(i=this.state.pendingMatches)==null?void 0:i.find(u=>u.id===n),a=this.state.matches.find(u=>u.id===n),l=this.state.cachedMatches.find(u=>u.id===n),c=s?"pendingMatches":a?"matches":l?"cachedMatches":"";return c&&this.__store.setState(u=>{var d;return{...u,[c]:(d=u[c])==null?void 0:d.map(f=>f.id===n?o=r(f):f)}}),o},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:o,updateMatch:s=this.updateMatch,sync:a})=>{let l,c=!1;const u=async()=>{c||(c=!0,await(o==null?void 0:o()))},d=p=>!!(i&&!this.state.matches.find(g=>g.id===p));!this.isServer&&!this.state.matches.length&&u();const f=(p,g)=>{var m,v,b,S;if(qN(g)&&!g.reloadDocument)throw g;if(Am(g)||Vl(g)){if(s(p.id,C=>({...C,status:Am(g)?"redirected":Vl(g)?"notFound":"error",isFetching:!1,error:g,beforeLoadPromise:void 0,loaderPromise:void 0})),g.routeId||(g.routeId=p.routeId),(m=p.beforeLoadPromise)==null||m.resolve(),(v=p.loaderPromise)==null||v.resolve(),(b=p.loadPromise)==null||b.resolve(),Am(g))throw c=!0,g=this.resolveRedirect({...g,_fromLocation:n}),g;if(Vl(g))throw this._handleNotFound(r,g,{updateMatch:s}),(S=this.serverSsr)==null||S.onMatchSettled({router:this,match:this.getMatch(p.id)}),g}};try{await new Promise((p,g)=>{(async()=>{var m,v,b,S;try{const C=(T,k,A)=>{var P,D;const{id:F,routeId:I}=r[T],j=this.looseRoutesById[I];if(k instanceof Promise)throw k;k.routerCode=A,l=l??T,f(this.getMatch(F),k);try{(D=(P=j.options).onError)==null||D.call(P,k)}catch(M){k=M,f(this.getMatch(F),k)}s(F,M=>{var $,L;return($=M.beforeLoadPromise)==null||$.resolve(),(L=M.loadPromise)==null||L.resolve(),{...M,error:k,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[T,{id:k,routeId:A}]of r.entries()){const P=this.getMatch(k),D=(m=r[T-1])==null?void 0:m.id,F=this.looseRoutesById[A],I=F.options.pendingMs??this.options.defaultPendingMs,j=!!(o&&!this.isServer&&!d(k)&&(F.options.loader||F.options.beforeLoad)&&typeof I=="number"&&I!==1/0&&(F.options.pendingComponent??((v=this.options)==null?void 0:v.defaultPendingComponent)));let M=!0;if((P.beforeLoadPromise||P.loaderPromise)&&(j&&setTimeout(()=>{try{u()}catch{}},I),await P.beforeLoadPromise,M=this.getMatch(k).status!=="success"),M){try{s(k,ce=>{const ie=ce.loadPromise;return{...ce,loadPromise:Jv(()=>{ie==null||ie.resolve()}),beforeLoadPromise:Jv()}});const $=new AbortController;let L;j&&(L=setTimeout(()=>{try{u()}catch{}},I));const{paramsError:V,searchError:q}=this.getMatch(k);V&&C(T,V,"PARSE_PARAMS"),q&&C(T,q,"VALIDATE_SEARCH");const U=()=>D?this.getMatch(D).context:this.options.context??{};s(k,ce=>({...ce,isFetching:"beforeLoad",fetchCount:ce.fetchCount+1,abortController:$,pendingTimeout:L,context:{...U(),...ce.__routeContext}}));const{search:z,params:B,context:G,cause:Y}=this.getMatch(k),Q=d(k),K={search:z,abortController:$,params:B,preload:Q,context:G,location:n,navigate:ce=>this.navigate({...ce,_fromLocation:n}),buildLocation:this.buildLocation,cause:Q?"preload":Y,matches:r},te=await((S=(b=F.options).beforeLoad)==null?void 0:S.call(b,K))??{};(Am(te)||Vl(te))&&C(T,te,"BEFORE_LOAD"),s(k,ce=>({...ce,__beforeLoadContext:te,context:{...U(),...ce.__routeContext,...te},abortController:$}))}catch($){C(T,$,"BEFORE_LOAD")}s(k,$=>{var L;return(L=$.beforeLoadPromise)==null||L.resolve(),{...$,beforeLoadPromise:void 0,isFetching:!1}})}}const _=r.slice(0,l),E=[];_.forEach(({id:T,routeId:k},A)=>{E.push((async()=>{const{loaderPromise:P}=this.getMatch(T);let D=!1,F=!1;if(P){await P;const I=this.getMatch(T);I.error&&f(I,I.error)}else{const I=E[A-1],j=this.looseRoutesById[k],M=()=>{const{params:Y,loaderDeps:Q,abortController:K,context:te,cause:ce}=this.getMatch(T),ie=d(T);return{params:Y,deps:Q,preload:!!ie,parentMatchPromise:I,abortController:K,context:te,location:n,navigate:re=>this.navigate({...re,_fromLocation:n}),cause:ie?"preload":ce,route:j}},$=Date.now()-this.getMatch(T).updatedAt,L=d(T),V=L?j.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:j.options.staleTime??this.options.defaultStaleTime??0,q=j.options.shouldReload,U=typeof q=="function"?q(M()):q;s(T,Y=>({...Y,loaderPromise:Jv(),preload:!!L&&!this.state.matches.find(Q=>Q.id===T)}));const z=async()=>{var Y,Q,K,te,ce,ie,re,he,fe,ne,pe;try{const W=async()=>{const se=this.getMatch(T);se.minPendingPromise&&await se.minPendingPromise};try{this.loadRouteChunk(j),s(T,Re=>({...Re,isFetching:"loader"}));const se=await((Q=(Y=j.options).loader)==null?void 0:Q.call(Y,M()));f(this.getMatch(T),se),await j._lazyPromise,await W();const ae={matches:r,match:this.getMatch(T),params:this.getMatch(T).params,loaderData:se},X=(te=(K=j.options).head)==null?void 0:te.call(K,ae),Z=X==null?void 0:X.meta,oe=X==null?void 0:X.links,ge=X==null?void 0:X.scripts,be=(ie=(ce=j.options).scripts)==null?void 0:ie.call(ce,ae),de=(he=(re=j.options).headers)==null?void 0:he.call(re,{loaderData:se});s(T,Re=>({...Re,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:se,meta:Z,links:oe,headScripts:ge,headers:de,scripts:be}))}catch(se){let ae=se;await W(),f(this.getMatch(T),se);try{(ne=(fe=j.options).onError)==null||ne.call(fe,se)}catch(X){ae=X,f(this.getMatch(T),X)}s(T,X=>({...X,error:ae,status:"error",isFetching:!1}))}(pe=this.serverSsr)==null||pe.onMatchSettled({router:this,match:this.getMatch(T)}),await j._componentsPromise}catch(W){s(T,se=>({...se,loaderPromise:void 0})),f(this.getMatch(T),W)}},{status:B,invalid:G}=this.getMatch(T);D=B==="success"&&(G||(U??$>V)),L&&j.options.preload===!1||(D&&!a?(F=!0,(async()=>{try{await z();const{loaderPromise:Y,loadPromise:Q}=this.getMatch(T);Y==null||Y.resolve(),Q==null||Q.resolve(),s(T,K=>({...K,loaderPromise:void 0}))}catch(Y){qN(Y)&&await this.navigate(Y)}})()):(B!=="success"||D&&a)&&await z())}if(!F){const{loaderPromise:I,loadPromise:j}=this.getMatch(T);I==null||I.resolve(),j==null||j.resolve()}return s(T,I=>({...I,isFetching:F?I.isFetching:!1,loaderPromise:F?I.loaderPromise:void 0,invalid:!1})),this.getMatch(T)})())}),await Promise.all(E),p()}catch(C){g(C)}})()}),await u()}catch(p){if(Am(p)||Vl(p))throw Vl(p)&&!i&&await u(),p}return r},this.invalidate=n=>{const r=i=>{var o;return((o=n==null?void 0:n.filter)==null?void 0:o.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var o;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(o=i.pendingMatches)==null?void 0:o.map(r)}}),this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n==null?void 0:n.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(o=>!r(o))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const o=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<o)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...o}=r.options;Object.assign(n.options,o)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(nme.map(async r=>{const i=n.options[r];i!=null&&i.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),s=new Set([...o,...this.state.cachedMatches.map(a=>a.id)]);VN(()=>{i.forEach(a=>{s.has(a.id)||this.__store.setState(l=>({...l,cachedMatches:[...l.cachedMatches,a]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(a,l)=>{o.has(a)?i=i.map(c=>c.id===a?l(c):c):this.updateMatch(a,l)}}),i}catch(a){if(Am(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:r});Vl(a)||console.error(a);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(i);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,l=oT(this.basepath,a.pathname,{...r,to:o.pathname});return!l||n.params&&!qC(l,n.params,{partial:!0})?!1:l&&((r==null?void 0:r.includeSearch)??!0)?qC(a.search,o.search,{partial:!0})?l:!1:l},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{var o;const s=this.routesById[r.routeId??""]??this.routeTree,a={};for(const c of n)a[c.routeId]=c;!s.options.notFoundComponent&&((o=this.options)!=null&&o.defaultNotFoundComponent)&&(s.options.notFoundComponent=this.options.defaultNotFoundComponent),ad(s.options.notFoundComponent);const l=a[s.id];ad(l,"Could not find match for route: "+s.id),i(l.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&s.parentRoute&&(r.routeId=s.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??vQe,parseSearch:t.parseSearch??yQe}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,n){const{foundRoute:r,matchedRoutes:i,routeParams:o}=this.getMatchedRoutes(t,n==null?void 0:n.dest);let s=!1;(r?r.path!=="/"&&o["**"]:Ym(t.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):s=!0);const a=(()=>{if(s){if(this.options.notFoundMode!=="root")for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.children)return f.id}return zc}})(),l=i.map(d=>{var f;let p;const g=((f=d.options.params)==null?void 0:f.parse)??d.options.parseParams;if(g)try{const m=g(o);Object.assign(o,m)}catch(m){if(p=new wQe(m.message,{cause:m}),n!=null&&n.throwOnError)throw p;return p}}),c=[],u=d=>(d==null?void 0:d.id)?d.context??this.options.context??{}:this.options.context??{};return i.forEach((d,f)=>{var p,g;const m=c[f-1],[v,b,S]=(()=>{const j=(m==null?void 0:m.search)??t.search,M=(m==null?void 0:m._strictSearch)??{};try{const $=GN(d.options.validateSearch,{...j})??{};return[{...j,...$},{...M,...$},void 0]}catch($){let L=$;if($ instanceof nO||(L=new nO($.message,{cause:$})),n!=null&&n.throwOnError)throw L;return[j,{},L]}})(),C=((g=(p=d.options).loaderDeps)==null?void 0:g.call(p,{search:v}))??"",_=C?JSON.stringify(C):"",{usedParams:E,interpolatedPath:T}=iT({path:d.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),k=iT({path:d.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+_,A=this.getMatch(k),P=this.state.matches.find(j=>j.routeId===d.id),D=P?"stay":"enter";let F;if(A)F={...A,cause:D,params:P?Bl(P.params,o):o,_strictParams:E,search:Bl(P?P.search:A.search,v),_strictSearch:b};else{const j=d.options.loader||d.options.beforeLoad||d.lazyFn||_Qe(d)?"pending":"success";F={id:k,index:f,routeId:d.id,params:P?Bl(P.params,o):o,_strictParams:E,pathname:Bf([this.basepath,T]),updatedAt:Date.now(),search:P?Bl(P.search,v):v,_strictSearch:b,searchError:void 0,status:j,isFetching:!1,error:void 0,paramsError:l[f],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:D,loaderDeps:P?Bl(P.loaderDeps,C):C,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:d.options.staticData||{},loadPromise:Jv(),fullPath:d.fullPath}}n!=null&&n.preload||(F.globalNotFound=a===d.id),F.searchError=S;const I=u(m);F.context={...I,...F.__routeContext,...F.__beforeLoadContext},c.push(F)}),c.forEach((d,f)=>{var p,g,m,v,b,S,C,_;const E=this.looseRoutesById[d.routeId];if(!this.getMatch(d.id)&&(n==null?void 0:n._buildLocation)!==!0){const k=c[f-1],A=u(k),P={deps:d.loaderDeps,params:d.params,context:A,location:t,navigate:D=>this.navigate({...D,_fromLocation:t}),buildLocation:this.buildLocation,cause:d.cause,abortController:d.abortController,preload:!!d.preload,matches:c};d.__routeContext=((g=(p=E.options).context)==null?void 0:g.call(p,P))??{},d.context={...A,...d.__routeContext,...d.__beforeLoadContext}}if(d.status==="success"){d.headers=(v=(m=E.options).headers)==null?void 0:v.call(m,{loaderData:d.loaderData});const k={matches:c,match:d,params:d.params,loaderData:d.loaderData},A=(S=(b=E.options).head)==null?void 0:S.call(b,k);d.links=A==null?void 0:A.links,d.headScripts=A==null?void 0:A.scripts,d.meta=A==null?void 0:A.meta,d.scripts=(_=(C=E.options).scripts)==null?void 0:_.call(C,k)}}),c}}class nO extends Error{}class wQe extends Error{}function CQe(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function GN(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new nO("Async validation not supported");if(n.issues)throw new nO(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}const nme=["component","errorComponent","pendingComponent","notFoundComponent"];function _Qe(e){var t;for(const n of nme)if((t=e.options[n])!=null&&t.preload)return!0;return!1}class rme{constructor(t){if(this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const o=this.options,s=!(o!=null&&o.path)&&!(o!=null&&o.id);if(this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),s)this._path=zc;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let a=s?zc:o==null?void 0:o.path;a&&a!=="/"&&(a=nU(a));const l=(o==null?void 0:o.id)||a;let c=s?zc:Bf([this.parentRoute.id===zc?"":this.parentRoute.id,l]);a===zc&&(a="/"),c!==zc&&(c=Bf(["/",c]));const u=c===zc?"/":Bf([this.parentRoute.fullPath,a]);this._path=a,this._id=c,this._fullPath=u,this._to=u,this._ssr=(o==null?void 0:o.ssr)??n.defaultSsr??!0},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class EQe extends rme{constructor(t){super(t)}}function rU(e){const t=e.errorComponent??XP;return x.jsx(kQe,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:r})=>n?O.createElement(t,{error:n,reset:r}):e.children})}class kQe extends O.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function XP({error:e}){const[t,n]=O.useState(!1);return x.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[x.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),x.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:t?"Hide Error":"Show Error"})]}),x.jsx("div",{style:{height:".25rem"}}),t?x.jsx("div",{children:x.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?x.jsx("code",{children:e.message}):null})}):null]})}var YN={exports:{}},XN={},KN={exports:{}},QN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mne;function RQe(){if(Mne)return QN;Mne=1;var e=mu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(d,f){var p=f(),g=r({inst:{value:p,getSnapshot:f}}),m=g[0].inst,v=g[1];return o(function(){m.value=p,m.getSnapshot=f,l(m)&&v({inst:m})},[d,p,f]),i(function(){return l(m)&&v({inst:m}),d(function(){l(m)&&v({inst:m})})},[d]),s(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return QN.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,QN}var Ane;function TQe(){return Ane||(Ane=1,KN.exports=RQe()),KN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var One;function MQe(){if(One)return XN;One=1;var e=mu(),t=TQe();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,a=e.useMemo,l=e.useDebugValue;return XN.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var g=o(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function b(T){if(!S){if(S=!0,C=T,T=f(T),p!==void 0&&m.hasValue){var k=m.value;if(p(k,T))return _=k}return _=T}if(k=_,r(C,T))return k;var A=f(T);return p!==void 0&&p(k,A)?(C=T,k):(C=T,_=A)}var S=!1,C,_,E=d===void 0?null:d;return[function(){return b(u())},E===null?void 0:function(){return b(E())}]},[u,d,f,p]);var v=i(c,g[0],g[1]);return s(function(){m.hasValue=!0,m.value=v},[v]),l(v),v},XN}var Dne;function AQe(){return Dne||(Dne=1,YN.exports=MQe()),YN.exports}var OQe=AQe();function DQe(e,t=n=>n){return OQe.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,PQe)}function PQe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}const ZN=O.createContext(null);function ime(){return typeof document>"u"?ZN:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ZN,ZN)}function yu(e){const t=O.useContext(ime());return e==null||e.warn,t}function va(e){const t=yu({warn:(e==null?void 0:e.router)===void 0}),n=(e==null?void 0:e.router)||t,r=O.useRef(void 0);return DQe(n.__store,i=>{if(e!=null&&e.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const o=Bl(r.current,e.select(i));return r.current=o,o}return e.select(i)}return i})}const KP=O.createContext(void 0),IQe=O.createContext(void 0);function xd(e){const t=O.useContext(e.from?IQe:KP);return va({select:r=>{const i=r.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(ad(!((e.shouldThrow??!0)&&!i),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),i!==void 0)return e.select?e.select(i):i},structuralSharing:e.structuralSharing})}function iU(e){return xd({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function oU(e){const{select:t,...n}=e;return xd({...n,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function sU(e){return xd({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.params):t.params})}function aU(e){return xd({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Oa(e){const{navigate:t}=yu();return O.useCallback(n=>t({from:e==null?void 0:e.from,...n}),[e==null?void 0:e.from,t])}let $Qe=class extends rme{constructor(t){super(t),this.useMatch=n=>xd({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>xd({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>aU({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>sU({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>oU({...n,from:this.id}),this.useLoaderData=n=>iU({...n,from:this.id}),this.useNavigate=()=>Oa({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}};function FQe(e){return new $Qe(e)}class NQe extends EQe{constructor(t){super(t),this.useMatch=n=>xd({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>xd({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>aU({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>sU({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>oU({...n,from:this.id}),this.useLoaderData=n=>iU({...n,from:this.id}),this.useNavigate=()=>Oa({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}}function LQe(e){return new NQe(e)}function Da(e){return new jQe(e,{silent:!0}).createRoute}class jQe{constructor(t,n){this.path=t,this.createRoute=r=>{this.silent;const i=FQe(r);return i.isRoot=!1,i},this.silent=n==null?void 0:n.silent}}class zQe{constructor(t){this.useMatch=n=>xd({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>xd({from:this.options.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>aU({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>sU({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>oU({...n,from:this.options.id}),this.useLoaderData=n=>iU({...n,from:this.options.id}),this.useNavigate=()=>{const n=yu();return Oa({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function mXt(e){return t=>new zQe({id:e,...t})}function BQe(e){const t=va({select:n=>`not-found-${n.location.pathname}-${n.status}`});return x.jsx(rU,{getResetKey:()=>t,onCatch:(n,r)=>{var i;if(Vl(n))(i=e.onCatch)==null||i.call(e,n,r);else throw n},errorComponent:({error:n})=>{var r;if(Vl(n))return(r=e.fallback)==null?void 0:r.call(e,n);throw n},children:e.children})}function UQe(){return x.jsx("p",{children:"Not Found"})}function NM(e){return x.jsx(x.Fragment,{children:e.children})}function ome(e,t,n){return t.options.notFoundComponent?x.jsx(t.options.notFoundComponent,{data:n}):e.options.defaultNotFoundComponent?x.jsx(e.options.defaultNotFoundComponent,{data:n}):x.jsx(UQe,{})}var JN,Pne;function HQe(){if(Pne)return JN;Pne=1;const e={},t=e.hasOwnProperty,n=(A,P)=>{for(const D in A)t.call(A,D)&&P(D,A[D])},r=(A,P)=>(P&&n(P,(D,F)=>{A[D]=F}),A),i=(A,P)=>{const D=A.length;let F=-1;for(;++F<D;)P(A[F])},o=A=>"\\u"+("0000"+A).slice(-4),s=(A,P)=>{let D=A.toString(16);return P?D:D.toUpperCase()},a=e.toString,l=Array.isArray,c=A=>typeof Buffer=="function"&&Buffer.isBuffer(A),u=A=>a.call(A)=="[object Object]",d=A=>typeof A=="string"||a.call(A)=="[object String]",f=A=>typeof A=="number"||a.call(A)=="[object Number]",p=A=>typeof A=="bigint",g=A=>typeof A=="function",m=A=>a.call(A)=="[object Map]",v=A=>a.call(A)=="[object Set]",b={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},S=/[\\\b\f\n\r\t]/,C=/[0-9]/,_=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,E=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,T=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,k=(A,P)=>{const D=()=>{V=L,++P.indentLevel,L=P.indent.repeat(P.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},I=P&&P.json;I&&(F.quotes="double",F.wrap=!0),P=r(F,P),P.quotes!="single"&&P.quotes!="double"&&P.quotes!="backtick"&&(P.quotes="single");const j=P.quotes=="double"?'"':P.quotes=="backtick"?"`":"'",M=P.compact,$=P.lowercaseHex;let L=P.indent.repeat(P.indentLevel),V="";const q=P.__inline1__,U=P.__inline2__,z=M?"":`
`;let B,G=!0;const Y=P.numbers=="binary",Q=P.numbers=="octal",K=P.numbers=="decimal",te=P.numbers=="hexadecimal";if(I&&A&&g(A.toJSON)&&(A=A.toJSON()),!d(A)){if(m(A))return A.size==0?"new Map()":(M||(P.__inline1__=!0,P.__inline2__=!1),"new Map("+k(Array.from(A),P)+")");if(v(A))return A.size==0?"new Set()":"new Set("+k(Array.from(A),P)+")";if(c(A))return A.length==0?"Buffer.from([])":"Buffer.from("+k(Array.from(A),P)+")";if(l(A))return B=[],P.wrap=!0,q&&(P.__inline1__=!1,P.__inline2__=!0),U||D(),i(A,ie=>{G=!1,U&&(P.__inline2__=!1),B.push((M||U?"":L)+k(ie,P))}),G?"[]":U?"["+B.join(", ")+"]":"["+z+B.join(","+z)+z+(M?"":V)+"]";if(f(A)||p(A)){if(I)return JSON.stringify(Number(A));let ie;if(K)ie=String(A);else if(te){let re=A.toString(16);$||(re=re.toUpperCase()),ie="0x"+re}else Y?ie="0b"+A.toString(2):Q&&(ie="0o"+A.toString(8));return p(A)?ie+"n":ie}else return p(A)?I?JSON.stringify(Number(A)):A+"n":u(A)?(B=[],P.wrap=!0,D(),n(A,(ie,re)=>{G=!1,B.push((M?"":L)+k(ie,P)+":"+(M?"":" ")+k(re,P))}),G?"{}":"{"+z+B.join(","+z)+z+(M?"":V)+"}"):I?JSON.stringify(A)||"null":String(A)}const ce=P.escapeEverything?E:T;return B=A.replace(ce,(ie,re,he,fe,ne,pe)=>{if(re){if(P.minimal)return re;const se=re.charCodeAt(0),ae=re.charCodeAt(1);if(P.es6){const X=(se-55296)*1024+ae-56320+65536;return"\\u{"+s(X,$)+"}"}return o(s(se,$))+o(s(ae,$))}if(he)return o(s(he.charCodeAt(0),$));if(ie=="\0"&&!I&&!C.test(pe.charAt(ne+1)))return"\\0";if(fe)return fe==j||P.escapeEverything?"\\"+fe:fe;if(S.test(ie))return b[ie];if(P.minimal&&!_.test(ie))return ie;const W=s(ie.charCodeAt(0),$);return I||W.length>2?o(W):"\\x"+("00"+W).slice(-2)}),j=="`"&&(B=B.replace(/\$\{/g,"\\${")),P.isScriptContext&&(B=B.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,I?"\\u003C!--":"\\x3C!--")),P.wrap&&(B=j+B+j),B};return k.version="3.0.2",JN=k,JN}HQe();function VQe({children:e,log:t}){return typeof document<"u"?null:x.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[e,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function WQe(){const e=yu(),n=(e.options.getScrollRestorationKey||b6)(e.latestLocation),r=n!==b6(e.latestLocation)?n:null;return!e.isScrollRestoring||!e.isServer?null:x.jsx(VQe,{children:`(${tme.toString()})(${JSON.stringify(eO)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const sme=O.memo(function({matchId:t}){var n,r;const i=yu(),o=va({select:b=>{var S;return(S=b.matches.find(C=>C.id===t))==null?void 0:S.routeId}});ad(o);const s=i.routesById[o],a=s.options.pendingComponent??i.options.defaultPendingComponent,l=a?x.jsx(a,{}):null,c=s.options.errorComponent??i.options.defaultErrorComponent,u=s.options.onCatch??i.options.defaultOnCatch,d=s.isRoot?s.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):s.options.notFoundComponent,f=(!s.isRoot||s.options.wrapInSuspense)&&(s.options.wrapInSuspense??a??((r=s.options.errorComponent)==null?void 0:r.preload))?O.Suspense:NM,p=c?rU:NM,g=d?BQe:NM,m=va({select:b=>b.loadedAt}),v=va({select:b=>{var S;const C=b.matches.findIndex(_=>_.id===t);return(S=b.matches[C-1])==null?void 0:S.routeId}});return x.jsxs(x.Fragment,{children:[x.jsx(KP.Provider,{value:t,children:x.jsx(f,{fallback:l,children:x.jsx(p,{getResetKey:()=>m,errorComponent:c||XP,onCatch:(b,S)=>{if(Vl(b))throw b;u==null||u(b,S)},children:x.jsx(g,{fallback:b=>{if(!d||b.routeId&&b.routeId!==o||!b.routeId&&!s.isRoot)throw b;return O.createElement(d,b)},children:x.jsx(GQe,{matchId:t})})})})}),v===zc&&i.options.scrollRestoration?x.jsxs(x.Fragment,{children:[x.jsx(qQe,{}),x.jsx(WQe,{})]}):null]})});function qQe(){const e=yu(),t=O.useRef(void 0);return x.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Ab(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.key)}const GQe=O.memo(function({matchId:t}){var n,r,i;const o=yu(),{match:s,key:a,routeId:l}=va({select:f=>{const p=f.matches.findIndex(C=>C.id===t),g=f.matches[p],m=g.routeId,v=o.routesById[m].options.remountDeps??o.options.defaultRemountDeps,b=v==null?void 0:v({routeId:m,loaderDeps:g.loaderDeps,params:g._strictParams,search:g._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:m,match:v6(g,["id","status","error"])}},structuralSharing:!0}),c=o.routesById[l],u=O.useMemo(()=>{const f=c.options.component??o.options.defaultComponent;return f?x.jsx(f,{},a):x.jsx(ame,{})},[a,c.options.component,o.options.defaultComponent]),d=(c.options.errorComponent??o.options.defaultErrorComponent)||XP;if(s.status==="notFound")return ad(Vl(s.error)),ome(o,c,s.error);if(s.status==="redirected")throw ad(Am(s.error)),(n=o.getMatch(s.id))==null?void 0:n.loadPromise;if(s.status==="error"){if(o.isServer)return x.jsx(d,{error:s.error,reset:void 0,info:{componentStack:""}});throw s.error}if(s.status==="pending"){const f=c.options.pendingMinMs??o.options.defaultPendingMinMs;if(f&&!((r=o.getMatch(s.id))!=null&&r.minPendingPromise)&&!o.isServer){const p=Jv();Promise.resolve().then(()=>{o.updateMatch(s.id,g=>({...g,minPendingPromise:p}))}),setTimeout(()=>{p.resolve(),o.updateMatch(s.id,g=>({...g,minPendingPromise:void 0}))},f)}throw(i=o.getMatch(s.id))==null?void 0:i.loadPromise}return u}),ame=O.memo(function(){const t=yu(),n=O.useContext(KP),r=va({select:c=>{var u;return(u=c.matches.find(d=>d.id===n))==null?void 0:u.routeId}}),i=t.routesById[r],o=va({select:c=>{const d=c.matches.find(f=>f.id===n);return ad(d),d.globalNotFound}}),s=va({select:c=>{var u;const d=c.matches,f=d.findIndex(p=>p.id===n);return(u=d[f+1])==null?void 0:u.id}});if(o)return ome(t,i,void 0);if(!s)return null;const a=x.jsx(sme,{matchId:s}),l=t.options.defaultPendingComponent?x.jsx(t.options.defaultPendingComponent,{}):null;return n===zc?x.jsx(O.Suspense,{fallback:l,children:a}):a}),sT=typeof window<"u"?O.useLayoutEffect:O.useEffect;function eL(e){const t=O.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function YQe(){const e=yu(),t=O.useRef({router:e,mounted:!1}),n=va({select:({isLoading:d})=>d}),[r,i]=O.useState(!1),o=va({select:d=>d.matches.some(f=>f.status==="pending"),structuralSharing:!0}),s=eL(n),a=n||r||o,l=eL(a),c=n||o,u=eL(c);return e.isServer||(e.startTransition=d=>{i(!0),O.startTransition(()=>{d(),i(!1)})}),O.useEffect(()=>{const d=e.history.subscribe(e.load),f=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ym(e.latestLocation.href)!==Ym(f.href)&&e.commitLocation({...f,replace:!0}),()=>{d()}},[e,e.history]),sT(()=>{if(typeof window<"u"&&e.clientSsr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(f){console.error(f)}})()},[e]),sT(()=>{s&&!n&&e.emit({type:"onLoad",...Ab(e.state)})},[s,e,n]),sT(()=>{u&&!c&&e.emit({type:"onBeforeRouteMount",...Ab(e.state)})},[c,u,e]),sT(()=>{l&&!a&&(e.emit({type:"onResolved",...Ab(e.state)}),e.__store.setState(d=>({...d,status:"idle",resolvedLocation:d.location})),hQe(e))},[a,l,e]),null}function XQe(){const e=yu(),t=e.options.defaultPendingComponent?x.jsx(e.options.defaultPendingComponent,{}):null,n=e.isServer||typeof document<"u"&&e.clientSsr?NM:O.Suspense,r=x.jsxs(n,{fallback:t,children:[x.jsx(YQe,{}),x.jsx(KQe,{})]});return e.options.InnerWrap?x.jsx(e.options.InnerWrap,{children:r}):r}function KQe(){const e=va({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),t=va({select:n=>n.loadedAt});return x.jsx(KP.Provider,{value:e,children:x.jsx(rU,{getResetKey:()=>t,errorComponent:XP,onCatch:n=>{n.message||n.toString()},children:e?x.jsx(sme,{matchId:e}):null})})}const QQe=e=>new ZQe(e);class ZQe extends SQe{constructor(t){super(t)}}function JQe({router:e,children:t,...n}){e.update({...e.options,...n,context:{...e.options.context,...n.context}});const r=ime(),i=x.jsx(r.Provider,{value:e,children:t});return e.options.Wrap?x.jsx(e.options.Wrap,{children:i}):i}function eZe({router:e,...t}){return x.jsx(JQe,{router:e,...t,children:x.jsx(XQe,{})})}function tZe(e){return va({select:t=>t.location})}const nZe=({title:e,favicon:t})=>x.jsxs(x.Fragment,{children:[x.jsx("title",{children:e}),x.jsx("link",{rel:"icon",href:t})]}),lme=st(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),rZe=st(x.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree"),Ine=st(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),iZe=st([x.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),x.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),oZe=st(x.jsx("path",{d:"M11.71 17.99C8.53 17.84 6 15.22 6 12c0-3.31 2.69-6 6-6 3.22 0 5.84 2.53 5.99 5.71l-2.1-.63C15.48 9.31 13.89 8 12 8c-2.21 0-4 1.79-4 4 0 1.89 1.31 3.48 3.08 3.89zM22 12c0 .3-.01.6-.04.9l-1.97-.59c.01-.1.01-.21.01-.31 0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8c.1 0 .21 0 .31-.01l.59 1.97c-.3.03-.6.04-.9.04-5.52 0-10-4.48-10-10S6.48 2 12 2s10 4.48 10 10m-3.77 4.26L22 15l-10-3 3 10 1.26-3.77 4.27 4.27 1.98-1.98z"}),"AdsClick"),sZe=st(x.jsx("path",{d:"M4 8h4V4H4zm6 12h4v-4h-4zm-6 0h4v-4H4zm0-6h4v-4H4zm6 0h4v-4h-4zm6-10v4h4V4zm-6 4h4V4h-4zm6 6h4v-4h-4zm0 6h4v-4h-4z"}),"Apps"),aZe=st(x.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),cme=st(x.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),lZe=st(x.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),cZe=st(x.jsx("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight"),uZe=st(x.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),dZe=st(x.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),fZe=st(x.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4"),pZe=st(x.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7"),ume=st(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),hZe=st(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),gZe=st(x.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),mZe=st(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),yZe=st(x.jsx("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll"),vZe=st(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),w1=st(x.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),dme=st(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),bZe=st(x.jsx("path",{d:"M3 3h18v2H3zm0 16h18v2H3z"}),"DensityLarge"),xZe=st(x.jsx("path",{d:"M3 3h18v2H3zm0 16h18v2H3zm0-8h18v2H3z"}),"DensityMedium"),SZe=st(x.jsx("path",{d:"M3 2h18v2H3zm0 18h18v2H3zm0-6h18v2H3zm0-6h18v2H3z"}),"DensitySmall"),wZe=st(x.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),CZe=st(x.jsx("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle"),_Ze=st(x.jsx("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83M6.21 18H5v-1.21l8.66-8.66 1.21 1.21zM11 20l4-4h6v4z"}),"DriveFileRenameOutline"),EZe=st([x.jsx("path",{d:"M8 8H6v7c0 1.1.9 2 2 2h9v-2H8z"},"0"),x.jsx("path",{d:"M20 3h-8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 8h-8V7h8zM4 12H2v7c0 1.1.9 2 2 2h9v-2H4z"},"1")],"DynamicFeed"),Ax=st(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),kZe=st([x.jsx("circle",{cx:"12",cy:"4",r:"2"},"0"),x.jsx("path",{d:"M15.89 8.11C15.5 7.72 14.83 7 13.53 7h-2.54C8.24 6.99 6 4.75 6 2H4c0 3.16 2.11 5.84 5 6.71V22h2v-6h2v6h2V10.05L18.95 14l1.41-1.41z"},"1")],"EmojiPeople"),fme=st(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),lU=st(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),cU=st(x.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),RZe=st(x.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),C1=st(x.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),TZe=st(x.jsx("path",{d:"M10.83 8H21V6H8.83zm5 5H18v-2h-4.17zM14 16.83V18h-4v-2h3.17l-3-3H6v-2h2.17l-3-3H3V6h.17L1.39 4.22 2.8 2.81l18.38 18.38-1.41 1.41z"}),"FilterListOff"),MZe=st(x.jsx("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),AZe=st(x.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),OZe=st(x.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit"),DZe=st(x.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),PZe=st(x.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory"),IZe=st([x.jsx("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),x.jsx("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDown"),$Ze=st(x.jsx("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),FZe=st(x.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9h-4v4h-2v-4H9V9h4V5h2v4h4z"}),"LibraryAdd"),pme=st(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),hme=st(x.jsx("path",{d:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5m-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3z"}),"LinkOff"),NZe=st(x.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),LZe=st(x.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),jZe=st(x.jsx("path",{d:"M6.41 21 5 19.59l4.83-4.83c.75-.75 1.17-1.77 1.17-2.83v-5.1L9.41 8.41 8 7l4-4 4 4-1.41 1.41L13 6.83v5.1c0 1.06.42 2.08 1.17 2.83L19 19.59 17.59 21 12 15.41z"}),"Merge"),zZe=st(x.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz"),gme=st(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),BZe=st(x.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),UZe=st(x.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),HZe=st(x.jsx("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline"),VZe=st(x.jsx("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),mme=st(x.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt"),WZe=st(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),qZe=st(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),GZe=st([x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),x.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff"),yme=st(x.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),YZe=st(x.jsx("path",{d:"M17.41 6.59 15 5.5l2.41-1.09L18.5 2l1.09 2.41L22 5.5l-2.41 1.09L18.5 9zm3.87 6.13L20.5 11l-.78 1.72-1.72.78 1.72.78.78 1.72.78-1.72L23 13.5zm-5.04 1.65 1.94 1.47-2.5 4.33-2.24-.94c-.2.13-.42.26-.64.37l-.3 2.4h-5l-.3-2.41c-.22-.11-.43-.23-.64-.37l-2.24.94-2.5-4.33 1.94-1.47c-.01-.11-.01-.24-.01-.36s0-.25.01-.37l-1.94-1.47 2.5-4.33 2.24.94c.2-.13.42-.26.64-.37L7.5 6h5l.3 2.41c.22.11.43.23.64.37l2.24-.94 2.5 4.33-1.94 1.47c.01.12.01.24.01.37s0 .24-.01.36M13 14c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3"}),"SettingsSuggest"),XZe=st(x.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"Share"),KZe=st(x.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"}),"SkipNext"),QZe=st(x.jsx("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"Sort"),vme=st(x.jsx("path",{d:"M11 21H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h6zm2 0h6c1.1 0 2-.9 2-2v-7h-8zm8-11V5c0-1.1-.9-2-2-2h-6v7z"}),"SpaceDashboard"),ZZe=st(x.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),JZe=st(x.jsx("path",{d:"m18 4-4 4h3v7c0 1.1-.9 2-2 2s-2-.9-2-2V8c0-2.21-1.79-4-4-4S5 5.79 5 8v7H2l4 4 4-4H7V8c0-1.1.9-2 2-2s2 .9 2 2v7c0 2.21 1.79 4 4 4s4-1.79 4-4V8h3z"}),"SwapCalls"),eJe=st(x.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),tJe=st(x.jsx("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99zM9 3 5 6.99h3V14h2V6.99h3z"}),"SwapVert"),nJe=st(x.jsx("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"}),"SyncAlt"),rJe=st(x.jsx("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5zm4.42-5.61L7.44 7.6h.12l2.03 5.79zM23 11v2h-8v-2z"}),"TextDecrease"),iJe=st(x.jsx("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5zm4.42-5.61L7.44 7.6h.12l2.03 5.79zM20 11h3v2h-3v3h-2v-3h-3v-2h3V8h2z"}),"TextIncrease"),oJe=st(x.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"}),"ViewColumn"),sJe=st(x.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),aJe=st(x.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),x6=({error:e})=>x.jsx(WP,{sx:{mt:7.5},anchorOrigin:{vertical:"top",horizontal:"center"},open:e!==null,children:x.jsx(K7,{style:{backgroundColor:"#8d36d4"},message:e!==null&&x.jsxs(lt,{sx:{display:"inline-flex",flexDirection:"row"},children:[x.jsx(fme,{}),x.jsx(lt,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(it,{children:e})})]})})}),bme=O.createContext(),Ox=()=>O.useContext(bme),lJe=({children:e})=>{const[t,n]=O.useState(()=>{const i=localStorage.getItem("presentationMode");return i?JSON.parse(i):!1}),r=()=>{n(i=>{const o=!i;return localStorage.setItem("presentationMode",JSON.stringify(o)),o}),document.body.classList.toggle("presentation-mode")};return x.jsx(bme.Provider,{value:{isPresentationMode:t,togglePresentationMode:r},children:e})},cJe={primary:{25:"#fffefd",50:"#fff7ed",200:"#fed7aa",300:"#fdba74",500:"#f97316",700:"#c2410c",950:"#431407",975:"#020100"},kwsPrimary:{main:"rgb(255, 108, 0)",accent:"rgb(255, 108, 0)",light:"rgb(200, 208, 214)",dark:"rgb(95, 105, 110)"},grey:{25:"#f8f8f8",50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09",975:"#121110"}},on={colors:cJe},rO=["filter_1d","filter_2d","filter_multi","head_to_head","regression","box_plot","bar_plot","histogram_plot","correlation_matrix","heatmap"],xme=["breakout","filter_orthogonal"],$ne=["Show in dashboard","Skip"],Fne=["pivot","merge","breakout","filter_orthogonal","mean","h2h_comparison","pca","gca","relative","show_table","wide_to_long"],Nne=["show_table","h2h_comparison"],uJe=",",dJe="|",aC="999",fJe=e=>e?"1.3125rem":"1rem",pJe=e=>e?5:0,hJe=e=>x.jsxs(x.Fragment,{children:["You are in readOnly mode. Click on"," ",x.jsxs("b",{children:[" ","'Clone Pipe ",x.jsx(e,{}),"'"]})," ","on the toolbar to be able to edit the pipe."]}),gJe=(e,t)=>{const n="matrix".includes("kws"),r=pJe(t),i={mode:"light",primary:{main:n?on.colors.kwsPrimary.main:on.colors.primary[500],accent:n?on.colors.kwsPrimary.accent:on.colors.grey[500],light:n?on.colors.kwsPrimary.light:on.colors.primary[200],dark:n?on.colors.kwsPrimary.dark:on.colors.primary[700],contrastText:"#fff"},grey:on.colors.grey,highlight:{text:"#000",match:Ho("#ffb74d",.5),flowGrid:_t("#000",.8),border:on.colors.grey[900]},background:{default:on.colors.primary[25],paper:on.colors.grey[25],elevated:on.colors.primary[50],disabled:on.colors.grey[300],border:on.colors.grey[600],table:on.colors.grey[50],tableCell:on.colors.grey[300]}},o={mode:"dark",primary:{main:n?on.colors.kwsPrimary.main:on.colors.primary[500],accent:n?on.colors.kwsPrimary.accent:on.colors.grey[500],light:n?on.colors.kwsPrimary.light:on.colors.primary[700],dark:n?on.colors.kwsPrimary.dark:on.colors.primary[300],contrastText:"#000"},highlight:{text:"#fff",match:Ho("#f57c00",.1),flowGrid:_t("#fff",.8),border:on.colors.grey[100]},background:{default:on.colors.primary[975],paper:on.colors.grey[975],elevated:on.colors.primary[950],disabled:on.colors.grey[700],border:on.colors.grey[400],table:on.colors.grey[900],tableCell:on.colors.grey[800]}};return $P({palette:e?o:i,text:{title:{main:n?"SmartPlot":"NoMaze"}},img:{favicon:{main:n?"smartplot_favicon.ico":"favicon.ico"}},typography:{fontSize:t?20:14,fontFamily:"'Geist', 'Roboto', 'Helvetica', 'Arial', sans-serif",body1:{fontSize:`calc(1rem + ${r}px)`,color:e?on.colors.grey[200]:on.colors.grey[800]},body2:{fontSize:`calc(12px + ${r}px)`,color:e?on.colors.grey[200]:on.colors.grey[800]},allVariants:{textAlign:"left"},h1:{fontWeight:"bold",color:e?on.colors.grey[25]:on.colors.grey[975],fontSize:t?"4rem":"2.5rem"},h2:{fontWeight:"bold",color:e?on.colors.grey[25]:on.colors.grey[975],fontSize:t?"3.5rem":"2rem"},h3:{fontWeight:"bold",color:e?on.colors.grey[25]:on.colors.grey[975],fontSize:t?"3rem":"1.75rem"},h4:{fontWeight:"bold",color:e?on.colors.grey[25]:on.colors.grey[975],fontSize:t?"2.5rem":"1.5rem"},h5:{fontWeight:"bold",color:e?on.colors.grey[25]:on.colors.grey[975],fontSize:t?"2rem":"1.25rem"},h6:{fontWeight:"bold",color:e?on.colors.grey[25]:on.colors.grey[975],fontSize:t?"1.75rem":"1rem"}},components:{MuiListSubheader:{styleOverrides:{root:{fontSize:`calc(1rem + ${r}px)`}}},MuiTableCell:{styleOverrides:{root:({theme:l})=>({fontSize:`calc(10pt + ${r}px)`,background:l.palette.background.tableCell})}},MuiToolbar:{styleOverrides:{root:({theme:l})=>({backgroundColor:n?l.palette.primary.main:_t(l.palette.background.paper,.3),backdropFilter:n?"none":"blur(10px)",WebkitBackdropFilter:n?"none":"blur(10px)",color:n?"#fff":l.palette.highlight.text})}},MuiAppBar:{styleOverrides:{root:({theme:l})=>({backgroundColor:_t(l.palette.background.paper,.3),backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"})}},MuiSnackbar:{styleOverrides:{root:({theme:l})=>({"& .MuiSnackbarContent-root":{backgroundColor:_t(l.palette.background.paper,.5),fontSize:`calc(12pt + ${r}px)`,border:`1px solid ${e?on.colors.grey[800]:on.colors.grey[300]}`,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"}})}},MuiTableContainer:{styleOverrides:{root:({theme:l})=>({backgroundColor:l.palette.background.paper})}},MuiPaper:{styleOverrides:{root:({theme:l})=>({backgroundColor:l.palette.background.paper,color:l.palette.text.primary,boxShadow:"none",border:`1px solid ${e?on.colors.grey[800]:on.colors.grey[300]}`})}},MuiButton:{styleOverrides:{root:({theme:l})=>({fontSize:`calc(14px + ${r}px)`,textTransform:"none",fontWeight:600,borderRadius:8,"& header *, header &":{"&:hover":{background:l.palette.primary.light}}})}},MuiSelect:{styleOverrides:{root:{fontSize:`calc(12pt + ${r}px)`,fontWeight:500,textTransform:"none !important"}}},MuiMenuItem:{styleOverrides:{root:{fontSize:`calc(12pt + ${r}px)`}}},MuiStack:{styleOverrides:{root:{maxWidth:"100%"}}},MuiIconButton:{styleOverrides:{root:({theme:l})=>({fontSize:`calc(12pt + ${r}px)`,"& header *, header &":{"&:hover":{background:l.palette.primary.light}}})}}},MuiTableContainer:{styleOverrides:{root:({theme:l})=>({backgroundColor:l.palette.background.table})}},MuiTableRow:{styleOverrides:{root:({_:l})=>({backgroundColor:"inherit"})}},breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536,onecol:1,twocol:800,threecol:1100,fourcol:1300,fivecol:1500,sixcol:2e3,twocol_small:400,threecol_small:600,fourcol_small:800,fivecol_small:1200,sixcol_small:1400}},shape:{borderRadius:8},spacing:8})},Sme=O.createContext(void 0),mJe=({children:e})=>{const[t,n]=O.useState(()=>{const s=localStorage.getItem("darkMode");return s?JSON.parse(s):!1}),{isPresentationMode:r}=Ox(),i=()=>{n(s=>{const a=!s;return localStorage.setItem("darkMode",JSON.stringify(a)),a})},o=gJe(t,r);return x.jsx(Sme.Provider,{value:{isDarkMode:t,toggleTheme:i,isPresentationMode:r,theme:o},children:x.jsx(ste,{theme:o,children:x.jsx(ste,{theme:o,children:x.jsxs(x.Fragment,{children:[x.jsx(j7,{}),e]})})})})},vy=()=>{const e=O.useContext(Sme);if(e===void 0)throw new Error("useThemeContext must be used within a CustomThemeProvider");return e};function wme(e,t){return function(){return e.apply(t,arguments)}}const{toString:yJe}=Object.prototype,{getPrototypeOf:uU}=Object,QP=(e=>t=>{const n=yJe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vu=e=>(e=e.toLowerCase(),t=>QP(t)===e),ZP=e=>t=>typeof t===e,{isArray:Dx}=Array,I_=ZP("undefined");function vJe(e){return e!==null&&!I_(e)&&e.constructor!==null&&!I_(e.constructor)&&il(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cme=vu("ArrayBuffer");function bJe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cme(e.buffer),t}const xJe=ZP("string"),il=ZP("function"),_me=ZP("number"),JP=e=>e!==null&&typeof e=="object",SJe=e=>e===!0||e===!1,LM=e=>{if(QP(e)!=="object")return!1;const t=uU(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wJe=vu("Date"),CJe=vu("File"),_Je=vu("Blob"),EJe=vu("FileList"),kJe=e=>JP(e)&&il(e.pipe),RJe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||il(e.append)&&((t=QP(e))==="formdata"||t==="object"&&il(e.toString)&&e.toString()==="[object FormData]"))},TJe=vu("URLSearchParams"),[MJe,AJe,OJe,DJe]=["ReadableStream","Request","Response","Headers"].map(vu),PJe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function a2(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Dx(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function Eme(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Xm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kme=e=>!I_(e)&&e!==Xm;function S6(){const{caseless:e}=kme(this)&&this||{},t={},n=(r,i)=>{const o=e&&Eme(t,i)||i;LM(t[o])&&LM(r)?t[o]=S6(t[o],r):LM(r)?t[o]=S6({},r):Dx(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&a2(arguments[r],n);return t}const IJe=(e,t,n,{allOwnKeys:r}={})=>(a2(t,(i,o)=>{n&&il(i)?e[o]=wme(i,n):e[o]=i},{allOwnKeys:r}),e),$Je=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),FJe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},NJe=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&uU(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},LJe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},jJe=e=>{if(!e)return null;if(Dx(e))return e;let t=e.length;if(!_me(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},zJe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&uU(Uint8Array)),BJe=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},UJe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},HJe=vu("HTMLFormElement"),VJe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Lne=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),WJe=vu("RegExp"),Rme=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};a2(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},qJe=e=>{Rme(e,(t,n)=>{if(il(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(il(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GJe=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Dx(e)?r(e):r(String(e).split(t)),n},YJe=()=>{},XJe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function KJe(e){return!!(e&&il(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const QJe=e=>{const t=new Array(10),n=(r,i)=>{if(JP(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Dx(r)?[]:{};return a2(r,(s,a)=>{const l=n(s,i+1);!I_(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return n(e,0)},ZJe=vu("AsyncFunction"),JJe=e=>e&&(JP(e)||il(e))&&il(e.then)&&il(e.catch),Tme=((e,t)=>e?setImmediate:t?((n,r)=>(Xm.addEventListener("message",({source:i,data:o})=>{i===Xm&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Xm.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",il(Xm.postMessage)),eet=typeof queueMicrotask<"u"?queueMicrotask.bind(Xm):typeof process<"u"&&process.nextTick||Tme,Ue={isArray:Dx,isArrayBuffer:Cme,isBuffer:vJe,isFormData:RJe,isArrayBufferView:bJe,isString:xJe,isNumber:_me,isBoolean:SJe,isObject:JP,isPlainObject:LM,isReadableStream:MJe,isRequest:AJe,isResponse:OJe,isHeaders:DJe,isUndefined:I_,isDate:wJe,isFile:CJe,isBlob:_Je,isRegExp:WJe,isFunction:il,isStream:kJe,isURLSearchParams:TJe,isTypedArray:zJe,isFileList:EJe,forEach:a2,merge:S6,extend:IJe,trim:PJe,stripBOM:$Je,inherits:FJe,toFlatObject:NJe,kindOf:QP,kindOfTest:vu,endsWith:LJe,toArray:jJe,forEachEntry:BJe,matchAll:UJe,isHTMLForm:HJe,hasOwnProperty:Lne,hasOwnProp:Lne,reduceDescriptors:Rme,freezeMethods:qJe,toObjectSet:GJe,toCamelCase:VJe,noop:YJe,toFiniteNumber:XJe,findKey:Eme,global:Xm,isContextDefined:kme,isSpecCompliantForm:KJe,toJSONObject:QJe,isAsyncFn:ZJe,isThenable:JJe,setImmediate:Tme,asap:eet};function En(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ue.inherits(En,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const Mme=En.prototype,Ame={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ame[e]={value:e}});Object.defineProperties(En,Ame);Object.defineProperty(Mme,"isAxiosError",{value:!0});En.from=(e,t,n,r,i,o)=>{const s=Object.create(Mme);return Ue.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),En.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const tet=null;function w6(e){return Ue.isPlainObject(e)||Ue.isArray(e)}function Ome(e){return Ue.endsWith(e,"[]")?e.slice(0,-2):e}function jne(e,t,n){return e?e.concat(t).map(function(i,o){return i=Ome(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function net(e){return Ue.isArray(e)&&!e.some(w6)}const ret=Ue.toFlatObject(Ue,{},null,function(t){return/^is[A-Z]/.test(t)});function eI(e,t,n){if(!Ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!Ue.isUndefined(v[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(t);if(!Ue.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Ue.isDate(g))return g.toISOString();if(!l&&Ue.isBlob(g))throw new En("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(g)||Ue.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,v){let b=g;if(g&&!v&&typeof g=="object"){if(Ue.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(Ue.isArray(g)&&net(g)||(Ue.isFileList(g)||Ue.endsWith(m,"[]"))&&(b=Ue.toArray(g)))return m=Ome(m),b.forEach(function(C,_){!(Ue.isUndefined(C)||C===null)&&t.append(s===!0?jne([m],_,o):s===null?m:m+"[]",c(C))}),!1}return w6(g)?!0:(t.append(jne(v,m,o),c(g)),!1)}const d=[],f=Object.assign(ret,{defaultVisitor:u,convertValue:c,isVisitable:w6});function p(g,m){if(!Ue.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),Ue.forEach(g,function(b,S){(!(Ue.isUndefined(b)||b===null)&&i.call(t,b,Ue.isString(S)?S.trim():S,m,f))===!0&&p(b,m?m.concat(S):[S])}),d.pop()}}if(!Ue.isObject(e))throw new TypeError("data must be an object");return p(e),t}function zne(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function dU(e,t){this._pairs=[],e&&eI(e,this,t)}const Dme=dU.prototype;Dme.append=function(t,n){this._pairs.push([t,n])};Dme.toString=function(t){const n=t?function(r){return t.call(this,r,zne)}:zne;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function iet(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pme(e,t,n){if(!t)return e;const r=n&&n.encode||iet;Ue.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=Ue.isURLSearchParams(t)?t.toString():new dU(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Bne{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ue.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ime={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oet=typeof URLSearchParams<"u"?URLSearchParams:dU,set=typeof FormData<"u"?FormData:null,aet=typeof Blob<"u"?Blob:null,cet={isBrowser:!0,classes:{URLSearchParams:oet,FormData:set,Blob:aet},protocols:["http","https","file","blob","url","data"]},fU=typeof window<"u"&&typeof document<"u",C6=typeof navigator=="object"&&navigator||void 0,uet=fU&&(!C6||["ReactNative","NativeScript","NS"].indexOf(C6.product)<0),det=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fet=fU&&window.location.href||"http://localhost",pet=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fU,hasStandardBrowserEnv:uet,hasStandardBrowserWebWorkerEnv:det,navigator:C6,origin:fet},Symbol.toStringTag,{value:"Module"})),ss={...pet,...cet};function het(e,t){return eI(e,new ss.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ss.isNode&&Ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function get(e){return Ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function met(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function $me(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Ue.isArray(i)?i.length:s,l?(Ue.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Ue.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&Ue.isArray(i[s])&&(i[s]=met(i[s])),!a)}if(Ue.isFormData(e)&&Ue.isFunction(e.entries)){const n={};return Ue.forEachEntry(e,(r,i)=>{t(get(r),i,n,0)}),n}return null}function yet(e,t,n){if(Ue.isString(e))try{return(t||JSON.parse)(e),Ue.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const l2={transitional:Ime,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ue.isObject(t);if(o&&Ue.isHTMLForm(t)&&(t=new FormData(t)),Ue.isFormData(t))return i?JSON.stringify($me(t)):t;if(Ue.isArrayBuffer(t)||Ue.isBuffer(t)||Ue.isStream(t)||Ue.isFile(t)||Ue.isBlob(t)||Ue.isReadableStream(t))return t;if(Ue.isArrayBufferView(t))return t.buffer;if(Ue.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return het(t,this.formSerializer).toString();if((a=Ue.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return eI(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),yet(t)):t}],transformResponse:[function(t){const n=this.transitional||l2.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ue.isResponse(t)||Ue.isReadableStream(t))return t;if(t&&Ue.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?En.from(a,En.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],e=>{l2.headers[e]={}});const vet=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bet=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&vet[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Une=Symbol("internals");function bw(e){return e&&String(e).trim().toLowerCase()}function jM(e){return e===!1||e==null?e:Ue.isArray(e)?e.map(jM):String(e)}function xet(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const wet=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tL(e,t,n,r,i){if(Ue.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Ue.isString(t)){if(Ue.isString(r))return t.indexOf(r)!==-1;if(Ue.isRegExp(r))return r.test(t)}}function Cet(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function _et(e,t){const n=Ue.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}let ba=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,l,c){const u=bw(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ue.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=jM(a))}const s=(a,l)=>Ue.forEach(a,(c,u)=>o(c,u,l));if(Ue.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Ue.isString(t)&&(t=t.trim())&&!wet(t))s(bet(t),n);else if(Ue.isHeaders(t))for(const[a,l]of t.entries())o(l,a,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=bw(t),t){const r=Ue.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return xet(i);if(Ue.isFunction(n))return n.call(this,i,r);if(Ue.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=bw(t),t){const r=Ue.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||tL(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=bw(s),s){const a=Ue.findKey(r,s);a&&(!n||tL(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ue.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||tL(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Ue.forEach(this,(i,o)=>{const s=Ue.findKey(r,o);if(s){n[s]=jM(i),delete n[o];return}const a=t?Cet(o):String(o).trim();a!==o&&delete n[o],n[a]=jM(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ue.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Une]=this[Une]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=bw(s);r[a]||(_et(i,s),r[a]=!0)}return Ue.isArray(t)?t.forEach(o):o(t),this}};ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(ba.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ue.freezeMethods(ba);function nL(e,t){const n=this||l2,r=t||n,i=ba.from(r.headers);let o=r.data;return Ue.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function Fme(e){return!!(e&&e.__CANCEL__)}function Px(e,t,n){En.call(this,e??"canceled",En.ERR_CANCELED,t,n),this.name="CanceledError"}Ue.inherits(Px,En,{__CANCEL__:!0});function Nme(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new En("Request failed with status code "+n.status,[En.ERR_BAD_REQUEST,En.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Eet(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ket(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Ret(e,t){let n=0,r=1e3/t,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const iO=(e,t,n=3)=>{let r=0;const i=ket(50,250);return Ret(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Hne=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Vne=e=>(...t)=>Ue.asap(()=>e(...t)),Tet=ss.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ss.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ss.origin),ss.navigator&&/(msie|trident)/i.test(ss.navigator.userAgent)):()=>!0,Met=ss.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Ue.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ue.isString(r)&&s.push("path="+r),Ue.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Aet(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Oet(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Lme(e,t,n){let r=!Aet(t);return e&&(r||n==!1)?Oet(e,t):t}const Wne=e=>e instanceof ba?{...e}:e;function L0(e,t){t=t||{};const n={};function r(c,u,d,f){return Ue.isPlainObject(c)&&Ue.isPlainObject(u)?Ue.merge.call({caseless:f},c,u):Ue.isPlainObject(u)?Ue.merge({},u):Ue.isArray(u)?u.slice():u}function i(c,u,d,f){if(Ue.isUndefined(u)){if(!Ue.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!Ue.isUndefined(u))return r(void 0,u)}function s(c,u){if(Ue.isUndefined(u)){if(!Ue.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(Wne(c),Wne(u),d,!0)};return Ue.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||i,f=d(e[u],t[u],u);Ue.isUndefined(f)&&d!==a||(n[u]=f)}),n}const jme=e=>{const t=L0({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=ba.from(s),t.url=Pme(Lme(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ue.isFormData(n)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ss.hasStandardBrowserEnv&&(r&&Ue.isFunction(r)&&(r=r(t)),r||r!==!1&&Tet(t.url))){const c=i&&o&&Met.read(o);c&&s.set(i,c)}return t},Det=typeof XMLHttpRequest<"u",Pet=Det&&function(e){return new Promise(function(n,r){const i=jme(e);let o=i.data;const s=ba.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function b(){if(!v)return;const C=ba.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:e,request:v};Nme(function(k){n(k),m()},function(k){r(k),m()},E),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(r(new En("Request aborted",En.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new En("Network Error",En.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||Ime;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new En(_,E.clarifyTimeoutError?En.ETIMEDOUT:En.ECONNABORTED,e,v)),v=null},o===void 0&&s.setContentType(null),"setRequestHeader"in v&&Ue.forEach(s.toJSON(),function(_,E){v.setRequestHeader(E,_)}),Ue.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),c&&([f,g]=iO(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,p]=iO(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=C=>{v&&(r(!C||C.type?new Px(null,e,v):C),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const S=Eet(i.url);if(S&&ss.protocols.indexOf(S)===-1){r(new En("Unsupported protocol "+S+":",En.ERR_BAD_REQUEST,e));return}v.send(o||null)})},Iet=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof En?u:new Px(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,o(new En(`timeout ${t} of ms exceeded`,En.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>Ue.asap(a),l}},$et=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Fet=async function*(e,t){for await(const n of Net(e))yield*$et(n,t)},Net=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},qne=(e,t,n,r)=>{const i=Fet(e,t);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},tI=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zme=tI&&typeof ReadableStream=="function",Let=tI&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Bme=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jet=zme&&Bme(()=>{let e=!1;const t=new Request(ss.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Gne=64*1024,_6=zme&&Bme(()=>Ue.isReadableStream(new Response("").body)),oO={stream:_6&&(e=>e.body)};tI&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!oO[t]&&(oO[t]=Ue.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new En(`Response type '${t}' is not supported`,En.ERR_NOT_SUPPORT,r)})})})(new Response);const zet=async e=>{if(e==null)return 0;if(Ue.isBlob(e))return e.size;if(Ue.isSpecCompliantForm(e))return(await new Request(ss.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(e)||Ue.isArrayBuffer(e))return e.byteLength;if(Ue.isURLSearchParams(e)&&(e=e+""),Ue.isString(e))return(await Let(e)).byteLength},Bet=async(e,t)=>{const n=Ue.toFiniteNumber(e.getContentLength());return n??zet(t)},Uet=tI&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=jme(e);c=c?(c+"").toLowerCase():"text";let p=Iet([i,o&&o.toAbortSignal()],s),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&jet&&n!=="get"&&n!=="head"&&(v=await Bet(u,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(Ue.isFormData(r)&&(T=E.headers.get("content-type"))&&u.setContentType(T),E.body){const[k,A]=Hne(v,iO(Vne(l)));r=qne(E.body,Gne,k,A)}}Ue.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:b?d:void 0});let S=await fetch(g);const C=_6&&(c==="stream"||c==="response");if(_6&&(a||C&&m)){const E={};["status","statusText","headers"].forEach(P=>{E[P]=S[P]});const T=Ue.toFiniteNumber(S.headers.get("content-length")),[k,A]=a&&Hne(T,iO(Vne(a),!0))||[];S=new Response(qne(S.body,Gne,k,()=>{A&&A(),m&&m()}),E)}c=c||"text";let _=await oO[Ue.findKey(oO,c)||"text"](S,e);return!C&&m&&m(),await new Promise((E,T)=>{Nme(E,T,{data:_,headers:ba.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:g})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new En("Network Error",En.ERR_NETWORK,e,g),{cause:b.cause||b}):En.from(b,b&&b.code,e,g)}}),E6={http:tet,xhr:Pet,fetch:Uet};Ue.forEach(E6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yne=e=>`- ${e}`,Het=e=>Ue.isFunction(e)||e===null||e===!1,Ume={getAdapter:e=>{e=Ue.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!Het(n)&&(r=E6[(s=String(n)).toLowerCase()],r===void 0))throw new En(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(Yne).join(`
`):" "+Yne(o[0]):"as no adapter specified";throw new En("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:E6};function rL(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Px(null,e)}function Xne(e){return rL(e),e.headers=ba.from(e.headers),e.data=nL.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ume.getAdapter(e.adapter||l2.adapter)(e).then(function(r){return rL(e),r.data=nL.call(e,e.transformResponse,r),r.headers=ba.from(r.headers),r},function(r){return Fme(r)||(rL(e),r&&r.response&&(r.response.data=nL.call(e,e.transformResponse,r.response),r.response.headers=ba.from(r.response.headers))),Promise.reject(r)})}const Hme="1.8.4",nI={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nI[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Kne={};nI.transitional=function(t,n,r){function i(o,s){return"[Axios v"+Hme+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new En(i(s," has been removed"+(n?" in "+n:"")),En.ERR_DEPRECATED);return n&&!Kne[s]&&(Kne[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};nI.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Vet(e,t,n){if(typeof e!="object")throw new En("options must be an object",En.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new En("option "+o+" must be "+l,En.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new En("Unknown option "+o,En.ERR_BAD_OPTION)}}const zM={assertOptions:Vet,validators:nI},Lu=zM.validators;let h0=class{constructor(t){this.defaults=t,this.interceptors={request:new Bne,response:new Bne}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=L0(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&zM.assertOptions(r,{silentJSONParsing:Lu.transitional(Lu.boolean),forcedJSONParsing:Lu.transitional(Lu.boolean),clarifyTimeoutError:Lu.transitional(Lu.boolean)},!1),i!=null&&(Ue.isFunction(i)?n.paramsSerializer={serialize:i}:zM.assertOptions(i,{encode:Lu.function,serialize:Lu.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zM.assertOptions(n,{baseUrl:Lu.spelling("baseURL"),withXsrfToken:Lu.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ue.merge(o.common,o[n.method]);o&&Ue.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=ba.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const g=[Xne.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){const g=a[d++],m=a[d++];try{p=g(p)}catch(v){m.call(this,v);break}}try{u=Xne.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=L0(this.defaults,t);const n=Lme(t.baseURL,t.url,t.allowAbsoluteUrls);return Pme(n,t.params,t.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(t){h0.prototype[t]=function(n,r){return this.request(L0(r||{},{method:t,url:n,data:(r||{}).data}))}});Ue.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(L0(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}h0.prototype[t]=n(),h0.prototype[t+"Form"]=n(!0)});let Wet=class Vme{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new Px(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Vme(function(i){t=i}),cancel:t}}};function qet(e){return function(n){return e.apply(null,n)}}function Get(e){return Ue.isObject(e)&&e.isAxiosError===!0}const k6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k6).forEach(([e,t])=>{k6[t]=e});function Wme(e){const t=new h0(e),n=wme(h0.prototype.request,t);return Ue.extend(n,h0.prototype,t,{allOwnKeys:!0}),Ue.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Wme(L0(e,i))},n}const ji=Wme(l2);ji.Axios=h0;ji.CanceledError=Px;ji.CancelToken=Wet;ji.isCancel=Fme;ji.VERSION=Hme;ji.toFormData=eI;ji.AxiosError=En;ji.Cancel=ji.CanceledError;ji.all=function(t){return Promise.all(t)};ji.spread=qet;ji.isAxiosError=Get;ji.mergeConfig=L0;ji.AxiosHeaders=ba;ji.formToJSON=e=>$me(Ue.isHTMLForm(e)?new FormData(e):e);ji.getAdapter=Ume.getAdapter;ji.HttpStatusCode=k6;ji.default=ji;const{Axios:bXt,AxiosError:xXt,CanceledError:SXt,isCancel:wXt,CancelToken:CXt,VERSION:_Xt,all:EXt,Cancel:kXt,isAxiosError:RXt,spread:TXt,toFormData:MXt,AxiosHeaders:AXt,HttpStatusCode:OXt,formToJSON:DXt,getAdapter:PXt,mergeConfig:IXt}=ji,rI=()=>({setToken:r=>{localStorage.setItem("access_token",r)},getAccessToken:()=>localStorage.getItem("access_token"),clearToken:()=>{localStorage.removeItem("access_token")}});function aT(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iL={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Qne;function Yet(){return Qne||(Qne=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof aT=="function"&&aT;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return s(m||g)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof aT=="function"&&aT,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,f,p,g,m,v=[],b=0,S=l.length,C=S,_=o.getTypeOf(l)!=="string";b<l.length;)C=S-b,d=_?(c=l[b++],u=b<S?l[b++]:0,b<S?l[b++]:0):(c=l.charCodeAt(b++),u=b<S?l.charCodeAt(b++):0,b<S?l.charCodeAt(b++):0),f=c>>2,p=(3&c)<<4|u>>4,g=1<C?(15&u)<<2|d>>6:64,m=2<C?63&d:64,v.push(a.charAt(f)+a.charAt(p)+a.charAt(g)+a.charAt(m));return v.join("")},i.decode=function(l){var c,u,d,f,p,g,m=0,v=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var S,C=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&C--,l.charAt(l.length-2)===a.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=s.uint8array?new Uint8Array(0|C):new Array(0|C);m<l.length;)c=a.indexOf(l.charAt(m++))<<2|(f=a.indexOf(l.charAt(m++)))>>4,u=(15&f)<<4|(p=a.indexOf(l.charAt(m++)))>>2,d=(3&p)<<6|(g=a.indexOf(l.charAt(m++))),S[v++]=c,p!==64&&(S[v++]=u),g!==64&&(S[v++]=d);return S}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,f,p,g){this.compressedSize=u,this.uncompressedSize=d,this.crc32=f,this.compression=p,this.compressedContent=g}c.prototype={getContentWorker:function(){var u=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(c,u,d,f){var p=s,g=f+d;c^=-1;for(var m=f;m<g;m++)c=c>>>8^p[255&(c^u[m])];return-1^c}(0|l,a,a.length,0):function(c,u,d,f){var p=s,g=f+d;c^=-1;for(var m=f;m<g;m++)c=c>>>8^p[255&(c^u.charCodeAt(m))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(p,g){var m,v="";for(m=0;m<g;m++)v+=String.fromCharCode(255&p),p>>>=8;return v}function s(p,g,m,v,b,S){var C,_,E=p.file,T=p.compression,k=S!==c.utf8encode,A=a.transformTo("string",S(E.name)),P=a.transformTo("string",c.utf8encode(E.name)),D=E.comment,F=a.transformTo("string",S(D)),I=a.transformTo("string",c.utf8encode(D)),j=P.length!==E.name.length,M=I.length!==D.length,$="",L="",V="",q=E.dir,U=E.date,z={crc32:0,compressedSize:0,uncompressedSize:0};g&&!m||(z.crc32=p.crc32,z.compressedSize=p.compressedSize,z.uncompressedSize=p.uncompressedSize);var B=0;g&&(B|=8),k||!j&&!M||(B|=2048);var G=0,Y=0;q&&(G|=16),b==="UNIX"?(Y=798,G|=function(K,te){var ce=K;return K||(ce=te?16893:33204),(65535&ce)<<16}(E.unixPermissions,q)):(Y=20,G|=function(K){return 63&(K||0)}(E.dosPermissions)),C=U.getUTCHours(),C<<=6,C|=U.getUTCMinutes(),C<<=5,C|=U.getUTCSeconds()/2,_=U.getUTCFullYear()-1980,_<<=4,_|=U.getUTCMonth()+1,_<<=5,_|=U.getUTCDate(),j&&(L=o(1,1)+o(u(A),4)+P,$+="up"+o(L.length,2)+L),M&&(V=o(1,1)+o(u(F),4)+I,$+="uc"+o(V.length,2)+V);var Q="";return Q+=`
\0`,Q+=o(B,2),Q+=T.magic,Q+=o(C,2),Q+=o(_,2),Q+=o(z.crc32,4),Q+=o(z.compressedSize,4),Q+=o(z.uncompressedSize,4),Q+=o(A.length,2),Q+=o($.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Q+A+$,dirRecord:d.CENTRAL_FILE_HEADER+o(Y,2)+Q+o(F.length,2)+"\0\0\0\0"+o(G,4)+o(v,4)+A+$+F}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function f(p,g,m,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=m,this.encodeFileName=v,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(p){var g=p.meta.percent||0,m=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(g+100*(m-v-1))/m:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var g=this.streamFiles&&!p.file.dir;if(g){var m=s(p,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var g=this.streamFiles&&!p.file.dir,m=s(p,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),g)this.push({data:function(v){return d.DATA_DESCRIPTOR+o(v.crc32,4)+o(v.compressedSize,4)+o(v.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var m=this.bytesWritten-p,v=function(b,S,C,_,E){var T=a.transformTo("string",E(_));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(b,2)+o(b,2)+o(S,4)+o(C,4)+o(T.length,2)+T}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var g=this;return p.on("data",function(m){g.processChunk(m)}),p.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),p.on("error",function(m){g.error(m)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var g=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<g.length;m++)try{g[m].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,g=0;g<p.length;g++)p[g].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,p){d++;var g=function(S,C){var _=S||C,E=o[_];if(!E)throw new Error(_+" is not a valid compression method !");return E}(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},v=p.dir,b=p.date;p._compressWorker(g,m).withStreamInfo("file",{name:f,dir:v,date:b,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(f){return new s.Promise(function(p,g){var m=f.decompressed.getContentWorker().pipe(new c);m.on("error",function(v){g(v)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(f,p){var g=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(m){var v=new l(p);return v.load(m),v}).then(function(m){var v=[s.Promise.resolve(m)],b=m.files;if(p.checkCRC32)for(var S=0;S<b.length;S++)v.push(d(b[S]));return s.Promise.all(v)}).then(function(m){for(var v=m.shift(),b=v.files,S=0;S<b.length;S++){var C=b[S],_=C.fileNameStr,E=o.resolve(C.fileNameStr);g.file(E,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:p.createFolders}),C.dir||(g.file(E).unsafeOriginalName=_)}return v.zipComment.length&&(g.comment=v.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,c){o.call(this,l),this._helper=a;var u=this;a.on("data",function(d,f){u.push(d)||u._helper.pause(),c&&c(f)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(E,T,k){var A,P=a.getTypeOf(T),D=a.extend(k||{},u);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(E=b(E)),D.createFolders&&(A=v(E))&&S.call(this,A,!0);var F=P==="string"&&D.binary===!1&&D.base64===!1;k&&k.binary!==void 0||(D.binary=!F),(T instanceof d&&T.uncompressedSize===0||D.dir||!T||T.length===0)&&(D.base64=!1,D.binary=!0,T="",D.compression="STORE",P="string");var I=null;I=T instanceof d||T instanceof l?T:g.isNode&&g.isStream(T)?new m(E,T):a.prepareContent(E,T,D.binary,D.optimizedBinaryString,D.base64);var j=new f(E,I,D);this.files[E]=j}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),g=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),v=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var T=E.lastIndexOf("/");return 0<T?E.substring(0,T):""},b=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},S=function(E,T){return T=T!==void 0?T:u.createFolders,E=b(E),this.files[E]||o.call(this,E,null,{dir:!0,createFolders:T}),this.files[E]};function C(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var T,k,A;for(T in this.files)A=this.files[T],(k=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&E(k,A)},filter:function(E){var T=[];return this.forEach(function(k,A){E(k,A)&&T.push(A)}),T},file:function(E,T,k){if(arguments.length!==1)return E=this.root+E,o.call(this,E,T,k),this;if(C(E)){var A=E;return this.filter(function(D,F){return!F.dir&&A.test(D)})}var P=this.files[this.root+E];return P&&!P.dir?P:null},folder:function(E){if(!E)return this;if(C(E))return this.filter(function(P,D){return D.dir&&E.test(P)});var T=this.root+E,k=S.call(this,T),A=this.clone();return A.root=k.name,A},remove:function(E){E=this.root+E;var T=this.files[E];if(T||(E.slice(-1)!=="/"&&(E+="/"),T=this.files[E]),T&&!T.dir)delete this.files[E];else for(var k=this.filter(function(P,D){return D.name.slice(0,E.length)===E}),A=0;A<k.length;A++)delete this.files[k[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var T,k={};try{if((k=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");a.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var A=k.comment||this.comment||"";T=p.generateWorker(this,k,A)}catch(P){(T=new l("error")).error(P)}return new c(T,k.type||"string",k.mimeType)},generateAsync:function(E,T){return this.generateInternalStream(E).accumulate(T)},generateNodeStream:function(E,T){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(T)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new c(d):s.uint8array?new u(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,m){return new u.Promise(function(v,b){var S=[],C=g._internalType,_=g._outputType,E=g._mimeType;g.on("data",function(T,k){S.push(T),m&&m(k)}).on("error",function(T){S=[],b(T)}).on("end",function(){try{var T=function(k,A,P){switch(k){case"blob":return o.newBlob(o.transformTo("arraybuffer",A),P);case"base64":return l.encode(A);default:return o.transformTo(k,A)}}(_,function(k,A){var P,D=0,F=null,I=0;for(P=0;P<A.length;P++)I+=A[P].length;switch(k){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(F=new Uint8Array(I),P=0;P<A.length;P++)F.set(A[P],D),D+=A[P].length;return F;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+k+"'")}}(C,S),E);v(T)}catch(k){b(k)}S=[]}).resume()})}function p(g,m,v){var b=m;switch(m){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=m,this._mimeType=v,o.checkSupport(b),this._worker=g.pipe(new s(b)),g.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}p.prototype={accumulate:function(g){return f(this,g)},on:function(g,m){var v=this;return g==="data"?this._worker.on(g,function(b){m.call(v,b.data,b.meta)}):this._worker.on(g,function(){o.delay(m,arguments,v)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return s.nodebuffer?a.newBufferFrom(p,"utf-8"):function(g){var m,v,b,S,C,_=g.length,E=0;for(S=0;S<_;S++)(64512&(v=g.charCodeAt(S)))==55296&&S+1<_&&(64512&(b=g.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(b-56320),S++),E+=v<128?1:v<2048?2:v<65536?3:4;for(m=s.uint8array?new Uint8Array(E):new Array(E),S=C=0;C<E;S++)(64512&(v=g.charCodeAt(S)))==55296&&S+1<_&&(64512&(b=g.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(b-56320),S++),v<128?m[C++]=v:(v<2048?m[C++]=192|v>>>6:(v<65536?m[C++]=224|v>>>12:(m[C++]=240|v>>>18,m[C++]=128|v>>>12&63),m[C++]=128|v>>>6&63),m[C++]=128|63&v);return m}(p)},i.utf8decode=function(p){return s.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(g){var m,v,b,S,C=g.length,_=new Array(2*C);for(m=v=0;m<C;)if((b=g[m++])<128)_[v++]=b;else if(4<(S=c[b]))_[v++]=65533,m+=S-1;else{for(b&=S===2?31:S===3?15:7;1<S&&m<C;)b=b<<6|63&g[m++],S--;1<S?_[v++]=65533:b<65536?_[v++]=b:(b-=65536,_[v++]=55296|b>>10&1023,_[v++]=56320|1023&b)}return _.length!==v&&(_.subarray?_=_.subarray(0,v):_.length=v),o.applyFromCharCode(_)}(p=o.transformTo(s.uint8array?"uint8array":"array",p))},o.inherits(d,l),d.prototype.processChunk=function(p){var g=o.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=g;(g=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var v=function(S,C){var _;for((C=C||S.length)>S.length&&(C=S.length),_=C-1;0<=_&&(192&S[_])==128;)_--;return _<0||_===0?C:_+c[S[_]]>C?_:C}(g),b=g;v!==g.length&&(s.uint8array?(b=g.subarray(0,v),this.leftOver=g.subarray(v,g.length)):(b=g.slice(0,v),this.leftOver=g.slice(v,g.length))),this.push({data:i.utf8decode(b),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(m){return m}function u(m,v){for(var b=0;b<m.length;++b)v[b]=255&m.charCodeAt(b);return v}n("setimmediate"),i.newBlob=function(m,v){i.checkSupport("blob");try{return new Blob([m],{type:v})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(m),b.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,v,b){var S=[],C=0,_=m.length;if(_<=b)return String.fromCharCode.apply(null,m);for(;C<_;)v==="array"||v==="nodebuffer"?S.push(String.fromCharCode.apply(null,m.slice(C,Math.min(C+b,_)))):S.push(String.fromCharCode.apply(null,m.subarray(C,Math.min(C+b,_)))),C+=b;return S.join("")},stringifyByChar:function(m){for(var v="",b=0;b<m.length;b++)v+=String.fromCharCode(m[b]);return v},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(m){var v=65536,b=i.getTypeOf(m),S=!0;if(b==="uint8array"?S=d.applyCanBeUsed.uint8array:b==="nodebuffer"&&(S=d.applyCanBeUsed.nodebuffer),S)for(;1<v;)try{return d.stringifyByChunk(m,b,v)}catch{v=Math.floor(v/2)}return d.stringifyByChar(m)}function p(m,v){for(var b=0;b<m.length;b++)v[b]=m[b];return v}i.applyFromCharCode=f;var g={};g.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return g.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,a.allocBuffer(m.length))}},g.array={string:f,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},g.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},g.uint8array={string:f,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},g.nodebuffer={string:f,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return g.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,v){if(v=v||"",!m)return v;i.checkSupport(m);var b=i.getTypeOf(v);return g[b][m](v)},i.resolve=function(m){for(var v=m.split("/"),b=[],S=0;S<v.length;S++){var C=v[S];C==="."||C===""&&S!==0&&S!==v.length-1||(C===".."?b.pop():b.push(C))}return b.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var v,b,S="";for(b=0;b<(m||"").length;b++)S+="\\x"+((v=m.charCodeAt(b))<16?"0":"")+v.toString(16).toUpperCase();return S},i.delay=function(m,v,b){setImmediate(function(){m.apply(b||null,v||[])})},i.inherits=function(m,v){function b(){}b.prototype=v.prototype,m.prototype=new b},i.extend=function(){var m,v,b={};for(m=0;m<arguments.length;m++)for(v in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],v)&&b[v]===void 0&&(b[v]=arguments[m][v]);return b},i.prepareContent=function(m,v,b,S,C){return l.Promise.resolve(v).then(function(_){return o.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,T){var k=new FileReader;k.onload=function(A){E(A.target.result)},k.onerror=function(A){T(A.target.error)},k.readAsArrayBuffer(_)}):_}).then(function(_){var E=i.getTypeOf(_);return E?(E==="arraybuffer"?_=i.transformTo("uint8array",_):E==="string"&&(C?_=s.decode(_):b&&S!==!0&&(_=function(T){return u(T,o.uint8array?new Uint8Array(T.length):new Array(T.length))}(_))),_):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var p=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===f;return this.reader.setIndex(p),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",p=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,p,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var g=f-p;if(0<g)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function f(p,g){this.options=p,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var g,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(v){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===v)return u[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g,m,v,b=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<b;)g=p.readInt(2),m=p.readInt(2),v=p.readData(m),this.extraFields[g]={id:g,length:m,value:v};p.setIndex(b)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var b=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=o(p.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=o(p.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(p.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(g,m,v){this.name=g,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=m,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");o.prototype={internalStream:function(g){var m=null,v="string";try{if(!g)throw new Error("No output type specified.");var b=(v=g.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),m=this._decompressWorker();var S=!this._dataBinary;S&&!b&&(m=m.pipe(new l.Utf8EncodeWorker)),!S&&b&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(C){(m=new u("error")).error(C)}return new s(m,v,"")},async:function(g,m){return this.internalStream(g).accumulate(m)},nodeStream:function(g,m){return this.internalStream(g||"nodebuffer").toNodejsStream(m)},_compressWorker:function(g,m){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,g,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)o.prototype[d[p]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(g),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(g,0)};else{var f=new o.MessageChannel;f.port1.onmessage=g,s=function(){f.port2.postMessage(0)}}var p=[];function g(){var m,v;a=!0;for(var b=p.length;b;){for(v=p,p=[],m=-1;++m<b;)v[m]();b=p.length}a=!1}r.exports=function(m){p.push(m)!==1||a||s()}}).call(this,typeof Vm<"u"?Vm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==s&&m(this,b)}function f(b,S,C){this.promise=b,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function p(b,S,C){o(function(){var _;try{_=S(C)}catch(E){return a.reject(b,E)}_===b?a.reject(b,new TypeError("Cannot resolve promise with itself")):a.resolve(b,_)})}function g(b){var S=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof S=="function")return function(){S.apply(b,arguments)}}function m(b,S){var C=!1;function _(k){C||(C=!0,a.reject(b,k))}function E(k){C||(C=!0,a.resolve(b,k))}var T=v(function(){S(E,_)});T.status==="error"&&_(T.value)}function v(b,S){var C={};try{C.value=b(S),C.status="success"}catch(_){C.status="error",C.value=_}return C}(r.exports=d).prototype.finally=function(b){if(typeof b!="function")return this;var S=this.constructor;return this.then(function(C){return S.resolve(b()).then(function(){return C})},function(C){return S.resolve(b()).then(function(){throw C})})},d.prototype.catch=function(b){return this.then(null,b)},d.prototype.then=function(b,S){if(typeof b!="function"&&this.state===c||typeof S!="function"&&this.state===l)return this;var C=new this.constructor(s);return this.state!==u?p(C,this.state===c?b:S,this.outcome):this.queue.push(new f(C,b,S)),C},f.prototype.callFulfilled=function(b){a.resolve(this.promise,b)},f.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},f.prototype.callRejected=function(b){a.reject(this.promise,b)},f.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)},a.resolve=function(b,S){var C=v(g,S);if(C.status==="error")return a.reject(b,C.value);var _=C.value;if(_)m(b,_);else{b.state=c,b.outcome=S;for(var E=-1,T=b.queue.length;++E<T;)b.queue[E].callFulfilled(S)}return b},a.reject=function(b,S){b.state=l,b.outcome=S;for(var C=-1,_=b.queue.length;++C<_;)b.queue[C].callRejected(S);return b},d.resolve=function(b){return b instanceof this?b:a.resolve(new this(s),b)},d.reject=function(b){var S=new this(s);return a.reject(S,b)},d.all=function(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,_=!1;if(!C)return this.resolve([]);for(var E=new Array(C),T=0,k=-1,A=new this(s);++k<C;)P(b[k],k);return A;function P(D,F){S.resolve(D).then(function(I){E[F]=I,++T!==C||_||(_=!0,a.resolve(A,E))},function(I){_||(_=!0,a.reject(A,I))})}},d.race=function(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,_=!1;if(!C)return this.resolve([]);for(var E=-1,T=new this(s);++E<C;)k=b[E],S.resolve(k).then(function(A){_||(_=!0,a.resolve(T,A))},function(A){_||(_=!0,a.reject(T,A))});var k;return T}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,f=-1,p=0,g=8;function m(b){if(!(this instanceof m))return new m(b);this.options=s.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},b||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var C=o.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(C!==d)throw new Error(l[C]);if(S.header&&o.deflateSetHeader(this.strm,S.header),S.dictionary){var _;if(_=typeof S.dictionary=="string"?a.string2buf(S.dictionary):u.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(C=o.deflateSetDictionary(this.strm,_))!==d)throw new Error(l[C]);this._dict_set=!0}}function v(b,S){var C=new m(S);if(C.push(b,!0),C.err)throw C.msg||l[C.err];return C.result}m.prototype.push=function(b,S){var C,_,E=this.strm,T=this.options.chunkSize;if(this.ended)return!1;_=S===~~S?S:S===!0?4:0,typeof b=="string"?E.input=a.string2buf(b):u.call(b)==="[object ArrayBuffer]"?E.input=new Uint8Array(b):E.input=b,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(T),E.next_out=0,E.avail_out=T),(C=o.deflate(E,_))!==1&&C!==d)return this.onEnd(C),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&C!==1);return _===4?(C=o.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===d):_!==2||(this.onEnd(d),!(E.avail_out=0))},m.prototype.onData=function(b){this.chunks.push(b)},m.prototype.onEnd=function(b){b===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=m,i.deflate=v,i.deflateRaw=function(b,S){return(S=S||{}).raw=!0,v(b,S)},i.gzip=function(b,S){return(S=S||{}).gzip=!0,v(b,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||m&&m.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=o.inflateInit2(this.strm,v.windowBits);if(b!==l.Z_OK)throw new Error(c[b]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function g(m,v){var b=new p(v);if(b.push(m,!0),b.err)throw b.msg||c[b.err];return b.result}p.prototype.push=function(m,v){var b,S,C,_,E,T,k=this.strm,A=this.options.chunkSize,P=this.options.dictionary,D=!1;if(this.ended)return!1;S=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?k.input=a.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?k.input=new Uint8Array(m):k.input=m,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(A),k.next_out=0,k.avail_out=A),(b=o.inflate(k,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(T=typeof P=="string"?a.string2buf(P):f.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,b=o.inflateSetDictionary(this.strm,T)),b===l.Z_BUF_ERROR&&D===!0&&(b=l.Z_OK,D=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&b!==l.Z_STREAM_END&&(k.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=a.utf8border(k.output,k.next_out),_=k.next_out-C,E=a.buf2string(k.output,C),k.next_out=_,k.avail_out=A-_,_&&s.arraySet(k.output,k.output,C,_,0),this.onData(E)):this.onData(s.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(D=!0)}while((0<k.avail_in||k.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(b=o.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(k.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=g,i.inflateRaw=function(m,v){return(v=v||{}).raw=!0,g(m,v)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),f);else for(var p=0;p<d;p++)l[f+p]=c[u+p]},flattenChunks:function(l){var c,u,d,f,p,g;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(g=new Uint8Array(d),c=f=0,u=l.length;c<u;c++)p=l[c],g.set(p,f),f+=p.length;return g}},a={arraySet:function(l,c,u,d,f){for(var p=0;p<d;p++)l[f+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var p="",g=0;g<f;g++)p+=String.fromCharCode(d[g]);return p}l[254]=l[254]=1,i.string2buf=function(d){var f,p,g,m,v,b=d.length,S=0;for(m=0;m<b;m++)(64512&(p=d.charCodeAt(m)))==55296&&m+1<b&&(64512&(g=d.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),m++),S+=p<128?1:p<2048?2:p<65536?3:4;for(f=new o.Buf8(S),m=v=0;v<S;m++)(64512&(p=d.charCodeAt(m)))==55296&&m+1<b&&(64512&(g=d.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),m++),p<128?f[v++]=p:(p<2048?f[v++]=192|p>>>6:(p<65536?f[v++]=224|p>>>12:(f[v++]=240|p>>>18,f[v++]=128|p>>>12&63),f[v++]=128|p>>>6&63),f[v++]=128|63&p);return f},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),p=0,g=f.length;p<g;p++)f[p]=d.charCodeAt(p);return f},i.buf2string=function(d,f){var p,g,m,v,b=f||d.length,S=new Array(2*b);for(p=g=0;p<b;)if((m=d[p++])<128)S[g++]=m;else if(4<(v=l[m]))S[g++]=65533,p+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&p<b;)m=m<<6|63&d[p++],v--;1<v?S[g++]=65533:m<65536?S[g++]=m:(m-=65536,S[g++]=55296|m>>10&1023,S[g++]=56320|1023&m)}return u(S,g)},i.utf8border=function(d,f){var p;for((f=f||d.length)>d.length&&(f=d.length),p=f-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?f:p+l[d[p]]>f?p:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();r.exports=function(s,a,l,c){var u=o,d=c+l;s^=-1;for(var f=c;f<d;f++)s=s>>>8^u[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,f=4,p=0,g=-2,m=-1,v=4,b=2,S=8,C=9,_=286,E=30,T=19,k=2*_+1,A=15,P=3,D=258,F=D+P+1,I=42,j=113,M=1,$=2,L=3,V=4;function q(W,se){return W.msg=u[se],se}function U(W){return(W<<1)-(4<W?9:0)}function z(W){for(var se=W.length;0<=--se;)W[se]=0}function B(W){var se=W.state,ae=se.pending;ae>W.avail_out&&(ae=W.avail_out),ae!==0&&(s.arraySet(W.output,se.pending_buf,se.pending_out,ae,W.next_out),W.next_out+=ae,se.pending_out+=ae,W.total_out+=ae,W.avail_out-=ae,se.pending-=ae,se.pending===0&&(se.pending_out=0))}function G(W,se){a._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,se),W.block_start=W.strstart,B(W.strm)}function Y(W,se){W.pending_buf[W.pending++]=se}function Q(W,se){W.pending_buf[W.pending++]=se>>>8&255,W.pending_buf[W.pending++]=255&se}function K(W,se){var ae,X,Z=W.max_chain_length,oe=W.strstart,ge=W.prev_length,be=W.nice_match,de=W.strstart>W.w_size-F?W.strstart-(W.w_size-F):0,Re=W.window,xe=W.w_mask,ue=W.prev,we=W.strstart+D,Oe=Re[oe+ge-1],ke=Re[oe+ge];W.prev_length>=W.good_match&&(Z>>=2),be>W.lookahead&&(be=W.lookahead);do if(Re[(ae=se)+ge]===ke&&Re[ae+ge-1]===Oe&&Re[ae]===Re[oe]&&Re[++ae]===Re[oe+1]){oe+=2,ae++;do;while(Re[++oe]===Re[++ae]&&Re[++oe]===Re[++ae]&&Re[++oe]===Re[++ae]&&Re[++oe]===Re[++ae]&&Re[++oe]===Re[++ae]&&Re[++oe]===Re[++ae]&&Re[++oe]===Re[++ae]&&Re[++oe]===Re[++ae]&&oe<we);if(X=D-(we-oe),oe=we-D,ge<X){if(W.match_start=se,be<=(ge=X))break;Oe=Re[oe+ge-1],ke=Re[oe+ge]}}while((se=ue[se&xe])>de&&--Z!=0);return ge<=W.lookahead?ge:W.lookahead}function te(W){var se,ae,X,Z,oe,ge,be,de,Re,xe,ue=W.w_size;do{if(Z=W.window_size-W.lookahead-W.strstart,W.strstart>=ue+(ue-F)){for(s.arraySet(W.window,W.window,ue,ue,0),W.match_start-=ue,W.strstart-=ue,W.block_start-=ue,se=ae=W.hash_size;X=W.head[--se],W.head[se]=ue<=X?X-ue:0,--ae;);for(se=ae=ue;X=W.prev[--se],W.prev[se]=ue<=X?X-ue:0,--ae;);Z+=ue}if(W.strm.avail_in===0)break;if(ge=W.strm,be=W.window,de=W.strstart+W.lookahead,Re=Z,xe=void 0,xe=ge.avail_in,Re<xe&&(xe=Re),ae=xe===0?0:(ge.avail_in-=xe,s.arraySet(be,ge.input,ge.next_in,xe,de),ge.state.wrap===1?ge.adler=l(ge.adler,be,xe,de):ge.state.wrap===2&&(ge.adler=c(ge.adler,be,xe,de)),ge.next_in+=xe,ge.total_in+=xe,xe),W.lookahead+=ae,W.lookahead+W.insert>=P)for(oe=W.strstart-W.insert,W.ins_h=W.window[oe],W.ins_h=(W.ins_h<<W.hash_shift^W.window[oe+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[oe+P-1])&W.hash_mask,W.prev[oe&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=oe,oe++,W.insert--,!(W.lookahead+W.insert<P)););}while(W.lookahead<F&&W.strm.avail_in!==0)}function ce(W,se){for(var ae,X;;){if(W.lookahead<F){if(te(W),W.lookahead<F&&se===d)return M;if(W.lookahead===0)break}if(ae=0,W.lookahead>=P&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,ae=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),ae!==0&&W.strstart-ae<=W.w_size-F&&(W.match_length=K(W,ae)),W.match_length>=P)if(X=a._tr_tally(W,W.strstart-W.match_start,W.match_length-P),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=P){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,ae=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else X=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(X&&(G(W,!1),W.strm.avail_out===0))return M}return W.insert=W.strstart<P-1?W.strstart:P-1,se===f?(G(W,!0),W.strm.avail_out===0?L:V):W.last_lit&&(G(W,!1),W.strm.avail_out===0)?M:$}function ie(W,se){for(var ae,X,Z;;){if(W.lookahead<F){if(te(W),W.lookahead<F&&se===d)return M;if(W.lookahead===0)break}if(ae=0,W.lookahead>=P&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,ae=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=P-1,ae!==0&&W.prev_length<W.max_lazy_match&&W.strstart-ae<=W.w_size-F&&(W.match_length=K(W,ae),W.match_length<=5&&(W.strategy===1||W.match_length===P&&4096<W.strstart-W.match_start)&&(W.match_length=P-1)),W.prev_length>=P&&W.match_length<=W.prev_length){for(Z=W.strstart+W.lookahead-P,X=a._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-P),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=Z&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,ae=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=P-1,W.strstart++,X&&(G(W,!1),W.strm.avail_out===0))return M}else if(W.match_available){if((X=a._tr_tally(W,0,W.window[W.strstart-1]))&&G(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return M}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(X=a._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<P-1?W.strstart:P-1,se===f?(G(W,!0),W.strm.avail_out===0?L:V):W.last_lit&&(G(W,!1),W.strm.avail_out===0)?M:$}function re(W,se,ae,X,Z){this.good_length=W,this.max_lazy=se,this.nice_length=ae,this.max_chain=X,this.func=Z}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*k),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*T+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(A+1),this.heap=new s.Buf16(2*_+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*_+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(W){var se;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=b,(se=W.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?I:j,W.adler=se.wrap===2?0:1,se.last_flush=d,a._tr_init(se),p):q(W,g)}function ne(W){var se=fe(W);return se===p&&function(ae){ae.window_size=2*ae.w_size,z(ae.head),ae.max_lazy_match=o[ae.level].max_lazy,ae.good_match=o[ae.level].good_length,ae.nice_match=o[ae.level].nice_length,ae.max_chain_length=o[ae.level].max_chain,ae.strstart=0,ae.block_start=0,ae.lookahead=0,ae.insert=0,ae.match_length=ae.prev_length=P-1,ae.match_available=0,ae.ins_h=0}(W.state),se}function pe(W,se,ae,X,Z,oe){if(!W)return g;var ge=1;if(se===m&&(se=6),X<0?(ge=0,X=-X):15<X&&(ge=2,X-=16),Z<1||C<Z||ae!==S||X<8||15<X||se<0||9<se||oe<0||v<oe)return q(W,g);X===8&&(X=9);var be=new he;return(W.state=be).strm=W,be.wrap=ge,be.gzhead=null,be.w_bits=X,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=Z+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+P-1)/P),be.window=new s.Buf8(2*be.w_size),be.head=new s.Buf16(be.hash_size),be.prev=new s.Buf16(be.w_size),be.lit_bufsize=1<<Z+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new s.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=se,be.strategy=oe,be.method=ae,ne(W)}o=[new re(0,0,0,0,function(W,se){var ae=65535;for(ae>W.pending_buf_size-5&&(ae=W.pending_buf_size-5);;){if(W.lookahead<=1){if(te(W),W.lookahead===0&&se===d)return M;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var X=W.block_start+ae;if((W.strstart===0||W.strstart>=X)&&(W.lookahead=W.strstart-X,W.strstart=X,G(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-F&&(G(W,!1),W.strm.avail_out===0))return M}return W.insert=0,se===f?(G(W,!0),W.strm.avail_out===0?L:V):(W.strstart>W.block_start&&(G(W,!1),W.strm.avail_out),M)}),new re(4,4,8,4,ce),new re(4,5,16,8,ce),new re(4,6,32,32,ce),new re(4,4,16,16,ie),new re(8,16,32,32,ie),new re(8,16,128,128,ie),new re(8,32,128,256,ie),new re(32,128,258,1024,ie),new re(32,258,258,4096,ie)],i.deflateInit=function(W,se){return pe(W,se,S,15,8,0)},i.deflateInit2=pe,i.deflateReset=ne,i.deflateResetKeep=fe,i.deflateSetHeader=function(W,se){return W&&W.state?W.state.wrap!==2?g:(W.state.gzhead=se,p):g},i.deflate=function(W,se){var ae,X,Z,oe;if(!W||!W.state||5<se||se<0)return W?q(W,g):g;if(X=W.state,!W.output||!W.input&&W.avail_in!==0||X.status===666&&se!==f)return q(W,W.avail_out===0?-5:g);if(X.strm=W,ae=X.last_flush,X.last_flush=se,X.status===I)if(X.wrap===2)W.adler=0,Y(X,31),Y(X,139),Y(X,8),X.gzhead?(Y(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),Y(X,255&X.gzhead.time),Y(X,X.gzhead.time>>8&255),Y(X,X.gzhead.time>>16&255),Y(X,X.gzhead.time>>24&255),Y(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),Y(X,255&X.gzhead.os),X.gzhead.extra&&X.gzhead.extra.length&&(Y(X,255&X.gzhead.extra.length),Y(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(W.adler=c(W.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=69):(Y(X,0),Y(X,0),Y(X,0),Y(X,0),Y(X,0),Y(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),Y(X,3),X.status=j);else{var ge=S+(X.w_bits-8<<4)<<8;ge|=(2<=X.strategy||X.level<2?0:X.level<6?1:X.level===6?2:3)<<6,X.strstart!==0&&(ge|=32),ge+=31-ge%31,X.status=j,Q(X,ge),X.strstart!==0&&(Q(X,W.adler>>>16),Q(X,65535&W.adler)),W.adler=1}if(X.status===69)if(X.gzhead.extra){for(Z=X.pending;X.gzindex<(65535&X.gzhead.extra.length)&&(X.pending!==X.pending_buf_size||(X.gzhead.hcrc&&X.pending>Z&&(W.adler=c(W.adler,X.pending_buf,X.pending-Z,Z)),B(W),Z=X.pending,X.pending!==X.pending_buf_size));)Y(X,255&X.gzhead.extra[X.gzindex]),X.gzindex++;X.gzhead.hcrc&&X.pending>Z&&(W.adler=c(W.adler,X.pending_buf,X.pending-Z,Z)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=73)}else X.status=73;if(X.status===73)if(X.gzhead.name){Z=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Z&&(W.adler=c(W.adler,X.pending_buf,X.pending-Z,Z)),B(W),Z=X.pending,X.pending===X.pending_buf_size)){oe=1;break}oe=X.gzindex<X.gzhead.name.length?255&X.gzhead.name.charCodeAt(X.gzindex++):0,Y(X,oe)}while(oe!==0);X.gzhead.hcrc&&X.pending>Z&&(W.adler=c(W.adler,X.pending_buf,X.pending-Z,Z)),oe===0&&(X.gzindex=0,X.status=91)}else X.status=91;if(X.status===91)if(X.gzhead.comment){Z=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Z&&(W.adler=c(W.adler,X.pending_buf,X.pending-Z,Z)),B(W),Z=X.pending,X.pending===X.pending_buf_size)){oe=1;break}oe=X.gzindex<X.gzhead.comment.length?255&X.gzhead.comment.charCodeAt(X.gzindex++):0,Y(X,oe)}while(oe!==0);X.gzhead.hcrc&&X.pending>Z&&(W.adler=c(W.adler,X.pending_buf,X.pending-Z,Z)),oe===0&&(X.status=103)}else X.status=103;if(X.status===103&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&B(W),X.pending+2<=X.pending_buf_size&&(Y(X,255&W.adler),Y(X,W.adler>>8&255),W.adler=0,X.status=j)):X.status=j),X.pending!==0){if(B(W),W.avail_out===0)return X.last_flush=-1,p}else if(W.avail_in===0&&U(se)<=U(ae)&&se!==f)return q(W,-5);if(X.status===666&&W.avail_in!==0)return q(W,-5);if(W.avail_in!==0||X.lookahead!==0||se!==d&&X.status!==666){var be=X.strategy===2?function(de,Re){for(var xe;;){if(de.lookahead===0&&(te(de),de.lookahead===0)){if(Re===d)return M;break}if(de.match_length=0,xe=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,xe&&(G(de,!1),de.strm.avail_out===0))return M}return de.insert=0,Re===f?(G(de,!0),de.strm.avail_out===0?L:V):de.last_lit&&(G(de,!1),de.strm.avail_out===0)?M:$}(X,se):X.strategy===3?function(de,Re){for(var xe,ue,we,Oe,ke=de.window;;){if(de.lookahead<=D){if(te(de),de.lookahead<=D&&Re===d)return M;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=P&&0<de.strstart&&(ue=ke[we=de.strstart-1])===ke[++we]&&ue===ke[++we]&&ue===ke[++we]){Oe=de.strstart+D;do;while(ue===ke[++we]&&ue===ke[++we]&&ue===ke[++we]&&ue===ke[++we]&&ue===ke[++we]&&ue===ke[++we]&&ue===ke[++we]&&ue===ke[++we]&&we<Oe);de.match_length=D-(Oe-we),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=P?(xe=a._tr_tally(de,1,de.match_length-P),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(xe=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),xe&&(G(de,!1),de.strm.avail_out===0))return M}return de.insert=0,Re===f?(G(de,!0),de.strm.avail_out===0?L:V):de.last_lit&&(G(de,!1),de.strm.avail_out===0)?M:$}(X,se):o[X.level].func(X,se);if(be!==L&&be!==V||(X.status=666),be===M||be===L)return W.avail_out===0&&(X.last_flush=-1),p;if(be===$&&(se===1?a._tr_align(X):se!==5&&(a._tr_stored_block(X,0,0,!1),se===3&&(z(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),B(W),W.avail_out===0))return X.last_flush=-1,p}return se!==f?p:X.wrap<=0?1:(X.wrap===2?(Y(X,255&W.adler),Y(X,W.adler>>8&255),Y(X,W.adler>>16&255),Y(X,W.adler>>24&255),Y(X,255&W.total_in),Y(X,W.total_in>>8&255),Y(X,W.total_in>>16&255),Y(X,W.total_in>>24&255)):(Q(X,W.adler>>>16),Q(X,65535&W.adler)),B(W),0<X.wrap&&(X.wrap=-X.wrap),X.pending!==0?p:1)},i.deflateEnd=function(W){var se;return W&&W.state?(se=W.state.status)!==I&&se!==69&&se!==73&&se!==91&&se!==103&&se!==j&&se!==666?q(W,g):(W.state=null,se===j?q(W,-3):p):g},i.deflateSetDictionary=function(W,se){var ae,X,Z,oe,ge,be,de,Re,xe=se.length;if(!W||!W.state||(oe=(ae=W.state).wrap)===2||oe===1&&ae.status!==I||ae.lookahead)return g;for(oe===1&&(W.adler=l(W.adler,se,xe,0)),ae.wrap=0,xe>=ae.w_size&&(oe===0&&(z(ae.head),ae.strstart=0,ae.block_start=0,ae.insert=0),Re=new s.Buf8(ae.w_size),s.arraySet(Re,se,xe-ae.w_size,ae.w_size,0),se=Re,xe=ae.w_size),ge=W.avail_in,be=W.next_in,de=W.input,W.avail_in=xe,W.next_in=0,W.input=se,te(ae);ae.lookahead>=P;){for(X=ae.strstart,Z=ae.lookahead-(P-1);ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[X+P-1])&ae.hash_mask,ae.prev[X&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=X,X++,--Z;);ae.strstart=X,ae.lookahead=P-1,te(ae)}return ae.strstart+=ae.lookahead,ae.block_start=ae.strstart,ae.insert=ae.lookahead,ae.lookahead=0,ae.match_length=ae.prev_length=P-1,ae.match_available=0,W.next_in=be,W.input=de,W.avail_in=ge,ae.wrap=oe,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,c,u,d,f,p,g,m,v,b,S,C,_,E,T,k,A,P,D,F,I,j,M,$;a=o.state,l=o.next_in,M=o.input,c=l+(o.avail_in-5),u=o.next_out,$=o.output,d=u-(s-o.avail_out),f=u+(o.avail_out-257),p=a.dmax,g=a.wsize,m=a.whave,v=a.wnext,b=a.window,S=a.hold,C=a.bits,_=a.lencode,E=a.distcode,T=(1<<a.lenbits)-1,k=(1<<a.distbits)-1;e:do{C<15&&(S+=M[l++]<<C,C+=8,S+=M[l++]<<C,C+=8),A=_[S&T];t:for(;;){if(S>>>=P=A>>>24,C-=P,(P=A>>>16&255)===0)$[u++]=65535&A;else{if(!(16&P)){if((64&P)==0){A=_[(65535&A)+(S&(1<<P)-1)];continue t}if(32&P){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}D=65535&A,(P&=15)&&(C<P&&(S+=M[l++]<<C,C+=8),D+=S&(1<<P)-1,S>>>=P,C-=P),C<15&&(S+=M[l++]<<C,C+=8,S+=M[l++]<<C,C+=8),A=E[S&k];n:for(;;){if(S>>>=P=A>>>24,C-=P,!(16&(P=A>>>16&255))){if((64&P)==0){A=E[(65535&A)+(S&(1<<P)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(F=65535&A,C<(P&=15)&&(S+=M[l++]<<C,(C+=8)<P&&(S+=M[l++]<<C,C+=8)),p<(F+=S&(1<<P)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(S>>>=P,C-=P,(P=u-d)<F){if(m<(P=F-P)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(j=b,(I=0)===v){if(I+=g-P,P<D){for(D-=P;$[u++]=b[I++],--P;);I=u-F,j=$}}else if(v<P){if(I+=g+v-P,(P-=v)<D){for(D-=P;$[u++]=b[I++],--P;);if(I=0,v<D){for(D-=P=v;$[u++]=b[I++],--P;);I=u-F,j=$}}}else if(I+=v-P,P<D){for(D-=P;$[u++]=b[I++],--P;);I=u-F,j=$}for(;2<D;)$[u++]=j[I++],$[u++]=j[I++],$[u++]=j[I++],D-=3;D&&($[u++]=j[I++],1<D&&($[u++]=j[I++]))}else{for(I=u-F;$[u++]=$[I++],$[u++]=$[I++],$[u++]=$[I++],2<(D-=3););D&&($[u++]=$[I++],1<D&&($[u++]=$[I++]))}break}}break}}while(l<c&&u<f);l-=D=C>>3,S&=(1<<(C-=D<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<f?f-u+257:257-(u-f),a.hold=S,a.bits=C}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,f=0,p=-2,g=1,m=852,v=592;function b(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(I){var j;return I&&I.state?(j=I.state,I.total_in=I.total_out=j.total=0,I.msg="",j.wrap&&(I.adler=1&j.wrap),j.mode=g,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new o.Buf32(m),j.distcode=j.distdyn=new o.Buf32(v),j.sane=1,j.back=-1,f):p}function _(I){var j;return I&&I.state?((j=I.state).wsize=0,j.whave=0,j.wnext=0,C(I)):p}function E(I,j){var M,$;return I&&I.state?($=I.state,j<0?(M=0,j=-j):(M=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?p:($.window!==null&&$.wbits!==j&&($.window=null),$.wrap=M,$.wbits=j,_(I))):p}function T(I,j){var M,$;return I?($=new S,(I.state=$).window=null,(M=E(I,j))!==f&&(I.state=null),M):p}var k,A,P=!0;function D(I){if(P){var j;for(k=new o.Buf32(512),A=new o.Buf32(32),j=0;j<144;)I.lens[j++]=8;for(;j<256;)I.lens[j++]=9;for(;j<280;)I.lens[j++]=7;for(;j<288;)I.lens[j++]=8;for(c(u,I.lens,0,288,k,0,I.work,{bits:9}),j=0;j<32;)I.lens[j++]=5;c(d,I.lens,0,32,A,0,I.work,{bits:5}),P=!1}I.lencode=k,I.lenbits=9,I.distcode=A,I.distbits=5}function F(I,j,M,$){var L,V=I.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new o.Buf8(V.wsize)),$>=V.wsize?(o.arraySet(V.window,j,M-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):($<(L=V.wsize-V.wnext)&&(L=$),o.arraySet(V.window,j,M-$,L,V.wnext),($-=L)?(o.arraySet(V.window,j,M-$,$,0),V.wnext=$,V.whave=V.wsize):(V.wnext+=L,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=L))),0}i.inflateReset=_,i.inflateReset2=E,i.inflateResetKeep=C,i.inflateInit=function(I){return T(I,15)},i.inflateInit2=T,i.inflate=function(I,j){var M,$,L,V,q,U,z,B,G,Y,Q,K,te,ce,ie,re,he,fe,ne,pe,W,se,ae,X,Z=0,oe=new o.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return p;(M=I.state).mode===12&&(M.mode=13),q=I.next_out,L=I.output,z=I.avail_out,V=I.next_in,$=I.input,U=I.avail_in,B=M.hold,G=M.bits,Y=U,Q=z,se=f;e:for(;;)switch(M.mode){case g:if(M.wrap===0){M.mode=13;break}for(;G<16;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(2&M.wrap&&B===35615){oe[M.check=0]=255&B,oe[1]=B>>>8&255,M.check=a(M.check,oe,2,0),G=B=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&B)<<8)+(B>>8))%31){I.msg="incorrect header check",M.mode=30;break}if((15&B)!=8){I.msg="unknown compression method",M.mode=30;break}if(G-=4,W=8+(15&(B>>>=4)),M.wbits===0)M.wbits=W;else if(W>M.wbits){I.msg="invalid window size",M.mode=30;break}M.dmax=1<<W,I.adler=M.check=1,M.mode=512&B?10:12,G=B=0;break;case 2:for(;G<16;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(M.flags=B,(255&M.flags)!=8){I.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){I.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=B>>8&1),512&M.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,M.check=a(M.check,oe,2,0)),G=B=0,M.mode=3;case 3:for(;G<32;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}M.head&&(M.head.time=B),512&M.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,oe[2]=B>>>16&255,oe[3]=B>>>24&255,M.check=a(M.check,oe,4,0)),G=B=0,M.mode=4;case 4:for(;G<16;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}M.head&&(M.head.xflags=255&B,M.head.os=B>>8),512&M.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,M.check=a(M.check,oe,2,0)),G=B=0,M.mode=5;case 5:if(1024&M.flags){for(;G<16;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}M.length=B,M.head&&(M.head.extra_len=B),512&M.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,M.check=a(M.check,oe,2,0)),G=B=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(U<(K=M.length)&&(K=U),K&&(M.head&&(W=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),o.arraySet(M.head.extra,$,V,K,W)),512&M.flags&&(M.check=a(M.check,$,K,V)),U-=K,V+=K,M.length-=K),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(U===0)break e;for(K=0;W=$[V+K++],M.head&&W&&M.length<65536&&(M.head.name+=String.fromCharCode(W)),W&&K<U;);if(512&M.flags&&(M.check=a(M.check,$,K,V)),U-=K,V+=K,W)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(U===0)break e;for(K=0;W=$[V+K++],M.head&&W&&M.length<65536&&(M.head.comment+=String.fromCharCode(W)),W&&K<U;);if(512&M.flags&&(M.check=a(M.check,$,K,V)),U-=K,V+=K,W)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;G<16;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(B!==(65535&M.check)){I.msg="header crc mismatch",M.mode=30;break}G=B=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),I.adler=M.check=0,M.mode=12;break;case 10:for(;G<32;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}I.adler=M.check=b(B),G=B=0,M.mode=11;case 11:if(M.havedict===0)return I.next_out=q,I.avail_out=z,I.next_in=V,I.avail_in=U,M.hold=B,M.bits=G,2;I.adler=M.check=1,M.mode=12;case 12:if(j===5||j===6)break e;case 13:if(M.last){B>>>=7&G,G-=7&G,M.mode=27;break}for(;G<3;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}switch(M.last=1&B,G-=1,3&(B>>>=1)){case 0:M.mode=14;break;case 1:if(D(M),M.mode=20,j!==6)break;B>>>=2,G-=2;break e;case 2:M.mode=17;break;case 3:I.msg="invalid block type",M.mode=30}B>>>=2,G-=2;break;case 14:for(B>>>=7&G,G-=7&G;G<32;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if((65535&B)!=(B>>>16^65535)){I.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&B,G=B=0,M.mode=15,j===6)break e;case 15:M.mode=16;case 16:if(K=M.length){if(U<K&&(K=U),z<K&&(K=z),K===0)break e;o.arraySet(L,$,V,K,q),U-=K,V+=K,z-=K,q+=K,M.length-=K;break}M.mode=12;break;case 17:for(;G<14;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(M.nlen=257+(31&B),B>>>=5,G-=5,M.ndist=1+(31&B),B>>>=5,G-=5,M.ncode=4+(15&B),B>>>=4,G-=4,286<M.nlen||30<M.ndist){I.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;G<3;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}M.lens[ge[M.have++]]=7&B,B>>>=3,G-=3}for(;M.have<19;)M.lens[ge[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,ae={bits:M.lenbits},se=c(0,M.lens,0,19,M.lencode,0,M.work,ae),M.lenbits=ae.bits,se){I.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;re=(Z=M.lencode[B&(1<<M.lenbits)-1])>>>16&255,he=65535&Z,!((ie=Z>>>24)<=G);){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(he<16)B>>>=ie,G-=ie,M.lens[M.have++]=he;else{if(he===16){for(X=ie+2;G<X;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(B>>>=ie,G-=ie,M.have===0){I.msg="invalid bit length repeat",M.mode=30;break}W=M.lens[M.have-1],K=3+(3&B),B>>>=2,G-=2}else if(he===17){for(X=ie+3;G<X;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}G-=ie,W=0,K=3+(7&(B>>>=ie)),B>>>=3,G-=3}else{for(X=ie+7;G<X;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}G-=ie,W=0,K=11+(127&(B>>>=ie)),B>>>=7,G-=7}if(M.have+K>M.nlen+M.ndist){I.msg="invalid bit length repeat",M.mode=30;break}for(;K--;)M.lens[M.have++]=W}}if(M.mode===30)break;if(M.lens[256]===0){I.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,ae={bits:M.lenbits},se=c(u,M.lens,0,M.nlen,M.lencode,0,M.work,ae),M.lenbits=ae.bits,se){I.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,ae={bits:M.distbits},se=c(d,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,ae),M.distbits=ae.bits,se){I.msg="invalid distances set",M.mode=30;break}if(M.mode=20,j===6)break e;case 20:M.mode=21;case 21:if(6<=U&&258<=z){I.next_out=q,I.avail_out=z,I.next_in=V,I.avail_in=U,M.hold=B,M.bits=G,l(I,Q),q=I.next_out,L=I.output,z=I.avail_out,V=I.next_in,$=I.input,U=I.avail_in,B=M.hold,G=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;re=(Z=M.lencode[B&(1<<M.lenbits)-1])>>>16&255,he=65535&Z,!((ie=Z>>>24)<=G);){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(re&&(240&re)==0){for(fe=ie,ne=re,pe=he;re=(Z=M.lencode[pe+((B&(1<<fe+ne)-1)>>fe)])>>>16&255,he=65535&Z,!(fe+(ie=Z>>>24)<=G);){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}B>>>=fe,G-=fe,M.back+=fe}if(B>>>=ie,G-=ie,M.back+=ie,M.length=he,re===0){M.mode=26;break}if(32&re){M.back=-1,M.mode=12;break}if(64&re){I.msg="invalid literal/length code",M.mode=30;break}M.extra=15&re,M.mode=22;case 22:if(M.extra){for(X=M.extra;G<X;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}M.length+=B&(1<<M.extra)-1,B>>>=M.extra,G-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;re=(Z=M.distcode[B&(1<<M.distbits)-1])>>>16&255,he=65535&Z,!((ie=Z>>>24)<=G);){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if((240&re)==0){for(fe=ie,ne=re,pe=he;re=(Z=M.distcode[pe+((B&(1<<fe+ne)-1)>>fe)])>>>16&255,he=65535&Z,!(fe+(ie=Z>>>24)<=G);){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}B>>>=fe,G-=fe,M.back+=fe}if(B>>>=ie,G-=ie,M.back+=ie,64&re){I.msg="invalid distance code",M.mode=30;break}M.offset=he,M.extra=15&re,M.mode=24;case 24:if(M.extra){for(X=M.extra;G<X;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}M.offset+=B&(1<<M.extra)-1,B>>>=M.extra,G-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){I.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(z===0)break e;if(K=Q-z,M.offset>K){if((K=M.offset-K)>M.whave&&M.sane){I.msg="invalid distance too far back",M.mode=30;break}te=K>M.wnext?(K-=M.wnext,M.wsize-K):M.wnext-K,K>M.length&&(K=M.length),ce=M.window}else ce=L,te=q-M.offset,K=M.length;for(z<K&&(K=z),z-=K,M.length-=K;L[q++]=ce[te++],--K;);M.length===0&&(M.mode=21);break;case 26:if(z===0)break e;L[q++]=M.length,z--,M.mode=21;break;case 27:if(M.wrap){for(;G<32;){if(U===0)break e;U--,B|=$[V++]<<G,G+=8}if(Q-=z,I.total_out+=Q,M.total+=Q,Q&&(I.adler=M.check=M.flags?a(M.check,L,Q,q-Q):s(M.check,L,Q,q-Q)),Q=z,(M.flags?B:b(B))!==M.check){I.msg="incorrect data check",M.mode=30;break}G=B=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;G<32;){if(U===0)break e;U--,B+=$[V++]<<G,G+=8}if(B!==(4294967295&M.total)){I.msg="incorrect length check",M.mode=30;break}G=B=0}M.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return p}return I.next_out=q,I.avail_out=z,I.next_in=V,I.avail_in=U,M.hold=B,M.bits=G,(M.wsize||Q!==I.avail_out&&M.mode<30&&(M.mode<27||j!==4))&&F(I,I.output,I.next_out,Q-I.avail_out)?(M.mode=31,-4):(Y-=I.avail_in,Q-=I.avail_out,I.total_in+=Y,I.total_out+=Q,M.total+=Q,M.wrap&&Q&&(I.adler=M.check=M.flags?a(M.check,L,Q,I.next_out-Q):s(M.check,L,Q,I.next_out-Q)),I.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(Y==0&&Q===0||j===4)&&se===f&&(se=-5),se)},i.inflateEnd=function(I){if(!I||!I.state)return p;var j=I.state;return j.window&&(j.window=null),I.state=null,f},i.inflateGetHeader=function(I,j){var M;return I&&I.state?(2&(M=I.state).wrap)==0?p:((M.head=j).done=!1,f):p},i.inflateSetDictionary=function(I,j){var M,$=j.length;return I&&I.state?(M=I.state).wrap!==0&&M.mode!==11?p:M.mode===11&&s(1,j,$,0)!==M.check?-3:F(I,j,$,$)?(M.mode=31,-4):(M.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,f,p,g,m,v,b){var S,C,_,E,T,k,A,P,D,F=b.bits,I=0,j=0,M=0,$=0,L=0,V=0,q=0,U=0,z=0,B=0,G=null,Y=0,Q=new o.Buf16(16),K=new o.Buf16(16),te=null,ce=0;for(I=0;I<=15;I++)Q[I]=0;for(j=0;j<p;j++)Q[d[f+j]]++;for(L=F,$=15;1<=$&&Q[$]===0;$--);if($<L&&(L=$),$===0)return g[m++]=20971520,g[m++]=20971520,b.bits=1,0;for(M=1;M<$&&Q[M]===0;M++);for(L<M&&(L=M),I=U=1;I<=15;I++)if(U<<=1,(U-=Q[I])<0)return-1;if(0<U&&(u===0||$!==1))return-1;for(K[1]=0,I=1;I<15;I++)K[I+1]=K[I]+Q[I];for(j=0;j<p;j++)d[f+j]!==0&&(v[K[d[f+j]]++]=j);if(k=u===0?(G=te=v,19):u===1?(G=s,Y-=257,te=a,ce-=257,256):(G=l,te=c,-1),I=M,T=m,q=j=B=0,_=-1,E=(z=1<<(V=L))-1,u===1&&852<z||u===2&&592<z)return 1;for(;;){for(A=I-q,D=v[j]<k?(P=0,v[j]):v[j]>k?(P=te[ce+v[j]],G[Y+v[j]]):(P=96,0),S=1<<I-q,M=C=1<<V;g[T+(B>>q)+(C-=S)]=A<<24|P<<16|D|0,C!==0;);for(S=1<<I-1;B&S;)S>>=1;if(S!==0?(B&=S-1,B+=S):B=0,j++,--Q[I]==0){if(I===$)break;I=d[f+v[j]]}if(L<I&&(B&E)!==_){for(q===0&&(q=L),T+=M,U=1<<(V=I-q);V+q<$&&!((U-=Q[V+q])<=0);)V++,U<<=1;if(z+=1<<V,u===1&&852<z||u===2&&592<z)return 1;g[_=B&E]=L<<24|V<<16|T-m|0}}return B!==0&&(g[T+B]=I-q<<24|64<<16|0),b.bits=L,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(Z){for(var oe=Z.length;0<=--oe;)Z[oe]=0}var c=0,u=29,d=256,f=d+1+u,p=30,g=19,m=2*f+1,v=15,b=16,S=7,C=256,_=16,E=17,T=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(f+2));l(F);var I=new Array(2*p);l(I);var j=new Array(512);l(j);var M=new Array(256);l(M);var $=new Array(u);l($);var L,V,q,U=new Array(p);function z(Z,oe,ge,be,de){this.static_tree=Z,this.extra_bits=oe,this.extra_base=ge,this.elems=be,this.max_length=de,this.has_stree=Z&&Z.length}function B(Z,oe){this.dyn_tree=Z,this.max_code=0,this.stat_desc=oe}function G(Z){return Z<256?j[Z]:j[256+(Z>>>7)]}function Y(Z,oe){Z.pending_buf[Z.pending++]=255&oe,Z.pending_buf[Z.pending++]=oe>>>8&255}function Q(Z,oe,ge){Z.bi_valid>b-ge?(Z.bi_buf|=oe<<Z.bi_valid&65535,Y(Z,Z.bi_buf),Z.bi_buf=oe>>b-Z.bi_valid,Z.bi_valid+=ge-b):(Z.bi_buf|=oe<<Z.bi_valid&65535,Z.bi_valid+=ge)}function K(Z,oe,ge){Q(Z,ge[2*oe],ge[2*oe+1])}function te(Z,oe){for(var ge=0;ge|=1&Z,Z>>>=1,ge<<=1,0<--oe;);return ge>>>1}function ce(Z,oe,ge){var be,de,Re=new Array(v+1),xe=0;for(be=1;be<=v;be++)Re[be]=xe=xe+ge[be-1]<<1;for(de=0;de<=oe;de++){var ue=Z[2*de+1];ue!==0&&(Z[2*de]=te(Re[ue]++,ue))}}function ie(Z){var oe;for(oe=0;oe<f;oe++)Z.dyn_ltree[2*oe]=0;for(oe=0;oe<p;oe++)Z.dyn_dtree[2*oe]=0;for(oe=0;oe<g;oe++)Z.bl_tree[2*oe]=0;Z.dyn_ltree[2*C]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function re(Z){8<Z.bi_valid?Y(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function he(Z,oe,ge,be){var de=2*oe,Re=2*ge;return Z[de]<Z[Re]||Z[de]===Z[Re]&&be[oe]<=be[ge]}function fe(Z,oe,ge){for(var be=Z.heap[ge],de=ge<<1;de<=Z.heap_len&&(de<Z.heap_len&&he(oe,Z.heap[de+1],Z.heap[de],Z.depth)&&de++,!he(oe,be,Z.heap[de],Z.depth));)Z.heap[ge]=Z.heap[de],ge=de,de<<=1;Z.heap[ge]=be}function ne(Z,oe,ge){var be,de,Re,xe,ue=0;if(Z.last_lit!==0)for(;be=Z.pending_buf[Z.d_buf+2*ue]<<8|Z.pending_buf[Z.d_buf+2*ue+1],de=Z.pending_buf[Z.l_buf+ue],ue++,be===0?K(Z,de,oe):(K(Z,(Re=M[de])+d+1,oe),(xe=k[Re])!==0&&Q(Z,de-=$[Re],xe),K(Z,Re=G(--be),ge),(xe=A[Re])!==0&&Q(Z,be-=U[Re],xe)),ue<Z.last_lit;);K(Z,C,oe)}function pe(Z,oe){var ge,be,de,Re=oe.dyn_tree,xe=oe.stat_desc.static_tree,ue=oe.stat_desc.has_stree,we=oe.stat_desc.elems,Oe=-1;for(Z.heap_len=0,Z.heap_max=m,ge=0;ge<we;ge++)Re[2*ge]!==0?(Z.heap[++Z.heap_len]=Oe=ge,Z.depth[ge]=0):Re[2*ge+1]=0;for(;Z.heap_len<2;)Re[2*(de=Z.heap[++Z.heap_len]=Oe<2?++Oe:0)]=1,Z.depth[de]=0,Z.opt_len--,ue&&(Z.static_len-=xe[2*de+1]);for(oe.max_code=Oe,ge=Z.heap_len>>1;1<=ge;ge--)fe(Z,Re,ge);for(de=we;ge=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],fe(Z,Re,1),be=Z.heap[1],Z.heap[--Z.heap_max]=ge,Z.heap[--Z.heap_max]=be,Re[2*de]=Re[2*ge]+Re[2*be],Z.depth[de]=(Z.depth[ge]>=Z.depth[be]?Z.depth[ge]:Z.depth[be])+1,Re[2*ge+1]=Re[2*be+1]=de,Z.heap[1]=de++,fe(Z,Re,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(ke,Ie){var ve,_e,$e,De,ot,Me,ze=Ie.dyn_tree,Qe=Ie.max_code,Rt=Ie.stat_desc.static_tree,Et=Ie.stat_desc.has_stree,Wt=Ie.stat_desc.extra_bits,vn=Ie.stat_desc.extra_base,It=Ie.stat_desc.max_length,$t=0;for(De=0;De<=v;De++)ke.bl_count[De]=0;for(ze[2*ke.heap[ke.heap_max]+1]=0,ve=ke.heap_max+1;ve<m;ve++)It<(De=ze[2*ze[2*(_e=ke.heap[ve])+1]+1]+1)&&(De=It,$t++),ze[2*_e+1]=De,Qe<_e||(ke.bl_count[De]++,ot=0,vn<=_e&&(ot=Wt[_e-vn]),Me=ze[2*_e],ke.opt_len+=Me*(De+ot),Et&&(ke.static_len+=Me*(Rt[2*_e+1]+ot)));if($t!==0){do{for(De=It-1;ke.bl_count[De]===0;)De--;ke.bl_count[De]--,ke.bl_count[De+1]+=2,ke.bl_count[It]--,$t-=2}while(0<$t);for(De=It;De!==0;De--)for(_e=ke.bl_count[De];_e!==0;)Qe<($e=ke.heap[--ve])||(ze[2*$e+1]!==De&&(ke.opt_len+=(De-ze[2*$e+1])*ze[2*$e],ze[2*$e+1]=De),_e--)}}(Z,oe),ce(Re,Oe,Z.bl_count)}function W(Z,oe,ge){var be,de,Re=-1,xe=oe[1],ue=0,we=7,Oe=4;for(xe===0&&(we=138,Oe=3),oe[2*(ge+1)+1]=65535,be=0;be<=ge;be++)de=xe,xe=oe[2*(be+1)+1],++ue<we&&de===xe||(ue<Oe?Z.bl_tree[2*de]+=ue:de!==0?(de!==Re&&Z.bl_tree[2*de]++,Z.bl_tree[2*_]++):ue<=10?Z.bl_tree[2*E]++:Z.bl_tree[2*T]++,Re=de,Oe=(ue=0)===xe?(we=138,3):de===xe?(we=6,3):(we=7,4))}function se(Z,oe,ge){var be,de,Re=-1,xe=oe[1],ue=0,we=7,Oe=4;for(xe===0&&(we=138,Oe=3),be=0;be<=ge;be++)if(de=xe,xe=oe[2*(be+1)+1],!(++ue<we&&de===xe)){if(ue<Oe)for(;K(Z,de,Z.bl_tree),--ue!=0;);else de!==0?(de!==Re&&(K(Z,de,Z.bl_tree),ue--),K(Z,_,Z.bl_tree),Q(Z,ue-3,2)):ue<=10?(K(Z,E,Z.bl_tree),Q(Z,ue-3,3)):(K(Z,T,Z.bl_tree),Q(Z,ue-11,7));Re=de,Oe=(ue=0)===xe?(we=138,3):de===xe?(we=6,3):(we=7,4)}}l(U);var ae=!1;function X(Z,oe,ge,be){Q(Z,(c<<1)+(be?1:0),3),function(de,Re,xe,ue){re(de),Y(de,xe),Y(de,~xe),o.arraySet(de.pending_buf,de.window,Re,xe,de.pending),de.pending+=xe}(Z,oe,ge)}i._tr_init=function(Z){ae||(function(){var oe,ge,be,de,Re,xe=new Array(v+1);for(de=be=0;de<u-1;de++)for($[de]=be,oe=0;oe<1<<k[de];oe++)M[be++]=de;for(M[be-1]=de,de=Re=0;de<16;de++)for(U[de]=Re,oe=0;oe<1<<A[de];oe++)j[Re++]=de;for(Re>>=7;de<p;de++)for(U[de]=Re<<7,oe=0;oe<1<<A[de]-7;oe++)j[256+Re++]=de;for(ge=0;ge<=v;ge++)xe[ge]=0;for(oe=0;oe<=143;)F[2*oe+1]=8,oe++,xe[8]++;for(;oe<=255;)F[2*oe+1]=9,oe++,xe[9]++;for(;oe<=279;)F[2*oe+1]=7,oe++,xe[7]++;for(;oe<=287;)F[2*oe+1]=8,oe++,xe[8]++;for(ce(F,f+1,xe),oe=0;oe<p;oe++)I[2*oe+1]=5,I[2*oe]=te(oe,5);L=new z(F,k,d+1,f,v),V=new z(I,A,0,p,v),q=new z(new Array(0),P,0,g,S)}(),ae=!0),Z.l_desc=new B(Z.dyn_ltree,L),Z.d_desc=new B(Z.dyn_dtree,V),Z.bl_desc=new B(Z.bl_tree,q),Z.bi_buf=0,Z.bi_valid=0,ie(Z)},i._tr_stored_block=X,i._tr_flush_block=function(Z,oe,ge,be){var de,Re,xe=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(ue){var we,Oe=4093624447;for(we=0;we<=31;we++,Oe>>>=1)if(1&Oe&&ue.dyn_ltree[2*we]!==0)return s;if(ue.dyn_ltree[18]!==0||ue.dyn_ltree[20]!==0||ue.dyn_ltree[26]!==0)return a;for(we=32;we<d;we++)if(ue.dyn_ltree[2*we]!==0)return a;return s}(Z)),pe(Z,Z.l_desc),pe(Z,Z.d_desc),xe=function(ue){var we;for(W(ue,ue.dyn_ltree,ue.l_desc.max_code),W(ue,ue.dyn_dtree,ue.d_desc.max_code),pe(ue,ue.bl_desc),we=g-1;3<=we&&ue.bl_tree[2*D[we]+1]===0;we--);return ue.opt_len+=3*(we+1)+5+5+4,we}(Z),de=Z.opt_len+3+7>>>3,(Re=Z.static_len+3+7>>>3)<=de&&(de=Re)):de=Re=ge+5,ge+4<=de&&oe!==-1?X(Z,oe,ge,be):Z.strategy===4||Re===de?(Q(Z,2+(be?1:0),3),ne(Z,F,I)):(Q(Z,4+(be?1:0),3),function(ue,we,Oe,ke){var Ie;for(Q(ue,we-257,5),Q(ue,Oe-1,5),Q(ue,ke-4,4),Ie=0;Ie<ke;Ie++)Q(ue,ue.bl_tree[2*D[Ie]+1],3);se(ue,ue.dyn_ltree,we-1),se(ue,ue.dyn_dtree,Oe-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,xe+1),ne(Z,Z.dyn_ltree,Z.dyn_dtree)),ie(Z),be&&re(Z)},i._tr_tally=function(Z,oe,ge){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=oe>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&oe,Z.pending_buf[Z.l_buf+Z.last_lit]=255&ge,Z.last_lit++,oe===0?Z.dyn_ltree[2*ge]++:(Z.matches++,oe--,Z.dyn_ltree[2*(M[ge]+d+1)]++,Z.dyn_dtree[2*G(oe)]++),Z.last_lit===Z.lit_bufsize-1},i._tr_align=function(Z){Q(Z,2,3),K(Z,C,F),function(oe){oe.bi_valid===16?(Y(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,c,u,d,f=1,p={},g=!1,m=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,l={}.toString.call(s.process)==="[object process]"?function(_){process.nextTick(function(){S(_)})}:function(){if(s.postMessage&&!s.importScripts){var _=!0,E=s.onmessage;return s.onmessage=function(){_=!1},s.postMessage("","*"),s.onmessage=E,_}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",C,!1):s.attachEvent("onmessage",C),function(_){s.postMessage(d+_,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(_){S(_.data)},function(_){u.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(_){var E=m.createElement("script");E.onreadystatechange=function(){S(_),E.onreadystatechange=null,c.removeChild(E),E=null},c.appendChild(E)}):function(_){setTimeout(S,0,_)},v.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var E=new Array(arguments.length-1),T=0;T<E.length;T++)E[T]=arguments[T+1];var k={callback:_,args:E};return p[f]=k,l(f),f++},v.clearImmediate=b}function b(_){delete p[_]}function S(_){if(g)setTimeout(S,0,_);else{var E=p[_];if(E){g=!0;try{(function(T){var k=T.callback,A=T.args;switch(A.length){case 0:k();break;case 1:k(A[0]);break;case 2:k(A[0],A[1]);break;case 3:k(A[0],A[1],A[2]);break;default:k.apply(a,A)}})(E)}finally{b(_),g=!1}}}}function C(_){_.source===s&&typeof _.data=="string"&&_.data.indexOf(d)===0&&S(+_.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Vm<"u"?Vm:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(iL)),iL.exports}var Xet=Yet();const Ket=kg(Xet),Qet=async e=>{const t=new Ket;return e.forEach(r=>{t.file(r.name,r)}),await t.generateAsync({type:"blob"})},Zet=()=>{const e=O.useRef({client:ji.create({baseURL:"https://redpill.nomaze.com/",timeout:6e4,headers:{Accept:"application/json"}}),localStorageService:rI()}),[t,n]=O.useState(null),[r,i]=O.useState(null),[o,s]=O.useState(!1),a=()=>{e.current.client.interceptors.request.use(ve=>{if(ve.needs_auth){const _e=e.current.localStorageService.getAccessToken();ve.headers.Authorization=`Bearer ${_e}`}return ve},ve=>{Promise.reject(ve)})},l=()=>{e.current.client.interceptors.response.use(ve=>ve,ve=>{var _e,$e,De;if(ve&&ve.response){let ot=ve.response;if(ot.status!==400)if(ot.status===401)s(!0);else{let Me="This feature is currently under construction. We're already working on it.";ot.data instanceof Blob?ot.data.text().then(ze=>{let Qe=JSON.parse(ze);Qe&&Qe.type?n(Qe.type):n(Me)}):(_e=ot.data)!=null&&_e.type?(($e=ot.data)==null?void 0:$e.error_code)==="FILE_ALREADY_EXISTS"||n((De=ot.data)==null?void 0:De.type):n(Me),setTimeout(()=>{n(null)},5e3)}}return Promise.reject(ve)})},c=()=>e.current.client.get("/ping",{needs_auth:!1}),u=ve=>e.current.client.post("/auth/signup",ve,{needs_auth:!0}),d=ve=>e.current.client.post("/auth/login",ve,{needs_auth:!1}).then(_e=>{_e.status===200&&e.current.localStorageService.setToken(_e.data.token)}),f=(ve,_e)=>{let $e={user:ve,new_password:_e};return e.current.client.post("/auth/reset-password",$e,{needs_auth:!1})},p=ve=>{let _e={name:ve};return e.current.client.post("/admin/organizations/new",_e,{needs_auth:!0})},g=()=>e.current.client.get("/blocks",{needs_auth:!0}),m=()=>e.current.client.get("/organizations",{needs_auth:!0}),v=(ve,_e,$e)=>e.current.client.post(`/user/${$e}/pipe/${ve}/block_order`,{blocks:_e},{needs_auth:!0}),b=()=>e.current.client.get("/user/templates",{needs_auth:!0}),S=ve=>e.current.client.get(`/user/template/${ve}`,{needs_auth:!0}),C=(ve,_e)=>{let $e={pipe_id:ve};return e.current.client.post("/user/templates",$e,{needs_auth:!0})},_=(ve,_e)=>{let $e={operation:"update_tag",value:_e};return e.current.client.post(`/user/template/${ve}`,$e,{needs_auth:!0})},E=ve=>e.current.client.delete(`/user/template/${ve}`,{needs_auth:!0}),T=()=>e.current.client.get("/user/profile",{needs_auth:!0}).then(ve=>(ve.status===200&&i(ve.data),ve)),k=ve=>{let _e=ve?`/user/${ve}/pipes`:"/user/pipes";return e.current.client.get(_e,{needs_auth:!0})},A=(ve,_e)=>e.current.client.get(`/user/${_e}/pipe/${ve}`,{needs_auth:!0}),P=(ve,_e,$e)=>e.current.client.get(`/user/${$e}/pipe/${ve}/block/${_e}`,{needs_auth:!0}),D=(ve,_e)=>e.current.client.get(`/user/${_e}/pipe/${ve}/branch_map`,{needs_auth:!0}),F=(ve,_e)=>{let $e={name:ve};return _e&&($e.template_id=_e),e.current.client.post("/user/pipes/new",$e,{needs_auth:!0})},I=(ve,_e)=>{let $e={pipe_id:ve,owner:_e};return e.current.client.post("/user/pipes/clone",$e,{needs_auth:!0})},j=(ve,_e)=>e.current.client.delete(`/user/${ve}/pipe/${_e}`,{needs_auth:!0}),M=ve=>e.current.client.get(`/user/${ve}/files`,{needs_auth:!0}),$=ve=>e.current.client.get(`/user/file/${ve}`,{needs_auth:!0}),L=(ve,_e,$e)=>{let De={operation:"update_dtype_mapping",value:{mapping:_e,sources:$e}};return e.current.client.post(`/user/file/${ve}`,De,{needs_auth:!0})},V=(ve,_e)=>{let $e={operation:"update_cost_centers",value:_e};return e.current.client.post(`/user/file/${ve}`,$e,{needs_auth:!0})},q=(ve,_e)=>{let $e={operation:"update_organization",value:_e};return e.current.client.post(`/user/file/${ve}`,$e,{needs_auth:!0})},U=(ve,_e,$e)=>e.current.client.get(`/user/${$e}/pipe/${ve}/filter_config/${_e}`,{needs_auth:!0}),z=(ve,_e,$e)=>e.current.client.post(`/user/${$e}/pipe/${ve}`,_e,{needs_auth:!0}),B=(ve,_e,$e)=>{const De={view_in_dashboard:!0};let ot={operation:"add_block",value:{position:_e.position,flow_id:_e.id,title:_e.data.blueprint.title,dashboard_configuration:De,..._e.data}};return z(ve,ot,$e)},G=({pipe_id:ve,node_id:_e,username:$e,header_mapping:De})=>he(ve,_e,$e,{operation:"rename_header",value:De}),Y=(ve,_e,$e,De)=>he(ve,_e,$e,{operation:"update_value",value:De}),Q=(ve,_e,$e,De)=>he(ve,_e,$e,{operation:"update_filter_config",value:De}),K=(ve,_e,$e,De)=>he(ve,_e,$e,{operation:"update_df_columns",value:De}),te=(ve,_e,$e,De)=>he(ve,_e,$e,{operation:"update_configuration",value:De}),ce=(ve,_e,$e,De)=>he(ve,_e,$e,{operation:"update_dashboard_flag",value:De}),ie=(ve,_e,$e,De)=>he(ve,_e,$e,{operation:"update_skip_flag",value:De}),re=(ve,_e,$e,De,ot)=>he(ve,_e,$e,{operation:"update_details",value:[De,ot]}),he=(ve,_e,$e,De)=>e.current.client.post(`/user/${$e}/pipe/${ve}/block/${_e}`,De,{needs_auth:!0}),fe=(ve,_e,$e,De)=>z(ve,{operation:"move_block",value:{block_id:_e,position:$e}},De),ne=(ve,_e,$e)=>z(ve,{operation:"delete_block",value:{block_id:_e}},$e),pe=(ve,_e,$e)=>z(ve,{operation:"add_connection",value:_e},$e),W=(ve,_e,$e)=>z(ve,{operation:"delete_connection",value:{connection_id:_e}},$e),se=(ve,_e,$e)=>z(ve,{operation:"update_name",value:_e},$e),ae=(ve,_e="",$e="",De=[])=>{let ot={title:_e,description:$e,tags:De};return e.current.client.post(`/user/pipe/${ve}/snapshot`,ot,{needs_auth:!0})},X=async(ve,_e,$e)=>{let De=await Qet(ve),ot=new FormData;return ot.append("filename",De),ot.append("metadata",JSON.stringify({overwrite:_e})),e.current.client.post("/user/file/upload",ot,{needs_auth:!0,timeout:6e5,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:$e})},Z=ve=>e.current.client.delete(`/user/file/${ve}`,{needs_auth:!0}),oe=(ve,_e,$e,De,ot,Me,ze,Qe,Rt)=>{let Et={until_node_id:_e};return $e&&(Et.row_limit=$e),ot&&(Et.start=ot),Me&&(Et.size=Me),ze&&(Et.filters=ze),Qe&&(Et.global_filter=Qe),Rt&&(Et.sorting=Rt),e.current.client.post(`/user/${De}/pipe/${ve}/run`,Et,{needs_auth:!0})},ge=({pipe_id:ve,block_id:_e,username:$e,height:De,width:ot,signal:Me,presentationMode:ze,darkMode:Qe})=>{let Rt={height:De,width:ot,presentation_mode:ze,dark_mode:Qe};return e.current.client.post(`/user/${$e}/pipe/${ve}/plot/${_e}`,Rt,{needs_auth:!0,signal:Me})},be=({pipe_id:ve,block_id:_e,username:$e,sparsify:De,height:ot,width:Me,signal:ze,presentationMode:Qe,darkMode:Rt,includeDescription:Et,download:Wt,format:vn})=>e.current.client.get(`/user/${$e}/pipe/${ve}/plot/${_e}/preview`,{needs_auth:!0,responseType:"blob",signal:ze,params:{sparsify:De,height:ot,width:Me,presentation_mode:Qe,dark_mode:Rt,include_description:Et,download:Wt,format:vn}}),de=(ve,_e,$e)=>z(ve,{operation:"update_thumbnail",value:_e},$e),Re=()=>e.current.client.get("/admin/users",{needs_auth:!0}),xe=ve=>e.current.client.delete(`/admin/user/${ve}`,{needs_auth:!0}),ue=(ve,_e)=>{let $e={operation:"change_role",value:_e};return e.current.client.post(`/admin/user/${ve}`,$e,{needs_auth:!0})},we=(ve,_e)=>{let $e={operation:"change_organization",value:_e};return e.current.client.post(`/admin/user/${ve}`,$e,{needs_auth:!0})},Oe=(ve,_e)=>{let $e={operation:"change_cost_centers",value:_e};return e.current.client.post(`/admin/user/${ve}`,$e,{needs_auth:!0})},ke=(ve,_e)=>{let $e={operation:"update_cost_centers",value:_e};return e.current.client.post(`/user/template/${ve}`,$e,{needs_auth:!0})},Ie=(ve,_e)=>{let $e={operation:"update_organization",value:_e};return e.current.client.post(`/user/template/${ve}`,$e,{needs_auth:!0})};return a(),l(),{currentError:t,currentUser:r,currentUserUndefined:o,setCurrentUserUndefined:s,ping:c,signup:u,login:d,resetPassword:f,createOrganization:p,getBlocks:g,getOrganizations:m,getTemplates:b,getTemplate:S,createTemplate:C,updateTemplateTag:_,deleteTemplate:E,getUserProfile:T,getUserPipes:k,getUserPipe:A,getBlock:P,createNewPipe:F,clonePipe:I,deletePipe:j,getUserFiles:M,getFile:$,updateFileDTypeMapping:L,updateFileCostCenters:V,updateFileOrganization:q,getFilterConfig:U,updateUserPipe:z,addNodeToPipe:B,updateNodeInPipe:Y,updateNodeFilterConfig:Q,updateNodeConfiguration:te,updateNodeInDashboard:ce,updateNodeSkipFlag:ie,updateNodeDetails:re,moveNodeInPipe:fe,deleteNodeFromPipe:ne,addEdgeToPipe:pe,deleteEdgeFromPipe:W,renamePipe:se,savePipeSnapshot:ae,uploadFiles:X,deleteFile:Z,runPipe:oe,getSpec:ge,getPlotPreview:be,uploadScreenshot:de,getUsers:Re,deleteUser:xe,updateUserRole:ue,updateUserOrganization:we,updateUserCostCenters:Oe,updateTemplateCostCenters:ke,updateTemplateOrganization:Ie,updateBlockOrder:v,getBranchMap:D,renameColumnHeader:G,updateDfColumns:K}},un=hn.createContext(),or={init:()=>{},debug:e=>{console.log(e)},info:e=>{console.log(e)},warn:e=>{console.log(e)},error:e=>{console.log(e)}};function Jet(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationKey:["login"],mutationFn:async n=>await e.login(n),onSuccess:()=>{t.invalidateQueries({queryKey:["userProfile"]}),t.invalidateQueries({queryKey:["pipes"]})}})}function ett(){const{api:e}=O.useContext(un);return Sc({queryKey:["blocks"],queryFn:async()=>(await e.getBlocks()).data})}function ttt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,blocks:r,username:i})=>(await e.updateBlockOrder(n,r,i)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]}),t.invalidateQueries({queryKey:["branchMap",r.pipeId,r.username]})}})}function ntt(){const{api:e}=O.useContext(un);return Sc({queryKey:["templates"],queryFn:async()=>(await e.getTemplates()).data,staleTime:1e3*60*5})}function qme(e){const{api:t}=O.useContext(un),n=Qr();return yi({mutationFn:async({pipeId:r,username:i})=>(await t.createTemplate(r,i)).data,onSuccess:()=>{n.invalidateQueries({queryKey:["templates"]})}})}function rtt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({templateId:n,tag:r})=>(await e.updateTemplateTag(n,r)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["templates"]}),t.invalidateQueries({queryKey:["template",r.templateId]})}})}function itt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async n=>(await e.deleteTemplate(n)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["templates"]})}})}function kl(){const{api:e}=O.useContext(un);return Sc({queryKey:["userProfile"],queryFn:async()=>(await e.getUserProfile()).data,retry:1,retryDelay:1e3})}function Gme(e){const{api:t}=O.useContext(un);return Sc({queryKey:["pipes",e],queryFn:async()=>(await t.getUserPipes(e)).data,enabled:!!e})}function c2(e,t,n=!1){const{api:r}=O.useContext(un);return Sc({queryKey:["pipe",e,t],queryFn:async()=>(n?await r.getTemplate(e):await r.getUserPipe(e,t)).data,enabled:!!e&&(!!t||n)})}function Yme(e,t,n){const{api:r}=O.useContext(un);return Sc({queryKey:["block",e,t,n],queryFn:async()=>(await r.getBlock(e,t,n)).data,enabled:!isNaN(e)&&!isNaN(t)&&!!n})}function ott(){const e=Qr();return t=>{e.invalidateQueries({queryKey:["block",t]})}}function stt(e,t){const{api:n}=O.useContext(un);return Sc({queryKey:["branchMap",e,t],queryFn:async()=>(await n.getBranchMap(e,t)).data,enabled:!!t&&!!e})}function att(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({name:n,templateId:r})=>(await e.createNewPipe(n,r)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["pipes"]})}})}function ltt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({username:n,pipeId:r})=>(await e.deletePipe(n,r)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipes",r.username]})}})}function ctt(e){const{api:t}=O.useContext(un);return Sc({queryKey:["files",e],queryFn:async()=>(await t.getUserFiles(e)).data,enabled:!!e})}function utt(e,t,n){const{api:r}=O.useContext(un);return Sc({queryKey:["filterConfig",e,t,n],queryFn:async()=>(await r.getFilterConfig(e,t,n)).data,enabled:!!e&&!!t&&!!n})}function dtt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i,config:o})=>(await e.updateNodeFilterConfig(n,r,i,o)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["filterConfig",r.pipeId,r.nodeId,r.username]})}})}function ftt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,node:r,username:i})=>(await e.addNodeToPipe(n,r,i)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]})}})}function ptt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i,value:o})=>(await e.updateNodeInPipe(n,r,i,o)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]}),t.invalidateQueries({queryKey:["block",r.pipeId,r.nodeId]})}})}function htt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i,configuration:o})=>(await e.updateNodeConfiguration(n,r,i,o)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["block",r.pipeId,r.nodeId]}),t.invalidateQueries({queryKey:["runPipe",r.pipeId,r.nodeId]}),t.invalidateQueries({queryKey:["filterConfig",r.pipeId,r.nodeId]}),t.invalidateQueries({queryKey:["spec",r.pipeId,r.nodeId]})}})}function gtt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i,viewInDashboard:o})=>(await e.updateNodeInDashboard(n,r,i,o)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]})}})}function mtt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i,skip:o})=>(await e.updateNodeSkipFlag(n,r,i,o)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]})}})}function Xme(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i,title:o,description:s})=>(await e.updateNodeDetails(n,r,i,o,s)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["block",r.pipeId,parseInt(r.nodeId),r.username]}),t.invalidateQueries({queryKey:["pipe",r.pipeId,r.username]})}})}function ytt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,position:i,username:o})=>(await e.moveNodeInPipe(n,r,i,o)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId,r.username]})}})}function vtt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i})=>(await e.deleteNodeFromPipe(n,r,i)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId,r.username]}),t.invalidateQueries({queryKey:["block",r.pipeId,r.nodeId,r.username]})}})}function btt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,edge:r,username:i})=>(await e.addEdgeToPipe(n,r,i)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]})}})}function xtt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,edgeId:r,username:i})=>(await e.deleteEdgeFromPipe(n,r,i)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]})}})}function Stt({pipeId:e,nodeId:t,username:n,preview:r,pagination:i,filters:o,sorting:s}){const{api:a}=O.useContext(un);return Sc({queryKey:["runPipe",e,t,n,i,o,s],queryFn:async()=>(await a.runPipe(e,t,r?10:void 0,n,`${((i==null?void 0:i.pageIndex)??0)*((i==null?void 0:i.pageSize)??10)}`,`${(i==null?void 0:i.pageSize)??10}`,JSON.stringify((o==null?void 0:o.columnFilters)??[]),(o==null?void 0:o.globalFilter)??"",JSON.stringify(s??[]))).data.map(c=>({...c,df:JSON.parse(c.df)})),enabled:!!(e&&t&&n),gcTime:3e4,staleTime:3e4,retry:(l,c)=>l<3&&(c==null?void 0:c.status)!==404,onError:l=>{or.error("Could not get contents for file:",l)}})}function wtt({pipeId:e,blockId:t,username:n,height:r,width:i,presentationMode:o,darkMode:s}){const{api:a}=O.useContext(un);return Sc({queryKey:["spec",e,t,n,o,s],queryFn:async()=>{var l,c,u,d;try{return(await a.getSpec({pipe_id:e,block_id:t,username:n,height:r,width:i,presentationMode:o,darkMode:s})).data}catch(f){throw((l=f.response)==null?void 0:l.status)===404?new Error("Specification not found"):((c=f.response)==null?void 0:c.status)===403?new Error("You do not have permission to view this specification"):new Error(((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.message)||"Failed to load specification")}},enabled:!isNaN(e)&&!isNaN(t),retry:2,retryDelay:l=>Math.min(1e3*2**l,3e4),onError:l=>{or.error(`Error fetching spec for pipe ${e}, block ${t}:`,l)}})}function Ctt({pipeId:e,blockId:t,username:n,sparsify:r,height:i,width:o,signal:s,presentationMode:a,darkMode:l,includeDescription:c,format:u}){const{api:d}=O.useContext(un);return Sc({queryKey:["plotPreview",e,t,n,r,i,o,a,l,c,u],queryFn:async()=>!e||!t||!n?void 0:(await d.getPlotPreview({pipe_id:e,block_id:t,username:n,sparsify:r,height:i,width:o,signal:s,presentationMode:a,darkMode:l,includeDescription:c,format:u,download:!1})).data,gcTime:1e3*60*5,staleTime:1e3*60*2,enabled:!!(e&&t&&n)})}function _tt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,screenshotFile:r,username:i})=>(await e.uploadScreenshot(n,r,i)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]})}})}function Ett(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,nodeId:r,username:i,order:o,hiddenColumns:s})=>{const a={updated_order:o,hide_columns:s};return(await e.updateDfColumns(n,r,i,a)).data},onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["block",r.pipeId,r.nodeId]})}})}function ktt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({templateId:n,costCenters:r})=>(await e.updateTemplateCostCenters(n,r)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["templates"]}),t.invalidateQueries({queryKey:["template",r.templateId]})}})}function Rtt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({templateId:n,organization:r})=>(await e.updateTemplateOrganization(n,r)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["templates"]}),t.invalidateQueries({queryKey:["template",r.templateId]})}})}function Ttt(){const{api:e}=O.useContext(un),t=Qr();return yi({mutationFn:async({pipeId:n,name:r,username:i})=>(await e.renamePipe(n,r,i)).data,onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["pipe",r.pipeId]}),t.invalidateQueries({queryKey:["pipes",r.username]})}})}const Ig=hn.createContext(),Mtt=function(){return null},Zne=e=>{let t;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const f=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,f))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},Att=e=>e?Zne(e):Zne,Ott=e=>e;function Dtt(e,t=Ott){const n=hn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return hn.useDebugValue(n),n}const Jne=e=>{const t=Att(e),n=r=>Dtt(t,r);return Object.assign(n,t),n},iI=e=>e?Jne(e):Jne,pU=iI(e=>({isDialogOpen:!1,selectedBlockDetails:{title:null,description:null,pipeId:null,username:null,nodeId:null},selectedBlockCurrentTitle:null,selectedBlockCurrentDescription:null,setEditBlockDialogOpen:t=>e({isDialogOpen:!0,selectedBlockDetails:t}),setEditBlockDialogClose:()=>e({isDialogOpen:!1,selectedBlockDetails:{title:null,description:null,pipeId:null,username:null,nodeId:null}})})),Ptt=()=>{const{isDialogOpen:e,setEditBlockDialogClose:t,selectedBlockDetails:{title:n,description:r,pipeId:i,username:o,nodeId:s}}=pU(),[a,l]=O.useState(),[c,u]=O.useState(),d=Xme();return x.jsxs(Ri,{open:e,onClose:()=>{t()},children:[x.jsx(Aa,{children:"Edit block details"}),x.jsxs(Ma,{children:[x.jsx(gl,{children:"Change the block details, then click save."}),x.jsx(Ir,{autoFocus:!0,margin:"dense",id:"title",label:"Title",fullWidth:!0,value:a,defaultValue:n,onChange:f=>{l(f.target.value)}}),x.jsx(Ir,{margin:"dense",id:"description",label:"Description",fullWidth:!0,multiline:!0,rows:8,value:c,defaultValue:r,onChange:f=>{u(f.target.value)}})]}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:()=>{t()},children:"Cancel"}),x.jsx(Ft,{variant:"contained",onClick:()=>{d.mutateAsync({pipeId:i,nodeId:s,username:o,title:a,description:c}),t()},children:"Save"})]})]},`${i}-${s}`)},hU=iI(e=>({isRenamePipeModalOpen:!1,selectedPipelineId:null,selectedPipelineCurrentName:"",setRenamePipeModalOpen:(t,n=null,r="")=>e({isRenamePipeModalOpen:t,selectedPipelineId:n,selectedPipelineCurrentName:r}),resetModalState:()=>e({isRenamePipeModalOpen:!1,selectedPipelineId:null,selectedPipelineCurrentName:""})})),Itt=()=>{const{isRenamePipeModalOpen:e,setRenamePipeModalOpen:t,selectedPipelineCurrentName:n,selectedPipelineId:r}=hU(),[i,o]=O.useState(),{data:s,isLoading:a}=kl(),l=Ttt();return O.useEffect(()=>{o(n)},[n]),a?null:x.jsxs(Ri,{open:e,onClose:()=>t(!1),children:[x.jsx(Aa,{children:"Rename Dashboard"}),x.jsxs(Ma,{children:[x.jsx(gl,{children:"Please enter a new name for the Dashboard."}),x.jsx(Ir,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,variant:"outlined",defaultValue:n,onChange:c=>{o(c.target.value)}})]}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:()=>t(!1),children:"Cancel"}),x.jsx(Ft,{onClick:()=>{l.mutateAsync({pipeId:r,name:i,username:s.username}),t(!1)},variant:"contained",children:"Save"})]})]})},zh={ADMIN:"admin",MANAGE_USERS:"manage_users",DELETE_EDGE:"delete_edge",DASHBOARD_ACCORDIONS:"dashboard_accordions",HIDE_COUNT_COLUMN:"hide_count_column"},Xi=()=>{const{data:e}=kl(),t="matrix".includes("kws"),n=!1,r=!1,[i,o]=O.useState(!1),[s,a]=O.useState(!1),[l,c]=O.useState(!1),[u,d]=O.useState(!1);return O.useEffect(()=>{var f;e!==void 0&&(o(e.permissions.some(p=>p.name===zh.HIDE_COUNT_COLUMN)),a(e.permissions.some(p=>p.name===zh.DASHBOARD_ACCORDIONS)),c(((f=e==null?void 0:e.organization)==null?void 0:f.name)==="RWA"),d(e.permissions.some(p=>p.name===zh.ADMIN)))},[e]),{enableVegaLabelsTransform:r,hideCountColumn:i,enableDragToReorder:n,enableDashboardAccordions:s,exludeImplicitDeselectedOptionsFromFilter:l,currentUserIsAdmin:u,isKws:t}},Kme=iI(e=>({isShareDialogOpen:!1,shareUrl:null,pipeId:null,pipeName:null,setShareDialogOpen:({url:t,pipeId:n,pipeName:r})=>e({isShareDialogOpen:!0,shareUrl:t,pipeId:n,pipeName:r}),setShareDialogClose:()=>e({isShareDialogOpen:!1,shareUrl:null,pipeId:null,pipeName:null})})),$tt=()=>{const{data:e,isLoading:t}=kl(),{isShareDialogOpen:n,setShareDialogClose:r,shareUrl:i,pipeId:o,pipeName:s}=Kme(),a=qme(),[l,c]=O.useState(!1),[u,d]=O.useState(!1),{currentUserIsAdmin:f}=Xi(),p=()=>{i&&(navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),1500))},g=async()=>{if(!o){console.log("No pipeId provided");return}d(!0);try{await a.mutateAsync({pipeId:o,username:e==null?void 0:e.username})}finally{d(!1),r()}};return t?null:x.jsxs(Ri,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,children:[x.jsxs(Aa,{children:['Share "',s,'"']}),x.jsxs(Ma,{children:[f&&x.jsxs(x.Fragment,{children:[x.jsxs(lt,{sx:{mb:3},children:[x.jsx(it,{variant:"h6",sx:{mb:1},children:"Create Template"}),x.jsx(gl,{sx:{mb:2},children:"Save this dashboard as a template so that others can use it to create new dashboards. Please note that all input files set in this dashboard will be shared with all users as well."}),x.jsx(Ft,{variant:"contained",color:"primary",onClick:g,disabled:u,children:u?"Saving...":"Save as Template"})]}),x.jsx(ag,{sx:{my:2}})]}),x.jsx(it,{variant:"h6",sx:{mb:1},children:"Share Link"}),x.jsx(gl,{children:"Copy the link below to share this board. Everybody with this link can view the board."}),x.jsx(Ir,{margin:"dense",label:"Share Link",fullWidth:!0,variant:"outlined",value:i||"",InputProps:{readOnly:!0,endAdornment:x.jsx(I0,{position:"end",children:x.jsx(sn,{onClick:p,edge:"end",children:x.jsx(w1,{})})})},sx:{mt:2}}),l&&x.jsx(it,{color:"success.main",sx:{mt:1},children:"Link copied!"})]}),x.jsx(Gs,{children:x.jsx(Ft,{onClick:r,children:"Close"})})]})},Mi={Home:"/",Pipe:"/pipe",Template:"/template",Templates:"/templates",Pipes:"/pipes",Files:"/files",Login:"/admin/login",Signup:"/signup",UserManagement:"/admin/user-management",Pacman:"/eastereggs/pacman",Demo:"/component/demo",Dashboard:"/dashboard",AuthCallback:"/auth-callback",AuthRedirect:"/authorization/callback",About:"/about",Licenses:"/licenses",Changelog:"/changelog",LoginRedirect:"/login-redirect",LogoutRedirect:"/logout-redirect"},bu=e=>{const{user:t}=O.useContext(Ig);return()=>t===void 0||e===void 0?!1:t.username!==e},xu=()=>{var e={pipeId:void 0,username:void 0,isDashboard:void 0,nodeId:void 0,isTemplate:!1};let n=tZe().pathname.split("/");if(n.length>=2&&n[1]==="pipes")e.username=n[2];else if(n.length>=2&&n[1]==="template")e.pipeId=parseInt(n[2]),e.isTemplate=!0;else if(n.length>=3){const r=Ftt(n[2]),i=parseInt(r[1]),o=r[0];e.pipeId=i,e.username=o,n.includes("dashboard")?e.isDashboard=!0:n.includes("pipe")&&(e.isDashboard=!1)}return n.length>4&&n[3]==="block"&&(e.nodeId=parseInt(n[4])),e},Sd=(e,t)=>{const r=new TextEncoder().encode(`${e}|${t}`);return Array.from(r,s=>s.toString(16)).join("")},Ftt=e=>{if(e===void 0)return;const t=new TextDecoder,n=e.match(/../g),r=Uint8Array.from(n,o=>parseInt(o,16));return t.decode(r).split("|")},Ntt=e=>O.createElement("svg",{height:48,viewBox:"0 0 752 192",xmlns:"http://www.w3.org/2000/svg",...e},O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M102.326 32L104.739 32.3271C120.786 34.5018 135.416 42.6669 145.691 55.1826C155.966 67.6983 161.125 83.6379 160.134 99.8007C159.142 115.964 152.072 131.153 140.344 142.318C128.616 153.484 113.097 159.799 96.9053 159.995C80.7133 160.192 65.0465 154.255 53.0507 143.378C41.0549 132.5 33.6185 117.487 32.2347 101.353C30.8509 85.2191 35.6222 69.159 45.5904 56.3976C55.5587 43.6362 69.9858 35.1185 85.9748 32.5548L88.3793 32.1693L89.1503 36.9783L86.7459 37.3638C71.9712 39.7327 58.6398 47.6035 49.4286 59.3957C40.2175 71.1879 35.8086 86.0283 37.0873 100.937C38.366 115.845 45.2376 129.718 56.3223 139.77C67.407 149.821 81.884 155.307 96.8462 155.125C111.808 154.944 126.148 149.108 136.986 138.791C147.823 128.473 154.356 114.438 155.272 99.5024C156.189 84.5671 151.421 69.8381 141.926 58.273C132.432 46.7078 118.913 39.1629 104.085 37.1533L101.672 36.8262L102.326 32Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M70.1197 61.1345L68.8552 62.1526C63.8699 66.1666 59.832 71.2314 57.0297 76.9857C54.2274 82.7399 52.7297 89.0418 52.6435 95.4416L52.6216 97.0649L49.375 97.0212L49.3969 95.3979C49.4895 88.5203 51.099 81.7479 54.1105 75.564C57.1221 69.3802 61.4614 63.9372 66.8189 59.6236L68.0835 58.6055L70.1197 61.1345Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54.6458 109.193L55.1943 110.721C58.221 119.152 63.7771 126.443 71.1034 131.597C78.4298 136.751 87.1689 139.517 96.1266 139.517C97.3611 139.517 98.5951 139.464 99.8252 139.359L101.443 139.221L101.719 142.456L100.101 142.594C98.7794 142.707 97.4533 142.764 96.1266 142.764C86.5001 142.764 77.1085 139.791 69.2352 134.252C61.3619 128.714 55.391 120.879 52.1384 111.818L51.5898 110.29L54.6458 109.193Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.102 104.571L141.75 106.156C140.209 113.099 137.103 119.599 132.67 125.16C128.237 130.721 122.593 135.198 116.168 138.248L114.701 138.944L113.309 136.011L114.775 135.315C120.754 132.476 126.006 128.311 130.131 123.136C134.256 117.961 137.146 111.913 138.581 105.452L138.932 103.867L142.102 104.571Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.1264 52.536C91.9897 52.536 87.8741 53.1262 83.9041 54.2888L82.3461 54.745L81.4336 51.629L82.9916 51.1727C87.258 49.9233 91.6808 49.2891 96.1264 49.2891C107.385 49.2891 118.266 53.3534 126.767 60.7347C135.269 68.116 140.82 78.3183 142.401 89.4656L142.628 91.073L139.414 91.5288L139.186 89.9214C137.715 79.5485 132.55 70.055 124.639 63.1865C116.728 56.3179 106.603 52.536 96.1264 52.536Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.0201 68.4754C89.6842 68.4754 83.5414 70.6563 78.6238 74.6514L77.3638 75.6751L75.3164 73.1551L76.5764 72.1314C82.0727 67.666 88.9385 65.2285 96.0201 65.2285C101.797 65.2285 107.457 66.8511 112.356 69.9113L113.733 70.7714L112.013 73.5252L110.636 72.6651C106.253 69.9271 101.188 68.4754 96.0201 68.4754Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M70.4379 85.6067L69.9129 87.1429C68.9314 90.015 68.4305 93.0294 68.4305 96.0647C68.4305 99.6876 69.1441 103.275 70.5306 106.622C71.917 109.97 73.9492 113.011 76.511 115.573C79.0728 118.135 82.1142 120.167 85.4614 121.553C88.8086 122.94 92.3961 123.653 96.0191 123.653C100.453 123.653 104.822 122.584 108.756 120.537C112.689 118.49 116.071 115.525 118.615 111.893L119.547 110.563L122.206 112.426L121.275 113.756C118.431 117.815 114.651 121.129 110.255 123.417C105.858 125.706 100.975 126.9 96.0191 126.9C91.9697 126.9 87.96 126.103 84.2188 124.553C80.4777 123.003 77.0784 120.732 74.2151 117.869C71.3518 115.005 69.0804 111.606 67.5308 107.865C65.9812 104.124 65.1836 100.114 65.1836 96.0647C65.1836 92.6722 65.7434 89.303 66.8405 86.0929L67.3655 84.5566L70.4379 85.6067Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M123.011 81.0703L123.724 82.529C125.783 86.7438 126.853 91.3727 126.853 96.0634C126.853 96.6123 126.838 97.161 126.809 97.7091L126.722 99.3302L123.48 99.157L123.567 97.5358C123.593 97.0455 123.606 96.5545 123.606 96.0634C123.606 91.8666 122.648 87.7251 120.806 83.9542L120.094 82.4955L123.011 81.0703Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.2883 84.1981C94.6208 84.1981 92.9696 84.5265 91.4291 85.1646C89.8886 85.8027 88.4888 86.738 87.3097 87.9171C86.1306 89.0962 85.1953 90.496 84.5572 92.0365C83.9191 93.5771 83.5907 95.2282 83.5907 96.8957C83.5907 98.9412 84.0848 100.956 85.0311 102.77C85.9774 104.583 87.3477 106.141 89.0256 107.311L90.3573 108.24L88.5001 110.903L87.1684 109.975C85.0615 108.505 83.3408 106.549 82.1525 104.272C80.9643 101.995 80.3438 99.4642 80.3438 96.8957C80.3437 94.8018 80.7562 92.7285 81.5574 90.794C82.3587 88.8595 83.5332 87.1018 85.0138 85.6212C86.4944 84.1406 88.2521 82.9662 90.1866 82.1649C92.121 81.3636 94.1944 80.9512 96.2883 80.9512C98.3821 80.9512 100.455 81.3636 102.39 82.1649C104.324 82.9662 106.082 84.1406 107.563 85.6212C109.043 87.1018 110.218 88.8595 111.019 90.794C111.82 92.7285 112.233 94.8018 112.233 96.8957C112.233 99.5373 111.576 102.138 110.323 104.463C109.069 106.788 107.257 108.765 105.05 110.217L103.694 111.109L101.91 108.396L103.266 107.504C105.024 106.348 106.466 104.773 107.465 102.922C108.463 101.07 108.986 98.9994 108.986 96.8957C108.986 95.2282 108.657 93.5771 108.019 92.0365C107.381 90.496 106.446 89.0962 105.267 87.9171C104.088 86.738 102.688 85.8028 101.147 85.1646C99.6069 84.5265 97.9557 84.1981 96.2883 84.1981Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.163 90.3642L139.584 91.6956L139.355 88.3354L158.934 87.0039L159.163 90.3642Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.3569 44.7598L80.1305 73.6255L77.3713 75.8024L54.5977 46.9366L57.3569 44.7598Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M113.971 70.6588L105.08 87.3304L102.215 85.8024L111.106 69.1309L113.971 70.6588Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.148 106.691L114.145 121.188L111.63 122.923L101.633 108.426L104.148 106.691Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M138.068 76.0131L121.616 85.512L119.992 82.7001L136.445 73.2012L138.068 76.0131Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M130.9 122.908L146.414 134.174L144.506 136.801L128.992 125.535L130.9 122.908Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.109 123.807L101.689 142.699L98.3611 142.801L97.7812 123.909L101.109 123.807Z"}),O.createElement("path",{d:"M683.841 73.0879C703.169 75.1359 713.921 89.3439 716.097 104.704C716.481 108.16 716.353 112.256 715.969 114.048L689.217 114.432L687.553 102.4L700.609 102.912C699.457 94.2079 693.057 87.9359 684.865 86.2719L683.841 73.0879ZM649.025 110.72C646.977 96.5119 651.457 84.0959 661.441 77.6959L666.177 113.92C668.225 125.312 679.745 131.84 691.393 131.84C701.121 131.84 709.953 129.792 714.561 125.696L719.425 137.728C714.305 142.208 703.937 145.536 690.625 145.536C668.225 145.536 651.969 131.968 649.025 110.72Z"}),O.createElement("path",{d:"M582.115 87.8081L580.195 74.4961H633.059L634.595 76.8001L629.859 87.8081H582.115ZM592.099 143.744L590.563 141.696L601.443 116.096H617.827L612.579 128.64H642.659L644.707 143.744H592.099Z"}),O.createElement("path",{d:"M533.381 145.28C514.181 144.768 497.541 129.024 494.853 109.568C491.909 88.576 505.221 72.832 525.061 72.832C535.557 72.832 543.237 78.976 545.925 82.816L544.773 74.496H560.133L567.045 122.624C567.941 128.384 569.733 131.968 573.445 131.968C574.597 131.968 575.621 131.712 576.005 130.944L580.869 138.752C579.333 142.208 574.981 145.28 567.813 145.28C563.205 145.28 555.653 142.976 553.093 135.936L547.589 97.024C544.389 91.52 537.221 85.504 527.365 85.504C515.845 85.504 508.293 94.592 510.213 108.032C512.005 120.448 521.349 130.944 532.357 132.352L533.381 145.28Z"}),O.createElement("path",{d:"M466.687 143.873C467.071 143.745 466.815 143.617 466.687 142.465L457.343 76.9288L448.767 102.913H430.847L452.607 46.8488L469.759 46.4648C469.503 46.8488 469.631 47.2328 469.759 48.1288L482.943 141.441C483.071 142.593 483.711 143.361 483.967 143.489L466.687 143.873ZM389.887 143.873C390.399 143.745 390.015 143.617 389.887 142.465L376.703 49.1528C376.575 48.2568 376.063 47.4888 375.551 47.1048L393.727 46.8488L430.847 102.913H412.543L396.927 76.9288L406.143 141.441C406.271 142.593 406.911 143.361 407.167 143.489L389.887 143.873Z"}),O.createElement("path",{d:"M345.299 144.257L344.019 129.793C351.315 126.337 354.259 118.785 352.979 110.081C351.699 100.993 345.683 92.8014 337.491 88.9614L336.211 73.8574C353.875 78.2094 366.419 92.1614 368.595 108.033C371.027 125.441 362.195 140.289 345.299 144.257ZM324.563 144.513C306.643 140.545 294.739 126.849 292.307 110.081C290.003 93.4414 299.219 78.5934 315.475 74.2414L316.755 88.5774C309.715 92.4174 306.643 99.9694 307.795 108.289C309.203 117.889 315.091 125.825 323.283 129.409L324.563 144.513Z"}),O.createElement("path",{d:"M264.318 143.745L251.006 49.1528C250.878 48.2568 250.238 47.6168 249.854 47.2328L267.262 46.4648C267.006 46.8488 267.134 47.2328 267.262 48.1288L280.446 141.441C280.574 142.593 281.214 143.361 281.47 143.489L264.318 143.745ZM206.59 143.873C207.102 143.745 206.718 143.617 206.59 142.465L193.406 49.1528C193.278 48.2568 192.766 47.4888 192.254 47.1048L208.638 46.8488L251.006 102.913H231.55L213.758 78.3368L222.846 141.441C222.974 142.593 223.614 143.361 223.87 143.489L206.59 143.873Z"})),oI=iI(e=>({activeTab:0,setActiveTab:t=>e({activeTab:t}),resetTab:()=>e({activeTab:0})})),Qme=({open:e,setOpen:t,usernameFromPath:n,pipeId:r,isTemplate:i})=>{const{api:o}=O.useContext(un),{user:s}=O.useContext(Ig),[a,l]=O.useState(!1),c=Oa(),u=()=>{t(!1)},d=()=>{l(!0),i?o.createNewPipe("template clone",r).then(f=>{l(!1),t(!1);const p=Sd(s.username,f.data.pipe_id);c({to:`${Mi.Dashboard}/${p}`})}).catch(f=>{l(!1),or.error("Could not clone pipe: "+JSON.stringify(f))}):o.clonePipe(r,n).then(f=>{l(!1),t(!1);const p=Sd(s.username,f.data.pipe_id);c({to:`${Mi.Dashboard}/${p}`})}).catch(f=>{l(!1),or.error("Could not clone pipe: "+JSON.stringify(f))})};return x.jsx(x.Fragment,{children:x.jsxs(Ri,{open:e,onClose:u,onClick:f=>f.stopPropagation(),children:[x.jsx(Aa,{children:"Do you want to edit the pipe?"}),x.jsx(Ma,{children:x.jsx(gl,{children:hJe(w1)})}),x.jsx(Gs,{children:x.jsxs(en,{direction:"row",justifyContent:"space-around",spacing:20,minWidth:"100%",children:[a?x.jsx(au,{size:30,color:"inherit"}):x.jsx(Ft,{variant:"outlined",size:"small",endIcon:x.jsx(w1,{}),onClick:d,children:"Clone Pipe"}),x.jsx(Ft,{variant:"outlined",size:"small",endIcon:x.jsx(dZe,{}),onClick:u,children:"Continue Readonly Mode"})]})})]})})},Ltt=({setAnchor:e})=>x.jsxs(ir,{onClick:()=>{e(null),window.location.replace("https://redpill.nomaze.com/"+Mi.LoginRedirect)},children:[x.jsx(no,{children:x.jsx(NZe,{fontSize:"small"})}),x.jsx(it,{variant:"body1",children:"Login"})]}),jtt=({setAnchor:e})=>{const{user:t,setUser:n}=O.useContext(Ig),r=oI(i=>i.resetTab);return x.jsxs(ir,{onClick:()=>{t&&(rI().clearToken(),n(void 0)),r(),e(null),window.location.replace("https://redpill.nomaze.com/"+Mi.LogoutRedirect)},children:[x.jsx(no,{children:x.jsx(LZe,{fontSize:"small"})}),x.jsx(it,{variant:"body1",children:"Logout"})]})},ztt=({user:e})=>{var t;return x.jsxs(en,{direction:"column",spacing:0,children:[x.jsx(it,{variant:"body1",children:`Hello ${e==null?void 0:e.name}!`}),x.jsx(it,{variant:"caption",children:(t=e==null?void 0:e.organization)==null?void 0:t.name})]})},Btt=({anchor:e,setAnchor:t})=>{const{data:n}=kl();return x.jsxs($d,{anchorEl:e,keepMounted:!0,open:!!e,onClose:()=>{t(null)},sx:{zIndex:9999},children:[x.jsxs(ir,{disabled:!0,children:[x.jsx(no,{children:x.jsx(kZe,{fontSize:"small"})}),n?x.jsx(ztt,{user:n}):"Please login!"]}),n?x.jsx(jtt,{setAnchor:t}):x.jsx(Ltt,{setAnchor:t})]})},Utt=({open:e,onClose:t,onSave:n})=>{const[r,i]=O.useState(""),[o,s]=O.useState("");return x.jsxs(Ri,{open:e,onClose:t,children:[x.jsx(Aa,{children:"Save Snapshot"}),x.jsxs(Ma,{children:[x.jsxs(gl,{children:["Your pipeline is saved continuously as you edit. If you save a"," ",x.jsx("b",{children:"Snapshot"})," this specific configuration will be frozen and can be shared internally with colleagues or even publicly via the share URL."]}),x.jsx(Ir,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,variant:"outlined",onChange:a=>{i(a.target.value)}}),x.jsx(Ir,{margin:"dense",label:"Description",fullWidth:!0,variant:"outlined",onChange:a=>{s(a.target.value)}})]}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:t,children:"Cancel"}),x.jsx(Ft,{onClick:()=>{n(r,o),t()},variant:"contained",children:"Save"})]})]})},Htt=()=>{const e="matrix",t=()=>!e.includes("prod"),n=r=>r.includes("dev")?"DEV":"STAGE";return t()&&x.jsx(lt,{sx:{position:"fixed",top:30,left:-40,transform:"rotate(-45deg)",transformOrigin:"top left",backgroundColor:"yellow",color:"black",fontSize:"14px",fontWeight:"bold",lineHeight:"80px",width:"100px",height:"50px",textAlign:"center",zIndex:1e3},children:n(e)})},Vtt=({anchorEl:e,setAnchorEl:t})=>{const{user:n}=O.useContext(Ig),r=Oa(),{isDarkMode:i,toggleTheme:o}=vy(),{isPresentationMode:s,togglePresentationMode:a}=Ox(),l=()=>n!==void 0&&n.permissions.some(c=>c.name===zh.MANAGE_USERS);return x.jsx($d,{anchorEl:e,keepMounted:!0,open:!!e,onClose:()=>{t(null)},sx:{zIndex:9999},children:x.jsxs(o2,{dense:!0,sx:{mt:-1,mb:-1},children:[x.jsxs(ir,{disabled:!0,sx:{mt:-1,height:"50px",borderBottom:"1px solid",borderColor:"divider"},children:[x.jsx(no,{children:x.jsx(yme,{})}),x.jsx(sd,{primary:x.jsx(it,{sx:{fontWeight:"bold"},children:"General Settings"})})]}),l()&&x.jsxs(ir,{onClick:()=>{t(null),r({to:Mi.UserManagement})},children:[x.jsx(no,{children:x.jsx(UZe,{})}),x.jsx(sd,{primary:"User Management"})]},1),x.jsxs(ir,{onClick:()=>{t(null),a()},children:[x.jsx(no,{children:s?x.jsx(rJe,{}):x.jsx(iJe,{})}),x.jsx(sd,{primary:`${s?"Disable":"Enable"} Presentation Mode`})]},4),x.jsxs(ir,{onClick:()=>{t(null),o()},children:[x.jsx(no,{children:i?x.jsx(pZe,{}):x.jsx(fZe,{})}),x.jsx(sd,{primary:`Switch to ${i?"light":"dark"} mode`})]},5)]})})},Zme=({handleLogoClick:e,children:t})=>{const{isKws:n}=Xi(),r=lr();return x.jsxs(Jhe,{color:"transparent",style:{borderLeft:"none",borderRight:"none",borderTop:"none"},children:[x.jsx(Htt,{}),x.jsxs(zXe,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:[x.jsx(lt,{p:0,mr:2,children:x.jsx(Ft,{onClick:e,sx:{textTransform:"none",color:"white"},children:n?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:"/smartplot.png",height:32}),x.jsx(it,{sx:{fontSize:"1.2rem",fontWeight:"bold",ml:2},color:"inherit",variant:"h6",children:"SmartPlot"})]}):x.jsx(Ntt,{fill:r.palette.highlight.text})})}),t]})]})},Wtt=()=>{const{api:e}=O.useContext(un),{data:t}=kl(),{pipeId:n,nodeId:r,username:i,isTemplate:o}=xu(),s=Oa(),[a,l]=O.useState(null),[c,u]=O.useState(null),[d,f]=O.useState(!1),[p,g]=O.useState(!1),m=oI(E=>E.setActiveTab),v=n!==void 0&&!isNaN(n)&&r!==void 0&&!isNaN(r),b=(E,T)=>{isNaN(n)||e.savePipeSnapshot(n,E,T).then(k=>{or.debug("Saved pipe snapshot: "+k.data)}).catch(k=>{or.error("Could not save pipe snapshot: "+JSON.stringify(k))})},S=()=>{s({to:Mi.Home})},C=()=>{m(0),s({to:"/pipes/"+(t==null?void 0:t.username)})},_=()=>{m(1),s({to:`/${Mi.Templates}/${t==null?void 0:t.username}`})};return x.jsxs(Zme,{handleLogoClick:S,children:[(t==null?void 0:t.username)&&x.jsxs(lt,{sx:{display:"flex",gap:2},children:[x.jsxs(Ft,{color:"inherit",onClick:C,"data-testid":"nav-dashboards",children:[x.jsx(vme,{sx:{mr:1}}),x.jsx("div",{children:"Dashboards"})]}),x.jsxs(Ft,{color:"inherit",onClick:_,children:[x.jsx(PZe,{sx:{mr:1}}),x.jsx("div",{children:"Templates"})]}),x.jsxs(Ft,{color:"inherit",onClick:()=>s({to:`${Mi.Files}/${t==null?void 0:t.username}`}),children:[x.jsx(DZe,{sx:{mr:1}}),x.jsx("div",{children:"Files"})]})]}),x.jsx(lt,{sx:{flexGrow:1}}),x.jsx("div",{id:"toolbar-button-portal",style:v?{}:{display:"none"}}),x.jsxs(lt,{sx:{display:"flex",alignItems:"center",gap:1,mr:3},children:[x.jsx(Yt,{title:"Show Settings",children:x.jsx(sn,{color:"inherit",onClick:E=>{l(E.currentTarget)},children:x.jsx(yme,{})})}),x.jsx(Yt,{title:"Profile",children:x.jsx(sn,{onClick:E=>{u(E.currentTarget)},color:"inherit",children:x.jsx(lme,{})})})]}),x.jsx(Utt,{open:d,onClose:()=>f(!1),onSave:b}),x.jsx(Vtt,{anchorEl:a,setAnchorEl:l,pipeId:n,usernameFromPath:i}),x.jsx(Btt,{anchor:c,setAnchor:u}),x.jsx(Qme,{open:p,setOpen:g,usernameFromPath:i,pipeId:n,isTemplate:o})]})},Us=({additionalSx:e,children:t})=>{const n=lr();return x.jsx(lt,{borderRadius:1,sx:{backgroundColor:n.palette.background.paper,borderColor:n.palette.grey[200],border:"1px solid ",p:2,display:"flex",flexDirection:"row",overflow:"auto",...e},children:t})};var oL,ere;function qtt(){if(ere)return oL;ere=1,oL=function(i,o,s){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof o=="function"&&(s=o,o={}),o=o||{},s=s||function(){},l.type=o.type||"text/javascript",l.charset=o.charset||"utf8",l.async="async"in o?!!o.async:!0,l.src=i,o.attrs&&e(l,o.attrs),o.text&&(l.text=""+o.text);var c="onload"in l?t:n;c(l,s),l.onload||t(l,s),a.appendChild(l)};function e(r,i){for(var o in i)r.setAttribute(o,i[o])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return oL}var sL,tre;function Jme(){if(tre)return sL;tre=1;var e=function(S){return t(S)&&!n(S)};function t(b){return!!b&&typeof b=="object"}function n(b){var S=Object.prototype.toString.call(b);return S==="[object RegExp]"||S==="[object Date]"||o(b)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(b){return b.$$typeof===i}function s(b){return Array.isArray(b)?[]:{}}function a(b,S){return S.clone!==!1&&S.isMergeableObject(b)?m(s(b),b,S):b}function l(b,S,C){return b.concat(S).map(function(_){return a(_,C)})}function c(b,S){if(!S.customMerge)return m;var C=S.customMerge(b);return typeof C=="function"?C:m}function u(b){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b).filter(function(S){return Object.propertyIsEnumerable.call(b,S)}):[]}function d(b){return Object.keys(b).concat(u(b))}function f(b,S){try{return S in b}catch{return!1}}function p(b,S){return f(b,S)&&!(Object.hasOwnProperty.call(b,S)&&Object.propertyIsEnumerable.call(b,S))}function g(b,S,C){var _={};return C.isMergeableObject(b)&&d(b).forEach(function(E){_[E]=a(b[E],C)}),d(S).forEach(function(E){p(b,E)||(f(b,E)&&C.isMergeableObject(S[E])?_[E]=c(E,C)(b[E],S[E],C):_[E]=a(S[E],C))}),_}function m(b,S,C){C=C||{},C.arrayMerge=C.arrayMerge||l,C.isMergeableObject=C.isMergeableObject||e,C.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(S),E=Array.isArray(b),T=_===E;return T?_?C.arrayMerge(b,S,C):g(b,S,C):a(S,C)}m.all=function(S,C){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(_,E){return m(_,E,C)},{})};var v=m;return sL=v,sL}var aL,nre;function sI(){if(nre)return aL;nre=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(U,z)=>{for(var B in z)t(U,B,{get:z[B],enumerable:!0})},a=(U,z,B,G)=>{if(z&&typeof z=="object"||typeof z=="function")for(let Y of r(z))!o.call(U,Y)&&Y!==B&&t(U,Y,{get:()=>z[Y],enumerable:!(G=n(z,Y))||G.enumerable});return U},l=(U,z,B)=>(B=U!=null?e(i(U)):{},a(!U||!U.__esModule?t(B,"default",{value:U,enumerable:!0}):B,U)),c=U=>a(t({},"__esModule",{value:!0}),U),u={};s(u,{callPlayer:()=>M,getConfig:()=>I,getSDK:()=>F,isBlobUrl:()=>L,isMediaStream:()=>$,lazy:()=>g,omit:()=>j,parseEndTime:()=>T,parseStartTime:()=>E,queryString:()=>A,randomString:()=>k,supportsWebKitPresentationMode:()=>V}),aL=c(u);var d=l(mu()),f=l(qtt()),p=l(Jme());const g=U=>d.default.lazy(async()=>{const z=await U();return typeof z.default=="function"?z:z.default}),m=/[?&#](?:start|t)=([0-9hms]+)/,v=/[?&#]end=([0-9hms]+)/,b=/(\d+)(h|m|s)/g,S=/^\d+$/;function C(U,z){if(U instanceof Array)return;const B=U.match(z);if(B){const G=B[1];if(G.match(b))return _(G);if(S.test(G))return parseInt(G)}}function _(U){let z=0,B=b.exec(U);for(;B!==null;){const[,G,Y]=B;Y==="h"&&(z+=parseInt(G,10)*60*60),Y==="m"&&(z+=parseInt(G,10)*60),Y==="s"&&(z+=parseInt(G,10)),B=b.exec(U)}return z}function E(U){return C(U,m)}function T(U){return C(U,v)}function k(){return Math.random().toString(36).substr(2,5)}function A(U){return Object.keys(U).map(z=>`${z}=${U[z]}`).join("&")}function P(U){return window[U]?window[U]:window.exports&&window.exports[U]?window.exports[U]:window.module&&window.module.exports&&window.module.exports[U]?window.module.exports[U]:null}const D={},F=function(z,B,G=null,Y=()=>!0,Q=f.default){const K=P(B);return K&&Y(K)?Promise.resolve(K):new Promise((te,ce)=>{if(D[z]){D[z].push({resolve:te,reject:ce});return}D[z]=[{resolve:te,reject:ce}];const ie=re=>{D[z].forEach(he=>he.resolve(re))};if(G){const re=window[G];window[G]=function(){re&&re(),ie(P(B))}}Q(z,re=>{re?(D[z].forEach(he=>he.reject(re)),D[z]=null):G||ie(P(B))})})};function I(U,z){return(0,p.default)(z.config,U.config)}function j(U,...z){const B=[].concat(...z),G={},Y=Object.keys(U);for(const Q of Y)B.indexOf(Q)===-1&&(G[Q]=U[Q]);return G}function M(U,...z){if(!this.player||!this.player[U]){let B=`ReactPlayer: ${this.constructor.displayName} player could not call %c${U}%c  `;return this.player?this.player[U]||(B+="The method was not available"):B+="The player was not available",console.warn(B,"font-weight: bold",""),null}return this.player[U](...z)}function $(U){return typeof window<"u"&&typeof window.MediaStream<"u"&&U instanceof window.MediaStream}function L(U){return/^blob:/.test(U)}function V(U=document.createElement("video")){const z=/iPhone|iPod/.test(navigator.userAgent)===!1;return U.webkitSupportsPresentationMode&&typeof U.webkitSetPresentationMode=="function"&&z}function q(U){return U}return aL}var lL,rre;function Gtt(){if(rre)return lL;rre=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(M,$)=>{for(var L in $)e(M,L,{get:$[L],enumerable:!0})},o=(M,$,L,V)=>{if($&&typeof $=="object"||typeof $=="function")for(let q of n($))!r.call(M,q)&&q!==L&&e(M,q,{get:()=>$[q],enumerable:!(V=t($,q))||V.enumerable});return M},s=M=>o(e({},"__esModule",{value:!0}),M),a={};i(a,{AUDIO_EXTENSIONS:()=>k,DASH_EXTENSIONS:()=>D,FLV_EXTENSIONS:()=>F,HLS_EXTENSIONS:()=>P,MATCH_URL_DAILYMOTION:()=>C,MATCH_URL_FACEBOOK:()=>p,MATCH_URL_FACEBOOK_WATCH:()=>g,MATCH_URL_KALTURA:()=>T,MATCH_URL_MIXCLOUD:()=>_,MATCH_URL_MUX:()=>f,MATCH_URL_SOUNDCLOUD:()=>u,MATCH_URL_STREAMABLE:()=>m,MATCH_URL_TWITCH_CHANNEL:()=>S,MATCH_URL_TWITCH_VIDEO:()=>b,MATCH_URL_VIDYARD:()=>E,MATCH_URL_VIMEO:()=>d,MATCH_URL_WISTIA:()=>v,MATCH_URL_YOUTUBE:()=>c,VIDEO_EXTENSIONS:()=>A,canPlay:()=>j}),lL=s(a);var l=sI();const c=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,u=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,d=/vimeo\.com\/(?!progressive_redirect).+/,f=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,p=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,g=/^https?:\/\/fb\.watch\/.+$/,m=/streamable\.com\/([a-z0-9]+)$/,v=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,b=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,S=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,C=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,_=/mixcloud\.com\/([^/]+\/[^/]+)/,E=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,T=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,k=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,A=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,P=/\.(m3u8)($|\?)/i,D=/\.(mpd)($|\?)/i,F=/\.(flv)($|\?)/i,I=M=>{if(M instanceof Array){for(const $ of M)if(typeof $=="string"&&I($)||I($.src))return!0;return!1}return(0,l.isMediaStream)(M)||(0,l.isBlobUrl)(M)?!0:k.test(M)||A.test(M)||P.test(M)||D.test(M)||F.test(M)},j={youtube:M=>M instanceof Array?M.every($=>c.test($)):c.test(M),soundcloud:M=>u.test(M)&&!k.test(M),vimeo:M=>d.test(M)&&!A.test(M)&&!P.test(M),mux:M=>f.test(M),facebook:M=>p.test(M)||g.test(M),streamable:M=>m.test(M),wistia:M=>v.test(M),twitch:M=>b.test(M)||S.test(M),dailymotion:M=>C.test(M),mixcloud:M=>_.test(M),vidyard:M=>E.test(M),kaltura:M=>T.test(M),file:I};return lL}var cL,ire;function Ytt(){if(ire)return cL;ire=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(d,f)=>{for(var p in f)e(d,p,{get:f[p],enumerable:!0})},o=(d,f,p,g)=>{if(f&&typeof f=="object"||typeof f=="function")for(let m of n(f))!r.call(d,m)&&m!==p&&e(d,m,{get:()=>f[m],enumerable:!(g=t(f,m))||g.enumerable});return d},s=d=>o(e({},"__esModule",{value:!0}),d),a={};i(a,{default:()=>u}),cL=s(a);var l=sI(),c=Gtt(),u=[{key:"youtube",name:"YouTube",canPlay:c.canPlay.youtube,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./YouTube-BazVzpFo.js").then(d=>d.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:c.canPlay.soundcloud,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./SoundCloud-CKCwh3Bu.js").then(d=>d.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:c.canPlay.vimeo,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Vimeo-BjKVA_rB.js").then(d=>d.V),[]))},{key:"mux",name:"Mux",canPlay:c.canPlay.mux,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Mux-DSXPW8Se.js").then(d=>d.M),[]))},{key:"facebook",name:"Facebook",canPlay:c.canPlay.facebook,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Facebook-DQi8NdDO.js").then(d=>d.F),[]))},{key:"streamable",name:"Streamable",canPlay:c.canPlay.streamable,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Streamable-CDrkfk3s.js").then(d=>d.S),[]))},{key:"wistia",name:"Wistia",canPlay:c.canPlay.wistia,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Wistia-BRAFui8f.js").then(d=>d.W),[]))},{key:"twitch",name:"Twitch",canPlay:c.canPlay.twitch,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Twitch-7PJu6dm4.js").then(d=>d.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:c.canPlay.dailymotion,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./DailyMotion-BP18mk9T.js").then(d=>d.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:c.canPlay.mixcloud,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Mixcloud-BE4HYJkk.js").then(d=>d.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:c.canPlay.vidyard,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Vidyard-yWDaL1fb.js").then(d=>d.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:c.canPlay.kaltura,lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./Kaltura-lHgm4w9l.js").then(d=>d.K),[]))},{key:"file",name:"FilePlayer",canPlay:c.canPlay.file,canEnablePIP:d=>c.canPlay.file(d)&&(document.pictureInPictureEnabled||(0,l.supportsWebKitPresentationMode)())&&!c.AUDIO_EXTENSIONS.test(d),lazyPlayer:(0,l.lazy)(()=>_s(()=>import("./FilePlayer-Svrh8A1I.js").then(d=>d.F),[]))}];return cL}var ore=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Xtt(e,t){return!!(e===t||ore(e)&&ore(t))}function Ktt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Xtt(e[n],t[n]))return!1;return!0}function Qtt(e,t){t===void 0&&(t=Ktt);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}const Ztt=Object.freeze(Object.defineProperty({__proto__:null,default:Qtt},Symbol.toStringTag,{value:"Module"})),Jtt=dPe(Ztt);var uL,sre;function e0e(){if(sre)return uL;sre=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(o,s){if(o===s)return!0;if(o&&s&&typeof o=="object"&&typeof s=="object"){if(o.constructor!==s.constructor)return!1;var a,l,c;if(Array.isArray(o)){if(a=o.length,a!=s.length)return!1;for(l=a;l--!==0;)if(!i(o[l],s[l]))return!1;return!0}var u;if(t&&o instanceof Map&&s instanceof Map){if(o.size!==s.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=o.entries();!(l=u.next()).done;)if(!i(l.value[1],s.get(l.value[0])))return!1;return!0}if(n&&o instanceof Set&&s instanceof Set){if(o.size!==s.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(s)){if(a=o.length,a!=s.length)return!1;for(l=a;l--!==0;)if(o[l]!==s[l])return!1;return!0}if(o.constructor===RegExp)return o.source===s.source&&o.flags===s.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof s.valueOf=="function")return o.valueOf()===s.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof s.toString=="function")return o.toString()===s.toString();if(c=Object.keys(o),a=c.length,a!==Object.keys(s).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(e&&o instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&o.$$typeof)&&!i(o[c[l]],s[c[l]]))return!1;return!0}return o!==o&&s!==s}return uL=function(s,a){try{return i(s,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},uL}var dL,are;function t0e(){if(are)return dL;are=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(A,P)=>{for(var D in P)t(A,D,{get:P[D],enumerable:!0})},a=(A,P,D,F)=>{if(P&&typeof P=="object"||typeof P=="function")for(let I of r(P))!o.call(A,I)&&I!==D&&t(A,I,{get:()=>P[I],enumerable:!(F=n(P,I))||F.enumerable});return A},l=(A,P,D)=>(D=A!=null?e(i(A)):{},a(!A||!A.__esModule?t(D,"default",{value:A,enumerable:!0}):D,A)),c=A=>a(t({},"__esModule",{value:!0}),A),u={};s(u,{defaultProps:()=>k,propTypes:()=>E}),dL=c(u);var d=l(che());const{string:f,bool:p,number:g,array:m,oneOfType:v,shape:b,object:S,func:C,node:_}=d.default,E={url:v([f,m,S]),playing:p,loop:p,controls:p,volume:g,muted:p,playbackRate:g,width:v([f,g]),height:v([f,g]),style:S,progressInterval:g,playsinline:p,pip:p,stopOnUnmount:p,light:v([p,f,S]),playIcon:_,previewTabIndex:g,previewAriaLabel:f,fallback:_,oEmbedUrl:f,wrapper:v([f,C,b({render:C.isRequired})]),config:b({soundcloud:b({options:S}),youtube:b({playerVars:S,embedOptions:S,onUnstarted:C}),facebook:b({appId:f,version:f,playerId:f,attributes:S}),dailymotion:b({params:S}),vimeo:b({playerOptions:S,title:f}),mux:b({attributes:S,version:f}),file:b({attributes:S,tracks:m,forceVideo:p,forceAudio:p,forceHLS:p,forceSafariHLS:p,forceDisableHls:p,forceDASH:p,forceFLV:p,hlsOptions:S,hlsVersion:f,dashVersion:f,flvVersion:f}),wistia:b({options:S,playerId:f,customControls:m}),mixcloud:b({options:S}),twitch:b({options:S,playerId:f}),vidyard:b({options:S})}),onReady:C,onStart:C,onPlay:C,onPause:C,onBuffer:C,onBufferEnd:C,onEnded:C,onError:C,onDuration:C,onSeek:C,onPlaybackRateChange:C,onPlaybackQualityChange:C,onProgress:C,onClickPreview:C,onEnablePIP:C,onDisablePIP:C},T=()=>{},k={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:T},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:T,onStart:T,onPlay:T,onPause:T,onBuffer:T,onBufferEnd:T,onEnded:T,onError:T,onDuration:T,onSeek:T,onPlaybackRateChange:T,onPlaybackQualityChange:T,onProgress:T,onClickPreview:T,onEnablePIP:T,onDisablePIP:T};return dL}var fL,lre;function ent(){if(lre)return fL;lre=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(C,_,E)=>_ in C?t(C,_,{enumerable:!0,configurable:!0,writable:!0,value:E}):C[_]=E,a=(C,_)=>{for(var E in _)t(C,E,{get:_[E],enumerable:!0})},l=(C,_,E,T)=>{if(_&&typeof _=="object"||typeof _=="function")for(let k of r(_))!o.call(C,k)&&k!==E&&t(C,k,{get:()=>_[k],enumerable:!(T=n(_,k))||T.enumerable});return C},c=(C,_,E)=>(E=C!=null?e(i(C)):{},l(!C||!C.__esModule?t(E,"default",{value:C,enumerable:!0}):E,C)),u=C=>l(t({},"__esModule",{value:!0}),C),d=(C,_,E)=>(s(C,typeof _!="symbol"?_+"":_,E),E),f={};a(f,{default:()=>S}),fL=u(f);var p=c(mu()),g=c(e0e()),m=t0e(),v=sI();const b=5e3;class S extends p.Component{constructor(){super(...arguments),d(this,"mounted",!1),d(this,"isReady",!1),d(this,"isPlaying",!1),d(this,"isLoading",!0),d(this,"loadOnReady",null),d(this,"startOnPlay",!0),d(this,"seekOnPlay",null),d(this,"onDurationCalled",!1),d(this,"handlePlayerMount",_=>{if(this.player){this.progress();return}this.player=_,this.player.load(this.props.url),this.progress()}),d(this,"getInternalPlayer",_=>this.player?this.player[_]:null),d(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const _=this.getCurrentTime()||0,E=this.getSecondsLoaded(),T=this.getDuration();if(T){const k={playedSeconds:_,played:_/T};E!==null&&(k.loadedSeconds=E,k.loaded=E/T),(k.playedSeconds!==this.prevPlayed||k.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(k),this.prevPlayed=k.playedSeconds,this.prevLoaded=k.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),d(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:_,playing:E,volume:T,muted:k}=this.props;_(),!k&&T!==null&&this.player.setVolume(T),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):E&&this.player.play(),this.handleDurationCheck()}),d(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:_,onPlay:E,playbackRate:T}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&T!==1&&this.player.setPlaybackRate(T),_(),this.startOnPlay=!1),E(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),d(this,"handlePause",_=>{this.isPlaying=!1,this.isLoading||this.props.onPause(_)}),d(this,"handleEnded",()=>{const{activePlayer:_,loop:E,onEnded:T}=this.props;_.loopOnEnded&&E&&this.seekTo(0),E||(this.isPlaying=!1,T())}),d(this,"handleError",(..._)=>{this.isLoading=!1,this.props.onError(..._)}),d(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const _=this.getDuration();_?this.onDurationCalled||(this.props.onDuration(_),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),d(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(_){if(!this.player)return;const{url:E,playing:T,volume:k,muted:A,playbackRate:P,pip:D,loop:F,activePlayer:I,disableDeferredLoading:j}=this.props;if(!(0,g.default)(_.url,E)){if(this.isLoading&&!I.forceLoad&&!j&&!(0,v.isMediaStream)(E)){console.warn(`ReactPlayer: the attempt to load ${E} is being deferred until the player has loaded`),this.loadOnReady=E;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(E,this.isReady)}!_.playing&&T&&!this.isPlaying&&this.player.play(),_.playing&&!T&&this.isPlaying&&this.player.pause(),!_.pip&&D&&this.player.enablePIP&&this.player.enablePIP(),_.pip&&!D&&this.player.disablePIP&&this.player.disablePIP(),_.volume!==k&&k!==null&&this.player.setVolume(k),_.muted!==A&&(A?this.player.mute():(this.player.unmute(),k!==null&&setTimeout(()=>this.player.setVolume(k)))),_.playbackRate!==P&&this.player.setPlaybackRate&&this.player.setPlaybackRate(P),_.loop!==F&&this.player.setLoop&&this.player.setLoop(F)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(_,E,T){if(!this.isReady){_!==0&&(this.seekOnPlay=_,setTimeout(()=>{this.seekOnPlay=null},b));return}if(E?E==="fraction":_>0&&_<1){const A=this.player.getDuration();if(!A){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(A*_,T);return}this.player.seekTo(_,T)}render(){const _=this.props.activePlayer;return _?p.default.createElement(_,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return d(S,"displayName","Player"),d(S,"propTypes",m.propTypes),d(S,"defaultProps",m.defaultProps),fL}var pL,cre;function tnt(){if(cre)return pL;cre=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(F,I,j)=>I in F?t(F,I,{enumerable:!0,configurable:!0,writable:!0,value:j}):F[I]=j,a=(F,I)=>{for(var j in I)t(F,j,{get:I[j],enumerable:!0})},l=(F,I,j,M)=>{if(I&&typeof I=="object"||typeof I=="function")for(let $ of r(I))!o.call(F,$)&&$!==j&&t(F,$,{get:()=>I[$],enumerable:!(M=n(I,$))||M.enumerable});return F},c=(F,I,j)=>(j=F!=null?e(i(F)):{},l(!F||!F.__esModule?t(j,"default",{value:F,enumerable:!0}):j,F)),u=F=>l(t({},"__esModule",{value:!0}),F),d=(F,I,j)=>(s(F,typeof I!="symbol"?I+"":I,j),j),f={};a(f,{createReactPlayer:()=>D}),pL=u(f);var p=c(mu()),g=c(Jme()),m=c(Jtt),v=c(e0e()),b=t0e(),S=sI(),C=c(ent());const _=(0,S.lazy)(()=>_s(()=>import("./Preview-DQg3hDob.js").then(F=>F.P),[])),E=typeof window<"u"&&window.document&&typeof document<"u",T=typeof Vm<"u"&&Vm.window&&Vm.window.document,k=Object.keys(b.propTypes),A=E||T?p.Suspense:()=>null,P=[],D=(F,I)=>{var j;return j=class extends p.Component{constructor(){super(...arguments),d(this,"state",{showPreview:!!this.props.light}),d(this,"references",{wrapper:M=>{this.wrapper=M},player:M=>{this.player=M}}),d(this,"handleClickPreview",M=>{this.setState({showPreview:!1}),this.props.onClickPreview(M)}),d(this,"showPreview",()=>{this.setState({showPreview:!0})}),d(this,"getDuration",()=>this.player?this.player.getDuration():null),d(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),d(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),d(this,"getInternalPlayer",(M="player")=>this.player?this.player.getInternalPlayer(M):null),d(this,"seekTo",(M,$,L)=>{if(!this.player)return null;this.player.seekTo(M,$,L)}),d(this,"handleReady",()=>{this.props.onReady(this)}),d(this,"getActivePlayer",(0,m.default)(M=>{for(const $ of[...P,...F])if($.canPlay(M))return $;return I||null})),d(this,"getConfig",(0,m.default)((M,$)=>{const{config:L}=this.props;return g.default.all([b.defaultProps.config,b.defaultProps.config[$]||{},L,L[$]||{}])})),d(this,"getAttributes",(0,m.default)(M=>(0,S.omit)(this.props,k))),d(this,"renderActivePlayer",M=>{if(!M)return null;const $=this.getActivePlayer(M);if(!$)return null;const L=this.getConfig(M,$.key);return p.default.createElement(C.default,{...this.props,key:$.key,ref:this.references.player,config:L,activePlayer:$.lazyPlayer||$,onReady:this.handleReady})})}shouldComponentUpdate(M,$){return!(0,v.default)(this.props,M)||!(0,v.default)(this.state,$)}componentDidUpdate(M){const{light:$}=this.props;!M.light&&$&&this.setState({showPreview:!0}),M.light&&!$&&this.setState({showPreview:!1})}renderPreview(M){if(!M)return null;const{light:$,playIcon:L,previewTabIndex:V,oEmbedUrl:q,previewAriaLabel:U}=this.props;return p.default.createElement(_,{url:M,light:$,playIcon:L,previewTabIndex:V,previewAriaLabel:U,oEmbedUrl:q,onClick:this.handleClickPreview})}render(){const{url:M,style:$,width:L,height:V,fallback:q,wrapper:U}=this.props,{showPreview:z}=this.state,B=this.getAttributes(M),G=typeof U=="string"?this.references.wrapper:void 0;return p.default.createElement(U,{ref:G,style:{...$,width:L,height:V},...B},p.default.createElement(A,{fallback:q},z?this.renderPreview(M):this.renderActivePlayer(M)))}},d(j,"displayName","ReactPlayer"),d(j,"propTypes",b.propTypes),d(j,"defaultProps",b.defaultProps),d(j,"addCustomPlayer",M=>{P.push(M)}),d(j,"removeCustomPlayers",()=>{P.length=0}),d(j,"canPlay",M=>{for(const $ of[...P,...F])if($.canPlay(M))return!0;return!1}),d(j,"canEnablePIP",M=>{for(const $ of[...P,...F])if($.canEnablePIP&&$.canEnablePIP(M))return!0;return!1}),j};return pL}var hL,ure;function nnt(){if(ure)return hL;ure=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(m,v)=>{for(var b in v)t(m,b,{get:v[b],enumerable:!0})},a=(m,v,b,S)=>{if(v&&typeof v=="object"||typeof v=="function")for(let C of r(v))!o.call(m,C)&&C!==b&&t(m,C,{get:()=>v[C],enumerable:!(S=n(v,C))||S.enumerable});return m},l=(m,v,b)=>(b=m!=null?e(i(m)):{},a(!m||!m.__esModule?t(b,"default",{value:m,enumerable:!0}):b,m)),c=m=>a(t({},"__esModule",{value:!0}),m),u={};s(u,{default:()=>g}),hL=c(u);var d=l(Ytt()),f=tnt();const p=d.default[d.default.length-1];var g=(0,f.createReactPlayer)(d.default,p);return hL}var rnt=nnt();const int=kg(rnt),ont=()=>{const{isKws:e}=Xi(),t=e?"https://kwsnet.sharepoint.com/sites/bt-maoc-extern/nomaze/Shared%20Documents/Videos/SmartPlot%20Introduction_250122.mp4":"https://www.youtube.com/watch?v=0avQe8-0h9k";return x.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:x.jsx(int,{url:t,width:"100%",height:"100%",style:{position:"absolute",top:10,left:0},controls:!0,playing:!1,light:!1})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Rh(e,t){return typeof e=="function"?e(t):e}function ml(e,t){return n=>{t.setState(r=>({...r,[e]:Rh(n,r[e])}))}}function aI(e){return e instanceof Function}function snt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function n0e(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function tn(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((u,d)=>r[d]!==u)))return i;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-c)*100)/100,f=d/16,p=(g,m)=>{for(g=String(g);g.length<m;)g=" "+g;return g};console.info(`%c ${p(d,5)} /${p(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function nn(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function ant(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:tn(()=>[e,n,t,o],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),nn(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function lnt(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let c=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=f=>{let p=f;for(const m of l.split(".")){var g;p=(g=p)==null?void 0:g[m]}return p}:u=f=>f[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:tn(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},nn(e.options,"debugColumns")),getLeafColumns:tn(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=d.columns)!=null&&p.length){let g=d.columns.flatMap(m=>m.getLeafColumns());return f(g)}return[d]},nn(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const Qo="debugHeaders";function dre(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const cnt={createTable:e=>{e.getHeaderGroups=tn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],c=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return lT(t,[...a,...c,...l],e)},nn(e.options,Qo)),e.getCenterHeaderGroups=tn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),lT(t,n,e,"center")),nn(e.options,Qo)),e.getLeftHeaderGroups=tn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return lT(t,o,e,"left")},nn(e.options,Qo)),e.getRightHeaderGroups=tn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return lT(t,o,e,"right")},nn(e.options,Qo)),e.getFooterGroups=tn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),nn(e.options,Qo)),e.getLeftFooterGroups=tn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),nn(e.options,Qo)),e.getCenterFooterGroups=tn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),nn(e.options,Qo)),e.getRightFooterGroups=tn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),nn(e.options,Qo)),e.getFlatHeaders=tn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),nn(e.options,Qo)),e.getLeftFlatHeaders=tn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),nn(e.options,Qo)),e.getCenterFlatHeaders=tn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),nn(e.options,Qo)),e.getRightFlatHeaders=tn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),nn(e.options,Qo)),e.getCenterLeafHeaders=tn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),nn(e.options,Qo)),e.getLeftLeafHeaders=tn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),nn(e.options,Qo)),e.getRightLeafHeaders=tn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),nn(e.options,Qo)),e.getLeafHeaders=tn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,c;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},nn(e.options,Qo))}};function lT(e,t,n,r){var i,o;let s=0;const a=function(f,p){p===void 0&&(p=1),s=Math.max(s,p),f.filter(g=>g.getIsVisible()).forEach(g=>{var m;(m=g.columns)!=null&&m.length&&a(g.columns,p+1)},0)};a(e);let l=[];const c=(f,p)=>{const g={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(v=>{const b=[...m].reverse()[0],S=v.column.depth===g.depth;let C,_=!1;if(S&&v.column.parent?C=v.column.parent:(C=v.column,_=!0),b&&(b==null?void 0:b.column)===C)b.subHeaders.push(v);else{const E=dre(n,C,{id:[r,p,C.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${m.filter(T=>T.column===C).length}`:void 0,depth:p,index:m.length});E.subHeaders.push(v),m.push(E)}g.headers.push(v),v.headerGroup=g}),l.push(g),p>0&&c(m,p-1)},u=t.map((f,p)=>dre(n,f,{depth:s,index:p}));c(u,s-1),l.reverse();const d=f=>f.filter(g=>g.column.getIsVisible()).map(g=>{let m=0,v=0,b=[0];g.subHeaders&&g.subHeaders.length?(b=[],d(g.subHeaders).forEach(C=>{let{colSpan:_,rowSpan:E}=C;m+=_,b.push(E)})):m=1;const S=Math.min(...b);return v=v+S,g.colSpan=m,g.rowSpan=v,{colSpan:m,rowSpan:v}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const u2=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>n0e(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:tn(()=>[e.getAllLeafColumns()],l=>l.map(c=>ant(e,a,c,c.id)),nn(e.options,"debugRows")),_getAllCellsByColumnId:tn(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),nn(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a},unt={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},r0e=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};r0e.autoRemove=e=>iu(e);const i0e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};i0e.autoRemove=e=>iu(e);const o0e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};o0e.autoRemove=e=>iu(e);const s0e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};s0e.autoRemove=e=>iu(e)||!(e!=null&&e.length);const a0e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});a0e.autoRemove=e=>iu(e)||!(e!=null&&e.length);const l0e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});l0e.autoRemove=e=>iu(e)||!(e!=null&&e.length);const c0e=(e,t,n)=>e.getValue(t)===n;c0e.autoRemove=e=>iu(e);const u0e=(e,t,n)=>e.getValue(t)==n;u0e.autoRemove=e=>iu(e);const gU=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};gU.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};gU.autoRemove=e=>iu(e)||iu(e[0])&&iu(e[1]);const Hu={includesString:r0e,includesStringSensitive:i0e,equalsString:o0e,arrIncludes:s0e,arrIncludesAll:a0e,arrIncludesSome:l0e,equals:c0e,weakEquals:u0e,inNumberRange:gU};function iu(e){return e==null||e===""}const dnt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ml("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Hu.includesString:typeof r=="number"?Hu.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Hu.equals:Array.isArray(r)?Hu.arrIncludes:Hu.weakEquals},e.getFilterFn=()=>{var n,r;return aI(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Hu[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(u=>u.id===e.id),s=Rh(n,o?o.value:void 0);if(fre(i,s,e)){var a;return(a=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var c;return(c=r==null?void 0:r.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=Rh(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(fre(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function fre(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const fnt=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),pnt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},hnt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},gnt=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},mnt=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},ynt=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!snt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},vnt=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),bnt=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,xnt=(e,t)=>t.length,BM={sum:fnt,min:pnt,max:hnt,extent:gnt,mean:mnt,median:ynt,unique:vnt,uniqueCount:bnt,count:xnt},Snt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ml("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return BM.sum;if(Object.prototype.toString.call(r)==="[object Date]")return BM.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return aI(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:BM[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function wnt(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const Cnt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ml("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=tn(n=>[GC(t,n)],n=>n.findIndex(r=>r.id===e.id),nn(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=GC(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=GC(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=tn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return wnt(o,n,r)},nn(e.options,"debugTable"))}},gL=()=>({left:[],right:[]}),_nt={getInitialState:e=>({columnPinning:gL(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ml("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var c,u;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((u=i==null?void 0:i.right)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=tn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},nn(t.options,"debugRows")),e.getLeftVisibleCells=tn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),nn(t.options,"debugRows")),e.getRightVisibleCells=tn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),nn(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?gL():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:gL())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=tn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),nn(e.options,"debugColumns")),e.getRightLeafColumns=tn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),nn(e.options,"debugColumns")),e.getCenterLeafColumns=tn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},nn(e.options,"debugColumns"))}},cT={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},mL=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Ent={getDefaultColumnDef:()=>cT,getInitialState:e=>({columnSizing:{},columnSizingInfo:mL(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ml("columnSizing",e),onColumnSizingInfoChange:ml("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:cT.minSize,(r=o??e.columnDef.size)!=null?r:cT.size),(i=e.columnDef.maxSize)!=null?i:cT.maxSize)},e.getStart=tn(n=>[n,GC(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),nn(t.options,"debugColumns")),e.getAfter=tn(n=>[n,GC(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),nn(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),yL(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],l=yL(o)?Math.round(o.touches[0].clientX):o.clientX,c={},u=(b,S)=>{typeof S=="number"&&(t.setColumnSizingInfo(C=>{var _,E;const T=t.options.columnResizeDirection==="rtl"?-1:1,k=(S-((_=C==null?void 0:C.startOffset)!=null?_:0))*T,A=Math.max(k/((E=C==null?void 0:C.startSize)!=null?E:0),-.999999);return C.columnSizingStart.forEach(P=>{let[D,F]=P;c[D]=Math.round(Math.max(F+F*A,0)*100)/100}),{...C,deltaOffset:k,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||b==="end")&&t.setColumnSizing(C=>({...C,...c})))},d=b=>u("move",b),f=b=>{u("end",b),t.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=n||typeof document<"u"?document:null,g={moveHandler:b=>d(b.clientX),upHandler:b=>{p==null||p.removeEventListener("mousemove",g.moveHandler),p==null||p.removeEventListener("mouseup",g.upHandler),f(b.clientX)}},m={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),d(b.touches[0].clientX),!1),upHandler:b=>{var S;p==null||p.removeEventListener("touchmove",m.moveHandler),p==null||p.removeEventListener("touchend",m.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),f((S=b.touches[0])==null?void 0:S.clientX)}},v=knt()?{passive:!1}:!1;yL(o)?(p==null||p.addEventListener("touchmove",m.moveHandler,v),p==null||p.addEventListener("touchend",m.upHandler,v)):(p==null||p.addEventListener("mousemove",g.moveHandler,v),p==null||p.addEventListener("mouseup",g.upHandler,v)),t.setColumnSizingInfo(b=>({...b,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?mL():(n=e.initialState.columnSizingInfo)!=null?n:mL())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let uT=null;function knt(){if(typeof uT=="boolean")return uT;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return uT=e,uT}function yL(e){return e.type==="touchstart"}const Rnt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ml("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=tn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),nn(t.options,"debugRows")),e.getVisibleCells=tn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],nn(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>tn(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),nn(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function GC(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Tnt={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Mnt={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ml("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Hu.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return aI(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Hu[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Ant={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ml("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},R6=0,T6=10,vL=()=>({pageIndex:R6,pageSize:T6}),Ont={getInitialState:e=>({...e,pagination:{...vL(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ml("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>Rh(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?vL():(i=e.initialState.pagination)!=null?i:vL())},e.setPageIndex=r=>{e.setPagination(i=>{let o=Rh(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?R6:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:R6)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?T6:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:T6)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,Rh(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=Rh(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=tn(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},nn(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},bL=()=>({top:[],bottom:[]}),Dnt={getInitialState:e=>({rowPinning:bL(),...e}),getDefaultOptions:e=>({onRowPinningChange:ml("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],s=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var c,u;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var p,g;return{top:[...((p=l==null?void 0:l.top)!=null?p:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((g=l==null?void 0:l.bottom)!=null?g:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((u=l==null?void 0:l.bottom)!=null?u:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?bL():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:bL())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=tn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),nn(e.options,"debugRows")),e.getBottomRows=tn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),nn(e.options,"debugRows")),e.getCenterRows=tn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},nn(e.options,"debugRows"))}},Pnt={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ml("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{M6(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=tn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?xL(e,n):{rows:[],flatRows:[],rowsById:{}},nn(e.options,"debugTable")),e.getFilteredSelectedRowModel=tn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?xL(e,n):{rows:[],flatRows:[],rowsById:{}},nn(e.options,"debugTable")),e.getGroupedSelectedRowModel=tn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?xL(e,n):{rows:[],flatRows:[],rowsById:{}},nn(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return M6(a,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return mU(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return A6(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return A6(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},M6=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>M6(e,a.id,n,r,i))};function xL(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var c;const u=mU(l,n);if(u&&(r.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:o(l.subRows)}),u)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function mU(e,t){var n;return(n=t[e.id])!=null?n:!1}function A6(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(mU(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=A6(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const O6=/([0-9]+)/gm,Int=(e,t,n)=>d0e(cg(e.getValue(n)).toLowerCase(),cg(t.getValue(n)).toLowerCase()),$nt=(e,t,n)=>d0e(cg(e.getValue(n)),cg(t.getValue(n))),Fnt=(e,t,n)=>yU(cg(e.getValue(n)).toLowerCase(),cg(t.getValue(n)).toLowerCase()),Nnt=(e,t,n)=>yU(cg(e.getValue(n)),cg(t.getValue(n))),Lnt=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},jnt=(e,t,n)=>yU(e.getValue(n),t.getValue(n));function yU(e,t){return e===t?0:e>t?1:-1}function cg(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function d0e(e,t){const n=e.split(O6).filter(Boolean),r=t.split(O6).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const Nm={alphanumeric:Int,alphanumericCaseSensitive:$nt,text:Fnt,textCaseSensitive:Nnt,datetime:Lnt,basic:jnt},znt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ml("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Nm.datetime;if(typeof o=="string"&&(r=!0,o.split(O6).length>1))return Nm.alphanumeric}return r?Nm.text:Nm.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return aI(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Nm[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(p=>p.id===e.id),l=s==null?void 0:s.findIndex(p=>p.id===e.id);let c=[],u,d=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(o||i||(u="remove")),u==="add"){var f;c=[...s,{id:e.id,desc:d}],c.splice(0,c.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(p=>p.id===e.id?{...p,desc:d}:p):u==="remove"?c=s.filter(p=>p.id!==e.id):c=[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Bnt=[cnt,Rnt,Cnt,_nt,unt,dnt,Tnt,Mnt,znt,Snt,Ant,Ont,Dnt,Pnt,Ent];function Unt(e){var t,n;const r=[...Bnt,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var p;l=(p=f.getInitialState==null?void 0:f.getInitialState(l))!=null?p:l});const c=[];let u=!1;const d={_features:r,options:{...o,...e},initialState:l,_queue:f=>{c.push(f),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const p=Rh(f,i.options);i.options=s(p)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,p,g)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,p,g))!=null?m:`${g?[g.id,p].join("."):p}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,p)=>{let g=(p?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!g&&(g=i.getCoreRowModel().rowsById[f],!g))throw new Error;return g},_getDefaultColumnDef:tn(()=>[i.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:g=>{const m=g.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:g=>{var m,v;return(m=(v=g.renderValue())==null||v.toString==null?void 0:v.toString())!=null?m:null},...i._features.reduce((g,m)=>Object.assign(g,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},nn(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:tn(()=>[i._getColumnDefs()],f=>{const p=function(g,m,v){return v===void 0&&(v=0),g.map(b=>{const S=lnt(i,b,v,m),C=b;return S.columns=C.columns?p(C.columns,S,v+1):[],S})};return p(f)},nn(e,"debugColumns")),getAllFlatColumns:tn(()=>[i.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),nn(e,"debugColumns")),_getAllFlatColumnsById:tn(()=>[i.getAllFlatColumns()],f=>f.reduce((p,g)=>(p[g.id]=g,p),{}),nn(e,"debugColumns")),getAllLeafColumns:tn(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,p)=>{let g=f.flatMap(m=>m.getLeafColumns());return p(g)},nn(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const p=i._features[f];p==null||p.createTable==null||p.createTable(i)}return i}function Hnt(){return e=>tn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let c=0;c<i.length;c++){const u=u2(e,e._getRowId(i[c],c,s),i[c],c,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(i[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,o+1,u))}}return a};return n.rows=r(t),n},nn(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Vnt(){return e=>tn(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:f0e(n),nn(e.options,"debugTable"))}function f0e(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Wnt(){return(e,t)=>tn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(s=>{var a;return(a=s.getUniqueValues(t))!=null?a:[]}).map(Number).filter(s=>!Number.isNaN(s));if(!r.length)return;let i=r[0],o=r[r.length-1];for(const s of r)s<i?i=s:s>o&&(o=s);return[i,o]},nn(e.options,"debugTable"))}function p0e(e,t,n){return n.options.filterFromLeafRows?qnt(e,t,n):Gnt(e,t,n)}function qnt(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){var d;let p=l[f];const g=u2(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(g.columnFilters=p.columnFilters,(d=p.subRows)!=null&&d.length&&c<s){if(g.subRows=a(p.subRows,c+1),p=g,t(p)&&!g.subRows.length){u.push(p),o[p.id]=p,i.push(p);continue}if(t(p)||g.subRows.length){u.push(p),o[p.id]=p,i.push(p);continue}}else p=g,t(p)&&(u.push(p),o[p.id]=p,i.push(p))}return u};return{rows:a(e),flatRows:i,rowsById:o}}function Gnt(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){let p=l[f];if(t(p)){var d;if((d=p.subRows)!=null&&d.length&&c<s){const m=u2(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);m.subRows=a(p.subRows,c+1),p=m}u.push(p),i.push(p),o[p.id]=p}}return u};return{rows:a(e),flatRows:i,rowsById:o}}function Ynt(){return(e,t)=>tn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const o=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),s=a=>{for(let l=0;l<o.length;l++)if(a.columnFilters[o[l]]===!1)return!1;return!0};return p0e(n.rows,s,e)},nn(e.options,"debugTable"))}function Xnt(){return(e,t)=>tn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let o=0;o<n.flatRows.length;o++){const s=n.flatRows[o].getUniqueValues(t);for(let a=0;a<s.length;a++){const l=s[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},nn(e.options,"debugTable"))}function Knt(){return e=>tn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(f=>{var p;const g=e.getColumn(f.id);if(!g)return;const m=g.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(p=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?p:f.value})});const s=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var p;o.push({id:f.id,filterFn:a,resolvedValue:(p=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?p:r})}));let c,u;for(let f=0;f<t.flatRows.length;f++){const p=t.flatRows[f];if(p.columnFilters={},i.length)for(let g=0;g<i.length;g++){c=i[g];const m=c.id;p.columnFilters[m]=c.filterFn(p,m,c.resolvedValue,v=>{p.columnFiltersMeta[m]=v})}if(o.length){for(let g=0;g<o.length;g++){u=o[g];const m=u.id;if(u.filterFn(p,m,u.resolvedValue,v=>{p.columnFiltersMeta[m]=v})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const d=f=>{for(let p=0;p<s.length;p++)if(f.columnFilters[s[p]]===!1)return!1;return!0};return p0e(t.rows,d,e)},nn(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Qnt(){return e=>tn(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],o={},s=function(l,c,u){if(c===void 0&&(c=0),c>=r.length)return l.map(g=>(g.depth=c,i.push(g),o[g.id]=g,g.subRows&&(g.subRows=s(g.subRows,c+1,g.id)),g));const d=r[c],f=Znt(l,d);return Array.from(f.entries()).map((g,m)=>{let[v,b]=g,S=`${d}:${v}`;S=u?`${u}>${S}`:S;const C=s(b,c+1,S);C.forEach(T=>{T.parentId=S});const _=c?n0e(b,T=>T.subRows):b,E=u2(e,S,_[0].original,m,c,void 0,u);return Object.assign(E,{groupingColumnId:d,groupingValue:v,subRows:C,leafRows:_,getValue:T=>{if(r.includes(T)){if(E._valuesCache.hasOwnProperty(T))return E._valuesCache[T];if(b[0]){var k;E._valuesCache[T]=(k=b[0].getValue(T))!=null?k:void 0}return E._valuesCache[T]}if(E._groupingValuesCache.hasOwnProperty(T))return E._groupingValuesCache[T];const A=e.getColumn(T),P=A==null?void 0:A.getAggregationFn();if(P)return E._groupingValuesCache[T]=P(T,_,b),E._groupingValuesCache[T]}}),C.forEach(T=>{i.push(T),o[T.id]=T}),E})},a=s(n.rows,0);return a.forEach(l=>{i.push(l),o[l.id]=l}),{rows:a,flatRows:i,rowsById:o}},nn(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function Znt(e,t){const n=new Map;return e.reduce((r,i)=>{const o=`${i.getGroupingValue(t)}`,s=r.get(o);return s?s.push(i):r.set(o,[i]),r},n)}function Jnt(e){return t=>tn(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const c=i*o,u=c+i;s=s.slice(c,u);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=f0e({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];const f=p=>{d.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return d.rows.forEach(f),d},nn(t.options,"debugTable"))}function ert(){return e=>tn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};o.forEach(l=>{const c=e.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let p=0;p<o.length;p+=1){var f;const g=o[p],m=s[g.id],v=m.sortUndefined,b=(f=g==null?void 0:g.desc)!=null?f:!1;let S=0;if(v){const C=u.getValue(g.id),_=d.getValue(g.id),E=C===void 0,T=_===void 0;if(E||T){if(v==="first")return E?-1:1;if(v==="last")return E?1:-1;S=E&&T?0:E?v:-v}}if(S===0&&(S=m.sortingFn(u,d,g.id)),S!==0)return b&&(S*=-1),m.invertSorting&&(S*=-1),S}return u.index-d.index}),c.forEach(u=>{var d;i.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},nn(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function trt(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=O.useState(()=>({current:Unt(t)})),[r,i]=O.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}/**
   * match-sorter-utils
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */const h0e={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},nrt=Object.keys(h0e).join("|"),rrt=new RegExp(nrt,"g");function irt(e){return e.replace(rrt,t=>h0e[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const As={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function ort(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:As.MATCHES,!n.accessors){const s=pre(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const i=urt(e,n.accessors),o={rankedValue:e,rank:As.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<i.length;s++){const a=i[s];let l=pre(a.itemValue,t,n);const{minRanking:c,maxRanking:u,threshold:d=n.threshold}=a.attributes;l<c&&l>=As.MATCHES?l=c:l>u&&(l=u),l=Math.min(l,u),l>=d&&l>o.rank&&(o.rank=l,o.passed=!0,o.accessorIndex=s,o.accessorThreshold=d,o.rankedValue=a.itemValue)}return o}function pre(e,t,n){return e=hre(e,n),t=hre(t,n),t.length>e.length?As.NO_MATCH:e===t?As.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?As.EQUAL:e.startsWith(t)?As.STARTS_WITH:e.includes(` ${t}`)?As.WORD_STARTS_WITH:e.includes(t)?As.CONTAINS:t.length===1?As.NO_MATCH:srt(e).includes(t)?As.ACRONYM:art(e,t))}function srt(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(o=>{t+=o.substr(0,1)})}),t}function art(e,t){let n=0,r=0;function i(l,c,u){for(let d=u,f=c.length;d<f;d++)if(c[d]===l)return n+=1,d+1;return-1}function o(l){const c=1/l,u=n/t.length;return As.MATCHES+u*c}const s=i(t[0],e,0);if(s<0)return As.NO_MATCH;r=s;for(let l=1,c=t.length;l<c;l++){const u=t[l];if(r=i(u,e,r),!(r>-1))return As.NO_MATCH}const a=r-s;return o(a)}function lrt(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function hre(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=irt(e)),e}function crt(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function urt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r],s=drt(o),a=crt(e,o);for(let l=0,c=a.length;l<c;l++)n.push({itemValue:a[l],attributes:s})}return n}const gre={maxRanking:1/0,minRanking:-1/0};function drt(e){return typeof e=="function"?gre:{...gre,...e}}function Iv(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let c;n.key&&((o=n.debug)!=null&&o.call(n))&&(c=Date.now());const u=e();if(!(u.length!==r.length||u.some((p,g)=>r[g]!==p)))return i;r=u;let f;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(f=Date.now()),i=t(...u),n.key&&((a=n.debug)!=null&&a.call(n))){const p=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-f)*100)/100,m=g/16,v=(b,S)=>{for(b=String(b);b.length<S;)b=" "+b;return b};console.info(`%c ${v(g,5)} /${v(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function SL(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const frt=(e,t)=>Math.abs(e-t)<1,prt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},hrt=e=>e,g0e=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},grt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=s[0];if(a!=null&&a.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},mre={passive:!0},mrt=typeof window>"u"?!0:"onscrollend"in window,yrt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&mrt?()=>{}:prt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=c=>()=>{const{horizontal:u,isRtl:d}=e.options;i=u?n.scrollLeft*(d&&-1||1):n.scrollTop,o(),t(i,c)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,mre),n.addEventListener("scrollend",l,mre),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},vrt=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},brt=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class xrt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:hrt,rangeExtractor:g0e,onChange:()=>{},measureElement:vrt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Iv(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=Iv(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=Iv(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const d=o(u),f=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=f?f.end+this.options.gap:r+i,g=a.get(d),m=typeof g=="number"?g:this.options.estimateSize(u),v=p+m,b=f?f.lane:u%this.options.lanes;c[u]={index:u,start:p,size:m,end:v,key:d,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Iv(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?Srt({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Iv(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Iv(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return SL(r[m0e(0,r.length-1,i=>SL(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+i&&(r="end"),r==="end"&&(n-=i);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=i.start-this.options.scrollPaddingStart+(i.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=SL(this.getOffsetForIndex(n,a));frt(c,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const m0e=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Srt({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=m0e(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const yre=typeof document<"u"?O.useLayoutEffect:O.useEffect;function wrt(e){const t=O.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?gp.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=O.useState(()=>new xrt(n));return r.setOptions(n),yre(()=>r._didMount(),[]),yre(()=>r._willUpdate()),r}function y0e(e){return wrt({observeElementRect:grt,observeElementOffset:yrt,scrollToFn:brt,...e})}const Crt=e=>t=>t!==null&&typeof t=="object"&&e in t,dT=Crt("match"),fT=e=>typeof e<"u";function _rt({curr:e,next:t,prev:n,clipBy:r=3}){const i=e.text.split(" "),o=i.length;if(e.match||r>=o)return e.text;const s="...";return fT(t)&&fT(n)&&dT(n)&&dT(t)?o>r*2?[...i.slice(0,r),s,...i.slice(-r)].join(" "):e.text:fT(t)&&dT(t)?[s,...i.slice(-r)].join(" "):fT(n)&&dT(n)?[...i.slice(0,r),s].join(" "):e.text}const Ert=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,t=>`\\${t}`),krt=e=>e.replace(/\s{2,}/g," ").split(" ").join("|"),Rrt=({terms:e,matchExactly:t=!1})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=Ert(e.trim());return`(${t?n:krt(n)})`},Trt=({terms:e,matchExactly:t=!1})=>{try{const n=/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.exec(e);return n?new RegExp(n[2],n[3]):new RegExp(Rrt({terms:e,matchExactly:t}),"ig")}catch{throw new TypeError("Expected terms to be either a string or a RegExp!")}};let vre=36,v0e="";for(;vre--;)v0e+=vre.toString(36);function bre(e=11){let t="",n=e;for(;n--;)t+=v0e[Math.random()*36|0];return t}const Mrt=e=>e.length>0,wL=({text:e,query:t,clipBy:n,matchExactly:r=!1})=>{const i=typeof t=="string"?t.trim():t;if(i==="")return[{key:bre(),text:e,match:!1}];const o=Trt({terms:t,matchExactly:r});return e.split(o).filter(Mrt).map(s=>({key:bre(),text:s,match:r?s.toLowerCase()===i.toLowerCase():o.test(s)})).map((s,a,l)=>({...s,...typeof n=="number"&&{text:_rt({curr:s,...a<l.length-1&&{next:l[a+1]},...a>0&&{prev:l[a-1]},clipBy:n})}}))},ed=(e,t)=>e.length!==t.length?!1:t.every(n=>e.includes(n)),vU=({openTo:e,defaultOpenTo:t,views:n,defaultViews:r})=>{const i=n??r;let o;if(e!=null)o=e;else if(i.includes(t))o=t;else if(i.length>0)o=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:o}},sO=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r=e.setMilliseconds(r,e.getMilliseconds(n)),r},YC=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:i,isDateDisabled:o,utils:s,timezone:a})=>{const l=sO(s,s.date(void 0,a),e);n&&s.isBefore(i,l)&&(i=l),t&&s.isAfter(r,l)&&(r=l);let c=e,u=e;for(s.isBefore(e,i)&&(c=i,u=null),s.isAfter(e,r)&&(u&&(u=r),c=null);c||u;){if(c&&s.isAfter(c,r)&&(c=null),u&&s.isBefore(u,i)&&(u=null),c){if(!o(c))return c;c=s.addDays(c,1)}if(u){if(!o(u))return u;u=s.addDays(u,-1)}}return null},Art=(e,t)=>t==null||!e.isValid(t)?null:t,gs=(e,t,n)=>t==null||!e.isValid(t)?n:t,Ort=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),bU=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const i=r[r.length-1];r.push(e.addMonths(i,1))}return r},xU=(e,t,n)=>n==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),Qc=(e,t)=>{const n=e.setHours(e.date(),t==="am"?2:14);return e.format(n,"meridiem")},Drt=["year","month","day"],_1=e=>Drt.includes(e),$_=(e,{format:t,views:n},r)=>{if(t!=null)return t;const i=e.formats;return ed(n,["year"])?i.year:ed(n,["month"])?i.month:ed(n,["day"])?i.dayOfMonth:ed(n,["month","year"])?`${i.month} ${i.year}`:ed(n,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},Prt=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},b0e=["hours","minutes","seconds"],E1=e=>b0e.includes(e),lC=e=>b0e.includes(e)||e==="meridiem",Irt=(e,t)=>e?t.getHours(e)>=12?"pm":"am":null,F_=(e,t,n)=>n&&(e>=12?"pm":"am")!==t?t==="am"?e-12:e+12:e,$rt=(e,t,n,r)=>{const i=F_(r.getHours(e),t,n);return r.setHours(e,i)},xre=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),d2=(e,t)=>(n,r)=>e?t.isAfter(n,r):xre(n,t)>xre(r,t),aO=(e,{format:t,views:n,ampm:r})=>{if(t!=null)return t;const i=e.formats;return ed(n,["hours"])?r?`${i.hours12h} ${i.meridiem}`:i.hours24h:ed(n,["minutes"])?i.minutes:ed(n,["seconds"])?i.seconds:ed(n,["minutes","seconds"])?`${i.minutes}:${i.seconds}`:ed(n,["hours","minutes","seconds"])?r?`${i.hours12h}:${i.minutes}:${i.seconds} ${i.meridiem}`:`${i.hours24h}:${i.minutes}:${i.seconds}`:r?`${i.hours12h}:${i.minutes} ${i.meridiem}`:`${i.hours24h}:${i.minutes}`},Gc={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Frt=e=>Math.max(...e.map(t=>Gc[t.type]??1)),xw=(e,t,n)=>{if(t===Gc.year)return e.startOfYear(n);if(t===Gc.month)return e.startOfMonth(n);if(t===Gc.day)return e.startOfDay(n);let r=n;return t<Gc.minutes&&(r=e.setMinutes(r,0)),t<Gc.seconds&&(r=e.setSeconds(r,0)),t<Gc.milliseconds&&(r=e.setMilliseconds(r,0)),r},Nrt=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:i})=>{let o=i?i():xw(t,n,xU(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=xw(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=xw(t,n,e.maxDate));const s=d2(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&s(e.minTime,o)&&(o=xw(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:sO(t,o,e.minTime))),e.maxTime!=null&&s(o,e.maxTime)&&(o=xw(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:sO(t,o,e.maxTime))),o},x0e=(e,t)=>{const n=e.formatTokenMap[t];if(n==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},Lrt=e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},lI=(e,t)=>{const n=[],r=e.date(void 0,"default"),i=e.startOfWeek(r),o=e.endOfWeek(r);let s=i;for(;e.isBefore(s,o);)n.push(s),s=e.addDays(s,1);return n.map(a=>e.formatByString(a,t))},S0e=(e,t,n,r)=>{switch(n){case"month":return bU(e,e.date(void 0,t)).map(i=>e.formatByString(i,r));case"weekDay":return lI(e,r);case"meridiem":{const i=e.date(void 0,t);return[e.startOfDay(i),e.endOfDay(i)].map(o=>e.formatByString(o,r))}default:return[]}},Sre="s",jrt=["0","1","2","3","4","5","6","7","8","9"],zrt=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),Sre)==="0"?jrt:Array.from({length:10}).map((r,i)=>e.formatByString(e.setSeconds(t,i),Sre))},j0=(e,t)=>{if(t[0]==="0")return e;const n=[];let r="";for(let i=0;i<e.length;i+=1){r+=e[i];const o=t.indexOf(r);o>-1&&(n.push(o.toString()),r="")}return n.join("")},SU=(e,t)=>t[0]==="0"?e:e.split("").map(n=>t[Number(n)]).join(""),wre=(e,t)=>{const n=j0(e,t);return n!==" "&&!Number.isNaN(Number(n))},w0e=(e,t)=>{let n=e;for(n=Number(n).toString();n.length<t;)n=`0${n}`;return n},C0e=(e,t,n,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const s=e.setDate(n.longestMonth,t);return e.formatByString(s,i.format)}let o=t.toString();return i.hasLeadingZerosInInput&&(o=w0e(o,i.maxLength)),SU(o,r)},Brt=(e,t,n,r,i,o,s,a)=>{const l=Lrt(r),c=r==="Home",u=r==="End",d=n.value===""||c||u,f=()=>{const g=i[n.type]({currentDate:s,format:n.format,contentType:n.contentType}),m=C=>C0e(e,C,g,o,n),v=n.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let S=parseInt(j0(n.value,o),10)+l*v;if(d){if(n.type==="year"&&!u&&!c)return e.formatByString(e.date(void 0,t),n.format);l>0||c?S=g.minimum:S=g.maximum}return S%v!==0&&((l<0||c)&&(S+=v-(v+S)%v),(l>0||u)&&(S-=S%v)),S>g.maximum?m(g.minimum+(S-g.maximum-1)%(g.maximum-g.minimum+1)):S<g.minimum?m(g.maximum-(g.minimum-S-1)%(g.maximum-g.minimum+1)):m(S)},p=()=>{const g=S0e(e,t,n.type,n.format);if(g.length===0)return n.value;if(d)return l>0||c?g[0]:g[g.length-1];const b=((g.indexOf(n.value)+l)%g.length+g.length)%g.length;return g[b]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?f():p()},wU=(e,t,n)=>{let r=e.value||e.placeholder;const i=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(j0(r,n)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!i&&r.length===1&&(r=`${r}`),t==="input-rtl"&&(r=`${r}`),r},Cre=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),_0e=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,E0e=(e,t,n,r)=>{if(t!=="digit")return!1;const i=e.date(void 0,"default");switch(n){case"year":return _0e(e,r)?e.formatByString(e.setYear(i,1),r)==="0001":e.formatByString(e.setYear(i,2001),r)==="01";case"month":return e.formatByString(e.startOfYear(i),r).length>1;case"day":return e.formatByString(e.startOfMonth(i),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(i),r).length>1;case"hours":return e.formatByString(e.setHours(i,1),r).length>1;case"minutes":return e.formatByString(e.setMinutes(i,1),r).length>1;case"seconds":return e.formatByString(e.setSeconds(i,1),r).length>1;default:throw new Error("Invalid section type")}},Urt=(e,t,n)=>{const r=t.some(l=>l.type==="day"),i=[],o=[];for(let l=0;l<t.length;l+=1){const c=t[l];r&&c.type==="weekDay"||(i.push(c.format),o.push(wU(c,"non-input",n)))}const s=i.join(" "),a=o.join(" ");return e.parse(a,s)},Hrt=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),Vrt=(e,t,n)=>{const i=e.map(o=>{const s=wU(o,n?"input-rtl":"input-ltr",t);return`${o.startSeparator}${s}${o.endSeparator}`}).join("");return n?`${i}`:i},Wrt=(e,t,n)=>{const r=e.date(void 0,n),i=e.endOfYear(r),o=e.endOfDay(r),{maxDaysInMonth:s,longestMonth:a}=bU(e,r).reduce((l,c)=>{const u=e.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:_0e(e,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&e.isValid(l)?e.getDaysInMonth(l):s,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=lI(e,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=e.getHours(o);return j0(e.formatByString(e.endOfDay(r),l),t)!==c.toString()?{minimum:1,maximum:Number(j0(e.formatByString(e.startOfDay(r),l),t))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},qrt=(e,t,n,r)=>{switch(t.type){case"year":return e.setYear(r,e.getYear(n));case"month":return e.setMonth(r,e.getMonth(n));case"weekDay":{const i=lI(e,t.format),o=e.formatByString(n,t.format),s=i.indexOf(o),l=i.indexOf(t.value)-s;return e.addDays(n,l)}case"day":return e.setDate(r,e.getDate(n));case"meridiem":{const i=e.getHours(n)<12,o=e.getHours(r);return i&&o>=12?e.addHours(r,-12):!i&&o<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(n));case"minutes":return e.setMinutes(r,e.getMinutes(n));case"seconds":return e.setSeconds(r,e.getSeconds(n));default:return r}},_re={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Ere=(e,t,n,r,i)=>[...n].sort((o,s)=>_re[o.type]-_re[s.type]).reduce((o,s)=>!i||s.modified?qrt(e,s,t,o):o,r),Grt=()=>navigator.userAgent.toLowerCase().includes("android"),Yrt=(e,t)=>{const n={};if(!t)return e.forEach((l,c)=>{const u=c===0?null:c-1,d=c===e.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},i={};let o=0,s=0,a=e.length-1;for(;a>=0;){s=e.findIndex((l,c)=>{var u;return c>=o&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),s===-1&&(s=e.length-1);for(let l=s;l>=o;l-=1)i[l]=a,r[a]=l,a-=1;o=s+1}return e.forEach((l,c)=>{const u=i[c],d=u===0?null:r[u-1],f=u===e.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:f}}),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}},D6=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const n=t.findIndex(r=>r.type===e);return n===-1?null:n}return e},Xrt=(e,t)=>{if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return t.format(t.setMonth(t.date(),Number(e.value)-1),"month");const n=t.parse(e.value,e.format);return n?t.format(n,"month"):void 0}case"day":return e.contentType==="digit"?t.format(t.setDate(t.startOfYear(t.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}},Krt=(e,t)=>{if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const n=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return n?t.getHours(n)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const n=t.parse(e.value,e.format);return n?t.getMonth(n)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}},Qrt=["value","referenceDate"],Oi={emptyValue:null,getTodayValue:xU,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=Ht(e,Qrt);return t!=null&&r.utils.isValid(t)?t:n??Nrt(r)},cleanValue:Art,areValuesEqual:Ort,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},CU={updateReferenceValue:(e,t,n)=>t==null||!e.isValid(t)?n:t,getSectionsFromValue:(e,t,n,r)=>!e.isValid(t)&&!!n?n:r(t),getV7HiddenInputValueFromSections:Hrt,getV6InputValueFromSections:Vrt,getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!e.isValid(n)?t.referenceValue:n})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},Zrt=["localeText"],P6=O.createContext(null),Jrt=function(t){const{localeText:n}=t,r=Ht(t,Zrt),{utils:i,localeText:o}=O.useContext(P6)??{utils:void 0,localeText:void 0},s=wn({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:f}=s,p=O.useMemo(()=>me({},f,o,n),[f,o,n]),g=O.useMemo(()=>{if(!l)return i||null;const b=new l({locale:d,formats:c,instance:u});if(!b.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return b},[l,d,c,u,i]),m=O.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),v=O.useMemo(()=>({utils:g,defaultDates:m,localeText:p}),[m,g,p]);return x.jsx(P6.Provider,{value:v,children:a})},eit=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:me({},e)}}}}),Ix=e=>{const{utils:t,formatKey:n,contextTranslation:r,propsTranslation:i}=e;return o=>{const s=o!==null&&t.isValid(o)?t.format(o,n):null;return(i??r)(o,t,s)}},k0e={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n,r)=>`Select ${e}. ${!r&&(t===null||!n.isValid(t))?"No time selected":`Selected time is ${r??n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t,n)=>n||e!==null&&t.isValid(e)?`Choose date, selected date is ${n??t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t,n)=>n||e!==null&&t.isValid(e)?`Choose time, selected time is ${n??t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},tit=k0e;eit(k0e);const by=()=>{const e=O.useContext(P6);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=O.useMemo(()=>me({},tit,e.localeText),[e.localeText]);return O.useMemo(()=>me({},e,{localeText:t}),[e,t])},In=()=>by().utils,xy=()=>by().defaultDates,Sy=e=>{const t=In(),n=O.useRef(void 0);return n.current===void 0&&(n.current=t.date(void 0,e)),n.current};function R0e(e){return et("MuiPickersToolbar",e)}const nit=nt("MuiPickersToolbar",["root","content"]),rit=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],iit=e=>{const{classes:t}=e;return Ke({root:["root"],content:["content"]},R0e,t)},oit=ye("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),sit=ye("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),_U=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersToolbar"}),{children:i,className:o,toolbarTitle:s,hidden:a,titleId:l}=r,c=Ht(r,rit),u=r,d=iit(u);return a?null:x.jsxs(oit,me({ref:n,className:Ne(d.root,o),ownerState:u},c,{children:[x.jsx(it,{color:"text.secondary",variant:"overline",id:l,children:s}),x.jsx(sit,{className:d.content,ownerState:u,children:i})]}))}),Ki=()=>by().localeText;function ait(e){return et("MuiDatePickerToolbar",e)}nt("MuiDatePickerToolbar",["root","title"]);const lit=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],cit=e=>{const{classes:t}=e;return Ke({root:["root"],title:["title"]},ait,t)},uit=ye(_U,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),dit=ye(it,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),fit=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:o,toolbarFormat:s,toolbarPlaceholder:a="",views:l,className:c}=r,u=Ht(r,lit),d=In(),f=Ki(),p=cit(r),g=O.useMemo(()=>{if(!i)return a;const v=$_(d,{format:s,views:l},!0);return d.formatByString(i,v)},[i,s,a,d,l]),m=r;return x.jsx(uit,me({ref:n,toolbarTitle:f.datePickerToolbarTitle,isLandscape:o,className:Ne(p.root,c)},u,{children:x.jsx(dit,{variant:"h4",align:o?"left":"center",ownerState:m,className:p.title,children:g})}))});function T0e(e,t){const n=In(),r=xy(),i=wn({props:e,name:t}),o=O.useMemo(()=>{var s;return((s=i.localeText)==null?void 0:s.toolbarTitle)==null?i.localeText:me({},i.localeText,{datePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return me({},i,{localeText:o},vU({views:i.views,openTo:i.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:gs(n,i.minDate,r.minDate),maxDate:gs(n,i.maxDate,r.maxDate),slots:me({toolbar:fit},i.slots)})}const $x=({props:e,value:t,timezone:n,adapter:r})=>{if(t===null)return null;const{shouldDisableDate:i,shouldDisableMonth:o,shouldDisableYear:s,disablePast:a,disableFuture:l}=e,c=r.utils.date(void 0,n),u=gs(r.utils,e.minDate,r.defaultDates.minDate),d=gs(r.utils,e.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(t):return"invalidDate";case!!(i&&i(t)):return"shouldDisableDate";case!!(o&&o(t)):return"shouldDisableMonth";case!!(s&&s(t)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(t,c)):return"disableFuture";case!!(a&&r.utils.isBeforeDay(t,c)):return"disablePast";case!!(u&&r.utils.isBeforeDay(t,u)):return"minDate";case!!(d&&r.utils.isAfterDay(t,d)):return"maxDate";default:return null}};$x.valueManager=Oi;const f2=({adapter:e,value:t,timezone:n,props:r})=>{if(t===null)return null;const{minTime:i,maxTime:o,minutesStep:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:l=!1,disablePast:c,disableFuture:u}=r,d=e.utils.date(void 0,n),f=d2(l,e.utils);switch(!0){case!e.utils.isValid(t):return"invalidDate";case!!(i&&f(i,t)):return"minTime";case!!(o&&f(t,o)):return"maxTime";case!!(u&&e.utils.isAfter(t,d)):return"disableFuture";case!!(c&&e.utils.isBefore(t,d)):return"disablePast";case!!(a&&a(t,"hours")):return"shouldDisableTime-hours";case!!(a&&a(t,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(t,"seconds")):return"shouldDisableTime-seconds";case!!(s&&e.utils.getMinutes(t)%s!==0):return"minutesStep";default:return null}};f2.valueManager=Oi;const cI=({adapter:e,value:t,timezone:n,props:r})=>{const i=$x({adapter:e,value:t,timezone:n,props:r});return i!==null?i:f2({adapter:e,value:t,timezone:n,props:r})};cI.valueManager=Oi;const I6=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],$6=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],M0e=["minDateTime","maxDateTime"],pit=[...I6,...$6,...M0e],Fx=e=>pit.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{});function A0e(e){const{props:t,validator:n,value:r,timezone:i,onError:o}=e,s=by(),a=O.useRef(n.valueManager.defaultErrorState),l=n({adapter:s,value:r,timezone:i,props:t}),c=n.valueManager.hasError(l);O.useEffect(()=>{o&&!n.valueManager.isSameError(l,a.current)&&o(l,r),a.current=l},[n,o,l,r]);const u=mt(d=>n({adapter:s,value:d,timezone:i,props:t}));return{validationError:l,hasValidationError:c,getValidationErrorForNewValue:u}}function hit(e){return et("MuiPickersPopper",e)}nt("MuiPickersPopper",["root","paper"]);function eb(e,t){return Array.isArray(t)?t.every(n=>e.indexOf(n)!==-1):e.indexOf(t)!==-1}const git=(e,t)=>n=>{(n.key==="Enter"||n.key===" ")&&(e(n),n.preventDefault(),n.stopPropagation())},da=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?da(t.shadowRoot):t:null},lO=e=>Array.from(e.children).indexOf(da(document)),EU="@media (pointer: fine)",mit="@media (prefers-reduced-motion: reduce)",Ob=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),kre=Ob&&Ob[1]?parseInt(Ob[1],10):null,Rre=Ob&&Ob[2]?parseInt(Ob[2],10):null,yit=kre&&kre<10||Rre&&Rre<13||!1,O0e=()=>lg(mit,{defaultMatches:!1})||yit,vit=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],bit=e=>{const{classes:t}=e;return Ke({root:["root"],paper:["paper"]},hit,t)},xit=ye(i2,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({zIndex:e.zIndex.modal})),Sit=ye(El,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function wit(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Cit(e,t){const n=O.useRef(!1),r=O.useRef(!1),i=O.useRef(null),o=O.useRef(!1);O.useEffect(()=>{if(!e)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[e]);const s=mt(l=>{if(!o.current)return;const c=r.current;r.current=!1;const u=ai(i.current);if(!i.current||"clientX"in l&&wit(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&t(l)}),a=()=>{r.current=!0};return O.useEffect(()=>{if(e){const l=ai(i.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[e,s]),O.useEffect(()=>{if(e){const l=ai(i.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[e,s]),[i,a,a]}const _it=O.forwardRef((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:i,children:o,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=e,u=Ht(e,vit),d=me({},i,{placement:r}),f=pn({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:a,ownerState:d});return x.jsx(n,me({},u,f,{onClick:p=>{var g;l(p),(g=f.onClick)==null||g.call(f,p)},onTouchStart:p=>{var g;c(p),(g=f.onTouchStart)==null||g.call(f,p)},ownerState:d,children:o}))});function Eit(e){const t=wn({props:e,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:i=null,shouldRestoreFocus:o,onBlur:s,onDismiss:a,open:l,role:c,placement:u,slots:d,slotProps:f,reduceAnimations:p}=t;O.useEffect(()=>{function $(L){l&&L.key==="Escape"&&a()}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[a,l]);const g=O.useRef(null);O.useEffect(()=>{c==="tooltip"||o&&!o()||(l?g.current=da(document):g.current&&g.current instanceof HTMLElement&&setTimeout(()=>{g.current instanceof HTMLElement&&g.current.focus()}))},[l,c,o]);const[m,v,b]=Cit(l,s??a),S=O.useRef(null),C=Ln(S,i),_=Ln(C,m),E=t,T=bit(E),k=O0e(),A=p??k,P=$=>{$.key==="Escape"&&($.stopPropagation(),a())},D=(d==null?void 0:d.desktopTransition)??A?og:P0,F=(d==null?void 0:d.desktopTrapFocus)??mge,I=(d==null?void 0:d.desktopPaper)??Sit,j=(d==null?void 0:d.popper)??xit,M=pn({elementType:j,externalSlotProps:f==null?void 0:f.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:n,placement:u,onKeyDown:P},className:T.root,ownerState:t});return x.jsx(j,me({},M,{children:({TransitionProps:$,placement:L})=>x.jsx(F,me({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},f==null?void 0:f.desktopTrapFocus,{children:x.jsx(D,me({},$,f==null?void 0:f.desktopTransition,{children:x.jsx(_it,{PaperComponent:I,ownerState:E,popperPlacement:L,ref:_,onPaperClick:v,onPaperTouchStart:b,paperClasses:T.paper,paperSlotProps:f==null?void 0:f.desktopPaper,children:r})}))}))}))}const kit=({open:e,onOpen:t,onClose:n})=>{const r=O.useRef(typeof e=="boolean").current,[i,o]=O.useState(!1);O.useEffect(()=>{if(r){if(typeof e!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(e)}},[r,e]);const s=O.useCallback(a=>{r||o(a),a&&t&&t(),!a&&n&&n()},[r,t,n]);return{isOpen:i,setIsOpen:s}},kU=({timezone:e,value:t,defaultValue:n,referenceDate:r,onChange:i,valueManager:o})=>{const s=In(),a=O.useRef(n),l=t??a.current??o.emptyValue,c=O.useMemo(()=>o.getTimezone(s,l),[s,o,l]),u=mt(g=>c==null?g:o.setTimezone(s,c,g));let d;e?d=e:c?d=c:r?d=s.getTimezone(r):d="default";const f=O.useMemo(()=>o.setTimezone(s,d,l),[o,s,d,l]),p=mt((g,...m)=>{const v=u(g);i==null||i(v,...m)});return{value:f,handleValueChange:p,timezone:d}},Nx=({name:e,timezone:t,value:n,defaultValue:r,referenceDate:i,onChange:o,valueManager:s})=>{const[a,l]=Vo({name:e,state:"value",controlled:n,default:r??s.emptyValue}),c=mt((u,...d)=>{l(u),o==null||o(u,...d)});return kU({timezone:t,value:a,defaultValue:void 0,referenceDate:i,onChange:c,valueManager:s})},Rit=e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i}=e,o=!i&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?o&&["accept","today","clear"].includes(t.pickerAction)?!0:n(r.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?o?!0:n(r.lastPublishedValue):!1},Tit=e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:o}=e,s=!i&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?s&&["accept","today","clear"].includes(t.pickerAction)?!0:n(r.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&o?s?!0:n(r.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&n(r.lastCommittedValue):!1},Mit=e=>{const{action:t,closeOnSelect:n}=e;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&n:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},Ait=({props:e,valueManager:t,valueType:n,wrapperVariant:r,validator:i})=>{const{onAccept:o,onChange:s,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",timezone:u,referenceDate:d}=e,{current:f}=O.useRef(l),{current:p}=O.useRef(a!==void 0),[g,m]=O.useState(u),v=In(),b=by(),{isOpen:S,setIsOpen:C}=kit(e),{timezone:_,value:E,handleValueChange:T}=kU({timezone:u,value:a,defaultValue:f,referenceDate:d,onChange:s,valueManager:t}),[k,A]=O.useState(()=>{let re;return E!==void 0?re=E:f!==void 0?re=f:re=t.emptyValue,{draft:re,lastPublishedValue:re,lastCommittedValue:re,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),P=t.getTimezone(v,k.draft);g!==u&&(m(u),u&&P&&u!==P&&A(re=>me({},re,{draft:t.setTimezone(v,u,re.draft)})));const{getValidationErrorForNewValue:D}=A0e({props:e,validator:i,timezone:_,value:k.draft,onError:e.onError}),F=mt(re=>{const he={action:re,dateState:k,hasChanged:ae=>!t.areValuesEqual(v,re.value,ae),isControlled:p,closeOnSelect:c},fe=Rit(he),ne=Tit(he),pe=Mit(he);A(ae=>me({},ae,{draft:re.value,lastPublishedValue:fe?re.value:ae.lastPublishedValue,lastCommittedValue:ne?re.value:ae.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let W=null;const se=()=>(W||(W={validationError:re.name==="setValueFromField"?re.context.validationError:D(re.value)},re.name==="setValueFromShortcut"&&(W.shortcut=re.shortcut)),W);fe&&T(re.value,se()),ne&&o&&o(re.value,se()),pe&&C(!1)});if(k.lastControlledValue!==a){const re=t.areValuesEqual(v,k.draft,E);A(he=>me({},he,{lastControlledValue:a},re?{}:{lastCommittedValue:E,lastPublishedValue:E,draft:E,hasBeenModifiedSinceMount:!0}))}const I=mt(()=>{F({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),j=mt(()=>{F({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),M=mt(()=>{F({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),$=mt(()=>{F({value:k.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),L=mt(()=>{F({value:t.getTodayValue(v,_,n),name:"setValueFromAction",pickerAction:"today"})}),V=mt(re=>{re.preventDefault(),C(!0)}),q=mt(re=>{re==null||re.preventDefault(),C(!1)}),U=mt((re,he="partial")=>F({name:"setValueFromView",value:re,selectionState:he})),z=mt((re,he,fe)=>F({name:"setValueFromShortcut",value:re,changeImportance:he,shortcut:fe})),B=mt((re,he)=>F({name:"setValueFromField",value:re,context:he})),G={onClear:I,onAccept:j,onDismiss:M,onCancel:$,onSetToday:L,onOpen:V,onClose:q},Y={value:k.draft,onChange:B},Q=O.useMemo(()=>t.cleanValue(v,k.draft),[v,t,k.draft]),K={value:Q,onChange:U,onClose:q,open:S},ce=me({},G,{value:Q,onChange:U,onSelectShortcut:z,isValid:re=>{const he=i({adapter:b,value:re,timezone:_,props:e});return!t.hasError(he)}}),ie=O.useMemo(()=>({onOpen:V,onClose:q,open:S}),[S,q,V]);return{open:S,fieldProps:Y,viewProps:K,layoutProps:ce,actions:G,contextValue:ie}};function p2({onChange:e,onViewChange:t,openTo:n,view:r,views:i,autoFocus:o,focusedView:s,onFocusedViewChange:a}){const l=O.useRef(n),c=O.useRef(i),u=O.useRef(i.includes(n)?n:i[0]),[d,f]=Vo({name:"useViews",state:"view",controlled:r,default:u.current}),p=O.useRef(o?d:null),[g,m]=Vo({name:"useViews",state:"focusedView",controlled:s,default:p.current});O.useEffect(()=>{(l.current&&l.current!==n||c.current&&c.current.some(k=>!i.includes(k)))&&(f(i.includes(n)?n:i[0]),c.current=i,l.current=n)},[n,f,d,i]);const v=i.indexOf(d),b=i[v-1]??null,S=i[v+1]??null,C=mt((k,A)=>{m(A?k:P=>k===P?null:P),a==null||a(k,A)}),_=mt(k=>{C(k,!0),k!==d&&(f(k),t&&t(k))}),E=mt(()=>{S&&_(S)}),T=mt((k,A,P)=>{const D=A==="finish",F=P?i.indexOf(P)<i.length-1:!!S;if(e(k,D&&F?"partial":A,P),P&&P!==d){const j=i[i.indexOf(P)+1];j&&_(j)}else D&&E()});return{view:d,setView:_,focusedView:g,setFocusedView:C,nextView:S,previousView:b,defaultView:i.includes(n)?n:i[0],goToNextView:E,setValueAndGoToNextView:T}}const Oit=["className","sx"],Dit=({props:e,propsFromPickerValue:t,additionalViewProps:n,autoFocusView:r,rendererInterceptor:i,fieldRef:o})=>{const{onChange:s,open:a,onClose:l}=t,{view:c,views:u,openTo:d,onViewChange:f,viewRenderers:p,timezone:g}=e,m=Ht(e,Oit),{view:v,setView:b,defaultView:S,focusedView:C,setFocusedView:_,setValueAndGoToNextView:E}=p2({view:c,views:u,openTo:d,onChange:s,onViewChange:f,autoFocus:r}),{hasUIView:T,viewModeLookup:k}=O.useMemo(()=>u.reduce((M,$)=>{let L;return p[$]!=null?L="UI":L="field",M.viewModeLookup[$]=L,L==="UI"&&(M.hasUIView=!0),M},{hasUIView:!1,viewModeLookup:{}}),[p,u]),A=O.useMemo(()=>u.reduce((M,$)=>p[$]!=null&&E1($)?M+1:M,0),[p,u]),P=k[v],D=mt(()=>P==="UI"),[F,I]=O.useState(P==="UI"?v:null);return F!==v&&k[v]==="UI"&&I(v),li(()=>{P==="field"&&a&&(l(),setTimeout(()=>{var M,$;(M=o==null?void 0:o.current)==null||M.setSelectedSections(v),($=o==null?void 0:o.current)==null||$.focusField(v)}))},[v]),li(()=>{if(!a)return;let M=v;P==="field"&&F!=null&&(M=F),M!==S&&k[M]==="UI"&&k[S]==="UI"&&(M=S),M!==v&&b(M),_(M,!0)},[a]),{hasUIView:T,shouldRestoreFocus:D,layoutProps:{views:u,view:F,onViewChange:b},renderCurrentView:()=>{if(F==null)return null;const M=p[F];if(M==null)return null;const $=me({},m,n,t,{views:u,timezone:g,onChange:E,view:F,onViewChange:b,focusedView:C,onFocusedViewChange:_,showViewSwitcher:A>1,timeViewsCount:A});return i?i(p,F,$):M($)}}};function Tre(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Pit=(e,t)=>{const[n,r]=O.useState(Tre);return li(()=>{const o=()=>{r(Tre())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),eb(e,["hours","minutes","seconds"])?!1:(t||n)==="landscape"},Iit=({props:e,propsFromPickerValue:t,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:i}=e,o=Pit(n.views,i),s=Pi();return{layoutProps:me({},n,t,{isLandscape:o,isRtl:s,wrapperVariant:r,disabled:e.disabled,readOnly:e.readOnly})}};function $it(e){const{props:t,pickerValueResponse:n}=e;return O.useMemo(()=>({value:n.viewProps.value,open:n.open,disabled:t.disabled??!1,readOnly:t.readOnly??!1}),[n.viewProps.value,n.open,t.disabled,t.readOnly])}const D0e=({props:e,valueManager:t,valueType:n,wrapperVariant:r,additionalViewProps:i,validator:o,autoFocusView:s,rendererInterceptor:a,fieldRef:l})=>{const c=Ait({props:e,valueManager:t,valueType:n,wrapperVariant:r,validator:o}),u=Dit({props:e,additionalViewProps:i,autoFocusView:s,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:a}),d=Iit({props:e,wrapperVariant:r,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps}),f=$it({props:e,pickerValueResponse:c});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps,contextValue:c.contextValue,ownerState:f}};function P0e(e){return et("MuiPickersLayout",e)}const Bc=nt("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Fit=["onAccept","onClear","onCancel","onSetToday","actions"];function Nit(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:i,actions:o}=e,s=Ht(e,Fit),a=Ki();if(o==null||o.length===0)return null;const l=o==null?void 0:o.map(c=>{switch(c){case"clear":return x.jsx(Ft,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return x.jsx(Ft,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return x.jsx(Ft,{onClick:t,children:a.okButtonLabel},c);case"today":return x.jsx(Ft,{onClick:i,children:a.todayButtonLabel},c);default:return null}});return x.jsx(Gs,me({},s,{children:l}))}const N_=36,uI=2,dI=320,Lit=280,fI=336,I0e=232,cC=48,jit=["items","changeImportance","isLandscape","onChange","isValid"],zit=["getValue"];function Bit(e){const{items:t,changeImportance:n="accept",onChange:r,isValid:i}=e,o=Ht(e,jit);if(t==null||t.length===0)return null;const s=t.map(a=>{let{getValue:l}=a,c=Ht(a,zit);const u=l({isValid:i});return me({},c,{label:c.label,onClick:()=>{r(u,n,c)},disabled:!i(u)})});return x.jsx(Tx,me({dense:!0,sx:[{maxHeight:fI,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:s.map(a=>x.jsx($0,{children:x.jsx(D0,me({},a))},a.id??a.label))}))}function Uit(e){return e.view!==null}const Hit=e=>{const{classes:t,isLandscape:n}=e;return Ke({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},P0e,t)},$0e=e=>{const{wrapperVariant:t,onAccept:n,onClear:r,onCancel:i,onSetToday:o,view:s,views:a,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:f,isLandscape:p,disabled:g,readOnly:m,children:v,slots:b,slotProps:S}=e,C=Hit(e),_=(b==null?void 0:b.actionBar)??Nit,E=pn({elementType:_,externalSlotProps:S==null?void 0:S.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:i,onSetToday:o,actions:t==="desktop"?[]:["cancel","accept"]},className:C.actionBar,ownerState:me({},e,{wrapperVariant:t})}),T=x.jsx(_,me({},E)),k=b==null?void 0:b.toolbar,A=pn({elementType:k,externalSlotProps:S==null?void 0:S.toolbar,additionalProps:{isLandscape:p,onChange:u,value:c,view:s,onViewChange:l,views:a,disabled:g,readOnly:m},className:C.toolbar,ownerState:me({},e,{wrapperVariant:t})}),P=Uit(A)&&k?x.jsx(k,me({},A)):null,D=v,F=b==null?void 0:b.tabs,I=s&&F?x.jsx(F,me({view:s,onViewChange:l,className:C.tabs},S==null?void 0:S.tabs)):null,j=(b==null?void 0:b.shortcuts)??Bit,M=pn({elementType:j,externalSlotProps:S==null?void 0:S.shortcuts,additionalProps:{isValid:f,isLandscape:p,onChange:d},className:C.shortcuts,ownerState:{isValid:f,isLandscape:p,onChange:d,wrapperVariant:t}}),$=s&&j?x.jsx(j,me({},M)):null;return{toolbar:P,content:D,tabs:I,actionBar:T,shortcuts:$}},Vit=e=>{const{isLandscape:t,classes:n}=e;return Ke({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},P0e,n)},F0e=ye("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Bc.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Bc.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${Bc.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${Bc.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${Bc.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Bc.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${Bc.shortcuts}`]:{gridColumn:3}}}]}),N0e=ye("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),L0e=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersLayout"}),{toolbar:i,content:o,tabs:s,actionBar:a,shortcuts:l}=$0e(r),{sx:c,className:u,isLandscape:d,wrapperVariant:f}=r,p=Vit(r);return x.jsxs(F0e,{ref:n,sx:c,className:Ne(p.root,u),ownerState:r,children:[d?l:i,d?i:l,x.jsx(N0e,{className:p.contentWrapper,children:f==="desktop"?x.jsxs(O.Fragment,{children:[o,s]}):x.jsxs(O.Fragment,{children:[s,o]})}),a]})}),Wit=O.createContext(null);function j0e(e){const{contextValue:t,localeText:n,children:r}=e;return x.jsx(Wit.Provider,{value:t,children:x.jsx(Jrt,{localeText:n,children:r})})}const qit=["props","getOpenDialogAriaText"],Git=["ownerState"],Yit=["ownerState"],RU=e=>{var se;let{props:t,getOpenDialogAriaText:n}=e,r=Ht(e,qit);const{slots:i,slotProps:o,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:f,timezone:p,name:g,label:m,inputRef:v,readOnly:b,disabled:S,autoFocus:C,localeText:_,reduceAnimations:E}=t,T=O.useRef(null),k=O.useRef(null),A=Cl(),P=((se=o==null?void 0:o.toolbar)==null?void 0:se.hidden)??!1,{open:D,actions:F,hasUIView:I,layoutProps:j,renderCurrentView:M,shouldRestoreFocus:$,fieldProps:L,contextValue:V,ownerState:q}=D0e(me({},r,{props:t,fieldRef:k,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),U=i.inputAdornment??I0,z=pn({elementType:U,externalSlotProps:o==null?void 0:o.inputAdornment,additionalProps:{position:"end"},ownerState:t}),B=Ht(z,Git),G=i.openPickerButton??sn,Y=pn({elementType:G,externalSlotProps:o==null?void 0:o.openPickerButton,additionalProps:{disabled:S||b,onClick:D?F.onClose:F.onOpen,"aria-label":n(L.value),edge:B.position},ownerState:t}),Q=Ht(Y,Yit),K=i.openPickerIcon,te=pn({elementType:K,externalSlotProps:o==null?void 0:o.openPickerIcon,ownerState:q}),ce=i.field,ie=pn({elementType:ce,externalSlotProps:o==null?void 0:o.field,additionalProps:me({},L,P&&{id:A},{readOnly:b,disabled:S,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:f,timezone:p,label:m,name:g,autoFocus:C&&!t.open,focused:D?!0:void 0},v?{inputRef:v}:{}),ownerState:t});I&&(ie.InputProps=me({},ie.InputProps,{ref:T},!t.disableOpenPicker&&{[`${B.position}Adornment`]:x.jsx(U,me({},B,{children:x.jsx(G,me({},Q,{children:x.jsx(K,me({},te))}))}))}));const re=me({textField:i.textField,clearIcon:i.clearIcon,clearButton:i.clearButton},ie.slots),he=i.layout??L0e;let fe=A;P&&(m?fe=`${A}-label`:fe=void 0);const ne=me({},o,{toolbar:me({},o==null?void 0:o.toolbar,{titleId:A}),popper:me({"aria-labelledby":fe},o==null?void 0:o.popper)}),pe=Ln(k,ie.unstableFieldRef);return{renderPicker:()=>x.jsxs(j0e,{contextValue:V,localeText:_,children:[x.jsx(ce,me({},ie,{slots:re,slotProps:ne,unstableFieldRef:pe})),x.jsx(Eit,me({role:"dialog",placement:"bottom-start",anchorEl:T.current},F,{open:D,slots:i,slotProps:ne,shouldRestoreFocus:$,reduceAnimations:E,children:x.jsx(he,me({},j,ne==null?void 0:ne.layout,{slots:i,slotProps:ne,children:M()}))}))]})}},Xit=st(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Kit=st(x.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Qit=st(x.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),z0e=st(x.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Zit=st(x.jsxs(O.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),Jit=st(x.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),eot=st(x.jsxs(O.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),tot=st(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),not=({utils:e,format:t})=>{let n=10,r=t,i=e.expandFormat(t);for(;i!==r;)if(r=i,i=e.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return i},rot=({utils:e,expandedFormat:t})=>{const n=[],{start:r,end:i}=e.escapedCharacters,o=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let s=null;for(;s=o.exec(t);)n.push({start:s.index,end:o.lastIndex-1});return n},iot=(e,t,n,r)=>{switch(n.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),r).length,format:r});case"month":return t.fieldMonthPlaceholder({contentType:n.contentType,format:r});case"day":return t.fieldDayPlaceholder({format:r});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:n.contentType,format:r});case"hours":return t.fieldHoursPlaceholder({format:r});case"minutes":return t.fieldMinutesPlaceholder({format:r});case"seconds":return t.fieldSecondsPlaceholder({format:r});case"meridiem":return t.fieldMeridiemPlaceholder({format:r});default:return r}},oot=({utils:e,date:t,shouldRespectLeadingZeros:n,localeText:r,localizedDigits:i,now:o,token:s,startSeparator:a})=>{if(s==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const l=x0e(e,s),c=E0e(e,l.contentType,l.type,s),u=n?c:l.contentType==="digit",d=t!=null&&e.isValid(t);let f=d?e.formatByString(t,s):"",p=null;if(u)if(c)p=f===""?e.formatByString(o,s).length:f.length;else{if(l.maxLength==null)throw new Error(`MUI X: The token ${s} should have a 'maxDigitNumber' property on it's adapter`);p=l.maxLength,d&&(f=SU(w0e(j0(f,i),p),i))}return me({},l,{format:s,maxLength:p,value:f,placeholder:iot(e,r,l,s),hasLeadingZerosInFormat:c,hasLeadingZerosInInput:u,startSeparator:a,endSeparator:"",modified:!1})},sot=e=>{var p;const{utils:t,expandedFormat:n,escapedParts:r}=e,i=t.date(void 0),o=[];let s="";const a=Object.keys(t.formatTokenMap).sort((g,m)=>m.length-g.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=g=>r.find(m=>m.start<=g&&m.end>=g);let f=0;for(;f<n.length;){const g=d(f),m=g!=null,v=(p=l.exec(n.slice(f)))==null?void 0:p[1];if(!m&&v!=null&&c.test(v)){let b=v;for(;b.length>0;){const S=u.exec(b)[1];b=b.slice(S.length),o.push(oot(me({},e,{now:i,token:S,startSeparator:s}))),s=""}f+=v.length}else{const b=n[f];m&&(g==null?void 0:g.start)===f||(g==null?void 0:g.end)===f||(o.length===0?s+=b:o[o.length-1].endSeparator+=b),f+=1}}return o.length===0&&s.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:s,endSeparator:"",modified:!1}),o},aot=({isRtl:e,formatDensity:t,sections:n})=>n.map(r=>{const i=o=>{let s=o;return e&&s!==null&&s.includes(" ")&&(s=`${s}`),t==="spacious"&&["/",".","-"].includes(s)&&(s=` ${s} `),s};return r.startSeparator=i(r.startSeparator),r.endSeparator=i(r.endSeparator),r}),Mre=e=>{let t=not(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=rot(me({},e,{expandedFormat:t})),r=sot(me({},e,{expandedFormat:t,escapedParts:n}));return aot(me({},e,{sections:r}))},lot=e=>{const t=In(),n=Ki(),r=by(),i=Pi(),{valueManager:o,fieldValueManager:s,valueType:a,validator:l,internalProps:c,internalProps:{value:u,defaultValue:d,referenceDate:f,onChange:p,format:g,formatDensity:m="dense",selectedSections:v,onSelectedSectionsChange:b,shouldRespectLeadingZeros:S=!1,timezone:C,enableAccessibleFieldDOMStructure:_=!1}}=e,{timezone:E,value:T,handleValueChange:k}=kU({timezone:C,value:u,defaultValue:d,referenceDate:f,onChange:p,valueManager:o}),A=O.useMemo(()=>zrt(t),[t]),P=O.useMemo(()=>Wrt(t,A,E),[t,A,E]),D=O.useCallback((K,te=null)=>s.getSectionsFromValue(t,K,te,ce=>Mre({utils:t,localeText:n,localizedDigits:A,format:g,date:ce,formatDensity:m,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:_,isRtl:i})),[s,g,n,A,i,S,t,m,_]),[F,I]=O.useState(()=>{const K=D(T),te={sections:K,value:T,referenceValue:o.emptyValue,tempValueStrAndroid:null},ce=Frt(K),ie=o.getInitialReferenceValue({referenceDate:f,value:T,utils:t,props:c,granularity:ce,timezone:E});return me({},te,{referenceValue:ie})}),[j,M]=Vo({controlled:v,default:null,name:"useField",state:"selectedSections"}),$=K=>{M(K),b==null||b(K)},L=O.useMemo(()=>D6(j,F.sections),[j,F.sections]),V=L==="all"?0:L,q=({value:K,referenceValue:te,sections:ce})=>{if(I(re=>me({},re,{sections:ce,value:K,referenceValue:te,tempValueStrAndroid:null})),o.areValuesEqual(t,F.value,K))return;const ie={validationError:l({adapter:r,value:K,timezone:E,props:c})};k(K,ie)},U=(K,te)=>{const ce=[...F.sections];return ce[K]=me({},ce[K],{value:te,modified:!0}),ce},z=()=>{q({value:o.emptyValue,referenceValue:F.referenceValue,sections:D(o.emptyValue)})},B=()=>{if(V==null)return;const K=F.sections[V],te=s.getActiveDateManager(t,F,K),ie=te.getSections(F.sections).filter(ne=>ne.value!=="").length===(K.value===""?0:1),re=U(V,""),he=ie?null:t.getInvalidDate(),fe=te.getNewValuesFromNewActiveDate(he);q(me({},fe,{sections:re}))},G=K=>{const te=(re,he)=>{const fe=t.parse(re,g);if(fe==null||!t.isValid(fe))return null;const ne=Mre({utils:t,localeText:n,localizedDigits:A,format:g,date:fe,formatDensity:m,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:_,isRtl:i});return Ere(t,fe,ne,he,!1)},ce=s.parseValueStr(K,F.referenceValue,te),ie=s.updateReferenceValue(t,ce,F.referenceValue);q({value:ce,referenceValue:ie,sections:D(ce,F.sections)})},Y=({activeSection:K,newSectionValue:te,shouldGoToNextSection:ce})=>{ce&&V<F.sections.length-1&&$(V+1);const ie=s.getActiveDateManager(t,F,K),re=U(V,te),he=ie.getSections(re),fe=Urt(t,he,A);let ne,pe;if(fe!=null&&t.isValid(fe)){const W=Ere(t,fe,he,ie.referenceDate,!0);ne=ie.getNewValuesFromNewActiveDate(W),pe=!0}else ne=ie.getNewValuesFromNewActiveDate(fe),pe=(fe!=null&&!t.isValid(fe))!=(ie.date!=null&&!t.isValid(ie.date));return pe?q(me({},ne,{sections:re})):I(W=>me({},W,ne,{sections:re,tempValueStrAndroid:null}))},Q=K=>I(te=>me({},te,{tempValueStrAndroid:K}));return O.useEffect(()=>{const K=D(F.value);I(te=>me({},te,{sections:K}))},[g,t.locale,i]),O.useEffect(()=>{let K;o.areValuesEqual(t,F.value,T)?K=o.getTimezone(t,F.value)!==o.getTimezone(t,T):K=!0,K&&I(te=>me({},te,{value:T,referenceValue:s.updateReferenceValue(t,T,te.referenceValue),sections:D(T)}))},[T]),{state:F,activeSectionIndex:V,parsedSelectedSections:L,setSelectedSections:$,clearValue:z,clearActiveSection:B,updateSectionValue:Y,updateValueFromValueStr:G,setTempAndroidValueStr:Q,getSectionsFromValue:D,sectionsValueBoundaries:P,localizedDigits:A,timezone:E}},cot=5e3,$v=e=>e.saveQuery!=null,uot=({sections:e,updateSectionValue:t,sectionsValueBoundaries:n,localizedDigits:r,setTempAndroidValueStr:i,timezone:o})=>{const s=In(),[a,l]=O.useState(null),c=mt(()=>l(null));O.useEffect(()=>{var g;a!=null&&((g=e[a.sectionIndex])==null?void 0:g.type)!==a.sectionType&&c()},[e,a,c]),O.useEffect(()=>{if(a!=null){const g=setTimeout(()=>c(),cot);return()=>{clearTimeout(g)}}return()=>{}},[a,c]);const u=({keyPressed:g,sectionIndex:m},v,b)=>{const S=g.toLowerCase(),C=e[m];if(a!=null&&(!b||b(a.value))&&a.sectionIndex===m){const E=`${a.value}${S}`,T=v(E,C);if(!$v(T))return l({sectionIndex:m,value:E,sectionType:C.type}),T}const _=v(S,C);return $v(_)&&!_.saveQuery?(c(),null):(l({sectionIndex:m,value:S,sectionType:C.type}),$v(_)?null:_)},d=g=>{const m=(S,C,_)=>{const E=C.filter(T=>T.toLowerCase().startsWith(_));return E.length===0?{saveQuery:!1}:{sectionValue:E[0],shouldGoToNextSection:E.length===1}},v=(S,C,_,E)=>{const T=k=>S0e(s,o,C.type,k);if(C.contentType==="letter")return m(C.format,T(C.format),S);if(_&&E!=null&&x0e(s,_).contentType==="letter"){const k=T(_),A=m(_,k,S);return $v(A)?{saveQuery:!1}:me({},A,{sectionValue:E(A.sectionValue,k)})}return{saveQuery:!1}};return u(g,(S,C)=>{switch(C.type){case"month":{const _=E=>Cre(s,E,s.formats.month,C.format);return v(S,C,s.formats.month,_)}case"weekDay":{const _=(E,T)=>T.indexOf(E).toString();return v(S,C,s.formats.weekday,_)}case"meridiem":return v(S,C);default:return{saveQuery:!1}}})},f=g=>{const m=(b,S)=>{const C=j0(b,r),_=Number(C),E=n[S.type]({currentDate:null,format:S.format,contentType:S.contentType});if(_>E.maximum)return{saveQuery:!1};if(_<E.minimum)return{saveQuery:!0};const T=_*10>E.maximum||C.length===E.maximum.toString().length;return{sectionValue:C0e(s,_,E,r,S),shouldGoToNextSection:T}};return u(g,(b,S)=>{if(S.contentType==="digit"||S.contentType==="digit-with-letter")return m(b,S);if(S.type==="month"){E0e(s,"digit","month","MM");const C=m(b,{type:S.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if($v(C))return C;const _=Cre(s,C.sectionValue,"MM",S.format);return me({},C,{sectionValue:_})}if(S.type==="weekDay"){const C=m(b,S);if($v(C))return C;const _=lI(s,S.format)[Number(C.sectionValue)-1];return me({},C,{sectionValue:_})}return{saveQuery:!1}},b=>wre(b,r))};return{applyCharacterEditing:mt(g=>{const m=e[g.sectionIndex],b=wre(g.keyPressed,r)?f(me({},g,{keyPressed:SU(g.keyPressed,r)})):d(g);if(b==null){i(null);return}t({activeSection:m,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})}),resetCharacterQuery:c}},dot=e=>{const{internalProps:{disabled:t,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:i,onClick:o,onFocus:s,onInput:a,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:f,resetCharacterQuery:p,setSelectedSections:g,parsedSelectedSections:m,state:v,clearActiveSection:b,clearValue:S,updateSectionValue:C,updateValueFromValueStr:_,sectionOrder:E,areAllSectionsEmpty:T,sectionsValueBoundaries:k}=e,A=O.useRef(null),P=Ln(r,A),D=Ki(),F=In(),I=Cl(),[j,M]=O.useState(!1),$=O.useMemo(()=>({syncSelectionToDOM:()=>{if(!A.current)return;const pe=document.getSelection();if(!pe)return;if(m==null){pe.rangeCount>0&&A.current.getRoot().contains(pe.getRangeAt(0).startContainer)&&pe.removeAllRanges(),j&&A.current.getRoot().blur();return}if(!A.current.getRoot().contains(da(document)))return;const W=new window.Range;let se;m==="all"?se=A.current.getRoot():v.sections[m].type==="empty"?se=A.current.getSectionContainer(m):se=A.current.getSectionContent(m),W.selectNodeContents(se),se.focus(),pe.removeAllRanges(),pe.addRange(W)},getActiveSectionIndexFromDOM:()=>{const pe=da(document);return!pe||!A.current||!A.current.getRoot().contains(pe)?null:A.current.getSectionIndexFromDOMElement(pe)},focusField:(pe=0)=>{if(!A.current)return;const W=D6(pe,v.sections);M(!0),A.current.getSectionContent(W).focus()},setSelectedSections:pe=>{if(!A.current)return;const W=D6(pe,v.sections);M((W==="all"?0:W)!==null),g(pe)},isFieldFocused:()=>{const pe=da(document);return!!A.current&&A.current.getRoot().contains(pe)}}),[m,g,v.sections,j]),L=mt(pe=>{if(!A.current)return;const W=v.sections[pe];A.current.getSectionContent(pe).innerHTML=W.value||W.placeholder,$.syncSelectionToDOM()}),V=mt((pe,...W)=>{pe.isDefaultPrevented()||!A.current||(M(!0),o==null||o(pe,...W),m==="all"?setTimeout(()=>{const se=document.getSelection().getRangeAt(0).startOffset;if(se===0){g(E.startIndex);return}let ae=0,X=0;for(;X<se&&ae<v.sections.length;){const Z=v.sections[ae];ae+=1,X+=`${Z.startSeparator}${Z.value||Z.placeholder}${Z.endSeparator}`.length}g(ae-1)}):j?A.current.getRoot().contains(pe.target)||g(E.startIndex):(M(!0),g(E.startIndex)))}),q=mt(pe=>{if(a==null||a(pe),!A.current||m!=="all")return;const se=pe.target.textContent??"";A.current.getRoot().innerHTML=v.sections.map(ae=>`${ae.startSeparator}${ae.value||ae.placeholder}${ae.endSeparator}`).join(""),$.syncSelectionToDOM(),se.length===0||se.charCodeAt(0)===10?(p(),S(),g("all")):se.length>1?_(se):(m==="all"&&g(0),f({keyPressed:se,sectionIndex:0}))}),U=mt(pe=>{if(l==null||l(pe),n||m!=="all"){pe.preventDefault();return}const W=pe.clipboardData.getData("text");pe.preventDefault(),p(),_(W)}),z=mt((...pe)=>{if(s==null||s(...pe),j||!A.current)return;M(!0),A.current.getSectionIndexFromDOMElement(da(document))!=null||g(E.startIndex)}),B=mt((...pe)=>{i==null||i(...pe),setTimeout(()=>{if(!A.current)return;const W=da(document);!A.current.getRoot().contains(W)&&(M(!1),g(null))})}),G=mt(pe=>W=>{W.isDefaultPrevented()||g(pe)}),Y=mt(pe=>{pe.preventDefault()}),Q=mt(pe=>()=>{g(pe)}),K=mt(pe=>{if(pe.preventDefault(),n||t||typeof m!="number")return;const W=v.sections[m],se=pe.clipboardData.getData("text"),ae=/^[a-zA-Z]+$/.test(se),X=/^[0-9]+$/.test(se),Z=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(se);W.contentType==="letter"&&ae||W.contentType==="digit"&&X||W.contentType==="digit-with-letter"&&Z?(p(),C({activeSection:W,newSectionValue:se,shouldGoToNextSection:!0})):!ae&&!X&&(p(),_(se))}),te=mt(pe=>{pe.preventDefault(),pe.dataTransfer.dropEffect="none"}),ce=mt(pe=>{if(!A.current)return;const W=pe.target,se=W.textContent??"",ae=A.current.getSectionIndexFromDOMElement(W),X=v.sections[ae];if(n||!A.current){L(ae);return}if(se.length===0){if(X.value===""){L(ae);return}const Z=pe.nativeEvent.inputType;if(Z==="insertParagraph"||Z==="insertLineBreak"){L(ae);return}p(),b();return}f({keyPressed:se,sectionIndex:ae}),L(ae)});li(()=>{if(!(!j||!A.current)){if(m==="all")A.current.getRoot().focus();else if(typeof m=="number"){const pe=A.current.getSectionContent(m);pe&&pe.focus()}}},[m,j]);const ie=O.useMemo(()=>v.sections.reduce((pe,W)=>(pe[W.type]=k[W.type]({currentDate:null,contentType:W.contentType,format:W.format}),pe),{}),[k,v.sections]),re=m==="all",he=O.useMemo(()=>v.sections.map((pe,W)=>{const se=!re&&!t&&!n;return{container:{"data-sectionindex":W,onClick:G(W)},content:{tabIndex:re||W>0?-1:0,contentEditable:!re&&!t&&!n,role:"spinbutton",id:`${I}-${pe.type}`,"aria-labelledby":`${I}-${pe.type}`,"aria-readonly":n,"aria-valuenow":Krt(pe,F),"aria-valuemin":ie[pe.type].minimum,"aria-valuemax":ie[pe.type].maximum,"aria-valuetext":pe.value?Xrt(pe,F):D.empty,"aria-label":D[pe.type],"aria-disabled":t,spellCheck:se?!1:void 0,autoCapitalize:se?"off":void 0,autoCorrect:se?"off":void 0,[parseInt(O.version,10)>=17?"enterKeyHint":"enterkeyhint"]:se?"next":void 0,children:pe.value||pe.placeholder,onInput:ce,onPaste:K,onFocus:Q(W),onDragOver:te,onMouseUp:Y,inputMode:pe.contentType==="letter"?"text":"numeric"},before:{children:pe.startSeparator},after:{children:pe.endSeparator}}}),[v.sections,Q,K,te,ce,G,Y,t,n,re,D,F,ie,I]),fe=mt(pe=>{_(pe.target.value)}),ne=O.useMemo(()=>T?"":d.getV7HiddenInputValueFromSections(v.sections),[T,v.sections,d]);return O.useEffect(()=>{if(A.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&A.current&&A.current.getSectionContent(E.startIndex).focus()},[]),{interactions:$,returnedValue:{autoFocus:u,readOnly:n,focused:c??j,sectionListRef:P,onBlur:B,onClick:V,onFocus:z,onInput:q,onPaste:U,enableAccessibleFieldDOMStructure:!0,elements:he,tabIndex:m===0?-1:0,contentEditable:re,value:ne,onChange:fe,areAllSectionsEmpty:T}}},pb=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),fot=(e,t,n)=>{let r=0,i=n?1:0;const o=[];for(let s=0;s<e.length;s+=1){const a=e[s],l=wU(a,n?"input-rtl":"input-ltr",t),c=`${a.startSeparator}${l}${a.endSeparator}`,u=pb(c).length,d=c.length,f=pb(l),p=i+(f===""?0:l.indexOf(f[0]))+a.startSeparator.length,g=p+f.length;o.push(me({},a,{start:r,end:r+u,startInInput:p,endInInput:g})),r+=u,i+=d}return o},pot=e=>{const t=Pi(),n=O.useRef(void 0),r=O.useRef(void 0),{forwardedProps:{onFocus:i,onClick:o,onPaste:s,onBlur:a,inputRef:l,placeholder:c},internalProps:{readOnly:u=!1,disabled:d=!1},parsedSelectedSections:f,activeSectionIndex:p,state:g,fieldValueManager:m,valueManager:v,applyCharacterEditing:b,resetCharacterQuery:S,updateSectionValue:C,updateValueFromValueStr:_,clearActiveSection:E,clearValue:T,setTempAndroidValueStr:k,setSelectedSections:A,getSectionsFromValue:P,areAllSectionsEmpty:D,localizedDigits:F}=e,I=O.useRef(null),j=Ln(l,I),M=O.useMemo(()=>fot(g.sections,F,t),[g.sections,F,t]),$=O.useMemo(()=>({syncSelectionToDOM:()=>{if(!I.current)return;if(f==null){I.current.scrollLeft&&(I.current.scrollLeft=0);return}if(I.current!==da(document))return;const ce=I.current.scrollTop;if(f==="all")I.current.select();else{const ie=M[f],re=ie.type==="empty"?ie.startInInput-ie.startSeparator.length:ie.startInInput,he=ie.type==="empty"?ie.endInInput+ie.endSeparator.length:ie.endInInput;(re!==I.current.selectionStart||he!==I.current.selectionEnd)&&I.current===da(document)&&I.current.setSelectionRange(re,he),clearTimeout(r.current),r.current=setTimeout(()=>{I.current&&I.current===da(document)&&I.current.selectionStart===I.current.selectionEnd&&(I.current.selectionStart!==re||I.current.selectionEnd!==he)&&$.syncSelectionToDOM()})}I.current.scrollTop=ce},getActiveSectionIndexFromDOM:()=>{const ce=I.current.selectionStart??0,ie=I.current.selectionEnd??0;if(ce===0&&ie===0)return null;const re=ce<=M[0].startInInput?1:M.findIndex(he=>he.startInInput-he.startSeparator.length>ce);return re===-1?M.length-1:re-1},focusField:(ce=0)=>{var ie;(ie=I.current)==null||ie.focus(),A(ce)},setSelectedSections:ce=>A(ce),isFieldFocused:()=>I.current===da(document)}),[I,f,M,A]),L=()=>{const ce=I.current.selectionStart??0;let ie;ce<=M[0].startInInput||ce>=M[M.length-1].endInInput?ie=1:ie=M.findIndex(he=>he.startInInput-he.startSeparator.length>ce);const re=ie===-1?M.length-1:ie-1;A(re)},V=mt((...ce)=>{i==null||i(...ce);const ie=I.current;clearTimeout(n.current),n.current=setTimeout(()=>{!ie||ie!==I.current||p==null&&(ie.value.length&&Number(ie.selectionEnd)-Number(ie.selectionStart)===ie.value.length?A("all"):L())})}),q=mt((ce,...ie)=>{ce.isDefaultPrevented()||(o==null||o(ce,...ie),L())}),U=mt(ce=>{if(s==null||s(ce),ce.preventDefault(),u||d)return;const ie=ce.clipboardData.getData("text");if(typeof f=="number"){const re=g.sections[f],he=/^[a-zA-Z]+$/.test(ie),fe=/^[0-9]+$/.test(ie),ne=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ie);if(re.contentType==="letter"&&he||re.contentType==="digit"&&fe||re.contentType==="digit-with-letter"&&ne){S(),C({activeSection:re,newSectionValue:ie,shouldGoToNextSection:!0});return}if(he||fe)return}S(),_(ie)}),z=mt((...ce)=>{a==null||a(...ce),A(null)}),B=mt(ce=>{if(u)return;const ie=ce.target.value;if(ie===""){S(),T();return}const re=ce.nativeEvent.data,he=re&&re.length>1,fe=he?re:ie,ne=pb(fe);if(f==="all"&&A(p),p==null||he){_(he?re:ne);return}let pe;if(f==="all"&&ne.length===1)pe=ne;else{const W=pb(m.getV6InputValueFromSections(M,F,t));let se=-1,ae=-1;for(let ge=0;ge<W.length;ge+=1)se===-1&&W[ge]!==ne[ge]&&(se=ge),ae===-1&&W[W.length-ge-1]!==ne[ne.length-ge-1]&&(ae=ge);const X=M[p];if(se<X.start||W.length-ae-1>X.end)return;const oe=ne.length-W.length+X.end-pb(X.endSeparator||"").length;pe=ne.slice(X.start+pb(X.startSeparator||"").length,oe)}if(pe.length===0){Grt()&&k(fe),S(),E();return}b({keyPressed:pe,sectionIndex:p})}),G=O.useMemo(()=>c!==void 0?c:m.getV6InputValueFromSections(P(v.emptyValue),F,t),[c,m,P,v.emptyValue,F,t]),Y=O.useMemo(()=>g.tempValueStrAndroid??m.getV6InputValueFromSections(g.sections,F,t),[g.sections,m,g.tempValueStrAndroid,F,t]);O.useEffect(()=>(I.current&&I.current===da(document)&&A("all"),()=>{clearTimeout(n.current),clearTimeout(r.current)}),[]);const Q=O.useMemo(()=>p==null||g.sections[p].contentType==="letter"?"text":"numeric",[p,g.sections]),te=!(I.current&&I.current===da(document))&&D;return{interactions:$,returnedValue:{readOnly:u,onBlur:z,onClick:q,onFocus:V,onPaste:U,inputRef:j,enableAccessibleFieldDOMStructure:!1,placeholder:G,inputMode:Q,autoComplete:"off",value:te?"":Y,onChange:B}}},TU=e=>{const t=In(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:i,enableAccessibleFieldDOMStructure:o=!1,disabled:s=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:f,valueManager:p,validator:g}=e,m=Pi(),v=lot(e),{state:b,activeSectionIndex:S,parsedSelectedSections:C,setSelectedSections:_,clearValue:E,clearActiveSection:T,updateSectionValue:k,setTempAndroidValueStr:A,sectionsValueBoundaries:P,localizedDigits:D,timezone:F}=v,I=uot({sections:b.sections,updateSectionValue:k,sectionsValueBoundaries:P,localizedDigits:D,setTempAndroidValueStr:A,timezone:F}),{resetCharacterQuery:j}=I,M=p.areValuesEqual(t,b.value,p.emptyValue),$=o?dot:pot,L=O.useMemo(()=>Yrt(b.sections,m&&!o),[b.sections,m,o]),{returnedValue:V,interactions:q}=$(me({},e,v,I,{areAllSectionsEmpty:M,sectionOrder:L})),U=mt(K=>{if(l==null||l(K),!s)switch(!0){case((K.ctrlKey||K.metaKey)&&String.fromCharCode(K.keyCode)==="A"&&!K.shiftKey&&!K.altKey):{K.preventDefault(),_("all");break}case K.key==="ArrowRight":{if(K.preventDefault(),C==null)_(L.startIndex);else if(C==="all")_(L.endIndex);else{const te=L.neighbors[C].rightIndex;te!==null&&_(te)}break}case K.key==="ArrowLeft":{if(K.preventDefault(),C==null)_(L.endIndex);else if(C==="all")_(L.startIndex);else{const te=L.neighbors[C].leftIndex;te!==null&&_(te)}break}case K.key==="Delete":{if(K.preventDefault(),a)break;C==null||C==="all"?E():T(),j();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(K.key):{if(K.preventDefault(),a||S==null)break;C==="all"&&_(S);const te=b.sections[S],ce=f.getActiveDateManager(t,b,te),ie=Brt(t,F,te,K.key,P,D,ce.date,{minutesStep:i});k({activeSection:te,newSectionValue:ie,shouldGoToNextSection:!1});break}}});li(()=>{q.syncSelectionToDOM()});const{hasValidationError:z}=A0e({props:n,validator:g,timezone:F,value:b.value,onError:n.onError}),B=O.useMemo(()=>c!==void 0?c:z,[z,c]);O.useEffect(()=>{!B&&S==null&&j()},[b.referenceValue,S,B]),O.useEffect(()=>{b.tempValueStrAndroid!=null&&S!=null&&(j(),T())},[b.sections]),O.useImperativeHandle(r,()=>({getSections:()=>b.sections,getActiveSectionIndex:q.getActiveSectionIndexFromDOM,setSelectedSections:q.setSelectedSections,focusField:q.focusField,isFieldFocused:q.isFieldFocused}));const G=mt((K,...te)=>{K.preventDefault(),d==null||d(K,...te),E(),q.isFieldFocused()?_(L.startIndex):q.focusField(0)}),Y={onKeyDown:U,onClear:G,error:B,clearable:!!(u&&!M&&!a&&!s)},Q={disabled:s,readOnly:a};return me({},e.forwardedProps,Y,Q,V)},hot=["clearable","onClear","InputProps","sx","slots","slotProps"],got=["ownerState"],MU=e=>{const t=Ki(),{clearable:n,onClear:r,InputProps:i,sx:o,slots:s,slotProps:a}=e,l=Ht(e,hot),c=(s==null?void 0:s.clearButton)??sn,u=pn({elementType:c,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:t.fieldClearLabel}}),d=Ht(u,got),f=(s==null?void 0:s.clearIcon)??tot,p=pn({elementType:f,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return me({},l,{InputProps:me({},i,{endAdornment:x.jsxs(O.Fragment,{children:[n&&x.jsx(I0,{position:"end",sx:{marginRight:i!=null&&i.endAdornment?-1:-1.5},children:x.jsx(c,me({},d,{onClick:r,children:x.jsx(f,me({fontSize:"small"},p))}))}),i==null?void 0:i.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o)?o:[o]]})},mot=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],AU=(e,t)=>O.useMemo(()=>{const n=me({},e),r={},i=o=>{n.hasOwnProperty(o)&&(r[o]=n[o],delete n[o])};return mot.forEach(i),t==="date"?I6.forEach(i):t==="time"?$6.forEach(i):t==="date-time"&&(I6.forEach(i),$6.forEach(i),M0e.forEach(i)),{forwardedProps:n,internalProps:r}},[e,t]),yot=e=>{const t=In(),n=xy();return me({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??t.formats.keyboardDate,minDate:gs(t,e.minDate,n.minDate),maxDate:gs(t,e.maxDate,n.maxDate)})},vot=e=>{const t=In(),r=e.ampm??t.is12HourCycleInCurrentLocale()?t.formats.fullTime12h:t.formats.fullTime24h;return me({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??r})},bot=e=>{const t=In(),n=xy(),i=e.ampm??t.is12HourCycleInCurrentLocale()?t.formats.keyboardDateTime12h:t.formats.keyboardDateTime24h;return me({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??i,disableIgnoringDatePartForTimeValidation:!!(e.minDateTime||e.maxDateTime),minDate:gs(t,e.minDateTime??e.minDate,n.minDate),maxDate:gs(t,e.maxDateTime??e.maxDate,n.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime})},xot=e=>{const t=yot(e),{forwardedProps:n,internalProps:r}=AU(t,"date");return TU({forwardedProps:n,internalProps:r,valueManager:Oi,fieldValueManager:CU,validator:$x,valueType:"date"})};function Sot(e){return et("MuiPickersTextField",e)}nt("MuiPickersTextField",["root","focused","disabled","error","required"]);function wot(e){return et("MuiPickersInputBase",e)}const Db=nt("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function Cot(e){return et("MuiPickersSectionList",e)}const Sw=nt("MuiPickersSectionList",["root","section","sectionContent"]),_ot=["slots","slotProps","elements","sectionListRef"],B0e=ye("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(e,t)=>t.root})({direction:"ltr /*! @noflip */",outline:"none"}),U0e=ye("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(e,t)=>t.section})({}),H0e=ye("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(e,t)=>t.sectionSeparator})({whiteSpace:"pre"}),V0e=ye("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(e,t)=>t.sectionContent})({outline:"none"}),Eot=e=>{const{classes:t}=e;return Ke({root:["root"],section:["section"],sectionContent:["sectionContent"]},Cot,t)};function kot(e){const{slots:t,slotProps:n,element:r,classes:i}=e,o=(t==null?void 0:t.section)??U0e,s=pn({elementType:o,externalSlotProps:n==null?void 0:n.section,externalForwardedProps:r.container,className:i.section,ownerState:{}}),a=(t==null?void 0:t.sectionContent)??V0e,l=pn({elementType:a,externalSlotProps:n==null?void 0:n.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),c=(t==null?void 0:t.sectionSeparator)??H0e,u=pn({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=pn({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return x.jsxs(o,me({},s,{children:[x.jsx(c,me({},u)),x.jsx(a,me({},l)),x.jsx(c,me({},d))]}))}const Rot=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersSectionList"}),{slots:i,slotProps:o,elements:s,sectionListRef:a}=r,l=Ht(r,_ot),c=Eot(r),u=O.useRef(null),d=Ln(n,u),f=m=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${m} before the mount of the component.`);return u.current};O.useImperativeHandle(a,()=>({getRoot(){return f("getRoot")},getSectionContainer(m){return f("getSectionContainer").querySelector(`.${Sw.section}[data-sectionindex="${m}"]`)},getSectionContent(m){return f("getSectionContent").querySelector(`.${Sw.section}[data-sectionindex="${m}"] .${Sw.sectionContent}`)},getSectionIndexFromDOMElement(m){const v=f("getSectionIndexFromDOMElement");if(m==null||!v.contains(m))return null;let b=null;return m.classList.contains(Sw.section)?b=m:m.classList.contains(Sw.sectionContent)&&(b=m.parentElement),b==null?null:Number(b.dataset.sectionindex)}}));const p=(i==null?void 0:i.root)??B0e,g=pn({elementType:p,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return x.jsx(p,me({},g,{children:g.contentEditable?s.map(({content:m,before:v,after:b})=>`${v.children}${m.children}${b.children}`).join(""):x.jsx(O.Fragment,{children:s.map((m,v)=>x.jsx(kot,{slots:i,slotProps:o,element:m,classes:c},v))})}))}),Tot=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],Mot=e=>Math.round(e*1e5)/1e5,pI=ye("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>me({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Mot(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),OU=ye(B0e,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:t,focused:n,filled:r,label:i})=>!t&&!n&&!r&&i==null,style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),Aot=ye(U0e,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(e,t)=>t.section})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),Oot=ye(V0e,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Dot=ye(H0e,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(e,t)=>t.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Pot=ye("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(me({},Ahe)),Iot=e=>{const{focused:t,disabled:n,error:r,classes:i,fullWidth:o,readOnly:s,color:a,size:l,endAdornment:c,startAdornment:u}=e,d={root:["root",t&&!n&&"focused",n&&"disabled",s&&"readOnly",r&&"error",o&&"fullWidth",`color${Te(a)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return Ke(d,wot,i)},DU=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:o,value:s,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:f,slotProps:p,contentEditable:g,tabIndex:m,onInput:v,onPaste:b,onKeyDown:S,name:C,readOnly:_,inputProps:E,inputRef:T,sectionListRef:k}=r,A=Ht(r,Tot),P=O.useRef(null),D=Ln(n,P),F=Ln(E==null?void 0:E.ref,T),I=Pi(),j=Ta();if(!j)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const M=z=>{var B;if(j.disabled){z.stopPropagation();return}(B=j.onFocus)==null||B.call(j,z)};O.useEffect(()=>{j&&j.setAdornedStart(!!u)},[j,u]),O.useEffect(()=>{j&&(o?j.onEmpty():j.onFilled())},[j,o]);const $=me({},r,j,{isRtl:I}),L=Iot($),V=(f==null?void 0:f.root)||pI,q=pn({elementType:V,externalSlotProps:p==null?void 0:p.root,externalForwardedProps:A,additionalProps:{"aria-invalid":j.error,ref:D},className:L.root,ownerState:$}),U=(f==null?void 0:f.input)||OU;return x.jsxs(V,me({},q,{children:[u,x.jsx(Rot,{sectionListRef:k,elements:i,contentEditable:g,tabIndex:m,className:L.sectionsContainer,onFocus:M,onBlur:j.onBlur,onInput:v,onPaste:b,onKeyDown:S,slots:{root:U,section:Aot,sectionContent:Oot,sectionSeparator:Dot},slotProps:{root:{ownerState:$},sectionContent:{className:Db.sectionContent},sectionSeparator:({position:z})=>({className:z==="before"?Db.sectionBefore:Db.sectionAfter})}}),c,d?d(me({},j)):null,x.jsx(Pot,me({name:C,className:L.input,value:s,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:_,required:j.required,disabled:j.disabled},E,{ref:F}))]}))});function $ot(e){return et("MuiPickersOutlinedInput",e)}const Oc=me({},Db,nt("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Fot=["children","className","label","notched","shrink"],Not=ye("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Are=ye("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),Lot=ye("legend")(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function jot(e){const{className:t,label:n}=e,r=Ht(e,Fot),i=n!=null&&n!=="",o=me({},e,{withLabel:i});return x.jsx(Not,me({"aria-hidden":!0,className:t},r,{ownerState:o,children:x.jsx(Lot,{ownerState:o,children:i?x.jsx(Are,{children:n}):x.jsx(Are,{className:"notranslate",children:""})})}))}const zot=["label","autoFocus","ownerState","notched"],Bot=ye(pI,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Oc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Oc.focused} .${Oc.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Oc.disabled}`]:{[`& .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${Oc.error} .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(n=>{var r;return((r=(e.vars??e).palette[n])==null?void 0:r.main)??!1}).map(n=>({props:{color:n},style:{[`&.${Oc.focused}:not(.${Oc.error}) .${Oc.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}}))}}),Uot=ye(OU,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Hot=e=>{const{classes:t}=e,r=Ke({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$ot,t);return me({},t,r)},W0e=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersOutlinedInput"}),{label:i,ownerState:o,notched:s}=r,a=Ht(r,zot),l=Ta(),c=me({},r,o,l,{color:(l==null?void 0:l.color)||"primary"}),u=Hot(c);return x.jsx(DU,me({slots:{root:Bot,input:Uot},renderSuffix:d=>x.jsx(jot,{shrink:!!(s||d.adornedStart||d.focused||d.filled),notched:!!(s||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:i!=null&&i!==""&&(l!=null&&l.required)?x.jsxs(O.Fragment,{children:[i,"","*"]}):i,ownerState:c})},a,{label:i,classes:u,ref:n}))});W0e.muiName="Input";function Vot(e){return et("MuiPickersFilledInput",e)}const hm=me({},Db,nt("MuiPickersFilledInput",["root","underline","input"])),Wot=["label","autoFocus","disableUnderline","ownerState"],qot=ye(pI,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>AM(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${hm.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${hm.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>{var a;return{props:{color:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(e.vars||e).palette[s])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hm.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hm.disabled}, .${hm.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${hm.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:s})=>!!s,style:{paddingLeft:12}},{props:({endAdornment:s})=>!!s,style:{paddingRight:12}}]}}),Got=ye(OU,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:e})=>!!e,style:{paddingLeft:0}},{props:({endAdornment:e})=>!!e,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Yot=e=>{const{classes:t,disableUnderline:n}=e,i=Ke({root:["root",!n&&"underline"],input:["input"]},Vot,t);return me({},t,i)},q0e=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:o=!1,ownerState:s}=r,a=Ht(r,Wot),l=Ta(),c=me({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=Yot(c);return x.jsx(DU,me({slots:{root:qot,input:Got},slotProps:{root:{disableUnderline:o}}},a,{label:i,classes:u,ref:n}))});q0e.muiName="Input";function Xot(e){return et("MuiPickersFilledInput",e)}const ww=me({},Db,nt("MuiPickersInput",["root","input"])),Kot=["label","autoFocus","disableUnderline","ownerState"],Qot=ye(pI,{name:"MuiPickersInput",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(r=>(e.vars??e).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ww.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ww.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ww.disabled}, .${ww.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ww.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Zot=e=>{const{classes:t,disableUnderline:n}=e,i=Ke({root:["root",!n&&"underline"],input:["input"]},Xot,t);return me({},t,i)},G0e=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersInput"}),{label:i,disableUnderline:o=!1,ownerState:s}=r,a=Ht(r,Kot),l=Ta(),c=me({},r,s,l,{disableUnderline:o,color:(l==null?void 0:l.color)||"primary"}),u=Zot(c);return x.jsx(DU,me({slots:{root:Qot}},a,{label:i,classes:u,ref:n}))});G0e.muiName="Input";const Jot=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],est={standard:G0e,filled:q0e,outlined:W0e},tst=ye(xge,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),nst=e=>{const{focused:t,disabled:n,classes:r,required:i}=e;return Ke({root:["root",t&&!n&&"focused",n&&"disabled",i&&"required"]},Sot,r)},PU=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersTextField"}),{onFocus:i,onBlur:o,className:s,color:a="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:f,inputProps:p,inputRef:g,sectionListRef:m,elements:v,areAllSectionsEmpty:b,onClick:S,onKeyDown:C,onKeyUp:_,onPaste:E,onInput:T,endAdornment:k,startAdornment:A,tabIndex:P,contentEditable:D,focused:F,value:I,onChange:j,fullWidth:M,id:$,name:L,helperText:V,FormHelperTextProps:q,label:U,InputLabelProps:z}=r,B=Ht(r,Jot),G=O.useRef(null),Y=Ln(n,G),Q=Cl($),K=V&&Q?`${Q}-helper-text`:void 0,te=U&&Q?`${Q}-label`:void 0,ce=me({},r,{color:a,disabled:l,error:c,focused:F,required:d,variant:u}),ie=nst(ce),re=est[u];return x.jsxs(tst,me({className:Ne(ie.root,s),ref:Y,focused:F,onFocus:i,onBlur:o,disabled:l,variant:u,error:c,color:a,fullWidth:M,required:d,ownerState:ce},B,{children:[x.jsx(V7,me({htmlFor:Q,id:te},z,{children:U})),x.jsx(re,me({elements:v,areAllSectionsEmpty:b,onClick:S,onKeyDown:C,onKeyUp:_,onInput:T,onPaste:E,endAdornment:k,startAdornment:A,tabIndex:P,contentEditable:D,value:I,onChange:j,id:Q,fullWidth:M,inputProps:p,inputRef:g,sectionListRef:m,label:U,name:L,role:"group","aria-labelledby":te},f)),V&&x.jsx(U7,me({id:K},q,{children:V}))]}))}),rst=["enableAccessibleFieldDOMStructure"],ist=["InputProps","readOnly"],ost=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],IU=e=>{let{enableAccessibleFieldDOMStructure:t}=e,n=Ht(e,rst);if(t){const{InputProps:d,readOnly:f}=n,p=Ht(n,ist);return me({},p,{InputProps:me({},d??{},{readOnly:f})})}const{onPaste:r,onKeyDown:i,inputMode:o,readOnly:s,InputProps:a,inputProps:l,inputRef:c}=n,u=Ht(n,ost);return me({},u,{InputProps:me({},a??{},{readOnly:s}),inputProps:me({},l??{},{inputMode:o,onPaste:r,onKeyDown:i,ref:c})})},sst=["slots","slotProps","InputProps","inputProps"],Y0e=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiDateField"}),{slots:i,slotProps:o,InputProps:s,inputProps:a}=r,l=Ht(r,sst),c=r,u=(i==null?void 0:i.textField)??(t.enableAccessibleFieldDOMStructure?PU:Ir),d=pn({elementType:u,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:l,additionalProps:{ref:n},ownerState:c});d.inputProps=me({},a,d.inputProps),d.InputProps=me({},s,d.InputProps);const f=xot(d),p=IU(f),g=MU(me({},p,{slots:i,slotProps:o}));return x.jsx(u,me({},g))}),X0e=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s,timezone:a})=>{const l=by();return O.useCallback(c=>$x({adapter:l,value:c,timezone:a,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s}})!==null,[l,e,t,n,r,i,o,s,a])},ast=(e,t,n)=>(r,i)=>{switch(i.type){case"changeMonth":return me({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"changeMonthTimezone":{const o=i.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let s=n.setTimezone(r.currentMonth,o);return n.getMonth(s)!==n.getMonth(r.currentMonth)&&(s=n.setMonth(s,n.getMonth(r.currentMonth))),me({},r,{currentMonth:s})}case"finishMonthSwitchingAnimation":return me({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const o=i.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,i.focusedDay);return me({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:o?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},lst=e=>{const{value:t,referenceDate:n,disableFuture:r,disablePast:i,disableSwitchToMonthOnDayFocus:o=!1,maxDate:s,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=e,f=In(),p=O.useRef(ast(!!c,o,f)).current,g=O.useMemo(()=>Oi.getInitialReferenceValue({value:t,utils:f,timezone:d,props:e,referenceDate:n,granularity:Gc.day}),[n,d]),[m,v]=O.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:f.startOfMonth(g),slideDirection:"left"});O.useEffect(()=>{v({type:"changeMonthTimezone",newTimezone:f.getTimezone(g)})},[g,f]);const b=O.useCallback(T=>{v(me({type:"changeMonth"},T)),l&&l(T.newMonth)},[l]),S=O.useCallback(T=>{const k=T;f.isSameMonth(k,m.currentMonth)||b({newMonth:f.startOfMonth(k),direction:f.isAfterDay(k,m.currentMonth)?"left":"right"})},[m.currentMonth,b,f]),C=X0e({shouldDisableDate:u,minDate:a,maxDate:s,disableFuture:r,disablePast:i,timezone:d}),_=O.useCallback(()=>{v({type:"finishMonthSwitchingAnimation"})},[]),E=mt((T,k)=>{C(T)||v({type:"changeFocusedDay",focusedDay:T,withoutMonthSwitchingAnimation:k})});return{referenceDate:g,calendarState:m,changeMonth:S,changeFocusedDay:E,isDateDisabled:C,onMonthSwitchingAnimationEnd:_,handleChangeMonth:b}},cst=e=>et("MuiPickersFadeTransitionGroup",e);nt("MuiPickersFadeTransitionGroup",["root"]);const ust=e=>{const{classes:t}=e;return Ke({root:["root"]},cst,t)},dst=ye(t2,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function K0e(e){const t=wn({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:o}=t,s=ust(t),a=lr();return i?n:x.jsx(dst,{className:Ne(s.root,r),children:x.jsx(og,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},o)})}function fst(e){return et("MuiPickersDay",e)}const gm=nt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),pst=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],hst=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:i,disabled:o,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=e,c=s&&!a;return Ke({root:["root",t&&!c&&"selected",o&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},fst,l)},Q0e=({theme:e})=>me({},e.typography.caption,{width:N_,height:N_,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:_t(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${gm.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${gm.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${gm.disabled}:not(.${gm.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${gm.disabled}&.${gm.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${uI}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${gm.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),Z0e=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},gst=ye(uc,{name:"MuiPickersDay",slot:"Root",overridesResolver:Z0e})(Q0e),mst=ye("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Z0e})(({theme:e})=>me({},Q0e({theme:e}),{opacity:0,pointerEvents:"none"})),Cw=()=>{},yst=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:f,onFocus:p=Cw,onBlur:g=Cw,onKeyDown:m=Cw,onMouseDown:v=Cw,onMouseEnter:b=Cw,outsideCurrentMonth:S,selected:C=!1,showDaysOutsideCurrentMonth:_=!1,children:E,today:T=!1}=r,k=Ht(r,pst),A=me({},r,{autoFocus:i,disabled:a,disableHighlightToday:l,disableMargin:c,selected:C,showDaysOutsideCurrentMonth:_,today:T}),P=hst(A),D=In(),F=O.useRef(null),I=Ln(F,n);li(()=>{i&&!a&&!u&&!S&&F.current.focus()},[i,a,u,S]);const j=$=>{v($),S&&$.preventDefault()},M=$=>{a||f(s),S&&$.currentTarget.focus(),d&&d($)};return S&&!_?x.jsx(mst,{className:Ne(P.root,P.hiddenDaySpacingFiller,o),ownerState:A,role:k.role}):x.jsx(gst,me({className:Ne(P.root,o),ref:I,centerRipple:!0,disabled:a,tabIndex:C?0:-1,onKeyDown:$=>m($,s),onFocus:$=>p($,s),onBlur:$=>g($,s),onMouseEnter:$=>b($,s),onClick:M,onMouseDown:j},k,{ownerState:A,children:E||D.format(s,"dayOfMonth")}))}),vst=O.memo(yst),bst=e=>et("MuiPickersSlideTransition",e),Fl=nt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),xst=["children","className","reduceAnimations","slideDirection","transKey","classes"],Sst=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Ke(r,bst,t)},wst=ye(t2,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Fl["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Fl["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Fl.slideEnterActive}`]:t.slideEnterActive},{[`.${Fl.slideExit}`]:t.slideExit},{[`.${Fl["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Fl["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Fl["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Fl["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Fl.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Fl.slideExit}`]:{transform:"translate(0%)"},[`& .${Fl["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Fl["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Cst(e){const t=wn({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,transKey:o}=t,s=Ht(t,xst),a=Sst(t),l=lr();if(i)return x.jsx("div",{className:Ne(a.root,r),children:n});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return x.jsx(wst,{className:Ne(a.root,r),childFactory:u=>O.cloneElement(u,{classNames:c}),role:"presentation",children:x.jsx(R7,me({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},s,{children:n}),o)})}const _st=e=>et("MuiDayCalendar",e);nt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Est=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],kst=["ownerState"],Rst=e=>{const{classes:t}=e;return Ke({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},_st,t)},J0e=(N_+uI*2)*6,Tst=ye("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mst=ye("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Ast=ye(it,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),Ost=ye(it,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),Dst=ye(it,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>me({},e.typography.caption,{width:N_,height:N_,padding:0,margin:`0 ${uI}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Pst=ye("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:J0e}),Ist=ye(Cst,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:J0e}),$st=ye("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Fst=ye("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${uI}px 0`,display:"flex",justifyContent:"center"});function Nst(e){let{parentProps:t,day:n,focusableDay:r,selectedDays:i,isDateDisabled:o,currentMonthNumber:s,isViewFocused:a}=e,l=Ht(e,Est);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:f,slots:p,slotProps:g,timezone:m}=t,v=In(),b=Sy(m),S=r!==null&&v.isSameDay(n,r),C=i.some(I=>v.isSameDay(I,n)),_=v.isSameDay(n,b),E=(p==null?void 0:p.day)??vst,T=pn({elementType:E,externalSlotProps:g==null?void 0:g.day,additionalProps:me({disableHighlightToday:u,showDaysOutsideCurrentMonth:f,role:"gridcell",isAnimating:d,"data-timestamp":v.toJsDate(n).valueOf()},l),ownerState:me({},t,{day:n,selected:C})}),k=Ht(T,kst),A=O.useMemo(()=>c||o(n),[c,o,n]),P=O.useMemo(()=>v.getMonth(n)!==s,[v,n,s]),D=O.useMemo(()=>{const I=v.startOfMonth(v.setMonth(n,s));return f?v.isSameDay(n,v.startOfWeek(I)):v.isSameDay(n,I)},[s,n,f,v]),F=O.useMemo(()=>{const I=v.endOfMonth(v.setMonth(n,s));return f?v.isSameDay(n,v.endOfWeek(I)):v.isSameDay(n,I)},[s,n,f,v]);return x.jsx(E,me({},k,{day:n,disabled:A,autoFocus:a&&S,today:_,outsideCurrentMonth:P,isFirstVisibleCell:D,isLastVisibleCell:F,selected:C,tabIndex:S?0:-1,"aria-selected":C,"aria-current":_?"date":void 0}))}function Lst(e){const t=wn({props:e,name:"MuiDayCalendar"}),n=In(),{onFocusedDayChange:r,className:i,currentMonth:o,selectedDays:s,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:f,renderLoading:p=()=>x.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:m,disablePast:v,disableFuture:b,minDate:S,maxDate:C,shouldDisableDate:_,shouldDisableMonth:E,shouldDisableYear:T,dayOfWeekFormatter:k=ae=>n.format(ae,"weekdayShort").charAt(0).toUpperCase(),hasFocus:A,onFocusedViewChange:P,gridLabelId:D,displayWeekNumber:F,fixedWeekNumber:I,autoFocus:j,timezone:M}=t,$=Sy(M),L=Rst(t),V=Pi(),q=X0e({shouldDisableDate:_,shouldDisableMonth:E,shouldDisableYear:T,minDate:S,maxDate:C,disablePast:v,disableFuture:b,timezone:M}),U=Ki(),[z,B]=Vo({name:"DayCalendar",state:"hasFocus",controlled:A,default:j??!1}),[G,Y]=O.useState(()=>a||$),Q=mt(ae=>{d||c(ae)}),K=ae=>{q(ae)||(r(ae),Y(ae),P==null||P(!0),B(!0))},te=mt((ae,X)=>{switch(ae.key){case"ArrowUp":K(n.addDays(X,-7)),ae.preventDefault();break;case"ArrowDown":K(n.addDays(X,7)),ae.preventDefault();break;case"ArrowLeft":{const Z=n.addDays(X,V?1:-1),oe=n.addMonths(X,V?1:-1),ge=YC({utils:n,date:Z,minDate:V?Z:n.startOfMonth(oe),maxDate:V?n.endOfMonth(oe):Z,isDateDisabled:q,timezone:M});K(ge||Z),ae.preventDefault();break}case"ArrowRight":{const Z=n.addDays(X,V?-1:1),oe=n.addMonths(X,V?-1:1),ge=YC({utils:n,date:Z,minDate:V?n.startOfMonth(oe):Z,maxDate:V?Z:n.endOfMonth(oe),isDateDisabled:q,timezone:M});K(ge||Z),ae.preventDefault();break}case"Home":K(n.startOfWeek(X)),ae.preventDefault();break;case"End":K(n.endOfWeek(X)),ae.preventDefault();break;case"PageUp":K(n.addMonths(X,1)),ae.preventDefault();break;case"PageDown":K(n.addMonths(X,-1)),ae.preventDefault();break}}),ce=mt((ae,X)=>K(X)),ie=mt((ae,X)=>{z&&n.isSameDay(G,X)&&(P==null||P(!1))}),re=n.getMonth(o),he=n.getYear(o),fe=O.useMemo(()=>s.filter(ae=>!!ae).map(ae=>n.startOfDay(ae)),[n,s]),ne=`${he}-${re}`,pe=O.useMemo(()=>O.createRef(),[ne]),W=O.useMemo(()=>{const ae=n.startOfMonth(o),X=n.endOfMonth(o);return q(G)||n.isAfterDay(G,X)||n.isBeforeDay(G,ae)?YC({utils:n,date:G,minDate:ae,maxDate:X,disablePast:v,disableFuture:b,isDateDisabled:q,timezone:M}):G},[o,b,v,G,q,n,M]),se=O.useMemo(()=>{const ae=n.getWeekArray(o);let X=n.addMonths(o,1);for(;I&&ae.length<I;){const Z=n.getWeekArray(X),oe=n.isSameDay(ae[ae.length-1][0],Z[0][0]);Z.slice(oe?1:0).forEach(ge=>{ae.length<I&&ae.push(ge)}),X=n.addMonths(X,1)}return ae},[o,I,n]);return x.jsxs(Tst,{role:"grid","aria-labelledby":D,className:L.root,children:[x.jsxs(Mst,{role:"row",className:L.header,children:[F&&x.jsx(Ost,{variant:"caption",role:"columnheader","aria-label":U.calendarWeekNumberHeaderLabel,className:L.weekNumberLabel,children:U.calendarWeekNumberHeaderText}),Prt(n,$).map((ae,X)=>x.jsx(Ast,{variant:"caption",role:"columnheader","aria-label":n.format(ae,"weekday"),className:L.weekDayLabel,children:k(ae)},X.toString()))]}),l?x.jsx(Pst,{className:L.loadingContainer,children:p()}):x.jsx(Ist,me({transKey:ne,onExited:u,reduceAnimations:f,slideDirection:g,className:Ne(i,L.slideTransition)},m,{nodeRef:pe,children:x.jsx($st,{ref:pe,role:"rowgroup",className:L.monthContainer,children:se.map((ae,X)=>x.jsxs(Fst,{role:"row",className:L.weekContainer,"aria-rowindex":X+1,children:[F&&x.jsx(Dst,{className:L.weekNumber,role:"rowheader","aria-label":U.calendarWeekNumberAriaLabelText(n.getWeekNumber(ae[0])),children:U.calendarWeekNumberText(n.getWeekNumber(ae[0]))}),ae.map((Z,oe)=>x.jsx(Nst,{parentProps:t,day:Z,selectedDays:fe,focusableDay:W,onKeyDown:te,onFocus:ce,onBlur:ie,onDaySelect:Q,isDateDisabled:q,currentMonthNumber:re,isViewFocused:z,"aria-colindex":oe+1},Z.toString()))]},`week-${ae[0]}`))})}))]})}function jst(e){return et("MuiPickersMonth",e)}const pT=nt("MuiPickersMonth",["root","monthButton","disabled","selected"]),zst=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],Bst=e=>{const{disabled:t,selected:n,classes:r}=e;return Ke({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},jst,r)},Ust=ye("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Hst=ye("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${pT.disabled}`]:t.disabled},{[`&.${pT.selected}`]:t.selected}]})(({theme:e})=>me({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${pT.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${pT.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Vst=O.memo(function(t){const n=wn({props:t,name:"MuiPickersMonth"}),{autoFocus:r,className:i,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:f,onBlur:p,"aria-current":g,"aria-label":m,slots:v,slotProps:b}=n,S=Ht(n,zst),C=O.useRef(null),_=Bst(n);li(()=>{var k;r&&((k=C.current)==null||k.focus())},[r]);const E=(v==null?void 0:v.monthButton)??Hst,T=pn({elementType:E,externalSlotProps:b==null?void 0:b.monthButton,additionalProps:{children:o,disabled:s,tabIndex:c,ref:C,type:"button",role:"radio","aria-current":g,"aria-checked":a,"aria-label":m,onClick:k=>u(k,l),onKeyDown:k=>d(k,l),onFocus:k=>f(k,l),onBlur:k=>p(k,l)},ownerState:n,className:_.monthButton});return x.jsx(Ust,me({className:Ne(_.root,i),ownerState:n},S,{children:x.jsx(E,me({},T))}))});function Wst(e){return et("MuiMonthCalendar",e)}nt("MuiMonthCalendar",["root"]);const qst=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Gst=e=>{const{classes:t}=e;return Ke({root:["root"]},Wst,t)};function Yst(e,t){const n=In(),r=xy(),i=wn({props:e,name:t});return me({disableFuture:!1,disablePast:!1},i,{minDate:gs(n,i.minDate,r.minDate),maxDate:gs(n,i.maxDate,r.maxDate)})}const Xst=ye("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:dI,boxSizing:"border-box"}),Kst=O.forwardRef(function(t,n){const r=Yst(t,"MuiMonthCalendar"),{className:i,value:o,defaultValue:s,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:f,onChange:p,shouldDisableMonth:g,readOnly:m,autoFocus:v=!1,onMonthFocus:b,hasFocus:S,onFocusedViewChange:C,monthsPerRow:_=3,timezone:E,gridLabelId:T,slots:k,slotProps:A}=r,P=Ht(r,qst),{value:D,handleValueChange:F,timezone:I}=Nx({name:"MonthCalendar",timezone:E,value:o,defaultValue:s,referenceDate:a,onChange:p,valueManager:Oi}),j=Sy(I),M=Pi(),$=In(),L=O.useMemo(()=>Oi.getInitialReferenceValue({value:D,utils:$,props:r,timezone:I,referenceDate:a,granularity:Gc.month}),[]),V=r,q=Gst(V),U=O.useMemo(()=>$.getMonth(j),[$,j]),z=O.useMemo(()=>D!=null?$.getMonth(D):null,[D,$]),[B,G]=O.useState(()=>z||$.getMonth(L)),[Y,Q]=Vo({name:"MonthCalendar",state:"hasFocus",controlled:S,default:v??!1}),K=mt(ne=>{Q(ne),C&&C(ne)}),te=O.useCallback(ne=>{const pe=$.startOfMonth(u&&$.isAfter(j,f)?j:f),W=$.startOfMonth(c&&$.isBefore(j,d)?j:d),se=$.startOfMonth(ne);return $.isBefore(se,pe)||$.isAfter(se,W)?!0:g?g(se):!1},[c,u,d,f,j,g,$]),ce=mt((ne,pe)=>{if(m)return;const W=$.setMonth(D??L,pe);F(W)}),ie=mt(ne=>{te($.setMonth(D??L,ne))||(G(ne),K(!0),b&&b(ne))});O.useEffect(()=>{G(ne=>z!==null&&ne!==z?z:ne)},[z]);const re=mt((ne,pe)=>{switch(ne.key){case"ArrowUp":ie((12+pe-3)%12),ne.preventDefault();break;case"ArrowDown":ie((12+pe+3)%12),ne.preventDefault();break;case"ArrowLeft":ie((12+pe+(M?1:-1))%12),ne.preventDefault();break;case"ArrowRight":ie((12+pe+(M?-1:1))%12),ne.preventDefault();break}}),he=mt((ne,pe)=>{ie(pe)}),fe=mt((ne,pe)=>{B===pe&&K(!1)});return x.jsx(Xst,me({ref:n,className:Ne(q.root,i),ownerState:V,role:"radiogroup","aria-labelledby":T},P,{children:bU($,D??L).map(ne=>{const pe=$.getMonth(ne),W=$.format(ne,"monthShort"),se=$.format(ne,"month"),ae=pe===z,X=l||te(ne);return x.jsx(Vst,{selected:ae,value:pe,onClick:ce,onKeyDown:re,autoFocus:Y&&pe===B,disabled:X,tabIndex:pe===B&&!X?0:-1,onFocus:he,onBlur:fe,"aria-current":U===pe?"date":void 0,"aria-label":se,monthsPerRow:_,slots:k,slotProps:A,children:W},W)})}))});function Qst(e){return et("MuiPickersYear",e)}const hT=nt("MuiPickersYear",["root","yearButton","selected","disabled"]),Zst=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Jst=e=>{const{disabled:t,selected:n,classes:r}=e;return Ke({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},Qst,r)},eat=ye("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),tat=ye("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${hT.disabled}`]:t.disabled},{[`&.${hT.selected}`]:t.selected}]})(({theme:e})=>me({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:_t(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${hT.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${hT.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),nat=O.memo(function(t){const n=wn({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:f,onBlur:p,"aria-current":g,slots:m,slotProps:v}=n,b=Ht(n,Zst),S=O.useRef(null),C=Jst(n);li(()=>{var T;r&&((T=S.current)==null||T.focus())},[r]);const _=(m==null?void 0:m.yearButton)??tat,E=pn({elementType:_,externalSlotProps:v==null?void 0:v.yearButton,additionalProps:{children:o,disabled:s,tabIndex:c,ref:S,type:"button",role:"radio","aria-current":g,"aria-checked":a,onClick:T=>u(T,l),onKeyDown:T=>d(T,l),onFocus:T=>f(T,l),onBlur:T=>p(T,l)},ownerState:n,className:C.yearButton});return x.jsx(eat,me({className:Ne(C.root,i),ownerState:n},b,{children:x.jsx(_,me({},E))}))});function rat(e){return et("MuiYearCalendar",e)}nt("MuiYearCalendar",["root"]);const iat=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],oat=e=>{const{classes:t}=e;return Ke({root:["root"]},rat,t)};function sat(e,t){const n=In(),r=xy(),i=wn({props:e,name:t});return me({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:gs(n,i.minDate,r.minDate),maxDate:gs(n,i.maxDate,r.maxDate)})}const aat=ye("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:dI,maxHeight:Lit,boxSizing:"border-box",position:"relative"}),lat=O.forwardRef(function(t,n){const r=sat(t,"MuiYearCalendar"),{autoFocus:i,className:o,value:s,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:f,minDate:p,onChange:g,readOnly:m,shouldDisableYear:v,onYearFocus:b,hasFocus:S,onFocusedViewChange:C,yearsOrder:_="asc",yearsPerRow:E,timezone:T,gridLabelId:k,slots:A,slotProps:P}=r,D=Ht(r,iat),{value:F,handleValueChange:I,timezone:j}=Nx({name:"YearCalendar",timezone:T,value:s,defaultValue:a,referenceDate:l,onChange:g,valueManager:Oi}),M=Sy(j),$=Pi(),L=In(),V=O.useMemo(()=>Oi.getInitialReferenceValue({value:F,utils:L,props:r,timezone:j,referenceDate:l,granularity:Gc.year}),[]),q=r,U=oat(q),z=O.useMemo(()=>L.getYear(M),[L,M]),B=O.useMemo(()=>F!=null?L.getYear(F):null,[F,L]),[G,Y]=O.useState(()=>B||L.getYear(V)),[Q,K]=Vo({name:"YearCalendar",state:"hasFocus",controlled:S,default:i??!1}),te=mt(Z=>{K(Z),C&&C(Z)}),ce=O.useCallback(Z=>{if(d&&L.isBeforeYear(Z,M)||u&&L.isAfterYear(Z,M)||p&&L.isBeforeYear(Z,p)||f&&L.isAfterYear(Z,f))return!0;if(!v)return!1;const oe=L.startOfYear(Z);return v(oe)},[u,d,f,p,M,v,L]),ie=mt((Z,oe)=>{if(m)return;const ge=L.setYear(F??V,oe);I(ge)}),re=mt(Z=>{ce(L.setYear(F??V,Z))||(Y(Z),te(!0),b==null||b(Z))});O.useEffect(()=>{Y(Z=>B!==null&&Z!==B?B:Z)},[B]);const he=_!=="desc"?E*1:E*-1,fe=$&&_==="asc"||!$&&_==="desc"?-1:1,ne=mt((Z,oe)=>{switch(Z.key){case"ArrowUp":re(oe-he),Z.preventDefault();break;case"ArrowDown":re(oe+he),Z.preventDefault();break;case"ArrowLeft":re(oe-fe),Z.preventDefault();break;case"ArrowRight":re(oe+fe),Z.preventDefault();break}}),pe=mt((Z,oe)=>{re(oe)}),W=mt((Z,oe)=>{G===oe&&te(!1)}),se=O.useRef(null),ae=Ln(n,se);O.useEffect(()=>{if(i||se.current===null)return;const Z=se.current.querySelector('[tabindex="0"]');if(!Z)return;const oe=Z.offsetHeight,ge=Z.offsetTop,be=se.current.clientHeight,de=se.current.scrollTop,Re=ge+oe;oe>be||ge<de||(se.current.scrollTop=Re-be/2-oe/2)},[i]);const X=L.getYearRange([p,f]);return _==="desc"&&X.reverse(),x.jsx(aat,me({ref:ae,className:Ne(U.root,o),ownerState:q,role:"radiogroup","aria-labelledby":k},D,{children:X.map(Z=>{const oe=L.getYear(Z),ge=oe===B,be=c||ce(Z);return x.jsx(nat,{selected:ge,value:oe,onClick:ie,onKeyDown:ne,autoFocus:Q&&oe===G,disabled:be,tabIndex:oe===G&&!be?0:-1,onFocus:pe,onBlur:W,"aria-current":z===oe?"date":void 0,yearsPerRow:E,slots:A,slotProps:P,children:L.format(Z,"year")},L.format(Z,"year"))})}))}),cat=e=>et("MuiPickersCalendarHeader",e),uat=nt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function dat(e){return et("MuiPickersArrowSwitcher",e)}nt("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const fat=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],pat=["ownerState"],hat=["ownerState"],gat=ye("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),mat=ye("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),Ore=ye(sn,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),yat=e=>{const{classes:t}=e;return Ke({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},dat,t)},eye=O.forwardRef(function(t,n){const r=Pi(),i=wn({props:t,name:"MuiPickersArrowSwitcher"}),{children:o,className:s,slots:a,slotProps:l,isNextDisabled:c,isNextHidden:u,onGoToNext:d,nextLabel:f,isPreviousDisabled:p,isPreviousHidden:g,onGoToPrevious:m,previousLabel:v,labelId:b}=i,S=Ht(i,fat),C=i,_=yat(C),E={isDisabled:c,isHidden:u,goTo:d,label:f},T={isDisabled:p,isHidden:g,goTo:m,label:v},k=(a==null?void 0:a.previousIconButton)??Ore,A=pn({elementType:k,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"end",onClick:T.goTo},ownerState:me({},C,{hidden:T.isHidden}),className:Ne(_.button,_.previousIconButton)}),P=(a==null?void 0:a.nextIconButton)??Ore,D=pn({elementType:P,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:E.label,"aria-label":E.label,disabled:E.isDisabled,edge:"start",onClick:E.goTo},ownerState:me({},C,{hidden:E.isHidden}),className:Ne(_.button,_.nextIconButton)}),F=(a==null?void 0:a.leftArrowIcon)??Kit,I=pn({elementType:F,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:C,className:_.leftArrowIcon}),j=Ht(I,pat),M=(a==null?void 0:a.rightArrowIcon)??Qit,$=pn({elementType:M,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:C,className:_.rightArrowIcon}),L=Ht($,hat);return x.jsxs(gat,me({ref:n,className:Ne(_.root,s),ownerState:C},S,{children:[x.jsx(k,me({},A,{children:r?x.jsx(M,me({},L)):x.jsx(F,me({},j))})),o?x.jsx(it,{variant:"subtitle1",component:"span",id:b,children:o}):x.jsx(mat,{className:_.spacer,ownerState:C}),x.jsx(P,me({},D,{children:r?x.jsx(F,me({},j)):x.jsx(M,me({},L))}))]}))});function vat(e,{disableFuture:t,maxDate:n,timezone:r}){const i=In();return O.useMemo(()=>{const o=i.date(void 0,r),s=i.startOfMonth(t&&i.isBefore(o,n)?o:n);return!i.isAfter(s,e)},[t,n,e,i,r])}function bat(e,{disablePast:t,minDate:n,timezone:r}){const i=In();return O.useMemo(()=>{const o=i.date(void 0,r),s=i.startOfMonth(t&&i.isAfter(o,n)?o:n);return!i.isBefore(s,e)},[t,n,e,i,r])}function hI(e,t,n,r){const i=In(),o=Irt(e,i),s=O.useCallback(a=>{const l=e==null?null:$rt(e,a,!!t,i);n(l,r??"partial")},[t,e,n,r,i]);return{meridiemMode:o,handleMeridiemChange:s}}const xat=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Sat=["ownerState"],wat=e=>{const{classes:t}=e;return Ke({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},cat,t)},Cat=ye("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),_at=ye("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>me({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Eat=ye("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),kat=ye(sn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${uat.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Rat=ye(Xit,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Tat=O.forwardRef(function(t,n){const r=Ki(),i=In(),o=wn({props:t,name:"MuiPickersCalendarHeader"}),{slots:s,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:f,minDate:p,onMonthChange:g,onViewChange:m,view:v,reduceAnimations:b,views:S,labelId:C,className:_,timezone:E,format:T=`${i.formats.month} ${i.formats.year}`}=o,k=Ht(o,xat),A=o,P=wat(o),D=(s==null?void 0:s.switchViewButton)??kat,F=pn({elementType:D,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(v)},ownerState:A,className:P.switchViewButton}),I=(s==null?void 0:s.switchViewIcon)??Rat,j=pn({elementType:I,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:A,className:P.switchViewIcon}),M=Ht(j,Sat),$=()=>g(i.addMonths(l,1),"left"),L=()=>g(i.addMonths(l,-1),"right"),V=vat(l,{disableFuture:u,maxDate:f,timezone:E}),q=bat(l,{disablePast:d,minDate:p,timezone:E}),U=()=>{if(!(S.length===1||!m||c))if(S.length===2)m(S.find(B=>B!==v)||S[0]);else{const B=S.indexOf(v)!==0?0:1;m(S[B])}};if(S.length===1&&S[0]==="year")return null;const z=i.formatByString(l,T);return x.jsxs(Cat,me({},k,{ownerState:A,className:Ne(P.root,_),ref:n,children:[x.jsxs(_at,{role:"presentation",onClick:U,ownerState:A,"aria-live":"polite",className:P.labelContainer,children:[x.jsx(K0e,{reduceAnimations:b,transKey:z,children:x.jsx(Eat,{id:C,ownerState:A,className:P.label,children:z})}),S.length>1&&!c&&x.jsx(D,me({},F,{children:x.jsx(I,me({},M))}))]}),x.jsx(og,{in:v==="day",appear:!b,enter:!b,children:x.jsx(eye,{slots:s,slotProps:a,onGoToPrevious:L,isPreviousDisabled:q,previousLabel:r.previousMonth,onGoToNext:$,isNextDisabled:V,nextLabel:r.nextMonth})})]}))}),gI=ye("div")({overflow:"hidden",width:dI,maxHeight:fI,display:"flex",flexDirection:"column",margin:"0 auto"}),Mat=e=>et("MuiDateCalendar",e);nt("MuiDateCalendar",["root","viewTransitionContainer"]);const Aat=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Oat=e=>{const{classes:t}=e;return Ke({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Mat,t)};function Dat(e,t){const n=In(),r=xy(),i=O0e(),o=wn({props:e,name:t});return me({},o,{loading:o.loading??!1,disablePast:o.disablePast??!1,disableFuture:o.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["year","day"],reduceAnimations:o.reduceAnimations??i,renderLoading:o.renderLoading??(()=>x.jsx("span",{children:"..."})),minDate:gs(n,o.minDate,r.minDate),maxDate:gs(n,o.maxDate,r.maxDate)})}const Pat=ye(gI,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:fI}),Iat=ye(K0e,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),$at=O.forwardRef(function(t,n){const r=In(),i=Cl(),o=Dat(t,"MuiDateCalendar"),{autoFocus:s,onViewChange:a,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:f,onChange:p,onYearChange:g,onMonthChange:m,reduceAnimations:v,shouldDisableDate:b,shouldDisableMonth:S,shouldDisableYear:C,view:_,views:E,openTo:T,className:k,disabled:A,readOnly:P,minDate:D,maxDate:F,disableHighlightToday:I,focusedView:j,onFocusedViewChange:M,showDaysOutsideCurrentMonth:$,fixedWeekNumber:L,dayOfWeekFormatter:V,slots:q,slotProps:U,loading:z,renderLoading:B,displayWeekNumber:G,yearsOrder:Y,yearsPerRow:Q,monthsPerRow:K,timezone:te}=o,ce=Ht(o,Aat),{value:ie,handleValueChange:re,timezone:he}=Nx({name:"DateCalendar",timezone:te,value:l,defaultValue:c,referenceDate:u,onChange:p,valueManager:Oi}),{view:fe,setView:ne,focusedView:pe,setFocusedView:W,goToNextView:se,setValueAndGoToNextView:ae}=p2({view:_,views:E,openTo:T,onChange:re,onViewChange:a,autoFocus:s,focusedView:j,onFocusedViewChange:M}),{referenceDate:X,calendarState:Z,changeFocusedDay:oe,changeMonth:ge,handleChangeMonth:be,isDateDisabled:de,onMonthSwitchingAnimationEnd:Re}=lst({value:ie,referenceDate:u,reduceAnimations:v,onMonthChange:m,minDate:D,maxDate:F,shouldDisableDate:b,disablePast:f,disableFuture:d,timezone:he}),xe=A&&ie||D,ue=A&&ie||F,we=`${i}-grid-label`,Oe=pe!==null,ke=(q==null?void 0:q.calendarHeader)??Tat,Ie=pn({elementType:ke,externalSlotProps:U==null?void 0:U.calendarHeader,additionalProps:{views:E,view:fe,currentMonth:Z.currentMonth,onViewChange:ne,onMonthChange:(Et,Wt)=>be({newMonth:Et,direction:Wt}),minDate:xe,maxDate:ue,disabled:A,disablePast:f,disableFuture:d,reduceAnimations:v,timezone:he,labelId:we},ownerState:o}),ve=mt(Et=>{const Wt=r.startOfMonth(Et),vn=r.endOfMonth(Et),It=de(Et)?YC({utils:r,date:Et,minDate:r.isBefore(D,Wt)?Wt:D,maxDate:r.isAfter(F,vn)?vn:F,disablePast:f,disableFuture:d,isDateDisabled:de,timezone:he}):Et;It?(ae(It,"finish"),m==null||m(Wt)):(se(),ge(Wt)),oe(It,!0)}),_e=mt(Et=>{const Wt=r.startOfYear(Et),vn=r.endOfYear(Et),It=de(Et)?YC({utils:r,date:Et,minDate:r.isBefore(D,Wt)?Wt:D,maxDate:r.isAfter(F,vn)?vn:F,disablePast:f,disableFuture:d,isDateDisabled:de,timezone:he}):Et;It?(ae(It,"finish"),g==null||g(It)):(se(),ge(Wt)),oe(It,!0)}),$e=mt(Et=>re(Et&&sO(r,Et,ie??X),"finish",fe));O.useEffect(()=>{ie!=null&&r.isValid(ie)&&ge(ie)},[ie]);const De=o,ot=Oat(De),Me={disablePast:f,disableFuture:d,maxDate:F,minDate:D},ze={disableHighlightToday:I,readOnly:P,disabled:A,timezone:he,gridLabelId:we,slots:q,slotProps:U},Qe=O.useRef(fe);O.useEffect(()=>{Qe.current!==fe&&(pe===Qe.current&&W(fe,!0),Qe.current=fe)},[pe,W,fe]);const Rt=O.useMemo(()=>[ie],[ie]);return x.jsxs(Pat,me({ref:n,className:Ne(ot.root,k),ownerState:De},ce,{children:[x.jsx(ke,me({},Ie,{slots:q,slotProps:U})),x.jsx(Iat,{reduceAnimations:v,className:ot.viewTransitionContainer,transKey:fe,ownerState:De,children:x.jsxs("div",{children:[fe==="year"&&x.jsx(lat,me({},Me,ze,{value:ie,onChange:_e,shouldDisableYear:C,hasFocus:Oe,onFocusedViewChange:Et=>W("year",Et),yearsOrder:Y,yearsPerRow:Q,referenceDate:X})),fe==="month"&&x.jsx(Kst,me({},Me,ze,{hasFocus:Oe,className:k,value:ie,onChange:ve,shouldDisableMonth:S,onFocusedViewChange:Et=>W("month",Et),monthsPerRow:K,referenceDate:X})),fe==="day"&&x.jsx(Lst,me({},Z,Me,ze,{onMonthSwitchingAnimationEnd:Re,onFocusedDayChange:oe,reduceAnimations:v,selectedDays:Rt,onSelectedDaysChange:$e,shouldDisableDate:b,shouldDisableMonth:S,shouldDisableYear:C,hasFocus:Oe,onFocusedViewChange:Et=>W("day",Et),showDaysOutsideCurrentMonth:$,fixedWeekNumber:L,dayOfWeekFormatter:V,displayWeekNumber:G,loading:z,renderLoading:B}))]})})]}))}),oc=({view:e,onViewChange:t,views:n,focusedView:r,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:m,shouldDisableMonth:v,shouldDisableYear:b,reduceAnimations:S,onMonthChange:C,monthsPerRow:_,onYearChange:E,yearsOrder:T,yearsPerRow:k,slots:A,slotProps:P,loading:D,renderLoading:F,disableHighlightToday:I,readOnly:j,disabled:M,showDaysOutsideCurrentMonth:$,dayOfWeekFormatter:L,sx:V,autoFocus:q,fixedWeekNumber:U,displayWeekNumber:z,timezone:B})=>x.jsx($at,{view:e,onViewChange:t,views:n.filter(_1),focusedView:r&&_1(r)?r:null,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:m,shouldDisableMonth:v,shouldDisableYear:b,reduceAnimations:S,onMonthChange:C,monthsPerRow:_,onYearChange:E,yearsOrder:T,yearsPerRow:k,slots:A,slotProps:P,loading:D,renderLoading:F,disableHighlightToday:I,readOnly:j,disabled:M,showDaysOutsideCurrentMonth:$,dayOfWeekFormatter:L,sx:V,autoFocus:q,fixedWeekNumber:U,displayWeekNumber:z,timezone:B}),tye=O.forwardRef(function(t,n){var c,u;const r=Ki(),i=In(),o=T0e(t,"MuiDesktopDatePicker"),s=me({day:oc,month:oc,year:oc},o.viewRenderers),a=me({},o,{viewRenderers:s,format:$_(i,o,!1),yearsPerRow:o.yearsPerRow??4,slots:me({openPickerIcon:z0e,field:Y0e},o.slots),slotProps:me({},o.slotProps,{field:d=>{var f;return me({},sp((f=o.slotProps)==null?void 0:f.field,d),Fx(o),{ref:n})},toolbar:me({hidden:!0},(c=o.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=RU({props:a,valueManager:Oi,valueType:"date",getOpenDialogAriaText:Ix({utils:i,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(u=a.localeText)==null?void 0:u.openDatePickerDialogue}),validator:$x});return l()});tye.propTypes={autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:kx,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,minDate:ee.object,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","month","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","month","year"]),viewRenderers:ee.shape({day:ee.func,month:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","month","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const Fat=ye(Ri)({[`& .${HC.container}`]:{outline:0},[`& .${HC.paper}`]:{outline:0,minWidth:dI}}),Nat=ye(Ma)({"&:first-of-type":{padding:0}});function Lat(e){const{children:t,onDismiss:n,open:r,slots:i,slotProps:o}=e,s=(i==null?void 0:i.dialog)??Fat,a=(i==null?void 0:i.mobileTransition)??og;return x.jsx(s,me({open:r,onClose:n},o==null?void 0:o.dialog,{TransitionComponent:a,TransitionProps:o==null?void 0:o.mobileTransition,PaperComponent:i==null?void 0:i.mobilePaper,PaperProps:o==null?void 0:o.mobilePaper,children:x.jsx(Nat,{children:t})}))}const jat=["props","getOpenDialogAriaText"],$U=e=>{var B;let{props:t,getOpenDialogAriaText:n}=e,r=Ht(e,jat);const{slots:i,slotProps:o,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:f,timezone:p,name:g,label:m,inputRef:v,readOnly:b,disabled:S,localeText:C}=t,_=O.useRef(null),E=Cl(),T=((B=o==null?void 0:o.toolbar)==null?void 0:B.hidden)??!1,{open:k,actions:A,layoutProps:P,renderCurrentView:D,fieldProps:F,contextValue:I}=D0e(me({},r,{props:t,fieldRef:_,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),j=i.field,M=pn({elementType:j,externalSlotProps:o==null?void 0:o.field,additionalProps:me({},F,T&&{id:E},!(S||b)&&{onClick:A.onOpen,onKeyDown:git(A.onOpen)},{readOnly:b??!0,disabled:S,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:f,timezone:p,label:m,name:g},v?{inputRef:v}:{}),ownerState:t});M.inputProps=me({},M.inputProps,{"aria-label":n(F.value)});const $=me({textField:i.textField},M.slots),L=i.layout??L0e;let V=E;T&&(m?V=`${E}-label`:V=void 0);const q=me({},o,{toolbar:me({},o==null?void 0:o.toolbar,{titleId:E}),mobilePaper:me({"aria-labelledby":V},o==null?void 0:o.mobilePaper)}),U=Ln(_,M.unstableFieldRef);return{renderPicker:()=>x.jsxs(j0e,{contextValue:I,localeText:C,children:[x.jsx(j,me({},M,{slots:$,slotProps:q,unstableFieldRef:U})),x.jsx(Lat,me({},A,{open:k,slots:i,slotProps:q,children:x.jsx(L,me({},P,q==null?void 0:q.layout,{slots:i,slotProps:q,children:D()}))}))]})}},nye=O.forwardRef(function(t,n){var c,u;const r=Ki(),i=In(),o=T0e(t,"MuiMobileDatePicker"),s=me({day:oc,month:oc,year:oc},o.viewRenderers),a=me({},o,{viewRenderers:s,format:$_(i,o,!1),slots:me({field:Y0e},o.slots),slotProps:me({},o.slotProps,{field:d=>{var f;return me({},sp((f=o.slotProps)==null?void 0:f.field,d),Fx(o),{ref:n})},toolbar:me({hidden:!1},(c=o.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=$U({props:a,valueManager:Oi,valueType:"date",getOpenDialogAriaText:Ix({utils:i,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(u=a.localeText)==null?void 0:u.openDatePickerDialogue}),validator:$x});return l()});nye.propTypes={autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:kx,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,minDate:ee.object,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","month","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","month","year"]),viewRenderers:ee.shape({day:ee.func,month:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","month","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const zat=["desktopModeMediaQuery"],Bat=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=EU}=r,o=Ht(r,zat);return lg(i,{defaultMatches:!0})?x.jsx(tye,me({ref:n},o)):x.jsx(nye,me({ref:n},o))}),Uat=e=>{const t=bot(e),{forwardedProps:n,internalProps:r}=AU(t,"date-time");return TU({forwardedProps:n,internalProps:r,valueManager:Oi,fieldValueManager:CU,validator:cI,valueType:"date-time"})},Hat=["slots","slotProps","InputProps","inputProps"],rye=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiDateTimeField"}),{slots:i,slotProps:o,InputProps:s,inputProps:a}=r,l=Ht(r,Hat),c=r,u=(i==null?void 0:i.textField)??(t.enableAccessibleFieldDOMStructure?PU:Ir),d=pn({elementType:u,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:n}});d.inputProps=me({},a,d.inputProps),d.InputProps=me({},s,d.InputProps);const f=Uat(d),p=IU(f),g=MU(me({},p,{slots:i,slotProps:o}));return x.jsx(u,me({},g))});function Vat(e){return et("MuiDateTimePickerTabs",e)}nt("MuiDateTimePickerTabs",["root"]);const Wat=e=>_1(e)?"date":"time",qat=e=>e==="date"?"day":"hours",Gat=e=>{const{classes:t}=e;return Ke({root:["root"]},Vat,t)},Yat=ye(hKe,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${IM.indicator}`]:{bottom:"auto",top:0}}})),Xat=function(t){const n=wn({props:t,name:"MuiDateTimePickerTabs"}),{dateIcon:r=x.jsx(Jit,{}),onViewChange:i,timeIcon:o=x.jsx(eot,{}),view:s,hidden:a=typeof window>"u"||window.innerHeight<667,className:l,sx:c}=n,u=Ki(),d=Gat(n),f=(p,g)=>{i(qat(g))};return a?null:x.jsxs(Yat,{ownerState:n,variant:"fullWidth",value:Wat(s),onChange:f,className:Ne(l,d.root),sx:c,children:[x.jsx(ine,{value:"date","aria-label":u.dateTableLabel,icon:x.jsx(O.Fragment,{children:r})}),x.jsx(ine,{value:"time","aria-label":u.timeTableLabel,icon:x.jsx(O.Fragment,{children:o})})]})};function Kat(e){return et("MuiPickersToolbarText",e)}const F6=nt("MuiPickersToolbarText",["root","selected"]),Qat=["className","selected","value"],Zat=e=>{const{classes:t,selected:n}=e;return Ke({root:["root",n&&"selected"]},Kat,t)},Jat=ye(it,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${F6.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${F6.selected}`]:{color:(e.vars||e).palette.text.primary}})),FU=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersToolbarText"}),{className:i,value:o}=r,s=Ht(r,Qat),a=Zat(r);return x.jsx(Jat,me({ref:n,className:Ne(a.root,i),component:"span"},s,{children:o}))}),elt=["align","className","selected","typographyClassName","value","variant","width"],tlt=e=>{const{classes:t}=e;return Ke({root:["root"]},R0e,t)},nlt=ye(Ft,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),Ha=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiPickersToolbarButton"}),{align:i,className:o,selected:s,typographyClassName:a,value:l,variant:c,width:u}=r,d=Ht(r,elt),f=tlt(r);return x.jsx(nlt,me({variant:"text",ref:n,className:Ne(f.root,o)},u?{sx:{width:u}}:{},d,{children:x.jsx(FU,{align:i,className:a,variant:c,value:l,selected:s})}))});function rlt(e){return et("MuiDateTimePickerToolbar",e)}const CL=nt("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),ilt=["ampm","ampmInClock","value","onChange","view","isLandscape","onViewChange","toolbarFormat","toolbarPlaceholder","views","disabled","readOnly","toolbarVariant","toolbarTitle","className"],olt=e=>{const{classes:t,isLandscape:n,isRtl:r}=e;return Ke({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",r&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",r&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]},rlt,t)},slt=ye(_U,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${nit.content} .${F6.selected}`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",isLandscape:!0},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{paddingLeft:24,paddingRight:0}}]})),alt=ye("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(e,t)=>t.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),llt=ye("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(e,t)=>t.timeContainer})({display:"flex",flexDirection:"row",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({isLandscape:e,toolbarVariant:t})=>e&&t!=="desktop",style:{flexDirection:"column"}},{props:({isLandscape:e,toolbarVariant:t,isRtl:n})=>e&&t!=="desktop"&&n,style:{flexDirection:"column-reverse"}}]}),clt=ye("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",overridesResolver:(e,t)=>t.timeDigitsContainer})({display:"flex",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),Dre=ye(FU,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),ult=ye("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${CL.ampmLabel}`]:t.ampmLabel},{[`&.${CL.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${CL.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]});function dlt(e){const t=wn({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:i,onChange:o,view:s,isLandscape:a,onViewChange:l,toolbarFormat:c,toolbarPlaceholder:u="",views:d,disabled:f,readOnly:p,toolbarVariant:g="mobile",toolbarTitle:m,className:v}=t,b=Ht(t,ilt),S=Pi(),C=me({},t,{isRtl:S}),_=In(),{meridiemMode:E,handleMeridiemChange:T}=hI(i,n,o),k=!!(n&&!r),A=g==="desktop",P=Ki(),D=olt(C),F=m??P.dateTimePickerToolbarTitle,I=M=>n?_.format(M,"hours12h"):_.format(M,"hours24h"),j=O.useMemo(()=>i?c?_.formatByString(i,c):_.format(i,"shortDate"):u,[i,c,u,_]);return x.jsxs(slt,me({isLandscape:a,className:Ne(D.root,v),toolbarTitle:F},b,{ownerState:C,children:[x.jsxs(alt,{className:D.dateContainer,ownerState:C,children:[d.includes("year")&&x.jsx(Ha,{tabIndex:-1,variant:"subtitle1",onClick:()=>l("year"),selected:s==="year",value:i?_.format(i,"year"):""}),d.includes("day")&&x.jsx(Ha,{tabIndex:-1,variant:A?"h5":"h4",onClick:()=>l("day"),selected:s==="day",value:j})]}),x.jsxs(llt,{className:D.timeContainer,ownerState:C,children:[x.jsxs(clt,{className:D.timeDigitsContainer,ownerState:C,children:[d.includes("hours")&&x.jsxs(O.Fragment,{children:[x.jsx(Ha,{variant:A?"h5":"h3",width:A&&!a?cC:void 0,onClick:()=>l("hours"),selected:s==="hours",value:i?I(i):"--"}),x.jsx(Dre,{variant:A?"h5":"h3",value:":",className:D.separator,ownerState:C}),x.jsx(Ha,{variant:A?"h5":"h3",width:A&&!a?cC:void 0,onClick:()=>l("minutes"),selected:s==="minutes"||!d.includes("minutes")&&s==="hours",value:i?_.format(i,"minutes"):"--",disabled:!d.includes("minutes")})]}),d.includes("seconds")&&x.jsxs(O.Fragment,{children:[x.jsx(Dre,{variant:A?"h5":"h3",value:":",className:D.separator,ownerState:C}),x.jsx(Ha,{variant:A?"h5":"h3",width:A&&!a?cC:void 0,onClick:()=>l("seconds"),selected:s==="seconds",value:i?_.format(i,"seconds"):"--"})]})]}),k&&!A&&x.jsxs(ult,{className:D.ampmSelection,ownerState:C,children:[x.jsx(Ha,{variant:"subtitle2",selected:E==="am",typographyClassName:D.ampmLabel,value:Qc(_,"am"),onClick:p?void 0:()=>T("am"),disabled:f}),x.jsx(Ha,{variant:"subtitle2",selected:E==="pm",typographyClassName:D.ampmLabel,value:Qc(_,"pm"),onClick:p?void 0:()=>T("pm"),disabled:f})]}),n&&A&&x.jsx(Ha,{variant:"h5",onClick:()=>l("meridiem"),selected:s==="meridiem",value:i&&E?Qc(_,E):"--",width:cC})]})]}))}function iye(e,t){var a;const n=In(),r=xy(),i=wn({props:e,name:t}),o=i.ampm??n.is12HourCycleInCurrentLocale(),s=O.useMemo(()=>{var l;return((l=i.localeText)==null?void 0:l.toolbarTitle)==null?i.localeText:me({},i.localeText,{dateTimePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return me({},i,vU({views:i.views,openTo:i.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{ampm:o,localeText:s,orientation:i.orientation??"portrait",disableIgnoringDatePartForTimeValidation:i.disableIgnoringDatePartForTimeValidation??!!(i.minDateTime||i.maxDateTime||i.disablePast||i.disableFuture),disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:gs(n,i.minDateTime??i.minDate,r.minDate),maxDate:gs(n,i.maxDateTime??i.maxDate,r.maxDate),minTime:i.minDateTime??i.minTime,maxTime:i.maxDateTime??i.maxTime,slots:me({toolbar:dlt,tabs:Xat},i.slots),slotProps:me({},i.slotProps,{toolbar:me({ampm:o},(a=i.slotProps)==null?void 0:a.toolbar)})})}const flt=["views","format"],oye=(e,t,n)=>{let{views:r,format:i}=t,o=Ht(t,flt);if(i)return i;const s=[],a=[];if(r.forEach(u=>{E1(u)?a.push(u):_1(u)&&s.push(u)}),a.length===0)return $_(e,me({views:s},o),!1);if(s.length===0)return aO(e,me({views:a},o));const l=aO(e,me({views:a},o));return`${$_(e,me({views:s},o),!1)} ${l}`},plt=(e,t,n)=>n?t.filter(r=>!lC(r)||r==="hours"):e?[...t,"meridiem"]:t,hlt=(e,t)=>24*60/((e.hours??1)*(e.minutes??5))<=t;function sye({thresholdToRenderTimeInASingleColumn:e,ampm:t,timeSteps:n,views:r}){const i=e??24,o=me({hours:1,minutes:5,seconds:5},n),s=hlt(o,i);return{thresholdToRenderTimeInASingleColumn:i,timeSteps:o,shouldRenderTimeInASingleColumn:s,views:plt(t,r,s)}}function glt(e){return et("MuiTimeClock",e)}nt("MuiTimeClock",["root","arrowSwitcher"]);const k1=220,Uf=36,L_={x:k1/2,y:k1/2},aye={x:L_.x,y:0},mlt=aye.x-L_.x,ylt=aye.y-L_.y,vlt=e=>e*(180/Math.PI),lye=(e,t,n)=>{const r=t-L_.x,i=n-L_.y,o=Math.atan2(mlt,ylt)-Math.atan2(r,i);let s=vlt(o);s=Math.round(s/e)*e,s%=360;const a=Math.floor(s/e)||0,l=r**2+i**2,c=Math.sqrt(l);return{value:a,distance:c}},blt=(e,t,n=1)=>{const r=n*6;let{value:i}=lye(r,e,t);return i=i*n%60,i},xlt=(e,t,n)=>{const{value:r,distance:i}=lye(30,e,t);let o=r||12;return n?o%=12:i<k1/2-Uf&&(o+=12,o%=24),o};function Slt(e){return et("MuiClockPointer",e)}nt("MuiClockPointer",["root","thumb"]);const wlt=["className","hasSelected","isInner","type","viewValue"],Clt=e=>{const{classes:t}=e;return Ke({root:["root"],thumb:["thumb"]},Slt,t)},_lt=ye("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),Elt=ye("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Uf/2}px)`,border:`${(Uf-4)/2}px solid ${(e.vars||e).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function klt(e){const t=wn({props:e,name:"MuiClockPointer"}),{className:n,isInner:r,type:i,viewValue:o}=t,s=Ht(t,wlt),a=O.useRef(i);O.useEffect(()=>{a.current=i},[i]);const l=me({},t,{shouldAnimate:a.current!==i}),c=Clt(l),u=()=>{let f=360/(i==="hours"?12:60)*o;return i==="hours"&&o>12&&(f-=360),{height:Math.round((r?.26:.4)*k1),transform:`rotateZ(${f}deg)`}};return x.jsx(_lt,me({style:u(),className:Ne(c.root,n),ownerState:l},s,{children:x.jsx(Elt,{ownerState:l,className:c.thumb})}))}function Rlt(e){return et("MuiClock",e)}nt("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const Tlt=e=>{const{classes:t,meridiemMode:n}=e;return Ke({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",n==="am"&&"selected"],pmButton:["pmButton",n==="pm"&&"selected"],meridiemText:["meridiemText"]},Rlt,t)},Mlt=ye("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),Alt=ye("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Olt=ye("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({"&:focus":{outline:"none"}}),Dlt=ye("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,t)=>t.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Plt=ye("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,t)=>t.pin})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),cye=(e,t)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Uf,variants:[{props:{meridiemMode:t},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),Ilt=ye(sn,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,t)=>t.amButton})(({theme:e})=>me({},cye(e,"am"),{position:"absolute",left:8})),$lt=ye(sn,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,t)=>t.pmButton})(({theme:e})=>me({},cye(e,"pm"),{position:"absolute",right:8})),Pre=ye(it,{name:"MuiClock",slot:"meridiemText",overridesResolver:(e,t)=>t.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function Flt(e){const t=wn({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:i,children:o,value:s,handleMeridiemChange:a,isTimeDisabled:l,meridiemMode:c,minutesStep:u=1,onChange:d,selectedId:f,type:p,viewValue:g,viewRange:[m,v],disabled:b=!1,readOnly:S,className:C}=t,_=t,E=In(),T=Ki(),k=O.useRef(!1),A=Tlt(_),P=l(g,p),D=!n&&p==="hours"&&(g<1||g>12),F=(Y,Q)=>{b||S||l(Y,p)||d(Y,Q)},I=(Y,Q)=>{let{offsetX:K,offsetY:te}=Y;if(K===void 0){const ie=Y.target.getBoundingClientRect();K=Y.changedTouches[0].clientX-ie.left,te=Y.changedTouches[0].clientY-ie.top}const ce=p==="seconds"||p==="minutes"?blt(K,te,u):xlt(K,te,!!n);F(ce,Q)},j=Y=>{k.current=!0,I(Y,"shallow")},M=Y=>{k.current&&(I(Y,"finish"),k.current=!1),Y.preventDefault()},$=Y=>{Y.buttons>0&&I(Y.nativeEvent,"shallow")},L=Y=>{k.current&&(k.current=!1),I(Y.nativeEvent,"finish")},V=O.useMemo(()=>p==="hours"?!0:g%5===0,[p,g]),q=p==="minutes"?u:1,U=O.useRef(null);li(()=>{i&&U.current.focus()},[i]);const z=Y=>Math.max(m,Math.min(v,Y)),B=Y=>(Y+(v+1))%(v+1),G=Y=>{if(!k.current)switch(Y.key){case"Home":F(m,"partial"),Y.preventDefault();break;case"End":F(v,"partial"),Y.preventDefault();break;case"ArrowUp":F(B(g+q),"partial"),Y.preventDefault();break;case"ArrowDown":F(B(g-q),"partial"),Y.preventDefault();break;case"PageUp":F(z(g+5),"partial"),Y.preventDefault();break;case"PageDown":F(z(g-5),"partial"),Y.preventDefault();break;case"Enter":case" ":F(g,"finish"),Y.preventDefault();break}};return x.jsxs(Mlt,{className:Ne(A.root,C),children:[x.jsxs(Alt,{className:A.clock,children:[x.jsx(Dlt,{onTouchMove:j,onTouchStart:j,onTouchEnd:M,onMouseUp:L,onMouseMove:$,ownerState:{disabled:b},className:A.squareMask}),!P&&x.jsxs(O.Fragment,{children:[x.jsx(Plt,{className:A.pin}),s!=null&&x.jsx(klt,{type:p,viewValue:g,isInner:D,hasSelected:V})]}),x.jsx(Olt,{"aria-activedescendant":f,"aria-label":T.clockLabelText(p,s,E,s==null?null:E.format(s,"fullTime")),ref:U,role:"listbox",onKeyDown:G,tabIndex:0,className:A.wrapper,children:o})]}),n&&r&&x.jsxs(O.Fragment,{children:[x.jsx(Ilt,{onClick:S?void 0:()=>a("am"),disabled:b||c===null,ownerState:_,className:A.amButton,title:Qc(E,"am"),children:x.jsx(Pre,{variant:"caption",className:A.meridiemText,children:Qc(E,"am")})}),x.jsx($lt,{disabled:b||c===null,onClick:S?void 0:()=>a("pm"),ownerState:_,className:A.pmButton,title:Qc(E,"pm"),children:x.jsx(Pre,{variant:"caption",className:A.meridiemText,children:Qc(E,"pm")})})]})]})}function Nlt(e){return et("MuiClockNumber",e)}const gT=nt("MuiClockNumber",["root","selected","disabled"]),Llt=["className","disabled","index","inner","label","selected"],jlt=e=>{const{classes:t,selected:n,disabled:r}=e;return Ke({root:["root",n&&"selected",r&&"disabled"]},Nlt,t)},zlt=ye("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${gT.disabled}`]:t.disabled},{[`&.${gT.selected}`]:t.selected}]})(({theme:e})=>({height:Uf,width:Uf,position:"absolute",left:`calc((100% - ${Uf}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},[`&.${gT.selected}`]:{color:(e.vars||e).palette.primary.contrastText},[`&.${gT.disabled}`]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{inner:!0},style:me({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function uye(e){const t=wn({props:e,name:"MuiClockNumber"}),{className:n,disabled:r,index:i,inner:o,label:s,selected:a}=t,l=Ht(t,Llt),c=t,u=jlt(c),d=i%12/12*Math.PI*2-Math.PI/2,f=(k1-Uf-2)/2*(o?.65:1),p=Math.round(Math.cos(d)*f),g=Math.round(Math.sin(d)*f);return x.jsx(zlt,me({className:Ne(u.root,n),"aria-disabled":r?!0:void 0,"aria-selected":a?!0:void 0,role:"option",style:{transform:`translate(${p}px, ${g+(k1-Uf)/2}px`},ownerState:c},l,{children:s}))}const Blt=({ampm:e,value:t,getClockNumberText:n,isDisabled:r,selectedId:i,utils:o})=>{const s=t?o.getHours(t):null,a=[],l=e?1:0,c=e?12:23,u=d=>s===null?!1:e?d===12?s===12||s===0:s===d||s-12===d:s===d;for(let d=l;d<=c;d+=1){let f=d.toString();d===0&&(f="00");const p=!e&&(d===0||d>12);f=o.formatNumber(f);const g=u(d);a.push(x.jsx(uye,{id:g?i:void 0,index:d,inner:p,selected:g,disabled:r(d),label:f,"aria-label":n(f)},d))}return a},Ire=({utils:e,value:t,isDisabled:n,getClockNumberText:r,selectedId:i})=>{const o=e.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([s,a],l)=>{const c=s===t;return x.jsx(uye,{label:a,id:c?i:void 0,index:l+1,inner:!1,disabled:n(s),selected:c,"aria-label":r(a)},s)})},NU=({value:e,referenceDate:t,utils:n,props:r,timezone:i})=>{const o=O.useMemo(()=>Oi.getInitialReferenceValue({value:e,utils:n,props:r,referenceDate:t,granularity:Gc.day,timezone:i,getTodayDate:()=>xU(n,i,"date")}),[]);return e??o},Ult=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],Hlt=e=>{const{classes:t}=e;return Ke({root:["root"],arrowSwitcher:["arrowSwitcher"]},glt,t)},Vlt=ye(gI,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),Wlt=ye(eye,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),qlt=["hours","minutes"],Glt=O.forwardRef(function(t,n){const r=In(),i=wn({props:t,name:"MuiTimeClock"}),{ampm:o=r.is12HourCycleInCurrentLocale(),ampmInClock:s=!1,autoFocus:a,slots:l,slotProps:c,value:u,defaultValue:d,referenceDate:f,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:g,minTime:m,disableFuture:v,disablePast:b,minutesStep:S=1,shouldDisableTime:C,showViewSwitcher:_,onChange:E,view:T,views:k=qlt,openTo:A,onViewChange:P,focusedView:D,onFocusedViewChange:F,className:I,disabled:j,readOnly:M,timezone:$}=i,L=Ht(i,Ult),{value:V,handleValueChange:q,timezone:U}=Nx({name:"TimeClock",timezone:$,value:u,defaultValue:d,referenceDate:f,onChange:E,valueManager:Oi}),z=NU({value:V,referenceDate:f,utils:r,props:i,timezone:U}),B=Ki(),G=Sy(U),{view:Y,setView:Q,previousView:K,nextView:te,setValueAndGoToNextView:ce}=p2({view:T,views:k,openTo:A,onViewChange:P,onChange:q,focusedView:D,onFocusedViewChange:F}),{meridiemMode:ie,handleMeridiemChange:re}=hI(z,o,ce),he=O.useCallback((se,ae)=>{const X=d2(p,r),Z=ae==="hours"||ae==="minutes"&&k.includes("seconds"),oe=({start:be,end:de})=>!(m&&X(m,de)||g&&X(be,g)||v&&X(be,G)||b&&X(G,Z?de:be)),ge=(be,de=1)=>{if(be%de!==0)return!1;if(C)switch(ae){case"hours":return!C(r.setHours(z,be),"hours");case"minutes":return!C(r.setMinutes(z,be),"minutes");case"seconds":return!C(r.setSeconds(z,be),"seconds");default:return!1}return!0};switch(ae){case"hours":{const be=F_(se,ie,o),de=r.setHours(z,be);if(r.getHours(de)!==be)return!0;const Re=r.setSeconds(r.setMinutes(de,0),0),xe=r.setSeconds(r.setMinutes(de,59),59);return!oe({start:Re,end:xe})||!ge(be)}case"minutes":{const be=r.setMinutes(z,se),de=r.setSeconds(be,0),Re=r.setSeconds(be,59);return!oe({start:de,end:Re})||!ge(se,S)}case"seconds":{const be=r.setSeconds(z,se);return!oe({start:be,end:be})||!ge(se)}default:throw new Error("not supported")}},[o,z,p,g,ie,m,S,C,r,v,b,G,k]),fe=Cl(),ne=O.useMemo(()=>{switch(Y){case"hours":{const se=(Z,oe)=>{const ge=F_(Z,ie,o);ce(r.setHours(z,ge),oe,"hours")},ae=r.getHours(z);let X;return o?ae>12?X=[12,23]:X=[0,11]:X=[0,23],{onChange:se,viewValue:ae,children:Blt({value:V,utils:r,ampm:o,getClockNumberText:B.hoursClockNumberText,isDisabled:Z=>j||he(Z,"hours"),selectedId:fe}),viewRange:X}}case"minutes":{const se=r.getMinutes(z);return{viewValue:se,onChange:(X,Z)=>{ce(r.setMinutes(z,X),Z,"minutes")},children:Ire({utils:r,value:se,getClockNumberText:B.minutesClockNumberText,isDisabled:X=>j||he(X,"minutes"),selectedId:fe}),viewRange:[0,59]}}case"seconds":{const se=r.getSeconds(z);return{viewValue:se,onChange:(X,Z)=>{ce(r.setSeconds(z,X),Z,"seconds")},children:Ire({utils:r,value:se,getClockNumberText:B.secondsClockNumberText,isDisabled:X=>j||he(X,"seconds"),selectedId:fe}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[Y,r,V,o,B.hoursClockNumberText,B.minutesClockNumberText,B.secondsClockNumberText,ie,ce,z,he,fe,j]),pe=i,W=Hlt(pe);return x.jsxs(Vlt,me({ref:n,className:Ne(W.root,I),ownerState:pe},L,{children:[x.jsx(Flt,me({autoFocus:a??!!D,ampmInClock:s&&k.includes("hours"),value:V,type:Y,ampm:o,minutesStep:S,isTimeDisabled:he,meridiemMode:ie,handleMeridiemChange:re,selectedId:fe,disabled:j,readOnly:M},ne)),_&&x.jsx(Wlt,{className:W.arrowSwitcher,slots:l,slotProps:c,onGoToPrevious:()=>Q(K),isPreviousDisabled:!K,previousLabel:B.openPreviousView,onGoToNext:()=>Q(te),isNextDisabled:!te,nextLabel:B.openNextView,ownerState:pe})]}))});function Ylt(e){return et("MuiDigitalClock",e)}const Xlt=nt("MuiDigitalClock",["root","list","item"]),Klt=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],Qlt=e=>{const{classes:t}=e;return Ke({root:["root"],list:["list"],item:["item"]},Ylt,t)},Zlt=ye(gI,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:I0e,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Jlt=ye(o2,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,t)=>t.list})({padding:0}),ect=ye(ir,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(e,t)=>t.item})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:_t(e.palette.primary.main,e.palette.action.focusOpacity)}})),tct=O.forwardRef(function(t,n){const r=In(),i=O.useRef(null),o=Ln(n,i),s=O.useRef(null),a=wn({props:t,name:"MuiDigitalClock"}),{ampm:l=r.is12HourCycleInCurrentLocale(),timeStep:c=30,autoFocus:u,slots:d,slotProps:f,value:p,defaultValue:g,referenceDate:m,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:b,minTime:S,disableFuture:C,disablePast:_,minutesStep:E=1,shouldDisableTime:T,onChange:k,view:A,openTo:P,onViewChange:D,focusedView:F,onFocusedViewChange:I,className:j,disabled:M,readOnly:$,views:L=["hours"],skipDisabled:V=!1,timezone:q}=a,U=Ht(a,Klt),{value:z,handleValueChange:B,timezone:G}=Nx({name:"DigitalClock",timezone:q,value:p,defaultValue:g,referenceDate:m,onChange:k,valueManager:Oi}),Y=Ki(),Q=Sy(G),K=O.useMemo(()=>me({},a,{alreadyRendered:!!i.current}),[a]),te=Qlt(K),ce=(d==null?void 0:d.digitalClockItem)??ect,ie=pn({elementType:ce,externalSlotProps:f==null?void 0:f.digitalClockItem,ownerState:{},className:te.item}),re=NU({value:z,referenceDate:m,utils:r,props:a,timezone:G}),he=mt(X=>B(X,"finish","hours")),{setValueAndGoToNextView:fe}=p2({view:A,views:L,openTo:P,onViewChange:D,onChange:he,focusedView:F,onFocusedViewChange:I}),ne=mt(X=>{fe(X,"finish")});O.useEffect(()=>{if(i.current===null)return;const X=i.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!X)return;const Z=X.offsetTop;(u||F)&&X.focus(),i.current.scrollTop=Z-4});const pe=O.useCallback(X=>{const Z=d2(v,r),oe=()=>!(S&&Z(S,X)||b&&Z(X,b)||C&&Z(X,Q)||_&&Z(Q,X)),ge=()=>r.getMinutes(X)%E!==0?!1:T?!T(X,"hours"):!0;return!oe()||!ge()},[v,r,S,b,C,Q,_,E,T]),W=O.useMemo(()=>{const X=[];let oe=r.startOfDay(re);for(;r.isSameDay(re,oe);)X.push(oe),oe=r.addMinutes(oe,c);return X},[re,c,r]),se=W.findIndex(X=>r.isEqual(X,re)),ae=X=>{switch(X.key){case"PageUp":{const Z=lO(s.current)-5,oe=s.current.children,ge=Math.max(0,Z),be=oe[ge];be&&be.focus(),X.preventDefault();break}case"PageDown":{const Z=lO(s.current)+5,oe=s.current.children,ge=Math.min(oe.length-1,Z),be=oe[ge];be&&be.focus(),X.preventDefault();break}}};return x.jsx(Zlt,me({ref:o,className:Ne(te.root,j),ownerState:K},U,{children:x.jsx(Jlt,{ref:s,role:"listbox","aria-label":Y.timePickerToolbarTitle,className:te.list,onKeyDown:ae,children:W.map((X,Z)=>{if(V&&pe(X))return null;const oe=r.isEqual(X,z),ge=r.format(X,l?"fullTime12h":"fullTime24h"),be=se===Z||se===-1&&Z===0?0:-1;return x.jsx(ce,me({onClick:()=>!$&&ne(X),selected:oe,disabled:M||pe(X),disableRipple:$,role:"option","aria-disabled":$,"aria-selected":oe,tabIndex:be},ie,{children:ge}),`${X.valueOf()}-${ge}`)})})}))});function nct(e){return et("MuiMultiSectionDigitalClock",e)}const $re=nt("MuiMultiSectionDigitalClock",["root"]);function rct(e){return et("MuiMultiSectionDigitalClockSection",e)}const ict=nt("MuiMultiSectionDigitalClockSection",["root","item"]),oct=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],sct=e=>{const{classes:t}=e;return Ke({root:["root"],item:["item"]},rct,t)},act=ye(o2,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({maxHeight:I0e,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),lct=ye(ir,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,t)=>t.item})(({theme:e})=>({padding:8,margin:"2px 4px",width:cC,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_t(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:_t(e.palette.primary.main,e.palette.action.focusOpacity)}})),cct=O.forwardRef(function(t,n){const r=O.useRef(null),i=Ln(n,r),o=O.useRef(null),s=wn({props:t,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:a,onChange:l,className:c,disabled:u,readOnly:d,items:f,active:p,slots:g,slotProps:m,skipDisabled:v}=s,b=Ht(s,oct),S=O.useMemo(()=>me({},s,{alreadyRendered:!!r.current}),[s]),C=sct(S),_=(g==null?void 0:g.digitalClockSectionItem)??lct;O.useEffect(()=>{if(r.current===null)return;const k=r.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(p&&a&&k&&k.focus(),!k||o.current===k)return;o.current=k;const A=k.offsetTop;r.current.scrollTop=A-4});const E=f.findIndex(k=>k.isFocused(k.value)),T=k=>{switch(k.key){case"PageUp":{const A=lO(r.current)-5,P=r.current.children,D=Math.max(0,A),F=P[D];F&&F.focus(),k.preventDefault();break}case"PageDown":{const A=lO(r.current)+5,P=r.current.children,D=Math.min(P.length-1,A),F=P[D];F&&F.focus(),k.preventDefault();break}}};return x.jsx(act,me({ref:i,className:Ne(C.root,c),ownerState:S,autoFocusItem:a&&p,role:"listbox",onKeyDown:T},b,{children:f.map((k,A)=>{var j;const P=(j=k.isDisabled)==null?void 0:j.call(k,k.value),D=u||P;if(v&&D)return null;const F=k.isSelected(k.value),I=E===A||E===-1&&A===0?0:-1;return x.jsx(_,me({onClick:()=>!d&&l(k.value),selected:F,disabled:D,disableRipple:d,role:"option","aria-disabled":d||D||void 0,"aria-label":k.ariaLabel,"aria-selected":F,tabIndex:I,className:C.item},m==null?void 0:m.digitalClockSectionItem,{children:k.label}),k.label)})}))}),uct=({now:e,value:t,utils:n,ampm:r,isDisabled:i,resolveAriaLabel:o,timeStep:s,valueOrReferenceDate:a})=>{const l=t?n.getHours(t):null,c=[],u=(p,g)=>{const m=g??l;return m===null?!1:r?p===12?m===12||m===0:m===p||m-12===p:m===p},d=p=>u(p,n.getHours(a)),f=r?11:23;for(let p=0;p<=f;p+=s){let g=n.format(n.setHours(e,p),r?"hours12h":"hours24h");const m=o(parseInt(g,10).toString());g=n.formatNumber(g),c.push({value:p,label:g,isSelected:u,isDisabled:i,isFocused:d,ariaLabel:m})}return c},Fre=({value:e,utils:t,isDisabled:n,timeStep:r,resolveLabel:i,resolveAriaLabel:o,hasValue:s=!0})=>{const a=c=>e===null?!1:s&&e===c,l=c=>e===c;return[...Array.from({length:Math.ceil(60/r)},(c,u)=>{const d=r*u;return{value:d,label:t.formatNumber(i(d)),isDisabled:n,isSelected:a,isFocused:l,ariaLabel:o(d.toString())}})]},dct=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],fct=e=>{const{classes:t}=e;return Ke({root:["root"]},nct,t)},pct=ye(gI,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),hct=O.forwardRef(function(t,n){const r=In(),i=Pi(),o=wn({props:t,name:"MuiMultiSectionDigitalClock"}),{ampm:s=r.is12HourCycleInCurrentLocale(),timeSteps:a,autoFocus:l,slots:c,slotProps:u,value:d,defaultValue:f,referenceDate:p,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:m,minTime:v,disableFuture:b,disablePast:S,minutesStep:C=1,shouldDisableTime:_,onChange:E,view:T,views:k=["hours","minutes"],openTo:A,onViewChange:P,focusedView:D,onFocusedViewChange:F,className:I,disabled:j,readOnly:M,skipDisabled:$=!1,timezone:L}=o,V=Ht(o,dct),{value:q,handleValueChange:U,timezone:z}=Nx({name:"MultiSectionDigitalClock",timezone:L,value:d,defaultValue:f,referenceDate:p,onChange:E,valueManager:Oi}),B=Ki(),G=Sy(z),Y=O.useMemo(()=>me({hours:1,minutes:5,seconds:5},a),[a]),Q=NU({value:q,referenceDate:p,utils:r,props:o,timezone:z}),K=mt((oe,ge,be)=>U(oe,ge,be)),te=O.useMemo(()=>!s||!k.includes("hours")||k.includes("meridiem")?k:[...k,"meridiem"],[s,k]),{view:ce,setValueAndGoToNextView:ie,focusedView:re}=p2({view:T,views:te,openTo:A,onViewChange:P,onChange:K,focusedView:D,onFocusedViewChange:F}),he=mt(oe=>{ie(oe,"finish","meridiem")}),{meridiemMode:fe,handleMeridiemChange:ne}=hI(Q,s,he,"finish"),pe=O.useCallback((oe,ge)=>{const be=d2(g,r),de=ge==="hours"||ge==="minutes"&&te.includes("seconds"),Re=({start:ue,end:we})=>!(v&&be(v,we)||m&&be(ue,m)||b&&be(ue,G)||S&&be(G,de?we:ue)),xe=(ue,we=1)=>{if(ue%we!==0)return!1;if(_)switch(ge){case"hours":return!_(r.setHours(Q,ue),"hours");case"minutes":return!_(r.setMinutes(Q,ue),"minutes");case"seconds":return!_(r.setSeconds(Q,ue),"seconds");default:return!1}return!0};switch(ge){case"hours":{const ue=F_(oe,fe,s),we=r.setHours(Q,ue);if(r.getHours(we)!==ue)return!0;const Oe=r.setSeconds(r.setMinutes(we,0),0),ke=r.setSeconds(r.setMinutes(we,59),59);return!Re({start:Oe,end:ke})||!xe(ue)}case"minutes":{const ue=r.setMinutes(Q,oe),we=r.setSeconds(ue,0),Oe=r.setSeconds(ue,59);return!Re({start:we,end:Oe})||!xe(oe,C)}case"seconds":{const ue=r.setSeconds(Q,oe);return!Re({start:ue,end:ue})||!xe(oe)}default:throw new Error("not supported")}},[s,Q,g,m,fe,v,C,_,r,b,S,G,te]),W=O.useCallback(oe=>{switch(oe){case"hours":return{onChange:ge=>{const be=F_(ge,fe,s);ie(r.setHours(Q,be),"finish","hours")},items:uct({now:G,value:q,ampm:s,utils:r,isDisabled:ge=>pe(ge,"hours"),timeStep:Y.hours,resolveAriaLabel:B.hoursClockNumberText,valueOrReferenceDate:Q})};case"minutes":return{onChange:ge=>{ie(r.setMinutes(Q,ge),"finish","minutes")},items:Fre({value:r.getMinutes(Q),utils:r,isDisabled:ge=>pe(ge,"minutes"),resolveLabel:ge=>r.format(r.setMinutes(G,ge),"minutes"),timeStep:Y.minutes,hasValue:!!q,resolveAriaLabel:B.minutesClockNumberText})};case"seconds":return{onChange:ge=>{ie(r.setSeconds(Q,ge),"finish","seconds")},items:Fre({value:r.getSeconds(Q),utils:r,isDisabled:ge=>pe(ge,"seconds"),resolveLabel:ge=>r.format(r.setSeconds(G,ge),"seconds"),timeStep:Y.seconds,hasValue:!!q,resolveAriaLabel:B.secondsClockNumberText})};case"meridiem":{const ge=Qc(r,"am"),be=Qc(r,"pm");return{onChange:ne,items:[{value:"am",label:ge,isSelected:()=>!!q&&fe==="am",isFocused:()=>!!Q&&fe==="am",ariaLabel:ge},{value:"pm",label:be,isSelected:()=>!!q&&fe==="pm",isFocused:()=>!!Q&&fe==="pm",ariaLabel:be}]}}default:throw new Error(`Unknown view: ${oe} found.`)}},[G,q,s,r,Y.hours,Y.minutes,Y.seconds,B.hoursClockNumberText,B.minutesClockNumberText,B.secondsClockNumberText,fe,ie,Q,pe,ne]),se=O.useMemo(()=>{if(!i)return te;const oe=te.filter(ge=>ge!=="meridiem");return oe.reverse(),te.includes("meridiem")&&oe.push("meridiem"),oe},[i,te]),ae=O.useMemo(()=>te.reduce((oe,ge)=>me({},oe,{[ge]:W(ge)}),{}),[te,W]),X=o,Z=fct(X);return x.jsx(pct,me({ref:n,className:Ne(Z.root,I),ownerState:X,role:"group"},V,{children:se.map(oe=>x.jsx(cct,{items:ae[oe].items,onChange:ae[oe].onChange,active:ce===oe,autoFocus:l??re===oe,disabled:j,readOnly:M,slots:c,slotProps:u,skipDisabled:$,"aria-label":B.selectViewText(oe)},oe))}))}),Pb=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:m,minutesStep:v,ampm:b,ampmInClock:S,slots:C,slotProps:_,readOnly:E,disabled:T,sx:k,autoFocus:A,showViewSwitcher:P,disableIgnoringDatePartForTimeValidation:D,timezone:F})=>x.jsx(Glt,{view:e,onViewChange:t,focusedView:n&&E1(n)?n:null,onFocusedViewChange:r,views:i.filter(E1),value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:m,minutesStep:v,ampm:b,ampmInClock:S,slots:C,slotProps:_,readOnly:E,disabled:T,sx:k,autoFocus:A,showViewSwitcher:P,disableIgnoringDatePartForTimeValidation:D,timezone:F}),dye=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:m,minutesStep:v,ampm:b,slots:S,slotProps:C,readOnly:_,disabled:E,sx:T,autoFocus:k,disableIgnoringDatePartForTimeValidation:A,timeSteps:P,skipDisabled:D,timezone:F})=>x.jsx(tct,{view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i.filter(E1),value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:m,minutesStep:v,ampm:b,slots:S,slotProps:C,readOnly:_,disabled:E,sx:T,autoFocus:k,disableIgnoringDatePartForTimeValidation:A,timeStep:P==null?void 0:P.minutes,skipDisabled:D,timezone:F}),cO=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:m,minutesStep:v,ampm:b,slots:S,slotProps:C,readOnly:_,disabled:E,sx:T,autoFocus:k,disableIgnoringDatePartForTimeValidation:A,timeSteps:P,skipDisabled:D,timezone:F})=>x.jsx(hct,{view:e,onViewChange:t,focusedView:n,onFocusedViewChange:r,views:i.filter(E1),value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:p,maxTime:g,shouldDisableTime:m,minutesStep:v,ampm:b,slots:S,slotProps:C,readOnly:_,disabled:E,sx:T,autoFocus:k,disableIgnoringDatePartForTimeValidation:A,timeSteps:P,skipDisabled:D,timezone:F}),gct=O.forwardRef(function(t,n){var m;const r=Pi(),{toolbar:i,tabs:o,content:s,actionBar:a,shortcuts:l}=$0e(t),{sx:c,className:u,isLandscape:d,classes:f}=t,p=a&&(((m=a.props.actions)==null?void 0:m.length)??0)>0,g=me({},t,{isRtl:r});return x.jsxs(F0e,{ref:n,className:Ne(Bc.root,f==null?void 0:f.root,u),sx:[{[`& .${Bc.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${Bc.actionBar}`]:{gridRow:5}},...Array.isArray(c)?c:[c]],ownerState:g,children:[d?l:i,d?i:l,x.jsxs(N0e,{className:Ne(Bc.contentWrapper,f==null?void 0:f.contentWrapper),sx:{display:"grid"},children:[s,o,p&&x.jsx(ag,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),a]})}),mct=["openTo","focusedView","timeViewsCount"],yct=function(t,n,r){var u,d;const{openTo:i,focusedView:o,timeViewsCount:s}=r,a=Ht(r,mct),l=me({},a,{focusedView:null,sx:[{[`&.${$re.root}`]:{borderBottom:0},[`&.${$re.root}, .${ict.root}, &.${Xlt.root}`]:{maxHeight:fI}}]}),c=lC(n);return x.jsxs(O.Fragment,{children:[(u=t[c?"day":n])==null?void 0:u.call(t,me({},r,{view:c?"day":n,focusedView:o&&_1(o)?o:null,views:r.views.filter(_1),sx:[{gridColumn:1},...l.sx]})),s>0&&x.jsxs(O.Fragment,{children:[x.jsx(ag,{orientation:"vertical",sx:{gridColumn:2}}),(d=t[c?n:"hours"])==null?void 0:d.call(t,me({},l,{view:c?n:"hours",focusedView:o&&lC(o)?o:null,openTo:lC(i)?i:"hours",views:r.views.filter(lC),sx:[{gridColumn:3},...l.sx]}))]})]})},fye=O.forwardRef(function(t,n){var S,C,_,E;const r=Ki(),i=In(),o=iye(t,"MuiDesktopDateTimePicker"),{shouldRenderTimeInASingleColumn:s,thresholdToRenderTimeInASingleColumn:a,views:l,timeSteps:c}=sye(o),u=s?dye:cO,d=me({day:oc,month:oc,year:oc,hours:u,minutes:u,seconds:u,meridiem:u},o.viewRenderers),f=o.ampmInClock??!0,g=((S=d.hours)==null?void 0:S.name)===cO.name?l:l.filter(T=>T!=="meridiem"),m=s?[]:["accept"],v=me({},o,{viewRenderers:d,format:oye(i,o),views:g,yearsPerRow:o.yearsPerRow??4,ampmInClock:f,timeSteps:c,thresholdToRenderTimeInASingleColumn:a,shouldRenderTimeInASingleColumn:s,slots:me({field:rye,layout:gct,openPickerIcon:z0e},o.slots),slotProps:me({},o.slotProps,{field:T=>{var k;return me({},sp((k=o.slotProps)==null?void 0:k.field,T),Fx(o),{ref:n})},toolbar:me({hidden:!0,ampmInClock:f,toolbarVariant:"desktop"},(C=o.slotProps)==null?void 0:C.toolbar),tabs:me({hidden:!0},(_=o.slotProps)==null?void 0:_.tabs),actionBar:T=>{var k;return me({actions:m},sp((k=o.slotProps)==null?void 0:k.actionBar,T))}})}),{renderPicker:b}=RU({props:v,valueManager:Oi,valueType:"date-time",getOpenDialogAriaText:Ix({utils:i,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(E=v.localeText)==null?void 0:E.openDatePickerDialogue}),validator:cI,rendererInterceptor:yct});return b()});fye.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:kx,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,maxDateTime:ee.object,maxTime:ee.object,minDate:ee.object,minDateTime:ee.object,minTime:ee.object,minutesStep:ee.number,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableTime:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,skipDisabled:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),thresholdToRenderTimeInASingleColumn:ee.number,timeSteps:ee.shape({hours:ee.number,minutes:ee.number,seconds:ee.number}),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ee.shape({day:ee.func,hours:ee.func,meridiem:ee.func,minutes:ee.func,month:ee.func,seconds:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const pye=O.forwardRef(function(t,n){var u,d,f;const r=Ki(),i=In(),o=iye(t,"MuiMobileDateTimePicker"),s=me({day:oc,month:oc,year:oc,hours:Pb,minutes:Pb,seconds:Pb},o.viewRenderers),a=o.ampmInClock??!1,l=me({},o,{viewRenderers:s,format:oye(i,o),ampmInClock:a,slots:me({field:rye},o.slots),slotProps:me({},o.slotProps,{field:p=>{var g;return me({},sp((g=o.slotProps)==null?void 0:g.field,p),Fx(o),{ref:n})},toolbar:me({hidden:!1,ampmInClock:a},(u=o.slotProps)==null?void 0:u.toolbar),tabs:me({hidden:!1},(d=o.slotProps)==null?void 0:d.tabs)})}),{renderPicker:c}=$U({props:l,valueManager:Oi,valueType:"date-time",getOpenDialogAriaText:Ix({utils:i,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(f=l.localeText)==null?void 0:f.openDatePickerDialogue}),validator:cI});return c()});pye.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:kx,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,maxDateTime:ee.object,maxTime:ee.object,minDate:ee.object,minDateTime:ee.object,minTime:ee.object,minutesStep:ee.number,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","hours","minutes","month","seconds","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableTime:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","hours","minutes","month","seconds","year"]),viewRenderers:ee.shape({day:ee.func,hours:ee.func,minutes:ee.func,month:ee.func,seconds:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const vct=["desktopModeMediaQuery"],bct=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:i=EU}=r,o=Ht(r,vct);return lg(i,{defaultMatches:!0})?x.jsx(fye,me({ref:n},o)):x.jsx(pye,me({ref:n},o))}),xct=e=>{const t=vot(e),{forwardedProps:n,internalProps:r}=AU(t,"time");return TU({forwardedProps:n,internalProps:r,valueManager:Oi,fieldValueManager:CU,validator:f2,valueType:"time"})},Sct=["slots","slotProps","InputProps","inputProps"],hye=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiTimeField"}),{slots:i,slotProps:o,InputProps:s,inputProps:a}=r,l=Ht(r,Sct),c=r,u=(i==null?void 0:i.textField)??(t.enableAccessibleFieldDOMStructure?PU:Ir),d=pn({elementType:u,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:n}});d.inputProps=me({},a,d.inputProps),d.InputProps=me({},s,d.InputProps);const f=xct(d),p=IU(f),g=MU(me({},p,{slots:i,slotProps:o}));return x.jsx(u,me({},g))});function wct(e){return et("MuiTimePickerToolbar",e)}const XC=nt("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Cct=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],_ct=e=>{const{isLandscape:t,classes:n,isRtl:r}=e;return Ke({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",t&&"hourMinuteLabelLandscape",r&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",t&&"ampmLandscape"],ampmLabel:["ampmLabel"]},wct,n)},Ect=ye(_U,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),kct=ye(FU,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Rct=ye("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,t)=>[{[`&.${XC.hourMinuteLabelLandscape}`]:t.hourMinuteLabelLandscape,[`&.${XC.hourMinuteLabelReverse}`]:t.hourMinuteLabelReverse},t.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),Tct=ye("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${XC.ampmLabel}`]:t.ampmLabel},{[`&.${XC.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${XC.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Mct(e){const t=wn({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:i,isLandscape:o,onChange:s,view:a,onViewChange:l,views:c,disabled:u,readOnly:d,className:f}=t,p=Ht(t,Cct),g=In(),m=Ki(),v=Pi(),b=!!(n&&!r&&c.includes("hours")),{meridiemMode:S,handleMeridiemChange:C}=hI(i,n,s),_=A=>n?g.format(A,"hours12h"):g.format(A,"hours24h"),E=me({},t,{isRtl:v}),T=_ct(E),k=x.jsx(kct,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:T.separator});return x.jsxs(Ect,me({landscapeDirection:"row",toolbarTitle:m.timePickerToolbarTitle,isLandscape:o,ownerState:E,className:Ne(T.root,f)},p,{children:[x.jsxs(Rct,{className:T.hourMinuteLabel,ownerState:E,children:[eb(c,"hours")&&x.jsx(Ha,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:a==="hours",value:i?_(i):"--"}),eb(c,["hours","minutes"])&&k,eb(c,"minutes")&&x.jsx(Ha,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:a==="minutes",value:i?g.format(i,"minutes"):"--"}),eb(c,["minutes","seconds"])&&k,eb(c,"seconds")&&x.jsx(Ha,{variant:"h3",onClick:()=>l("seconds"),selected:a==="seconds",value:i?g.format(i,"seconds"):"--"})]}),b&&x.jsxs(Tct,{className:T.ampmSelection,ownerState:E,children:[x.jsx(Ha,{disableRipple:!0,variant:"subtitle2",selected:S==="am",typographyClassName:T.ampmLabel,value:Qc(g,"am"),onClick:d?void 0:()=>C("am"),disabled:u}),x.jsx(Ha,{disableRipple:!0,variant:"subtitle2",selected:S==="pm",typographyClassName:T.ampmLabel,value:Qc(g,"pm"),onClick:d?void 0:()=>C("pm"),disabled:u})]})]}))}function gye(e,t){var s;const n=In(),r=wn({props:e,name:t}),i=r.ampm??n.is12HourCycleInCurrentLocale(),o=O.useMemo(()=>{var a;return((a=r.localeText)==null?void 0:a.toolbarTitle)==null?r.localeText:me({},r.localeText,{timePickerToolbarTitle:r.localeText.toolbarTitle})},[r.localeText]);return me({},r,{ampm:i,localeText:o},vU({views:r.views,openTo:r.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:r.disableFuture??!1,disablePast:r.disablePast??!1,slots:me({toolbar:Mct},r.slots),slotProps:me({},r.slotProps,{toolbar:me({ampm:i,ampmInClock:r.ampmInClock},(s=r.slotProps)==null?void 0:s.toolbar)})})}const mye=O.forwardRef(function(t,n){var b,S,C,_;const r=Ki(),i=In(),o=gye(t,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:s,views:a,timeSteps:l}=sye(o),c=s?dye:cO,u=me({hours:c,minutes:c,seconds:c,meridiem:c},o.viewRenderers),d=o.ampmInClock??!0,f=s?[]:["accept"],g=((b=u.hours)==null?void 0:b.name)===cO.name?a:a.filter(E=>E!=="meridiem"),m=me({},o,{ampmInClock:d,timeSteps:l,viewRenderers:u,format:aO(i,o),views:s?["hours"]:g,slots:me({field:hye,openPickerIcon:Zit},o.slots),slotProps:me({},o.slotProps,{field:E=>{var T;return me({},sp((T=o.slotProps)==null?void 0:T.field,E),Fx(o),{ref:n})},toolbar:me({hidden:!0,ampmInClock:d},(S=o.slotProps)==null?void 0:S.toolbar),actionBar:me({actions:f},(C=o.slotProps)==null?void 0:C.actionBar)})}),{renderPicker:v}=RU({props:m,valueManager:Oi,valueType:"time",getOpenDialogAriaText:Ix({utils:i,formatKey:"fullTime",contextTranslation:r.openTimePickerDialogue,propsTranslation:(_=m.localeText)==null?void 0:_.openTimePickerDialogue}),validator:f2});return v()});mye.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,enableAccessibleFieldDOMStructure:ee.any,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:kx,label:ee.node,localeText:ee.object,maxTime:ee.object,minTime:ee.object,minutesStep:ee.number,name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,open:ee.bool,openTo:ee.oneOf(["hours","meridiem","minutes","seconds"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableTime:ee.func,skipDisabled:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),thresholdToRenderTimeInASingleColumn:ee.number,timeSteps:ee.shape({hours:ee.number,minutes:ee.number,seconds:ee.number}),timezone:ee.string,value:ee.object,view:ee.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:ee.shape({hours:ee.func,meridiem:ee.func,minutes:ee.func,seconds:ee.func}),views:ee.arrayOf(ee.oneOf(["hours","minutes","seconds"]).isRequired)};const yye=O.forwardRef(function(t,n){var u,d;const r=Ki(),i=In(),o=gye(t,"MuiMobileTimePicker"),s=me({hours:Pb,minutes:Pb,seconds:Pb},o.viewRenderers),a=o.ampmInClock??!1,l=me({},o,{ampmInClock:a,viewRenderers:s,format:aO(i,o),slots:me({field:hye},o.slots),slotProps:me({},o.slotProps,{field:f=>{var p;return me({},sp((p=o.slotProps)==null?void 0:p.field,f),Fx(o),{ref:n})},toolbar:me({hidden:!1,ampmInClock:a},(u=o.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:c}=$U({props:l,valueManager:Oi,valueType:"time",getOpenDialogAriaText:Ix({utils:i,formatKey:"fullTime",contextTranslation:r.openTimePickerDialogue,propsTranslation:(d=l.localeText)==null?void 0:d.openTimePickerDialogue}),validator:f2});return c()});yye.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,enableAccessibleFieldDOMStructure:ee.any,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:kx,label:ee.node,localeText:ee.object,maxTime:ee.object,minTime:ee.object,minutesStep:ee.number,name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,open:ee.bool,openTo:ee.oneOf(["hours","minutes","seconds"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableTime:ee.func,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["hours","minutes","seconds"]),viewRenderers:ee.shape({hours:ee.func,minutes:ee.func,seconds:ee.func}),views:ee.arrayOf(ee.oneOf(["hours","minutes","seconds"]).isRequired)};const Act=["desktopModeMediaQuery"],Oct=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=EU}=r,o=Ht(r,Act);return lg(i,{defaultMatches:!0})?x.jsx(mye,me({ref:n},o)):x.jsx(yye,me({ref:n},o))}),Ib=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},uO=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},vye=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:o={},state:{columnFilterFns:s={}}={}}=t;return e.map(a=>{var l,c;if(a.id||(a.id=Ib(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=vye({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const u=a.aggregationFn;a.aggregationFn=(d,f,p)=>u.map(g=>{var m;return(m=n[g])===null||m===void 0?void 0:m.call(n,d,f,p)})}Object.keys(i).includes(s[a.id])&&(a.filterFn=(c=i[s[a.id]])!==null&&c!==void 0?c:i.fuzzy,a._filterFn=s[a.id]),Object.keys(o).includes(a.sortingFn)&&(a.sortingFn=o[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},bye=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},Dct=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t!=null&&t.includes("range")?"betweenInclusive":t==="select"||t==="checkbox"?"equals":"fuzzy"},mI=({header:e,table:t})=>{var n;const{options:{columnFilterModeOptions:r}}=t,{column:i}=e,{columnDef:o}=i,{filterVariant:s}=o,a=!!(s!=null&&s.startsWith("date")||s!=null&&s.startsWith("time")),l=s==="autocomplete",c=(s==null?void 0:s.includes("range"))||["between","betweenInclusive","inNumberRange"].includes(o._filterFn),u=s==="select",d=s==="multi-select",f=["autocomplete","text"].includes(s)||!u&&!d,p=o._filterFn,g=(n=o==null?void 0:o.columnFilterModeOptions)!==null&&n!==void 0?n:r,m=i.getFacetedUniqueValues();return{allowedColumnFilterOptions:g,currentFilterOption:p,facetedUniqueValues:m,isAutocompleteFilter:l,isDateFilter:a,isMultiSelectFilter:d,isRangeFilter:c,isSelectFilter:u,isTextboxFilter:f}},xye=({header:e,table:t})=>{const{column:n}=e,{columnDef:r}=n,{facetedUniqueValues:i,isAutocompleteFilter:o,isMultiSelectFilter:s,isSelectFilter:a}=mI({header:e,table:t});return O.useMemo(()=>{var l;return(l=r.filterSelectOptions)!==null&&l!==void 0?l:(a||s||o)&&i?Array.from(i.keys()).filter(c=>c!=null).sort((c,u)=>c.localeCompare(u)):void 0},[r.filterSelectOptions,i,s,a])},Pct=(e,t,n=-1,r=0,i,o)=>u2(e,"mrt-row-create",Object.assign({},...uO(e.options.columns).map(s=>({[Ib(s)]:""}))),n,r,i,o),Ict=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=lrt(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?Nm.alphanumeric(e,t,n):r},$ct=Object.assign(Object.assign({},Nm),{fuzzy:Ict}),Fct=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),Je=(e,t)=>e instanceof Function?e(t):e,wf=e=>{var t,n;let r="",i="";return e&&(typeof e!="object"?(r=e,i=e):(r=(t=e.label)!==null&&t!==void 0?t:e.value,i=(n=e.value)!==null&&n!==void 0?n:r)),{label:r,value:i}},Sye=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:o,getTopRows:s,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:c,manualPagination:u,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:p,pagination:g}=o(),m=Nct(e);let v=[];if(!m)v=!c||f!=null&&f.includes("sticky")?t?r().rows:i().rows:n();else{if(v=r().rows.sort((b,S)=>Fct(b,S)),l&&!u&&!t){const b=g.pageIndex*g.pageSize;v=v.slice(b,b+g.pageSize)}c&&!(f!=null&&f.includes("sticky"))&&(v=v.filter(b=>!b.getIsPinned()))}if(c&&(f!=null&&f.includes("sticky"))){const b=v.filter(S=>S.getIsPinned()).map(S=>S.id);v=[...s().filter(S=>!b.includes(S.id)),...v]}if(d!==void 0&&p&&a==="row"){const b=isNaN(+d)?d==="top"?0:v.length:+d;v=[...v.slice(0,b),p,...v.slice(b)]}return v},wye=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:o,manualSorting:s}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!o&&!s&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},Nct=e=>{const{globalFilter:t,sorting:n}=e.getState();return wye(e)&&t&&!Object.values(n).some(Boolean)},dO=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||Je(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},Cye=({row:e,staticRowIndex:t=0,table:n})=>(r,i)=>{var o;const{getState:s,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:c,manualPagination:u,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:p,pageSize:g}}=s(),m=u?0:g*p,v=dO({row:e,table:n});e.toggleSelected(i??!v);const b=new Set([e.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const S=Sye(n,!0),C=S.findIndex(_=>_.id===f.current);if(C!==-1){const _=dO({row:S==null?void 0:S[C],table:n}),E=t+m,[T,k]=C<E?[C,E]:[E,C];if(v!==_)for(let A=T;A<=k;A++)S[A].toggleSelected(!v),b.add(S[A].id)}}f.current=e.id,e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()&&((o=e.subRows)===null||o===void 0||o.forEach(S=>S.toggleSelected(!1))),c&&(d!=null&&d.includes("select"))&&b.forEach(S=>{n.getRow(S).pin(v?!1:d!=null&&d.includes("bottom")?"bottom":"top")})},LU=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:o,selectAllMode:s},refs:{lastSelectedRowId:a}}=e;s==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&(o!=null&&o.includes("select"))&&e.setRowPinning({bottom:[],top:[]}),a.current=null},mT=e=>e.ctrlKey&&navigator.platform.toLowerCase().includes("win")||e.metaKey&&navigator.platform.toLowerCase().includes("mac"),_ye=({cell:e,table:t})=>{const{enableEditing:n}=t.options,{column:{columnDef:r},row:i}=e;return!e.getIsPlaceholder()&&Je(n,i)&&Je(r.enableEditing,i)!==!1},Eye=({cell:e,table:t})=>{const{options:{editDisplayMode:n},refs:{editInputRefs:r}}=t,{column:i}=e;_ye({cell:e,table:t})&&n==="cell"&&(t.setEditingCell(e),queueMicrotask(()=>{var o,s;const a=(o=r.current)===null||o===void 0?void 0:o[i.id];a&&(a.focus(),(s=a.select)===null||s===void 0||s.call(a))}))},jU=({cell:e,cellElements:t,cellValue:n,containerElement:r,event:i,header:o,parentElement:s,table:a})=>{var l,c,u,d,f,p,g,m;if(!a.options.enableKeyboardShortcuts||i.isPropagationStopped())return;const v=i.currentTarget;if(n&&mT(i)&&i.key==="c")navigator.clipboard.writeText(n);else if(["Enter"," "].includes(i.key))if(((l=e==null?void 0:e.column)===null||l===void 0?void 0:l.id)==="mrt-row-select")i.preventDefault(),Cye({row:e.row,table:a,staticRowIndex:+i.target.getAttribute("data-index")})(i);else if(((c=o==null?void 0:o.column)===null||c===void 0?void 0:c.id)==="mrt-row-select"&&a.options.enableSelectAll)i.preventDefault(),LU({table:a})(i);else if(((u=e==null?void 0:e.column)===null||u===void 0?void 0:u.id)==="mrt-row-expand"&&(e.row.getCanExpand()||!((f=(d=a.options).renderDetailPanel)===null||f===void 0)&&f.call(d,{row:e.row,table:a})))i.preventDefault(),e.row.toggleExpanded();else if(((p=o==null?void 0:o.column)===null||p===void 0?void 0:p.id)==="mrt-row-expand"&&a.options.enableExpandAll)i.preventDefault(),a.toggleAllRowsExpanded();else if((e==null?void 0:e.column.id)==="mrt-row-pin")i.preventDefault(),e.row.getIsPinned()?e.row.pin(!1):e.row.pin(!((g=a.options.rowPinningDisplayMode)===null||g===void 0)&&g.includes("bottom")?"bottom":"top");else if(o&&mT(i)){const b=v.querySelector(`button[aria-label="${a.options.localization.columnActions}"]`);b&&b.click()}else!((m=o==null?void 0:o.column)===null||m===void 0)&&m.getCanSort()&&(i.preventDefault(),o.column.toggleSorting());else if(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(i.key)){i.preventDefault();const b=s||v.closest("tr"),S=r||v.closest("table"),C=t||Array.from((S==null?void 0:S.querySelectorAll("th, td"))||[]),_=C.indexOf(v),E=parseInt(v.getAttribute("data-index")||"0");let T;const k=(D,F)=>{var I;const j=D==="c"?b:D==="f"?S==null?void 0:S.querySelector("tr"):(I=S==null?void 0:S.lastElementChild)===null||I===void 0?void 0:I.lastElementChild,M=Array.from((j==null?void 0:j.children)||[]);return F==="f"?M[0]:M[M.length-1]},A=(D,F)=>{var I;const j=F==="t"?S==null?void 0:S.querySelector("tr"):(I=S==null?void 0:S.lastElementChild)===null||I===void 0?void 0:I.lastElementChild;return Array.from((j==null?void 0:j.children)||[])[D]},P=(D,F)=>(F==="f"?C.slice(_+1):C.slice(0,_).reverse()).find(j=>j.matches(`[data-index="${D}"]`));switch(i.key){case"ArrowRight":T=P(E+1,"f");break;case"ArrowLeft":T=P(E-1,"b");break;case"ArrowUp":T=P(E,"b");break;case"ArrowDown":T=P(E,"f");break;case"Home":T=k(mT(i)?"f":"c","f");break;case"End":T=k(mT(i)?"l":"c","l");break;case"PageUp":T=A(E,"t");break;case"PageDown":T=A(E,"b");break}T&&T.focus()}};function wy({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:o,localization:s}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?s[e]:"",size:n}),o==null?void 0:o[t]),{id:t})}const kye=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!(n!=null&&n.startsWith("select")))},Rye=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},zU=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&(i!=null&&i.length)||r)},BU=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:o}}=e;return!!(i||o&&t==="row"||r&&["modal","row"].includes(n??""))},Tye=e=>!!e.enableRowSelection,Mye=e=>!!e.enableRowNumbers,Aye=e=>e.layoutMode==="grid-no-grow",Lct=e=>[kye(e)&&"mrt-row-pin",Rye(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&BU(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&zU(e)&&"mrt-row-expand",Tye(e)&&"mrt-row-select",Mye(e)&&"mrt-row-numbers"].filter(Boolean),jct=e=>[e.positionActionsColumn==="last"&&BU(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&zU(e)&&"mrt-row-expand",Aye(e)&&"mrt-row-spacer"].filter(Boolean),UU=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=Lct(e),i=jct(e),o=uO(e.columns).map(a=>Ib(a));let s=t?o:Array.from(new Set([...n,...o]));return s=s.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...s,...i]},zct=Object.assign({},BM),Oye=(e,t,n,r)=>{const i=ort(e.getValue(t),n,{threshold:As.MATCHES});return r(i),i.passed};Oye.autoRemove=e=>!e;const Dye=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim()))};Dye.autoRemove=e=>!e;const Pye=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim()))};Pye.autoRemove=e=>!e;const Iye=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim()))};Iye.autoRemove=e=>!e;const yI=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===n.toString().toLowerCase().trim()};yI.autoRemove=e=>!e;const $ye=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};$ye.autoRemove=e=>!e;const vI=(e,t,n)=>{var r,i,o;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+((r=e.getValue(t))!==null&&r!==void 0?r:0)>+n:((o=(i=e.getValue(t))!==null&&i!==void 0?i:"")===null||o===void 0?void 0:o.toString().toLowerCase().trim())>n.toString().toLowerCase().trim()};vI.autoRemove=e=>!e;const HU=(e,t,n)=>yI(e,t,n)||vI(e,t,n);HU.autoRemove=e=>!e;const bI=(e,t,n)=>{var r,i,o;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+((r=e.getValue(t))!==null&&r!==void 0?r:0)<+n:((o=(i=e.getValue(t))!==null&&i!==void 0?i:"")===null||o===void 0?void 0:o.toString().toLowerCase().trim())<n.toString().toLowerCase().trim()};bI.autoRemove=e=>!e;const VU=(e,t,n)=>yI(e,t,n)||bI(e,t,n);VU.autoRemove=e=>!e;const Fye=(e,t,n)=>(["",void 0].includes(n[0])||vI(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||bI(e,t,n[1]));Fye.autoRemove=e=>!e;const Nye=(e,t,n)=>(["",void 0].includes(n[0])||HU(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||VU(e,t,n[1]));Nye.autoRemove=e=>!e;const Lye=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};Lye.autoRemove=e=>!e;const jye=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};jye.autoRemove=e=>!e;const Bct=Object.assign(Object.assign({},Hu),{between:Fye,betweenInclusive:Nye,contains:Dye,empty:Lye,endsWith:Iye,equals:yI,fuzzy:Oye,greaterThan:vI,greaterThanOrEqualTo:HU,lessThan:bI,lessThanOrEqualTo:VU,notEmpty:jye,notEquals:$ye,startsWith:Pye});function Xt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const zye=e=>{var{row:t,table:n,variant:r="icon"}=e,i=Xt(e,["row","table","variant"]);const{getState:o,options:{icons:{CancelIcon:s,SaveIcon:a},localization:l,onCreatingRowCancel:c,onCreatingRowSave:u,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:p},setCreatingRow:g,setEditingRow:m}=n,{creatingRow:v,editingRow:b,isSaving:S}=o(),C=(v==null?void 0:v.id)===t.id,_=(b==null?void 0:b.id)===t.id,E=()=>{C?(c==null||c({row:t,table:n}),g(null)):_&&(d==null||d({row:t,table:n}),m(null)),t._valuesCache={}},T=()=>{var k,A;(A=Object.values((k=p.current)!==null&&k!==void 0?k:{}).filter(P=>{var D,F;return t.id===((F=(D=P==null?void 0:P.name)===null||D===void 0?void 0:D.split("_"))===null||F===void 0?void 0:F[0])}))===null||A===void 0||A.forEach(P=>{P.value!==void 0&&Object.hasOwn(t==null?void 0:t._valuesCache,P.name)&&(t._valuesCache[P.name]=P.value)}),C?u==null||u({exitCreatingMode:()=>g(null),row:t,table:n,values:t._valuesCache}):_&&(f==null||f({exitEditingMode:()=>m(null),row:t,table:n,values:t==null?void 0:t._valuesCache}))};return x.jsx(lt,{onClick:k=>k.stopPropagation(),sx:k=>Object.assign({display:"flex",gap:"0.75rem"},Je(i==null?void 0:i.sx,k)),children:r==="icon"?x.jsxs(x.Fragment,{children:[x.jsx(Yt,{title:l.cancel,children:x.jsx(sn,{"aria-label":l.cancel,onClick:E,children:x.jsx(s,{})})}),(C&&u||_&&f)&&x.jsx(Yt,{title:l.save,children:x.jsx(sn,{"aria-label":l.save,color:"info",disabled:S,onClick:T,children:S?x.jsx(au,{size:18}):x.jsx(a,{})})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Ft,{onClick:E,sx:{minWidth:"100px"},children:l.cancel}),x.jsxs(Ft,{disabled:S,onClick:T,sx:{minWidth:"100px"},variant:"contained",children:[S&&x.jsx(au,{color:"inherit",size:18}),l.save]})]})})},KC=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),Uct=(e,t)=>{var n;const r=Je(e,t),i=(n=r==null?void 0:r.baseBackgroundColor)!==null&&n!==void 0?n:t.palette.mode==="dark"?Ho(t.palette.background.default,.05):t.palette.background.default;return Object.assign({baseBackgroundColor:i,cellNavigationOutlineColor:t.palette.primary.main,draggingBorderColor:t.palette.primary.main,matchHighlightColor:t.palette.mode==="dark"?fl(t.palette.warning.dark,.25):Ho(t.palette.warning.light,.5),menuBackgroundColor:Ho(i,.07),pinnedRowBackgroundColor:_t(t.palette.primary.main,.1),selectedRowBackgroundColor:_t(t.palette.primary.main,.2)},r)},N6={content:'""',height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1},Bye=({column:e,table:t,theme:n})=>{const{baseBackgroundColor:r}=t.options.mrtTheme,i=e==null?void 0:e.getIsPinned();return{'&[data-pinned="true"]':{"&:before":Object.assign({backgroundColor:_t(fl(r,n.palette.mode==="dark"?.05:.01),.97),boxShadow:e?i==="left"&&e.getIsLastColumn(i)?`-4px 0 4px -4px ${_t(n.palette.grey[700],.5)} inset`:i==="right"&&e.getIsFirstColumn(i)?`4px 0 4px -4px ${_t(n.palette.grey[700],.5)} inset`:void 0:void 0},N6)}}},WU=({column:e,header:t,table:n,tableCellProps:r,theme:i})=>{var o,s,a,l,c,u;const{getState:d,options:{enableColumnVirtualization:f,layoutMode:p}}=n,{draggingColumn:g}=d(),{columnDef:m}=e,{columnDefType:v}=m,b=m.columnDefType!=="group"&&e.getIsPinned(),S={minWidth:`max(calc(var(--${t?"header":"col"}-${KC((o=t==null?void 0:t.id)!==null&&o!==void 0?o:e.id)}-size) * 1px), ${(s=m.minSize)!==null&&s!==void 0?s:30}px)`,width:`calc(var(--${t?"header":"col"}-${KC((a=t==null?void 0:t.id)!==null&&a!==void 0?a:e.id)}-size) * 1px)`};p==="grid"?S.flex=`${[0,!1].includes(m.grow)?0:`var(--${t?"header":"col"}-${KC((l=t==null?void 0:t.id)!==null&&l!==void 0?l:e.id)}-size)`} 0 auto`:p==="grid-no-grow"&&(S.flex=`${+(m.grow||0)} 0 auto`);const C=b?Object.assign(Object.assign({},Bye({column:e,table:n,theme:i})),{left:b==="left"?`${e.getStart("left")}px`:void 0,opacity:.97,position:"sticky",right:b==="right"?`${e.getAfter("right")}px`:void 0}):{};return Object.assign(Object.assign(Object.assign({backgroundColor:"inherit",backgroundImage:"inherit",display:p!=null&&p.startsWith("grid")?"flex":void 0,justifyContent:v==="group"?"center":p!=null&&p.startsWith("grid")?r.align:void 0,opacity:((c=n.getState().draggingColumn)===null||c===void 0?void 0:c.id)===e.id||((u=n.getState().hoveredColumn)===null||u===void 0?void 0:u.id)===e.id?.5:1,position:"relative",transition:f?"none":"padding 150ms ease-in-out",zIndex:e.getIsResizing()||(g==null?void 0:g.id)===e.id?2:v!=="group"&&b?1:0,"&:focus-visible":{outline:`2px solid ${n.options.mrtTheme.cellNavigationOutlineColor}`,outlineOffset:"-2px"}},C),S),Je(r==null?void 0:r.sx,i))},Uye=({table:e})=>({alignItems:"flex-start",backgroundColor:e.options.mrtTheme.baseBackgroundColor,display:"grid",flexWrap:"wrap-reverse",minHeight:"3.5rem",overflow:"hidden",position:"relative",transition:"all 150ms ease-in-out",zIndex:1}),yT=e=>e.direction==="rtl"?{style:{transform:"scaleX(-1)"}}:void 0,wc=e=>({disableInteractive:!0,enterDelay:1e3,enterNextDelay:1e3,placement:e}),is=e=>{var{icon:t,label:n,onOpenSubMenu:r,table:i}=e,o=Xt(e,["icon","label","onOpenSubMenu","table"]);const{options:{icons:{ArrowRightIcon:s}}}=i;return x.jsxs(ir,Object.assign({sx:{alignItems:"center",justifyContent:"space-between",minWidth:"120px",my:0,py:"6px"},tabIndex:0},o,{children:[x.jsxs(lt,{sx:{alignItems:"center",display:"flex"},children:[x.jsx(no,{children:t}),n]}),r&&x.jsx(sn,{onClick:r,onMouseEnter:r,size:"small",sx:{p:0},children:x.jsx(s,{})})]}))},Hct=e=>{var{anchorEl:t,handleEdit:n,row:r,setAnchorEl:i,staticRowIndex:o,table:s}=e,a=Xt(e,["anchorEl","handleEdit","row","setAnchorEl","staticRowIndex","table"]);const{getState:l,options:{editDisplayMode:c,enableEditing:u,icons:{EditIcon:d},localization:f,mrtTheme:{menuBackgroundColor:p},renderRowActionMenuItems:g}}=s,{density:m}=l(),v=O.useMemo(()=>{const b=[],S=Je(u,r)&&["modal","row"].includes(c)&&x.jsx(is,{icon:x.jsx(d,{}),label:f.edit,onClick:n,table:s},"edit");S&&b.push(S);const C=g==null?void 0:g({closeMenu:()=>i(null),row:r,staticRowIndex:o,table:s});return C!=null&&C.length&&b.push(...C),b},[g,r,o,s]);return v.length?x.jsx($d,Object.assign({MenuListProps:{dense:m==="compact",sx:{backgroundColor:p}},anchorEl:t,disableScrollLock:!0,onClick:b=>b.stopPropagation(),onClose:()=>i(null),open:!!t},a,{children:v})):null},Nre={"&:hover":{opacity:1},height:"2rem",ml:"10px",opacity:.5,transition:"opacity 150ms",width:"2rem"},Vct=e=>{var t,{cell:n,row:r,staticRowIndex:i,table:o}=e,s=Xt(e,["cell","row","staticRowIndex","table"]);const{getState:a,options:{createDisplayMode:l,editDisplayMode:c,enableEditing:u,icons:{EditIcon:d,MoreHorizIcon:f},localization:p,renderRowActionMenuItems:g,renderRowActions:m},setEditingRow:v}=o,{creatingRow:b,editingRow:S}=a(),C=(b==null?void 0:b.id)===r.id,_=(S==null?void 0:S.id)===r.id,E=C&&l==="row"||_&&c==="row",[T,k]=O.useState(null),A=D=>{D.stopPropagation(),D.preventDefault(),k(D.currentTarget)},P=D=>{D.stopPropagation(),v(Object.assign({},r)),k(null)};return x.jsx(x.Fragment,{children:m&&!E?m({cell:n,row:r,staticRowIndex:i,table:o}):E?x.jsx(zye,{row:r,table:o}):!g&&Je(u,r)&&["modal","row"].includes(c)?x.jsx(Yt,{placement:"right",title:p.edit,children:x.jsx(sn,Object.assign({"aria-label":p.edit,onClick:P,sx:Nre},s,{children:x.jsx(d,{})}))}):!((t=g==null?void 0:g({row:r,staticRowIndex:i,table:o}))===null||t===void 0)&&t.length?x.jsxs(x.Fragment,{children:[x.jsx(Yt,Object.assign({},wc(),{title:p.rowActions,children:x.jsx(sn,Object.assign({"aria-label":p.rowActions,onClick:A,size:"small",sx:Nre},s,{children:x.jsx(f,{})}))})),x.jsx(Hct,{anchorEl:T,handleEdit:P,row:r,setAnchorEl:k,staticRowIndex:i,table:o})]}):null})},Wct=e=>Object.assign({Cell:({cell:t,row:n,staticRowIndex:r,table:i})=>x.jsx(Vct,{cell:t,row:n,staticRowIndex:r,table:i})},wy({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),qU=e=>{var t,n,{location:r,table:i}=e,o=Xt(e,["location","table"]);const{options:{icons:{DragHandleIcon:s},localization:a}}=i;return x.jsx(Yt,Object.assign({},wc("top"),{title:(t=o==null?void 0:o.title)!==null&&t!==void 0?t:a.move,children:x.jsx(sn,Object.assign({"aria-label":(n=o.title)!==null&&n!==void 0?n:a.move,disableRipple:!0,draggable:"true",size:"small"},o,{onClick:l=>{var c;l.stopPropagation(),(c=o==null?void 0:o.onClick)===null||c===void 0||c.call(o,l)},sx:l=>Object.assign({"&:active":{cursor:"grabbing"},"&:hover":{backgroundColor:"transparent",opacity:1},cursor:"grab",m:"0 -0.1rem",opacity:r==="row"?1:.5,p:"2px",transition:"all 150ms ease-in-out"},Je(o==null?void 0:o.sx,l)),title:void 0,children:x.jsx(s,{})}))}))},qct=e=>{var{row:t,rowRef:n,table:r}=e,i=Xt(e,["row","rowRef","table"]);const{options:{muiRowDragHandleProps:o}}=r,s=Object.assign(Object.assign({},Je(o,{row:t,table:r})),i),a=c=>{var u;(u=s==null?void 0:s.onDragStart)===null||u===void 0||u.call(s,c);try{c.dataTransfer.setDragImage(n.current,0,0)}catch(d){console.error(d)}r.setDraggingRow(t)},l=c=>{var u;(u=s==null?void 0:s.onDragEnd)===null||u===void 0||u.call(s,c),r.setDraggingRow(null),r.setHoveredRow(null)};return x.jsx(qU,Object.assign({},s,{location:"row",onDragEnd:l,onDragStart:a,table:r}))},Gct=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>x.jsx(qct,{row:t,rowRef:n,table:r}),grow:!1},wy({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),Yct=e=>{var t,n,{table:r}=e,i=Xt(e,["table"]);const{getCanSomeRowsExpand:o,getIsAllRowsExpanded:s,getIsSomeRowsExpanded:a,getState:l,options:{icons:{KeyboardDoubleArrowDownIcon:c},localization:u,muiExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:p}=r,{density:g,isLoading:m}=l(),v=Object.assign(Object.assign({},Je(d,{table:r})),i),b=s();return x.jsx(Yt,Object.assign({},wc(),{title:(t=v==null?void 0:v.title)!==null&&t!==void 0?t:b?u.collapseAll:u.expandAll,children:x.jsx("span",{children:x.jsx(sn,Object.assign({"aria-label":u.expandAll,disabled:m||!f&&!o(),onClick:()=>p(!b)},v,{sx:S=>Object.assign({height:g==="compact"?"1.75rem":"2.25rem",mt:g!=="compact"?"-0.25rem":void 0,width:g==="compact"?"1.75rem":"2.25rem"},Je(v==null?void 0:v.sx,S)),title:void 0,children:(n=v==null?void 0:v.children)!==null&&n!==void 0?n:x.jsx(c,{style:{transform:`rotate(${b?-180:a()?-90:0}deg)`,transition:"transform 150ms"}})}))})}))},Lre=({row:e,staticRowIndex:t,table:n})=>{var r,i;const o=lr(),{getState:s,options:{icons:{ExpandMoreIcon:a},localization:l,muiExpandButtonProps:c,positionExpandColumn:u,renderDetailPanel:d}}=n,{density:f}=s(),p=Je(c,{row:e,staticRowIndex:t,table:n}),g=e.getCanExpand(),m=e.getIsExpanded(),v=S=>{var C;S.stopPropagation(),e.toggleExpanded(),(C=p==null?void 0:p.onClick)===null||C===void 0||C.call(p,S)},b=!!(d!=null&&d({row:e,table:n}));return x.jsx(Yt,Object.assign({disableHoverListener:!g&&!b},wc(),{title:(r=p==null?void 0:p.title)!==null&&r!==void 0?r:m?l.collapse:l.expand,children:x.jsx("span",{children:x.jsx(sn,Object.assign({"aria-label":l.expand,disabled:!g&&!b},p,{onClick:v,sx:S=>Object.assign({height:f==="compact"?"1.75rem":"2.25rem",opacity:!g&&!b?.3:1,[S.direction==="rtl"||u==="last"?"mr":"ml"]:`${e.depth*16}px`,width:f==="compact"?"1.75rem":"2.25rem"},Je(p==null?void 0:p.sx,S)),title:void 0,children:(i=p==null?void 0:p.children)!==null&&i!==void 0?i:x.jsx(a,{style:{transform:`rotate(${!g&&!d?u==="last"||o.direction==="rtl"?90:-90:m?-180:0}deg)`,transition:"transform 150ms"}})}))})}))},Xct=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:o,renderDetailPanel:s,state:{grouping:a}}=e,l=o==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:c,column:u,row:d,staticRowIndex:f,table:p})=>{var g,m,v;const b={row:d,staticRowIndex:f,table:p},S=(g=d.subRows)===null||g===void 0?void 0:g.length;return i==="remove"&&d.groupingColumnId?x.jsxs(en,{alignItems:"center",flexDirection:"row",gap:"0.25rem",children:[x.jsx(Lre,Object.assign({},b)),x.jsx(Yt,Object.assign({},wc("right"),{title:p.getColumn(d.groupingColumnId).columnDef.header,children:x.jsx("span",{children:d.groupingValue})})),!!S&&x.jsxs("span",{children:["(",S,")"]})]}):x.jsxs(x.Fragment,{children:[x.jsx(Lre,Object.assign({},b)),(v=(m=u.columnDef).GroupedCell)===null||v===void 0?void 0:v.call(m,{cell:c,column:u,row:d,table:p})]})},Header:r?({table:c})=>{var u;return x.jsxs(x.Fragment,{children:[x.jsx(Yct,{table:c}),i==="remove"&&((u=a==null?void 0:a.map(d=>c.getColumn(d).columnDef.header))===null||u===void 0?void 0:u.join(", "))]})}:void 0,muiTableBodyCellProps:l,muiTableHeadCellProps:l},wy({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n==null?void 0:n.size)!==null&&t!==void 0?t:180:s?r?60:70:100,tableOptions:e}))},Kct=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({row:o,staticRowIndex:s})=>{var a;return((a=n==="static"?(s||0)+(i||0)*(r||0):o.index)!==null&&a!==void 0?a:0)+1},Header:()=>t.rowNumber,grow:!1},wy({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},_L=e=>{var{pinningPosition:t,row:n,table:r}=e,i=Xt(e,["pinningPosition","row","table"]);const{options:{icons:{CloseIcon:o,PushPinIcon:s},localization:a,rowPinningDisplayMode:l}}=r,c=n.getIsPinned(),[u,d]=O.useState(!1),f=p=>{d(!1),p.stopPropagation(),n.pin(c?!1:t)};return x.jsx(Yt,Object.assign({},wc(),{open:u,title:c?a.unpin:a.pin,children:x.jsx(sn,Object.assign({"aria-label":a.pin,onBlur:()=>d(!1),onClick:f,onFocus:()=>d(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"small"},i,{sx:p=>Object.assign({height:"24px",width:"24px"},Je(i==null?void 0:i.sx,p)),children:c?x.jsx(o,{}):x.jsx(s,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))}))},Qct=e=>{var{row:t,table:n}=e,r=Xt(e,["row","table"]);const{getState:i,options:{enableRowPinning:o,rowPinningDisplayMode:s}}=n,{density:a}=i();if(!Je(o,t))return null;const c=Object.assign({row:t,table:n},r);return s==="top-and-bottom"&&!t.getIsPinned()?x.jsxs(lt,{sx:{display:"flex",flexDirection:a==="compact"?"row":"column"},children:[x.jsx(_L,Object.assign({pinningPosition:"top"},c)),x.jsx(_L,Object.assign({pinningPosition:"bottom"},c))]}):x.jsx(_L,Object.assign({pinningPosition:s==="bottom"?"bottom":"top"},c))},Zct=e=>Object.assign({Cell:({row:t,table:n})=>x.jsx(Qct,{row:t,table:n}),grow:!1},wy({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),L6=e=>{var t,{row:n,staticRowIndex:r,table:i}=e,o=Xt(e,["row","staticRowIndex","table"]);const{getState:s,options:{enableMultiRowSelection:a,localization:l,muiSelectAllCheckboxProps:c,muiSelectCheckboxProps:u,selectAllMode:d}}=i,{density:f,isLoading:p}=s(),g=!n,m=g?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,v=g?m:dO({row:n,table:i}),b=Object.assign(Object.assign({},g?Je(c,{table:i}):Je(u,{row:n,staticRowIndex:r,table:i})),o),S=n?Cye({row:n,staticRowIndex:r,table:i}):void 0,C=LU({table:i}),_=Object.assign(Object.assign({"aria-label":g?l.toggleSelectAll:l.toggleSelectRow,checked:v,disabled:p||n&&!n.getCanSelect()||(n==null?void 0:n.id)==="mrt-row-create",inputProps:{"aria-label":g?l.toggleSelectAll:l.toggleSelectRow},onChange:E=>{E.stopPropagation(),g?C(E):S(E)},size:f==="compact"?"small":"medium"},b),{onClick:E=>{var T;E.stopPropagation(),(T=b==null?void 0:b.onClick)===null||T===void 0||T.call(b,E)},sx:E=>Object.assign({height:f==="compact"?"1.75rem":"2.5rem",m:f!=="compact"?"-0.4rem":void 0,width:f==="compact"?"1.75rem":"2.5rem",zIndex:0},Je(b==null?void 0:b.sx,E)),title:void 0});return x.jsx(Yt,Object.assign({},wc(),{title:(t=b==null?void 0:b.title)!==null&&t!==void 0?t:g?l.toggleSelectAll:l.toggleSelectRow,children:a===!1?x.jsx(rYe,Object.assign({},_)):x.jsx(sg,Object.assign({indeterminate:!v&&g?i.getIsSomeRowsSelected():(n==null?void 0:n.getIsSomeSelected())&&n.getCanSelectSubRows()},_))}))},Jct=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({row:r,staticRowIndex:i,table:o})=>x.jsx(L6,{row:r,staticRowIndex:i,table:o}),Header:n&&t?({table:r})=>x.jsx(L6,{table:r}):void 0,grow:!1},wy({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},eut={ArrowDownwardIcon:cme,ArrowRightIcon:cZe,CancelIcon:ume,ChevronLeftIcon:gZe,ChevronRightIcon:mZe,ClearAllIcon:yZe,CloseIcon:vZe,ContentCopy:w1,DensityLargeIcon:bZe,DensityMediumIcon:xZe,DensitySmallIcon:SZe,DragHandleIcon:CZe,DynamicFeedIcon:EZe,EditIcon:Ax,ExpandMoreIcon:lU,FilterAltIcon:RZe,FilterListIcon:C1,FilterListOffIcon:TZe,FirstPageIcon:MZe,FullscreenExitIcon:OZe,FullscreenIcon:AZe,KeyboardDoubleArrowDownIcon:IZe,LastPageIcon:$Ze,MoreHorizIcon:zZe,MoreVertIcon:gme,PushPinIcon:VZe,RestartAltIcon:mme,SaveIcon:WZe,SearchIcon:qZe,SearchOffIcon:GZe,SortIcon:QZe,SyncAltIcon:nJe,ViewColumnIcon:oJe,VisibilityOffIcon:aJe},tut={language:"en",actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},nut={filterVariant:"text",maxSize:1e3,minSize:40,size:180},Hye={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},rut=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:o,columnResizeMode:s="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:c,editDisplayMode:u="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:p=!0,enableColumnFilters:g=!0,enableColumnOrdering:m=!1,enableColumnPinning:v=!1,enableColumnResizing:b=!1,enableColumnVirtualization:S,enableDensityToggle:C=!0,enableExpandAll:_=!0,enableExpanding:E,enableFacetedValues:T=!1,enableFilterMatchHighlighting:k=!0,enableFilters:A=!0,enableFullScreenToggle:P=!0,enableGlobalFilter:D=!0,enableGlobalFilterRankedResults:F=!0,enableGrouping:I=!1,enableHiding:j=!0,enableKeyboardShortcuts:M=!0,enableMultiRowSelection:$=!0,enableMultiSort:L=!0,enablePagination:V=!0,enableRowPinning:q=!1,enableRowSelection:U=!1,enableRowVirtualization:z,enableSelectAll:B=!0,enableSorting:G=!0,enableStickyHeader:Y=!1,enableTableFooter:Q=!0,enableTableHead:K=!0,enableToolbarInternalActions:te=!0,enableTopToolbar:ce=!0,filterFns:ie,icons:re,id:he=O.useId(),layoutMode:fe,localization:ne,manualFiltering:pe,manualGrouping:W,manualPagination:se,manualSorting:ae,mrtTheme:X,paginationDisplayMode:Z="default",positionActionsColumn:oe="first",positionCreatingRow:ge="top",positionExpandColumn:be="first",positionGlobalFilter:de="right",positionPagination:Re="bottom",positionToolbarAlertBanner:xe="top",positionToolbarDropZone:ue="top",rowNumberDisplayMode:we="static",rowPinningDisplayMode:Oe="sticky",selectAllMode:ke="page",sortingFns:Ie}=e,ve=Xt(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHiding","enableKeyboardShortcuts","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","id","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","mrtTheme","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const _e=lr();return re=O.useMemo(()=>Object.assign(Object.assign({},eut),re),[re]),ne=O.useMemo(()=>Object.assign(Object.assign({},tut),ne),[ne]),X=O.useMemo(()=>Uct(X,_e),[X,_e]),n=O.useMemo(()=>Object.assign(Object.assign({},zct),n),[]),ie=O.useMemo(()=>Object.assign(Object.assign({},Bct),ie),[]),Ie=O.useMemo(()=>Object.assign(Object.assign({},$ct),Ie),[]),l=O.useMemo(()=>Object.assign(Object.assign({},nut),l),[l]),c=O.useMemo(()=>Object.assign(Object.assign({},Hye),c),[c]),[S,z]=O.useMemo(()=>[S,z],[]),o||(o=_e.direction||"ltr"),fe=fe||(b?"grid-no-grow":"semantic"),fe==="semantic"&&(z||S)&&(fe="grid"),z&&(Y=!0),V===!1&&se===void 0&&(se=!0),!((t=ve.data)===null||t===void 0)&&t.length||(pe=!0,W=!0,se=!0,ae=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:o,columnResizeMode:s,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:c,editDisplayMode:u,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:p,enableColumnFilters:g,enableColumnOrdering:m,enableColumnPinning:v,enableColumnResizing:b,enableColumnVirtualization:S,enableDensityToggle:C,enableExpandAll:_,enableExpanding:E,enableFacetedValues:T,enableFilterMatchHighlighting:k,enableFilters:A,enableFullScreenToggle:P,enableGlobalFilter:D,enableGlobalFilterRankedResults:F,enableGrouping:I,enableHiding:j,enableKeyboardShortcuts:M,enableMultiRowSelection:$,enableMultiSort:L,enablePagination:V,enableRowPinning:q,enableRowSelection:U,enableRowVirtualization:z,enableSelectAll:B,enableSorting:G,enableStickyHeader:Y,enableTableFooter:Q,enableTableHead:K,enableToolbarInternalActions:te,enableTopToolbar:ce,filterFns:ie,getCoreRowModel:Hnt(),getExpandedRowModel:E||I?Vnt():void 0,getFacetedMinMaxValues:T?Wnt():void 0,getFacetedRowModel:T?Ynt():void 0,getFacetedUniqueValues:T?Xnt():void 0,getFilteredRowModel:(g||D||A)&&!pe?Knt():void 0,getGroupedRowModel:I&&!W?Qnt():void 0,getPaginationRowModel:V&&!se?Jnt():void 0,getSortedRowModel:G&&!ae?ert():void 0,getSubRows:$e=>$e==null?void 0:$e.subRows,icons:re,id:he,layoutMode:fe,localization:ne,manualFiltering:pe,manualGrouping:W,manualPagination:se,manualSorting:ae,mrtTheme:X,paginationDisplayMode:Z,positionActionsColumn:oe,positionCreatingRow:ge,positionExpandColumn:be,positionGlobalFilter:de,positionPagination:Re,positionToolbarAlertBanner:xe,positionToolbarDropZone:ue,rowNumberDisplayMode:we,rowPinningDisplayMode:Oe,selectAllMode:ke,sortingFns:Ie},ve)},EL={children:null,sx:{minWidth:0,p:0,width:0}},iut=e=>Object.assign(Object.assign(Object.assign(Object.assign({},wy({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),Hye),{muiTableBodyCellProps:EL,muiTableFooterCellProps:EL,muiTableHeadCellProps:EL}),out=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:o,rowCount:s}}=e,{columnOrder:a,density:l,globalFilter:c,isFullScreen:u,isLoading:d,pagination:f,showSkeletons:p,sorting:g}=r(),m=e.options.columns.length,v=s??n().rows.length,b=O.useReducer(()=>({}),{})[1],S=O.useRef(null),C=O.useRef(null);O.useEffect(()=>{typeof window<"u"&&(S.current=document.body.style.height)},[]),O.useEffect(()=>{if(typeof window<"u")if(u)C.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=S.current,!C.current)return;window.scrollTo({behavior:"instant",top:-1*C.current})}},[u]),O.useEffect(()=>{m!==a.length&&e.setColumnOrder(UU(e.options))},[m]),O.useEffect(()=>{if(!i||d||p)return;const{pageIndex:E,pageSize:T}=f,k=v>0?Math.ceil(v/T):1;(E<0||E>=k)&&e.setPageIndex(k-1)},[v,i,d,p]);const _=O.useRef(g);O.useEffect(()=>{g.length&&(_.current=g)},[g]),O.useEffect(()=>{wye(e)&&(c?e.setSorting([]):e.setSorting(()=>_.current||[]))},[c]),O.useEffect(()=>{o&&t()&&setTimeout(()=>{b()},150)},[l])},sut=e=>{var t,n,r,i,o,s,a,l,c,u,d,f,p,g,m,v,b,S,C,_,E,T,k,A,P,D,F,I,j,M,$,L,V,q,U;const z=O.useRef(null),B=O.useRef(null),G=O.useRef(null),Y=O.useRef({}),Q=O.useRef({}),K=O.useRef(null),te=O.useRef(null),ce=O.useRef({}),ie=O.useRef(null),re=O.useRef(null),he=O.useRef(null),fe=O.useRef(null),ne=O.useMemo(()=>{var Tr,Zr,On;const Hn=(Tr=e.initialState)!==null&&Tr!==void 0?Tr:{};return Hn.columnOrder=(Zr=Hn.columnOrder)!==null&&Zr!==void 0?Zr:UU(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),Hn.globalFilterFn=(On=e.globalFilterFn)!==null&&On!==void 0?On:"fuzzy",Hn},[]);e.initialState=ne;const[pe,W]=O.useState((t=ne.actionCell)!==null&&t!==void 0?t:null),[se,ae]=O.useState((n=ne.creatingRow)!==null&&n!==void 0?n:null),[X,Z]=O.useState(()=>Object.assign({},...uO(e.columns).map(Tr=>{var Zr,On,Hn,ti;return{[Ib(Tr)]:Tr.filterFn instanceof Function?(Zr=Tr.filterFn.name)!==null&&Zr!==void 0?Zr:"custom":(ti=(On=Tr.filterFn)!==null&&On!==void 0?On:(Hn=ne==null?void 0:ne.columnFilterFns)===null||Hn===void 0?void 0:Hn[Ib(Tr)])!==null&&ti!==void 0?ti:Dct(Tr)}}))),[oe,ge]=O.useState((r=ne.columnOrder)!==null&&r!==void 0?r:[]),[be,de]=O.useState((i=ne.columnSizingInfo)!==null&&i!==void 0?i:{}),[Re,xe]=O.useState((o=ne==null?void 0:ne.density)!==null&&o!==void 0?o:"comfortable"),[ue,we]=O.useState((s=ne.draggingColumn)!==null&&s!==void 0?s:null),[Oe,ke]=O.useState((a=ne.draggingRow)!==null&&a!==void 0?a:null),[Ie,ve]=O.useState((l=ne.editingCell)!==null&&l!==void 0?l:null),[_e,$e]=O.useState((c=ne.editingRow)!==null&&c!==void 0?c:null),[De,ot]=O.useState((u=ne.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[Me,ze]=O.useState((d=ne.grouping)!==null&&d!==void 0?d:[]),[Qe,Rt]=O.useState((f=ne.hoveredColumn)!==null&&f!==void 0?f:null),[Et,Wt]=O.useState((p=ne.hoveredRow)!==null&&p!==void 0?p:null),[vn,It]=O.useState((g=ne==null?void 0:ne.isFullScreen)!==null&&g!==void 0?g:!1),[$t,ur]=O.useState((m=ne==null?void 0:ne.pagination)!==null&&m!==void 0?m:{pageIndex:0,pageSize:10}),[ht,jt]=O.useState((v=ne==null?void 0:ne.showAlertBanner)!==null&&v!==void 0?v:!1),[Ot,dr]=O.useState((b=ne==null?void 0:ne.showColumnFilters)!==null&&b!==void 0?b:!1),[xt,wt]=O.useState((S=ne==null?void 0:ne.showGlobalFilter)!==null&&S!==void 0?S:!1),[Bt,Kt]=O.useState((C=ne==null?void 0:ne.showToolbarDropZone)!==null&&C!==void 0?C:!1);e.state=Object.assign({actionCell:pe,columnFilterFns:X,columnOrder:oe,columnSizingInfo:be,creatingRow:se,density:Re,draggingColumn:ue,draggingRow:Oe,editingCell:Ie,editingRow:_e,globalFilterFn:De,grouping:Me,hoveredColumn:Qe,hoveredRow:Et,isFullScreen:vn,pagination:$t,showAlertBanner:ht,showColumnFilters:Ot,showGlobalFilter:xt,showToolbarDropZone:Bt},e.state);const gt=e,di=O.useRef([]);gt.columns=gt.state.columnSizingInfo.isResizingColumn||gt.state.draggingColumn||gt.state.draggingRow?di.current:vye({columnDefs:[...[kye(gt)&&Zct(gt),Rye(gt)&&Gct(gt),BU(gt)&&Wct(gt),zU(gt)&&Xct(gt),Tye(gt)&&Jct(gt),Mye(gt)&&Kct(gt)].filter(Boolean),...gt.columns,...[Aye(gt)&&iut(gt)].filter(Boolean)],tableOptions:gt}),di.current=gt.columns,gt.data=O.useMemo(()=>(gt.state.isLoading||gt.state.showSkeletons)&&!gt.data.length?[...Array(Math.min(gt.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...uO(gt.columns).map(Tr=>({[Ib(Tr)]:null})))):gt.data,[gt.data,gt.state.isLoading,gt.state.showSkeletons]);const Yn=trt(Object.assign(Object.assign({onColumnOrderChange:ge,onColumnSizingInfoChange:de,onGroupingChange:ze,onPaginationChange:ur},gt),{globalFilterFn:(_=gt.filterFns)===null||_===void 0?void 0:_[De??"fuzzy"]}));return Yn.refs={actionCellRef:B,bottomToolbarRef:G,editInputRefs:Y,filterInputRefs:Q,lastSelectedRowId:z,searchInputRef:K,tableContainerRef:te,tableFooterRef:fe,tableHeadCellRefs:ce,tableHeadRef:he,tablePaperRef:ie,topToolbarRef:re},Yn.setActionCell=(E=gt.onActionCellChange)!==null&&E!==void 0?E:W,Yn.setCreatingRow=Tr=>{var Zr,On;let Hn=Tr;Tr===!0&&(Hn=Pct(Yn)),(On=(Zr=gt==null?void 0:gt.onCreatingRowChange)===null||Zr===void 0?void 0:Zr.call(gt,Hn))!==null&&On!==void 0||ae(Hn)},Yn.setColumnFilterFns=(T=gt.onColumnFilterFnsChange)!==null&&T!==void 0?T:Z,Yn.setDensity=(k=gt.onDensityChange)!==null&&k!==void 0?k:xe,Yn.setDraggingColumn=(A=gt.onDraggingColumnChange)!==null&&A!==void 0?A:we,Yn.setDraggingRow=(P=gt.onDraggingRowChange)!==null&&P!==void 0?P:ke,Yn.setEditingCell=(D=gt.onEditingCellChange)!==null&&D!==void 0?D:ve,Yn.setEditingRow=(F=gt.onEditingRowChange)!==null&&F!==void 0?F:$e,Yn.setGlobalFilterFn=(I=gt.onGlobalFilterFnChange)!==null&&I!==void 0?I:ot,Yn.setHoveredColumn=(j=gt.onHoveredColumnChange)!==null&&j!==void 0?j:Rt,Yn.setHoveredRow=(M=gt.onHoveredRowChange)!==null&&M!==void 0?M:Wt,Yn.setIsFullScreen=($=gt.onIsFullScreenChange)!==null&&$!==void 0?$:It,Yn.setShowAlertBanner=(L=gt.onShowAlertBannerChange)!==null&&L!==void 0?L:jt,Yn.setShowColumnFilters=(V=gt.onShowColumnFiltersChange)!==null&&V!==void 0?V:dr,Yn.setShowGlobalFilter=(q=gt.onShowGlobalFilterChange)!==null&&q!==void 0?q:wt,Yn.setShowToolbarDropZone=(U=gt.onShowToolbarDropZoneChange)!==null&&U!==void 0?U:Kt,out(Yn),Yn},aut=e=>sut(rut(e)),Vye=(e,t)=>{const n=g0e(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},lut=e=>{var t,n,r,i;const{getState:o,options:{columnVirtualizerInstanceRef:s,columnVirtualizerOptions:a,enableColumnPinning:l,enableColumnVirtualization:c},refs:{tableContainerRef:u}}=e,{columnPinning:d,columnVisibility:f,draggingColumn:p}=o();if(!c)return;const g=Je(a,{table:e}),m=e.getVisibleLeafColumns(),[v,b]=O.useMemo(()=>l?[e.getLeftVisibleLeafColumns().map(A=>A.getPinnedIndex()),e.getRightVisibleLeafColumns().map(A=>m.length-A.getPinnedIndex()-1).sort((A,P)=>A-P)]:[[],[]],[d,f,l]),S=v.length,C=b.length,_=O.useMemo(()=>p!=null&&p.id?m.findIndex(A=>A.id===(p==null?void 0:p.id)):void 0,[p==null?void 0:p.id]),E=y0e(Object.assign({count:m.length,estimateSize:A=>m[A].getSize(),getScrollElement:()=>u.current,horizontal:!0,overscan:3,rangeExtractor:O.useCallback(A=>{const P=Vye(A,_);return!S&&!C?P:[...new Set([...v,...P,...b])]},[v,b,_])},g)),T=E.getVirtualItems();E.virtualColumns=T;const k=T.length;if(k){const A=E.getTotalSize(),P=((t=T[S])===null||t===void 0?void 0:t.start)||0,D=((n=T[v.length-1])===null||n===void 0?void 0:n.end)||0,F=((r=T[k-C])===null||r===void 0?void 0:r.start)||0,I=((i=T[k-C-1])===null||i===void 0?void 0:i.end)||0;E.virtualPaddingLeft=P-D,E.virtualPaddingRight=A-I-(C?A-F:0)}return s&&(s.current=E),E},cut=(e,t)=>{const{getRowModel:n,getState:r,options:{enableRowVirtualization:i,renderDetailPanel:o,rowVirtualizerInstanceRef:s,rowVirtualizerOptions:a},refs:{tableContainerRef:l}}=e,{density:c,draggingRow:u,expanded:d}=r();if(!i)return;const f=Je(a,{table:e}),p=t??n().rows,g=O.useMemo(()=>u!=null&&u.id?p.findIndex(S=>S.id===(u==null?void 0:u.id)):void 0,[p,u==null?void 0:u.id]),m=p.length,v=c==="compact"?37:c==="comfortable"?58:73,b=y0e(Object.assign({count:o?m*2:m,estimateSize:S=>o&&S%2===1?d===!0?100:0:v,getScrollElement:()=>l.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?S=>S==null?void 0:S.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:O.useCallback(S=>Vye(S,g),[g])},f));return b.virtualRows=b.getVirtualItems(),s&&(s.current=b),b},uut=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:o}}=e,{creatingRow:s,expanded:a,globalFilter:l,pagination:c,rowPinning:u,sorting:d}=n();return O.useMemo(()=>Sye(e),[s,r,i,a,t().rows,l,c.pageIndex,c.pageSize,o,u,d])},kL=["string","number"],jre=({cell:e,rowRef:t,staticColumnIndex:n,staticRowIndex:r,table:i})=>{var o,s,a;const{getState:l,options:{enableFilterMatchHighlighting:c,mrtTheme:{matchHighlightColor:u}}}=i,{column:d,row:f}=e,{columnDef:p}=d,{globalFilter:g,globalFilterFn:m}=l(),v=d.getFilterValue();let b=e.getIsAggregated()&&p.AggregatedCell?p.AggregatedCell({cell:e,column:d,row:f,table:i,staticColumnIndex:n,staticRowIndex:r}):f.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&p.GroupedCell?p.GroupedCell({cell:e,column:d,row:f,table:i,staticColumnIndex:n,staticRowIndex:r}):void 0;const S=b!==void 0;if(S||(b=e.renderValue()),c&&p.enableFilterMatchHighlighting!==!1&&String(b)&&kL.includes(typeof b)&&(v&&kL.includes(typeof v)&&["autocomplete","text"].includes(p.filterVariant)||g&&kL.includes(typeof g)&&d.getCanGlobalFilter())){const C=wL==null?void 0:wL({matchExactly:(v?p._filterFn:m)!=="fuzzy",query:((o=v??g)!==null&&o!==void 0?o:"").toString(),text:b==null?void 0:b.toString()});((C==null?void 0:C.length)>1||!((s=C==null?void 0:C[0])===null||s===void 0)&&s.match)&&(b=x.jsx("span",{"aria-label":b,role:"note",children:(a=C==null?void 0:C.map(({key:_,match:E,text:T})=>x.jsx(lt,{"aria-hidden":"true",component:"span",sx:E?{backgroundColor:u,borderRadius:"2px",color:k=>k.palette.mode==="dark"?k.palette.common.white:k.palette.common.black,padding:"2px 1px"}:void 0,children:T},_)))!==null&&a!==void 0?a:b}))}return p.Cell&&!S&&(b=p.Cell({cell:e,column:d,renderedCellValue:b,row:f,rowRef:t,staticColumnIndex:n,staticRowIndex:r,table:i})),b},dut=e=>{var t,{cell:n,table:r}=e,i=Xt(e,["cell","table"]);const{options:{localization:o,muiCopyButtonProps:s}}=r,{column:a,row:l}=n,{columnDef:c}=a,[u,d]=O.useState(!1),f=(g,m)=>{g.stopPropagation(),navigator.clipboard.writeText(m),d(!0),setTimeout(()=>d(!1),4e3)},p=Object.assign(Object.assign(Object.assign({},Je(s,{cell:n,column:a,row:l,table:r})),Je(c.muiCopyButtonProps,{cell:n,column:a,row:l,table:r})),i);return x.jsx(Yt,Object.assign({},wc("top"),{title:(t=p==null?void 0:p.title)!==null&&t!==void 0?t:u?o.copiedToClipboard:o.clickToCopy,children:x.jsx(Ft,Object.assign({onClick:g=>f(g,n.getValue()),size:"small",type:"button",variant:"text"},p,{sx:g=>Object.assign({backgroundColor:"transparent",border:"none",color:"inherit",cursor:"copy",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit",m:"-0.25rem",minWidth:"unset",py:0,textAlign:"inherit",textTransform:"inherit"},Je(p==null?void 0:p.sx,g)),title:void 0}))}))},Wye=e=>{var t,n,{cell:r,table:i}=e,o=Xt(e,["cell","table"]);const{getState:s,options:{createDisplayMode:a,editDisplayMode:l,muiEditTextFieldProps:c},refs:{editInputRefs:u},setCreatingRow:d,setEditingCell:f,setEditingRow:p}=i,{column:g,row:m}=r,{columnDef:v}=g,{creatingRow:b,editingRow:S}=s(),{editSelectOptions:C,editVariant:_}=v,E=(b==null?void 0:b.id)===m.id,T=(S==null?void 0:S.id)===m.id,[k,A]=O.useState(()=>r.getValue()),[P,D]=O.useState(!0),F=Object.assign(Object.assign(Object.assign({},Je(c,{cell:r,column:g,row:m,table:i})),Je(v.muiEditTextFieldProps,{cell:r,column:g,row:m,table:i})),o),I=Je(C,{cell:r,column:g,row:m,table:i}),j=_==="select"||(F==null?void 0:F.select),M=q=>{m._valuesCache[g.id]=q,E?d(m):T&&p(m)},$=q=>{var U;(U=F.onChange)===null||U===void 0||U.call(F,q),A(q.target.value),j&&M(q.target.value)},L=q=>{var U;(U=F.onBlur)===null||U===void 0||U.call(F,q),M(k),f(null)},V=q=>{var U,z,B;(U=F.onKeyDown)===null||U===void 0||U.call(F,q),q.key==="Enter"&&!q.shiftKey&&P&&((B=(z=u.current)===null||z===void 0?void 0:z[g.id])===null||B===void 0||B.blur())};return v.Edit?x.jsx(x.Fragment,{children:(t=v.Edit)===null||t===void 0?void 0:t.call(v,{cell:r,column:g,row:m,table:i})}):x.jsx(Ir,Object.assign({disabled:Je(v.enableEditing,m)===!1,fullWidth:!0,inputRef:q=>{q&&(u.current[g.id]=j?q.node:q,F.inputRef&&(F.inputRef=q))},label:["custom","modal"].includes(E?a:l)?v.header:void 0,margin:"none",name:g.id,placeholder:["custom","modal"].includes(E?a:l)?void 0:v.header,select:j,size:"small",value:k??"",variant:"standard"},F,{InputProps:Object.assign(Object.assign(Object.assign({},F.variant!=="outlined"?{disableUnderline:l==="table"}:{}),F.InputProps),{sx:q=>{var U;return Object.assign({mb:0},Je((U=F==null?void 0:F.InputProps)===null||U===void 0?void 0:U.sx,q))}}),SelectProps:Object.assign({MenuProps:{disableScrollLock:!0}},F.SelectProps),inputProps:Object.assign({autoComplete:"off"},F.inputProps),onBlur:L,onChange:$,onClick:q=>{var U;q.stopPropagation(),(U=F==null?void 0:F.onClick)===null||U===void 0||U.call(F,q)},onKeyDown:V,onCompositionStart:()=>D(!1),onCompositionEnd:()=>D(!0),children:(n=F.children)!==null&&n!==void 0?n:I==null?void 0:I.map(q=>{const{label:U,value:z}=wf(q);return x.jsx(ir,{sx:{alignItems:"center",display:"flex",gap:"0.5rem",m:0},value:z,children:U},z)})}))},qye=e=>{var t,n,r,i,o,{cell:s,numRows:a,rowRef:l,staticColumnIndex:c,staticRowIndex:u,table:d}=e,f=Xt(e,["cell","numRows","rowRef","staticColumnIndex","staticRowIndex","table"]);const p=lr(),{getState:g,options:{columnResizeDirection:m,columnResizeMode:v,createDisplayMode:b,editDisplayMode:S,enableCellActions:C,enableClickToCopy:_,enableColumnOrdering:E,enableColumnPinning:T,enableGrouping:k,enableKeyboardShortcuts:A,layoutMode:P,mrtTheme:{draggingBorderColor:D},muiSkeletonProps:F,muiTableBodyCellProps:I},setHoveredColumn:j}=d,{actionCell:M,columnSizingInfo:$,creatingRow:L,density:V,draggingColumn:q,draggingRow:U,editingCell:z,editingRow:B,hoveredColumn:G,hoveredRow:Y,isLoading:Q,showSkeletons:K}=g(),{column:te,row:ce}=s,{columnDef:ie}=te,{columnDefType:re}=ie,he={cell:s,column:te,row:ce,table:d},fe=Object.assign(Object.assign(Object.assign({},Je(I,he)),Je(ie.muiTableBodyCellProps,he)),f),ne=Je(F,{cell:s,column:te,row:ce,table:d}),[pe,W]=O.useState(100);O.useEffect(()=>{if(!Q&&!K||pe!==100)return;const ke=te.getSize();W(re==="display"?ke/2:Math.round(Math.random()*(ke-ke/3)+ke/3))},[Q,K]);const se=O.useMemo(()=>{const ke=(q==null?void 0:q.id)===te.id,Ie=(G==null?void 0:G.id)===te.id,ve=(U==null?void 0:U.id)===ce.id,_e=(Y==null?void 0:Y.id)===ce.id,$e=te.getIsFirstColumn(),De=te.getIsLastColumn(),ot=a&&u===a-1,Me=$.isResizingColumn===te.id,ze=Me&&v==="onChange",Qe=ze?`2px solid ${D} !important`:ke||ve?`1px dashed ${p.palette.grey[500]} !important`:Ie||_e||Me?`2px dashed ${D} !important`:void 0;return ze?m==="ltr"?{borderRight:Qe}:{borderLeft:Qe}:Qe?{borderBottom:ve||_e||ot&&!Me?Qe:void 0,borderLeft:ke||Ie||(ve||_e)&&$e?Qe:void 0,borderRight:ke||Ie||(ve||_e)&&De?Qe:void 0,borderTop:ve||_e?Qe:void 0}:void 0},[$.isResizingColumn,q,U,G,Y,u]),ae=T&&ie.columnDefType!=="group"&&te.getIsPinned(),X=_ye({cell:s,table:d}),Z=X&&!["custom","modal"].includes(S)&&(S==="table"||(B==null?void 0:B.id)===ce.id||(z==null?void 0:z.id)===s.id)&&!ce.getIsGrouped(),oe=X&&b==="row"&&(L==null?void 0:L.id)===ce.id,ge=(Je(_,s)===!0||Je(ie.enableClickToCopy,s)===!0)&&!["context-menu",!1].includes(Je(ie.enableClickToCopy,s)),be=Je(C,s),de={cell:s,table:d,staticColumnIndex:c,staticRowIndex:u},Re=ke=>{var Ie;(Ie=fe==null?void 0:fe.onDoubleClick)===null||Ie===void 0||Ie.call(fe,ke),Eye({cell:s,table:d})},xe=ke=>{var Ie;(Ie=fe==null?void 0:fe.onDragEnter)===null||Ie===void 0||Ie.call(fe,ke),k&&(G==null?void 0:G.id)==="drop-zone"&&j(null),E&&q&&j(ie.enableColumnOrdering!==!1?te:null)},ue=ke=>{ie.enableColumnOrdering!==!1&&ke.preventDefault()},we=ke=>{var Ie;(Ie=fe==null?void 0:fe.onContextMenu)===null||Ie===void 0||Ie.call(fe,ke),be&&(ke.preventDefault(),d.setActionCell(s),d.refs.actionCellRef.current=ke.currentTarget)},Oe=ke=>{var Ie;(Ie=fe==null?void 0:fe.onKeyDown)===null||Ie===void 0||Ie.call(fe,ke),jU({cell:s,cellValue:s.getValue(),event:ke,table:d})};return x.jsx(qP,Object.assign({align:p.direction==="rtl"?"right":"left","data-index":c,"data-pinned":!!ae||void 0,tabIndex:A?0:void 0},fe,{onKeyDown:Oe,onContextMenu:we,onDoubleClick:Re,onDragEnter:xe,onDragOver:ue,sx:ke=>Object.assign(Object.assign({"&:hover":{outline:(M==null?void 0:M.id)===s.id||S==="cell"&&X||S==="table"&&(oe||Z)?`1px solid ${ke.palette.grey[500]}`:void 0,textOverflow:"clip"},alignItems:P!=null&&P.startsWith("grid")?"center":void 0,cursor:be?"context-menu":X&&S==="cell"?"pointer":"inherit",outline:(M==null?void 0:M.id)===s.id?`1px solid ${ke.palette.grey[500]}`:void 0,outlineOffset:"-1px",overflow:"hidden",p:V==="compact"?re==="display"?"0 0.5rem":"0.5rem":V==="comfortable"?re==="display"?"0.5rem 0.75rem":"1rem":re==="display"?"1rem 1.25rem":"1.5rem",textOverflow:re!=="display"?"ellipsis":void 0,whiteSpace:ce.getIsPinned()||V==="compact"?"nowrap":"normal"},WU({column:te,table:d,tableCellProps:fe,theme:ke})),se),children:(t=fe.children)!==null&&t!==void 0?t:x.jsxs(x.Fragment,{children:[s.getIsPlaceholder()?(r=(n=ie.PlaceholderCell)===null||n===void 0?void 0:n.call(ie,{cell:s,column:te,row:ce,table:d}))!==null&&r!==void 0?r:null:K!==!1&&(Q||K)?x.jsx(bYe,Object.assign({animation:"wave",height:20,width:pe},ne)):re==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(te.id)||!ce.getIsGrouped())?(i=ie.Cell)===null||i===void 0?void 0:i.call(ie,{cell:s,column:te,renderedCellValue:s.renderValue(),row:ce,rowRef:l,staticColumnIndex:c,staticRowIndex:u,table:d}):oe||Z?x.jsx(Wye,{cell:s,table:d}):ge&&ie.enableClickToCopy!==!1?x.jsx(dut,{cell:s,table:d,children:x.jsx(jre,Object.assign({},de))}):x.jsx(jre,Object.assign({},de)),s.getIsGrouped()&&!ie.GroupedCell&&x.jsxs(x.Fragment,{children:[" (",(o=ce.subRows)===null||o===void 0?void 0:o.length,")"]})]})}))},fut=O.memo(qye,(e,t)=>t.cell===e.cell),put=e=>{var{parentRowRef:t,row:n,rowVirtualizer:r,staticRowIndex:i,table:o,virtualRow:s}=e,a=Xt(e,["parentRowRef","row","rowVirtualizer","staticRowIndex","table","virtualRow"]);const{getState:l,getVisibleLeafColumns:c,options:{layoutMode:u,mrtTheme:{baseBackgroundColor:d},muiDetailPanelProps:f,muiTableBodyRowProps:p,renderDetailPanel:g}}=o,{isLoading:m}=l(),v=Je(p,{isDetailPanel:!0,row:n,staticRowIndex:i,table:o}),b=Object.assign(Object.assign({},Je(f,{row:n,table:o})),a),S=!m&&(g==null?void 0:g({row:n,table:o}));return x.jsx(GP,Object.assign({className:"Mui-TableBodyCell-DetailPanel","data-index":g?i*2+1:i,ref:C=>{var _;C&&((_=r==null?void 0:r.measureElement)===null||_===void 0||_.call(r,C))}},v,{sx:C=>{var _,E;return Object.assign({display:u!=null&&u.startsWith("grid")?"flex":void 0,position:s?"absolute":void 0,top:s?`${(E=(_=t.current)===null||_===void 0?void 0:_.getBoundingClientRect())===null||E===void 0?void 0:E.height}px`:void 0,transform:s?`translateY(${s==null?void 0:s.start}px)`:void 0,width:"100%"},Je(v==null?void 0:v.sx,C))},children:x.jsx(qP,Object.assign({className:"Mui-TableBodyCell-DetailPanel",colSpan:c().length},b,{sx:C=>Object.assign({backgroundColor:s?d:void 0,borderBottom:n.getIsExpanded()?void 0:"none",display:u!=null&&u.startsWith("grid")?"flex":void 0,py:S&&n.getIsExpanded()?"1rem":0,transition:s?void 0:"all 150ms ease-in-out",width:"100%"},Je(b==null?void 0:b.sx,C)),children:s?n.getIsExpanded()&&S:x.jsx(ig,{in:n.getIsExpanded(),mountOnEnter:!0,unmountOnExit:!0,children:S})}))}))},UM=e=>{var t,n,r,i,{columnVirtualizer:o,numRows:s,pinnedRowIds:a,row:l,rowVirtualizer:c,staticRowIndex:u,table:d,virtualRow:f}=e,p=Xt(e,["columnVirtualizer","numRows","pinnedRowIds","row","rowVirtualizer","staticRowIndex","table","virtualRow"]);const g=lr(),{getState:m,options:{enableRowOrdering:v,enableRowPinning:b,enableStickyFooter:S,enableStickyHeader:C,layoutMode:_,memoMode:E,mrtTheme:{baseBackgroundColor:T,pinnedRowBackgroundColor:k,selectedRowBackgroundColor:A},muiTableBodyRowProps:P,renderDetailPanel:D,rowPinningDisplayMode:F},refs:{tableFooterRef:I,tableHeadRef:j},setHoveredRow:M}=d,{density:$,draggingColumn:L,draggingRow:V,editingCell:q,editingRow:U,hoveredRow:z,isFullScreen:B,rowPinning:G}=m(),Y=l.getVisibleCells(),{virtualColumns:Q,virtualPaddingLeft:K,virtualPaddingRight:te}=o??{},ce=dO({row:l,table:d}),ie=b&&l.getIsPinned(),re=(V==null?void 0:V.id)===l.id,he=(z==null?void 0:z.id)===l.id,fe=Object.assign(Object.assign({},Je(P,{row:l,staticRowIndex:u,table:d})),p),[ne,pe]=O.useMemo(()=>!b||!(F!=null&&F.includes("sticky"))||!a||!l.getIsPinned()?[]:[[...a].reverse().indexOf(l.id),a.indexOf(l.id)],[a,G]),W=(C||B)&&((t=j.current)===null||t===void 0?void 0:t.clientHeight)||0,se=S&&((n=I.current)===null||n===void 0?void 0:n.clientHeight)||0,ae=Je(fe==null?void 0:fe.sx,g),X=$==="compact"?37:$==="comfortable"?53:69,oe=parseInt((i=(r=fe==null?void 0:fe.style)===null||r===void 0?void 0:r.height)!==null&&i!==void 0?i:ae==null?void 0:ae.height,10)||void 0||X,ge=ue=>{v&&V&&M(l)},be=ue=>{ue.preventDefault()},de=O.useRef(null),Re=ce?A:ie?k:void 0,xe=(fe==null?void 0:fe.hover)!==!1?ce?Re:g.palette.mode==="dark"?`${Ho(T,.3)}`:`${fl(T,.3)}`:void 0;return x.jsxs(x.Fragment,{children:[x.jsxs(GP,Object.assign({"data-index":D?u*2:u,"data-pinned":!!ie||void 0,"data-selected":ce||void 0,onDragEnter:ge,onDragOver:be,ref:ue=>{ue&&(de.current=ue,c==null||c.measureElement(ue))},selected:ce},fe,{style:Object.assign({transform:f?`translateY(${f.start}px)`:void 0},fe==null?void 0:fe.style),sx:ue=>Object.assign({"&:hover td:after":xe?Object.assign({backgroundColor:_t(xe,.3)},N6):void 0,backgroundColor:`${T} !important`,bottom:!f&&ne!==void 0&&ie?`${ne*oe+(S?se-1:0)}px`:void 0,boxSizing:"border-box",display:_!=null&&_.startsWith("grid")?"flex":void 0,opacity:ie?.97:re||he?.5:1,position:f?"absolute":F!=null&&F.includes("sticky")&&ie?"sticky":"relative",td:Object.assign({},Bye({table:d,theme:ue})),"td:after":Re?Object.assign({backgroundColor:Re},N6):void 0,top:f?0:pe!==void 0&&ie?`${pe*oe+(C||B?W-1:0)}px`:void 0,transition:f?"none":"all 150ms ease-in-out",width:"100%",zIndex:F!=null&&F.includes("sticky")&&ie?2:0},ae),children:[K?x.jsx("td",{style:{display:"flex",width:K}}):null,(Q??Y).map((ue,we)=>{let Oe=ue;o&&(we=ue.index,Oe=Y[we]);const ke={cell:Oe,numRows:s,rowRef:de,staticColumnIndex:we,staticRowIndex:u,table:d},Ie=`${Oe.id}-${u}`;return Oe?E==="cells"&&Oe.column.columnDef.columnDefType==="data"&&!L&&!V&&(q==null?void 0:q.id)!==Oe.id&&(U==null?void 0:U.id)!==l.id?x.jsx(fut,Object.assign({},ke),Ie):x.jsx(qye,Object.assign({},ke),Ie):null}),te?x.jsx("td",{style:{display:"flex",width:te}}):null]})),D&&!l.getIsGrouped()&&x.jsx(put,{parentRowRef:de,row:l,rowVirtualizer:c,staticRowIndex:u,table:d,virtualRow:f})]})},RL=O.memo(UM,(e,t)=>e.row===t.row&&e.staticRowIndex===t.staticRowIndex),Gye=e=>{var t,n,r,i,o,s,{columnVirtualizer:a,table:l}=e,c=Xt(e,["columnVirtualizer","table"]);const{getBottomRows:u,getIsSomeRowsPinned:d,getRowModel:f,getState:p,getTopRows:g,options:{enableStickyFooter:m,enableStickyHeader:v,layoutMode:b,localization:S,memoMode:C,muiTableBodyProps:_,renderDetailPanel:E,renderEmptyRowsFallback:T,rowPinningDisplayMode:k},refs:{tableFooterRef:A,tableHeadRef:P,tablePaperRef:D}}=l,{columnFilters:F,globalFilter:I,isFullScreen:j,rowPinning:M}=p(),$=Object.assign(Object.assign({},Je(_,{table:l})),c),L=(v||j)&&((t=P.current)===null||t===void 0?void 0:t.clientHeight)||0,V=m&&((n=A.current)===null||n===void 0?void 0:n.clientHeight)||0,q=O.useMemo(()=>{var Y,Q;return!(!((Y=M.bottom)===null||Y===void 0)&&Y.length)&&!(!((Q=M.top)===null||Q===void 0)&&Q.length)?[]:f().rows.filter(K=>K.getIsPinned()).map(K=>K.id)},[M,f().rows]),U=uut(l),z=cut(l,U),{virtualRows:B}=z??{},G={columnVirtualizer:a,numRows:U.length,table:l};return x.jsxs(x.Fragment,{children:[!(k!=null&&k.includes("sticky"))&&d("top")&&x.jsx(zN,Object.assign({},$,{sx:Y=>Object.assign({display:b!=null&&b.startsWith("grid")?"grid":void 0,position:"sticky",top:L-1,zIndex:1},Je($==null?void 0:$.sx,Y)),children:g().map((Y,Q)=>{const K=Object.assign(Object.assign({},G),{row:Y,staticRowIndex:Q});return C==="rows"?x.jsx(RL,Object.assign({},K),Y.id):x.jsx(UM,Object.assign({},K),Y.id)})})),x.jsx(zN,Object.assign({},$,{sx:Y=>Object.assign({display:b!=null&&b.startsWith("grid")?"grid":void 0,height:z?`${z.getTotalSize()}px`:void 0,minHeight:U.length?void 0:"100px",position:"relative"},Je($==null?void 0:$.sx,Y)),children:(r=$==null?void 0:$.children)!==null&&r!==void 0?r:U.length?x.jsx(x.Fragment,{children:(B??U).map((Y,Q)=>{let K=Y;if(z){if(E){if(Y.index%2===1)return null;Q=Y.index/2}else Q=Y.index;K=U[Q]}const te=Object.assign(Object.assign({},G),{pinnedRowIds:q,row:K,rowVirtualizer:z,staticRowIndex:Q,virtualRow:z?Y:void 0}),ce=`${K.id}-${K.index}`;return C==="rows"?x.jsx(RL,Object.assign({},te),ce):x.jsx(UM,Object.assign({},te),ce)})}):x.jsx("tr",{style:{display:b!=null&&b.startsWith("grid")?"grid":void 0},children:x.jsx("td",{colSpan:l.getVisibleLeafColumns().length,style:{display:b!=null&&b.startsWith("grid")?"grid":void 0},children:(i=T==null?void 0:T({table:l}))!==null&&i!==void 0?i:x.jsx(it,{sx:{color:"text.secondary",fontStyle:"italic",maxWidth:`min(100vw, ${(s=(o=D.current)===null||o===void 0?void 0:o.clientWidth)!==null&&s!==void 0?s:360}px)`,py:"2rem",textAlign:"center",width:"100%"},children:I||F.length?S.noResultsFound:S.noRecordsToDisplay})})})})),!(k!=null&&k.includes("sticky"))&&d("bottom")&&x.jsx(zN,Object.assign({},$,{sx:Y=>Object.assign({bottom:V-1,display:b!=null&&b.startsWith("grid")?"grid":void 0,position:"sticky",zIndex:1},Je($==null?void 0:$.sx,Y)),children:u().map((Y,Q)=>{const K=Object.assign(Object.assign({},G),{row:Y,staticRowIndex:Q});return C==="rows"?x.jsx(RL,Object.assign({},K),Y.id):x.jsx(UM,Object.assign({},K),Y.id)})}))]})},hut=O.memo(Gye,(e,t)=>e.table.options.data===t.table.options.data),gut=e=>{var t,n,r,{footer:i,staticColumnIndex:o,table:s}=e,a=Xt(e,["footer","staticColumnIndex","table"]);const l=lr(),{getState:c,options:{enableColumnPinning:u,muiTableFooterCellProps:d,enableKeyboardShortcuts:f}}=s,{density:p}=c(),{column:g}=i,{columnDef:m}=g,{columnDefType:v}=m,b=u&&m.columnDefType!=="group"&&g.getIsPinned(),S={column:g,table:s},C=Object.assign(Object.assign(Object.assign({},Je(d,S)),Je(m.muiTableFooterCellProps,S)),a),_=E=>{var T;(T=C==null?void 0:C.onKeyDown)===null||T===void 0||T.call(C,E),jU({event:E,cellValue:i.column.columnDef.footer,table:s})};return x.jsx(qP,Object.assign({align:v==="group"?"center":l.direction==="rtl"?"right":"left",colSpan:i.colSpan,"data-index":o,"data-pinned":!!b||void 0,tabIndex:f?0:void 0,variant:"footer"},C,{onKeyDown:_,sx:E=>Object.assign(Object.assign({fontWeight:"bold",p:p==="compact"?"0.5rem":p==="comfortable"?"1rem":"1.5rem",verticalAlign:"top"},WU({column:g,header:i,table:s,tableCellProps:C,theme:E})),Je(C==null?void 0:C.sx,E)),children:(t=C.children)!==null&&t!==void 0?t:i.isPlaceholder?null:(r=(n=Je(m.Footer,{column:g,footer:i,table:s}))!==null&&n!==void 0?n:m.footer)!==null&&r!==void 0?r:null}))},mut=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,o=Xt(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:s,mrtTheme:{baseBackgroundColor:a},muiTableFooterRowProps:l}}=i,{virtualColumns:c,virtualPaddingLeft:u,virtualPaddingRight:d}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(p=>typeof p.column.columnDef.footer=="string"&&!!p.column.columnDef.footer||p.column.columnDef.Footer)))return null;const f=Object.assign(Object.assign({},Je(l,{footerGroup:r,table:i})),o);return x.jsxs(GP,Object.assign({},f,{sx:p=>Object.assign({backgroundColor:a,display:s!=null&&s.startsWith("grid")?"flex":void 0,position:"relative",width:"100%"},Je(f==null?void 0:f.sx,p)),children:[u?x.jsx("th",{style:{display:"flex",width:u}}):null,(c??r.headers).map((p,g)=>{let m=p;return n&&(g=p.index,m=r.headers[g]),m?x.jsx(gut,{footer:m,staticColumnIndex:g,table:i},m.id):null}),d?x.jsx("th",{style:{display:"flex",width:d}}):null]}))},yut=e=>{var{columnVirtualizer:t,table:n}=e,r=Xt(e,["columnVirtualizer","table"]);const{getState:i,options:{enableStickyFooter:o,layoutMode:s,muiTableFooterProps:a},refs:{tableFooterRef:l}}=n,{isFullScreen:c}=i(),u=Object.assign(Object.assign({},Je(a,{table:n})),r),d=(c||o)&&o!==!1,f=n.getFooterGroups();return f.some(p=>{var g;return(g=p.headers)===null||g===void 0?void 0:g.some(m=>typeof m.column.columnDef.footer=="string"&&!!m.column.columnDef.footer||m.column.columnDef.Footer)})?x.jsx(OXe,Object.assign({},u,{ref:p=>{l.current=p,u!=null&&u.ref&&(u.ref.current=p)},sx:p=>Object.assign({bottom:d?0:void 0,display:s!=null&&s.startsWith("grid")?"grid":void 0,opacity:d?.97:void 0,outline:d?p.palette.mode==="light"?`1px solid ${p.palette.grey[300]}`:`1px solid ${p.palette.grey[700]}`:void 0,position:d?"sticky":"relative",zIndex:d?1:void 0},Je(u==null?void 0:u.sx,p)),children:f.map(p=>x.jsx(mut,{columnVirtualizer:t,footerGroup:p,table:n},p.id))})):null},vut=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],vT=["between","betweenInclusive","inNumberRange"],TL=["empty","notEmpty"],but=["arrIncludesSome","arrIncludesAll","arrIncludes"],xut=["range-slider","date-range","datetime-range","range"],GU=e=>{var t,n,r,i,{anchorEl:o,header:s,onSelect:a,setAnchorEl:l,setFilterValue:c,table:u}=e,d=Xt(e,["anchorEl","header","onSelect","setAnchorEl","setFilterValue","table"]);const{getState:f,options:{columnFilterModeOptions:p,globalFilterModeOptions:g,localization:m,mrtTheme:{menuBackgroundColor:v},renderColumnFilterModeMenuItems:b,renderGlobalFilterModeMenuItems:S},setColumnFilterFns:C,setGlobalFilterFn:_}=u,{density:E,globalFilterFn:T}=f(),{column:k}=s??{},{columnDef:A}=k??{},P=k==null?void 0:k.getFilterValue();let D=(t=A==null?void 0:A.columnFilterModeOptions)!==null&&t!==void 0?t:p;xut.includes(A==null?void 0:A.filterVariant)&&(D=[...vT,...D??[]].filter(M=>vT.includes(M)));const F=O.useMemo(()=>vut(m).filter(M=>A?D===void 0||(D==null?void 0:D.includes(M.option)):(!g||g.includes(M.option))&&["contains","fuzzy","startsWith"].includes(M.option)),[]),I=M=>{var $,L;const V=($=A==null?void 0:A._filterFn)!==null&&$!==void 0?$:"";!s||!k?_(M):M!==V&&(C(q=>Object.assign(Object.assign({},q),{[s.id]:M})),TL.includes(M)?P!==" "&&!TL.includes(V)?k.setFilterValue(" "):P&&k.setFilterValue(P):(A==null?void 0:A.filterVariant)==="multi-select"||but.includes(M)?P instanceof String||P!=null&&P.length?(k.setFilterValue([]),c==null||c([])):P&&k.setFilterValue(P):!((L=A==null?void 0:A.filterVariant)===null||L===void 0)&&L.includes("range")||vT.includes(M)?!Array.isArray(P)||!(P!=null&&P.every(q=>q===""))&&!vT.includes(V)?(k.setFilterValue(["",""]),c==null||c("")):k.setFilterValue(P):Array.isArray(P)?(k.setFilterValue(""),c==null||c("")):P===" "&&TL.includes(V)?k.setFilterValue(void 0):k.setFilterValue(P)),l(null),a==null||a()},j=s&&A?A._filterFn:T;return x.jsx($d,Object.assign({MenuListProps:{dense:E==="compact",sx:{backgroundColor:v}},anchorEl:o,anchorOrigin:{horizontal:"right",vertical:"center"},disableScrollLock:!0,onClose:()=>l(null),open:!!o},d,{children:(i=s&&k&&A?(r=(n=A.renderColumnFilterModeMenuItems)===null||n===void 0?void 0:n.call(A,{column:k,internalFilterOptions:F,onSelectFilterMode:I,table:u}))!==null&&r!==void 0?r:b==null?void 0:b({column:k,internalFilterOptions:F,onSelectFilterMode:I,table:u}):S==null?void 0:S({internalFilterOptions:F,onSelectFilterMode:I,table:u}))!==null&&i!==void 0?i:F.map(({divider:M,label:$,option:L,symbol:V},q)=>x.jsx(is,{divider:M,icon:V,label:$,onClick:()=>I(L),selected:L===j,table:u,value:L},q))}))},Sut=e=>{var t,n,r,i,o,s,a,l,c,u,{anchorEl:d,header:f,setAnchorEl:p,table:g}=e,m=Xt(e,["anchorEl","header","setAnchorEl","table"]);const{getAllLeafColumns:v,getState:b,options:{columnFilterDisplayMode:S,columnFilterModeOptions:C,enableColumnFilterModes:_,enableColumnFilters:E,enableColumnPinning:T,enableColumnResizing:k,enableGrouping:A,enableHiding:P,enableSorting:D,enableSortingRemoval:F,icons:{ClearAllIcon:I,DynamicFeedIcon:j,FilterListIcon:M,FilterListOffIcon:$,PushPinIcon:L,RestartAltIcon:V,SortIcon:q,ViewColumnIcon:U,VisibilityOffIcon:z},localization:B,mrtTheme:{menuBackgroundColor:G},renderColumnActionsMenuItems:Y},refs:{filterInputRefs:Q},setColumnFilterFns:K,setColumnOrder:te,setColumnSizingInfo:ce,setShowColumnFilters:ie}=g,{column:re}=f,{columnDef:he}=re,{columnSizing:fe,columnVisibility:ne,density:pe,showColumnFilters:W}=b(),se=re.getFilterValue(),[ae,X]=O.useState(null),Z=()=>{re.clearSorting(),p(null)},oe=()=>{re.toggleSorting(!1),p(null)},ge=()=>{re.toggleSorting(!0),p(null)},be=()=>{ce(De=>Object.assign(Object.assign({},De),{isResizingColumn:!1})),re.resetSize(),p(null)},de=()=>{re.toggleVisibility(!1),p(null)},Re=De=>{re.pin(De),p(null)},xe=()=>{re.toggleGrouping(),te(De=>["mrt-row-expand",...De]),p(null)},ue=()=>{re.setFilterValue(void 0),p(null),["empty","notEmpty"].includes(he._filterFn)&&K(De=>{var ot;return Object.assign(Object.assign({},De),{[f.id]:(ot=ve==null?void 0:ve[0])!==null&&ot!==void 0?ot:"fuzzy"})})},we=()=>{ie(!0),queueMicrotask(()=>{var De,ot;return(ot=(De=Q.current)===null||De===void 0?void 0:De[`${re.id}-0`])===null||ot===void 0?void 0:ot.focus()}),p(null)},Oe=()=>{v().filter(De=>De.columnDef.enableHiding!==!1).forEach(De=>De.toggleVisibility(!0)),p(null)},ke=De=>{De.stopPropagation(),X(De.currentTarget)},Ie=!!he.filterSelectOptions,ve=(t=he==null?void 0:he.columnFilterModeOptions)!==null&&t!==void 0?t:C,_e=_&&he.enableColumnFilterModes!==!1&&!Ie&&(ve===void 0||!!(ve!=null&&ve.length)),$e=[...D&&re.getCanSort()?[F!==!1&&x.jsx(is,{disabled:re.getIsSorted()===!1,icon:x.jsx(I,{}),label:B.clearSort,onClick:Z,table:g},0),x.jsx(is,{disabled:re.getIsSorted()==="asc",icon:x.jsx(q,{style:{transform:"rotate(180deg) scaleX(-1)"}}),label:(n=B.sortByColumnAsc)===null||n===void 0?void 0:n.replace("{column}",String(he.header)),onClick:oe,table:g},1),x.jsx(is,{disabled:re.getIsSorted()==="desc",divider:E||A||P,icon:x.jsx(q,{}),label:(r=B.sortByColumnDesc)===null||r===void 0?void 0:r.replace("{column}",String(he.header)),onClick:ge,table:g},2)]:[],...E&&re.getCanFilter()?[x.jsx(is,{disabled:!se||Array.isArray(se)&&!se.filter(De=>De).length,icon:x.jsx($,{}),label:B.clearFilter,onClick:ue,table:g},3),S==="subheader"&&x.jsx(is,{disabled:W&&!_,divider:A||P,icon:x.jsx(M,{}),label:(i=B.filterByColumn)===null||i===void 0?void 0:i.replace("{column}",String(he.header)),onClick:W?ke:we,onOpenSubMenu:_e?ke:void 0,table:g},4),_e&&x.jsx(GU,{anchorEl:ae,header:f,onSelect:we,setAnchorEl:X,table:g},5)].filter(Boolean):[],...A&&re.getCanGroup()?[x.jsx(is,{divider:T,icon:x.jsx(j,{}),label:(o=B[re.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||o===void 0?void 0:o.replace("{column}",String(he.header)),onClick:xe,table:g},6)]:[],...T&&re.getCanPin()?[x.jsx(is,{disabled:re.getIsPinned()==="left"||!re.getCanPin(),icon:x.jsx(L,{style:{transform:"rotate(90deg)"}}),label:B.pinToLeft,onClick:()=>Re("left"),table:g},7),x.jsx(is,{disabled:re.getIsPinned()==="right"||!re.getCanPin(),icon:x.jsx(L,{style:{transform:"rotate(-90deg)"}}),label:B.pinToRight,onClick:()=>Re("right"),table:g},8),x.jsx(is,{disabled:!re.getIsPinned(),divider:P,icon:x.jsx(L,{}),label:B.unpin,onClick:()=>Re(!1),table:g},9)]:[],...k&&re.getCanResize()?[x.jsx(is,{disabled:fe[re.id]===void 0,icon:x.jsx(V,{}),label:B.resetColumnSize,onClick:be,table:g},10)]:[],...P?[x.jsx(is,{disabled:!re.getCanHide(),icon:x.jsx(z,{}),label:(s=B.hideColumn)===null||s===void 0?void 0:s.replace("{column}",String(he.header)),onClick:de,table:g},11),x.jsx(is,{disabled:!Object.values(ne).filter(De=>!De).length,icon:x.jsx(U,{}),label:(a=B.showAllColumns)===null||a===void 0?void 0:a.replace("{column}",String(he.header)),onClick:Oe,table:g},12)]:[]].filter(Boolean);return x.jsx($d,Object.assign({MenuListProps:{dense:pe==="compact",sx:{backgroundColor:G}},anchorEl:d,disableScrollLock:!0,onClose:()=>p(null),open:!!d},m,{children:(u=(c=(l=he.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(he,{closeMenu:()=>p(null),column:re,internalColumnMenuItems:$e,table:g}))!==null&&c!==void 0?c:Y==null?void 0:Y({closeMenu:()=>p(null),column:re,internalColumnMenuItems:$e,table:g}))!==null&&u!==void 0?u:$e}))},wut=e=>{var t,n,{header:r,table:i}=e,o=Xt(e,["header","table"]);const{options:{icons:{MoreVertIcon:s},localization:a,muiColumnActionsButtonProps:l}}=i,{column:c}=r,{columnDef:u}=c,[d,f]=O.useState(null),p=m=>{m.stopPropagation(),m.preventDefault(),f(m.currentTarget)},g=Object.assign(Object.assign(Object.assign({},Je(l,{column:c,table:i})),Je(u.muiColumnActionsButtonProps,{column:c,table:i})),o);return x.jsxs(x.Fragment,{children:[x.jsx(Yt,Object.assign({},wc("top"),{title:(t=g==null?void 0:g.title)!==null&&t!==void 0?t:a.columnActions,children:x.jsx(sn,Object.assign({"aria-label":a.columnActions,onClick:p,size:"small"},g,{sx:m=>Object.assign({"&:hover":{opacity:1},height:"2rem",m:"-8px -4px",opacity:.3,transition:"all 150ms",width:"2rem"},Je(g==null?void 0:g.sx,m)),title:void 0,children:(n=g==null?void 0:g.children)!==null&&n!==void 0?n:x.jsx(s,{style:{transform:"scale(0.9)"}})}))})),d&&x.jsx(Sut,{anchorEl:d,header:r,setAnchorEl:f,table:i})]})},Cut=e=>{var t,n,r,{column:i,table:o}=e,s=Xt(e,["column","table"]);const{getState:a,options:{localization:l,muiFilterCheckboxProps:c}}=o,{density:u}=a(),{columnDef:d}=i,f=Object.assign(Object.assign(Object.assign({},Je(c,{column:i,table:o})),Je(d.muiFilterCheckboxProps,{column:i,table:o})),s),p=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header);return x.jsx(Yt,Object.assign({},wc(),{title:(n=f==null?void 0:f.title)!==null&&n!==void 0?n:p,children:x.jsx(Sge,{control:x.jsx(sg,Object.assign({checked:i.getFilterValue()==="true",color:i.getFilterValue()===void 0?"default":"primary",indeterminate:i.getFilterValue()===void 0,size:u==="compact"?"small":"medium"},f,{onChange:(g,m)=>{var v;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(v=f==null?void 0:f.onChange)===null||v===void 0||v.call(f,g,m)},onClick:g=>{var m;g.stopPropagation(),(m=f==null?void 0:f.onClick)===null||m===void 0||m.call(f,g)},sx:g=>Object.assign({height:"2.5rem",width:"2.5rem"},Je(f==null?void 0:f.sx,g))})),disableTypography:!0,label:(r=f.title)!==null&&r!==void 0?r:p,sx:{color:"text.secondary",fontWeight:"normal",mt:"-4px"},title:void 0})}))},Yye=e=>{var t,n,r,i,o,s,a,l,c,u,d,f,p,g,m,v,b,S,C,_,E,T,k,{header:A,rangeFilterIndex:P,table:D}=e,F=Xt(e,["header","rangeFilterIndex","table"]);const{options:{enableColumnFilterModes:I,icons:{CloseIcon:j,FilterListIcon:M},localization:$,manualFiltering:L,muiFilterAutocompleteProps:V,muiFilterDatePickerProps:q,muiFilterDateTimePickerProps:U,muiFilterTextFieldProps:z,muiFilterTimePickerProps:B},refs:{filterInputRefs:G},setColumnFilterFns:Y}=D,{column:Q}=A,{columnDef:K}=Q,{filterVariant:te}=K,ce={column:Q,rangeFilterIndex:P,table:D},ie=Object.assign(Object.assign(Object.assign({},Je(z,ce)),Je(K.muiFilterTextFieldProps,ce)),F),re=Object.assign(Object.assign({},Je(V,ce)),Je(K.muiFilterAutocompleteProps,ce)),he=Object.assign(Object.assign({},Je(q,ce)),Je(K.muiFilterDatePickerProps,ce)),fe=Object.assign(Object.assign({},Je(U,ce)),Je(K.muiFilterDateTimePickerProps,ce)),ne=Object.assign(Object.assign({},Je(B,ce)),Je(K.muiFilterTimePickerProps,ce)),{allowedColumnFilterOptions:pe,currentFilterOption:W,facetedUniqueValues:se,isAutocompleteFilter:ae,isDateFilter:X,isMultiSelectFilter:Z,isRangeFilter:oe,isSelectFilter:ge,isTextboxFilter:be}=mI({header:A,table:D}),de=xye({header:A,table:D}),Re=["empty","notEmpty"].includes(W)?$[`filter${((n=(t=W==null?void 0:W.charAt)===null||t===void 0?void 0:t.call(W,0))===null||n===void 0?void 0:n.toUpperCase())+(W==null?void 0:W.slice(1))}`]:"",xe=oe?P===0?$.min:P===1?$.max:"":(r=ie==null?void 0:ie.placeholder)!==null&&r!==void 0?r:(i=$.filterByColumn)===null||i===void 0?void 0:i.replace("{column}",String(K.header)),ue=!!(I&&K.enableColumnFilterModes!==!1&&!P&&(pe===void 0||pe!=null&&pe.length)),[we,Oe]=O.useState(null),[ke,Ie]=O.useState(()=>{var ht,jt;return Z?Q.getFilterValue()||[]:oe?((ht=Q.getFilterValue())===null||ht===void 0?void 0:ht[P])||"":ae?typeof Q.getFilterValue()=="string"?Q.getFilterValue():"":(jt=Q.getFilterValue())!==null&&jt!==void 0?jt:""}),[ve,_e]=O.useState(()=>ae&&Q.getFilterValue()||null),$e=O.useCallback(my(ht=>{oe?Q.setFilterValue(jt=>{const Ot=jt??["",""];return Ot[P]=ht??void 0,Ot}):Q.setFilterValue(ht??void 0)},be?L?400:200:1),[]),De=ht=>{Ie(ht??""),$e(ht)},ot=ht=>{var jt;const Ot=ie.type==="date"?ht.target.valueAsDate:ie.type==="number"?ht.target.valueAsNumber:ht.target.value;De(Ot),(jt=ie==null?void 0:ie.onChange)===null||jt===void 0||jt.call(ie,ht)},Me=(ht,jt,Ot)=>{De(jt)},ze=ht=>{_e(ht),$e(wf(ht).value)},Qe=()=>{Z?(Ie([]),Q.setFilterValue([])):oe?(Ie(""),Q.setFilterValue(ht=>{const jt=Array.isArray(ht)&&ht||["",""];return jt[P]=void 0,jt})):ae?(_e(null),Ie("")):(Ie(""),Q.setFilterValue(void 0))},Rt=()=>{Ie(""),Q.setFilterValue(void 0),Y(ht=>{var jt;return Object.assign(Object.assign({},ht),{[A.id]:(jt=pe==null?void 0:pe[0])!==null&&jt!==void 0?jt:"fuzzy"})})},Et=ht=>{Oe(ht.currentTarget)},Wt=O.useRef(!1);if(O.useEffect(()=>{if(Wt.current){const ht=Q.getFilterValue();ht===void 0?Qe():Ie(oe&&P!==void 0?ht[P]:ht)}Wt.current=!0},[Q.getFilterValue()]),K.Filter)return x.jsx(x.Fragment,{children:(o=K.Filter)===null||o===void 0?void 0:o.call(K,{column:Q,header:A,rangeFilterIndex:P,table:D})});const vn=!ae&&!X&&!Re?x.jsx(I0,{position:"end",sx:{mr:ge||Z?"20px":void 0,visibility:((s=ke==null?void 0:ke.length)!==null&&s!==void 0?s:0)>0?"visible":"hidden"},children:x.jsx(Yt,{placement:"right",title:(a=$.clearFilter)!==null&&a!==void 0?a:"",children:x.jsx("span",{children:x.jsx(sn,{"aria-label":$.clearFilter,disabled:!(!((l=ke==null?void 0:ke.toString())===null||l===void 0)&&l.length),onClick:Qe,size:"small",sx:{height:"2rem",transform:"scale(0.9)",width:"2rem"},children:x.jsx(j,{})})})})}):null,It=ue?x.jsxs(I0,{position:"start",children:[x.jsx(Yt,{title:$.changeFilterMode,children:x.jsx("span",{children:x.jsx(sn,{"aria-label":$.changeFilterMode,onClick:Et,size:"small",sx:{height:"1.75rem",width:"1.75rem"},children:x.jsx(M,{})})})}),Re&&x.jsx(D0,{label:Re,onDelete:Rt})]}):null,$t=Object.assign(Object.assign({fullWidth:!0,helperText:ue?x.jsx("label",{children:$.filterMode.replace("{filterType}",$[`filter${((c=W==null?void 0:W.charAt(0))===null||c===void 0?void 0:c.toUpperCase())+(W==null?void 0:W.slice(1))}`])}):null,inputRef:ht=>{G.current[`${Q.id}-${P??0}`]=ht,ie.inputRef&&(ie.inputRef=ht)},margin:"none",placeholder:Re||ge||Z?void 0:xe,variant:"standard"},ie),{slotProps:Object.assign(Object.assign({},ie.slotProps),{formHelperText:Object.assign({sx:{fontSize:"0.75rem",lineHeight:"0.8rem",whiteSpace:"nowrap"}},(u=ie.slotProps)===null||u===void 0?void 0:u.formHelperText),input:vn?Object.assign({endAdornment:vn,startAdornment:It},(d=ie.slotProps)===null||d===void 0?void 0:d.input):Object.assign({startAdornment:It},(f=ie.slotProps)===null||f===void 0?void 0:f.input),htmlInput:Object.assign({"aria-label":xe,autoComplete:"off",disabled:!!Re,sx:{textOverflow:"ellipsis",width:Re?0:void 0},title:xe},(p=ie.slotProps)===null||p===void 0?void 0:p.htmlInput)}),onKeyDown:ht=>{var jt;ht.stopPropagation(),(jt=ie.onKeyDown)===null||jt===void 0||jt.call(ie,ht)},sx:ht=>Object.assign({minWidth:X?"160px":I&&P===0?"110px":oe?"100px":Re?"auto":"120px",mx:"-2px",p:0,width:"calc(100% + 4px)"},Je(ie==null?void 0:ie.sx,ht))}),ur={onChange:ht=>{De(ht)},value:ke||null};return x.jsxs(x.Fragment,{children:[te!=null&&te.startsWith("time")?x.jsx(Oct,Object.assign({},ur,ne,{slotProps:{field:Object.assign({clearable:!0,onClear:()=>Qe()},(g=ne==null?void 0:ne.slotProps)===null||g===void 0?void 0:g.field),textField:Object.assign(Object.assign({},$t),(m=ne==null?void 0:ne.slotProps)===null||m===void 0?void 0:m.textField)}})):te!=null&&te.startsWith("datetime")?x.jsx(bct,Object.assign({},ur,fe,{slotProps:{field:Object.assign({clearable:!0,onClear:()=>Qe()},(v=fe==null?void 0:fe.slotProps)===null||v===void 0?void 0:v.field),textField:Object.assign(Object.assign({},$t),(b=fe==null?void 0:fe.slotProps)===null||b===void 0?void 0:b.textField)}})):te!=null&&te.startsWith("date")?x.jsx(Bat,Object.assign({},ur,he,{slotProps:{field:Object.assign({clearable:!0,onClear:()=>Qe()},(S=he==null?void 0:he.slotProps)===null||S===void 0?void 0:S.field),textField:Object.assign(Object.assign({},$t),(C=he==null?void 0:he.slotProps)===null||C===void 0?void 0:C.textField)}})):ae?x.jsx(Gz,Object.assign({freeSolo:!0,getOptionLabel:ht=>wf(ht).label,onChange:(ht,jt)=>ze(jt),options:(_=de==null?void 0:de.map(ht=>wf(ht)))!==null&&_!==void 0?_:[],inputValue:ke,onInputChange:Me},re,{renderInput:ht=>{var jt,Ot,dr,xt,wt;return x.jsx(Ir,Object.assign({},$t,ht,{slotProps:Object.assign(Object.assign(Object.assign({},ht.slotProps),$t.slotProps),{input:Object.assign(Object.assign(Object.assign({},ht.InputProps),(jt=ht.slotProps)===null||jt===void 0?void 0:jt.input),{startAdornment:(dr=(Ot=$t==null?void 0:$t.slotProps)===null||Ot===void 0?void 0:Ot.input)===null||dr===void 0?void 0:dr.startAdornment}),htmlInput:Object.assign(Object.assign(Object.assign({},ht.inputProps),(xt=ht.slotProps)===null||xt===void 0?void 0:xt.htmlInput),(wt=$t==null?void 0:$t.slotProps)===null||wt===void 0?void 0:wt.htmlInput)}),onClick:Bt=>Bt.stopPropagation()}))},value:ve})):x.jsx(Ir,Object.assign({select:ge||Z},$t,{slotProps:Object.assign(Object.assign({},$t.slotProps),{inputLabel:Object.assign({shrink:ge||Z},(E=$t.slotProps)===null||E===void 0?void 0:E.inputLabel),select:Object.assign({MenuProps:{disableScrollLock:!0},displayEmpty:!0,multiple:Z,renderValue:Z?ht=>!Array.isArray(ht)||(ht==null?void 0:ht.length)===0?x.jsx(lt,{sx:{opacity:.5},children:xe}):x.jsx(lt,{sx:{display:"flex",flexWrap:"wrap",gap:"2px"},children:ht.map(jt=>{const Ot=de==null?void 0:de.find(dr=>wf(dr).value===jt);return x.jsx(D0,{label:wf(Ot).label},jt)})}):void 0},(T=$t.slotProps)===null||T===void 0?void 0:T.select)}),onChange:ot,onClick:ht=>ht.stopPropagation(),value:Z?Array.isArray(ke)?ke:[]:ke,children:(ge||Z)&&[x.jsx(ir,{disabled:!0,divider:!0,hidden:!0,value:"",children:x.jsx(lt,{sx:{opacity:.5},children:xe})},"p"),(k=ie.children)!==null&&k!==void 0?k:de==null?void 0:de.map((ht,jt)=>{var Ot;const{label:dr,value:xt}=wf(ht);return x.jsxs(ir,{sx:{alignItems:"center",display:"flex",gap:"0.5rem",m:0},value:xt,children:[Z&&x.jsx(sg,{checked:((Ot=Q.getFilterValue())!==null&&Ot!==void 0?Ot:[]).includes(xt),sx:{mr:"0.5rem"}}),dr," ",!K.filterSelectOptions&&`(${se.get(xt)})`]},`${jt}-${xt}`)})]})),x.jsx(GU,{anchorEl:we,header:A,setAnchorEl:Oe,setFilterValue:Ie,table:D})]})},_ut=e=>{var{header:t,table:n}=e,r=Xt(e,["header","table"]);return x.jsx(lt,Object.assign({},r,{sx:i=>Object.assign({display:"grid",gap:"1rem",gridTemplateColumns:"1fr 1fr"},Je(r==null?void 0:r.sx,i)),children:[0,1].map(i=>x.jsx(Yye,{header:t,rangeFilterIndex:i,table:n},i))}))},Eut=e=>{var t,n,{header:r,table:i}=e,o=Xt(e,["header","table"]);const{options:{enableColumnFilterModes:s,localization:a,muiFilterSliderProps:l},refs:{filterInputRefs:c}}=i,{column:u}=r,{columnDef:d}=u,f=d._filterFn,p=s&&d.enableColumnFilterModes!==!1,g=Object.assign(Object.assign(Object.assign({},Je(l,{column:u,table:i})),Je(d.muiFilterSliderProps,{column:u,table:i})),o);let[m,v]=g.min!==void 0&&g.max!==void 0?[g.min,g.max]:(t=u.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(m)&&(m=m[0]),Array.isArray(v)&&(v=v[0]),m===null&&(m=0),v===null&&(v=1);const[b,S]=O.useState([m,v]),C=u.getFilterValue(),_=O.useRef(!1),E=T=>{(T.key==="ArrowLeft"||T.key==="ArrowRight")&&T.stopPropagation()};return O.useEffect(()=>{_.current&&(C===void 0?S([m,v]):Array.isArray(C)&&S(C)),_.current=!0},[C,m,v]),x.jsxs(en,{children:[x.jsx(Ige,Object.assign({disableSwap:!0,max:v,min:m,onChange:(T,k)=>{S(k)},onChangeCommitted:(T,k)=>{Array.isArray(k)&&(k[0]<=m&&k[1]>=v?u.setFilterValue(void 0):u.setFilterValue(k))},onKeyDown:E,value:b,valueLabelDisplay:"auto"},g,{slotProps:{input:{ref:T=>{var k,A;T&&(c.current[`${u.id}-0`]=T,!((A=(k=g==null?void 0:g.slotProps)===null||k===void 0?void 0:k.input)===null||A===void 0)&&A.ref&&(g.slotProps.input.ref=T))}}},sx:T=>Object.assign({m:"auto",minWidth:`${u.getSize()-50}px`,mt:p?"6px":"10px",px:"4px",width:"calc(100% - 8px)"},Je(g==null?void 0:g.sx,T))})),p?x.jsx(U7,{sx:{fontSize:"0.75rem",lineHeight:"0.8rem",m:"-3px -6px",whiteSpace:"nowrap"},children:a.filterMode.replace("{filterType}",a[`filter${((n=f==null?void 0:f.charAt(0))===null||n===void 0?void 0:n.toUpperCase())+(f==null?void 0:f.slice(1))}`])}):null]})},Xye=e=>{var{header:t,table:n}=e,r=Xt(e,["header","table"]);const{getState:i,options:{columnFilterDisplayMode:o}}=n,{showColumnFilters:s}=i(),{column:a}=t,{columnDef:l}=a,{isRangeFilter:c}=mI({header:t,table:n});return x.jsx(ig,Object.assign({in:s||o==="popover",mountOnEnter:!0,unmountOnExit:!0},r,{children:l.filterVariant==="checkbox"?x.jsx(Cut,{column:a,table:n}):l.filterVariant==="range-slider"?x.jsx(Eut,{header:t,table:n}):c?x.jsx(_ut,{header:t,table:n}):x.jsx(Yye,{header:t,table:n})}))},kut=e=>{var t,{header:n,table:r}=e,i=Xt(e,["header","table"]);const{options:{columnFilterDisplayMode:o,icons:{FilterAltIcon:s},localization:a},refs:{filterInputRefs:l},setShowColumnFilters:c}=r,{column:u}=n,{columnDef:d}=u,f=u.getFilterValue(),[p,g]=O.useState(null),{currentFilterOption:m,isMultiSelectFilter:v,isRangeFilter:b,isSelectFilter:S}=mI({header:n,table:r}),C=xye({header:n,table:r}),_=k=>wf(C==null?void 0:C.find(A=>wf(A).value===(k!==void 0?f[k]:f))).label,E=Array.isArray(f)&&f.some(Boolean)||!!f&&!Array.isArray(f),T=o==="popover"&&!E?(t=a.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(d.header)):a.filteringByColumn.replace("{column}",String(d.header)).replace("{filterType}",m?a[`filter${m.charAt(0).toUpperCase()+m.slice(1)}`]:"").replace("{filterValue}",`"${Array.isArray(f)?f.map((k,A)=>v?_(A):k).join(`" ${b?a.and:a.or} "`):S?_():f}"`).replace('" "',"");return x.jsxs(x.Fragment,{children:[x.jsx(P0,{in:o==="popover"||!!f&&!b||b&&(!!(f!=null&&f[0])||!!(f!=null&&f[1])),unmountOnExit:!0,children:x.jsx(lt,{component:"span",sx:{flex:"0 0"},children:x.jsx(Yt,{placement:"top",title:T,children:x.jsx(sn,Object.assign({disableRipple:!0,onClick:k=>{o==="popover"?g(k.currentTarget):c(!0),queueMicrotask(()=>{var A,P,D,F,I,j;(D=(P=(A=l.current)===null||A===void 0?void 0:A[`${u.id}-0`])===null||P===void 0?void 0:P.focus)===null||D===void 0||D.call(P),(j=(I=(F=l.current)===null||F===void 0?void 0:F[`${u.id}-0`])===null||I===void 0?void 0:I.select)===null||j===void 0||j.call(I)}),k.stopPropagation()},size:"small"},i,{sx:k=>Object.assign({height:"16px",ml:"4px",opacity:E?1:.3,p:"8px",transform:"scale(0.75)",transition:"all 150ms ease-in-out",width:"16px"},Je(i==null?void 0:i.sx,k)),children:x.jsx(s,{})}))})})}),o==="popover"&&x.jsx(kge,{anchorEl:p,anchorOrigin:{horizontal:"center",vertical:"top"},disableScrollLock:!0,onClick:k=>k.stopPropagation(),onClose:k=>{k.stopPropagation(),g(null)},onKeyDown:k=>k.key==="Enter"&&g(null),open:!!p,slotProps:{paper:{sx:{overflow:"visible"}}},transformOrigin:{horizontal:"center",vertical:"bottom"},children:x.jsx(lt,{sx:{p:"1rem"},children:x.jsx(Xye,{header:n,table:r})})})]})},Rut=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=Xt(e,["column","table","tableHeadCellRef"]);const{getState:o,options:{enableColumnOrdering:s,muiColumnDragHandleProps:a},setColumnOrder:l,setColumnPinning:c,setDraggingColumn:u,setHoveredColumn:d}=n,{columnDef:f}=t,{columnOrder:p,draggingColumn:g,hoveredColumn:m}=o(),v=Object.assign(Object.assign(Object.assign({},Je(a,{column:t,table:n})),Je(f.muiColumnDragHandleProps,{column:t,table:n})),i),b=C=>{var _;(_=v==null?void 0:v.onDragStart)===null||_===void 0||_.call(v,C),u(t);try{C.dataTransfer.setDragImage(r.current,0,0)}catch(E){console.error(E)}},S=C=>{var _;if((_=v==null?void 0:v.onDragEnd)===null||_===void 0||_.call(v,C),(m==null?void 0:m.id)==="drop-zone")t.toggleGrouping();else if(s&&m&&(m==null?void 0:m.id)!==(g==null?void 0:g.id)){const E=bye(t,m,p);l(E),c(({left:T=[],right:k=[]})=>({left:E.filter(A=>T.includes(A)),right:E.filter(A=>k.includes(A))}))}u(null),d(null)};return x.jsx(qU,Object.assign({},v,{onDragEnd:S,onDragStart:b,table:n}))},Tut=e=>{var t,{header:n,table:r}=e,i=Xt(e,["header","table"]);const{getState:o,options:{columnResizeDirection:s,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:c}=o(),{column:u}=n,d=n.getResizeHandler(),f=c==="compact"?"-8px":c==="comfortable"?"-16px":"-24px",p=u.columnDef.columnDefType==="display"?"4px":"0";return x.jsx(lt,{className:"Mui-TableHeadCell-ResizeHandle-Wrapper",onDoubleClick:()=>{l(g=>Object.assign(Object.assign({},g),{isResizingColumn:!1})),u.resetSize()},onMouseDown:d,onTouchStart:d,style:{transform:u.getIsResizing()&&a==="onEnd"?`translateX(${(s==="rtl"?-1:1)*((t=o().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0},sx:g=>({"&:active > hr":{backgroundColor:g.palette.info.main,opacity:n.subHeaders.length||a==="onEnd"?1:0},cursor:"col-resize",left:s==="rtl"?p:void 0,ml:s==="rtl"?f:void 0,mr:s==="ltr"?f:void 0,position:"absolute",px:"4px",right:s==="ltr"?p:void 0}),children:x.jsx(ag,{className:"Mui-TableHeadCell-ResizeHandle-Divider",flexItem:!0,orientation:"vertical",sx:g=>Object.assign({borderRadius:"2px",borderWidth:"2px",height:"24px",touchAction:"none",transform:"translateX(4px)",transition:u.getIsResizing()?void 0:"all 150ms ease-in-out",userSelect:"none",zIndex:4},Je(i==null?void 0:i.sx,g))})})},Mut=e=>{var{header:t,table:n}=e,r=Xt(e,["header","table"]);const{getState:i,options:{icons:{ArrowDownwardIcon:o,SyncAltIcon:s},localization:a}}=n,{column:l}=t,{columnDef:c}=l,{isLoading:u,showSkeletons:d,sorting:f}=i(),p=!!l.getIsSorted(),g=u||d?"":l.getIsSorted()?l.getIsSorted()==="desc"?a.sortedByColumnDesc.replace("{column}",c.header):a.sortedByColumnAsc.replace("{column}",c.header):l.getNextSortingOrder()==="desc"?a.sortByColumnDesc.replace("{column}",c.header):a.sortByColumnAsc.replace("{column}",c.header),m=p?l.getIsSorted():void 0;return x.jsx(Yt,{placement:"top",title:g,children:x.jsx(VHe,{badgeContent:f.length>1?l.getSortIndex()+1:0,overlap:"circular",children:x.jsx(QXe,Object.assign({IconComponent:p?o:v=>x.jsx(s,Object.assign({},v,{direction:m,style:{transform:"rotate(-90deg) scaleX(0.9) translateX(-1px)"}})),active:!0,"aria-label":g,direction:m,onClick:v=>{var b;v.stopPropagation(),(b=t.column.getToggleSortingHandler())===null||b===void 0||b(v)}},r,{sx:v=>Object.assign({".MuiTableSortLabel-icon":{color:`${v.palette.mode==="dark"?v.palette.text.primary:v.palette.text.secondary} !important`},flex:"0 0",opacity:p?1:.3,transition:"all 150ms ease-in-out",width:"3ch"},Je(r==null?void 0:r.sx,v))}))})})},Aut=e=>{var t,n,r,i,o,s,a,{columnVirtualizer:l,header:c,staticColumnIndex:u,table:d}=e,f=Xt(e,["columnVirtualizer","header","staticColumnIndex","table"]);const p=lr(),{getState:g,options:{columnFilterDisplayMode:m,columnResizeDirection:v,columnResizeMode:b,enableKeyboardShortcuts:S,enableColumnActions:C,enableColumnDragging:_,enableColumnOrdering:E,enableColumnPinning:T,enableGrouping:k,enableMultiSort:A,layoutMode:P,mrtTheme:{draggingBorderColor:D},muiTableHeadCellProps:F},refs:{tableHeadCellRefs:I},setHoveredColumn:j}=d,{columnSizingInfo:M,density:$,draggingColumn:L,grouping:V,hoveredColumn:q,showColumnFilters:U}=g(),{column:z}=c,{columnDef:B}=z,{columnDefType:G}=B,Y=Object.assign(Object.assign(Object.assign({},Je(F,{column:z,table:d})),Je(B.muiTableHeadCellProps,{column:z,table:d})),f),Q=T&&B.columnDefType!=="group"&&z.getIsPinned(),K=(C||B.enableColumnActions)&&B.enableColumnActions!==!1,te=_!==!1&&B.enableColumnDragging!==!1&&(_||E&&B.enableColumnOrdering!==!1||k&&B.enableGrouping!==!1&&!V.includes(z.id)),ce=O.useMemo(()=>{let pe=0;return z.getCanSort()&&(pe+=1),K&&(pe+=1.75),te&&(pe+=1.5),pe},[K,te]),ie=O.useMemo(()=>{const pe=M.isResizingColumn===z.id&&b==="onChange"&&!c.subHeaders.length,W=pe?`2px solid ${D} !important`:(L==null?void 0:L.id)===z.id?`1px dashed ${p.palette.grey[500]}`:(q==null?void 0:q.id)===z.id?`2px dashed ${D}`:void 0;return pe?v==="ltr"?{borderRight:W}:{borderLeft:W}:W?{borderLeft:W,borderRight:W,borderTop:W}:void 0},[L,q,M.isResizingColumn]),re=pe=>{k&&(q==null?void 0:q.id)==="drop-zone"&&j(null),E&&L&&G!=="group"&&j(B.enableColumnOrdering!==!1?z:null)},he=pe=>{B.enableColumnOrdering!==!1&&pe.preventDefault()},fe=pe=>{var W;(W=Y==null?void 0:Y.onKeyDown)===null||W===void 0||W.call(Y,pe),jU({event:pe,cellValue:c.column.columnDef.header,table:d,header:c})},ne=(t=Je(B.Header,{column:z,header:c,table:d}))!==null&&t!==void 0?t:B.header;return x.jsxs(qP,Object.assign({align:G==="group"?"center":p.direction==="rtl"?"right":"left","aria-sort":z.getIsSorted()?z.getIsSorted()==="asc"?"ascending":"descending":"none",colSpan:c.colSpan,"data-can-sort":z.getCanSort()||void 0,"data-index":u,"data-pinned":!!Q||void 0,"data-sort":z.getIsSorted()||void 0,onDragEnter:re,onDragOver:he,ref:pe=>{var W;pe&&(I.current[z.id]=pe,G!=="group"&&((W=l==null?void 0:l.measureElement)===null||W===void 0||W.call(l,pe)))},tabIndex:S?0:void 0},Y,{onKeyDown:fe,sx:pe=>Object.assign(Object.assign({"& :hover":{".MuiButtonBase-root":{opacity:1}},flexDirection:P!=null&&P.startsWith("grid")?"column":void 0,fontWeight:"bold",overflow:"visible",p:$==="compact"?"0.5rem":$==="comfortable"?G==="display"?"0.75rem":"1rem":G==="display"?"1rem 1.25rem":"1.5rem",pb:G==="display"?0:U||$==="compact"?"0.4rem":"0.6rem",pt:G==="group"||$==="compact"?"0.25rem":$==="comfortable"?".75rem":"1.25rem",userSelect:A&&z.getCanSort()?"none":void 0,verticalAlign:"top"},WU({column:z,header:c,table:d,tableCellProps:Y,theme:pe})),ie),children:[c.isPlaceholder?null:(n=Y.children)!==null&&n!==void 0?n:x.jsxs(lt,{className:"Mui-TableHeadCell-Content",sx:{alignItems:"center",display:"flex",flexDirection:(Y==null?void 0:Y.align)==="right"?"row-reverse":"row",justifyContent:G==="group"||(Y==null?void 0:Y.align)==="center"?"center":z.getCanResize()?"space-between":"flex-start",position:"relative",width:"100%"},children:[x.jsxs(lt,{className:"Mui-TableHeadCell-Content-Labels",onClick:z.getToggleSortingHandler(),sx:{alignItems:"center",cursor:z.getCanSort()&&G!=="group"?"pointer":void 0,display:"flex",flexDirection:(Y==null?void 0:Y.align)==="right"?"row-reverse":"row",overflow:G==="data"?"hidden":void 0,pl:(Y==null?void 0:Y.align)==="center"?`${ce}rem`:void 0},children:[x.jsx(lt,{className:"Mui-TableHeadCell-Content-Wrapper",sx:{"&:hover":{textOverflow:"clip"},minWidth:`${Math.min((i=(r=B.header)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,4)}ch`,overflow:G==="data"?"hidden":void 0,textOverflow:"ellipsis",whiteSpace:((s=(o=B.header)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0)<20?"nowrap":"normal"},children:ne}),z.getCanFilter()&&x.jsx(kut,{header:c,table:d}),z.getCanSort()&&x.jsx(Mut,{header:c,table:d})]}),G!=="group"&&x.jsxs(lt,{className:"Mui-TableHeadCell-Content-Actions",sx:{whiteSpace:"nowrap"},children:[te&&x.jsx(Rut,{column:z,table:d,tableHeadCellRef:{current:(a=I.current)===null||a===void 0?void 0:a[z.id]}}),K&&x.jsx(wut,{header:c,table:d})]}),z.getCanResize()&&x.jsx(Tut,{header:c,table:d})]}),m==="subheader"&&z.getCanFilter()&&x.jsx(Xye,{header:c,table:d})]}))},Out=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=Xt(e,["columnVirtualizer","headerGroup","table"]);const{options:{enableStickyHeader:o,layoutMode:s,mrtTheme:{baseBackgroundColor:a},muiTableHeadRowProps:l}}=r,{virtualColumns:c,virtualPaddingLeft:u,virtualPaddingRight:d}=t??{},f=Object.assign(Object.assign({},Je(l,{headerGroup:n,table:r})),i);return x.jsxs(GP,Object.assign({},f,{sx:p=>Object.assign({backgroundColor:a,boxShadow:`4px 0 8px ${_t(p.palette.common.black,.1)}`,display:s!=null&&s.startsWith("grid")?"flex":void 0,position:o&&s==="semantic"?"sticky":"relative",top:0},Je(f==null?void 0:f.sx,p)),children:[u?x.jsx("th",{style:{display:"flex",width:u}}):null,(c??n.headers).map((p,g)=>{let m=p;return t&&(g=p.index,m=n.headers[g]),m?x.jsx(Aut,{columnVirtualizer:t,header:m,staticColumnIndex:g,table:r},m.id):null}),d?x.jsx("th",{style:{display:"flex",width:d}}):null]}))},YU=e=>{var t,n,r,{stackAlertBanner:i,table:o}=e,s=Xt(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getCoreRowModel:l,getState:c,options:{enableRowSelection:u,enableSelectAll:d,localization:f,manualPagination:p,muiToolbarAlertBannerChipProps:g,muiToolbarAlertBannerProps:m,positionToolbarAlertBanner:v,renderToolbarAlertBannerContent:b,rowCount:S},refs:{tablePaperRef:C}}=o,{density:_,grouping:E,rowSelection:T,showAlertBanner:k}=c(),A=Object.assign(Object.assign({},Je(m,{table:o})),s),P=Je(g,{table:o}),D=S??l().rows.length,F=a().rows.length,I=O.useMemo(()=>p?Object.values(T).filter(Boolean).length:F,[T,D,p,F]),j=I>0?x.jsxs(en,{alignItems:"center",direction:"row",gap:"16px",children:[(n=(t=f.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",I.toLocaleString(f.language)))===null||n===void 0?void 0:n.replace("{rowCount}",D.toLocaleString(f.language)),x.jsx(Ft,{onClick:$=>LU({table:o})($,!1,!0),size:"small",sx:{p:"2px"},children:f.clearSelection})]}):null,M=E.length>0?x.jsxs("span",{children:[f.groupedBy," ",E.map(($,L)=>x.jsxs(O.Fragment,{children:[L>0?f.thenBy:"",x.jsx(D0,Object.assign({label:o.getColumn($).columnDef.header,onDelete:()=>o.getColumn($).toggleGrouping()},P))]},`${L}-${$}`))]}):null;return x.jsx(ig,{in:k||!!j||!!M,timeout:i?200:0,children:x.jsx(Zhe,Object.assign({color:"info",icon:!1},A,{sx:$=>{var L,V;return Object.assign({"& .MuiAlert-message":{maxWidth:`calc(${(V=(L=C.current)===null||L===void 0?void 0:L.clientWidth)!==null&&V!==void 0?V:360}px - 1rem)`,width:"100%"},borderRadius:0,fontSize:"1rem",left:0,mb:i?0:v==="bottom"?"-1rem":void 0,p:0,position:"relative",right:0,top:0,width:"100%",zIndex:2},Je(A==null?void 0:A.sx,$))},children:(r=b==null?void 0:b({groupedAlert:M,selectedAlert:j,table:o}))!==null&&r!==void 0?r:x.jsxs(x.Fragment,{children:[(A==null?void 0:A.title)&&x.jsx(P7e,{children:A.title}),x.jsxs(en,{sx:{p:v!=="head-overlay"?"0.5rem 1rem":_==="spacious"?"0.75rem 1.25rem":_==="comfortable"?"0.5rem 0.75rem":"0.25rem 0.5rem"},children:[A==null?void 0:A.children,(A==null?void 0:A.children)&&(j||M)&&x.jsx("br",{}),x.jsxs(lt,{sx:{display:"flex"},children:[u&&d&&v==="head-overlay"&&x.jsx(L6,{table:o})," ",j]}),j&&M&&x.jsx("br",{}),M]})]})}))})},Dut=e=>{var{columnVirtualizer:t,table:n}=e,r=Xt(e,["columnVirtualizer","table"]);const{getState:i,options:{enableStickyHeader:o,layoutMode:s,muiTableHeadProps:a,positionToolbarAlertBanner:l},refs:{tableHeadRef:c}}=n,{isFullScreen:u,showAlertBanner:d}=i(),f=Object.assign(Object.assign({},Je(a,{table:n})),r),p=o||u;return x.jsx(FXe,Object.assign({},f,{ref:g=>{c.current=g,f!=null&&f.ref&&(f.ref.current=g)},sx:g=>Object.assign({display:s!=null&&s.startsWith("grid")?"grid":void 0,opacity:.97,position:p?"sticky":"relative",top:p&&(s!=null&&s.startsWith("grid"))?0:void 0,zIndex:p?2:void 0},Je(f==null?void 0:f.sx,g)),children:l==="head-overlay"&&(d||n.getSelectedRowModel().rows.length>0)?x.jsx("tr",{style:{display:s!=null&&s.startsWith("grid")?"grid":void 0},children:x.jsx("th",{colSpan:n.getVisibleLeafColumns().length,style:{display:s!=null&&s.startsWith("grid")?"grid":void 0,padding:0},children:x.jsx(YU,{table:n})})}):n.getHeaderGroups().map(g=>x.jsx(Out,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))},Put=e=>{var{table:t}=e,n=Xt(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:o,enableStickyHeader:s,enableTableFooter:a,enableTableHead:l,layoutMode:c,memoMode:u,muiTableProps:d,renderCaption:f}}=t,{columnSizing:p,columnSizingInfo:g,columnVisibility:m,isFullScreen:v}=i(),b=Object.assign(Object.assign({},Je(d,{table:t})),n),S=Je(f,{table:t}),C=O.useMemo(()=>{const T=r(),k={};for(let A=0;A<T.length;A++){const P=T[A],D=P.getSize();k[`--header-${KC(P.id)}-size`]=D,k[`--col-${KC(P.column.id)}-size`]=D}return k},[o,p,g,m]),E={columnVirtualizer:lut(t),table:t};return x.jsxs(hXe,Object.assign({stickyHeader:s||v},b,{style:Object.assign(Object.assign({},C),b==null?void 0:b.style),sx:T=>Object.assign({borderCollapse:"separate",display:c!=null&&c.startsWith("grid")?"grid":void 0,position:"relative"},Je(b==null?void 0:b.sx,T)),children:[!!S&&x.jsx("caption",{children:S}),l&&x.jsx(Dut,Object.assign({},E)),u==="table-body"||g.isResizingColumn?x.jsx(hut,Object.assign({},E)):x.jsx(Gye,Object.assign({},E)),a&&x.jsx(yut,Object.assign({},E))]}))},Iut=e=>{var t,{table:n}=e,r=Xt(e,["table"]);const{options:{id:i,localization:o,mrtTheme:{baseBackgroundColor:s},muiCircularProgressProps:a}}=n,l=Object.assign(Object.assign({},Je(a,{table:n})),r);return x.jsx(lt,{sx:{alignItems:"center",backgroundColor:_t(s,.5),bottom:0,display:"flex",justifyContent:"center",left:0,maxHeight:"100vh",position:"absolute",right:0,top:0,width:"100%",zIndex:3},children:(t=l==null?void 0:l.Component)!==null&&t!==void 0?t:x.jsx(au,Object.assign({"aria-label":o.noRecordsToDisplay,id:`mrt-progress-${i}`},l))})},$ut=e=>{var t,n,{table:r}=e,i=Xt(e,["table"]);const{getState:o,options:{editDisplayMode:s,enableClickToCopy:a,enableEditing:l,icons:{ContentCopy:c,EditIcon:u},localization:d,mrtTheme:{menuBackgroundColor:f},renderCellActionMenuItems:p},refs:{actionCellRef:g}}=r,{actionCell:m,density:v}=o(),b=m,{row:S}=b,{column:C}=b,{columnDef:_}=C,E=P=>{P==null||P.stopPropagation(),r.setActionCell(null),g.current=null},T=[(Je(a,b)==="context-menu"||Je(_.enableClickToCopy,b)==="context-menu")&&x.jsx(is,{icon:x.jsx(c,{}),label:d.copy,onClick:P=>{P.stopPropagation(),navigator.clipboard.writeText(b.getValue()),E()},table:r},"mrt-copy"),Je(l,S)&&s==="cell"&&x.jsx(is,{icon:x.jsx(u,{}),label:d.edit,onClick:()=>{Eye({cell:b,table:r}),E()},table:r},"mrt-edit")].filter(Boolean),k={cell:b,closeMenu:E,column:C,internalMenuItems:T,row:S,table:r},A=(n=(t=_.renderCellActionMenuItems)===null||t===void 0?void 0:t.call(_,k))!==null&&n!==void 0?n:p==null?void 0:p(k);return(!!(A!=null&&A.length)||!!(T!=null&&T.length))&&x.jsx($d,Object.assign({MenuListProps:{dense:v==="compact",sx:{backgroundColor:f}},anchorEl:g.current,disableScrollLock:!0,onClick:P=>P.stopPropagation(),onClose:E,open:!!b,transformOrigin:{horizontal:-100,vertical:8}},i,{children:A??T}))},Fut=e=>{var t,{open:n,table:r}=e,i=Xt(e,["open","table"]);const{getState:o,options:{localization:s,muiCreateRowModalProps:a,muiEditRowDialogProps:l,onCreatingRowCancel:c,onEditingRowCancel:u,renderCreateRowDialogContent:d,renderEditRowDialogContent:f},setCreatingRow:p,setEditingRow:g}=r,{creatingRow:m,editingRow:v}=o(),b=m??v,S=Object.assign(Object.assign(Object.assign({},Je(l,{row:b,table:r})),m&&Je(a,{row:b,table:r})),i),C=b.getAllCells().filter(_=>_.column.columnDef.columnDefType==="data").map(_=>x.jsx(Wye,{cell:_,table:r},_.id));return x.jsx(Ri,Object.assign({fullWidth:!0,maxWidth:"xs",onClose:(_,E)=>{var T;m?(c==null||c({row:b,table:r}),p(null)):(u==null||u({row:b,table:r}),g(null)),b._valuesCache={},(T=S.onClose)===null||T===void 0||T.call(S,_,E)},open:n},S,{children:(t=m&&(d==null?void 0:d({internalEditComponents:C,row:b,table:r}))||(f==null?void 0:f({internalEditComponents:C,row:b,table:r})))!==null&&t!==void 0?t:x.jsxs(x.Fragment,{children:[x.jsx(Aa,{sx:{textAlign:"center"},children:s.edit}),x.jsx(Ma,{children:x.jsx("form",{onSubmit:_=>_.preventDefault(),children:x.jsx(en,{sx:{gap:"32px",paddingTop:"16px",width:"100%"},children:C})})}),x.jsx(Gs,{sx:{p:"1.25rem"},children:x.jsx(zye,{row:b,table:r,variant:"text"})})]})}))},Nut=typeof window<"u"?O.useLayoutEffect:O.useEffect,Lut=e=>{var{table:t}=e,n=Xt(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableCellActions:s,enableStickyHeader:a,muiTableContainerProps:l},refs:{bottomToolbarRef:c,tableContainerRef:u,topToolbarRef:d}}=t,{actionCell:f,creatingRow:p,editingRow:g,isFullScreen:m,isLoading:v,showLoadingOverlay:b}=r(),S=b!==!1&&(v||b),[C,_]=O.useState(0),E=Object.assign(Object.assign({},Je(l,{table:t})),n);Nut(()=>{var A,P,D,F;const I=typeof document<"u"&&(P=(A=d.current)===null||A===void 0?void 0:A.offsetHeight)!==null&&P!==void 0?P:0,j=typeof document<"u"&&(F=(D=c==null?void 0:c.current)===null||D===void 0?void 0:D.offsetHeight)!==null&&F!==void 0?F:0;_(I+j)});const T=i==="modal"&&p,k=o==="modal"&&g;return x.jsxs(kXe,Object.assign({"aria-busy":S,"aria-describedby":S?"mrt-progress":void 0},E,{ref:A=>{A&&(u.current=A,E!=null&&E.ref&&(E.ref.current=A))},style:Object.assign({maxHeight:m?`calc(100vh - ${C}px)`:void 0},E==null?void 0:E.style),sx:A=>Object.assign({maxHeight:a?`clamp(350px, calc(100vh - ${C}px), 9999px)`:void 0,maxWidth:"100%",overflow:"auto",position:"relative"},Je(E==null?void 0:E.sx,A)),children:[S?x.jsx(Iut,{table:t}):null,x.jsx(Put,{table:t}),(T||k)&&x.jsx(Fut,{open:!0,table:t}),s&&f&&x.jsx($ut,{table:t})]}))},Kye=e=>{var{isTopToolbar:t,table:n}=e,r=Xt(e,["isTopToolbar","table"]);const{getState:i,options:{muiLinearProgressProps:o}}=n,{isSaving:s,showProgressBars:a}=i(),l=Object.assign(Object.assign({},Je(o,{isTopToolbar:t,table:n})),r);return x.jsx(ig,{in:a!==!1&&(a||s),mountOnEnter:!0,sx:{bottom:t?0:void 0,position:"absolute",top:t?void 0:0,width:"100%"},unmountOnExit:!0,children:x.jsx(Oqe,Object.assign({"aria-busy":"true","aria-label":"Loading",sx:{position:"relative"}},l))})},jut=[5,10,15,20,25,30,50,100],Qye=e=>{var{position:t="bottom",table:n}=e,r=Xt(e,["position","table"]);const i=lr(),o=lg("(max-width: 720px)"),{getState:s,options:{enableToolbarInternalActions:a,icons:{ChevronLeftIcon:l,ChevronRightIcon:c,FirstPageIcon:u,LastPageIcon:d},id:f,localization:p,muiPaginationProps:g,paginationDisplayMode:m}}=n,{pagination:{pageIndex:v=0,pageSize:b=10}}=s(),S=Object.assign(Object.assign({},Je(g,{table:n})),r),C=n.getRowCount(),_=n.getPageCount(),E=_>2,T=v*b,k=Math.min(v*b+b,C),A=S??{},{SelectProps:P={},disabled:D=!1,rowsPerPageOptions:F=jut,showFirstButton:I=E,showLastButton:j=E,showRowsPerPage:M=!0}=A,$=Xt(A,["SelectProps","disabled","rowsPerPageOptions","showFirstButton","showLastButton","showRowsPerPage"]),L=v<=0||D,V=k>=C||D;o&&(P==null?void 0:P.native)!==!1&&(P.native=!0);const q=wc();return x.jsxs(lt,{className:"MuiTablePagination-root",sx:{alignItems:"center",display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:{md:"space-between",sm:"center"},justifySelf:"flex-end",mt:t==="top"&&a?"3rem":void 0,position:"relative",px:"8px",py:"12px",zIndex:2},children:[M&&x.jsxs(lt,{sx:{alignItems:"center",display:"flex",gap:"8px"},children:[x.jsx(V7,{htmlFor:`mrt-rows-per-page-${f}`,sx:{mb:0},children:p.rowsPerPage}),x.jsx(X7,Object.assign({MenuProps:{disableScrollLock:!0},disableUnderline:!0,disabled:D,inputProps:{"aria-label":p.rowsPerPage,id:`mrt-rows-per-page-${f}`},label:p.rowsPerPage,onChange:U=>n.setPageSize(+U.target.value),sx:{mb:0},value:b,variant:"standard"},P,{children:F.map(U=>{var z;const B=typeof U!="number"?U.value:U,G=typeof U!="number"?U.label:`${U}`;return(z=P==null?void 0:P.children)!==null&&z!==void 0?z:P!=null&&P.native?x.jsx("option",{value:B,children:G},B):x.jsx(ir,{sx:{m:0},value:B,children:G},B)})}))]}),m==="pages"?x.jsx(HGe,Object.assign({count:_,disabled:D,onChange:(U,z)=>n.setPageIndex(z-1),page:v+1,renderItem:U=>x.jsx(Age,Object.assign({slots:{first:u,last:d,next:c,previous:l}},U)),showFirstButton:I,showLastButton:j},$)):m==="default"?x.jsxs(x.Fragment,{children:[x.jsx(it,{align:"center",component:"span",sx:{m:"0 4px",minWidth:"8ch"},variant:"body2",children:`${k===0?0:(T+1).toLocaleString(p.language)}-${k.toLocaleString(p.language)} ${p.of} ${C.toLocaleString(p.language)}`}),x.jsxs(lt,{gap:"xs",children:[I&&x.jsx(Yt,Object.assign({},q,{title:p.goToFirstPage,children:x.jsx("span",{children:x.jsx(sn,{"aria-label":p.goToFirstPage,disabled:L,onClick:()=>n.firstPage(),size:"small",children:x.jsx(u,Object.assign({},yT(i)))})})})),x.jsx(Yt,Object.assign({},q,{title:p.goToPreviousPage,children:x.jsx("span",{children:x.jsx(sn,{"aria-label":p.goToPreviousPage,disabled:L,onClick:()=>n.previousPage(),size:"small",children:x.jsx(l,Object.assign({},yT(i)))})})})),x.jsx(Yt,Object.assign({},q,{title:p.goToNextPage,children:x.jsx("span",{children:x.jsx(sn,{"aria-label":p.goToNextPage,disabled:V,onClick:()=>n.nextPage(),size:"small",children:x.jsx(c,Object.assign({},yT(i)))})})})),j&&x.jsx(Yt,Object.assign({},q,{title:p.goToLastPage,children:x.jsx("span",{children:x.jsx(sn,{"aria-label":p.goToLastPage,disabled:V,onClick:()=>n.lastPage(),size:"small",children:x.jsx(d,Object.assign({},yT(i)))})})}))]})]}):null]})},Zye=e=>{var t,n,{table:r}=e,i=Xt(e,["table"]);const{getState:o,options:{enableGrouping:s,localization:a},setHoveredColumn:l,setShowToolbarDropZone:c}=r,{draggingColumn:u,grouping:d,hoveredColumn:f,showToolbarDropZone:p}=o(),g=v=>{l({id:"drop-zone"})},m=v=>{v.preventDefault()};return O.useEffect(()=>{var v;((v=r.options.state)===null||v===void 0?void 0:v.showToolbarDropZone)!==void 0&&c(!!s&&!!u&&u.columnDef.enableGrouping!==!1&&!d.includes(u.id))},[s,u,d]),x.jsx(og,{in:p,children:x.jsx(lt,Object.assign({className:"Mui-ToolbarDropZone",onDragEnter:g,onDragOver:m},i,{sx:v=>Object.assign({alignItems:"center",backdropFilter:"blur(4px)",backgroundColor:_t(v.palette.info.main,(f==null?void 0:f.id)==="drop-zone"?.2:.1),border:`dashed ${v.palette.info.main} 2px`,boxSizing:"border-box",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",zIndex:4},Je(i==null?void 0:i.sx,v)),children:x.jsx(it,{fontStyle:"italic",children:a.dropToGroupBy.replace("{column}",(n=(t=u==null?void 0:u.columnDef)===null||t===void 0?void 0:t.header)!==null&&n!==void 0?n:"")})}))})},zut=e=>{var{table:t}=e,n=Xt(e,["table"]);const{getState:r,options:{enablePagination:i,muiBottomToolbarProps:o,positionPagination:s,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:c},refs:{bottomToolbarRef:u}}=t,{isFullScreen:d}=r(),f=lg("(max-width:720px)"),p=Object.assign(Object.assign({},Je(o,{table:t})),n),g=f||!!c;return x.jsxs(lt,Object.assign({},p,{ref:m=>{m&&(u.current=m,p!=null&&p.ref&&(p.ref.current=m))},sx:m=>Object.assign(Object.assign(Object.assign({},Uye({table:t})),{bottom:d?"0":void 0,boxShadow:`0 1px 2px -1px ${_t(m.palette.grey[700],.5)} inset`,left:0,position:d?"fixed":"relative",right:0}),Je(p==null?void 0:p.sx,m)),children:[x.jsx(Kye,{isTopToolbar:!1,table:t}),a==="bottom"&&x.jsx(YU,{stackAlertBanner:g,table:t}),["both","bottom"].includes(l??"")&&x.jsx(Zye,{table:t}),x.jsxs(lt,{sx:{alignItems:"center",boxSizing:"border-box",display:"flex",justifyContent:"space-between",p:"0.5rem",width:"100%"},children:[c?c({table:t}):x.jsx("span",{}),x.jsx(lt,{sx:{display:"flex",justifyContent:"flex-end",position:g?"relative":"absolute",right:0,top:0},children:i&&["both","bottom"].includes(s??"")&&x.jsx(Qye,{position:"bottom",table:t})})]})]}))},But=e=>{var{column:t,table:n}=e,r=Xt(e,["column","table"]);const{options:{icons:{PushPinIcon:i},localization:o}}=n,s=a=>{t.pin(a)};return x.jsx(lt,Object.assign({},r,{sx:a=>Object.assign({minWidth:"70px",textAlign:"center"},Je(r==null?void 0:r.sx,a)),children:t.getIsPinned()?x.jsx(Yt,{title:o.unpin,children:x.jsx(sn,{onClick:()=>s(!1),size:"small",children:x.jsx(i,{})})}):x.jsxs(x.Fragment,{children:[x.jsx(Yt,{title:o.pinToLeft,children:x.jsx(sn,{onClick:()=>s("left"),size:"small",children:x.jsx(i,{style:{transform:"rotate(90deg)"}})})}),x.jsx(Yt,{title:o.pinToRight,children:x.jsx(sn,{onClick:()=>s("right"),size:"small",children:x.jsx(i,{style:{transform:"rotate(-90deg)"}})})})]})}))},Jye=e=>{var t,{allColumns:n,column:r,hoveredColumn:i,isNestedColumns:o,setHoveredColumn:s,table:a}=e,l=Xt(e,["allColumns","column","hoveredColumn","isNestedColumns","setHoveredColumn","table"]);const{getState:c,options:{enableColumnOrdering:u,enableColumnPinning:d,enableHiding:f,localization:p,mrtTheme:{draggingBorderColor:g}},setColumnOrder:m,setColumnPinning:v}=a,{columnOrder:b}=c(),{columnDef:S}=r,{columnDefType:C}=S,_=r.getIsVisible(),E=I=>{var j,M;C==="group"?(M=(j=I==null?void 0:I.columns)===null||j===void 0?void 0:j.forEach)===null||M===void 0||M.call(j,$=>{$.toggleVisibility(!_)}):I.toggleVisibility()},T=O.useRef(null),[k,A]=O.useState(!1),P=I=>{A(!0);try{I.dataTransfer.setDragImage(T.current,0,0)}catch(j){console.error(j)}},D=I=>{if(A(!1),s(null),i){const j=bye(r,i,b);m(j),v(({left:M=[],right:$=[]})=>({left:j.filter(L=>M.includes(L)),right:j.filter(L=>$.includes(L))}))}},F=I=>{!k&&S.enableColumnOrdering!==!1&&s(r)};return!S.header||S.visibleInShowHideMenu===!1?null:x.jsxs(x.Fragment,{children:[x.jsx(ir,Object.assign({disableRipple:!0,onDragEnter:F,ref:T},l,{sx:I=>Object.assign({alignItems:"center",justifyContent:"flex-start",my:0,opacity:k?.5:1,outline:k?`2px dashed ${I.palette.grey[500]}`:(i==null?void 0:i.id)===r.id?`2px dashed ${g}`:"none",outlineOffset:"-2px",pl:`${(r.depth+.5)*2}rem`,py:"6px"},Je(l==null?void 0:l.sx,I)),children:x.jsxs(lt,{sx:{display:"flex",flexWrap:"nowrap",gap:"8px"},children:[C!=="group"&&u&&!o&&(S.enableColumnOrdering!==!1?x.jsx(qU,{onDragEnd:D,onDragStart:P,table:a}):x.jsx(lt,{sx:{width:"28px"}})),d&&(r.getCanPin()?x.jsx(But,{column:r,table:a}):x.jsx(lt,{sx:{width:"70px"}})),f?x.jsx(Sge,{checked:_,componentsProps:{typography:{sx:{mb:0,opacity:C!=="display"?1:.5}}},control:x.jsx(Yt,Object.assign({},wc(),{title:p.toggleVisibility,children:x.jsx($ge,{})})),disabled:!r.getCanHide(),label:S.header,onChange:()=>E(r)}):x.jsx(it,{sx:{alignSelf:"center"},children:S.header})]})})),(t=r.columns)===null||t===void 0?void 0:t.map((I,j)=>x.jsx(Jye,{allColumns:n,column:I,hoveredColumn:i,isNestedColumns:o,setHoveredColumn:s,table:a},`${j}-${I.id}`))]})},Uut=e=>{var{anchorEl:t,setAnchorEl:n,table:r}=e,i=Xt(e,["anchorEl","setAnchorEl","table"]);const{getAllColumns:o,getAllLeafColumns:s,getCenterLeafColumns:a,getIsAllColumnsVisible:l,getIsSomeColumnsPinned:c,getIsSomeColumnsVisible:u,getLeftLeafColumns:d,getRightLeafColumns:f,getState:p,initialState:g,options:{enableColumnOrdering:m,enableColumnPinning:v,enableHiding:b,localization:S,mrtTheme:{menuBackgroundColor:C}}}=r,{columnOrder:_,columnPinning:E,density:T}=p(),k=j=>{s().filter(M=>M.columnDef.enableHiding!==!1).forEach(M=>M.toggleVisibility(j))},A=O.useMemo(()=>{const j=o();return _.length>0&&!j.some(M=>M.columnDef.columnDefType==="group")?[...d(),...Array.from(new Set(_)).map(M=>a().find($=>($==null?void 0:$.id)===M)),...f()].filter(Boolean):j},[_,E,o(),a(),d(),f()]),P=A.some(j=>j.columnDef.columnDefType==="group"),D=O.useMemo(()=>_.length!==g.columnOrder.length||!_.every((j,M)=>j===g.columnOrder[M]),[_,g.columnOrder]),[F,I]=O.useState(null);return x.jsxs($d,Object.assign({MenuListProps:{dense:T==="compact",sx:{backgroundColor:C}},anchorEl:t,disableScrollLock:!0,onClose:()=>n(null),open:!!t},i,{children:[x.jsxs(lt,{sx:{display:"flex",justifyContent:"space-between",p:"0.5rem",pt:0},children:[b&&x.jsx(Ft,{disabled:!u(),onClick:()=>k(!1),children:S.hideAll}),m&&x.jsx(Ft,{onClick:()=>r.setColumnOrder(UU(r.options,!0)),disabled:!D,children:S.resetOrder}),v&&x.jsx(Ft,{disabled:!c(),onClick:()=>r.resetColumnPinning(!0),children:S.unpinAll}),b&&x.jsx(Ft,{disabled:l(),onClick:()=>k(!0),children:S.showAll})]}),x.jsx(ag,{}),A.map((j,M)=>x.jsx(Jye,{allColumns:A,column:j,hoveredColumn:F,isNestedColumns:P,setHoveredColumn:I,table:r},`${M}-${j.id}`))]}))},Hut=e=>{var t,{table:n}=e,r=Xt(e,["table"]);const{options:{icons:{ViewColumnIcon:i},localization:o}}=n,[s,a]=O.useState(null),l=c=>{a(c.currentTarget)};return x.jsxs(x.Fragment,{children:[x.jsx(Yt,{title:(t=r==null?void 0:r.title)!==null&&t!==void 0?t:o.showHideColumns,children:x.jsx(sn,Object.assign({"aria-label":o.showHideColumns,onClick:l},r,{title:void 0,children:x.jsx(i,{})}))}),s&&x.jsx(Uut,{anchorEl:s,setAnchorEl:a,table:n})]})},Vut=e=>{var t,{table:n}=e,r=Xt(e,["table"]);const{getState:i,options:{icons:{DensityLargeIcon:o,DensityMediumIcon:s,DensitySmallIcon:a},localization:l},setDensity:c}=n,{density:u}=i(),d=()=>{c(u==="comfortable"?"compact":u==="compact"?"spacious":"comfortable")};return x.jsx(Yt,{title:(t=r==null?void 0:r.title)!==null&&t!==void 0?t:l.toggleDensity,children:x.jsx(sn,Object.assign({"aria-label":l.toggleDensity,onClick:d},r,{title:void 0,children:u==="compact"?x.jsx(a,{}):u==="comfortable"?x.jsx(s,{}):x.jsx(o,{})}))})},Wut=e=>{var t,{table:n}=e,r=Xt(e,["table"]);const{getState:i,options:{icons:{FilterListIcon:o,FilterListOffIcon:s},localization:a},setShowColumnFilters:l}=n,{showColumnFilters:c}=i(),u=()=>{l(!c)};return x.jsx(Yt,{title:(t=r==null?void 0:r.title)!==null&&t!==void 0?t:a.showHideFilters,children:x.jsx(sn,Object.assign({"aria-label":a.showHideFilters,onClick:u},r,{title:void 0,children:c?x.jsx(s,{}):x.jsx(o,{})}))})},qut=e=>{var t,{table:n}=e,r=Xt(e,["table"]);const{getState:i,options:{icons:{FullscreenExitIcon:o,FullscreenIcon:s},localization:a},setIsFullScreen:l}=n,{isFullScreen:c}=i(),[u,d]=O.useState(!1),f=()=>{d(!1),l(!c)};return x.jsx(Yt,{open:u,title:(t=r==null?void 0:r.title)!==null&&t!==void 0?t:a.toggleFullScreen,children:x.jsx(sn,Object.assign({"aria-label":a.toggleFullScreen,onBlur:()=>d(!1),onClick:f,onFocus:()=>d(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1)},r,{title:void 0,children:c?x.jsx(o,{}):x.jsx(s,{})}))})},Gut=e=>{var t,n,{table:r}=e,i=Xt(e,["table"]);const{getState:o,options:{icons:{SearchIcon:s,SearchOffIcon:a},localization:l},refs:{searchInputRef:c},setShowGlobalFilter:u}=r,{globalFilter:d,showGlobalFilter:f}=o(),p=()=>{u(!f),queueMicrotask(()=>{var g;return(g=c.current)===null||g===void 0?void 0:g.focus()})};return x.jsx(Yt,{title:(t=i==null?void 0:i.title)!==null&&t!==void 0?t:l.showHideSearch,children:x.jsx(sn,Object.assign({"aria-label":(n=i==null?void 0:i.title)!==null&&n!==void 0?n:l.showHideSearch,disabled:!!d&&f,onClick:p},i,{title:void 0,children:f?x.jsx(a,{}):x.jsx(s,{})}))})},Yut=e=>{var t,{table:n}=e,r=Xt(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:o,enableColumnOrdering:s,enableColumnPinning:a,enableDensityToggle:l,enableFilters:c,enableFullScreenToggle:u,enableGlobalFilter:d,enableHiding:f,initialState:p,renderToolbarInternalActions:g}}=n;return x.jsx(lt,Object.assign({},r,{sx:m=>Object.assign({alignItems:"center",display:"flex",zIndex:3},Je(r==null?void 0:r.sx,m)),children:(t=g==null?void 0:g({table:n}))!==null&&t!==void 0?t:x.jsxs(x.Fragment,{children:[c&&d&&!(p!=null&&p.showGlobalFilter)&&x.jsx(Gut,{table:n}),c&&o&&i!=="popover"&&x.jsx(Wut,{table:n}),(f||s||a)&&x.jsx(Hut,{table:n}),l&&x.jsx(Vut,{table:n}),u&&x.jsx(qut,{table:n})]})}))},ML=e=>{var t,{table:n}=e,r=Xt(e,["table"]);const{getState:i,options:{enableGlobalFilterModes:o,icons:{CloseIcon:s,SearchIcon:a},localization:l,manualFiltering:c,muiSearchTextFieldProps:u},refs:{searchInputRef:d},setGlobalFilter:f}=n,{globalFilter:p,showGlobalFilter:g}=i(),m=Object.assign(Object.assign({},Je(u,{table:n})),r),v=O.useRef(!1),[b,S]=O.useState(null),[C,_]=O.useState(p??""),E=O.useCallback(my(P=>{var D;f((D=P.target.value)!==null&&D!==void 0?D:void 0)},c?500:250),[]),T=P=>{_(P.target.value),E(P)},k=P=>{S(P.currentTarget)},A=()=>{_(""),f(void 0)};return O.useEffect(()=>{v.current&&(p===void 0?A():_(p)),v.current=!0},[p]),x.jsxs(ig,{in:g,mountOnEnter:!0,orientation:"horizontal",unmountOnExit:!0,children:[x.jsx(Ir,Object.assign({inputProps:Object.assign({autoComplete:"off"},m.inputProps),onChange:T,placeholder:l.search,size:"small",value:C??"",variant:"outlined"},m,{InputProps:Object.assign(Object.assign({endAdornment:x.jsx(I0,{position:"end",children:x.jsx(Yt,{title:(t=l.clearSearch)!==null&&t!==void 0?t:"",children:x.jsx("span",{children:x.jsx(sn,{"aria-label":l.clearSearch,disabled:!(C!=null&&C.length),onClick:A,size:"small",children:x.jsx(s,{})})})})}),startAdornment:o?x.jsx(I0,{position:"start",children:x.jsx(Yt,{title:l.changeSearchMode,children:x.jsx(sn,{"aria-label":l.changeSearchMode,onClick:k,size:"small",sx:{height:"1.75rem",width:"1.75rem"},children:x.jsx(a,{})})})}):x.jsx(a,{style:{marginRight:"4px"}})},m.InputProps),{sx:P=>{var D;return Object.assign({mb:0},Je((D=m==null?void 0:m.InputProps)===null||D===void 0?void 0:D.sx,P))}}),inputRef:P=>{d.current=P,m!=null&&m.inputRef&&(m.inputRef=P)}})),x.jsx(GU,{anchorEl:b,onSelect:A,setAnchorEl:S,table:n})]})},Xut=({table:e})=>{var t;const{getState:n,options:{enableGlobalFilter:r,enablePagination:i,enableToolbarInternalActions:o,muiTopToolbarProps:s,positionGlobalFilter:a,positionPagination:l,positionToolbarAlertBanner:c,positionToolbarDropZone:u,renderTopToolbarCustomActions:d},refs:{topToolbarRef:f}}=e,{isFullScreen:p,showGlobalFilter:g}=n(),m=lg("(max-width:720px)"),v=lg("(max-width:1024px)"),b=Je(s,{table:e}),S=m||!!d||g&&v,C={sx:v?void 0:{zIndex:2},table:e};return x.jsxs(lt,Object.assign({},b,{ref:_=>{f.current=_,b!=null&&b.ref&&(b.ref.current=_)},sx:_=>Object.assign(Object.assign(Object.assign({},Uye({table:e})),{position:p?"sticky":"relative",top:p?"0":void 0}),Je(b==null?void 0:b.sx,_)),children:[c==="top"&&x.jsx(YU,{stackAlertBanner:S,table:e}),["both","top"].includes(u??"")&&x.jsx(Zye,{table:e}),x.jsxs(lt,{sx:{alignItems:"flex-start",boxSizing:"border-box",display:"flex",gap:"0.5rem",justifyContent:"space-between",p:"0.5rem",position:S?"relative":"absolute",right:0,top:0,width:"100%"},children:[r&&a==="left"&&x.jsx(ML,Object.assign({},C)),(t=d==null?void 0:d({table:e}))!==null&&t!==void 0?t:x.jsx("span",{}),o?x.jsxs(lt,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap-reverse",gap:"0.5rem",justifyContent:"flex-end"},children:[r&&a==="right"&&x.jsx(ML,Object.assign({},C)),x.jsx(Yut,{table:e})]}):r&&a==="right"&&x.jsx(ML,Object.assign({},C))]}),i&&["both","top"].includes(l??"")&&x.jsx(Qye,{position:"top",table:e}),x.jsx(Kye,{isTopToolbar:!0,table:e})]}))},Kut=e=>{var t,n,{table:r}=e,i=Xt(e,["table"]);const{getState:o,options:{enableBottomToolbar:s,enableTopToolbar:a,mrtTheme:{baseBackgroundColor:l},muiTablePaperProps:c,renderBottomToolbar:u,renderTopToolbar:d},refs:{tablePaperRef:f}}=r,{isFullScreen:p}=o(),g=Object.assign(Object.assign({},Je(c,{table:r})),i),m=lr();return x.jsxs(El,Object.assign({elevation:2,onKeyDown:v=>v.key==="Escape"&&r.setIsFullScreen(!1)},g,{ref:v=>{f.current=v,g!=null&&g.ref&&(g.ref.current=v)},style:Object.assign(Object.assign({},p?{bottom:0,height:"100dvh",left:0,margin:0,maxHeight:"100dvh",maxWidth:"100dvw",padding:0,position:"fixed",right:0,top:0,width:"100dvw",zIndex:m.zIndex.modal}:{}),g==null?void 0:g.style),sx:v=>Object.assign({backgroundColor:l,backgroundImage:"unset",overflow:"hidden",transition:"all 100ms ease-in-out"},Je(g==null?void 0:g.sx,v)),children:[a&&((t=Je(d,{table:r}))!==null&&t!==void 0?t:x.jsx(Xut,{table:r})),x.jsx(Lut,{table:r}),s&&((n=Je(u,{table:r}))!==null&&n!==void 0?n:x.jsx(zut,{table:r}))]}))},Qut=e=>e.table!==void 0,XU=e=>{let t;return Qut(e)?t=e.table:t=aut(e),x.jsx(Kut,{table:t})},KU=e=>({baseBackgroundColor:e.palette.background.table,menuBackgroundColor:Ho(e.palette.background.table,.07),draggingBorderColor:e.palette.primary.main,pinnedRowBackgroundColor:_t(e.palette.primary.main,.1),selectedRowBackgroundColor:_t(e.palette.primary.main,.2),matchHighlightColor:e.palette.highlight.match}),eve=({columns:e,data:t,enableRowSelection:n=!1,enableColumnFilters:r=!0,enableSorting:i=!0,enablePagination:o=!0,enableFullScreenToggle:s=!1,enableDensityToggle:a=!1,initialState:l={pagination:{pageSize:10,pageIndex:0},showGlobalFilter:!0,density:"comfortable"},...c})=>{const u=lr();return x.jsx(XU,{columns:e,data:t,enableRowSelection:n,enableColumnFilters:r,enableFullScreenToggle:s,enableDensityToggle:a,enableSorting:i,enablePagination:o,enableHiding:!1,initialState:l,mrtTheme:KU(u),...c})},tve=({pipes:e,onClick:t,onEditClick:n,onDeleteClick:r,onVisibilityClick:i,onRenameClick:o,onSavePipeAsTemplateClick:s,showCostCentersColumn:a=!1,showToolbar:l=!0,enableRowActions:c=!0})=>{const{currentUserIsAdmin:u}=Xi(),{data:d}=kl(),f=_=>u&&_.is_template&&d&&_.user_id===d.id,p=_=>u&&_.is_template&&d&&_.user_id===d.id,g=_=>!_.is_template||u,m=_=>!_.is_template&&_.user_id===d.id,v=_=>!_.is_template&&d!==void 0&&d.permissions.some(E=>E.name===zh.ADMIN),b=[{accessorKey:"name",header:"Name",size:200},{accessorKey:"data_source",header:"Data Source",size:200}].concat(a?[{accessorKey:"cost_centers",header:"Cost Centers",size:150,Cell:({row:_})=>x.jsx(lt,{children:_.original.cost_centers||"-"})},{accessorKey:"tag",header:"Tag",size:100},{accessorKey:"owner",header:"Owner",size:150}]:[]),S=({table:_})=>x.jsx(lt,{children:x.jsx(lt,{sx:{display:"flex",gap:"0rem"},children:_.getHeaderGroups()[0].headers.map(E=>E.column.getCanFilter()&&E.column.getFilterValue())})}),C=({closeMenu:_,row:E})=>{let T=[];return f(E.original)&&T.push(x.jsxs(ir,{onClick:()=>{_(),n(E.original)},children:[x.jsx(no,{children:x.jsx(Ax,{fontSize:"small"})}),"Configure tag"]},0)),p(E.original)&&T.push(x.jsxs(ir,{onClick:()=>{_(),i(E.original)},children:[x.jsx(no,{children:x.jsx(sJe,{fontSize:"small"})}),"Change visibility"]},1)),m(E.original)&&T.push(x.jsxs(ir,{onClick:()=>{_(),o(E.original)},children:[x.jsx(no,{children:x.jsx(_Ze,{fontSize:"small"})}),"Rename"]},3)),v(E.original)&&T.push(x.jsxs(ir,{onClick:()=>{_(),s(E.original)},children:[x.jsx(no,{children:x.jsx(FZe,{fontSize:"small"})}),"Save Pipeline as Template"]},4)),g(E.original)&&T.push(x.jsxs(ir,{onClick:()=>{_(),r(E.original)},children:[x.jsx(no,{children:x.jsx(dme,{fontSize:"small"})}),"Delete"]},2)),T};return x.jsx(lt,{sx:{width:"100%",position:"relative","& .MuiPaper-root":{width:"100%",maxWidth:"none",boxShadow:"none"},"& .MuiTable-root":{width:"100%"},"& .MuiTableContainer-root":{width:"100%"}},children:x.jsx(eve,{columns:b,data:e,renderTopToolbarCustomActions:({table:_})=>x.jsx(S,{table:_}),enableTopToolbar:l,enableStickyHeader:!0,enableColumnResizing:!0,enableColumnPinning:!1,enableColumnActions:!0,enableDensityToggle:!1,layoutMode:"grid",enableRowActions:c,renderRowActionMenuItems:C,positionActionsColumn:"last",muiTableContainerProps:{sx:_=>({maxHeight:"calc(100vh - 300px)",width:"100%",backgroundColor:_.palette.background.paper})},muiTablePaperProps:{sx:{width:"100%",maxWidth:"none"}},muiTopToolbarProps:{sx:{width:"100%",maxWidth:"none"}},muiBottomToolbarProps:{sx:{width:"100%",maxWidth:"none"}},muiTableBodyRowProps:({row:_})=>({onClick:()=>t(_.original),sx:{cursor:"pointer"}})})})},Zut=()=>{const{data:e}=kl(),t=Oa(),{currentUserIsAdmin:n}=Xi(),{data:r,isError:i,error:o,isLoading:s}=Gme(e==null?void 0:e.username);i&&or.error("Could not get user pipes: "+JSON.stringify(o));const a=c=>{const u=Sd(e.username,c.pipe_id);t(n?{to:`/${Mi.Pipe}/${u}`}:{to:`/${Mi.Dashboard}/${u}`})},l=()=>{t({to:Mi.Pipes+"/"+e.username})};return s?x.jsxs(en,{direction:"column",sx:{width:"100%"},children:[x.jsx(en,{direction:"row",justifyContent:"space-between",alignItems:"center",children:x.jsx(it,{variant:"h4",sx:{my:2},children:"Pipelines"})}),x.jsx(lt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"20vh",width:"100vw"},children:x.jsx(au,{})})]}):x.jsxs(en,{direction:"column",sx:{width:"100%"},children:[x.jsxs(lt,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mt:5,mb:5,height:"50px"},children:[x.jsx(it,{variant:"h3",children:"Dashboards"}),x.jsx(Yt,{title:"View all dashboards",children:x.jsx(Ft,{onClick:l,variant:"text",startIcon:x.jsx(sZe,{}),children:"All Dashboards"})})]}),x.jsx(tve,{pipes:r,onClick:a,showCostCentersColumn:!1,showToolbar:!1,enableRowActions:!1})]})};function Jut({children:e,additionalSx:t}){return x.jsx(Us,{additionalSx:{mt:0,margin:"20px",flexDirection:"column",...t},children:e})}const edt=()=>{const{isKws:e}=Xi(),t=e?"SmartPlot allows breeders and data scientists to visualize data of standard procedures on demand with minimal effort.  Due to the flexible architecture of the software, it is able to cover a wide range of standard processes. Easy to use, it provides the user with top-notch visualizations which are customizable for fast and reliable reporting. Stop working on finding the correct analysis of your data and get more time for the interpretation of the results!":"NoMaze allows breeders and data scientists to visualize data of standard procedures on demand with minimal effort.  Due to the flexible architecture of the software, it is able to cover a wide range of standard processes. Easy to use, it provides the user with top-notch visualizations which are customizable for fast and reliable reporting. Stop working on finding the correct analysis of your data and get more time for the interpretation of the results!";return x.jsxs(Wc,{item:!0,xs:12,md:12,lg:12,children:[x.jsx(it,{variant:"h4",children:"About"}),x.jsx(it,{variant:"body1",sx:{mt:2},children:t})]})},nve=()=>{const{isKws:e}=Xi(),t=e?[{name:"BIC Support",email:"BIC_support@kws.com"}]:[{name:"Finn Gaida",email:"finn.gaida@nomaze.com",imageURL:"https://assets-global.website-files.com/625c7306f5af3d37a364aea7/625dc5442fd0305da4d7bacb_finn.png"},{name:"Jean-Pascal Lutze",email:"jean-pascal.lutze@nomaze.com",imageURL:"https://assets-global.website-files.com/625c7306f5af3d37a364aea7/625dc4942c982c5c3445a2bb_jp.png"}];return x.jsxs(Wc,{item:!0,xs:12,md:12,lg:12,sx:{mt:4},children:[x.jsx(it,{variant:"h5",sx:{mb:2},children:"Contact"}),x.jsx(Wc,{container:!0,spacing:2,children:t.map((n,r)=>x.jsxs(Wc,{item:!0,children:[n.imageURL===void 0?x.jsx(lt,{sx:{padding:3},children:x.jsx(lme,{fontSize:"large"})}):x.jsx("img",{src:n.imageURL,style:{width:100,height:100}}),x.jsx(it,{variant:"body1",children:x.jsx("strong",{children:n.name})}),x.jsx(Nqe,{href:"mailto:"+n.email,children:n.email})]},r))})]})},tdt=()=>x.jsx(Wc,{item:!0,xs:12,md:12,lg:12,children:x.jsxs(Jut,{children:[x.jsx(it,{variant:"h5",children:"Login"}),x.jsx(it,{variant:"body1",children:"We use an external auth provider to log you in. Please click the button below to proceed."}),x.jsx(lt,{sx:{mt:2,display:"flex",justifyContent:"center"},children:x.jsx(Ft,{variant:"contained",onClick:()=>{window.location.replace("https://redpill.nomaze.com/"+Mi.LoginRedirect)},children:"Go to Login"})})]})}),ndt=()=>{const{data:e}=kl(),{isKws:t}=Xi();return x.jsx(Pg,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:x.jsxs(Wc,{container:!0,spacing:2,children:[x.jsx(Wc,{item:!0,xs:12,md:12,lg:12,children:e?x.jsx(Zut,{}):x.jsx(tdt,{})}),x.jsx(Wc,{item:!0,xs:12,md:12,lg:12,sx:{mt:1},children:x.jsxs(Wc,{container:!0,spacing:6,children:[x.jsxs(Wc,{item:!0,xs:12,md:6,children:[x.jsx(edt,{}),x.jsx(nve,{}),x.jsxs(en,{direction:"row",spacing:2,sx:{mt:4},children:[x.jsx(Ft,{href:`#${Mi.Licenses}`,variant:"text",children:"Licenses"}),x.jsx(Ft,{href:`#${Mi.Changelog}`,variant:"text",children:"Changelog"}),t&&x.jsx(Ft,{target:"_blank",href:"https://kwsnet.sharepoint.com/sites/Breeding-Information-Circle/SitePages/Trainings-&-Tutorials.aspx",children:"Tutorials & Trainings"})]})]}),x.jsx(Wc,{item:!0,xs:12,md:6,children:x.jsx(ont,{})})]})})]})})},rdt=({error:e})=>{const t=Oa(),n=()=>{t({to:Mi.Home})};return O.useEffect(()=>{L9(e,{level:"error"})},[e]),x.jsxs(lt,{sx:{display:"flex"},children:[x.jsx(j7,{}),x.jsx(Zme,{handleLogoClick:n,children:x.jsx(lt,{sx:{flexGrow:1}})}),x.jsx(lt,{sx:{padding:4,maxWidth:"100vw"},children:x.jsx(Pg,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:x.jsx(Us,{children:x.jsxs(en,{direction:"column",spacing:3,children:[x.jsx(it,{variant:"h2",children:"Error"}),x.jsxs(it,{variant:"body2",children:["Something went wrong. The team was already informed, however if this error is causing you severe pain, please reach out to"," "]}),x.jsx(nve,{}),x.jsxs(it,{variant:"body2",children:["Technical Error Code: ",e.message]})]})})})})]})},idt=(e,t)=>{or.error("ErrorBoundary: "+e+" "+t)},Ys=LQe({component:()=>x.jsxs(lt,{children:[x.jsx(j7,{}),x.jsx(Wtt,{}),x.jsx(Itt,{}),x.jsx(Ptt,{}),x.jsx($tt,{}),x.jsx(ame,{}),x.jsx(Mtt,{toggleButtonProps:{style:{left:"100px"}}})]}),errorComponent:rdt,onCatch:idt}),zre=JSON.parse(`[{"Version":"1.37.0","Release Date":"Fri Apr 25 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Grouped Scatter Tooltips: See the N-value and categories involved in groups of overlaying points on a scatter plot"],"fixes":["Crash on reload fixed"]}},{"Version":"1.36.0","Release Date":"Wed Apr 23 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Heatmap Labels: Specify different columns to use for the labels on heatmaps"],"fixes":[]}},{"Version":"1.35.0","Release Date":"Mon Apr 14 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Design Update: Major restyling of the whole experience makes the app more intuitive and nicer to look at","Files Section: Files from all pipes are now easily accessible via a new Tab"],"improvements":["Faster File Loading: Especially .csv files now load significantly quicker","Multiple Box Plots: Setting an X-Axis and a Color on Box plots now looks much better"],"fixes":["File Upload via API works as intended again","All plots from dashboard are shown in the PDF Export","Branch ordering behaves as intended again"]}},{"Version":"1.34.0","Release Date":"Mon Apr 07 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Show Table Update: Reorder and hide columns from the table more easily and remove columns from the outgoing data"],"improvements":["Updated Landing Page: The homepage now shows up-to-date contact and tutorial information"],"fixes":[]}},{"Version":"1.33.0","Release Date":"Thu Apr 03 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Customize Tooltips: Scatter Plots now allow setting custom columns for the hover tooltip","Color-coding table: Show Table can apply a color scheme to numerical columns for intuitive data understanding","Dark Mode: Change the theme to dark for better readability in dark surroundings"],"improvements":["Heatmap Color Scheme: Color of Correlation and Heatmap blocks has been updated to be color-blind friendly","Loading Indicators: Downloading Plots and Cloning Pipes now shows a loading progress","Filter Orthogonal Extension: Orthogonal filter now supports setting multiple columns as identifier"],"fixes":["Overwriting files now works as intended again","Correlation block allows two numerical columns"]}},{"Version":"1.32.0","Release Date":"Mon Mar 10 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Box Plot Block: Violin plots now also support a pure Box mode and can be grouped by color","Heatmap Block: Visualize Data in the form of a colored checker-pattern"],"improvements":["Plot Sizes: Box and Bar plots now follow a more flexible sizing logic which always adjusts the plot size to your screen"],"fixes":["Fixed problem with some plots not visible in the PDF Export","Fixed problem with some Cost Center formats not being accepted","Fixed crash when files contain columns with a certain format"]}},{"Version":"1.30.0","Release Date":"Mon Mar 10 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Correlation Matrix Block: Select a category and a feature and see the correlation between categories as a heatmap"],"improvements":["Logout Redirect: After logging out you're redirected to the front page"],"fixes":["Fixed issue with deleting files via the API","Problem with dashboard blocks being rearranged was solved"]}},{"Version":"1.29.0","Release Date":"Mon Feb 24 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Updated File API: External Services can directly redirect users to an updated dashboard after updating a file","Better Error Handling: We're using a new service to monitor and investigate errors"],"improvements":[],"fixes":["Histogram Plots allow not setting a color value again"]}},{"Version":"1.28.0","Release Date":"Thu Feb 13 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Categorical Scatter Plot: Select categorical axes on scatter plots for a \\"Strip plot\\" overview of each category"],"improvements":["Plot Configurations: Options with just a single choice collapse automatically after selection"],"fixes":["Fixed problem with loading API-uploaded files","Reduced number of errors thrown after an update","Allow dates as columns in the histogram","Fixed issue with ghost blocks after deletion"]}},{"Version":"1.27.0","Release Date":"Wed Feb 05 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Histogram Plot: Visualize distributions of numerical values in various bin settings and including the true distibution"],"improvements":["Performance: Drastically improved loading time when adding new blocks to a pipeline","Plot Size: Scatter and bar plots now adjust their height to fit on any screen size"],"fixes":["Fixed problem with configuring files","Sync Axes across breakout bar chart now works properly"]}},{"Version":"1.26.1","Release Date":"Wed Jan 29 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Multi-Scatter Plots keep the 4:3 ratio and show descriptions again","Data Table does not jump around when changing pages"]}},{"Version":"1.26.0","Release Date":"Fri Jan 24 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Bar Plot: Visualize numerical values in groups and including standard deviation"],"improvements":["Export: Errors during export are handled more transparently","API Integration: Improved file permission handling for automated workflows"],"fixes":["Problem with Categorical Filters after the new Update","Fixed an issue with the file upload API","Wide to Long block is visible again","Allow Scatter plots without a color setting and with identical X and Y axis again"]}},{"Version":"1.25.1","Release Date":"Tue Jan 07 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Categorized Blocks: Block library items are renamed and sorted into categories"],"improvements":[],"fixes":["Export block showed an error"]}},{"Version":"1.25.0","Release Date":"Mon Jan 06 2025 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Revamped Pipes Overview: Filter and open Pipelines and Templates in a table format","Two-column Dashboard: Show filters side-by-side with the rest of the dashboard"],"improvements":[],"fixes":["Issues with importing Excel files"]}},{"Version":"1.24.0","Release Date":"Wed Dec 18 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Unified Scatter Plot: Select one or multiple axes for scatter plots without having to choose between \\"Filter 2D\\" and \\"Filter Multi\\"","Rename Columns: Simply change the title of a column in the \\"Show Table\\" block"],"improvements":["Type to select: Find options for plot axes or block configurations by typing","API Integration: Improved file permission handling for automated workflows","Presentation Mode: Increased Font sizes"],"fixes":["Multiple wide2long blocks in sequence","Problems with loading indicators","Problems with creating templates"]}},{"Version":"1.23.0","Release Date":"Fri Dec 13 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":[],"fixes":["Fix issue with blocks unexpectedly hidden on the dashboard"]}},{"Version":"1.22.0","Release Date":"Thu Dec 05 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Combined Plot Block: Regression, and Head-to-Head merged into 'Scatter Plot' block","Column Pinning: Pin Columns to the left when scrolling"],"improvements":["Plot Configurations: Improve UX of multi-select elements","File configurations persist across multiple uploads"],"fixes":["Fix colors for mixed regression and mean line plots"]}},{"Version":"1.21.0","Release Date":"Thu Nov 28 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Interactive Plot Zooming: Zoom into plots with the scroll wheel and pan around interactively"],"improvements":[],"fixes":[]}},{"Version":"1.20.0","Release Date":"Mon Nov 25 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":[],"improvements":["Long2wide: Allow long2wide after breakout blocks"],"fixes":[]}},{"Version":"1.19.0","Release Date":"Sun Nov 24 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Manage Plot Column Options: Admin mode allows disabling certain columns for plotting","External Authorization: Allow setting user roles and permissions via API"],"improvements":["Permission Handling: Allow setting an organization for templates","Performance Improvements: Browser-based caching via React-Query"],"fixes":["Fix error with empty H2H candidates"]}},{"Version":"1.18.0","Release Date":"Sun Nov 17 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Manage Plot Column Options: Admin mode allows disabling certain columns for plotting","Plot Exports: Customizable subtitles and descriptions in PNG format"],"improvements":["Filter Categories: Improve loading state and allow delayed saving","H2H Comparison: Add column for number of environments with lowest value"],"fixes":["Fix issue with column name changes not persisting"]}},{"Version":"1.17.0","Release Date":"Mon Oct 28 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Grouped Mean Values: Use the second output to show aggregated mean values only","Presentation Mode: Toggle larger font sizes and higher contrasts","Plot Swap: New Block to quickly switch between two plots"],"improvements":["PDF Export: Improve performance"],"fixes":["Fix issues with template permission settings"]}},{"Version":"1.16.0","Release Date":"Wed Oct 23 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Reorder Column: Drag and drop columns in Show Table block to sort"],"improvements":["H2h Comparison Matrix: Compare lines against selected candidate across environments","Mean Block: Drop group requirement to average all values"],"fixes":["Fix PDF report descriptions"]}},{"Version":"1.15.0","Release Date":"Fri Oct 11 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Export Feature: Introduced new export capabilities for easier data handling","API v2: Launched a new version of our API, offering enhanced features and security","Check mean lines: Display the average check values as vertical lines on the 2d plots"],"improvements":["Reordering in Pipeline View: Improved the ability to reorder branches within the pipeline view for better organization","Show Table Block: Filter and sort the columns shown in the raw data table","Read only pipe: Dashboard users can now get an overview of the pipeline in read-only mode"],"fixes":["Fixes for Big Files Performance: Addressed performance issues when handling large files"]}},{"Version":"1.9.0","Release Date":"Sun Aug 04 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Regression Coefficients on Plots: Weve added regression coefficients to our regression plots, providing deeper insights into your data analysis.","External Authentication: Implemented support for external authentication methods to enhance security and flexibility in logging in.","API for Automatic Data Import: Introduced an API that allows for automatic data import, simplifying and speeding up your data management processes."],"improvements":["Drag to Reorder Dashboard Items: You can now easily drag and reorder items on your dashboard for a more personalized and organized layout.","General Performance Enhancements: Weve made several under-the-hood improvements to boost overall performance and responsiveness of the application.","Mean Block Enhancements: The mean block can now set multiple means at once, offering more flexibility and efficiency in your calculations."],"fixes":["Username Issue: Resolved an issue where usernames containing a dash were causing problems.","Admin Role Selection View: Fixed a bug in the admin role selection view to ensure smooth and error-free role assignments."]}},{"Version":"1.6.0","Release Date":"Mon Apr 08 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Clearer Error Messages: Get more helpful guidance when working with columns to streamline troubleshooting.","File Upload Enhancements: Experience a faster and smoother file upload process.","Improved Error Handling: Benefit from a more stable application with better error messaging.","Cloning Read-Only Pipes: Easily create your own copies of publicly shared read-only pipes.","Environment Identification: Quickly see which environment you're working in with the new environment badge."],"improvements":["Informative 404 Page: Get helpful guidance when encountering a \\"Page Not Found\\" error.","Performance Optimizations: Enjoy a smoother experience thanks to code optimizations and dependency upgrades."],"fixes":["Head-to-Head Comparison Errors: Resolved an issue affecting head-to-head comparisons.","\\"Make File Private\\" Functionality: The \\"Make File Private\\" button now works as intended."]}},{"Version":"1.4.1","Release Date":"Mon Mar 18 2024 00:00:00 GMT+0000 (Coordinated Universal Time)","Content":{"features":["Rename Blocks: Give your blocks a title and description","Skip Blocks: Simply disable any block to disable its effect on the rest of the pipeline","Sync Axes: Turn on synchronisation of vertical axes in the configuration to use the same scale"],"improvements":["Better Caching: Both plot previews as well as intermediate results get saved more efficiently","Clone Readonly Pipes: Your colleagues can now clone the pipe you sent them directly from the dashboard"],"fixes":["Some layout issues on the dashboard were resolved","Bug in the long to wide block was fixed"]}}]`),odt=Da("/changelog")({component:sdt});function sdt(){return zre?x.jsx("div",{children:x.jsxs(Pg,{maxWidth:"lg",sx:{marginTop:8,padding:4},children:[x.jsx(it,{variant:"h4",sx:{marginBottom:2},children:"Latest Release Notes"}),zre.map((e,t)=>x.jsxs(Yhe,{defaultExpanded:t===0,children:[x.jsxs(Khe,{expandIcon:x.jsx(lU,{}),children:[x.jsx(it,{variant:"h5",children:e.Version}),x.jsx(it,{variant:"body1",sx:{marginLeft:2},children:x.jsx("em",{children:new Date(e["Release Date"]).toLocaleDateString()})})]}),x.jsxs(Xhe,{children:[e.Content.features.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(it,{variant:"h6",children:"Features"}),x.jsx("ul",{children:e.Content.features.map((n,r)=>x.jsx("li",{children:n},r))})]}),e.Content.improvements.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(it,{variant:"h6",children:"Improvements"}),x.jsx("ul",{children:e.Content.improvements.map((n,r)=>x.jsx("li",{children:n},r))})]}),e.Content.fixes.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(it,{variant:"h6",children:"Fixes"}),x.jsx("ul",{children:e.Content.fixes.map((n,r)=>x.jsx("li",{children:n},r))})]})]})]},e.Version))]})}):x.jsx(au,{})}const wd=({loading:e})=>x.jsx(WP,{sx:{mt:20},anchorOrigin:{vertical:"top",horizontal:"center"},open:e,message:x.jsxs(lt,{sx:{display:"inline-flex",flexDirection:"row"},children:[x.jsx(au,{size:30}),x.jsx(lt,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(it,{children:"Loading..."})})]})}),adt=Da("/auth-callback")({component:ldt});function ldt(){let t=new URL(window.location.href.replace("#/","")).searchParams.get("token");return rI().setToken(t),window.location.assign("/"),x.jsx(wd,{loading:!0})}const cdt=Da("/")({component:ndt}),rve=({open:e,objectName:t,onClose:n,onDeleteConfirmed:r})=>x.jsxs(Ri,{open:e,onClose:n,children:[x.jsxs(Aa,{children:['Do you really want to delete "',x.jsx("b",{children:t}),'"?']}),x.jsx(Ma,{children:x.jsx(gl,{children:x.jsxs("p",{children:['This action cannot be undone. Are you sure you want to delete "',t,'"?']})})}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:n,children:"Cancel"}),x.jsx(Ft,{onClick:()=>{r(),n()},variant:"contained",color:"error",children:"Delete"})]})]}),udt=({open:e,pipe:t,onClose:n,onSaveEdit:r})=>{const[i,o]=O.useState("");return O.useEffect(()=>{o(t==null?void 0:t.tag)},[t]),x.jsxs(Ri,{open:e,onClose:n,children:[x.jsxs(Aa,{children:['Set a tag for the Pipe called "',x.jsx("b",{children:t==null?void 0:t.name}),'"']}),x.jsxs(Ma,{children:[x.jsx(gl,{children:x.jsx("p",{children:"This tag is used to match files with this template. Tags are case-sensitive and should not be longer than 100 letters."})}),x.jsx(Ir,{autoFocus:!0,margin:"dense",label:"Tag",fullWidth:!0,variant:"outlined",value:i,onChange:s=>{o(s.target.value)}})]}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:n,children:"Cancel"}),x.jsx(Ft,{onClick:()=>{r(i),n()},variant:"contained",children:"Save"})]})]})},ddt=({open:e,onSaveConfirmed:t,onClose:n})=>x.jsxs(Ri,{open:e,onClose:n,children:[x.jsx(Aa,{children:"Save Pipe as Template"}),x.jsx(Ma,{children:x.jsx(gl,{children:"This pipeline will be saved as a template and can be used by all users to create new pipelines. Please note that all input files set in this pipeline will be shared with all users as well."})}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:n,children:"Cancel"}),x.jsx(Ft,{onClick:()=>{t(),n()},variant:"contained",children:"Save"})]})]});function Es(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fdt=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bre=fdt,Ure=()=>Math.random().toString(36).substring(7).split("").join("."),pdt={INIT:`@@redux/INIT${Ure()}`,REPLACE:`@@redux/REPLACE${Ure()}`},Hre=pdt;function hdt(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ive(e,t,n){if(typeof e!="function")throw new Error(Es(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Es(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Es(1));return n(ive)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((v,b)=>{s.set(b,v)}))}function u(){if(l)throw new Error(Es(3));return i}function d(v){if(typeof v!="function")throw new Error(Es(4));if(l)throw new Error(Es(5));let b=!0;c();const S=a++;return s.set(S,v),function(){if(b){if(l)throw new Error(Es(6));b=!1,c(),s.delete(S),o=null}}}function f(v){if(!hdt(v))throw new Error(Es(7));if(typeof v.type>"u")throw new Error(Es(8));if(typeof v.type!="string")throw new Error(Es(17));if(l)throw new Error(Es(9));try{l=!0,i=r(i,v)}finally{l=!1}return(o=s).forEach(S=>{S()}),v}function p(v){if(typeof v!="function")throw new Error(Es(10));r=v,f({type:Hre.REPLACE})}function g(){const v=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Es(11));function S(){const _=b;_.next&&_.next(u())}return S(),{unsubscribe:v(S)}},[Bre](){return this}}}return f({type:Hre.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[Bre]:g}}function Vre(e,t){return function(...n){return t(e.apply(this,n))}}function Wre(e,t){if(typeof e=="function")return Vre(e,t);if(typeof e!="object"||e===null)throw new Error(Es(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=Vre(i,t))}return n}function ove(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function gdt(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Es(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=e.map(l=>l(s));return o=ove(...a)(i.dispatch),{...i,dispatch:o}}}var AL={exports:{}},OL={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qre;function mdt(){if(qre)return OL;qre=1;var e=mu();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,a=e.useDebugValue;return OL.useSyncExternalStoreWithSelector=function(l,c,u,d,f){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=s(function(){function v(E){if(!b){if(b=!0,S=E,E=d(E),f!==void 0&&g.hasValue){var T=g.value;if(f(T,E))return C=T}return C=E}if(T=C,n(S,E))return T;var k=d(E);return f!==void 0&&f(T,k)?(S=E,T):(S=E,C=k)}var b=!1,S,C,_=u===void 0?null:u;return[function(){return v(c())},_===null?void 0:function(){return v(_())}]},[c,u,d,f]);var m=r(l,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=m},[m]),a(m),m},OL}var Gre;function ydt(){return Gre||(Gre=1,AL.exports=mdt()),AL.exports}ydt();var vdt=O.version.startsWith("19"),bdt=Symbol.for(vdt?"react.transitional.element":"react.element"),xdt=Symbol.for("react.portal"),Sdt=Symbol.for("react.fragment"),wdt=Symbol.for("react.strict_mode"),Cdt=Symbol.for("react.profiler"),_dt=Symbol.for("react.consumer"),Edt=Symbol.for("react.context"),sve=Symbol.for("react.forward_ref"),kdt=Symbol.for("react.suspense"),Rdt=Symbol.for("react.suspense_list"),QU=Symbol.for("react.memo"),Tdt=Symbol.for("react.lazy"),Mdt=sve,Adt=QU;function Odt(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case bdt:switch(e=e.type,e){case Sdt:case Cdt:case wdt:case kdt:case Rdt:return e;default:switch(e=e&&e.$$typeof,e){case Edt:case sve:case Tdt:case QU:return e;case _dt:return e;default:return t}}case xdt:return t}}}function Ddt(e){return Odt(e)===QU}function Pdt(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,c,u,d,f;function p(S,C){return l=S,c=C,u=e(l,c),d=t(r,c),f=n(u,d,c),a=!0,f}function g(){return u=e(l,c),t.dependsOnOwnProps&&(d=t(r,c)),f=n(u,d,c),f}function m(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(d=t(r,c)),f=n(u,d,c),f}function v(){const S=e(l,c),C=!s(S,u);return u=S,C&&(f=n(u,d,c)),f}function b(S,C){const _=!o(C,c),E=!i(S,l,C,c);return l=S,c=C,_&&E?g():_?m():E?v():f}return function(C,_){return a?b(C,_):p(C,_)}}function Idt(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),a=r(e,i);return Pdt(o,s,a,e,i)}function $dt(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function j6(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Yre(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function ave(e,t){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=Yre(e);let c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=Yre(c),c=o(a,l)),c},o}}function ZU(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Fdt(e){return e&&typeof e=="object"?j6(t=>$dt(e,t)):e?typeof e=="function"?ave(e):ZU(e,"mapDispatchToProps"):j6(t=>({dispatch:t}))}function Ndt(e){return e?typeof e=="function"?ave(e):ZU(e,"mapStateToProps"):j6(()=>({}))}function Ldt(e,t,n){return{...n,...e,...t}}function jdt(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,c,u){const d=e(l,c,u);return o?i(d,s)||(s=d):(o=!0,s=d),s}}}function zdt(e){return e?typeof e=="function"?jdt(e):ZU(e,"mergeProps"):()=>Ldt}function Bdt(e){e()}function Udt(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Bdt(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Xre={notify(){},get:()=>[]};function lve(e,t){let n,r=Xre,i=0,o=!1;function s(m){u();const v=r.subscribe(m);let b=!1;return()=>{b||(b=!0,v(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return o}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Udt())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Xre)}function f(){o||(o=!0,u())}function p(){o&&(o=!1,d())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var Hdt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vdt=Hdt(),Wdt=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qdt=Wdt(),Gdt=()=>Vdt||qdt?O.useLayoutEffect:O.useEffect,fO=Gdt();function Kre(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function DL(e,t){if(Kre(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Kre(e[n[i]],t[n[i]]))return!1;return!0}var Ydt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Xdt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kdt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qdt={[Mdt]:Kdt,[Adt]:cve};function Qre(e){return Ddt(e)?cve:Qdt[e.$$typeof]||Ydt}var Zdt=Object.defineProperty,Jdt=Object.getOwnPropertyNames,Zre=Object.getOwnPropertySymbols,eft=Object.getOwnPropertyDescriptor,tft=Object.getPrototypeOf,Jre=Object.prototype;function z6(e,t){if(typeof t!="string"){if(Jre){const o=tft(t);o&&o!==Jre&&z6(e,o)}let n=Jdt(t);Zre&&(n=n.concat(Zre(t)));const r=Qre(e),i=Qre(t);for(let o=0;o<n.length;++o){const s=n[o];if(!Xdt[s]&&!(i&&i[s])&&!(r&&r[s])){const a=eft(t,s);try{Zdt(e,s,a)}catch{}}}}return e}var PL=Symbol.for("react-redux-context"),IL=typeof globalThis<"u"?globalThis:{};function nft(){if(!O.createContext)return{};const e=IL[PL]??(IL[PL]=new Map);let t=e.get(O.createContext);return t||(t=O.createContext(null),e.set(O.createContext,t)),t}var uve=nft(),rft=[null,null];function ift(e,t,n){fO(()=>e(...t),n)}function oft(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function sft(e,t,n,r,i,o,s,a,l,c,u){if(!e)return()=>{};let d=!1,f=null;const p=()=>{if(d||!a.current)return;const m=t.getState();let v,b;try{v=r(m,i.current)}catch(S){b=S,f=S}b||(f=null),v===o.current?s.current||c():(o.current=v,l.current=v,s.current=!0,u())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function aft(e,t){return e===t}function lft(e,t,n,{pure:r,areStatesEqual:i=aft,areOwnPropsEqual:o=DL,areStatePropsEqual:s=DL,areMergedPropsEqual:a=DL,forwardRef:l=!1,context:c=uve}={}){const u=c,d=Ndt(e),f=Fdt(t),p=zdt(n),g=!!e;return v=>{const b=v.displayName||v.name||"Component",S=`Connect(${b})`,C={shouldHandleStateChanges:g,displayName:S,wrappedComponentName:b,WrappedComponent:v,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function _(k){const[A,P,D]=O.useMemo(()=>{const{reactReduxForwardedRef:ne,...pe}=k;return[k.context,ne,pe]},[k]),F=O.useMemo(()=>{let ne=u;return A!=null&&A.Consumer,ne},[A,u]),I=O.useContext(F),j=!!k.store&&!!k.store.getState&&!!k.store.dispatch,M=!!I&&!!I.store,$=j?k.store:I.store,L=M?I.getServerState:$.getState,V=O.useMemo(()=>Idt($.dispatch,C),[$]),[q,U]=O.useMemo(()=>{if(!g)return rft;const ne=lve($,j?void 0:I.subscription),pe=ne.notifyNestedSubs.bind(ne);return[ne,pe]},[$,j,I]),z=O.useMemo(()=>j?I:{...I,subscription:q},[j,I,q]),B=O.useRef(void 0),G=O.useRef(D),Y=O.useRef(void 0),Q=O.useRef(!1),K=O.useRef(!1),te=O.useRef(void 0);fO(()=>(K.current=!0,()=>{K.current=!1}),[]);const ce=O.useMemo(()=>()=>Y.current&&D===G.current?Y.current:V($.getState(),D),[$,D]),ie=O.useMemo(()=>pe=>q?sft(g,$,q,V,G,B,Q,K,Y,U,pe):()=>{},[q]);ift(oft,[G,B,Q,D,Y,U]);let re;try{re=O.useSyncExternalStore(ie,ce,L?()=>V(L(),D):ce)}catch(ne){throw te.current&&(ne.message+=`
The error may be correlated with this previous error:
${te.current.stack}

`),ne}fO(()=>{te.current=void 0,Y.current=void 0,B.current=re});const he=O.useMemo(()=>O.createElement(v,{...re,ref:P}),[P,v,re]);return O.useMemo(()=>g?O.createElement(F.Provider,{value:z},he):he,[F,he,z])}const T=O.memo(_);if(T.WrappedComponent=v,T.displayName=_.displayName=S,l){const A=O.forwardRef(function(D,F){return O.createElement(T,{...D,reactReduxForwardedRef:F})});return A.displayName=S,A.WrappedComponent=v,z6(A,v)}return z6(T,v)}}var dve=lft;function cft(e){const{children:t,context:n,serverState:r,store:i}=e,o=O.useMemo(()=>{const l=lve(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=O.useMemo(()=>i.getState(),[i]);fO(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||uve;return O.createElement(a.Provider,{value:o},t)}var uft=cft,Zc=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},JU=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},eie=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},dft=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},$L={top:0,right:0,bottom:0,left:0},eH=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?$L:r,o=t.border,s=o===void 0?$L:o,a=t.padding,l=a===void 0?$L:a,c=Zc(JU(n,i)),u=Zc(eie(n,s)),d=Zc(eie(u,l));return{marginBox:c,borderBox:Zc(n),paddingBox:u,contentBox:d,margin:i,border:s,padding:l}},Nl=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&ad(!1),i},fft=function(){return{x:window.pageXOffset,y:window.pageYOffset}},pO=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=dft(r,n);return eH({borderBox:a,border:i,margin:o,padding:s})},hO=function(t,n){return n===void 0&&(n=fft()),pO(t,n)},fve=function(t,n){var r={top:Nl(n.marginTop),right:Nl(n.marginRight),bottom:Nl(n.marginBottom),left:Nl(n.marginLeft)},i={top:Nl(n.paddingTop),right:Nl(n.paddingRight),bottom:Nl(n.paddingBottom),left:Nl(n.paddingLeft)},o={top:Nl(n.borderTopWidth),right:Nl(n.borderRightWidth),bottom:Nl(n.borderBottomWidth),left:Nl(n.borderLeftWidth)};return eH({borderBox:t,margin:r,padding:i,border:o})},pve=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return fve(n,r)},j_=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function hve(e,t){}hve.bind(null,"warn");hve.bind(null,"error");function Bh(){}function pft(e,t){return{...e,...t}}function Ql(e,t,n){const r=t.map(i=>{const o=pft(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const hft="Invariant failed";class gO extends Error{}gO.prototype.toString=function(){return this.message};function bt(e,t){throw new gO(hft)}class gft extends hn.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Bh,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof gO&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ql(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof gO){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const mft=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,mO=e=>e+1,yft=e=>`
  You have lifted an item in position ${mO(e.source.index)}
`,gve=(e,t)=>{const n=e.droppableId===t.droppableId,r=mO(e.index),i=mO(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},mve=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,vft=e=>{const t=e.destination;if(t)return gve(e.source,t);const n=e.combine;return n?mve(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},tie=e=>`
  The item has returned to its starting position
  of ${mO(e.index)}
`,bft=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${tie(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${gve(e.source,t)}
    `:n?`
      You have dropped the item.
      ${mve(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${tie(e.source)}
  `},HM={dragHandleUsageInstructions:mft,onDragStart:yft,onDragUpdate:vft,onDragEnd:bft};function xft(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function yve(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!xft(e[n],t[n]))return!1;return!0}function sr(e,t){const n=O.useState(()=>({inputs:t,result:e()}))[0],r=O.useRef(!0),i=O.useRef(n),s=r.current||!!(t&&i.current.inputs&&yve(t,i.current.inputs))?i.current:{inputs:t,result:e()};return O.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function Gt(e,t){return sr(()=>e,t)}const _o={x:0,y:0},jo=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Za=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Uh=(e,t)=>e.x===t.x&&e.y===t.y,Lx=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),z0=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},z_=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),nie=(e,t)=>Math.min(...t.map(n=>z_(e,n))),vve=e=>t=>({x:e(t.x),y:e(t.y)});var Sft=(e,t)=>{const n=Zc({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const h2=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),rie=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],wft={top:0,right:0,bottom:0,left:0},Cft=(e,t)=>t?h2(e,t.scroll.diff.displacement):e,_ft=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Eft=(e,t)=>t&&t.shouldClipSubject?Sft(t.pageMarginBox,e):Zc(e);var R1=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=Cft(e.marginBox,r),o=_ft(i,n,t),s=Eft(o,r);return{page:e,withPlaceholder:t,active:s}},tH=(e,t)=>{e.frame||bt();const n=e.frame,r=Za(t,n.scroll.initial),i=Lx(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=R1({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function So(e,t=yve){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const bve=So(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),xve=So(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),xI=So(e=>Object.values(e)),kft=So(e=>Object.values(e));var jx=So((e,t)=>kft(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function nH(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function SI(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var wI=So((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Rft=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!nH(i))return null;function s(p){const g={type:"COMBINE",combine:{draggableId:p,droppableId:n.descriptor.id}};return{...i,at:g}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?s(l):null;const c=wI(t,r);if(!l){if(!c.length)return null;const p=c[c.length-1];return s(p.descriptor.id)}const u=c.findIndex(p=>p.descriptor.id===l);u===-1&&bt();const d=u-1;if(d<0)return null;const f=c[d];return s(f.descriptor.id)},zx=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Sve={point:_o,value:0},B_={invisible:{},visible:{},all:[]},Tft={displaced:B_,displacedBy:Sve,at:null};var sc=(e,t)=>n=>e<=n&&n<=t,wve=e=>{const t=sc(e.top,e.bottom),n=sc(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return l&&c?!0:l&&s||c&&o}},Mft=e=>{const t=sc(e.top,e.bottom),n=sc(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const rH={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Cve={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Aft=e=>t=>{const n=sc(t.top,t.bottom),r=sc(t.left,t.right);return i=>e===rH?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const Oft=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:_o;return h2(e,n)},Dft=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Pft=(e,t,n)=>n(t)(e),iH=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?Oft(e,t):e;return Dft(o,t,i)&&Pft(o,n,i)},Ift=e=>iH({...e,isVisibleThroughFrameFn:wve}),_ve=e=>iH({...e,isVisibleThroughFrameFn:Mft}),$ft=e=>iH({...e,isVisibleThroughFrameFn:Aft(e.destination.axis)}),Fft=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function Nft(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Zc(JU(n,r))}function U_({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(a,l){const c=Nft(l,n),u=l.descriptor.id;if(a.all.push(u),!Ift({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=Fft(u,o,i),p={draggableId:u,shouldAnimate:f};return a.visible[u]=p,a},{all:[],visible:{},invisible:{}})}function Lft(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function iie({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=Lft(e,{inHomeList:t});return{displaced:B_,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function yO({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const l=zx(e,n);if(s==null)return iie({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const c=t.find(g=>g.descriptor.index===s);if(!c)return iie({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const u=wI(e,t),d=t.indexOf(c),f=u.slice(d);return{displaced:U_({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function ug(e,t){return!!t.effected[e]}var jft=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return ug(o,i)?e?a:a-1:e?a+1:a},zft=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return o<s||o>l?null:o},Bft=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:l})=>{const c=s.at;if(c||bt(),c.type==="REORDER"){const d=zft({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:o});return d==null?null:yO({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:d})}const u=jft({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:yO({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:u})},Uft=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return ug(n,t)?i?_o:Lx(r.point):i?r.point:_o},Hft=({afterCritical:e,impact:t,draggables:n})=>{const r=SI(t);r||bt();const i=r.draggableId,o=n[i].page.borderBox.center,s=Uft({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return jo(o,s)};const Eve=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Vft=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,oH=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,oie=({axis:e,moveRelativeTo:t,isMoving:n})=>z0(e.line,t.marginBox[e.end]+Eve(e,n),oH(e,t.marginBox,n)),sie=({axis:e,moveRelativeTo:t,isMoving:n})=>z0(e.line,t.marginBox[e.start]-Vft(e,n),oH(e,t.marginBox,n)),Wft=({axis:e,moveInto:t,isMoving:n})=>z0(e.line,t.contentBox[e.start]+Eve(e,n),oH(e,t.contentBox,n));var qft=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=jx(r.descriptor.id,n),s=t.page,a=r.axis;if(!o.length)return Wft({axis:a,moveInto:r.page,isMoving:s});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const f=n[u];if(ug(u,i))return sie({axis:a,moveRelativeTo:f.page,isMoving:s});const p=pO(f.page,c.point);return sie({axis:a,moveRelativeTo:p,isMoving:s})}const d=o[o.length-1];if(d.descriptor.id===t.descriptor.id)return s.borderBox.center;if(ug(d.descriptor.id,i)){const f=pO(d.page,Lx(i.displacedBy.point));return oie({axis:a,moveRelativeTo:f,isMoving:s})}return oie({axis:a,moveRelativeTo:d.page,isMoving:s})},B6=(e,t)=>{const n=e.frame;return n?jo(t,n.scroll.diff.displacement):t};const Gft=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?qft({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):Hft({impact:e,draggables:r,afterCritical:i})};var CI=e=>{const t=Gft(e),n=e.droppable;return n?B6(n,t):t},kve=(e,t)=>{const n=Za(t,e.scroll.initial),r=Lx(n);return{frame:Zc({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function aie(e,t){return e.map(n=>t[n])}function Yft(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Xft=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=kve(t,jo(t.scroll.current,i)),s=n.frame?tH(n,jo(n.frame.scroll.current,i)):n,a=e.displaced,l=U_({afterDragging:aie(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),c=U_({afterDragging:aie(a.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(g=>{const m=Yft(g,f);if(m){d[g]=m;return}u[g]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:d}}},Kft=(e,t)=>jo(e.scroll.diff.displacement,t),sH=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Kft(n,e),i=Za(r,t.page.borderBox.center);return jo(t.client.borderBox.center,i)},Rve=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Za(n,e.page.borderBox.center),l={target:h2(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?$ft(l):_ve(l)},Qft=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=jx(n.descriptor.id,r),u=zx(t,n),d=Rft({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:i})||Bft({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:o,afterCritical:l});if(!d)return null;const f=CI({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(Rve({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:sH({pageBorderBoxCenter:f,draggable:t,viewport:o}),impact:d,scrollJumpRequest:null};const g=Za(f,s),m=Xft({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:a,impact:m,scrollJumpRequest:g}};const bs=e=>{const t=e.subject.active;return t||bt(),t};var Zft=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,a=sc(o[s.start],o[s.end]),l=xI(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>wve(i.frame)(bs(u))).filter(u=>{const d=bs(u);return e?o[s.crossAxisEnd]<d[s.crossAxisEnd]:d[s.crossAxisStart]<o[s.crossAxisStart]}).filter(u=>{const d=bs(u),f=sc(d[s.start],d[s.end]);return a(d[s.start])||a(d[s.end])||f(o[s.start])||f(o[s.end])}).sort((u,d)=>{const f=bs(u)[s.crossAxisStart],p=bs(d)[s.crossAxisStart];return e?f-p:p-f}).filter((u,d,f)=>bs(u)[s.crossAxisStart]===bs(f[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>sc(bs(u)[s.start],bs(u)[s.end])(t[s.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>bs(u)[s.start]-bs(d)[s.start])[0]:l.sort((u,d)=>{const f=nie(t,rie(bs(u))),p=nie(t,rie(bs(d)));return f!==p?f-p:bs(u)[s.start]-bs(d)[s.start]})[0]};const lie=(e,t)=>{const n=e.page.borderBox.center;return ug(e.descriptor.id,t)?Za(n,t.displacedBy.point):n},Jft=(e,t)=>{const n=e.page.borderBox;return ug(e.descriptor.id,t)?h2(n,Lx(t.displacedBy.point)):n};var ept=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>_ve({target:Jft(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const l=z_(e,B6(n,lie(s,i))),c=z_(e,B6(n,lie(a,i)));return l<c?-1:c<l?1:s.descriptor.index-a.descriptor.index})[0]||null,g2=So(function(t,n){const r=n[t.line];return{value:r,point:z0(t.line,r)}});const tpt=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return z0(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=jx(e.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:z0(r.line,l)},Tve=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Mve=(e,t,n)=>{const r=e.frame;zx(t,e)&&bt(),e.subject.withPlaceholder&&bt();const i=g2(e.axis,t.displaceBy).point,o=tpt(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const u=R1({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=o?jo(r.scroll.max,o):r.scroll.max,l=Tve(r,a),c=R1({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},npt=e=>{const t=e.subject.withPlaceholder;t||bt();const n=e.frame;if(!n){const s=R1({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||bt();const i=Tve(n,r),o=R1({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var rpt=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!t){if(n.length)return null;const d={displaced:B_,displacedBy:Sve,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=CI({impact:d,draggable:r,droppable:o,draggables:i,afterCritical:a}),p=zx(r,o)?o:Mve(o,r,i);return Rve({draggable:r,destination:p,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],c=(()=>{const d=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?d:d+1})(),u=g2(o.axis,r.displaceBy);return yO({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:u,last:B_,index:c})},ipt=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const l=Zft({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!l)return null;const c=jx(l.descriptor.id,i),u=ept({pageBorderBoxCenter:t,viewport:s,destination:l,insideDestination:c,afterCritical:a}),d=rpt({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:s,afterCritical:a});if(!d)return null;const f=CI({impact:d,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:sH({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},ol=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const opt=(e,t)=>{const n=ol(e);return n?t[n]:null};var spt=({state:e,type:t})=>{const n=opt(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,a=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:f}=e.dimensions;return a?Qft({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:o,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):ipt({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:o,draggables:d,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Om(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Ave(e){const t=sc(e.top,e.bottom),n=sc(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function apt(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function lpt({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,a=z0(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:z_(r,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function cpt({pageBorderBox:e,draggable:t,droppables:n}){const r=xI(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!apt(e,o))return!1;if(Ave(o)(e.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],l=e[s.crossAxisStart],c=e[s.crossAxisEnd],u=sc(o[s.crossAxisStart],o[s.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:lpt({pageBorderBox:e,draggable:t,candidates:r}):null}const Ove=(e,t)=>Zc(h2(e,t));var upt=(e,t)=>{const n=e.frame;return n?Ove(t,n.scroll.diff.value):t};function Dve({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function dpt({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var fpt=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const a=n.axis,l=g2(n.axis,t.displaceBy),c=l.value,u=e[a.start],d=e[a.end],p=wI(t,r).find(m=>{const v=m.descriptor.id,b=m.page.borderBox.center[a.line],S=ug(v,s),C=Dve({displaced:i,id:v});return S?C?d<=b:u<b-c:C?d<=b+c:u<b})||null,g=dpt({draggable:t,closest:p,inHomeList:zx(t,n)});return yO({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:l,index:g})};const ppt=4;var hpt=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=g2(r.axis,e.displaceBy),l=a.value,c=t[s.start],u=t[s.end],f=wI(e,i).find(g=>{const m=g.descriptor.id,v=g.page.borderBox,S=v[s.size]/ppt,C=ug(m,o),_=Dve({displaced:n.displaced,id:m});return C?_?u>v[s.start]+S&&u<v[s.end]-S:c>v[s.start]-l+S&&c<v[s.end]-l-S:_?u>v[s.start]+l+S&&u<v[s.end]+l-S:c>v[s.start]+S&&c<v[s.end]-S});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},Pve=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const a=Ove(t.page.borderBox,e),l=cpt({pageBorderBox:a,draggable:t,droppables:r});if(!l)return Tft;const c=r[l],u=jx(c.descriptor.id,n),d=upt(c,a);return hpt({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:i,destination:c,insideDestination:u,afterCritical:s})||fpt({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:i.displaced,viewport:o,afterCritical:s})},aH=(e,t)=>({...e,[t.descriptor.id]:t});const gpt=({previousImpact:e,impact:t,droppables:n})=>{const r=ol(e),i=ol(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=npt(o);return aH(n,s)};var mpt=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=gpt({previousImpact:r,impact:i,droppables:n}),s=ol(i);if(!s)return o;const a=n[s];if(zx(e,a)||a.subject.withPlaceholder)return o;const l=Mve(a,e,t);return aH(o,l)},QC=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=Za(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:jo(e.initial.client.borderBoxCenter,c)},d={selection:jo(u.selection,s.scroll.current),borderBoxCenter:jo(u.borderBoxCenter,s.scroll.current),offset:jo(u.offset,s.scroll.diff.value)},f={client:u,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:s,current:f};const p=a.draggables[e.critical.draggable.id],g=i||Pve({pageOffset:d.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),m=mpt({draggable:p,impact:g,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:f,dimensions:{draggables:a.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function ypt(e,t){return e.map(n=>t[n])}var Ive=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=ypt(o.all,n),a=U_({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:a}},$ve=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=CI({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return sH({pageBorderBoxCenter:s,draggable:t,viewport:i})},Fve=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&bt();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:a}=o,l=s[e.critical.draggable.id],c=ol(r);c||bt();const u=a[c],d=Ive({impact:r,viewport:i,destination:u,draggables:s}),f=$ve({impact:d,draggable:l,droppable:u,draggables:s,viewport:i,afterCritical:e.afterCritical});return QC({impact:d,clientSelection:f,state:e,dimensions:o,viewport:i})},vpt=e=>({index:e.index,droppableId:e.droppableId}),Nve=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=g2(t.axis,e.displaceBy),o=jx(t.descriptor.id,n),s=o.indexOf(e);s===-1&&bt();const a=o.slice(s+1),l=a.reduce((f,p)=>(f[p.descriptor.id]=!0,f),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:U_({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:vpt(e.descriptor)}},afterCritical:c}},bpt=(e,t)=>({draggables:e.draggables,droppables:aH(e.droppables,t)}),xpt=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=pO(e.client,t),i=hO(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},Spt=e=>{const t=e.frame;return t||bt(),t},wpt=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],l=Spt(s).scroll.diff.value,c=jo(r,l);return xpt({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},Cpt=({state:e,published:t})=>{const n=t.modified.map(b=>{const S=e.dimensions.droppables[b.droppableId];return tH(S,b.scroll)}),r={...e.dimensions.droppables,...bve(n)},i=xve(wpt({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(b=>{delete o[b]});const s={droppables:r,draggables:o},a=ol(e.impact),l=a?s.droppables[a]:null,c=s.draggables[e.critical.draggable.id],u=s.droppables[e.critical.droppable.id],{impact:d,afterCritical:f}=Nve({draggable:c,home:u,draggables:o,viewport:e.viewport}),p=l&&l.isCombineEnabled?e.impact:d,g=Pve({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:e.viewport,afterCritical:f}),m={...e,phase:"DRAGGING",impact:g,onLiftImpact:d,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?m:{...m,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const U6=e=>e.movementMode==="SNAP",FL=(e,t,n)=>{const r=bpt(e.dimensions,t);return!U6(e)||n?QC({state:e,dimensions:r}):Fve({state:e,dimensions:r})};function NL(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const cie={phase:"IDLE",completed:null,shouldFlush:!1};var _pt=(e=cie,t)=>{if(t.type==="FLUSH")return{...cie,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&bt();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,a=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:_o},u={client:c,page:{selection:jo(c.selection,i.scroll.initial),borderBoxCenter:jo(c.selection,i.scroll.initial),offset:jo(c.selection,i.scroll.diff.value)}},d=xI(o.droppables).every(m=>!m.isFixedOnPage),{impact:f,afterCritical:p}=Nve({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:p,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&bt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||bt(),Cpt({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Om(e)||bt();const{client:n}=t.payload;return Uh(n,e.current.client.selection)?e:QC({state:e,clientSelection:n,impact:U6(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return NL(e);Om(e)||bt();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=tH(i,r);return FL(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Om(e)||bt();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||bt(),i.isEnabled===r&&bt();const o={...i,isEnabled:r};return FL(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Om(e)||bt();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||bt(),i.isCombineEnabled===r&&bt();const o={...i,isCombineEnabled:r};return FL(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Om(e)||bt(),e.isWindowScrollAllowed||bt();const n=t.payload.newScroll;if(Uh(e.viewport.scroll.current,n))return NL(e);const r=kve(e.viewport,n);return U6(e)?Fve({state:e,viewport:r}):QC({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Om(e))return e;const n=t.payload.maxScroll;if(Uh(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&bt();const n=spt({state:e,type:t.type});return n?QC({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&bt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||bt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Er(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Ept=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),kpt=e=>({type:"LIFT",payload:e}),Rpt=e=>({type:"INITIAL_PUBLISH",payload:e}),Tpt=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Mpt=()=>({type:"COLLECTION_STARTING",payload:null}),Apt=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Opt=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Dpt=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Lve=e=>({type:"MOVE",payload:e}),Ppt=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Ipt=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),$pt=()=>({type:"MOVE_UP",payload:null}),Fpt=()=>({type:"MOVE_DOWN",payload:null}),Npt=()=>({type:"MOVE_RIGHT",payload:null}),Lpt=()=>({type:"MOVE_LEFT",payload:null}),lH=()=>({type:"FLUSH",payload:null}),jpt=e=>({type:"DROP_ANIMATE",payload:e}),cH=e=>({type:"DROP_COMPLETE",payload:e}),jve=e=>({type:"DROP",payload:e}),zpt=e=>({type:"DROP_PENDING",payload:e}),zve=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Bpt=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Er(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(cH({completed:l.completed})),t().phase!=="IDLE"&&bt(),n(lH()),n(Ept({draggableId:o,movementMode:a}));const u={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:p}=e.startPublishing(u);n(Rpt({critical:d,dimensions:f,clientSelection:s,movementMode:a,viewport:p}))},Upt=e=>()=>t=>n=>{Er(n,"INITIAL_PUBLISH")&&e.dragging(),Er(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Er(n,"FLUSH")||Er(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const uH={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},H_={opacity:{drop:0,combining:.7},scale:{drop:.75}},Bve={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},mm=`${Bve.outOfTheWay}s ${uH.outOfTheWay}`,ZC={fluid:`opacity ${mm}`,snap:`transform ${mm}, opacity ${mm}`,drop:e=>{const t=`${e}s ${uH.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${mm}`,placeholder:`height ${mm}, width ${mm}, margin ${mm}`},uie=e=>Uh(e,_o)?void 0:`translate(${e.x}px, ${e.y}px)`,H6={moveTo:uie,drop:(e,t)=>{const n=uie(e);if(n)return t?`${n} scale(${H_.scale.drop})`:n}},{minDropTime:V6,maxDropTime:Uve}=Bve,Hpt=Uve-V6,die=1500,Vpt=.6;var Wpt=({current:e,destination:t,reason:n})=>{const r=z_(e,t);if(r<=0)return V6;if(r>=die)return Uve;const i=r/die,o=V6+Hpt*i,s=n==="CANCEL"?o*Vpt:o;return Number(s.toFixed(2))},qpt=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,a=ol(e),l=a?s[a]:null,c=s[t.descriptor.droppableId],u=$ve({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:l||c,viewport:r});return Za(u,t.client.borderBox.center)},Gpt=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:Ive({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:B_},didDropInsideDroppable:!0};const Ypt=({getState:e,dispatch:t})=>n=>r=>{if(!Er(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t(zpt({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&bt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||bt();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=Gpt({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d?nH(u):null,p=d?SI(u):null,g={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:c.descriptor.id,type:c.descriptor.type,source:g,reason:o,mode:i.movementMode,destination:f,combine:p},v=qpt({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:u};if(!(!Uh(i.current.client.offset,v)||!!m.combine)){t(cH({completed:b}));return}const C=Wpt({current:i.current.client.offset,destination:v,reason:o});t(jpt({newHomeClientOffset:v,dropDuration:C,completed:b}))};var Hve=()=>({x:window.pageXOffset,y:window.pageYOffset});function Xpt(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Kpt({onWindowScroll:e}){function t(){e(Hve())}const n=j_(t),r=Xpt(n);let i=Bh;function o(){return i!==Bh}function s(){o()&&bt(),i=Ql(window,[r])}function a(){o()||bt(),n.cancel(),i(),i=Bh}return{start:s,stop:a,isActive:o}}const Qpt=e=>Er(e,"DROP_COMPLETE")||Er(e,"DROP_ANIMATE")||Er(e,"FLUSH"),Zpt=e=>{const t=Kpt({onWindowScroll:n=>{e.dispatch(Ppt({newScroll:n}))}});return n=>r=>{!t.isActive()&&Er(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Qpt(r)&&t.stop(),n(r)}};var Jpt=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},eht=()=>{const e=[],t=i=>{const o=e.findIndex(a=>a.timerId===i);o===-1&&bt();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const tht=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,nht=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,rht=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},_w=(e,t)=>{t()},bT=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function LL(e,t,n,r){if(!e){n(r(t));return}const i=Jpt(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var iht=(e,t)=>{const n=eht();let r=null;const i=(d,f)=>{r&&bt(),_w("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:d,mode:f})})},o=(d,f)=>{r&&bt(),_w("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(bT(d,f))})},s=(d,f)=>{r&&bt();const p=bT(d,f);r={mode:f,lastCritical:d,lastLocation:p.source,lastCombine:null},n.add(()=>{_w("onDragStart",()=>LL(e().onDragStart,p,t,HM.onDragStart))})},a=(d,f)=>{const p=nH(f),g=SI(f);r||bt();const m=!rht(d,r.lastCritical);m&&(r.lastCritical=d);const v=!tht(r.lastLocation,p);v&&(r.lastLocation=p);const b=!nht(r.lastCombine,g);if(b&&(r.lastCombine=g),!m&&!v&&!b)return;const S={...bT(d,r.mode),combine:g,destination:p};n.add(()=>{_w("onDragUpdate",()=>LL(e().onDragUpdate,S,t,HM.onDragUpdate))})},l=()=>{r||bt(),n.flush()},c=d=>{r||bt(),r=null,_w("onDragEnd",()=>LL(e().onDragEnd,d,t,HM.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const d={...bT(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},oht=(e,t)=>{const n=iht(e,t);return r=>i=>o=>{if(Er(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(Er(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(Er(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),Er(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const sht=e=>t=>n=>{if(!Er(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&bt(),e.dispatch(cH({completed:r.completed}))},aht=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((Er(o,"FLUSH")||Er(o,"DROP_COMPLETE")||Er(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!Er(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(zve())}};n=requestAnimationFrame(()=>{n=null,t=Ql(window,[s])})}};var lht=e=>()=>t=>n=>{(Er(n,"DROP_COMPLETE")||Er(n,"FLUSH")||Er(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},cht=e=>{let t=!1;return()=>n=>r=>{if(Er(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Er(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Er(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const uht=e=>Er(e,"DROP_COMPLETE")||Er(e,"DROP_ANIMATE")||Er(e,"FLUSH");var dht=e=>t=>n=>r=>{if(uht(r)){e.stop(),n(r);return}if(Er(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&bt(),e.start(i);return}n(r),e.scroll(t.getState())};const fht=e=>t=>n=>{if(t(n),!Er(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(jve({reason:r.reason})))},pht=ove;var hht=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>ive(_pt,pht(gdt(Upt(n),lht(e),Bpt(e),Ypt,sht,aht,fht,dht(o),Zpt,cht(t),oht(r,i))));const jL=()=>({additions:{},removals:{},modified:{}});function ght({registry:e,callbacks:t}){let n=jL(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,d=Object.keys(l).map(g=>e.draggable.getById(g).getDimension(_o)).sort((g,m)=>g.descriptor.index-m.descriptor.index),f=Object.keys(u).map(g=>{const v=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:v}}),p={additions:d,removals:Object.keys(c),modified:f};n=jL(),t.publish(p)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=jL())}}}var Vve=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Za({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Wve=()=>{const e=document.documentElement;return e||bt(),e},qve=()=>{const e=Wve();return Vve({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},mht=()=>{const e=Hve(),t=qve(),n=e.y,r=e.x,i=Wve(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s;return{frame:Zc({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:_o,displacement:_o}}}},yht=({critical:e,scrollOptions:t,registry:n})=>{const r=mht(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:xve(a),droppables:bve(s)},critical:e,viewport:r}};function fie(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var vht=(e,t)=>{let n=null;const r=ght({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(f,p)=>{e.droppable.exists(f)||bt(),n&&t.updateDroppableIsEnabled({id:f,isEnabled:p})},o=(f,p)=>{n&&(e.droppable.exists(f)||bt(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:p}))},s=(f,p)=>{n&&(e.droppable.exists(f)||bt(),t.updateDroppableScroll({id:f,newScroll:p}))},a=(f,p)=>{n&&e.droppable.getById(f).callbacks.scroll(p)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(p=>p.callbacks.dragStopped()),n.unsubscribe(),n=null},c=f=>{n||bt();const p=n.critical.draggable;f.type==="ADDITION"&&fie(e,p,f.value)&&r.add(f.value),f.type==="REMOVAL"&&fie(e,p,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:f=>{n&&bt();const p=e.draggable.getById(f.draggableId),g=e.droppable.getById(p.descriptor.droppableId),m={draggable:p.descriptor,droppable:g.descriptor},v=e.subscribe(c);return n={critical:m,unsubscribe:v},yht({critical:m,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:l}},Gve=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",bht=e=>{window.scrollBy(e.x,e.y)};const xht=So(e=>xI(e).filter(t=>!(!t.isEnabled||!t.frame))),Sht=(e,t)=>xht(t).find(r=>(r.frame||bt(),Ave(r.frame.pageMarginBox)(e)))||null;var wht=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Sht(e,n)};const V_={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Cht=(e,t,n=()=>V_)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},Yve=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},dH=1,_ht=(e,t,n=()=>V_)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return dH;const o=1-Yve({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},Eht=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,a=o,c=Date.now()-s;if(c>=o)return e;if(c<i)return dH;const u=Yve({startOfRange:i,endOfRange:a,current:c}),d=e*r.ease(u);return Math.ceil(d)},pie=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=_ht(e,t,i);return o===0?0:r?Math.max(Eht(o,n,i),dH):o},hie=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=Cht(e,r,o);return t[r.end]<t[r.start]?pie({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*pie({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},kht=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Rht=vve(e=>e===0?0:e);var Xve=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=hie({container:t,distanceToEdges:s,dragStartTime:e,axis:rH,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),l=hie({container:t,distanceToEdges:s,dragStartTime:e,axis:Cve,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=Rht({x:l,y:a});if(Uh(c,_o))return null;const u=kht({container:t,subject:n,proposedScroll:c});return u?Uh(u,_o)?null:u:null};const Tht=vve(e=>e===0?0:e>0?1:-1),fH=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=jo(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Uh(o,_o)?null:o}})(),Kve=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Tht(n),o=fH({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},pH=(e,t)=>Kve({current:e.scroll.current,max:e.scroll.max,change:t}),Mht=(e,t)=>{if(!pH(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return fH({current:r,max:n,change:t})},hH=(e,t)=>{const n=e.frame;return n?Kve({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Aht=(e,t)=>{const n=e.frame;return!n||!hH(e,t)?null:fH({current:n.scroll.current,max:n.scroll.max,change:t})};var Oht=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=Xve({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&pH(e,s)?s:null},Dht=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const a=Xve({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&hH(e,a)?a:null},gie=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,f=Oht({dragStartTime:t,viewport:d,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(f){r(f);return}}const c=wht({center:s,destination:ol(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=Dht({dragStartTime:t,droppable:c,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});u&&i(c.descriptor.id,u)},Pht=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>V_})=>{const r=j_(e),i=j_(t);let o=null;const s=c=>{o||bt();const{shouldUseTimeDampening:u,dragStartTime:d}=o;gie({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{o&&bt();const u=Date.now();let d=!1;const f=()=>{d=!0};gie({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),o={dragStartTime:u,shouldUseTimeDampening:d},d&&s(c)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},Iht=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const c=jo(a.current.client.selection,l);e({client:c})},i=(a,l)=>{if(!hH(a,l))return l;const c=Aht(a,l);if(!c)return t(a.descriptor.id,l),null;const u=Za(l,c);return t(a.descriptor.id,u),Za(l,u)},o=(a,l,c)=>{if(!a||!pH(l,c))return c;const u=Mht(l,c);if(!u)return n(c),null;const d=Za(c,u);return n(d),Za(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=ol(a.impact);c||bt();const u=i(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=o(a.isWindowScrollAllowed,d,u);f&&r(a,f)}},$ht=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Pht({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=Iht({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:i.start,stop:i.stop}};const T1="data-rfd",M1=(()=>{const e=`${T1}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),W6=(()=>{const e=`${T1}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Fht=(()=>{const e=`${T1}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),mie={contextId:`${T1}-scroll-container-context-id`},Nht=e=>t=>`[${t}="${e}"]`,Ew=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Lht="pointer-events: none;";var jht=e=>{const t=Nht(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(M1.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Lht,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${ZC.outOfTheWay};
    `;return{selector:t(W6.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(Fht.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ew(s,"always"),resting:Ew(s,"resting"),dragging:Ew(s,"dragging"),dropAnimating:Ew(s,"dropAnimating"),userCancel:Ew(s,"userCancel")}};const sl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,zL=()=>{const e=document.querySelector("head");return e||bt(),e},yie=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function zht(e,t){const n=sr(()=>jht(e),[e]),r=O.useRef(null),i=O.useRef(null),o=Gt(So(d=>{const f=i.current;f||bt(),f.textContent=d}),[]),s=Gt(d=>{const f=r.current;f||bt(),f.textContent=d},[]);sl(()=>{!r.current&&!i.current||bt();const d=yie(t),f=yie(t);return r.current=d,i.current=f,d.setAttribute(`${T1}-always`,e),f.setAttribute(`${T1}-dynamic`,e),zL().appendChild(d),zL().appendChild(f),s(n.always),o(n.resting),()=>{const p=g=>{const m=g.current;m||bt(),zL().removeChild(m),g.current=null};p(r),p(i)}},[t,s,o,n.always,n.resting,e]);const a=Gt(()=>o(n.dragging),[o,n.dragging]),l=Gt(d=>{if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=Gt(()=>{i.current&&o(n.resting)},[o,n.resting]);return sr(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function Qve(e,t){return Array.from(e.querySelectorAll(t))}var Zve=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function _I(e){return e instanceof Zve(e).HTMLElement}function Bht(e,t){const n=`[${M1.contextId}="${e}"]`,r=Qve(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(M1.draggableId)===t);return!i||!_I(i)?null:i}function Uht(e){const t=O.useRef({}),n=O.useRef(null),r=O.useRef(null),i=O.useRef(!1),o=Gt(function(f,p){const g={id:f,focus:p};return t.current[f]=g,function(){const v=t.current;v[f]!==g&&delete v[f]}},[]),s=Gt(function(f){const p=Bht(e,f);p&&p!==document.activeElement&&p.focus()},[e]),a=Gt(function(f,p){n.current===f&&(n.current=p)},[]),l=Gt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&s(f)}))},[s]),c=Gt(function(f){n.current=null;const p=document.activeElement;p&&p.getAttribute(M1.draggableId)===f&&(n.current=f)},[]);return sl(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),sr(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,c,l,a])}function Hht(){const e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){const p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function r(d){t.length&&t.forEach(f=>f(d))}function i(d){return e.draggables[d]||null}function o(d){const f=i(d);return f||bt(),f}const s={register:d=>{e.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const p=e.draggables[f.descriptor.id];p&&p.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,p=i(f);p&&d.uniqueId===p.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:o,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const f=a(d);return f||bt(),f}const c={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:c,subscribe:n,clean:u}}function Vht(){const e=sr(Hht,[]);return O.useEffect(()=>function(){e.clean()},[e]),e}var gH=hn.createContext(null),vO=()=>{const e=document.body;return e||bt(),e};const Wht={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},qht=e=>`rfd-announcement-${e}`;function Ght(e){const t=sr(()=>qht(e),[e]),n=O.useRef(null);return O.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),me(o.style,Wht),vO().appendChild(o),function(){setTimeout(function(){const l=vO();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]),Gt(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const Yht={separator:"::"};function mH(e,t=Yht){const n=hn.useId();return sr(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Xht({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Kht({contextId:e,text:t}){const n=mH("hidden-text",{separator:"-"}),r=sr(()=>Xht({contextId:e,uniqueId:n}),[n,e]);return O.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",vO().appendChild(o),function(){const a=vO();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var EI=hn.createContext(null);function Jve(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),t}function Qht(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&bt();const a={abandon:s};return e=a,a}function i(){e||bt(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function W_(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Zht=9,Jht=13,yH=27,ebe=32,egt=33,tgt=34,ngt=35,rgt=36,igt=37,ogt=38,sgt=39,agt=40,lgt={[Jht]:!0,[Zht]:!0};var tbe=e=>{lgt[e.keyCode]&&e.preventDefault()};const kI=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),nbe=0,vie=5;function cgt(e,t){return Math.abs(t.x-e.x)>=vie||Math.abs(t.y-e.y)>=vie}const bie={type:"IDLE"};function ugt({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==nbe)return;const l={x:s,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&bt();const u=c.point;if(!cgt(u,l))return;i.preventDefault();const d=c.actions.fluidLift(l);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===yH){i.preventDefault(),e();return}tbe(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&bt(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:kI,fn:e}]}function dgt(e){const t=O.useRef(bie),n=O.useRef(Bh),r=sr(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==nbe||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.tryGetLock(f,s,{sourceEvent:d});if(!p)return;d.preventDefault();const g={x:d.clientX,y:d.clientY};n.current(),c(p,g)}}),[e]),i=sr(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=e.findClosestDraggableId(u);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}),[e]),o=Gt(function(){const d={passive:!1,capture:!0};n.current=Ql(window,[i,r],d)},[i,r]),s=Gt(()=>{t.current.type!=="IDLE"&&(t.current=bie,n.current(),o())},[o]),a=Gt(()=>{const u=t.current;s(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[s]),l=Gt(function(){const d={capture:!0,passive:!1},f=ugt({cancel:a,completed:s,getPhase:()=>t.current,setPhase:p=>{t.current=p}});n.current=Ql(window,f,d)},[a,s]),c=Gt(function(d,f){t.current.type!=="IDLE"&&bt(),t.current={type:"PENDING",point:f,actions:d},l()},[l]);sl(function(){return o(),function(){n.current()}},[o])}function fgt(){}const pgt={[tgt]:!0,[egt]:!0,[rgt]:!0,[ngt]:!0};function hgt(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===yH){i.preventDefault(),n();return}if(i.keyCode===ebe){i.preventDefault(),r();return}if(i.keyCode===agt){i.preventDefault(),e.moveDown();return}if(i.keyCode===ogt){i.preventDefault(),e.moveUp();return}if(i.keyCode===sgt){i.preventDefault(),e.moveRight();return}if(i.keyCode===igt){i.preventDefault(),e.moveLeft();return}if(pgt[i.keyCode]){i.preventDefault();return}tbe(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:kI,fn:n}]}function ggt(e){const t=O.useRef(fgt),n=sr(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==ebe)return;const s=e.findClosestDraggableId(o);if(!s)return;const a=e.tryGetLock(s,u,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||bt(),l=!1,t.current(),r()}t.current=Ql(window,hgt(c,u),{capture:!0,passive:!1})}}),[e]),r=Gt(function(){const o={passive:!1,capture:!0};t.current=Ql(window,[n],o)},[n]);sl(function(){return r(),function(){t.current()}},[r])}const BL={type:"IDLE"},mgt=120,ygt=.15;function vgt({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===yH&&n.preventDefault(),e()}},{eventName:kI,fn:e}]}function bgt({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],a={x:o,y:s};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&bt();const o=r.touches[0];if(!o||!(o.force>=ygt))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:kI,fn:e}]}function xgt(e){const t=O.useRef(BL),n=O.useRef(Bh),r=Gt(function(){return t.current},[]),i=Gt(function(p){t.current=p},[]),o=sr(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const g=e.findClosestDraggableId(p);if(!g)return;const m=e.tryGetLock(g,a,{sourceEvent:p});if(!m)return;const v=p.touches[0],{clientX:b,clientY:S}=v,C={x:b,y:S};n.current(),d(m,C)}}),[e]),s=Gt(function(){const p={capture:!0,passive:!1};n.current=Ql(window,[o],p)},[o]),a=Gt(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(BL),n.current(),s())},[s,i]),l=Gt(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=Gt(function(){const p={capture:!0,passive:!1},g={cancel:l,completed:a,getPhase:r},m=Ql(window,bgt(g),p),v=Ql(window,vgt(g),p);n.current=function(){m(),v()}},[l,r,a]),u=Gt(function(){const p=r();p.type!=="PENDING"&&bt();const g=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),d=Gt(function(p,g){r().type!=="IDLE"&&bt();const m=setTimeout(u,mgt);i({type:"PENDING",point:g,actions:p,longPressTimerId:m}),c()},[c,r,i,u]);sl(function(){return s(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(BL))}},[r,s,i]),sl(function(){return Ql(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Sgt=["input","button","textarea","select","option","optgroup","video","audio"];function rbe(e,t){if(t==null)return!1;if(Sgt.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:rbe(e,t.parentElement)}function wgt(e,t){const n=t.target;return _I(n)?rbe(e,n):!1}var Cgt=e=>Zc(e.getBoundingClientRect()).center;function _gt(e){return e instanceof Zve(e).Element}const Egt=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function ibe(e,t){return e==null?null:e[Egt](t)?e:ibe(e.parentElement,t)}function kgt(e,t){return e.closest?e.closest(t):ibe(e,t)}function Rgt(e){return`[${M1.contextId}="${e}"]`}function Tgt(e,t){const n=t.target;if(!_gt(n))return null;const r=Rgt(e),i=kgt(n,r);return!i||!_I(i)?null:i}function Mgt(e,t){const n=Tgt(e,t);return n?n.getAttribute(M1.draggableId):null}function Agt(e,t){const n=`[${W6.contextId}="${e}"]`,i=Qve(document,n).find(o=>o.getAttribute(W6.id)===t);return!i||!_I(i)?null:i}function Ogt(e){e.preventDefault()}function xT({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function obe({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!Gve(t.getState(),r))}function Dgt({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!obe({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=Agt(t,l.descriptor.id);if(!c||s&&!l.options.canDragInteractiveElements&&wgt(c,s))return null;const u=e.claim(o||Bh);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function p(){return e.isActive(u)}function g(E,T){xT({expected:E,phase:d,isLockActive:p,shouldWarn:!0})&&n.dispatch(T())}const m=g.bind(null,"DRAGGING");function v(E){function T(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(T(),bt()),n.dispatch(kpt(E.liftActionArgs)),d="DRAGGING";function k(A,P={shouldBlockNextClick:!1}){if(E.cleanup(),P.shouldBlockNextClick){const D=Ql(window,[{eventName:"click",fn:Ogt,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}T(),n.dispatch(jve({reason:A}))}return{isActive:()=>xT({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,drop:A=>k("DROP",A),cancel:A=>k("CANCEL",A),...E.actions}}function b(E){const T=j_(A=>{m(()=>Lve({client:A}))});return{...v({liftActionArgs:{id:i,clientSelection:E,movementMode:"FLUID"},cleanup:()=>T.cancel(),actions:{move:T}}),move:T}}function S(){const E={moveUp:()=>m($pt),moveRight:()=>m(Npt),moveDown:()=>m(Fpt),moveLeft:()=>m(Lpt)};return v({liftActionArgs:{id:i,clientSelection:Cgt(c),movementMode:"SNAP"},cleanup:Bh,actions:E})}function C(){xT({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>xT({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:b,snapLift:S,abort:C}}const Pgt=[dgt,ggt,xgt];function Igt({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?Pgt:[],...r||[]],s=O.useState(()=>Qht())[0],a=Gt(function(v,b){W_(v)&&!W_(b)&&s.tryAbandon()},[s]);sl(function(){let v=t.getState();return t.subscribe(()=>{const S=t.getState();a(v,S),v=S})},[s,t,a]),sl(()=>s.tryAbandon,[s.tryAbandon]);const l=Gt(m=>obe({lockAPI:s,registry:n,store:t,draggableId:m}),[s,n,t]),c=Gt((m,v,b)=>Dgt({lockAPI:s,registry:n,contextId:e,store:t,draggableId:m,forceSensorStop:v||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[e,s,n,t]),u=Gt(m=>Mgt(e,m),[e]),d=Gt(m=>{const v=n.draggable.findById(m);return v?v.options:null},[n.draggable]),f=Gt(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(lH()))},[s,t]),p=Gt(()=>s.isClaimed(),[s]),g=sr(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:p}),[l,c,u,d,f,p]);for(let m=0;m<o.length;m++)o[m](g)}const $gt=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};gp.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Fgt=e=>({...V_,...e.autoScrollerOptions,durationDampening:{...V_.durationDampening,...e.autoScrollerOptions}});function kw(e){return e.current||bt(),e.current}function Ngt(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=O.useRef(null),a=Jve(e),l=Gt(()=>$gt(a.current),[a]),c=Gt(()=>Fgt(a.current),[a]),u=Ght(t),d=Kht({contextId:t,text:o}),f=zht(t,i),p=Gt(D=>{kw(s).dispatch(D)},[]),g=sr(()=>Wre({publishWhileDragging:Tpt,updateDroppableScroll:Apt,updateDroppableIsEnabled:Opt,updateDroppableIsCombineEnabled:Dpt,collectionStarting:Mpt},p),[p]),m=Vht(),v=sr(()=>vht(m,g),[m,g]),b=sr(()=>$ht({scrollWindow:bht,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:c,...Wre({move:Lve},p)}),[v.scrollDroppable,p,c]),S=Uht(t),C=sr(()=>hht({announce:u,autoScroller:b,dimensionMarshal:v,focusMarshal:S,getResponders:l,styleMarshal:f}),[u,b,v,S,l,f]);s.current=C;const _=Gt(()=>{const D=kw(s);D.getState().phase!=="IDLE"&&D.dispatch(lH())},[]),E=Gt(()=>{const D=kw(s).getState();return D.phase==="DROP_ANIMATING"?!0:D.phase==="IDLE"?!1:D.isDragging},[]),T=sr(()=>({isDragging:E,tryAbort:_}),[E,_]);n(T);const k=Gt(D=>Gve(kw(s).getState(),D),[]),A=Gt(()=>Om(kw(s).getState()),[]),P=sr(()=>({marshal:v,focus:S,contextId:t,canLift:k,isMovementAllowed:A,dragHandleUsageInstructionsId:d,registry:m}),[t,v,d,S,k,A,m]);return Igt({contextId:t,store:C,registry:m,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),O.useEffect(()=>_,[_]),hn.createElement(EI.Provider,{value:P},hn.createElement(uft,{context:gH,store:C},e.children))}function Lgt(){return hn.useId()}function jgt(e){const t=Lgt(),n=e.dragHandleUsageInstructions||HM.dragHandleUsageInstructions;return hn.createElement(gft,null,r=>hn.createElement(Ngt,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const xie={dragging:5e3,dropAnimating:4500},zgt=(e,t)=>t?ZC.drop(t.duration):e?ZC.snap:ZC.fluid,Bgt=(e,t)=>{if(e)return t?H_.opacity.drop:H_.opacity.combining},Ugt=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Hgt(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,a=Ugt(e),l=!!o,c=l?H6.drop(r,s):H6.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:zgt(a,o),transform:c,opacity:Bgt(s,l),zIndex:l?xie.dropAnimating:xie.dragging,pointerEvents:"none"}}function Vgt(e){return{transform:H6.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Wgt(e){return e.type==="DRAGGING"?Hgt(e):Vgt(e)}function qgt(e,t,n=_o){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=fve(i,r),s=hO(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:o,page:s}}function Ggt(e){const t=mH("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=e,l=sr(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),c=Gt(p=>{const g=i();return g||bt(),qgt(n,g,p)},[n,i]),u=sr(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),d=O.useRef(u),f=O.useRef(!0);sl(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),sl(()=>{if(f.current){f.current=!1;return}const p=d.current;d.current=u,r.draggable.update(u,p)},[u,r.draggable])}var vH=hn.createContext(null);function bO(e){const t=O.useContext(e);return t||bt(),t}function Ygt(e){e.preventDefault()}const Xgt=e=>{const t=O.useRef(null),n=Gt((T=null)=>{t.current=T},[]),r=Gt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=bO(EI),{type:a,droppableId:l}=bO(vH),c=sr(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:g,isClone:m,mapped:v,dropAnimationFinished:b}=e;if(!m){const T=sr(()=>({descriptor:c,registry:s,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:p,isEnabled:f}),[c,s,r,g,p,f]);Ggt(T)}const S=sr(()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Ygt}:null,[i,o,d,f]),C=Gt(T=>{v.type==="DRAGGING"&&v.dropping&&T.propertyName==="transform"&&gp.flushSync(b)},[b,v]),_=sr(()=>{const T=Wgt(v),k=v.type==="DRAGGING"&&v.dropping?C:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:T,onTransitionEnd:k},dragHandleProps:S}},[i,S,d,v,C,n]),E=sr(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return hn.createElement(hn.Fragment,null,u(_,v.snapshot,E))};var sbe=(e,t)=>e===t,abe=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Kgt=e=>e.combine?e.combine.draggableId:null,Qgt=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Zgt(){const e=So((i,o)=>({x:i,y:o})),t=So((i,o,s=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),n=So((i,o,s,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:u,snapshot:t(o,a,l,c,null)}}));return(i,o)=>{if(W_(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=ol(i.impact),c=Qgt(i.impact),u=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,a,o.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],c=s.result,u=c.mode,d=abe(c),f=Kgt(c),g={duration:i.dropDuration,curve:uH.drop,moveTo:i.newHomeClientOffset,opacity:f?H_.opacity.drop:null,scale:f?H_.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:g,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:t(u,a,d,f,g)}}}return null}}function lbe(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Jgt={mapped:{type:"SECONDARY",offset:_o,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lbe(null)}};function emt(){const e=So((s,a)=>({x:s,y:a})),t=So(lbe),n=So((s,a=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=s=>s?n(_o,s,!0):null,i=(s,a,l,c)=>{const u=l.displaced.visible[s],d=!!(c.inVirtualList&&c.effected[s]),f=SI(l),p=f&&f.draggableId===s?a:null;if(!u){if(!d)return r(p);if(l.displaced.invisible[s])return null;const v=Lx(c.displacedBy.point),b=e(v.x,v.y);return n(b,p,!0)}if(d)return r(p);const g=l.displacedBy.point,m=e(g.x,g.y);return n(m,p,u.shouldAnimate)};return(s,a)=>{if(W_(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const tmt=()=>{const e=Zgt(),t=emt();return(r,i)=>e(r,i)||t(r,i)||Jgt},nmt={dropAnimationFinished:zve},rmt=dve(tmt,nmt,null,{context:gH,areStatePropsEqual:sbe})(Xgt);function cbe(e){return bO(vH).isUsingCloneFor===e.draggableId&&!e.isClone?null:hn.createElement(rmt,e)}function imt(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return hn.createElement(cbe,me({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const ube=e=>t=>e===t,omt=ube("scroll"),smt=ube("auto"),Sie=(e,t)=>t(e.overflowX)||t(e.overflowY),amt=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Sie(n,omt)||Sie(n,smt)},lmt=()=>!1,dbe=e=>e==null?null:e===document.body?lmt()?e:null:e===document.documentElement?null:amt(e)?e:dbe(e.parentElement);var q6=e=>({x:e.scrollLeft,y:e.scrollTop});const fbe=e=>e?window.getComputedStyle(e).position==="fixed"?!0:fbe(e.parentElement):!1;var cmt=e=>{const t=dbe(e),n=fbe(e);return{closestScrollable:t,isFixedOnPage:n}},umt=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:p}=a,g=Vve({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:g,diff:{value:_o,displacement:_o}}}})(),c=i==="vertical"?rH:Cve,u=R1({page:s,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:o,page:s,frame:l,subject:u}};const dmt=(e,t)=>{const n=pve(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,l=JU({top:r,right:s,bottom:o,left:i},n.border);return eH({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var fmt=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const l=n.closestScrollable,c=dmt(e,l),u=hO(c,r),d=(()=>{if(!l)return null;const p=pve(l),g={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:p,page:hO(p,r),scroll:q6(l),scrollSize:g,shouldClipSubject:a}})();return umt({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:u,closest:d})};const pmt={passive:!1},hmt={passive:!0};var wie=e=>e.shouldPublishImmediately?pmt:hmt;const ST=e=>e&&e.env.closestScrollable||null;function gmt(e){const t=O.useRef(null),n=bO(EI),r=mH("droppable"),{registry:i,marshal:o}=n,s=Jve(e),a=sr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=O.useRef(a),c=sr(()=>So((_,E)=>{t.current||bt();const T={x:_,y:E};o.updateDroppableScroll(a.id,T)}),[a.id,o]),u=Gt(()=>{const _=t.current;return!_||!_.env.closestScrollable?_o:q6(_.env.closestScrollable)},[]),d=Gt(()=>{const _=u();c(_.x,_.y)},[u,c]),f=sr(()=>j_(d),[d]),p=Gt(()=>{const _=t.current,E=ST(_);if(_&&E||bt(),_.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),g=Gt((_,E)=>{t.current&&bt();const T=s.current,k=T.getDroppableRef();k||bt();const A=cmt(k),P={ref:k,descriptor:a,env:A,scrollOptions:E};t.current=P;const D=fmt({ref:k,descriptor:a,env:A,windowScroll:_,direction:T.direction,isDropDisabled:T.isDropDisabled,isCombineEnabled:T.isCombineEnabled,shouldClipSubject:!T.ignoreContainerClipping}),F=A.closestScrollable;return F&&(F.setAttribute(mie.contextId,n.contextId),F.addEventListener("scroll",p,wie(P.scrollOptions))),D},[n.contextId,a,p,s]),m=Gt(()=>{const _=t.current,E=ST(_);return _&&E||bt(),q6(E)},[]),v=Gt(()=>{const _=t.current;_||bt();const E=ST(_);t.current=null,E&&(f.cancel(),E.removeAttribute(mie.contextId),E.removeEventListener("scroll",p,wie(_.scrollOptions)))},[p,f]),b=Gt(_=>{const E=t.current;E||bt();const T=ST(E);T||bt(),T.scrollTop+=_.y,T.scrollLeft+=_.x},[]),S=sr(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:b}),[v,g,m,b]),C=sr(()=>({uniqueId:r,descriptor:a,callbacks:S}),[S,a,r]);sl(()=>(l.current=C.descriptor,i.droppable.register(C),()=>{t.current&&v(),i.droppable.unregister(C)}),[S,a,v,C,o,i.droppable]),sl(()=>{t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),sl(()=>{t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function UL(){}const Cie={width:0,height:0,margin:wft},mmt=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Cie:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ymt=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=mmt({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ZC.placeholder:null}},vmt=e=>{const t=O.useRef(null),n=Gt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[a,l]=O.useState(e.animate==="open");O.useEffect(()=>a?r!=="open"?(n(),l(!1),UL):t.current?UL:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):UL,[r,a,n]);const c=Gt(d=>{d.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),u=ymt({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return hn.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":s,onTransitionEnd:c,ref:e.innerRef})};var bmt=hn.memo(vmt);class xmt extends hn.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Smt=e=>{const t=O.useContext(EI);t||bt();const{contextId:n,isMovementAllowed:r}=t,i=O.useRef(null),o=O.useRef(null),{children:s,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:p,snapshot:g,useClone:m,updateViewportMaxScroll:v,getContainerForClone:b}=e,S=Gt(()=>i.current,[]),C=Gt((F=null)=>{i.current=F},[]);Gt(()=>o.current,[]);const _=Gt((F=null)=>{o.current=F},[]),E=Gt(()=>{r()&&v({maxScroll:qve()})},[r,v]);gmt({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:S});const T=sr(()=>hn.createElement(xmt,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:I,animate:j})=>hn.createElement(bmt,{placeholder:I,onClose:F,innerRef:_,animate:j,contextId:n,onTransitionEnd:E})),[n,E,e.placeholder,e.shouldAnimatePlaceholder,_]),k=sr(()=>({innerRef:C,placeholder:T,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,T,C]),A=m?m.dragging.draggableId:null,P=sr(()=>({droppableId:a,type:l,isUsingCloneFor:A}),[a,A,l]);function D(){if(!m)return null;const{dragging:F,render:I}=m,j=hn.createElement(cbe,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(M,$)=>I(M,$,F));return tC.createPortal(j,b())}return hn.createElement(vH.Provider,{value:P},s(k,g),D())};function wmt(){return document.body||bt(),document.body}const _ie={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:wmt},pbe=e=>{let t={...e},n;for(n in _ie)e[n]===void 0&&(t={...t,[n]:_ie[n]});return t},HL=(e,t)=>e===t.droppable.type,Eie=(e,t)=>t.draggables[e.draggable.id],Cmt=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=So(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=So((o,s,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===o){const g=u?{render:u,dragging:n(c.descriptor)}:null,m={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:g}}if(!s)return t;if(!l)return e;const p={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(o,s)=>{const a=pbe(s),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(W_(o)){const f=o.critical;if(!HL(c,f))return t;const p=Eie(f,o.dimensions),g=ol(o.impact)===l;return r(l,u,g,g,p,d)}if(o.phase==="DROP_ANIMATING"){const f=o.completed;if(!HL(c,f.critical))return t;const p=Eie(f.critical,o.dimensions);return r(l,u,abe(f.result)===l,ol(f.impact)===l,p,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const f=o.completed;if(!HL(c,f.critical))return t;const p=ol(f.impact)===l,g=!!(f.impact.at&&f.impact.at.type==="COMBINE"),m=f.critical.droppable.id===l;return p?g?e:t:m?e:t}return t}},_mt={updateViewportMaxScroll:Ipt},Emt=dve(Cmt,_mt,(e,t,n)=>({...pbe(n),...e,...t}),{context:gH,areStatePropsEqual:sbe})(Smt),kmt=({config:e,onVisibilityChange:t})=>{const n=i=>{e.options&&e.options.forEach(o=>{var a;((a=e.hidden_options)==null?void 0:a.includes(o))===i&&t(o)})},r=()=>!e.options||e.options.length===0?!1:!e.options.some(i=>{var o;return(o=e.hidden_options)==null?void 0:o.includes(i)});return x.jsxs(Tx,{dense:!0,children:[x.jsxs($0,{dense:!0,sx:{ml:-4,wordWrap:"break-word",maxWidth:"100%",mt:-4,mb:-2,py:-2},children:[x.jsx(no,{children:x.jsx(sg,{checked:r(),indeterminate:e.options&&e.options.length>0&&!r()&&e.options.some(i=>{var o;return!((o=e.hidden_options)!=null&&o.includes(i))}),onChange:i=>n(i.target.checked)})}),x.jsx(sd,{primary:x.jsx(it,{variant:"caption",children:x.jsx("strong",{children:"Select All"})})})]}),e.options&&e.options.map((i,o)=>{var s;return x.jsxs($0,{dense:!0,sx:{ml:-4,wordWrap:"break-word",width:"120%",my:-2,py:-2},children:[x.jsx(no,{children:x.jsx(sg,{checked:!((s=e.hidden_options)!=null&&s.includes(i)),onChange:()=>t(i)})}),x.jsx(sd,{primary:i})]},o)})]})},Rmt=({config:e,onChangeIsSynced:t,onChangeSortDescending:n})=>x.jsxs(en,{direction:"row",children:[x.jsx(it,{variant:"h6",children:e.name}),!(isNaN(e.is_synced)||e.is_synced===null)&&x.jsx(Yt,{title:e.is_synced?"Unsync axes":"Sync axes",children:x.jsx(sg,{sx:{mt:-.5},checked:e.is_synced,icon:x.jsx(hme,{}),checkedIcon:x.jsx(pme,{}),onChange:r=>{let i=r.target.checked;t(i)}})}),!(isNaN(e.sort_ascending)||e.sort_ascending===null)&&x.jsx(Yt,{title:e.sort_ascending==!0?"Sort descending":"Sort ascending",children:x.jsx(sg,{sx:{mt:-.5},checked:e.sort_ascending,icon:x.jsx(cme,{}),checkedIcon:x.jsx(uZe,{}),onChange:r=>{let i=r.target.checked;n(i)}})})]}),Tmt=({onSaveConfig:e,isForeignPipe:t,initialConfig:n={},isShowTableBlock:r=!1,isAdminMode:i=!1,onAdminModeToggle:o,pipeId:s,nodeId:a,username:l})=>{const{currentUserIsAdmin:c}=Xi(),[u,d]=O.useState({elements:[]}),f=htt();O.useEffect(()=>{d(n)},[n]);const p=(T,k)=>{let A={...u};A.elements[k].selected_values=[T??""],d(A)},g=(T,k)=>{let A={...u},P=A.elements[k].selected_values||[];r?(P.includes(T)?P=P.filter(D=>D!==T):P.push(T),A.elements[k].selected_values=P):A.elements[k].selected_values=T,d(A)},m=(T,k,A)=>{let P={...u};P.elements[T].options=k;const D=k.filter(F=>A.includes(F));P.elements[T].selected_values=D,d(P)},v=(T,k)=>{let A={...u};A.elements[T].is_synced=k,d(A)},b=(T,k)=>{let A={...u};A.elements[T].sort_ascending=k,d(A)},S=(T,k)=>{let A={...u};const P=A.elements[T];P.hidden_options||(P.hidden_options=[]),P.hidden_options.includes(k)?P.hidden_options=P.hidden_options.filter(D=>D!==k):P.hidden_options.push(k),d(A)},C=(T,k)=>{let A={...u};A.elements[T].toggle=k,d(A)},_=(T,k)=>{let A={...u};A.elements[T].selected_values=[k],d(A)},E=()=>{f.mutate({pipeId:s,nodeId:a,username:l,configuration:u},{onSuccess:()=>{e(u)}})};return x.jsxs(Tx,{sx:{mt:6},children:[c&&x.jsx(en,{direction:"row",justifyContent:"space-between",sx:{p:1},children:x.jsxs("div",{children:[x.jsx(Yt,{title:i?"Switch to Normal Mode":"Switch to Admin Mode",children:x.jsx(sn,{onClick:o,children:x.jsx(iZe,{color:i?"primary":"inherit"})})}),x.jsx(it,{variant:"caption",children:i?"Switch to Normal Mode":"Switch to Admin Mode"})]})}),u.elements.map((T,k)=>x.jsx($0,{children:x.jsxs(en,{direction:"column",sx:{width:"100%"},children:[(T.type==="single_select"||T.type==="multi_select")&&x.jsx(RI,{config:T,onSelectOption:A=>{T.type==="single_select"?p(A,k):T.type==="multi_select"&&g(A,k)},isForeignPipe:t,onChangeIsSynced:A=>v(k,A),onChangeSortDescending:A=>b(k,A),onVisibilityChange:A=>S(k,A),onOptionsReorder:(A,P)=>m(k,A,P),isAdminMode:i,allowMultiple:T.type==="multi_select"}),T.type==="toggle_switch"&&x.jsxs(en,{direction:"row",alignItems:"center",children:[x.jsx(it,{variant:"h6",children:T.name}),x.jsx(Yt,{title:T.disabled?"Violin not supported when Color is selected":"",children:x.jsx("span",{children:x.jsx($ge,{checked:T.toggle,onChange:A=>C(k,A.target.checked),disabled:T.disabled===!0})})})]}),T.type==="slider"&&x.jsxs(en,{direction:"column",alignItems:"flex-start",children:[x.jsx(it,{variant:"h6",children:T.name}),x.jsxs(it,{variant:"body2",children:["Max Value: ",T.selected_values[0]??30]}),x.jsx(Ige,{value:T.selected_values[0]??30,onChange:(A,P)=>_(k,P),min:T.min||2,max:T.max||100,step:T.step||1,marks:T.marks||!1})]})]})},k)),x.jsx(Ft,{variant:"contained",sx:{ml:2,mb:2},onClick:E,disabled:t()||f.isPending,children:f.isPending?"Saving...":"Save & Reload"})]})},RI=({config:e,onSelectOption:t,isForeignPipe:n=()=>!1,onChangeIsSynced:r,onChangeSortDescending:i,isAdminMode:o,onVisibilityChange:s,allowMultiple:a=!1})=>{var f;const[l,c]=O.useState(((f=e.options)==null?void 0:f.filter(p=>{var g;return!((g=e.hidden_options)!=null&&g.includes(p))}))||[]),{currentUserIsAdmin:u}=Xi();O.useEffect(()=>{var g;const p=o?e.options||[]:((g=e.options)==null?void 0:g.filter(m=>{var v;return!((v=e.hidden_options)!=null&&v.includes(m))}))||[];c(p)},[e.options,e.hidden_options,o]);const d=e.selected_values.filter(p=>{var g;return p&&!((g=e.options)!=null&&g.includes(p))});return x.jsxs(en,{direction:"column",children:[x.jsx(Rmt,{config:e,onChangeIsSynced:r,onChangeSortDescending:i}),o?x.jsx(kmt,{config:e,onVisibilityChange:s}):x.jsxs(x.Fragment,{children:[x.jsx(Gz,{multiple:!0,options:l,disabled:n()||e.name==="Correlation Metric"&&!u,disableCloseOnSelect:a,value:a?e.selected_values:e.selected_values[0]===""?[]:e.selected_values,getOptionLabel:p=>`${p}`,onChange:(p,g)=>{t(a?g:g[g.length-1])},sx:{maxWidth:"13vw"},renderInput:p=>x.jsx(Ir,{...p,variant:"outlined",placeholder:a?"Select options":"Select option",fullWidth:!0}),renderTags:(p,g)=>p.map((m,v)=>x.jsx(Yt,{title:m,children:x.jsx(D0,{label:m,...g({index:v})})}))}),d.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(it,{variant:"h6",color:"error",sx:{mt:2},children:"Invalid options"}),x.jsx(Gz,{multiple:!0,options:d,getOptionLabel:p=>`${p}`,value:d,disabled:!0,renderInput:p=>x.jsx(Ir,{...p,variant:"standard",label:"Invalid options"})})]})]})]})},hbe=e=>e.map((t,n)=>(Object.keys(t).forEach(r=>{const i=t[r];typeof i=="number"&&(t[r]=i.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:4}))}),t)),bH=({data:e,initialSelectionState:t={},handleFilterChange:n=void 0,onRowSelection:r=void 0,categoricalFilter:i=!1,category:o=void 0,generateRowActionItems:s=void 0,disabledRows:a=void 0,isForeignPipe:l,isLoading:c=!1})=>{const u=lr(),d=r!==void 0,f=s!==void 0,p=(d||i)&&!l(),[g,m]=O.useState(t),v=(_,E)=>{var T=[];return _.length>0&&(T=Object.keys(_[0])),E&&f&&T.indexOf("mrt-row-actions")===-1&&T.splice(0,0,"mrt-row-actions"),E&&p&&T.indexOf("mrt-row-select")===-1&&T.splice(0,0,"mrt-row-select"),T},b=_=>{let E=_.indexOf("count");return E!==-1&&(_.splice(E,1),_.push("count")),_},S=_=>e===void 0||e.length==0?[]:_.map(T=>{var k={accessorKey:T,header:T};return i&&(k.size="150"),T==="count"&&(k.header="#",k.size="80"),k}),C=_=>(a==null?void 0:a.includes(_.original[o]))??!1;return O.useEffect(()=>{t&&JSON.stringify(g)!==JSON.stringify(t)&&m(t)},[t]),O.useEffect(()=>{if(i)n(g);else{let _=Object.keys(g);_.length===1&&r(parseInt(_[0]))}},[g]),x.jsx(XU,{columns:S(b(v(e,!1))),data:hbe(e),enableRowSelection:p,enableMultiRowSelection:i,enableStickyHeader:!0,enableTopToolbar:!1,enableClickToCopy:!1,enableColumnResizing:!0,enableFullScreenToggle:!1,enableRowActions:f,autoResetPageIndex:!1,selectAllMode:"all",displayColumnDefOptions:{"mrt-row-select":{size:20},"mrt-row-actions":{size:20}},getRowId:(_,E)=>i?_[o]:E,renderRowActionMenuItems:s,onRowSelectionChange:m,initialState:{density:"compact",rowSelection:g,columnOrder:b(v(e,!0))},muiSelectCheckboxProps:({row:_})=>({disabled:c||C(_)}),muiPaginationProps:{showRowsPerPage:!1},muiBottomToolbarProps:({table:_})=>{var k,A,P,D,F;let E=(D=(P=(A=(k=_.refs.bottomToolbarRef.current)==null?void 0:k.children[0])==null?void 0:A.children[1])==null?void 0:P.children[0])==null?void 0:D.children;var T=!1;return E&&E.length>1&&(T=((F=E[1])==null?void 0:F.offsetTop)>20),{sx:{height:T?"80px":"50px"}}},state:{rowSelection:g,isSaving:c,columnOrder:b(v(e,!0))},mrtTheme:KU(u)})},Mmt=({onSignupButtonClick:e})=>{const[t,n]=O.useState(""),[r,i]=O.useState(""),[o,s]=O.useState("");return x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(it,{variant:"h4",children:"Create Account"}),x.jsx(Ir,{label:"username",value:t,variant:"outlined",onChange:a=>{n(a.target.value)}}),x.jsx(Ir,{label:"name",value:r,variant:"outlined",onChange:a=>{i(a.target.value)}}),x.jsx(Ir,{label:"password",type:"password",variant:"outlined",value:o,onChange:a=>{s(a.target.value)}}),x.jsx(Ft,{variant:"contained",onClick:()=>{e(t,r,o)},children:"Sign up"})]})},Amt=({onClose:e})=>{const{api:t}=O.useContext(un),[n,r]=O.useState(""),[i,o]=O.useState(!1),[s,a]=O.useState(!1),l=(c,u,d)=>{if(c===""||u===""||d===""){r("You have to fill in the values!"),o(!0);return}t.signup({username:c,name:u,password:d}).then(f=>{or.info("Sign up success: "+f),r(""),o(!1),a(!0)}).catch(f=>{or.error("Sign up error: "+f),o(!0),f.response.data&&f.response.data.type?r(f.response.data.type):r(f.message)})};return x.jsx(Us,{additionalSx:{width:250,mt:0,ml:"auto",mr:"auto"},children:x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(Mmt,{onSignupButtonClick:l}),i&&x.jsx("div",{className:"alert alert-light",role:"alert",children:n}),x.jsxs(Ri,{open:s,onClose:()=>{a(!1)},children:[x.jsx(Aa,{children:"Signup Successful"}),x.jsx(gl,{children:"A new account has been created"}),x.jsx(Gs,{children:x.jsx(Ft,{variant:"contained",onClick:()=>{a(!1),e()},children:"Okay"})})]})]})})},JC={Admin:"Admin",KeyUser:"Key User",User:"User"},Omt=({selectedOption:e,onSelectOption:t})=>x.jsx(Us,{additionalSx:{mt:0},children:x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(it,{variant:"h4",children:"Change Role"}),x.jsx(RI,{config:{selected_values:[e],options:[JC.Admin,JC.User]},onSelectOption:t})]})}),Dmt=({onSave:e})=>{const[t,n]=O.useState("");return x.jsx(Us,{additionalSx:{mt:0},children:x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(it,{variant:"h4",children:"Create Organization"}),x.jsx(Ir,{label:"Organization Name",variant:"outlined",value:t,onChange:r=>{n(r.target.value)}}),x.jsx(lt,{children:x.jsx(Ft,{variant:"contained",sx:{ml:"auto",display:"flex"},onClick:()=>e(t),children:"Save"})})]})})},gbe=({selectedOption:e,onSelectOption:t})=>{const{api:n}=O.useContext(un),[r,i]=O.useState([]);return O.useEffect(()=>{n.getOrganizations().then(o=>{let s=o.data.map(a=>a.name);i(s),e&&Number.isInteger(Number(e))&&t(s[e])}).catch(o=>{or.error(o)})},[]),x.jsx(RI,{config:{selected_values:e?[e]:[],options:r},onSelectOption:t})},Pmt=({username:e,open:t,onClose:n,onSuccess:r})=>{let{api:i}=O.useContext(un),[o,s]=O.useState("");return x.jsxs(Ri,{open:t,onClose:n,children:[x.jsxs(Aa,{children:["Do you really want to reset the password for user ",x.jsx("b",{children:e}),"?"]}),x.jsxs(Ma,{children:[x.jsx(gl,{children:"Please enter a new password for the user."}),x.jsx(Ir,{label:"password",type:"password",variant:"outlined",value:o,onChange:a=>{s(a.target.value)}})]}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:n,children:"Cancel"}),x.jsx(Ft,{onClick:()=>{n(),i.resetPassword(e,o).then(r)},variant:"contained",children:"Reset Password"})]})]})},xH=({target:e,originalCostCentersValue:t,originalOrganizationId:n,onClose:r})=>{let{api:i}=O.useContext(un),[o,s]=O.useState(t),[a,l]=O.useState("");const c=u=>{if(u===""||!u)return!0;const d=new RegExp(`^(all|[A-Z]{1,3})\\${dJe}(all|[\\w]+)$`);return u.split(uJe).every(p=>d.test(p.trim()))};return O.useEffect(()=>{n&&i.getOrganizations().then(u=>{let f=u.data.find(p=>p.id===n);f&&l(f.name)})},[n]),x.jsx(Us,{additionalSx:{mt:0},children:x.jsxs(en,{direction:"column",spacing:2,children:[x.jsxs(it,{variant:"h5",children:["Change the Visibility for ",x.jsx("b",{children:e})]}),x.jsxs(it,{variant:"body",children:["Please enter a comma-separated list of values in the format"," ",x.jsx("b",{children:"CROP|COST CENTER"}),". You are allowed to use 'all' as a placeholder for both values."]}),x.jsx(Ir,{label:"Cost Centers",variant:"outlined",value:o,onChange:u=>{s(u.target.value)},error:!c(o),helperText:c(o)?"":"Invalid format. Use format CROP|COST CENTER, separated by commas."}),x.jsxs(en,{direction:"row",children:[x.jsxs(it,{variant:"body",sx:{alignContent:"center",mr:2},children:["Organization:"," "]}),x.jsx(gbe,{selectedOption:a,onSelectOption:l})]}),x.jsx(Ft,{onClick:()=>{c(o)&&r(o,a)},variant:"contained",disabled:!c(o),children:"Save Changes"})]})})},Imt=()=>{let{api:e}=O.useContext(un),{isKws:t}=Xi(),[n,r]=O.useState([]),[i,o]=O.useState(0),[s,a]=O.useState(!1),[l,c]=O.useState(!1),[u,d]=O.useState(void 0),[f,p]=O.useState(void 0),[g,m]=O.useState(void 0),[v,b]=O.useState(void 0),[S,C]=O.useState(void 0);O.useEffect(()=>{e.getUsers().then(A=>{E(A.data)}).catch(A=>{console.log(A)})},[i]);const _=A=>A.permissions.some(P=>P.name===zh.MANAGE_USERS)?JC.Admin:A.permissions.some(P=>P.name===zh.ADMIN)?JC.KeyUser:JC.User,E=A=>{let P=A.map(D=>{var F;return{username:D.username,name:D.name,organization:(F=D.organization)==null?void 0:F.name,role:_(D),cost_centers:D.cost_centers}});r(P)},T=({closeMenu:A,row:P})=>t?[x.jsx(ir,{onClick:()=>{p(P.original),A()},children:"Change organization"},2)]:[x.jsx(ir,{onClick:()=>{m(P.original),A()},children:"Reset Password"},0),x.jsx(ir,{onClick:()=>{d(P.original),A()},children:"Change roles"},1),x.jsx(ir,{onClick:()=>{p(P.original),A()},children:"Change organization"},2),x.jsx(ir,{onClick:()=>{b(P.original),A()},children:"Change cost centers and crops"},3),x.jsx(ir,{onClick:()=>{C(P.original),A()},children:"Delete User"},4)],k=A=>{e.createOrganization(A).then(P=>{o(i+1)})};return x.jsx(Pg,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:x.jsxs(Us,{children:[x.jsxs(en,{direction:"column",spacing:2,children:[x.jsxs(en,{direction:"row",spacing:2,children:[x.jsx(it,{variant:"h5",children:"User Management"}),x.jsx(Yt,{title:"Please create users in the external auth tool",children:x.jsx("span",{children:x.jsx(Ft,{variant:"contained",size:"small",disabled:!0,startIcon:x.jsx(Ine,{}),onClick:()=>{a(!0)},children:"Create new user"})})}),x.jsx("span",{children:x.jsx(Ft,{variant:"contained",size:"small",startIcon:x.jsx(Ine,{}),onClick:()=>{c(!0)},children:"Create new Org"})})]}),x.jsx(bH,{data:n,generateRowActionItems:T})]}),x.jsx(Ri,{open:s,onClose:()=>a(!1),children:x.jsx(Amt,{onClose:()=>a(!1)})}),x.jsx(Ri,{open:l,onClose:()=>c(!1),children:x.jsx(Dmt,{onSave:A=>{k(A),c(!1)}})}),x.jsx(Pmt,{username:g==null?void 0:g.username,open:g!==void 0,onClose:()=>m(void 0),onSuccess:()=>{o(i+1)}}),x.jsx(Ri,{open:u!==void 0,onClose:()=>d(void 0),children:x.jsx(Omt,{selectedOption:u==null?void 0:u.role,onSelectOption:A=>{d(void 0),e.updateUserRole(u==null?void 0:u.username,A).then(P=>{o(i+1)})}})}),x.jsx(Ri,{open:f!==void 0,onClose:()=>p(void 0),children:x.jsx(Us,{additionalSx:{mt:0},children:x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(it,{variant:"h4",children:"Change Organization"}),x.jsx(gbe,{selectedOption:f==null?void 0:f.organization,onSelectOption:A=>{p(void 0),e.updateUserOrganization(f==null?void 0:f.username,A).then(P=>{o(i+1)})}})]})})}),x.jsx(Ri,{open:v!==void 0,onClose:()=>b(void 0),children:x.jsx(xH,{target:v==null?void 0:v.username,originalCostCentersValue:v==null?void 0:v.cost_centers,onClose:A=>{b(void 0),e.updateUserCostCenters(v==null?void 0:v.username,A).then(P=>{o(i+1)})}})}),x.jsx(rve,{open:S!==void 0,objectName:S==null?void 0:S.username,onClose:()=>C(void 0),onDeleteConfirmed:()=>{e.deleteUser(S.username).then(A=>{o(i+1)})}})]})})},mbe=({username:e})=>{const{data:t}=kl(),n=Oa(),{currentUserIsAdmin:r}=Xi(),i=oI(z=>z.activeTab),[o,s]=O.useState(!1),[a,l]=O.useState(null),[c,u]=O.useState(void 0),[d,f]=O.useState(!1),[p,g]=O.useState(null),[m,v]=O.useState(!1),[b,S]=O.useState(null),{data:C=[]}=ntt(),{data:_=[],isLoading:E}=Gme(e),T=ltt(),k=qme(),A=itt(),P=rtt(),D=ktt(),F=Rtt(),I=att(),j=async()=>{try{const z=await I.mutateAsync({name:"Untitled Dashboard",templateId:void 0}),B=Sd(e,z.pipe_id);n(r?{to:Mi.Pipe+"/"+B}:{to:Mi.Dashboard+"/"+B})}catch(z){or.error("Could not create new pipe: "+JSON.stringify(z))}},{setRenamePipeModalOpen:M}=hU(),$=z=>{if(z.is_template)n({to:Mi.Template+"/"+z.id});else{const B=Sd(e,z.pipe_id);n({to:Mi.Dashboard+"/"+B})}},L=async(z,B)=>{if(!z.is_template){console.log("Trying to edit non-template pipe");return}try{await P.mutateAsync({templateId:z.id,tag:B})}catch(G){or.error("Could not update template: "+JSON.stringify(G))}},V=async z=>{if(z.is_template){console.log("Trying to save template pipe as template");return}await k.mutateAsync({pipeId:z.pipe_id,username:e})},q=async z=>{try{z.is_template?(await A.mutateAsync(z.id),or.info("Template deleted successfully")):(await T.mutateAsync({username:t.username,pipeId:z.pipe_id}),or.info("Pipe deleted successfully"))}catch(B){or.error(`Could not delete ${z.is_template?"template":"pipe"}: ${JSON.stringify(B)}`)}},U=async(z,B)=>{u(void 0);try{await D.mutateAsync({templateId:c==null?void 0:c.id,costCenters:z}),await F.mutateAsync({templateId:c==null?void 0:c.id,organization:B})}catch(G){or.error("Could not update template visibility: "+JSON.stringify(G))}};return E?x.jsx(wd,{loading:E}):x.jsxs(Pg,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:[x.jsxs(lt,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mt:5,mb:5,height:"50px"},children:[x.jsx(it,{variant:"h3",children:i===0?"Dashboards":"Templates"}),i===0&&x.jsx(Ft,{variant:"contained",color:"primary",onClick:()=>j(),"data-testid":"button-create-dashboard",children:"Create Dashboard"})]}),x.jsx(lt,{sx:{width:"100%"},children:x.jsx(tve,{pipes:i===0?_:C,onClick:$,onEditClick:z=>{s(!0),l(z)},onVisibilityClick:z=>{u(z)},onDeleteClick:z=>{f(!0),g(z)},onRenameClick:z=>{M(!0,z.pipe_id,z.name)},onSavePipeAsTemplateClick:z=>{v(!0),S(z)},showCostCentersColumn:i!==0})}),x.jsx(udt,{open:o,pipe:a,onClose:()=>s(!1),onSaveEdit:z=>{L(a,z)}}),x.jsx(Ri,{open:c!==void 0,onClose:()=>u(void 0),children:x.jsx(xH,{target:c==null?void 0:c.name,originalCostCentersValue:c==null?void 0:c.cost_centers,originalOrganizationId:c==null?void 0:c.organization_id,onClose:U})}),x.jsx(rve,{open:d,objectName:p==null?void 0:p.name,onClose:()=>f(!1),onDeleteConfirmed:()=>{q(p)}}),x.jsx(ddt,{open:m,onClose:()=>v(!1),onSaveConfirmed:()=>{V(b)}})]})},$mt=Da("/templates/$username")({component:Fmt});function Fmt(){const{data:e,isLoading:t}=kl(),{setActiveTab:n}=oI();return O.useEffect(()=>{n(1)},[]),t?x.jsx(wd,{loading:t}):x.jsx(mbe,{username:e.username})}function Qi(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Qi(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Nmt={value:()=>{}};function m2(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new VM(n)}function VM(e){this._=e}function Lmt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}VM.prototype=m2.prototype={constructor:VM,on:function(e,t){var n=this._,r=Lmt(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=jmt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=kie(n[i],e.name,t);else if(t==null)for(i in n)n[i]=kie(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new VM(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function jmt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function kie(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Nmt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var G6="http://www.w3.org/1999/xhtml";const Rie={svg:"http://www.w3.org/2000/svg",xhtml:G6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function TI(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Rie.hasOwnProperty(t)?{space:Rie[t],local:e}:e}function zmt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===G6&&t.documentElement.namespaceURI===G6?t.createElement(e):t.createElementNS(n,e)}}function Bmt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ybe(e){var t=TI(e);return(t.local?Bmt:zmt)(t)}function Umt(){}function SH(e){return e==null?Umt:function(){return this.querySelector(e)}}function Hmt(e){typeof e!="function"&&(e=SH(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new yl(r,this._parents)}function Vmt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Wmt(){return[]}function vbe(e){return e==null?Wmt:function(){return this.querySelectorAll(e)}}function qmt(e){return function(){return Vmt(e.apply(this,arguments))}}function Gmt(e){typeof e=="function"?e=qmt(e):e=vbe(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new yl(r,i)}function bbe(e){return function(){return this.matches(e)}}function xbe(e){return function(t){return t.matches(e)}}var Ymt=Array.prototype.find;function Xmt(e){return function(){return Ymt.call(this.children,e)}}function Kmt(){return this.firstElementChild}function Qmt(e){return this.select(e==null?Kmt:Xmt(typeof e=="function"?e:xbe(e)))}var Zmt=Array.prototype.filter;function Jmt(){return Array.from(this.children)}function e0t(e){return function(){return Zmt.call(this.children,e)}}function t0t(e){return this.selectAll(e==null?Jmt:e0t(typeof e=="function"?e:xbe(e)))}function n0t(e){typeof e!="function"&&(e=bbe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new yl(r,this._parents)}function Sbe(e){return new Array(e.length)}function r0t(){return new yl(this._enter||this._groups.map(Sbe),this._parents)}function xO(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}xO.prototype={constructor:xO,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function i0t(e){return function(){return e}}function o0t(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new xO(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function s0t(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,d=o.length,f=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(f[a]=p=s.call(l,l.__data__,a,t)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<d;++a)p=s.call(e,o[a],a,o)+"",(l=c.get(p))?(r[a]=l,l.__data__=o[a],c.delete(p)):n[a]=new xO(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function a0t(e){return e.__data__}function l0t(e,t){if(!arguments.length)return Array.from(this,a0t);var n=t?s0t:o0t,r=this._parents,i=this._groups;typeof e!="function"&&(e=i0t(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,p=c0t(e.call(u,u&&u.__data__,c,r)),g=p.length,m=a[c]=new Array(g),v=s[c]=new Array(g),b=l[c]=new Array(f);n(u,d,m,v,b,p,t);for(var S=0,C=0,_,E;S<g;++S)if(_=m[S]){for(S>=C&&(C=S+1);!(E=v[C])&&++C<g;);_._next=E||null}}return s=new yl(s,r),s._enter=a,s._exit=l,s}function c0t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u0t(){return new yl(this._exit||this._groups.map(Sbe),this._parents)}function d0t(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function f0t(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),p,g=0;g<d;++g)(p=c[g]||u[g])&&(f[g]=p);for(;l<i;++l)a[l]=n[l];return new yl(a,this._parents)}function p0t(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function h0t(e){e||(e=g0t);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new yl(i,this._parents).order()}function g0t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function m0t(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function y0t(){return Array.from(this)}function v0t(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function b0t(){let e=0;for(const t of this)++e;return e}function x0t(){return!this.node()}function S0t(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function w0t(e){return function(){this.removeAttribute(e)}}function C0t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _0t(e,t){return function(){this.setAttribute(e,t)}}function E0t(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function k0t(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function R0t(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function T0t(e,t){var n=TI(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?C0t:w0t:typeof t=="function"?n.local?R0t:k0t:n.local?E0t:_0t)(n,t))}function wbe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function M0t(e){return function(){this.style.removeProperty(e)}}function A0t(e,t,n){return function(){this.style.setProperty(e,t,n)}}function O0t(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function D0t(e,t,n){return arguments.length>1?this.each((t==null?M0t:typeof t=="function"?O0t:A0t)(e,t,n??"")):A1(this.node(),e)}function A1(e,t){return e.style.getPropertyValue(t)||wbe(e).getComputedStyle(e,null).getPropertyValue(t)}function P0t(e){return function(){delete this[e]}}function I0t(e,t){return function(){this[e]=t}}function $0t(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function F0t(e,t){return arguments.length>1?this.each((t==null?P0t:typeof t=="function"?$0t:I0t)(e,t)):this.node()[e]}function Cbe(e){return e.trim().split(/^|\s+/)}function wH(e){return e.classList||new _be(e)}function _be(e){this._node=e,this._names=Cbe(e.getAttribute("class")||"")}_be.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ebe(e,t){for(var n=wH(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function kbe(e,t){for(var n=wH(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function N0t(e){return function(){Ebe(this,e)}}function L0t(e){return function(){kbe(this,e)}}function j0t(e,t){return function(){(t.apply(this,arguments)?Ebe:kbe)(this,e)}}function z0t(e,t){var n=Cbe(e+"");if(arguments.length<2){for(var r=wH(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?j0t:t?N0t:L0t)(n,t))}function B0t(){this.textContent=""}function U0t(e){return function(){this.textContent=e}}function H0t(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function V0t(e){return arguments.length?this.each(e==null?B0t:(typeof e=="function"?H0t:U0t)(e)):this.node().textContent}function W0t(){this.innerHTML=""}function q0t(e){return function(){this.innerHTML=e}}function G0t(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Y0t(e){return arguments.length?this.each(e==null?W0t:(typeof e=="function"?G0t:q0t)(e)):this.node().innerHTML}function X0t(){this.nextSibling&&this.parentNode.appendChild(this)}function K0t(){return this.each(X0t)}function Q0t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z0t(){return this.each(Q0t)}function J0t(e){var t=typeof e=="function"?e:ybe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function eyt(){return null}function tyt(e,t){var n=typeof e=="function"?e:ybe(e),r=t==null?eyt:typeof t=="function"?t:SH(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function nyt(){var e=this.parentNode;e&&e.removeChild(this)}function ryt(){return this.each(nyt)}function iyt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oyt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function syt(e){return this.select(e?oyt:iyt)}function ayt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function lyt(e){return function(t){e.call(this,t,this.__data__)}}function cyt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function uyt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function dyt(e,t,n){return function(){var r=this.__on,i,o=lyt(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function fyt(e,t,n){var r=cyt(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?dyt:uyt,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function Rbe(e,t,n){var r=wbe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function pyt(e,t){return function(){return Rbe(this,e,t)}}function hyt(e,t){return function(){return Rbe(this,e,t.apply(this,arguments))}}function gyt(e,t){return this.each((typeof t=="function"?hyt:pyt)(e,t))}function*myt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Tbe=[null];function yl(e,t){this._groups=e,this._parents=t}function y2(){return new yl([[document.documentElement]],Tbe)}function yyt(){return this}yl.prototype=y2.prototype={constructor:yl,select:Hmt,selectAll:Gmt,selectChild:Qmt,selectChildren:t0t,filter:n0t,data:l0t,enter:r0t,exit:u0t,join:d0t,merge:f0t,selection:yyt,order:p0t,sort:h0t,call:m0t,nodes:y0t,node:v0t,size:b0t,empty:x0t,each:S0t,attr:T0t,style:D0t,property:F0t,classed:z0t,text:V0t,html:Y0t,raise:K0t,lower:Z0t,append:J0t,insert:tyt,remove:ryt,clone:syt,datum:ayt,on:fyt,dispatch:gyt,[Symbol.iterator]:myt};function Ka(e){return typeof e=="string"?new yl([[document.querySelector(e)]],[document.documentElement]):new yl([[e]],Tbe)}function vyt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Uc(e,t){if(e=vyt(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const byt={passive:!1},q_={capture:!0,passive:!1};function VL(e){e.stopImmediatePropagation()}function $b(e){e.preventDefault(),e.stopImmediatePropagation()}function Mbe(e){var t=e.document.documentElement,n=Ka(e).on("dragstart.drag",$b,q_);"onselectstart"in t?n.on("selectstart.drag",$b,q_):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Abe(e,t){var n=e.document.documentElement,r=Ka(e).on("dragstart.drag",null);t&&(r.on("click.drag",$b,q_),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const wT=e=>()=>e;function Y6(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Y6.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function xyt(e){return!e.ctrlKey&&!e.button}function Syt(){return this.parentNode}function wyt(e,t){return t??{x:e.x,y:e.y}}function Cyt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Obe(){var e=xyt,t=Syt,n=wyt,r=Cyt,i={},o=m2("start","drag","end"),s=0,a,l,c,u,d=0;function f(_){_.on("mousedown.drag",p).filter(r).on("touchstart.drag",v).on("touchmove.drag",b,byt).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,E){if(!(u||!e.call(this,_,E))){var T=C(this,t.call(this,_,E),_,E,"mouse");T&&(Ka(_.view).on("mousemove.drag",g,q_).on("mouseup.drag",m,q_),Mbe(_.view),VL(_),c=!1,a=_.clientX,l=_.clientY,T("start",_))}}function g(_){if($b(_),!c){var E=_.clientX-a,T=_.clientY-l;c=E*E+T*T>d}i.mouse("drag",_)}function m(_){Ka(_.view).on("mousemove.drag mouseup.drag",null),Abe(_.view,c),$b(_),i.mouse("end",_)}function v(_,E){if(e.call(this,_,E)){var T=_.changedTouches,k=t.call(this,_,E),A=T.length,P,D;for(P=0;P<A;++P)(D=C(this,k,_,E,T[P].identifier,T[P]))&&(VL(_),D("start",_,T[P]))}}function b(_){var E=_.changedTouches,T=E.length,k,A;for(k=0;k<T;++k)(A=i[E[k].identifier])&&($b(_),A("drag",_,E[k]))}function S(_){var E=_.changedTouches,T=E.length,k,A;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),k=0;k<T;++k)(A=i[E[k].identifier])&&(VL(_),A("end",_,E[k]))}function C(_,E,T,k,A,P){var D=o.copy(),F=Uc(P||T,E),I,j,M;if((M=n.call(_,new Y6("beforestart",{sourceEvent:T,target:f,identifier:A,active:s,x:F[0],y:F[1],dx:0,dy:0,dispatch:D}),k))!=null)return I=M.x-F[0]||0,j=M.y-F[1]||0,function $(L,V,q){var U=F,z;switch(L){case"start":i[A]=$,z=s++;break;case"end":delete i[A],--s;case"drag":F=Uc(q||V,E),z=s;break}D.call(L,_,new Y6(L,{sourceEvent:V,subject:M,target:f,identifier:A,active:z,x:F[0]+I,y:F[1]+j,dx:F[0]-U[0],dy:F[1]-U[1],dispatch:D}),k)}}return f.filter=function(_){return arguments.length?(e=typeof _=="function"?_:wT(!!_),f):e},f.container=function(_){return arguments.length?(t=typeof _=="function"?_:wT(_),f):t},f.subject=function(_){return arguments.length?(n=typeof _=="function"?_:wT(_),f):n},f.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:wT(!!_),f):r},f.on=function(){var _=o.on.apply(o,arguments);return _===o?f:_},f.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,f):Math.sqrt(d)},f}function Bx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function v2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $g(){}var B0=.7,O1=1/B0,Fb="\\s*([+-]?\\d+)\\s*",G_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_yt=/^#([0-9a-f]{3,8})$/,Eyt=new RegExp(`^rgb\\(${Fb},${Fb},${Fb}\\)$`),kyt=new RegExp(`^rgb\\(${pd},${pd},${pd}\\)$`),Ryt=new RegExp(`^rgba\\(${Fb},${Fb},${Fb},${G_}\\)$`),Tyt=new RegExp(`^rgba\\(${pd},${pd},${pd},${G_}\\)$`),Myt=new RegExp(`^hsl\\(${G_},${pd},${pd}\\)$`),Ayt=new RegExp(`^hsla\\(${G_},${pd},${pd},${G_}\\)$`),Tie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bx($g,U0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mie,formatHex:Mie,formatHex8:Oyt,formatHsl:Dyt,formatRgb:Aie,toString:Aie});function Mie(){return this.rgb().formatHex()}function Oyt(){return this.rgb().formatHex8()}function Dyt(){return Dbe(this).formatHsl()}function Aie(){return this.rgb().formatRgb()}function U0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_yt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Oie(t):n===3?new mo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?CT(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?CT(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Eyt.exec(e))?new mo(t[1],t[2],t[3],1):(t=kyt.exec(e))?new mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ryt.exec(e))?CT(t[1],t[2],t[3],t[4]):(t=Tyt.exec(e))?CT(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Myt.exec(e))?Iie(t[1],t[2]/100,t[3]/100,1):(t=Ayt.exec(e))?Iie(t[1],t[2]/100,t[3]/100,t[4]):Tie.hasOwnProperty(e)?Oie(Tie[e]):e==="transparent"?new mo(NaN,NaN,NaN,0):null}function Oie(e){return new mo(e>>16&255,e>>8&255,e&255,1)}function CT(e,t,n,r){return r<=0&&(e=t=n=NaN),new mo(e,t,n,r)}function CH(e){return e instanceof $g||(e=U0(e)),e?(e=e.rgb(),new mo(e.r,e.g,e.b,e.opacity)):new mo}function dg(e,t,n,r){return arguments.length===1?CH(e):new mo(e,t,n,r??1)}function mo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bx(mo,dg,v2($g,{brighter(e){return e=e==null?O1:Math.pow(O1,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?B0:Math.pow(B0,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mo(g0(this.r),g0(this.g),g0(this.b),SO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Die,formatHex:Die,formatHex8:Pyt,formatRgb:Pie,toString:Pie}));function Die(){return`#${Km(this.r)}${Km(this.g)}${Km(this.b)}`}function Pyt(){return`#${Km(this.r)}${Km(this.g)}${Km(this.b)}${Km((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pie(){const e=SO(this.opacity);return`${e===1?"rgb(":"rgba("}${g0(this.r)}, ${g0(this.g)}, ${g0(this.b)}${e===1?")":`, ${e})`}`}function SO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function g0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Km(e){return e=g0(e),(e<16?"0":"")+e.toString(16)}function Iie(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xc(e,t,n,r)}function Dbe(e){if(e instanceof Xc)return new Xc(e.h,e.s,e.l,e.opacity);if(e instanceof $g||(e=U0(e)),!e)return new Xc;if(e instanceof Xc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Xc(s,a,l,e.opacity)}function wO(e,t,n,r){return arguments.length===1?Dbe(e):new Xc(e,t,n,r??1)}function Xc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bx(Xc,wO,v2($g,{brighter(e){return e=e==null?O1:Math.pow(O1,e),new Xc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?B0:Math.pow(B0,e),new Xc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new mo(WL(e>=240?e-240:e+120,i,r),WL(e,i,r),WL(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Xc($ie(this.h),_T(this.s),_T(this.l),SO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=SO(this.opacity);return`${e===1?"hsl(":"hsla("}${$ie(this.h)}, ${_T(this.s)*100}%, ${_T(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $ie(e){return e=(e||0)%360,e<0?e+360:e}function _T(e){return Math.max(0,Math.min(1,e||0))}function WL(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pbe=Math.PI/180,Ibe=180/Math.PI,CO=18,$be=.96422,Fbe=1,Nbe=.82521,Lbe=4/29,Nb=6/29,jbe=3*Nb*Nb,Iyt=Nb*Nb*Nb;function zbe(e){if(e instanceof hd)return new hd(e.l,e.a,e.b,e.opacity);if(e instanceof Mf)return Bbe(e);e instanceof mo||(e=CH(e));var t=XL(e.r),n=XL(e.g),r=XL(e.b),i=qL((.2225045*t+.7168786*n+.0606169*r)/Fbe),o,s;return t===n&&n===r?o=s=i:(o=qL((.4360747*t+.3850649*n+.1430804*r)/$be),s=qL((.0139322*t+.0971045*n+.7141733*r)/Nbe)),new hd(116*i-16,500*(o-i),200*(i-s),e.opacity)}function _O(e,t,n,r){return arguments.length===1?zbe(e):new hd(e,t,n,r??1)}function hd(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Bx(hd,_O,v2($g,{brighter(e){return new hd(this.l+CO*(e??1),this.a,this.b,this.opacity)},darker(e){return new hd(this.l-CO*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=$be*GL(t),e=Fbe*GL(e),n=Nbe*GL(n),new mo(YL(3.1338561*t-1.6168667*e-.4906146*n),YL(-.9787684*t+1.9161415*e+.033454*n),YL(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function qL(e){return e>Iyt?Math.pow(e,1/3):e/jbe+Lbe}function GL(e){return e>Nb?e*e*e:jbe*(e-Lbe)}function YL(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function XL(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $yt(e){if(e instanceof Mf)return new Mf(e.h,e.c,e.l,e.opacity);if(e instanceof hd||(e=zbe(e)),e.a===0&&e.b===0)return new Mf(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ibe;return new Mf(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function EO(e,t,n,r){return arguments.length===1?$yt(e):new Mf(e,t,n,r??1)}function Mf(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Bbe(e){if(isNaN(e.h))return new hd(e.l,0,0,e.opacity);var t=e.h*Pbe;return new hd(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Bx(Mf,EO,v2($g,{brighter(e){return new Mf(this.h,this.c,this.l+CO*(e??1),this.opacity)},darker(e){return new Mf(this.h,this.c,this.l-CO*(e??1),this.opacity)},rgb(){return Bbe(this).rgb()}}));var Ube=-.14861,_H=1.78277,EH=-.29227,MI=-.90649,Y_=1.97294,Fie=Y_*MI,Nie=Y_*_H,Lie=_H*EH-MI*Ube;function Fyt(e){if(e instanceof m0)return new m0(e.h,e.s,e.l,e.opacity);e instanceof mo||(e=CH(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Lie*r+Fie*t-Nie*n)/(Lie+Fie-Nie),o=r-i,s=(Y_*(n-i)-EH*o)/MI,a=Math.sqrt(s*s+o*o)/(Y_*i*(1-i)),l=a?Math.atan2(s,o)*Ibe-120:NaN;return new m0(l<0?l+360:l,a,i,e.opacity)}function X6(e,t,n,r){return arguments.length===1?Fyt(e):new m0(e,t,n,r??1)}function m0(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bx(m0,X6,v2($g,{brighter(e){return e=e==null?O1:Math.pow(O1,e),new m0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?B0:Math.pow(B0,e),new m0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Pbe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new mo(255*(t+n*(Ube*r+_H*i)),255*(t+n*(EH*r+MI*i)),255*(t+n*(Y_*r)),this.opacity)}}));function Hbe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function Vbe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return Hbe((n-r/t)*t,s,i,o,a)}}function Wbe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return Hbe((n-r/t)*t,i,o,s,a)}}const AI=e=>()=>e;function qbe(e,t){return function(n){return e+n*t}}function Nyt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function OI(e,t){var n=t-e;return n?qbe(e,n>180||n<-180?n-360*Math.round(n/360):n):AI(isNaN(e)?t:e)}function Lyt(e){return(e=+e)==1?yo:function(t,n){return n-t?Nyt(t,n,e):AI(isNaN(t)?n:t)}}function yo(e,t){var n=t-e;return n?qbe(e,n):AI(isNaN(e)?t:e)}const X_=function e(t){var n=Lyt(t);function r(i,o){var s=n((i=dg(i)).r,(o=dg(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=yo(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function Gbe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=dg(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var Ybe=Gbe(Vbe),jyt=Gbe(Wbe);function kH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Xbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zyt(e,t){return(Xbe(t)?kH:Kbe)(e,t)}function Kbe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Fg(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Qbe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zbe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Fg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var K6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KL=new RegExp(K6.source,"g");function Byt(e){return function(){return e}}function Uyt(e){return function(t){return e(t)+""}}function RH(e,t){var n=K6.lastIndex=KL.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=K6.exec(e))&&(i=KL.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Gl(r,i)})),n=KL.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Uyt(l[0].x):Byt(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Fg(e,t){var n=typeof t,r;return t==null||n==="boolean"?AI(t):(n==="number"?Gl:n==="string"?(r=U0(t))?(t=r,X_):RH:t instanceof U0?X_:t instanceof Date?Qbe:Xbe(t)?kH:Array.isArray(t)?Kbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zbe:Gl)(e,t)}function Hyt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Vyt(e,t){var n=OI(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function b2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var jie=180/Math.PI,Q6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jbe(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*jie,skewX:Math.atan(l)*jie,scaleX:s,scaleY:a}}var ET;function Wyt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Q6:Jbe(t.a,t.b,t.c,t.d,t.e,t.f)}function qyt(e){return e==null||(ET||(ET=document.createElementNS("http://www.w3.org/2000/svg","g")),ET.setAttribute("transform",e),!(e=ET.transform.baseVal.consolidate()))?Q6:(e=e.matrix,Jbe(e.a,e.b,e.c,e.d,e.e,e.f))}function e1e(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,f,p,g){if(c!==d||u!==f){var m=p.push("translate(",null,t,null,n);g.push({i:m-4,x:Gl(c,d)},{i:m-2,x:Gl(u,f)})}else(d||f)&&p.push("translate("+d+t+f+n)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Gl(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Gl(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,p,g){if(c!==d||u!==f){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:Gl(c,d)},{i:m-2,x:Gl(u,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(p){for(var g=-1,m=f.length,v;++g<m;)d[(v=f[g]).i]=v.x(p);return d.join("")}}}var t1e=e1e(Wyt,"px, ","px)","deg)"),n1e=e1e(qyt,", ",")",")"),Gyt=1e-12;function zie(e){return((e=Math.exp(e))+1/e)/2}function Yyt(e){return((e=Math.exp(e))-1/e)/2}function Xyt(e){return((e=Math.exp(2*e))-1)/(e+1)}const r1e=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],d=s[1],f=s[2],p=u-a,g=d-l,m=p*p+g*g,v,b;if(m<Gyt)b=Math.log(f/c)/t,v=function(k){return[a+k*p,l+k*g,c*Math.exp(t*k*b)]};else{var S=Math.sqrt(m),C=(f*f-c*c+r*m)/(2*c*n*S),_=(f*f-c*c-r*m)/(2*f*n*S),E=Math.log(Math.sqrt(C*C+1)-C),T=Math.log(Math.sqrt(_*_+1)-_);b=(T-E)/t,v=function(k){var A=k*b,P=zie(E),D=c/(n*S)*(P*Xyt(t*A+E)-Yyt(E));return[a+D*p,l+D*g,c*P/zie(t*A+E)]}}return v.duration=b*1e3*t/Math.SQRT2,v}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function i1e(e){return function(t,n){var r=e((t=wO(t)).h,(n=wO(n)).h),i=yo(t.s,n.s),o=yo(t.l,n.l),s=yo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Kyt=i1e(OI);var Qyt=i1e(yo);function Zyt(e,t){var n=yo((e=_O(e)).l,(t=_O(t)).l),r=yo(e.a,t.a),i=yo(e.b,t.b),o=yo(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function o1e(e){return function(t,n){var r=e((t=EO(t)).h,(n=EO(n)).h),i=yo(t.c,n.c),o=yo(t.l,n.l),s=yo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Jyt=o1e(OI);var evt=o1e(yo);function s1e(e){return function t(n){n=+n;function r(i,o){var s=e((i=X6(i)).h,(o=X6(o)).h),a=yo(i.s,o.s),l=yo(i.l,o.l),c=yo(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}const tvt=s1e(OI);var nvt=s1e(yo);function TH(e,t){t===void 0&&(t=e,e=Fg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function rvt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const ivt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Fg,interpolateArray:zyt,interpolateBasis:Vbe,interpolateBasisClosed:Wbe,interpolateCubehelix:tvt,interpolateCubehelixLong:nvt,interpolateDate:Qbe,interpolateDiscrete:Hyt,interpolateHcl:Jyt,interpolateHclLong:evt,interpolateHsl:Kyt,interpolateHslLong:Qyt,interpolateHue:Vyt,interpolateLab:Zyt,interpolateNumber:Gl,interpolateNumberArray:kH,interpolateObject:Zbe,interpolateRgb:X_,interpolateRgbBasis:Ybe,interpolateRgbBasisClosed:jyt,interpolateRound:b2,interpolateString:RH,interpolateTransformCss:t1e,interpolateTransformSvg:n1e,interpolateZoom:r1e,piecewise:TH,quantize:rvt},Symbol.toStringTag,{value:"Module"}));var D1=0,uC=0,Rw=0,a1e=1e3,kO,dC,RO=0,H0=0,DI=0,K_=typeof performance=="object"&&performance.now?performance:Date,l1e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function PI(){return H0||(l1e(ovt),H0=K_.now()+DI)}function ovt(){H0=0}function Q_(){this._call=this._time=this._next=null}Q_.prototype=MH.prototype={constructor:Q_,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?PI():+n)+(t==null?0:+t),!this._next&&dC!==this&&(dC?dC._next=this:kO=this,dC=this),this._call=e,this._time=n,Z6()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z6())}};function MH(e,t,n){var r=new Q_;return r.restart(e,t,n),r}function svt(){PI(),++D1;for(var e=kO,t;e;)(t=H0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--D1}function Bie(){H0=(RO=K_.now())+DI,D1=uC=0;try{svt()}finally{D1=0,lvt(),H0=0}}function avt(){var e=K_.now(),t=e-RO;t>a1e&&(DI-=t,RO=e)}function lvt(){for(var e,t=kO,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:kO=n);dC=e,Z6(r)}function Z6(e){if(!D1){uC&&(uC=clearTimeout(uC));var t=e-H0;t>24?(e<1/0&&(uC=setTimeout(Bie,e-K_.now()-DI)),Rw&&(Rw=clearInterval(Rw))):(Rw||(RO=K_.now(),Rw=setInterval(avt,a1e)),D1=1,l1e(Bie))}}function Uie(e,t,n){var r=new Q_;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function cvt(e,t,n){var r=new Q_,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?PI():+a,r._restart(function l(c){c+=i,r._restart(l,i+=s,a),o(c)},s,a)},r.restart(e,t,n),r)}var uvt=m2("start","end","cancel","interrupt"),dvt=[],c1e=0,Hie=1,J6=2,WM=3,Vie=4,eB=5,qM=6;function II(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;fvt(e,n,{name:t,index:r,group:i,on:uvt,tween:dvt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:c1e})}function AH(e,t){var n=Su(e,t);if(n.state>c1e)throw new Error("too late; already scheduled");return n}function Fd(e,t){var n=Su(e,t);if(n.state>WM)throw new Error("too late; already running");return n}function Su(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fvt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=MH(o,0,n.time);function o(c){n.state=Hie,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,f,p;if(n.state!==Hie)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===WM)return Uie(s);p.state===Vie?(p.state=qM,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=qM,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if(Uie(function(){n.state===WM&&(n.state=Vie,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=J6,n.on.call("start",e,e.__data__,n.index,n.group),n.state===J6){for(n.state=WM,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=eB,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===eB&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=qM,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function GM(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>J6&&r.state<eB,r.state=qM,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function pvt(e){return this.each(function(){GM(this,e)})}function hvt(e,t){var n,r;return function(){var i=Fd(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function gvt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Fd(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function mvt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Su(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?hvt:gvt)(n,e,t))}function OH(e,t,n){var r=e._id;return e.each(function(){var i=Fd(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Su(i,r).value[t]}}function u1e(e,t){var n;return(typeof t=="number"?Gl:t instanceof U0?X_:(n=U0(t))?(t=n,X_):RH)(e,t)}function yvt(e){return function(){this.removeAttribute(e)}}function vvt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bvt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function xvt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Svt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function wvt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Cvt(e,t){var n=TI(e),r=n==="transform"?n1e:u1e;return this.attrTween(e,typeof t=="function"?(n.local?wvt:Svt)(n,r,OH(this,"attr."+e,t)):t==null?(n.local?vvt:yvt)(n):(n.local?xvt:bvt)(n,r,t))}function _vt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Evt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function kvt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Evt(e,o)),n}return i._value=t,i}function Rvt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&_vt(e,o)),n}return i._value=t,i}function Tvt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=TI(e);return this.tween(n,(r.local?kvt:Rvt)(r,t))}function Mvt(e,t){return function(){AH(this,e).delay=+t.apply(this,arguments)}}function Avt(e,t){return t=+t,function(){AH(this,e).delay=t}}function Ovt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Mvt:Avt)(t,e)):Su(this.node(),t).delay}function Dvt(e,t){return function(){Fd(this,e).duration=+t.apply(this,arguments)}}function Pvt(e,t){return t=+t,function(){Fd(this,e).duration=t}}function Ivt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dvt:Pvt)(t,e)):Su(this.node(),t).duration}function $vt(e,t){if(typeof t!="function")throw new Error;return function(){Fd(this,e).ease=t}}function Fvt(e){var t=this._id;return arguments.length?this.each($vt(t,e)):Su(this.node(),t).ease}function Nvt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Fd(this,e).ease=n}}function Lvt(e){if(typeof e!="function")throw new Error;return this.each(Nvt(this._id,e))}function jvt(e){typeof e!="function"&&(e=bbe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new lp(r,this._parents,this._name,this._id)}function zvt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(d[p]=f);for(;a<r;++a)s[a]=t[a];return new lp(s,this._parents,this._name,this._id)}function Bvt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Uvt(e,t,n){var r,i,o=Bvt(t)?AH:Fd;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function Hvt(e,t){var n=this._id;return arguments.length<2?Su(this.node(),n).on.on(e):this.each(Uvt(n,e,t))}function Vvt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Wvt(){return this.on("end.remove",Vvt(this._id))}function qvt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=SH(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,II(c[f],t,n,f,c,Su(u,n)));return new lp(o,this._parents,t,n)}function Gvt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vbe(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),p,g=Su(u,n),m=0,v=f.length;m<v;++m)(p=f[m])&&II(p,t,n,m,f,g);o.push(f),s.push(u)}return new lp(o,s,t,n)}var Yvt=y2.prototype.constructor;function Xvt(){return new Yvt(this._groups,this._parents)}function Kvt(e,t){var n,r,i;return function(){var o=A1(this,e),s=(this.style.removeProperty(e),A1(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function d1e(e){return function(){this.style.removeProperty(e)}}function Qvt(e,t,n){var r,i=n+"",o;return function(){var s=A1(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Zvt(e,t,n){var r,i,o;return function(){var s=A1(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),A1(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function Jvt(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=Fd(this,e),c=l.on,u=l.value[o]==null?a||(a=d1e(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function ebt(e,t,n){var r=(e+="")=="transform"?t1e:u1e;return t==null?this.styleTween(e,Kvt(e,r)).on("end.style."+e,d1e(e)):typeof t=="function"?this.styleTween(e,Zvt(e,r,OH(this,"style."+e,t))).each(Jvt(this._id,e)):this.styleTween(e,Qvt(e,r,t),n).on("end.style."+e,null)}function tbt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function nbt(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&tbt(e,s,n)),r}return o._value=t,o}function rbt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,nbt(e,t,n??""))}function ibt(e){return function(){this.textContent=e}}function obt(e){return function(){var t=e(this);this.textContent=t??""}}function sbt(e){return this.tween("text",typeof e=="function"?obt(OH(this,"text",e)):ibt(e==null?"":e+""))}function abt(e){return function(t){this.textContent=e.call(this,t)}}function lbt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&abt(i)),t}return r._value=e,r}function cbt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lbt(e))}function ubt(){for(var e=this._name,t=this._id,n=f1e(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=Su(l,t);II(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new lp(r,this._parents,e,n)}function dbt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=Fd(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var fbt=0;function lp(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function f1e(){return++fbt}var ff=y2.prototype;lp.prototype={constructor:lp,select:qvt,selectAll:Gvt,selectChild:ff.selectChild,selectChildren:ff.selectChildren,filter:jvt,merge:zvt,selection:Xvt,transition:ubt,call:ff.call,nodes:ff.nodes,node:ff.node,size:ff.size,empty:ff.empty,each:ff.each,on:Hvt,attr:Cvt,attrTween:Tvt,style:ebt,styleTween:rbt,text:sbt,textTween:cbt,remove:Wvt,tween:mvt,delay:Ovt,duration:Ivt,ease:Fvt,easeVarying:Lvt,end:dbt,[Symbol.iterator]:ff[Symbol.iterator]};function pbt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var hbt={time:null,delay:0,duration:250,ease:pbt};function gbt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mbt(e){var t,n;e instanceof lp?(t=e._id,e=e._name):(t=f1e(),(n=hbt).time=PI(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&II(l,e,t,c,s,n||gbt(l,t));return new lp(r,this._parents,e,t)}y2.prototype.interrupt=pvt;y2.prototype.transition=mbt;const kT=e=>()=>e;function ybt(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Af(e,t,n){this.k=e,this.x=t,this.y=n}Af.prototype={constructor:Af,scale:function(e){return e===1?this:new Af(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Af(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $I=new Af(1,0,0);p1e.prototype=Af.prototype;function p1e(e){for(;!e.__zoom;)if(!(e=e.parentNode))return $I;return e.__zoom}function QL(e){e.stopImmediatePropagation()}function Tw(e){e.preventDefault(),e.stopImmediatePropagation()}function vbt(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function bbt(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Wie(){return this.__zoom||$I}function xbt(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Sbt(){return navigator.maxTouchPoints||"ontouchstart"in this}function wbt(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function h1e(){var e=vbt,t=bbt,n=wbt,r=xbt,i=Sbt,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=r1e,c=m2("start","zoom","end"),u,d,f,p=500,g=150,m=0,v=10;function b(M){M.property("__zoom",Wie).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(M,$,L,V){var q=M.selection?M.selection():M;q.property("__zoom",Wie),M!==q?E(M,$,L,V):q.interrupt().each(function(){T(this,arguments).event(V).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(M,$,L,V){b.scaleTo(M,function(){var q=this.__zoom.k,U=typeof $=="function"?$.apply(this,arguments):$;return q*U},L,V)},b.scaleTo=function(M,$,L,V){b.transform(M,function(){var q=t.apply(this,arguments),U=this.__zoom,z=L==null?_(q):typeof L=="function"?L.apply(this,arguments):L,B=U.invert(z),G=typeof $=="function"?$.apply(this,arguments):$;return n(C(S(U,G),z,B),q,s)},L,V)},b.translateBy=function(M,$,L,V){b.transform(M,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),s)},null,V)},b.translateTo=function(M,$,L,V,q){b.transform(M,function(){var U=t.apply(this,arguments),z=this.__zoom,B=V==null?_(U):typeof V=="function"?V.apply(this,arguments):V;return n($I.translate(B[0],B[1]).scale(z.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof L=="function"?-L.apply(this,arguments):-L),U,s)},V,q)};function S(M,$){return $=Math.max(o[0],Math.min(o[1],$)),$===M.k?M:new Af($,M.x,M.y)}function C(M,$,L){var V=$[0]-L[0]*M.k,q=$[1]-L[1]*M.k;return V===M.x&&q===M.y?M:new Af(M.k,V,q)}function _(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function E(M,$,L,V){M.on("start.zoom",function(){T(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(V).end()}).tween("zoom",function(){var q=this,U=arguments,z=T(q,U).event(V),B=t.apply(q,U),G=L==null?_(B):typeof L=="function"?L.apply(q,U):L,Y=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),Q=q.__zoom,K=typeof $=="function"?$.apply(q,U):$,te=l(Q.invert(G).concat(Y/Q.k),K.invert(G).concat(Y/K.k));return function(ce){if(ce===1)ce=K;else{var ie=te(ce),re=Y/ie[2];ce=new Af(re,G[0]-ie[0]*re,G[1]-ie[1]*re)}z.zoom(null,ce)}})}function T(M,$,L){return!L&&M.__zooming||new k(M,$)}function k(M,$){this.that=M,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,$),this.taps=0}k.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,$){return this.mouse&&M!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var $=Ka(this.that).datum();c.call(M,this.that,new ybt(M,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),$)}};function A(M,...$){if(!e.apply(this,arguments))return;var L=T(this,$).event(M),V=this.__zoom,q=Math.max(o[0],Math.min(o[1],V.k*Math.pow(2,r.apply(this,arguments)))),U=Uc(M);if(L.wheel)(L.mouse[0][0]!==U[0]||L.mouse[0][1]!==U[1])&&(L.mouse[1]=V.invert(L.mouse[0]=U)),clearTimeout(L.wheel);else{if(V.k===q)return;L.mouse=[U,V.invert(U)],GM(this),L.start()}Tw(M),L.wheel=setTimeout(z,g),L.zoom("mouse",n(C(S(V,q),L.mouse[0],L.mouse[1]),L.extent,s));function z(){L.wheel=null,L.end()}}function P(M,...$){if(f||!e.apply(this,arguments))return;var L=M.currentTarget,V=T(this,$,!0).event(M),q=Ka(M.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",Y,!0),U=Uc(M,L),z=M.clientX,B=M.clientY;Mbe(M.view),QL(M),V.mouse=[U,this.__zoom.invert(U)],GM(this),V.start();function G(Q){if(Tw(Q),!V.moved){var K=Q.clientX-z,te=Q.clientY-B;V.moved=K*K+te*te>m}V.event(Q).zoom("mouse",n(C(V.that.__zoom,V.mouse[0]=Uc(Q,L),V.mouse[1]),V.extent,s))}function Y(Q){q.on("mousemove.zoom mouseup.zoom",null),Abe(Q.view,V.moved),Tw(Q),V.event(Q).end()}}function D(M,...$){if(e.apply(this,arguments)){var L=this.__zoom,V=Uc(M.changedTouches?M.changedTouches[0]:M,this),q=L.invert(V),U=L.k*(M.shiftKey?.5:2),z=n(C(S(L,U),V,q),t.apply(this,$),s);Tw(M),a>0?Ka(this).transition().duration(a).call(E,z,V,M):Ka(this).call(b.transform,z,V,M)}}function F(M,...$){if(e.apply(this,arguments)){var L=M.touches,V=L.length,q=T(this,$,M.changedTouches.length===V).event(M),U,z,B,G;for(QL(M),z=0;z<V;++z)B=L[z],G=Uc(B,this),G=[G,this.__zoom.invert(G),B.identifier],q.touch0?!q.touch1&&q.touch0[2]!==G[2]&&(q.touch1=G,q.taps=0):(q.touch0=G,U=!0,q.taps=1+!!u);u&&(u=clearTimeout(u)),U&&(q.taps<2&&(d=G[0],u=setTimeout(function(){u=null},p)),GM(this),q.start())}}function I(M,...$){if(this.__zooming){var L=T(this,$).event(M),V=M.changedTouches,q=V.length,U,z,B,G;for(Tw(M),U=0;U<q;++U)z=V[U],B=Uc(z,this),L.touch0&&L.touch0[2]===z.identifier?L.touch0[0]=B:L.touch1&&L.touch1[2]===z.identifier&&(L.touch1[0]=B);if(z=L.that.__zoom,L.touch1){var Y=L.touch0[0],Q=L.touch0[1],K=L.touch1[0],te=L.touch1[1],ce=(ce=K[0]-Y[0])*ce+(ce=K[1]-Y[1])*ce,ie=(ie=te[0]-Q[0])*ie+(ie=te[1]-Q[1])*ie;z=S(z,Math.sqrt(ce/ie)),B=[(Y[0]+K[0])/2,(Y[1]+K[1])/2],G=[(Q[0]+te[0])/2,(Q[1]+te[1])/2]}else if(L.touch0)B=L.touch0[0],G=L.touch0[1];else return;L.zoom("touch",n(C(z,B,G),L.extent,s))}}function j(M,...$){if(this.__zooming){var L=T(this,$).event(M),V=M.changedTouches,q=V.length,U,z;for(QL(M),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),U=0;U<q;++U)z=V[U],L.touch0&&L.touch0[2]===z.identifier?delete L.touch0:L.touch1&&L.touch1[2]===z.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(z=Uc(z,this),Math.hypot(d[0]-z[0],d[1]-z[1])<v)){var B=Ka(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return b.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:kT(+M),b):r},b.filter=function(M){return arguments.length?(e=typeof M=="function"?M:kT(!!M),b):e},b.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:kT(!!M),b):i},b.extent=function(M){return arguments.length?(t=typeof M=="function"?M:kT([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),b):t},b.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],b):[o[0],o[1]]},b.translateExtent=function(M){return arguments.length?(s[0][0]=+M[0][0],s[1][0]=+M[1][0],s[0][1]=+M[0][1],s[1][1]=+M[1][1],b):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},b.constrain=function(M){return arguments.length?(n=M,b):n},b.duration=function(M){return arguments.length?(a=+M,b):a},b.interpolate=function(M){return arguments.length?(l=M,b):l},b.on=function(){var M=c.on.apply(c,arguments);return M===c?b:M},b.clickDistance=function(M){return arguments.length?(m=(M=+M)*M,b):Math.sqrt(m)},b.tapDistance=function(M){return arguments.length?(v=+M,b):v},b}const Cd={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Z_=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],g1e=["Enter"," ","Escape"];var P1;(function(e){e.Strict="strict",e.Loose="loose"})(P1||(P1={}));var y0;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(y0||(y0={}));var J_;(function(e){e.Partial="partial",e.Full="full"})(J_||(J_={}));const m1e={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var hh;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(hh||(hh={}));var TO;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(TO||(TO={}));var Vt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Vt||(Vt={}));const qie={[Vt.Left]:Vt.Right,[Vt.Right]:Vt.Left,[Vt.Top]:Vt.Bottom,[Vt.Bottom]:Vt.Top};function y1e(e){return e===null?null:e?"valid":"invalid"}const v1e=e=>"id"in e&&"source"in e&&"target"in e,Cbt=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),DH=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),x2=(e,t=[0,0])=>{const{width:n,height:r}=mp(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},_bt=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):DH(i)?i:t.nodeLookup.get(i.id));const a=s?MO(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return FI(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return NI(n)},S2=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=MO(r);n=FI(n,i)}}),NI(n)},b1e=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...w2(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:u,selectable:d=!0,hidden:f=!1}=c;if(s&&!d||f)continue;const p=u.width??c.width??c.initialWidth??null,g=u.height??c.height??c.initialHeight??null,m=eE(a,$1(c)),v=(p??0)*(g??0),b=o&&m>0;(!c.internals.handleBounds||b||m>=v||c.dragging)&&l.push(c)}return l},Ebt=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function kbt(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Rbt({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=kbt(e,s),l=S2(a),c=PH(l,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function x1e({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=s.origin??r;let d=i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Cd.error005());else{const p=a.measured.width,g=a.measured.height;p&&g&&(d=[[l,c],[l+p,c+g]])}else a&&F1(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+c],[s.extent[1][0]+l,s.extent[1][1]+c]]);const f=F1(d)?V0(t,d,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Cd.error015())),{position:{x:f.x-l+(s.measured.width??0)*u[0],y:f.y-c+(s.measured.height??0)*u[1]},positionAbsolute:f}}async function Tbt({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const p=o.has(f.id),g=!p&&f.parentId&&s.find(m=>m.id===f.parentId);(p||g)&&s.push(f)}const a=new Set(t.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=Ebt(s,l);for(const f of l)a.has(f.id)&&!u.find(g=>g.id===f.id)&&u.push(f);if(!i)return{edges:u,nodes:s};const d=await i({nodes:s,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:s}:{edges:[],nodes:[]}:d}const I1=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),V0=(e={x:0,y:0},t,n)=>({x:I1(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:I1(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function S1e(e,t,n){const{width:r,height:i}=mp(n),{x:o,y:s}=n.internals.positionAbsolute;return V0(e,[[o,s],[o+r,s+i]],t)}const Gie=(e,t,n)=>e<t?I1(Math.abs(e-t),1,t)/t:e>n?-I1(Math.abs(e-n),1,t)/t:0,w1e=(e,t,n=15,r=40)=>{const i=Gie(e.x,r,t.width-r)*n,o=Gie(e.y,r,t.height-r)*n;return[i,o]},FI=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),tB=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),NI=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$1=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=DH(e)?e.internals.positionAbsolute:x2(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},MO=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=DH(e)?e.internals.positionAbsolute:x2(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},C1e=(e,t)=>NI(FI(tB(e),tB(t))),eE=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Yie=e=>Jc(e.width)&&Jc(e.height)&&Jc(e.x)&&Jc(e.y),Jc=e=>!isNaN(e)&&isFinite(e),Mbt=(e,t)=>{},LI=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),w2=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?LI(a,s):a},AO=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Fv(e,t){if(typeof e=="number")return Math.floor(t-t/(1+e));if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Abt(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Fv(e,n),i=Fv(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Fv(e.top??e.y??0,n),i=Fv(e.bottom??e.y??0,n),o=Fv(e.left??e.x??0,t),s=Fv(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Obt(e,t,n,r,i,o){const{x:s,y:a}=AO(e,[t,n,r]),{x:l,y:c}=AO({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=i-l,d=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(d)}}const PH=(e,t,n,r,i,o)=>{const s=Abt(o,t,n),a=(t-s.x)/e.width,l=(n-s.y)/e.height,c=Math.min(a,l),u=I1(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,p=t/2-d*u,g=n/2-f*u,m=Obt(e,p,g,u,t,n),v={left:Math.min(m.left-s.left,0),top:Math.min(m.top-s.top,0),right:Math.min(m.right-s.right,0),bottom:Math.min(m.bottom-s.bottom,0)};return{x:p-v.left+v.right,y:g-v.top+v.bottom,zoom:u}},OO=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function F1(e){return e!==void 0&&e!=="parent"}function mp(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function _1e(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function E1e(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function Xie(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function e_(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Hf(e),a=w2({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?LI(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const IH=e=>({width:e.offsetWidth,height:e.offsetHeight}),k1e=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Dbt=["INPUT","SELECT","TEXTAREA"];function R1e(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Dbt.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const T1e=e=>"clientX"in e,Hf=(e,t)=>{var o,s;const n=T1e(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Kie=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...IH(s)}})};function M1e({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function RT(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Qie({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Vt.Left:return[t-RT(t-r,o),n];case Vt.Right:return[t+RT(r-t,o),n];case Vt.Top:return[t,n-RT(n-i,o)];case Vt.Bottom:return[t,n+RT(i-n,o)]}}function $H({sourceX:e,sourceY:t,sourcePosition:n=Vt.Bottom,targetX:r,targetY:i,targetPosition:o=Vt.Top,curvature:s=.25}){const[a,l]=Qie({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,u]=Qie({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,f,p,g]=M1e({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,d,f,p,g]}function A1e({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function Pbt({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(o?s:0)}function Ibt({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=FI(MO(e),MO(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return eE(s,NI(o))>0}const $bt=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Fbt=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Nbt=(e,t)=>{if(!e.source||!e.target)return t;let n;return v1e(e)?n={...e}:n={...e,id:$bt(e)},Fbt(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function O1e({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=A1e({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Zie={[Vt.Left]:{x:-1,y:0},[Vt.Right]:{x:1,y:0},[Vt.Top]:{x:0,y:-1},[Vt.Bottom]:{x:0,y:1}},Lbt=({source:e,sourcePosition:t=Vt.Bottom,target:n})=>t===Vt.Left||t===Vt.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Jie=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function jbt({source:e,sourcePosition:t=Vt.Bottom,target:n,targetPosition:r=Vt.Top,center:i,offset:o}){const s=Zie[t],a=Zie[r],l={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},u=Lbt({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let p=[],g,m;const v={x:0,y:0},b={x:0,y:0},[S,C,_,E]=A1e({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){g=i.x??S,m=i.y??C;const k=[{x:g,y:l.y},{x:g,y:c.y}],A=[{x:l.x,y:m},{x:c.x,y:m}];s[d]===f?p=d==="x"?k:A:p=d==="x"?A:k}else{const k=[{x:l.x,y:c.y}],A=[{x:c.x,y:l.y}];if(d==="x"?p=s.x===f?A:k:p=s.y===f?k:A,t===r){const j=Math.abs(e[d]-n[d]);if(j<=o){const M=Math.min(o-1,o-j);s[d]===f?v[d]=(l[d]>e[d]?-1:1)*M:b[d]=(c[d]>n[d]?-1:1)*M}}if(t!==r){const j=d==="x"?"y":"x",M=s[d]===a[j],$=l[j]>c[j],L=l[j]<c[j];(s[d]===1&&(!M&&$||M&&L)||s[d]!==1&&(!M&&L||M&&$))&&(p=d==="x"?k:A)}const P={x:l.x+v.x,y:l.y+v.y},D={x:c.x+b.x,y:c.y+b.y},F=Math.max(Math.abs(P.x-p[0].x),Math.abs(D.x-p[0].x)),I=Math.max(Math.abs(P.y-p[0].y),Math.abs(D.y-p[0].y));F>=I?(g=(P.x+D.x)/2,m=p[0].y):(g=p[0].x,m=(P.y+D.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...p,{x:c.x+b.x,y:c.y+b.y},n],g,m,_,E]}function zbt(e,t,n,r){const i=Math.min(Jie(e,t)/2,Jie(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function nB({sourceX:e,sourceY:t,sourcePosition:n=Vt.Bottom,targetX:r,targetY:i,targetPosition:o=Vt.Top,borderRadius:s=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,p,g]=jbt({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:c});return[u.reduce((v,b,S)=>{let C="";return S>0&&S<u.length-1?C=zbt(u[S-1],b,u[S+1],s):C=`${S===0?"M":"L"}${b.x} ${b.y}`,v+=C,v},""),d,f,p,g]}function eoe(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Bbt(e){var d;const{sourceNode:t,targetNode:n}=e;if(!eoe(t)||!eoe(n))return null;const r=t.internals.handleBounds||toe(t.handles),i=n.internals.handleBounds||toe(n.handles),o=noe((r==null?void 0:r.source)??[],e.sourceHandle),s=noe(e.connectionMode===P1.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(d=e.onError)==null||d.call(e,"008",Cd.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||Vt.Bottom,l=(s==null?void 0:s.position)||Vt.Top,c=tE(t,o,a),u=tE(n,s,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function toe(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function tE(e,t,n=Vt.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??mp(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case Vt.Top:return{x:i+s/2,y:o};case Vt.Right:return{x:i+s,y:o+a/2};case Vt.Bottom:return{x:i+s/2,y:o+a};case Vt.Left:return{x:i,y:o+a/2}}}function noe(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function rB(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Ubt(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=rB(l,t);o.has(c)||(s.push({id:c,color:l.color||n,...l}),o.add(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const FH={nodeOrigin:[0,0],nodeExtent:Z_,elevateNodesOnSelect:!0,defaults:{}},Hbt={...FH,checkEquality:!0};function NH(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Vbt(e,t,n){const r=NH(FH,n);for(const i of e.values())if(i.parentId)LH(i,e,t,r);else{const o=x2(i,r.nodeOrigin),s=F1(i.extent)?i.extent:r.nodeExtent,a=V0(o,s,mp(i));i.internals.positionAbsolute=a}}function iB(e,t,n,r){var l,c;const i=NH(Hbt,r);let o=!0;const s=new Map(t),a=i!=null&&i.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let d=s.get(u.id);if(i.checkEquality&&u===(d==null?void 0:d.internals.userNode))t.set(u.id,d);else{const f=x2(u,i.nodeOrigin),p=F1(u.extent)?u.extent:i.nodeExtent,g=V0(f,p,mp(u));d={...i.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:g,handleBounds:u.measured?d==null?void 0:d.internals.handleBounds:void 0,z:D1e(u,a),userNode:u}},t.set(u.id,d)}(!d.measured||!d.measured.width||!d.measured.height)&&!d.hidden&&(o=!1),u.parentId&&LH(d,t,n,r)}return o}function Wbt(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function LH(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=NH(FH,r),a=e.parentId,l=t.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Wbt(e,n);const c=i?1e3:0,{x:u,y:d,z:f}=qbt(e,l,o,s,c),{positionAbsolute:p}=e.internals,g=u!==p.x||d!==p.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:d}:p,z:f}})}function D1e(e,t){return(Jc(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function qbt(e,t,n,r,i){const{x:o,y:s}=t.internals.positionAbsolute,a=mp(e),l=x2(e,n),c=F1(e.extent)?V0(l,e.extent,a):l;let u=V0({x:o+c.x,y:s+c.y},r,a);e.extent==="parent"&&(u=S1e(u,a,t));const d=D1e(e,i),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}function jH(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const c=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??$1(l),u=C1e(c,a.rect);o.set(a.parentId,{expandedRect:u,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},c)=>{var C;const u=l.internals.positionAbsolute,d=mp(l),f=l.origin??r,p=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,g=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,m=Math.max(d.width,Math.round(a.width)),v=Math.max(d.height,Math.round(a.height)),b=(m-d.width)*f[0],S=(v-d.height)*f[1];(p>0||g>0||b||S)&&(i.push({id:c,type:"position",position:{x:l.position.x-p+b,y:l.position.y-g+S}}),(C=n.get(c))==null||C.forEach(_=>{e.some(E=>E.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+p,y:_.position.y+g}})})),(d.width<a.width||d.height<a.height||p||g)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:m+(p?f[0]*p-b:0),height:v+(g?f[1]*g-S:0)}})}),i}function Gbt(e,t,n,r,i,o){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of e.values()){const p=t.get(f.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const g=IH(f.nodeElement),m=p.measured.width!==g.width||p.measured.height!==g.height;if(!!(g.width&&g.height&&(m||!p.internals.handleBounds||f.force))){const b=f.nodeElement.getBoundingClientRect(),S=F1(p.extent)?p.extent:o;let{positionAbsolute:C}=p.internals;p.parentId&&p.extent==="parent"?C=S1e(C,g,t.get(p.parentId)):S&&(C=V0(C,S,g));const _={...p,measured:g,internals:{...p.internals,positionAbsolute:C,handleBounds:{source:Kie("source",f.nodeElement,b,u,p.id),target:Kie("target",f.nodeElement,b,u,p.id)}}};t.set(p.id,_),p.parentId&&LH(_,t,n,{nodeOrigin:i}),a=!0,m&&(l.push({id:p.id,type:"dimensions",dimensions:g}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:$1(_,i)}))}}if(d.length>0){const f=jH(d,t,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function Ybt({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function roe(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function P1e(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c=`${i}-${s}--${o}-${a}`,u=`${o}-${a}--${i}-${s}`;roe("source",l,u,e,i,s),roe("target",l,c,e,o,a),t.set(r.id,r)}}function I1e(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:I1e(n,t):!1}function ioe(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Xbt(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!I1e(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function ZL({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[c,u]of t){const d=(s=n.get(c))==null?void 0:s.internals.userNode;d&&i.push({...d,position:u.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Kbt({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,p=!1;function g({noDragClassName:v,handleSelector:b,domNode:S,isSelectable:C,nodeId:_,nodeClickDistance:E=0}){f=Ka(S);function T({x:D,y:F},I){const{nodeLookup:j,nodeExtent:M,snapGrid:$,snapToGrid:L,nodeOrigin:V,onNodeDrag:q,onSelectionDrag:U,onError:z,updateNodePositions:B}=t();o={x:D,y:F};let G=!1,Y={x:0,y:0,x2:0,y2:0};if(a.size>1&&M){const Q=S2(a);Y=tB(Q)}for(const[Q,K]of a){if(!j.has(Q))continue;let te={x:D-K.distance.x,y:F-K.distance.y};L&&(te=LI(te,$));let ce=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];if(a.size>1&&M&&!K.extent){const{positionAbsolute:he}=K.internals,fe=he.x-Y.x+M[0][0],ne=he.x+K.measured.width-Y.x2+M[1][0],pe=he.y-Y.y+M[0][1],W=he.y+K.measured.height-Y.y2+M[1][1];ce=[[fe,pe],[ne,W]]}const{position:ie,positionAbsolute:re}=x1e({nodeId:Q,nextPosition:te,nodeLookup:j,nodeExtent:ce,nodeOrigin:V,onError:z});G=G||K.position.x!==ie.x||K.position.y!==ie.y,K.position=ie,K.internals.positionAbsolute=re}if(G&&(B(a,!0),I&&(r||q||!_&&U))){const[Q,K]=ZL({nodeId:_,dragItems:a,nodeLookup:j});r==null||r(I,a,Q,K),q==null||q(I,Q,K),_||U==null||U(I,K)}}async function k(){if(!u)return;const{transform:D,panBy:F,autoPanSpeed:I,autoPanOnNodeDrag:j}=t();if(!j){l=!1,cancelAnimationFrame(s);return}const[M,$]=w1e(c,u,I);(M!==0||$!==0)&&(o.x=(o.x??0)-M/D[2],o.y=(o.y??0)-$/D[2],await F({x:M,y:$})&&T(o,null)),s=requestAnimationFrame(k)}function A(D){var G;const{nodeLookup:F,multiSelectionActive:I,nodesDraggable:j,transform:M,snapGrid:$,snapToGrid:L,selectNodesOnDrag:V,onNodeDragStart:q,onSelectionDragStart:U,unselectNodesAndEdges:z}=t();d=!0,(!V||!C)&&!I&&_&&((G=F.get(_))!=null&&G.selected||z()),C&&V&&_&&(e==null||e(_));const B=e_(D.sourceEvent,{transform:M,snapGrid:$,snapToGrid:L,containerBounds:u});if(o=B,a=Xbt(F,j,B,_),a.size>0&&(n||q||!_&&U)){const[Y,Q]=ZL({nodeId:_,dragItems:a,nodeLookup:F});n==null||n(D.sourceEvent,a,Y,Q),q==null||q(D.sourceEvent,Y,Q),_||U==null||U(D.sourceEvent,Q)}}const P=Obe().clickDistance(E).on("start",D=>{const{domNode:F,nodeDragThreshold:I,transform:j,snapGrid:M,snapToGrid:$}=t();u=(F==null?void 0:F.getBoundingClientRect())||null,p=!1,I===0&&A(D),o=e_(D.sourceEvent,{transform:j,snapGrid:M,snapToGrid:$,containerBounds:u}),c=Hf(D.sourceEvent,u)}).on("drag",D=>{const{autoPanOnNodeDrag:F,transform:I,snapGrid:j,snapToGrid:M,nodeDragThreshold:$,nodeLookup:L}=t(),V=e_(D.sourceEvent,{transform:I,snapGrid:j,snapToGrid:M,containerBounds:u});if((D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||_&&!L.has(_))&&(p=!0),!p){if(!l&&F&&d&&(l=!0,k()),!d){const q=V.xSnapped-(o.x??0),U=V.ySnapped-(o.y??0);Math.sqrt(q*q+U*U)>$&&A(D)}(o.x!==V.xSnapped||o.y!==V.ySnapped)&&a&&d&&(c=Hf(D.sourceEvent,u),T(V,D.sourceEvent))}}).on("end",D=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:F,updateNodePositions:I,onNodeDragStop:j,onSelectionDragStop:M}=t();if(I(a,!1),i||j||!_&&M){const[$,L]=ZL({nodeId:_,dragItems:a,nodeLookup:F,dragging:!1});i==null||i(D.sourceEvent,a,$,L),j==null||j(D.sourceEvent,$,L),_||M==null||M(D.sourceEvent,L)}}}).filter(D=>{const F=D.target;return!D.button&&(!v||!ioe(F,`.${v}`,S))&&(!b||ioe(F,b,S))});f.call(P)}function m(){f==null||f.on(".drag",null)}return{update:g,destroy:m}}function Qbt(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())eE(i,$1(o))>0&&r.push(o);return r}const Zbt=250;function Jbt(e,t,n,r){var a,l;let i=[],o=1/0;const s=Qbt(e,n,t+Zbt);for(const c of s){const u=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:p}=tE(c,d,d.position,!0),g=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(p-e.y,2));g>t||(g<o?(i=[{...d,x:f,y:p}],o=g):g===o&&i.push({...d,x:f,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function $1e(e,t,n,r,i,o=!1){var c,u,d;const s=r.get(e);if(!s)return null;const a=i==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...((u=s.internals.handleBounds)==null?void 0:u.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...tE(s,l,l.position,!0)}:l}function F1e(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function e1t(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const N1e=()=>!0;function t1t(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:p,onConnectStart:g,onConnect:m,onConnectEnd:v,isValidConnection:b=N1e,onReconnectEnd:S,updateConnection:C,getTransform:_,getFromHandle:E,autoPanSpeed:T}){const k=k1e(e.target);let A=0,P;const{x:D,y:F}=Hf(e),I=k==null?void 0:k.elementFromPoint(D,F),j=F1e(o,I),M=a==null?void 0:a.getBoundingClientRect();if(!M||!j)return;const $=$1e(i,j,r,l,t);if(!$)return;let L=Hf(e,M),V=!1,q=null,U=!1,z=null;function B(){if(!u||!M)return;const[re,he]=w1e(L,M,T);f({x:re,y:he}),A=requestAnimationFrame(B)}const G={...$,nodeId:i,type:j,position:$.position},Y=l.get(i),K={inProgress:!0,isValid:null,from:tE(Y,G,Vt.Left,!0),fromHandle:G,fromPosition:G.position,fromNode:Y,to:L,toHandle:null,toPosition:qie[G.position],toNode:null};C(K);let te=K;g==null||g(e,{nodeId:i,handleId:r,handleType:j});function ce(re){if(!E()||!G){ie(re);return}const he=_();L=Hf(re,M),P=Jbt(w2(L,he,!1,[1,1]),n,l,G),V||(B(),V=!0);const fe=L1e(re,{handle:P,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:b,doc:k,lib:c,flowId:d,nodeLookup:l});z=fe.handleDomNode,q=fe.connection,U=e1t(!!P,fe.isValid);const ne={...te,isValid:U,to:P&&U?AO({x:P.x,y:P.y},he):L,toHandle:fe.toHandle,toPosition:U&&fe.toHandle?fe.toHandle.position:qie[G.position],toNode:fe.toHandle?l.get(fe.toHandle.nodeId):null};U&&P&&te.toHandle&&ne.toHandle&&te.toHandle.type===ne.toHandle.type&&te.toHandle.nodeId===ne.toHandle.nodeId&&te.toHandle.id===ne.toHandle.id&&te.to.x===ne.to.x&&te.to.y===ne.to.y||(C(ne),te=ne)}function ie(re){(P||z)&&q&&U&&(m==null||m(q));const{inProgress:he,...fe}=te,ne={...fe,toPosition:te.toHandle?te.toPosition:null};v==null||v(re,ne),o&&(S==null||S(re,ne)),p(),cancelAnimationFrame(A),V=!1,U=!1,q=null,z=null,k.removeEventListener("mousemove",ce),k.removeEventListener("mouseup",ie),k.removeEventListener("touchmove",ce),k.removeEventListener("touchend",ie)}k.addEventListener("mousemove",ce),k.addEventListener("mouseup",ie),k.addEventListener("touchmove",ce),k.addEventListener("touchend",ie)}function L1e(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:c=N1e,nodeLookup:u}){const d=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y:g}=Hf(e),m=s.elementFromPoint(p,g),v=m!=null&&m.classList.contains(`${a}-flow__handle`)?m:f,b={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const S=F1e(void 0,v),C=v.getAttribute("data-nodeid"),_=v.getAttribute("data-handleid"),E=v.classList.contains("connectable"),T=v.classList.contains("connectableend");if(!C||!S)return b;const k={source:d?C:r,sourceHandle:d?_:i,target:d?r:C,targetHandle:d?i:_};b.connection=k;const P=E&&T&&(n===P1.Strict?d&&S==="source"||!d&&S==="target":C!==r||_!==i);b.isValid=P&&c(k),b.toHandle=$1e(C,S,_,u,n,!1)}return b}const oB={onPointerDown:t1t,isValid:L1e};function n1t({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Ka(e);function o({translateExtent:a,width:l,height:c,zoomStep:u=10,pannable:d=!0,zoomable:f=!0,inversePan:p=!1}){const g=C=>{const _=n();if(C.sourceEvent.type!=="wheel"||!t)return;const E=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*u,T=_[2]*Math.pow(2,E);t.scaleTo(T)};let m=[0,0];const v=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(m=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},b=C=>{const _=n();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!t)return;const E=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],T=[E[0]-m[0],E[1]-m[1]];m=E;const k=r()*Math.max(_[2],Math.log(_[2]))*(p?-1:1),A={x:_[0]-T[0]*k,y:_[1]-T[1]*k},P=[[0,0],[l,c]];t.setViewportConstrained({x:A.x,y:A.y,zoom:_[2]},P,a)},S=h1e().on("start",v).on("zoom",d?b:null).on("zoom.wheel",f?g:null);i.call(S,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:Uc}}const r1t=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,jI=e=>({x:e.x,y:e.y,zoom:e.k}),JL=({x:e,y:t,zoom:n})=>$I.translate(e,t).scale(n),hb=(e,t)=>e.target.closest(`.${t}`),j1e=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),e4=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},z1e=e=>{const t=e.ctrlKey&&OO()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function i1t({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(hb(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&s){const v=Uc(u),b=z1e(u),S=d*Math.pow(2,b);r.scaleTo(n,S,v,u);return}const f=u.deltaMode===1?20:1;let p=i===y0.Vertical?0:u.deltaX*f,g=i===y0.Horizontal?0:u.deltaY*f;!OO()&&u.shiftKey&&i!==y0.Vertical&&(p=u.deltaY*f,g=0),r.translateBy(n,-(p/d)*o,-(g/d)*o,{internal:!0});const m=jI(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(u,m)),e.isPanScrolling&&(l==null||l(u,m),e.panScrollTimeout=setTimeout(()=>{c==null||c(u,m),e.isPanScrolling=!1},150))}}function o1t({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=hb(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function s1t({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=jI(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function a1t({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&j1e(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,jI(o.transform)))}}function l1t({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&j1e(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&r1t(e.prevViewport,s.transform))){const l=jI(s.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},n?150:0)}}}function c1t({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{var g;const d=e||t,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(hb(u,`${c}-flow__node`)||hb(u,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||hb(u,a)&&u.type==="wheel"||hb(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((g=u.touches)==null?void 0:g.length)>1)return u.preventDefault(),!1;if(!d&&!i&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&p}}function u1t({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=h1e().clickDistance(!Jc(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),p=Ka(e).call(f);C({x:o.x,y:o.y,zoom:I1(o.zoom,t,n)},[[0,0],[d.width,d.height]],i);const g=p.on("wheel.zoom"),m=p.on("dblclick.zoom");f.wheelDelta(z1e);function v(I,j){return p?new Promise(M=>{f==null||f.transform(e4(p,j==null?void 0:j.duration,()=>M(!0)),I)}):Promise.resolve(!1)}function b({noWheelClassName:I,noPanClassName:j,onPaneContextMenu:M,userSelectionActive:$,panOnScroll:L,panOnDrag:V,panOnScrollMode:q,panOnScrollSpeed:U,preventScrolling:z,zoomOnPinch:B,zoomOnScroll:G,zoomOnDoubleClick:Y,zoomActivationKeyPressed:Q,lib:K,onTransformChange:te}){$&&!u.isZoomingOrPanning&&S();const ie=L&&!Q&&!$?i1t({zoomPanValues:u,noWheelClassName:I,d3Selection:p,d3Zoom:f,panOnScrollMode:q,panOnScrollSpeed:U,zoomOnPinch:B,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):o1t({noWheelClassName:I,preventScrolling:z,d3ZoomHandler:g});if(p.on("wheel.zoom",ie,{passive:!1}),!$){const he=s1t({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",he);const fe=a1t({zoomPanValues:u,panOnDrag:V,onPaneContextMenu:!!M,onPanZoom:s,onTransformChange:te});f.on("zoom",fe);const ne=l1t({zoomPanValues:u,panOnDrag:V,panOnScroll:L,onPaneContextMenu:M,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ne)}const re=c1t({zoomActivationKeyPressed:Q,panOnDrag:V,zoomOnScroll:G,panOnScroll:L,zoomOnDoubleClick:Y,zoomOnPinch:B,userSelectionActive:$,noPanClassName:j,noWheelClassName:I,lib:K});f.filter(re),Y?p.on("dblclick.zoom",m):p.on("dblclick.zoom",null)}function S(){f.on("zoom",null)}async function C(I,j,M){const $=JL(I),L=f==null?void 0:f.constrain()($,j,M);return L&&await v(L),new Promise(V=>V(L))}async function _(I,j){const M=JL(I);return await v(M,j),new Promise($=>$(M))}function E(I){if(p){const j=JL(I),M=p.property("__zoom");(M.k!==I.zoom||M.x!==I.x||M.y!==I.y)&&(f==null||f.transform(p,j,null,{sync:!0}))}}function T(){const I=p?p1e(p.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function k(I,j){return p?new Promise(M=>{f==null||f.scaleTo(e4(p,j==null?void 0:j.duration,()=>M(!0)),I)}):Promise.resolve(!1)}function A(I,j){return p?new Promise(M=>{f==null||f.scaleBy(e4(p,j==null?void 0:j.duration,()=>M(!0)),I)}):Promise.resolve(!1)}function P(I){f==null||f.scaleExtent(I)}function D(I){f==null||f.translateExtent(I)}function F(I){const j=!Jc(I)||I<0?0:I;f==null||f.clickDistance(j)}return{update:b,destroy:S,setViewport:_,setViewportConstrained:C,getViewport:T,scaleTo:k,scaleBy:A,setScaleExtent:P,setTranslateExtent:D,syncViewport:E,setClickDistance:F}}var t_;(function(e){e.Line="line",e.Handle="handle"})(t_||(t_={}));function d1t({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function f1t(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Zp(e,t){return Math.max(0,t-e)}function Jp(e,t){return Math.max(0,e-t)}function TT(e,t,n){return Math.max(0,t-e,e-n)}function ooe(e,t){return e?!t:t}function p1t(e,t,n,r,i,o,s,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:d}=t,f=u&&d,{xSnapped:p,ySnapped:g}=n,{minWidth:m,maxWidth:v,minHeight:b,maxHeight:S}=r,{x:C,y:_,width:E,height:T,aspectRatio:k}=e;let A=Math.floor(u?p-e.pointerX:0),P=Math.floor(d?g-e.pointerY:0);const D=E+(l?-A:A),F=T+(c?-P:P),I=-o[0]*E,j=-o[1]*T;let M=TT(D,m,v),$=TT(F,b,S);if(s){let q=0,U=0;l&&A<0?q=Zp(C+A+I,s[0][0]):!l&&A>0&&(q=Jp(C+D+I,s[1][0])),c&&P<0?U=Zp(_+P+j,s[0][1]):!c&&P>0&&(U=Jp(_+F+j,s[1][1])),M=Math.max(M,q),$=Math.max($,U)}if(a){let q=0,U=0;l&&A>0?q=Jp(C+A,a[0][0]):!l&&A<0&&(q=Zp(C+D,a[1][0])),c&&P>0?U=Jp(_+P,a[0][1]):!c&&P<0&&(U=Zp(_+F,a[1][1])),M=Math.max(M,q),$=Math.max($,U)}if(i){if(u){const q=TT(D/k,b,S)*k;if(M=Math.max(M,q),s){let U=0;!l&&!c||l&&!c&&f?U=Jp(_+j+D/k,s[1][1])*k:U=Zp(_+j+(l?A:-A)/k,s[0][1])*k,M=Math.max(M,U)}if(a){let U=0;!l&&!c||l&&!c&&f?U=Zp(_+D/k,a[1][1])*k:U=Jp(_+(l?A:-A)/k,a[0][1])*k,M=Math.max(M,U)}}if(d){const q=TT(F*k,m,v)/k;if($=Math.max($,q),s){let U=0;!l&&!c||c&&!l&&f?U=Jp(C+F*k+I,s[1][0])/k:U=Zp(C+(c?P:-P)*k+I,s[0][0])/k,$=Math.max($,U)}if(a){let U=0;!l&&!c||c&&!l&&f?U=Zp(C+F*k,a[1][0])/k:U=Jp(C+(c?P:-P)*k,a[0][0])/k,$=Math.max($,U)}}}P=P+(P<0?$:-$),A=A+(A<0?M:-M),i&&(f?D>F*k?P=(ooe(l,c)?-A:A)/k:A=(ooe(l,c)?-P:P)*k:u?(P=A/k,c=l):(A=P*k,l=c));const L=l?C+A:C,V=c?_+P:_;return{width:E+(l?-A:A),height:T+(c?-P:P),x:o[0]*A*(l?-1:1)+L,y:o[1]*P*(c?-1:1)+V}}const B1e={width:0,height:0,x:0,y:0},h1t={...B1e,pointerX:0,pointerY:0,aspectRatio:1};function g1t(e){return[[0,0],[e.measured.width,e.measured.height]]}function m1t(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function y1t({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Ka(e);function s({controlPosition:l,boundaries:c,keepAspectRatio:u,onResizeStart:d,onResize:f,onResizeEnd:p,shouldResize:g}){let m={...B1e},v={...h1t};const b=f1t(l);let S,C=null,_=[],E,T,k;const A=Obe().on("start",P=>{const{nodeLookup:D,transform:F,snapGrid:I,snapToGrid:j,nodeOrigin:M,paneDomNode:$}=n();if(S=D.get(t),!S)return;C=($==null?void 0:$.getBoundingClientRect())??null;const{xSnapped:L,ySnapped:V}=e_(P.sourceEvent,{transform:F,snapGrid:I,snapToGrid:j,containerBounds:C});m={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},v={...m,pointerX:L,pointerY:V,aspectRatio:m.width/m.height},E=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(E=D.get(S.parentId),T=E&&S.extent==="parent"?g1t(E):void 0),_=[],k=void 0;for(const[q,U]of D)if(U.parentId===t&&(_.push({id:q,position:{...U.position},extent:U.extent}),U.extent==="parent"||U.expandParent)){const z=m1t(U,S,U.origin??M);k?k=[[Math.min(z[0][0],k[0][0]),Math.min(z[0][1],k[0][1])],[Math.max(z[1][0],k[1][0]),Math.max(z[1][1],k[1][1])]]:k=z}d==null||d(P,{...m})}).on("drag",P=>{const{transform:D,snapGrid:F,snapToGrid:I,nodeOrigin:j}=n(),M=e_(P.sourceEvent,{transform:D,snapGrid:F,snapToGrid:I,containerBounds:C}),$=[];if(!S)return;const{x:L,y:V,width:q,height:U}=m,z={},B=S.origin??j,{width:G,height:Y,x:Q,y:K}=p1t(v,b,M,c,u,B,T,k),te=G!==q,ce=Y!==U,ie=Q!==L&&te,re=K!==V&&ce;if(!ie&&!re&&!te&&!ce)return;if((ie||re||B[0]===1||B[1]===1)&&(z.x=ie?Q:m.x,z.y=re?K:m.y,m.x=z.x,m.y=z.y,_.length>0)){const pe=Q-L,W=K-V;for(const se of _)se.position={x:se.position.x-pe+B[0]*(G-q),y:se.position.y-W+B[1]*(Y-U)},$.push(se)}if((te||ce)&&(z.width=te?G:m.width,z.height=ce?Y:m.height,m.width=z.width,m.height=z.height),E&&S.expandParent){const pe=B[0]*(z.width??0);z.x&&z.x<pe&&(m.x=pe,v.x=v.x-(z.x-pe));const W=B[1]*(z.height??0);z.y&&z.y<W&&(m.y=W,v.y=v.y-(z.y-W))}const he=d1t({width:m.width,prevWidth:q,height:m.height,prevHeight:U,affectsX:b.affectsX,affectsY:b.affectsY}),fe={...m,direction:he};(g==null?void 0:g(P,fe))!==!1&&(f==null||f(P,fe),r(z,$))}).on("end",P=>{p==null||p(P,{...m}),i==null||i({...m})});o.call(A)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}var t4={exports:{}},n4={},r4={exports:{}},i4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var soe;function v1t(){if(soe)return i4;soe=1;var e=mu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(d,f){var p=f(),g=r({inst:{value:p,getSnapshot:f}}),m=g[0].inst,v=g[1];return o(function(){m.value=p,m.getSnapshot=f,l(m)&&v({inst:m})},[d,p,f]),i(function(){return l(m)&&v({inst:m}),d(function(){l(m)&&v({inst:m})})},[d]),s(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return i4.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,i4}var aoe;function b1t(){return aoe||(aoe=1,r4.exports=v1t()),r4.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var loe;function x1t(){if(loe)return n4;loe=1;var e=mu(),t=b1t();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,a=e.useMemo,l=e.useDebugValue;return n4.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var g=o(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function b(T){if(!S){if(S=!0,C=T,T=f(T),p!==void 0&&m.hasValue){var k=m.value;if(p(k,T))return _=k}return _=T}if(k=_,r(C,T))return k;var A=f(T);return p!==void 0&&p(k,A)?k:(C=T,_=A)}var S=!1,C,_,E=d===void 0?null:d;return[function(){return b(u())},E===null?void 0:function(){return b(E())}]},[u,d,f,p]);var v=i(c,g[0],g[1]);return s(function(){m.hasValue=!0,m.value=v},[v]),l(v),v},n4}var coe;function S1t(){return coe||(coe=1,t4.exports=x1t()),t4.exports}var w1t=S1t();const C1t=kg(w1t),_1t={},uoe=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(_1t?"matrix":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},E1t=e=>e?uoe(e):uoe,{useDebugValue:k1t}=hn,{useSyncExternalStoreWithSelector:R1t}=C1t,T1t=e=>e;function U1e(e,t=T1t,n){const r=R1t(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return k1t(r),r}const doe=(e,t)=>{const n=E1t(e),r=(i,o=t)=>U1e(n,i,o);return Object.assign(r,n),r},M1t=(e,t)=>e?doe(e,t):doe;function Di(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const zI=O.createContext(null),A1t=zI.Provider,H1e=Cd.error001();function ar(e,t){const n=O.useContext(zI);if(n===null)throw new Error(H1e);return U1e(n,e,t)}function ui(){const e=O.useContext(zI);if(e===null)throw new Error(H1e);return O.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const foe={display:"none"},O1t={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},V1e="react-flow__node-desc",W1e="react-flow__edge-desc",D1t="react-flow__aria-live",P1t=e=>e.ariaLiveMessage;function I1t({rfId:e}){const t=ar(P1t);return x.jsx("div",{id:`${D1t}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:O1t,children:t})}function $1t({rfId:e,disableKeyboardA11y:t}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{id:`${V1e}-${e}`,style:foe,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),x.jsx("div",{id:`${W1e}-${e}`,style:foe,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&x.jsx(I1t,{rfId:e})]})}const F1t=e=>e.userSelectionActive?"none":"all",BI=O.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=ar(F1t),a=`${e}`.split("-");return x.jsx("div",{className:Qi(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:o,...i,children:t})});BI.displayName="Panel";function N1t({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:x.jsx(BI,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:x.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const L1t=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},MT=e=>e.id;function j1t(e,t){return Di(e.selectedNodes.map(MT),t.selectedNodes.map(MT))&&Di(e.selectedEdges.map(MT),t.selectedEdges.map(MT))}function z1t({onSelectionChange:e}){const t=ui(),{selectedNodes:n,selectedEdges:r}=ar(L1t,j1t);return O.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const B1t=e=>!!e.onSelectionChangeHandlers;function U1t({onSelectionChange:e}){const t=ar(B1t);return e||t?x.jsx(z1t,{onSelectionChange:e}):null}const q1e=[0,0],H1t={x:0,y:0,zoom:1},V1t=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],poe=[...V1t,"rfId"],W1t=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),hoe={translateExtent:Z_,nodeOrigin:q1e,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function q1t(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=ar(W1t,Di),u=ui();O.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{d.current=hoe,a()}),[]);const d=O.useRef(hoe);return O.useEffect(()=>{for(const f of poe){const p=e[f],g=d.current[f];p!==g&&(typeof e[f]>"u"||(f==="nodes"?t(p):f==="edges"?n(p):f==="minZoom"?r(p):f==="maxZoom"?i(p):f==="translateExtent"?o(p):f==="nodeExtent"?s(p):f==="paneClickDistance"?c(p):f==="fitView"?u.setState({fitViewQueued:p}):f==="fitViewOptions"?u.setState({fitViewOptions:p}):u.setState({[f]:p})))}d.current=e},poe.map(f=>e[f])),null}function goe(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function G1t(e){var r;const[t,n]=O.useState(e==="system"?null:e);return O.useEffect(()=>{if(e!=="system"){n(e);return}const i=goe(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=goe())!=null&&r.matches?"dark":"light"}const moe=typeof document<"u"?document:null;function nE(e=null,t={target:moe,actInsideInputWithModifier:!0}){const[n,r]=O.useState(!1),i=O.useRef(!1),o=O.useRef(new Set([])),[s,a]=O.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((d,f)=>d.concat(...f),[]);return[c,u]}return[[],[]]},[e]);return O.useEffect(()=>{const l=(t==null?void 0:t.target)||moe;if(e!==null){const c=f=>{var m,v;if(i.current=f.ctrlKey||f.metaKey||f.shiftKey||f.altKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&R1e(f))return!1;const g=voe(f.code,a);if(o.current.add(f[g]),yoe(s,o.current,!1)){const b=((v=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:v[0])||f.target,S=(b==null?void 0:b.nodeName)==="BUTTON"||(b==null?void 0:b.nodeName)==="A";t.preventDefault!==!1&&(i.current||!S)&&f.preventDefault(),r(!0)}},u=f=>{const p=voe(f.code,a);yoe(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(f[p]),f.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function yoe(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function voe(e,t){return t.includes(e)?"code":"key"}const Y1t=()=>{const e=ui();return O.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:i,height:o,maxZoom:s,panZoom:a}=e.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,c=i/2-t*l,u=o/2-n*l;return a?(await a.setViewport({x:c,y:u,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),l=PH(t,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:l}=s.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},u=n.snapGrid??i,d=n.snapToGrid??o;return w2(c,r,d,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=AO(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function G1e(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)X1t(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function X1t(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Y1e(e,t){return G1e(e,t)}function X1e(e,t){return G1e(e,t)}function Dm(e,t){return{id:e,type:"select",selected:t}}function gb(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(Dm(o.id,s)))}return r}function boe({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const a=t.get(s.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function xoe(e){return{id:e.id,type:"remove"}}const Soe=e=>Cbt(e),K1t=e=>v1e(e);function K1e(e){return O.forwardRef(e)}const Q1t=typeof window<"u"?O.useLayoutEffect:O.useEffect;function woe(e){const[t,n]=O.useState(BigInt(0)),[r]=O.useState(()=>Z1t(()=>n(i=>i+BigInt(1))));return Q1t(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function Z1t(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Q1e=O.createContext(null);function J1t({children:e}){const t=ui(),n=O.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:d,nodeLookup:f,fitViewQueued:p}=t.getState();let g=l;for(const m of a)g=typeof m=="function"?m(g):m;if(u)c(g);else{const m=boe({items:g,lookup:f});m.length>0?d==null||d(m):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:v,nodes:b,setNodes:S}=t.getState();v&&S(b)})}},[]),r=woe(n),i=O.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:d,edgeLookup:f}=t.getState();let p=l;for(const g of a)p=typeof g=="function"?g(p):g;u?c(p):d&&d(boe({items:p,lookup:f}))},[]),o=woe(i),s=O.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return x.jsx(Q1e.Provider,{value:s,children:e})}function ext(){const e=O.useContext(Q1e);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const txt=e=>!!e.panZoom;function zH(){const e=Y1t(),t=ui(),n=ext(),r=ar(txt),i=O.useMemo(()=>{const o=d=>t.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var b,S;const{nodeLookup:f,nodeOrigin:p}=t.getState(),g=Soe(d)?d:f.get(d.id),m=g.parentId?E1e(g.position,g.measured,g.parentId,f,p):g.position,v={...g,position:m,width:((b=g.measured)==null?void 0:b.width)??g.width,height:((S=g.measured)==null?void 0:S.height)??g.height};return $1(v)},c=(d,f,p={replace:!1})=>{s(g=>g.map(m=>{if(m.id===d){const v=typeof f=="function"?f(m):f;return p.replace&&Soe(v)?v:{...m,...v}}return m}))},u=(d,f,p={replace:!1})=>{a(g=>g.map(m=>{if(m.id===d){const v=typeof f=="function"?f(m):f;return p.replace&&K1t(v)?v:{...m,...v}}return m}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var f;return(f=o(d))==null?void 0:f.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(f=>({...f}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:s,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:p}=t.getState(),[g,m,v]=p;return{nodes:d.map(b=>({...b})),edges:f.map(b=>({...b})),viewport:{x:g,y:m,zoom:v}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:p,edges:g,onNodesDelete:m,onEdgesDelete:v,triggerNodeChanges:b,triggerEdgeChanges:S,onDelete:C,onBeforeDelete:_}=t.getState(),{nodes:E,edges:T}=await Tbt({nodesToRemove:d,edgesToRemove:f,nodes:p,edges:g,onBeforeDelete:_}),k=T.length>0,A=E.length>0;if(k){const P=T.map(xoe);v==null||v(T),S(P)}if(A){const P=E.map(xoe);m==null||m(E),b(P)}return(A||k)&&(C==null||C({nodes:E,edges:T})),{deletedNodes:E,deletedEdges:T}},getIntersectingNodes:(d,f=!0,p)=>{const g=Yie(d),m=g?d:l(d),v=p!==void 0;return m?(p||t.getState().nodes).filter(b=>{const S=t.getState().nodeLookup.get(b.id);if(S&&!g&&(b.id===d.id||!S.internals.positionAbsolute))return!1;const C=$1(v?b:S),_=eE(C,m);return f&&_>0||_>=m.width*m.height}):[]},isNodeIntersecting:(d,f,p=!0)=>{const m=Yie(d)?d:l(d);if(!m)return!1;const v=eE(m,f);return p&&v>0||v>=m.width*m.height},updateNode:c,updateNodeData:(d,f,p={replace:!1})=>{c(d,g=>{const m=typeof f=="function"?f(g):f;return p.replace?{...g,data:m}:{...g,data:{...g.data,...m}}},p)},updateEdge:u,updateEdgeData:(d,f,p={replace:!1})=>{u(d,g=>{const m=typeof f=="function"?f(g):f;return p.replace?{...g,data:m}:{...g,data:{...g.data,...m}}},p)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:p}=t.getState();return _bt(d,{nodeLookup:f,nodeOrigin:p})},getHandleConnections:({type:d,id:f,nodeId:p})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${p}-${d}${f?`-${f}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:d,handleId:f,nodeId:p})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${p}${d?f?`-${d}-${f}`:`-${d}`:""}`))==null?void 0:g.values())??[])},fitView:async d=>{const f=t.getState().fitViewResolver??Promise.withResolvers();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),n.nodeQueue.push(p=>[...p]),f.promise}}},[]);return O.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Coe=e=>e.selected,nxt={actInsideInputWithModifier:!1},rxt=typeof window<"u"?window:void 0;function ixt({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ui(),{deleteElements:r}=zH(),i=nE(e,nxt),o=nE(t,{target:rxt});O.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(Coe),edges:s.filter(Coe)}),n.setState({nodesSelectionActive:!1})}},[i]),O.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function oxt(e){const t=ui();O.useEffect(()=>{const n=()=>{var i,o;if(!e.current)return!1;const r=IH(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Cd.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const UI={position:"absolute",width:"100%",height:"100%",top:0,left:0},sxt=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function axt({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=y0.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:p=!0,children:g,noWheelClassName:m,noPanClassName:v,onViewportChange:b,isControlledViewport:S,paneClickDistance:C}){const _=ui(),E=O.useRef(null),{userSelectionActive:T,lib:k}=ar(sxt,Di),A=nE(f),P=O.useRef();oxt(E);const D=O.useCallback(F=>{b==null||b({x:F[0],y:F[1],zoom:F[2]}),S||_.setState({transform:F})},[b,S]);return O.useEffect(()=>{if(E.current){P.current=u1t({domNode:E.current,minZoom:u,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:C,onDraggingChange:M=>_.setState({paneDragging:M}),onPanZoomStart:(M,$)=>{const{onViewportChangeStart:L,onMoveStart:V}=_.getState();V==null||V(M,$),L==null||L($)},onPanZoom:(M,$)=>{const{onViewportChange:L,onMove:V}=_.getState();V==null||V(M,$),L==null||L($)},onPanZoomEnd:(M,$)=>{const{onViewportChangeEnd:L,onMoveEnd:V}=_.getState();V==null||V(M,$),L==null||L($)}});const{x:F,y:I,zoom:j}=P.current.getViewport();return _.setState({panZoom:P.current,transform:[F,I,j],domNode:E.current.closest(".react-flow")}),()=>{var M;(M=P.current)==null||M.destroy()}}},[]),O.useEffect(()=>{var F;(F=P.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:A,preventScrolling:p,noPanClassName:v,userSelectionActive:T,noWheelClassName:m,lib:k,onTransformChange:D})},[e,t,n,r,i,o,s,a,A,p,v,T,m,k,D]),x.jsx("div",{className:"react-flow__renderer",ref:E,style:UI,children:g})}const lxt=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function cxt(){const{userSelectionActive:e,userSelectionRect:t}=ar(lxt,Di);return e&&t?x.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const o4=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},uxt=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function dxt({isSelecting:e,selectionKeyPressed:t,selectionMode:n=J_.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:f,children:p}){const g=ui(),{userSelectionActive:m,elementsSelectable:v,dragging:b,connectionInProgress:S}=ar(uxt,Di),C=v&&(e||m),_=O.useRef(null),E=O.useRef(),T=O.useRef(new Set),k=O.useRef(new Set),A=O.useRef(!1),P=O.useRef(!1),D=V=>{if(A.current||S){A.current=!1;return}a==null||a(V),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},F=V=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){V.preventDefault();return}l==null||l(V)},I=c?V=>c(V):void 0,j=V=>{var G,Y;const{resetSelectedElements:q,domNode:U}=g.getState();if(E.current=U==null?void 0:U.getBoundingClientRect(),!v||!e||V.button!==0||V.target!==_.current||!E.current)return;(Y=(G=V.target)==null?void 0:G.setPointerCapture)==null||Y.call(G,V.pointerId),P.current=!0,A.current=!1;const{x:z,y:B}=Hf(V.nativeEvent,E.current);q(),g.setState({userSelectionRect:{width:0,height:0,startX:z,startY:B,x:z,y:B}}),o==null||o(V)},M=V=>{const{userSelectionRect:q,transform:U,nodeLookup:z,edgeLookup:B,connectionLookup:G,triggerNodeChanges:Y,triggerEdgeChanges:Q,defaultEdgeOptions:K}=g.getState();if(!E.current||!q)return;A.current=!0;const{x:te,y:ce}=Hf(V.nativeEvent,E.current),{startX:ie,startY:re}=q,he={startX:ie,startY:re,x:te<ie?te:ie,y:ce<re?ce:re,width:Math.abs(te-ie),height:Math.abs(ce-re)},fe=T.current,ne=k.current;T.current=new Set(b1e(z,he,U,n===J_.Partial,!0).map(W=>W.id)),k.current=new Set;const pe=(K==null?void 0:K.selectable)??!0;for(const W of T.current){const se=G.get(W);if(se)for(const{edgeId:ae}of se.values()){const X=B.get(ae);X&&(X.selectable??pe)&&k.current.add(ae)}}if(!Xie(fe,T.current)){const W=gb(z,T.current,!0);Y(W)}if(!Xie(ne,k.current)){const W=gb(B,k.current);Q(W)}g.setState({userSelectionRect:he,userSelectionActive:!0,nodesSelectionActive:!1})},$=V=>{var U,z;if(V.button!==0||!P.current)return;(z=(U=V.target)==null?void 0:U.releasePointerCapture)==null||z.call(U,V.pointerId);const{userSelectionRect:q}=g.getState();!m&&q&&V.target===_.current&&(D==null||D(V)),g.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:T.current.size>0}),s==null||s(V),(t||i)&&(A.current=!1),P.current=!1},L=r===!0||Array.isArray(r)&&r.includes(0);return x.jsxs("div",{className:Qi(["react-flow__pane",{draggable:L,dragging:b,selection:e}]),onClick:C?void 0:o4(D,_),onContextMenu:o4(F,_),onWheel:o4(I,_),onPointerEnter:C?void 0:u,onPointerDown:C?j:d,onPointerMove:C?M:d,onPointerUp:C?$:void 0,onPointerLeave:f,ref:_,style:UI,children:[p,x.jsx(cxt,{})]})}function sB({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",Cd.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([e])}function Z1e({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=ui(),[l,c]=O.useState(!1),u=O.useRef();return O.useEffect(()=>{u.current=Kbt({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{sB({id:d,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),O.useEffect(()=>{var d,f;if(t)(d=u.current)==null||d.destroy();else if(e.current)return(f=u.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=u.current)==null||p.destroy()}},[n,r,t,o,e,i]),l}const fxt=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function J1e(){const e=ui();return O.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=e.getState(),d=new Map,f=fxt(s),p=i?o[0]:5,g=i?o[1]:5,m=n.direction.x*p*n.factor,v=n.direction.y*g*n.factor;for(const[,b]of c){if(!f(b))continue;let S={x:b.internals.positionAbsolute.x+m,y:b.internals.positionAbsolute.y+v};i&&(S=LI(S,o));const{position:C,positionAbsolute:_}=x1e({nodeId:b.id,nextPosition:S,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});b.position=C,b.internals.positionAbsolute=_,d.set(b.id,b)}l(d)},[])}const BH=O.createContext(null),pxt=BH.Provider;BH.Consumer;const exe=()=>O.useContext(BH),hxt=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),gxt=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:c}=s,u=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===P1.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:u&&c}};function mxt({type:e="source",position:t=Vt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...f},p){var $,L;const g=s||null,m=e==="target",v=ui(),b=exe(),{connectOnClick:S,noPanClassName:C,rfId:_}=ar(hxt,Di),{connectingFrom:E,connectingTo:T,clickConnecting:k,isPossibleEndHandle:A,connectionInProcess:P,clickConnectionInProcess:D,valid:F}=ar(gxt(b,g,e),Di);b||(L=($=v.getState()).onError)==null||L.call($,"010",Cd.error010());const I=V=>{const{defaultEdgeOptions:q,onConnect:U,hasDefaultEdges:z}=v.getState(),B={...q,...V};if(z){const{edges:G,setEdges:Y}=v.getState();Y(Nbt(B,G))}U==null||U(B),a==null||a(B)},j=V=>{if(!b)return;const q=T1e(V.nativeEvent);if(i&&(q&&V.button===0||!q)){const U=v.getState();oB.onPointerDown(V.nativeEvent,{autoPanOnConnect:U.autoPanOnConnect,connectionMode:U.connectionMode,connectionRadius:U.connectionRadius,domNode:U.domNode,nodeLookup:U.nodeLookup,lib:U.lib,isTarget:m,handleId:g,nodeId:b,flowId:U.rfId,panBy:U.panBy,cancelConnection:U.cancelConnection,onConnectStart:U.onConnectStart,onConnectEnd:U.onConnectEnd,updateConnection:U.updateConnection,onConnect:I,isValidConnection:n||U.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:U.autoPanSpeed})}q?u==null||u(V):d==null||d(V)},M=V=>{const{onClickConnectStart:q,onClickConnectEnd:U,connectionClickStartHandle:z,connectionMode:B,isValidConnection:G,lib:Y,rfId:Q,nodeLookup:K,connection:te}=v.getState();if(!b||!z&&!i)return;if(!z){q==null||q(V.nativeEvent,{nodeId:b,handleId:g,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:b,type:e,id:g}});return}const ce=k1e(V.target),ie=n||G,{connection:re,isValid:he}=oB.isValid(V.nativeEvent,{handle:{nodeId:b,id:g,type:e},connectionMode:B,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:ie,flowId:Q,doc:ce,lib:Y,nodeLookup:K});he&&re&&I(re);const fe=structuredClone(te);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,U==null||U(V,fe),v.setState({connectionClickStartHandle:null})};return x.jsx("div",{"data-handleid":g,"data-nodeid":b,"data-handlepos":t,"data-id":`${_}-${b}-${g}-${e}`,className:Qi(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,c,{source:!m,target:m,connectable:r,connectablestart:i,connectableend:o,clickconnecting:k,connectingfrom:E,connectingto:T,valid:F,connectionindicator:r&&(!P||A)&&(P||D?o:i)}]),onMouseDown:j,onTouchStart:j,onClick:S?M:void 0,ref:p,...f,children:l})}const _d=O.memo(K1e(mxt));function yxt({data:e,isConnectable:t,sourcePosition:n=Vt.Bottom}){return x.jsxs(x.Fragment,{children:[e==null?void 0:e.label,x.jsx(_d,{type:"source",position:n,isConnectable:t})]})}function vxt({data:e,isConnectable:t,targetPosition:n=Vt.Top,sourcePosition:r=Vt.Bottom}){return x.jsxs(x.Fragment,{children:[x.jsx(_d,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,x.jsx(_d,{type:"source",position:r,isConnectable:t})]})}function bxt(){return null}function xxt({data:e,isConnectable:t,targetPosition:n=Vt.Top}){return x.jsxs(x.Fragment,{children:[x.jsx(_d,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const DO={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},_oe={input:yxt,default:vxt,output:xxt,group:bxt};function Sxt(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const wxt=e=>{const{width:t,height:n,x:r,y:i}=S2(e.nodeLookup,{filter:o=>!!o.selected});return{width:Jc(t)?t:null,height:Jc(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function Cxt({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ui(),{width:i,height:o,transformString:s,userSelectionActive:a}=ar(wxt,Di),l=J1e(),c=O.useRef(null);if(O.useEffect(()=>{var f;n||(f=c.current)==null||f.focus({preventScroll:!0})},[n]),Z1e({nodeRef:c}),a||!i||!o)return null;const u=e?f=>{const p=r.getState().nodes.filter(g=>g.selected);e(f,p)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(DO,f.key)&&(f.preventDefault(),l({direction:DO[f.key],factor:f.shiftKey?4:1}))};return x.jsx("div",{className:Qi(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:x.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const Eoe=typeof window<"u"?window:void 0,_xt=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function txe({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:g,panActivationKeyCode:m,zoomActivationKeyCode:v,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:C,panOnScroll:_,panOnScrollSpeed:E,panOnScrollMode:T,zoomOnDoubleClick:k,panOnDrag:A,defaultViewport:P,translateExtent:D,minZoom:F,maxZoom:I,preventScrolling:j,onSelectionContextMenu:M,noWheelClassName:$,noPanClassName:L,disableKeyboardA11y:V,onViewportChange:q,isControlledViewport:U}){const{nodesSelectionActive:z,userSelectionActive:B}=ar(_xt),G=nE(c,{target:Eoe}),Y=nE(m,{target:Eoe}),Q=Y||A,K=Y||_,te=u&&Q!==!0,ce=G||B||te;return ixt({deleteKeyCode:l,multiSelectionKeyCode:g}),x.jsx(axt,{onPaneContextMenu:o,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:C,panOnScroll:K,panOnScrollSpeed:E,panOnScrollMode:T,zoomOnDoubleClick:k,panOnDrag:!G&&Q,defaultViewport:P,translateExtent:D,minZoom:F,maxZoom:I,zoomActivationKeyCode:v,preventScrolling:j,noWheelClassName:$,noPanClassName:L,onViewportChange:q,isControlledViewport:U,paneClickDistance:a,children:x.jsxs(dxt,{onSelectionStart:f,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:Q,isSelecting:!!ce,selectionMode:d,selectionKeyPressed:G,selectionOnDrag:te,children:[e,z&&x.jsx(Cxt,{onSelectionContextMenu:M,noPanClassName:L,disableKeyboardA11y:V})]})})}txe.displayName="FlowRenderer";const Ext=O.memo(txe),kxt=e=>t=>e?b1e(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Rxt(e){return ar(O.useCallback(kxt(e),[e]),Di)}const Txt=e=>e.updateNodeInternals;function Mxt(){const e=ar(Txt),[t]=O.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return O.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Axt({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=ui(),o=O.useRef(null),s=O.useRef(null),a=O.useRef(e.sourcePosition),l=O.useRef(e.targetPosition),c=O.useRef(t),u=n&&!!e.internals.handleBounds;return O.useEffect(()=>{o.current&&!e.hidden&&(!u||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[u,e.hidden]),O.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),O.useEffect(()=>{if(o.current){const d=c.current!==t,f=a.current!==e.sourcePosition,p=l.current!==e.targetPosition;(d||f||p)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function Oxt({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:d,noDragClassName:f,noPanClassName:p,disableKeyboardA11y:g,rfId:m,nodeTypes:v,nodeClickDistance:b,onError:S}){const{node:C,internals:_,isParent:E}=ar(ce=>{const ie=ce.nodeLookup.get(e),re=ce.parentLookup.has(e);return{node:ie,internals:ie.internals,isParent:re}},Di);let T=C.type||"default",k=(v==null?void 0:v[T])||_oe[T];k===void 0&&(S==null||S("003",Cd.error003(T)),T="default",k=_oe.default);const A=!!(C.draggable||a&&typeof C.draggable>"u"),P=!!(C.selectable||l&&typeof C.selectable>"u"),D=!!(C.connectable||c&&typeof C.connectable>"u"),F=!!(C.focusable||u&&typeof C.focusable>"u"),I=ui(),j=_1e(C),M=Axt({node:C,nodeType:T,hasDimensions:j,resizeObserver:d}),$=Z1e({nodeRef:M,disabled:C.hidden||!A,noDragClassName:f,handleSelector:C.dragHandle,nodeId:e,isSelectable:P,nodeClickDistance:b}),L=J1e();if(C.hidden)return null;const V=mp(C),q=Sxt(C),U=P||A||t||n||r||i,z=n?ce=>n(ce,{..._.userNode}):void 0,B=r?ce=>r(ce,{..._.userNode}):void 0,G=i?ce=>i(ce,{..._.userNode}):void 0,Y=o?ce=>o(ce,{..._.userNode}):void 0,Q=s?ce=>s(ce,{..._.userNode}):void 0,K=ce=>{const{selectNodesOnDrag:ie,nodeDragThreshold:re}=I.getState();P&&(!ie||!A||re>0)&&sB({id:e,store:I,nodeRef:M}),t&&t(ce,{..._.userNode})},te=ce=>{if(!(R1e(ce.nativeEvent)||g))if(g1e.includes(ce.key)&&P){const ie=ce.key==="Escape";sB({id:e,store:I,unselect:ie,nodeRef:M})}else A&&C.selected&&Object.prototype.hasOwnProperty.call(DO,ce.key)&&(ce.preventDefault(),I.setState({ariaLiveMessage:`Moved selected node ${ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),L({direction:DO[ce.key],factor:ce.shiftKey?4:1}))};return x.jsx("div",{className:Qi(["react-flow__node",`react-flow__node-${T}`,{[p]:A},C.className,{selected:C.selected,selectable:P,parent:E,draggable:A,dragging:$}]),ref:M,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:j?"visible":"hidden",...C.style,...q},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:B,onMouseLeave:G,onContextMenu:Y,onClick:K,onDoubleClick:Q,onKeyDown:F?te:void 0,tabIndex:F?0:void 0,role:F?"button":void 0,"aria-describedby":g?void 0:`${V1e}-${m}`,"aria-label":C.ariaLabel,children:x.jsx(pxt,{value:e,children:x.jsx(k,{id:e,data:C.data,type:T,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:C.selected??!1,selectable:P,draggable:A,deletable:C.deletable??!0,isConnectable:D,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:$,dragHandle:C.dragHandle,zIndex:_.z,parentId:C.parentId,...V})})})}const Dxt=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function nxe(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=ar(Dxt,Di),s=Rxt(e.onlyRenderVisibleElements),a=Mxt();return x.jsx("div",{className:"react-flow__nodes",style:UI,children:s.map(l=>x.jsx(Oxt,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}nxe.displayName="NodeRenderer";const Pxt=O.memo(nxe);function Ixt(e){return ar(O.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&Ibt({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Di)}const $xt=({color:e="none",strokeWidth:t=1})=>x.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Fxt=({color:e="none",strokeWidth:t=1})=>x.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),koe={[TO.Arrow]:$xt,[TO.ArrowClosed]:Fxt};function Nxt(e){const t=ui();return O.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(koe,e)?koe[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",Cd.error009(e)),null)},[e])}const Lxt=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=Nxt(t);return l?x.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:x.jsx(l,{color:n,strokeWidth:s})}):null},rxe=({defaultColor:e,rfId:t})=>{const n=ar(o=>o.edges),r=ar(o=>o.defaultEdgeOptions),i=O.useMemo(()=>Ubt(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?x.jsx("svg",{className:"react-flow__marker",children:x.jsx("defs",{children:i.map(o=>x.jsx(Lxt,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};rxe.displayName="MarkerDefinitions";var jxt=O.memo(rxe);function ixe({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[d,f]=O.useState({x:1,y:0,width:0,height:0}),p=Qi(["react-flow__edge-textwrapper",c]),g=O.useRef(null);return O.useEffect(()=>{if(g.current){const m=g.current.getBBox();f({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),n?x.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...u,children:[i&&x.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),x.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:g,style:r,children:n}),l]}):null}ixe.displayName="EdgeText";const zxt=O.memo(ixe);function C2({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return x.jsxs(x.Fragment,{children:[x.jsx("path",{...u,d:e,fill:"none",className:Qi(["react-flow__edge-path",u.className])}),c&&x.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&Jc(t)&&Jc(n)?x.jsx(zxt,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Roe({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Vt.Left||e===Vt.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function oxe({sourceX:e,sourceY:t,sourcePosition:n=Vt.Bottom,targetX:r,targetY:i,targetPosition:o=Vt.Top}){const[s,a]=Roe({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=Roe({pos:o,x1:r,y1:i,x2:e,y2:t}),[u,d,f,p]=M1e({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${a} ${l},${c} ${r},${i}`,u,d,f,p]}function sxe(e){return O.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:v,interactionWidth:b})=>{const[S,C,_]=oxe({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),E=e.isInternal?void 0:t;return x.jsx(C2,{id:E,path:S,labelX:C,labelY:_,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:v,interactionWidth:b})})}const Bxt=sxe({isInternal:!1}),axe=sxe({isInternal:!0});Bxt.displayName="SimpleBezierEdge";axe.displayName="SimpleBezierEdgeInternal";function lxe(e){return O.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:p=Vt.Bottom,targetPosition:g=Vt.Top,markerEnd:m,markerStart:v,pathOptions:b,interactionWidth:S})=>{const[C,_,E]=nB({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:g,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset}),T=e.isInternal?void 0:t;return x.jsx(C2,{id:T,path:C,labelX:_,labelY:E,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:v,interactionWidth:S})})}const cxe=lxe({isInternal:!1}),uxe=lxe({isInternal:!0});cxe.displayName="SmoothStepEdge";uxe.displayName="SmoothStepEdgeInternal";function dxe(e){return O.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return x.jsx(cxe,{...n,id:r,pathOptions:O.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Uxt=dxe({isInternal:!1}),fxe=dxe({isInternal:!0});Uxt.displayName="StepEdge";fxe.displayName="StepEdgeInternal";function pxe(e){return O.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,interactionWidth:m})=>{const[v,b,S]=O1e({sourceX:n,sourceY:r,targetX:i,targetY:o}),C=e.isInternal?void 0:t;return x.jsx(C2,{id:C,path:v,labelX:b,labelY:S,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,interactionWidth:m})})}const Hxt=pxe({isInternal:!1}),hxe=pxe({isInternal:!0});Hxt.displayName="StraightEdge";hxe.displayName="StraightEdgeInternal";function gxe(e){return O.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=Vt.Bottom,targetPosition:a=Vt.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:v,pathOptions:b,interactionWidth:S})=>{const[C,_,E]=$H({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:b==null?void 0:b.curvature}),T=e.isInternal?void 0:t;return x.jsx(C2,{id:T,path:C,labelX:_,labelY:E,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:v,interactionWidth:S})})}const Vxt=gxe({isInternal:!1}),mxe=gxe({isInternal:!0});Vxt.displayName="BezierEdge";mxe.displayName="BezierEdgeInternal";const Toe={default:mxe,straight:hxe,step:fxe,smoothstep:uxe,simplebezier:axe},Moe={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Wxt=(e,t,n)=>n===Vt.Left?e-t:n===Vt.Right?e+t:e,qxt=(e,t,n)=>n===Vt.Top?e-t:n===Vt.Bottom?e+t:e,Aoe="react-flow__edgeupdater";function Ooe({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return x.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Qi([Aoe,`${Aoe}-${a}`]),cx:Wxt(t,r,e),cy:qxt(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Gxt({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:d,setReconnecting:f,setUpdateHover:p}){const g=ui(),m=(_,E)=>{if(_.button!==0)return;const{autoPanOnConnect:T,domNode:k,isValidConnection:A,connectionMode:P,connectionRadius:D,lib:F,onConnectStart:I,onConnectEnd:j,cancelConnection:M,nodeLookup:$,rfId:L,panBy:V,updateConnection:q}=g.getState(),U=E.type==="target";f(!0),u==null||u(_,n,E.type);const z=(G,Y)=>{f(!1),d==null||d(G,n,E.type,Y)},B=G=>c==null?void 0:c(n,G);oB.onPointerDown(_.nativeEvent,{autoPanOnConnect:T,connectionMode:P,connectionRadius:D,domNode:k,handleId:E.id,nodeId:E.nodeId,nodeLookup:$,isTarget:U,edgeUpdaterType:E.type,lib:F,flowId:L,cancelConnection:M,panBy:V,isValidConnection:A,onConnect:B,onConnectStart:I,onConnectEnd:j,onReconnectEnd:z,updateConnection:q,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle})},v=_=>m(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),b=_=>m(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),S=()=>p(!0),C=()=>p(!1);return x.jsxs(x.Fragment,{children:[(e===!0||e==="source")&&x.jsx(Ooe,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:v,onMouseEnter:S,onMouseOut:C,type:"source"}),(e===!0||e==="target")&&x.jsx(Ooe,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:b,onMouseEnter:S,onMouseOut:C,type:"target"})]})}function Yxt({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,rfId:g,edgeTypes:m,noPanClassName:v,onError:b,disableKeyboardA11y:S}){let C=ar(ne=>ne.edgeLookup.get(e));const _=ar(ne=>ne.defaultEdgeOptions);C=_?{..._,...C}:C;let E=C.type||"default",T=(m==null?void 0:m[E])||Toe[E];T===void 0&&(b==null||b("011",Cd.error011(E)),E="default",T=Toe.default);const k=!!(C.focusable||t&&typeof C.focusable>"u"),A=typeof d<"u"&&(C.reconnectable||n&&typeof C.reconnectable>"u"),P=!!(C.selectable||r&&typeof C.selectable>"u"),D=O.useRef(null),[F,I]=O.useState(!1),[j,M]=O.useState(!1),$=ui(),{zIndex:L,sourceX:V,sourceY:q,targetX:U,targetY:z,sourcePosition:B,targetPosition:G}=ar(O.useCallback(ne=>{const pe=ne.nodeLookup.get(C.source),W=ne.nodeLookup.get(C.target);if(!pe||!W)return{zIndex:C.zIndex,...Moe};const se=Bbt({id:e,sourceNode:pe,targetNode:W,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:ne.connectionMode,onError:b});return{zIndex:Pbt({selected:C.selected,zIndex:C.zIndex,sourceNode:pe,targetNode:W,elevateOnSelect:ne.elevateEdgesOnSelect}),...se||Moe}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),Di),Y=O.useMemo(()=>C.markerStart?`url('#${rB(C.markerStart,g)}')`:void 0,[C.markerStart,g]),Q=O.useMemo(()=>C.markerEnd?`url('#${rB(C.markerEnd,g)}')`:void 0,[C.markerEnd,g]);if(C.hidden||V===null||q===null||U===null||z===null)return null;const K=ne=>{var ae;const{addSelectedEdges:pe,unselectNodesAndEdges:W,multiSelectionActive:se}=$.getState();P&&($.setState({nodesSelectionActive:!1}),C.selected&&se?(W({nodes:[],edges:[C]}),(ae=D.current)==null||ae.blur()):pe([e])),i&&i(ne,C)},te=o?ne=>{o(ne,{...C})}:void 0,ce=s?ne=>{s(ne,{...C})}:void 0,ie=a?ne=>{a(ne,{...C})}:void 0,re=l?ne=>{l(ne,{...C})}:void 0,he=c?ne=>{c(ne,{...C})}:void 0,fe=ne=>{var pe;if(!S&&g1e.includes(ne.key)&&P){const{unselectNodesAndEdges:W,addSelectedEdges:se}=$.getState();ne.key==="Escape"?((pe=D.current)==null||pe.blur(),W({edges:[C]})):se([e])}};return x.jsx("svg",{style:{zIndex:L},children:x.jsxs("g",{className:Qi(["react-flow__edge",`react-flow__edge-${E}`,C.className,v,{selected:C.selected,animated:C.animated,inactive:!P&&!i,updating:F,selectable:P}]),onClick:K,onDoubleClick:te,onContextMenu:ce,onMouseEnter:ie,onMouseMove:re,onMouseLeave:he,onKeyDown:k?fe:void 0,tabIndex:k?0:void 0,role:k?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":k?`${W1e}-${g}`:void 0,ref:D,children:[!j&&x.jsx(T,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:P,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:V,sourceY:q,targetX:U,targetY:z,sourcePosition:B,targetPosition:G,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:Y,markerEnd:Q,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),A&&x.jsx(Gxt,{edge:C,isReconnectable:A,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,sourceX:V,sourceY:q,targetX:U,targetY:z,sourcePosition:B,targetPosition:G,setUpdateHover:I,setReconnecting:M})]})})}const Xxt=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function yxe({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:p,onReconnectEnd:g,disableKeyboardA11y:m}){const{edgesFocusable:v,edgesReconnectable:b,elementsSelectable:S,onError:C}=ar(Xxt,Di),_=Ixt(t);return x.jsxs("div",{className:"react-flow__edges",children:[x.jsx(jxt,{defaultColor:e,rfId:n}),_.map(E=>x.jsx(Yxt,{id:E,edgesFocusable:v,edgesReconnectable:b,elementsSelectable:S,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:f,onReconnectStart:p,onReconnectEnd:g,rfId:n,onError:C,edgeTypes:r,disableKeyboardA11y:m},E))]})}yxe.displayName="EdgeRenderer";const Kxt=O.memo(yxe),Qxt=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Zxt({children:e}){const t=ar(Qxt);return x.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Jxt(e){const t=zH(),n=O.useRef(!1);O.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const eSt=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function tSt(e){const t=ar(eSt),n=ui();return O.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function nSt(e){return e.connection.inProgress?{...e.connection,to:w2(e.connection.to,e.transform)}:{...e.connection}}function rSt(e){return nSt}function iSt(e){const t=rSt();return ar(t,Di)}const oSt=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function sSt({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=ar(oSt,Di);return!(o&&i&&l)?null:x.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:x.jsx("g",{className:Qi(["react-flow__connection",y1e(a)]),children:x.jsx(vxe,{style:t,type:n,CustomComponent:r,isValid:a})})})}const vxe=({style:e,type:t=hh.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:d,toPosition:f}=iSt();if(!i)return;if(n)return x.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:f,connectionStatus:y1e(r),toNode:u,toHandle:d});let p="";const g={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:f};switch(t){case hh.Bezier:[p]=$H(g);break;case hh.SimpleBezier:[p]=oxe(g);break;case hh.Step:[p]=nB({...g,borderRadius:0});break;case hh.SmoothStep:[p]=nB(g);break;default:[p]=O1e(g)}return x.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};vxe.displayName="ConnectionLine";const aSt={};function Doe(e=aSt){O.useRef(e),ui(),O.useEffect(()=>{},[e])}function lSt(){ui(),O.useRef(!1),O.useEffect(()=>{},[])}function bxe({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:p,connectionLineType:g,connectionLineStyle:m,connectionLineComponent:v,connectionLineContainerStyle:b,selectionKeyCode:S,selectionOnDrag:C,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:T,zoomActivationKeyCode:k,deleteKeyCode:A,onlyRenderVisibleElements:P,elementsSelectable:D,defaultViewport:F,translateExtent:I,minZoom:j,maxZoom:M,preventScrolling:$,defaultMarkerColor:L,zoomOnScroll:V,zoomOnPinch:q,panOnScroll:U,panOnScrollSpeed:z,panOnScrollMode:B,zoomOnDoubleClick:G,panOnDrag:Y,onPaneClick:Q,onPaneMouseEnter:K,onPaneMouseMove:te,onPaneMouseLeave:ce,onPaneScroll:ie,onPaneContextMenu:re,paneClickDistance:he,nodeClickDistance:fe,onEdgeContextMenu:ne,onEdgeMouseEnter:pe,onEdgeMouseMove:W,onEdgeMouseLeave:se,reconnectRadius:ae,onReconnect:X,onReconnectStart:Z,onReconnectEnd:oe,noDragClassName:ge,noWheelClassName:be,noPanClassName:de,disableKeyboardA11y:Re,nodeExtent:xe,rfId:ue,viewport:we,onViewportChange:Oe}){return Doe(e),Doe(t),lSt(),Jxt(n),tSt(we),x.jsx(Ext,{onPaneClick:Q,onPaneMouseEnter:K,onPaneMouseMove:te,onPaneMouseLeave:ce,onPaneContextMenu:re,onPaneScroll:ie,paneClickDistance:he,deleteKeyCode:A,selectionKeyCode:S,selectionOnDrag:C,selectionMode:_,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:E,panActivationKeyCode:T,zoomActivationKeyCode:k,elementsSelectable:D,zoomOnScroll:V,zoomOnPinch:q,zoomOnDoubleClick:G,panOnScroll:U,panOnScrollSpeed:z,panOnScrollMode:B,panOnDrag:Y,defaultViewport:F,translateExtent:I,minZoom:j,maxZoom:M,onSelectionContextMenu:d,preventScrolling:$,noDragClassName:ge,noWheelClassName:be,noPanClassName:de,disableKeyboardA11y:Re,onViewportChange:Oe,isControlledViewport:!!we,children:x.jsxs(Zxt,{children:[x.jsx(Kxt,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:X,onReconnectStart:Z,onReconnectEnd:oe,onlyRenderVisibleElements:P,onEdgeContextMenu:ne,onEdgeMouseEnter:pe,onEdgeMouseMove:W,onEdgeMouseLeave:se,reconnectRadius:ae,defaultMarkerColor:L,noPanClassName:de,disableKeyboardA11y:Re,rfId:ue}),x.jsx(sSt,{style:m,type:g,component:v,containerStyle:b}),x.jsx("div",{className:"react-flow__edgelabel-renderer"}),x.jsx(Pxt,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:fe,onlyRenderVisibleElements:P,noPanClassName:de,noDragClassName:ge,disableKeyboardA11y:Re,nodeExtent:xe,rfId:ue}),x.jsx("div",{className:"react-flow__viewport-portal"})]})})}bxe.displayName="GraphView";const cSt=O.memo(bxe),Poe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:l}={})=>{const c=new Map,u=new Map,d=new Map,f=new Map,p=r??t??[],g=n??e??[],m=a??[0,0],v=l??Z_;P1e(d,f,p),iB(g,c,u,{nodeOrigin:m,nodeExtent:v,elevateNodesOnSelect:!1});let b=[0,0,1];if(s&&i&&o){const S=S2(c,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:C,y:_,zoom:E}=PH(S,i,o,.5,2,.1);b=[C,_,E]}return{rfId:"1",width:0,height:0,transform:b,nodes:g,nodeLookup:c,parentLookup:u,edges:p,edgeLookup:f,connectionLookup:d,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Z_,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:P1.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:void 0,fitViewResolver:null,connection:{...m1e},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:Mbt,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},uSt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:l})=>M1t((c,u)=>{async function d(){const{nodeLookup:f,panZoom:p,fitViewOptions:g,fitViewResolver:m,width:v,height:b,minZoom:S,maxZoom:C}=u();p&&(await Rbt({nodes:f,width:v,height:b,panZoom:p,minZoom:S,maxZoom:C},g),m==null||m.resolve(!0),c({fitViewResolver:null}))}return{...Poe({nodes:e,edges:t,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:f=>{const{nodeLookup:p,parentLookup:g,nodeOrigin:m,elevateNodesOnSelect:v,fitViewQueued:b}=u(),S=iB(f,p,g,{nodeOrigin:m,nodeExtent:l,elevateNodesOnSelect:v,checkEquality:!0});b&&S?(d(),c({nodes:f,fitViewQueued:!1,fitViewOptions:void 0})):c({nodes:f})},setEdges:f=>{const{connectionLookup:p,edgeLookup:g}=u();P1e(p,g,f),c({edges:f})},setDefaultNodesAndEdges:(f,p)=>{if(f){const{setNodes:g}=u();g(f),c({hasDefaultNodes:!0})}if(p){const{setEdges:g}=u();g(p),c({hasDefaultEdges:!0})}},updateNodeInternals:f=>{const{triggerNodeChanges:p,nodeLookup:g,parentLookup:m,domNode:v,nodeOrigin:b,nodeExtent:S,debug:C,fitViewQueued:_}=u(),{changes:E,updatedInternals:T}=Gbt(f,g,m,v,b,S);T&&(Vbt(g,m,{nodeOrigin:b,nodeExtent:S}),_?(d(),c({fitViewQueued:!1,fitViewOptions:void 0})):c({}),(E==null?void 0:E.length)>0&&(C&&console.log("React Flow: trigger node changes",E),p==null||p(E)))},updateNodePositions:(f,p=!1)=>{const g=[],m=[],{nodeLookup:v,triggerNodeChanges:b}=u();for(const[S,C]of f){const _=v.get(S),E=!!(_!=null&&_.expandParent&&(_!=null&&_.parentId)&&(C!=null&&C.position)),T={id:S,type:"position",position:E?{x:Math.max(0,C.position.x),y:Math.max(0,C.position.y)}:C.position,dragging:p};E&&_.parentId&&g.push({id:S,parentId:_.parentId,rect:{...C.internals.positionAbsolute,width:C.measured.width??0,height:C.measured.height??0}}),m.push(T)}if(g.length>0){const{parentLookup:S,nodeOrigin:C}=u(),_=jH(g,v,S,C);m.push(..._)}b(m)},triggerNodeChanges:f=>{const{onNodesChange:p,setNodes:g,nodes:m,hasDefaultNodes:v,debug:b}=u();if(f!=null&&f.length){if(v){const S=Y1e(f,m);g(S)}b&&console.log("React Flow: trigger node changes",f),p==null||p(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:p,setEdges:g,edges:m,hasDefaultEdges:v,debug:b}=u();if(f!=null&&f.length){if(v){const S=X1e(f,m);g(S)}b&&console.log("React Flow: trigger edge changes",f),p==null||p(f)}},addSelectedNodes:f=>{const{multiSelectionActive:p,edgeLookup:g,nodeLookup:m,triggerNodeChanges:v,triggerEdgeChanges:b}=u();if(p){const S=f.map(C=>Dm(C,!0));v(S);return}v(gb(m,new Set([...f]),!0)),b(gb(g))},addSelectedEdges:f=>{const{multiSelectionActive:p,edgeLookup:g,nodeLookup:m,triggerNodeChanges:v,triggerEdgeChanges:b}=u();if(p){const S=f.map(C=>Dm(C,!0));b(S);return}b(gb(g,new Set([...f]))),v(gb(m,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:p}={})=>{const{edges:g,nodes:m,nodeLookup:v,triggerNodeChanges:b,triggerEdgeChanges:S}=u(),C=f||m,_=p||g,E=C.map(k=>{const A=v.get(k.id);return A&&(A.selected=!1),Dm(k.id,!1)}),T=_.map(k=>Dm(k.id,!1));b(E),S(T)},setMinZoom:f=>{const{panZoom:p,maxZoom:g}=u();p==null||p.setScaleExtent([f,g]),c({minZoom:f})},setMaxZoom:f=>{const{panZoom:p,minZoom:g}=u();p==null||p.setScaleExtent([g,f]),c({maxZoom:f})},setTranslateExtent:f=>{var p;(p=u().panZoom)==null||p.setTranslateExtent(f),c({translateExtent:f})},setPaneClickDistance:f=>{var p;(p=u().panZoom)==null||p.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:p,triggerNodeChanges:g,triggerEdgeChanges:m}=u(),v=p.reduce((S,C)=>C.selected?[...S,Dm(C.id,!1)]:S,[]),b=f.reduce((S,C)=>C.selected?[...S,Dm(C.id,!1)]:S,[]);g(v),m(b)},setNodeExtent:f=>{const{nodes:p,nodeLookup:g,parentLookup:m,nodeOrigin:v,elevateNodesOnSelect:b,nodeExtent:S}=u();f[0][0]===S[0][0]&&f[0][1]===S[0][1]&&f[1][0]===S[1][0]&&f[1][1]===S[1][1]||(iB(p,g,m,{nodeOrigin:v,nodeExtent:f,elevateNodesOnSelect:b,checkEquality:!1}),c({nodeExtent:f}))},panBy:f=>{const{transform:p,width:g,height:m,panZoom:v,translateExtent:b}=u();return Ybt({delta:f,panZoom:v,transform:p,translateExtent:b,width:g,height:m})},cancelConnection:()=>{c({connection:{...m1e}})},updateConnection:f=>{c({connection:f})},reset:()=>c({...Poe()})}},Object.is);function xxe({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,fitView:s,nodeOrigin:a,nodeExtent:l,children:c}){const[u]=O.useState(()=>uSt({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:l}));return x.jsx(A1t,{value:u,children:x.jsx(J1t,{children:c})})}function dSt({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,nodeOrigin:l,nodeExtent:c}){return O.useContext(zI)?x.jsx(x.Fragment,{children:e}):x.jsx(xxe,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,nodeOrigin:l,nodeExtent:c,children:e})}const fSt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function pSt({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:g,onConnectEnd:m,onClickConnectStart:v,onClickConnectEnd:b,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:T,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:P,onNodesDelete:D,onEdgesDelete:F,onDelete:I,onSelectionChange:j,onSelectionDragStart:M,onSelectionDrag:$,onSelectionDragStop:L,onSelectionContextMenu:V,onSelectionStart:q,onSelectionEnd:U,onBeforeDelete:z,connectionMode:B,connectionLineType:G=hh.Bezier,connectionLineStyle:Y,connectionLineComponent:Q,connectionLineContainerStyle:K,deleteKeyCode:te="Backspace",selectionKeyCode:ce="Shift",selectionOnDrag:ie=!1,selectionMode:re=J_.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:fe=OO()?"Meta":"Control",zoomActivationKeyCode:ne=OO()?"Meta":"Control",snapToGrid:pe,snapGrid:W,onlyRenderVisibleElements:se=!1,selectNodesOnDrag:ae,nodesDraggable:X,nodesConnectable:Z,nodesFocusable:oe,nodeOrigin:ge=q1e,edgesFocusable:be,edgesReconnectable:de,elementsSelectable:Re=!0,defaultViewport:xe=H1t,minZoom:ue=.5,maxZoom:we=2,translateExtent:Oe=Z_,preventScrolling:ke=!0,nodeExtent:Ie,defaultMarkerColor:ve="#b1b1b7",zoomOnScroll:_e=!0,zoomOnPinch:$e=!0,panOnScroll:De=!1,panOnScrollSpeed:ot=.5,panOnScrollMode:Me=y0.Free,zoomOnDoubleClick:ze=!0,panOnDrag:Qe=!0,onPaneClick:Rt,onPaneMouseEnter:Et,onPaneMouseMove:Wt,onPaneMouseLeave:vn,onPaneScroll:It,onPaneContextMenu:$t,paneClickDistance:ur=0,nodeClickDistance:ht=0,children:jt,onReconnect:Ot,onReconnectStart:dr,onReconnectEnd:xt,onEdgeContextMenu:wt,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Kt,onEdgeMouseMove:gt,onEdgeMouseLeave:di,reconnectRadius:Yn=10,onNodesChange:Tr,onEdgesChange:Zr,noDragClassName:On="nodrag",noWheelClassName:Hn="nowheel",noPanClassName:ti="nopan",fitView:Qs,fitViewOptions:Ge,connectOnClick:He,attributionPosition:yt,proOptions:bn,defaultEdgeOptions:Tn,elevateNodesOnSelect:Vn,elevateEdgesOnSelect:Mr,disableKeyboardA11y:Mo=!1,autoPanOnConnect:kp,autoPanOnNodeDrag:Uy,autoPanSpeed:Hy,connectionRadius:kc,isValidConnection:Rc,onError:Cn,style:Yo,id:Zs,nodeDragThreshold:Js,viewport:Kg,onViewportChange:gS,width:G5,height:mk,colorMode:ea="light",debug:yk,onScroll:Vy,...Wy},vk){const Rp=Zs||"1",Y5=G1t(ea),ta=O.useCallback(qy=>{qy.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Vy==null||Vy(qy)},[Vy]);return x.jsx("div",{"data-testid":"rf__wrapper",...Wy,onScroll:ta,style:{...Yo,...fSt},ref:vk,className:Qi(["react-flow",i,Y5]),id:Zs,children:x.jsxs(dSt,{nodes:e,edges:t,width:G5,height:mk,fitView:Qs,nodeOrigin:ge,nodeExtent:Ie,children:[x.jsx(cSt,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:T,nodeTypes:o,edgeTypes:s,connectionLineType:G,connectionLineStyle:Y,connectionLineComponent:Q,connectionLineContainerStyle:K,selectionKeyCode:ce,selectionOnDrag:ie,selectionMode:re,deleteKeyCode:te,multiSelectionKeyCode:fe,panActivationKeyCode:he,zoomActivationKeyCode:ne,onlyRenderVisibleElements:se,defaultViewport:xe,translateExtent:Oe,minZoom:ue,maxZoom:we,preventScrolling:ke,zoomOnScroll:_e,zoomOnPinch:$e,zoomOnDoubleClick:ze,panOnScroll:De,panOnScrollSpeed:ot,panOnScrollMode:Me,panOnDrag:Qe,onPaneClick:Rt,onPaneMouseEnter:Et,onPaneMouseMove:Wt,onPaneMouseLeave:vn,onPaneScroll:It,onPaneContextMenu:$t,paneClickDistance:ur,nodeClickDistance:ht,onSelectionContextMenu:V,onSelectionStart:q,onSelectionEnd:U,onReconnect:Ot,onReconnectStart:dr,onReconnectEnd:xt,onEdgeContextMenu:wt,onEdgeDoubleClick:Bt,onEdgeMouseEnter:Kt,onEdgeMouseMove:gt,onEdgeMouseLeave:di,reconnectRadius:Yn,defaultMarkerColor:ve,noDragClassName:On,noWheelClassName:Hn,noPanClassName:ti,rfId:Rp,disableKeyboardA11y:Mo,nodeExtent:Ie,viewport:Kg,onViewportChange:gS}),x.jsx(q1t,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:g,onConnectEnd:m,onClickConnectStart:v,onClickConnectEnd:b,nodesDraggable:X,nodesConnectable:Z,nodesFocusable:oe,edgesFocusable:be,edgesReconnectable:de,elementsSelectable:Re,elevateNodesOnSelect:Vn,elevateEdgesOnSelect:Mr,minZoom:ue,maxZoom:we,nodeExtent:Ie,onNodesChange:Tr,onEdgesChange:Zr,snapToGrid:pe,snapGrid:W,connectionMode:B,translateExtent:Oe,connectOnClick:He,defaultEdgeOptions:Tn,fitView:Qs,fitViewOptions:Ge,onNodesDelete:D,onEdgesDelete:F,onDelete:I,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:P,onSelectionDrag:$,onSelectionDragStart:M,onSelectionDragStop:L,onMove:u,onMoveStart:d,onMoveEnd:f,noPanClassName:ti,nodeOrigin:ge,rfId:Rp,autoPanOnConnect:kp,autoPanOnNodeDrag:Uy,autoPanSpeed:Hy,onError:Cn,connectionRadius:kc,isValidConnection:Rc,selectNodesOnDrag:ae,nodeDragThreshold:Js,onBeforeDelete:z,paneClickDistance:ur,debug:yk}),x.jsx(U1t,{onSelectionChange:j}),jt,x.jsx(N1t,{proOptions:bn,position:yt}),x.jsx($1t,{rfId:Rp,disableKeyboardA11y:Mo})]})})}var hSt=K1e(pSt);const gSt=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function mSt({children:e}){const t=ar(gSt);return t?gp.createPortal(e,t):null}function ySt(e){const[t,n]=O.useState(e),r=O.useCallback(i=>n(o=>Y1e(i,o)),[]);return[t,n,r]}function vSt(e){const[t,n]=O.useState(e),r=O.useCallback(i=>n(o=>X1e(i,o)),[]);return[t,n,r]}function bSt({dimensions:e,lineWidth:t,variant:n,className:r}){return x.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Qi(["react-flow__background-pattern",n,r])})}function xSt({radius:e,className:t}){return x.jsx("circle",{cx:e,cy:e,r:e,className:Qi(["react-flow__background-pattern","dots",t])})}var Hh;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Hh||(Hh={}));const SSt={[Hh.Dots]:1,[Hh.Lines]:1,[Hh.Cross]:6},wSt=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Sxe({id:e,variant:t=Hh.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:c,patternClassName:u}){const d=O.useRef(null),{transform:f,patternId:p}=ar(wSt,Di),g=r||SSt[t],m=t===Hh.Dots,v=t===Hh.Cross,b=Array.isArray(n)?n:[n,n],S=[b[0]*f[2]||1,b[1]*f[2]||1],C=g*f[2],_=Array.isArray(o)?o:[o,o],E=v?[C,C]:S,T=[_[0]*f[2]||1+E[0]/2,_[1]*f[2]||1+E[1]/2],k=`${p}${e||""}`;return x.jsxs("svg",{className:Qi(["react-flow__background",c]),style:{...l,...UI,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[x.jsx("pattern",{id:k,x:f[0]%S[0],y:f[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:m?x.jsx(xSt,{radius:C/2,className:u}):x.jsx(bSt,{dimensions:E,lineWidth:i,variant:t,className:u})}),x.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}Sxe.displayName="Background";const CSt=O.memo(Sxe);function _St(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:x.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ESt(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:x.jsx("path",{d:"M0 0h32v4.2H0z"})})}function kSt(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:x.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function RSt(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function TSt(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function AT({children:e,className:t,...n}){return x.jsx("button",{type:"button",className:Qi(["react-flow__controls-button",t]),...n,children:e})}const MSt=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function wxe({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left",orientation:f="vertical","aria-label":p="React Flow controls"}){const g=ui(),{isInteractive:m,minZoomReached:v,maxZoomReached:b}=ar(MSt,Di),{zoomIn:S,zoomOut:C,fitView:_}=zH(),E=()=>{S(),o==null||o()},T=()=>{C(),s==null||s()},k=()=>{_(i),a==null||a()},A=()=>{g.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l==null||l(!m)},P=f==="horizontal"?"horizontal":"vertical";return x.jsxs(BI,{className:Qi(["react-flow__controls",P,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":p,children:[t&&x.jsxs(x.Fragment,{children:[x.jsx(AT,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b,children:x.jsx(_St,{})}),x.jsx(AT,{onClick:T,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v,children:x.jsx(ESt,{})})]}),n&&x.jsx(AT,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view",children:x.jsx(kSt,{})}),r&&x.jsx(AT,{className:"react-flow__controls-interactive",onClick:A,title:"toggle interactivity","aria-label":"toggle interactivity",children:m?x.jsx(TSt,{}):x.jsx(RSt,{})}),u]})}wxe.displayName="Controls";const ASt=O.memo(wxe);function OSt({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,selected:f,onClick:p}){const{background:g,backgroundColor:m}=o||{},v=s||g||m;return x.jsx("rect",{className:Qi(["react-flow__minimap-node",{selected:f},c]),x:t,y:n,rx:u,ry:u,width:r,height:i,style:{fill:v,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?b=>p(b,e):void 0})}const DSt=O.memo(OSt),PSt=e=>e.nodes.map(t=>t.id),s4=e=>e instanceof Function?e:()=>e;function ISt({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=DSt,onClick:s}){const a=ar(PSt,Di),l=s4(t),c=s4(e),u=s4(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return x.jsx(x.Fragment,{children:a.map(f=>x.jsx(FSt,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},f))})}function $St({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:c,x:u,y:d,width:f,height:p}=ar(g=>{const{internals:m}=g.nodeLookup.get(e),v=m.userNode,{x:b,y:S}=m.positionAbsolute,{width:C,height:_}=mp(v);return{node:v,x:b,y:S,width:C,height:_}},Di);return!c||c.hidden||!_1e(c)?null:x.jsx(a,{x:u,y:d,width:f,height:p,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:o,shapeRendering:s,onClick:l,id:c.id})}const FSt=O.memo($St);var NSt=O.memo(ISt);const LSt=200,jSt=150,zSt=e=>!e.hidden,BSt=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?C1e(S2(e.nodeLookup,{filter:zSt}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},USt="react-flow__minimap-desc";function Cxe({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:d,position:f="bottom-right",onClick:p,onNodeClick:g,pannable:m=!1,zoomable:v=!1,ariaLabel:b="React Flow mini map",inversePan:S,zoomStep:C=10,offsetScale:_=5}){const E=ui(),T=O.useRef(null),{boundingRect:k,viewBB:A,rfId:P,panZoom:D,translateExtent:F,flowWidth:I,flowHeight:j}=ar(BSt,Di),M=(e==null?void 0:e.width)??LSt,$=(e==null?void 0:e.height)??jSt,L=k.width/M,V=k.height/$,q=Math.max(L,V),U=q*M,z=q*$,B=_*q,G=k.x-(U-k.width)/2-B,Y=k.y-(z-k.height)/2-B,Q=U+B*2,K=z+B*2,te=`${USt}-${P}`,ce=O.useRef(0),ie=O.useRef();ce.current=q,O.useEffect(()=>{if(T.current&&D)return ie.current=n1t({domNode:T.current,panZoom:D,getTransform:()=>E.getState().transform,getViewScale:()=>ce.current}),()=>{var fe;(fe=ie.current)==null||fe.destroy()}},[D]),O.useEffect(()=>{var fe;(fe=ie.current)==null||fe.update({translateExtent:F,width:I,height:j,inversePan:S,pannable:m,zoomStep:C,zoomable:v})},[m,v,S,C,F,I,j]);const re=p?fe=>{var W;const[ne,pe]=((W=ie.current)==null?void 0:W.pointer(fe))||[0,0];p(fe,{x:ne,y:pe})}:void 0,he=g?O.useCallback((fe,ne)=>{const pe=E.getState().nodeLookup.get(ne).internals.userNode;g(fe,pe)},[]):void 0;return x.jsx(BI,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*q:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Qi(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:x.jsxs("svg",{width:M,height:$,viewBox:`${G} ${Y} ${Q} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:T,onClick:re,children:[b&&x.jsx("title",{id:te,children:b}),x.jsx(NSt,{onClick:he,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),x.jsx("path",{className:"react-flow__minimap-mask",d:`M${G-B},${Y-B}h${Q+B*2}v${K+B*2}h${-Q-B*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Cxe.displayName="MiniMap";O.memo(Cxe);function HSt({nodeId:e,position:t,variant:n=t_.Handle,className:r,style:i={},children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,shouldResize:f,onResizeStart:p,onResize:g,onResizeEnd:m}){const v=exe(),b=typeof e=="string"?e:v,S=ui(),C=O.useRef(null),_=n===t_.Line?"right":"bottom-right",E=t??_,T=O.useRef(null);O.useEffect(()=>{if(!(!C.current||!b))return T.current||(T.current=y1t({domNode:C.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:D,transform:F,snapGrid:I,snapToGrid:j,nodeOrigin:M,domNode:$}=S.getState();return{nodeLookup:D,transform:F,snapGrid:I,snapToGrid:j,nodeOrigin:M,paneDomNode:$}},onChange:(D,F)=>{const{triggerNodeChanges:I,nodeLookup:j,parentLookup:M,nodeOrigin:$}=S.getState(),L=[],V={x:D.x,y:D.y},q=j.get(b);if(q&&q.expandParent&&q.parentId){const U=q.origin??$,z=D.width??q.measured.width??0,B=D.height??q.measured.height??0,G={id:q.id,parentId:q.parentId,rect:{width:z,height:B,...E1e({x:D.x??q.position.x,y:D.y??q.position.y},{width:z,height:B},q.parentId,j,U)}},Y=jH([G],j,M,$);L.push(...Y),V.x=D.x?Math.max(U[0]*z,D.x):void 0,V.y=D.y?Math.max(U[1]*B,D.y):void 0}if(V.x!==void 0&&V.y!==void 0){const U={id:b,type:"position",position:{...V}};L.push(U)}if(D.width!==void 0&&D.height!==void 0){const U={id:b,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:D.width,height:D.height}};L.push(U)}for(const U of F){const z={...U,type:"position"};L.push(z)}I(L)},onEnd:({width:D,height:F})=>{const I={id:b,type:"dimensions",resizing:!1,dimensions:{width:D,height:F}};S.getState().triggerNodeChanges([I])}})),T.current.update({controlPosition:E,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:d,onResizeStart:p,onResize:g,onResizeEnd:m,shouldResize:f}),()=>{var D;(D=T.current)==null||D.destroy()}},[E,a,l,c,u,d,p,g,m,f]);const k=E.split("-"),A=n===t_.Line?"borderColor":"backgroundColor",P=s?{...i,[A]:s}:i;return x.jsx("div",{className:Qi(["react-flow__resize-control","nodrag",...k,n,r]),ref:C,style:P,children:o})}O.memo(HSt);const _xe={NODE_DATA:"nodeData"};function Ioe(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function HI(){const[e,t]=O.useState(Ioe());return O.useEffect(()=>{function n(){t(Ioe())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const VSt=({open:e,onClose:t,branchOrder:n,branchNameFromId:r,selectedBranchNumber:i,handleBranchOrderChange:o,handleSubmitOrderChanges:s})=>{const{isDarkMode:a}=vy(),l=c=>{if(!c.destination)return;const u=Object.keys(n).filter(g=>g!=="1"&&g!=="0"),d=Array.from(u),[f]=d.splice(c.source.index,1);d.splice(c.destination.index,0,f);const p={1:1};d.forEach((g,m)=>{p[g]=m+2}),o(p)};return x.jsxs(Ri,{open:e,onClose:t,"aria-labelledby":"change-order-dialog",children:[x.jsxs(Aa,{children:["Change Branch Order",x.jsx("br",{}),x.jsxs(it,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["Current Branch: ",i]})]}),x.jsx(Ma,{children:x.jsx(jgt,{onDragEnd:l,children:x.jsx(Emt,{droppableId:"branchOrder",children:c=>x.jsxs("div",{...c.droppableProps,ref:c.innerRef,children:[Object.entries(n).filter(([u,d])=>u!=="1"&&u!=="0").sort((u,d)=>u[1]-d[1]).map(([u,d],f)=>x.jsx(imt,{draggableId:u,index:f,isDragDisabled:parseInt(u)!==i,children:(p,g)=>x.jsxs(lt,{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,sx:{padding:2,margin:1,border:"1px solid gray",borderRadius:"4px",backgroundColor:g.isDragging?a?"#222222":"lightgrey":a?"black":"white",display:"flex",alignItems:"center",justifyContent:"space-between",opacity:u==i||g.isDragging?1:a?.4:.6,cursor:u==i?"grab":"default"},children:[x.jsxs(it,{variant:"body1",children:[d,": ",r(u)]}),u==i&&x.jsx(it,{variant:"body2",color:"text.secondary",children:"(Current)"})]})},u)),c.placeholder]})})})}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:t,color:"secondary",children:"Cancel"}),x.jsx(Ft,{onClick:s,variant:"contained",color:"primary",children:"Save"})]})]})},WSt=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:o,targetPosition:s,onCloseButtonClick:a})=>{const{user:l}=O.useContext(Ig),[c,u]=O.useState(!1),d=lr();O.useEffect(()=>{u(l==null?void 0:l.permissions.some(m=>m.name===zh.DELETE_EDGE))},[l]);const[f,p,g]=$H({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:s});return x.jsxs(x.Fragment,{children:[x.jsx(C2,{id:e,path:f,style:{stroke:d.palette.primary.dark}}),c&&x.jsx(mSt,{children:x.jsx(sn,{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${p}px,${g}px)`,pointerEvents:"all"},color:"inherit",onClick:m=>{m.stopPropagation(),a(e)},children:x.jsx(ume,{})})})]})},Exe=({type:e})=>{if([...rO,"filter_orthogonal"].includes(e))return x.jsx(YZe,{});switch(e){case"import":return x.jsx(ZZe,{});case"filter_categories":return x.jsx(C1,{});case"create_subgroup":return x.jsx(C1,{});case"export":return x.jsx(cU,{});default:return x.jsx(HZe,{})}},qSt=({isValidConnection:e})=>x.jsx(_d,{id:"Left",type:"target",position:Vt.Left,style:{width:"20px",height:"20px"},isValidConnection:e}),GSt=({isValidConnection:e})=>x.jsx(_d,{id:"TopLeft",type:"target",position:Vt.Left,style:{width:"20px",height:"20px",top:"50%",marginTop:"-25px"},isValidConnection:e}),YSt=({isValidConnection:e})=>x.jsx(_d,{id:"BottomLeft",type:"target",position:Vt.Left,style:{width:"20px",height:"20px",top:"50%",marginTop:"25px"},isValidConnection:e}),XSt=({isValidConnection:e})=>x.jsx(_d,{id:"Right",type:"source",position:Vt.Right,style:{width:"20px",height:"20px"},isValidConnection:e}),KSt=({isValidConnection:e,isMeanBlock:t})=>x.jsx(Yt,{title:t&&"Full Table with Mean Columns",placement:"top",enterDelay:0,leaveDelay:300,slotProps:{tooltip:{sx:{fontSize:"1rem"}}},children:x.jsx(_d,{id:"TopRight",type:"source",position:Vt.Right,style:{width:"20px",height:"20px",top:"50%",marginTop:"-25px"},isValidConnection:e})}),QSt=({isValidConnection:e,isMeanBlock:t})=>x.jsx(Yt,{title:t&&"Mean / Truncated Table",placement:"bottom",enterDelay:0,leaveDelay:300,slotProps:{tooltip:{sx:{fontSize:"1rem"}}},children:x.jsx(_d,{id:"BottomRight",type:"source",position:Vt.Right,style:{width:"20px",height:"20px",top:"50%",marginTop:"25px"},isValidConnection:e})}),ZSt=({open:e,setOpen:t,setBlockTitle:n,blockTitle:r,blockDescription:i,username:o,pipeId:s,nodeId:a})=>{const[l,c]=O.useState(r??""),u=Xme(),d=p=>{p.stopPropagation(),t(!1),c(r??"")},f=async p=>{p.stopPropagation(),p.preventDefault(),await u.mutateAsync({pipeId:s,nodeId:a,username:o,title:l,description:i},{onSuccess:()=>{t(!1),n(l),or.info("Successfully changed block title")},onError:g=>{or.error("Error updating the block: "+JSON.stringify(g))}})};return x.jsxs(Ri,{open:e,onClose:d,PaperProps:{component:"form",onSubmit:p=>{f(p)}},onClick:p=>p.stopPropagation(),children:[x.jsx(Aa,{children:"Edit Title"}),x.jsxs(Ma,{children:[x.jsx(gl,{children:"Type the new title for the block, then click save."}),x.jsx(Ir,{autoFocus:!0,required:!0,margin:"dense",id:"name",name:"title",label:"Title",fullWidth:!0,value:l,onChange:p=>{c(p.target.value)},disabled:u.isPending})]}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:p=>d(p),disabled:u.isPending,children:"Cancel"}),x.jsx(Ft,{variant:"contained",type:"submit",disabled:u.isPending,children:u.isPending?"Saving...":"Save"})]})]})},JSt=({config:e})=>{const n={CheckBox:hZe,Merge:jZe,FileDownload:cU,Swap:tJe}[e.options.icon];return x.jsxs(en,{direction:"row",children:[x.jsx(n,{}),x.jsx(it,{sx:{ml:1},variant:"body1",children:"Click for more options"})]})},kxe=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,isOnFlowNode:i=!1,onImageWidthCalculated:o=()=>{},use80percentWidth:s})=>{const{height:a,width:l}=HI(),{isPresentationMode:c}=Ox(),[u,d]=O.useState({width:0,height:0}),[f,p]=O.useState(null),{isDarkMode:g}=vy(),{data:m,isLoading:v,isRefetching:b,refetch:S}=Ctt({pipeId:e,blockId:t,username:n,sparsify:i,height:i?300:Math.round(a*.55),width:i?150:s?l*(2.8/4):l*(5/6),presentationMode:c,darkMode:g,includeDescription:!1});return O.useEffect(()=>{if(m){const C=URL.createObjectURL(m);p(C)}return()=>{f&&URL.revokeObjectURL(f)}},[m]),O.useEffect(()=>{S()},[r,c,g]),x.jsxs(x.Fragment,{children:[x.jsx(wd,{loading:v||b}),f&&x.jsx("img",{src:f,alt:"",draggable:"false",style:{width:u.width,height:u.height,transform:"translateZ(0)",transformOrigin:"top left",objectFit:"contain",display:"block",margin:"0 auto"},onLoad:C=>{d({width:C.target.naturalWidth,height:C.target.naturalHeight}),o(C.target.naturalWidth)}})]})},ewt=({nodeId:e,pipeId:t,usernameFromPath:n})=>x.jsx(kxe,{pipeId:t,nodeId:e,usernameFromPath:n,isOnFlowNode:!0}),twt=({values:e,size:t})=>x.jsx(en,{direction:"column",spacing:2,children:e&&e.map((n,r)=>x.jsx(VP,{variant:"outlined",children:x.jsx(it,{variant:"body1",sx:{padding:1,fontSize:t},children:n})},r))}),nwt=({id:e,anchorEl:t,open:n,handleClose:r,setDialogOpen:i,onDeleteButtonClick:o,checkBoxes:s,checked:a,onCheckboxClick:l,onOpenChangeOrder:c,branchNumber:u,isForeignPipe:d})=>x.jsx($d,{anchorEl:t,open:n,onClose:r,MenuListProps:{"aria-labelledby":"basic-button"},children:x.jsxs(o2,{dense:!0,sx:{mt:-1,mb:-1},children:[x.jsxs(ir,{onClick:f=>{i(!0),r(f)},children:[x.jsx(no,{children:x.jsx(Ax,{})}),x.jsx(sd,{primary:"Rename"})]}),x.jsxs(ir,{onClick:f=>{o(e),r(f)},children:[x.jsx(no,{children:x.jsx(dme,{})}),x.jsx(sd,{primary:"Delete"})]}),s.map((f,p)=>x.jsxs(ir,{onClick:g=>{l(e,f,!a[f]),g.stopPropagation()},children:[x.jsx(no,{children:x.jsx(sg,{name:f,checked:a[f],disabled:d(),sx:{ml:-1}})}),x.jsx(sd,{primary:f})]},p)),x.jsxs(ir,{onClick:f=>{c(e),r(f)},children:[x.jsx(no,{children:x.jsx(eJe,{})}),x.jsx(sd,{primary:"Change Order",secondary:`Current branch: ${u}`})]})]})}),rwt=({id:e,pipeId:t,usernameFromPath:n,data:r,isValidConnection:i,onDeleteButtonClick:o,onCheckboxClick:s,onOpenChangeOrder:a,...l})=>{var z;const c=bu(n),{isTemplate:u}=xu(),{currentUserIsAdmin:d}=Xi(),f=!d||u,{isPresentationMode:p}=Ox(),[g,m]=O.useState(!1),[v,b]=O.useState(r.title),S=lr(),C=r.blueprint.df_specs.filter(B=>B.type==="in"),_=r.blueprint.df_specs.filter(B=>B.type==="out"),[E,T]=O.useState(null),A=xme.includes(r.blueprint.type)?$ne:[[$ne[0]]],[P,D]=O.useState({[A[0]]:(z=r.dashboard_configuration)==null?void 0:z.view_in_dashboard,[A[1]]:r.skip}),F=!!E,I=fJe(p),j=()=>C.length==0?x.jsx(x.Fragment,{}):C.length==2?x.jsxs(x.Fragment,{children:[x.jsx(GSt,{isValidConnection:i}),x.jsx(YSt,{isValidConnection:i})]}):x.jsx(qSt,{isValidConnection:i}),M=()=>{if(_.length==0)return x.jsx(x.Fragment,{});if(_.length==2){let B=r.blueprint.type==="mean";return x.jsxs(x.Fragment,{children:[x.jsx(KSt,{isValidConnection:i,isMeanBlock:B}),x.jsx(QSt,{isValidConnection:i,isMeanBlock:B})]})}else return x.jsx(XSt,{isValidConnection:i})},$=(B,G)=>{let Y=B.blueprint.children[0];switch(Y.type){case"single_select":case"table":let Q=[];return B.blueprint.type==="import"&&B.data.value[0]!==void 0?Q=[B.data.value[0].filename]:Q=B.configuration.elements.filter(K=>K.type==="single_select"&&K.selected_values.length===1).map(K=>K.selected_values[0]),x.jsx(twt,{values:Q,size:I});case"plot":return x.jsx(ewt,{config:Y,nodeId:e,pipeId:t,usernameFromPath:n,...G});case"icon":return x.jsx(JSt,{config:Y,...G});default:return or.error("Unknown node type: "+Y.type),x.jsx(x.Fragment,{})}},L=B=>{T(B.currentTarget),B.stopPropagation()},V=B=>{T(null),B.stopPropagation()},q=(B,G,Y)=>{D(Q=>({...Q,[G]:Y})),s(B,G,Y)},U=P.Skip;return x.jsxs(Us,{additionalSx:{mt:0,backgroundColor:U?S.palette.background.disabled:S.palette.background.default,BorderColor:U?S.palette.highlight.border:S.palette.background.border},children:[x.jsx(j,{}),x.jsxs(en,{direction:"column",spacing:2,children:[x.jsxs(en,{direction:"row",spacing:1,sx:{alignItems:"center",justifyContent:"space-between"},children:[x.jsx(Exe,{type:r.blueprint.type}),x.jsx(it,{variant:"body1",sx:{ml:1,fontSize:I},children:v}),!f&&x.jsx(sn,{sx:{ml:"auto"},onClick:L,children:x.jsx(gme,{})}),x.jsx(nwt,{id:e,anchorEl:E,open:F,handleClose:V,setDialogOpen:m,onDeleteButtonClick:o,checkBoxes:A,checked:P,onCheckboxClick:q,onOpenChangeOrder:a,branchNumber:r.branchNumber,isForeignPipe:c})]}),e!==aC&&$(r,l)]}),x.jsx(ZSt,{open:g,setOpen:m,blockTitle:v,blockDescription:r.description,setBlockTitle:b,username:n,pipeId:t,nodeId:e}),x.jsx(M,{})]})},iwt=({block_blueprint:e})=>{const t=n=>{n.dataTransfer.setData(_xe.NODE_DATA,JSON.stringify(e)),n.dataTransfer.effectAllowed="move"};return x.jsx(Yt,{title:e.description,enterDelay:500,enterNextDelay:500,children:x.jsx(VP,{onDragStart:t,draggable:!0,sx:{padding:2,cursor:"grab","&:hover":{backgroundColor:"primary.light"}},"data-testid":`block-library-${e.type}`,children:x.jsxs(lt,{sx:{display:"flex",flexDirection:"row"},children:[x.jsx(Exe,{type:e.type}),x.jsx(it,{variant:"body1",sx:{ml:1},children:e.title})]})})})},owt=({title:e,blueprints:t})=>{const n=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();return x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(it,{variant:"h6",children:n}),t.map((r,i)=>x.jsx(iwt,{block_blueprint:r},i))]})},swt=({height:e})=>{const{data:t=[]}=ett();return x.jsx(lt,{sx:{mt:0,overflow:"hidden",overflowY:"scroll"},children:x.jsx(Us,{additionalSx:{pb:0},children:x.jsxs(en,{direction:"column",children:[x.jsx(lt,{children:x.jsx(Yt,{title:"You can drag these nodes onto the canvas.",children:x.jsx(it,{variant:"h5",children:"Block Library"})})}),x.jsxs(en,{direction:"column",spacing:2,sx:{pt:2,display:"flex",height:e},children:[Object.entries(t).map(([n,r],i)=>x.jsx(owt,{title:n,blueprints:r},i)),x.jsx("div",{style:{minHeight:"5px"}})]})]})})})},Rxe=()=>{const e=lr(),t=O.useRef({}),n=O.useRef(null),[r,i]=O.useState(null),{pipeId:o,username:s,isTemplate:a}=xu(),{height:l,width:c}=HI(),u=Oa(),[d,f,p]=ySt([]),[g,m,v]=vSt([]),b=bu(s),[S,C]=O.useState(!1),[_,E]=O.useState(!1),[T,k]=O.useState(null),[A,P]=O.useState({}),D=Xi().isReadOnly,[F,I]=O.useState(!1),[j,M]=O.useState(!1),{data:$,isLoading:L}=c2(o,s,a),{data:V,isLoading:q,refetch:U}=stt(o,s),z=ttt(),B=ftt(),G=vtt(),Y=btt(),Q=xtt(),K=ytt(),te=ptt(),ce=gtt(),ie=mtt();_tt();const re=O.useRef({}),he=O.useMemo(()=>({...V}),[V]),fe=Me=>{P(Me)},ne=()=>{let Me={...he};Object.entries(A).forEach(([Qe,Rt])=>{Object.entries(he).forEach(([Et,Wt])=>{Wt===parseInt(Qe)&&(Me[Et]=parseInt(Rt))})});const ze=Object.keys(Me).map(Qe=>({id:Qe,order:Me[Qe]}));z.mutate({pipeId:o,blocks:ze,username:s}),se()},pe=Me=>d.filter(Qe=>he[Qe.id]==Me).map(Qe=>Qe.data.title).join(", "),W=Me=>{const ze=re.current[Me];if(ze){const Qe=Object.entries(re.current).filter(([Rt,Et])=>Et!==1).reduce((Rt,[Et,Wt])=>(Rt[Wt]=Wt,Rt),{});P(Qe),k(ze),E(!0)}else console.error("BranchMap is not populated or nodeId is invalid",{nodeId:Me,currentBranchMap:re.current})},se=()=>{E(!1),k(null)},ae=()=>{C(!0)},X=Me=>{let ze=Me.map(Qe=>{const Rt=he[Qe.flow_id];return{id:`${Qe.flow_id}`,data:{...Qe,branchNumber:Rt||0},position:Qe.position,type:"custom"}});f(ze)},Z=(Me,ze,Qe,Rt)=>`e${Me}-${ze}-${Qe}-${Rt}`,oe=Me=>({id:Z(Me.source,Me.sourceHandle,Me.target,Me.targetHandle),type:"custom",animated:"true",style:{stroke:"black"},...Me}),ge=Me=>{let ze=Me.map(Qe=>{var Rt,Et;return oe({source:Qe.source_flow_id.toString(),sourceHandle:(Rt=Qe.source_handle_id)==null?void 0:Rt.toString(),target:Qe.target_flow_id.toString(),targetHandle:(Et=Qe.target_handle_id)==null?void 0:Et.toString()})});t.current=ze,m(ze)},be=Me=>Me.source===aC||Me.target===aC?!1:t.current.filter(Rt=>Rt.target===Me.target&&Rt.targetHandle===Me.targetHandle).length===0,de=O.useCallback(Me=>{if(b()){ae();return}const ze=he[Me.source],Qe=Me.target,Rt=(Wt,vn)=>{he[Wt]=vn,t.current.filter($t=>$t.source===Wt).forEach($t=>{Rt($t.target,vn)})};ze!==void 0&&ze!==1&&Rt(Qe,ze);let Et=oe(Me);Y.mutate({pipeId:o,edge:Et,username:s})},[s]),Re=O.useCallback(Me=>{Me.preventDefault(),Me.dataTransfer.dropEffect="move"},[]),xe=()=>{let Me=d.length+1;for(;d.find(ze=>ze.id===Me.toString());)Me+=1;return Me.toString()},ue=Me=>{if(Me.preventDefault(),b()||D){ae();return}const ze=n.current.getBoundingClientRect(),Qe=Me.dataTransfer.getData(_xe.NODE_DATA),Rt=JSON.parse(Qe);if(Rt.type==="import"&&!F&&d.some(vn=>vn.data.blueprint.type==="import")&&(M(!0),I(!0)),typeof Rt>"u"||!Rt)return or.error("Invalid blueprint"),{};const Et=r.screenToFlowPosition({x:Me.clientX-ze.left+150,y:Me.clientY-ze.top});let Wt={id:xe(),type:"custom",position:Et,width:150,height:80,data:{blueprint:Rt,configuration:Rt.default_configuration,data:{value:{}}}};B.mutate({pipeId:o,node:Wt,username:s})},we=(Me,ze)=>{if(document.getElementById("basic-menu")!==null||a||D&&!ze.data.dashboard_configuration.view_in_dashboard||ze.id===aC)return;const Qe=Sd(s,o);u({to:`/pipe/${Qe}/block/${ze.id}`})},Oe=(Me,ze)=>{if(b()){ae();return}ze&&K.mutate({pipeId:o,nodeId:parseInt(ze.id),position:ze.position,username:s})},ke=(Me,ze)=>{te.mutate({pipeId:o,nodeId:parseInt(Me),username:s,value:ze})},Ie=Me=>{if(b()){ae();return}f(ze=>ze.filter(Qe=>Qe.id!==Me)),m(ze=>ze.filter(Qe=>Qe.source!==Me&&Qe.target!==Me)),G.mutate({pipeId:o,nodeId:parseInt(Me),username:s})},ve=(Me,ze)=>{ce.mutate({pipeId:o,nodeId:parseInt(Me),username:s,viewInDashboard:ze})},_e=(Me,ze)=>{ie.mutate({pipeId:o,nodeId:parseInt(Me),username:s,skip:ze})},$e=Me=>{if(b()){ae();return}m(ze=>ze.filter(Qe=>Qe.id!==Me)),Q.mutate({pipeId:o,edgeId:Me,username:s})},De=O.useMemo(()=>({custom:Me=>x.jsx(rwt,{pipeId:o,usernameFromPath:s,isValidConnection:be,onValueChanged:ze=>{ke(Me.id,ze)},onDeleteButtonClick:ze=>{Ie(ze)},onCheckboxClick:(ze,Qe,Rt)=>{Qe==="Skip"?_e(ze,Rt):ve(ze,Rt)},onOpenChangeOrder:W,...Me})}),[s]),ot=O.useMemo(()=>({custom:Me=>x.jsx(WSt,{onCloseButtonClick:ze=>{$e(ze)},...Me})}),[s]);return O.useEffect(()=>{var Me,ze,Qe,Rt,Et,Wt;if($){let{blocks:vn,connections:It}=$;if(B.isPending&&((Me=B.variables)!=null&&Me.node)&&vn.push({...B.variables.node.data,flow_id:aC,position:B.variables.node.position,title:B.variables.node.data.blueprint.title,description:B.variables.node.data.blueprint.description}),K.isPending&&((ze=K.variables)!=null&&ze.nodeId)&&((Qe=K.variables)!=null&&Qe.position)){let $t=vn.find(ur=>ur.flow_id===parseInt(K.variables.nodeId));$t&&($t.position=K.variables.position)}Y.isPending&&((Rt=Y.variables)!=null&&Rt.edge)&&It.push({source_flow_id:Y.variables.edge.source,source_handle_id:Y.variables.edge.sourceHandle,target_flow_id:Y.variables.edge.target,target_handle_id:Y.variables.edge.targetHandle}),Q.isPending&&((Et=Q.variables)!=null&&Et.edgeId)&&(It=It.filter($t=>Z($t.source_flow_id,$t.source_handle_id,$t.target_flow_id,$t.target_handle_id)!==Q.variables.edgeId)),G.isPending&&((Wt=G.variables)!=null&&Wt.nodeId)&&(vn=vn.filter($t=>$t.flow_id!==parseInt(G.variables.nodeId))),X(vn),ge(It),U()}},[$,B.variables,K.variables,Y.variables,Q.variables,G.variables,U]),O.useEffect(()=>{V&&(re.current=V)},[V]),O.useEffect(()=>{$&&a&&ae()},[$,a]),x.jsxs(en,{direction:"row",spacing:2,sx:{mt:6},children:[!D&&x.jsx(swt,{height:l-200}),x.jsx(xxe,{children:x.jsx(lt,{ref:n,sx:{flexGrow:1,display:"flex",justifyContent:D?"center":"flex-start",alignItems:D?"center":"flex-start",width:D?"100%":"auto"},children:x.jsx(Us,{additionalSx:{height:l-155,width:c-(D?0:300),padding:-10,overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"},children:L||q?x.jsx(au,{sx:{position:"absolute",top:"50%",left:"50%"}}):x.jsxs(x.Fragment,{children:[x.jsx(Qme,{open:S,setOpen:C,usernameFromPath:s,pipeId:o,isTemplate:a}),x.jsxs(hSt,{colorMode:e.palette.mode,style:{background:e.palette.background.table},nodes:d,edges:g,nodeTypes:De,edgeTypes:ot,onNodesChange:p,onEdgesChange:v,onConnect:de,nodesDraggable:!D,nodesConnectable:!D,elementsSelectable:!D,onInit:i,onDrop:ue,onDragOver:Re,onNodeClick:we,onNodeDragStop:Oe,fitView:!0,"data-testid":"react-flow-pipeline-canvas",children:[x.jsx(CSt,{color:e.palette.highlight.flowGrid}),x.jsx(ASt,{})]}),x.jsx(VSt,{open:_,onClose:se,branchOrder:A,branchNameFromId:pe,selectedBranchNumber:T,handleBranchOrderChange:fe,handleSubmitOrderChanges:ne}),x.jsx(WP,{open:j,autoHideDuration:6e3,onClose:()=>M(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:x.jsx(Zhe,{onClose:()=>M(!1),severity:"warning",variant:"filled",sx:{width:"100%"},children:"You already have a File Import block in this pipe. The Branch Ordering feature only works with the first Import block."})})]})})})})]})};function awt(){const{api:e}=O.useContext(un),{user:t}=O.useContext(Ig),n=Oa(),{pipeId:r,username:i,isTemplate:o}=xu(),s=bu(i)(),a=()=>{o?e.createNewPipe("template clone",r).then(l=>{const c=Sd(t.username,l.data.pipe_id);n({to:`${Mi.Dashboard}/${c}`})}).catch(l=>{or.error("Could not clone pipe: "+JSON.stringify(l))}):e.clonePipe(r,i).then(l=>{const c=Sd(t.username,l.data.pipe_id);n({to:`${Mi.Dashboard}/${c}`})}).catch(l=>{or.error("Could not clone pipe: "+JSON.stringify(l))})};return!s&&!o?null:x.jsx(Yt,{title:"Clone Pipe",children:x.jsx(sn,{color:"primary",onClick:a,children:x.jsx(w1,{})})})}const $oe=({username:e,pipeId:t,destination:n})=>{const r=Oa(),i=Sd(e,t);return x.jsx(Yt,{title:`Switch to ${n}`,children:x.jsxs(Ft,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,px:2},variant:"outlined","data-testid":"button-toggle-pipeline-view",onClick:()=>{r({to:`/${n}/${i}`})},children:[n==="dashboard"?"View Dashboard":"Edit Pipeline",n==="dashboard"?x.jsx(vme,{}):x.jsx(rZe,{})]})})};function lwt({username:e,shouldShowBackToDashboardButton:t,shouldShowBackToPipeButton:n,pipeId:r}){return x.jsxs(lt,{children:[n&&x.jsx($oe,{username:e,pipeId:r,destination:"pipe"}),t&&x.jsx($oe,{username:e,pipeId:r,destination:"dashboard"})]})}function cwt(){const{pipeId:e,username:t,nodeId:n,isTemplate:r}=xu(),i=bu(t)(),{data:o,isLoading:s}=Yme(e,n,t),{setEditBlockDialogOpen:a}=pU();return s||!n?null:x.jsxs(lt,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[x.jsxs(lt,{sx:{display:"flex",alignItems:"end",justifyContent:"center"},children:[x.jsx(it,{variant:"body1",sx:{mr:1},children:"Block"}),x.jsx(it,{variant:"h4",sx:{whiteSpace:"nowrap",mr:1},children:o.title})]}),!i&&!r&&x.jsx(sn,{onClick:()=>{a({pipeId:e,nodeId:n,username:t,title:o.title,description:o.description})},children:x.jsx(Ax,{})})]})}function uwt(){const{pipeId:e,username:t,isTemplate:n}=xu(),{data:r,isLoading:i}=c2(e,t,n),{setRenamePipeModalOpen:o}=hU(),s=bu(t)();return i||!r?null:x.jsxs(lt,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[x.jsxs(lt,{sx:{display:"flex",alignItems:"end",justifyContent:"center"},children:[x.jsx(it,{variant:"body1",sx:{mr:1},children:"Dashboard"}),x.jsx(it,{variant:"h4",sx:{whiteSpace:"nowrap",mr:1},children:r.name})]}),!s&&!n&&x.jsx(sn,{onClick:()=>{o(!0,e,r.name)},children:x.jsx(Ax,{})})]})}const dwt=({pipeId:e,nodeId:t,pipeName:n})=>{const{setShareDialogOpen:r}=Kme(),[i,o]=O.useState(null),s=!!i,{username:a,isTemplate:l}=xu(),c=bu(a)(),u=()=>{r({url:window.location.href,pipeId:e,pipeName:n})},d=g=>{o(g.currentTarget)},f=()=>{o(null)},p=()=>{navigator.clipboard.writeText(window.location.href),f()};return c||l||t?null:x.jsxs(x.Fragment,{children:[x.jsxs(rVe,{children:[x.jsx(Ft,{startIcon:x.jsx(XZe,{}),onClick:u,children:"Share"}),x.jsx(Ft,{size:"small","aria-controls":s?"share-menu":void 0,"aria-expanded":s?"true":void 0,"aria-label":"select share action","aria-haspopup":"menu",onClick:d,children:x.jsx(lZe,{})})]}),x.jsxs($d,{id:"share-menu",anchorEl:i,open:s,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[x.jsxs(ir,{onClick:p,children:["Copy Link",x.jsx(w1,{fontSize:"small",sx:{marginLeft:"auto"}})]}),x.jsx(lt,{sx:{px:2,py:1},children:x.jsx(it,{variant:"caption",sx:{color:"text.secondary",display:"block"},children:"Everybody with this link can view the board."})})]})]})};function VI({username:e,pipeId:t,nodeId:n,isTemplate:r,shouldShowBackToDashboardButton:i=!1,shouldShowBackToPipeButton:o=!1,children:s}){const a=yu(),l=()=>a.history.back(),{data:c,isLoading:u}=c2(t,e,r);return u||!c?null:x.jsxs(x.Fragment,{children:[x.jsx(Jhe,{sx:{mt:"65px",height:"50px"},style:{borderLeft:"none",borderRight:"none",borderTop:"none"},children:x.jsxs(lt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",px:2},children:[x.jsx(lt,{sx:{width:"400px"},children:x.jsx(sn,{onClick:()=>l(),children:x.jsx(aZe,{})})}),!n&&x.jsx(uwt,{}),x.jsx(cwt,{}),x.jsxs(lt,{sx:{width:"400px",display:"flex",justifyContent:"end",gap:2},children:[x.jsx(dwt,{pipeId:t,nodeId:n,pipeName:c==null?void 0:c.name}),x.jsx(awt,{}),x.jsx(lwt,{shouldShowBackToDashboardButton:i,shouldShowBackToPipeButton:o,username:e,pipeId:t})]})]})}),x.jsx(lt,{sx:{mt:7,padding:3,width:"100%"},children:s})]})}const fwt=Da("/template/$pipeId")({path:"$pipeId",component:pwt});function pwt(){const{pipeId:e,username:t}=xu();return x.jsx(VI,{pipeId:e,username:t,isTemplate:!0,children:x.jsx(Rxe,{})})}const hwt=Da("/pipes/$username")({component:gwt});function gwt(){const{data:e,isLoading:t}=kl();return t?x.jsx(wd,{loading:t}):x.jsx(mbe,{username:e.username})}const mwt=Da("/files/$username")({component:ywt});function ywt(){const{data:e,isLoading:t,error:n}=kl(),{data:r,isLoading:i,error:o}=ctt(e==null?void 0:e.username);return i||t?x.jsx(wd,{loading:!0}):n||o?x.jsxs("div",{children:["Error loading files:"," ",n.message||o.message]}):x.jsxs(Pg,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:[x.jsx(it,{variant:"h3",sx:{mt:5,mb:5,height:"50px"},children:"Files"}),x.jsx(eve,{columns:[{accessorKey:"filename",header:"Name"},{accessorKey:"cost_centers",header:"Cost Centers"},{accessorKey:"creation_date",header:"Creation Date"},{accessorKey:"uuid",header:"UUID"}],data:r})]})}const Foe={};function aB(e,t){e===void 0&&(e=Foe),t===void 0&&(t=Foe);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}const vwt=/("(?:[^\\"]|\\.)*")|[:,]/g;function a4(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(s,a,l){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const c=JSON.stringify(s,i);if(c===void 0)return c;const u=r-a.length-l;if(c.length<=u){const d=c.replace(vwt,(f,p)=>p||`${f} `);if(d.length<=u)return d}if(i!=null&&(s=JSON.parse(c),i=void 0),typeof s=="object"&&s!==null){const d=a+n,f=[];let p=0,g,m;if(Array.isArray(s)){g="[",m="]";const{length:v}=s;for(;p<v;p++)f.push(o(s[p],d,p===v-1?0:1)||"null")}else{g="{",m="}";const v=Object.keys(s),{length:b}=v;for(;p<b;p++){const S=v[p],C=`${JSON.stringify(S)}: `,_=o(s[S],d,C.length+(p===b-1?0:1));_!==void 0&&f.push(C+_)}}if(f.length>0)return[g,n+f.join(`,
${d}`),m].join(`
${a}`)}return c}(e,"",0)}function Pa(e,t,n){return e.fields=t||[],e.fname=n,e}function Ai(e){return e==null?null:e.fname}function ds(e){return e==null?null:e.fields}function Txe(e){return e.length===1?bwt(e[0]):xwt(e)}const bwt=e=>function(t){return t[e]},xwt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function qe(e){throw Error(e)}function Nd(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)c(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?c():s=a+1:l==="["?(a>s&&c(),i=s=a+1):l==="]"&&(i||qe("Access path missing open bracket: "+e),i>0&&c(),i=0,s=a+1)}return i&&qe("Access path missing closing bracket: "+e),r&&qe("Access path missing closing quote: "+e),a>s&&(a++,c()),t}function pc(e,t,n){const r=Nd(e);return e=r.length===1?r[0]:e,Pa((n&&n.get||Txe)(r),[e],t||e)}const _2=pc("id"),ms=Pa(e=>e,[],"identity"),gh=Pa(()=>0,[],"zero"),Ux=Pa(()=>1,[],"one"),hc=Pa(()=>!0,[],"true"),nh=Pa(()=>!1,[],"false");function Swt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const Mxe=0,UH=1,HH=2,Axe=3,Oxe=4;function VH(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Swt,r=e||Mxe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=UH&&n(t||"error","ERROR",arguments),this},warn(){return r>=HH&&n(t||"warn","WARN",arguments),this},info(){return r>=Axe&&n(t||"log","INFO",arguments),this},debug(){return r>=Oxe&&n(t||"log","DEBUG",arguments),this}}}var Xe=Array.isArray;function At(e){return e===Object(e)}const Noe=e=>e!=="__proto__";function Hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=wwt(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;Vx(r,o,i[o],s)}return r},{})}function Vx(e,t,n,r){if(!Noe(t))return;let i,o;if(At(n)&&!Xe(n)){o=At(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?Vx(o,i,n[i]):Noe(i)&&(o[i]=n[i])}else e[t]=n}function wwt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function er(e){return e[e.length-1]}function ls(e){return e==null||e===""?null:+e}const Dxe=e=>t=>e*Math.exp(t),Pxe=e=>t=>Math.log(e*t),Ixe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),$xe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,PO=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function WI(e,t,n,r){const i=n(e[0]),o=n(er(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function Fxe(e,t){return WI(e,t,ls,ms)}function Nxe(e,t){var n=Math.sign(e[0]);return WI(e,t,Pxe(n),Dxe(n))}function Lxe(e,t,n){return WI(e,t,PO(n),PO(1/n))}function jxe(e,t,n){return WI(e,t,Ixe(n),$xe(n))}function qI(e,t,n,r,i){const o=r(e[0]),s=r(er(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function WH(e,t,n){return qI(e,t,n,ls,ms)}function qH(e,t,n){const r=Math.sign(e[0]);return qI(e,t,n,Pxe(r),Dxe(r))}function IO(e,t,n,r){return qI(e,t,n,PO(r),PO(1/r))}function GH(e,t,n,r){return qI(e,t,n,Ixe(r),$xe(r))}function zxe(e){return 1+~~(new Date(e).getMonth()/3)}function Bxe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Tt(e){return e!=null?Xe(e)?e:[e]:[]}function Uxe(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Rn(e){return typeof e=="function"}const Cwt="descending";function YH(e,t,n){n=n||{},t=Tt(t)||[];const r=[],i=[],o={},s=n.comparator||_wt;return Tt(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===Cwt?-1:1),i.push(a=Rn(a)?a:pc(a,null,n)),(ds(a)||[]).forEach(c=>o[c]=1))}),i.length===0?null:Pa(s(i,r),Object.keys(o))}const E2=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),_wt=(e,t)=>e.length===1?Ewt(e[0],t[0]):kwt(e,t,e.length),Ewt=(e,t)=>function(n,r){return E2(e(n),e(r))*t},kwt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=E2(o(r),o(i));return s*t[a]});function ys(e){return Rn(e)?e:()=>e}function XH(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function kn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Ed(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function Hxe(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}function Pt(e,t){return Object.hasOwn(e,t)}const OT={};function Wx(e){let t={},n;function r(o){return Pt(t,o)&&t[o]!==OT}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===OT&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=OT),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==OT&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function Vxe(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=er(e),c;l<a&&(c=a,a=l,l=c),c=Math.abs(t-a);const u=Math.abs(l-t);return c<u&&c<=s?r:u<=s?i:o}function vt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),kn(r,n)}function mb(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function Ng(e){return typeof e=="boolean"}function Vh(e){return Object.prototype.toString.call(e)==="[object Date]"}function Wxe(e){return e&&Rn(e[Symbol.iterator])}function gr(e){return typeof e=="number"}function KH(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Mt(e){return typeof e=="string"}function QH(e,t,n){e&&(e=t?Tt(e).map(a=>a.replace(/\\(.)/g,"$1")):Tt(e));const r=e&&e.length,i=n&&n.get||Txe,o=a=>i(t?[a]:Nd(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let c=""+a[0](l),u=0;for(;++u<r;)c+="|"+a[u](l);return c}}return Pa(s,e,"key")}function qxe(e,t){const n=e[0],r=er(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Rwt=1e4;function Gxe(e){e=+e||Rwt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Pt(t,s)||Pt(n,s),get:s=>Pt(t,s)?t[s]:Pt(n,s)?o(s,n[s]):void 0,set:(s,a)=>Pt(t,s)?t[s]=a:o(s,a)}}function Yxe(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,c=0;for(;a<i&&l<o;++c)s[c]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++c)s[c]=t[a];for(;l<o;++l,++c)s[c]=n[l];return s}function fC(e,t){let n="";for(;--t>=0;)n+=e;return n}function Xxe(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?fC(i,s)+o:r==="center"?fC(i,~~(s/2))+o+fC(i,Math.ceil(s/2)):o+fC(i,s)}function k2(e){return e&&er(e)-e[0]||0}function ft(e){return Xe(e)?"["+e.map(ft)+"]":At(e)||Mt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function ZH(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const Twt=e=>gr(e)||Vh(e)?e:Date.parse(e);function JH(e,t){return t=t||Twt,e==null||e===""?null:t(e)}function eV(e){return e==null||e===""?null:e+""}function lu(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Kxe(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function ah(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var Loe={},l4={},c4=34,Mw=10,u4=13;function Qxe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Mwt(e,t){var n=Qxe(e);return function(r,i){return t(n(r),i,e)}}function joe(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function aa(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Awt(e){return e<0?"-"+aa(-e,6):e>9999?"+"+aa(e,6):aa(e,4)}function Owt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Awt(e.getUTCFullYear())+"-"+aa(e.getUTCMonth()+1,2)+"-"+aa(e.getUTCDate(),2)+(i?"T"+aa(t,2)+":"+aa(n,2)+":"+aa(r,2)+"."+aa(i,3)+"Z":r?"T"+aa(t,2)+":"+aa(n,2)+":"+aa(r,2)+"Z":n||t?"T"+aa(t,2)+":"+aa(n,2)+"Z":"")}function Dwt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var p,g,m=i(d,function(v,b){if(p)return p(v,b-1);g=v,p=f?Mwt(v,f):Qxe(v)});return m.columns=g||[],m}function i(d,f){var p=[],g=d.length,m=0,v=0,b,S=g<=0,C=!1;d.charCodeAt(g-1)===Mw&&--g,d.charCodeAt(g-1)===u4&&--g;function _(){if(S)return l4;if(C)return C=!1,Loe;var T,k=m,A;if(d.charCodeAt(k)===c4){for(;m++<g&&d.charCodeAt(m)!==c4||d.charCodeAt(++m)===c4;);return(T=m)>=g?S=!0:(A=d.charCodeAt(m++))===Mw?C=!0:A===u4&&(C=!0,d.charCodeAt(m)===Mw&&++m),d.slice(k+1,T-1).replace(/""/g,'"')}for(;m<g;){if((A=d.charCodeAt(T=m++))===Mw)C=!0;else if(A===u4)C=!0,d.charCodeAt(m)===Mw&&++m;else if(A!==n)continue;return d.slice(k,T)}return S=!0,d.slice(k,g)}for(;(b=_())!==l4;){for(var E=[];b!==Loe&&b!==l4;)E.push(b),b=_();f&&(E=f(E,v++))==null||p.push(E)}return p}function o(d,f){return d.map(function(p){return f.map(function(g){return u(p[g])}).join(e)})}function s(d,f){return f==null&&(f=joe(d)),[f.map(u).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=joe(d)),o(d,f).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(e)}function u(d){return d==null?"":d instanceof Date?Owt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}function Pwt(e){return e}function Iwt(e){if(e==null)return Pwt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var c=2,u=a.length,d=new Array(u);for(d[0]=(t+=a[0])*r+o,d[1]=(n+=a[1])*i+s;c<u;)d[c]=a[c],++c;return d}}function $wt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Fwt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return zoe(e,n)})}:zoe(e,t)}function zoe(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=Zxe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Zxe(e,t){var n=Iwt(e.transform),r=e.arcs;function i(u,d){d.length&&d.pop();for(var f=r[u<0?~u:u],p=0,g=f.length;p<g;++p)d.push(n(f[p],p));u<0&&$wt(d,g)}function o(u){return n(u)}function s(u){for(var d=[],f=0,p=u.length;f<p;++f)i(u[f],d);return d.length<2&&d.push(d[0]),d}function a(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(a)}function c(u){var d=u.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":f=o(u.coordinates);break;case"MultiPoint":f=u.coordinates.map(o);break;case"LineString":f=s(u.arcs);break;case"MultiLineString":f=u.arcs.map(s);break;case"Polygon":f=l(u.arcs);break;case"MultiPolygon":f=u.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return c(t)}function Nwt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(c,u){var d=e.arcs[c<0?~c:c],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++s],t[s]=c,t[u]=f)}),t.forEach(function(c){var u=a(c),d=u[0],f=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=f,g=r[f]){delete r[g.start];var m=g===p?p:p.concat(g);r[m.start=p.start]=i[m.end=g.end]=m}else r[p.start]=i[p.end]=p;else if(p=r[f])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=f]=p});function a(c){var u=e.arcs[c<0?~c:c],d=u[0],f;return e.transform?(f=[0,0],u.forEach(function(p){f[0]+=p[0],f[1]+=p[1]})):f=u[u.length-1],c<0?[f,d]:[d,f]}function l(c,u){for(var d in c){var f=c[d];delete u[f.start],delete f.start,delete f.end,f.forEach(function(p){n[p<0?~p:p]=1}),o.push(f)}}return l(i,r),l(r,i),t.forEach(function(c){n[c<0?~c:c]||o.push([c])}),o}function Lwt(e){return Zxe(e,jwt.apply(this,arguments))}function jwt(e,t,n){var r,i,o;if(arguments.length>1)r=zwt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Nwt(e,r)}}function zwt(e,t,n){var r=[],i=[],o;function s(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:o})}function a(d){d.forEach(s)}function l(d){d.forEach(a)}function c(d){d.forEach(l)}function u(d){switch(o=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function Vf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bwt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qx(e){let t,n,r;e.length!==2?(t=Vf,n=(a,l)=>Vf(e(a),l),r=(a,l)=>e(a)-l):(t=e===Vf||e===Bwt?e:Uwt,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Uwt(){return 0}function Jxe(e){return e===null?NaN:+e}function*Hwt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const eSe=qx(Vf),fg=eSe.right,Vwt=eSe.left;qx(Jxe).center;function Wwt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function qwt(e,t){const n=Wwt(e,t);return n&&Math.sqrt(n)}class zs{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class Boe extends Map{constructor(t,n=rSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(lB(this,t))}has(t){return super.has(lB(this,t))}set(t,n){return super.set(tSe(this,t),n)}delete(t){return super.delete(nSe(this,t))}}class $O extends Set{constructor(t,n=rSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(lB(this,t))}add(t){return super.add(tSe(this,t))}delete(t){return super.delete(nSe(this,t))}}function lB({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function tSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function nSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function rSe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Gwt(e,t){return Array.from(t,n=>e[n])}function Ywt(e=Vf){if(e===Vf)return iSe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function iSe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Xwt=Math.sqrt(50),Kwt=Math.sqrt(10),Qwt=Math.sqrt(2);function FO(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Xwt?10:o>=Kwt?5:o>=Qwt?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?FO(e,t,n*2):[a,l,c]}function cB(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?FO(t,e,n):FO(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function uB(e,t,n){return t=+t,e=+e,n=+n,FO(e,t,n)[2]}function pg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?uB(t,e,n):uB(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function v0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function dB(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function oSe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?iSe:Ywt(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*d/l+f)),g=Math.min(r,Math.floor(t+(l-c)*d/l+f));oSe(e,t,p,g,i)}const o=e[t];let s=n,a=r;for(Aw(e,n,t),i(e[r],o)>0&&Aw(e,n,r);s<a;){for(Aw(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Aw(e,n,a):(++a,Aw(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Aw(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fB(e,t,n){if(e=Float64Array.from(Hwt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return dB(e);if(t>=1)return v0(e);var r,i=(r-1)*t,o=Math.floor(i),s=v0(oSe(e,o).subarray(0,o+1)),a=dB(e.subarray(o+1));return s+(a-s)*(i-o)}}function sSe(e,t,n=Jxe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function Zwt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function aSe(e,t){return fB(e,.5,t)}function*Jwt(e){for(const t of e)yield*t}function lSe(e){return Array.from(Jwt(e))}function Ja(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function cSe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function eCt(e,...t){e=new $O(e),t=t.map(tCt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function tCt(e){return e instanceof $O?e:new $O(e)}function nCt(...e){const t=new $O;for(const n of e)for(const r of n)t.add(r);return t}function rCt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function NO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function N1(e){return e=NO(Math.abs(e)),e?e[1]:NaN}function iCt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function oCt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sCt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function W0(e){if(!(t=sCt.exec(e)))throw new Error("invalid format: "+e);var t;return new tV({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}W0.prototype=tV.prototype;function tV(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tV.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aCt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var uSe;function lCt(e,t){var n=NO(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(uSe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+NO(e,Math.max(0,t+o-1))[0]}function Uoe(e,t){var n=NO(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Hoe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rCt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Uoe(e*100,t),r:Uoe,s:lCt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Voe(e){return e}var Woe=Array.prototype.map,qoe=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dSe(e){var t=e.grouping===void 0||e.thousands===void 0?Voe:iCt(Woe.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Voe:oCt(Woe.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=W0(d);var f=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,b=d.width,S=d.comma,C=d.precision,_=d.trim,E=d.type;E==="n"?(S=!0,E="g"):Hoe[E]||(C===void 0&&(C=12),_=!0,E="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var T=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",k=m==="$"?r:/[%p]/.test(E)?s:"",A=Hoe[E],P=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function D(F){var I=T,j=k,M,$,L;if(E==="c")j=A(F)+j,F="";else{F=+F;var V=F<0||1/F<0;if(F=isNaN(F)?l:A(Math.abs(F),C),_&&(F=aCt(F)),V&&+F==0&&g!=="+"&&(V=!1),I=(V?g==="("?g:a:g==="-"||g==="("?"":g)+I,j=(E==="s"?qoe[8+uSe/3]:"")+j+(V&&g==="("?")":""),P){for(M=-1,$=F.length;++M<$;)if(L=F.charCodeAt(M),48>L||L>57){j=(L===46?i+F.slice(M+1):F.slice(M))+j,F=F.slice(0,M);break}}}S&&!v&&(F=t(F,1/0));var q=I.length+F.length+j.length,U=q<b?new Array(b-q+1).join(f):"";switch(S&&v&&(F=t(U+F,U.length?b-j.length:1/0),U=""),p){case"<":F=I+F+j+U;break;case"=":F=I+U+F+j;break;case"^":F=U.slice(0,q=U.length>>1)+I+F+j+U.slice(q);break;default:F=U+I+F+j;break}return o(F)}return D.toString=function(){return d+""},D}function u(d,f){var p=c((d=W0(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(N1(f)/3)))*3,m=Math.pow(10,-g),v=qoe[8+g/3];return function(b){return p(m*b)+v}}return{format:c,formatPrefix:u}}var DT,GI,nV;cCt({thousands:",",grouping:[3],currency:["$",""]});function cCt(e){return DT=dSe(e),GI=DT.format,nV=DT.formatPrefix,DT}function fSe(e){return Math.max(0,-N1(Math.abs(e)))}function pSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(N1(t)/3)))*3-N1(Math.abs(e)))}function hSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,N1(t)-N1(e))+1}const d4=new Date,f4=new Date;function ao(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=o=>ao(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(d4.setTime(+o),f4.setTime(+s),e(d4),e(f4),Math.floor(n(d4,f4))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const L1=ao(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);L1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ao(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):L1);L1.range;const Of=1e3,Zl=Of*60,Df=Zl*60,cp=Df*24,rV=cp*7,Goe=cp*30,p4=cp*365,Pf=ao(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Of)},(e,t)=>(t-e)/Of,e=>e.getUTCSeconds());Pf.range;const YI=ao(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Of)},(e,t)=>{e.setTime(+e+t*Zl)},(e,t)=>(t-e)/Zl,e=>e.getMinutes());YI.range;const XI=ao(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zl)},(e,t)=>(t-e)/Zl,e=>e.getUTCMinutes());XI.range;const KI=ao(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Of-e.getMinutes()*Zl)},(e,t)=>{e.setTime(+e+t*Df)},(e,t)=>(t-e)/Df,e=>e.getHours());KI.range;const QI=ao(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Df)},(e,t)=>(t-e)/Df,e=>e.getUTCHours());QI.range;const Wf=ao(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zl)/cp,e=>e.getDate()-1);Wf.range;const Wh=ao(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cp,e=>e.getUTCDate()-1);Wh.range;const gSe=ao(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cp,e=>Math.floor(e/cp));gSe.range;function Cy(e){return ao(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Zl)/rV)}const Gx=Cy(0),LO=Cy(1),uCt=Cy(2),dCt=Cy(3),j1=Cy(4),fCt=Cy(5),pCt=Cy(6);Gx.range;LO.range;uCt.range;dCt.range;j1.range;fCt.range;pCt.range;function _y(e){return ao(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rV)}const Yx=_y(0),jO=_y(1),hCt=_y(2),gCt=_y(3),z1=_y(4),mCt=_y(5),yCt=_y(6);Yx.range;jO.range;hCt.range;gCt.range;z1.range;mCt.range;yCt.range;const rE=ao(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rE.range;const iE=ao(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iE.range;const kd=ao(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ao(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});kd.range;const Rd=ao(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ao(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rd.range;function mSe(e,t,n,r,i,o){const s=[[Pf,1,Of],[Pf,5,5*Of],[Pf,15,15*Of],[Pf,30,30*Of],[o,1,Zl],[o,5,5*Zl],[o,15,15*Zl],[o,30,30*Zl],[i,1,Df],[i,3,3*Df],[i,6,6*Df],[i,12,12*Df],[r,1,cp],[r,2,2*cp],[n,1,rV],[t,1,Goe],[t,3,3*Goe],[e,1,p4]];function a(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return f?g.reverse():g}function l(c,u,d){const f=Math.abs(u-c)/d,p=qx(([,,v])=>v).right(s,f);if(p===s.length)return e.every(pg(c/p4,u/p4,d));if(p===0)return L1.every(Math.max(pg(c,u,d),1));const[g,m]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return g.every(m)}return[a,l]}const[vCt,bCt]=mSe(Rd,iE,Yx,gSe,QI,XI),[xCt,SCt]=mSe(kd,rE,Gx,Wf,KI,YI),Wo="year",wa="quarter",fs="month",io="week",Ca="date",as="day",Td="dayofyear",vl="hours",bl="minutes",gc="seconds",cu="milliseconds",iV=[Wo,wa,fs,io,Ca,as,Td,vl,bl,gc,cu],h4=iV.reduce((e,t,n)=>(e[t]=1+n,e),{});function oV(e){const t=Tt(e).slice(),n={};return t.length||qe("Missing time unit."),t.forEach(i=>{Pt(h4,i)?n[i]=1:qe(`Invalid time unit: ${i}.`)}),(n[io]||n[as]?1:0)+(n[wa]||n[fs]||n[Ca]?1:0)+(n[Td]?1:0)>1&&qe(`Incompatible time units: ${e}`),t.sort((i,o)=>h4[i]-h4[o]),t}const wCt={[Wo]:"%Y ",[wa]:"Q%q ",[fs]:"%b ",[Ca]:"%d ",[io]:"W%U ",[as]:"%a ",[Td]:"%j ",[vl]:"%H:00",[bl]:"00:%M",[gc]:":%S",[cu]:".%L",[`${Wo}-${fs}`]:"%Y-%m ",[`${Wo}-${fs}-${Ca}`]:"%Y-%m-%d ",[`${vl}-${bl}`]:"%H:%M"};function ySe(e,t){const n=kn({},wCt,t),r=oV(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const Lm=new Date;function sV(e){return Lm.setFullYear(e),Lm.setMonth(0),Lm.setDate(1),Lm.setHours(0,0,0,0),Lm}function vSe(e){return xSe(new Date(e))}function bSe(e){return pB(new Date(e))}function xSe(e){return Wf.count(sV(e.getFullYear())-1,e)}function pB(e){return Gx.count(sV(e.getFullYear())-1,e)}function hB(e){return sV(e).getDay()}function CCt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function SSe(e){return CSe(new Date(e))}function wSe(e){return gB(new Date(e))}function CSe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Wh.count(t-1,e)}function gB(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Yx.count(t-1,e)}function mB(e){return Lm.setTime(Date.UTC(e,0,1)),Lm.getUTCDay()}function _Ct(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function _Se(e,t,n,r,i){const o=t||1,s=er(e),a=(b,S,C)=>(C=C||b,ECt(n[C],r[C],b===s&&o,S)),l=new Date,c=lu(e),u=c[Wo]?a(Wo):ys(2012),d=c[fs]?a(fs):c[wa]?a(wa):gh,f=c[io]&&c[as]?a(as,1,io+as):c[io]?a(io,1):c[as]?a(as,1):c[Ca]?a(Ca,1):c[Td]?a(Td,1):Ux,p=c[vl]?a(vl):gh,g=c[bl]?a(bl):gh,m=c[gc]?a(gc):gh,v=c[cu]?a(cu):gh;return function(b){l.setTime(+b);const S=u(l);return i(S,d(l),f(l,S),p(l),g(l),m(l),v(l))}}function ECt(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function B1(e,t,n){return t+e*7-(n+6)%7}const kCt={[Wo]:e=>e.getFullYear(),[wa]:e=>Math.floor(e.getMonth()/3),[fs]:e=>e.getMonth(),[Ca]:e=>e.getDate(),[vl]:e=>e.getHours(),[bl]:e=>e.getMinutes(),[gc]:e=>e.getSeconds(),[cu]:e=>e.getMilliseconds(),[Td]:e=>xSe(e),[io]:e=>pB(e),[io+as]:(e,t)=>B1(pB(e),e.getDay(),hB(t)),[as]:(e,t)=>B1(1,e.getDay(),hB(t))},RCt={[wa]:e=>3*e,[io]:(e,t)=>B1(e,0,hB(t))};function ESe(e,t){return _Se(e,t||1,kCt,RCt,CCt)}const TCt={[Wo]:e=>e.getUTCFullYear(),[wa]:e=>Math.floor(e.getUTCMonth()/3),[fs]:e=>e.getUTCMonth(),[Ca]:e=>e.getUTCDate(),[vl]:e=>e.getUTCHours(),[bl]:e=>e.getUTCMinutes(),[gc]:e=>e.getUTCSeconds(),[cu]:e=>e.getUTCMilliseconds(),[Td]:e=>CSe(e),[io]:e=>gB(e),[as]:(e,t)=>B1(1,e.getUTCDay(),mB(t)),[io+as]:(e,t)=>B1(gB(e),e.getUTCDay(),mB(t))},MCt={[wa]:e=>3*e,[io]:(e,t)=>B1(e,0,mB(t))};function kSe(e,t){return _Se(e,t||1,TCt,MCt,_Ct)}const ACt={[Wo]:kd,[wa]:rE.every(3),[fs]:rE,[io]:Gx,[Ca]:Wf,[as]:Wf,[Td]:Wf,[vl]:KI,[bl]:YI,[gc]:Pf,[cu]:L1},OCt={[Wo]:Rd,[wa]:iE.every(3),[fs]:iE,[io]:Yx,[Ca]:Wh,[as]:Wh,[Td]:Wh,[vl]:QI,[bl]:XI,[gc]:Pf,[cu]:L1};function Xx(e){return ACt[e]}function Kx(e){return OCt[e]}function RSe(e,t,n){return e?e.offset(t,n):void 0}function TSe(e,t,n){return RSe(Xx(e),t,n)}function MSe(e,t,n){return RSe(Kx(e),t,n)}function ASe(e,t,n,r){return e?e.range(t,n,r):void 0}function OSe(e,t,n,r){return ASe(Xx(e),t,n,r)}function DSe(e,t,n,r){return ASe(Kx(e),t,n,r)}const pC=1e3,hC=pC*60,gC=hC*60,ZI=gC*24,DCt=ZI*7,Yoe=ZI*30,yB=ZI*365,PSe=[Wo,fs,Ca,vl,bl,gc,cu],mC=PSe.slice(0,-1),yC=mC.slice(0,-1),vC=yC.slice(0,-1),PCt=vC.slice(0,-1),ICt=[Wo,io],Xoe=[Wo,fs],ISe=[Wo],Ow=[[mC,1,pC],[mC,5,5*pC],[mC,15,15*pC],[mC,30,30*pC],[yC,1,hC],[yC,5,5*hC],[yC,15,15*hC],[yC,30,30*hC],[vC,1,gC],[vC,3,3*gC],[vC,6,6*gC],[vC,12,12*gC],[PCt,1,ZI],[ICt,1,DCt],[Xoe,1,Yoe],[Xoe,3,3*Yoe],[ISe,1,yB]];function $Se(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(k2(t))/n;let i=qx(a=>a[2]).right(Ow,r),o,s;return i===Ow.length?(o=ISe,s=pg(t[0]/yB,t[1]/yB,n)):i?(i=Ow[r/Ow[i-1][2]<Ow[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=PSe,s=Math.max(pg(t[0],t[1],n),1)),{units:o,step:s}}function g4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function m4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dw(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function FSe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Pw(i),u=Iw(i),d=Pw(o),f=Iw(o),p=Pw(s),g=Iw(s),m=Pw(a),v=Iw(a),b=Pw(l),S=Iw(l),C={a:V,A:q,b:U,B:z,c:null,d:tse,e:tse,f:r_t,g:p_t,G:g_t,H:e_t,I:t_t,j:n_t,L:NSe,m:i_t,M:o_t,p:B,q:G,Q:ise,s:ose,S:s_t,u:a_t,U:l_t,V:c_t,w:u_t,W:d_t,x:null,X:null,y:f_t,Y:h_t,Z:m_t,"%":rse},_={a:Y,A:Q,b:K,B:te,c:null,d:nse,e:nse,f:x_t,g:A_t,G:D_t,H:y_t,I:v_t,j:b_t,L:jSe,m:S_t,M:w_t,p:ce,q:ie,Q:ise,s:ose,S:C_t,u:__t,U:E_t,V:k_t,w:R_t,W:T_t,x:null,X:null,y:M_t,Y:O_t,Z:P_t,"%":rse},E={a:D,A:F,b:I,B:j,c:M,d:Joe,e:Joe,f:KCt,g:Zoe,G:Qoe,H:ese,I:ese,j:qCt,L:XCt,m:WCt,M:GCt,p:P,q:VCt,Q:ZCt,s:JCt,S:YCt,u:jCt,U:zCt,V:BCt,w:LCt,W:UCt,x:$,X:L,y:Zoe,Y:Qoe,Z:HCt,"%":QCt};C.x=T(n,C),C.X=T(r,C),C.c=T(t,C),_.x=T(n,_),_.X=T(r,_),_.c=T(t,_);function T(re,he){return function(fe){var ne=[],pe=-1,W=0,se=re.length,ae,X,Z;for(fe instanceof Date||(fe=new Date(+fe));++pe<se;)re.charCodeAt(pe)===37&&(ne.push(re.slice(W,pe)),(X=Koe[ae=re.charAt(++pe)])!=null?ae=re.charAt(++pe):X=ae==="e"?" ":"0",(Z=he[ae])&&(ae=Z(fe,X)),ne.push(ae),W=pe+1);return ne.push(re.slice(W,pe)),ne.join("")}}function k(re,he){return function(fe){var ne=Dw(1900,void 0,1),pe=A(ne,re,fe+="",0),W,se;if(pe!=fe.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(he&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(W=m4(Dw(ne.y,0,1)),se=W.getUTCDay(),W=se>4||se===0?jO.ceil(W):jO(W),W=Wh.offset(W,(ne.V-1)*7),ne.y=W.getUTCFullYear(),ne.m=W.getUTCMonth(),ne.d=W.getUTCDate()+(ne.w+6)%7):(W=g4(Dw(ne.y,0,1)),se=W.getDay(),W=se>4||se===0?LO.ceil(W):LO(W),W=Wf.offset(W,(ne.V-1)*7),ne.y=W.getFullYear(),ne.m=W.getMonth(),ne.d=W.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),se="Z"in ne?m4(Dw(ne.y,0,1)).getUTCDay():g4(Dw(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(se+5)%7:ne.w+ne.U*7-(se+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,m4(ne)):g4(ne)}}function A(re,he,fe,ne){for(var pe=0,W=he.length,se=fe.length,ae,X;pe<W;){if(ne>=se)return-1;if(ae=he.charCodeAt(pe++),ae===37){if(ae=he.charAt(pe++),X=E[ae in Koe?he.charAt(pe++):ae],!X||(ne=X(re,fe,ne))<0)return-1}else if(ae!=fe.charCodeAt(ne++))return-1}return ne}function P(re,he,fe){var ne=c.exec(he.slice(fe));return ne?(re.p=u.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function D(re,he,fe){var ne=p.exec(he.slice(fe));return ne?(re.w=g.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function F(re,he,fe){var ne=d.exec(he.slice(fe));return ne?(re.w=f.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function I(re,he,fe){var ne=b.exec(he.slice(fe));return ne?(re.m=S.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function j(re,he,fe){var ne=m.exec(he.slice(fe));return ne?(re.m=v.get(ne[0].toLowerCase()),fe+ne[0].length):-1}function M(re,he,fe){return A(re,t,he,fe)}function $(re,he,fe){return A(re,n,he,fe)}function L(re,he,fe){return A(re,r,he,fe)}function V(re){return s[re.getDay()]}function q(re){return o[re.getDay()]}function U(re){return l[re.getMonth()]}function z(re){return a[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function G(re){return 1+~~(re.getMonth()/3)}function Y(re){return s[re.getUTCDay()]}function Q(re){return o[re.getUTCDay()]}function K(re){return l[re.getUTCMonth()]}function te(re){return a[re.getUTCMonth()]}function ce(re){return i[+(re.getUTCHours()>=12)]}function ie(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var he=T(re+="",C);return he.toString=function(){return re},he},parse:function(re){var he=k(re+="",!1);return he.toString=function(){return re},he},utcFormat:function(re){var he=T(re+="",_);return he.toString=function(){return re},he},utcParse:function(re){var he=k(re+="",!0);return he.toString=function(){return re},he}}}var Koe={"-":"",_:" ",0:"0"},Ro=/^\s*\d+/,$Ct=/^%/,FCt=/[\\^$*+?|[\]().{}]/g;function mr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function NCt(e){return e.replace(FCt,"\\$&")}function Pw(e){return new RegExp("^(?:"+e.map(NCt).join("|")+")","i")}function Iw(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function LCt(e,t,n){var r=Ro.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jCt(e,t,n){var r=Ro.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zCt(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function BCt(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function UCt(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Qoe(e,t,n){var r=Ro.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Zoe(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HCt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VCt(e,t,n){var r=Ro.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function WCt(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Joe(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qCt(e,t,n){var r=Ro.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ese(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function GCt(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function YCt(e,t,n){var r=Ro.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function XCt(e,t,n){var r=Ro.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function KCt(e,t,n){var r=Ro.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function QCt(e,t,n){var r=$Ct.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ZCt(e,t,n){var r=Ro.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function JCt(e,t,n){var r=Ro.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function tse(e,t){return mr(e.getDate(),t,2)}function e_t(e,t){return mr(e.getHours(),t,2)}function t_t(e,t){return mr(e.getHours()%12||12,t,2)}function n_t(e,t){return mr(1+Wf.count(kd(e),e),t,3)}function NSe(e,t){return mr(e.getMilliseconds(),t,3)}function r_t(e,t){return NSe(e,t)+"000"}function i_t(e,t){return mr(e.getMonth()+1,t,2)}function o_t(e,t){return mr(e.getMinutes(),t,2)}function s_t(e,t){return mr(e.getSeconds(),t,2)}function a_t(e){var t=e.getDay();return t===0?7:t}function l_t(e,t){return mr(Gx.count(kd(e)-1,e),t,2)}function LSe(e){var t=e.getDay();return t>=4||t===0?j1(e):j1.ceil(e)}function c_t(e,t){return e=LSe(e),mr(j1.count(kd(e),e)+(kd(e).getDay()===4),t,2)}function u_t(e){return e.getDay()}function d_t(e,t){return mr(LO.count(kd(e)-1,e),t,2)}function f_t(e,t){return mr(e.getFullYear()%100,t,2)}function p_t(e,t){return e=LSe(e),mr(e.getFullYear()%100,t,2)}function h_t(e,t){return mr(e.getFullYear()%1e4,t,4)}function g_t(e,t){var n=e.getDay();return e=n>=4||n===0?j1(e):j1.ceil(e),mr(e.getFullYear()%1e4,t,4)}function m_t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mr(t/60|0,"0",2)+mr(t%60,"0",2)}function nse(e,t){return mr(e.getUTCDate(),t,2)}function y_t(e,t){return mr(e.getUTCHours(),t,2)}function v_t(e,t){return mr(e.getUTCHours()%12||12,t,2)}function b_t(e,t){return mr(1+Wh.count(Rd(e),e),t,3)}function jSe(e,t){return mr(e.getUTCMilliseconds(),t,3)}function x_t(e,t){return jSe(e,t)+"000"}function S_t(e,t){return mr(e.getUTCMonth()+1,t,2)}function w_t(e,t){return mr(e.getUTCMinutes(),t,2)}function C_t(e,t){return mr(e.getUTCSeconds(),t,2)}function __t(e){var t=e.getUTCDay();return t===0?7:t}function E_t(e,t){return mr(Yx.count(Rd(e)-1,e),t,2)}function zSe(e){var t=e.getUTCDay();return t>=4||t===0?z1(e):z1.ceil(e)}function k_t(e,t){return e=zSe(e),mr(z1.count(Rd(e),e)+(Rd(e).getUTCDay()===4),t,2)}function R_t(e){return e.getUTCDay()}function T_t(e,t){return mr(jO.count(Rd(e)-1,e),t,2)}function M_t(e,t){return mr(e.getUTCFullYear()%100,t,2)}function A_t(e,t){return e=zSe(e),mr(e.getUTCFullYear()%100,t,2)}function O_t(e,t){return mr(e.getUTCFullYear()%1e4,t,4)}function D_t(e,t){var n=e.getUTCDay();return e=n>=4||n===0?z1(e):z1.ceil(e),mr(e.getUTCFullYear()%1e4,t,4)}function P_t(){return"+0000"}function rse(){return"%"}function ise(e){return+e}function ose(e){return Math.floor(+e/1e3)}var Nv,aV,BSe,lV,USe;I_t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function I_t(e){return Nv=FSe(e),aV=Nv.format,BSe=Nv.parse,lV=Nv.utcFormat,USe=Nv.utcParse,Nv}function bC(e){const t={};return n=>t[n]||(t[n]=e(n))}function $_t(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=F_t(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function F_t(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function HSe(e){const t=bC(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=W0(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return $_t(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=W0(s??",f");const a=pg(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let c;if(s.precision==null)switch(s.type){case"s":return isNaN(c=pSe(a,l))||(s.precision=c),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(c=hSe(a,l))||(s.precision=c-(s.type==="e"));break}case"f":case"%":{isNaN(c=fSe(a))||(s.precision=c-(s.type==="%")*2);break}}return t(s)}}}let vB;VSe();function VSe(){return vB=HSe({format:GI,formatPrefix:nV})}function WSe(e){return HSe(dSe(e))}function zO(e){return arguments.length?vB=WSe(e):vB}function sse(e,t,n){n=n||{},At(n)||qe(`Invalid time multi-format specifier: ${n}`);const r=t(gc),i=t(bl),o=t(vl),s=t(Ca),a=t(io),l=t(fs),c=t(wa),u=t(Wo),d=e(n[cu]||".%L"),f=e(n[gc]||":%S"),p=e(n[bl]||"%I:%M"),g=e(n[vl]||"%I %p"),m=e(n[Ca]||n[as]||"%a %d"),v=e(n[io]||"%b %d"),b=e(n[fs]||"%B"),S=e(n[wa]||"%B"),C=e(n[Wo]||"%Y");return _=>(r(_)<_?d:i(_)<_?f:o(_)<_?p:s(_)<_?g:l(_)<_?a(_)<_?m:v:u(_)<_?c(_)<_?b:S:C)(_)}function qSe(e){const t=bC(e.format),n=bC(e.utcFormat);return{timeFormat:r=>Mt(r)?t(r):sse(t,Xx,r),utcFormat:r=>Mt(r)?n(r):sse(n,Kx,r),timeParse:bC(e.parse),utcParse:bC(e.utcParse)}}let bB;GSe();function GSe(){return bB=qSe({format:aV,parse:BSe,utcFormat:lV,utcParse:USe})}function YSe(e){return qSe(FSe(e))}function oE(e){return arguments.length?bB=YSe(e):bB}const xB=(e,t)=>kn({},e,t);function XSe(e,t){const n=e?WSe(e):zO(),r=t?YSe(t):oE();return xB(n,r)}function cV(e,t){const n=arguments.length;return n&&n!==2&&qe("defaultLocale expects either zero or two arguments."),n?xB(zO(e),oE(t)):xB(zO(),oE())}function N_t(){return VSe(),GSe(),cV()}const L_t=/^(data:|([A-Za-z]+:)?\/\/)/,j_t=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,z_t=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ase="file://";function B_t(e,t){return n=>({options:n||{},sanitize:H_t,load:U_t,fileAccess:!1,file:V_t(),http:q_t(e)})}async function U_t(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function H_t(e,t){t=kn({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=j_t.test(e.replace(z_t,""));(e==null||typeof e!="string"||!a)&&qe("Sanitize failure, invalid URI: "+ft(e));const l=L_t.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(ase))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(ase.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function V_t(e){return W_t}async function W_t(){qe("No file system access.")}function q_t(e){return e?async function(t,n){const r=kn({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?Rn(o[i])?o[i]():o.text():qe(o.status+""+o.statusText)}:G_t}async function G_t(){qe("No HTTP fetch method available.")}const Y_t=e=>e!=null&&e===e,X_t=e=>e==="true"||e==="false"||e===!0||e===!1,K_t=e=>!Number.isNaN(Date.parse(e)),KSe=e=>!Number.isNaN(+e)&&!(e instanceof Date),Q_t=e=>KSe(e)&&Number.isInteger(+e),SB={boolean:ZH,integer:ls,number:ls,date:JH,string:eV,unknown:ms},PT=[X_t,Q_t,KSe,K_t],Z_t=["boolean","integer","number","date"];function QSe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=PT.length,i=PT.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&Y_t(l)&&!PT[a](l)&&(i[a]=0,++s,s===PT.length))return"string";return Z_t[i.reduce((o,s)=>o===0?s:o,0)-1]}function ZSe(e,t){return t.reduce((n,r)=>(n[r]=QSe(e,r),n),{})}function lse(e){const t=function(n,r){const i={delimiter:e};return uV(n,r?kn(r,i):i)};return t.responseType="text",t}function uV(e,t){return t.header&&(e=t.header.map(ft).join(t.delimiter)+`
`+e),Dwt(t.delimiter).parse(e+"")}uV.responseType="text";function J_t(e){return typeof Buffer=="function"&&Rn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function dV(e,t){const n=t&&t.property?pc(t.property):ms;return At(e)&&!J_t(e)?eEt(n(e),t):n(JSON.parse(e))}dV.responseType="json";function eEt(e,t){return!Xe(e)&&Wxe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const tEt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function JSe(e,t){let n,r,i,o;return e=dV(e,t),t&&t.feature?(n=Fwt,i=t.feature):t&&t.mesh?(n=Lwt,i=t.mesh,o=tEt[t.filter]):qe("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):qe("Invalid TopoJSON object: "+i),r&&r.features||[r]}JSe.responseType="json";const YM={dsv:uV,csv:lse(","),tsv:lse("	"),json:dV,topojson:JSe};function fV(e,t){return arguments.length>1?(YM[e]=t,this):Pt(YM,e)?YM[e]:null}function ewe(e){const t=fV(e);return t&&t.responseType||"text"}function twe(e,t,n,r){t=t||{};const i=fV(t.type||"json");return i||qe("Unknown data format type: "+t.type),e=i(e,t),t.parse&&nEt(e,t.parse,n,r),Pt(e,"columns")&&delete e.columns,e}function nEt(e,t,n,r){if(!e.length)return;const i=oE();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,c,u,d;t==="auto"&&(t=ZSe(e,o)),o=Object.keys(t);const f=o.map(p=>{const g=t[p];let m,v;if(g&&(g.startsWith("date:")||g.startsWith("utc:")))return m=g.split(/:(.+)?/,2),v=m[1],(v[0]==="'"&&v[v.length-1]==="'"||v[0]==='"'&&v[v.length-1]==='"')&&(v=v.slice(1,-1)),(m[0]==="utc"?r:n)(v);if(!SB[g])throw Error("Illegal format pattern: "+p+":"+g);return SB[g]});for(l=0,u=e.length,d=o.length;l<u;++l)for(s=e[l],c=0;c<d;++c)a=o[c],s[a]=f[c](s[a])}const JI=B_t(typeof fetch<"u"&&fetch);function e$(e){const t=e||ms,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function XM(e,t){try{await t(e)}catch(n){e.error(n)}}const nwe=Symbol("vega_id");let rEt=1;function t$(e){return!!(e&&Zt(e))}function Zt(e){return e[nwe]}function rwe(e,t){return e[nwe]=t,e}function wr(e){const t=e===Object(e)?e:{data:e};return Zt(t)?t:rwe(t,rEt++)}function pV(e){return n$(e,wr({}))}function n$(e,t){for(const n in e)t[n]=e[n];return t}function iwe(e,t){return rwe(t,Zt(e))}function Ey(e,t){return e?t?(n,r)=>e(n,r)||Zt(t(n))-Zt(t(r)):(n,r)=>e(n,r)||Zt(n)-Zt(r):null}function owe(e){return e&&e.constructor===ky}function ky(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:ky,insert(a){const l=Tt(a),c=l.length;for(let u=0;u<c;++u)e.push(l[u]);return this},remove(a){const l=Rn(a)?r:t,c=Tt(a),u=c.length;for(let d=0;d<u;++d)l.push(c[d]);return this},modify(a,l,c){const u={field:l,value:ys(c)};return Rn(a)?(u.filter=a,i.push(u)):(u.tuple=a,n.push(u)),this},encode(a,l){return Rn(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const c={},u={};let d,f,p,g,m,v;for(d=0,f=l.length;d<f;++d)c[Zt(l[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],c[Zt(m)]=-1;for(d=0,f=r.length;d<f;++d)g=r[d],l.forEach(S=>{g(S)&&(c[Zt(S)]=-1)});for(d=0,f=e.length;d<f;++d)m=e[d],v=Zt(m),c[v]?c[v]=1:a.add.push(wr(e[d]));for(d=0,f=l.length;d<f;++d)m=l[d],c[Zt(m)]<0&&a.rem.push(m);function b(S,C,_){_?S[C]=_(S):a.encode=C,s||(u[Zt(S)]=S)}for(d=0,f=n.length;d<f;++d)p=n[d],m=p.tuple,g=p.field,v=c[Zt(m)],v>0&&(b(m,g,p.value),a.modifies(g));for(d=0,f=i.length;d<f;++d)p=i[d],g=p.filter,l.forEach(S=>{g(S)&&c[Zt(S)]>0&&b(S,p.field,p.value)}),a.modifies(p.field);if(s)a.mod=t.length||r.length?l.filter(S=>c[Zt(S)]>0):l.slice();else for(v in u)a.mod.push(u[v]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const KM="_:mod:_";function r$(){Object.defineProperty(this,KM,{writable:!0,value:{}})}r$.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[KM];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=Xe(n)?1+n.length:-1),i},modified(e,t){const n=this[KM];if(arguments.length){if(Xe(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[KM]={},this}};let iEt=0;const oEt="pulse",sEt=new r$,aEt=1,lEt=2;function Wr(e,t,n,r){this.id=++iEt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function cse(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Wr.prototype={targets(){return this._targets||(this._targets=e$(_2))},set(e){return this.value!==e?(this.value=e,1):0},skip:cse(aEt),modified:cse(lEt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new r$,i=this._argops=this._argops||[],o=[];let s,a,l,c;const u=(d,f,p)=>{p instanceof Wr?(p!==this&&(t&&p.targets().add(this),o.push(p)),i.push({op:p,name:d,index:f})):r.set(d,f,p)};for(s in e)if(a=e[s],s===oEt)Tt(a).forEach(d=>{d instanceof Wr?d!==this&&(d.targets().add(this),o.push(d)):qe("Pulse parameters must be operator instances.")}),this.source=a;else if(Xe(a))for(r.set(s,-1,Array(l=a.length)),c=0;c<l;++c)u(s,c,a[c]);else u(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||sEt,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function cEt(e,t,n,r){let i=1,o;return e instanceof Wr?o=e:e&&e.prototype instanceof Wr?o=new e:Rn(e)?o=new Wr(null,e):(i=0,o=new Wr(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function uEt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let dEt=0;function i$(e,t,n){this.id=++dEt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function rh(e,t,n){return new i$(e,t,n)}i$.prototype={_filter:hc,_apply:ms,targets(){return this._targets||(this._targets=e$(_2))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=rh(e);return this.targets().add(t),t},apply(e){const t=rh(null,e);return this.targets().add(t),t},merge(){const e=rh();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=rh();return this.targets().add(rh(null,null,XH(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(rh(null,null,()=>n=!0)),t.targets().add(rh(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=hc,this._targets=null}};function fEt(e,t,n,r){const i=this,o=rh(n,r),s=function(c){c.dataflow=i;try{o.receive(c)}catch(u){i.error(u)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=Tt(e);const l=a.length;for(let c=0;c<l;++c)a[c].addEventListener(t,s);return o}function pEt(e,t){const n=this.locale();return twe(e,t,n.timeParse,n.utcParse)}function hEt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function gEt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:ewe(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function mEt(e,t,n){const r=this,i=r._pending||yEt(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(hc).insert(o.data||[])),i.done(),o}function yEt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const vEt={skip:!0};function bEt(e,t,n,r,i){return(e instanceof Wr?SEt:xEt)(this,e,t,n,r,i),this}function xEt(e,t,n,r,i,o){const s=kn({},o,vEt);let a,l;Rn(n)||(n=ys(n)),r===void 0?a=c=>e.touch(n(c)):Rn(r)?(l=new Wr(null,r,i,!1),a=c=>{l.evaluate(c);const u=n(c),d=l.value;owe(d)?e.pulse(u,d,o):e.update(u,d,s)}):a=c=>e.update(n(c),r,s),t.apply(a)}function SEt(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Wr(null,wEt(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function wEt(e,t){return t=Rn(t)?t:ys(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function CEt(e){e.rank=++this._rank}function _Et(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&qe("Cycle detected in dataflow graph.")}const BO={},Vu=1,lh=2,Sf=4,EEt=Vu|lh,use=Vu|Sf,Lv=Vu|lh|Sf,dse=8,$w=16,fse=32,pse=64;function qh(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function y4(e,t){const n=[];return ah(e,t,r=>n.push(r)),n}function hse(e,t){const n={};return e.visit(t,r=>{n[Zt(r)]=1}),r=>n[Zt(r)]?null:r}function IT(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}qh.prototype={StopPropagation:BO,ADD:Vu,REM:lh,MOD:Sf,ADD_REM:EEt,ADD_MOD:use,ALL:Lv,REFLOW:dse,SOURCE:$w,NO_SOURCE:fse,NO_FIELDS:pse,fork(e){return new qh(this.dataflow).init(this,e)},clone(){const e=this.fork(Lv);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Lv|$w)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new qh(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&pse)&&(n.fields=e.fields),t&Vu?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&lh?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Sf?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&fse?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Lv;return t&Vu&&this.add.length||t&lh&&this.rem.length||t&Sf&&this.mod.length},reflow(e){if(e)return this.fork(Lv).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Sf,hse(this,Vu))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Xe(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Xe(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Vu&&(n.addF=IT(n.addF,t)),e&lh&&(n.remF=IT(n.remF,t)),e&Sf&&(n.modF=IT(n.modF,t)),e&$w&&(n.srcF=IT(n.srcF,t)),n},materialize(e){e=e||Lv;const t=this;return e&Vu&&t.addF&&(t.add=y4(t.add,t.addF),t.addF=null),e&lh&&t.remF&&(t.rem=y4(t.rem,t.remF),t.remF=null),e&Sf&&t.modF&&(t.mod=y4(t.mod,t.modF),t.modF=null),e&$w&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&$w)return ah(n.source,n.srcF,r),n;e&Vu&&ah(n.add,n.addF,r),e&lh&&ah(n.rem,n.remF,r),e&Sf&&ah(n.mod,n.modF,r);const i=n.source;if(e&dse&&i){const o=n.add.length+n.mod.length;o===i.length||(o?ah(i,hse(n,use),r):ah(i,n.srcF,r))}return n}};function hV(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}vt(hV,qh,{fork(e){const t=new qh(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Xe(e)?e.some(r=>n[r]):n[e]:0},filter(){qe("MultiPulse does not support filtering.")},materialize(){qe("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function kEt(e,t,n){const r=this,i=[];if(r._pulse)return swe(r);if(r._pending&&await r._pending,t&&await XM(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new qh(r,o,e),r._touched.forEach(u=>r._enqueue(u,!0)),r._touched=e$(_2);let s=0,a,l,c;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=BO),l!==BO&&a._targets&&a._targets.forEach(u=>r._enqueue(u)),++s}}catch(u){r._heap.clear(),c=u}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const u=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<u.length;++d)await XM(r,u[d].callback)}return n&&await XM(r,n),i.length&&Promise.all(i).then(u=>r.runAsync(null,()=>{u.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function REt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function TEt(e,t,n){return this._pulse?swe(this):(this.evaluate(e,t,n),this)}function MEt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function swe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function AEt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function OEt(e,t){const n=e.source,r=this._clock;return n&&Xe(n)?new hV(this,r,n.map(i=>i.pulse),t):this._input[e.id]||DEt(this._pulse,n&&n.pulse)}function DEt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==BO&&(e.source=t.source),e)}const gV={skip:!1,force:!1};function PEt(e,t){const n=t||gV;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function IEt(e,t,n){const r=n||gV;return(e.set(t)||r.force)&&this.touch(e,r),this}function $Et(e,t,n){this.touch(e,n||gV);const r=new qh(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function FEt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),awe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,NEt(t,0,e)):r=n,r}}}function awe(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function NEt(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,awe(e,r,t,n)}function Lb(){this.logger(VH()),this.logLevel(UH),this._clock=0,this._rank=0,this._locale=cV();try{this._loader=JI()}catch{}this._touched=e$(_2),this._input={},this._pulse=null,this._heap=FEt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Fw(e){return function(){return this._log[e].apply(this,arguments)}}Lb.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Fw("error"),warn:Fw("warn"),info:Fw("info"),debug:Fw("debug"),logLevel:Fw("level"),cleanThreshold:1e4,add:cEt,connect:uEt,rank:CEt,rerank:_Et,pulse:$Et,touch:PEt,update:IEt,changeset:ky,ingest:hEt,parse:pEt,preload:mEt,request:gEt,events:fEt,on:bEt,evaluate:kEt,run:TEt,runAsync:REt,runAfter:MEt,_enqueue:AEt,_getPulse:OEt};function Be(e,t){Wr.call(this,e,null,t)}vt(Be,Wr,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const U1={};function lwe(e){const t=cwe(e);return t&&t.Definition||null}function cwe(e){return e=e&&e.toLowerCase(),Pt(U1,e)?U1[e]:null}function*uwe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function mV(e,t,n){const r=Float64Array.from(uwe(e,n));return r.sort(Vf),t.map(i=>sSe(r,i))}function yV(e,t){return mV(e,[.25,.5,.75],t)}function vV(e,t){const n=e.length,r=qwt(e,t),i=yV(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function dwe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,c,u,d,f;const p=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(u=p/t,d=0,f=e.steps.length;d<f&&e.steps[d]<u;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),c=e.minstep||0,a=Math.max(c,Math.pow(n,Math.round(Math.log(p)/r)-l));Math.ceil(p/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)u=a/i[d],u>=c&&p/u<=t&&(a=u)}u=Math.log(a);const g=u>=0?0:~~(-u/r)+1,m=Math.pow(n,-g-1);return(e.nice||e.nice===void 0)&&(u=Math.floor(o/a+m)*a,o=o<u?u-a:u,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var mc=Math.random;function LEt(e){mc=e}function fwe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(uwe(e,r)),o=i.length,s=t;let a,l,c,u;for(c=0,u=Array(s);c<s;++c){for(a=0,l=0;l<o;++l)a+=i[~~(mc()*o)];u[c]=a/o}return u.sort(Vf),[fB(u,n/2),fB(u,1-n/2)]}function pwe(e,t,n,r){r=r||(f=>f);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),c=l,u=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=u){for(c=(l+c)/2;s<a;++s)o[s]=c;u=d+t,l=d}c=d}for(c=(l+c)/2;s<a;++s)o[s]=c;return n?jEt(o,t+t/4):o}function jEt(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function zEt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function BEt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*mc())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const hwe=Math.sqrt(2*Math.PI),UEt=Math.SQRT2;let Nw=NaN;function o$(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(Nw===Nw)n=Nw,Nw=NaN;else{do n=mc()*2-1,r=mc()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,Nw=r*o}return e+n*t}function bV(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*hwe)}function s$(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function a$(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*UEt*HEt(2*e-1)}function HEt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function xV(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>o$(n,r),pdf:o=>bV(o,n,r),cdf:o=>s$(o,n,r),icdf:o=>a$(o,n,r)};return i.mean(e).stdev(t)}function SV(e,t){const n=xV();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=vV(e)),i):t},sample(){return e[~~(mc()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function wV(e,t){return e=e||0,t=t??1,Math.exp(e+o$()*t)}function CV(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*hwe*e)}function _V(e,t,n){return s$(Math.log(e),t,n)}function EV(e,t,n){return Math.exp(a$(e,t,n))}function gwe(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>wV(n,r),pdf:o=>CV(o,n,r),cdf:o=>_V(o,n,r),icdf:o=>EV(o,n,r)};return i.mean(e).stdev(t)}function mwe(e,t){let n=0,r;function i(s){const a=[];let l=0,c;for(c=0;c<n;++c)l+=a[c]=s[c]==null?1:+s[c];for(c=0;c<n;++c)a[c]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=mc();let a=e[n-1],l=r[0],c=0;for(;c<n-1;l+=r[++c])if(s<l){a=e[c];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function kV(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*mc()}function RV(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function TV(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function MV(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function ywe(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>kV(n,r),pdf:o=>RV(o,n,r),cdf:o=>TV(o,n,r),icdf:o=>MV(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function AV(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function R2(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function l$(e,t,n,r){e=e.filter(p=>{let g=t(p),m=n(p);return g!=null&&(g=+g)>=g&&m!=null&&(m=+m)>=m}),r&&e.sort((p,g)=>t(p)-t(g));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,c=0,u,d,f;for(f of e)o[a]=u=+t(f),s[a]=d=+n(f),++a,l+=(u-l)/a,c+=(d-c)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=c;return[o,s,l,c]}function T2(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function Qx(e,t,n,r,i){let o=0,s=0;return T2(e,t,n,(a,l)=>{const c=l-i(a),u=l-r;o+=c*c,s+=u*u}),1-o/s}function OV(e,t,n){let r=0,i=0,o=0,s=0,a=0;T2(e,t,n,(u,d)=>{++a,r+=(u-r)/a,i+=(d-i)/a,o+=(u*d-o)/a,s+=(u*u-s)/a});const l=R2(r,i,o,s),c=u=>l[0]+l[1]*u;return{coef:l,predict:c,rSquared:Qx(e,t,n,i,c)}}function vwe(e,t,n){let r=0,i=0,o=0,s=0,a=0;T2(e,t,n,(u,d)=>{++a,u=Math.log(u),r+=(u-r)/a,i+=(d-i)/a,o+=(u*d-o)/a,s+=(u*u-s)/a});const l=R2(r,i,o,s),c=u=>l[0]+l[1]*Math.log(u);return{coef:l,predict:c,rSquared:Qx(e,t,n,i,c)}}function bwe(e,t,n){const[r,i,o,s]=l$(e,t,n);let a=0,l=0,c=0,u=0,d=0,f,p,g;T2(e,t,n,(S,C)=>{f=r[d++],p=Math.log(C),g=f*C,a+=(C*p-a)/d,l+=(g-l)/d,c+=(g*p-c)/d,u+=(f*g-u)/d});const[m,v]=R2(l/s,a/s,c/s,u/s),b=S=>Math.exp(m+v*(S-o));return{coef:[Math.exp(m-v*o),v],predict:b,rSquared:Qx(e,t,n,s,b)}}function xwe(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;T2(e,t,n,(d,f)=>{const p=Math.log(d),g=Math.log(f);++l,r+=(p-r)/l,i+=(g-i)/l,o+=(p*g-o)/l,s+=(p*p-s)/l,a+=(f-a)/l});const c=R2(r,i,o,s),u=d=>c[0]*Math.pow(d,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:Qx(e,t,n,a,u)}}function DV(e,t,n){const[r,i,o,s]=l$(e,t,n),a=r.length;let l=0,c=0,u=0,d=0,f=0,p,g,m,v;for(p=0;p<a;)g=r[p],m=i[p++],v=g*g,l+=(v-l)/p,c+=(v*g-c)/p,u+=(v*v-u)/p,d+=(g*m-d)/p,f+=(v*m-f)/p;const b=u-l*l,S=l*b-c*c,C=(f*l-d*c)/S,_=(d*b-f*c)/S,E=-C*l,T=k=>(k=k-o,C*k*k+_*k+E+s);return{coef:[E-_*o+C*o*o+s,_-2*C*o,C],predict:T,rSquared:Qx(e,t,n,s,T)}}function Swe(e,t,n,r){if(r===0)return AV(e,t,n);if(r===1)return OV(e,t,n);if(r===2)return DV(e,t,n);const[i,o,s,a]=l$(e,t,n),l=i.length,c=[],u=[],d=r+1;let f,p,g,m,v;for(f=0;f<d;++f){for(g=0,m=0;g<l;++g)m+=Math.pow(i[g],f)*o[g];for(c.push(m),v=new Float64Array(d),p=0;p<d;++p){for(g=0,m=0;g<l;++g)m+=Math.pow(i[g],f+p);v[p]=m}u.push(v)}u.push(c);const b=WEt(u),S=C=>{C-=s;let _=a+b[0]+b[1]*C+b[2]*C*C;for(f=3;f<d;++f)_+=b[f]*Math.pow(C,f);return _};return{coef:VEt(d,b,-s,a),predict:S,rSquared:Qx(e,t,n,a,S)}}function VEt(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function WEt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const gse=2,mse=1e-12;function wwe(e,t,n,r){const[i,o,s,a]=l$(e,t,n,!0),l=i.length,c=Math.max(2,~~(r*l)),u=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let p=-1;++p<=gse;){const g=[0,c-1];for(let v=0;v<l;++v){const b=i[v],S=g[0],C=g[1],_=b-i[S]>i[C]-b?S:C;let E=0,T=0,k=0,A=0,P=0;const D=1/Math.abs(i[_]-b||1);for(let j=S;j<=C;++j){const M=i[j],$=o[j],L=qEt(Math.abs(b-M)*D)*f[j],V=M*L;E+=L,T+=V,k+=$*L,A+=$*V,P+=M*V}const[F,I]=R2(T/E,k/E,A/E,P/E);u[v]=F+I*b,d[v]=Math.abs(o[v]-u[v]),GEt(i,v+1,g)}if(p===gse)break;const m=aSe(d);if(Math.abs(m)<mse)break;for(let v=0,b,S;v<l;++v)b=d[v]/(6*m),f[v]=b>=1?mse:(S=1-b*b)*S}return YEt(i,u,s,a)}function qEt(e){return(e=1-e*e*e)*e*e}function GEt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function YEt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],c;for(;s<i;++s)c=e[s]+n,l[0]===c?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[c,t[s]],o.push(l));return l[1]+=r,o}const XEt=.5*Math.PI/180;function c$(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],o=t[0],s=t[1],a=s-o,l=a/r,c=[i(o)],u=[];if(n===r){for(let m=1;m<r;++m)c.push(i(o+m/n*a));return c.push(i(s)),c}else{u.push(i(s));for(let m=n;--m>0;)u.push(i(o+m/n*a))}let d=c[0],f=u[u.length-1];const p=1/a,g=KEt(d[1],u);for(;f;){const m=i((d[0]+f[0])/2);m[0]-d[0]>=l&&QEt(d,m,f,p,g)>XEt?u.push(m):(d=f,c.push(f),u.pop()),f=u[u.length-1]}return c}function KEt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function QEt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function ZEt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function wB(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:ZEt(e)}function Cwe(e,t,n){return n||e+(t?"_"+t:"")}const v4=()=>{},JEt={init:v4,add:v4,rem:v4,idx:0},sE={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},M2=Object.keys(sE).filter(e=>e!=="__count__");function e2t(e,t){return(n,r)=>kn({name:e,aggregate_param:r,out:n||e},JEt,t)}[...M2,"__count__"].forEach(e=>{sE[e]=e2t(e,sE[e])});function _we(e,t,n){return sE[e](n,t)}function Ewe(e,t){return e.idx-t.idx}function t2t(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=sE[i]())})};return e.forEach(n),Object.values(t).sort(Ewe)}function n2t(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function r2t(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function i2t(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function o2t(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function kwe(e,t){const n=t||ms,r=t2t(e),i=e.slice().sort(Ewe);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=n2t,o.prototype.add=r2t,o.prototype.rem=i2t,o.prototype.set=o2t,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function PV(e){this._key=e?pc(e):Zt,this.reset()}const Go=PV.prototype;Go.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Go.add=function(e){this._add.push(e)};Go.rem=function(e){this._rem.push(e)};Go.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,c;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(c=e[a])]?s[n(c)]=0:o[l++]=c;return this._rem=[],this._add=o};Go.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Pt(n,o)||(n[o]=1,++i);return i};Go.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=Hxe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Go.argmin=function(e){return this.extent(e)[0]||{}};Go.argmax=function(e){return this.extent(e)[1]||{}};Go.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Go.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Go.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=yV(this.values(),e),this._get=e),this._q};Go.q1=function(e){return this.quartile(e)[0]};Go.q2=function(e){return this.quartile(e)[1]};Go.q3=function(e){return this.quartile(e)[2]};Go.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=fwe(this.values(),1e3,.05,e),this._get=e),this._ci};Go.ci0=function(e){return this.ci(e)[0]};Go.ci1=function(e){return this.ci(e)[1]};function hg(e){Be.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}hg.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:M2},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};vt(hg,Be,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,c,u,d;for(l in a)for(u=a[l].tuple,c=0;c<i;++c)r[c][d=u[n[c]]]=d}o(e._prev),o(t);function s(a,l,c){const u=n[c],d=r[c++];for(const f in d){const p=a?a+"|"+f:f;l[u]=d[f],c<i?s(p,l,c):t[p]||e.cell(p,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(S){const C=Tt(ds(S)),_=C.length;let E=0,T;for(;E<_;++E)r[T=C[E]]||(r[T]=1,t.push(T))}this._dims=Tt(e.groupby),this._dnames=this._dims.map(S=>{const C=Ai(S);return i(S),n.push(C),C}),this.cellkey=e.key?e.key:wB(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],c=o.length,u={};let d,f,p,g,m,v,b;for(c!==s.length&&qe("Unmatched number of fields and aggregate ops."),b=0;b<c;++b){if(d=o[b],f=s[b],p=a[b]||null,d==null&&f!=="count"&&qe("Null aggregate field specified."),m=Ai(d),v=Cwe(f,m,l[b]),n.push(v),f==="count"){this._counts.push(v);continue}g=u[m],g||(i(d),g=u[m]=[],g.field=d,this._measures.push(g)),f!=="count"&&(this._countOnly=!1),g.push(_we(f,p,v))}return this._measures=this._measures.map(S=>kwe(S,S.field)),Object.create(null)},cellkey:wB(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new PV),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?iwe(t.tuple,o):wr(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,c,u,d;if(r)for(c in r)l=r[c],(!i||l.num)&&s.push(l.tuple);for(u=0,d=this._alen;u<d;++u)o.push(this.celltuple(t[u])),t[u]=null;for(u=0,d=this._mlen;u<d;++u)l=n[u],(l.num===0&&i?s:a).push(this.celltuple(l)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});const s2t=1e-14;function IV(e){Be.call(this,null,e)}IV.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};vt(IV,Be,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(ds(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?u=>{const d=r(u);u[a]=d,u[l]=d==null?null:i+o*(1+(d-i)/o)}:u=>u[a]=r(u)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=dwe(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(c){let u=ls(t(c));return u==null?null:u<i?-1/0:u>o?1/0:(u=Math.max(i,Math.min(u,o-r)),i+r*Math.floor(s2t+(u-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Pa(l,ds(t),e.name||"bin_"+Ai(t))}});function Rwe(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,c)=>(a&&(i=i.filter(u=>!s[r(u)]),s={},a=0),c&&l&&i.sort(l),o.length&&(i=l?Yxe(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function $V(e){Be.call(this,[],e)}$V.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};vt($V,Be,{transform(e,t){const n=t.fork(t.ALL),r=Rwe(Zt,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Ey(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function Twe(e){Wr.call(this,null,a2t,e)}vt(Twe,Wr);function a2t(e){return this.value&&!e.modified()?this.value:YH(e.fields,e.orders)}function FV(e){Be.call(this,null,e)}FV.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function l2t(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}vt(FV,Be,{transform(e,t){const n=d=>f=>{for(var p=l2t(a(f),e.case,o)||[],g,m=0,v=p.length;m<v;++m)s.test(g=p[m])||d(g)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],c=n(d=>i[d]=1+(i[d]||0)),u=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,c;for(a in n)l=r[a],c=n[a]||0,!l&&c?(r[a]=l=wr({}),l[i]=a,l[o]=c,s.add.push(l)):c===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==c&&(l[o]=c,s.mod.push(l));return s.modifies(t)}});function NV(e){Be.call(this,null,e)}NV.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};vt(NV,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=c2t(a,i,o,e.filter||hc)):n.mod=a,n.source=this.value,n.modifies(r)}});function c2t(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,c;a<s;++a)for(o[t]=c=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(wr(o)),o={},o[t]=c);return i}const yse={kde:SV,mixture:mwe,normal:xV,lognormal:gwe,uniform:ywe},u2t="distributions",vse="function",d2t="field";function Mwe(e,t){const n=e[vse];Pt(yse,n)||qe("Unknown distribution function: "+n);const r=yse[n]();for(const i in e)i===d2t?r.data((e.from||t()).map(e[i])):i===u2t?r[i](e[i].map(o=>Mwe(o,t))):typeof r[i]===vse&&r[i](e[i]);return r}function LV(e){Be.call(this,null,e)}const Awe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],f2t={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Awe},{name:"weights",type:"number",array:!0}]};LV.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Awe.concat(f2t)},{name:"as",type:"string",array:!0,default:["value","density"]}]};vt(LV,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Mwe(e.distribution,p2t(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&qe("Invalid density method: "+s),!e.extent&&!r.data&&qe("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Ed(r.data()),c=c$(s,l,i,o).map(u=>{const d={};return d[a[0]]=u[0],d[a[1]]=u[1],wr(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function p2t(e){return()=>e.materialize(e.SOURCE).source}function Owe(e,t){return e?e.map((n,r)=>t[r]||Ai(n)):null}function jV(e,t,n){const r=[],i=d=>d(l);let o,s,a,l,c,u;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],c=t.map(i),u=o[c],u||(o[c]=u=[],u.dims=c,r.push(u)),u.push(n(l));return r}const Dwe="bin";function zV(e){Be.call(this,null,e)}zV.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Dwe}]};const h2t=(e,t)=>k2(Ed(e,t))/30;vt(zV,Be,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=jV(t.source,e.groupby,ms),i=e.smooth||!1,o=e.field,s=e.step||h2t(n,o),a=Ey((g,m)=>o(g)-o(m)),l=e.as||Dwe,c=r.length;let u=1/0,d=-1/0,f=0,p;for(;f<c;++f){const g=r[f].sort(a);p=-1;for(const m of pwe(g,s,i,o))m<u&&(u=m),m>d&&(d=m),g[++p][l]=m}return this.value={start:u,stop:d,step:s},t.reflow(!0).modifies(l)}});function Pwe(e){Wr.call(this,null,g2t,e),this.modified(!0)}vt(Pwe,Wr);function g2t(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Pa(n=>t(n,e),ds(t),Ai(t))}function BV(e){Be.call(this,[void 0,void 0],e)}BV.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};vt(BV,Be,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=ls(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Ai(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function UV(e,t){Wr.call(this,e),this.parent=t,this.count=0}vt(UV,Wr,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function u$(e){Be.call(this,{},e),this._keys=Wx();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}vt(u$,Be,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Pt(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new UV(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const c=Zt(l),u=o.get(c);u!==void 0&&(o.delete(c),a(u).rem(l))}),t.visit(t.ADD,l=>{const c=r(l);o.set(Zt(l),c),a(c).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const c=Zt(l),u=o.get(c),d=r(l);u===d?a(d).mod(l):(o.set(c,d),a(u).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(Zt(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const c=Zt(l),u=o.get(c),d=r(l);u!==d&&(o.set(c,d),a(u).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function Iwe(e){Wr.call(this,null,m2t,e)}vt(Iwe,Wr);function m2t(e){return this.value&&!e.modified()?this.value:Xe(e.name)?Tt(e.name).map(t=>pc(t)):pc(e.name,e.as)}function HV(e){Be.call(this,Wx(),e)}HV.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};vt(HV,Be,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let c=!0;t.visit(t.REM,d=>{const f=Zt(d);r.has(f)?r.delete(f):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?o.push(d):r.set(Zt(d),1)});function u(d){const f=Zt(d),p=l(d,e),g=r.get(f);p&&g?(r.delete(f),o.push(d)):!p&&!g?(r.set(f,1),s.push(d)):c&&p&&!g&&a.push(d)}return t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function VV(e){Be.call(this,[],e)}VV.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};vt(VV,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Owe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(g=>g(a)),c=l.reduce((g,m)=>Math.max(g,m.length),0);let u=0,d,f,p;for(;u<c;++u){for(f=pV(a),d=0;d<s;++d)f[i[d]]=(p=l[d][u])==null?null:p;o&&(f[o]=u),n.add.push(f)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function WV(e){Be.call(this,[],e)}WV.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};vt(WV,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Ai),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let u=0,d;u<l;++u)d=pV(c),d[s]=i[u],d[a]=r[u](c),n.add.push(d)}),this.value=n.source=n.add,n.modifies(o)}});function qV(e){Be.call(this,null,e)}qV.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};vt(qV,Be,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function $we(e){Be.call(this,[],e)}vt($we,Be,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=wr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const $T={value:"value",median:aSe,mean:Zwt,min:dB,max:v0},y2t=[];function GV(e){Be.call(this,[],e)}GV.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function v2t(e){var t=e.method||$T.value,n;if($T[t]==null)qe("Unrecognized imputation method: "+t);else return t===$T.value?(n=e.value!==void 0?e.value:0,()=>n):$T[t]}function b2t(e){const t=e.field;return n=>n?t(n):NaN}vt(GV,Be,{transform(e,t){var n=t.fork(t.ALL),r=v2t(e),i=b2t(e),o=Ai(e.field),s=Ai(e.key),a=(e.groupby||[]).map(Ai),l=x2t(t.source,e.groupby,e.key,e.keyvals),c=[],u=this.value,d=l.domain.length,f,p,g,m,v,b,S,C,_,E;for(v=0,C=l.length;v<C;++v)for(f=l[v],g=f.values,p=NaN,S=0;S<d;++S)if(f[S]==null){for(m=l.domain[S],E={_impute:!0},b=0,_=g.length;b<_;++b)E[a[b]]=g[b];E[s]=m,E[o]=Number.isNaN(p)?p=r(f,i):p,c.push(wr(E))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),u.length&&(n.rem=n.materialize(n.REM).rem.concat(u)),this.value=c,n}});function x2t(e,t,n,r){var i=b=>b(v),o=[],s=r?r.slice():[],a={},l={},c,u,d,f,p,g,m,v;for(s.forEach((b,S)=>a[b]=S+1),f=0,m=e.length;f<m;++f)v=e[f],g=n(v),p=a[g]||(a[g]=s.push(g)),u=(c=t?t.map(i):y2t)+"",(d=l[u])||(d=l[u]=[],o.push(d),d.values=c),d[p-1]=v;return o.domain=s,o}function YV(e){hg.call(this,e)}YV.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:M2},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};vt(YV,hg,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{kn(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function XV(e){Be.call(this,null,e)}XV.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};vt(XV,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=jV(r,e.groupby,e.field),o=(e.groupby||[]).map(Ai),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],c=[];let u=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&qe("Invalid density method: "+a),e.resolve==="shared"&&(u||(u=Ed(r,e.field)),d=f=e.steps||f),i.forEach(p=>{const g=SV(p,s)[a],m=e.counts?p.length:1,v=u||Ed(p);c$(g,v,d,f).forEach(b=>{const S={};for(let C=0;C<o.length;++C)S[o[C]]=p.dims[C];S[l[0]]=b[0],S[l[1]]=b[1]*m,c.push(wr(S))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function Fwe(e){Wr.call(this,null,S2t,e)}vt(Fwe,Wr);function S2t(e){return this.value&&!e.modified()?this.value:QH(e.fields,e.flat)}function Nwe(e){Be.call(this,[],e),this._pending=null}vt(Nwe,Be,{transform(e,t){const n=t.dataflow;return this._pending?b4(this,t,this._pending):w2t(e)?t.StopPropagation:e.values?b4(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Tt(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>b4(this,t,Tt(r.data)))}});function w2t(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function b4(e,t,n){n.forEach(wr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function KV(e){Be.call(this,{},e)}KV.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};vt(KV,Be,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,c=t,u=e.as,d,f,p;return i?(f=i.length,a>1&&!u&&qe('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==a*f&&qe('The "as" parameter has too few output field names.'),u=u||i.map(Ai),d=function(g){for(var m=0,v=0,b,S;m<a;++m)if(S=r.get(n[m](g)),S==null)for(b=0;b<f;++b,++v)g[u[v]]=o;else for(b=0;b<f;++b,++v)g[u[v]]=i[b](S)}):(u||qe("Missing output field names."),d=function(g){for(var m=0,v;m<a;++m)v=r.get(n[m](g)),g[u[m]]=v??o}),s?c=t.reflow(!0):(p=n.some(g=>t.modified(g.fields)),l|=p?t.MOD:0),t.visit(l,d),c.modifies(u)}});function Lwe(e){Wr.call(this,null,C2t,e)}vt(Lwe,Wr);function C2t(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function jwe(e){Wr.call(this,null,_2t,e)}vt(jwe,Wr);function _2t(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function zwe(e){Be.call(this,null,e)}vt(zwe,Be,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function QV(e){hg.call(this,e)}QV.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:M2,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};vt(QV,hg,{_transform:hg.prototype.transform,transform(e,t){return this._transform(E2t(e,t),t)}});function E2t(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=ds(n).concat(ds(r)),s=R2t(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>k2t(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function k2t(e,t,n,r){return Pa(i=>t(i)===e?n(i):NaN,r,e+"")}function R2t(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(E2),t?i.slice(0,t):i}function Bwe(e){u$.call(this,e)}vt(Bwe,u$,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(Zt(o),n,t,o);return(e.modified("field")||r&&t.modified(ds(r)))&&qe("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(wr(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function ZV(e){Be.call(this,null,e)}ZV.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};vt(ZV,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Owe(e.fields,e.as||[]),o=r?(a,l)=>T2t(a,l,r,i):n$;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=Zt(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,wr({}));s[Zt(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[Zt(a)]))}),n}});function T2t(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function Uwe(e){Be.call(this,null,e)}vt(Uwe,Be,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function JV(e){Be.call(this,null,e)}JV.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const M2t=1e-14;vt(JV,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=jV(i,e.groupby,e.field),s=(e.groupby||[]).map(Ai),a=[],l=e.step||.01,c=e.probs||Ja(l/2,1-M2t,l),u=c.length;return o.forEach(d=>{const f=mV(d,c);for(let p=0;p<u;++p){const g={};for(let m=0;m<s.length;++m)g[s[m]]=d.dims[m];g[r[0]]=c[p],g[r[1]]=f[p],a.push(wr(g))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function Hwe(e){Be.call(this,null,e)}vt(Hwe,Be,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=Zt(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=pV(i);r[Zt(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[Zt(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function eW(e){Be.call(this,[],e),this.count=0}eW.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};vt(eW,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((u,d)=>(u[Zt(d)]=1,u),{});let s=this.value,a=this.count,l=0;function c(u){let d,f;s.length<i?s.push(u):(f=~~((a+1)*mc()),f<s.length&&f>=l&&(d=s[f],o[Zt(d)]&&n.rem.push(d),s[f]=u)),++a}if(t.rem.length&&(t.visit(t.REM,u=>{const d=Zt(u);o[d]&&(o[d]=-1,n.rem.push(u)),--a}),s=s.filter(u=>o[Zt(u)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,u=>{o[Zt(u)]||c(u)}),l=-1),r&&s.length>i){const u=s.length-i;for(let d=0;d<u;++d)o[Zt(s[d])]=-1,n.rem.push(s[d]);s=s.slice(u)}return t.mod.length&&t.visit(t.MOD,u=>{o[Zt(u)]&&n.mod.push(u)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||l<0)&&(n.add=s.filter(u=>!o[Zt(u)])),this.count=a,this.value=n.source=s,n}});function tW(e){Be.call(this,null,e)}tW.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};vt(tW,Be,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ja(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,wr(o)}),n.add=t.add.concat(this.value),n}});function Vwe(e){Be.call(this,null,e),this.modified(!0)}vt(Vwe,Be,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function nW(e){Be.call(this,null,e)}const Wwe=["unit0","unit1"];nW.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:iV,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Wwe}]};vt(nW,Be,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?Kx:Xx)(o.unit).offset,a=e.as||Wwe,l=a[0],c=a[1],u=o.step;let d=o.start||1/0,f=o.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(ds(n)))&&(t=t.reflow(!0),p=t.SOURCE,d=1/0,f=-1/0),t.visit(p,g=>{const m=n(g);let v,b;m==null?(g[l]=null,r&&(g[c]=null)):(g[l]=v=b=o(m),r&&(g[c]=b=s(v,u)),v<d&&(d=v),b>f&&(f=b))}),o.start=d,o.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:$Se({extent:e.extent||Ed(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=oV(r),s=this.value||{},a=(n?kSe:ESe)(o,i);return a.unit=er(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function qwe(e){Be.call(this,Wx(),e)}vt(qwe,Be,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function Gwe(e){Be.call(this,null,e)}vt(Gwe,Be,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Ey(e.sort)):t.source).map(e.field))}});function A2t(e,t,n,r){const i=aE[e](t,n);return{init:i.init||gh,update:function(o,s){s[r]=i.next(o)}}}const aE={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=aE.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||qe("ntile num must be greater than zero.");const n=aE.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||qe("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=O2t(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function O2t(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const D2t=Object.keys(aE);function Ywe(e){const t=Tt(e.ops),n=Tt(e.fields),r=Tt(e.params),i=Tt(e.aggregate_params),o=Tt(e.as),s=this.outputs=[],a=this.windows=[],l={},c={},u=[],d=[];let f=!0;function p(g){Tt(ds(g)).forEach(m=>l[m]=1)}p(e.sort),t.forEach((g,m)=>{const v=n[m],b=r[m],S=i[m]||null,C=Ai(v),_=Cwe(g,C,o[m]);if(p(v),s.push(_),Pt(aE,g))a.push(A2t(g,v,b,_));else{if(v==null&&g!=="count"&&qe("Null aggregate field specified."),g==="count"){u.push(_);return}f=!1;let E=c[C];E||(E=c[C]=[],E.field=v,d.push(E)),E.push(_we(g,S,_))}}),(u.length||d.length)&&(this.cell=P2t(d,u,f)),this.inputs=Object.keys(l)}const Xwe=Ywe.prototype;Xwe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};Xwe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function P2t(e,t,n){e=e.map(l=>kwe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new PV;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let c=0;c<i;++c)o[c].add(o[c].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let c=0;c<i;++c)o[c].rem(o[c].get(l),l)}},r.set=function(l){let c,u;for(a&&a.values(),c=0,u=t.length;c<u;++c)l[t[c]]=r.num;if(!n)for(c=0,u=o.length;c<u;++c)o[c].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function rW(e){Be.call(this,{},e),this._mlen=0,this._mods=[]}rW.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:D2t.concat(M2)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};vt(rW,Be,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Ey(e.sort),i=wB(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new Ywe(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)I2t(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Rwe(Zt),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function I2t(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,c=o?qx(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||ys(-1)};t.init();for(let d=0;d<l;++d)$2t(u,s,d,l),o&&F2t(u,c),t.update(u,a[d])}function $2t(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function F2t(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const N2t=Object.freeze(Object.defineProperty({__proto__:null,aggregate:hg,bin:IV,collect:$V,compare:Twe,countpattern:FV,cross:NV,density:LV,dotbin:zV,expression:Pwe,extent:BV,facet:u$,field:Iwe,filter:HV,flatten:VV,fold:WV,formula:qV,generate:$we,impute:GV,joinaggregate:YV,kde:XV,key:Fwe,load:Nwe,lookup:KV,multiextent:Lwe,multivalues:jwe,params:zwe,pivot:QV,prefacet:Bwe,project:ZV,proxy:Uwe,quantile:JV,relay:Hwe,sample:eW,sequence:tW,sieve:Vwe,subflow:UV,timeunit:nW,tupleindex:qwe,values:Gwe,window:rW},Symbol.toStringTag,{value:"Module"}));function _r(e){return function(){return e}}const bse=Math.abs,Zo=Math.atan2,ym=Math.cos,L2t=Math.max,x4=Math.min,ju=Math.sin,Qm=Math.sqrt,ts=1e-12,H1=Math.PI,UO=H1/2,Kwe=2*H1;function j2t(e){return e>1?0:e<-1?H1:Math.acos(e)}function xse(e){return e>=1?UO:e<=-1?-UO:Math.asin(e)}const CB=Math.PI,_B=2*CB,Pm=1e-6,z2t=_B-Pm;function Qwe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function B2t(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Qwe;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let iW=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Qwe:B2t(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,c=i-n,u=s-t,d=a-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Pm)if(!(Math.abs(d*l-c*u)>Pm)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,g=i-a,m=l*l+c*c,v=p*p+g*g,b=Math.sqrt(m),S=Math.sqrt(f),C=o*Math.tan((CB-Math.acos((m+f-v)/(2*b*S)))/2),_=C/S,E=C/b;Math.abs(_-1)>Pm&&this._append`L${t+_*u},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*p>u*g)},${this._x1=t+E*l},${this._y1=n+E*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,u=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Pm||Math.abs(this._y1-u)>Pm)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%_B+_B),f>z2t?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Pm&&this._append`A${r},${r},0,${+(f>=CB)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function d$(){return new iW}d$.prototype=iW.prototype;function f$(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new iW(t)}function U2t(e){return e.innerRadius}function H2t(e){return e.outerRadius}function V2t(e){return e.startAngle}function W2t(e){return e.endAngle}function q2t(e){return e&&e.padAngle}function G2t(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,d=a-o,f=d*l-u*c;if(!(f*f<ts))return f=(u*(t-o)-d*(e-i))/f,[e+f*l,t+f*c]}function FT(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/Qm(a*a+l*l),u=c*l,d=-c*a,f=e+u,p=t+d,g=n+u,m=r+d,v=(f+g)/2,b=(p+m)/2,S=g-f,C=m-p,_=S*S+C*C,E=i-o,T=f*m-g*p,k=(C<0?-1:1)*Qm(L2t(0,E*E*_-T*T)),A=(T*C-S*k)/_,P=(-T*S-C*k)/_,D=(T*C+S*k)/_,F=(-T*S+C*k)/_,I=A-v,j=P-b,M=D-v,$=F-b;return I*I+j*j>M*M+$*$&&(A=D,P=F),{cx:A,cy:P,x01:-u,y01:-d,x11:A*(i/E-1),y11:P*(i/E-1)}}function Y2t(){var e=U2t,t=H2t,n=_r(0),r=null,i=V2t,o=W2t,s=q2t,a=null,l=f$(c);function c(){var u,d,f=+e.apply(this,arguments),p=+t.apply(this,arguments),g=i.apply(this,arguments)-UO,m=o.apply(this,arguments)-UO,v=bse(m-g),b=m>g;if(a||(a=u=l()),p<f&&(d=p,p=f,f=d),!(p>ts))a.moveTo(0,0);else if(v>Kwe-ts)a.moveTo(p*ym(g),p*ju(g)),a.arc(0,0,p,g,m,!b),f>ts&&(a.moveTo(f*ym(m),f*ju(m)),a.arc(0,0,f,m,g,b));else{var S=g,C=m,_=g,E=m,T=v,k=v,A=s.apply(this,arguments)/2,P=A>ts&&(r?+r.apply(this,arguments):Qm(f*f+p*p)),D=x4(bse(p-f)/2,+n.apply(this,arguments)),F=D,I=D,j,M;if(P>ts){var $=xse(P/f*ju(A)),L=xse(P/p*ju(A));(T-=$*2)>ts?($*=b?1:-1,_+=$,E-=$):(T=0,_=E=(g+m)/2),(k-=L*2)>ts?(L*=b?1:-1,S+=L,C-=L):(k=0,S=C=(g+m)/2)}var V=p*ym(S),q=p*ju(S),U=f*ym(E),z=f*ju(E);if(D>ts){var B=p*ym(C),G=p*ju(C),Y=f*ym(_),Q=f*ju(_),K;if(v<H1)if(K=G2t(V,q,Y,Q,B,G,U,z)){var te=V-K[0],ce=q-K[1],ie=B-K[0],re=G-K[1],he=1/ju(j2t((te*ie+ce*re)/(Qm(te*te+ce*ce)*Qm(ie*ie+re*re)))/2),fe=Qm(K[0]*K[0]+K[1]*K[1]);F=x4(D,(f-fe)/(he-1)),I=x4(D,(p-fe)/(he+1))}else F=I=0}k>ts?I>ts?(j=FT(Y,Q,V,q,p,I,b),M=FT(B,G,U,z,p,I,b),a.moveTo(j.cx+j.x01,j.cy+j.y01),I<D?a.arc(j.cx,j.cy,I,Zo(j.y01,j.x01),Zo(M.y01,M.x01),!b):(a.arc(j.cx,j.cy,I,Zo(j.y01,j.x01),Zo(j.y11,j.x11),!b),a.arc(0,0,p,Zo(j.cy+j.y11,j.cx+j.x11),Zo(M.cy+M.y11,M.cx+M.x11),!b),a.arc(M.cx,M.cy,I,Zo(M.y11,M.x11),Zo(M.y01,M.x01),!b))):(a.moveTo(V,q),a.arc(0,0,p,S,C,!b)):a.moveTo(V,q),!(f>ts)||!(T>ts)?a.lineTo(U,z):F>ts?(j=FT(U,z,B,G,f,-F,b),M=FT(V,q,Y,Q,f,-F,b),a.lineTo(j.cx+j.x01,j.cy+j.y01),F<D?a.arc(j.cx,j.cy,F,Zo(j.y01,j.x01),Zo(M.y01,M.x01),!b):(a.arc(j.cx,j.cy,F,Zo(j.y01,j.x01),Zo(j.y11,j.x11),!b),a.arc(0,0,f,Zo(j.cy+j.y11,j.cx+j.x11),Zo(M.cy+M.y11,M.cx+M.x11),b),a.arc(M.cx,M.cy,F,Zo(M.y11,M.x11),Zo(M.y01,M.x01),!b))):a.arc(0,0,f,E,_,b)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-H1/2;return[ym(d)*u,ju(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:_r(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:_r(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:_r(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:_r(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:_r(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:_r(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:_r(+u),c):s},c.context=function(u){return arguments.length?(a=u??null,c):a},c}function Zwe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jwe(e){this._context=e}Jwe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oW(e){return new Jwe(e)}function eCe(e){return e[0]}function tCe(e){return e[1]}function nCe(e,t){var n=_r(!0),r=null,i=oW,o=null,s=f$(a);e=typeof e=="function"?e:e===void 0?eCe:_r(e),t=typeof t=="function"?t:t===void 0?tCe:_r(t);function a(l){var c,u=(l=Zwe(l)).length,d,f=!1,p;for(r==null&&(o=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:_r(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:_r(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:_r(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function rCe(e,t,n){var r=null,i=_r(!0),o=null,s=oW,a=null,l=f$(c);e=typeof e=="function"?e:e===void 0?eCe:_r(+e),t=typeof t=="function"?t:_r(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tCe:_r(+n);function c(d){var f,p,g,m=(d=Zwe(d)).length,v,b=!1,S,C=new Array(m),_=new Array(m);for(o==null&&(a=s(S=l())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===b)if(b=!b)p=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=f-1;g>=p;--g)a.point(C[g],_[g]);a.lineEnd(),a.areaEnd()}b&&(C[f]=+e(v,f,d),_[f]=+t(v,f,d),a.point(r?+r(v,f,d):C[f],n?+n(v,f,d):_[f]))}if(S)return a=null,S+""||null}function u(){return nCe().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:_r(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_r(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:_r(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}const X2t={draw(e,t){const n=Qm(t/H1);e.moveTo(n,0),e.arc(0,0,n,0,Kwe)}};function K2t(e,t){let n=null,r=f$(i);e=typeof e=="function"?e:_r(e||X2t),t=typeof t=="function"?t:_r(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:_r(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:_r(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function gg(){}function HO(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function p$(e){this._context=e}p$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:HO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:HO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q2t(e){return new p$(e)}function iCe(e){this._context=e}iCe.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:HO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z2t(e){return new iCe(e)}function oCe(e){this._context=e}oCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:HO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J2t(e){return new oCe(e)}function sCe(e,t){this._basis=new p$(e),this._beta=t}sCe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ekt=function e(t){function n(r){return t===1?new p$(r):new sCe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function VO(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function sW(e,t){this._context=e,this._k=(1-t)/6}sW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:VO(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:VO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tkt=function e(t){function n(r){return new sW(r,t)}return n.tension=function(r){return e(+r)},n}(0);function aW(e,t){this._context=e,this._k=(1-t)/6}aW.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:VO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const nkt=function e(t){function n(r){return new aW(r,t)}return n.tension=function(r){return e(+r)},n}(0);function lW(e,t){this._context=e,this._k=(1-t)/6}lW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:VO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rkt=function e(t){function n(r){return new lW(r,t)}return n.tension=function(r){return e(+r)},n}(0);function cW(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>ts){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>ts){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function aCe(e,t){this._context=e,this._alpha=t}aCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:cW(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ikt=function e(t){function n(r){return t?new aCe(r,t):new sW(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function lCe(e,t){this._context=e,this._alpha=t}lCe.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:cW(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const okt=function e(t){function n(r){return t?new lCe(r,t):new aW(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function cCe(e,t){this._context=e,this._alpha=t}cCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cW(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const skt=function e(t){function n(r){return t?new cCe(r,t):new lW(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function uCe(e){this._context=e}uCe.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function akt(e){return new uCe(e)}function Sse(e){return e<0?-1:1}function wse(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Sse(o)+Sse(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Cse(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function S4(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:S4(this,this._t0,Cse(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,S4(this,Cse(this,n=wse(this,e,t)),n);break;default:S4(this,this._t0,n=wse(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dCe(e){this._context=new fCe(e)}(dCe.prototype=Object.create(WO.prototype)).point=function(e,t){WO.prototype.point.call(this,t,e)};function fCe(e){this._context=e}fCe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function lkt(e){return new WO(e)}function ckt(e){return new dCe(e)}function pCe(e){this._context=e}pCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=_se(e),i=_se(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _se(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ukt(e){return new pCe(e)}function h$(e,t){this._context=e,this._t=t}h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function dkt(e){return new h$(e,.5)}function fkt(e){return new h$(e,0)}function pkt(e){return new h$(e,1)}function Gh(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const hkt=()=>typeof Image<"u"?Image:null;function Ld(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Lg(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const EB=Symbol("implicit");function uW(){var e=new Boe,t=[],n=[],r=EB;function i(o){let s=e.get(o);if(s===void 0){if(r!==EB)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Boe;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uW(t,n).unknown(r)},Ld.apply(i,arguments),i}function gkt(e){return function(){return e}}function kB(e){return+e}var Ese=[0,1];function ga(e){return e}function RB(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gkt(isNaN(t)?NaN:.5)}function mkt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ykt(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=RB(i,r),o=n(s,o)):(r=RB(r,i),o=n(o,s)),function(a){return o(r(a))}}function vkt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=RB(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=fg(e,a,1,r)-1;return o[l](i[l](a))}}function A2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function g$(){var e=Ese,t=Ese,n=Fg,r,i,o,s=ga,a,l,c;function u(){var f=Math.min(e.length,t.length);return s!==ga&&(s=mkt(e[0],e[f-1])),a=f>2?vkt:ykt,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((c||(c=a(t,e.map(r),Gl)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,kB),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=b2,u()},d.clamp=function(f){return arguments.length?(s=f?!0:ga,u()):s!==ga},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return r=f,i=p,u()}}function hCe(){return g$()(ga,ga)}function gCe(e,t,n,r){var i=pg(e,t,n),o;switch(r=W0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=pSe(i,s))&&(r.precision=o),nV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=hSe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=fSe(i))&&(r.precision=o-(r.type==="%")*2);break}}return GI(r)}function Ry(e){var t=e.domain;return e.ticks=function(n){var r=t();return cB(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return gCe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=uB(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function mCe(){var e=hCe();return e.copy=function(){return A2(e,mCe())},Ld.apply(e,arguments),Ry(e)}function yCe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,kB),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return yCe(e).unknown(t)},e=arguments.length?Array.from(e,kB):[0,1],Ry(n)}function vCe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function kse(e){return Math.log(e)}function Rse(e){return Math.exp(e)}function bkt(e){return-Math.log(-e)}function xkt(e){return-Math.exp(-e)}function Skt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wkt(e){return e===10?Skt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ckt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tse(e){return(t,n)=>-e(-t,n)}function dW(e){const t=e(kse,Rse),n=t.domain;let r=10,i,o;function s(){return i=Ckt(r),o=wkt(r),n()[0]<0?(i=Tse(i),o=Tse(o),e(bkt,xkt)):e(kse,Rse),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),g,m;const v=a==null?10:+a;let b=[];if(!(r%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(g=1;g<r;++g)if(m=f<0?g/o(-f):g*o(f),!(m<c)){if(m>u)break;b.push(m)}}else for(;f<=p;++f)for(g=r-1;g>=1;--g)if(m=f>0?g/o(-f):g*o(f),!(m<c)){if(m>u)break;b.push(m)}b.length*2<v&&(b=cB(c,u,v))}else b=cB(f,p,Math.min(p-f,v)).map(o);return d?b.reverse():b},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=W0(l)).precision==null&&(l.trim=!0),l=GI(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(vCe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function bCe(){const e=dW(g$()).domain([1,10]);return e.copy=()=>A2(e,bCe()).base(e.base()),Ld.apply(e,arguments),e}function Mse(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ase(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fW(e){var t=1,n=e(Mse(t),Ase(t));return n.constant=function(r){return arguments.length?e(Mse(t=+r),Ase(t)):t},Ry(n)}function xCe(){var e=fW(g$());return e.copy=function(){return A2(e,xCe()).constant(e.constant())},Ld.apply(e,arguments)}function Ose(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _kt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ekt(e){return e<0?-e*e:e*e}function pW(e){var t=e(ga,ga),n=1;function r(){return n===1?e(ga,ga):n===.5?e(_kt,Ekt):e(Ose(n),Ose(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ry(t)}function hW(){var e=pW(g$());return e.copy=function(){return A2(e,hW()).exponent(e.exponent())},Ld.apply(e,arguments),e}function kkt(){return hW.apply(null,arguments).exponent(.5)}function SCe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=sSe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[fg(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vf),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return SCe().domain(e).range(t).unknown(r)},Ld.apply(o,arguments)}function wCe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[fg(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return wCe().domain([e,t]).range(i).unknown(o)},Ld.apply(Ry(s),arguments)}function CCe(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[fg(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return CCe().domain(e).range(t).unknown(n)},Ld.apply(i,arguments)}function Rkt(e){return new Date(e)}function Tkt(e){return e instanceof Date?+e:+new Date(+e)}function gW(e,t,n,r,i,o,s,a,l,c){var u=hCe(),d=u.invert,f=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),S=c("%b %d"),C=c("%B"),_=c("%Y");function E(T){return(l(T)<T?p:a(T)<T?g:s(T)<T?m:o(T)<T?v:r(T)<T?i(T)<T?b:S:n(T)<T?C:_)(T)}return u.invert=function(T){return new Date(d(T))},u.domain=function(T){return arguments.length?f(Array.from(T,Tkt)):f().map(Rkt)},u.ticks=function(T){var k=f();return e(k[0],k[k.length-1],T??10)},u.tickFormat=function(T,k){return k==null?E:c(k)},u.nice=function(T){var k=f();return(!T||typeof T.range!="function")&&(T=t(k[0],k[k.length-1],T??10)),T?f(vCe(k,T)):u},u.copy=function(){return A2(u,gW(e,t,n,r,i,o,s,a,l,c))},u}function Mkt(){return Ld.apply(gW(xCt,SCt,kd,rE,Gx,Wf,KI,YI,Pf,aV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Akt(){return Ld.apply(gW(vCt,bCt,Rd,iE,Yx,Wh,QI,XI,Pf,lV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function m$(){var e=0,t=1,n,r,i,o,s=ga,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(f){var p,g;return arguments.length?([p,g]=f,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(Fg),c.rangeRound=u(b2),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function jg(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mW(){var e=Ry(m$()(ga));return e.copy=function(){return jg(e,mW())},Lg.apply(e,arguments)}function _Ce(){var e=dW(m$()).domain([1,10]);return e.copy=function(){return jg(e,_Ce()).base(e.base())},Lg.apply(e,arguments)}function ECe(){var e=fW(m$());return e.copy=function(){return jg(e,ECe()).constant(e.constant())},Lg.apply(e,arguments)}function yW(){var e=pW(m$());return e.copy=function(){return jg(e,yW()).exponent(e.exponent())},Lg.apply(e,arguments)}function Okt(){return yW.apply(null,arguments).exponent(.5)}function y$(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,c=ga,u,d=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-o)*(r*m<r*o?a:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,n]=m,i=u(e=+e),o=u(t=+t),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var b,S,C;return arguments.length?([b,S,C]=v,c=TH(m,[b,S,C]),p):[c(0),c(.5),c(1)]}}return p.range=g(Fg),p.rangeRound=g(b2),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return u=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function kCe(){var e=Ry(y$()(ga));return e.copy=function(){return jg(e,kCe())},Lg.apply(e,arguments)}function RCe(){var e=dW(y$()).domain([.1,1,10]);return e.copy=function(){return jg(e,RCe()).base(e.base())},Lg.apply(e,arguments)}function TCe(){var e=fW(y$());return e.copy=function(){return jg(e,TCe()).constant(e.constant())},Lg.apply(e,arguments)}function vW(){var e=pW(y$());return e.copy=function(){return jg(e,vW()).exponent(e.exponent())},Lg.apply(e,arguments)}function Dkt(){return vW.apply(null,arguments).exponent(.5)}function wu(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Pkt=wu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ikt=wu("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),$kt=wu("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Fkt=wu("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Nkt=wu("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Lkt=wu("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),jkt=wu("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),zkt=wu("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Bkt=wu("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ukt=wu("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Hkt=e=>Ybe(e[e.length-1]);var Vkt=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(wu);const Dse=Hkt(Vkt);function bW(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Wkt="identity",V1="linear",up="log",O2="pow",D2="sqrt",v$="symlog",q0="time",G0="utc",gd="sequential",Zx="diverging",W1="quantile",b$="quantize",x$="threshold",xW="ordinal",TB="point",MCe="band",SW="bin-ordinal",lo="continuous",P2="discrete",I2="discretizing",Cc="interpolating",wW="temporal";function qkt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function Gkt(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,c;for(i<r&&(a=r,r=i,i=a),l=0,c=n.length;l<c;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function CW(){const e=uW().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,c=.5;delete e.unknown;function u(){const d=t().length,f=r[1]<r[0],p=r[1-f],g=bW(d,a,l);let m=r[f-0];i=(p-m)/(g||1),s&&(i=Math.floor(i)),m+=(p-m-i*(d-a))*c,o=i*(1-a),s&&(m=Math.round(m),o=Math.round(o));const v=Ja(d).map(b=>m+i*b);return n(f?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],u()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,u()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,u()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),u()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),u()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),u()):c},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],p=f?n().reverse():n(),g=p.length-1;let m=+d[0],v=+d[1],b,S,C;if(!(m!==m||v!==v)&&(v<m&&(C=m,m=v,v=C),!(v<p[0]||m>r[1-f])))return b=Math.max(0,fg(p,m)-1),S=m===v?b:fg(p,v)-1,m-p[b]>o+1e-10&&++b,f&&(C=b,b=g-S,S=g-C),b>S?void 0:t().slice(b,S+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return CW().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(c)},u()}function ACe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ACe(t())},e}function Ykt(){return ACe(CW().paddingInner(1))}var Xkt=Array.prototype.map;function Kkt(e){return Xkt.call(e,ls)}const Qkt=Array.prototype.slice;function OCe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(fg(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=Kkt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=Qkt.call(r),n):t.slice()},n.tickFormat=function(r,i){return gCe(e[0],er(e),r??10,i)},n.copy=function(){return OCe().domain(n.domain()).range(n.range())},n}const qO=new Map,DCe=Symbol("vega_scale");function PCe(e){return e[DCe]=!0,e}function Pse(e){return e&&e[DCe]===!0}function Zkt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?qkt(o):o.invertExtent?Gkt(o):void 0),o.type=e,PCe(o)};return r.metadata=lu(Tt(n)),r}function yr(e,t,n){return arguments.length>1?(qO.set(e,Zkt(e,t,n)),this):ICe(e)?qO.get(e):void 0}yr(Wkt,yCe);yr(V1,mCe,lo);yr(up,bCe,[lo,up]);yr(O2,hW,lo);yr(D2,kkt,lo);yr(v$,xCe,lo);yr(q0,Mkt,[lo,wW]);yr(G0,Akt,[lo,wW]);yr(gd,mW,[lo,Cc]);yr(`${gd}-${V1}`,mW,[lo,Cc]);yr(`${gd}-${up}`,_Ce,[lo,Cc,up]);yr(`${gd}-${O2}`,yW,[lo,Cc]);yr(`${gd}-${D2}`,Okt,[lo,Cc]);yr(`${gd}-${v$}`,ECe,[lo,Cc]);yr(`${Zx}-${V1}`,kCe,[lo,Cc]);yr(`${Zx}-${up}`,RCe,[lo,Cc,up]);yr(`${Zx}-${O2}`,vW,[lo,Cc]);yr(`${Zx}-${D2}`,Dkt,[lo,Cc]);yr(`${Zx}-${v$}`,TCe,[lo,Cc]);yr(W1,SCe,[I2,W1]);yr(b$,wCe,I2);yr(x$,CCe,I2);yr(SW,OCe,[P2,I2]);yr(xW,uW,P2);yr(MCe,CW,P2);yr(TB,Ykt,P2);function ICe(e){return qO.has(e)}function Ty(e,t){const n=qO.get(e);return n&&n.metadata[t]}function _W(e){return Ty(e,lo)}function q1(e){return Ty(e,P2)}function MB(e){return Ty(e,I2)}function $Ce(e){return Ty(e,up)}function Jkt(e){return Ty(e,wW)}function FCe(e){return Ty(e,Cc)}function NCe(e){return Ty(e,W1)}const eRt=["clamp","base","constant","exponent"];function LCe(e,t){const n=t[0],r=er(t)-n;return function(i){return e(n+i*r)}}function S$(e,t,n){return TH(EW(t||"rgb",n),e)}function jCe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function zCe(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?ys(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=yr(o)().domain([t,n]).range([0,1]),eRt.forEach(a=>e[a]?s[a](e[a]()):0),s)}function EW(e,t){const n=ivt[tRt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function tRt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const nRt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},rRt={accent:Ikt,category10:Pkt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:$kt,observable10:Fkt,paired:Nkt,pastel1:Lkt,pastel2:jkt,set1:zkt,set2:Bkt,set3:Ukt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function BCe(e){if(Xe(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function UCe(e,t){for(const n in e)kW(n,t(e[n]))}const Ise={};UCe(rRt,BCe);UCe(nRt,e=>S$(BCe(e)));function kW(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ise[e]=t,this):Ise[e]}const QM="symbol",iRt="discrete",oRt="gradient",sRt=e=>Xe(e)?e.map(t=>String(t)):String(e),aRt=(e,t)=>e[1]-t[1],lRt=(e,t)=>t[1]-e[1];function RW(e,t,n){let r;return gr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(k2(e.domain())/n||1)+1))),At(t)&&(r=t.step,t=t.interval),Mt(t)&&(t=e.type===q0?Xx(t):e.type==G0?Kx(t):qe("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function HCe(e,t,n){let r=e.range(),i=r[0],o=er(r),s=aRt;if(i>o&&(r=o,o=i,i=r,s=lRt),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],er(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,c)=>!(c%2));t.length<3&&(t=a)}return t}function TW(e,t){return e.bins?HCe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function VCe(e,t,n,r,i,o){const s=t.type;let a=sRt;if(s===q0||i===q0)a=e.timeFormat(r);else if(s===G0||i===G0)a=e.utcFormat(r);else if($Ce(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const c=WCe(t,n,!1);a=u=>c(u)?l(u):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function WCe(e,t,n){const r=TW(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let c=l/Math.pow(i,Math.round(Math.log(l)/o));return c*i<i-.5&&(c*=i),c<=s};return n?r.filter(a):a}const AB={[W1]:"quantiles",[b$]:"thresholds",[x$]:"domain"},qCe={[W1]:"quantiles",[b$]:"domain"};function GCe(e,t){return e.bins?dRt(e.bins):e.type===up?WCe(e,t,!0):AB[e.type]?uRt(e[AB[e.type]]()):TW(e,t)}function cRt(e,t,n){const r=t[qCe[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function uRt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function dRt(e){const t=e.slice(0,-1);return t.max=er(e),t}const fRt=e=>AB[e.type]||e.bins;function YCe(e,t,n,r,i,o,s){const a=qCe[t.type]&&o!==q0&&o!==G0?cRt(e,t,i):VCe(e,t,n,i,o,s);return r===QM&&fRt(t)?pRt(a):r===iRt?hRt(a):gRt(a)}const pRt=e=>(t,n,r)=>{const i=$se(r[n+1],$se(r.max,1/0)),o=Fse(t,e),s=Fse(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},$se=(e,t)=>e??t,hRt=e=>(t,n)=>n?e(t):null,gRt=e=>t=>e(t),Fse=(e,t)=>Number.isFinite(e)?t(e):null;function mRt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+er(t),o=i-r;if(e.type===x$){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function yRt(e,t,n,r){const i=r||t.type;return Mt(n)&&Jkt(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===q0?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===G0?e.utcFormat("%A, %d %B %Y, %X UTC"):YCe(e,t,5,null,n,r,!0)}function XCe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=yRt(e,t,n.format,n.formatType);if(MB(t.type)){const o=GCe(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(q1(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(er(o))}`}}let KCe=0;function vRt(){KCe=0}const GO="p_";function MW(e){return e&&e.gradient}function QCe(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?GO:"";return i||(i=e.id="gradient_"+KCe++,r==="radial"?(e.x1=zu(e.x1,.5),e.y1=zu(e.y1,.5),e.r1=zu(e.r1,0),e.x2=zu(e.x2,.5),e.y2=zu(e.y2,.5),e.r2=zu(e.r2,.5),o=GO):(e.x1=zu(e.x1,0),e.y1=zu(e.y1,0),e.x2=zu(e.x2,1),e.y2=zu(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function zu(e,t){return e??t}function ZCe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const Nse={basis:{curve:Q2t},"basis-closed":{curve:Z2t},"basis-open":{curve:J2t},bundle:{curve:ekt,tension:"beta",value:.85},cardinal:{curve:tkt,tension:"tension",value:0},"cardinal-open":{curve:rkt,tension:"tension",value:0},"cardinal-closed":{curve:nkt,tension:"tension",value:0},"catmull-rom":{curve:ikt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:okt,tension:"alpha",value:.5},"catmull-rom-open":{curve:skt,tension:"alpha",value:.5},linear:{curve:oW},"linear-closed":{curve:akt},monotone:{horizontal:ckt,vertical:lkt},natural:{curve:ukt},step:{curve:dkt},"step-after":{curve:pkt},"step-before":{curve:fkt}};function AW(e,t,n){var r=Pt(Nse,e)&&Nse[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const bRt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},xRt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,SRt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,wRt=/^((\s+,?\s*)|(,\s*))/,CRt=/^[01]/;function G1(e){const t=[];return(e.match(xRt)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=bRt[o],a=_Rt(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let c=s;c<l;c+=s)t.push([i,...a.slice(c,c+s)])}}),t}function _Rt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?CRt:SRt,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(wRt);l!==null&&(i+=l[0].length)}return r}const mg=Math.PI/180,ERt=1e-14,jm=Math.PI/2,td=Math.PI*2,jv=Math.sqrt(3)/2;var w4={},C4={},JCe=[].join;function kRt(e,t,n,r,i,o,s,a,l){const c=JCe.call(arguments);if(w4[c])return w4[c];const u=s*mg,d=Math.sin(u),f=Math.cos(u);n=Math.abs(n),r=Math.abs(r);const p=f*(a-e)*.5+d*(l-t)*.5,g=f*(l-t)*.5-d*(a-e)*.5;let m=p*p/(n*n)+g*g/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const v=f/n,b=d/n,S=-d/r,C=f/r,_=v*a+b*l,E=S*a+C*l,T=v*e+b*t,k=S*e+C*t;let P=1/((T-_)*(T-_)+(k-E)*(k-E))-.25;P<0&&(P=0);let D=Math.sqrt(P);o==i&&(D=-D);const F=.5*(_+T)-D*(k-E),I=.5*(E+k)+D*(T-_),j=Math.atan2(E-I,_-F);let $=Math.atan2(k-I,T-F)-j;$<0&&o===1?$+=td:$>0&&o===0&&($-=td);const L=Math.ceil(Math.abs($/(jm+.001))),V=[];for(let q=0;q<L;++q){const U=j+q*$/L,z=j+(q+1)*$/L;V[q]=[F,I,U,z,n,r,d,f]}return w4[c]=V}function RRt(e){const t=JCe.call(e);if(C4[t])return C4[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7];const u=c*s,d=-l*a,f=l*s,p=c*a,g=Math.cos(i),m=Math.sin(i),v=Math.cos(o),b=Math.sin(o),S=.5*(o-i),C=Math.sin(S*.5),_=8/3*C*C/Math.sin(S),E=n+g-_*m,T=r+m+_*g,k=n+v,A=r+b,P=k+_*b,D=A-_*v;return C4[t]=[u*E+d*T,f*E+p*T,u*P+d*D,f*P+p*D,u*k+d*A,f*k+p*A]}const Ll=["l",0,0,0,0,0,0,0];function TRt(e,t,n){const r=Ll[0]=e[0];if(r==="a"||r==="A")Ll[1]=t*e[1],Ll[2]=n*e[2],Ll[3]=e[3],Ll[4]=e[4],Ll[5]=e[5],Ll[6]=t*e[6],Ll[7]=n*e[7];else if(r==="h"||r==="H")Ll[1]=t*e[1];else if(r==="v"||r==="V")Ll[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Ll[i]=(i%2==1?t:n)*e[i];return Ll}function lE(e,t,n,r,i,o){var s,a=null,l=0,c=0,u=0,d=0,f,p,g,m,v=0,b=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var S=0,C=t.length;S<C;++S){switch(s=t[S],(i!==1||o!==1)&&(s=TRt(s,i,o)),s[0]){case"l":l+=s[1],c+=s[2],e.lineTo(l+n,c+r);break;case"L":l=s[1],c=s[2],e.lineTo(l+n,c+r);break;case"h":l+=s[1],e.lineTo(l+n,c+r);break;case"H":l=s[1],e.lineTo(l+n,c+r);break;case"v":c+=s[1],e.lineTo(l+n,c+r);break;case"V":c=s[1],e.lineTo(l+n,c+r);break;case"m":l+=s[1],c+=s[2],v=l,b=c,e.moveTo(l+n,c+r);break;case"M":l=s[1],c=s[2],v=l,b=c,e.moveTo(l+n,c+r);break;case"c":f=l+s[5],p=c+s[6],u=l+s[3],d=c+s[4],e.bezierCurveTo(l+s[1]+n,c+s[2]+r,u+n,d+r,f+n,p+r),l=f,c=p;break;case"C":l=s[5],c=s[6],u=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,u+n,d+r,l+n,c+r);break;case"s":f=l+s[3],p=c+s[4],u=2*l-u,d=2*c-d,e.bezierCurveTo(u+n,d+r,l+s[1]+n,c+s[2]+r,f+n,p+r),u=l+s[1],d=c+s[2],l=f,c=p;break;case"S":f=s[3],p=s[4],u=2*l-u,d=2*c-d,e.bezierCurveTo(u+n,d+r,s[1]+n,s[2]+r,f+n,p+r),l=f,c=p,u=s[1],d=s[2];break;case"q":f=l+s[3],p=c+s[4],u=l+s[1],d=c+s[2],e.quadraticCurveTo(u+n,d+r,f+n,p+r),l=f,c=p;break;case"Q":f=s[3],p=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,p+r),l=f,c=p,u=s[1],d=s[2];break;case"t":f=l+s[1],p=c+s[2],a[0].match(/[QqTt]/)===null?(u=l,d=c):a[0]==="t"?(u=2*l-g,d=2*c-m):a[0]==="q"&&(u=2*l-u,d=2*c-d),g=u,m=d,e.quadraticCurveTo(u+n,d+r,f+n,p+r),l=f,c=p,u=l+s[1],d=c+s[2];break;case"T":f=s[1],p=s[2],u=2*l-u,d=2*c-d,e.quadraticCurveTo(u+n,d+r,f+n,p+r),l=f,c=p;break;case"a":Lse(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+c+r]),l+=s[6],c+=s[7];break;case"A":Lse(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],c=s[7];break;case"z":case"Z":l=v,c=b,e.closePath();break}a=s}}function Lse(e,t,n,r){const i=kRt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=RRt(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const jse=.5773502691896257,zse={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,td)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=jv*n,i=r-n*jse,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=jv*n,i=r-n*jse;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=jv*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=jv*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=jv*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=jv*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function e_e(e){return Pt(zse,e)?zse[e]:MRt(e)}var _4={};function MRt(e){if(!Pt(_4,e)){const t=G1(e);_4[e]={draw:function(n,r){lE(n,t,0,0,Math.sqrt(r)/2)}}}return _4[e]}const eh=.448084975506;function ARt(e){return e.x}function ORt(e){return e.y}function DRt(e){return e.width}function PRt(e){return e.height}function pf(e){return typeof e=="function"?e:()=>+e}function NT(e,t,n){return Math.max(t,Math.min(e,n))}function t_e(){var e=ARt,t=ORt,n=DRt,r=PRt,i=pf(0),o=i,s=i,a=i,l=null;function c(u,d,f){var p,g=d??+e.call(this,u),m=f??+t.call(this,u),v=+n.call(this,u),b=+r.call(this,u),S=Math.min(v,b)/2,C=NT(+i.call(this,u),0,S),_=NT(+o.call(this,u),0,S),E=NT(+s.call(this,u),0,S),T=NT(+a.call(this,u),0,S);if(l||(l=p=d$()),C<=0&&_<=0&&E<=0&&T<=0)l.rect(g,m,v,b);else{var k=g+v,A=m+b;l.moveTo(g+C,m),l.lineTo(k-_,m),l.bezierCurveTo(k-eh*_,m,k,m+eh*_,k,m+_),l.lineTo(k,A-T),l.bezierCurveTo(k,A-eh*T,k-eh*T,A,k-T,A),l.lineTo(g+E,A),l.bezierCurveTo(g+eh*E,A,g,A-eh*E,g,A-E),l.lineTo(g,m+C),l.bezierCurveTo(g,m+eh*C,g+eh*C,m,g+C,m),l.closePath()}if(p)return l=null,p+""||null}return c.x=function(u){return arguments.length?(e=pf(u),c):e},c.y=function(u){return arguments.length?(t=pf(u),c):t},c.width=function(u){return arguments.length?(n=pf(u),c):n},c.height=function(u){return arguments.length?(r=pf(u),c):r},c.cornerRadius=function(u,d,f,p){return arguments.length?(i=pf(u),o=d!=null?pf(d):i,a=f!=null?pf(f):i,s=p!=null?pf(p):o,c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function n_e(){var e,t,n,r,i=null,o,s,a,l;function c(d,f,p){const g=p/2;if(o){var m=a-f,v=d-s;if(m||v){var b=Math.hypot(m,v),S=(m/=b)*l,C=(v/=b)*l,_=Math.atan2(v,m);i.moveTo(s-S,a-C),i.lineTo(d-m*g,f-v*g),i.arc(d,f,g,_-Math.PI,_),i.lineTo(s+S,a+C),i.arc(s,a,l,_,_+Math.PI)}else i.arc(d,f,g,0,td);i.closePath()}else o=1;s=d,a=f,l=g}function u(d){var f,p=d.length,g,m=!1,v;for(i==null&&(i=v=d$()),f=0;f<=p;++f)!(f<p&&r(g=d[f],f,d))===m&&(m=!m)&&(o=0),m&&c(+e(g,f,d),+t(g,f,d),+n(g,f,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=d,u):e},u.y=function(d){return arguments.length?(t=d,u):t},u.size=function(d){return arguments.length?(n=d,u):n},u.defined=function(d){return arguments.length?(r=d,u):r},u.context=function(d){return arguments.length?(d==null?i=null:i=d,u):i},u}function $2(e,t){return e??t}const F2=e=>e.x||0,N2=e=>e.y||0,IRt=e=>e.width||0,$Rt=e=>e.height||0,FRt=e=>(e.x||0)+(e.width||0),NRt=e=>(e.y||0)+(e.height||0),LRt=e=>e.startAngle||0,jRt=e=>e.endAngle||0,zRt=e=>e.padAngle||0,BRt=e=>e.innerRadius||0,URt=e=>e.outerRadius||0,HRt=e=>e.cornerRadius||0,VRt=e=>$2(e.cornerRadiusTopLeft,e.cornerRadius)||0,WRt=e=>$2(e.cornerRadiusTopRight,e.cornerRadius)||0,qRt=e=>$2(e.cornerRadiusBottomRight,e.cornerRadius)||0,GRt=e=>$2(e.cornerRadiusBottomLeft,e.cornerRadius)||0,YRt=e=>$2(e.size,64),XRt=e=>e.size||1,w$=e=>e.defined!==!1,KRt=e=>e_e(e.shape||"circle"),QRt=Y2t().startAngle(LRt).endAngle(jRt).padAngle(zRt).innerRadius(BRt).outerRadius(URt).cornerRadius(HRt),ZRt=rCe().x(F2).y1(N2).y0(NRt).defined(w$),JRt=rCe().y(N2).x1(F2).x0(FRt).defined(w$),eTt=nCe().x(F2).y(N2).defined(w$),tTt=t_e().x(F2).y(N2).width(IRt).height($Rt).cornerRadius(VRt,WRt,qRt,GRt),nTt=K2t().type(KRt).size(YRt),rTt=n_e().x(F2).y(N2).defined(w$).size(XRt);function OW(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function iTt(e,t){return QRt.context(e)(t)}function oTt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?JRt:ZRt).curve(AW(r,n.orient,n.tension)).context(e)(t)}function sTt(e,t){const n=t[0],r=n.interpolate||"linear";return eTt.curve(AW(r,n.orient,n.tension)).context(e)(t)}function Jx(e,t,n,r){return tTt.context(e)(t,n,r)}function aTt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function lTt(e,t){return nTt.context(e)(t)}function cTt(e,t){return rTt.context(e)(t)}var r_e=1;function uTt(){r_e=1}function DW(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+r_e++),s=i.clipping[o]||(i.clipping[o]={id:o});return Rn(r)?s.path=r(null):OW(n)?s.path=Jx(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function Yi(e){this.clear(),e&&this.union(e)}Yi.prototype={clone(){return new Yi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),c=t-t*a+n*l,u=n-t*l-n*a;return[a*r-l*i+c,l*r+a*i+u,a*r-l*s+c,l*r+a*s+u,a*o-l*i+c,l*o+a*i+u,a*o-l*s+c,l*o+a*s+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function C$(e){this.mark=e,this.bounds=this.bounds||new Yi}function _$(e){C$.call(this,e),this.items=this.items||[]}vt(_$,C$);class i_e{constructor(t){this._pending=0,this._loader=t||JI()}pending(){return this._pending}sanitizeURL(t){const n=this;return Bse(n),n._loader.sanitize(t,{context:"href"}).then(r=>(Lw(n),r)).catch(()=>(Lw(n),null))}loadImage(t){const n=this,r=hkt();return Bse(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Pt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>Lw(n),s.onerror=()=>Lw(n),s.src=o,s}).catch(i=>(Lw(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Bse(e){e._pending+=1}function Lw(e){e._pending-=1}function yp(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?dTt(t,r):0))}return e}function dTt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const fTt=td-1e-8;let E$,ZM,JM,Zm,OB,eA,DB,PB;const Th=(e,t)=>E$.add(e,t),tA=(e,t)=>Th(ZM=e,JM=t),Use=e=>Th(e,E$.y1),Hse=e=>Th(E$.x1,e),zm=(e,t)=>OB*e+DB*t,Bm=(e,t)=>eA*e+PB*t,E4=(e,t)=>Th(zm(e,t),Bm(e,t)),k4=(e,t)=>tA(zm(e,t),Bm(e,t));function L2(e,t){return E$=e,t?(Zm=t*mg,OB=PB=Math.cos(Zm),eA=Math.sin(Zm),DB=-eA):(OB=PB=1,Zm=eA=DB=0),pTt}const pTt={beginPath(){},closePath(){},moveTo:k4,lineTo:k4,rect(e,t,n,r){Zm?(E4(e+n,t),E4(e+n,t+r),E4(e,t+r),k4(e,t)):(Th(e+n,t+r),tA(e,t))},quadraticCurveTo(e,t,n,r){const i=zm(e,t),o=Bm(e,t),s=zm(n,r),a=Bm(n,r);Vse(ZM,i,s,Use),Vse(JM,o,a,Hse),tA(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=zm(e,t),a=Bm(e,t),l=zm(n,r),c=Bm(n,r),u=zm(i,o),d=Bm(i,o);Wse(ZM,s,l,u,Use),Wse(JM,a,c,d,Hse),tA(u,d)},arc(e,t,n,r,i,o){if(r+=Zm,i+=Zm,ZM=n*Math.cos(i)+e,JM=n*Math.sin(i)+t,Math.abs(i-r)>fTt)Th(e-n,t-n),Th(e+n,t+n);else{const s=c=>Th(n*Math.cos(c)+e,n*Math.sin(c)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%td,r<0&&(r+=td),i=i%td,i<0&&(i+=td),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=td,a=r-r%jm,l=0;l<4&&a>i;++l,a-=jm)s(a);else for(a=r-r%jm+jm,l=0;l<4&&a<i;++l,a=a+jm)s(a)}}};function Vse(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Wse(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,c=0,u;Math.abs(o)>ERt?(u=s*s+a*o,u>=0&&(u=Math.sqrt(u),l=(-s+u)/o,c=(-s-u)/o)):l=.5*a/s,0<l&&l<1&&i(qse(l,e,t,n,r)),0<c&&c<1&&i(qse(c,e,t,n,r))}function qse(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var Yh=(Yh=Gh(1,1))?Yh.getContext("2d"):null;const IB=new Yi;function PW(e){return function(t,n){if(!Yh)return!0;e(Yh,t),IB.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=IB;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(Yh.isPointInPath(l,a))return!0;return!1}}function IW(e,t){return t.contains(e.x||0,e.y||0)}function o_e(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(IB.set(n,r,n+i,r+o))}function s_e(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return yb(t,n,r,i,o)}function yb(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,c=r-t,u=i-n;let d=0,f=1,p,g,m,v;for(v=0;v<4;++v){if(v===0&&(p=-c,g=-(o-t)),v===1&&(p=c,g=a-t),v===2&&(p=-u,g=-(s-n)),v===3&&(p=u,g=l-n),Math.abs(p)<1e-10&&g<0)return!1;if(m=g/p,p<0){if(m>f)return!1;m>d&&(d=m)}else if(p>0){if(m<d)return!1;m<f&&(f=m)}}return!0}function Y1(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Ic(e,t){return e??t}function Gse(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function hTt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+Ic(t.x1,.5)*r,n.y1+Ic(t.y1,.5)*i,Math.max(r,i)*Ic(t.r1,0),n.x1+Ic(t.x2,.5)*r,n.y1+Ic(t.y2,.5)*i,Math.max(r,i)*Ic(t.r2,.5));else{const s=Ic(t.x1,0),a=Ic(t.y1,0),l=Ic(t.x2,1),c=Ic(t.y2,0);if(s===l||a===c||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+c*i);else{const u=Gh(Math.ceil(r),Math.ceil(i)),d=u.getContext("2d");return d.scale(r,i),d.fillStyle=Gse(d.createLinearGradient(s,a,l,c),t.stops),d.fillRect(0,0,r,i),e.createPattern(u,"no-repeat")}}return Gse(o,t.stops)}function a_e(e,t,n){return MW(n)?hTt(e,n,t.bounds):n}function YO(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=a_e(e,t,t.fill),!0):!1}var gTt=[];function X1(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=a_e(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||gTt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function mTt(e,t){return e.zindex-t.zindex||e.index-t.index}function $W(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(mTt)}function uu(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=$W(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function XO(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=$W(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function FW(e){return function(t,n,r){uu(n,i=>{(!r||r.intersects(i.bounds))&&l_e(e,t,i,i)})}}function yTt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&l_e(e,t,n.items[0],n.items)}}function l_e(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Y1(t,n),n.fill&&YO(t,n,i)&&t.fill(),n.stroke&&X1(t,n,i)&&t.stroke()))}function k$(e){return e=e||hc,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,XO(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function j2(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,c,u;return l&&(c=s.strokeWidth,u=s.strokeCap,n.lineWidth=c??1,n.lineCap=u??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function NW(e){return k$(j2(e))}function b0(e,t){return"translate("+e+","+t+")"}function LW(e){return"rotate("+e+")"}function vTt(e,t){return"scale("+e+","+t+")"}function c_e(e){return b0(e.x||0,e.y||0)}function bTt(e){return b0(e.x||0,e.y||0)+(e.angle?" "+LW(e.angle):"")}function xTt(e){return b0(e.x||0,e.y||0)+(e.angle?" "+LW(e.angle):"")+(e.scaleX||e.scaleY?" "+vTt(e.scaleX||1,e.scaleY||1):"")}function jW(e,t,n){function r(s,a){s("transform",bTt(a)),s("d",t(null,a))}function i(s,a){return t(L2(s,a.angle),a),yp(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,c=a.y||0,u=a.angle||0;s.translate(l,c),u&&s.rotate(u*=mg),s.beginPath(),t(s,a),u&&s.rotate(-u),s.translate(-l,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:FW(o),pick:NW(o),isect:n||PW(o)}}var STt=jW("arc",iTt);function wTt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function CTt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function _Tt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function zW(e,t,n){function r(l,c){var u=c.mark.items;u.length&&l("d",t(null,u))}function i(l,c){var u=c.items;return u.length===0?l:(t(L2(l),u),yp(l,u[0]))}function o(l,c){l.beginPath(),t(l,c)}const s=j2(o);function a(l,c,u,d,f,p){var g=c.items,m=c.bounds;return!g||!g.length||m&&!m.contains(f,p)?null:(u*=l.pixelRatio,d*=l.pixelRatio,s(l,g,u,d)?g[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:yTt(o),pick:a,isect:IW,tip:n}}var ETt=zW("area",oTt,wTt);function kTt(e,t){var n=t.clip;e.save(),Rn(n)?(e.beginPath(),n(e),e.clip()):u_e(e,t.group)}function u_e(e,t){e.beginPath(),OW(t)?Jx(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function d_e(e){const t=Ic(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function RTt(e,t){e("transform",c_e(t))}function f_e(e,t){const n=d_e(t);e("d",Jx(null,t,n,n))}function TTt(e,t){e("class","background"),e("aria-hidden",!0),f_e(e,t)}function MTt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?f_e(e,t):e("d","")}function ATt(e,t,n){const r=t.clip?DW(n,t,t):null;e("clip-path",r)}function OTt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),yp(e,t),e.translate(t.x||0,t.y||0)}function cE(e,t,n,r){const i=d_e(t);e.beginPath(),Jx(e,t,(n||0)+i,(r||0)+i)}const DTt=j2(cE),PTt=j2(cE,!1),ITt=j2(cE,!0);function $Tt(e,t,n,r){uu(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(cE(e,i,o,s),Y1(e,i),i.fill&&YO(e,i,l)&&e.fill(),i.stroke&&!a&&X1(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&u_e(e,i),n&&n.translate(-o,-s),uu(i,c=>{(c.marktype==="group"||r==null||r.includes(c.marktype))&&this.draw(e,c,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(cE(e,i,o,s),Y1(e,i),X1(e,i,l)&&e.stroke())})}function FTt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return XO(t,l=>{let c,u,d;const f=l.bounds;if(f&&!f.contains(i,o))return;u=l.x||0,d=l.y||0;const p=u+(l.width||0),g=d+(l.height||0),m=l.clip;if(m&&(i<u||i>p||o<d||o>g))return;if(e.save(),e.translate(u,d),u=i-u,d=o-d,m&&OW(l)&&!ITt(e,l,s,a))return e.restore(),null;const v=l.strokeForeground,b=t.interactive!==!1;return b&&v&&l.stroke&&PTt(e,l,s,a)?(e.restore(),l):(c=XO(l,S=>NTt(S,u,d)?this.pick(S,n,r,u,d):null),!c&&b&&(l.fill||!v&&l.stroke)&&DTt(e,l,s,a)&&(c=l),e.restore(),c||null)})}function NTt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var LTt={type:"group",tag:"g",nested:!1,attr:RTt,bound:OTt,draw:$Tt,pick:FTt,isect:o_e,content:ATt,background:TTt,foreground:MTt},uE={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function BW(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function UW(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function HW(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function R$(e,t){return e==="center"?t/2:e==="right"?t:0}function T$(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function jTt(e,t,n){const r=BW(t,n),i=UW(t,r),o=HW(t,r),s=(t.x||0)-R$(t.align,i),a=(t.y||0)-T$(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,uE["xmlns:xlink"],"xlink:href"),e("transform",b0(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function zTt(e,t){const n=t.image,r=UW(t,n),i=HW(t,n),o=(t.x||0)-R$(t.align,r),s=(t.y||0)-T$(t.baseline,i);return e.set(o,s,o+r,s+i)}function BTt(e,t,n){uu(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=BW(r,this);let o=UW(r,i),s=HW(r,i);if(o===0||s===0)return;let a=(r.x||0)-R$(r.align,o),l=(r.y||0)-T$(r.baseline,s),c,u,d,f;r.aspect!==!1&&(u=i.width/i.height,d=r.width/r.height,u===u&&d===d&&u!==d&&(d<u?(f=o/u,l+=(s-f)/2,s=f):(f=s*u,a+=(o-f)/2,o=f))),(i.complete||i.toDataURL)&&(Y1(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var UTt={type:"image",tag:"image",nested:!1,attr:jTt,bound:zTt,draw:BTt,pick:k$(),isect:hc,get:BW,xOffset:R$,yOffset:T$},HTt=zW("line",sTt,CTt);function VTt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",xTt(t)),e("d",t.path)}function nA(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*mg,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=G1(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),lE(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):lE(e,l,r,i,o,s)}function WTt(e,t){return nA(L2(e,t.angle),t)?e.set(0,0,0,0):yp(e,t,!0)}var qTt={type:"path",tag:"path",nested:!1,attr:VTt,bound:WTt,draw:FW(nA),pick:NW(nA),isect:PW(nA)};function GTt(e,t){e("d",Jx(null,t))}function YTt(e,t){var n,r;return yp(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Yse(e,t){e.beginPath(),Jx(e,t)}var XTt={type:"rect",tag:"path",nested:!1,attr:GTt,bound:YTt,draw:FW(Yse),pick:NW(Yse),isect:o_e};function KTt(e,t){e("transform",c_e(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function QTt(e,t){var n,r;return yp(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function p_e(e,t,n){var r,i,o,s;return t.stroke&&X1(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function ZTt(e,t,n){uu(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&p_e(e,r,i)&&(Y1(e,r),e.stroke())}})}function JTt(e,t,n,r){return e.isPointInStroke?p_e(e,t,1)&&e.isPointInStroke(n,r):!1}var eMt={type:"rule",tag:"line",nested:!1,attr:KTt,bound:QTt,draw:ZTt,pick:k$(JTt),isect:s_e},tMt=jW("shape",aTt),nMt=jW("symbol",lTt,IW);const Xse=Gxe();var al={height:jd,measureWidth:VW,estimateWidth:KO,width:KO,canvas:h_e};h_e(!0);function h_e(e){al.width=e&&Yh?VW:KO}function KO(e,t){return g_e(vg(e,t),jd(e))}function g_e(e,t){return~~(.8*e.length*t)}function VW(e,t){return jd(e)<=0||!(t=vg(e,t))?0:m_e(t,M$(e))}function m_e(e,t){const n=`(${t}) ${e}`;let r=Xse.get(n);return r===void 0&&(Yh.font=t,r=Yh.measureText(e).width,Xse.set(n,r)),r}function jd(e){return e.fontSize!=null?+e.fontSize||0:11}function yg(e){return e.lineHeight!=null?e.lineHeight:jd(e)+2}function rMt(e){return Xe(e)?e.length>1?e:e[0]:e}function z2(e){return rMt(e.lineBreak&&e.text&&!Xe(e.text)?e.text.split(e.lineBreak):e.text)}function WW(e){const t=z2(e);return(Xe(t)?t.length-1:0)*yg(e)}function vg(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?oMt(e,n):n}function iMt(e){if(al.width===VW){const t=M$(e);return n=>m_e(n,t)}else if(al.width===KO){const t=jd(e);return n=>g_e(n,t)}else return t=>al.width(e,t)}function oMt(e,t){var n=+e.limit,r=iMt(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function B2(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function M$(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+jd(e)+"px "+B2(e,t)}function qW(e){var t=e.baseline,n=jd(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*yg(e):t==="line-bottom"?.29*n-.5*yg(e):0)}const sMt={left:"start",center:"middle",right:"end"},n_=new Yi;function A$(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-jm,t+=r*Math.cos(i),n+=r*Math.sin(i)),n_.x1=t,n_.y1=n,n_}function aMt(e,t){var n=t.dx||0,r=(t.dy||0)+qW(t),i=A$(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",sMt[t.align]||"start"),a?(l=b0(o,s)+" "+LW(a),(n||r)&&(l+=" "+b0(n,r))):l=b0(o+n,s+r),e("transform",l)}function GW(e,t,n){var r=al.height(t),i=t.align,o=A$(t),s=o.x1,a=o.y1,l=t.dx||0,c=(t.dy||0)+qW(t)-Math.round(.8*r),u=z2(t),d;if(Xe(u)?(r+=yg(t)*(u.length-1),d=u.reduce((f,p)=>Math.max(f,al.width(t,p)),0)):d=al.width(t,u),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,c+=a,l+d,c+r),t.angle&&!n)e.rotate(t.angle*mg,s,a);else if(n===2)return e.rotatedPoints(t.angle*mg,s,a);return e}function lMt(e,t,n){uu(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,c,u,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=M$(r),e.textAlign=r.align||"left",o=A$(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*mg),s=a=0),s+=r.dx||0,a+=(r.dy||0)+qW(r),u=z2(r),Y1(e,r),Xe(u))for(c=yg(r),l=0;l<u.length;++l)d=vg(r,u[l]),r.fill&&YO(e,r,i)&&e.fillText(d,s,a),r.stroke&&X1(e,r,i)&&e.strokeText(d,s,a),a+=c;else d=vg(r,u),r.fill&&YO(e,r,i)&&e.fillText(d,s,a),r.stroke&&X1(e,r,i)&&e.strokeText(d,s,a);r.angle&&e.restore()}})}function cMt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=A$(t),a=s.x1,l=s.y1,c=GW(n_,t,1),u=-t.angle*mg,d=Math.cos(u),f=Math.sin(u),p=d*i-f*o+(a-d*a+f*l),g=f*i+d*o+(l-f*a-d*l);return c.contains(p,g)}function uMt(e,t){const n=GW(n_,e,2);return yb(t,n[0],n[1],n[2],n[3])||yb(t,n[0],n[1],n[4],n[5])||yb(t,n[4],n[5],n[6],n[7])||yb(t,n[2],n[3],n[6],n[7])}var dMt={type:"text",tag:"text",nested:!1,attr:aMt,bound:GW,draw:lMt,pick:k$(cMt),isect:uMt},fMt=zW("trail",cTt,_Tt),xl={arc:STt,area:ETt,group:LTt,image:UTt,line:HTt,path:qTt,rect:XTt,rule:eMt,shape:tMt,symbol:nMt,text:dMt,trail:fMt};function $B(e,t,n){var r=xl[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Yi),e,n)}var Kse={mark:null};function y_e(e,t,n){var r=xl[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,c,u;if(r.nested)return s?c=o[0]:(Kse.mark=e,c=Kse),u=$B(c,i,n),t=t&&t.union(u)||u,t;if(t=t||e.bounds&&e.bounds.clear()||new Yi,s)for(a=0,l=o.length;a<l;++a)t.union($B(o[a],i,n));return e.bounds=t}const pMt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function v_e(e,t){return JSON.stringify(e,pMt,t)}function b_e(e){const t=typeof e=="string"?JSON.parse(e):e;return x_e(t)}function x_e(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&x_e(n[i]);return t&&y_e(e),e}class S_e{constructor(t){arguments.length?this.root=b_e(t):(this.root=Qse({marktype:"group",name:"root",role:"frame"}),this.root.items=[new _$(this.root)])}toJSON(t){return v_e(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=Qse(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function Qse(e,t){const n={bounds:new Yi,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Mh(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function YW(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ro(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Mh(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function Yl(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function w_e(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function O$(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function hMt(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=xl[i.marktype]).tip){for(s=O$(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let XW=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||JI(),this._tooltip=n||gMt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=Mh(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=hMt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,c=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,c+=t.y||0;return{x:l,y:c,width:s,height:a,left:l,top:c,right:l+s,bottom:c+a}}};function gMt(e,t,n,r){e.element().setAttribute("title",r||"")}class U2{constructor(t){this._el=null,this._bgcolor=null,this._loader=new i_e(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const mMt="keydown",yMt="keypress",vMt="keyup",C_e="dragenter",rA="dragleave",__e="dragover",FB="pointerdown",bMt="pointerup",QO="pointermove",iA="pointerout",E_e="pointerover",NB="mousedown",xMt="mouseup",k_e="mousemove",ZO="mouseout",R_e="mouseover",JO="click",SMt="dblclick",wMt="wheel",T_e="mousewheel",eD="touchstart",tD="touchmove",nD="touchend",CMt=[mMt,yMt,vMt,C_e,rA,__e,FB,bMt,QO,iA,E_e,NB,xMt,k_e,ZO,R_e,JO,SMt,wMt,T_e,eD,tD,nD],LB=QO,r_=ZO,jB=JO;class H2 extends XW{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=CMt,this.pointermove=Jse([QO,k_e],[E_e,R_e],[iA,ZO]),this.dragover=Jse([__e],[C_e],[rA]),this.pointerout=eae([iA,ZO]),this.dragleave=eae([rA])}initialize(t,n,r){return this._canvas=t&&YW(t,"canvas"),[JO,NB,FB,QO,iA,rA].forEach(i=>Zse(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(T_e,t)}pointerdown(t){this._down=this._active,this.fire(FB,t)}mousedown(t){this._down=this._active,this.fire(NB,t)}click(t){this._down===this._active&&(this.fire(JO,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(eD,t,!0)}touchmove(t){this.fire(tD,t,!0)}touchend(t){this.fire(nD,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===jB&&i&&i.href?this.handleHref(n,i,i.href):(t===LB||t===r_)&&this.handleTooltip(n,i,t!==r_),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(Zse(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=O$(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return xl[t.marktype].pick.call(this,s,t,n,r,i,o)}}const _Mt=e=>e===eD||e===tD||e===nD?[eD,tD,nD]:[e];function Zse(e,t){_Mt(t).forEach(n=>EMt(e,n))}function EMt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function xC(e,t,n){t.forEach(r=>e.fire(r,n))}function Jse(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?xC(this,e,r):((!i||!i.exit)&&xC(this,n,r),this._active=o,xC(this,t,r),xC(this,e,r))}}function eae(e){return function(t){xC(this,e,t),this._active=null}}function kMt(){return typeof window<"u"&&window.devicePixelRatio||1}function RMt(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?kMt():i;e.width=t*l,e.height=n*l;for(const c in o)a[c]=o[c];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class rD extends U2{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Yi,this._tempb=new Yi}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:Gh(1,1,this._options.type),t&&this._canvas&&(Yl(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)RMt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||qe("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=TMt(i,o,s);r.save();const c=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):MMt(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,c,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=xl[n.marktype];n.clip&&kTt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const TMt=(e,t,n)=>new Yi().set(0,0,t,n).translate(-e[0],-e[1]);function MMt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class M_e extends XW{constructor(t,n){super(t,n);const r=this;r._hrefHandler=R4(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=R4(r,(i,o)=>{r.handleTooltip(i,o,i.type!==r_)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(jB,this._hrefHandler),i.removeEventListener(LB,this._tooltipHandler),i.removeEventListener(r_,this._tooltipHandler)),this._svg=i=t&&YW(t,"svg"),i&&(i.addEventListener(jB,this._hrefHandler),i.addEventListener(LB,this._tooltipHandler),i.addEventListener(r_,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:R4(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const R4=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},A_e="aria-hidden",KW="aria-label",QW="role",ZW="aria-roledescription",O_e="graphics-object",JW="graphics-symbol",D_e=(e,t,n)=>({[QW]:e,[ZW]:t,[KW]:n||void 0}),AMt=lu(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),tae={axis:{desc:"axis",caption:PMt},legend:{desc:"legend",caption:IMt},"title-text":{desc:"title",caption:e=>`Title text '${rae(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${rae(e)}'`}},nae={ariaRole:QW,ariaRoleDescription:ZW,description:KW};function P_e(e,t){const n=t.aria===!1;if(e(A_e,n||void 0),n||t.description==null)for(const r in nae)e(nae[r],void 0);else{const r=t.mark.marktype;e(KW,t.description),e(QW,t.ariaRole||(r==="group"?O_e:JW)),e(ZW,t.ariaRoleDescription||`${r} mark`)}}function I_e(e){return e.aria===!1?{[A_e]:!0}:AMt[e.role]?null:tae[e.role]?DMt(e,tae[e.role]):OMt(e)}function OMt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return D_e(n?O_e:JW,`${t} mark container`,e.description)}function DMt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return D_e(t.role||JW,t.desc,n.description||r(n))}catch{return null}}function rae(e){return Tt(e.text).join(" ")}function PMt(e){const t=e.datum,n=e.orient,r=t.title?$_e(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${q1(a)?"discrete":a} scale with ${XCe(s,o,e)}`}function IMt(e){const t=e.datum,n=t.title?$_e(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return FMt(r)+(n?` titled '${n}'`:"")+` for ${$Mt(o)} with ${XCe(l,a,e)}`}function $_e(e){try{return Tt(er(e.items).items[0].text).join(" ")}catch{return null}}function $Mt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+er(e)}function FMt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const F_e=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),NMt=e=>F_e(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function eq(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,c)=>(c!=null&&(t+=` ${l}="${NMt(c)}"`),a),a={open(l){o(l),t="<"+l;for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];for(const f of u)for(const p in f)s(p,f[p]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=F_e(l),a),toString:()=>e};return a}const N_e=e=>L_e(eq(),e)+"";function L_e(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):L_e(e,r)}return e.close()}const iD={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},oD={blend:"mix-blend-mode"},j_e={fill:"none","stroke-miterlimit":10},jw=0,iae="http://www.w3.org/2000/xmlns/",to=uE.xmlns;class tq extends U2{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=ro(t,0,"svg",to),this._svg.setAttributeNS(iae,"xmlns",to),this._svg.setAttributeNS(iae,"xmlns:xlink",uE["xmlns:xlink"]),this._svg.setAttribute("version",uE.version),this._svg.setAttribute("class","marks"),Yl(t,1),this._root=ro(this._svg,jw,"g",to),Ah(this._root,j_e),Yl(this._svg,jw+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Ah(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=ro(t,jw,"rect",to),Ah(r,{width:this._width,height:this._height,fill:n}));const i=N_e(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Yl(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,c;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=xl[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,oae(r,n),i.items.forEach(u=>{u.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(c=i.items[0],c._svg&&this._update(s,c._svg,c)):r._svg&&(c=r._svg.parentNode,c&&c.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,oae(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=xl[s],l=n.interactive===!1?"none":null,c=a.tag==="g",u=sae(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return Yl(u,0),n._svg;u.setAttribute("class",w_e(n));const d=I_e(n);for(const m in d)Ms(u,m,d[m]);c||Ms(u,"pointer-events",l),Ms(u,"clip-path",n.clip?DW(this,n,n.group):null);let f=null,p=0;const g=m=>{const v=this.isDirty(m),b=sae(m,u,f,a.tag,o);v&&(this._update(a,b,m),c&&zMt(this,b,m,i)),f=b,++p};return a.nested?n.items.length&&g(n.items[0]):uu(n,g),Yl(u,p),u}_update(t,n,r){If=n,os=n.__values__,P_e(i_,r),t.attr(i_,r,this);const i=UMt[t.type];i&&i.call(this,t,n,r),If&&this.style(If,r)}style(t,n){if(n!=null){for(const r in iD){let i=r==="font"?B2(n):n[r];if(i===os[r])continue;const o=iD[r];i==null?t.removeAttribute(o):(MW(i)&&(i=QCe(i,this._defs.gradient,z_e())),t.setAttribute(o,i+"")),os[r]=i}for(const r in oD)oA(t,oD[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=ro(t,jw+1,"defs",to)),i=LMt(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=ro(t,jw+1,"defs",to)),i=jMt(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):Yl(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function oae(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function LMt(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=ro(e,n++,"pattern",to);Ah(s,{id:GO+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=ro(s,0,"rect",to),Ah(s,{width:1,height:1,fill:`url(${z_e()}#${t.id})`}),e=ro(e,n++,"radialGradient",to),Ah(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=ro(e,n++,"linearGradient",to),Ah(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=ro(e,r,"stop",to),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Yl(e,r),n}function jMt(e,t,n){let r;return e=ro(e,n,"clipPath",to),e.setAttribute("id",t.id),t.path?(r=ro(e,0,"path",to),r.setAttribute("d",t.path)):(r=ro(e,0,"rect",to),Ah(r,{x:0,y:0,width:t.width,height:t.height})),Yl(e,1),n+1}function zMt(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;uu(n,s=>{i=e.mark(t,s,i,r),++o}),Yl(t,1+o)}function sae(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Mh(s,r,to),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Mh(s,"path",to);o.appendChild(a),a.__data__=e;const l=Mh(s,"g",to);o.appendChild(l),l.__data__=e;const c=Mh(s,"path",to);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==i||BMt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function BMt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let If=null,os=null;const UMt={group(e,t,n){const r=If=t.childNodes[2];os=r.__values__,e.foreground(i_,n,this),os=t.__values__,If=t.childNodes[1],e.content(i_,n,this);const i=If=t.childNodes[0];e.background(i_,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==os.events&&(Ms(r,"pointer-events",o),Ms(i,"pointer-events",o),os.events=o),n.strokeForeground&&n.stroke){const s=n.fill;Ms(r,"display",null),this.style(i,n),Ms(i,"stroke",null),s&&(n.fill=null),os=r.__values__,this.style(r,n),s&&(n.fill=s),If=null}else Ms(r,"display","none")},image(e,t,n){n.smooth===!1?(oA(t,"image-rendering","optimizeSpeed"),oA(t,"image-rendering","pixelated")):oA(t,"image-rendering",null)},text(e,t,n){const r=z2(n);let i,o,s,a;Xe(r)?(o=r.map(l=>vg(n,l)),i=o.join(`
`),i!==os.text&&(Yl(t,0),s=t.ownerDocument,a=yg(n),o.forEach((l,c)=>{const u=Mh(s,"tspan",to);u.__data__=n,u.textContent=l,c&&(u.setAttribute("x",0),u.setAttribute("dy",a)),t.appendChild(u)}),os.text=i)):(o=vg(n,r),o!==os.text&&(t.textContent=o,os.text=o)),Ms(t,"font-family",B2(n)),Ms(t,"font-size",jd(n)+"px"),Ms(t,"font-style",n.fontStyle),Ms(t,"font-variant",n.fontVariant),Ms(t,"font-weight",n.fontWeight)}};function i_(e,t,n){t!==os[e]&&(n?HMt(If,e,t,n):Ms(If,e,t),os[e]=t)}function oA(e,t,n){n!==os[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),os[t]=n)}function Ah(e,t){for(const n in t)Ms(e,n,t[n])}function Ms(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function HMt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function z_e(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class B_e extends U2{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=eq();n.open("svg",kn({},uE,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",j_e,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=xl[n.marktype],i=r.tag,o=[P_e,r.attr];t.open("g",{class:w_e(n),"clip-path":n.clip?DW(this,n,n.group):null},I_e(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const c=z2(a);if(Xe(c)){const u={x:0,dy:yg(a)};for(let d=0;d<c.length;++d)t.open("tspan",d?u:null).text(vg(a,c[d])).close()}else t.text(vg(a,c))}else if(i==="g"){const c=a.strokeForeground,u=a.fill,d=a.stroke;c&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),uu(a,f=>this.mark(t,f)),t.close(),c&&d?(u&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),u&&(a.fill=u)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):uu(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,c,u)=>{o[u||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&VMt(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:GO+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function VMt(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=B2(t),e["font-size"]=jd(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in iD){let a=t[s];const l=iD[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(MW(a)&&(a=QCe(a,i.gradient,"")),e[l]=a)}for(const s in oD){const a=t[s];a!=null&&(o=o||[],o.push(`${oD[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const Hc={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function WMt(e){Hc.svgMarkTypes=e.svgMarkTypes??["text"],Hc.svgOnTop=e.svgOnTop??!0,Hc.debug=e.debug??!1}class zB extends U2{constructor(t){super(t),this._svgRenderer=new tq(t),this._canvasRenderer=new rD(t)}initialize(t,n,r,i,o){this._root_el=ro(t,0,"div");const s=ro(this._root_el,0,"div"),a=ro(this._root_el,1,"div");return this._root_el.style.position="relative",Hc.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Hc.svgOnTop?a:s,this._canvasEl=Hc.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return Hc.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!Hc.svgMarkTypes.includes(o));this._svgRenderer.render(t,Hc.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Hc.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class U_e extends H2{constructor(t,n){super(t,n)}initialize(t,n,r){const i=ro(ro(t,0,"div"),Hc.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const H_e="canvas",V_e="hybrid",W_e="png",q_e="svg",G_e="none",Oh={Canvas:H_e,PNG:W_e,SVG:q_e,Hybrid:V_e,None:G_e},Y0={};Y0[H_e]=Y0[W_e]={renderer:rD,headless:rD,handler:H2};Y0[q_e]={renderer:tq,headless:B_e,handler:M_e};Y0[V_e]={renderer:zB,headless:zB,handler:U_e};Y0[G_e]={};function D$(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Y0[e]=t,this):Y0[e]}function Y_e(e,t,n){const r=[],i=new Yi().union(t),o=e.marktype;return o?X_e(e,i,n,r):o==="group"?K_e(e,i,n,r):qe("Intersect scene must be mark node or group item.")}function X_e(e,t,n,r){if(qMt(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)K_e(i[a],t,n,r);else for(const l=xl[o].isect;a<s;++a){const c=i[a];Q_e(c,t,l)&&r.push(c)}}return r}function qMt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function K_e(e,t,n,r){n&&n(e.mark)&&Q_e(e,t,xl.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)X_e(i[l],t,n,r);t.translate(s,a)}return r}function Q_e(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const T4=new Yi;function Z_e(e){const t=e.clip;if(Rn(t))t(L2(T4.clear()));else if(t)T4.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(T4)}const GMt=1e-9;function nq(e,t,n){return e===t?!0:n==="path"?J_e(e,t):e instanceof Date&&t instanceof Date?+e==+t:gr(e)&&gr(t)?Math.abs(e-t)<=GMt:!e||!t||!At(e)&&!At(t)?e==t:YMt(e,t)}function J_e(e,t){return nq(G1(e),G1(t))}function YMt(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!nq(e[i],t[i],i))return!1;return typeof e==typeof t}function XMt(){uTt(),vRt()}const K1="top",Kc="left",eu="right",bg="bottom",KMt="top-left",QMt="top-right",ZMt="bottom-left",JMt="bottom-right",rq="start",BB="middle",Os="end",eAt="x",tAt="y",P$="group",iq="axis",oq="title",nAt="frame",rAt="scope",sq="legend",eEe="row-header",tEe="row-footer",nEe="row-title",rEe="column-header",iEe="column-footer",oEe="column-title",iAt="padding",oAt="symbol",sEe="fit",aEe="fit-x",lEe="fit-y",sAt="pad",aq="none",LT="all",UB="each",lq="flush",Dh="column",Ph="row";function cEe(e){Be.call(this,null,e)}vt(cEe,Be,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=xl[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=jT(r,s),r.items.forEach(c=>{c.bounds.clear().union(a)});else if(i===P$||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),a.clear(),r.items.forEach(c=>a.union(jT(c,s))),r.role){case iq:case sq:case oq:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,c=>{a.union(jT(c,s))}),t.visit(t.MOD,c=>{l=l||a.alignsWith(c.bounds),n.dirty(c),a.union(jT(c,s))}),l&&(a.clear(),r.items.forEach(c=>a.union(c.bounds)));return Z_e(r),t.modifies("bounds")}});function jT(e,t,n){return t(e.bounds.clear(),e,n)}const aae=":vega_identifier:";function cq(e){Be.call(this,0,e)}cq.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};vt(cq,Be,{transform(e,t){const n=aAt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function aAt(e){return e._signals[aae]||(e._signals[aae]=e.add(0))}function uEe(e){Be.call(this,null,e)}vt(uEe,Be,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,lAt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===P$?_$:C$;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function lAt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function dEe(e){Be.call(this,null,e)}const lae={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!fEe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},fEe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),cae=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(fEe(i,o=e[n].bounds,t))return!0},cAt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},uAt=(e,t,n)=>{var r=e.range(),i=new Yi;return t===K1||t===bg?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},uae=e=>(e.forEach(t=>t.opacity=1),e),dae=(e,t)=>e.reflow(t.modified()).modifies("opacity");vt(dEe,Be,{transform(e,t){const n=lae[e.method]||lae.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(uae(i),t=dae(t,e)),t;if(i=i.filter(cAt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=uae(i),t=dae(t,e),o.length>=3&&cae(o,r)){do o=n(o,r);while(o.length>=3&&cae(o,r));o.length<3&&!er(i).opacity&&(o.length>1&&(er(o).opacity=0),er(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=uAt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function pEe(e){Be.call(this,null,e)}vt(pEe,Be,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ns=new Yi;function vb(e,t,n){return e[t]===n?0:(e[t]=n,1)}function dAt(e){var t=e.items[0].orient;return t===Kc||t===eu}function fAt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function pAt(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=fAt(o),c=i.range,u=i.offset,d=i.position,f=i.minExtent,p=i.maxExtent,g=o.title&&i.items[l[2]].items[0],m=i.titlePadding,v=i.bounds,b=g&&WW(g),S=0,C=0,_,E;switch(ns.clear().union(v),v.clear(),(_=l[0])>-1&&v.union(i.items[_].bounds),(_=l[1])>-1&&v.union(i.items[_].bounds),a){case K1:S=d||0,C=-u,E=Math.max(f,Math.min(p,-v.y1)),v.add(0,-E).add(c,0),g&&zT(e,g,E,m,b,0,-1,v);break;case Kc:S=-u,C=d||0,E=Math.max(f,Math.min(p,-v.x1)),v.add(-E,0).add(0,c),g&&zT(e,g,E,m,b,1,-1,v);break;case eu:S=n+u,C=d||0,E=Math.max(f,Math.min(p,v.x2)),v.add(0,0).add(E,c),g&&zT(e,g,E,m,b,1,1,v);break;case bg:S=d||0,C=r+u,E=Math.max(f,Math.min(p,v.y2)),v.add(0,0).add(c,E),g&&zT(e,g,E,m,0,0,1,v);break;default:S=i.x,C=i.y}return yp(v.translate(S,C),i),vb(i,"x",S+s)|vb(i,"y",C+s)&&(i.bounds=ns,e.dirty(i),i.bounds=v,e.dirty(i)),i.mark.bounds.clear().union(v)}function zT(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const c=s*(n+i+r);let u=0,d=0;e.dirty(t),o?u=(t.x||0)-(t.x=c):d=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(l.translate(-u,-d)),e.dirty(t)}a.union(l)}const fae=(e,t)=>Math.floor(Math.min(e,t)),pae=(e,t)=>Math.ceil(Math.max(e,t));function hAt(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===P$)switch(i.role){case iq:case sq:case oq:break;case eEe:s.rowheaders.push(...o);break;case tEe:s.rowfooters.push(...o);break;case rEe:s.colheaders.push(...o);break;case iEe:s.colfooters.push(...o);break;case nEe:s.rowtitle=o[0];break;case oEe:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function gAt(e){return new Yi().set(0,0,e.width||0,e.height||0)}function mAt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function ii(e,t,n){const r=At(e)?e[t]:e;return r??(n!==void 0?n:0)}function hae(e){return e<0?Math.ceil(-e):0}function hEe(e,t,n){var r=!n.nodirty,i=n.bounds===lq?gAt:mAt,o=ns.set(0,0,0,0),s=ii(n.align,Dh),a=ii(n.align,Ph),l=ii(n.padding,Dh),c=ii(n.padding,Ph),u=n.columns||t.length,d=u<=0?1:Math.ceil(t.length/u),f=t.length,p=Array(f),g=Array(u),m=0,v=Array(f),b=Array(d),S=0,C=Array(f),_=Array(f),E=Array(f),T,k,A,P,D,F,I,j,M,$,L;for(k=0;k<u;++k)g[k]=0;for(k=0;k<d;++k)b[k]=0;for(k=0;k<f;++k)F=t[k],D=E[k]=i(F),F.x=F.x||0,C[k]=0,F.y=F.y||0,_[k]=0,A=k%u,P=~~(k/u),m=Math.max(m,I=Math.ceil(D.x2)),S=Math.max(S,j=Math.ceil(D.y2)),g[A]=Math.max(g[A],I),b[P]=Math.max(b[P],j),p[k]=l+hae(D.x1),v[k]=c+hae(D.y1),r&&e.dirty(t[k]);for(k=0;k<f;++k)k%u===0&&(p[k]=0),k<u&&(v[k]=0);if(s===UB)for(A=1;A<u;++A){for(L=0,k=A;k<f;k+=u)L<p[k]&&(L=p[k]);for(k=A;k<f;k+=u)p[k]=L+g[A-1]}else if(s===LT){for(L=0,k=0;k<f;++k)k%u&&L<p[k]&&(L=p[k]);for(k=0;k<f;++k)k%u&&(p[k]=L+m)}else for(s=!1,A=1;A<u;++A)for(k=A;k<f;k+=u)p[k]+=g[A-1];if(a===UB)for(P=1;P<d;++P){for(L=0,k=P*u,T=k+u;k<T;++k)L<v[k]&&(L=v[k]);for(k=P*u;k<T;++k)v[k]=L+b[P-1]}else if(a===LT){for(L=0,k=u;k<f;++k)L<v[k]&&(L=v[k]);for(k=u;k<f;++k)v[k]=L+S}else for(a=!1,P=1;P<d;++P)for(k=P*u,T=k+u;k<T;++k)v[k]+=b[P-1];for(M=0,k=0;k<f;++k)M=p[k]+(k%u?M:0),C[k]+=M-t[k].x;for(A=0;A<u;++A)for($=0,k=A;k<f;k+=u)$+=v[k],_[k]+=$-t[k].y;if(s&&ii(n.center,Dh)&&d>1)for(k=0;k<f;++k)D=s===LT?m:g[k%u],M=D-E[k].x2-t[k].x-C[k],M>0&&(C[k]+=M/2);if(a&&ii(n.center,Ph)&&u!==1)for(k=0;k<f;++k)D=a===LT?S:b[~~(k/u)],$=D-E[k].y2-t[k].y-_[k],$>0&&(_[k]+=$/2);for(k=0;k<f;++k)o.union(E[k].translate(C[k],_[k]));switch(M=ii(n.anchor,eAt),$=ii(n.anchor,tAt),ii(n.anchor,Dh)){case Os:M-=o.width();break;case BB:M-=o.width()/2}switch(ii(n.anchor,Ph)){case Os:$-=o.height();break;case BB:$-=o.height()/2}for(M=Math.round(M),$=Math.round($),o.clear(),k=0;k<f;++k)t[k].mark.bounds.clear();for(k=0;k<f;++k)F=t[k],F.x+=C[k]+=M,F.y+=_[k]+=$,o.union(F.mark.bounds.union(F.bounds.translate(C[k],_[k]))),r&&e.dirty(F);return o}function yAt(e,t,n){var r=hAt(t),i=r.marks,o=n.bounds===lq?vAt:bAt,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),c=l*a,u,d,f,p,g,m,v;const b=hEe(e,i,n);b.empty()&&b.set(0,0,0,0),r.rowheaders&&(m=ii(n.headerBand,Ph,null),u=BT(e,r.rowheaders,i,a,l,-ii(s,"rowHeader"),fae,0,o,"x1",0,a,1,m)),r.colheaders&&(m=ii(n.headerBand,Dh,null),d=BT(e,r.colheaders,i,a,a,-ii(s,"columnHeader"),fae,1,o,"y1",0,1,a,m)),r.rowfooters&&(m=ii(n.footerBand,Ph,null),f=BT(e,r.rowfooters,i,a,l,ii(s,"rowFooter"),pae,0,o,"x2",a-1,a,1,m)),r.colfooters&&(m=ii(n.footerBand,Dh,null),p=BT(e,r.colfooters,i,a,a,ii(s,"columnFooter"),pae,1,o,"y2",c-a,1,a,m)),r.rowtitle&&(g=ii(n.titleAnchor,Ph),v=ii(s,"rowTitle"),v=g===Os?f+v:u-v,m=ii(n.titleBand,Ph,.5),gae(e,r.rowtitle,v,0,b,m)),r.coltitle&&(g=ii(n.titleAnchor,Dh),v=ii(s,"columnTitle"),v=g===Os?p+v:d-v,m=ii(n.titleBand,Dh,.5),gae(e,r.coltitle,v,1,b,m))}function vAt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function bAt(e,t){return e.bounds[t]}function BT(e,t,n,r,i,o,s,a,l,c,u,d,f,p){var g=n.length,m=0,v=0,b,S,C,_,E,T,k,A,P;if(!g)return m;for(b=u;b<g;b+=d)n[b]&&(m=s(m,l(n[b],c)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=o,S=0,_=t.length;S<_;++S)e.dirty(t[S]),t[S].mark.bounds.clear();for(b=u,S=0,_=t.length;S<_;++S,b+=d){for(T=t[S],E=T.mark.bounds,C=b;C>=0&&(k=n[C])==null;C-=f);a?(A=p==null?k.x:Math.round(k.bounds.x1+p*k.bounds.width()),P=m):(A=m,P=p==null?k.y:Math.round(k.bounds.y1+p*k.bounds.height())),E.union(T.bounds.translate(A-(T.x||0),P-(T.y||0))),T.x=A,T.y=P,e.dirty(T),v=s(v,E[c])}return v}function gae(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function xAt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function SAt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function wAt(e,t,n,r,i,o,s){const a=xAt(n,t),l=SAt(e,a("offset",0)),c=a("anchor",rq),u=c===Os?1:c===BB?.5:0,d={align:UB,bounds:a("bounds",lq),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Kc:d.anchor={x:Math.floor(r.x1)-l,column:Os,y:u*(s||r.height()+2*r.y1),row:c};break;case eu:d.anchor={x:Math.ceil(r.x2)+l,y:u*(s||r.height()+2*r.y1),row:c};break;case K1:d.anchor={y:Math.floor(i.y1)-l,row:Os,x:u*(o||i.width()+2*i.x1),column:c};break;case bg:d.anchor={y:Math.ceil(i.y2)+l,x:u*(o||i.width()+2*i.x1),column:c};break;case KMt:d.anchor={x:l,y:l};break;case QMt:d.anchor={x:o-l,y:l,column:Os};break;case ZMt:d.anchor={x:l,y:s-l,row:Os};break;case JMt:d.anchor={x:o-l,y:s-l,column:Os,row:Os};break}return d}function CAt(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,c;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),EAt(e,n,n.items[0].items[0]),o=_At(n,o),l=2*n.padding,c=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),c=Math.ceil(o.height()+c)),r.type===oAt&&kAt(n.items[0].items[0].items[0].items),i!==aq&&(n.x=s=0,n.y=a=0),n.width=l,n.height=c,yp(o.set(s,a,s+l,a+c),n),n.mark.bounds.clear().union(o),n}function _At(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function EAt(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&zw(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,c=r-s.x,u=r-s.y;switch(s.orient){case Kc:i+=Math.ceil(s.bounds.width())+l;break;case eu:case bg:break;default:o+=s.bounds.height()+l}switch((i||o)&&zw(e,n,i,o),s.orient){case Kc:u+=zv(t,n,s,a,1,1);break;case eu:c+=zv(t,n,s,Os,0,0)+l,u+=zv(t,n,s,a,1,1);break;case bg:c+=zv(t,n,s,a,0,0),u+=zv(t,n,s,Os,-1,0,1)+l;break;default:c+=zv(t,n,s,a,0,0)}(c||u)&&zw(e,s,c,u),(c=Math.round(s.bounds.x1-r))<0&&(zw(e,n,-c,0),zw(e,s,-c,0))}}function zv(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,c=a&&(o||!l)&&!s?t.items[0]:t,u=c.bounds[i?"y2":"x2"]-e.padding,d=l&&o?u:0,f=l&&o?0:u,p=i<=0?0:WW(n);return Math.round(r===rq?d:r===Os?f-p:.5*(u-p))}function zw(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function kAt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function RAt(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,c=o.offset,u=o.padding,d=o.items[0].items[0],f=o.items[1]&&o.items[1].items[0],p=a===Kc||a===eu?r:n,g=0,m=0,v=0,b=0,S=0,C;if(s!==P$?a===Kc?(g=i.y2,p=i.y1):a===eu?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):a===Kc&&(g=r,p=0),C=l===rq?g:l===Os?p:(g+p)/2,f&&f.text){switch(a){case K1:case bg:S=d.bounds.height()+u;break;case Kc:b=d.bounds.width()+u;break;case eu:b=-d.bounds.width()-u;break}ns.clear().union(f.bounds),ns.translate(b-(f.x||0),S-(f.y||0)),vb(f,"x",b)|vb(f,"y",S)&&(e.dirty(f),f.bounds.clear().union(ns),f.mark.bounds.clear().union(ns),e.dirty(f)),ns.clear().union(f.bounds)}else ns.clear();switch(ns.union(d.bounds),a){case K1:m=C,v=i.y1-ns.height()-c;break;case Kc:m=i.x1-ns.width()-c,v=C;break;case eu:m=i.x2+ns.width()+c,v=C;break;case bg:m=C,v=i.y2+c;break;default:m=o.x,v=o.y}return vb(o,"x",m)|vb(o,"y",v)&&(ns.translate(m,v),e.dirty(o),o.bounds.clear().union(ns),t.bounds.clear().union(ns),e.dirty(o)),o.bounds}function gEe(e){Be.call(this,null,e)}vt(gEe,Be,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&yAt(n,r,e.layout),MAt(n,r,e)}),TAt(e.mark.group)?t.reflow():t}});function TAt(e){return e&&e.mark.role!=="legend-entry"}function MAt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new Yi().set(0,0,i,o),a=s.clone(),l=s.clone(),c=[],u,d,f,p,g,m;for(g=0,m=r.length;g<m;++g)switch(d=r[g],d.role){case iq:p=dAt(d)?a:l,p.union(pAt(e,d,i,o));break;case oq:u=d;break;case sq:c.push(CAt(e,d));break;case nAt:case rAt:case eEe:case tEe:case nEe:case rEe:case iEe:case oEe:a.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(c.length){const v={};c.forEach(b=>{f=b.orient||eu,f!==aq&&(v[f]||(v[f]=[])).push(b)});for(const b in v){const S=v[b];hEe(e,S,wAt(S,b,n.legends,a,l,i,o))}c.forEach(b=>{const S=b.bounds;if(S.equals(b._bounds)||(b.bounds=b._bounds,e.dirty(b),b.bounds=S,e.dirty(b)),n.autosize&&(n.autosize.type===sEe||n.autosize.type===aEe||n.autosize.type===lEe))switch(b.orient){case Kc:case eu:s.add(S.x1,0).add(S.x2,0);break;case K1:case bg:s.add(0,S.y1).add(0,S.y2)}else s.union(S)})}s.union(a).union(l),u&&s.union(RAt(e,u,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),AAt(e,t,s,n)}function AAt(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),p=Math.max(0,Math.ceil(n.y2-u));if(i.contains===iAt){const g=e.padding();s-=g.left+g.right,a-=g.top+g.bottom}o===aq?(c=0,d=0,l=s,u=a):o===sEe?(l=Math.max(0,s-c-f),u=Math.max(0,a-d-p)):o===aEe?(l=Math.max(0,s-c-f),a=u+d+p):o===lEe?(s=l+c+f,u=Math.max(0,a-d-p)):o===sAt&&(s=l+c+f,a=u+d+p),e._resizeView(s,a,l,u,[c,d],i.resize)}const OAt=Object.freeze(Object.defineProperty({__proto__:null,bound:cEe,identifier:cq,mark:uEe,overlap:dEe,render:pEe,viewlayout:gEe},Symbol.toStringTag,{value:"Module"}));function mEe(e){Be.call(this,null,e)}vt(mEe,Be,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=RW(o,s,e.minstep),l=e.format||VCe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),c=e.values?HCe(o,e.values,a):TW(o,a);return i&&(r.rem=i),i=c.map((u,d)=>wr({index:d/(c.length-1||1),value:u,label:l(u)})),e.extra&&i.length&&i.push(wr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function yEe(e){Be.call(this,null,e)}function DAt(){return wr({})}function PAt(e){const t=Wx().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}vt(yEe,Be,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||DAt,o=e.key||Zt,s=this.value;return Xe(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&qe("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=PAt(o)),t.visit(t.ADD,a=>{const l=o(a);let c=s.get(l);c?c.exit?(s.empty--,r.add.push(c)):r.mod.push(c):(c=i(a),s.set(l,c),r.add.push(c)),c.datum=a,c.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),c=s.get(l);c&&(c.datum=a,r.mod.push(c))}),t.visit(t.REM,a=>{const l=o(a),c=s.get(l);a===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function vEe(e){Be.call(this,null,e)}vt(vEe,Be,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Xe(o))if(n.changed()||o.every(d=>i[d]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||nh,l=i.enter||nh,c=i.exit||nh,u=(o&&!s?i[o]:a)||nh;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),u!==nh&&u!==a&&(t.visit(t.ADD,d=>{u(d,e)}),n.modifies(u.output))),t.changed(t.REM)&&c!==nh&&(t.visit(t.REM,d=>{c(d,e)}),n.modifies(c.output)),s||u!==nh){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,f=>{const p=l(f,e)||r;(u(f,e)||p)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(u(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}});function bEe(e){Be.call(this,[],e)}vt(bEe,Be,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||QM,s=e.scale,a=+e.limit,l=RW(s,e.count==null?5:e.count,e.minstep),c=!!e.values||o===QM,u=e.format||YCe(n,s,l,o,e.formatSpecifier,e.formatType,c),d=e.values||GCe(s,l),f,p,g,m,v;return i&&(r.rem=i),o===QM?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),v=!0):i=d,Rn(g=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),m=i.reduce((b,S)=>Math.max(b,g(S,e)),0)):g=ys(m=g||8),i=i.map((b,S)=>wr({index:S,label:u(b,S,i),value:b,offset:m,size:g(b,e)})),v&&(v=d[i.length],i.push(wr({index:i.length,label:`${d.length-i.length} entries`,value:v,offset:m,size:g(v,e)})))):o===oRt?(f=s.domain(),p=zCe(s,f[0],er(f)),d.length<3&&!e.values&&f[0]!==er(f)&&(d=[f[0],er(f)]),i=d.map((b,S)=>wr({index:S,label:u(b,S,d),value:b,perc:p(b)}))):(g=d.length-1,p=mRt(s),i=d.map((b,S)=>wr({index:S,label:u(b,S,d),value:b,perc:S?p(b):0,perc2:S===g?1:p(d[S+1])}))),r.source=i,r.add=i,this.value=i,r}});const IAt=e=>e.source.x,$At=e=>e.source.y,FAt=e=>e.target.x,NAt=e=>e.target.y;function uq(e){Be.call(this,{},e)}uq.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};vt(uq,Be,{transform(e,t){var n=e.sourceX||IAt,r=e.sourceY||$At,i=e.targetX||FAt,o=e.targetY||NAt,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",c=mae.get(l+"-"+a)||mae.get(l);return c||qe("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,u=>{u[s]=c(n(u),r(u),i(u),o(u))}),t.reflow(e.modified()).modifies(s)}});const xEe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,LAt=(e,t,n,r)=>xEe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),SEe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},jAt=(e,t,n,r)=>SEe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),wEe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},zAt=(e,t,n,r)=>wEe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),BAt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,UAt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,HAt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},VAt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},WAt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},qAt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},mae=Wx({line:xEe,"line-radial":LAt,arc:SEe,"arc-radial":jAt,curve:wEe,"curve-radial":zAt,"orthogonal-horizontal":BAt,"orthogonal-vertical":UAt,"orthogonal-radial":HAt,"diagonal-horizontal":VAt,"diagonal-vertical":WAt,"diagonal-radial":qAt});function dq(e){Be.call(this,null,e)}dq.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};vt(dq,Be,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||Ux,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,c=l.map(o),u=c.length,d=s,f=(a-s)/cSe(c),p=Ja(u),g,m,v;for(e.sort&&p.sort((b,S)=>c[b]-c[S]),g=0;g<u;++g)v=c[p[g]],m=l[p[g]],m[r]=d,m[i]=d+=v*f;return this.value=c,t.reflow(e.modified()).modifies(n)}});const GAt=5;function YAt(e){const t=e.type;return!e.bins&&(t===V1||t===O2||t===D2)}function CEe(e){return _W(e)&&e!==gd}const XAt=lu(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function _Ee(e){Be.call(this,null,e),this.modified(!0)}vt(_Ee,Be,{transform(e,t){var n=t.dataflow,r=this.value,i=KAt(e);(!r||i!==r.type)&&(this.value=r=yr(i)());for(i in e)if(!XAt[i]){if(i==="padding"&&CEe(r.type))continue;Rn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return nOt(r,e,tOt(r,e,ZAt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function KAt(e){var t=e.type,n="",r;return t===gd?gd+"-"+V1:(QAt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?gd+"-":r===3?Zx+"-":""),(n+t||V1).toLowerCase())}function QAt(e){const t=e.type;return _W(t)&&t!==q0&&t!==G0&&(e.scheme||e.range&&e.range.length&&e.range.every(Mt))}function ZAt(e,t,n){const r=JAt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&YAt(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const c=l>i[a]?a+1:l<i[0]?0:a;c!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(c,0,l)}return CEe(o)&&t.padding&&i[0]!==er(i)&&(i=eOt(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(EEe(o,i,n)),o===xW&&e.unknown(t.domainImplicit?EB:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&RW(e,t.nice)||null),i.length}function JAt(e,t,n){return t?(e.domain(EEe(e.type,t,n)),t.length):-1}function eOt(e,t,n,r,i,o){var s=Math.abs(er(n)-n[0]),a=s/(s-2*r),l=e===up?qH(t,null,a):e===D2?IO(t,null,a,.5):e===O2?IO(t,null,a,i||1):e===v$?GH(t,null,a,o||1):WH(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function EEe(e,t,n){if($Ce(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ft(t))}return t}function tOt(e,t,n){let r=t.bins;if(r&&!Xe(r)){const i=e.domain(),o=i[0],s=er(i),a=r.step;let l=r.start==null?o:r.start,c=r.stop==null?s:r.stop;a||qe("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),c>s&&(c=a*Math.floor(s/a)),r=Ja(l,c+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===SW&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function nOt(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=rOt(r,t,n);else if(t.scheme&&(o=iOt(r,t,n),Rn(o))){if(e.interpolator)return e.interpolator(o);qe(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&FCe(r))return e.interpolator(S$(HB(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(EW(t.interpolate,t.interpolateGamma)):Rn(e.round)?e.round(i):Rn(e.rangeRound)&&e.interpolate(i?b2:Fg),o&&e.range(HB(o,t.reverse))}function rOt(e,t,n){e!==MCe&&e!==TB&&qe("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===TB?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*bW(n,i,r)]}function iOt(e,t,n){var r=t.schemeExtent,i,o;return Xe(t.scheme)?o=S$(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=kW(i),o||qe(`Unrecognized scheme name: ${t.scheme}`)),n=e===x$?n+1:e===SW?n-1:e===W1||e===b$?+t.schemeCount||GAt:n,FCe(e)?yae(o,r,t.reverse):Rn(o)?jCe(yae(o,r),n):e===xW?o:o.slice(0,n)}function yae(e,t,n){return Rn(e)&&(t||n)?LCe(e,HB(t||[0,1],n)):e}function HB(e,t){return t?e.slice().reverse():e}function kEe(e){Be.call(this,null,e)}vt(kEe,Be,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Ey(e.sort)),this.modified(n),t}});const vae="zero",REe="center",TEe="normalize",MEe=["y0","y1"];function fq(e){Be.call(this,null,e)}fq.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:vae,values:[vae,REe,TEe]},{name:"as",type:"string",array:!0,length:2,default:MEe}]};vt(fq,Be,{transform(e,t){var n=e.as||MEe,r=n[0],i=n[1],o=Ey(e.sort),s=e.field||Ux,a=e.offset===REe?oOt:e.offset===TEe?sOt:aOt,l,c,u,d;for(l=lOt(t.source,e.groupby,o,s),c=0,u=l.length,d=l.max;c<u;++c)a(l[c],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function oOt(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function sOt(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,c=0,u;l<a;++l)u=e[l],u[r]=s,u[i]=s=o*(c+=Math.abs(n(u)))}function aOt(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,c,u;l<a;++l)u=e[l],c=+n(u),c<0?(u[r]=s,u[i]=s+=c):(u[r]=o,u[i]=o+=c)}function lOt(e,t,n,r){var i=[],o=m=>m(u),s,a,l,c,u,d,f,p,g;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)u=e[a],d=t.map(o),f=s[d],f||(s[d]=f=[],i.push(f)),f.push(u);for(d=0,g=0,c=i.length;d<c;++d){for(f=i[d],a=0,p=0,l=f.length;a<l;++a)p+=Math.abs(r(f[a]));f.sum=p,p>g&&(g=p),n&&f.sort(n)}return i.max=g,i}const cOt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:mEe,datajoin:yEe,encode:vEe,legendentries:bEe,linkpath:uq,pie:dq,scale:_Ee,sortitems:kEe,stack:fq},Symbol.toStringTag,{value:"Module"}));var ln=1e-6,VB=1e-12,zn=Math.PI,Ti=zn/2,sD=zn/4,Hs=zn*2,Fi=180/zn,Nn=zn/180,Jn=Math.abs,eS=Math.atan,yc=Math.atan2,an=Math.cos,UT=Math.ceil,AEe=Math.exp,WB=Math.hypot,aD=Math.log,M4=Math.pow,Jt=Math.sin,Jl=Math.sign||function(e){return e>0?1:e<0?-1:0},Vs=Math.sqrt,pq=Math.tan;function OEe(e){return e>1?0:e<-1?zn:Math.acos(e)}function _a(e){return e>1?Ti:e<-1?-Ti:Math.asin(e)}function zo(){}function lD(e,t){e&&xae.hasOwnProperty(e.type)&&xae[e.type](e,t)}var bae={Feature:function(e,t){lD(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)lD(n[r].geometry,t)}},xae={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){qB(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)qB(n[r],t,0)},Polygon:function(e,t){Sae(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Sae(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)lD(n[r],t)}};function qB(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Sae(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)qB(e[n],t,1);t.polygonEnd()}function Rf(e,t){e&&bae.hasOwnProperty(e.type)?bae[e.type](e,t):lD(e,t)}var cD=new zs,uD=new zs,DEe,PEe,GB,YB,XB,Md={point:zo,lineStart:zo,lineEnd:zo,polygonStart:function(){cD=new zs,Md.lineStart=uOt,Md.lineEnd=dOt},polygonEnd:function(){var e=+cD;uD.add(e<0?Hs+e:e),this.lineStart=this.lineEnd=this.point=zo},sphere:function(){uD.add(Hs)}};function uOt(){Md.point=fOt}function dOt(){IEe(DEe,PEe)}function fOt(e,t){Md.point=IEe,DEe=e,PEe=t,e*=Nn,t*=Nn,GB=e,YB=an(t=t/2+sD),XB=Jt(t)}function IEe(e,t){e*=Nn,t*=Nn,t=t/2+sD;var n=e-GB,r=n>=0?1:-1,i=r*n,o=an(t),s=Jt(t),a=XB*s,l=YB*o+a*an(i),c=a*r*Jt(i);cD.add(yc(c,l)),GB=e,YB=o,XB=s}function pOt(e){return uD=new zs,Rf(e,Md),uD*2}function dD(e){return[yc(e[1],e[0]),_a(e[2])]}function X0(e){var t=e[0],n=e[1],r=an(n);return[r*an(t),r*Jt(t),Jt(n)]}function HT(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Q1(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function A4(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function VT(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function fD(e){var t=Vs(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var hi,fa,Ei,Ya,Im,$Ee,FEe,jb,o_,ch,dp,Cf={point:KB,lineStart:wae,lineEnd:Cae,polygonStart:function(){Cf.point=LEe,Cf.lineStart=hOt,Cf.lineEnd=gOt,o_=new zs,Md.polygonStart()},polygonEnd:function(){Md.polygonEnd(),Cf.point=KB,Cf.lineStart=wae,Cf.lineEnd=Cae,cD<0?(hi=-(Ei=180),fa=-(Ya=90)):o_>ln?Ya=90:o_<-1e-6&&(fa=-90),dp[0]=hi,dp[1]=Ei},sphere:function(){hi=-(Ei=180),fa=-(Ya=90)}};function KB(e,t){ch.push(dp=[hi=e,Ei=e]),t<fa&&(fa=t),t>Ya&&(Ya=t)}function NEe(e,t){var n=X0([e*Nn,t*Nn]);if(jb){var r=Q1(jb,n),i=[r[1],-r[0],0],o=Q1(i,r);fD(o),o=dD(o);var s=e-Im,a=s>0?1:-1,l=o[0]*Fi*a,c,u=Jn(s)>180;u^(a*Im<l&&l<a*e)?(c=o[1]*Fi,c>Ya&&(Ya=c)):(l=(l+360)%360-180,u^(a*Im<l&&l<a*e)?(c=-o[1]*Fi,c<fa&&(fa=c)):(t<fa&&(fa=t),t>Ya&&(Ya=t))),u?e<Im?Va(hi,e)>Va(hi,Ei)&&(Ei=e):Va(e,Ei)>Va(hi,Ei)&&(hi=e):Ei>=hi?(e<hi&&(hi=e),e>Ei&&(Ei=e)):e>Im?Va(hi,e)>Va(hi,Ei)&&(Ei=e):Va(e,Ei)>Va(hi,Ei)&&(hi=e)}else ch.push(dp=[hi=e,Ei=e]);t<fa&&(fa=t),t>Ya&&(Ya=t),jb=n,Im=e}function wae(){Cf.point=NEe}function Cae(){dp[0]=hi,dp[1]=Ei,Cf.point=KB,jb=null}function LEe(e,t){if(jb){var n=e-Im;o_.add(Jn(n)>180?n+(n>0?360:-360):n)}else $Ee=e,FEe=t;Md.point(e,t),NEe(e,t)}function hOt(){Md.lineStart()}function gOt(){LEe($Ee,FEe),Md.lineEnd(),Jn(o_)>ln&&(hi=-(Ei=180)),dp[0]=hi,dp[1]=Ei,jb=null}function Va(e,t){return(t-=e)<0?t+360:t}function mOt(e,t){return e[0]-t[0]}function _ae(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function yOt(e){var t,n,r,i,o,s,a;if(Ya=Ei=-(hi=fa=1/0),ch=[],Rf(e,Cf),n=ch.length){for(ch.sort(mOt),t=1,r=ch[0],o=[r];t<n;++t)i=ch[t],_ae(r,i[0])||_ae(r,i[1])?(Va(r[0],i[1])>Va(r[0],r[1])&&(r[1]=i[1]),Va(i[0],r[1])>Va(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=Va(r[1],i[0]))>s&&(s=a,hi=i[0],Ei=r[1])}return ch=dp=null,hi===1/0||fa===1/0?[[NaN,NaN],[NaN,NaN]]:[[hi,fa],[Ei,Ya]]}var SC,pD,hD,gD,mD,yD,vD,bD,QB,ZB,JB,jEe,zEe,Ds,Ps,Is,tu={sphere:zo,point:hq,lineStart:Eae,lineEnd:kae,polygonStart:function(){tu.lineStart=xOt,tu.lineEnd=SOt},polygonEnd:function(){tu.lineStart=Eae,tu.lineEnd=kae}};function hq(e,t){e*=Nn,t*=Nn;var n=an(t);V2(n*an(e),n*Jt(e),Jt(t))}function V2(e,t,n){++SC,hD+=(e-hD)/SC,gD+=(t-gD)/SC,mD+=(n-mD)/SC}function Eae(){tu.point=vOt}function vOt(e,t){e*=Nn,t*=Nn;var n=an(t);Ds=n*an(e),Ps=n*Jt(e),Is=Jt(t),tu.point=bOt,V2(Ds,Ps,Is)}function bOt(e,t){e*=Nn,t*=Nn;var n=an(t),r=n*an(e),i=n*Jt(e),o=Jt(t),s=yc(Vs((s=Ps*o-Is*i)*s+(s=Is*r-Ds*o)*s+(s=Ds*i-Ps*r)*s),Ds*r+Ps*i+Is*o);pD+=s,yD+=s*(Ds+(Ds=r)),vD+=s*(Ps+(Ps=i)),bD+=s*(Is+(Is=o)),V2(Ds,Ps,Is)}function kae(){tu.point=hq}function xOt(){tu.point=wOt}function SOt(){BEe(jEe,zEe),tu.point=hq}function wOt(e,t){jEe=e,zEe=t,e*=Nn,t*=Nn,tu.point=BEe;var n=an(t);Ds=n*an(e),Ps=n*Jt(e),Is=Jt(t),V2(Ds,Ps,Is)}function BEe(e,t){e*=Nn,t*=Nn;var n=an(t),r=n*an(e),i=n*Jt(e),o=Jt(t),s=Ps*o-Is*i,a=Is*r-Ds*o,l=Ds*i-Ps*r,c=WB(s,a,l),u=_a(c),d=c&&-u/c;QB.add(d*s),ZB.add(d*a),JB.add(d*l),pD+=u,yD+=u*(Ds+(Ds=r)),vD+=u*(Ps+(Ps=i)),bD+=u*(Is+(Is=o)),V2(Ds,Ps,Is)}function COt(e){SC=pD=hD=gD=mD=yD=vD=bD=0,QB=new zs,ZB=new zs,JB=new zs,Rf(e,tu);var t=+QB,n=+ZB,r=+JB,i=WB(t,n,r);return i<VB&&(t=yD,n=vD,r=bD,pD<ln&&(t=hD,n=gD,r=mD),i=WB(t,n,r),i<VB)?[NaN,NaN]:[yc(n,t)*Fi,_a(r/i)*Fi]}function e8(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function t8(e,t){return Jn(e)>zn&&(e-=Math.round(e/Hs)*Hs),[e,t]}t8.invert=t8;function UEe(e,t,n){return(e%=Hs)?t||n?e8(Tae(e),Mae(t,n)):Tae(e):t||n?Mae(t,n):t8}function Rae(e){return function(t,n){return t+=e,Jn(t)>zn&&(t-=Math.round(t/Hs)*Hs),[t,n]}}function Tae(e){var t=Rae(e);return t.invert=Rae(-e),t}function Mae(e,t){var n=an(e),r=Jt(e),i=an(t),o=Jt(t);function s(a,l){var c=an(l),u=an(a)*c,d=Jt(a)*c,f=Jt(l),p=f*n+u*r;return[yc(d*i-p*o,u*n-f*r),_a(p*i+d*o)]}return s.invert=function(a,l){var c=an(l),u=an(a)*c,d=Jt(a)*c,f=Jt(l),p=f*i-d*o;return[yc(d*i+f*o,u*n+p*r),_a(p*n-u*r)]},s}function _Ot(e){e=UEe(e[0]*Nn,e[1]*Nn,e.length>2?e[2]*Nn:0);function t(n){return n=e(n[0]*Nn,n[1]*Nn),n[0]*=Fi,n[1]*=Fi,n}return t.invert=function(n){return n=e.invert(n[0]*Nn,n[1]*Nn),n[0]*=Fi,n[1]*=Fi,n},t}function EOt(e,t,n,r,i,o){if(n){var s=an(t),a=Jt(t),l=r*n;i==null?(i=t+r*Hs,o=t-l/2):(i=Aae(s,i),o=Aae(s,o),(r>0?i<o:i>o)&&(i+=r*Hs));for(var c,u=i;r>0?u>o:u<o;u-=l)c=dD([s,-a*an(u),-a*Jt(u)]),e.point(c[0],c[1])}}function Aae(e,t){t=X0(t),t[0]-=e,fD(t);var n=OEe(-t[1]);return((-t[2]<0?-n:n)+Hs-ln)%Hs}function HEe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function sA(e,t){return Jn(e[0]-t[0])<ln&&Jn(e[1]-t[1])<ln}function WT(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function VEe(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(g){if(!((m=g.length-1)<=0)){var m,v=g[0],b=g[m],S;if(sA(v,b)){if(!v[2]&&!b[2]){for(i.lineStart(),a=0;a<m;++a)i.point((v=g[a])[0],v[1]);i.lineEnd();return}b[0]+=2*ln}o.push(S=new WT(v,g,null,!0)),s.push(S.o=new WT(v,null,S,!1)),o.push(S=new WT(b,g,null,!1)),s.push(S.o=new WT(b,null,S,!0))}}),!!o.length){for(s.sort(t),Oae(o),Oae(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var c=o[0],u,d;;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,l=u.length;a<l;++a)i.point((d=u[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(u=f.p.z,a=u.length-1;a>=0;--a)i.point((d=u[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);i.lineEnd()}}}function Oae(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function O4(e){return Jn(e[0])<=zn?e[0]:Jl(e[0])*((Jn(e[0])+zn)%Hs-zn)}function kOt(e,t){var n=O4(t),r=t[1],i=Jt(r),o=[Jt(n),-an(n),0],s=0,a=0,l=new zs;i===1?r=Ti+ln:i===-1&&(r=-Ti-ln);for(var c=0,u=e.length;c<u;++c)if(f=(d=e[c]).length)for(var d,f,p=d[f-1],g=O4(p),m=p[1]/2+sD,v=Jt(m),b=an(m),S=0;S<f;++S,g=_,v=T,b=k,p=C){var C=d[S],_=O4(C),E=C[1]/2+sD,T=Jt(E),k=an(E),A=_-g,P=A>=0?1:-1,D=P*A,F=D>zn,I=v*T;if(l.add(yc(I*P*Jt(D),b*k+I*an(D))),s+=F?A+P*Hs:A,F^g>=n^_>=n){var j=Q1(X0(p),X0(C));fD(j);var M=Q1(o,j);fD(M);var $=(F^A>=0?-1:1)*_a(M[2]);(r>$||r===$&&(j[0]||j[1]))&&(a+=F^A>=0?1:-1)}}return(s<-1e-6||s<ln&&l<-1e-12)^a&1}function WEe(e,t,n,r){return function(i){var o=t(i),s=HEe(),a=t(s),l=!1,c,u,d,f={point:p,lineStart:m,lineEnd:v,polygonStart:function(){f.point=b,f.lineStart=S,f.lineEnd=C,u=[],c=[]},polygonEnd:function(){f.point=p,f.lineStart=m,f.lineEnd=v,u=lSe(u);var _=kOt(c,r);u.length?(l||(i.polygonStart(),l=!0),VEe(u,TOt,_,n,i)):_&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(_,E){e(_,E)&&i.point(_,E)}function g(_,E){o.point(_,E)}function m(){f.point=g,o.lineStart()}function v(){f.point=p,o.lineEnd()}function b(_,E){d.push([_,E]),a.point(_,E)}function S(){a.lineStart(),d=[]}function C(){b(d[0][0],d[0][1]),a.lineEnd();var _=a.clean(),E=s.result(),T,k=E.length,A,P,D;if(d.pop(),c.push(d),d=null,!!k){if(_&1){if(P=E[0],(A=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),T=0;T<A;++T)i.point((D=P[T])[0],D[1]);i.lineEnd()}return}k>1&&_&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(ROt))}}return f}}function ROt(e){return e.length>1}function TOt(e,t){return((e=e.x)[0]<0?e[1]-Ti-ln:Ti-e[1])-((t=t.x)[0]<0?t[1]-Ti-ln:Ti-t[1])}const Dae=WEe(function(){return!0},MOt,OOt,[-zn,-Ti]);function MOt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?zn:-zn,l=Jn(o-t);Jn(l-zn)<ln?(e.point(t,n=(n+s)/2>0?Ti:-Ti),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=zn&&(Jn(t-r)<ln&&(t-=r*ln),Jn(o-a)<ln&&(o-=a*ln),n=AOt(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function AOt(e,t,n,r){var i,o,s=Jt(e-n);return Jn(s)>ln?eS((Jt(t)*(o=an(r))*Jt(n)-Jt(r)*(i=an(t))*Jt(e))/(i*o*s)):(t+r)/2}function OOt(e,t,n,r){var i;if(e==null)i=n*Ti,r.point(-zn,i),r.point(0,i),r.point(zn,i),r.point(zn,0),r.point(zn,-i),r.point(0,-i),r.point(-zn,-i),r.point(-zn,0),r.point(-zn,i);else if(Jn(e[0]-t[0])>ln){var o=e[0]<t[0]?zn:-zn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function DOt(e){var t=an(e),n=2*Nn,r=t>0,i=Jn(t)>ln;function o(u,d,f,p){EOt(p,e,n,f,u,d)}function s(u,d){return an(u)*an(d)>t}function a(u){var d,f,p,g,m;return{lineStart:function(){g=p=!1,m=1},point:function(v,b){var S=[v,b],C,_=s(v,b),E=r?_?0:c(v,b):_?c(v+(v<0?zn:-zn),b):0;if(!d&&(g=p=_)&&u.lineStart(),_!==p&&(C=l(d,S),(!C||sA(d,C)||sA(S,C))&&(S[2]=1)),_!==p)m=0,_?(u.lineStart(),C=l(S,d),u.point(C[0],C[1])):(C=l(d,S),u.point(C[0],C[1],2),u.lineEnd()),d=C;else if(i&&d&&r^_){var T;!(E&f)&&(T=l(S,d,!0))&&(m=0,r?(u.lineStart(),u.point(T[0][0],T[0][1]),u.point(T[1][0],T[1][1]),u.lineEnd()):(u.point(T[1][0],T[1][1]),u.lineEnd(),u.lineStart(),u.point(T[0][0],T[0][1],3)))}_&&(!d||!sA(d,S))&&u.point(S[0],S[1]),d=S,p=_,f=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return m|(g&&p)<<1}}}function l(u,d,f){var p=X0(u),g=X0(d),m=[1,0,0],v=Q1(p,g),b=HT(v,v),S=v[0],C=b-S*S;if(!C)return!f&&u;var _=t*b/C,E=-t*S/C,T=Q1(m,v),k=VT(m,_),A=VT(v,E);A4(k,A);var P=T,D=HT(k,P),F=HT(P,P),I=D*D-F*(HT(k,k)-1);if(!(I<0)){var j=Vs(I),M=VT(P,(-D-j)/F);if(A4(M,k),M=dD(M),!f)return M;var $=u[0],L=d[0],V=u[1],q=d[1],U;L<$&&(U=$,$=L,L=U);var z=L-$,B=Jn(z-zn)<ln,G=B||z<ln;if(!B&&q<V&&(U=V,V=q,q=U),G?B?V+q>0^M[1]<(Jn(M[0]-$)<ln?V:q):V<=M[1]&&M[1]<=q:z>zn^($<=M[0]&&M[0]<=L)){var Y=VT(P,(-D+j)/F);return A4(Y,k),[M,dD(Y)]}}}function c(u,d){var f=r?e:zn-e,p=0;return u<-f?p|=1:u>f&&(p|=2),d<-f?p|=4:d>f&&(p|=8),p}return WEe(s,a,o,r?[0,-e]:[-zn,e-zn])}function POt(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],c=t[1],u=0,d=1,f=l-s,p=c-a,g;if(g=n-s,!(!f&&g>0)){if(g/=f,f<0){if(g<u)return;g<d&&(d=g)}else if(f>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!f&&g<0)){if(g/=f,f<0){if(g>d)return;g>u&&(u=g)}else if(f>0){if(g<u)return;g<d&&(d=g)}if(g=r-a,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=o-a,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(e[0]=s+u*f,e[1]=a+u*p),d<1&&(t[0]=s+d*f,t[1]=a+d*p),!0}}}}}var qT=1e9,GT=-1e9;function qEe(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function o(c,u,d,f){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do f.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+d+4)%4)!==g);else f.point(u[0],u[1])}function s(c,u){return Jn(c[0]-e)<ln?u>0?0:3:Jn(c[0]-n)<ln?u>0?2:1:Jn(c[1]-t)<ln?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),f=s(u,1);return d!==f?d-f:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=HEe(),f,p,g,m,v,b,S,C,_,E,T,k={point:A,lineStart:I,lineEnd:j,polygonStart:D,polygonEnd:F};function A($,L){i($,L)&&u.point($,L)}function P(){for(var $=0,L=0,V=p.length;L<V;++L)for(var q=p[L],U=1,z=q.length,B=q[0],G,Y,Q=B[0],K=B[1];U<z;++U)G=Q,Y=K,B=q[U],Q=B[0],K=B[1],Y<=r?K>r&&(Q-G)*(r-Y)>(K-Y)*(e-G)&&++$:K<=r&&(Q-G)*(r-Y)<(K-Y)*(e-G)&&--$;return $}function D(){u=d,f=[],p=[],T=!0}function F(){var $=P(),L=T&&$,V=(f=lSe(f)).length;(L||V)&&(c.polygonStart(),L&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),V&&VEe(f,a,$,o,c),c.polygonEnd()),u=c,f=p=g=null}function I(){k.point=M,p&&p.push(g=[]),E=!0,_=!1,S=C=NaN}function j(){f&&(M(m,v),b&&_&&d.rejoin(),f.push(d.result())),k.point=A,_&&u.lineEnd()}function M($,L){var V=i($,L);if(p&&g.push([$,L]),E)m=$,v=L,b=V,E=!1,V&&(u.lineStart(),u.point($,L));else if(V&&_)u.point($,L);else{var q=[S=Math.max(GT,Math.min(qT,S)),C=Math.max(GT,Math.min(qT,C))],U=[$=Math.max(GT,Math.min(qT,$)),L=Math.max(GT,Math.min(qT,L))];POt(q,U,e,t,n,r)?(_||(u.lineStart(),u.point(q[0],q[1])),u.point(U[0],U[1]),V||u.lineEnd(),T=!1):V&&(u.lineStart(),u.point($,L),T=!1)}S=$,C=L,_=V}return k}}function Pae(e,t,n){var r=Ja(e,t-ln,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Iae(e,t,n){var r=Ja(e,t-ln,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function IOt(){var e,t,n,r,i,o,s,a,l=10,c=l,u=90,d=360,f,p,g,m,v=2.5;function b(){return{type:"MultiLineString",coordinates:S()}}function S(){return Ja(UT(r/u)*u,n,u).map(g).concat(Ja(UT(a/d)*d,s,d).map(m)).concat(Ja(UT(t/l)*l,e,l).filter(function(C){return Jn(C%u)>ln}).map(f)).concat(Ja(UT(o/c)*c,i,c).filter(function(C){return Jn(C%d)>ln}).map(p))}return b.lines=function(){return S().map(function(C){return{type:"LineString",coordinates:C}})},b.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(m(s).slice(1),g(n).reverse().slice(1),m(a).reverse().slice(1))]}},b.extent=function(C){return arguments.length?b.extentMajor(C).extentMinor(C):b.extentMinor()},b.extentMajor=function(C){return arguments.length?(r=+C[0][0],n=+C[1][0],a=+C[0][1],s=+C[1][1],r>n&&(C=r,r=n,n=C),a>s&&(C=a,a=s,s=C),b.precision(v)):[[r,a],[n,s]]},b.extentMinor=function(C){return arguments.length?(t=+C[0][0],e=+C[1][0],o=+C[0][1],i=+C[1][1],t>e&&(C=t,t=e,e=C),o>i&&(C=o,o=i,i=C),b.precision(v)):[[t,o],[e,i]]},b.step=function(C){return arguments.length?b.stepMajor(C).stepMinor(C):b.stepMinor()},b.stepMajor=function(C){return arguments.length?(u=+C[0],d=+C[1],b):[u,d]},b.stepMinor=function(C){return arguments.length?(l=+C[0],c=+C[1],b):[l,c]},b.precision=function(C){return arguments.length?(v=+C,f=Pae(o,i,90),p=Iae(t,e,v),g=Pae(a,s,90),m=Iae(r,n,v),b):v},b.extentMajor([[-180,-90+ln],[180,90-ln]]).extentMinor([[-180,-80-ln],[180,80+ln]])}const dE=e=>e;var D4=new zs,n8=new zs,GEe,YEe,r8,i8,Tf={point:zo,lineStart:zo,lineEnd:zo,polygonStart:function(){Tf.lineStart=$Ot,Tf.lineEnd=NOt},polygonEnd:function(){Tf.lineStart=Tf.lineEnd=Tf.point=zo,D4.add(Jn(n8)),n8=new zs},result:function(){var e=D4/2;return D4=new zs,e}};function $Ot(){Tf.point=FOt}function FOt(e,t){Tf.point=XEe,GEe=r8=e,YEe=i8=t}function XEe(e,t){n8.add(i8*e-r8*t),r8=e,i8=t}function NOt(){XEe(GEe,YEe)}var Z1=1/0,xD=Z1,fE=-Z1,SD=fE,wD={point:LOt,lineStart:zo,lineEnd:zo,polygonStart:zo,polygonEnd:zo,result:function(){var e=[[Z1,xD],[fE,SD]];return fE=SD=-(xD=Z1=1/0),e}};function LOt(e,t){e<Z1&&(Z1=e),e>fE&&(fE=e),t<xD&&(xD=t),t>SD&&(SD=t)}var o8=0,s8=0,wC=0,CD=0,_D=0,bb=0,a8=0,l8=0,CC=0,KEe,QEe,nd,rd,Xl={point:K0,lineStart:$ae,lineEnd:Fae,polygonStart:function(){Xl.lineStart=BOt,Xl.lineEnd=UOt},polygonEnd:function(){Xl.point=K0,Xl.lineStart=$ae,Xl.lineEnd=Fae},result:function(){var e=CC?[a8/CC,l8/CC]:bb?[CD/bb,_D/bb]:wC?[o8/wC,s8/wC]:[NaN,NaN];return o8=s8=wC=CD=_D=bb=a8=l8=CC=0,e}};function K0(e,t){o8+=e,s8+=t,++wC}function $ae(){Xl.point=jOt}function jOt(e,t){Xl.point=zOt,K0(nd=e,rd=t)}function zOt(e,t){var n=e-nd,r=t-rd,i=Vs(n*n+r*r);CD+=i*(nd+e)/2,_D+=i*(rd+t)/2,bb+=i,K0(nd=e,rd=t)}function Fae(){Xl.point=K0}function BOt(){Xl.point=HOt}function UOt(){ZEe(KEe,QEe)}function HOt(e,t){Xl.point=ZEe,K0(KEe=nd=e,QEe=rd=t)}function ZEe(e,t){var n=e-nd,r=t-rd,i=Vs(n*n+r*r);CD+=i*(nd+e)/2,_D+=i*(rd+t)/2,bb+=i,i=rd*e-nd*t,a8+=i*(nd+e),l8+=i*(rd+t),CC+=i*3,K0(nd=e,rd=t)}function JEe(e){this._context=e}JEe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Hs);break}}},result:zo};var c8=new zs,P4,e2e,t2e,_C,EC,pE={point:zo,lineStart:function(){pE.point=VOt},lineEnd:function(){P4&&n2e(e2e,t2e),pE.point=zo},polygonStart:function(){P4=!0},polygonEnd:function(){P4=null},result:function(){var e=+c8;return c8=new zs,e}};function VOt(e,t){pE.point=n2e,e2e=_C=e,t2e=EC=t}function n2e(e,t){_C-=e,EC-=t,c8.add(Vs(_C*_C+EC*EC)),_C=e,EC=t}let Nae,ED,Lae,jae;class zae{constructor(t){this._append=t==null?r2e:WOt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Lae||this._append!==ED){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Lae=r,ED=this._append,jae=this._,this._=i}this._+=jae;break}}}result(){const t=this._;return this._="",t.length?t:null}}function r2e(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function WOt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return r2e;if(t!==Nae){const n=10**t;Nae=t,ED=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return ED}function i2e(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Rf(a,i(o))),o.result()}return s.area=function(a){return Rf(a,i(Tf)),Tf.result()},s.measure=function(a){return Rf(a,i(pE)),pE.result()},s.bounds=function(a){return Rf(a,i(wD)),wD.result()},s.centroid=function(a){return Rf(a,i(Xl)),Xl.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,dE):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new zae(n)):new JEe(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new zae(n)),s},s.projection(e).digits(n).context(t)}function I$(e){return function(t){var n=new u8;for(var r in e)n[r]=e[r];return n.stream=t,n}}function u8(){}u8.prototype={constructor:u8,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function gq(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Rf(n,e.stream(wD)),t(wD.result()),r!=null&&e.clipExtent(r),e}function $$(e,t,n){return gq(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function mq(e,t,n){return $$(e,[[0,0],t],n)}function yq(e,t,n){return gq(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function vq(e,t,n){return gq(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var Bae=16,qOt=an(30*Nn);function Uae(e,t){return+t?YOt(e,t):GOt(e)}function GOt(e){return I$({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function YOt(e,t){function n(r,i,o,s,a,l,c,u,d,f,p,g,m,v){var b=c-r,S=u-i,C=b*b+S*S;if(C>4*t&&m--){var _=s+f,E=a+p,T=l+g,k=Vs(_*_+E*E+T*T),A=_a(T/=k),P=Jn(Jn(T)-1)<ln||Jn(o-d)<ln?(o+d)/2:yc(E,_),D=e(P,A),F=D[0],I=D[1],j=F-r,M=I-i,$=S*j-b*M;($*$/C>t||Jn((b*j+S*M)/C-.5)>.3||s*f+a*p+l*g<qOt)&&(n(r,i,o,s,a,l,F,I,P,_/=k,E/=k,T,m,v),v.point(F,I),n(F,I,P,_,E,T,c,u,d,f,p,g,m,v))}}return function(r){var i,o,s,a,l,c,u,d,f,p,g,m,v={point:b,lineStart:S,lineEnd:_,polygonStart:function(){r.polygonStart(),v.lineStart=E},polygonEnd:function(){r.polygonEnd(),v.lineStart=S}};function b(A,P){A=e(A,P),r.point(A[0],A[1])}function S(){d=NaN,v.point=C,r.lineStart()}function C(A,P){var D=X0([A,P]),F=e(A,P);n(d,f,u,p,g,m,d=F[0],f=F[1],u=A,p=D[0],g=D[1],m=D[2],Bae,r),r.point(d,f)}function _(){v.point=b,r.lineEnd()}function E(){S(),v.point=T,v.lineEnd=k}function T(A,P){C(i=A,P),o=d,s=f,a=p,l=g,c=m,v.point=C}function k(){n(d,f,u,p,g,m,o,s,i,a,l,c,Bae,r),v.lineEnd=_,_()}return v}}var XOt=I$({point:function(e,t){this.stream.point(e*Nn,t*Nn)}});function KOt(e){return I$({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function QOt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Hae(e,t,n,r,i,o){if(!o)return QOt(e,t,n,r,i);var s=an(o),a=Jt(o),l=s*e,c=a*e,u=s/e,d=a/e,f=(a*n-s*t)/e,p=(a*t+s*n)/e;function g(m,v){return m*=r,v*=i,[l*m-c*v+t,n-c*m-l*v]}return g.invert=function(m,v){return[r*(u*m-d*v+f),i*(p-d*m-u*v)]},g}function zd(e){return o2e(function(){return e})()}function o2e(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,c=0,u,d=0,f=1,p=1,g=null,m=Dae,v=null,b,S,C,_=dE,E=.5,T,k,A,P,D;function F($){return A($[0]*Nn,$[1]*Nn)}function I($){return $=A.invert($[0],$[1]),$&&[$[0]*Fi,$[1]*Fi]}F.stream=function($){return P&&D===$?P:P=XOt(KOt(u)(m(T(_(D=$)))))},F.preclip=function($){return arguments.length?(m=$,g=void 0,M()):m},F.postclip=function($){return arguments.length?(_=$,v=b=S=C=null,M()):_},F.clipAngle=function($){return arguments.length?(m=+$?DOt(g=$*Nn):(g=null,Dae),M()):g*Fi},F.clipExtent=function($){return arguments.length?(_=$==null?(v=b=S=C=null,dE):qEe(v=+$[0][0],b=+$[0][1],S=+$[1][0],C=+$[1][1]),M()):v==null?null:[[v,b],[S,C]]},F.scale=function($){return arguments.length?(n=+$,j()):n},F.translate=function($){return arguments.length?(r=+$[0],i=+$[1],j()):[r,i]},F.center=function($){return arguments.length?(o=$[0]%360*Nn,s=$[1]%360*Nn,j()):[o*Fi,s*Fi]},F.rotate=function($){return arguments.length?(a=$[0]%360*Nn,l=$[1]%360*Nn,c=$.length>2?$[2]%360*Nn:0,j()):[a*Fi,l*Fi,c*Fi]},F.angle=function($){return arguments.length?(d=$%360*Nn,j()):d*Fi},F.reflectX=function($){return arguments.length?(f=$?-1:1,j()):f<0},F.reflectY=function($){return arguments.length?(p=$?-1:1,j()):p<0},F.precision=function($){return arguments.length?(T=Uae(k,E=$*$),M()):Vs(E)},F.fitExtent=function($,L){return $$(F,$,L)},F.fitSize=function($,L){return mq(F,$,L)},F.fitWidth=function($,L){return yq(F,$,L)},F.fitHeight=function($,L){return vq(F,$,L)};function j(){var $=Hae(n,0,0,f,p,d).apply(null,t(o,s)),L=Hae(n,r-$[0],i-$[1],f,p,d);return u=UEe(a,l,c),k=e8(t,L),A=e8(u,k),T=Uae(k,E),M()}function M(){return P=D=null,F}return function(){return t=e.apply(this,arguments),F.invert=t.invert&&I,j()}}function bq(e){var t=0,n=zn/3,r=o2e(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Nn,n=o[1]*Nn):[t*Fi,n*Fi]},i}function ZOt(e){var t=an(e);function n(r,i){return[r*t,Jt(i)/t]}return n.invert=function(r,i){return[r/t,_a(i*t)]},n}function JOt(e,t){var n=Jt(e),r=(n+Jt(t))/2;if(Jn(r)<ln)return ZOt(e);var i=1+n*(2*r-n),o=Vs(i)/r;function s(a,l){var c=Vs(i-2*r*Jt(l))/r;return[c*Jt(a*=r),o-c*an(a)]}return s.invert=function(a,l){var c=o-l,u=yc(a,Jn(c))*Jl(c);return c*r<0&&(u-=zn*Jl(a)*Jl(c)),[u/r,_a((i-(a*a+c*c)*r*r)/(2*r))]},s}function kD(){return bq(JOt).scale(155.424).center([0,33.6442])}function s2e(){return kD().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function eDt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function tDt(){var e,t,n=s2e(),r,i=kD().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=kD().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(f,p){l=[f,p]}};function u(f){var p=f[0],g=f[1];return l=null,r.point(p,g),l||(o.point(p,g),l)||(a.point(p,g),l)}u.invert=function(f){var p=n.scale(),g=n.translate(),m=(f[0]-g[0])/p,v=(f[1]-g[1])/p;return(v>=.12&&v<.234&&m>=-.425&&m<-.214?i:v>=.166&&v<.234&&m>=-.214&&m<-.115?s:n).invert(f)},u.stream=function(f){return e&&t===f?e:e=eDt([n.stream(t=f),i.stream(f),s.stream(f)])},u.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),s.precision(f),d()):n.precision()},u.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),s.scale(f),u.translate(n.translate())):n.scale()},u.translate=function(f){if(!arguments.length)return n.translate();var p=n.scale(),g=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[g-.455*p,m-.238*p],[g+.455*p,m+.238*p]]).stream(c),o=i.translate([g-.307*p,m+.201*p]).clipExtent([[g-.425*p+ln,m+.12*p+ln],[g-.214*p-ln,m+.234*p-ln]]).stream(c),a=s.translate([g-.205*p,m+.212*p]).clipExtent([[g-.214*p+ln,m+.166*p+ln],[g-.115*p-ln,m+.234*p-ln]]).stream(c),d()},u.fitExtent=function(f,p){return $$(u,f,p)},u.fitSize=function(f,p){return mq(u,f,p)},u.fitWidth=function(f,p){return yq(u,f,p)},u.fitHeight=function(f,p){return vq(u,f,p)};function d(){return e=t=null,u}return u.scale(1070)}function a2e(e){return function(t,n){var r=an(t),i=an(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Jt(t),o*Jt(n)]}}function W2(e){return function(t,n){var r=Vs(t*t+n*n),i=e(r),o=Jt(i),s=an(i);return[yc(t*o,r*s),_a(r&&n*o/r)]}}var l2e=a2e(function(e){return Vs(2/(1+e))});l2e.invert=W2(function(e){return 2*_a(e/2)});function nDt(){return zd(l2e).scale(124.75).clipAngle(180-.001)}var c2e=a2e(function(e){return(e=OEe(e))&&e/Jt(e)});c2e.invert=W2(function(e){return e});function rDt(){return zd(c2e).scale(79.4188).clipAngle(180-.001)}function F$(e,t){return[e,aD(pq((Ti+t)/2))]}F$.invert=function(e,t){return[e,2*eS(AEe(t))-Ti]};function iDt(){return u2e(F$).scale(961/Hs)}function u2e(e){var t=zd(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,c;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=c=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,a],[l,c]]};function u(){var d=zn*r(),f=t(_Ot(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===F$?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),c]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,c)]])}return u()}function YT(e){return pq((Ti+e)/2)}function oDt(e,t){var n=an(e),r=e===t?Jt(e):aD(n/an(t))/aD(YT(t)/YT(e)),i=n*M4(YT(e),r)/r;if(!r)return F$;function o(s,a){i>0?a<-Ti+ln&&(a=-Ti+ln):a>Ti-ln&&(a=Ti-ln);var l=i/M4(YT(a),r);return[l*Jt(r*s),i-l*an(r*s)]}return o.invert=function(s,a){var l=i-a,c=Jl(r)*Vs(s*s+l*l),u=yc(s,Jn(l))*Jl(l);return l*r<0&&(u-=zn*Jl(s)*Jl(l)),[u/r,2*eS(M4(i/c,1/r))-Ti]},o}function sDt(){return bq(oDt).scale(109.5).parallels([30,30])}function RD(e,t){return[e,t]}RD.invert=RD;function aDt(){return zd(RD).scale(152.63)}function lDt(e,t){var n=an(e),r=e===t?Jt(e):(n-an(t))/(t-e),i=n/r+e;if(Jn(r)<ln)return RD;function o(s,a){var l=i-a,c=r*s;return[l*Jt(c),i-l*an(c)]}return o.invert=function(s,a){var l=i-a,c=yc(s,Jn(l))*Jl(l);return l*r<0&&(c-=zn*Jl(s)*Jl(l)),[c/r,i-Jl(r)*Vs(s*s+l*l)]},o}function cDt(){return bq(lDt).scale(131.154).center([0,13.9389])}var s_=1.340264,a_=-.081106,l_=893e-6,c_=.003796,TD=Vs(3)/2,uDt=12;function d2e(e,t){var n=_a(TD*Jt(t)),r=n*n,i=r*r*r;return[e*an(n)/(TD*(s_+3*a_*r+i*(7*l_+9*c_*r))),n*(s_+a_*r+i*(l_+c_*r))]}d2e.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<uDt&&(a=n*(s_+a_*r+i*(l_+c_*r))-t,l=s_+3*a_*r+i*(7*l_+9*c_*r),n-=s=a/l,r=n*n,i=r*r*r,!(Jn(s)<VB));++o);return[TD*e*(s_+3*a_*r+i*(7*l_+9*c_*r))/an(n),_a(Jt(n)/TD)]};function dDt(){return zd(d2e).scale(177.158)}function f2e(e,t){var n=an(t),r=an(e)*n;return[n*Jt(e)/r,Jt(t)/r]}f2e.invert=W2(eS);function fDt(){return zd(f2e).scale(144.049).clipAngle(60)}function pDt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,c,u,d,f=1,p=1,g=I$({point:function(_,E){var T=C([_,E]);this.stream.point(T[0],T[1])}}),m=dE,v,b;function S(){return f=e*r,p=e*i,v=b=null,C}function C(_){var E=_[0]*f,T=_[1]*p;if(o){var k=T*s-E*a;E=E*s+T*a,T=k}return[E+t,T+n]}return C.invert=function(_){var E=_[0]-t,T=_[1]-n;if(o){var k=T*s+E*a;E=E*s-T*a,T=k}return[E/f,T/p]},C.stream=function(_){return v&&b===_?v:v=g(m(b=_))},C.postclip=function(_){return arguments.length?(m=_,l=c=u=d=null,S()):m},C.clipExtent=function(_){return arguments.length?(m=_==null?(l=c=u=d=null,dE):qEe(l=+_[0][0],c=+_[0][1],u=+_[1][0],d=+_[1][1]),S()):l==null?null:[[l,c],[u,d]]},C.scale=function(_){return arguments.length?(e=+_,S()):e},C.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],S()):[t,n]},C.angle=function(_){return arguments.length?(o=_%360*Nn,a=Jt(o),s=an(o),S()):o*Fi},C.reflectX=function(_){return arguments.length?(r=_?-1:1,S()):r<0},C.reflectY=function(_){return arguments.length?(i=_?-1:1,S()):i<0},C.fitExtent=function(_,E){return $$(C,_,E)},C.fitSize=function(_,E){return mq(C,_,E)},C.fitWidth=function(_,E){return yq(C,_,E)},C.fitHeight=function(_,E){return vq(C,_,E)},C}function p2e(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}p2e.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(Jn(i)>ln&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function hDt(){return zd(p2e).scale(175.295)}function h2e(e,t){return[an(t)*Jt(e),Jt(t)]}h2e.invert=W2(_a);function gDt(){return zd(h2e).scale(249.5).clipAngle(90+ln)}function g2e(e,t){var n=an(t),r=1+an(e)*n;return[n*Jt(e)/r,Jt(t)/r]}g2e.invert=W2(function(e){return 2*eS(e)});function mDt(){return zd(g2e).scale(250).clipAngle(142)}function m2e(e,t){return[aD(pq((Ti+t)/2)),-e]}m2e.invert=function(e,t){return[-t,2*eS(AEe(e))-Ti]};function yDt(){var e=u2e(m2e),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var vDt=Math.abs,d8=Math.cos,MD=Math.sin,bDt=1e-6,y2e=Math.PI,f8=y2e/2,Vae=xDt(2);function Wae(e){return e>1?f8:e<-1?-f8:Math.asin(e)}function xDt(e){return e>0?Math.sqrt(e):0}function SDt(e,t){var n=e*MD(t),r=30,i;do t-=i=(t+MD(t)-n)/(1+d8(t));while(vDt(i)>bDt&&--r>0);return t/2}function wDt(e,t,n){function r(i,o){return[e*i*d8(o=SDt(n,o)),t*MD(o)]}return r.invert=function(i,o){return o=Wae(o/t),[i/(e*d8(o)),Wae((2*o+MD(2*o))/n)]},r}var CDt=wDt(Vae/f8,Vae,y2e);function _Dt(){return zd(CDt).scale(169.529)}const EDt=i2e(),p8=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function kDt(e,t){return function n(){const r=t();return r.type=e,r.path=i2e().projection(r),r.copy=r.copy||function(){const i=n();return p8.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},PCe(r)}}function xq(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(AD[e]=kDt(e,t),this):AD[e]||null}function v2e(e){return e&&e.path||EDt}const AD={albers:s2e,albersusa:tDt,azimuthalequalarea:nDt,azimuthalequidistant:rDt,conicconformal:sDt,conicequalarea:kD,conicequidistant:cDt,equalEarth:dDt,equirectangular:aDt,gnomonic:fDt,identity:pDt,mercator:iDt,mollweide:_Dt,naturalEarth1:hDt,orthographic:gDt,stereographic:mDt,transversemercator:yDt};for(const e in AD)xq(e,AD[e]);function RDt(){}const hf=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function b2e(){var e=1,t=1,n=a;function r(l,c){return c.map(u=>i(l,u))}function i(l,c){var u=[],d=[];return o(l,c,f=>{n(f,l,c),TDt(f)>0?u.push([f]):d.push(f)}),d.forEach(f=>{for(var p=0,g=u.length,m;p<g;++p)if(MDt((m=u[p])[0],f)!==-1){m.push(f);return}}),{type:"MultiPolygon",value:c,coordinates:u}}function o(l,c,u){var d=[],f=[],p,g,m,v,b,S;for(p=g=-1,v=l[0]>=c,hf[v<<1].forEach(C);++p<e-1;)m=v,v=l[p+1]>=c,hf[m|v<<1].forEach(C);for(hf[v<<0].forEach(C);++g<t-1;){for(p=-1,v=l[g*e+e]>=c,b=l[g*e]>=c,hf[v<<1|b<<2].forEach(C);++p<e-1;)m=v,v=l[g*e+e+p+1]>=c,S=b,b=l[g*e+p+1]>=c,hf[m|v<<1|b<<2|S<<3].forEach(C);hf[v|b<<3].forEach(C)}for(p=-1,b=l[g*e]>=c,hf[b<<2].forEach(C);++p<e-1;)S=b,b=l[g*e+p+1]>=c,hf[b<<2|S<<3].forEach(C);hf[b<<3].forEach(C);function C(_){var E=[_[0][0]+p,_[0][1]+g],T=[_[1][0]+p,_[1][1]+g],k=s(E),A=s(T),P,D;(P=f[k])?(D=d[A])?(delete f[P.end],delete d[D.start],P===D?(P.ring.push(T),u(P.ring)):d[P.start]=f[D.end]={start:P.start,end:D.end,ring:P.ring.concat(D.ring)}):(delete f[P.end],P.ring.push(T),f[P.end=A]=P):(P=d[A])?(D=f[k])?(delete d[P.start],delete f[D.end],P===D?(P.ring.push(T),u(P.ring)):d[D.start]=f[P.end]={start:D.start,end:P.end,ring:D.ring.concat(P.ring)}):(delete d[P.start],P.ring.unshift(E),d[P.start=k]=P):d[k]=f[A]={start:k,end:A,ring:[E,T]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,c,u){l.forEach(d=>{var f=d[0],p=d[1],g=f|0,m=p|0,v,b=c[m*e+g];f>0&&f<e&&g===f&&(v=c[m*e+g-1],d[0]=f+(u-v)/(b-v)-.5),p>0&&p<t&&m===p&&(v=c[(m-1)*e+g],d[1]=p+(u-v)/(b-v)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),u=Math.floor(l[1]);return c>=0&&u>=0||qe("invalid size"),e=c,t=u,r},r.smooth=function(l){return arguments.length?(n=l?a:RDt,r):n===a},r}function TDt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function MDt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=ADt(e,t[n]))return i;return 0}function ADt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],d=e[a],f=d[0],p=d[1];if(ODt(l,d,t))return 0;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(i=-i)}return i}function ODt(e,t,n){var r;return DDt(e,t,n)&&PDt(e[r=+(e[0]===t[0])],n[r],t[r])}function DDt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function PDt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function x2e(e,t,n){return function(r){var i=Ed(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?pg(o,s,e):a/(e+1);return Ja(o+l,s,l)}}function Sq(e){Be.call(this,null,e)}Sq.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};vt(Sq,Be,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ms,o=b2e().smooth(e.smooth!==!1),s=e.thresholds||IDt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(c=>{const u=i(c),d=o.size([u.width,u.height])(u.values,Xe(s)?s:s(u.values));$Dt(d,u,c,e),d.forEach(f=>{l.push(n$(c,wr(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function IDt(e,t,n){const r=x2e(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>v0(t(i).values)))}function $Dt(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(Rn(i)&&(i=i(n,r)),Rn(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(gr(i)?i:i[0])||1,a=(gr(i)?i:i[1])||1,l=o&&o[0]||0,c=o&&o[1]||0;e.forEach(S2e(t,s,a,l,c))}function S2e(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(d){d.forEach(c)}function c(d){a&&d.reverse(),d.forEach(u)}function u(d){d[0]=(d[0]-o)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function qae(e,t,n){const r=e>=0?e:vV(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function I4(e){return Rn(e)?e:ys(+e)}function w2e(){var e=l=>l[0],t=l=>l[1],n=Ux,r=[-1,-1],i=960,o=500,s=2;function a(l,c){const u=qae(r[0],l,e)>>s,d=qae(r[1],l,t)>>s,f=u?u+2:0,p=d?d+2:0,g=2*f+(i>>s),m=2*p+(o>>s),v=new Float32Array(g*m),b=new Float32Array(g*m);let S=v;l.forEach(_=>{const E=f+(+e(_)>>s),T=p+(+t(_)>>s);E>=0&&E<g&&T>=0&&T<m&&(v[E+T*g]+=+n(_))}),u>0&&d>0?(Bv(g,m,v,b,u),Uv(g,m,b,v,d),Bv(g,m,v,b,u),Uv(g,m,b,v,d),Bv(g,m,v,b,u),Uv(g,m,b,v,d)):u>0?(Bv(g,m,v,b,u),Bv(g,m,b,v,u),Bv(g,m,v,b,u),S=b):d>0&&(Uv(g,m,v,b,d),Uv(g,m,b,v,d),Uv(g,m,v,b,d),S=b);const C=c?Math.pow(2,-2*s):1/cSe(S);for(let _=0,E=g*m;_<E;++_)S[_]*=C;return{values:S,scale:1<<s,width:g,height:m,x1:f,y1:p,x2:f+(i>>s),y2:p+(o>>s)}}return a.x=function(l){return arguments.length?(e=I4(l),a):e},a.y=function(l){return arguments.length?(t=I4(l),a):t},a.weight=function(l){return arguments.length?(n=I4(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var c=+l[0],u=+l[1];return c>=0&&u>=0||qe("invalid size"),i=c,o=u,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||qe("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=Tt(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&qe("invalid bandwidth"),r=l,a):r},a}function Bv(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function Uv(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function wq(e){Be.call(this,null,e)}wq.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const FDt=["x","y","weight","size","cellSize","bandwidth"];function C2e(e,t){return FDt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}vt(wq,Be,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=NDt(r,e.groupby),o=(e.groupby||[]).map(Ai),s=C2e(w2e(),e),a=e.as||"grid",l=[];function c(u,d){for(let f=0;f<o.length;++f)u[o[f]]=d[f];return u}return l=i.map(u=>wr(c({[a]:s(u,e.counts)},u.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function NDt(e,t){var n=[],r=u=>u(a),i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function Cq(e){Be.call(this,null,e)}Cq.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};vt(Cq,Be,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=b2e().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||x2e(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=C2e(w2e(),e)(i,!0),l=S2e(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=Xe(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(wr),n}});const h8="Feature",_q="FeatureCollection",LDt="MultiPoint";function Eq(e){Be.call(this,null,e)}Eq.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};vt(Eq,Be,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&ms,l=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(ds(a))||o&&t.modified(ds(o))||s&&t.modified(ds(s)),(!this.value||c)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,u=>n.push(a(u))),o&&s&&(t.visit(l,u=>{var d=o(u),f=s(u);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:h8,geometry:{type:LDt,coordinates:r}})),this.value={type:_q,features:n}}});function kq(e){Be.call(this,null,e)}kq.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};vt(kq,Be,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ms,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=v2e(e.projection),n.materialize().reflow()):s=i===ms||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=jDt(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function jDt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function Rq(e){Be.call(this,null,e)}Rq.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};vt(Rq,Be,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function c(u){const d=n([r(u),i(u)]);d?(u[s]=d[0],u[a]=d[1]):(u[s]=void 0,u[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,c)),t.modifies(o)}});function Tq(e){Be.call(this,null,e)}Tq.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};vt(Tq,Be,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=zDt(v2e(e.projection),e.field||pc("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function zDt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function Mq(e){Be.call(this,[],e),this.generator=IOt()}Mq.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};vt(Mq,Be,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)Rn(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(iwe(n[0],i)):t.add.push(wr(i)),n[0]=i,t}});function Aq(e){Be.call(this,null,e)}Aq.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};vt(Aq,Be,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ms,o=UDt(e.opacity,e),s=BDt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?v0(n.map(c=>v0(i(c).values))):0};return n.forEach(c=>{const u=i(c),d=kn({},c,l);r||(d.$max=v0(u.values||[])),c[a]=HDt(u,d,s.dep?s:ys(s(d)),o.dep?o:ys(o(d)))}),t.reflow(!0).modifies(a)}});function BDt(e,t){let n;return Rn(e)?(n=r=>dg(e(r,t)),n.dep=_2e(e)):n=ys(dg(e||"#888")),n}function UDt(e,t){let n;return Rn(e)?(n=r=>e(r,t),n.dep=_2e(e)):e?n=ys(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function _2e(e){if(!Rn(e))return!1;const t=lu(ds(e));return t.$x||t.$y||t.$value||t.$max}function HDt(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,c=e.y2||o,u=e.values,d=u?v=>u[v]:gh,f=Gh(l-s,c-a),p=f.getContext("2d"),g=p.getImageData(0,0,l-s,c-a),m=g.data;for(let v=a,b=0;v<c;++v){t.$y=v-a;for(let S=s,C=v*i;S<l;++S,b+=4){t.$x=S-s,t.$value=d(S+C);const _=n(t);m[b+0]=_.r,m[b+1]=_.g,m[b+2]=_.b,m[b+3]=~~(255*r(t))}}return p.putImageData(g,0,0),f}function E2e(e){Be.call(this,null,e),this.modified(!0)}vt(E2e,Be,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=WDt(e.type),p8.forEach(r=>{e[r]!=null&&Gae(n,r,e[r])})):p8.forEach(r=>{e.modified(r)&&Gae(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&VDt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function VDt(e,t){const n=qDt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function WDt(e){const t=xq((e||"mercator").toLowerCase());return t||qe("Unrecognized projection type: "+e),t()}function Gae(e,t,n){Rn(e[t])&&e[t](n)}function qDt(e){return e=Tt(e),e.length===1?e[0]:{type:_q,features:e.reduce((t,n)=>t.concat(GDt(n)),[])}}function GDt(e){return e.type===_q?e.features:Tt(e).filter(t=>t!=null).map(t=>t.type===h8?t:{type:h8,geometry:t})}const YDt=Object.freeze(Object.defineProperty({__proto__:null,contour:Cq,geojson:Eq,geopath:kq,geopoint:Rq,geoshape:Tq,graticule:Mq,heatmap:Aq,isocontour:Sq,kde2d:wq,projection:E2e},Symbol.toStringTag,{value:"Module"}));function XDt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,c=0;for(o=0;o<s;++o)a=n[o],l+=a.x,c+=a.y;for(l=(l/s-e)*r,c=(c/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function KDt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return k2e(this.cover(t,n),t,n,e)}function k2e(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,c=e._x1,u=e._y1,d,f,p,g,m,v,b,S;if(!o)return e._root=s,e;for(;o.length;)if((m=t>=(d=(a+c)/2))?a=d:c=d,(v=n>=(f=(l+u)/2))?l=f:u=f,i=o,!(o=o[b=v<<1|m]))return i[b]=s,e;if(p=+e._x.call(null,o.data),g=+e._y.call(null,o.data),t===p&&n===g)return s.next=o,i?i[b]=s:e._root=s,e;do i=i?i[b]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+c)/2))?a=d:c=d,(v=n>=(f=(l+u)/2))?l=f:u=f;while((b=v<<1|m)===(S=(g>=f)<<1|p>=d));return i[S]=o,i[b]=s,e}function QDt(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>d&&(d=o));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)k2e(this,s[n],a[n],e[n]);return this}function ZDt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,c;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function JDt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function ePt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Fs(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function tPt(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,c,u=this._x1,d=this._y1,f=[],p=this._root,g,m;for(p&&f.push(new Fs(p,i,o,u,d)),n==null?n=1/0:(i=e-n,o=t-n,u=e+n,d=t+n,n*=n);g=f.pop();)if(!(!(p=g.node)||(s=g.x0)>u||(a=g.y0)>d||(l=g.x1)<i||(c=g.y1)<o))if(p.length){var v=(s+l)/2,b=(a+c)/2;f.push(new Fs(p[3],v,b,l,c),new Fs(p[2],s,b,v,c),new Fs(p[1],v,a,l,b),new Fs(p[0],s,a,v,b)),(m=(t>=b)<<1|e>=v)&&(g=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=g)}else{var S=e-+this._x.call(null,p.data),C=t-+this._y.call(null,p.data),_=S*S+C*C;if(_<n){var E=Math.sqrt(n=_);i=e-E,o=t-E,u=e+E,d=t+E,r=p.data}}return r}function nPt(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,c=this._y1,u,d,f,p,g,m,v,b;if(!n)return this;if(n.length)for(;;){if((g=u>=(f=(s+l)/2))?s=f:l=f,(m=d>=(p=(a+c)/2))?a=p:c=p,t=n,!(n=n[v=m<<1|g]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(r=t,b=v)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[v]=o:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=o,this)}function rPt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function iPt(){return this._root}function oPt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function sPt(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Fs(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(o+a)/2,u=(s+l)/2;(i=r[3])&&t.push(new Fs(i,c,u,a,l)),(i=r[2])&&t.push(new Fs(i,o,u,c,l)),(i=r[1])&&t.push(new Fs(i,c,s,a,u)),(i=r[0])&&t.push(new Fs(i,o,s,c,u))}return this}function aPt(e){var t=[],n=[],r;for(this._root&&t.push(new Fs(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(s+l)/2,d=(a+c)/2;(o=i[0])&&t.push(new Fs(o,s,a,u,d)),(o=i[1])&&t.push(new Fs(o,u,a,l,d)),(o=i[2])&&t.push(new Fs(o,s,d,u,c)),(o=i[3])&&t.push(new Fs(o,u,d,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function lPt(e){return e[0]}function cPt(e){return arguments.length?(this._x=e,this):this._x}function uPt(e){return e[1]}function dPt(e){return arguments.length?(this._y=e,this):this._y}function Oq(e,t,n){var r=new Dq(t??lPt,n??uPt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Dq(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Yae(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Xs=Oq.prototype=Dq.prototype;Xs.copy=function(){var e=new Dq(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Yae(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Yae(r));return e};Xs.add=KDt;Xs.addAll=QDt;Xs.cover=ZDt;Xs.data=JDt;Xs.extent=ePt;Xs.find=tPt;Xs.remove=nPt;Xs.removeAll=rPt;Xs.root=iPt;Xs.size=oPt;Xs.visit=sPt;Xs.visitAfter=aPt;Xs.x=cPt;Xs.y=dPt;function Ns(e){return function(){return e}}function Ih(e){return(e()-.5)*1e-6}function fPt(e){return e.x+e.vx}function pPt(e){return e.y+e.vy}function hPt(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Ns(e==null?1:+e));function s(){for(var c,u=t.length,d,f,p,g,m,v,b=0;b<o;++b)for(d=Oq(t,fPt,pPt).visitAfter(a),c=0;c<u;++c)f=t[c],m=n[f.index],v=m*m,p=f.x+f.vx,g=f.y+f.vy,d.visit(S);function S(C,_,E,T,k){var A=C.data,P=C.r,D=m+P;if(A){if(A.index>f.index){var F=p-A.x-A.vx,I=g-A.y-A.vy,j=F*F+I*I;j<D*D&&(F===0&&(F=Ih(r),j+=F*F),I===0&&(I=Ih(r),j+=I*I),j=(D-(j=Math.sqrt(j)))/j*i,f.vx+=(F*=j)*(D=(P*=P)/(v+P)),f.vy+=(I*=j)*D,A.vx-=F*(D=1-D),A.vy-=I*D)}return}return _>p+D||T<p-D||E>g+D||k<g-D}}function a(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,d;for(n=new Array(u),c=0;c<u;++c)d=t[c],n[d.index]=+e(d,c,t)}}return s.initialize=function(c,u){t=c,r=u,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Ns(+c),l(),s):e},s}function gPt(e){return e.index}function Xae(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function mPt(e){var t=gPt,n=d,r,i=Ns(30),o,s,a,l,c,u=1;e==null&&(e=[]);function d(v){return 1/Math.min(a[v.source.index],a[v.target.index])}function f(v){for(var b=0,S=e.length;b<u;++b)for(var C=0,_,E,T,k,A,P,D;C<S;++C)_=e[C],E=_.source,T=_.target,k=T.x+T.vx-E.x-E.vx||Ih(c),A=T.y+T.vy-E.y-E.vy||Ih(c),P=Math.sqrt(k*k+A*A),P=(P-o[C])/P*v*r[C],k*=P,A*=P,T.vx-=k*(D=l[C]),T.vy-=A*D,E.vx+=k*(D=1-D),E.vy+=A*D}function p(){if(s){var v,b=s.length,S=e.length,C=new Map(s.map((E,T)=>[t(E,T,s),E])),_;for(v=0,a=new Array(b);v<S;++v)_=e[v],_.index=v,typeof _.source!="object"&&(_.source=Xae(C,_.source)),typeof _.target!="object"&&(_.target=Xae(C,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(v=0,l=new Array(S);v<S;++v)_=e[v],l[v]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);r=new Array(S),g(),o=new Array(S),m()}}function g(){if(s)for(var v=0,b=e.length;v<b;++v)r[v]=+n(e[v],v,e)}function m(){if(s)for(var v=0,b=e.length;v<b;++v)o[v]=+i(e[v],v,e)}return f.initialize=function(v,b){s=v,c=b,p()},f.links=function(v){return arguments.length?(e=v,p(),f):e},f.id=function(v){return arguments.length?(t=v,f):t},f.iterations=function(v){return arguments.length?(u=+v,f):u},f.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Ns(+v),g(),f):n},f.distance=function(v){return arguments.length?(i=typeof v=="function"?v:Ns(+v),m(),f):i},f}const yPt=1664525,vPt=1013904223,Kae=4294967296;function bPt(){let e=1;return()=>(e=(yPt*e+vPt)%Kae)/Kae}function xPt(e){return e.x}function SPt(e){return e.y}var wPt=10,CPt=Math.PI*(3-Math.sqrt(5));function _Pt(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=MH(d),c=m2("tick","end"),u=bPt();e==null&&(e=[]);function d(){f(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function f(m){var v,b=e.length,S;m===void 0&&(m=1);for(var C=0;C<m;++C)for(n+=(o-n)*i,a.forEach(function(_){_(n)}),v=0;v<b;++v)S=e[v],S.fx==null?S.x+=S.vx*=s:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=s:(S.y=S.fy,S.vy=0);return t}function p(){for(var m=0,v=e.length,b;m<v;++m){if(b=e[m],b.index=m,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var S=wPt*Math.sqrt(.5+m),C=m*CPt;b.x=S*Math.cos(C),b.y=S*Math.sin(C)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function g(m){return m.initialize&&m.initialize(e,u),m}return p(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,p(),a.forEach(g),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},randomSource:function(m){return arguments.length?(u=m,a.forEach(g),t):u},force:function(m,v){return arguments.length>1?(v==null?a.delete(m):a.set(m,g(v)),t):a.get(m)},find:function(m,v,b){var S=0,C=e.length,_,E,T,k,A;for(b==null?b=1/0:b*=b,S=0;S<C;++S)k=e[S],_=m-k.x,E=v-k.y,T=_*_+E*E,T<b&&(A=k,b=T);return A},on:function(m,v){return arguments.length>1?(c.on(m,v),t):c.on(m)}}}function EPt(){var e,t,n,r,i=Ns(-30),o,s=1,a=1/0,l=.81;function c(p){var g,m=e.length,v=Oq(e,xPt,SPt).visitAfter(d);for(r=p,g=0;g<m;++g)t=e[g],v.visit(f)}function u(){if(e){var p,g=e.length,m;for(o=new Array(g),p=0;p<g;++p)m=e[p],o[m.index]=+i(m,p,e)}}function d(p){var g=0,m,v,b=0,S,C,_;if(p.length){for(S=C=_=0;_<4;++_)(m=p[_])&&(v=Math.abs(m.value))&&(g+=m.value,b+=v,S+=v*m.x,C+=v*m.y);p.x=S/b,p.y=C/b}else{m=p,m.x=m.data.x,m.y=m.data.y;do g+=o[m.data.index];while(m=m.next)}p.value=g}function f(p,g,m,v){if(!p.value)return!0;var b=p.x-t.x,S=p.y-t.y,C=v-g,_=b*b+S*S;if(C*C/l<_)return _<a&&(b===0&&(b=Ih(n),_+=b*b),S===0&&(S=Ih(n),_+=S*S),_<s&&(_=Math.sqrt(s*_)),t.vx+=b*p.value*r/_,t.vy+=S*p.value*r/_),!0;if(p.length||_>=a)return;(p.data!==t||p.next)&&(b===0&&(b=Ih(n),_+=b*b),S===0&&(S=Ih(n),_+=S*S),_<s&&(_=Math.sqrt(s*_)));do p.data!==t&&(C=o[p.data.index]*r/_,t.vx+=b*C,t.vy+=S*C);while(p=p.next)}return c.initialize=function(p,g){e=p,n=g,u()},c.strength=function(p){return arguments.length?(i=typeof p=="function"?p:Ns(+p),u(),c):i},c.distanceMin=function(p){return arguments.length?(s=p*p,c):Math.sqrt(s)},c.distanceMax=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}function kPt(e){var t=Ns(.1),n,r,i;typeof e!="function"&&(e=Ns(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ns(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Ns(+a),s(),o):e},o}function RPt(e){var t=Ns(.1),n,r,i;typeof e!="function"&&(e=Ns(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ns(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Ns(+a),s(),o):e},o}const Qae={center:XDt,collide:hPt,nbody:EPt,link:mPt,x:kPt,y:RPt},kC="forces",g8=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],TPt=["static","iterations"],R2e=["x","y","vx","vy"];function Pq(e){Be.call(this,null,e)}Pq.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:R2e}]};vt(Pq,Be,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(g8),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&T2e(n,e,0,t)):(this.value=n=APt(t.source,e),n.on("tick",MPt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(TPt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,c=a.length,u;l<c;++l)if(u=a[l],!(u.name!==kC||u.op._argval.force!=="link")){for(var r=u.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(R2e)}});function MPt(e,t){return()=>e.touch(t).run()}function APt(e,t){const n=_Pt(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),T2e(n,t,!0).on("end",()=>o=!0)}function T2e(e,t,n,r){var i=Tt(t.forces),o,s,a,l;for(o=0,s=g8.length;o<s;++o)a=g8[o],a!==kC&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=kC+o,a=n||t.modified(kC,o)?DPt(i[o]):r&&OPt(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(kC+o,null);return e.numForces=i.length,e}function OPt(e,t){var n,r;for(n in e)if(Rn(r=e[n])&&t.modified(ds(r)))return 1;return 0}function DPt(e){var t,n;Pt(Qae,e.force)||qe("Unrecognized force: "+e.force),t=Qae[e.force]();for(n in e)Rn(t[n])&&PPt(t[n],e[n],e);return t}function PPt(e,t,n){e(Rn(t)?r=>t(r,n):t)}const IPt=Object.freeze(Object.defineProperty({__proto__:null,force:Pq},Symbol.toStringTag,{value:"Module"}));function $Pt(e,t){return e.parent===t.parent?1:2}function FPt(e){return e.reduce(NPt,0)/e.length}function NPt(e,t){return e+t.x}function LPt(e){return 1+e.reduce(jPt,0)}function jPt(e,t){return Math.max(e,t.y)}function zPt(e){for(var t;t=e.children;)e=t[0];return e}function BPt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function UPt(){var e=$Pt,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(f){var p=f.children;p?(f.x=FPt(p),f.y=LPt(p)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=zPt(o),c=BPt(o),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-u)/(d-u)*t,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function HPt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function VPt(){return this.eachAfter(HPt)}function WPt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function qPt(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function GPt(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function YPt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function XPt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function KPt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function QPt(e){for(var t=this,n=ZPt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function ZPt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function JPt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function eIt(){return Array.from(this)}function tIt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function nIt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*rIt(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Iq(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=sIt)):t===void 0&&(t=oIt);for(var n=new J1(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new J1(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(M2e)}function iIt(){return Iq(this).eachBefore(aIt)}function oIt(e){return e.children}function sIt(e){return Array.isArray(e)?e[1]:null}function aIt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function M2e(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function J1(e){this.data=e,this.depth=this.height=0,this.parent=null}J1.prototype=Iq.prototype={constructor:J1,count:VPt,each:WPt,eachAfter:GPt,eachBefore:qPt,find:YPt,sum:XPt,sort:KPt,path:QPt,ancestors:JPt,descendants:eIt,leaves:tIt,links:nIt,copy:iIt,[Symbol.iterator]:rIt};function aA(e){return e==null?null:A2e(e)}function A2e(e){if(typeof e!="function")throw new Error;return e}function Um(){return 0}function tb(e){return function(){return e}}const lIt=1664525,cIt=1013904223,Zae=4294967296;function uIt(){let e=1;return()=>(e=(lIt*e+cIt)%Zae)/Zae}function dIt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fIt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function pIt(e,t){for(var n=0,r=(e=fIt(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&O2e(s,o)?++n:(s=gIt(i=hIt(i,o)),n=0);return s}function hIt(e,t){var n,r;if($4(t,e))return[t];for(n=0;n<e.length;++n)if(XT(t,e[n])&&$4(RC(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(XT(RC(e[n],e[r]),t)&&XT(RC(e[n],t),e[r])&&XT(RC(e[r],t),e[n])&&$4(D2e(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function XT(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function O2e(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function $4(e,t){for(var n=0;n<t.length;++n)if(!O2e(e,t[n]))return!1;return!0}function gIt(e){switch(e.length){case 1:return mIt(e[0]);case 2:return RC(e[0],e[1]);case 3:return D2e(e[0],e[1],e[2])}}function mIt(e){return{x:e.x,y:e.y,r:e.r}}function RC(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,c=s-r,u=a-i,d=Math.sqrt(l*l+c*c);return{x:(n+o+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+a)/2}}function D2e(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=n.x,u=n.y,d=n.r,f=r-s,p=r-c,g=i-a,m=i-u,v=l-o,b=d-o,S=r*r+i*i-o*o,C=S-s*s-a*a+l*l,_=S-c*c-u*u+d*d,E=p*g-f*m,T=(g*_-m*C)/(E*2)-r,k=(m*v-g*b)/E,A=(p*C-f*_)/(E*2)-i,P=(f*b-p*v)/E,D=k*k+P*P-1,F=2*(o+T*k+A*P),I=T*T+A*A-o*o,j=-(Math.abs(D)>1e-6?(F+Math.sqrt(F*F-4*D*I))/(2*D):I/F);return{x:r+T+k*j,y:i+A+P*j,r:j}}function Jae(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,c=r*r+s*s;c?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(c+l-o)/(2*c),a=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(c+o-l)/(2*c),a=Math.sqrt(Math.max(0,o/c-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function ele(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function tle(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function KT(e){this._=e,this.next=null,this.previous=null}function yIt(e,t){if(!(o=(e=dIt(e)).length))return 0;var n,r,i,o,s,a,l,c,u,d,f;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Jae(r,n,i=e[2]),n=new KT(n),r=new KT(r),i=new KT(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){Jae(n._,r._,i=e[l]),i=new KT(i),c=r.next,u=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(ele(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(ele(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=tle(n);(i=i.next)!==r;)(a=tle(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=pIt(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function vIt(e){return Math.sqrt(e.value)}function bIt(){var e=null,t=1,n=1,r=Um;function i(o){const s=uIt();return o.x=t/2,o.y=n/2,e?o.eachBefore(nle(e)).eachAfter(F4(r,.5,s)).eachBefore(rle(1)):o.eachBefore(nle(vIt)).eachAfter(F4(Um,1,s)).eachAfter(F4(r,o.r/Math.min(t,n),s)).eachBefore(rle(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=aA(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:tb(+o),i):r},i}function nle(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function F4(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=yIt(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function rle(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function P2e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function q2(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function xIt(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(P2e),s}function o(s,a){return function(l){l.children&&q2(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var c=l.x0,u=l.y0,d=l.x1-n,f=l.y1-n;d<c&&(c=d=(c+d)/2),f<u&&(u=f=(u+f)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var SIt={depth:-1},ile={},N4={};function wIt(e){return e.id}function CIt(e){return e.parentId}function ole(){var e=wIt,t=CIt,n;function r(i){var o=Array.from(i),s=e,a=t,l,c,u,d,f,p,g,m,v=new Map;if(n!=null){const b=o.map((_,E)=>_It(n(_,E,i))),S=b.map(sle),C=new Set(b).add("");for(const _ of S)C.has(_)||(C.add(_),b.push(_),S.push(sle(_)),o.push(N4));s=(_,E)=>b[E],a=(_,E)=>S[E]}for(u=0,l=o.length;u<l;++u)c=o[u],p=o[u]=new J1(c),(g=s(c,u,i))!=null&&(g+="")&&(m=p.id=g,v.set(m,v.has(m)?ile:p)),(g=a(c,u,i))!=null&&(g+="")&&(p.parent=g);for(u=0;u<l;++u)if(p=o[u],g=p.parent){if(f=v.get(g),!f)throw new Error("missing: "+g);if(f===ile)throw new Error("ambiguous: "+g);f.children?f.children.push(p):f.children=[p],p.parent=f}else{if(d)throw new Error("multiple roots");d=p}if(!d)throw new Error("no root");if(n!=null){for(;d.data===N4&&d.children.length===1;)d=d.children[0],--l;for(let b=o.length-1;b>=0&&(p=o[b],p.data===N4);--b)p.data=null}if(d.parent=SIt,d.eachBefore(function(b){b.depth=b.parent.depth+1,--l}).eachBefore(M2e),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=aA(i),r):e},r.parentId=function(i){return arguments.length?(t=aA(i),r):t},r.path=function(i){return arguments.length?(n=aA(i),r):n},r}function _It(e){e=`${e}`;let t=e.length;return m8(e,t-1)&&!m8(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function sle(e){let t=e.length;if(t<2)return"";for(;--t>1&&!m8(e,t););return e.slice(0,t)}function m8(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function EIt(e,t){return e.parent===t.parent?1:2}function L4(e){var t=e.children;return t?t[0]:e.t}function j4(e){var t=e.children;return t?t[t.length-1]:e.t}function kIt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function RIt(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function TIt(e,t,n){return e.a.parent===t.parent?e.a:n}function lA(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}lA.prototype=Object.create(J1.prototype);function MIt(e){for(var t=new lA(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new lA(o[s],s)),i.parent=n;return(t.parent=new lA(null,0)).children=[t],t}function AIt(){var e=EIt,t=1,n=1,r=null;function i(c){var u=MIt(c);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)c.eachBefore(l);else{var d=c,f=c,p=c;c.eachBefore(function(S){S.x<d.x&&(d=S),S.x>f.x&&(f=S),S.depth>p.depth&&(p=S)});var g=d===f?1:e(d,f)/2,m=g-d.x,v=t/(f.x+g+m),b=n/(p.depth||1);c.eachBefore(function(S){S.x=(S.x+m)*v,S.y=S.depth*b})}return c}function o(c){var u=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(u){RIt(c);var p=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-p):c.z=p}else f&&(c.z=f.z+e(c._,f._));c.parent.A=a(c,f,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,d){if(u){for(var f=c,p=c,g=u,m=f.parent.children[0],v=f.m,b=p.m,S=g.m,C=m.m,_;g=j4(g),f=L4(f),g&&f;)m=L4(m),p=j4(p),p.a=c,_=g.z+S-f.z-v+e(g._,f._),_>0&&(kIt(TIt(g,c,d),c,_),v+=_,b+=_),S+=g.m,v+=f.m,C+=m.m,b+=p.m;g&&!j4(p)&&(p.t=g,p.m+=S-b),f&&!L4(m)&&(m.t=f,m.m+=v-C,d=c)}return d}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function N$(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*c}var I2e=(1+Math.sqrt(5))/2;function $2e(e,t,n,r,i,o){for(var s=[],a=t.children,l,c,u=0,d=0,f=a.length,p,g,m=t.value,v,b,S,C,_,E,T;u<f;){p=i-n,g=o-r;do v=a[d++].value;while(!v&&d<f);for(b=S=v,E=Math.max(g/p,p/g)/(m*e),T=v*v*E,_=Math.max(S/T,T/b);d<f;++d){if(v+=c=a[d].value,c<b&&(b=c),c>S&&(S=c),T=v*v*E,C=Math.max(S/T,T/b),C>_){v-=c;break}_=C}s.push(l={value:v,dice:p<g,children:a.slice(u,d)}),l.dice?q2(l,n,r,i,m?r+=g*v/m:o):N$(l,n,r,m?n+=p*v/m:i,o),m-=v,u=d}return s}const F2e=function e(t){function n(r,i,o,s,a){$2e(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(I2e);function OIt(){var e=F2e,t=!1,n=1,r=1,i=[0],o=Um,s=Um,a=Um,l=Um,c=Um;function u(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(P2e),f}function d(f){var p=i[f.depth],g=f.x0+p,m=f.y0+p,v=f.x1-p,b=f.y1-p;v<g&&(g=v=(g+v)/2),b<m&&(m=b=(m+b)/2),f.x0=g,f.y0=m,f.x1=v,f.y1=b,f.children&&(p=i[f.depth+1]=o(f)/2,g+=c(f)-p,m+=s(f)-p,v-=a(f)-p,b-=l(f)-p,v<g&&(g=v=(g+v)/2),b<m&&(m=b=(m+b)/2),e(f,g,m,v,b))}return u.round=function(f){return arguments.length?(t=!!f,u):t},u.size=function(f){return arguments.length?(n=+f[0],r=+f[1],u):[n,r]},u.tile=function(f){return arguments.length?(e=A2e(f),u):e},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:tb(+f),u):o},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:tb(+f),u):s},u.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:tb(+f),u):a},u.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:tb(+f),u):l},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:tb(+f),u):c},u}function DIt(e,t,n,r,i){var o=e.children,s,a=o.length,l,c=new Array(a+1);for(c[0]=l=s=0;s<a;++s)c[s+1]=l+=o[s].value;u(0,a,e.value,t,n,r,i);function u(d,f,p,g,m,v,b){if(d>=f-1){var S=o[d];S.x0=g,S.y0=m,S.x1=v,S.y1=b;return}for(var C=c[d],_=p/2+C,E=d+1,T=f-1;E<T;){var k=E+T>>>1;c[k]<_?E=k+1:T=k}_-c[E-1]<c[E]-_&&d+1<E&&--E;var A=c[E]-C,P=p-A;if(v-g>b-m){var D=p?(g*P+v*A)/p:v;u(d,E,A,g,m,D,b),u(E,f,P,D,m,v,b)}else{var F=p?(m*P+b*A)/p:b;u(d,E,A,g,m,v,F),u(E,f,P,g,F,v,b)}}}function PIt(e,t,n,r,i){(e.depth&1?N$:q2)(e,t,n,r,i)}const IIt=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,d,f=-1,p,g=l.length,m=r.value;++f<g;){for(c=l[f],u=c.children,d=c.value=0,p=u.length;d<p;++d)c.value+=u[d].value;c.dice?q2(c,i,o,s,m?o+=(a-o)*c.value/m:a):N$(c,i,o,m?i+=(s-i)*c.value/m:s,a),m-=c.value}else r._squarify=l=$2e(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(I2e);function y8(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function $q(e){Be.call(this,null,e)}$q.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const $It=e=>e.values;vt($q,Be,{transform(e,t){t.source||qe("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&t$(s.data)&&i.rem.push(s.data)}),this.value=o=Iq({values:Tt(e.keys).reduce((s,a)=>(s.key(a),s),FIt()).entries(i.source)},$It),n&&o.each(s=>{s.children&&(s=wr(s.data),i.add.push(s),i.source.push(s))}),y8(o,Zt,Zt)),i.source.root=o,i}});function FIt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},c={};let u=-1,d,f,p;for(;++u<s;)d=a(f=i[u])+"",(p=l[d])?p.push(f):l[d]=[f];for(d in l)c[d]=n(l[d],o);return c}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function vp(e){Be.call(this,null,e)}const NIt=(e,t)=>e.parent===t.parent?1:2;vt(vp,Be,{transform(e,t){(!t.source||!t.source.root)&&qe(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Ey(e.sort,s=>s.data)),LIt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?NIt:Ux);try{this.value=n(i)}catch(s){qe(s)}return i.each(s=>jIt(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function LIt(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function jIt(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const v8=["x","y","r","depth","children"];function Fq(e){vp.call(this,e)}Fq.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:v8.length,default:v8}]};vt(Fq,vp,{layout:bIt,params:["radius","size","padding"],fields:v8});const b8=["x0","y0","x1","y1","depth","children"];function Nq(e){vp.call(this,e)}Nq.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:b8.length,default:b8}]};vt(Nq,vp,{layout:xIt,params:["size","round","padding"],fields:b8});function Lq(e){Be.call(this,null,e)}Lq.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};vt(Lq,Be,{transform(e,t){t.source||qe("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?y8(ole().id(e.key).parentId(e.parentKey)(i.source),e.key,hc):y8(ole()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const ale={tidy:AIt,cluster:UPt},x8=["x","y","depth","children"];function jq(e){vp.call(this,e)}jq.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:x8.length,default:x8}]};vt(jq,vp,{layout(e){const t=e||"tidy";if(Pt(ale,t))return ale[t]();qe("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:x8});function zq(e){Be.call(this,[],e)}zq.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};vt(zq,Be,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||qe("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[Zt(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[Zt(a)]&&o[Zt(l)]&&i.add.push(wr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[Zt(s)]=1),n.forEach(s=>{(o[Zt(s.source)]||o[Zt(s.target)])&&i.mod.push(s)})),i}});const lle={binary:DIt,dice:q2,slice:N$,slicedice:PIt,squarify:F2e,resquarify:IIt},S8=["x0","y0","x1","y1","depth","children"];function Bq(e){vp.call(this,e)}Bq.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:S8.length,default:S8}]};vt(Bq,vp,{layout(){const e=OIt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Pt(lle,t)?e.tile(lle[t]):qe("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:S8});const zIt=Object.freeze(Object.defineProperty({__proto__:null,nest:$q,pack:Fq,partition:Nq,stratify:Lq,tree:jq,treelinks:zq,treemap:Bq},Symbol.toStringTag,{value:"Module"})),z4=4278190080;function BIt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function UIt(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=Gh(o,s).getContext("2d"),c=Gh(o,s).getContext("2d"),u=a&&Gh(o,s).getContext("2d");n.forEach(A=>cA(l,A,!1)),cA(c,t,!1),a&&cA(u,t,!0);const d=B4(l,o,s),f=B4(c,o,s),p=a&&B4(u,o,s),g=e.bitmap(),m=a&&e.bitmap();let v,b,S,C,_,E,T,k;for(b=0;b<s;++b)for(v=0;v<o;++v)_=b*o+v,E=d[_]&z4,k=f[_]&z4,T=a&&p[_]&z4,(E||T||k)&&(S=e(v),C=e(b),!i&&(E||k)&&g.set(S,C),a&&(E||T)&&m.set(S,C));return[g,m]}function B4(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function cA(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>cA(e,o.items,n))}):xl[r].draw(e,{items:n?t.map(HIt):t})}function HIt(e){const t=n$(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const gf=5,xs=31,hE=32,uh=new Uint32Array(hE+1),Yc=new Uint32Array(hE+1);Yc[0]=0;uh[0]=~Yc[0];for(let e=1;e<=hE;++e)Yc[e]=Yc[e-1]<<1|1,uh[e]=~Yc[e];function VIt(e,t){const n=new Uint32Array(~~((e*t+hE)/hE));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>gf]&1<<(a&xs)},set:(o,s)=>{const a=s*e+o;r(a>>>gf,1<<(a&xs))},clear:(o,s)=>{const a=s*e+o;i(a>>>gf,~(1<<(a&xs)))},getRange:(o,s,a,l)=>{let c=l,u,d,f,p;for(;c>=s;--c)if(u=c*e+o,d=c*e+a,f=u>>>gf,p=d>>>gf,f===p){if(n[f]&uh[u&xs]&Yc[(d&xs)+1])return!0}else{if(n[f]&uh[u&xs]||n[p]&Yc[(d&xs)+1])return!0;for(let g=f+1;g<p;++g)if(n[g])return!0}return!1},setRange:(o,s,a,l)=>{let c,u,d,f,p;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,d=c>>>gf,f=u>>>gf,d===f)r(d,uh[c&xs]&Yc[(u&xs)+1]);else for(r(d,uh[c&xs]),r(f,Yc[(u&xs)+1]),p=d+1;p<f;++p)r(p,4294967295)},clearRange:(o,s,a,l)=>{let c,u,d,f,p;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,d=c>>>gf,f=u>>>gf,d===f)i(d,Yc[c&xs]|uh[(u&xs)+1]);else for(i(d,Yc[c&xs]),i(f,uh[(u&xs)+1]),p=d+1;p<f;++p)i(p,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function WIt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>VIt(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function qIt(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,c=s.datum.fontSize,u=al.width(s.datum,s.datum.text);let d=0,f,p,g,m,v,b,S;for(let C=0;C<l;++C)f=a[C].x,g=a[C].y,p=a[C].x2===void 0?f:a[C].x2,m=a[C].y2===void 0?g:a[C].y2,v=(f+p)/2,b=(g+m)/2,S=Math.abs(p-f+m-g),S>=d&&(d=S,s.x=v,s.y=b);return v=u/2,b=c/2,f=s.x-v,p=s.x+v,g=s.y-b,m=s.y+b,s.align="center",f<0&&p<=i?s.align="left":0<=f&&i<p&&(s.align="right"),s.baseline="middle",g<0&&m<=o?s.baseline="top":0<=g&&o<m&&(s.baseline="bottom"),!0}}function OD(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function $h(e,t,n,r,i,o,s,a){const l=i*o/(r*2),c=e(t-l),u=e(t+l),d=e(n-(o=o/2)),f=e(n+o);return s.outOfBounds(c,d,u,f)||s.getRange(c,d,u,f)||a&&a.getRange(c,d,u,f)}function GIt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(c,u,d,f,p){const g=e.invert(c),m=e.invert(u);let v=d,b=o,S;if(!OD(g,m,f,p,i,o)&&!$h(e,g,m,p,f,v,s,a)&&!$h(e,g,m,p,f,p,s,null)){for(;b-v>=1;)S=(v+b)/2,$h(e,g,m,p,f,S,s,a)?b=S:v=S;if(v>d)return[g,m,v,!0]}}return function(c){const u=c.datum.datum.items[r].items,d=u.length,f=c.datum.fontSize,p=al.width(c.datum,c.datum.text);let g=n?f:0,m=!1,v=!1,b=0,S,C,_,E,T,k,A,P,D,F,I,j,M,$,L,V,q;for(let U=0;U<d;++U){for(S=u[U].x,_=u[U].y,C=u[U].x2===void 0?S:u[U].x2,E=u[U].y2===void 0?_:u[U].y2,S>C&&(q=S,S=C,C=q),_>E&&(q=_,_=E,E=q),D=e(S),I=e(C),F=~~((D+I)/2),j=e(_),$=e(E),M=~~((j+$)/2),A=F;A>=D;--A)for(P=M;P>=j;--P)V=l(A,P,g,p,f),V&&([c.x,c.y,g,m]=V);for(A=F;A<=I;++A)for(P=M;P<=$;++P)V=l(A,P,g,p,f),V&&([c.x,c.y,g,m]=V);!m&&!n&&(L=Math.abs(C-S+E-_),T=(S+C)/2,k=(_+E)/2,L>=b&&!OD(T,k,p,f,i,o)&&!$h(e,T,k,f,p,f,s,null)&&(b=L,c.x=T,c.y=k,v=!0))}return m||v?(T=p/2,k=f/2,s.setRange(e(c.x-T),e(c.y-k),e(c.x+T),e(c.y+k)),c.align="center",c.baseline="middle",!0):!1}}const YIt=[-1,-1,1,1],XIt=[-1,1,-1,1];function KIt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(c){const u=c.datum.datum.items[r].items,d=u.length,f=c.datum.fontSize,p=al.width(c.datum,c.datum.text),g=[];let m=n?f:0,v=!1,b=!1,S=0,C,_,E,T,k,A,P,D,F,I,j,M;for(let $=0;$<d;++$){for(C=u[$].x,E=u[$].y,_=u[$].x2===void 0?C:u[$].x2,T=u[$].y2===void 0?E:u[$].y2,g.push([e((C+_)/2),e((E+T)/2)]);g.length;)if([P,D]=g.pop(),!(s.get(P,D)||a.get(P,D)||l.get(P,D))){l.set(P,D);for(let L=0;L<4;++L)k=P+YIt[L],A=D+XIt[L],l.outOfBounds(k,A,k,A)||g.push([k,A]);if(k=e.invert(P),A=e.invert(D),F=m,I=o,!OD(k,A,p,f,i,o)&&!$h(e,k,A,f,p,F,s,a)&&!$h(e,k,A,f,p,f,s,null)){for(;I-F>=1;)j=(F+I)/2,$h(e,k,A,f,p,j,s,a)?I=j:F=j;F>m&&(c.x=k,c.y=A,m=F,v=!0)}}!v&&!n&&(M=Math.abs(_-C+T-E),k=(C+_)/2,A=(E+T)/2,M>=S&&!OD(k,A,p,f,i,o)&&!$h(e,k,A,f,p,f,s,null)&&(S=M,c.x=k,c.y=A,b=!0))}return v||b?(k=p/2,A=f/2,s.setRange(e(c.x-k),e(c.y-A),e(c.x+k),e(c.y+A)),c.align="center",c.baseline="middle",!0):!1}}const QIt=["right","center","left"],ZIt=["bottom","middle","top"];function JIt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(c){const u=c.boundary,d=c.datum.fontSize;if(u[2]<0||u[5]<0||u[0]>i||u[3]>o)return!1;let f=c.textWidth??0,p,g,m,v,b,S,C,_,E,T,k,A,P,D,F;for(let I=0;I<l;++I){if(p=(n[I]&3)-1,g=(n[I]>>>2&3)-1,m=p===0&&g===0||r[I]<0,v=p&&g?Math.SQRT1_2:1,b=r[I]<0?-1:1,S=u[1+p]+r[I]*p*v,k=u[4+g]+b*d*g/2+r[I]*g*v,_=k-d/2,E=k+d/2,A=e(S),D=e(_),F=e(E),!f)if(cle(A,A,D,F,s,a,S,S,_,E,u,m))f=al.width(c.datum,c.datum.text);else continue;if(T=S+b*f*p/2,S=T-f/2,C=T+f/2,A=e(S),P=e(C),cle(A,P,D,F,s,a,S,C,_,E,u,m))return c.x=p?p*b<0?C:S:T,c.y=g?g*b<0?E:_:k,c.align=QIt[p*b+1],c.baseline=ZIt[g*b+1],s.setRange(A,D,P,F),!0}return!1}}function cle(e,t,n,r,i,o,s,a,l,c,u,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const U4=0,H4=4,V4=8,W4=0,q4=1,G4=2,e$t={"top-left":U4+W4,top:U4+q4,"top-right":U4+G4,left:H4+W4,middle:H4+q4,right:H4+G4,"bottom-left":V4+W4,bottom:V4+q4,"bottom-right":V4+G4},t$t={naive:qIt,"reduced-search":GIt,floodfill:KIt};function n$t(e,t,n,r,i,o,s,a,l,c,u){if(!e.length)return e;const d=Math.max(r.length,i.length),f=r$t(r,d),p=i$t(i,d),g=o$t(e[0].datum),m=g==="group"&&e[0].datum.items[l].marktype,v=m==="area",b=s$t(g,m,a,l),S=c===null||c===1/0,C=v&&u==="naive";let _=-1,E=-1;const T=e.map(D=>{const F=S?al.width(D,D.text):void 0;return _=Math.max(_,F),E=Math.max(E,D.fontSize),{datum:D,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:b(D),textWidth:F}});c=c===null||c===1/0?Math.max(_,E)+Math.max(...r):c;const k=WIt(t[0],t[1],c);let A;if(!C){n&&T.sort((I,j)=>n(I.datum,j.datum));let D=!1;for(let I=0;I<p.length&&!D;++I)D=p[I]===5||f[I]<0;const F=(g&&s||v)&&e.map(I=>I.datum);A=o.length||F?UIt(k,F||[],o,D,v):BIt(k,s&&T)}const P=v?t$t[u](k,A,s,l):JIt(k,A,p,f);return T.forEach(D=>D.opacity=+P(D)),T}function r$t(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function i$t(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=e$t[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function o$t(e){return e&&e.mark&&e.mark.marktype}function s$t(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const w8=["x","y","opacity","align","baseline"],N2e=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Uq(e){Be.call(this,null,e)}Uq.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:N2e},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:w8.length,default:w8}]};vt(Uq,Be,{transform(e,t){function n(o){const s=e[o];return Rn(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&qe("Size parameter should be specified as a [width, height] array.");const i=e.as||w8;return n$t(t.materialize(t.SOURCE).source||[],e.size,e.sort,Tt(e.offset==null?1:e.offset),Tt(e.anchor||N2e),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const a$t=Object.freeze(Object.defineProperty({__proto__:null,label:Uq},Symbol.toStringTag,{value:"Module"}));function L2e(e,t){var n=[],r=function(u){return u(a)},i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function Hq(e){Be.call(this,null,e)}Hq.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};vt(Hq,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=L2e(r,e.groupby),o=(e.groupby||[]).map(Ai),s=o.length,a=e.as||[Ai(e.x),Ai(e.y)],l=[];i.forEach(c=>{wwe(c,e.x,e.y,e.bandwidth||.3).forEach(u=>{const d={};for(let f=0;f<s;++f)d[o[f]]=c.dims[f];d[a[0]]=u[0],d[a[1]]=u[1],l.push(wr(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const C8={constant:AV,linear:OV,log:vwe,exp:bwe,pow:xwe,quad:DV,poly:Swe},l$t=(e,t)=>e==="poly"?t:e==="quad"?2:1;function Vq(e){Be.call(this,null,e)}Vq.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(C8)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};vt(Vq,Be,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=L2e(r,e.groupby),o=(e.groupby||[]).map(Ai),s=e.method||"linear",a=e.order==null?3:e.order,l=l$t(s,a),c=e.as||[Ai(e.x),Ai(e.y)],u=C8[s],d=[];let f=e.extent;Pt(C8,s)||qe("Invalid regression method: "+s),f!=null&&s==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(p=>{if(p.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=u(p,e.x,e.y,a);if(e.params){d.push(wr({keys:p.dims,coef:m.coef,rSquared:m.rSquared}));return}const v=f||Ed(p,e.x),b=S=>{const C={};for(let _=0;_<o.length;++_)C[o[_]]=p.dims[_];C[c[0]]=S[0],C[c[1]]=S[1],d.push(wr(C))};s==="linear"||s==="constant"?v.forEach(S=>b([S,m.predict(S)])):c$(m.predict,v,25,200).forEach(b)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const c$t=Object.freeze(Object.defineProperty({__proto__:null,loess:Hq,regression:Vq},Symbol.toStringTag,{value:"Module"})),qf=11102230246251565e-32,Jo=134217729,u$t=(3+8*qf)*qf;function Y4(e,t,n,r,i){let o,s,a,l,c=t[0],u=r[0],d=0,f=0;u>c==u>-c?(o=c,c=t[++d]):(o=u,u=r[++f]);let p=0;if(d<e&&f<n)for(u>c==u>-c?(s=c+o,a=o-(s-c),c=t[++d]):(s=u+o,a=o-(s-u),u=r[++f]),o=s,a!==0&&(i[p++]=a);d<e&&f<n;)u>c==u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++d]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++f]),o=s,a!==0&&(i[p++]=a);for(;d<e;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++d],o=s,a!==0&&(i[p++]=a);for(;f<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++f],o=s,a!==0&&(i[p++]=a);return(o!==0||p===0)&&(i[p++]=o),p}function d$t(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function G2(e){return new Float64Array(e)}const f$t=(3+16*qf)*qf,p$t=(2+12*qf)*qf,h$t=(9+64*qf)*qf*qf,Hv=G2(4),ule=G2(8),dle=G2(12),fle=G2(16),Ss=G2(4);function g$t(e,t,n,r,i,o,s){let a,l,c,u,d,f,p,g,m,v,b,S,C,_,E,T,k,A;const P=e-i,D=n-i,F=t-o,I=r-o;_=P*I,f=Jo*P,p=f-(f-P),g=P-p,f=Jo*I,m=f-(f-I),v=I-m,E=g*v-(_-p*m-g*m-p*v),T=F*D,f=Jo*F,p=f-(f-F),g=F-p,f=Jo*D,m=f-(f-D),v=D-m,k=g*v-(T-p*m-g*m-p*v),b=E-k,d=E-b,Hv[0]=E-(b+d)+(d-k),S=_+b,d=S-_,C=_-(S-d)+(b-d),b=C-T,d=C-b,Hv[1]=C-(b+d)+(d-T),A=S+b,d=A-S,Hv[2]=S-(A-d)+(b-d),Hv[3]=A;let j=d$t(4,Hv),M=p$t*s;if(j>=M||-j>=M||(d=e-P,a=e-(P+d)+(d-i),d=n-D,c=n-(D+d)+(d-i),d=t-F,l=t-(F+d)+(d-o),d=r-I,u=r-(I+d)+(d-o),a===0&&l===0&&c===0&&u===0)||(M=h$t*s+u$t*Math.abs(j),j+=P*u+I*a-(F*c+D*l),j>=M||-j>=M))return j;_=a*I,f=Jo*a,p=f-(f-a),g=a-p,f=Jo*I,m=f-(f-I),v=I-m,E=g*v-(_-p*m-g*m-p*v),T=l*D,f=Jo*l,p=f-(f-l),g=l-p,f=Jo*D,m=f-(f-D),v=D-m,k=g*v-(T-p*m-g*m-p*v),b=E-k,d=E-b,Ss[0]=E-(b+d)+(d-k),S=_+b,d=S-_,C=_-(S-d)+(b-d),b=C-T,d=C-b,Ss[1]=C-(b+d)+(d-T),A=S+b,d=A-S,Ss[2]=S-(A-d)+(b-d),Ss[3]=A;const $=Y4(4,Hv,4,Ss,ule);_=P*u,f=Jo*P,p=f-(f-P),g=P-p,f=Jo*u,m=f-(f-u),v=u-m,E=g*v-(_-p*m-g*m-p*v),T=F*c,f=Jo*F,p=f-(f-F),g=F-p,f=Jo*c,m=f-(f-c),v=c-m,k=g*v-(T-p*m-g*m-p*v),b=E-k,d=E-b,Ss[0]=E-(b+d)+(d-k),S=_+b,d=S-_,C=_-(S-d)+(b-d),b=C-T,d=C-b,Ss[1]=C-(b+d)+(d-T),A=S+b,d=A-S,Ss[2]=S-(A-d)+(b-d),Ss[3]=A;const L=Y4($,ule,4,Ss,dle);_=a*u,f=Jo*a,p=f-(f-a),g=a-p,f=Jo*u,m=f-(f-u),v=u-m,E=g*v-(_-p*m-g*m-p*v),T=l*c,f=Jo*l,p=f-(f-l),g=l-p,f=Jo*c,m=f-(f-c),v=c-m,k=g*v-(T-p*m-g*m-p*v),b=E-k,d=E-b,Ss[0]=E-(b+d)+(d-k),S=_+b,d=S-_,C=_-(S-d)+(b-d),b=C-T,d=C-b,Ss[1]=C-(b+d)+(d-T),A=S+b,d=A-S,Ss[2]=S-(A-d)+(b-d),Ss[3]=A;const V=Y4(L,dle,4,Ss,fle);return fle[V-1]}function QT(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=f$t*c?l:-g$t(e,t,n,r,i,o,c)}const ple=Math.pow(2,-52),ZT=new Uint32Array(512);class DD{static from(t,n=x$t,r=S$t){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new DD(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let P=0;P<s;P++){const D=t[2*P],F=t[2*P+1];D<a&&(a=D),F<l&&(l=F),D>c&&(c=D),F>u&&(u=F),this._ids[P]=P}const d=(a+c)/2,f=(l+u)/2;let p,g,m;for(let P=0,D=1/0;P<s;P++){const F=X4(d,f,t[2*P],t[2*P+1]);F<D&&(p=P,D=F)}const v=t[2*p],b=t[2*p+1];for(let P=0,D=1/0;P<s;P++){if(P===p)continue;const F=X4(v,b,t[2*P],t[2*P+1]);F<D&&F>0&&(g=P,D=F)}let S=t[2*g],C=t[2*g+1],_=1/0;for(let P=0;P<s;P++){if(P===p||P===g)continue;const D=v$t(v,b,S,C,t[2*P],t[2*P+1]);D<_&&(m=P,_=D)}let E=t[2*m],T=t[2*m+1];if(_===1/0){for(let F=0;F<s;F++)this._dists[F]=t[2*F]-t[0]||t[2*F+1]-t[1];xb(this._ids,this._dists,0,s-1);const P=new Uint32Array(s);let D=0;for(let F=0,I=-1/0;F<s;F++){const j=this._ids[F],M=this._dists[j];M>I&&(P[D++]=j,I=M)}this.hull=P.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(QT(v,b,S,C,E,T)<0){const P=g,D=S,F=C;g=m,S=E,C=T,m=P,E=D,T=F}const k=b$t(v,b,S,C,E,T);this._cx=k.x,this._cy=k.y;for(let P=0;P<s;P++)this._dists[P]=X4(t[2*P],t[2*P+1],k.x,k.y);xb(this._ids,this._dists,0,s-1),this._hullStart=p;let A=3;r[p]=n[m]=g,r[g]=n[p]=m,r[m]=n[g]=p,i[p]=0,i[g]=1,i[m]=2,o.fill(-1),o[this._hashKey(v,b)]=p,o[this._hashKey(S,C)]=g,o[this._hashKey(E,T)]=m,this.trianglesLen=0,this._addTriangle(p,g,m,-1,-1,-1);for(let P=0,D,F;P<this._ids.length;P++){const I=this._ids[P],j=t[2*I],M=t[2*I+1];if(P>0&&Math.abs(j-D)<=ple&&Math.abs(M-F)<=ple||(D=j,F=M,I===p||I===g||I===m))continue;let $=0;for(let z=0,B=this._hashKey(j,M);z<this._hashSize&&($=o[(B+z)%this._hashSize],!($!==-1&&$!==r[$]));z++);$=n[$];let L=$,V;for(;V=r[L],QT(j,M,t[2*L],t[2*L+1],t[2*V],t[2*V+1])>=0;)if(L=V,L===$){L=-1;break}if(L===-1)continue;let q=this._addTriangle(L,I,r[L],-1,-1,i[L]);i[I]=this._legalize(q+2),i[L]=q,A++;let U=r[L];for(;V=r[U],QT(j,M,t[2*U],t[2*U+1],t[2*V],t[2*V+1])<0;)q=this._addTriangle(U,I,V,i[I],-1,i[U]),i[I]=this._legalize(q+2),r[U]=U,A--,U=V;if(L===$)for(;V=n[L],QT(j,M,t[2*V],t[2*V+1],t[2*L],t[2*L+1])<0;)q=this._addTriangle(V,I,L,-1,i[L],i[V]),this._legalize(q+2),i[V]=q,r[L]=L,A--,L=V;this._hullStart=n[I]=L,r[L]=n[U]=I,r[I]=U,o[this._hashKey(j,M)]=I,o[this._hashKey(t[2*L],t[2*L+1])]=L}this.hull=new Uint32Array(A);for(let P=0,D=this._hullStart;P<A;P++)this.hull[P]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(m$t(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=ZT[--o];continue}const c=a-a%3,u=l+(t+1)%3,d=c+(a+2)%3,f=n[s],p=n[t],g=n[u],m=n[d];if(y$t(i[2*f],i[2*f+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=f;const b=r[d];if(b===-1){let C=this._hullStart;do{if(this._hullTri[C]===d){this._hullTri[C]=t;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(t,b),this._link(a,r[s]),this._link(s,d);const S=c+(a+1)%3;o<ZT.length&&(ZT[o++]=S)}else{if(o===0)break;t=ZT[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function m$t(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function X4(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function y$t(e,t,n,r,i,o,s,a){const l=e-s,c=t-a,u=n-s,d=r-a,f=i-s,p=o-a,g=l*l+c*c,m=u*u+d*d,v=f*f+p*p;return l*(d*v-m*p)-c*(u*v-m*f)+g*(u*p-d*f)<0}function v$t(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),p=(c*u-a*d)*f,g=(s*d-l*u)*f;return p*p+g*g}function b$t(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),p=e+(c*u-a*d)*f,g=t+(s*d-l*u)*f;return{x:p,y:g}}function xb(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;Bw(e,i,o),t[e[n]]>t[e[r]]&&Bw(e,n,r),t[e[o]]>t[e[r]]&&Bw(e,o,r),t[e[n]]>t[e[o]]&&Bw(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Bw(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(xb(e,t,o,r),xb(e,t,n,s-1)):(xb(e,t,n,s-1),xb(e,t,o,r))}}function Bw(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function x$t(e){return e[0]}function S$t(e){return e[1]}const hle=1e-6;class Jm{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>hle||Math.abs(this._y1-o)>hle)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class _8{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let w$t=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,v=0,b=r.length,S,C;m<b;m+=3,v+=2){const _=r[m]*2,E=r[m+1]*2,T=r[m+2]*2,k=t[_],A=t[_+1],P=t[E],D=t[E+1],F=t[T],I=t[T+1],j=P-k,M=D-A,$=F-k,L=I-A,V=(j*L-M*$)*2;if(Math.abs(V)<1e-9){if(o===void 0){o=s=0;for(const U of n)o+=t[U*2],s+=t[U*2+1];o/=n.length,s/=n.length}const q=1e9*Math.sign((o-k)*L-(s-A)*$);S=(k+F)/2-q*L,C=(A+I)/2+q*$}else{const q=1/V,U=j*j+M*M,z=$*$+L*L;S=k+(L*U-M*z)*q,C=A+(j*z-$*U)*q}a[v]=S,a[v+1]=C}let l=n[n.length-1],c,u=l*4,d,f=t[2*l],p,g=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],c=u,d=f,p=g,u=l*4,f=t[2*l],g=t[2*l+1],i[c+2]=i[u]=p-g,i[c+3]=i[u+1]=f-d}render(t){const n=t==null?t=new Jm:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let u=0,d=r.length;u<d;++u){const f=r[u];if(f<u)continue;const p=Math.floor(u/3)*2,g=Math.floor(f/3)*2,m=s[p],v=s[p+1],b=s[g],S=s[g+1];this._renderSegment(m,v,b,S,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const d=Math.floor(i[c]/3)*2,f=s[d],p=s[d+1],g=l*4,m=this._project(f,p,a[g+2],a[g+3]);m&&this._renderSegment(f,p,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Jm:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Jm:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new _8;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const c=Math.floor(l/3);if(a.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],c,u=this._regioncode(a,l),d,f=0;for(let p=0;p<r;p+=2)if(o=a,s=l,a=n[p],l=n[p+1],c=u,u=this._regioncode(a,l),c===0&&u===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let g,m,v,b,S;if(c===0){if((g=this._clipSegment(o,s,a,l,c,u))===null)continue;[m,v,b,S]=g}else{if((g=this._clipSegment(a,l,o,s,u,c))===null)continue;[b,S,m,v]=g,d=f,f=this._edgecode(m,v),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,v):i=[m,v]}d=f,f=this._edgecode(b,S),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(b,S):i=[b,S]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,c,u=o||s;u&8?(l=t+(r-t)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=t+(r-t)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(c=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=c,o=this._regioncode(t,n)):(r=l,i=c,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let c=0,u=a.length,d,f=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)d=f,f=this._edgecode(a[c],a[c+1]),d&&f&&(c=this._edge(t,d,f,a,c),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const C$t=2*Math.PI,Vv=Math.pow;function _$t(e){return e[0]}function E$t(e){return e[1]}function k$t(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function R$t(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Wq{static from(t,n=_$t,r=E$t,i){return new Wq("length"in t?T$t(t,n,r,i):Float64Array.from(M$t(t,n,r,i)))}constructor(t){this._delaunator=new DD(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&k$t(t)){this.collinear=Int32Array.from({length:n.length/2},(f,p)=>p).sort((f,p)=>n[2*f]-n[2*p]||n[2*f+1]-n[2*p+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let f=0,p=n.length/2;f<p;++f){const g=R$t(n[2*f],n[2*f+1],d);n[2*f]=g[0],n[2*f+1]=g[1]}this._delaunator=new DD(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||s[u]===-1)&&(s[u]=l)}for(let l=0,c=i.length;l<c;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new w$t(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){const d=r[(i[t]+1)%r.length];d!==u&&(yield d);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,d=Vv(n-c[t*2],2)+Vv(r-c[t*2+1],2);const f=i[t];let p=f;do{let g=l[p];const m=Vv(n-c[g*2],2)+Vv(r-c[g*2+1],2);if(m<d&&(d=m,u=g),p=p%3===2?p-2:p+1,l[p]!==t)break;if(p=a[p],p===-1){if(p=o[(s[t]+1)%o.length],p!==g&&Vv(n-c[p*2],2)+Vv(r-c[p*2+1],2)<d)return p;break}}while(p!==f);return u}render(t){const n=t==null?t=new Jm:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const c=o[s]*2,u=o[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Jm:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,C$t)}return r&&r.value()}renderHull(t){const n=t==null?t=new Jm:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new _8;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Jm:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new _8;return this.renderTriangle(t,n),n.value()}}function T$t(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*M$t(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function qq(e){Be.call(this,null,e)}qq.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const A$t=[-1e5,-1e5,1e5,1e5];vt(qq,Be,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:A$t;const o=this.value=Wq.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!D$t(l)?O$t(l):null}return t.reflow(e.modified()).modifies(n)}});function O$t(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function D$t(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const P$t=Object.freeze(Object.defineProperty({__proto__:null,voronoi:qq},Symbol.toStringTag,{value:"Module"}));var K4=Math.PI/180,TC=64,uA=2048;function I$t(){var e=[256,256],t,n,r,i,o,s,a,l=j2e,c=[],u=Math.random,d={};d.layout=function(){for(var g=f(Gh()),m=z$t((e[0]>>5)*e[1]),v=null,b=c.length,S=-1,C=[],_=c.map(T=>({text:t(T),font:n(T),style:i(T),weight:o(T),rotate:s(T),size:~~(r(T)+1e-14),padding:a(T),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:T})).sort((T,k)=>k.size-T.size);++S<b;){var E=_[S];E.x=e[0]*(u()+.5)>>1,E.y=e[1]*(u()+.5)>>1,$$t(g,E,_,S),E.hasText&&p(m,E,v)&&(C.push(E),v?N$t(v,E):v=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=e[0]>>1,E.y-=e[1]>>1)}return C};function f(g){g.width=g.height=1;var m=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(TC<<5)/m,g.height=uA/m;var v=g.getContext("2d");return v.fillStyle=v.strokeStyle="red",v.textAlign="center",{context:v,ratio:m}}function p(g,m,v){for(var b=m.x,S=m.y,C=Math.hypot(e[0],e[1]),_=l(e),E=u()<.5?1:-1,T=-E,k,A,P;(k=_(T+=E))&&(A=~~k[0],P=~~k[1],!(Math.min(Math.abs(A),Math.abs(P))>=C));)if(m.x=b+A,m.y=S+P,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!v||!F$t(m,g,e[0]))&&(!v||L$t(m,v))){for(var D=m.sprite,F=m.width>>5,I=e[0]>>5,j=m.x-(F<<4),M=j&127,$=32-M,L=m.y1-m.y0,V=(m.y+m.y0)*I+(j>>5),q,U=0;U<L;U++){q=0;for(var z=0;z<=F;z++)g[V+z]|=q<<$|(z<F?(q=D[U*F+z])>>>M:0);V+=I}return m.sprite=null,!0}return!1}return d.words=function(g){return arguments.length?(c=g,d):c},d.size=function(g){return arguments.length?(e=[+g[0],+g[1]],d):e},d.font=function(g){return arguments.length?(n=vm(g),d):n},d.fontStyle=function(g){return arguments.length?(i=vm(g),d):i},d.fontWeight=function(g){return arguments.length?(o=vm(g),d):o},d.rotate=function(g){return arguments.length?(s=vm(g),d):s},d.text=function(g){return arguments.length?(t=vm(g),d):t},d.spiral=function(g){return arguments.length?(l=B$t[g]||g,d):l},d.fontSize=function(g){return arguments.length?(r=vm(g),d):r},d.padding=function(g){return arguments.length?(a=vm(g),d):a},d.random=function(g){return arguments.length?(u=g,d):u},d}function $$t(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(TC<<5)/o,uA/o);var s=0,a=0,l=0,c=n.length,u,d,f,p,g;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,u=i.measureText(t.text+"m").width*o,f=t.size<<1,t.rotate){var m=Math.sin(t.rotate*K4),v=Math.cos(t.rotate*K4),b=u*v,S=u*m,C=f*v,_=f*m;u=Math.max(Math.abs(b+_),Math.abs(b-_))+31>>5<<5,f=~~Math.max(Math.abs(S+C),Math.abs(S-C))}else u=u+31>>5<<5;if(f>l&&(l=f),s+u>=TC<<5&&(s=0,a+=l,l=0),a+f>=uA)break;i.translate((s+(u>>1))/o,(a+(f>>1))/o),t.rotate&&i.rotate(t.rotate*K4),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=f,t.xoff=s,t.yoff=a,t.x1=u>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=u}for(var E=i.getImageData(0,0,(TC<<5)/o,uA/o).data,T=[];--r>=0;)if(t=n[r],!!t.hasText){for(u=t.width,d=u>>5,f=t.y1-t.y0,p=0;p<f*d;p++)T[p]=0;if(s=t.xoff,s==null)return;a=t.yoff;var k=0,A=-1;for(g=0;g<f;g++){for(p=0;p<u;p++){var P=d*g+(p>>5),D=E[(a+g)*(TC<<5)+(s+p)<<2]?1<<31-p%32:0;T[P]|=D,k|=D}k?A=g:(t.y0++,f--,g--,a++)}t.y1=t.y0+A,t.sprite=T.slice(0,(t.y1-t.y0)*d)}}}function F$t(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),u,d=0;d<l;d++){u=0;for(var f=0;f<=i;f++)if((u<<a|(f<i?(u=r[d*i+f])>>>s:0))&t[c+f])return!0;c+=n}return!1}function N$t(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function L$t(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function j2e(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function j$t(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function z$t(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function vm(e){return typeof e=="function"?e:function(){return e}}var B$t={archimedean:j2e,rectangular:j$t};const z2e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],U$t=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Gq(e){Be.call(this,I$t(),e)}Gq.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:z2e}]};vt(Gq,Be,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&qe("Wordcloud size dimensions must be non-zero.");function n(g){const m=e[g];return Rn(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||U$t.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||z2e;let a=e.fontSize||14,l;if(Rn(a)?l=e.fontSizeRange:a=ys(a),l){const g=a,m=yr("sqrt")().domain(Ed(i,g)).range(l);a=v=>m(g(v))}i.forEach(g=>{g[s[0]]=NaN,g[s[1]]=NaN,g[s[3]]=0});const c=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(mc).layout(),u=o.size(),d=u[0]>>1,f=u[1]>>1,p=c.length;for(let g=0,m,v;g<p;++g)m=c[g],v=m.datum,v[s[0]]=m.x+d,v[s[1]]=m.y+f,v[s[2]]=m.font,v[s[3]]=m.size,v[s[4]]=m.style,v[s[5]]=m.weight,v[s[6]]=m.rotate;return t.reflow(r).modifies(s)}});const H$t=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:Gq},Symbol.toStringTag,{value:"Module"})),V$t=e=>new Uint8Array(e),W$t=e=>new Uint16Array(e),u_=e=>new Uint32Array(e);function q$t(){let e=8,t=[],n=u_(0),r=JT(0,e),i=JT(0,e);return{data:()=>t,seen:()=>n=G$t(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,c;s<l;++s)c=o[s],c._index=a++,t.push(c)},remove(o,s){const a=t.length,l=Array(a-o),c=t;let u,d,f;for(d=0;!s[d]&&d<a;++d)l[d]=t[d],c[d]=d;for(f=d;d<a;++d)u=t[d],s[d]?c[d]=-1:(c[d]=f,r[f]=r[d],i[f]=i[d],l[f]=u,u._index=f++),r[d]=0;return t=l,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=JT(o,e,r),i=JT(o,e))}}}function G$t(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function JT(e,t,n){const r=(t<257?V$t:t<65537?W$t:u_)(e);return n&&r.set(n),r}function gle(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,c=a[0],u=a[1],d=l.length;let f;for(f=0;f<c;++f)o[l[f]]|=r;for(f=u;f<d;++f)o[l[f]]|=r;return s}}}function mle(){let e=u_(0),t=[],n=0;function r(a,l,c){if(!l.length)return[];const u=n,d=l.length,f=u_(d);let p=Array(d),g,m,v;for(v=0;v<d;++v)p[v]=a(l[v]),f[v]=v;if(p=Y$t(p,f),u)g=t,m=e,t=Array(u+d),e=u_(u+d),X$t(c,g,m,u,p,f,d,t,e);else{if(c>0)for(v=0;v<d;++v)f[v]+=c;t=p,e=f}return n=u+d,{index:f,value:p}}function i(a,l){const c=n;let u,d,f;for(d=0;!l[e[d]]&&d<c;++d);for(f=d;d<c;++d)l[u=e[d]]||(e[f]=u,t[f]=t[d],++f);n=c-a}function o(a){for(let l=0,c=n;l<c;++l)e[l]=a[e[l]]}function s(a,l){let c;return l?c=l.length:(l=t,c=n),[Vwt(l,a[0],0,c),fg(l,a[1],0,c)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function Y$t(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),Gwt(e,t)}function X$t(e,t,n,r,i,o,s,a,l){let c=0,u=0,d;for(d=0;c<r&&u<s;++d)t[c]<i[u]?(a[d]=t[c],l[d]=n[c++]):(a[d]=i[u],l[d]=o[u++]+e);for(;c<r;++c,++d)a[d]=t[c],l[d]=n[c];for(;u<s;++u,++d)a[d]=i[u],l[d]=o[u]+e}function Yq(e){Be.call(this,q$t(),e),this._indices=null,this._dims=null}Yq.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};vt(Yq,Be,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,c;for(;a<s;++a)l=n[a].fname,c=i[l]||(i[l]=mle()),o.push(gle(c,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),c=a.prev(),u=a.all(),d=n.rem=n.add,f=n.mod,p=i.length,g={};let m,v,b,S,C,_,E,T,k;if(c.set(l),t.rem.length&&(C=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(_={},S=t.mod,E=0,T=S.length;E<T;++E)_[S[E]._index]=1;for(E=0;E<p;++E)k=r[E],(!s[E]||e.modified("fields",E)||t.modified(k.fields))&&(b=k.fname,(m=g[b])||(o[b]=v=mle(),g[b]=m=v.insert(k,t.source,0)),s[E]=gle(v,E,i[E]).onAdd(m,l));for(E=0,T=a.data().length;E<T;++E)C[E]||(c[E]!==l[E]?d.push(E):_[E]&&l[E]!==u&&f.push(E));return a.mask=(1<<p)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},c=n.add,u=i.size()+r.length,d=o.length;let f=i.size(),p,g,m;i.resize(u,d),i.add(r);const v=i.curr(),b=i.prev(),S=i.all();for(p=0;p<d;++p)g=a[p].fname,m=l[g]||(l[g]=s[g].insert(a[p],r,f)),o[p].onAdd(m,v);for(;f<u;++f)b[f]=S,v[f]!==S&&c.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,c;for(a=0,l=s.length;a<l;++a)c=s[a]._index,i[c]!==o&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},c=n.rem,u=t.rem;let d,f,p,g;for(d=0,f=u.length;d<f;++d)p=u[d]._index,l[p]=1,s[p]=g=o[p],o[p]=a,g!==a&&c.push(p);for(p in r)r[p].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,c;for(n.filters=0,c=0;c<s;++c)e.modified("query",c)&&(l=c,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(c=0,a=0;c<s;++c)e.modified("query",c)&&(a|=r[c].one,this.incrementAll(r[c],i[c],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),c=e.bisect(e.range),u=e.bisect(t),d=u[0],f=u[1],p=c[0],g=c[1],m=e.one;let v,b,S;if(d<p)for(v=d,b=Math.min(p,f);v<b;++v)S=l[v],o[S]!==n&&(a[S]=s[S],o[S]=n,r.push(S)),s[S]^=m;else if(d>p)for(v=p,b=Math.min(d,g);v<b;++v)S=l[v],o[S]!==n&&(a[S]=s[S],o[S]=n,r.push(S)),s[S]^=m;if(f>g)for(v=Math.max(d,g),b=f;v<b;++v)S=l[v],o[S]!==n&&(a[S]=s[S],o[S]=n,r.push(S)),s[S]^=m;else if(f<g)for(v=Math.max(p,f),b=g;v<b;++v)S=l[v],o[S]!==n&&(a[S]=s[S],o[S]=n,r.push(S)),s[S]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),c=l[0],u=l[1],d=a[0],f=a[1],p=e.one;let g,m,v;if(c<d)for(g=c,m=Math.min(d,u);g<m;++g)v=s[g],o[v]^=p,n.push(v);else if(c>d)for(g=d,m=Math.min(c,f);g<m;++g)v=s[g],o[v]^=p,r.push(v);if(u>f)for(g=Math.max(c,f),m=u;g<m;++g)v=s[g],o[v]^=p,n.push(v);else if(u<f)for(g=Math.max(d,u),m=f;g<m;++g)v=s[g],o[v]^=p,r.push(v);e.range=t.slice()}});function Xq(e){Be.call(this,null,e)}Xq.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};vt(Xq,Be,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),c=u=>a[u]&n?null:s[u];return o.filter(o.MOD,c),i&i-1?(o.filter(o.ADD,u=>{const d=a[u]&n;return!d&&d^l[u]&n?s[u]:null}),o.filter(o.REM,u=>{const d=a[u]&n;return d&&!(d^(d^l[u]&n))?s[u]:null})):(o.filter(o.ADD,c),o.filter(o.REM,u=>(a[u]&n)===i?s[u]:null)),o.filter(o.SOURCE,u=>c(u._index))}});const K$t=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:Yq,resolvefilter:Xq},Symbol.toStringTag,{value:"Module"})),Q$t="RawCode",Q0="Literal",Z$t="Property",J$t="Identifier",e5t="ArrayExpression",t5t="BinaryExpression",B2e="CallExpression",n5t="ConditionalExpression",r5t="LogicalExpression",i5t="MemberExpression",o5t="ObjectExpression",s5t="UnaryExpression";function Cu(e){this.type=e}Cu.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=a5t(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function a5t(e){switch(e.type){case e5t:return e.elements;case t5t:case r5t:return[e.left,e.right];case B2e:return[e.callee].concat(e.arguments);case n5t:return[e.test,e.consequent,e.alternate];case i5t:return[e.object,e.property];case o5t:return e.properties;case Z$t:return[e.key,e.value];case s5t:return[e.argument];case J$t:case Q0:case Q$t:default:return[]}}var Bd,zt,We,ps,Pr,L$=1,Y2=2,Z0=3,zg=4,j$=5,My=6,ua=7,X2=8,l5t=9;Bd={};Bd[L$]="Boolean";Bd[Y2]="<end>";Bd[Z0]="Identifier";Bd[zg]="Keyword";Bd[j$]="Null";Bd[My]="Numeric";Bd[ua]="Punctuator";Bd[X2]="String";Bd[l5t]="RegularExpression";var c5t="ArrayExpression",u5t="BinaryExpression",d5t="CallExpression",f5t="ConditionalExpression",U2e="Identifier",p5t="Literal",h5t="LogicalExpression",g5t="MemberExpression",m5t="ObjectExpression",y5t="Property",v5t="UnaryExpression",vo="Unexpected token %0",b5t="Unexpected number",x5t="Unexpected string",S5t="Unexpected identifier",w5t="Unexpected reserved word",C5t="Unexpected end of input",E8="Invalid regular expression",Q4="Invalid regular expression: missing /",H2e="Octal literals are not allowed in strict mode.",_5t="Duplicate data property in object literal not allowed in strict mode",Bo="ILLEGAL",gE="Disabled.",E5t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),k5t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function z$(e,t){if(!e)throw new Error("ASSERT: "+t)}function _f(e){return e>=48&&e<=57}function Kq(e){return"0123456789abcdefABCDEF".includes(e)}function d_(e){return"01234567".includes(e)}function R5t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function mE(e){return e===10||e===13||e===8232||e===8233}function K2(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&E5t.test(String.fromCharCode(e))}function PD(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&k5t.test(String.fromCharCode(e))}const T5t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function V2e(){for(;We<ps;){const e=zt.charCodeAt(We);if(R5t(e)||mE(e))++We;else break}}function k8(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)We<ps&&Kq(zt[We])?(r=zt[We++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):pr({},vo,Bo);return String.fromCharCode(i)}function M5t(){var e,t,n,r;for(e=zt[We],t=0,e==="}"&&pr({},vo,Bo);We<ps&&(e=zt[We++],!!Kq(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&pr({},vo,Bo),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function W2e(){var e,t;for(e=zt.charCodeAt(We++),t=String.fromCharCode(e),e===92&&(zt.charCodeAt(We)!==117&&pr({},vo,Bo),++We,e=k8("u"),(!e||e==="\\"||!K2(e.charCodeAt(0)))&&pr({},vo,Bo),t=e);We<ps&&(e=zt.charCodeAt(We),!!PD(e));)++We,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),zt.charCodeAt(We)!==117&&pr({},vo,Bo),++We,e=k8("u"),(!e||e==="\\"||!PD(e.charCodeAt(0)))&&pr({},vo,Bo),t+=e);return t}function A5t(){var e,t;for(e=We++;We<ps;){if(t=zt.charCodeAt(We),t===92)return We=e,W2e();if(PD(t))++We;else break}return zt.slice(e,We)}function O5t(){var e,t,n;return e=We,t=zt.charCodeAt(We)===92?W2e():A5t(),t.length===1?n=Z0:T5t.hasOwnProperty(t)?n=zg:t==="null"?n=j$:t==="true"||t==="false"?n=L$:n=Z0,{type:n,value:t,start:e,end:We}}function Z4(){var e=We,t=zt.charCodeAt(We),n,r=zt[We],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++We,{type:ua,value:String.fromCharCode(t),start:e,end:We};default:if(n=zt.charCodeAt(We+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return We+=2,{type:ua,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:We};case 33:case 61:return We+=2,zt.charCodeAt(We)===61&&++We,{type:ua,value:zt.slice(e,We),start:e,end:We}}}if(s=zt.substr(We,4),s===">>>=")return We+=4,{type:ua,value:s,start:e,end:We};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return We+=3,{type:ua,value:o,start:e,end:We};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return We+=2,{type:ua,value:i,start:e,end:We};if(i==="//"&&pr({},vo,Bo),"<>=!+-*%&|^/".includes(r))return++We,{type:ua,value:r,start:e,end:We};pr({},vo,Bo)}function D5t(e){let t="";for(;We<ps&&Kq(zt[We]);)t+=zt[We++];return t.length===0&&pr({},vo,Bo),K2(zt.charCodeAt(We))&&pr({},vo,Bo),{type:My,value:parseInt("0x"+t,16),start:e,end:We}}function P5t(e){let t="0"+zt[We++];for(;We<ps&&d_(zt[We]);)t+=zt[We++];return(K2(zt.charCodeAt(We))||_f(zt.charCodeAt(We)))&&pr({},vo,Bo),{type:My,value:parseInt(t,8),octal:!0,start:e,end:We}}function yle(){var e,t,n;if(n=zt[We],z$(_f(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=We,e="",n!=="."){if(e=zt[We++],n=zt[We],e==="0"){if(n==="x"||n==="X")return++We,D5t(t);if(d_(n))return P5t(t);n&&_f(n.charCodeAt(0))&&pr({},vo,Bo)}for(;_f(zt.charCodeAt(We));)e+=zt[We++];n=zt[We]}if(n==="."){for(e+=zt[We++];_f(zt.charCodeAt(We));)e+=zt[We++];n=zt[We]}if(n==="e"||n==="E")if(e+=zt[We++],n=zt[We],(n==="+"||n==="-")&&(e+=zt[We++]),_f(zt.charCodeAt(We)))for(;_f(zt.charCodeAt(We));)e+=zt[We++];else pr({},vo,Bo);return K2(zt.charCodeAt(We))&&pr({},vo,Bo),{type:My,value:parseFloat(e),start:t,end:We}}function I5t(){var e="",t,n,r,i,o=!1;for(t=zt[We],z$(t==="'"||t==='"',"String literal must starts with a quote"),n=We,++We;We<ps;)if(r=zt[We++],r===t){t="";break}else if(r==="\\")if(r=zt[We++],!r||!mE(r.charCodeAt(0)))switch(r){case"u":case"x":zt[We]==="{"?(++We,e+=M5t()):e+=k8(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:d_(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),We<ps&&d_(zt[We])&&(o=!0,i=i*8+"01234567".indexOf(zt[We++]),"0123".includes(r)&&We<ps&&d_(zt[We])&&(i=i*8+"01234567".indexOf(zt[We++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&zt[We]===`
`&&++We;else{if(mE(r.charCodeAt(0)))break;e+=r}return t!==""&&pr({},vo,Bo),{type:X2,value:e,octal:o,start:n,end:We}}function $5t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";pr({},E8)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{pr({},E8)}try{return new RegExp(e,t)}catch{return null}}function F5t(){var e,t,n,r,i;for(e=zt[We],z$(e==="/","Regular expression literal must start with a slash"),t=zt[We++],n=!1,r=!1;We<ps;)if(e=zt[We++],t+=e,e==="\\")e=zt[We++],mE(e.charCodeAt(0))&&pr({},Q4),t+=e;else if(mE(e.charCodeAt(0)))pr({},Q4);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||pr({},Q4),i=t.substr(1,t.length-2),{value:i,literal:t}}function N5t(){var e,t,n;for(t="",n="";We<ps&&(e=zt[We],!!PD(e.charCodeAt(0)));)++We,e==="\\"&&We<ps?pr({},vo,Bo):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&pr({},E8,n),{value:n,literal:t}}function L5t(){var e,t,n,r;return Pr=null,V2e(),e=We,t=F5t(),n=N5t(),r=$5t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:We}}function j5t(e){return e.type===Z0||e.type===zg||e.type===L$||e.type===j$}function q2e(){if(V2e(),We>=ps)return{type:Y2,start:We,end:We};const e=zt.charCodeAt(We);return K2(e)?O5t():e===40||e===41||e===59?Z4():e===39||e===34?I5t():e===46?_f(zt.charCodeAt(We+1))?yle():Z4():_f(e)?yle():Z4()}function pa(){const e=Pr;return We=e.end,Pr=q2e(),We=e.end,e}function G2e(){const e=We;Pr=q2e(),We=e}function z5t(e){const t=new Cu(c5t);return t.elements=e,t}function vle(e,t,n){const r=new Cu(e==="||"||e==="&&"?h5t:u5t);return r.operator=e,r.left=t,r.right=n,r}function B5t(e,t){const n=new Cu(d5t);return n.callee=e,n.arguments=t,n}function U5t(e,t,n){const r=new Cu(f5t);return r.test=e,r.consequent=t,r.alternate=n,r}function Qq(e){const t=new Cu(U2e);return t.name=e,t}function MC(e){const t=new Cu(p5t);return t.value=e.value,t.raw=zt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ble(e,t,n){const r=new Cu(g5t);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function H5t(e){const t=new Cu(m5t);return t.properties=e,t}function xle(e,t,n){const r=new Cu(y5t);return r.key=t,r.value=n,r.kind=e,r}function V5t(e,t){const n=new Cu(v5t);return n.operator=e,n.argument=t,n.prefix=!0,n}function pr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(z$(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=We,n.description=i,n}function B$(e){e.type===Y2&&pr(e,C5t),e.type===My&&pr(e,b5t),e.type===X2&&pr(e,x5t),e.type===Z0&&pr(e,S5t),e.type===zg&&pr(e,w5t),pr(e,vo,e.value)}function hs(e){const t=pa();(t.type!==ua||t.value!==e)&&B$(t)}function Jr(e){return Pr.type===ua&&Pr.value===e}function J4(e){return Pr.type===zg&&Pr.value===e}function W5t(){const e=[];for(We=Pr.start,hs("[");!Jr("]");)Jr(",")?(pa(),e.push(null)):(e.push(J0()),Jr("]")||hs(","));return pa(),z5t(e)}function Sle(){We=Pr.start;const e=pa();return e.type===X2||e.type===My?(e.octal&&pr(e,H2e),MC(e)):Qq(e.value)}function q5t(){var e,t,n,r;if(We=Pr.start,e=Pr,e.type===Z0)return n=Sle(),hs(":"),r=J0(),xle("init",n,r);if(e.type===Y2||e.type===ua)B$(e);else return t=Sle(),hs(":"),r=J0(),xle("init",t,r)}function G5t(){var e=[],t,n,r,i={},o=String;for(We=Pr.start,hs("{");!Jr("}");)t=q5t(),t.key.type===U2e?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?pr({},_5t):i[r]=!0,e.push(t),Jr("}")||hs(",");return hs("}"),H5t(e)}function Y5t(){hs("(");const e=Zq();return hs(")"),e}const X5t={if:1};function K5t(){var e,t,n;if(Jr("("))return Y5t();if(Jr("["))return W5t();if(Jr("{"))return G5t();if(e=Pr.type,We=Pr.start,e===Z0||X5t[Pr.value])n=Qq(pa().value);else if(e===X2||e===My)Pr.octal&&pr(Pr,H2e),n=MC(pa());else{if(e===zg)throw new Error(gE);e===L$?(t=pa(),t.value=t.value==="true",n=MC(t)):e===j$?(t=pa(),t.value=null,n=MC(t)):Jr("/")||Jr("/=")?(n=MC(L5t()),G2e()):B$(pa())}return n}function Q5t(){const e=[];if(hs("("),!Jr(")"))for(;We<ps&&(e.push(J0()),!Jr(")"));)hs(",");return hs(")"),e}function Z5t(){We=Pr.start;const e=pa();return j5t(e)||B$(e),Qq(e.value)}function J5t(){return hs("."),Z5t()}function e3t(){hs("[");const e=Zq();return hs("]"),e}function t3t(){var e,t,n;for(e=K5t();;)if(Jr("."))n=J5t(),e=ble(".",e,n);else if(Jr("("))t=Q5t(),e=B5t(e,t);else if(Jr("["))n=e3t(),e=ble("[",e,n);else break;return e}function wle(){const e=t3t();if(Pr.type===ua&&(Jr("++")||Jr("--")))throw new Error(gE);return e}function dA(){var e,t;if(Pr.type!==ua&&Pr.type!==zg)t=wle();else{if(Jr("++")||Jr("--"))throw new Error(gE);if(Jr("+")||Jr("-")||Jr("~")||Jr("!"))e=pa(),t=dA(),t=V5t(e.value,t);else{if(J4("delete")||J4("void")||J4("typeof"))throw new Error(gE);t=wle()}}return t}function Cle(e){let t=0;if(e.type!==ua&&e.type!==zg)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function n3t(){var e,t,n,r,i,o,s,a,l,c;if(e=Pr,l=dA(),r=Pr,i=Cle(r),i===0)return l;for(r.prec=i,pa(),t=[e,Pr],s=dA(),o=[l,r,s];(i=Cle(Pr))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=vle(a,l,s),o.push(n);r=pa(),r.prec=i,o.push(r),t.push(Pr),n=dA(),o.push(n)}for(c=o.length-1,n=o[c],t.pop();c>1;)t.pop(),n=vle(o[c-1].value,o[c-2],n),c-=2;return n}function J0(){var e,t,n;return e=n3t(),Jr("?")&&(pa(),t=J0(),hs(":"),n=J0(),e=U5t(e,t,n)),e}function Zq(){const e=J0();if(Jr(","))throw new Error(gE);return e}function Jq(e){zt=e,We=0,ps=zt.length,Pr=null,G2e();const t=Zq();if(Pr.type!==Y2)throw new Error("Unexpect token after expression.");return t}var Y2e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function X2e(e){function t(s,a,l,c){let u=e(a[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+s+(c<0?"":c===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return c=>t(s,c,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&qe("Missing arguments to clamp function."),s.length>3&&qe("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(s){s.length<3&&qe("Missing arguments to if function."),s.length>3&&qe("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function r3t(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function K2e(e){e=e||{};const t=e.allowed?lu(e.allowed):{},n=e.forbidden?lu(e.forbidden):{},r=e.constants||Y2e,i=(e.functions||X2e)(d),o=e.globalvar,s=e.fieldvar,a=Rn(o)?o:g=>`${o}["${g}"]`;let l={},c={},u=0;function d(g){if(Mt(g))return g;const m=f[g.type];return m==null&&qe("Unsupported type: "+g.type),m(g)}const f={Literal:g=>g.raw,Identifier:g=>{const m=g.name;return u>0?m:Pt(n,m)?qe("Illegal identifier: "+m):Pt(r,m)?r[m]:Pt(t,m)?m:(l[m]=1,a(m))},MemberExpression:g=>{const m=!g.computed,v=d(g.object);m&&(u+=1);const b=d(g.property);return v===s&&(c[r3t(b)]=1),m&&(u-=1),v+(m?"."+b:"["+b+"]")},CallExpression:g=>{g.callee.type!=="Identifier"&&qe("Illegal callee type: "+g.callee.type);const m=g.callee.name,v=g.arguments,b=Pt(i,m)&&i[m];return b||qe("Unrecognized function: "+m),Rn(b)?b(v):b+"("+v.map(d).join(",")+")"},ArrayExpression:g=>"["+g.elements.map(d).join(",")+"]",BinaryExpression:g=>"("+d(g.left)+" "+g.operator+" "+d(g.right)+")",UnaryExpression:g=>"("+g.operator+d(g.argument)+")",ConditionalExpression:g=>"("+d(g.test)+"?"+d(g.consequent)+":"+d(g.alternate)+")",LogicalExpression:g=>"("+d(g.left)+g.operator+d(g.right)+")",ObjectExpression:g=>"{"+g.properties.map(d).join(",")+"}",Property:g=>{u+=1;const m=d(g.key);return u-=1,m+":"+d(g.value)}};function p(g){const m={code:d(g),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},m}return p.functions=i,p.constants=r,p}const _le=Symbol("vega_selection_getter");function Q2e(e){return(!e.getter||!e.getter[_le])&&(e.getter=pc(e.field),e.getter[_le]=!0),e.getter}const eG="intersect",Ele="union",i3t="vlMulti",o3t="vlPoint",kle="or",s3t="and",Zu="_vgsid_",yE=pc(Zu),a3t="E",l3t="R",c3t="R-E",u3t="R-LE",d3t="R-RE",f3t="E-LT",p3t="E-LTE",h3t="E-GT",g3t="E-GTE",m3t="E-VALID",y3t="E-ONE",ID="index:unit";function Rle(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=Q2e(a)(e),Vh(s)&&(s=ls(s)),Vh(r[o])&&(r[o]=ls(r[o])),Xe(r[o])&&Vh(r[o][0])&&(r[o]=r[o].map(ls)),a.type===a3t){if(Xe(r[o])?!r[o].includes(s):s!==r[o])return!1}else if(a.type===l3t){if(!mb(s,r[o]))return!1}else if(a.type===d3t){if(!mb(s,r[o],!0,!1))return!1}else if(a.type===c3t){if(!mb(s,r[o],!1,!1))return!1}else if(a.type===u3t){if(!mb(s,r[o],!1,!0))return!1}else if(a.type===f3t){if(s>=r[o])return!1}else if(a.type===p3t){if(s>r[o])return!1}else if(a.type===h3t){if(s<=r[o])return!1}else if(a.type===g3t){if(s<r[o])return!1}else if(a.type===m3t){if(s===null||isNaN(s))return!1}else if(a.type===y3t&&r[o].indexOf(s)===-1)return!1;return!0}function v3t(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[ID]&&r[ID].value:void 0,s=n===eG,a=i.length,l=0,c,u,d,f,p;l<a;++l)if(c=i[l],o&&s){if(u=u||{},d=u[f=c.unit]||0,d===-1)continue;if(p=Rle(t,c),u[f]=p?-1:++d,p&&o.size===1)return!0;if(!p&&d===o.get(f).count)return!1}else if(p=Rle(t,c),s^p)return p;return a&&s}const Z2e=qx(yE),b3t=Z2e.left,x3t=Z2e.right;function S3t(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[ID]&&r[ID].value:void 0,s=n===eG,a=yE(t),l=b3t(i,a);if(l===i.length||yE(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(x3t(i,a)-l<o.size)return!1}return!0}function w3t(e,t){return e.map(n=>kn(t.fields?{values:t.fields.map(r=>Q2e(r)(n.datum))}:{[Zu]:yE(n.datum)},t))}function C3t(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},c,u,d,f,p,g,m,v,b,S,C=o.length,_=0,E,T;_<C;++_)if(c=o[_],f=c.unit,u=c.fields,d=c.values,u&&d){for(E=0,T=u.length;E<T;++E)p=u[E],m=s[p.field]||(s[p.field]={}),v=m[f]||(m[f]=[]),l[p.field]=b=p.type.charAt(0),S=ej[`${b}_union`],m[f]=S(v,Tt(d[E]));n&&(v=a[f]||(a[f]=[]),v.push(Tt(d).reduce((k,A,P)=>(k[u[P].field]=A,k),{})))}else p=Zu,g=yE(c),m=s[p]||(s[p]={}),v=m[f]||(m[f]=[]),v.push(g),n&&(v=a[f]||(a[f]=[]),v.push({[Zu]:g}));if(t=t||Ele,s[Zu]?s[Zu]=ej[`${Zu}_${t}`](...Object.values(s[Zu])):Object.keys(s).forEach(k=>{s[k]=Object.keys(s[k]).map(A=>s[k][A]).reduce((A,P)=>A===void 0?P:ej[`${l[k]}_${t}`](A,P))}),o=Object.keys(a),n&&o.length){const k=r?o3t:i3t;s[k]=t===Ele?{[kle]:o.reduce((A,P)=>(A.push(...a[P]),A),[])}:{[s3t]:o.map(A=>({[kle]:a[A]}))}}return s}var ej={[`${Zu}_union`]:nCt,[`${Zu}_intersect`]:eCt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=ls(t[0]),r=ls(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=ls(t[0]),r=ls(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const _3t=":",E3t="@";function tG(e,t,n,r){t[0].type!==Q0&&qe("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&er(t).value,s="unit",a=E3t+s,l=_3t+i;o===eG&&!Pt(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Pt(r,l)||(r[l]=n.getData(i).tuplesRef())}function J2e(e){const t=this.context.data[e];return t?t.values.value:[]}function k3t(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function R3t(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(hc).insert(t)),1}function T3t(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Q2=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},M3t=Q2("format"),eke=Q2("timeFormat"),A3t=Q2("utcFormat"),O3t=Q2("timeParse"),D3t=Q2("utcParse"),eM=new Date(2e3,0,1);function U$(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(eM.setYear(2e3),eM.setMonth(e),eM.setDate(t),eke.call(this,eM,n))}function P3t(e){return U$.call(this,e,1,"%B")}function I3t(e){return U$.call(this,e,1,"%b")}function $3t(e){return U$.call(this,0,2+e,"%A")}function F3t(e){return U$.call(this,0,2+e,"%a")}const N3t=":",L3t="@",R8="%",tke="$";function nG(e,t,n,r){t[0].type!==Q0&&qe("First argument to data functions must be a string literal.");const i=t[0].value,o=N3t+i;if(!Pt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function j3t(e,t,n,r){t[0].type!==Q0&&qe("First argument to indata must be a string literal."),t[1].type!==Q0&&qe("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=L3t+o;Pt(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Bs(e,t,n,r){if(t[0].type===Q0)Tle(n,r,t[0].value);else for(e in n.scales)Tle(n,r,e)}function Tle(e,t,n){const r=R8+n;if(!Pt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Ud(e,t){if(Mt(e)){const n=t.scales[e];return n&&Pse(n.value)?n.value:void 0}else if(Rn(e))return Pse(e)?e:void 0}function z3t(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Bs,n._range=Bs,n._scale=Bs;const r=i=>"_["+(i.type===Q0?ft(R8+i.value):ft(R8)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function rG(e,t){return function(n,r,i){if(n){const o=Ud(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const B3t=rG("area",pOt),U3t=rG("bounds",yOt),H3t=rG("centroid",COt);function V3t(e,t){const n=Ud(e,(t||this).context);return n&&n.scale()}function W3t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function iG(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function q3t(){return iG(this.context.dataflow,"warn",arguments)}function G3t(){return iG(this.context.dataflow,"info",arguments)}function Y3t(){return iG(this.context.dataflow,"debug",arguments)}function tj(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function T8(e){const t=dg(e),n=tj(t.r),r=tj(t.g),i=tj(t.b);return .2126*n+.7152*r+.0722*i}function X3t(e,t){const n=T8(e),r=T8(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function K3t(){const e=[].slice.call(arguments);return e.unshift({}),kn(...e)}function nke(e,t){return e===t||e!==e&&t!==t?!0:Xe(e)?Xe(t)&&e.length===t.length?Q3t(e,t):!1:At(e)&&At(t)?rke(e,t):!1}function Q3t(e,t){for(let n=0,r=e.length;n<r;++n)if(!nke(e[n],t[n]))return!1;return!0}function rke(e,t){for(const n in e)if(!nke(e[n],t[n]))return!1;return!0}function Mle(e){return t=>rke(e,t)}function Z3t(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,c=s.stamp();let u=a.changes,d,f;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!u||u.stamp<c)&&(a.changes=u=s.changeset(),u.stamp=c,s.runAfter(()=>{a.modified=!0,s.pulse(l,u).run()},!0,1)),n&&(d=n===!0?hc:Xe(n)||t$(n)?n:Mle(n),u.remove(d)),t&&u.insert(t),r&&(d=Mle(r),l.value.some(d)?u.remove(d):u.insert(r)),i)for(f in o)u.modify(i,f,o[f]);return 1}function J3t(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function eFt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Ale={};function tFt(e,t){const n=Ale[t]||(Ale[t]=pc(t));return Xe(e)?e.map(n):n(e)}function H$(e){return Xe(e)||ArrayBuffer.isView(e)?e:null}function oG(e){return H$(e)||(Mt(e)?e:null)}function nFt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H$(e).join(...n)}function rFt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oG(e).indexOf(...n)}function iFt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oG(e).lastIndexOf(...n)}function oFt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oG(e).slice(...n)}function sFt(e,t,n){return Rn(n)&&qe("Function argument passed to replace."),!Mt(t)&&!KH(t)&&qe("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function aFt(e){return H$(e).slice().reverse()}function lFt(e){return H$(e).slice().sort(E2)}function cFt(e,t,n){return bW(e||0,t||0,n||0)}function uFt(e,t){const n=Ud(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function dFt(e,t){const n=Ud(e,(t||this).context);return n?n.copy():void 0}function fFt(e,t){const n=Ud(e,(t||this).context);return n?n.domain():[]}function pFt(e,t,n){const r=Ud(e,(n||this).context);return r?Xe(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function hFt(e,t){const n=Ud(e,(t||this).context);return n&&n.range?n.range():[]}function gFt(e,t,n){const r=Ud(e,(n||this).context);return r?r(t):void 0}function mFt(e,t,n,r,i){e=Ud(e,(i||this).context);const o=ZCe(t,n);let s=e.domain(),a=s[0],l=er(s),c=ms;return l-a?c=zCe(e,a,l):e=(e.interpolator?yr("sequential")().interpolator(e.interpolator()):yr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==er(s)&&s.push(l)),s.forEach(u=>o.stop(c(u),e(u))),o}function yFt(e,t,n){const r=Ud(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function vFt(e){let t=null;return function(n){return n?lE(n,t=t||G1(e)):e}}const ike=e=>e.data;function oke(e,t){const n=J2e.call(t,e);return n.root&&n.root.lookup||{}}function bFt(e,t,n){const r=oke(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(ike):void 0}function xFt(e,t){const n=oke(e,this)[t];return n?n.ancestors().map(ike):void 0}const ske=()=>typeof window<"u"&&window||null;function SFt(){const e=ske();return e?e.screen:{}}function wFt(){const e=ske();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function CFt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function ake(e,t,n){if(!e)return[];const[r,i]=e,o=new Yi().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return Y_e(s,o,_Ft(t))}function _Ft(e){let t=null;if(e){const n=Tt(e.marktype),r=Tt(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function EFt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Tt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function kFt(e){return Tt(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function RFt(e,t,n){const{x:r,y:i,mark:o}=n,s=new Yi().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,c]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),c<s.y1&&(s.y1=c),c>s.y2&&(s.y2=c);return s.translate(r,i),ake([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>TFt(l.x,l.y,t))}function TFt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,c]=n[i];c>t!=a>t&&e<(s-l)*(t-c)/(a-c)+l&&r++}return r&1}const vE={random(){return mc()},cumulativeNormal:s$,cumulativeLogNormal:_V,cumulativeUniform:TV,densityNormal:bV,densityLogNormal:CV,densityUniform:RV,quantileNormal:a$,quantileLogNormal:EV,quantileUniform:MV,sampleNormal:o$,sampleLogNormal:wV,sampleUniform:kV,isArray:Xe,isBoolean:Ng,isDate:Vh,isDefined(e){return e!==void 0},isNumber:gr,isObject:At,isRegExp:KH,isString:Mt,isTuple:t$,isValid(e){return e!=null&&e===e},toBoolean:ZH,toDate(e){return JH(e)},toNumber:ls,toString:eV,indexof:rFt,join:nFt,lastindexof:iFt,replace:sFt,reverse:aFt,sort:lFt,slice:oFt,flush:Vxe,lerp:qxe,merge:K3t,pad:Xxe,peek:er,pluck:tFt,span:k2,inrange:mb,truncate:Kxe,rgb:dg,lab:_O,hcl:EO,hsl:wO,luminance:T8,contrast:X3t,sequence:Ja,format:M3t,utcFormat:A3t,utcParse:D3t,utcOffset:MSe,utcSequence:DSe,timeFormat:eke,timeParse:O3t,timeOffset:TSe,timeSequence:OSe,timeUnitSpecifier:ySe,monthFormat:P3t,monthAbbrevFormat:I3t,dayFormat:$3t,dayAbbrevFormat:F3t,quarter:zxe,utcquarter:Bxe,week:bSe,utcweek:wSe,dayofyear:vSe,utcdayofyear:SSe,warn:q3t,info:G3t,debug:Y3t,extent(e){return Ed(e)},inScope:W3t,intersect:ake,clampRange:Uxe,pinchDistance:J3t,pinchAngle:eFt,screen:SFt,containerSize:CFt,windowSize:wFt,bandspace:cFt,setdata:R3t,pathShape:vFt,panLinear:Fxe,panLog:Nxe,panPow:Lxe,panSymlog:jxe,zoomLinear:WH,zoomLog:qH,zoomPow:IO,zoomSymlog:GH,encode:T3t,modify:Z3t,lassoAppend:EFt,lassoPath:kFt,intersectLasso:RFt},MFt=["view","item","group","xy","x","y"],AFt="event.vega.",lke="this.",sG={},cke={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ft(tke+e)}]`,functions:OFt,constants:Y2e,visitors:sG},M8=K2e(cke);function OFt(e){const t=X2e(e);MFt.forEach(n=>t[n]=AFt+n);for(const n in vE)t[n]=lke+n;return kn(t,z3t(e,vE,sG)),t}function Hi(e,t,n){return arguments.length===1?vE[e]:(vE[e]=t,n&&(sG[e]=n),M8&&(M8.functions[e]=lke+e),this)}Hi("bandwidth",uFt,Bs);Hi("copy",dFt,Bs);Hi("domain",fFt,Bs);Hi("range",hFt,Bs);Hi("invert",pFt,Bs);Hi("scale",gFt,Bs);Hi("gradient",mFt,Bs);Hi("geoArea",B3t,Bs);Hi("geoBounds",U3t,Bs);Hi("geoCentroid",H3t,Bs);Hi("geoShape",yFt,Bs);Hi("geoScale",V3t,Bs);Hi("indata",k3t,j3t);Hi("data",J2e,nG);Hi("treePath",bFt,nG);Hi("treeAncestors",xFt,nG);Hi("vlSelectionTest",v3t,tG);Hi("vlSelectionIdTest",S3t,tG);Hi("vlSelectionResolve",C3t,tG);Hi("vlSelectionTuples",w3t);function Ad(e,t){const n={};let r;try{e=Mt(e)?e:ft(e)+"",r=Jq(e)}catch{qe("Expression parse error: "+e)}r.visit(o=>{if(o.type!==B2e)return;const s=o.callee.name,a=cke.visitors[s];a&&a(s,o.arguments,t,n)});const i=M8(r);return i.globals.forEach(o=>{const s=tke+o;!Pt(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:kn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function DFt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const PFt=lu(["rule"]),Ole=lu(["group","image","rect"]);function IFt(e,t){let n="";return PFt[t]||(e.x2&&(e.x?(Ole[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Ole[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function aG(e){return(e+"").toLowerCase()}function $Ft(e){return aG(e)==="operator"}function FFt(e){return aG(e)==="collect"}function Uw(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function NFt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var LFt={operator:(e,t)=>Uw(e,["_"],t.code),parameter:(e,t)=>Uw(e,["datum","_"],t.code),event:(e,t)=>Uw(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Uw(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+ft(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=IFt(r,n),i+="return m;",Uw(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ft).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,c;return o.path?(l=`a${o.path}`,c=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,c=`this.f${s}(b)`),NFt(l,c,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function jFt(e){const t=this;$Ft(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function zFt(e){const t=this;if(e.params){const n=t.get(e.id);n||qe("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function BFt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Xe(i)?i.map(o=>Dle(o,n,t)):Dle(i,n,t)}return t}function Dle(e,t,n){if(!e||!At(e))return e;for(let r=0,i=Ple.length,o;r<i;++r)if(o=Ple[r],Pt(e,o.key))return o.parse(e,t,n);return e}var Ple=[{key:"$ref",parse:UFt},{key:"$key",parse:VFt},{key:"$expr",parse:HFt},{key:"$field",parse:WFt},{key:"$encode",parse:GFt},{key:"$compare",parse:qFt},{key:"$context",parse:YFt},{key:"$subflow",parse:XFt},{key:"$tupleid",parse:KFt}];function UFt(e,t){return t.get(e.$ref)||qe("Operator not defined: "+e.$ref)}function HFt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Pa(t.parameterExpression(e.$expr),e.$fields))}function VFt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=QH(e.$key,e.$flat,t.expr.codegen))}function WFt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=pc(e.$field,e.$name,t.expr.codegen))}function qFt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Tt(e.$compare).map(i=>i&&i.$tupleid?Zt:i);return t.fn[n]||(t.fn[n]=YH(r,e.$order,t.expr.codegen))}function GFt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=Pa(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function YFt(e,t){return t}function XFt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function KFt(){return Zt}function QFt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&qe("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function ZFt(e){var t=this,n=At(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||qe("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const JFt={skip:!0};function eNt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function tNt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],JFt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(hc).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function uke(e,t,n,r){return new dke(e,t,n,r)}function dke(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||LFt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Ile(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}dke.prototype=Ile.prototype={fork(){const e=new Ile(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),FFt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[aG(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:DFt,parseOperator:jFt,parseOperatorParameters:zFt,parseParameters:BFt,parseStream:QFt,parseUpdate:ZFt,getState:eNt,setState:tNt};function nNt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),fke(t,e.description()))}function fke(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function rNt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const nj="default";function iNt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:nj,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?Mt(i)?i:i.user:nj,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Mt(r)||(i=r.item,r=r.user),A8(e,r&&r!==nj?r:i||r),i},{cursor:t})}function A8(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function $D(e,t){var n=e._runtime.data;return Pt(n,t)||qe("Unrecognized data set: "+t),n[t]}function oNt(e,t){return arguments.length<2?$D(this,e).values.value:V$.call(this,e,ky().remove(hc).insert(t))}function V$(e,t){owe(t)||qe("Second argument to changes must be a changeset.");const n=$D(this,e);return n.modified=!0,this.pulse(n.input,t)}function sNt(e,t){return V$.call(this,e,ky().insert(t))}function aNt(e,t){return V$.call(this,e,ky().remove(t))}function pke(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function hke(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function W$(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function lNt(e){var t=W$(e),n=pke(e),r=hke(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function cNt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=W$(e),s=t.changedTouches?t.changedTouches[0]:t,o=O$(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=uNt(e,n,o),t}function uNt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;Mt(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:ys(e),item:ys(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const $le="view",dNt="timer",fNt="window",pNt={trap:!1};function hNt(e){const t=kn({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{Xe(r[o])&&(r[o]=lu(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function gke(e,t,n,r){e._eventListeners.push({type:n,sources:Tt(t),handler:r})}function gNt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function tM(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||At(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function mNt(e,t,n){var r=this,i=new i$(n),o=function(c,u){r.runAsync(null,()=>{e===$le&&gNt(r,t)&&c.preventDefault(),i.receive(cNt(r,c,u))})},s;if(e===dNt)tM(r,"timer",t)&&r.timer(o,t);else if(e===$le)tM(r,"view",t)&&r.addEventListener(t,o,pNt);else if(e===fNt?tM(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&tM(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);gke(r,s,t,o)}return i}function Fle(e){return e.item}function Nle(e){return e.item.mark.source}function Lle(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function yNt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Fle),Nle,Lle(e)),this.on(this.events("view","pointerout",Fle),Nle,Lle(t)),this}function vNt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function ll(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const bNt="vega-bind",xNt="vega-bind-name",SNt="vega-bind-radio";function wNt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=XH(r.debounce,i.update))),(r.input==null&&r.element?CNt:ENt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function CNt(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),gke(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(_Nt(i))}}function _Nt(e){return typeof Event<"u"?new Event(e):{type:e}}function ENt(e,t,n,r){const i=r.signal(n.signal),o=ll("div",{class:bNt}),s=n.input==="radio"?o:o.appendChild(ll("label"));s.appendChild(ll("span",{class:xNt},n.name||n.signal)),t.appendChild(o);let a=kNt;switch(n.input){case"checkbox":a=RNt;break;case"select":a=TNt;break;case"radio":a=MNt;break;case"range":a=ANt;break}a(e,s,n,i)}function kNt(e,t,n,r){const i=ll("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function RNt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=ll("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function TNt(e,t,n,r){const i=ll("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};FD(s,r)&&(l.selected=!0),i.appendChild(ll("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(FD(n.options[a],s)){i.selectedIndex=a;return}}}function MNt(e,t,n,r){const i=ll("span",{class:SNt}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};FD(s,r)&&(l.checked=!0);const c=ll("input",l);c.addEventListener("change",()=>e.update(s));const u=ll("label",{},(o[a]||s)+"");return u.prepend(c),i.appendChild(u),c}),e.set=s=>{const a=e.elements,l=a.length;for(let c=0;c<l;++c)FD(a[c].value,s)&&(a[c].checked=!0)}}function ANt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||pg(o,i,100),a=ll("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=ll("span",{},+r);t.appendChild(a),t.appendChild(l);const c=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",c),a.addEventListener("change",c),e.elements=[a],e.set=u=>{a.value=u,l.textContent=u}}function FD(e,t){return e===t||e+""==t+""}function mke(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,pke(e),hke(e),W$(e),i,o).background(e.background())}function lG(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function ONt(e,t,n,r){const i=new r(e.loader(),lG(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,W$(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function DNt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=D$(r);e=n._el=e?rj(n,e,!0):null,nNt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||H2,a=e?o.renderer:o.headless;return n._renderer=a?mke(n,n._renderer,e,a):null,n._handler=ONt(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=rj(n,t,!0):e.appendChild(ll("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=rj(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{wNt(n,l.element||t,l)})),n}function rj(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Hw=e=>+e||0,PNt=e=>({top:e,bottom:e,left:e,right:e});function jle(e){return At(e)?{top:Hw(e.top),bottom:Hw(e.bottom),left:Hw(e.left),right:Hw(e.right)}:PNt(Hw(e))}async function cG(e,t,n,r){const i=D$(t),o=i&&i.headless;return o||qe("Unrecognized renderer type: "+t),await e.runAsync(),mke(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function INt(e,t){e!==Oh.Canvas&&e!==Oh.SVG&&e!==Oh.PNG&&qe("Unrecognized image type: "+e);const n=await cG(this,e,t);return e===Oh.SVG?$Nt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function $Nt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function FNt(e,t){return(await cG(this,Oh.Canvas,e,t)).canvas()}async function NNt(e){return(await cG(this,Oh.SVG,e)).svg()}function LNt(e,t,n){return uke(e,U1,vE,n).parse(t)}function jNt(e){var t=this._runtime.scales;return Pt(t,e)||qe("Unrecognized scale or projection: "+e),t[e].value}var yke="width",vke="height",uG="padding",zle={skip:!0};function bke(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===uG?r.left+r.right:0)}function xke(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===uG?r.top+r.bottom:0)}function zNt(e){var t=e._signals,n=t[yke],r=t[vke],i=t[uG];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=bke(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=xke(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function BNt(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(yke,n,zle),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(vke,r,zle),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function UNt(e){return this._runtime.getState(e||{data:HNt,signals:VNt,recurse:!0})}function HNt(e,t){return t.modified&&Xe(t.input.value)&&!e.startsWith("_:vega:_")}function VNt(e,t){return!(e==="parent"||t instanceof U1.proxy)}function WNt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function qNt(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(cvt(n,t))}function GNt(e,t,n,r){const i=e.element();i&&i.setAttribute("title",YNt(r))}function YNt(e){return e==null?"":Xe(e)?Ske(e):At(e)&&!Vh(e)?XNt(e):e+""}function XNt(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Xe(n)?Ske(n):wke(n))}).join(`
`)}function Ske(e){return"["+e.map(wke).join(", ")+"]"}function wke(e){return Xe(e)?"[]":At(e)&&!Vh(e)?"{}":e}function KNt(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Cke(e,t){const n=this;if(t=t||{},Lb.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=kn({},e.locale,t.locale);n.locale(XSe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Oh.Canvas,n._scenegraph=new S_e;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||GNt,n._redraw=!0,n._handler=new H2().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=hNt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=LNt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:kn({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=bke(n,n._width),n._viewHeight=xke(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,zNt(n),rNt(n),iNt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function nM(e,t){return Pt(e._signals,t)?e._signals[t]:qe("Unrecognized signal name: "+ft(t))}function _ke(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Ble(e,t,n,r){let i=_ke(n,r);return i||(i=lG(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Ule(e,t,n){const r=_ke(t,n);return r&&t._targets.remove(r),e}vt(Cke,Lb,{async evaluate(e,t,n){if(await Lb.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,lNt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&XM(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&fke(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=nM(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",jle(e)):jle(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(D$(e)||qe("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Lb.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(nM(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:BNt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=lG(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Ble(this,e,nM(this,e),t)},removeSignalListener(e,t){return Ule(this,nM(this,e),t)},addDataListener(e,t){return Ble(this,e,$D(this,e).values,t)},removeDataListener(e,t){return Ule(this,$D(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=A8(this,null);this._globalCursor=!!e,t&&A8(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:qNt,events:mNt,finalize:vNt,hover:yNt,data:oNt,change:V$,insert:sNt,remove:aNt,scale:jNt,initialize:DNt,toImageURL:INt,toCanvas:FNt,toSVG:NNt,getState:UNt,setState:WNt,_watchPixelRatio:KNt});const QNt="view",ND="[",LD="]",Eke="{",kke="}",ZNt=":",Rke=",",JNt="@",eLt=">",tLt=/[[\]{}]/,nLt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Tke,Mke;function Bg(e,t,n){return Tke=t||QNt,Mke=n||nLt,Ake(e.trim()).map(O8)}function rLt(e){return Mke[e]}function f_(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.includes(a)?--s:r&&r.includes(a)&&++s}return t}function Ake(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=f_(e,i,Rke,ND+Eke,LD+kke),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function O8(e){return e[0]==="["?iLt(e):oLt(e)}function iLt(e){const t=e.length;let n=1,r;if(n=f_(e,n,LD,ND,LD),n===t)throw"Empty between selector: "+e;if(r=Ake(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==eLt)throw"Expected '>' after between selector: "+e;r=r.map(O8);const i=O8(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function oLt(e){const t={source:Tke},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,c;if(e[s-1]===kke){if(a=e.lastIndexOf(Eke),a>=0){try{r=sLt(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===JNt&&(i=++a),l=f_(e,a,ZNt),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=f_(e,a,ND),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),c=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=f_(e,a,LD),a===s)throw"Unmatched left bracket: "+e;if(c.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==ND)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||tLt.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):rLt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function sLt(e){const t=e.split(Rke);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function aLt(e){return At(e)?e:{type:e||"pad"}}const Vw=e=>+e||0,lLt=e=>({top:e,bottom:e,left:e,right:e});function cLt(e){return At(e)?e.signal?e:{top:Vw(e.top),bottom:Vw(e.bottom),left:Vw(e.left),right:Vw(e.right)}:lLt(Vw(e))}const bo=e=>At(e)&&!Xe(e)?kn({},e):{value:e};function Hle(e,t,n,r){return n!=null?(At(n)&&!Xe(n)||Xe(n)&&n.length&&At(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function qo(e,t,n){for(const r in t)Hle(e,r,t[r]);for(const r in n)Hle(e,r,n[r],"update")}function tS(e,t,n){for(const r in t)n&&Pt(n,r)||(e[r]=kn(e[r]||{},t[r]));return e}function nb(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const dG="mark",fG="frame",pG="scope",uLt="axis",dLt="axis-domain",fLt="axis-grid",pLt="axis-label",hLt="axis-tick",gLt="axis-title",mLt="legend",yLt="legend-band",vLt="legend-entry",bLt="legend-gradient",Oke="legend-label",xLt="legend-symbol",SLt="legend-title",wLt="title",CLt="title-text",_Lt="title-subtitle";function ELt(e,t,n,r,i){const o={},s={};let a,l,c,u;l="lineBreak",t==="text"&&i[l]!=null&&!nb(l,e)&&ij(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),u=n===fG?i.group:n===dG?kn({},i.mark,i[t]):null;for(l in u)c=nb(l,e)||(l==="fill"||l==="stroke")&&(nb("fill",e)||nb("stroke",e)),c||ij(o,l,u[l]);Tt(r).forEach(d=>{const f=i.style&&i.style[d];for(const p in f)nb(p,e)||ij(o,p,f[p])}),e=kn({},e);for(l in o)u=o[l],u.signal?(a=a||{})[l]=u:s[l]=u;return e.enter=kn(s,e.enter),a&&(e.update=kn(a,e.update)),e}function ij(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Dke=e=>Mt(e)?ft(e):e.signal?`(${e.signal})`:Pke(e);function q$(e){if(e.gradient!=null)return RLt(e);let t=e.signal?`(${e.signal})`:e.color?kLt(e.color):e.field!=null?Pke(e.field):e.value!==void 0?ft(e.value):void 0;return e.scale!=null&&(t=TLt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${fA(e.exponent)})`),e.mult!=null&&(t+=`*${fA(e.mult)}`),e.offset!=null&&(t+=`+${fA(e.offset)}`),e.round&&(t=`round(${t})`),t}const rM=(e,t,n,r)=>`(${e}(${[t,n,r].map(q$).join(",")})+'')`;function kLt(e){return e.c?rM("hcl",e.h,e.c,e.l):e.h||e.s?rM("hsl",e.h,e.s,e.l):e.l||e.a?rM("lab",e.l,e.a,e.b):e.r||e.g||e.b?rM("rgb",e.r,e.g,e.b):null}function RLt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ft(n));for(;t.length&&er(t)==null;)t.pop();return t.unshift(Dke(e.gradient)),`gradient(${t.join(",")})`}function fA(e){return At(e)?"("+q$(e)+")":e}function Pke(e){return Ike(At(e)?e:{datum:e})}function Ike(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):qe("Invalid field reference: "+ft(e));return e.signal||(r=Mt(r)?Nd(r).map(ft).join("]["):Ike(r)),t+"["+r+"]"}function TLt(e,t){const n=Dke(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+fA(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function MLt(e){let t="";return e.forEach(n=>{const r=q$(n);t+=n.test?`(${n.test})?${r}:`:r}),er(t)===":"&&(t+="null"),t}function $ke(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=ELt(e,t,n,r,i.config);for(const a in e)s[a]=ALt(e[a],t,o,i);return o}function ALt(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=DLt(OLt(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function OLt(e){return Xe(e)?MLt(e):q$(e)}function DLt(e,t,n,r){const i=Ad(e,t);return i.$fields.forEach(o=>r[o]=1),kn(n,i.$params),i.$expr}const PLt="outer",ILt=["value","update","init","react","bind"];function Vle(e,t){qe(e+' for "outer" push: '+ft(t))}function Fke(e,t){const n=e.name;if(e.push===PLt)t.signals[n]||Vle("No prior signal definition",n),ILt.forEach(r=>{e[r]!==void 0&&Vle("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function D8(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function G$(e,t,n,r){return new D8(e,t,n,r)}function jD(e,t){return G$("operator",e,t)}function Qt(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function bE(e,t){return t?{$field:e,$name:t}:{$field:e}}const P8=bE("key");function Wle(e,t){return{$compare:e,$order:t}}function $Lt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const FLt="ascending",NLt="descending";function LLt(e){return At(e)?(e.order===NLt?"-":"+")+Y$(e.op,e.field):""}function Y$(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const hG="scope",I8="view";function so(e){return e&&e.signal}function jLt(e){return e&&e.expr}function pA(e){if(so(e))return!0;if(At(e)){for(const t in e)if(pA(e[t]))return!0}return!1}function Vc(e,t){return e??t}function x0(e){return e&&e.signal||e}const qle="timer";function xE(e,t){return(e.merge?BLt:e.stream?ULt:e.type?HLt:qe("Invalid stream specification: "+ft(e)))(e,t)}function zLt(e){return e===hG?I8:e||I8}function BLt(e,t){const n=e.merge.map(i=>xE(i,t)),r=gG({merge:n},e,t);return t.addStream(r).id}function ULt(e,t){const n=xE(e.stream,t),r=gG({stream:n},e,t);return t.addStream(r).id}function HLt(e,t){let n;e.type===qle?(n=t.event(qle,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(zLt(e.source),e.type);const r=gG({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function gG(e,t,n){let r=t.between;return r&&(r.length!==2&&qe('Stream "between" parameter must have 2 entries: '+ft(t)),e.between=[xE(r[0],n),xE(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(VLt(t.marktype,t.markname,t.markrole)),t.source===hG&&r.push("inScope(event.item)"),r.length&&(e.filter=Ad("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function VLt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const WLt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function qLt(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||qe("Signal update missing events specification."),Mt(o)&&(o=Bg(o,t.isSubscope()?hG:I8)),o=Tt(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[YLt(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&qe("Signal encode and update are mutually exclusive."),s="encode(item(),"+ft(r)+")"),i.update=Mt(s)?Ad(s,t):s.expr!=null?Ad(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:WLt,$params:{$value:t.signalRef(s.signal)}}:qe("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(kn(GLt(l,t),i)))}function GLt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):xE(e,t)}}function YLt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function XLt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?qe("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Ad(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>qLt(i,t,n.id))}const Br=e=>(t,n,r)=>G$(e,n,t||void 0,r),Nke=Br("aggregate"),KLt=Br("axisticks"),Lke=Br("bound"),_u=Br("collect"),Gle=Br("compare"),QLt=Br("datajoin"),jke=Br("encode"),ZLt=Br("expression"),JLt=Br("facet"),e4t=Br("field"),t4t=Br("key"),n4t=Br("legendentries"),r4t=Br("load"),i4t=Br("mark"),o4t=Br("multiextent"),s4t=Br("multivalues"),a4t=Br("overlap"),l4t=Br("params"),zke=Br("prefacet"),c4t=Br("projection"),u4t=Br("proxy"),d4t=Br("relay"),Bke=Br("render"),f4t=Br("scale"),Ay=Br("sieve"),p4t=Br("sortitems"),Uke=Br("viewlayout"),h4t=Br("values");let g4t=0;const Hke={min:"min",max:"max",count:"sum"};function m4t(e,t){const n=e.type||"linear";ICe(n)||qe("Unrecognized scale type: "+ft(n)),t.addScale(e.name,{type:n,domain:void 0})}function y4t(e,t){const n=t.getScale(e.name).params;let r;n.domain=Vke(e.domain,e,t),e.range!=null&&(n.range=qke(e,t,n)),e.interpolate!=null&&R4t(e.interpolate,n),e.nice!=null&&(n.nice=k4t(e.nice,t)),e.bins!=null&&(n.bins=E4t(e.bins,t));for(r in e)Pt(n,r)||r==="name"||(n[r]=ec(e[r],t))}function ec(e,t){return At(e)?e.signal?t.signalRef(e.signal):qe("Unsupported object: "+ft(e)):e}function hA(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>ec(n,t))}function X$(e){qe("Can not find data set: "+ft(e))}function Vke(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&qe("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Xe(e)?v4t:e.fields?x4t:b4t)(e,t,n)}function v4t(e,t,n){return e.map(r=>ec(r,n))}function b4t(e,t,n){const r=n.getData(e.data);return r||X$(e.data),q1(t.type)?r.valuesRef(n,e.field,Wke(e.sort,!1)):NCe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function x4t(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=Mt(s)?{data:r,field:s}:Xe(s)||s.signal?S4t(s,n):s,o.push(s),o),[]);return(q1(t.type)?w4t:NCe(t.type)?C4t:_4t)(e,n,i)}function S4t(e,t){const n="_:vega:_"+g4t++,r=_u({});if(Xe(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ft(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Ay({})]),{data:n,field:"data"}}function w4t(e,t,n){const r=Wke(e.sort,!0);let i,o;const s=n.map(c=>{const u=t.getData(c.data);return u||X$(c.data),u.countsRef(t,c.field,r)}),a={groupby:P8,pulse:s};r&&(i=r.op||"count",o=r.field?Y$(i,r.field):"count",a.ops=[Hke[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(Nke(a));const l=t.add(_u({pulse:Qt(i)}));return o=t.add(h4t({field:P8,sort:t.sortRef(r),pulse:Qt(l)})),Qt(o)}function Wke(e,t){return e&&(!e.field&&!e.op?At(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?qe("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!Hke[e.op]&&qe("Multiple domain scales can not be sorted using "+e.op)),e}function C4t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||X$(i.data),o.domainRef(t,i.field)});return Qt(t.add(s4t({values:r})))}function _4t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||X$(i.data),o.extentRef(t,i.field)});return Qt(t.add(o4t({extents:r})))}function E4t(e,t){return e.signal||Xe(e)?hA(e,t):t.objectProperty(e)}function k4t(e,t){return e.signal?t.signalRef(e.signal):At(e)?{interval:ec(e.interval),step:ec(e.step)}:ec(e)}function R4t(e,t){t.interpolate=ec(e.type||e),e.gamma!=null&&(t.interpolateGamma=ec(e.gamma))}function qke(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Mt(i)){if(r&&Pt(r,i))return e=kn({},e,{range:r[i]}),qke(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=q1(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:qe("Unrecognized scale range value: "+ft(i))}else if(i.scheme){n.scheme=Xe(i.scheme)?hA(i.scheme,t):ec(i.scheme,t),i.extent&&(n.schemeExtent=hA(i.extent,t)),i.count&&(n.schemeCount=ec(i.count,t));return}else if(i.step){n.rangeStep=ec(i.step,t);return}else{if(q1(e.type)&&!Xe(i))return Vke(i,e,t);Xe(i)||qe("Unsupported range type: "+ft(i))}return i.map(o=>(Xe(o)?hA:ec)(o,t))}function T4t(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=$8(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=$8(n[i],i,t));t.addProjection(e.name,r)}function $8(e,t,n){return Xe(e)?e.map(r=>$8(r,t,n)):At(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:qe("Unsupported parameter object: "+ft(e)):e}const Eu="top",nS="left",rS="right",xg="bottom",Gke="center",M4t="vertical",A4t="start",O4t="middle",D4t="end",F8="index",mG="label",P4t="offset",ex="perc",I4t="perc2",ac="value",Z2="guide-label",yG="guide-title",$4t="group-title",F4t="group-subtitle",Yle="symbol",gA="gradient",N8="discrete",L8="size",N4t="shape",L4t="fill",j4t="stroke",z4t="strokeWidth",B4t="strokeDash",U4t="opacity",vG=[L8,N4t,L4t,j4t,z4t,B4t,U4t],J2={name:1,style:1,interactive:1},nr={value:0},lc={value:1},K$="group",Yke="rect",bG="rule",H4t="symbol",Oy="text";function SE(e){return e.type=K$,e.interactive=e.interactive||!1,e}function Ia(e,t){const n=(r,i)=>Vc(e[r],Vc(t[r],i));return n.isVertical=r=>M4t===Vc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Vc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Vc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Vc(e.columns,Vc(t.columns,+n.isVertical(!0))),n}function Xke(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function V4t(e,t,n){const r=t.config.style[n];return r&&r[e]}function Q$(e,t,n){return`item.anchor === '${A4t}' ? ${e} : item.anchor === '${D4t}' ? ${t} : ${n}`}const xG=Q$(ft(nS),ft(rS),ft(Gke));function W4t(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},At(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function Kke(e,t){return t?e?At(e)?Object.assign({},e,{offset:Kke(e.offset,t)}):{value:e,offset:t}:t:e}function Sl(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=tS(e.encode,t,J2)):e.interactive=!1,e}function q4t(e,t,n,r){const i=Ia(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,c,u,d,f;o?(c=[0,1],u=[0,0],d=s,f=a):(c=[0,0],u=[1,0],d=a,f=s);const p={enter:l={opacity:nr,x:nr,y:nr,width:bo(d),height:bo(f)},update:kn({},l,{opacity:lc,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:nr}};return qo(p,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Sl({type:Yke,role:bLt,encode:p},r)}function G4t(e,t,n,r,i){const o=Ia(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let c,u,d,f,p="";s?(c="y",d="y2",u="x",f="width",p="1-"):(c="x",d="x2",u="y",f="height");const g={opacity:nr,fill:{scale:t,field:ac}};g[c]={signal:p+"datum."+ex,mult:l},g[u]=nr,g[d]={signal:p+"datum."+I4t,mult:l},g[f]=bo(a);const m={enter:g,update:kn({},g,{opacity:lc}),exit:{opacity:nr}};return qo(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Sl({type:Yke,role:yLt,key:ac,from:i,encode:m},r)}const Y4t=`datum.${ex}<=0?"${nS}":datum.${ex}>=1?"${rS}":"${Gke}"`,X4t=`datum.${ex}<=0?"${xg}":datum.${ex}>=1?"${Eu}":"${O4t}"`;function Xle(e,t,n,r){const i=Ia(e,t),o=i.isVertical(),s=bo(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),c,u,d,f,p="";const g={enter:c={opacity:nr},update:u={opacity:lc,text:{field:mG}},exit:{opacity:nr}};return qo(g,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Vc(e.labelLimit,t.gradientLabelLimit)}),o?(c.align={value:"left"},c.baseline=u.baseline={signal:X4t},d="y",f="x",p="1-"):(c.align=u.align={signal:Y4t},c.baseline={value:"top"},d="x",f="y"),c[d]=u[d]={signal:p+"datum."+ex,mult:a},c[f]=u[f]=s,s.offset=Vc(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+F8}:void 0,Sl({type:Oy,role:Oke,style:Z2,key:ac,from:r,encode:g,overlap:l},n)}function K4t(e,t,n,r,i){const o=Ia(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,c=o("clipHeight"),u=o("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${P4t} : datum.${L8}`,p=c?bo(c):{field:L8},g=`datum.${F8}`,m=`max(1, ${i})`;let v,b,S,C,_;p.mult=.5,v={enter:b={opacity:nr,x:{signal:f,mult:.5,offset:u},y:p},update:S={opacity:lc,x:b.x,y:b.y},exit:{opacity:nr}};let E=null,T=null;e.fill||(E=t.symbolBaseFillColor,T=t.symbolBaseStrokeColor),qo(v,{fill:o("symbolFillColor",E),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",T),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),vG.forEach(D=>{e[D]&&(S[D]=b[D]={scale:e[D],field:ac})});const k=Sl({type:H4t,role:xLt,key:ac,from:d,clip:c?!0:void 0,encode:v},n.symbols),A=bo(u);A.offset=o("labelOffset"),v={enter:b={opacity:nr,x:{signal:f,offset:A},y:p},update:S={opacity:lc,text:{field:mG},x:b.x,y:b.y},exit:{opacity:nr}},qo(v,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const P=Sl({type:Oy,role:Oke,style:Z2,key:ac,from:d,encode:v},n.labels);return v={enter:{noBound:{value:!c},width:nr,height:c?bo(c):nr,opacity:nr},exit:{opacity:nr},update:S={opacity:lc,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(C=`ceil(item.mark.items.length / ${m})`,S.row.signal=`${g}%${C}`,S.column.signal=`floor(${g} / ${C})`,_={field:["row",g]}):(S.row.signal=`floor(${g} / ${m})`,S.column.signal=`${g} % ${m}`,_={field:g}),S.column.signal=`(${i})?${S.column.signal}:${g}`,r={facet:{data:r,name:"value",groupby:F8}},SE({role:pG,from:r,encode:tS(v,s,J2),marks:[k,P],name:l,interactive:a,sort:_})}function Q4t(e,t){const n=Ia(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const SG='item.orient === "left"',wG='item.orient === "right"',Z$=`(${SG} || ${wG})`,Z4t=`datum.vgrad && ${Z$}`,J4t=Q$('"top"','"bottom"','"middle"'),ejt=Q$('"right"','"left"','"center"'),tjt=`datum.vgrad && ${wG} ? (${ejt}) : (${Z$} && !(datum.vgrad && ${SG})) ? "left" : ${xG}`,njt=`item._anchor || (${Z$} ? "middle" : "start")`,rjt=`${Z4t} ? (${SG} ? -90 : 90) : 0`,ijt=`${Z$} ? (datum.vgrad ? (${wG} ? "bottom" : "top") : ${J4t}) : "top"`;function ojt(e,t,n,r){const i=Ia(e,t),o={enter:{opacity:nr},update:{opacity:lc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:nr}};return qo(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:njt},angle:{signal:rjt},align:{signal:tjt},baseline:{signal:ijt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Sl({type:Oy,role:SLt,style:yG,from:r,encode:o},n)}function sjt(e,t){let n;return At(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Kle(e.path)+")":e.sphere&&(n="geoShape("+Kle(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Kle(e){return At(e)&&e.signal?e.signal:ft(e)}function Qke(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===K$?pG:t||dG}function ajt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Qke(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function ljt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function CG(e,t){const n=lwe(e.type);n||qe("Unrecognized transform type: "+ft(e.type));const r=G$(n.type.toLowerCase(),null,Zke(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Zke(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=cjt(s,t,n)}return r}function cjt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return ujt(e,t,n);if(i===void 0){e.required&&qe("Missing required "+ft(t.type)+" parameter: "+ft(e.name));return}else{if(r==="param")return djt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!so(i)?i.map(o=>Qle(e,o,n)):Qle(e,i,n)}function Qle(e,t,n){const r=e.type;if(so(t))return Jle(r)?qe("Expression references can not be signals."):oj(r)?n.fieldRef(t):ece(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||oj(r);return i&&fjt(t)?n.exprRef(t.expr,t.as):i&&pjt(t)?bE(t.field,t.as):Jle(r)?Ad(t,n):hjt(r)?Qt(n.getData(t).values):oj(r)?bE(t):ece(r)?n.compareRef(t):t}}function ujt(e,t,n){return Mt(t.from)||qe('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function djt(e,t,n){const r=t[e.name];return e.array?(Xe(r)||qe("Expected an array of sub-parameters. Instead: "+ft(r)),r.map(i=>Zle(e,i,n))):Zle(e,r,n)}function Zle(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||qe("Unsupported parameter: "+ft(t));const o=kn(Zke(i,t,n),i.key);return Qt(n.add(l4t(o)))}const fjt=e=>e&&e.expr,pjt=e=>e&&e.field,hjt=e=>e==="data",Jle=e=>e==="expr",oj=e=>e==="field",ece=e=>e==="compare";function gjt(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||qe("Only group marks can be faceted."),r.field!=null?s=a=mA(r,n):(e.data?a=Qt(n.getData(e.data).aggregate):(o=CG(kn({type:"aggregate",groupby:Tt(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=mA(r,n),s=a=Qt(n.add(o))),i=n.keyRef(r.groupby,!0))):s=Qt(n.add(_u(null,[{}]))),s||(s=mA(e,n)),{key:i,pulse:s,parent:a}}function mA(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Qt(t.getData(e.data).output)}function ey(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}ey.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Qt(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new ey(e,o,i,r,s)};function Jke(e){return Mt(e)?e:null}function tce(e,t,n){const r=Y$(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Ww(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=LLt(o);let c=Jke(i),u,d;if(c!=null&&(e=t.scope,c=c+(l?"|"+l:""),u=a[c]),!u){const f=o?{field:P8,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:Qt(t.output)};l&&(f.sort=e.sortRef(o)),d=e.add(G$(r,void 0,f)),s&&(t.index[i]=d),u=Qt(d),c!=null&&(a[c]=u)}return u}ey.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=Jke(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&tce(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Qt(r.output)},n&&n.field&&tce(e,l,n),a=e.add(Nke(l)),s=e.add(_u({pulse:Qt(a)})),s={agg:a,ref:Qt(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return Qt(this.values)},extentRef(e,t){return Ww(e,this,"extent","extent",t,!1)},domainRef(e,t){return Ww(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Ww(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Ww(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Ww(e,this,"indata","tupleindex",t,!0,!0)}};function mjt(e,t,n){const r=e.from.facet,i=r.name,o=mA(r,t);let s;r.name||qe("Facet must have a name: "+ft(r)),r.data||qe("Facet must reference a data set: "+ft(r)),r.field?s=t.add(zke({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(JLt({key:t.keyRef(r.groupby),group:Qt(t.proxy(n.parent)),pulse:o})):qe("Facet must specify groupby or field: "+ft(r));const a=t.fork(),l=a.add(_u()),c=a.add(Ay({pulse:Qt(l)}));a.addData(i,new ey(a,l,l,c)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function yjt(e,t,n){const r=t.add(zke({pulse:n.pulse})),i=t.fork();i.add(Ay()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function eRe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(jD()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(d=>d??"null").join(",")+"),0)",u=Ad(c,t);l.update=u.$expr,l.params=u.$params}function J$(e,t){const n=Qke(e),r=e.type===K$,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===pG||n===fG,a,l,c,u,d,f,p;const g=n===dG||s||i,m=gjt(e.from,r,t);l=t.add(QLt({key:m.key||(e.key?bE(e.key):void 0),pulse:m.pulse,clean:!r}));const v=Qt(l);l=c=t.add(_u({pulse:v})),l=t.add(i4t({markdef:ajt(e),interactive:ljt(e.interactive,t),clip:sjt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Qt(l)}));const b=Qt(l);l=u=t.add(jke($ke(e.encode,e.type,n,e.style,t,{mod:!1,pulse:b}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(T=>{const k=CG(T,t),A=k.metadata;(A.generates||A.changes)&&qe("Mark transforms should not generate new data."),A.nomod||(u.params.mod=!0),k.params.pulse=Qt(l),t.add(l=k)}),e.sort&&(l=t.add(p4t({sort:t.compareRef(e.sort),pulse:Qt(l)})));const S=Qt(l);(i||s)&&(s=t.add(Uke({layout:t.objectProperty(e.layout),legends:t.legends,mark:b,pulse:S})),f=Qt(s));const C=t.add(Lke({mark:b,pulse:f||S}));p=Qt(C),r&&(g&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(S,f||p,v),i?mjt(e,t,m):g?yjt(e,t,m):t.parse(e),t.popState(),g&&(s&&a.push(s),a.push(C))),o&&(p=vjt(o,p,t));const _=t.add(Bke({pulse:p})),E=t.add(Ay({pulse:Qt(_)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new ey(t,c,_,E)),e.on&&e.on.forEach(T=>{(T.insert||T.remove||T.toggle)&&qe("Marks only support modify triggers."),eRe(T,t,d)}))}function vjt(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:so(o)?n.signalRef(o.signal):o,method:so(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=so(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return Qt(n.add(a4t(s)))}function bjt(e,t){const n=t.config.legend,r=e.encode||{},i=Ia(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,c={};let u=0,d,f,p;vG.forEach(C=>e[C]?(c[C]=e[C],u=u||e[C]):0),u||qe("Missing valid scale for legend.");const g=xjt(e,t.scaleType(u)),m={title:e.title!=null,scales:c,type:g,vgrad:g!=="symbol"&&i.isVertical()},v=Qt(t.add(_u(null,[m]))),b={enter:{x:{value:0},y:{value:0}}},S=Qt(t.add(n4t(f={type:g,scale:t.scaleRef(u),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return g===gA?(p=[q4t(e,u,n,r.gradient),Xle(e,n,r.labels,S)],f.count=f.count||t.signalRef(`max(2,2*floor((${x0(i.gradientLength())})/100))`)):g===N8?p=[G4t(e,u,n,r.gradient,S),Xle(e,n,r.labels,S)]:(d=Q4t(e,n),p=[K4t(e,n,r,S,x0(d.columns))],f.size=Cjt(e,t,p[0].marks)),p=[SE({role:vLt,from:v,encode:b,marks:p,layout:d,interactive:a})],m.title&&p.push(ojt(e,n,r.title,v)),J$(SE({role:mLt,from:v,encode:tS(wjt(i,e,n),o,J2),marks:p,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function xjt(e,t){let n=e.type||Yle;return!e.type&&Sjt(e)===1&&(e.fill||e.stroke)&&(n=_W(t)?gA:MB(t)?N8:Yle),n!==gA?n:MB(t)?N8:gA}function Sjt(e){return vG.reduce((t,n)=>t+(e[n]?1:0),0)}function wjt(e,t,n){const r={enter:{},update:{}};return qo(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function Cjt(e,t,n){const r=x0(nce("size",e,n)),i=x0(nce("strokeWidth",e,n)),o=x0(_jt(n[1].encode,t,Z2));return Ad(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function nce(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Xke(e,n[0].encode)}function _jt(e,t,n){return Xke("fontSize",e)||V4t("fontSize",t,n)}const Ejt=`item.orient==="${nS}"?-90:item.orient==="${rS}"?90:0`;function kjt(e,t){e=Mt(e)?{text:e}:e;const n=Ia(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],c={},u=Qt(t.add(_u(null,[c])));return l.push(Mjt(e,n,Rjt(e),u)),e.subtitle&&l.push(Ajt(e,n,r.subtitle,u)),J$(SE({role:wLt,from:u,encode:Tjt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function Rjt(e){const t=e.encode;return t&&t.title||kn({name:e.name,interactive:e.interactive,style:e.style},t)}function Tjt(e,t){const n={enter:{},update:{}};return qo(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:xG},angle:{signal:Ejt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),tS(n,t,J2)}function Mjt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return qo(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Sl({type:Oy,role:CLt,style:$4t,from:r,encode:s},n)}function Ajt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return qo(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Sl({type:Oy,role:_Lt,style:F4t,from:r,encode:s},n)}function Ojt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(CG(r,t))}),e.on&&e.on.forEach(r=>{eRe(r,t,e.name)}),t.addDataPipeline(e.name,Djt(e,t,n))}function Djt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,c,u,d;for(e.values?so(e.values)||pA(e.format)?(r.push(rce(t,e)),r.push(i=bm())):r.push(i=bm({$ingest:e.values,$format:e.format})):e.url?pA(e.url)||pA(e.format)?(r.push(rce(t,e)),r.push(i=bm())):r.push(i=bm({$request:e.url,$format:e.format})):e.source&&(i=a=Tt(e.source).map(f=>Qt(t.getData(f).output)),r.push(null)),l=0,c=n.length;l<c;++l)u=n[l],d=u.metadata,!i&&!d.source&&r.push(i=bm()),r.push(u),d.generates&&(s=!0),d.modifies&&!s&&(o=!0),d.source?i=u:d.changes&&(i=null);return a&&(c=a.length-1,r[0]=d4t({derive:o,pulse:c?a:a[0]}),(o||c)&&r.splice(1,0,bm())),i||r.push(bm()),r.push(Ay({})),r}function bm(e){const t=_u({},e);return t.metadata={source:!0},t}function rce(e,t){return r4t({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const tRe=e=>e===xg||e===Eu,e5=(e,t,n)=>so(e)?Fjt(e.signal,t,n):e===nS||e===Eu?t:n,xo=(e,t,n)=>so(e)?Ijt(e.signal,t,n):tRe(e)?t:n,ou=(e,t,n)=>so(e)?$jt(e.signal,t,n):tRe(e)?n:t,nRe=(e,t,n)=>so(e)?Njt(e.signal,t,n):e===Eu?{value:t}:{value:n},Pjt=(e,t,n)=>so(e)?Ljt(e.signal,t,n):e===rS?{value:t}:{value:n},Ijt=(e,t,n)=>rRe(`${e} === '${Eu}' || ${e} === '${xg}'`,t,n),$jt=(e,t,n)=>rRe(`${e} !== '${Eu}' && ${e} !== '${xg}'`,t,n),Fjt=(e,t,n)=>_G(`${e} === '${nS}' || ${e} === '${Eu}'`,t,n),Njt=(e,t,n)=>_G(`${e} === '${Eu}'`,t,n),Ljt=(e,t,n)=>_G(`${e} === '${rS}'`,t,n),rRe=(e,t,n)=>(t=t!=null?bo(t):t,n=n!=null?bo(n):n,ice(t)&&ice(n)?(t=t?t.signal||ft(t.value):null,n=n?n.signal||ft(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[kn({test:e},t)].concat(n||[])),ice=e=>e==null||Object.keys(e).length===1,_G=(e,t,n)=>({signal:`${e} ? (${Sb(t)}) : (${Sb(n)})`}),jjt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${nS}' ? (${Sb(r)}) : `:"")+(n!=null?`${e} === '${xg}' ? (${Sb(n)}) : `:"")+(i!=null?`${e} === '${rS}' ? (${Sb(i)}) : `:"")+(t!=null?`${e} === '${Eu}' ? (${Sb(t)}) : `:"")+"(null)"}),Sb=e=>so(e)?e.signal:e==null?null:ft(e),zjt=(e,t)=>t===0?0:so(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},zb=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Wv(e,t,n,r){let i;if(t&&Pt(t,e))return t[e];if(Pt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[yG][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Z2][i]}return null}function oce(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function Bjt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,c;if(so(s)){const d=oce([n.axisX,n.axisY]),f=oce([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(c of d)a[c]=xo(s,Wv(c,n.axisX,i,r),Wv(c,n.axisY,i,r));l={};for(c of f)l[c]=jjt(s.signal,Wv(c,n.axisTop,i,r),Wv(c,n.axisBottom,i,r),Wv(c,n.axisLeft,i,r),Wv(c,n.axisRight,i,r))}else a=s===Eu||s===xg?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?kn({},i,a,l,o):i}function Ujt(e,t,n,r){const i=Ia(e,t),o=e.orient;let s,a;const l={enter:s={opacity:nr},update:a={opacity:lc},exit:{opacity:nr}};qo(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=sce(e,0),u=sce(e,1);return s.x=a.x=xo(o,c,nr),s.x2=a.x2=xo(o,u),s.y=a.y=ou(o,c,nr),s.y2=a.y2=ou(o,u),Sl({type:bG,role:dLt,from:r,encode:l},n)}function sce(e,t){return{scale:e.scale,range:t}}function Hjt(e,t,n,r,i){const o=Ia(e,t),s=e.orient,a=e.gridScale,l=e5(s,1,-1),c=Vjt(e.offset,l);let u,d,f;const p={enter:u={opacity:nr},update:f={opacity:lc},exit:d={opacity:nr}};qo(p,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const g={scale:e.scale,field:ac,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=xo(s,{signal:"height"},{signal:"width"}),v=a?{scale:a,range:0,mult:l,offset:c}:{value:0,offset:c},b=a?{scale:a,range:1,mult:l,offset:c}:kn(m,{mult:l,offset:c});return u.x=f.x=xo(s,g,v),u.y=f.y=ou(s,g,v),u.x2=f.x2=ou(s,b),u.y2=f.y2=xo(s,b),d.x=xo(s,g),d.y=ou(s,g),Sl({type:bG,role:fLt,key:ac,from:r,encode:p},n)}function Vjt(e,t){if(t!==1)if(!At(e))e=so(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=kn({},e);for(;n.mult!=null;)if(At(n.mult))n=n.mult=kn({},n.mult);else return n.mult=so(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function Wjt(e,t,n,r,i,o){const s=Ia(e,t),a=e.orient,l=e5(a,-1,1);let c,u,d;const f={enter:c={opacity:nr},update:d={opacity:lc},exit:u={opacity:nr}};qo(f,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const p=bo(i);p.mult=l;const g={scale:e.scale,field:ac,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return d.y=c.y=xo(a,nr,g),d.y2=c.y2=xo(a,p),u.x=xo(a,g),d.x=c.x=ou(a,nr,g),d.x2=c.x2=ou(a,p),u.y=ou(a,g),Sl({type:bG,role:hLt,key:ac,from:r,encode:f},n)}function sj(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function qjt(e,t,n,r,i,o){const s=Ia(e,t),a=e.orient,l=e.scale,c=e5(a,-1,1),u=x0(s("labelFlush")),d=x0(s("labelFlushOffset")),f=s("labelAlign"),p=s("labelBaseline");let g=u===0||!!u,m;const v=bo(i);v.mult=c,v.offset=bo(s("labelPadding")||0),v.offset.mult=c;const b={scale:l,field:ac,band:.5,offset:Kke(o.offset,s("labelOffset"))},S=xo(a,g?sj(l,u,'"left"','"right"','"center"'):{value:"center"},Pjt(a,"left","right")),C=xo(a,nRe(a,"bottom","top"),g?sj(l,u,'"top"','"bottom"','"middle"'):{value:"middle"}),_=sj(l,u,`-(${d})`,d,0);g=g&&d;const E={opacity:nr,x:xo(a,b,v),y:ou(a,b,v)},T={enter:E,update:m={opacity:lc,text:{field:mG},x:E.x,y:E.y,align:S,baseline:C},exit:{opacity:nr,x:E.x,y:E.y}};qo(T,{dx:!f&&g?xo(a,_):null,dy:!p&&g?ou(a,_):null}),qo(T,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:f,baseline:p});const k=s("labelBound");let A=s("labelOverlap");return A=A||k?{separation:s("labelSeparation"),method:A,order:"datum.index",bound:k?{scale:l,orient:a,tolerance:k}:null}:void 0,m.align!==S&&(m.align=zb(m.align,S)),m.baseline!==C&&(m.baseline=zb(m.baseline,C)),Sl({type:Oy,role:pLt,style:Z2,key:ac,from:r,encode:T,overlap:A},n)}function Gjt(e,t,n,r){const i=Ia(e,t),o=e.orient,s=e5(o,-1,1);let a,l;const c={enter:a={opacity:nr,anchor:bo(i("titleAnchor",null)),align:{signal:xG}},update:l=kn({},a,{opacity:lc,text:bo(e.title)}),exit:{opacity:nr}},u={signal:`lerp(range("${e.scale}"), ${Q$(0,1,.5)})`};return l.x=xo(o,u),l.y=ou(o,u),a.angle=xo(o,nr,zjt(s,90)),a.baseline=xo(o,nRe(o,xg,Eu),{value:xg}),l.angle=a.angle,l.baseline=a.baseline,qo(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Yjt(i,o,c,n),c.update.align=zb(c.update.align,a.align),c.update.angle=zb(c.update.angle,a.angle),c.update.baseline=zb(c.update.baseline,a.baseline),Sl({type:Oy,role:gLt,style:yG,from:r,encode:c},n)}function Yjt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=zb(bo(a),n.update[l]),!1):!nb(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?bo(s):xo(t,bo(s),bo(o))}function Xjt(e,t){const n=Bjt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=Ia(e,n),c=W4t(l),u={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=Qt(t.add(_u({},[u]))),f=Qt(t.add(KLt({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];let g;return u.grid&&p.push(Hjt(e,n,r.grid,f,c)),u.ticks&&(g=l("tickSize"),p.push(Wjt(e,n,r.ticks,f,g,c))),u.labels&&(g=u.ticks?g:0,p.push(qjt(e,n,r.labels,f,g,c))),u.domain&&p.push(Ujt(e,n,r.domain,d)),u.title&&p.push(Gjt(e,n,r.title,d)),J$(SE({role:uLt,from:d,encode:tS(Kjt(l,e),i,J2),marks:p,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function Kjt(e,t){const n={enter:{},update:{}};return qo(n,{orient:e("orient"),offset:e("offset")||0,position:Vc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function iRe(e,t,n){const r=Tt(e.signals),i=Tt(e.scales);return n||r.forEach(o=>Fke(o,t)),Tt(e.projections).forEach(o=>T4t(o,t)),i.forEach(o=>m4t(o,t)),Tt(e.data).forEach(o=>Ojt(o,t)),i.forEach(o=>y4t(o,t)),(n||r).forEach(o=>XLt(o,t)),Tt(e.axes).forEach(o=>Xjt(o,t)),Tt(e.marks).forEach(o=>J$(o,t)),Tt(e.legends).forEach(o=>bjt(o,t)),e.title&&kjt(e.title,t),t.parseLambdas(),t}const Qjt=e=>tS({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Zjt(e,t){const n=t.config,r=Qt(t.root=t.add(jD())),i=Jjt(e,n);i.forEach(c=>Fke(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(_u()),s=t.add(jke($ke(Qjt(e.encode),K$,fG,e.style,t,{pulse:Qt(o)}))),a=t.add(Uke({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Qt(s)}));t.operators.pop(),t.pushState(Qt(s),Qt(a),null),iRe(e,t,i),t.operators.push(a);let l=t.add(Lke({mark:r,pulse:Qt(a)}));return l=t.add(Bke({pulse:Qt(l)})),l=t.add(Ay({pulse:Qt(l)})),t.addData("root",new ey(t,o,o,l)),t}function qw(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Jjt(e,t){const n=s=>Vc(e[s],t[s]),r=[qw("background",n("background")),qw("autosize",aLt(n("autosize"))),qw("padding",cLt(n("padding"))),qw("width",n("width")||0),qw("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return Tt(e.signals).forEach(s=>{Pt(i,s.name)?s=kn(i[s.name],s):r.push(s),o[s.name]=s}),Tt(t.signals).forEach(s=>{!Pt(o,s.name)&&!Pt(i,s.name)&&r.push(s)}),r}function oRe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function ace(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}oRe.prototype=ace.prototype={parse(e){return iRe(e,this)},fork(){return new ace(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof D8?Qt(e):e;return this.add(u4t({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Qt(this.add(Ay({pulse:e})))),this._parent.push(t),this._lookup.push(n?Qt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return er(this._parent)},encode(){return er(this._encode)},lookup(){return er(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Mt(e))return bE(e,t);e.signal||qe("Unsupported field reference: "+ft(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Qt(this.add(e4t(i)))}return r},compareRef(e){let t=!1;const n=o=>so(o)?(t=!0,this.signalRef(o.signal)):jLt(o)?(t=!0,this.exprRef(o.expr)):o,r=Tt(e.field).map(n),i=Tt(e.order).map(n);return t?Qt(this.add(Gle({fields:r,orders:i}))):Wle(r,i)},keyRef(e,t){let n=!1;const r=o=>so(o)?(n=!0,Qt(i[o.signal])):o,i=this.signals;return e=Tt(e).map(r),n?Qt(this.add(t4t({fields:e,flat:t}))):$Lt(e,t)},sortRef(e){if(!e)return e;const t=Y$(e.op,e.field),n=e.order||FLt;return n.signal?Qt(this.add(Gle({fields:t,orders:this.signalRef(n.signal)}))):Wle(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Pt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&qe("Duplicate signal name: "+ft(e));const n=t instanceof D8?t:this.add(jD(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||qe("Unrecognized signal name: "+ft(e)),this.signals[e]},signalRef(e){return this.signals[e]?Qt(this.signals[e]):(Pt(this.lambdas,e)||(this.lambdas[e]=this.add(jD(null))),Qt(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Ad(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!At(e)?e:this.signalRef(e.signal||EG(e))},exprRef(e,t){const n={expr:Ad(e,this)};return t&&(n.expr.$name=t),Qt(this.add(ZLt(n)))},addBinding(e,t){this.bindings||qe("Nested signals do not support binding: "+ft(e)),this.bindings.push(kn({signal:e},t))},addScaleProj(e,t){Pt(this.scales,e)&&qe("Duplicate scale or projection name: "+ft(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,f4t(t))},addProjection(e,t){this.addScaleProj(e,c4t(t))},getScale(e){return this.scales[e]||qe("Unrecognized scale name: "+ft(e)),this.scales[e]},scaleRef(e){return Qt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Pt(this.data,e)&&qe("Duplicate data set name: "+ft(e)),this.data[e]=t},getData(e){return this.data[e]||qe("Undefined data set name: "+ft(e)),this.data[e]},addDataPipeline(e,t){return Pt(this.data,e)&&qe("Duplicate data set name: "+ft(e)),this.addData(e,ey.fromEntries(this,t))}};function EG(e){return(Xe(e)?ezt:tzt)(e)}function ezt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(At(i)?i.signal||EG(i):ft(i))}return n+"]"}function tzt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ft(r)+":"+(At(i)?i.signal||EG(i):ft(i));return t+"}"}function nzt(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function rzt(e,t,n){return At(e)||qe("Input Vega specification must be an object."),t=Hx(nzt(),t,e.config),Zjt(e,new oRe(t,n)).toRuntime()}var izt="6.1.2";kn(U1,N2t,OAt,cOt,YDt,IPt,a$t,zIt,c$t,P$t,H$t,K$t);const ozt=izt,szt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Yi,CanvasHandler:H2,CanvasRenderer:rD,DATE:Ca,DAY:as,DAYOFYEAR:Td,Dataflow:Lb,Debug:Oxe,Error:UH,EventStream:i$,Gradient:ZCe,GroupItem:_$,HOURS:vl,Handler:XW,HybridHandler:U_e,HybridRenderer:zB,Info:Axe,Item:C$,MILLISECONDS:cu,MINUTES:bl,MONTH:fs,Marks:xl,MultiPulse:hV,None:Mxe,Operator:Wr,Parameters:r$,Pulse:qh,QUARTER:wa,RenderType:Oh,Renderer:U2,ResourceLoader:i_e,SECONDS:gc,SVGHandler:M_e,SVGRenderer:tq,SVGStringRenderer:B_e,Scenegraph:S_e,TIME_UNITS:iV,Transform:Be,View:Cke,WEEK:io,Warn:HH,YEAR:Wo,accessor:Pa,accessorFields:ds,accessorName:Ai,array:Tt,ascending:E2,bandwidthNRD:vV,bin:dwe,bootstrapCI:fwe,boundClip:Z_e,boundContext:L2,boundItem:$B,boundMark:y_e,boundStroke:yp,changeset:ky,clampRange:Uxe,codegenExpression:K2e,compare:YH,constant:ys,cumulativeLogNormal:_V,cumulativeNormal:s$,cumulativeUniform:TV,dayofyear:vSe,debounce:XH,defaultLocale:cV,definition:lwe,densityLogNormal:CV,densityNormal:bV,densityUniform:RV,domChild:ro,domClear:Yl,domCreate:Mh,domFind:YW,dotbin:pwe,error:qe,expressionFunction:Hi,extend:kn,extent:Ed,extentIndex:Hxe,falsy:nh,fastmap:Wx,field:pc,flush:Vxe,font:M$,fontFamily:B2,fontSize:jd,format:YM,formatLocale:zO,formats:fV,hasOwnProperty:Pt,id:_2,identity:ms,inferType:QSe,inferTypes:ZSe,ingest:wr,inherits:vt,inrange:mb,interpolate:EW,interpolateColors:S$,interpolateRange:LCe,intersect:Y_e,intersectBoxLine:yb,intersectPath:PW,intersectPoint:IW,intersectRule:s_e,isArray:Xe,isBoolean:Ng,isDate:Vh,isFunction:Rn,isIterable:Wxe,isNumber:gr,isObject:At,isRegExp:KH,isString:Mt,isTuple:t$,key:QH,lerp:qxe,lineHeight:yg,loader:JI,locale:XSe,logger:VH,lruCache:Gxe,markup:eq,merge:Yxe,mergeConfig:Hx,multiLineOffset:WW,one:Ux,pad:Xxe,panLinear:Fxe,panLog:Nxe,panPow:Lxe,panSymlog:jxe,parse:rzt,parseExpression:Jq,parseSelector:Bg,path:d$,pathCurves:AW,pathEqual:J_e,pathParse:G1,pathRectangle:t_e,pathRender:lE,pathSymbols:e_e,pathTrail:n_e,peek:er,point:O$,projection:xq,quantileLogNormal:EV,quantileNormal:a$,quantileUniform:MV,quantiles:mV,quantizeInterpolator:jCe,quarter:zxe,quartiles:yV,get random(){return mc},randomInteger:BEt,randomKDE:SV,randomLCG:zEt,randomLogNormal:gwe,randomMixture:mwe,randomNormal:xV,randomUniform:ywe,read:twe,regressionConstant:AV,regressionExp:bwe,regressionLinear:OV,regressionLoess:wwe,regressionLog:vwe,regressionPoly:Swe,regressionPow:xwe,regressionQuad:DV,renderModule:D$,repeat:fC,resetDefaultLocale:N_t,resetSVGDefIds:XMt,responseType:ewe,runtimeContext:uke,sampleCurve:c$,sampleLogNormal:wV,sampleNormal:o$,sampleUniform:kV,scale:yr,sceneEqual:nq,sceneFromJSON:b_e,scenePickVisit:XO,sceneToJSON:v_e,sceneVisit:uu,sceneZOrder:$W,scheme:kW,serializeXML:N_e,setHybridRendererOptions:WMt,setRandom:LEt,span:k2,splitAccessPath:Nd,stringValue:ft,textMetrics:al,timeBin:$Se,timeFloor:ESe,timeFormatLocale:oE,timeInterval:Xx,timeOffset:TSe,timeSequence:OSe,timeUnitSpecifier:ySe,timeUnits:oV,toBoolean:ZH,toDate:JH,toNumber:ls,toSet:lu,toString:eV,transform:cwe,transforms:U1,truncate:Kxe,truthy:hc,tupleid:Zt,typeParsers:SB,utcFloor:kSe,utcInterval:Kx,utcOffset:MSe,utcSequence:DSe,utcdayofyear:SSe,utcquarter:Bxe,utcweek:wSe,version:ozt,visitArray:ah,week:bSe,writeConfig:Vx,zero:gh,zoomLinear:WH,zoomLog:qH,zoomPow:IO,zoomSymlog:GH},Symbol.toStringTag,{value:"Module"}));function iS(e,t,n){return e.fields=t||[],e.fname=n,e}function azt(e){return e.length===1?lzt(e[0]):czt(e)}const lzt=e=>function(t){return t[e]},czt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function aj(e){throw Error(e)}function uzt(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)c(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?c():s=a+1:l==="["?(a>s&&c(),i=s=a+1):l==="]"&&(i||aj("Access path missing open bracket: "+e),i>0&&c(),i=0,s=a+1)}return i&&aj("Access path missing closing bracket: "+e),r&&aj("Access path missing closing quote: "+e),a>s&&(a++,c()),t}function dzt(e,t,n){const r=uzt(e);return e=r.length===1?r[0]:e,iS(azt(r),[e],e)}dzt("id");iS(e=>e,[],"identity");iS(()=>0,[],"zero");iS(()=>1,[],"one");iS(()=>!0,[],"true");iS(()=>!1,[],"false");const fzt=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0);function pzt(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var hzt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},gzt={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},mzt={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const yzt=Array.prototype.slice,xm=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,yzt.call(t,1))},vzt=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var bzt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:vzt,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return xm("join",arguments)},indexof:function(){return xm("indexOf",arguments)},lastindexof:function(){return xm("lastIndexOf",arguments)},slice:function(){return xm("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(fzt),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return xm("substring",arguments,String)},split:function(){return xm("split",arguments,String)},replace:function(){return xm("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const xzt=["view","item","group","xy","x","y"],j8=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&j8.add(setImmediate);const Szt={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:hzt[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),j8.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||bzt[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>gzt[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>mzt[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,j8.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function Gw(e,t,n,r,i,o){const s=a=>Szt[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,xzt.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var wzt={operator(e,t){const n=t.ast,r=e.functions;return i=>Gw(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>Gw(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Gw(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return Gw(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let c=0,u;for(const d in r)u=Gw(r[d].ast,i,a,l,void 0,s),s[d]!==u&&(s[d]=u,c=1);return n!=="rule"&&pzt(s,r,o),c}}},Czt="6.1.0",_zt={version:Czt};function kG(e){return ct(e,"or")}function RG(e){return ct(e,"and")}function TG(e){return ct(e,"not")}function yA(e,t){if(TG(e))yA(e.not,t);else if(RG(e))for(const n of e.and)yA(n,t);else if(kG(e))for(const n of e.or)yA(n,t);else t(e)}function Bb(e,t){return TG(e)?{not:Bb(e.not,t)}:RG(e)?{and:e.and.map(n=>Bb(n,t))}:kG(e)?{or:e.or.map(n=>Bb(n,t))}:t(e)}const yn=structuredClone;function sRe(e){throw new Error(e)}function tx(e,t){const n={};for(const r of t)Pt(e,r)&&(n[r]=e[r]);return n}function cl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Rr(e)).join(",")})`};function Kn(e){if(gr(e))return e;const t=Mt(e)?e:Rr(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function z8(e){return e===!1||e===null}function Un(e,t){return e.includes(t)}function nx(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function MG(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function aRe(e,...t){for(const n of t)Ezt(e,n??{});return e}function Ezt(e,t){for(const n of at(t))Vx(e,n,t[n],!0)}function ld(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function kzt(e,t){const n=at(e),r=at(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function lRe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function AG(e,t){for(const n of e)if(t.has(n))return!0;return!1}function B8(e){const t=new Set;for(const n of e){const i=Nd(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function OG(e,t){return e===void 0||t===void 0?!0:AG(B8(e),B8(t))}function qr(e){return at(e).length===0}const at=Object.keys,Gi=Object.values,Sg=Object.entries;function wE(e){return e===!0||e===!1}function oi(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function p_(e,t){return TG(e)?`!(${p_(e.not,t)})`:RG(e)?`(${e.and.map(n=>p_(n,t)).join(") && (")})`:kG(e)?`(${e.or.map(n=>p_(n,t)).join(") || (")})`:t(e)}function zD(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&zD(e[n],t)&&delete e[n],qr(e)}function ek(e){return e.charAt(0).toUpperCase()+e.substr(1)}function DG(e,t="datum"){const n=Nd(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(ft).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function cRe(e,t="datum"){return`${t}[${ft(Nd(e).join("."))}]`}function Dr(e){return`datum['${e.replaceAll("'","\\'")}']`}function Rzt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function vc(e){return`${Nd(e).map(Rzt).join("\\.")}`}function ty(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function oS(e){return`${Nd(e).join(".")}`}function rx(e){return e?Nd(e).length:0}function zi(...e){return e.find(t=>t!==void 0)}let uRe=42;function dRe(e){const t=++uRe;return e?String(e)+t:t}function Tzt(){uRe=42}function fRe(e){return pRe(e)?e:`__${e}`}function pRe(e){return e.startsWith("__")}function CE(e){if(e!==void 0)return(e%360+360)%360}function t5(e){return gr(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const lce=Object.getPrototypeOf(structuredClone({}));function el(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!el(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!el(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==lce.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==lce.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!el(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Rr(e){const t=[];return function n(r){if(r!=null&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?`${r}`:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return`${o}]`}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],c=n(r[l]);c&&(o&&(o+=","),o+=`${JSON.stringify(l)}:${c}`)}return t.splice(s,1),`{${o}}`}(e)}function ct(e,t){return At(e)&&Pt(e,t)&&e[t]!==void 0}const Gf="row",Yf="column",n5="facet",ci="x",To="y",ku="x2",Hd="y2",Ug="xOffset",sS="yOffset",Ru="radius",bp="radius2",_c="theta",xp="theta2",Tu="latitude",Mu="longitude",Au="latitude2",bc="longitude2",Hg="time",Ea="color",Vd="fill",Wd="stroke",ka="shape",Sp="size",Dy="angle",wp="opacity",Vg="fillOpacity",Wg="strokeOpacity",qg="strokeWidth",Gg="strokeDash",tk="text",ix="order",nk="detail",r5="key",ny="tooltip",i5="href",o5="url",s5="description",Mzt={x:1,y:1,x2:1,y2:1},hRe={theta:1,theta2:1,radius:1,radius2:1};function gRe(e){return Pt(hRe,e)}const PG={longitude:1,longitude2:1,latitude:1,latitude2:1};function mRe(e){switch(e){case Tu:return"y";case Au:return"y2";case Mu:return"x";case bc:return"x2"}}function yRe(e){return Pt(PG,e)}const Azt=at(PG),IG={...Mzt,...hRe,...PG,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Ub(e){return e===Ea||e===Vd||e===Wd}const vRe={row:1,column:1,facet:1},tc=at(vRe),$G={...IG,...vRe},Ozt=at($G),{order:LXt,detail:jXt,tooltip:zXt,...Dzt}=$G,{row:BXt,column:UXt,facet:HXt,...Pzt}=Dzt;function Izt(e){return Pt(Pzt,e)}function bRe(e){return Pt($G,e)}const $zt=[ku,Hd,Au,bc,xp,bp];function xRe(e){return Py(e)!==e}function Py(e){switch(e){case ku:return ci;case Hd:return To;case Au:return Tu;case bc:return Mu;case xp:return _c;case bp:return Ru}return e}function wg(e){if(gRe(e))switch(e){case _c:return"startAngle";case xp:return"endAngle";case Ru:return"outerRadius";case bp:return"innerRadius"}return e}function qd(e){switch(e){case ci:return ku;case To:return Hd;case Tu:return Au;case Mu:return bc;case _c:return xp;case Ru:return bp}}function Ra(e){switch(e){case ci:case ku:return"width";case To:case Hd:return"height"}}function SRe(e){switch(e){case ci:return"xOffset";case To:return"yOffset";case ku:return"x2Offset";case Hd:return"y2Offset";case _c:return"thetaOffset";case Ru:return"radiusOffset";case xp:return"theta2Offset";case bp:return"radius2Offset"}}function FG(e){switch(e){case ci:return"xOffset";case To:return"yOffset"}}function Fzt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Nzt=at(IG),{x:VXt,y:WXt,x2:qXt,y2:GXt,xOffset:YXt,yOffset:XXt,latitude:KXt,longitude:QXt,latitude2:ZXt,longitude2:JXt,theta:eKt,theta2:tKt,radius:nKt,radius2:rKt,...NG}=IG,Lzt=at(NG),LG={x:1,y:1},Cp=at(LG);function Bi(e){return Pt(LG,e)}const jG={theta:1,radius:1},jzt=at(jG);function a5(e){return e==="width"?ci:To}const wRe={xOffset:1,yOffset:1};function rk(e){return Pt(wRe,e)}const zzt={time:1};function lj(e){return e in zzt}const{text:iKt,tooltip:oKt,href:sKt,url:aKt,description:lKt,detail:cKt,key:uKt,order:dKt,...CRe}=NG,Bzt=at(CRe);function Uzt(e){return Pt(NG,e)}function Hzt(e){switch(e){case Ea:case Vd:case Wd:case Sp:case ka:case wp:case qg:case Gg:return!0;case Vg:case Wg:case Dy:case Hg:return!1}}const _Re={...LG,...jG,...wRe,...CRe},zG=at(_Re);function Gd(e){return Pt(_Re,e)}function Vzt(e,t){return qzt(e)[t]}const ERe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:fKt,...Wzt}=ERe;function qzt(e){switch(e){case Ea:case Vd:case Wd:case s5:case nk:case r5:case ny:case i5:case ix:case wp:case Vg:case Wg:case qg:case n5:case Gf:case Yf:return ERe;case ci:case To:case Ug:case sS:case Tu:case Mu:case Hg:return Wzt;case ku:case Hd:case Au:case bc:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Sp:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Gg:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ka:return{point:"always",geoshape:"always"};case tk:return{text:"always"};case Dy:return{point:"always",square:"always",text:"always"};case o5:return{image:"always"};case _c:return{text:"always",arc:"always"};case Ru:return{text:"always",arc:"always"};case xp:case bp:return{arc:"always"}}}function cj(e){switch(e){case ci:case To:case _c:case Ru:case Ug:case sS:case Sp:case Dy:case qg:case wp:case Vg:case Wg:case Hg:case ku:case Hd:case xp:case bp:return;case n5:case Gf:case Yf:case ka:case Gg:case tk:case ny:case i5:case o5:case s5:return"discrete";case Ea:case Vd:case Wd:return"flexible";case Tu:case Mu:case Au:case bc:case nk:case r5:case ix:return}}const Gzt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Yzt={count:1,min:1,max:1};function fp(e){return ct(e,"argmin")}function Yg(e){return ct(e,"argmax")}function BG(e){return Mt(e)&&Pt(Gzt,e)}const Xzt=new Set(["count","valid","missing","distinct"]);function l5(e){return Mt(e)&&Xzt.has(e)}function Kzt(e){return Mt(e)&&Un(["min","max"],e)}const Qzt=new Set(["count","sum","distinct","valid","missing"]),Zzt=new Set(["mean","average","median","q1","q3","min","max"]);function kRe(e){return Ng(e)&&(e=x5(e,void 0)),`bin${at(e).map(t=>c5(e[t])?oi(`_${t}_${Sg(e[t])}`):oi(`_${t}_${e[t]}`)).join("")}`}function Kr(e){return e===!0||Iy(e)&&!e.binned}function Io(e){return e==="binned"||Iy(e)&&e.binned===!0}function Iy(e){return At(e)}function c5(e){return ct(e,"param")}function cce(e){switch(e){case Gf:case Yf:case Sp:case Ea:case Vd:case Wd:case qg:case wp:case Vg:case Wg:case ka:return 6;case Gg:return 4;default:return 10}}function ik(e){return ct(e,"expr")}function Fo(e,{level:t}={level:0}){const n=at(e||{}),r={};for(const i of n)r[i]=t===0?Qa(e[i]):Fo(e[i],{level:t-1});return r}function RRe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:p,subtitlePadding:g,...m}=e,v={...m,...a?{fill:a}:{}},b={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},S={...l?{subtitleColor:l}:{},...c?{subtitleFont:c}:{},...u?{subtitleFontSize:u}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...p?{subtitleLineHeight:p}:{},...g?{subtitlePadding:g}:{}},C=tx(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:v,subtitleMarkConfig:C,nonMarkTitleProperties:b,subtitle:S}}function dh(e){return Mt(e)||Xe(e)&&Mt(e[0])}function Ut(e){return ct(e,"signal")}function $y(e){return ct(e,"step")}function Jzt(e){return Xe(e)?!1:ct(e,"fields")&&!ct(e,"data")}function e6t(e){return Xe(e)?!1:ct(e,"fields")&&ct(e,"data")}function $f(e){return Xe(e)?!1:ct(e,"field")&&ct(e,"data")}const t6t={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},n6t=at(t6t),r6t={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},U8=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function TRe(e){const t=Xe(e.condition)?e.condition.map(uce):uce(e.condition);return{...Qa(e),condition:t}}function Qa(e){if(ik(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function uce(e){if(ik(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function ei(e){if(ik(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Ut(e)?e:e!==void 0?{value:e}:void 0}function i6t(e){return Ut(e)?e.signal:ft(e)}function dce(e){return Ut(e)?e.signal:ft(e.value)}function nu(e){return Ut(e)?e.signal:e==null?null:ft(e)}function o6t(e,t,n){for(const r of n){const i=Od(r,t.markDef,t.config);i!==void 0&&(e[r]=ei(i))}return e}function MRe(e){return[].concat(e.type,e.style??[])}function zr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&ct(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Od(e,t,n,r)}function Od(e,t,n,{vgChannel:r}={}){const i=H8(e,t,n.style);return zi(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function H8(e,t,n){return ARe(e,MRe(t),n)}function ARe(e,t,n){t=Tt(t);let r;for(const i of t){const o=n[i];ct(o,e)&&(r=o[e])}return r}function ORe(e,t){return Tt(e).reduce((n,r)=>(n.field.push(St(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function DRe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(el(i,r))return;n.push(r)}),n}function PRe(e,t){return el(e,t)||!t?e:e?[...Tt(e),...Tt(t)].join(", "):t}function IRe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((dh(n)||Ut(n))&&(dh(r)||Ut(r)))return{explicit:e.explicit,value:PRe(n,r)};if(dh(n)||Ut(n))return{explicit:e.explicit,value:n};if(dh(r)||Ut(r))return{explicit:e.explicit,value:r};if(!dh(n)&&!Ut(n)&&!dh(r)&&!Ut(r))return{explicit:e.explicit,value:DRe(n,r)};throw new Error("It should never reach here")}function UG(e){return`Invalid specification ${Rr(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const s6t='Autosize "fit" only works for single views and layered views.';function fce(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function pce(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function hce(e){return e?`Dropping "fit-${e}" because spec has discrete ${Ra(e)}.`:'Dropping "fit" because spec has discrete size.'}function HG(e){return`Unknown field for ${e}. Cannot calculate view size.`}function gce(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function a6t(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function l6t(e){return`The "nearest" transform is not supported for ${e} marks.`}function $Re(e){return`Selection not supported for ${e} yet.`}function c6t(e){return`Cannot find a selection named "${e}".`}const u6t="Scale bindings are currently only supported for scales with unbinned, continuous domains.",d6t="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",f6t="Legend bindings are only supported for selections over an individual field or encoding channel.";function p6t(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function h6t(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const g6t="The same selection must be used to override scale domains in a layered view.",m6t='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function y6t(e){return`Unknown repeated value "${e}".`}function mce(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const v6t="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",VG="Animation involving facet, layer, or concat is currently unsupported.";function b6t(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ft(e)}.`}function x6t(e,t,n,r){return`${e.length?"Multiple ":"No "}matching ${ft(t)} encoding found for selection ${ft(n.param)}. Using "field": ${ft(r)}.`}const S6t="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function w6t(e){return`Unrecognized parse "${e}".`}function yce(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const C6t="Attempt to add the same child twice.";function _6t(e){return`Ignoring an invalid transform: ${Rr(e)}.`}const E6t='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function vce(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function k6t(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Rr(t)} is overridden by a child projection ${Rr(n)}.`}const R6t="Arc marks uses theta channel rather than angle, replacing angle with theta.";function T6t(e){return`${e}Offset dropped because ${e} is continuous`}function M6t(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Rr(n)}}.`}function FRe(e){return`Invalid field type "${e}".`}function A6t(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function O6t(e){return`Invalid aggregation operator "${e}".`}function NRe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function D6t(e){return`Position range does not support relative band size for ${e}.`}function V8(e,t){return`Dropping ${Rr(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const P6t="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function u5(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function I6t(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function $6t(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function F6t(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function N6t(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function uj(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function L6t(e){return`The ${e} for range marks cannot be an expression`}function j6t(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function z6t(e,t){return`Specified orient "${e}" overridden with "${t}".`}function B6t(e){return`Cannot use the scale property "${e}" with non-color channel.`}function U6t(e){return`Cannot use the relative band size with ${e} scale.`}function H6t(e){return`Using unaggregated domain with raw field has no effect (${Rr(e)}).`}function V6t(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function W6t(e){return`Unaggregated domain is currently unsupported for log scale (${Rr(e)}).`}function q6t(e){return`Cannot apply size to non-oriented mark "${e}".`}function G6t(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function Y6t(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function LRe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function jRe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function X6t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Rr(n)} and ${Rr(r)}). Using ${Rr(n)}.`}function K6t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Rr(n)} and ${Rr(r)}). Using the union of the two domains.`}function Q6t(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function Z6t(e){return`Dropping sort property ${Rr(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const bce="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",J6t="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",eBt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",tBt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function nBt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function rBt(e){return`Stack is applied to a non-linear scale (${e}).`}function iBt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function BD(e,t){return`Invalid ${e}: ${Rr(t)}.`}function oBt(e){return`Dropping day from datetime ${Rr(e)} as day cannot be combined with other units.`}function sBt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function aBt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function lBt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function xce(e){return`1D error band does not support ${e}.`}function zRe(e){return`Channel ${e} is required for "binned" bin.`}function cBt(e){return`Channel ${e} should not be used with "binned" bin.`}function uBt(e){return`Domain for ${e} is required for threshold scale.`}const BRe=VH(HH);let ry=BRe;function dBt(e){return ry=e,ry}function fBt(){return ry=BRe,ry}function WG(...e){ry.error(...e)}function ut(...e){ry.warn(...e)}function pBt(...e){ry.debug(...e)}function Fy(e){if(e&&At(e)){for(const t of GG)if(ct(e,t))return!0}return!1}const URe=["january","february","march","april","may","june","july","august","september","october","november","december"],hBt=URe.map(e=>e.substr(0,3)),HRe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],gBt=HRe.map(e=>e.substr(0,3));function mBt(e){if(t5(e)&&(e=+e),gr(e))return e>4&&ut(BD("quarter",e)),e-1;throw new Error(BD("quarter",e))}function yBt(e){if(t5(e)&&(e=+e),gr(e))return e-1;{const t=e.toLowerCase(),n=URe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=hBt.indexOf(r);if(i!==-1)return i;throw new Error(BD("month",e))}}function vBt(e){if(t5(e)&&(e=+e),gr(e))return e%7;{const t=e.toLowerCase(),n=HRe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=gBt.indexOf(r);if(i!==-1)return i;throw new Error(BD("day",e))}}function qG(e,t){const n=[];if(t&&e.day!==void 0&&at(e).length>1&&(ut(oBt(e)),e=yn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?yBt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?mBt(e.quarter):e.quarter;n.push(gr(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?vBt(e.day):e.day;n.push(gr(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function iy(e){const n=qG(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function bBt(e){const n=qG(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function xBt(e){const t=qG(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const VRe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},GG=at(VRe);function SBt(e){return Pt(VRe,e)}function Ny(e){return At(e)?e.binned:WRe(e)}function WRe(e){return e==null?void 0:e.startsWith("binned")}function YG(e){return e.startsWith("utc")}function wBt(e){return e.substring(3)}const CBt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function d5(e){return GG.filter(t=>GRe(e,t))}function qRe(e){const t=d5(e);return t[t.length-1]}function GRe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function _Bt(e,t,{end:n}={end:!1}){const r=DG(t),i=YG(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of GG)GRe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),bBt(a)}function YRe(e){if(!e)return;const t=d5(e);return`timeUnitSpecifier(${Rr(t)}, ${Rr(CBt)})`}function EBt(e,t,n){if(!e)return;const r=YRe(e);return`${n||YG(e)?"utc":"time"}Format(${t}, ${r})`}function wo(e){if(!e)return;let t;return Mt(e)?WRe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:At(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),YG(t.unit)&&(t.utc=!0,t.unit=wBt(t.unit)),t}function kBt(e){const{utc:t,...n}=wo(e);return n.unit?(t?"utc":"")+at(n).map(r=>oi(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):`${t?"utc":""}timeunit${at(n).map(r=>oi(`_${r}_${n[r]}`)).join("")}`}function XRe(e,t=n=>n){const n=wo(e),r=qRe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=KRe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(iy(a))} - ${t(iy(i))}`}}const RBt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function TBt(e){return Pt(RBt,e)}function KRe(e,t=1){if(TBt(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function MBt(e){return ct(e,"param")}function XG(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function KG(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function QG(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function ZG(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function JG(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function eY(e){if(e!=null&&e.field){if(Xe(e.range)&&e.range.length===2)return!0;if(Ut(e.range))return!0}return!1}function tY(e){return!!(e!=null&&e.field)&&(Xe(e.oneOf)||Xe(e.in))}function ABt(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function QRe(e){return tY(e)||XG(e)||eY(e)||KG(e)||ZG(e)||QG(e)||JG(e)}function Uu(e,t){return S5(e,{timeUnit:t,wrapTime:!0})}function OBt(e,t){return e.map(n=>Uu(n,t))}function ZRe(e,t=!0){const{field:n}=e,r=wo(e.timeUnit),{unit:i,binned:o}=r||{},s=St(e,{expr:"datum"}),a=i?`time(${o?s:_Bt(i,n)})`:s;if(XG(e))return`${a}===${Uu(e.equal,i)}`;if(KG(e)){const l=e.lt;return`${a}<${Uu(l,i)}`}else if(ZG(e)){const l=e.gt;return`${a}>${Uu(l,i)}`}else if(QG(e)){const l=e.lte;return`${a}<=${Uu(l,i)}`}else if(JG(e)){const l=e.gte;return`${a}>=${Uu(l,i)}`}else{if(tY(e))return`indexof([${OBt(e.oneOf,i).join(",")}], ${a}) !== -1`;if(ABt(e))return f5(a,e.valid);if(eY(e)){const{range:l}=Fo(e),c=Ut(l)?{signal:`${l.signal}[0]`}:l[0],u=Ut(l)?{signal:`${l.signal}[1]`}:l[1];if(c!==null&&u!==null&&t)return`inrange(${a}, [${Uu(c,i)}, ${Uu(u,i)}])`;const d=[];return c!==null&&d.push(`${a} >= ${Uu(c,i)}`),u!==null&&d.push(`${a} <= ${Uu(u,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Rr(e)}`)}function f5(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function DBt(e){return QRe(e)&&e.timeUnit?{...e,timeUnit:wo(e.timeUnit)}:e}const ok={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function PBt(e){return e==="quantitative"||e==="temporal"}function JRe(e){return e==="ordinal"||e==="nominal"}const oy=ok.quantitative,nY=ok.ordinal,ox=ok.temporal,rY=ok.nominal,aS=ok.geojson;function IBt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case oy:return"quantitative";case"t":case ox:return"temporal";case"o":case nY:return"ordinal";case"n":case rY:return"nominal";case aS:return"geojson"}}const No={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},W8={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function $Bt(e,t){const n=W8[e],r=W8[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const FBt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Sce(e){return FBt[e]}const eTe=new Set(["linear","log","pow","sqrt","symlog"]),tTe=new Set([...eTe,"time","utc"]);function nTe(e){return eTe.has(e)}const rTe=new Set(["quantile","quantize","threshold"]),NBt=new Set([...tTe,...rTe,"sequential","identity"]),LBt=new Set(["ordinal","bin-ordinal","point","band"]);function Eo(e){return LBt.has(e)}function du(e){return NBt.has(e)}function cd(e){return tTe.has(e)}function sx(e){return rTe.has(e)}const jBt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function zBt(e){return!Mt(e)&&ct(e,"name")}function iTe(e){return ct(e,"param")}function BBt(e){return ct(e,"unionWith")}function UBt(e){return At(e)&&"field"in e}const HBt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:pKt,domain:hKt,range:gKt,rangeMax:mKt,rangeMin:yKt,scheme:vKt,...VBt}=HBt,WBt=at(VBt);function q8(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return cd(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return cd(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return cd(e);case"nice":return cd(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return du(e)&&!Un(["log","time","utc","threshold","quantile"],e)}}function oTe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Ub(e)?void 0:B6t(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function qBt(e,t){return Un([nY,rY],t)?e===void 0||Eo(e):t===ox?Un([No.TIME,No.UTC,void 0],e):t===oy?nTe(e)||sx(e)||e===void 0:!0}function GBt(e,t,n=!1){if(!Gd(e))return!1;switch(e){case ci:case To:case Ug:case sS:case _c:case Ru:return cd(t)||t==="band"?!0:t==="point"?!n:!1;case Hg:return Un(["linear","band"],t);case Sp:case qg:case wp:case Vg:case Wg:case Dy:return cd(t)||sx(t)||Un(["band","point","ordinal"],t);case Ea:case Vd:case Wd:return t!=="band";case Gg:case ka:return t==="ordinal"||sx(t)}}function YBt(e){return At(e)&&"value"in e}const Ks={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},sTe=Ks.arc,p5=Ks.area,h5=Ks.bar,XBt=Ks.image,g5=Ks.line,m5=Ks.point,KBt=Ks.rect,UD=Ks.rule,aTe=Ks.text,iY=Ks.tick,QBt=Ks.trail,oY=Ks.circle,sY=Ks.square,lTe=Ks.geoshape;function Xg(e){return["line","area","trail"].includes(e)}function _E(e){return["rect","bar","image","arc","tick"].includes(e)}const ZBt=new Set(at(Ks));function Dd(e){return ct(e,"type")}const JBt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],e8t=["fill","fillOpacity"],t8t=[...JBt,...e8t],n8t={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},wce=at(n8t),dj=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],r8t={area:["line","point"],bar:dj,rect:dj,line:["point"],tick:["bandSize","thickness",...dj]},i8t={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},o8t={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},cTe=at(o8t);function sy(e){return ct(e,"band")}const s8t={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},a8t=5,aY={binSpacing:0,continuousBandSize:a8t,minBandSize:.25,timeUnitBandPosition:.5},l8t={...aY,binSpacing:1},c8t={...aY,thickness:1};function u8t(e){return Dd(e)?e.type:e}function uTe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function lY({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!du(r)||i)return"always-valid";const o=uTe(zr("invalid",e,t),{isPath:Xg(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":o}function d8t(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function dTe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function fTe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var u;const s=n==null?void 0:n.get("type"),a=pu(t),l=l5(a==null?void 0:a.aggregate),c=lY({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&c==="show"){const d=((u=o.scale.invalid)==null?void 0:u[e])??"zero-or-min";return{test:f5(St(a,{expr:"datum"}),!1),...f8t(d,n,r)}}}function f8t(e,t,n){if(YBt(e)){const{value:r}=e;return Ut(r)?{signal:r.signal}:{value:r}}return dTe({scale:t,scaleName:n,mode:"zeroOrMin"})}function cY(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=Py(t),l=uY(e),c=fTe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return c!==void 0?[c,l]:l}function p8t(e){const{datum:t}=e;return Fy(t)?iy(t):`${Rr(t)}`}function S0(e,t,n,r){const i={};if(t&&(i.scale=t),Yd(e)){const{datum:o}=e;Fy(o)?i.signal=iy(o):Ut(o)?i.signal=o.signal:ik(o)?i.signal=o.expr:i.value=o}else i.field=St(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function HD({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!Ut(s)&&0<s&&s<1?"datum":void 0,l=St(t,{expr:a,suffix:i}),c=n!==void 0?St(n,{expr:a}):St(t,{suffix:o,expr:a}),u={};if(s===0||s===1){u.scale=e;const d=s===0?l:c;u.field=d}else{const d=Ut(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${c}`:`${1-s} * ${l} + ${s} * ${c}`;u.signal=`scale("${e}", ${d})`}return r&&(u.offset=r),u}function h8t({scaleName:e,fieldDef:t}){const n=St(t,{expr:"datum"}),r=St(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function uY({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c,bandPosition:u}){if(t){if(Sn(t)){const d=s==null?void 0:s.get("type");if(Ws(t)){u??(u=Cg({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:p,type:g}=t;if(Kr(f)||u&&p&&g===ox)return a!=null&&a.impute?S0(t,o,{binSuffix:"mid"},{offset:l}):u&&!Eo(d)?HD({scaleName:o,fieldOrDatumDef:t,bandPosition:u,offset:l}):S0(t,o,uk(t,e)?{binSuffix:"range"}:{},{offset:l});if(Io(f)){if(dt(n))return HD({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:u,offset:l});ut(zRe(e===ci?ku:Hd))}}return S0(t,o,Eo(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?u??t.bandPosition??.5:void 0})}else if(fu(t)){const d=t.value,f=l?{offset:l}:{};return{...h_(e,d),...f}}}return Rn(c)&&(c=c()),c&&{...c,...l?{offset:l}:{}}}function h_(e,t){return Un(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Un(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:ei(t)}function ay(e){return e&&e!=="number"&&e!=="time"}function pTe(e,t,n){return`${e}(${t}${n?`, ${Rr(n)}`:""})`}const g8t="  ";function dY({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,c;if(ay(n))return ru({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=hTe(e,r,i),a=ax(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return ru({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return ru({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&dt(e)&&e.timeUnit===void 0)return ru({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(cx(e)){const u=y8t({field:s,timeUnit:dt(e)?(l=wo(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:Ly(e)&&((c=e.scale)==null?void 0:c.type)===No.UTC});return u?{signal:u}:void 0}if(t=G8({type:a,specifiedFormat:t,config:o,normalizeStack:i}),dt(e)&&Kr(e.bin)){const u=St(e,{expr:r,binSuffix:"end"});return{signal:sk(s,u,t,n,o)}}else return t||ax(e)==="quantitative"?{signal:`${yTe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function hTe(e,t,n){return dt(e)?n?`${St(e,{expr:t,suffix:"end"})}-${St(e,{expr:t,suffix:"start"})}`:St(e,{expr:t}):p8t(e)}function ru({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=hTe(e,r,i)),s!=="datum.value"&&dt(e)&&Kr(e.bin)){const a=St(e,{expr:r,binSuffix:"end"});return{signal:sk(s,a,t,n,o)}}return{signal:pTe(n,s,t)}}function gTe(e,t,n,r,i,o){var s;if(!(Mt(r)&&ay(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&ax(e)==="quantitative"&&(i.normalizedNumberFormatType&&lx(e)&&e.stack==="normalize"||i.numberFormatType))){if(lx(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return G8({type:"quantitative",config:i,normalizeStack:!0});if(cx(e)){const a=dt(e)?(s=wo(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:m8t({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return G8({type:t,specifiedFormat:n,config:i})}}function mTe(e,t,n){var r;if(e&&(Ut(e)||e==="number"||e==="time"))return e;if(cx(t)&&n!=="time"&&n!=="utc")return dt(t)&&((r=wo(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function G8({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Mt(t))return t;if(e===oy)return r?n.normalizedNumberFormat:n.numberFormat}function m8t({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:YRe(t)}:r?void 0:n.timeFormat)}function yTe(e,t){return`format(${e}, "${t||""}")`}function Cce(e,t,n,r){return ay(n)?pTe(n,e,t):yTe(e,(Mt(t)?t:void 0)??r.numberFormat)}function sk(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return sk(e,t,i.numberFormat,i.numberFormatType,i);const o=Cce(e,n,r,i),s=Cce(t,n,r,i);return`${f5(e,!1)} ? "null" : ${o} + "${g8t}" + ${s}`}function y8t({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, ${Rr(n)})`:(n=Mt(n)?n:i,`${o?"utc":"time"}Format(${e}, ${Rr(n)})`):EBt(t,e,o)}const y5="min",v8t={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function _ce(e){return Pt(v8t,e)}function b8t(e){return ct(e,"encoding")}function Xf(e){return e&&(e.op==="count"||ct(e,"field"))}function vTe(e){return e&&Xe(e)}function ak(e){return ct(e,"row")||ct(e,"column")}function fY(e){return ct(e,"header")}function v5(e){return ct(e,"facet")}function x8t(e){return ct(e,"param")}function S8t(e){return!Mt(e)&&ct(e,"repeat")}function Ece(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function pY(e){return ct(e,"sort")}function Cg({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Sn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(dt(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Od("timeUnitBandPosition",n,r);if(Kr(o))return .5}}function bTe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var c,u,d;const a=Ra(e),l=zr(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(dt(t)){const{timeUnit:f,bin:p}=t;if(f&&!n)return{band:Od("timeUnitBandSize",r,i)};if(Kr(p)&&!Eo(o))return{band:1}}if(_E(r.type))return o?Eo(o)?((c=i[r.type])==null?void 0:c.discreteBandSize)||{band:1}:(u=i[r.type])==null?void 0:u.continuousBandSize:(d=i[r.type])==null?void 0:d.discreteBandSize}function xTe(e,t,n,r){return Kr(e.bin)||e.timeUnit&&Ws(e)&&e.type==="temporal"?Cg({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function STe(e){return ct(e,"sort")&&!ct(e,"field")}function lk(e){return ct(e,"condition")}function b5(e){const t=e==null?void 0:e.condition;return!!t&&!Xe(t)&&dt(t)}function ck(e){const t=e==null?void 0:e.condition;return!!t&&!Xe(t)&&Sn(t)}function w8t(e){const t=e==null?void 0:e.condition;return!!t&&(Xe(t)||fu(t))}function dt(e){return ct(e,"field")||(e==null?void 0:e.aggregate)==="count"}function ax(e){return e==null?void 0:e.type}function Yd(e){return ct(e,"datum")}function Fh(e){return Ws(e)&&!WD(e)||VD(e)}function kce(e){return Ws(e)&&e.type==="quantitative"&&!e.bin||VD(e)}function VD(e){return Yd(e)&&gr(e.datum)}function Sn(e){return dt(e)||Yd(e)}function Ws(e){return e&&(ct(e,"field")||e.aggregate==="count")&&ct(e,"type")}function fu(e){return ct(e,"value")}function Ly(e){return ct(e,"scale")||ct(e,"sort")}function lx(e){return ct(e,"axis")||ct(e,"stack")||ct(e,"impute")}function wTe(e){return ct(e,"legend")}function CTe(e){return ct(e,"format")||ct(e,"formatType")}function C8t(e){return cl(e,["legend","axis","header","scale"])}function _8t(e){return ct(e,"op")}function St(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(k8t(e))n=fRe("count");else{let s;if(!t.nofn)if(_8t(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:c}=e;Kr(a)?(s=kRe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Yg(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):fp(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):c&&!Ny(c)&&(s=kBt(c),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?oS(n):t.expr?cRe(n,t.expr)+o:vc(n)+o}function WD(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return dt(e)&&!!e.bin;case"temporal":return!1}throw new Error(FRe(e.type))}function E8t(e){var t;return Ly(e)&&sx((t=e.scale)==null?void 0:t.type)}function k8t(e){return e.aggregate==="count"}function R8t(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Kr(r))return`${n} (binned)`;if(i&&!Ny(i)){const a=(s=wo(i))==null?void 0:s.unit;if(a)return`${n} (${d5(a).join("-")})`}else if(o)return Yg(o)?`${n} for max ${o.argmax}`:fp(o)?`${n} for min ${o.argmin}`:`${ek(o)} of ${n}`;return n}function T8t(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Yg(t))return`${i} for argmax(${t.argmax})`;if(fp(t))return`${i} for argmin(${t.argmin})`;const o=r&&!Ny(r)?wo(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Kr(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const _Te=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return T8t(e);default:return R8t(e,t)}};let ETe=_Te;function kTe(e){ETe=e}function M8t(){kTe(_Te)}function Hb(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=hY(e))==null?void 0:a.title;if(!dt(e))return i??e.title;const o=e,s=r?gY(o,t):void 0;return n?zi(i,o.title,s):i??o.title??s}function hY(e){if(lx(e)&&e.axis)return e.axis;if(wTe(e)&&e.legend)return e.legend;if(fY(e)&&e.header)return e.header}function gY(e,t){return ETe(e,t)}function qD(e){if(CTe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=hY(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function A8t(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(pY(e)&&Xe(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Yg(n)&&!fp(n))return"quantitative";if(Ly(e)&&((o=e.scale)!=null&&o.type))switch(W8[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function pu(e){if(dt(e))return e;if(b5(e))return e.condition}function oo(e){if(Sn(e))return e;if(ck(e))return e.condition}function RTe(e,t,n,r={}){if(Mt(e)||gr(e)||Ng(e)){const i=Mt(e)?"string":gr(e)?"number":"boolean";return ut(M6t(t,i,e)),{value:e}}return Sn(e)?GD(e,t,n,r):ck(e)?{...e,condition:GD(e.condition,t,n,r)}:e}function GD(e,t,n,r){if(CTe(e)){const{format:i,formatType:o,...s}=e;if(ay(o)&&!n.customFormatTypes)return ut(vce(t)),GD(s,t,n,r)}else{const i=lx(e)?"axis":wTe(e)?"legend":fY(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(ay(s)&&!n.customFormatTypes)return ut(vce(t)),GD({...e,[i]:a},t,n,r)}}return dt(e)?mY(e,t,r):O8t(e)}function O8t(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=gr(n)?"quantitative":Mt(n)?"nominal":Fy(n)?"temporal":void 0,{...e,type:t}}function mY(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!BG(r)&&!Yg(r)&&!fp(r)&&(ut(O6t(r)),delete a.aggregate),i&&(a.timeUnit=wo(i)),s&&(a.field=`${s}`),Kr(o)&&(a.bin=x5(o,t)),Io(o)&&!Bi(t)&&ut(cBt(t)),Ws(a)){const{type:l}=a,c=IBt(l);l!==c&&(a.type=c),l!=="quantitative"&&l5(r)&&(ut(A6t(l,r)),a.type="quantitative")}else if(!xRe(t)){const l=A8t(a,t);a.type=l}if(Ws(a)){const{compatible:l,warning:c}=D8t(a,t)||{};l===!1&&ut(c)}if(pY(a)&&Mt(a.sort)){const{sort:l}=a;if(_ce(l))return{...a,sort:{encoding:l}};const c=l.substring(1);if(l.charAt(0)==="-"&&_ce(c))return{...a,sort:{encoding:c,order:"descending"}}}if(fY(a)){const{header:l}=a;if(l){const{orient:c,...u}=l;if(c)return{...a,header:{...u,labelOrient:l.labelOrient||c,titleOrient:l.titleOrient||c}}}}return a}function x5(e,t){return Ng(e)?{maxbins:cce(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:cce(t)}:e}const qv={compatible:!0};function D8t(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Gf:case Yf:case n5:return WD(e)?qv:{compatible:!1,warning:$6t(t)};case ci:case To:case Ug:case sS:case Ea:case Vd:case Wd:case tk:case nk:case r5:case ny:case i5:case o5:case Dy:case _c:case Ru:case s5:return qv;case Mu:case bc:case Tu:case Au:return n!==oy?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:qv;case wp:case Vg:case Wg:case qg:case Sp:case xp:case bp:case ku:case Hd:case Hg:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:qv;case ka:case Gg:return!WD(e)&&!E8t(e)?{compatible:!1,warning:F6t(t)}:qv;case ix:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:qv}}function cx(e){const{formatType:t}=qD(e);return t==="time"||!t&&P8t(e)}function P8t(e){return e&&(e.type==="temporal"||dt(e)&&!!e.timeUnit)}function S5(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=wo(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return ik(e)?a=e.expr:Ut(e)?a=e.signal:Fy(e)?(s=!0,a=iy(e)):(Mt(e)||gr(e))&&s&&(a=`datetime(${Rr(e)})`,SBt(o)&&(gr(e)&&e<1e4||Mt(e)&&isNaN(Date.parse(e)))&&(a=iy({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:Rr(e)}function TTe(e,t){const{type:n}=e;return t.map(r=>{const i=dt(e)&&!Ny(e.timeUnit)?e.timeUnit:void 0,o=S5(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function uk(e,t){return Kr(e.bin)?Gd(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Rce={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function dk(e){return e==null?void 0:e.condition}const MTe=["domain","grid","labels","ticks","title"],I8t={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},ATe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},$8t={...ATe,style:1,labelExpr:1,encoding:1};function Tce(e){return Pt($8t,e)}const F8t={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},OTe=at(F8t);function _p(e){return ct(e,"mark")}class w5{constructor(t,n){tt(this,"name");tt(this,"run");this.name=t,this.run=n}hasMatchingType(t){return _p(t)?u8t(t.mark)===this.name:!1}}function w0(e,t){const n=e==null?void 0:e[t];return n?Xe(n)?nx(n,r=>!!r.field):dt(n)||b5(n):!1}function DTe(e,t){const n=e==null?void 0:e[t];return n?Xe(n)?nx(n,r=>!!r.field):dt(n)||Yd(n)||ck(n):!1}function PTe(e,t){if(Bi(t)){const n=e[t];if((dt(n)||Yd(n))&&(JRe(n.type)||dt(n)&&n.timeUnit)){const r=FG(t);return DTe(e,r)}}return!1}function ITe(e){return nx(Ozt,t=>{if(w0(e,t)){const n=e[t];if(Xe(n))return nx(n,r=>!!r.aggregate);{const r=pu(n);return r&&!!r.aggregate}}return!1})}function $Te(e,t){const n=[],r=[],i=[],o=[],s={};return yY(e,(a,l)=>{if(dt(a)){const{field:c,aggregate:u,bin:d,timeUnit:f,...p}=a;if(u||f||d){const g=hY(a),m=g==null?void 0:g.title;let v=St(a,{forAs:!0});const b={...m?[]:{title:Hb(a,t,{allowDisabling:!0})},...p,field:v};if(u){let S;if(Yg(u)?(S="argmax",v=St({op:"argmax",field:u.argmax},{forAs:!0}),b.field=`${v}.${c}`):fp(u)?(S="argmin",v=St({op:"argmin",field:u.argmin},{forAs:!0}),b.field=`${v}.${c}`):u!=="boxplot"&&u!=="errorbar"&&u!=="errorband"&&(S=u),S){const C={op:S,as:v};c&&(C.field=c),o.push(C)}}else if(n.push(v),Ws(a)&&Kr(d)){if(r.push({bin:d,field:c,as:v}),n.push(St(a,{binSuffix:"end"})),uk(a,l)&&n.push(St(a,{binSuffix:"range"})),Bi(l)){const S={field:`${v}_end`};s[`${l}2`]=S}b.bin="binned",xRe(l)||(b.type=oy)}else if(f&&!Ny(f)){i.push({timeUnit:f,field:c,as:v});const S=Ws(a)&&a.type!==ox&&"time";S&&(l===tk||l===ny?b.formatType=S:Uzt(l)?b.legend={formatType:S,...b.legend}:Bi(l)&&(b.axis={formatType:S,...b.axis}))}s[l]=b}else n.push(c),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function N8t(e,t,n){const r=Vzt(t,n);if(r){if(r==="binned"){const i=e[t===ku?ci:To];return!!(dt(i)&&dt(e[t])&&Io(i.bin))}}else return!1;return!0}function L8t(e,t,n,r){const i={};for(const o of at(e))bRe(o)||ut(I6t(o));for(let o of Nzt){if(!e[o])continue;const s=e[o];if(rk(o)){const a=Fzt(o),l=i[a];if(dt(l)&&PBt(l.type)&&dt(s)&&!l.timeUnit){ut(T6t(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(ut(R6t),o=_c),!N8t(e,o,t)){ut(u5(o,t));continue}if(o===Sp&&t==="line"){const a=pu(e[o]);if(a!=null&&a.aggregate){ut(P6t);continue}}if(o===Ea&&(n?"fill"in e:"stroke"in e)){ut(NRe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===nk||o===ix&&!Xe(s)&&!fu(s)||o===ny&&Xe(s)){if(s){if(o===ix){const a=e[o];if(STe(a)){i[o]=a;continue}}i[o]=Tt(s).reduce((a,l)=>(dt(l)?a.push(mY(l,o)):ut(V8(l,o)),a),[])}}else{if(o===ny&&s===null)i[o]=null;else if(!dt(s)&&!Yd(s)&&!fu(s)&&!lk(s)&&!Ut(s)){ut(V8(s,o));continue}i[o]=RTe(s,o,r)}}return i}function C5(e,t){const n={};for(const r of at(e)){const i=RTe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function j8t(e){const t=[];for(const n of at(e))if(w0(e,n)){const r=e[n],i=Tt(r);for(const o of i)dt(o)?t.push(o):b5(o)&&t.push(o.condition)}return t}function yY(e,t,n){if(e)for(const r of at(e)){const i=e[r];if(Xe(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function z8t(e,t,n,r){return e?at(e).reduce((i,o)=>{const s=e[o];return Xe(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function FTe(e,t){return at(t).reduce((n,r)=>{switch(r){case ci:case To:case i5:case s5:case o5:case ku:case Hd:case Ug:case sS:case _c:case xp:case Ru:case bp:case Hg:case Tu:case Mu:case Au:case bc:case tk:case ka:case Dy:case ny:return n;case ix:if(e==="line"||e==="trail")return n;case nk:case r5:{const i=t[r];if(Xe(i)||dt(i))for(const o of Tt(i))o.aggregate||n.push(St(o,{}));return n}case Sp:if(e==="trail")return n;case Ea:case Vd:case Wd:case wp:case Vg:case Wg:case Gg:case qg:{const i=pu(t[r]);return i&&!i.aggregate&&n.push(St(i,{})),n}}},[])}function B8t(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Xe(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Xe(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function Y8(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${vY(t)}`:"";return{field:s+t.field,type:t.type,title:Ut(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=j8t(n).map(C8t);return{tooltip:[...i,...ld(o,Kn)]}}function vY(e){const{title:t,field:n}=e;return zi(t,n)}function bY(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:c,endPositionPrefix:u=void 0,extraEncoding:d={}})=>{const f=vY(n);return NTe(e,a,i,{mark:l,encoding:{[t]:{field:`${c}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...Mt(u)?{[`${t}2`]:{field:`${u}_${n.field}`}}:{},...r,...d}})}}function NTe(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...Dd(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...Ng(e[t])?{}:e[t]}}]:[]}function LTe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:iM(o,n),continuousAxisChannelDef2:iM(s,n),continuousAxisChannelDefError:iM(a,n),continuousAxisChannelDefError2:iM(l,n),continuousAxis:i}}function iM(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&ut(lBt(n,t)),r}else return e}function jTe(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(Dd(n)&&n.orient)return n.orient;if(Fh(i)){if(Fh(o)){const s=dt(i)&&i.aggregate,a=dt(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return cx(o)&&!cx(i)?"horizontal":"vertical"}return"horizontal"}else{if(Fh(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const YD="boxplot",U8t=["box","median","outliers","rule","ticks"],H8t=new w5(YD,BTe);function zTe(e){return gr(e)?"tukey":e}function BTe(e,{config:t}){e={...e,encoding:C5(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=Dd(n)?n:{type:n};i&&ut($Re("boxplot"));const l=a.extent??t.boxplot.extent,c=zr("size",a,t),u=a.invalid,d=zTe(l),{bins:f,timeUnits:p,transform:g,continuousAxisChannelDef:m,continuousAxis:v,groupby:b,aggregate:S,encodingWithoutContinuousAxis:C,ticksOrient:_,boxOrient:E,customTooltipWithoutAggregatedField:T}=V8t(e,l,t),k=oS(m.field),{color:A,size:P,...D}=C,F=X=>bY(a,v,m,X,t.boxplot),I=F(D),j=F(C),M=(At(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",$=F({...D,...P?{size:P}:{},color:{condition:{test:`${Dr(`lower_box_${m.field}`)} >= ${Dr(`upper_box_${m.field}`)}`,...A||{value:M}}}}),L=Y8([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,C),V={type:"tick",color:"black",opacity:1,orient:_,invalid:u,aria:!1},q=d==="min-max"?L:Y8([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,C),U=[...I({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:q}),...I({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:q}),...I({partName:"ticks",mark:V,positionPrefix:"lower_whisker",extraEncoding:q}),...I({partName:"ticks",mark:V,positionPrefix:"upper_whisker",extraEncoding:q})],z=[...d!=="tukey"?U:[],...j({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:E,invalid:u,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:L}),...$({partName:"median",mark:{type:"tick",invalid:u,...At(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:L})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(g),layer:z};const B=Dr(`lower_box_${m.field}`),G=Dr(`upper_box_${m.field}`),Y=`(${G} - ${B})`,Q=`${B} - ${l} * ${Y}`,K=`${G} + ${l} * ${Y}`,te=Dr(m.field),ce={joinaggregate:UTe(m.field),groupby:b},ie={transform:[{filter:`(${Q} <= ${te}) && (${te} <= ${K})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${k}`},{op:"max",field:m.field,as:`upper_whisker_${k}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${k}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${k}`},...S],groupby:b}],layer:U},{tooltip:re,...he}=D,{scale:fe,axis:ne}=m,pe=vY(m),W=NTe(a,"outliers",t.boxplot,{transform:[{filter:`(${te} < ${Q}) || (${te} > ${K})`}],mark:"point",encoding:{[v]:{field:m.field,type:m.type,...pe!==void 0?{title:pe}:{},...fe!==void 0?{scale:fe}:{},...ne!==void 0?{axis:ne}:{}},...he,...A?{color:A}:{},...T?{tooltip:T}:{}}})[0];let se;const ae=[...f,...p,ce];return W?se={transform:ae,layer:[W,ie]}:(se=ie,se.transform.unshift(...ae)),{...s,layer:[se,{transform:g,layer:z}]}}function UTe(e){const t=oS(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function V8t(e,t,n){const r=jTe(e,YD),{continuousAxisChannelDef:i,continuousAxis:o}=LTe(e,r,YD),s=i.field,a=oS(s),l=zTe(t),c=[...UTe(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],u=l==="min-max"||l==="tukey"?[]:[{calculate:`${Dr(`upper_box_${a}`)} - ${Dr(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${Dr(`upper_box_${a}`)} + ${Dr(`iqr_${a}`)} * ${t}, ${Dr(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${Dr(`lower_box_${a}`)} - ${Dr(`iqr_${a}`)} * ${t}, ${Dr(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[o]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:p,filteredEncoding:g}=B8t(f),{bins:m,timeUnits:v,aggregate:b,groupby:S,encoding:C}=$Te(g,n),_=r==="vertical"?"horizontal":"vertical",E=r,T=[...m,...v,{aggregate:[...b,...c],groupby:S},...u];return{bins:m,timeUnits:v,transform:T,groupby:S,aggregate:b,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:C,ticksOrient:_,boxOrient:E,customTooltipWithoutAggregatedField:p}}const xY="errorbar",W8t=["ticks","rule"],q8t=new w5(xY,HTe);function HTe(e,{config:t}){e={...e,encoding:C5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:c}=VTe(e,xY,t);delete o.size;const u=bY(a,i,r,o,t.errorbar),d=a.thickness,f=a.size,p={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},g=[...u({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:c}),...u({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:c}),...u({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...l,transform:n,...g.length>1?{layer:g}:{...g[0]}}}function G8t(e,t){const{encoding:n}=e;if(Y8t(n))return{orient:jTe(e,t),inputType:"raw"};const r=X8t(n),i=K8t(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Sn(a)&&Sn(l))throw new Error(`${t} cannot have both x2 and y2`);if(Sn(a)){if(Fh(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Sn(l)){if(Fh(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,c=n.yError,u=n.yError2;if(Sn(l)&&!Sn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Sn(u)&&!Sn(c))throw new Error(`${t} cannot have yError2 without yError`);if(Sn(a)&&Sn(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Sn(a)){if(Fh(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Sn(c)){if(Fh(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Y8t(e){return(Sn(e.x)||Sn(e.y))&&!Sn(e.x2)&&!Sn(e.y2)&&!Sn(e.xError)&&!Sn(e.xError2)&&!Sn(e.yError)&&!Sn(e.yError2)}function X8t(e){return Sn(e.x2)||Sn(e.y2)}function K8t(e){return Sn(e.xError)||Sn(e.xError2)||Sn(e.yError)||Sn(e.yError2)}function VTe(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=Dd(r)?r:{type:r};o&&ut($Re(t));const{orient:c,inputType:u}=G8t(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:m}=LTe(e,c,t),{errorBarSpecificAggregate:v,postAggregateCalculates:b,tooltipSummary:S,tooltipTitleWithFieldName:C}=Q8t(l,d,f,p,g,u,t,n),{[m]:_,[m==="x"?"x2":"y2"]:E,[m==="x"?"xError":"yError"]:T,[m==="x"?"xError2":"yError2"]:k,...A}=i,{bins:P,timeUnits:D,aggregate:F,groupby:I,encoding:j}=$Te(A,n),M=[...F,...v],$=u!=="raw"?[]:I,L=Y8(S,d,j,C);return{transform:[...a.transform??[],...P,...D,...M.length===0?[]:[{aggregate:M,groupby:$}],...b],groupby:$,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:j,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:L}}function Q8t(e,t,n,r,i,o,s,a){let l=[],c=[];const u=t.field;let d,f=!1;if(o==="raw"){const p=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,g=e.extent?e.extent:p==="mean"?"stderr":"iqr";if(p==="median"!=(g==="iqr")&&ut(aBt(p,g,s)),g==="stderr"||g==="stdev")l=[{op:g,field:u,as:`extent_${u}`},{op:p,field:u,as:`center_${u}`}],c=[{calculate:`${Dr(`center_${u}`)} + ${Dr(`extent_${u}`)}`,as:`upper_${u}`},{calculate:`${Dr(`center_${u}`)} - ${Dr(`extent_${u}`)}`,as:`lower_${u}`}],d=[{fieldPrefix:"center_",titlePrefix:ek(p)},{fieldPrefix:"upper_",titlePrefix:Mce(p,g,"+")},{fieldPrefix:"lower_",titlePrefix:Mce(p,g,"-")}],f=!0;else{let m,v,b;g==="ci"?(m="mean",v="ci0",b="ci1"):(m="median",v="q1",b="q3"),l=[{op:v,field:u,as:`lower_${u}`},{op:b,field:u,as:`upper_${u}`},{op:m,field:u,as:`center_${u}`}],d=[{fieldPrefix:"upper_",titlePrefix:Hb({field:u,aggregate:b,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Hb({field:u,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Hb({field:u,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&ut(sBt(e.center,e.extent)),o==="aggregated-upper-lower"?(d=[],c=[{calculate:Dr(n.field),as:`upper_${u}`},{calculate:Dr(u),as:`lower_${u}`}]):o==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`${Dr(u)} + ${Dr(r.field)}`,as:`upper_${u}`}],i?c.push({calculate:`${Dr(u)} + ${Dr(i.field)}`,as:`lower_${u}`}):c.push({calculate:`${Dr(u)} - ${Dr(r.field)}`,as:`lower_${u}`}));for(const p of c)d.push({fieldPrefix:p.as.substring(0,6),titlePrefix:ty(ty(p.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function Mce(e,t,n){return`${ek(e)} ${n} ${t}`}const SY="errorband",Z8t=["band","borders"],J8t=new w5(SY,WTe);function WTe(e,{config:t}){e={...e,encoding:C5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=VTe(e,SY,t),c=s,u=bY(c,i,r,o,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},p={type:d?"line":"rule"};const g={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return d?(f={...f,...g,ariaRoleDescription:"errorband"},p={...p,...g,aria:!1}):c.interpolate?ut(xce("interpolate")):c.tension&&ut(xce("tension")),{...a,transform:n,layer:[...u({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...u({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:l}),...u({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:l})]}}const qTe={};function wY(e,t,n){const r=new w5(e,t);qTe[e]={normalizer:r,parts:n}}function e9t(){return at(qTe)}wY(YD,BTe,U8t);wY(xY,HTe,W8t);wY(SY,WTe,Z8t);const t9t=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],GTe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},YTe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},n9t=at(GTe),r9t=at(YTe),i9t={header:1,headerRow:1,headerColumn:1,headerFacet:1},XTe=at(i9t),KTe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],o9t={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},s9t={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},hu="_vgsid_",a9t={point:{on:"click",fields:[hu],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function CY(e){return e==="legend"||!!(e!=null&&e.legend)}function fj(e){return CY(e)&&At(e)}function _Y(e){return!!(e!=null&&e.select)}function QTe(e){const t=[];for(const n of e||[]){if(_Y(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function l9t(e){return _5(e)||kY(e)||EY(e)}function EY(e){return ct(e,"concat")}function _5(e){return ct(e,"vconcat")}function kY(e){return ct(e,"hconcat")}function ZTe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Pd(e){return ct(e,"step")}function Ace(e){return ct(e,"view")||ct(e,"width")||ct(e,"height")}const Oce=20,c9t={align:1,bounds:1,center:1,columns:1,spacing:1},u9t=at(c9t);function d9t(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(v5(e)&&!ak(e.facet)||EY(e))&&(i.columns=s),_5(e)&&(i.columns=1);for(const a of u9t)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=gr(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function X8(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function K8(e,t){const n=XD(e,t);return Pd(n)?n.step:JTe}function XD(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return zi(n,{step:e.step})}const JTe=20,f9t={continuousWidth:300,continuousHeight:300,step:JTe},p9t={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:f9t,mark:i8t,arc:{},area:{},bar:l8t,circle:{},geoshape:{},image:{},line:{},point:{},rect:aY,rule:{color:"black"},square:{},text:{color:"black"},tick:c8t,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:jBt,projection:{},legend:o9t,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:a9t,style:{},title:{},facet:{spacing:Oce},concat:{spacing:Oce},normalizedNumberFormat:".0%"},mf=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Dce={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Pce={blue:mf[0],orange:mf[1],red:mf[2],teal:mf[3],green:mf[4],yellow:mf[5],purple:mf[6],pink:mf[7],brown:mf[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function h9t(e={}){return{signals:[{name:"color",value:At(e)?{...Pce,...e}:Pce}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function g9t(e){return{signals:[{name:"fontSize",value:At(e)?{...Dce,...e}:Dce}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function m9t(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function eMe(e){const t=at(e||{}),n={};for(const r of t){const i=e[r];n[r]=dk(i)?TRe(i):Qa(i)}return n}function y9t(e){const t=at(e),n={};for(const r of t)n[r]=eMe(e[r]);return n}const v9t=[...cTe,...OTe,...XTe,"background","padding","legend","lineBreak","scale","style","title","view"];function tMe(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=Hx({},yn(p9t),n?m9t(n):{},t?h9t(t):{},r?g9t(r):{},o||{});i&&Vx(s,"selection",i,!0);const a=cl(s,v9t);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Qa(s[l]));for(const l of cTe)s[l]&&(a[l]=Fo(s[l]));for(const l of OTe)s[l]&&(a[l]=eMe(s[l]));for(const l of XTe)s[l]&&(a[l]=Fo(s[l]));if(s.legend&&(a.legend=Fo(s.legend)),s.scale){const{invalid:l,...c}=s.scale,u=Fo(l,{level:1});a.scale={...Fo(c),...at(u).length>0?{invalid:u}:{}}}return s.style&&(a.style=y9t(s.style)),s.title&&(a.title=Fo(s.title)),s.view&&(a.view=Fo(s.view)),a}const b9t=new Set(["view",...ZBt]),x9t=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],S9t={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...r8t};function w9t(e){e=yn(e);for(const t of x9t)delete e[t];if(e.axis)for(const t in e.axis)dk(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of t9t)delete e.legend[t];if(e.mark){for(const t of wce)delete e.mark[t];e.mark.tooltip&&At(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(QTe(e.params)),delete e.params);for(const t of b9t){for(const r of wce)delete e[t][r];const n=S9t[t];if(n)for(const r of n)delete e[t][r];_9t(e,t)}for(const t of e9t())delete e[t];C9t(e);for(const t in e)At(e[t])&&qr(e[t])&&delete e[t];return qr(e)?void 0:e}function C9t(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=RRe(e.title);qr(t)||(e.style["group-title"]={...e.style["group-title"],...t}),qr(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),qr(r)?delete e.title:e.title=r}function _9t(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};qr(o)||(e.style[n??t]=o),delete e[t]}function E5(e){return ct(e,"layer")}function E9t(e){return ct(e,"repeat")}function k9t(e){return!Xe(e.repeat)&&ct(e.repeat,"layer")}class RY{map(t,n){return v5(t)?this.mapFacet(t,n):E9t(t)?this.mapRepeat(t,n):kY(t)?this.mapHConcat(t,n):_5(t)?this.mapVConcat(t,n):EY(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(E5(t))return this.mapLayer(t,n);if(_p(t))return this.mapUnit(t,n);throw new Error(UG(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const R9t={zero:1,center:1,normalize:1};function T9t(e){return Pt(R9t,e)}const M9t=new Set([sTe,h5,p5,UD,m5,oY,sY,g5,aTe,iY]),A9t=new Set([h5,p5,sTe]);function Gv(e){return dt(e)&&ax(e)==="quantitative"&&!e.bin}function Ice(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(dt(s)&&dt(a))if(Gv(s)&&Gv(a)){if(s.stack)return t;if(a.stack)return i;const l=dt(s)&&!!s.aggregate,c=dt(a)&&!!a.aggregate;if(l!==c)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Gv(s))return t;if(Gv(a))return i}else{if(Gv(s))return o&&n==="vertical"?void 0:t;if(Gv(a))return o&&n==="horizontal"?void 0:i}}function O9t(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function nMe(e,t){var m,v;const n=Dd(e)?e:{type:e},r=n.type;if(!M9t.has(r))return null;const i=Ice(t,"x",n)||Ice(t,"theta",n);if(!i)return null;const o=t[i],s=dt(o)?St(o,{}):void 0,a=O9t(i),l=[],c=new Set;if(t[a]){const b=t[a],S=dt(b)?St(b,{}):void 0;S&&S!==s&&(l.push(a),c.add(S))}const u=a==="x"?"xOffset":"yOffset",d=t[u],f=dt(d)?St(d,{}):void 0;f&&f!==s&&(l.push(u),c.add(f));const p=Lzt.reduce((b,S)=>{if(S!=="tooltip"&&w0(t,S)){const C=t[S];for(const _ of Tt(C)){const E=pu(_);if(E.aggregate)continue;const T=St(E,{});(!T||!c.has(T))&&b.push({channel:S,fieldDef:E})}}return b},[]);let g;return o.stack!==void 0?Ng(o.stack)?g=o.stack?"zero":null:g=o.stack:A9t.has(r)&&(g="zero"),!g||!T9t(g)||ITe(t)&&p.length===0?null:((m=o==null?void 0:o.scale)!=null&&m.type&&((v=o==null?void 0:o.scale)==null?void 0:v.type)!==No.LINEAR&&o!=null&&o.stack&&ut(rBt(o.scale.type)),Sn(t[qd(i)])?(o.stack!==void 0&&ut(nBt(i)),null):(dt(o)&&o.aggregate&&!Qzt.has(o.aggregate)&&ut(iBt(o.aggregate)),{groupbyChannels:l,groupbyFields:c,fieldChannel:i,impute:o.impute===null?!1:Xg(r),stackBy:p,offset:g}))}function rMe(e,t,n){const r=Fo(e),i=zr("orient",r,n);if(r.orient=$9t(r.type,t,i),i!==void 0&&i!==r.orient&&ut(z6t(r.orient,i)),r.type==="bar"&&r.orient){const l=zr("cornerRadiusEnd",r,n);if(l!==void 0){const c=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:s8t[r.orient];for(const u of c)r[u]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=zr("opacity",r,n),s=zr("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=P9t(r.type,t)),zr("cursor",r,n)===void 0&&(r.cursor=D9t(r,t,n)),r}function D9t(e,t,n){return t.href||e.href||zr("href",e,n)?"pointer":e.cursor}function P9t(e,t){if(Un([m5,iY,oY,sY],e)&&!ITe(t))return .7}function I9t(e,t,{graticule:n}){if(n)return!1;const r=Od("filled",e,t),i=e.type;return zi(r,i!==m5&&i!==g5&&i!==UD)}function $9t(e,t,n){switch(e){case m5:case oY:case sY:case aTe:case KBt:case XBt:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case h5:if(dt(r)&&(Io(r.bin)||dt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(dt(i)&&(Io(i.bin)||dt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(dt(r)&&r.type===oy&&!Kr(r.bin)||VD(r))&&dt(i)&&Io(i.bin)?"horizontal":"vertical";if(!s)return(dt(i)&&i.type===oy&&!Kr(i.bin)||VD(i))&&dt(r)&&Io(r.bin)?"vertical":"horizontal"}case UD:if(o&&!(dt(r)&&Io(r.bin))&&s&&!(dt(i)&&Io(i.bin)))return;case p5:if(s)return dt(i)&&Io(i.bin)?"horizontal":"vertical";if(o)return dt(r)&&Io(r.bin)?"vertical":"horizontal";if(e===UD){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case g5:case iY:{const a=kce(r),l=kce(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const c=Ws(r)&&r.type===ox,u=Ws(i)&&i.type===ox;if(c&&!u)return"vertical";if(!c&&u)return"horizontal"}return}}return"vertical"}function F9t(e){const{point:t,line:n,...r}=e;return at(r).length>1?r:r.type}function N9t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:cl(e[t],["point","line"])});return e}function pj(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?At(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?At(t.point)?t.point:{}:void 0}function $ce(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class L9t{constructor(){tt(this,"name","path-overlay")}hasMatchingType(t,n){if(_p(t)){const{mark:r,encoding:i}=t,o=Dd(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!pj(o,n[o.type],i);case"area":return!!pj(o,n[o.type],i)||!!$ce(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:c,...u}=t,d=C5(c,i),f=Dd(a)?a:{type:a},p=pj(f,i[f.type],d),g=f.type==="area"&&$ce(f,i[f.type]),m=[{name:l,...o?{params:o}:{},mark:F9t({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:cl(d,["shape"])}],v=nMe(rMe(f,d,i),d);let b=d;if(v){const{fieldChannel:S,offset:C}=v;b={...d,[S]:{...d[S],...C?{stack:C}:{}}}}return b=cl(b,["y2","x2"]),g&&m.push({...s?{projection:s}:{},mark:{type:"line",...tx(f,["clip","interpolate","tension","tooltip"]),...g},encoding:b}),p&&m.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...tx(f,["clip","tooltip"]),...p},encoding:b}),r({...u,layer:m},{...n,config:N9t(i)})}}function j9t(e,t){return t?ak(e)?oMe(e,t):iMe(e,t):e}function hj(e,t){return t?oMe(e,t):e}function Q8(e,t,n){const r=t[e];if(S8t(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};ut(y6t(r.repeat));return}return t}function iMe(e,t){if(e=Q8("field",e,t),e!==void 0){if(e===null)return null;if(pY(e)&&Xf(e.sort)){const n=Q8("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Fce(e,t){if(dt(e))return iMe(e,t);{const n=Q8("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Nce(e,t){if(Sn(e)){const n=Fce(e,t);if(n)return n;if(lk(e))return{condition:e.condition}}else{if(ck(e)){const n=Fce(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function oMe(e,t){const n={};for(const r in e)if(ct(e,r)){const i=e[r];if(Xe(i))n[r]=i.map(o=>Nce(o,t)).filter(o=>o);else{const o=Nce(i,t);o!==void 0&&(n[r]=o)}}return n}class z9t{constructor(){tt(this,"name","RuleForRangedLine")}hasMatchingType(t){if(_p(t)){const{encoding:n,mark:r}=t;if(r==="line"||Dd(r)&&r.type==="line")for(const i of $zt){const o=Py(i),s=n[o];if(n[i]&&(dt(s)&&!Io(s.bin)||Yd(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return ut(j6t(!!i.x2,!!i.y2)),r({...t,mark:At(o)?{...o,type:"rule"}:"rule"},n)}}class B9t extends RY{constructor(){super(...arguments);tt(this,"nonFacetUnitNormalizers",[H8t,q8t,J8t,new L9t,new z9t])}map(n,r){if(_p(n)){const i=w0(n.encoding,Gf),o=w0(n.encoding,Yf),s=w0(n.encoding,n5);if(i||o||s)return this.mapFacetedUnit(n,r)}return super.map(n,r)}mapUnit(n,r){const{parentEncoding:i,parentProjection:o}=r,s=hj(n.encoding,r.repeater),a={...n,...n.name?{name:[r.repeaterPrefix,n.name].filter(c=>c).join("_")}:{},...s?{encoding:s}:{}};if(i||o)return this.mapUnitWithParentEncodingOrProjection(a,r);const l=this.mapLayerOrUnit.bind(this);for(const c of this.nonFacetUnitNormalizers)if(c.hasMatchingType(a,r.config))return c.run(a,r,l);return a}mapRepeat(n,r){return k9t(n)?this.mapLayerRepeat(n,r):this.mapNonLayerRepeat(n,r)}mapLayerRepeat(n,r){const{repeat:i,spec:o,...s}=n,{row:a,column:l,layer:c}=i,{repeater:u={},repeaterPrefix:d=""}=r;return a||l?this.mapRepeat({...n,repeat:{...a?{row:a}:{},...l?{column:l}:{}},spec:{repeat:{layer:c},spec:o}},r):{...s,layer:c.map(f=>{const p={...u,layer:f},g=`${(o.name?`${o.name}_`:"")+d}child__layer_${oi(f)}`,m=this.mapLayerOrUnit(o,{...r,repeater:p,repeaterPrefix:g});return m.name=g,m})}}mapNonLayerRepeat(n,r){const{repeat:i,spec:o,data:s,...a}=n;!Xe(i)&&n.columns&&(n=cl(n,["columns"]),ut(mce("repeat")));const l=[],{repeater:c={},repeaterPrefix:u=""}=r,d=!Xe(i)&&i.row||[c?c.row:null],f=!Xe(i)&&i.column||[c?c.column:null],p=Xe(i)&&i||[c?c.repeat:null];for(const m of p)for(const v of d)for(const b of f){const S={repeat:m,row:v,column:b,layer:c.layer},C=`${(o.name?`${o.name}_`:"")+u}child__${Xe(i)?`${oi(m)}`:(i.row?`row_${oi(v)}`:"")+(i.column?`column_${oi(b)}`:"")}`,_=this.map(o,{...r,repeater:S,repeaterPrefix:C});_.name=C,l.push(cl(_,["data"]))}const g=Xe(i)?n.columns:i.column?i.column.length:1;return{data:o.data??s,align:"all",...a,columns:g,concat:l}}mapFacet(n,r){const{facet:i}=n;return ak(i)&&n.columns&&(n=cl(n,["columns"]),ut(mce("facet"))),super.mapFacet(n,r)}mapUnitWithParentEncodingOrProjection(n,r){const{encoding:i,projection:o}=n,{parentEncoding:s,parentProjection:a,config:l}=r,c=jce({parentProjection:a,projection:o}),u=Lce({parentEncoding:s,encoding:hj(i,r.repeater)});return this.mapUnit({...n,...c?{projection:c}:{},...u?{encoding:u}:{}},{config:l})}mapFacetedUnit(n,r){const{row:i,column:o,facet:s,...a}=n.encoding,{mark:l,width:c,projection:u,height:d,view:f,params:p,encoding:g,...m}=n,{facetMapping:v,layout:b}=this.getFacetMappingAndLayout({row:i,column:o,facet:s},r),S=hj(a,r.repeater);return this.mapFacet({...m,...b,facet:v,spec:{...c?{width:c}:{},...d?{height:d}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:l,encoding:S,...p?{params:p}:{}}},r)}getFacetMappingAndLayout(n,r){const{row:i,column:o,facet:s}=n;if(i||o){s&&ut(N6t([...i?[Gf]:[],...o?[Yf]:[]]));const a={},l={};for(const c of[Gf,Yf]){const u=n[c];if(u){const{align:d,center:f,spacing:p,columns:g,...m}=u;a[c]=m;for(const v of["align","center","spacing"])u[v]!==void 0&&(l[v]??(l[v]={}),l[v][c]=u[v])}}return{facetMapping:a,layout:l}}else{const{align:a,center:l,spacing:c,columns:u,...d}=s;return{facetMapping:j9t(d,r.repeater),layout:{...a?{align:a}:{},...l?{center:l}:{},...c?{spacing:c}:{},...u?{columns:u}:{}}}}}mapLayer(n,{parentEncoding:r,parentProjection:i,...o}){const{encoding:s,projection:a,...l}=n,c={...o,parentEncoding:Lce({parentEncoding:r,encoding:s,layer:!0}),parentProjection:jce({parentProjection:i,projection:a})};return super.mapLayer({...l,...n.name?{name:[c.repeaterPrefix,n.name].filter(u=>u).join("_")}:{}},c)}}function Lce({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...at(e),...at(t)]);for(const o of i){const s=t[o],a=e[o];if(Sn(s)){const l={...a,...s};r[o]=l}else ck(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||fu(a)||Ut(a)||Sn(a)||Xe(a))&&(r[o]=a)}}else r=t;return!r||qr(r)?void 0:r}function jce(e){const{parentProjection:t,projection:n}=e;return t&&n&&ut(k6t({parentProjection:t,projection:n})),n??t}function TY(e){return ct(e,"filter")}function U9t(e){return ct(e,"stop")}function sMe(e){return ct(e,"lookup")}function H9t(e){return ct(e,"data")}function V9t(e){return ct(e,"param")}function W9t(e){return ct(e,"pivot")}function q9t(e){return ct(e,"density")}function G9t(e){return ct(e,"quantile")}function Y9t(e){return ct(e,"regression")}function X9t(e){return ct(e,"loess")}function K9t(e){return ct(e,"sample")}function Q9t(e){return ct(e,"window")}function Z9t(e){return ct(e,"joinaggregate")}function J9t(e){return ct(e,"flatten")}function e7t(e){return ct(e,"calculate")}function aMe(e){return ct(e,"bin")}function t7t(e){return ct(e,"impute")}function n7t(e){return ct(e,"timeUnit")}function r7t(e){return ct(e,"aggregate")}function i7t(e){return ct(e,"stack")}function o7t(e){return ct(e,"fold")}function s7t(e){return ct(e,"extent")&&!ct(e,"density")&&!ct(e,"regression")}function a7t(e){return e.map(t=>TY(t)?{filter:Bb(t.filter,DBt)}:t)}class l7t extends RY{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=zce(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=zce(t,n),t.encoding){const r={};for(const[i,o]of Sg(t.encoding))r[i]=lMe(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Sg(r).map(([o,s])=>{const{init:a,bind:l,empty:c,...u}=s;u.type==="single"?(u.type="point",u.toggle=!1):u.type==="multi"&&(u.type="point"),n.emptySelections[o]=c!=="none";for(const d of Gi(n.selectionPredicates[o]??{}))d.empty=c!=="none";return{name:o,value:a,select:u,bind:l}})}:t}}function zce(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(TY(o))return{filter:Z8(o,t)};if(aMe(o)&&Iy(o.bin))return{...o,bin:cMe(o.bin)};if(sMe(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function lMe(e,t){var r,i;const n=yn(e);if(dt(n)&&Iy(n.bin)&&(n.bin=cMe(n.bin)),Ly(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(lk(n))if(Xe(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...c}=o;return a?o:{...c,test:Z8(o,t)}});else{const{selection:o,param:s,test:a,...l}=lMe(n.condition,t);n.condition=s?n.condition:{...l,test:Z8(n.condition,t)}}return n}function cMe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function Z8(e,t){const n=r=>Bb(r,i=>{var a;const o=t.emptySelections[i]??!0,s={param:i,empty:o};return(a=t.selectionPredicates)[i]??(a[i]=[]),t.selectionPredicates[i].push(s),s});return e.selection?n(e.selection):Bb(e.test||e.filter,r=>r.selection?n(r.selection):r)}class J8 extends RY{map(t,n){const r=n.selections??[];if(t.params&&!_p(t)){const i=[];for(const o of t.params)_Y(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(Mt(a)&&(a===t.name||i.includes(a))||Xe(a)&&a.map(l=>i.indexOf(l)).every((l,c,u)=>l!==-1&&(c===0||l>u[c-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=J8.prototype[e];J8.prototype[e]=function(n,r){return t.call(this,n,c7t(n,r))}}function c7t(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function uMe(e,t){t===void 0&&(t=tMe(e.config));const n=p7t(e,t),{width:r,height:i}=e,o=h7t(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const u7t=new B9t,d7t=new l7t,f7t=new J8;function p7t(e,t={}){const n={config:t};return f7t.map(u7t.map(d7t.map(e,n),n),n)}function Bce(e){return Mt(e)?{type:e}:e??{}}function h7t(e,t,n){let{width:r,height:i}=t;const o=_p(e)||E5(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(ut(fce("width")),r=void 0),i=="container"&&(ut(fce("height")),i=void 0));const a={type:"pad",...s,...n?Bce(n.autosize):{},...Bce(e.autosize)};if(a.type==="fit"&&!o&&(ut(s6t),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&ut(pce("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&ut(pce("height")),!el(a,{type:"pad"}))return a}function g7t(e){return["fit","fit-x","fit-y"].includes(e)}function m7t(e){return e?`fit-${a5(e)}`:"fit"}const y7t=["background","padding"];function Uce(e,t){const n={};for(const r of y7t)e&&e[r]!==void 0&&(n[r]=Qa(e[r]));return t&&(n.params=e.params),n}class Ep{constructor(t={},n={}){tt(this,"explicit");tt(this,"implicit");this.explicit=t,this.implicit=n}clone(){return new Ep(yn(this.explicit),yn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return zi(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of at(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Wu(e){return{explicit:!0,value:e}}function Ua(e){return{explicit:!1,value:e}}function dMe(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:k5(t,n,r,i)}}function k5(e,t,n,r){return e.explicit&&t.explicit&&ut(X6t(n,r,e.value,t.value)),e}function _g(e,t,n,r,i=k5){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:el(e.value,t.value)?e:i(e,t,n,r)}class v7t extends Ep{constructor(n={},r={},i=!1){super(n,r);tt(this,"explicit");tt(this,"implicit");tt(this,"parseNothing");this.explicit=n,this.implicit=r,this.parseNothing=i}clone(){const n=super.clone();return n.parseNothing=this.parseNothing,n}}function ux(e){return ct(e,"url")}function EE(e){return ct(e,"values")}function fMe(e){return ct(e,"name")&&!ux(e)&&!EE(e)&&!Xh(e)}function Xh(e){return e&&(pMe(e)||hMe(e)||MY(e))}function pMe(e){return ct(e,"sequence")}function hMe(e){return ct(e,"sphere")}function MY(e){return ct(e,"graticule")}var mi;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(mi||(mi={}));function gMe({invalid:e,isPath:t}){switch(uTe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function b7t(e){const{marks:t,scales:n}=gMe(e);return t===n?mi.Main:n==="include-invalid-values"?mi.PreFilterInvalid:mi.PostFilterInvalid}class $r{constructor(t,n){tt(this,"debugName");tt(this,"_children",[]);tt(this,"_parent",null);tt(this,"_hash");this.debugName=n,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){ut(C6t);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class xa extends $r{constructor(n,r,i,o){super(n,r);tt(this,"type");tt(this,"refCounts");tt(this,"_source");tt(this,"_name");this.type=i,this.refCounts=o,this._source=this._name=r,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const n=new this.constructor;return n.debugName=`clone_${this.debugName}`,n._source=this._source,n._name=`clone_${this._name}`,n.type=this.type,n.refCounts=this.refCounts,n.refCounts[n._name]=0,n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${dRe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(n){this._source=n}}function gj(e){return e.as!==void 0}function Hce(e){return`${e}_end`}class md extends $r{constructor(n,r){super(n);tt(this,"timeUnits");this.timeUnits=r}clone(){return new md(null,yn(this.timeUnits))}static makeFromEncoding(n,r){const i=r.reduceFieldDef((o,s,a)=>{const{field:l,timeUnit:c}=s;if(c){let u;if(Ny(c)){if(gi(r)){const{mark:d,markDef:f,config:p}=r,g=Cg({fieldDef:s,markDef:f,config:p});(_E(d)||g)&&(u={timeUnit:wo(c),field:l})}}else u={as:St(s,{forAs:!0}),field:l,timeUnit:c};if(gi(r)){const{mark:d,markDef:f,config:p}=r,g=Cg({fieldDef:s,markDef:f,config:p});_E(d)&&Bi(a)&&g!==.5&&(u.rectBandPosition=g)}u&&(o[Kn(u)]=u)}return o},{});return qr(i)?null:new md(n,i)}static makeFromTransform(n,r){const{timeUnit:i,...o}={...r},s=wo(i),a={...o,timeUnit:s};return new md(n,{[Kn(a)]:a})}merge(n){this.timeUnits={...this.timeUnits};for(const r in n.timeUnits)this.timeUnits[r]||(this.timeUnits[r]=n.timeUnits[r]);for(const r of n.children)n.removeChild(r),r.parent=this;n.remove()}removeFormulas(n){const r={};for(const[i,o]of Sg(this.timeUnits)){const s=gj(o)?o.as:`${o.field}_end`;n.has(s)||(r[i]=o)}this.timeUnits=r}producedFields(){return new Set(Gi(this.timeUnits).map(n=>gj(n)?n.as:Hce(n.field)))}dependentFields(){return new Set(Gi(this.timeUnits).map(n=>n.field))}hash(){return`TimeUnit ${Kn(this.timeUnits)}`}assemble(){const n=[];for(const r of Gi(this.timeUnits)){const{rectBandPosition:i}=r,o=wo(r.timeUnit);if(gj(r)){const{field:s,as:a}=r,{unit:l,utc:c,...u}=o,d=[a,`${a}_end`];n.push({field:vc(s),type:"timeunit",...l?{units:d5(l)}:{},...c?{timezone:"utc"}:{},...u,as:d}),n.push(...Vce(d,i,o))}else if(r){const{field:s}=r,a=s.replaceAll("\\.","."),l=mMe({timeUnit:o,field:a}),c=Hce(a);n.push({type:"formula",expr:l,as:c}),n.push(...Vce([a,c],i,o))}}return n}}const R5="offsetted_rect_start",T5="offsetted_rect_end";function mMe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=qRe(r),{part:s,step:a}=KRe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${Dr(t)}, ${n?-a:a})`}function Vce([e,t],n,r){if(n!==void 0&&n!==.5){const i=Dr(e),o=Dr(t);return[{type:"formula",expr:Wce([mMe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${R5}`},{type:"formula",expr:Wce([i,o],n+.5),as:`${e}_${T5}`}]}return[]}function Wce([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const fk="_tuple_fields";class x7t{constructor(...t){tt(this,"hasChannel");tt(this,"hasField");tt(this,"hasSelectionId");tt(this,"timeUnit");tt(this,"items");this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const S7t={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new x7t),o={},s={},a=new Set,l=(g,m)=>{const v=m==="visual"?g.channel:g.field;let b=oi(`${r}_${v}`);for(let S=1;a.has(b);S++)b=oi(`${r}_${v}_${S}`);return a.add(b),{[m]:b}},c=t.type,u=e.config.selection[c],d=n.value!==void 0?Tt(n.value):null;let{fields:f,encodings:p}=At(n.select)?n.select:{};if(!f&&!p&&d){for(const g of d)if(At(g))for(const m of at(g))Izt(m)?(p||(p=[])).push(m):c==="interval"?(ut(m6t),p=u.encodings):(f??(f=[])).push(m)}!f&&!p&&(p=u.encodings,"fields"in u&&(f=u.fields));for(const g of p??[]){const m=e.fieldDef(g);if(m){let v=m.field;if(m.aggregate){ut(a6t(g,m.aggregate));continue}else if(!v){ut(gce(g));continue}if(m.timeUnit&&!Ny(m.timeUnit)){v=e.vgField(g);const b={timeUnit:m.timeUnit,as:v,field:m.field};s[Kn(b)]=b}if(!o[v]){const b=c==="interval"&&Gd(g)&&du(e.getScaleComponent(g).get("type"))?"R":m.bin?"R-RE":"E",S={field:v,channel:g,type:b,index:i.items.length};S.signals={...l(S,"data"),...l(S,"visual")},i.items.push(o[v]=S),i.hasField[v]=o[v],i.hasSelectionId=i.hasSelectionId||v===hu,yRe(g)?(S.geoChannel=g,S.channel=mRe(g),i.hasChannel[S.channel]=o[v]):i.hasChannel[g]=o[v]}}else ut(gce(g))}for(const g of f??[]){if(i.hasField[g])continue;const m={type:"E",field:g,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[g]=m,i.hasSelectionId=i.hasSelectionId||g===hu}d&&(t.init=d.map(g=>i.items.map(m=>At(g)?g[m.geoChannel||m.channel]!==void 0?g[m.geoChannel||m.channel]:g[m.field]:g))),qr(s)||(i.timeUnit=new md(null,s))},signals:(e,t,n)=>{const r=t.name+fk;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(xMe)})}},yMe="_curr",vA="anim_value",rb="anim_clock",e9="eased_anim_clock",vMe="min_extent",bMe="max_range_extent",mj="last_tick_at",yj="is_playing",w7t=1/60*1e3,C7t=(e,t)=>[{name:e9,update:rb},{name:`${e}_domain`,init:`domain('${t}')`},{name:vMe,init:`extent(${e}_domain)[0]`},{name:bMe,init:`extent(range('${t}'))[1]`},{name:vA,update:`invert('${t}', ${e9})`}],_7t={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(yd(t)&&(n=n.concat([{name:rb,init:"0",on:[{events:{type:"timer",throttle:w7t},update:`${yj} ? (${rb} + (now() - ${mj}) > ${bMe} ? 0 : ${rb} + (now() - ${mj})) : ${rb}`}]},{name:mj,init:"now()",on:[{events:[{signal:rb},{signal:yj}],update:"now()"}]},{name:yj,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+fk,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Gi(e.component.selection??{}).reduce((u,d)=>d.type==="interval"?u.concat(d.name+Vb):u,[]).map(u=>`indexof(item().mark.name, '${u}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let c=`unit: ${C0(e)}, `;if(t.project.hasSelectionId)c+=`${hu}: ${s}[${ft(hu)}]`;else if(yd(t))c+=`fields: ${i}, values: [${vA} ? ${vA} : ${vMe}]`;else{const u=o.items.map(d=>{const f=e.fieldDef(d.channel);return f!=null&&f.bin?`[${s}[${ft(e.vgField(d.channel,{}))}], ${s}[${ft(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${ft(d.field)}]`}).join(", ");c+=`fields: ${i}, values: [${u}]`}if(yd(t))return n.concat(C7t(t.name,e.scaleName(Hg)),[{name:r+hp,on:[{events:[{signal:e9},{signal:vA}],update:`{${c}}`,force:!0}]}]);{const u=t.events;return n.concat([{name:r+hp,on:u?[{events:u,update:`${l} ? {${c}} : null`,force:!0}]:[]}])}}};function xMe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=vc(i.field),i}function ly(e,t=!0,n=ms){if(Xe(e)){const r=e.map(i=>ly(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Fy(e))return n(t?iy(e):xBt(e));return t?n(Rr(e)):e}function E7t(e,t){for(const n of Gi(e.component.selection??{})){const r=n.name;let i=`${r}${hp}, ${n.resolve==="global"?"true":`{unit: ${C0(e)}}`}`;for(const o of A5)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+Z7t,on:[{events:{signal:n.name+hp},update:`modify(${ft(n.name+cy)}, ${i})`}]})}return AY(t)}function k7t(e,t){if(e.component.selection&&at(e.component.selection).length){const n=ft(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Bg("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return AY(t)}function R7t(e,t){let n=!1;for(const r of Gi(e.component.selection??{})){const i=r.name,o=ft(i+cy);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${NMe}(${o}, ${ft(a)}${l}`})}n=!0;for(const a of A5)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),AY(t)}function T7t(e,t){const n=[],r=[],i=C0(e,{escape:!1});for(const o of Gi(e.component.selection??{})){const s={name:o.name+cy};if(o.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:hu}}]),o.init){const l=o.project.items.map(xMe);s.values=o.project.hasSelectionId?o.init.map(c=>({unit:i,[hu]:ly(c,!1)[0]})):o.init.map(c=>({unit:i,fields:l,values:ly(c,!1)}))}if([...n,...t].filter(l=>l.name===o.name+cy).length||n.push(s),yd(o)&&t.length){const l=e.lookupDataSource(e.getDataName(mi.Main)),c=t.find(d=>d.name===l),u=c.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(u){c.transform=c.transform.filter(f=>f!==u);const d={name:c.name+yMe,source:c.name,transform:[u]};r.push(d)}}}return n.concat(t,r)}function SMe(e,t){for(const n of Gi(e.component.selection??{}))for(const r of A5)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function M7t(e,t){for(const n of e.children)gi(n)&&(t=SMe(n,t));return t}function A7t(e,t,n,r){const i=UMe(e,t.param,t);return{signal:du(n.get("type"))&&Xe(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function AY(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Kf={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Gd(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&ut(d6t),!o||!du(s)){ut(u6t);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||n9(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(NMe))i.update=`{${r.map(s=>`${ft(vc(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${ft(vc(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!n9(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function t9(e,t){return`domain(${ft(e.scaleName(t))})`}function n9(e){return e.parent&&fS(e.parent)&&(!e.parent.parent||n9(e.parent.parent))}const Vb="_brush",wMe="_scale_trigger",Yw="geo_interval_init_tick",CMe="_init",O7t="_center",D7t={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...At(n.select)?n.select:{}};i.fields=[hu],i.encodings||(i.encodings=n.value?at(n.value):[Mu,Tu]),n.select={type:"interval",...i}}if(t.translate&&!Kf.defined(t)){const i=`!event.item || event.item.mark.name !== ${ft(t.name+Vb)}`;for(const o of t.events){if(!o.between){ut(`${o} is not an ordered event stream for interval selections.`);continue}const s=Tt((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+hp,o=Gi(t.project.hasChannel).filter(a=>a.channel===ci||a.channel===To),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(P7t(e,t,l,s==null?void 0:s[l.index])),[])),e.hasProjection){const a=ft(e.projectionName()),l=e.projectionName()+O7t,{x:c,y:u}=t.project.hasChannel,d=c==null?void 0:c.signals.visual,f=u==null?void 0:u.signals.visual,p=c?s==null?void 0:s[c.index]:`${l}[0]`,g=u?s==null?void 0:s[u.index]:`${l}[1]`,m=E=>e.getSizeSignalRef(E).signal,v=`[[${d?`${d}[0]`:"0"}, ${f?`${f}[0]`:"0"}],[${d?`${d}[1]`:m("width")}, ${f?`${f}[1]`:m("height")}]]`;s&&(n.unshift({name:r+CMe,init:`[scale(${a}, [${c?p[0]:p}, ${u?g[0]:g}]), scale(${a}, [${c?p[1]:p}, ${u?g[1]:g}])]`}),(!c||!u)&&(n.find(T=>T.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const b=`intersect(${v}, {markname: ${ft(e.getName("marks"))}}, unit.mark)`,S=`{unit: ${C0(e)}}`,C=`vlSelectionTuples(${b}, ${S})`,_=o.map(E=>E.signals.visual);return n.concat({name:i,on:[{events:[..._.length?[{signal:_.join(" || ")}]:[],...s?[{signal:Yw}]:[]],update:C}]})}else{if(!Kf.defined(t)){const c=r+wMe,u=o.map(d=>{const f=d.channel,{data:p,visual:g}=d.signals,m=ft(e.scaleName(f)),v=e.getScaleComponent(f).get("type"),b=du(v)?"+":"";return`(!isArray(${p}) || (${b}invert(${m}, ${g})[0] === ${b}${p}[0] && ${b}invert(${m}, ${g})[1] === ${b}${p}[1]))`});u.length&&n.push({name:c,value:{},on:[{events:o.map(d=>({scale:e.scaleName(d.channel)})),update:`${u.join(" && ")} ? ${c} : {}`}]})}const a=o.map(c=>c.signals.data),l=`unit: ${C0(e)}, fields: ${r+fk}, values`;return n.concat({name:i,...s?{init:`{${l}: ${ly(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(gi(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===Yw).length||n.unshift({name:Yw,value:null,on:[{events:"timer{1}",update:`${Yw} === null ? {} : ${Yw}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${ft(t.name+cy)})`;if(Kf.defined(t)||!i&&!o)return n;const c={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const v of at(c))c[v]=[{test:`${l}.length && ${l}[0].unit === ${C0(e)}`,...c[v]},{value:0}];const{fill:u,fillOpacity:d,cursor:f,...p}=t.mark,g=at(p).reduce((v,b)=>(v[b]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(S=>S).join(" && "),value:p[b]},{value:null}],v),{}),m=f??(t.translate?"move":null);return[{name:`${r+Vb}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:u},fillOpacity:{value:d}},update:c}},...n,{name:r+Vb,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...c,...g}}}]}};function P7t(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=ft(i?e.scaleName(o):e.projectionName()),l=f=>`scale(${a}, ${f})`,c=e.getSizeSignalRef(o===ci?"width":"height").signal,u=`${o}(unit)`,d=t.events.reduce((f,p)=>[...f,{events:p.between[0],update:`[${u}, ${u}]`},{events:p,update:`[${s}[0], clamp(${u}, 0, ${c})]`}],[]);if(i){const f=n.signals.data,p=Kf.defined(t),g=e.getScaleComponent(o),m=g?g.get("type"):void 0,v=r?{init:ly(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+wMe},update:du(m)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),p?[{name:f,on:[]}]:[{name:s,...v,on:d},{name:f,...r?{init:ly(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const f=o===ci?0:1,p=t.name+CMe,g=r?{init:`[${p}[0][${f}], ${p}[1][${f}]]`}:{value:[]};return[{name:s,...g,on:d}]}}function lS({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=lk(t)&&t.condition;let s=[];o&&(s=Tt(o).map(c=>{const u=i(c);if(x8t(c)){const{param:d,empty:f}=c;return{test:BMe(e,{param:d,empty:f}),...u}}else return{test:ZD(e,c.test),...u}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function OY(e,t="text"){const n=e.encoding[t];return lS({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>M5(r,e.config),invalidValueRef:void 0})}function M5(e,t,n="datum"){if(e){if(fu(e))return ei(e.value);if(Sn(e)){const{format:r,formatType:i}=qD(e);return dY({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function _Me(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Xe(s))return{tooltip:qce({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return lS({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:c=>{const u=M5(c,i,a);if(u)return u;if(c===null)return;let d=zr("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Mt(d))return{value:d};if(At(d))return Ut(d)?d:d.content==="encoding"?qce(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function EMe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(u,d){const f=Py(d),p=Ws(u)?u:{...u,type:e[f].type},g=p.title||gY(p,i),m=Tt(g).join(", ").replaceAll(/"/g,'\\"');let v;if(Bi(d)){const b=d==="x"?"x2":"y2",S=pu(e[b]);if(Io(p.bin)&&S){const C=St(p,{expr:s}),_=St(S,{expr:s}),{format:E,formatType:T}=qD(p);v=sk(C,_,E,T,i),o.add(b)}}if((Bi(d)||d===_c||d===Ru)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:b,formatType:S}=qD(p);v=dY({fieldOrDatumDef:p,format:b,formatType:S,expr:s,config:i,normalizeStack:!0}).signal}v??(v=M5(p,i,s).signal),a.push({channel:d,key:m,value:v})}yY(e,(u,d)=>{dt(u)?l(u,d):b5(u)&&l(u.condition,d)});const c={};for(const{channel:u,key:d,value:f}of a)!o.has(u)&&!c[d]&&(c[d]=f);return c}function qce(e,t,n,{reactiveGeom:r}={}){const i=EMe(e,t,n,{reactiveGeom:r}),o=Sg(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function I7t(e){const{markDef:t,config:n}=e,r=zr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...$7t(e),...F7t(e)}}function $7t(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=zr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Pt(r6t,t)?{}:{ariaRoleDescription:{value:t}}}function F7t(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return lS({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>M5(l,e.config),invalidValueRef:void 0});const s=zr("description",n,r);if(s!=null)return{description:ei(s)};if(r.aria===!1)return{};const a=EMe(t,i,r);if(!qr(a))return{description:{signal:Sg(a).map(([l,c],u)=>`"${u>0?"; ":""}${l}: " + (${c})`).join(" + ")}}}function Lo(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const c=i[e];a===void 0&&(l??(l=zr(e,r,o,{vgChannel:s,ignoreVgConfig:!lk(c)})),l!==void 0&&(a=ei(l)));const u={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=fTe({...u,scaleChannel:e,channelDef:c});return lS({model:t,channelDef:c,vgChannel:s??e,invalidValueRef:d,mainRefFn:p=>uY({...u,channel:e,channelDef:p,stack:null,defaultRef:a})})}function kMe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??zr("filled",n,i),a=Un(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=zr(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,c=zr(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],u=s?"fill":"stroke",d={...l?{fill:ei(l)}:{},...c?{stroke:ei(c)}:{}};return n.color&&(s?n.fill:n.stroke)&&ut(NRe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...Lo("color",e,{vgChannel:u,defaultValue:s?l:c}),...Lo("fill",e,{defaultValue:r.fill?l:void 0}),...Lo("stroke",e,{defaultValue:r.stroke?c:void 0})}}function N7t(e){const{encoding:t,mark:n}=e,r=t.order;return!Xg(n)&&fu(r)?lS({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>ei(i.value),invalidValueRef:void 0}):{}}function dx({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:uY({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:ei(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function Ls(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],c=i[qd(e)],u=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:p}=dx({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),g=DY({model:t,defaultPos:n,channel:e,scaleName:u,scale:d}),m=!l&&Bi(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:L7t({channel:e,channelDef:l,channel2Def:c,markDef:o,config:s,scaleName:u,scale:d,stack:a,offset:f,defaultRef:g,bandPosition:p==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function L7t(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Sn(n)&&i&&t===i.fieldChannel){if(dt(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return HD({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return S0(n,r,{suffix:"end"},{offset:o})}return cY(e)}function DY({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=Py(n),l=wg(n),c=zr(n,o,s,{vgChannel:l});if(c!==void 0)return h_(n,c);switch(t){case"zeroOrMin":return Gce({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return Gce({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[Ra(n)],mult:.5}}}}function Gce({mainChannel:e,config:t,...n}){const r=dTe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const j7t={left:"x",center:"xc",right:"x2"},z7t={top:"y",middle:"yc",bottom:"y2"};function RMe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return wg(e);const i=e==="x"?"align":"baseline",o=zr(i,t,n);let s;return Ut(o)?(ut(L6t(i)),s=void 0):s=o,e==="x"?j7t[s||(r==="top"?"left":"center")]:z7t[s||r]}function KD(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?TMe(e,t,{defaultPos:n,defaultPos2:r}):Ls(e,t,{defaultPos:n})}function TMe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=qd(e),a=Ra(e),l=B7t(t,r,s),c=l[a]?RMe(e,i,o):wg(e);return{...Ls(e,t,{defaultPos:n,vgChannel:c}),...l}}function B7t(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=Py(n),c=Ra(n),u=wg(n),d=r[l],f=e.scaleName(l),p=e.getScaleComponent(l),{offset:g}=n in r||n in o?dx({channel:n,markDef:o,encoding:r,model:e}):dx({channel:l,markDef:o,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const v=Ra(n),b=e.markDef[v];return b!=null?{[v]:{value:b}}:{[u]:{field:e.getName(n)}}}const m=U7t({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:a,scaleName:f,scale:p,stack:s,offset:g,defaultRef:void 0});return m!==void 0?{[u]:m}:oM(n,o)||oM(n,{[n]:H8(n,o,a.style),[c]:H8(c,o,a.style)})||oM(n,a[i])||oM(n,a.mark)||{[u]:DY({model:e,defaultPos:t,channel:n,scaleName:f,scale:p})()}}function U7t({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c}){return Sn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?S0(t,o,{suffix:"start"},{offset:l}):cY({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:c})}function oM(e,t){const n=Ra(e),r=wg(e);if(t[r]!==void 0)return{[r]:h_(e,t[r])};if(t[e]!==void 0)return{[r]:h_(e,t[e])};if(t[n]){const i=t[n];if(sy(i))ut(D6t(n));else return{[n]:h_(e,i)}}}function pp(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=qd(t),a=Ra(t),l=r[t],c=r[s],u=e.getScaleComponent(t),d=u?u.get("type"):void 0,f=i.orient,p=r[a]??r.size??zr("size",i,n,{vgChannel:a}),g=SRe(t),m=o==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||o==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return dt(l)&&(Kr(l.bin)||Io(l.bin)||l.timeUnit&&!c)&&!(p&&!sy(p))&&!r[g]&&!Eo(d)?W7t({fieldDef:l,fieldDef2:c,channel:t,model:e}):(Sn(l)&&Eo(d)||m)&&!c?V7t(l,t,e):TMe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function H7t(e,t,n,r,i,o,s){if(sy(i))if(n){const l=n.get("type");if(l==="band"){let c=`bandwidth('${t}')`;i.band!==1&&(c=`${i.band} * ${c}`);const u=Od("minBandSize",{type:s},r);return{signal:u?`max(${nu(u)}, ${c})`:c}}else i.band!==1&&(ut(U6t(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Ut(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if($y(l)&&gr(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:c,rectBandPaddingInner:u,tickBandPaddingInner:d}=r.scale,f=zi(l,s==="tick"?d:s==="bar"?c:u);if(Ut(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(gr(f))return{signal:`${1-f} * ${e}`}}return{value:K8(r.view,e)-2}}function V7t(e,t,n){var P,D;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),c=n.getScaleComponent(t),u=Ra(t),d=qd(t),f=SRe(t),p=n.scaleName(f),g=n.getScaleComponent(FG(t)),m=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let v;(i.size||r.size)&&(m?v=Lo("size",n,{vgChannel:u,defaultRef:ei(r.size)}):ut(q6t(r.type)));const b=!!v,S=bTe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(P=c||g)==null?void 0:P.get("type"),useVlSizeChannel:m});v=v||{[u]:H7t(u,p||l,g||c,o,S,!!e,r.type)};const C=((D=c||g)==null?void 0:D.get("type"))==="band"&&sy(S)&&!b?"top":"middle",_=RMe(t,r,o,C),E=_==="xc"||_==="yc",{offset:T,offsetType:k}=dx({channel:t,markDef:r,encoding:i,model:n,bandPosition:E?.5:0}),A=cY({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:c,stack:s,offset:T,defaultRef:DY({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:c}),bandPosition:E?k==="encoding"?0:.5:Ut(S)?{signal:`(1-${S})/2`}:sy(S)?(1-S.band)/2:0});if(u)return{[_]:A,...v};{const F=wg(d),I=v[u],j=T?{...I,offset:T}:I;return{[_]:A,[F]:Xe(A)?[A[0],{...A[1],offset:j}]:{...A,offset:j}}}}function Yce(e,t,n,r,i,o,s){if(gRe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Ut(n)||Ut(i)||Ut(r)||o){const c=nu(n),u=nu(i),d=nu(r),f=nu(o),g=o?`(${s} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${s})) : ${l})`:l,m=d?`${d} + `:"",v=c?`(${c} ? -1 : 1) * `:"",b=u?`(${u} + ${g})`:g;return{signal:m+v+b}}else return i=i||0,r+(n?-i-l:+i+l)}function W7t({fieldDef:e,fieldDef2:t,channel:n,model:r}){var D;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),c=a?a.get("type"):void 0,u=a.get("reverse"),d=bTe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:c}),f=(D=r.component.axes[n])==null?void 0:D[0],p=(f==null?void 0:f.get("translate"))??.5,g=Bi(n)?zr("binSpacing",o,i)??0:0,m=qd(n),v=wg(n),b=wg(m),S=Od("minBandSize",o,i),{offset:C}=dx({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:_}=dx({channel:m,markDef:o,encoding:s,model:r,bandPosition:0}),E=h8t({fieldDef:e,scaleName:l}),T=Yce(n,g,u,p,C,S,E),k=Yce(m,g,u,p,_??C,S,E),A=Ut(d)?{signal:`(1-${d.signal})/2`}:sy(d)?(1-d.band)/2:.5,P=Cg({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Kr(e.bin)||e.timeUnit){const F=e.timeUnit&&P!==.5;return{[b]:Xce({fieldDef:e,scaleName:l,bandPosition:A,offset:k,useRectOffsetField:F}),[v]:Xce({fieldDef:e,scaleName:l,bandPosition:Ut(A)?{signal:`1-${A.signal}`}:1-A,offset:T,useRectOffsetField:F})}}else if(Io(e.bin)){const F=S0(e,l,{},{offset:k});if(dt(t))return{[b]:F,[v]:S0(t,l,{},{offset:T})};if(Iy(e.bin)&&e.bin.step)return{[b]:F,[v]:{signal:`scale("${l}", ${St(e,{expr:"datum"})} + ${e.bin.step})`,offset:T}}}ut(zRe(m))}function Xce({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return HD({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:R5,endSuffix:T5}:{}})}const q7t=new Set(["aria","width","height"]);function Ec(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?kMe(e):{};return{...G7t(e.markDef,t),...Kce("fill",n),...Kce("stroke",r),...Lo("opacity",e),...Lo("fillOpacity",e),...Lo("strokeOpacity",e),...Lo("strokeWidth",e),...Lo("strokeDash",e),...N7t(e),..._Me(e),...OY(e,"href"),...I7t(e)}}function Kce(e,t){return t?{[e]:t}:{}}function G7t(e,t){return n6t.reduce((n,r)=>(!q7t.has(r)&&ct(e,r)&&t[r]!=="ignore"&&(n[r]=ei(e[r])),n),{})}function PY(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var c;let s;if(!Gd(o)||!(s=e.getScaleType(o)))return;const a=l5(i.aggregate),l=lY({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(d8t(l)){const u=e.vgField(o,{expr:"datum",binSuffix:(c=e.stack)!=null&&c.impute?"mid":void 0});u&&r.add(u)}}),r.size>0)return{defined:{signal:[...r].map(o=>f5(o,!0)).join(" && ")}}}function Qce(e,t){if(t!==void 0)return{[e]:ei(t)}}const vj="voronoi",MMe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(vj)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Xg(o))return ut(l6t(o)),n;const s={name:e.getName(vj),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},..._Me(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((c,u)=>{const d=c.name??"";d===e.component.mark[0].name?a=u:d.includes(vj)&&(l=!0)}),l||n.splice(a+1,0,s),n}},AMe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!CY(e.bind),parse:(e,t,n)=>LMe(t,n),topLevelSignals:(e,t,n)=>{var l;const r=t.name,i=t.project,o=t.bind,s=(l=t.init)==null?void 0:l[0],a=MMe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((c,u)=>{const d=oi(`${r}_${c.field}`);n.filter(p=>p.name===d).length||n.unshift({name:d,...s?{init:ly(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${ft(c.field)}] : null`}]:[],bind:o[c.field]??o[c.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(c=>c.name===r+hp),s=r+fk,a=i.items.map(c=>oi(`${r}_${c.field}`)),l=a.map(c=>`${c} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},QD="_toggle",OMe={defined:e=>e.type==="point"&&!yd(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+QD,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+hp,r=t.name+QD;return`${r} ? null : ${n}, ${t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${C0(e)}}, `}${r} ? ${n} : null`}},Y7t={defined:e=>e.clear!==void 0&&e.clear!==!1&&!yd(e),parse:(e,t)=>{t.clear&&(t.clear=Mt(t.clear)?Bg(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(AMe.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===oi(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+hp);r(i,"null"),OMe.defined(t)&&(i=n.findIndex(o=>o.name===t.name+QD),r(i,"false"))}return n}},DMe={defined:e=>{const t=e.resolve==="global"&&e.bind&&CY(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==hu;return t&&!n&&ut(f6t),t&&n},parse:(e,t,n)=>{const r=yn(n);if(r.select=Mt(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},LMe(t,r),At(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=Tt(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=fj(t.bind)?t.bind.legend:"click",o=Mt(i)?Bg(i,"view"):Tt(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=fj(t.bind)&&t.bind.legend,o=s=>a=>{const l=yn(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${oi(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(u=>u.name===l).length===0){const u=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:u,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(f=>f.name===r+hp),s=r+fk,a=i.items.filter(f=>f.hasLegend).map(f=>oi(`${r}_${oi(f.field)}_legend`)),c=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(f=>({signal:f})),update:c}):a.length>0&&(o.update=c,delete o.value,delete o.on);const u=n.find(f=>f.name===r+QD),d=fj(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push({...u.on[0],events:d}):u.on[0].events=d),n}};function X7t(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of Gi(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&DMe.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const PMe="_translate_anchor",IMe="_translate_delta",K7t={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Kf.defined(t),o=r+PMe,{x:s,y:a}=t.project.hasChannel;let l=Bg(t.translate,"scope");return i||(l=l.map(c=>(c.between[0].markname=r+Vb,c))),n.push({name:o,value:{},on:[{events:l.map(c=>c.between[0]),update:`{x: x(unit), y: y(unit)${s!==void 0?`, extent_x: ${i?t9(e,ci):`slice(${s.signals.visual})`}`:""}${a!==void 0?`, extent_y: ${i?t9(e,To):`slice(${a.signals.visual})`}`:""}}`}]},{name:r+IMe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&Zce(e,t,s,"width",n),a!==void 0&&Zce(e,t,a,"height",n),n}};function Zce(e,t,n,r,i){const o=t.name,s=o+PMe,a=o+IMe,l=n.channel,c=Kf.defined(t),u=i.find(E=>E.name===n.signals[c?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),p=f==null?void 0:f.get("type"),g=f==null?void 0:f.get("reverse"),m=c?l===ci?g?"":"-":g?"-":"":"",v=`${s}.extent_${l}`,b=`${m}${a}.${l} / ${c?`${d}`:`span(${v})`}`,S=!c||!f?"panLinear":p==="log"?"panLog":p==="symlog"?"panSymlog":p==="pow"?"panPow":"panLinear",C=c?p==="pow"?`, ${f.get("exponent")??1}`:p==="symlog"?`, ${f.get("constant")??1}`:"":"",_=`${S}(${v}, ${b}${C})`;u.on.push({events:{signal:a},update:c?_:`clampRange(${_}, 0, ${d})`})}const $Me="_zoom_anchor",FMe="_zoom_delta",Q7t={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Kf.defined(t),o=r+FMe,{x:s,y:a}=t.project.hasChannel,l=ft(e.scaleName(ci)),c=ft(e.scaleName(To));let u=Bg(t.zoom,"scope");return i||(u=u.map(d=>(d.markname=r+Vb,d))),n.push({name:r+$Me,on:[{events:u,update:i?`{${[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(d=>d).join(", ")}}`:"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&Jce(e,t,s,"width",n),a!==void 0&&Jce(e,t,a,"height",n),n}};function Jce(e,t,n,r,i){const o=t.name,s=n.channel,a=Kf.defined(t),l=i.find(S=>S.name===n.signals[a?"data":"visual"]),c=e.getSizeSignalRef(r).signal,u=e.getScaleComponent(s),d=u==null?void 0:u.get("type"),f=a?t9(e,s):l.name,p=o+FMe,g=`${o}${$Me}.${s}`,m=!a||!u?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",v=a?d==="pow"?`, ${u.get("exponent")??1}`:d==="symlog"?`, ${u.get("constant")??1}`:"":"",b=`${m}(${f}, ${g}, ${p}${v})`;l.on.push({events:{signal:p},update:a?b:`clampRange(${b}, 0, ${c})`})}const cy="_store",hp="_tuple",Z7t="_modify",NMe="vlSelectionResolve",A5=[_7t,D7t,S7t,OMe,AMe,Kf,DMe,Y7t,K7t,Q7t,MMe];function J7t(e){let t=e.parent;for(;t&&!ul(t);)t=t.parent;return t}function C0(e,{escape:t}={escape:!0}){let n=t?ft(e.name):e.name;const r=J7t(e);if(r){const{facet:i}=r;for(const o of tc)i[o]&&(n+=` + '__facet_${o}_' + (facet[${ft(r.vgField(o))}])`)}return n}function IY(e){return Gi(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function LMe(e,t){(Mt(t.select)||!t.select.on)&&delete e.events,(Mt(t.select)||!t.select.clear)&&delete e.clear,(Mt(t.select)||!t.select.toggle)&&delete e.toggle}function yd(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}function r9(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...r9(e.object)),t.push(...r9(e.property))),t)}function jMe(e){return e.object.type==="MemberExpression"?jMe(e.object):e.object.name==="datum"}function zMe(e){const t=Jq(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&jMe(r)&&n.add(r9(r).slice(1).join("."))}),n}class cS extends $r{constructor(n,r,i){super(n);tt(this,"model");tt(this,"filter");tt(this,"expr");tt(this,"_dependentFields");this.model=r,this.filter=i,this.expr=ZD(this.model,this.filter,this),this._dependentFields=zMe(this.expr)}clone(){return new cS(null,this.model,yn(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function eUt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const s=oi(o.name),a=o.select,l=Mt(a)?a:a.type,c=At(a)?yn(a):{type:l},u=r[l];for(const p in u)p==="fields"||p==="encodings"||(p==="mark"&&(c.mark={...u.mark,...c.mark}),(c[p]===void 0||c[p]===!0)&&(c[p]=yn(u[p]??c[p])));const d=n[s]={...c,name:s,type:l,init:o.value,bind:o.bind,events:Mt(c.on)?Bg(c.on,"scope"):Tt(yn(c.on))};if(yd(d)&&(i++,i>1)){delete n[s];continue}const f=yn(o);for(const p of A5)p.defined(d)&&p.parse&&p.parse(e,d,f)}return i>1&&ut(v6t),n}function BMe(e,t,n,r="datum"){const i=Mt(t)?t:t.param,o=oi(i),s=ft(o+cy);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const f=n??e.component.data.raw,p=a.project.timeUnit.clone();f.parent?p.insertAsParentOf(f):f.parent=p}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=a.resolve==="global"?")":`, ${ft(a.resolve)})`,u=`${l}${s}, ${r}${c}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${u}`:`!${d} || ${u}`}function UMe(e,t,n){const r=oi(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&ut(b6t(o));else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,ut(x6t(a,i,n,o))):o=a[0].field}return`${s.name}[${ft(vc(o))}]`}function tUt(e,t){for(const[n,r]of Sg(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new xa(new cS(t,e,{param:n}),i,mi.Lookup,e.component.data.outputNodeRefCounts)}}function ZD(e,t,n){return p_(t,r=>Mt(r)?r:MBt(r)?BMe(e,r,n):ZRe(r))}function nUt(e,t){if(e)return Xe(e)&&!dh(e)?e.map(n=>gY(n,t)).join(", "):e}function bj(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function AC(e,t,n,r={header:!1}){var d,f;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:c,...u}=e.combine();if(!i){for(const p in u){const g=p,m=I8t[g],v=u[g];if(m&&m!==t&&m!=="both")delete u[g];else if(dk(v)){const{condition:b,...S}=v,C=Tt(b),_=Rce[g];if(_){const{vgProp:E,part:T}=_,k=[...C.map(A=>{const{test:P,...D}=A;return{test:ZD(null,P),...D}}),S];bj(u,T,E,k),delete u[g]}else if(_===null){const E={signal:C.map(T=>{const{test:k,...A}=T;return`${ZD(null,k)} ? ${dce(A)} : `}).join("")+dce(S)};u[g]=E}}else if(Ut(v)){const b=Rce[g];if(b){const{vgProp:S,part:C}=b;bj(u,C,S,v),delete u[g]}}Un(["labelAlign","labelBaseline"],g)&&u[g]===null&&delete u[g]}if(t==="grid"){if(!u.grid)return;if(u.encode){const{grid:p}=u.encode;u.encode={...p?{grid:p}:{}},qr(u.encode)&&delete u.encode}return{scale:s,orient:o,...u,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:zi(c,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let g=a;(f=(d=u.encode)==null?void 0:d.labels)!=null&&f.update&&Ut(u.encode.labels.update.text)&&(g=ty(a,"datum.label",u.encode.labels.update.text.signal)),bj(u,"labels","text",{signal:g})}if(u.labelAlign===null&&delete u.labelAlign,u.encode){for(const g of MTe)e.hasAxisPart(g)||delete u.encode[g];qr(u.encode)&&delete u.encode}const p=nUt(l,n);return{scale:s,orient:o,grid:!1,...p?{title:p}:{},...u,...n.aria===!1?{aria:!1}:{},zindex:zi(c,0)}}}}function HMe(e){const{axes:t}=e.component,n=[];for(const r of Cp)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function rUt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>AC(i,"grid",t)),...r.map(i=>AC(i,"grid",t)),...n.map(i=>AC(i,"main",t)),...r.map(i=>AC(i,"main",t))].filter(i=>i)}function eue(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...at(s),...at(a)]),c={};for(const u of l.values())c[u]={signal:`${r.signal} === "${o}" ? ${nu(s[u])} : ${nu(a[u])}`};return c}return t[i]})])}function iUt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:nTe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=Ut(n)?"axisOrient":`axis${ek(n)}`,a=[...i,...i.map(c=>o+c.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:eue(a,r,e,n),vgAxisConfig:eue(l,r,e,n),axisConfigStyle:oUt([...l,...a],r)}}function oUt(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=Tt(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function i9(e,t,n,r={}){var o;const i=ARe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const tue={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??sUt(n,e),gridScale:({model:e,channel:t})=>aUt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||WMe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||VMe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??cUt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??uUt(t.type,n,dt(t)&&!!t.timeUnit,dt(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??fUt({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:({axis:e,format:t,fieldOrDatumDef:n})=>e.tickMinStep??pUt({format:t,fieldOrDatumDef:n}),title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=qMe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return DRe(i?[Ece(i)]:[],dt(s)?[Ece(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>hUt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??gUt(n,t)};function sUt(e,t){return!Eo(e)&&dt(t)&&!Kr(t==null?void 0:t.bin)&&!Io(t==null?void 0:t.bin)}function aUt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function lUt(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Ut(o)?o:CE(o);{const{configValue:s}=i9("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?CE(s):n===ci&&Un([rY,nY],e.type)&&!(dt(e)&&e.timeUnit)?270:void 0}}function o9(e){return`(((${e.signal} % 360) + 360) % 360)`}function VMe(e,t,n,r){if(e!==void 0)if(n==="x"){if(Ut(e)){const i=o9(e),o=Ut(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Ut(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Ut(e)){const i=o9(e),o=Ut(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Ut(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function WMe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Ut(e)){const s=o9(e),a=Ut(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Ut(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function cUt(e,t){if(t==="x"&&Un(["quantitative","temporal"],e))return!0}function uUt(e,t,n,r){if(n&&!At(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function dUt(e){return e==="x"?"bottom":"left"}function fUt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Eo(t)&&t!=="log"){if(dt(e)){if(Kr(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Un(["month","hours","day","quarter"],(i=wo(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function pUt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(dt(t)){const{timeUnit:n}=t;if(n){const r=XRe(n);if(r)return{signal:r}}}}function qMe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return PRe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function hUt(e,t){const n=e.values;if(Xe(n))return TTe(t,n);if(Ut(n))return n}function gUt(e,t){return e==="rect"&&WD(t)?1:0}class fx extends $r{constructor(n,r){super(n);tt(this,"transform");tt(this,"_dependentFields");this.transform=r,this._dependentFields=zMe(this.transform.calculate)}clone(){return new fx(null,yn(this.transform))}static parseAllForSortIndex(n,r){return r.forEachFieldDef((i,o)=>{if(Ly(i)&&vTe(i.sort)){const{field:s,timeUnit:a}=i,l=i.sort,c=l.map((u,d)=>`${ZRe({field:s,timeUnit:a,equal:u})} ? ${d} : `).join("")+l.length;n=new fx(n,{calculate:c,as:px(i,o,{forAs:!0})})}}),n}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Kn(this.transform)}`}}function px(e,t,n){return St(e,{prefix:t,suffix:"sort_index",...n})}function O5(e,t){return Un(["top","bottom"],t)?"column":Un(["left","right"],t)||e==="row"?"row":"column"}function hx(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return zi((t||{})[e],i[e],n.header[e])}function D5(e,t,n,r){const i={};for(const o of e){const s=hx(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const $Y=["row","column"],FY=["header","footer"];function mUt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=D5(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=O5(t,a),c=CE(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...YMe(c,l),...GMe(l,c,o),...XMe(r,i,t,n9t,GTe)}}}function GMe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=WMe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function YMe(e,t){const n=VMe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function yUt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of FY)if(n[i])for(const o of n[i]){const s=bUt(e,t,i,n,o);s!=null&&r.push(s)}return r}function vUt(e,t){const{sort:n}=e;return Xf(n)?{field:St(n,{expr:"datum"}),order:n.order??"ascending"}:Xe(n)?{field:px(e,t,{expr:"datum"}),order:"ascending"}:{field:St(e,{expr:"datum"}),order:n??"ascending"}}function s9(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=D5(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=dY({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=O5(t,a);return{text:{signal:l?ty(ty(l,"datum.label",c),"datum.value",St(e,{expr:"parent"})):c},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...YMe(o,u),...GMe(u,o,s),...XMe(n,e,t,r9t,YTe)}}function bUt(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=D5(["labelOrient"],s.header,a,t);(t==="row"&&!Un(["top","bottom"],d)||t==="column"&&!Un(["left","right"],d))&&(o=s9(s,t,a))}const l=ul(e)&&!ak(e.facet),c=i.axes,u=(c==null?void 0:c.length)>0;if(o||u){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:vUt(s,t)}:{},...u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...u?{axes:c}:{}}}}return null}const xUt={column:{start:0,end:1},row:{start:1,end:0}};function SUt(e,t){return xUt[t][e]}function wUt(e,t){const n={};for(const r of tc){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=D5(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=O5(r,s),l=SUt(o,a);l!==void 0&&(n[a]=l)}}return qr(n)?void 0:n}function XMe(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=hx(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function NY(e){return[...sM(e,"width"),...sM(e,"height"),...sM(e,"childWidth"),...sM(e,"childHeight")]}function sM(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(Eo(s)&&$y(a)){const l=e.scaleName(n);return ul(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[nue(l,a)]:[nue(l,a),{name:i,update:KMe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=X8(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function nue(e,t){const n=`${e}_step`;return Ut(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function KMe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=zi(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${nu(s)}, ${nu(o)}) * ${e}_step`}function QMe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function ZMe(e,t){return at(e).reduce((n,r)=>({...n,...lS({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>ei(i.value),invalidValueRef:void 0})}),{})}function JMe(e,t){if(ul(t))return e==="theta"?"independent":"shared";if(fS(t))return"shared";if(VY(t))return Bi(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function LY(e,t){const n=e.scale[t],r=Bi(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&ut(Q6t(t)),"independent"):e[r][t]||"shared"}const CUt={...s9t,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},eAe=at(CUt);class _Ut extends Ep{}const rue={symbols:EUt,gradient:kUt,labels:RUt,entries:TUt};function EUt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:c}=n,u=s.filled&&c!=="trail";let d={...o6t({},n,t8t),...kMe(n,{filled:u})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,p=i.get("symbolFillColor")??l.legend.symbolFillColor,g=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=f===void 0?tAe(a.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||u&&r===Ea)delete d.fill;else if(ct(d.fill,"field"))p?delete d.fill:(d.fill=ei(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=ei(m??1));else if(Xe(d.fill)){const v=a9(a.fill??a.color)??s.fill??(u&&s.color);v&&(d.fill=ei(v))}}if(d.stroke){if(r==="stroke"||!u&&r===Ea)delete d.stroke;else if(ct(d.stroke,"field")||g)delete d.stroke;else if(Xe(d.stroke)){const v=zi(a9(a.stroke||a.color),s.stroke,u?s.color:void 0);v&&(d.stroke={value:v})}}if(r!==wp){const v=dt(t)&&rAe(n,i,t);v?d.opacity=[{test:v,...ei(m??1)},ei(l.legend.unselectedOpacity)]:m&&(d.opacity=ei(m))}return d={...d,...e},qr(d)?void 0:d}function kUt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const c=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?tAe(s.opacity)||o.opacity:void 0;return c&&(a.opacity=ei(c)),a={...a,...e},qr(a)?void 0:a}function RUt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=dt(t)?rAe(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:c,formatType:u}=o;let d;ay(u)?d=ru({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:u,config:s}):c===void 0&&u===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=ru({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&dt(t)&&t.timeUnit===void 0&&(d=ru({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return qr(f)?void 0:f}function TUt(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function tAe(e){return nAe(e,(t,n)=>Math.max(t,n.value))}function a9(e){return nAe(e,(t,n)=>zi(t,n.value))}function nAe(e,t){if(w8t(e))return Tt(e.condition).reduce(t,e.value);if(fu(e))return e.value}function rAe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ft(n.field);return r.map(o=>`(!length(data(${ft(oi(o)+cy)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const iue={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return gTe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return mTe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??$Ut(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??FUt(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??AUt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Hb(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Ub(n)&&cd(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>MUt(t,e)};function MUt(e,t){const n=e.values;if(Xe(n))return TTe(t,n);if(Ut(n))return n}function AUt(e,t,n,r){if(t!=="shape"){const i=a9(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function OUt(e){const{legend:t}=e;return zi(t.type,DUt(e))}function DUt({channel:e,timeUnit:t,scaleType:n}){if(Ub(e)){if(Un(["quarter","month","day"],t))return"symbol";if(cd(n))return"gradient"}return"symbol"}function PUt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??IUt(n,t)}function IUt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function $Ut({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(cd(i))return n==="horizontal"?r==="top"||r==="bottom"?oue(t,"width",s,o):s:oue(t,"height",l,a)}function oue(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function FUt(e){if(Un(["quantile","threshold","log","symlog"],e))return"greedy"}function iAe(e){const t=gi(e)?NUt(e):BUt(e);return e.component.legends=t,t}function NUt(e){const{encoding:t}=e,n={};for(const r of[Ea,...KTe]){const i=oo(t[r]);!i||!e.getScaleComponent(r)||r===ka&&dt(i)&&i.type===aS||(n[r]=zUt(e,r))}return n}function LUt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function jUt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function zUt(e,t){var _;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new _Ut({},LUt(e,t));X7t(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const c=e.getScaleComponent(t).get("type"),u=oo(i[t]),d=dt(u)?(_=wo(u.timeUnit))==null?void 0:_.unit:void 0,f=n.orient||o.legend.orient||"right",p=OUt({legend:n,channel:t,timeUnit:d,scaleType:c}),g=PUt({legend:n,legendType:p,orient:f,legendConfig:s}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:u,legendConfig:s,config:o,scaleType:c,orient:f,legendType:p,direction:g};for(const E of eAe){if(p==="gradient"&&E.startsWith("symbol")||p==="symbol"&&E.startsWith("gradient"))continue;const T=E in iue?iue[E](m):n[E];if(T!==void 0){const k=jUt(T,E,n,e.fieldDef(t));(k||o.legend[E]===void 0)&&a.set(E,T,k)}}const v=(n==null?void 0:n.encoding)??{},b=a.get("selections"),S={},C={fieldOrDatumDef:u,model:e,channel:t,legendCmpt:a,legendType:p};for(const E of["labels","legend","title","symbols","gradient","entries"]){const T=ZMe(v[E]??{},e),k=E in rue?rue[E](T,C):T;k!==void 0&&!qr(k)&&(S[E]={...b!=null&&b.length&&dt(u)?{name:`${oi(u.field)}_legend_${E}`}:{},...b!=null&&b.length?{interactive:!!b}:{},update:k})}return qr(S)||a.set("encode",S,!!(n!=null&&n.encoding)),a}function BUt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){iAe(r);for(const i of at(r.component.legends))n.legend[i]=LY(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=oAe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of at(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function oAe(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const c of eAe){const u=_g(e.getWithExplicit(c),t.getWithExplicit(c),c,"legend",(d,f)=>{switch(c){case"symbolType":return UUt(d,f);case"title":return IRe(d,f);case"type":return i=!0,Ua("symbol")}return k5(d,f,c,"legend")});e.setWithExplicit(c,u)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&zD(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&zD(e.explicit,["encode","gradient"])),e}function UUt(e,t){return t.value==="circle"?t:e}function HUt(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function sAe(e){const t=e.component.legends,n={};for(const i of at(t)){const o=e.getScaleComponent(i),s=Rr(o.get("domains"));if(n[s])for(const a of n[s])oAe(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Gi(n).flat().map(i=>VUt(i,e.config)).filter(i=>i!==void 0)}function VUt(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const c=o.encode.symbols.update;c.fill&&c.fill.value!=="transparent"&&!c.stroke&&!o.stroke&&(c.stroke={value:"transparent"});for(const u of KTe)o[u]&&delete c[u]}if(o.title||delete o.title,r!==void 0){let c=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&Ut(o.encode.labels.update.text)&&(c=ty(r,"datum.label",o.encode.labels.update.text.signal)),HUt(o,"labels","text",{signal:c})}return o}}function WUt(e){return fS(e)||VY(e)?qUt(e):aAe(e)}function qUt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),aAe(e))}function aAe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=Ut(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Un(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const GUt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class lAe extends Ep{constructor(n,r,i,o){super({...r},{name:n});tt(this,"specifiedProjection");tt(this,"size");tt(this,"data");tt(this,"merged",!1);this.specifiedProjection=r,this.size=i,this.data=o}get isFit(){return!!this.data}}function cAe(e){e.component.projection=gi(e)?YUt(e):QUt(e)}function YUt(e){if(e.hasProjection){const t=Fo(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?XUt(e):void 0,o=new lAe(e.projectionName(!0),{...Fo(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function XUt(e){const t=[],{encoding:n}=e;for(const r of[[Mu,Tu],[bc,Au]])(oo(n[r[0]])||oo(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ka)&&e.typedFieldDef(ka).type===aS&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(mi.Main)),t}function KUt(e,t){const n=MG(GUt,i=>!!(!Pt(e.explicit,i)&&!Pt(t.explicit,i)||Pt(e.explicit,i)&&Pt(t.explicit,i)&&el(e.get(i),t.get(i))));if(el(e.size,t.size)){if(n)return e;if(el(e.explicit,{}))return t;if(el(t.explicit,{}))return e}return null}function QUt(e){if(e.children.length===0)return;let t;for(const r of e.children)cAe(r);const n=MG(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=KUt(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new lAe(r,t.specifiedProjection,t.size,yn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function ZUt(e,t,n,r){if(uk(t,n)){const i=gi(e)?e.axis(n)??e.legend(n)??{}:{},o=St(t,{expr:"datum"}),s=St(t,{expr:"datum",binSuffix:"end"});return{formulaAs:St(t,{binSuffix:"range",forAs:!0}),formula:sk(o,s,i.format,i.formatType,r)}}return{}}function uAe(e,t){return`${kRe(e)}_${t}`}function JUt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function jY(e,t,n){const r=x5(n,void 0)??{},i=uAe(r,t);return e.getName(`${i}_bins`)}function eHt(e){return"as"in e}function sue(e,t,n){let r,i;eHt(e)?r=Mt(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[St(e,{forAs:!0}),St(e,{binSuffix:"end",forAs:!0})];const o={...x5(t,void 0)},s=uAe(o,e.field),{signal:a,extentSignal:l}=JUt(n,s);if(c5(o.extent)){const u=o.extent;i=UMe(n,u.param,u),delete o.extent}const c={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:c}}class vd extends $r{constructor(n,r){super(n);tt(this,"bins");this.bins=r}clone(){return new vd(null,yn(this.bins))}static makeFromEncoding(n,r){const i=r.reduceFieldDef((o,s,a)=>{if(Ws(s)&&Kr(s.bin)){const{key:l,binComponent:c}=sue(s,s.bin,r);o[l]={...c,...o[l],...ZUt(r,s,a,r.config)}}return o},{});return qr(i)?null:new vd(n,i)}static makeFromTransform(n,r,i){const{key:o,binComponent:s}=sue(r,r.bin,i);return new vd(n,{[o]:s})}merge(n,r){for(const i of at(n.bins))i in this.bins?(r(n.bins[i].signal,this.bins[i].signal),this.bins[i].as=ld([...this.bins[i].as,...n.bins[i].as],Kn)):this.bins[i]=n.bins[i];for(const i of n.children)n.removeChild(i),i.parent=this;n.remove()}producedFields(){return new Set(Gi(this.bins).map(n=>n.as).flat(2))}dependentFields(){return new Set(Gi(this.bins).map(n=>n.field))}hash(){return`Bin ${Kn(this.bins)}`}assemble(){return Gi(this.bins).flatMap(n=>{const r=[],[i,...o]=n.as,{extent:s,...a}=n.bin,l={type:"bin",field:vc(n.field),as:i,signal:n.signal,...c5(s)?{extent:null}:{extent:s},...n.span?{span:{signal:`span(${n.span})`}}:{},...a};!s&&n.extentSignal&&(r.push({type:"extent",field:vc(n.field),signal:n.extentSignal}),l.extent={signal:n.extentSignal}),r.push(l);for(const c of o)for(let u=0;u<2;u++)r.push({type:"formula",expr:St({field:i[u]},{expr:"datum"}),as:c[u]});return n.formula&&r.push({type:"formula",expr:n.formula,as:n.formulaAs}),r})}}function tHt(e,t,n,r){var o;const i=gi(r)?r.encoding[qd(t)]:void 0;if(Ws(n)&&gi(r)&&xTe(n,i,r.markDef,r.config)){e.add(St(n,{})),e.add(St(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,c=Cg({fieldDef:n,markDef:a,config:l});_E(s)&&c!==.5&&Bi(t)&&(e.add(St(n,{suffix:R5})),e.add(St(n,{suffix:T5}))),n.bin&&uk(n,t)&&e.add(St(n,{binSuffix:"range"}))}else if(yRe(t)){const s=mRe(t);e.add(r.getName(s))}else e.add(St(n));return Ly(n)&&UBt((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function nHt(e,t){for(const n of at(t)){const r=t[n];for(const i of at(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class su extends $r{constructor(n,r,i){super(n);tt(this,"dimensions");tt(this,"measures");this.dimensions=r,this.measures=i}clone(){return new su(null,new Set(this.dimensions),yn(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(n,r){let i=!1;r.forEachFieldDef(a=>{a.aggregate&&(i=!0)});const o={},s=new Set;return!i||(r.forEachFieldDef((a,l)=>{const{aggregate:c,field:u}=a;if(c)if(c==="count")o["*"]??(o["*"]={}),o["*"].count=new Set([St(a,{forAs:!0})]);else{if(fp(c)||Yg(c)){const d=fp(c)?"argmin":"argmax",f=c[d];o[f]??(o[f]={}),o[f][d]=new Set([St({op:d,field:f},{forAs:!0})])}else o[u]??(o[u]={}),o[u][c]=new Set([St(a,{forAs:!0})]);Gd(l)&&r.scaleDomain(l)==="unaggregated"&&(o[u]??(o[u]={}),o[u].min=new Set([St({field:u,aggregate:"min"},{forAs:!0})]),o[u].max=new Set([St({field:u,aggregate:"max"},{forAs:!0})]))}else tHt(s,l,a,r)}),s.size+at(o).length===0)?null:new su(n,s,o)}static makeFromTransform(n,r){var s;const i=new Set,o={};for(const a of r.aggregate){const{op:l,field:c,as:u}=a;l&&(l==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||St(a,{forAs:!0})])):(o[c]??(o[c]={}),(s=o[c])[l]??(s[l]=new Set),o[c][l].add(u||St(a,{forAs:!0}))))}for(const a of r.groupby??[])i.add(a);return i.size+at(o).length===0?null:new su(n,i,o)}merge(n){return lRe(this.dimensions,n.dimensions)?(nHt(this.measures,n.measures),!0):(pBt("different dimensions, cannot merge"),!1)}addDimensions(n){n.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...at(this.measures)])}producedFields(){const n=new Set;for(const r of at(this.measures))for(const i of at(this.measures[r])){const o=this.measures[r][i];o.size===0?n.add(`${i}_${r}`):o.forEach(n.add,n)}return n}hash(){return`Aggregate ${Kn({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const n=[],r=[],i=[];for(const s of at(this.measures))for(const a of at(this.measures[s]))for(const l of this.measures[s][a])i.push(l),n.push(a),r.push(s==="*"?null:vc(s));return{type:"aggregate",groupby:[...this.dimensions].map(vc),ops:n,fields:r,as:i}}}class uS extends $r{constructor(n,r,i,o){super(n);tt(this,"model");tt(this,"name");tt(this,"data");tt(this,"column");tt(this,"row");tt(this,"facet");tt(this,"childModel");this.model=r,this.name=i,this.data=o;for(const s of tc){const a=r.facet[s];if(a){const{bin:l,sort:c}=a;this[s]={name:r.getName(`${s}_domain`),fields:[St(a),...Kr(l)?[St(a,{binSuffix:"end"})]:[]],...Xf(c)?{sortField:c}:Xe(c)?{sortIndexField:px(a,s)}:{}}}}this.childModel=r.child}hash(){let n="Facet";for(const r of tc)this[r]&&(n+=` ${r.charAt(0)}:${Kn(this[r])}`);return n}get fields(){var r;const n=[];for(const i of tc)(r=this[i])!=null&&r.fields&&n.push(...this[i].fields);return n}dependentFields(){const n=new Set(this.fields);for(const r of tc)this[r]&&(this[r].sortField&&n.add(this[r].sortField.field),this[r].sortIndexField&&n.add(this[r].sortIndexField));return n}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const n={};for(const r of Cp){const i=this.childModel.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(Eo(o)&&$y(s)){const a=P5(this.childModel,r),l=HY(a);l?n[r]=l:ut(HG(r))}}}return n}assembleRowColumnHeaderData(n,r,i){const o={row:"y",column:"x",facet:void 0}[n],s=[],a=[],l=[];o&&i&&i[o]&&(r?(s.push(`distinct_${i[o]}`),a.push("max")):(s.push(i[o]),a.push("distinct")),l.push(`distinct_${i[o]}`));const{sortField:c,sortIndexField:u}=this[n];if(c){const{op:d=y5,field:f}=c;s.push(f),a.push(d),l.push(St(c,{forAs:!0}))}else u&&(s.push(u),a.push("max"),l.push(u));return{name:this[n].name,source:r??this.data,transform:[{type:"aggregate",groupby:this[n].fields,...s.length?{fields:s,ops:a,as:l}:{}}]}}assembleFacetHeaderData(n){var c,u;const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,o=[],s={};for(const d of $Y){for(const f of FY){const p=((c=i[d])==null?void 0:c[f])??[];for(const g of p)if(((u=g.axes)==null?void 0:u.length)>0){s[d]=!0;break}}if(s[d]){const f=`length(data("${this.facet.name}"))`,p=d==="row"?r?{signal:`ceil(${f} / ${r})`}:1:r?{signal:`min(${f}, ${r})`}:{signal:f};o.push({name:`${this.facet.name}_${d}`,transform:[{type:"sequence",start:0,stop:p}]})}}const{row:a,column:l}=s;return(a||l)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,n)),o}assemble(){const n=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:o,row:s,facet:a}=this;if(o&&s&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const l=[].concat(i.x??[],i.y??[]),c=l.map(()=>"distinct");n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:c}]})}for(const l of[Yf,Gf])this[l]&&n.push(this.assembleRowColumnHeaderData(l,r,i));if(a){const l=this.assembleFacetHeaderData(i);l&&n.push(...l)}return n}}function aue(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function rHt(e,t){const n=DG(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=aue(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=aue(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return ut(w6t(t)),null}function iHt(e){const t={};return yA(e.filter,n=>{if(QRe(n)){let r=null;XG(n)?r=Qa(n.equal):QG(n)?r=Qa(n.lte):KG(n)?r=Qa(n.lt):ZG(n)?r=Qa(n.gt):JG(n)?r=Qa(n.gte):eY(n)?r=n.range[0]:tY(n)&&(r=(n.oneOf??n.in)[0]),r&&(Fy(r)?t[n.field]="date":gr(r)?t[n.field]="number":Mt(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function oHt(e){const t={};function n(r){cx(r)?t[r.field]="date":r.type==="quantitative"&&Kzt(r.aggregate)?t[r.field]="number":rx(r.field)>1?r.field in t||(t[r.field]="flatten"):Ly(r)&&Xf(r.sort)&&rx(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((gi(e)||ul(e))&&e.forEachFieldDef((r,i)=>{if(Ws(r))n(r);else{const o=Py(i),s=e.fieldDef(o);n({...r,type:s.type})}}),gi(e)){const{mark:r,markDef:i,encoding:o}=e;if(Xg(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];dt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function sHt(e){const t={};if(gi(e)&&e.component.selection)for(const n of at(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&rx(i.field)>1&&(t[i.field]="flatten")}return t}class cs extends $r{constructor(n,r){super(n);tt(this,"_parse");this._parse=r}clone(){return new cs(null,yn(this._parse))}hash(){return`Parse ${Kn(this._parse)}`}static makeExplicit(n,r,i){var a;let o={};const s=r.data;return!Xh(s)&&((a=s==null?void 0:s.format)!=null&&a.parse)&&(o=s.format.parse),this.makeWithAncestors(n,o,{},i)}static makeWithAncestors(n,r,i,o){for(const l of at(i)){const c=o.getWithExplicit(l);c.value!==void 0&&(c.explicit||c.value===i[l]||c.value==="derived"||i[l]==="flatten"?delete i[l]:ut(yce(l,i[l],c.value)))}for(const l of at(r)){const c=o.get(l);c!==void 0&&(c===r[l]?delete r[l]:ut(yce(l,r[l],c)))}const s=new Ep(r,i);o.copyAll(s);const a={};for(const l of at(s.combine())){const c=s.get(l);c!==null&&(a[l]=c)}return at(a).length===0||o.parseNothing?null:new cs(n,a)}get parse(){return this._parse}merge(n){this._parse={...this._parse,...n.parse},n.remove()}assembleFormatParse(){const n={};for(const r of at(this._parse)){const i=this._parse[r];rx(r)===1&&(n[r]=i)}return n}producedFields(){return new Set(at(this._parse))}dependentFields(){return new Set(at(this._parse))}assembleTransforms(n=!1){return at(this._parse).filter(r=>n?rx(r)>1:!0).map(r=>{const i=rHt(r,this._parse[r]);return i?{type:"formula",expr:i,as:oS(r)}:null}).filter(r=>r!==null)}}class Eg extends $r{clone(){return new Eg(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([hu])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:hu}}}class pk extends $r{constructor(n,r){super(n);tt(this,"params");this.params=r}clone(){return new pk(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Kn(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class hk extends $r{constructor(n,r){super(n);tt(this,"params");this.params=r}clone(){return new hk(null,this.params)}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Kn(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class uy extends $r{constructor(n){super(null);tt(this,"_data");tt(this,"_name");tt(this,"_generator");n??(n={name:"source"});let r;if(Xh(n)||(r=n.format?{...cl(n.format,["parse"])}:{}),EE(n))this._data={values:n.values};else if(ux(n)){if(this._data={url:n.url},!r.type){let i=/(?:\.([^.]+))?$/.exec(n.url)[1];Un(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else hMe(n)?this._data={values:[{type:"Sphere"}]}:(fMe(n)||Xh(n))&&(this._data={});this._generator=Xh(n),n.name&&(this._name=n.name),r&&!qr(r)&&(this._data.format=r)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(n){this._name=n}set parent(n){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function zY(e){return e instanceof uy||e instanceof pk||e instanceof hk}var o1;class BY{constructor(){rn(this,o1);Dt(this,o1,!1)}setModified(){Dt(this,o1,!0)}get modifiedFlag(){return Ce(this,o1)}}o1=new WeakMap;class jy extends BY{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class UY extends BY{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class aHt extends UY{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of at(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class lHt extends UY{constructor(n){super();tt(this,"requiresSelectionId");this.requiresSelectionId=n&&IY(n)}run(n){n instanceof Eg&&(this.requiresSelectionId&&(zY(n.parent)||n.parent instanceof su||n.parent instanceof cs)||(this.setModified(),n.remove()))}}class cHt extends BY{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof md&&(r=t.producedFields(),AG(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class uHt extends UY{constructor(){super()}run(t){t instanceof xa&&!t.isRequired()&&(this.setModified(),t.remove())}}class dHt extends jy{run(t){if(!zY(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof cs)if(t instanceof cs)this.setModified(),t.merge(n);else{if(OG(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class fHt extends jy{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof cs);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of at(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!qr(i)){this.setModified();const s=new cs(t,i);for(const a of n){if(a instanceof cs)for(const l of at(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof cs&&at(a.parse).length===0&&a.remove()}}}}}class pHt extends jy{run(t){t instanceof xa||t.numChildren()>0||t instanceof uS||t instanceof uy||(this.setModified(),t.remove())}}class hHt extends jy{run(t){const n=t.children.filter(i=>i instanceof md),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class gHt extends jy{run(t){const n=t.children.filter(i=>i instanceof su),r={};for(const i of n){const o=Kn(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of at(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class mHt extends jy{constructor(n){super();tt(this,"model");this.model=n}run(n){const r=!(zY(n)||n instanceof cS||n instanceof cs||n instanceof Eg),i=[],o=[];for(const s of n.children)s instanceof vd&&(r&&!OG(n.producedFields(),s.dependentFields())?i.push(s):o.push(s));if(i.length>0){const s=i.pop();for(const a of i)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),n instanceof vd?n.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(o.length>1){const s=o.pop();for(const a of o)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class yHt extends jy{run(t){const n=[...t.children];if(!nx(n,s=>s instanceof xa)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof xa){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof xa)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class zy extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r}clone(){return new zy(null,yn(this.transform))}addDimensions(n){this.transform.groupby=ld(this.transform.groupby.concat(n),r=>r)}dependentFields(){const n=new Set;return this.transform.groupby&&this.transform.groupby.forEach(n.add,n),this.transform.joinaggregate.map(r=>r.field).filter(r=>r!==void 0).forEach(n.add,n),n}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(n){return n.as??St(n)}hash(){return`JoinAggregateTransform ${Kn(this.transform)}`}assemble(){const n=[],r=[],i=[];for(const s of this.transform.joinaggregate)r.push(s.op),i.push(this.getDefaultName(s)),n.push(s.field===void 0?null:s.field);const o=this.transform.groupby;return{type:"joinaggregate",as:i,ops:r,fields:n,...o!==void 0?{groupby:o}:{}}}}class gx extends $r{constructor(n,r){super(n);tt(this,"filter");this.filter=r}clone(){return new gx(null,{...this.filter})}static make(n,r,i){const{config:o,markDef:s}=r,{marks:a,scales:l}=i;if(a==="include-invalid-values"&&l==="include-invalid-values")return null;const c=r.reduceFieldDef((u,d,f)=>{const p=Gd(f)&&r.getScaleComponent(f);if(p){const g=p.get("type"),{aggregate:m}=d,v=lY({scaleChannel:f,markDef:s,config:o,scaleType:g,isCountAggregate:l5(m)});v!=="show"&&v!=="always-valid"&&(u[d.field]=d)}return u},{});return at(c).length?new gx(n,c):null}dependentFields(){return new Set(at(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Kn(this.filter)}`}assemble(){const n=at(this.filter).reduce((r,i)=>{const o=this.filter[i],s=St(o,{expr:"datum"});return o!==null&&(o.type==="temporal"?r.push(`(isDate(${s}) || (${l9(s)}))`):o.type==="quantitative"&&r.push(l9(s))),r},[]);return n.length>0?{type:"filter",expr:n.join(" && ")}:null}}function l9(e){return`isValid(${e}) && isFinite(+${e})`}function vHt(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=St(r);return i&&t.push(i),t},[])}function bHt(e){return Xe(e)&&e.every(t=>Mt(t))&&e.length>1}class Qf extends $r{constructor(n,r){super(n);tt(this,"_stack");this._stack=r}clone(){return new Qf(null,yn(this._stack))}static makeFromTransform(n,r){const{stack:i,groupby:o,as:s,offset:a="zero"}=r,l=[],c=[];if(r.sort!==void 0)for(const f of r.sort)l.push(f.field),c.push(zi(f.order,"ascending"));const u={field:l,order:c};let d;return bHt(s)?d=s:Mt(s)?d=[s,`${s}_end`]:d=[`${r.stack}_start`,`${r.stack}_end`],new Qf(n,{dimensionFieldDefs:[],stackField:i,groupby:o,offset:a,sort:u,facetby:[],as:d})}static makeFromEncoding(n,r){const i=r.stack,{encoding:o}=r;if(!i)return null;const{groupbyChannels:s,fieldChannel:a,offset:l,impute:c}=i,u=s.map(g=>{const m=o[g];return pu(m)}).filter(g=>!!g),d=vHt(r),f=r.encoding.order;let p;if(Xe(f)||dt(f))p=ORe(f);else{const g=STe(f)?f.sort:a==="y"?"descending":"ascending";p=d.reduce((m,v)=>(m.field.includes(v)||(m.field.push(v),m.order.push(g)),m),{field:[],order:[]})}return new Qf(n,{dimensionFieldDefs:u,stackField:r.vgField(a),facetby:[],stackby:d,sort:p,offset:l,impute:c,as:[r.vgField(a,{suffix:"start",forAs:!0}),r.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(n){this._stack.facetby.push(...n)}dependentFields(){const n=new Set;return n.add(this._stack.stackField),this.getGroupbyFields().forEach(n.add,n),this._stack.facetby.forEach(n.add,n),this._stack.sort.field.forEach(n.add,n),n}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Kn(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:n,impute:r,groupby:i}=this._stack;return n.length>0?n.map(o=>o.bin?r?[St(o,{binSuffix:"mid"})]:[St(o,{}),St(o,{binSuffix:"end"})]:[St(o)]).flat():i??[]}assemble(){const n=[],{facetby:r,dimensionFieldDefs:i,stackField:o,stackby:s,sort:a,offset:l,impute:c,as:u}=this._stack;if(c)for(const d of i){const{bandPosition:f=.5,bin:p}=d;if(p){const g=St(d,{expr:"datum"}),m=St(d,{expr:"datum",binSuffix:"end"});n.push({type:"formula",expr:`${l9(g)} ? ${f}*${g}+${1-f}*${m} : ${g}`,as:St(d,{binSuffix:"mid",forAs:!0})})}n.push({type:"impute",field:o,groupby:[...s,...r],key:St(d,{binSuffix:"mid"}),method:"value",value:0})}return n.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:o,sort:a,as:u,offset:l}),n}}class dS extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r}clone(){return new dS(null,yn(this.transform))}addDimensions(n){this.transform.groupby=ld(this.transform.groupby.concat(n),r=>r)}dependentFields(){const n=new Set;return(this.transform.groupby??[]).forEach(n.add,n),(this.transform.sort??[]).forEach(r=>n.add(r.field)),this.transform.window.map(r=>r.field).filter(r=>r!==void 0).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(n){return n.as??St(n)}hash(){return`WindowTransform ${Kn(this.transform)}`}assemble(){const n=[],r=[],i=[],o=[];for(const f of this.transform.window)r.push(f.op),i.push(this.getDefaultName(f)),o.push(f.param===void 0?null:f.param),n.push(f.field===void 0?null:f.field);const s=this.transform.frame,a=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&r.every(f=>BG(f)))return{type:"joinaggregate",as:i,ops:r,fields:n,...a!==void 0?{groupby:a}:{}};const l=[],c=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)l.push(f.field),c.push(f.order??"ascending");const u={field:l,order:c},d=this.transform.ignorePeers;return{type:"window",params:o,as:i,ops:r,fields:n,sort:u,...d!==void 0?{ignorePeers:d}:{},...a!==void 0?{groupby:a}:{},...s!==void 0?{frame:s}:{}}}}function xHt(e){function t(n){if(!(n instanceof uS)){const r=n.clone();if(r instanceof xa){const i=u9+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof su||r instanceof Qf||r instanceof dS||r instanceof zy)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function c9(e){if(e instanceof uS)if(e.numChildren()===1&&!(e.children[0]instanceof xa)){const t=e.children[0];(t instanceof su||t instanceof Qf||t instanceof dS||t instanceof zy)&&t.addDimensions(e.fields),t.swapWithParent(),c9(e)}else{const t=e.model.component.data.main;dAe(t);const n=xHt(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(c9)}function dAe(e){if(e instanceof xa&&e.type===mi.Main&&e.numChildren()===1){const t=e.children[0];t instanceof uS||(t.swapWithParent(),dAe(e))}}const u9="scale_",aM=5;function d9(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!d9(t.children))return!1}return!0}function Dc(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function lue(e,t,n){let r=e.sources,i=!1;return i=Dc(new uHt,r)||i,i=Dc(new lHt(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Dc(new pHt,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Dc(new dHt,r)||i,i=Dc(new mHt(t),r)||i,i=Dc(new cHt,r)||i,i=Dc(new fHt,r)||i,i=Dc(new gHt,r)||i,i=Dc(new hHt,r)||i,i=Dc(new aHt,r)||i,i=Dc(new yHt,r)||i),e.sources=r,i}function SHt(e,t){d9(e.sources);let n=0,r=0;for(let i=0;i<aM&&lue(e,t,!0);i++)n++;e.sources.map(c9);for(let i=0;i<aM&&lue(e,t,!1);i++)r++;d9(e.sources),Math.max(n,r)===aM&&ut(`Maximum optimization runs(${aM}) reached.`)}class go{constructor(t){tt(this,"signal");Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new go(()=>t(n))}}function fAe(e){gi(e)?wHt(e):CHt(e)}function wHt(e){const t=e.component.scales;for(const n of at(t)){const r=EHt(e,n);if(t[n].setWithExplicit("domains",r),RHt(e,n),e.component.data.isFaceted){let o=e;for(;!ul(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)$f(a)&&(a.data=u9+a.data.replace(u9,""))}}}function CHt(e){for(const n of e.children)fAe(n);const t=e.component.scales;for(const n of at(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=_g(r,s.getWithExplicit("domains"),"domains","scale",f9);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&ut(g6t),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function _Ht(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=cue(t,n);if(!i){ut(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=cue(t,n);if(i)return"unaggregated"}return e}function EHt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=_Ht(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&oo(r.x2)?oo(r.x)?_g(ih(n,i,e,"x"),ih(n,i,e,"x2"),"domain","scale",f9):ih(n,i,e,"x2"):t==="y"&&oo(r.y2)?oo(r.y)?_g(ih(n,i,e,"y"),ih(n,i,e,"y2"),"domain","scale",f9):ih(n,i,e,"y2"):ih(n,i,e,t)}function kHt(e,t,n){return e.map(r=>({signal:`{data: ${S5(r,{timeUnit:n,type:t})}}`}))}function xj(e,t,n){var i;const r=(i=wo(n))==null?void 0:i.unit;return t==="temporal"||r?kHt(e,t,r):[e]}function ih(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,c=oo(i[r]),{type:u}=c,d=c.timeUnit,f=b7t({invalid:Od("invalid",o,a),isPath:Xg(s)});if(BBt(t)){const m=ih(e,void 0,n,r),v=xj(t.unionWith,u,d);return Wu([...v,...m.value])}else{if(Ut(t))return Wu([t]);if(t&&t!=="unaggregated"&&!iTe(t))return Wu(xj(t,u,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Ua([[0,1]]);const m=n.requestDataName(f);return Ua([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const p=Gd(r)&&dt(c)?THt(n,r,e):void 0;if(Yd(c)){const m=xj([c.datum],u,d);return Ua(m)}const g=c;if(t==="unaggregated"){const{field:m}=c;return Ua([{data:n.requestDataName(f),field:St({field:m,aggregate:"min"})},{data:n.requestDataName(f),field:St({field:m,aggregate:"max"})}])}else if(Kr(g.bin)){if(Eo(e))return Ua(e==="bin-ordinal"?[]:[{data:wE(p)?n.requestDataName(f):n.requestDataName(mi.Raw),field:n.vgField(r,uk(g,r)?{binSuffix:"range"}:{}),sort:p===!0||!At(p)?{field:n.vgField(r,{}),op:"min"}:p}]);{const{bin:m}=g;if(Kr(m)){const v=jY(n,g.field,m);return Ua([new go(()=>{const b=n.getSignalName(v);return`[${b}.start, ${b}.stop]`})])}else return Ua([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(g.timeUnit&&Un(["time","utc"],e)){const m=i[qd(r)];if(xTe(g,m,o,a)){const v=n.requestDataName(f),b=Cg({fieldDef:g,fieldDef2:m,markDef:o,config:a}),S=_E(s)&&b!==.5&&Bi(r);return Ua([{data:v,field:n.vgField(r,S?{suffix:R5}:{})},{data:v,field:n.vgField(r,{suffix:S?T5:"end"})}])}}return Ua(p?[{data:wE(p)?n.requestDataName(f):n.requestDataName(mi.Raw),field:n.vgField(r),sort:p}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function Sj(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":y5),...r?{field:vc(r)}:{},...i?{order:i}:{}}}function RHt(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=iTe(r)?r:void 0,s=Iy(i)&&c5(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function THt(e,t,n){if(!Eo(n))return;const r=e.fieldDef(t),i=r.sort;if(vTe(i))return{op:"min",field:px(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Xf(i)){const a=o&&!s.has(i.field);return Sj(i,a)}else if(b8t(i)){const{encoding:a,order:l}=i,c=e.fieldDef(a),{aggregate:u,field:d}=c,f=o&&!s.has(d);if(fp(u)||Yg(u))return Sj({field:St(c),order:l},f);if(BG(u)||!u)return Sj({op:u,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Un(["ascending",void 0],i))return!0}}function cue(e,t){const{aggregate:n,type:r}=e;return n?Mt(n)&&!Zzt.has(n)?{valid:!1,reason:V6t(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:W6t(e)}:{valid:!0}:{valid:!1,reason:H6t(e)}}function f9(e,t,n,r){return e.explicit&&t.explicit&&ut(K6t(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function MHt(e){const t=ld(e.map(s=>{if($f(s)){const{sort:a,...l}=s;return l}return s}),Kn),n=ld(e.map(s=>{if($f(s)){const a=s.sort;return a!==void 0&&!wE(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),Kn);if(t.length===0)return;if(t.length===1){const s=e[0];if($f(s)&&n.length>0){let a=n[0];if(n.length>1){ut(bce);const l=n.filter(c=>At(c)&&"op"in c&&c.op!=="min");n.every(c=>At(c)&&"op"in c)&&l.length===1?a=l[0]:a=!0}else if(At(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=ld(n.map(s=>wE(s)||!("op"in s)||Mt(s.op)&&Pt(Yzt,s.op)?s:(ut(Z6t(s)),!0)),Kn);let i;r.length===1?i=r[0]:r.length>1&&(ut(bce),i=!0);const o=ld(e.map(s=>$f(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function HY(e){if($f(e)&&Mt(e.field))return e.field;if(Jzt(e)){let t;for(const n of e.fields)if($f(n)&&Mt(n.field)){if(!t)t=n.field;else if(t!==n.field)return ut(J6t),t}return ut(eBt),t}else if(e6t(e)){ut(tBt);const t=e.fields[0];return Mt(t)?t:void 0}}function P5(e,t){const r=e.component.scales[t].get("domains").map(i=>($f(i)&&(i.data=e.lookupDataSource(i.data)),i));return MHt(r)}function pAe(e){return fS(e)||VY(e)?e.children.reduce((t,n)=>t.concat(pAe(n)),uue(e)):uue(e)}function uue(e){return at(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:c,reverse:u,...d}=i,f=AHt(i.range,o,n,e),p=P5(e,n),g=a?A7t(e,a,r,p):null;return t.push({name:o,type:s,...p?{domain:p}:{},...g?{domainRaw:g}:{},range:f,...u!==void 0?{reverse:u}:{},...d}),t},[])}function AHt(e,t,n,r){if(Bi(n)){if($y(e))return{step:{signal:`${t}_step`}}}else if(At(e)&&$f(e))return{...e,data:r.lookupDataSource(e.data)};return e}class hAe extends Ep{constructor(n,r){super({},{name:n});tt(this,"merged",!1);this.setWithExplicit("type",r)}domainHasZero(){const n=this.get("type");if(Un([No.LOG,No.TIME,No.UTC],n))return"definitely-not";const r=this.get("zero");if(r===!0||r===void 0&&Un([No.LINEAR,No.SQRT,No.POW],n))return"definitely";const i=this.get("domains");if(i.length>0){let o=!1,s=!1,a=!1;for(const l of i){if(Xe(l)){const c=l[0],u=l[l.length-1];if(gr(c)&&gr(u))if(c<=0&&u>=0){o=!0;continue}else{s=!0;continue}}a=!0}if(o)return"definitely";if(s&&!a)return"definitely-not"}return"maybe"}}const OHt=["range","scheme"];function DHt(e){const t=e.component.scales;for(const n of zG){const r=t[n];if(!r)continue;const i=PHt(n,e);r.setWithExplicit("range",i)}}function due(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=Ra(t),s=e.getName(o);if(At(r)&&r.binned&&r.step!==void 0)return new go(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Kr(r)){const a=jY(e,i,r);return new go(()=>{const l=e.getSignalName(a),c=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${c})`})}}}function PHt(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const d of OHt)if(n[d]!==void 0){const f=q8(o,d),p=oTe(e,d);if(!f)ut(LRe(o,d,e));else if(p)ut(p);else switch(d){case"range":{const g=n.range;if(Xe(g)){if(Bi(e))return Wu(g.map(m=>{if(m==="width"||m==="height"){const v=t.getName(m),b=t.getSignalName.bind(t);return go.fromName(b,v)}return m}))}else if(At(g))return Wu({data:t.requestDataName(mi.Main),field:g.field,sort:{op:"min",field:t.vgField(e)}});return Wu(g)}case"scheme":return Wu(IHt(n[d]))}}const s=e===ci||e==="xOffset"?"width":"height",a=r[s];if(Pd(a)){if(Bi(e))if(Eo(o)){const d=mAe(a,t,e);if(d)return Wu({step:d})}else ut(jRe(s));else if(rk(e)){const d=e===Ug?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const g=yAe(a,o);if(g)return Wu(g)}}}const{rangeMin:l,rangeMax:c}=n,u=$Ht(e,t);return(l!==void 0||c!==void 0)&&q8(o,"rangeMin")&&Xe(u)&&u.length===2?Wu([l??u[0],c??u[1]]):Ua(u)}function IHt(e){return zBt(e)?{scheme:e.name,...cl(e,["name"])}:{scheme:e}}function gAe(e,t,n,{center:r}={}){const i=Ra(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===To&&du(n)?r?[go.fromName(a=>`${s(a)}/2`,o),go.fromName(a=>`-${s(a)}/2`,o)]:[go.fromName(s,o),0]:r?[go.fromName(a=>`-${s(a)}/2`,o),go.fromName(a=>`${s(a)}/2`,o)]:[0,go.fromName(s,o)]}function $Ht(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=oo(o[e]),l=t.getScaleComponent(e).get("type"),{domain:c,domainMid:u}=t.specifiedScales[e];switch(e){case ci:case To:{if(Un(["point","band"],l)){const d=vAe(e,n,r.view);if(Pd(d))return{step:mAe(d,t,e)}}return gAe(e,t,l)}case Ug:case sS:return FHt(e,t,l);case Sp:{const d=jHt(i,r),f=zHt(i,n,t,r);return sx(l)?LHt(d,f,NHt(l,r,c,e)):[d,f]}case _c:return[0,Math.PI*2];case Dy:return[0,360];case Ru:return[0,new go(()=>{const d=t.getSignalName(ul(t.parent)?"child_width":"width"),f=t.getSignalName(ul(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case Hg:return{step:1e3/r.scale.framesPerSecond};case qg:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Gg:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ka:return"symbol";case Ea:case Vd:case Wd:return l==="ordinal"?s==="nominal"?"category":"ordinal":u!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case wp:case Vg:case Wg:return[r.scale.minOpacity,r.scale.maxOpacity]}}function mAe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=FG(n),s=r[o];if(ZTe({step:e,offsetIsDiscrete:Sn(s)&&JRe(s.type)})==="offset"&&DTe(r,o)){const l=t.getScaleComponent(o);let u=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,p=l.get("paddingOuter")??l.get("padding")??0;u=`bandspace(${u}, ${f}, ${p})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${u} / (1-${i6t(d)})`}}else return e.step}function yAe(e,t){if(ZTe({step:e,offsetIsDiscrete:Eo(t)})==="offset")return{step:e.step}}function FHt(e,t,n){const r=e===Ug?"x":"y",i=t.getScaleComponent(r);if(!i)return gAe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const c=vAe(r,t.size,t.config.view);if(Pd(c)){const u=yAe(c,n);if(u)return u}return[0,{signal:`bandwidth('${s}')`}]}else{const c=t.encoding[r];if(dt(c)&&c.timeUnit){const u=XRe(c.timeUnit,g=>`scale('${s}', ${g})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=Cg({fieldDef:c,markDef:a,config:l})-.5,p=f!==0?` + ${f}`:"";if(d){const g=Ut(d)?`${d.signal}/2${p}`:`${d/2+f}`,m=Ut(d)?`(1 - ${d.signal}/2)${p}`:`${1-d/2+f}`;return[{signal:`${g} * (${u})`},{signal:`${m} * (${u})`}]}return[0,{signal:u}]}return sRe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function vAe(e,t,n){const r=e===ci?"width":"height",i=t[r];return i||XD(n,r)}function NHt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Xe(n)?n.length+1:(ut(uBt(r)),3)}}function LHt(e,t,n){const r=()=>{const i=nu(t),o=nu(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return Ut(t)?new go(r):{signal:r()}}function jHt(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(u5("size",e))}const fue=.95;function zHt(e,t,n,r){const i={x:due(n,"x"),y:due(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=pue(t,i,r.view);return gr(o)?o-1:new go(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=pue(t,i,r.view);return gr(o)?Math.pow(fue*o,2):new go(()=>`pow(${fue} * ${o.signal}, 2)`)}}throw new Error(u5("size",e))}function pue(e,t,n){const r=Pd(e.width)?e.width.step:K8(n,"width"),i=Pd(e.height)?e.height.step:K8(n,"height");return t.x||t.y?new go(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function bAe(e,t){gi(e)?BHt(e,t):SAe(e,t)}function BHt(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of at(n)){const l=s[a],c=n[a],u=e.getScaleComponent(a),d=oo(i[a]),f=l[t],p=u.get("type"),g=u.get("padding"),m=u.get("paddingInner"),v=q8(p,t),b=oTe(a,t);if(f!==void 0&&(v?b&&ut(b):ut(LRe(p,t,a))),v&&b===void 0)if(f!==void 0){const S=d.timeUnit,C=d.type;switch(t){case"domainMax":case"domainMin":Fy(l[t])||C==="temporal"||S?c.set(t,{signal:S5(l[t],{type:C,timeUnit:S})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const S=ct(hue,t)?hue[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:p,scalePadding:g,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:PTe(i,a),hasSecondaryRangeChannel:!!i[qd(a)]}):r.scale[t];S!==void 0&&c.set(t,S,!1)}}}const hue={bins:({model:e,fieldOrDatumDef:t})=>dt(t)?UHt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>HHt(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>VHt(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>WHt(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>qHt(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>GHt(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=dt(e)?e.sort:void 0;return YHt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>XHt(e,t,n,r,i,o.scale,s)};function xAe(e){gi(e)?DHt(e):SAe(e,"range")}function SAe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?xAe(r):bAe(r,t);for(const r of at(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=_g(i,a,t,"scale",dMe((l,c)=>{switch(t){case"range":return l.step&&c.step?l.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function UHt(e,t){const n=t.bin;if(Kr(n)){const r=jY(e,t.field,n);return new go(()=>e.getSignalName(r))}else if(Io(n)&&Iy(n)&&n.step!==void 0)return{step:n.step}}function HHt(e,t){if(Un([Ea,Vd,Wd],e)&&t!=="nominal")return"hcl"}function VHt(e,t,n,r,i,o){var s;if(!((s=pu(o))!=null&&s.bin||Xe(n)||i!=null||r!=null||Un([No.TIME,No.UTC],e)))return Bi(t)?!0:void 0}function WHt(e,t,n,r,i,o){if(Bi(e)){if(cd(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(dt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===No.POINT)return n.pointPadding}}function qHt(e,t,n,r,i,o=!1){if(e===void 0){if(Bi(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:u}=i;return o?u:zi(s,n==="bar"?a:n==="tick"?c:l)}else if(rk(t)&&r===No.BAND)return i.offsetBandPaddingInner}}function GHt(e,t,n,r,i,o=!1){if(e===void 0){if(Bi(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===No.BAND)return zi(s,Ut(r)?{signal:`${r.signal}/2`}:r/2)}else if(rk(t)){if(n===No.POINT)return .5;if(n===No.BAND)return i.offsetBandPaddingOuter}}}function YHt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return du(e)&&t==="descending"?Ut(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(du(e)&&t==="descending")return!0}function XHt(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&du(i)){if(Xe(n)){const l=n[0],c=n[n.length-1];if(gr(l)&&l<=0&&gr(c)&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!sx(i))return!0;if(!(dt(t)&&t.bin)&&Un([...Cp,...jzt],e)){const{orient:l,type:c}=r;return Un(["bar","area","line","trail"],c)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Un(["bar","area"],c)&&!s?!0:o==null?void 0:o.zero}return!1}function KHt(e,t,n,r,i=!1){const o=QHt(t,n,r,i),{type:s}=e;return Gd(t)?s!==void 0?GBt(t,s)?dt(n)&&!qBt(s,n.type)?(ut(Y6t(s,o)),o):s:(ut(G6t(t,s,o)),o):o:null}function QHt(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Ub(e)||cj(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&ut(uj(e,"ordinal")),"ordinal";if(lj(e))return"band";if(Bi(e)||rk(e)){if(Un(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in jG)return"band";const o=n[Ra(e)];return sy(o)||lx(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Ub(e)?"time":cj(e)==="discrete"?(ut(uj(e,"temporal")),"ordinal"):dt(t)&&t.timeUnit&&wo(t.timeUnit).utc?"utc":lj(e)?"band":"time";case"quantitative":return Ub(e)?dt(t)&&Kr(t.bin)?"bin-ordinal":"linear":cj(e)==="discrete"?(ut(uj(e,"quantitative")),"ordinal"):lj(e)?"band":"linear";case"geojson":return}throw new Error(FRe(t.type))}function ZHt(e,{ignoreRange:t}={}){wAe(e),fAe(e);for(const n of WBt)bAe(e,n);t||xAe(e)}function wAe(e){gi(e)?e.component.scales=JHt(e):e.component.scales=tVt(e)}function JHt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of zG){const s=oo(t[o]);if(s&&n===lTe&&o===ka&&s.type===aS)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=PTe(t,o),c=KHt(a,o,s,r,l);i[o]=new hAe(e.scaleName(`${o}`,!0),{value:c,explicit:a.type===c})}}return i}const eVt=dMe((e,t)=>Sce(e)-Sce(t));function tVt(e){var i;const t=e.component.scales={},n={},r=e.component.resolve;for(const o of e.children){wAe(o);for(const s of at(o.component.scales))if((i=r.scale)[s]??(i[s]=JMe(s,e)),r.scale[s]==="shared"){const a=n[s],l=o.component.scales[s].getWithExplicit("type");a?$Bt(a.value,l.value)?n[s]=_g(a,l,"type","scale",eVt):(r.scale[s]="independent",delete n[s]):n[s]=l}}for(const o of at(n)){const s=e.scaleName(o,!0),a=n[o];t[o]=new hAe(s,a);for(const l of e.children){const c=l.component.scales[o];c&&(l.renameScale(c.get("name"),s),c.merged=!0)}}return t}class wj{constructor(){tt(this,"nameMap");this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function gi(e){return(e==null?void 0:e.type)==="unit"}function ul(e){return(e==null?void 0:e.type)==="facet"}function VY(e){return(e==null?void 0:e.type)==="concat"}function fS(e){return(e==null?void 0:e.type)==="layer"}class WY{constructor(t,n,r,i,o,s,a){tt(this,"type");tt(this,"parent");tt(this,"config");tt(this,"name");tt(this,"size");tt(this,"title");tt(this,"description");tt(this,"data");tt(this,"transforms");tt(this,"layout");tt(this,"scaleNameMap");tt(this,"projectionNameMap");tt(this,"signalNameMap");tt(this,"component");tt(this,"view");this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=Fo(a),this.name=t.name??i,this.title=dh(t.title)?{text:t.title}:t.title?Fo(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new wj,this.projectionNameMap=r?r.projectionNameMap:new wj,this.signalNameMap=r?r.signalNameMap:new wj,this.data=t.data,this.description=t.description,this.transforms=a7t(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:d9t(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:v5(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Ep,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?yn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){ZHt(this)}parseProjection(){cAe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){iAe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of at(r)){const s=r[o];s!==void 0&&(i[o]=ei(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=ei(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:qr(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=wUt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of tc)t[r].title&&n.push(mUt(this,r));for(const r of $Y)n=n.concat(yUt(this,r));return n}assembleAxes(){return rUt(this.component.axes,this.config)}assembleLegends(){return sAe(this)}assembleProjections(){return WUt(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...RRe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Un(["unit","layer"],this.type)?Un(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),qr(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||ul(this.parent)?pAe(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return oi((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(mi[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(ul(this.parent)){const n=QMe(t),r=a5(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(Eo(o)&&$y(s)){const a=i.get("name"),l=P5(this,r),c=HY(l);if(c){const u=St({aggregate:"distinct",field:c},{expr:"datum"});return{signal:KMe(a,i,u)}}else return ut(HG(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(bRe(t)&&Gd(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(c6t(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class CAe extends WY{vgField(t,n={}){const r=this.fieldDef(t);if(r)return St(r,n)}reduceFieldDef(t,n){return z8t(this.getMapping(),(r,i,o)=>{const s=pu(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){yY(this.getMapping(),(r,i)=>{const o=pu(r);o&&t(o,i)},n)}}class I5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r,this.transform=yn(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"value",i[1]??"density"];const o=this.transform.resolve??"shared";this.transform.resolve=o}clone(){return new I5(null,yn(this.transform))}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Kn(this.transform)}`}assemble(){const{density:n,...r}=this.transform,i={type:"kde",field:n,...r};return i.resolve=this.transform.resolve,i}}class $5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r,this.transform=yn(r)}clone(){return new $5(null,yn(this.transform))}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Kn(this.transform)}`}assemble(){const{extent:n,param:r}=this.transform;return{type:"extent",field:n,signal:r}}}class F5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r,this.transform=yn(r);const{flatten:i,as:o=[]}=this.transform;this.transform.as=i.map((s,a)=>o[a]??s)}clone(){return new F5(this.parent,yn(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Kn(this.transform)}`}assemble(){const{flatten:n,as:r}=this.transform;return{type:"flatten",fields:n,as:r}}}class N5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r,this.transform=yn(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"key",i[1]??"value"]}clone(){return new N5(null,yn(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Kn(this.transform)}`}assemble(){const{fold:n,as:r}=this.transform;return{type:"fold",fields:n,as:r}}}class Wb extends $r{constructor(n,r,i,o){super(n);tt(this,"fields");tt(this,"geojson");tt(this,"signal");this.fields=r,this.geojson=i,this.signal=o}clone(){return new Wb(null,yn(this.fields),this.geojson,this.signal)}static parseAll(n,r){if(r.component.projection&&!r.component.projection.isFit)return n;let i=0;for(const o of[[Mu,Tu],[bc,Au]]){const s=o.map(a=>{const l=oo(r.encoding[a]);return dt(l)?l.field:Yd(l)?{expr:`${l.datum}`}:fu(l)?{expr:`${l.value}`}:void 0});(s[0]||s[1])&&(n=new Wb(n,s,null,r.getName(`geojson_${i++}`)))}if(r.channelHasField(ka)){const o=r.typedFieldDef(ka);o.type===aS&&(n=new Wb(n,null,o.field,r.getName(`geojson_${i++}`)))}return n}dependentFields(){const n=(this.fields??[]).filter(Mt);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Kn(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class kE extends $r{constructor(n,r,i,o){super(n);tt(this,"projection");tt(this,"fields");tt(this,"as");this.projection=r,this.fields=i,this.as=o}clone(){return new kE(null,this.projection,yn(this.fields),yn(this.as))}static parseAll(n,r){if(!r.projectionName())return n;for(const i of[[Mu,Tu],[bc,Au]]){const o=i.map(a=>{const l=oo(r.encoding[a]);return dt(l)?l.field:Yd(l)?{expr:`${l.datum}`}:fu(l)?{expr:`${l.value}`}:void 0}),s=i[0]===bc?"2":"";(o[0]||o[1])&&(n=new kE(n,r.projectionName(),o,[r.getName(`x${s}`),r.getName(`y${s}`)]))}return n}dependentFields(){return new Set(this.fields.filter(Mt))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Kn(this.fields)} ${Kn(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class _0 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r}clone(){return new _0(null,yn(this.transform))}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(n){const{start:r=0,stop:i,step:o}=n;return{signal:`sequence(${[r,i,...o?[o]:[]].join(",")})`}}static makeFromTransform(n,r){return new _0(n,r)}static makeFromEncoding(n,r){const i=r.encoding,o=i.x,s=i.y;if(dt(o)&&dt(s)){const a=o.impute?o:s.impute?s:void 0;if(a===void 0)return;const l=o.impute?s:s.impute?o:void 0,{method:c,value:u,frame:d,keyvals:f}=a.impute,p=FTe(r.mark,i);return new _0(n,{impute:a.field,key:l.field,...c?{method:c}:{},...u!==void 0?{value:u}:{},...d?{frame:d}:{},...f!==void 0?{keyvals:f}:{},...p.length?{groupby:p}:{}})}return null}hash(){return`Impute ${Kn(this.transform)}`}assemble(){const{impute:n,key:r,keyvals:i,method:o,groupby:s,value:a,frame:l=[null,null]}=this.transform,c={type:"impute",field:n,key:r,...i?{keyvals:U9t(i)?this.processSequence(i):i}:{},method:"value",...s?{groupby:s}:{},value:!o||o==="value"?a:null};if(o&&o!=="value"){const u={type:"window",as:[`imputed_${n}_value`],ops:[o],fields:[n],frame:l,ignorePeers:!1,...s?{groupby:s}:{}},d={type:"formula",expr:`datum.${n} === null ? datum.imputed_${n}_value : datum.${n}`,as:n};return[c,u,d]}else return[c]}}class L5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r,this.transform=yn(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.loess]}clone(){return new L5(null,yn(this.transform))}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Kn(this.transform)}`}assemble(){const{loess:n,on:r,...i}=this.transform;return{type:"loess",x:r,y:n,...i}}}class RE extends $r{constructor(n,r,i){super(n);tt(this,"transform");tt(this,"secondary");this.transform=r,this.secondary=i}clone(){return new RE(null,yn(this.transform),this.secondary)}static make(n,r,i,o){const s=r.component.data.sources,{from:a}=i;let l=null;if(H9t(a)){let c=kAe(a.data,s);c||(c=new uy(a.data),s.push(c));const u=r.getName(`lookup_${o}`);l=new xa(c,u,mi.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[u]=l}else if(V9t(a)){const c=a.param;i={as:c,...i};let u;try{u=r.getSelectionComponent(oi(c),c)}catch{throw new Error(p6t(c))}if(l=u.materialized,!l)throw new Error(h6t(c))}return new RE(n,i,l.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Tt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Kn({transform:this.transform,secondary:this.secondary})}`}assemble(){let n;if(this.transform.from.fields)n={values:this.transform.from.fields,...this.transform.as?{as:Tt(this.transform.as)}:{}};else{let r=this.transform.as;Mt(r)||(ut(E6t),r="_lookup"),n={as:[r]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...n,...this.transform.default?{default:this.transform.default}:{}}}}class j5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r,this.transform=yn(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"prob",i[1]??"value"]}clone(){return new j5(null,yn(this.transform))}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Kn(this.transform)}`}assemble(){const{quantile:n,...r}=this.transform;return{type:"quantile",field:n,...r}}}class z5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r,this.transform=yn(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.regression]}clone(){return new z5(null,yn(this.transform))}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Kn(this.transform)}`}assemble(){const{regression:n,on:r,...i}=this.transform;return{type:"regression",x:r,y:n,...i}}}class B5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r}clone(){return new B5(null,yn(this.transform))}addDimensions(n){this.transform.groupby=ld((this.transform.groupby??[]).concat(n),r=>r)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Kn(this.transform)}`}assemble(){const{pivot:n,value:r,groupby:i,limit:o,op:s}=this.transform;return{type:"pivot",field:n,value:r,...o!==void 0?{limit:o}:{},...s!==void 0?{op:s}:{},...i!==void 0?{groupby:i}:{}}}}class U5 extends $r{constructor(n,r){super(n);tt(this,"transform");this.transform=r}clone(){return new U5(null,yn(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Kn(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function _Ae(e){let t=0;function n(r,i){if(r instanceof uy&&!r.isGenerator&&!ux(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof cs&&(r.parent instanceof uy&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof uS){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof pk||r instanceof hk||r instanceof gx||r instanceof cS||r instanceof fx||r instanceof kE||r instanceof su||r instanceof RE||r instanceof dS||r instanceof zy||r instanceof N5||r instanceof F5||r instanceof I5||r instanceof L5||r instanceof j5||r instanceof z5||r instanceof Eg||r instanceof U5||r instanceof B5||r instanceof $5)&&i.transform.push(r.assemble()),(r instanceof vd||r instanceof md||r instanceof _0||r instanceof Qf||r instanceof Wb)&&i.transform.push(...r.assemble()),r instanceof xa&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof xa?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof xa&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function nVt(e){const t=[],n=_Ae(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function rVt(e,t){const n=[],r=_Ae(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function iVt(e){return e==="top"||e==="left"||Ut(e)?"header":"footer"}function oVt(e){for(const t of tc)sVt(e,t);gue(e,"x"),gue(e,"y")}function sVt(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=hx("title",null,r,t);let c=Hb(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(c=Xe(c)?c.join(", "):c,c+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=hx("labelOrient",a.header,r,t),d=a.header!==null?zi((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,f=Un(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?c:null,facetFieldDef:a,[f]:t==="facet"?[]:[EAe(e,t,d)]}}}function EAe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function gue(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=LY(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=iVt(a.get("orient"));s[l]??(s[l]=[EAe(e,o,!1)]);const c=AC(a,"main",e.config,{header:!0});c&&s[l][0].axes.push(c),a.mainExtracted=!0}}}}function aVt(e){qY(e),JD(e,"width"),JD(e,"height")}function lVt(e){qY(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";JD(e,t),JD(e,n)}function qY(e){for(const t of e.children)t.parseLayoutSize()}function JD(e,t){const n=QMe(t),r=a5(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),c=i.scale[r]??JMe(r,e);if(c==="independent"&&l.value==="step"){s=void 0;break}if(s){if(c==="independent"&&s.value!==l.value){s=void 0;break}s=_g(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function cVt(e){const{size:t,component:n}=e;for(const r of Cp){const i=Ra(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Pd(o)?"step":o,!0)}else{const o=uVt(e,i);n.layoutSize.set(i,o,!1)}}}function uVt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(Eo(o)){const a=XD(r.view,t);return $y(s)||Pd(a)?"step":a}else return X8(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return X8(r.view,t);{const o=XD(r.view,t);return Pd(o)?o.step:o}}}function p9(e,t,n){return St(t,{suffix:`by_${St(e)}`,...n})}class g_ extends CAe{constructor(n,r,i,o){super(n,"facet",r,i,o,n.resolve);tt(this,"facet");tt(this,"child");tt(this,"children");this.child=QY(n.spec,this,this.getName("child"),void 0,o),this.children=[this.child],this.facet=this.initFacet(n.facet)}initFacet(n){if(!ak(n))return{facet:this.initFacetFieldDef(n,"facet")};const r=at(n),i={};for(const o of r){if(![Gf,Yf].includes(o)){ut(u5(o,"facet"));break}const s=n[o];if(s.field===void 0){ut(V8(s,o));break}i[o]=this.initFacetFieldDef(s,o)}return i}initFacetFieldDef(n,r){const i=mY(n,r);return i.header?i.header=Fo(i.header):i.header===null&&(i.header=null),i}channelHasField(n){return ct(this.facet,n)}fieldDef(n){return this.facet[n]}parseData(){this.component.data=H5(this),this.child.parseData()}parseLayoutSize(){qY(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Gi(this.component.selection).some(n=>yd(n))&&WG(VG)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),oVt(this)}assembleSelectionTopLevelSignals(n){return this.child.assembleSelectionTopLevelSignals(n)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(n){return this.child.assembleSelectionData(n)}getHeaderLayoutMixins(){const n={};for(const r of tc)for(const i of FY){const o=this.component.layoutHeaders[r],s=o[i],{facetFieldDef:a}=o;if(a){const l=hx("titleOrient",a.header,this.config,r);if(["right","bottom"].includes(l)){const c=O5(r,l);n.titleAnchor??(n.titleAnchor={}),n.titleAnchor[c]="end"}}if(s!=null&&s[0]){const l=r==="row"?"height":"width",c=i==="header"?"headerBand":"footerBand";r!=="facet"&&!this.child.component.layoutSize.get(l)&&(n[c]??(n[c]={}),n[c][r]=.5),o.title&&(n.offset??(n.offset={}),n.offset[r==="row"?"rowTitle":"columnTitle"]=10)}}return n}assembleDefaultLayout(){const{column:n,row:r}=this.facet,i=n?this.columnDistinctSignal():r?1:void 0;let o="all";return(!r&&this.component.resolve.scale.x==="independent"||!n&&this.component.resolve.scale.y==="independent")&&(o="none"),{...this.getHeaderLayoutMixins(),...i?{columns:i}:{},bounds:"full",align:o}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof g_))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(n){return this.parent&&this.parent instanceof g_?{...this.channelHasField("column")?{encode:{update:{columns:{field:St(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(n)}:super.assembleGroup(n)}getCardinalityAggregateForChild(){const n=[],r=[],i=[];if(this.child instanceof g_){if(this.child.channelHasField("column")){const o=St(this.child.facet.column);n.push(o),r.push("distinct"),i.push(`distinct_${o}`)}}else for(const o of Cp){const s=this.child.component.scales[o];if(s&&!s.merged){const a=s.get("type"),l=s.get("range");if(Eo(a)&&$y(l)){const c=P5(this.child,o),u=HY(c);u?(n.push(u),r.push("distinct"),i.push(`distinct_${u}`)):ut(HG(o))}}}return{fields:n,ops:r,as:i}}assembleFacet(){const{name:n,data:r}=this.component.data.facetRoot,{row:i,column:o}=this.facet,{fields:s,ops:a,as:l}=this.getCardinalityAggregateForChild(),c=[];for(const d of tc){const f=this.facet[d];if(f){c.push(St(f));const{bin:p,sort:g}=f;if(Kr(p)&&c.push(St(f,{binSuffix:"end"})),Xf(g)){const{field:m,op:v=y5}=g,b=p9(f,g);i&&o?(s.push(b),a.push("max"),l.push(b)):(s.push(m),a.push(v),l.push(b))}else if(Xe(g)){const m=px(f,d);s.push(m),a.push("max"),l.push(m)}}}const u=!!i&&!!o;return{name:n,data:r,groupby:c,...u||s.length>0?{aggregate:{...u?{cross:u}:{},...s.length?{fields:s,ops:a,as:l}:{}}}:{}}}facetSortFields(n){const{facet:r}=this,i=r[n];return i?Xf(i.sort)?[p9(i,i.sort,{expr:"datum"})]:Xe(i.sort)?[px(i,n,{expr:"datum"})]:[St(i,{expr:"datum"})]:[]}facetSortOrder(n){const{facet:r}=this,i=r[n];if(i){const{sort:o}=i;return[(Xf(o)?o.order:!Xe(o)&&o)||"ascending"]}return[]}assembleLabelTitle(){var o;const{facet:n,config:r}=this;if(n.facet)return s9(n.facet,"facet",r);const i={row:["top","bottom"],column:["left","right"]};for(const s of $Y)if(n[s]){const a=hx("labelOrient",(o=n[s])==null?void 0:o.header,r,s);if(i[s].includes(a))return s9(n[s],s,r)}}assembleMarks(){const{child:n}=this,r=this.component.data.facetRoot,i=nVt(r),o=n.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||n.assembleTitle(),a=n.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:tc.map(c=>this.facetSortFields(c)).flat(),order:tc.map(c=>this.facetSortOrder(c)).flat()},...i.length>0?{data:i}:{},...o?{encode:{update:o}}:{},...n.assembleGroup(k7t(this,[]))}]}getMapping(){return this.facet}}function dVt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(Xf(o.sort)){const{field:s,op:a=y5}=o.sort;e=i=new zy(e,{joinaggregate:[{op:a,field:s,as:p9(o,o.sort,{forAs:!0})}],groupby:[St(o)]})}return i}return null}function kAe(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,c=(r=a.format)==null?void 0:r.feature;if(l&&c)continue;const u=(i=e.format)==null?void 0:i.feature;if((u||c)&&u!==c)continue;const d=(o=a.format)==null?void 0:o.mesh;if(!((l||d)&&l!==d)){if(EE(e)&&EE(a)){if(el(e.values,a.values))return s}else if(ux(e)&&ux(a)){if(e.url===a.url)return s}else if(fMe(e)&&e.name===s.dataName)return s}}return null}function fVt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new uy({values:[]});return t.push(r),r}const n=kAe(e.data,t);if(n)return Xh(e.data)||(n.data.format=aRe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new uy(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function pVt(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(e7t(i))s=e=new fx(e,i),o="derived";else if(TY(i)){const a=iHt(i);s=e=cs.makeWithAncestors(e,{},a,n)??e,e=new cS(e,t,i.filter)}else if(aMe(i))s=e=vd.makeFromTransform(e,i,t),o="number";else if(n7t(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new cs(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=md.makeFromTransform(e,i);else if(r7t(i))s=e=su.makeFromTransform(e,i),o="number",IY(t)&&(e=new Eg(e));else if(sMe(i))s=e=RE.make(e,t,i,r++),o="derived";else if(Q9t(i))s=e=new dS(e,i),o="number";else if(Z9t(i))s=e=new zy(e,i),o="number";else if(i7t(i))s=e=Qf.makeFromTransform(e,i),o="derived";else if(o7t(i))s=e=new N5(e,i),o="derived";else if(s7t(i))s=e=new $5(e,i),o="derived";else if(J9t(i))s=e=new F5(e,i),o="derived";else if(W9t(i))s=e=new B5(e,i),o="derived";else if(K9t(i))e=new U5(e,i);else if(t7t(i))s=e=_0.makeFromTransform(e,i),o="derived";else if(q9t(i))s=e=new I5(e,i),o="derived";else if(G9t(i))s=e=new j5(e,i),o="derived";else if(Y9t(i))s=e=new z5(e,i),o="derived";else if(X9t(i))s=e=new L5(e,i),o="derived";else{ut(_6t(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function H5(e){var v;let t=fVt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(Xh(i)||ux(i)||EE(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new v7t;Xh(i)?(pMe(i)?t=new hk(t,i.sequence):MY(i)&&(t=new pk(t,i.graticule)),s.parseNothing=!0):((v=i==null?void 0:i.format)==null?void 0:v.parse)===null&&(s.parseNothing=!0),t=cs.makeExplicit(t,e,s)??t,t=new Eg(t);const a=e.parent&&fS(e.parent);(gi(e)||ul(e))&&a&&(t=vd.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=pVt(t,e,s));const l=sHt(e),c=oHt(e);t=cs.makeWithAncestors(t,{},{...l,...c},s)??t,gi(e)&&(t=Wb.parseAll(t,e),t=kE.parseAll(t,e)),(gi(e)||ul(e))&&(a||(t=vd.makeFromEncoding(t,e)??t),t=md.makeFromEncoding(t,e)??t,t=fx.parseAllForSortIndex(t,e));const u=t=lM(mi.Raw,e,t);if(gi(e)){const b=su.makeFromEncoding(t,e);b&&(t=b,IY(e)&&(t=new Eg(t))),t=_0.makeFromEncoding(t,e)??t,t=Qf.makeFromEncoding(t,e)??t}let d,f;if(gi(e)){const{markDef:b,mark:S,config:C}=e,_=zr("invalid",b,C),{marks:E,scales:T}=f=gMe({invalid:_,isPath:Xg(S)});E!==T&&T==="include-invalid-values"&&(d=t=lM(mi.PreFilterInvalid,e,t)),E==="exclude-invalid-values"&&(t=gx.make(t,e,f)??t)}const p=t=lM(mi.Main,e,t);let g;if(gi(e)&&f){const{marks:b,scales:S}=f;b==="include-invalid-values"&&S==="exclude-invalid-values"&&(t=gx.make(t,e,f)??t,g=t=lM(mi.PostFilterInvalid,e,t))}gi(e)&&tUt(e,p);let m=null;if(ul(e)){const b=e.getName("facet");t=dVt(t,e.facet)??t,m=new uS(t,e,b,p.getSource()),n[b]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:u,main:p,facetRoot:m,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:g}}function lM(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new xa(n,o,e,i);return r[o]=s,s}class hVt extends WY{constructor(n,r,i,o){var s,a,l,c;super(n,"concat",r,i,o,n.resolve);tt(this,"children");(((a=(s=n.resolve)==null?void 0:s.axis)==null?void 0:a.x)==="shared"||((c=(l=n.resolve)==null?void 0:l.axis)==null?void 0:c.y)==="shared")&&ut(S6t),this.children=this.getChildren(n).map((u,d)=>QY(u,this,this.getName(`concat_${d}`),void 0,o))}parseData(){this.component.data=H5(this);for(const n of this.children)n.parseData()}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const r of at(n.component.selection))this.component.selection[r]=n.component.selection[r]}Gi(this.component.selection).some(n=>yd(n))&&WG(VG)}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){for(const n of this.children)n.parseAxesAndHeaders()}getChildren(n){return _5(n)?n.vconcat:kY(n)?n.hconcat:n.concat}parseLayoutSize(){lVt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(n){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),n)}assembleSignals(){return this.children.forEach(n=>n.assembleSignals()),[]}assembleLayoutSignals(){const n=NY(this);for(const r of this.children)n.push(...r.assembleLayoutSignals());return n}assembleSelectionData(n){return this.children.reduce((r,i)=>i.assembleSelectionData(r),n)}assembleMarks(){return this.children.map(n=>{const r=n.assembleTitle(),i=n.assembleGroupStyle(),o=n.assembleGroupEncodeEntry(!1);return{type:"group",name:n.getName("group"),...r?{title:r}:{},...i?{style:i}:{},...o?{encode:{update:o}}:{},...n.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const n=this.layout.columns;return{...n!=null?{columns:n}:{},bounds:"full",align:"each"}}}function gVt(e){return e===!1||e===null}const mVt={disable:1,gridScale:1,scale:1,...ATe,labelExpr:1,encode:1},RAe=at(mVt);class GY extends Ep{constructor(n={},r={},i=!1){super();tt(this,"explicit");tt(this,"implicit");tt(this,"mainExtracted");this.explicit=n,this.implicit=r,this.mainExtracted=i}clone(){return new GY(yn(this.explicit),yn(this.implicit),this.mainExtracted)}hasAxisPart(n){return n==="axis"?!0:n==="grid"||n==="title"?!!this.get(n):!gVt(this.get(n))}hasOrientSignalRef(){return Ut(this.explicit.orient)}}function yVt(e,t,n){const{encoding:r,config:i}=e,o=oo(r[t])??oo(r[qd(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(ay(l))return{text:ru({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(ax(o)==="quantitative"){if(lx(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:ru({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:ru({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(ax(o)==="temporal"&&i.timeFormatType&&dt(o)&&!o.timeUnit)return{text:ru({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function vVt(e){return Cp.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[EVt(n,e)]),t),{})}const bVt={bottom:"top",top:"bottom",left:"right",right:"left"};function xVt(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of at(i.component.axes))n.axis[o]=LY(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=SVt(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Cp){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!Ut(a)){if(r[a]>0&&!l){const c=bVt[a];r[a]>r[c]&&s.set("orient",c,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function SVt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=wVt(i,o)}}}else return t.map(n=>n.clone());return e}function wVt(e,t){for(const n of RAe){const r=_g(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return IRe(i,o);case"gridScale":return{explicit:i.explicit,value:zi(i.value,o.value)}}return k5(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function CVt(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Ut(n.labelAngle)?n.labelAngle:CE(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===qMe(r,i))return!0}return e===n[t]}const _Vt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function EVt(e,t){var b,S;let n=t.axis(e);const r=new GY,i=oo(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((b=s[e==="x"?"axisX":"axisY"])==null?void 0:b.orient)||((S=s.axis)==null?void 0:S.orient)||dUt(e),l=t.getScaleComponent(e).get("type"),c=iUt(e,l,a,t.config),u=n!==void 0?!n:i9("disable",s.style,n==null?void 0:n.style,c).configValue;if(r.set("disable",u,n!==void 0),u)return r;n=n||{};const d=lUt(i,n,e,s.style,c),f=mTe(n.formatType,i,l),p=gTe(i,i.type,n.format,n.formatType,s,!0),g={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:p,formatType:f,mark:o,config:s};for(const C of RAe){const _=C in tue?tue[C](g):Tce(C)?n[C]:void 0,E=_!==void 0,T=CVt(_,C,n,t,e);if(E&&T)r.set(C,_,T);else{const{configValue:k=void 0,configFrom:A=void 0}=Tce(C)&&C!=="values"?i9(C,s.style,n.style,c):{},P=k!==void 0;E&&!P?r.set(C,_,T):(A!=="vgAxisConfig"||_Vt.has(C)&&P||dk(k)||Ut(k))&&r.set(C,k,!1)}}const m=n.encoding??{},v=MTe.reduce((C,_)=>{if(!r.hasAxisPart(_))return C;const E=ZMe(m[_]??{},t),T=_==="labels"?yVt(t,e,E):E;return T!==void 0&&!qr(T)&&(C[_]={update:T}),C},{});return qr(v)||r.set("encode",v,!!n.encoding||n.labelAngle!==void 0),r}function kVt({encoding:e,size:t}){for(const n of Cp){const r=Ra(n);Pd(t[r])&&Fh(e[n])&&(delete t[r],ut(jRe(r)))}return t}const RVt={vgMark:"arc",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ls("x",e,{defaultPos:"mid"}),...Ls("y",e,{defaultPos:"mid"}),...pp(e,"radius"),...pp(e,"theta")})},TVt={vgMark:"area",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...KD("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...KD("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...PY(e)})},MVt={vgMark:"rect",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...pp(e,"x"),...pp(e,"y")})},AVt={vgMark:"shape",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&dt(n)&&n.type===aS?{field:St(n,{expr:"datum"})}:{}}]}},OVt={vgMark:"image",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...pp(e,"x"),...pp(e,"y"),...OY(e,"url")})},DVt={vgMark:"line",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ls("x",e,{defaultPos:"mid"}),...Ls("y",e,{defaultPos:"mid"}),...Lo("size",e,{vgChannel:"strokeWidth"}),...PY(e)})},PVt={vgMark:"trail",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ls("x",e,{defaultPos:"mid"}),...Ls("y",e,{defaultPos:"mid"}),...Lo("size",e),...PY(e)})};function YY(e,t){const{config:n}=e;return{...Ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ls("x",e,{defaultPos:"mid"}),...Ls("y",e,{defaultPos:"mid"}),...Lo("size",e),...Lo("angle",e),...IVt(e,n,t)}}function IVt(e,t,n){return n?{shape:{value:n}}:Lo("shape",e)}const $Vt={vgMark:"symbol",encodeEntry:e=>YY(e)},FVt={vgMark:"symbol",encodeEntry:e=>YY(e,"circle")},NVt={vgMark:"symbol",encodeEntry:e=>YY(e,"square")},LVt={vgMark:"rect",encodeEntry:e=>({...Ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...pp(e,"x"),...pp(e,"y")})},jVt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...KD("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...KD("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Lo("size",e,{vgChannel:"strokeWidth"})}}},zVt={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Ec(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Ls("x",e,{defaultPos:"mid"}),...Ls("y",e,{defaultPos:"mid"}),...OY(e),...Lo("size",e,{vgChannel:"fontSize"}),...Lo("angle",e),...Qce("align",BVt(e.markDef,n,t)),...Qce("baseline",UVt(e.markDef,n,t)),...Ls("radius",e,{defaultPos:null}),...Ls("theta",e,{defaultPos:null})}}};function BVt(e,t,n){if(zr("align",e,n)===void 0)return"center"}function UVt(e,t,n){if(zr("baseline",e,n)===void 0)return"middle"}const HVt={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...pp(e,i),...Ls(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:ei(zr("thickness",n,t))}}},cM={arc:RVt,area:TVt,bar:MVt,circle:FVt,geoshape:AVt,image:OVt,line:DVt,point:$Vt,rect:LVt,rule:jVt,square:NVt,text:zVt,tick:HVt,trail:PVt};function VVt(e){if(Un([g5,p5,QBt],e.mark)){const t=FTe(e.mark,e.encoding);if(t.length>0)return WVt(e,t)}else if(e.mark===h5){const t=U8.some(n=>zr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return qVt(e)}return XY(e)}const mue="faceted_path_";function WVt(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:mue+e.requestDataName(mi.Main),data:e.requestDataName(mi.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:XY(e,{fromPrefix:mue})}]}const yue="stack_group_";function qVt(e){var c;const[t]=XY(e,{fromPrefix:yue}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,d)=>{const f=[r({prefix:"min",suffix:"start",expr:d}),r({prefix:"max",suffix:"start",expr:d}),r({prefix:"min",suffix:"end",expr:d}),r({prefix:"max",suffix:"end",expr:d})];return`${u}(${f.map(p=>`scale('${n}',${p})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...tx(t.encode.update,["y","yc","y2","height",...U8]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...cl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...tx(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...cl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of U8){const d=Od(u,e.markDef,e.config);t.encode.update[u]?(o[u]=t.encode.update[u],delete t.encode.update[u]):d&&(o[u]=ei(d)),d&&(t.encode.update[u]={value:0})}const a=[];if(((c=e.stack.groupbyChannels)==null?void 0:c.length)>0)for(const u of e.stack.groupbyChannels){const d=e.fieldDef(u),f=St(d);f&&a.push(f),(d!=null&&d.bin||d!=null&&d.timeUnit)&&a.push(St(d,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,d)=>{if(t.encode.update[d])return{...u,[d]:t.encode.update[d]};{const f=Od(d,e.markDef,e.config);return f!==void 0?{...u,[d]:ei(f)}:u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(mi.Main),name:yue+e.requestDataName(mi.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function GVt(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Xe(s)&&fu(s)&&z8(s.value)||!s&&z8(zr("order",i,o)))){if((Xe(s)||dt(s))&&!n)return ORe(s,{expr:"datum"});if(Xg(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(dt(l))return{field:a}}}}function XY(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=zi(r.clip,YVt(e),XVt(e)),a=MRe(r),l=i.key,c=GVt(e),u=KVt(e),d=zr("aria",r,o),f=cM[n].postEncodingTransform?cM[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:cM[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...c?{sort:c}:{},...u||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(mi.Main)},encode:{update:cM[n].encodeEntry(e)},...f?{transform:f}:{}}]}function YVt(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function XVt(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function KVt(e){if(!e.component.selection)return null;const t=at(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=at(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class TAe extends CAe{constructor(n,r,i,o={},s){super(n,"unit",r,i,s,void 0,Ace(n)?n.view:void 0);tt(this,"markDef");tt(this,"encoding");tt(this,"specifiedScales",{});tt(this,"stack");tt(this,"specifiedAxes",{});tt(this,"specifiedLegends",{});tt(this,"specifiedProjection",{});tt(this,"selection",[]);tt(this,"children",[]);tt(this,"correctDataNames",n=>{var r,i,o;return(r=n.from)!=null&&r.data&&(n.from.data=this.lookupDataSource(n.from.data),"time"in this.encoding&&(n.from.data=n.from.data+yMe)),(o=(i=n.from)==null?void 0:i.facet)!=null&&o.data&&(n.from.facet.data=this.lookupDataSource(n.from.facet.data)),n});const a=Dd(n.mark)?{...n.mark}:{type:n.mark},l=a.type;a.filled===void 0&&(a.filled=I9t(a,s,{graticule:n.data&&MY(n.data)}));const c=this.encoding=L8t(n.encoding||{},l,a.filled,s);this.markDef=rMe(a,c,s),this.size=kVt({encoding:c,size:Ace(n)?{...o,...n.width?{width:n.width}:{},...n.height?{height:n.height}:{}}:o}),this.stack=nMe(this.markDef,c),this.specifiedScales=this.initScales(l,c),this.specifiedAxes=this.initAxes(c),this.specifiedLegends=this.initLegends(c),this.specifiedProjection=n.projection,this.selection=(n.params??[]).filter(u=>_Y(u))}get hasProjection(){const{encoding:n}=this,r=this.mark===lTe,i=n&&Azt.some(o=>Sn(n[o]));return r||i}scaleDomain(n){const r=this.specifiedScales[n];return r?r.domain:void 0}axis(n){return this.specifiedAxes[n]}legend(n){return this.specifiedLegends[n]}initScales(n,r){return zG.reduce((i,o)=>{const s=oo(r[o]);return s&&(i[o]=this.initScale(s.scale??{})),i},{})}initScale(n){const{domain:r,range:i}=n,o=Fo(n);return Xe(r)&&(o.domain=r.map(Qa)),Xe(i)&&(o.range=i.map(Qa)),o}initAxes(n){return Cp.reduce((r,i)=>{const o=n[i];if(Sn(o)||i===ci&&Sn(n.x2)||i===To&&Sn(n.y2)){const s=Sn(o)?o.axis:void 0;r[i]=s&&this.initAxis({...s})}return r},{})}initAxis(n){const r=at(n),i={};for(const o of r){const s=n[o];i[o]=dk(s)?TRe(s):Qa(s)}return i}initLegends(n){return Bzt.reduce((r,i)=>{const o=oo(n[i]);if(o&&Hzt(i)){const s=o.legend;r[i]=s&&Fo(s)}return r},{})}parseData(){this.component.data=H5(this)}parseLayoutSize(){cVt(this)}parseSelections(){this.component.selection=eUt(this,this.selection)}parseMarkGroup(){this.component.mark=VVt(this)}parseAxesAndHeaders(){this.component.axes=vVt(this)}assembleSelectionTopLevelSignals(n){return R7t(this,n)}assembleSignals(){return[...HMe(this),...E7t(this,[])]}assembleSelectionData(n){return T7t(this,n)}assembleLayout(){return null}assembleLayoutSignals(){return NY(this)}assembleMarks(){let n=this.component.mark??[];return(!this.parent||!fS(this.parent))&&(n=SMe(this,n)),n.map(this.correctDataNames)}assembleGroupStyle(){const{style:n}=this.view||{};return n!==void 0?n:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(n){return w0(this.encoding,n)}fieldDef(n){const r=this.encoding[n];return pu(r)}typedFieldDef(n){const r=this.fieldDef(n);return Ws(r)?r:null}}class KY extends WY{constructor(n,r,i,o,s){super(n,"layer",r,i,s,n.resolve,n.view);tt(this,"children");const a={...o,...n.width?{width:n.width}:{},...n.height?{height:n.height}:{}};this.children=n.layer.map((l,c)=>{if(E5(l))return new KY(l,this,this.getName(`layer_${c}`),a,s);if(_p(l))return new TAe(l,this,this.getName(`layer_${c}`),a,s);throw new Error(UG(l))})}parseData(){this.component.data=H5(this);for(const n of this.children)n.parseData()}parseLayoutSize(){aVt(this)}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const r of at(n.component.selection))this.component.selection[r]=n.component.selection[r]}Gi(this.component.selection).some(n=>yd(n))&&WG(VG)}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){xVt(this)}assembleSelectionTopLevelSignals(n){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),n)}assembleSignals(){return this.children.reduce((n,r)=>n.concat(r.assembleSignals()),HMe(this))}assembleLayoutSignals(){return this.children.reduce((n,r)=>n.concat(r.assembleLayoutSignals()),NY(this))}assembleSelectionData(n){return this.children.reduce((r,i)=>i.assembleSelectionData(r),n)}assembleGroupStyle(){const n=new Set;for(const i of this.children)for(const o of Tt(i.assembleGroupStyle()))n.add(o);const r=Array.from(n);return r.length>1?r:r.length===1?r[0]:void 0}assembleTitle(){let n=super.assembleTitle();if(n)return n;for(const r of this.children)if(n=r.assembleTitle(),n)return n}assembleLayout(){return null}assembleMarks(){return M7t(this,this.children.flatMap(n=>n.assembleMarks()))}assembleLegends(){return this.children.reduce((n,r)=>n.concat(r.assembleLegends()),sAe(this))}}function QY(e,t,n,r,i){if(v5(e))return new g_(e,t,n,i);if(E5(e))return new KY(e,t,n,r,i);if(_p(e))return new TAe(e,t,n,r,i);if(l9t(e))return new hVt(e,t,n,i);throw new Error(UG(e))}function MAe(e,t={}){t.logger&&dBt(t.logger),t.fieldTitle&&kTe(t.fieldTitle);try{const n=tMe(Hx(t.config,e.config)),r=uMe(e,n),i=QY(r,null,"",void 0,n);return i.parse(),SHt(i.component.data,i),{spec:ZVt(i,QVt(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&fBt(),t.fieldTitle&&M8t()}}function QVt(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Mt(t)&&(t={type:t}),i&&o&&g7t(t.type)){if(i==="step"&&o==="step")ut(hce()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";ut(hce(a5(s)));const a=s==="width"?"height":"width";t.type=m7t(a)}}return{...at(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Uce(n,!1),...Uce(e,!0)}}function ZVt(e,t,n={},r){const i=e.config?w9t(e.config):void 0,o=rVt(e.component.data,n),s=e.assembleSelectionData(o),a=e.assembleProjections(),l=e.assembleTitle(),c=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(g=>(g.name==="width"||g.name==="height")&&g.value!==void 0?(t[g.name]=+g.value,!1):!0);const{params:f,...p}=t;return{$schema:"https://vega.github.io/schema/vega/v6.json",...e.description?{description:e.description}:{},...p,...l?{title:l}:{},...c?{style:c}:{},...u?{encode:{update:u}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...QTe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const JVt=_zt.version,eWt=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:rx,accessPathWithDatum:DG,accessWithDatumToUnescapedPath:Dr,compile:MAe,contains:Un,deepEqual:el,deleteNestedProperty:zD,duplicate:yn,entries:Sg,every:MG,fieldIntersection:OG,flatAccessWithDatum:cRe,getFirstDefined:zi,hasIntersection:AG,hasProperty:ct,hash:Kn,internalField:fRe,isBoolean:wE,isEmpty:qr,isEqual:kzt,isInternalField:pRe,isNullOrFalse:z8,isNumeric:t5,keys:at,logicalExpr:p_,mergeDeep:aRe,never:sRe,normalize:uMe,normalizeAngle:CE,omit:cl,pick:tx,prefixGenerator:B8,removePathFromField:oS,replaceAll:ty,replacePathInField:vc,resetIdCounter:Tzt,setEqual:lRe,some:nx,stringify:Rr,titleCase:ek,unique:ld,uniqueId:dRe,vals:Gi,varName:oi,version:JVt},Symbol.toStringTag,{value:"Module"}));function AAe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var tWt="2.15.0",nWt={version:tWt};const Yv="#fff",vue="#888",rWt={background:"#333",view:{stroke:vue},title:{color:Yv,subtitleColor:Yv},style:{"guide-label":{fill:Yv},"guide-title":{fill:Yv}},axis:{domainColor:Yv,gridColor:vue,tickColor:Yv}},Sm="#4572a7",iWt={background:"#fff",arc:{fill:Sm},area:{fill:Sm},line:{stroke:Sm,strokeWidth:2},path:{stroke:Sm},rect:{fill:Sm},shape:{stroke:Sm},symbol:{fill:Sm,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},wm="#30a2da",Cj="#cbcbcb",oWt="#999",sWt="#333",bue="#f0f0f0",xue="#333",aWt={arc:{fill:wm},area:{fill:wm},axis:{domainColor:Cj,grid:!0,gridColor:Cj,gridWidth:1,labelColor:oWt,labelFontSize:10,titleColor:sWt,tickColor:Cj,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:bue,group:{fill:bue},legend:{labelColor:xue,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:xue,titleFontSize:14,titlePadding:10},line:{stroke:wm,strokeWidth:2},path:{stroke:wm,strokeWidth:.5},rect:{fill:wm},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:wm},bar:{binSpacing:2,fill:wm,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Cm="#000",lWt={group:{fill:"#e5e5e5"},arc:{fill:Cm},area:{fill:Cm},line:{stroke:Cm},path:{stroke:Cm},rect:{fill:Cm},shape:{stroke:Cm},symbol:{fill:Cm,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},cWt=22,uWt="normal",Sue="Benton Gothic, sans-serif",wue=11.5,dWt="normal",_m="#82c6df",_j="Benton Gothic Bold, sans-serif",Cue="normal",_ue=13,Xw={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},fWt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:_j,fontSize:cWt,fontWeight:uWt},arc:{fill:_m},area:{fill:_m},line:{stroke:_m,strokeWidth:2},path:{stroke:_m},rect:{fill:_m},shape:{stroke:_m},symbol:{fill:_m,size:30},axis:{labelFont:Sue,labelFontSize:wue,labelFontWeight:dWt,titleFont:_j,titleFontSize:_ue,titleFontWeight:Cue},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Sue,labelFontSize:wue,symbolType:"square",titleFont:_j,titleFontSize:_ue,titleFontWeight:Cue},range:{category:Xw["category-6"],diverging:Xw["fireandice-6"],heatmap:Xw["fire-7"],ordinal:Xw["fire-7"],ramp:Xw["fire-7"]}},Em="#ab5787",uM="#979797",pWt={background:"#f9f9f9",arc:{fill:Em},area:{fill:Em},line:{stroke:Em},path:{stroke:Em},rect:{fill:Em},shape:{stroke:Em},symbol:{fill:Em,size:30},axis:{domainColor:uM,domainWidth:.5,gridWidth:.2,labelColor:uM,tickColor:uM,tickWidth:.2,titleColor:uM},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},km="#3e5c69",hWt={background:"#fff",arc:{fill:km},area:{fill:km},line:{stroke:km},path:{stroke:km},rect:{fill:km},shape:{stroke:km},symbol:{fill:km},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},jl="#1696d2",Eue="#000000",gWt="#FFFFFF",dM="Lato",Ej="Lato",mWt="Lato",yWt="#DEDDDD",vWt=18,Kw={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},bWt={background:gWt,title:{anchor:"start",fontSize:vWt,font:dM},axisX:{domain:!0,domainColor:Eue,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Ej,labelAngle:0,tickColor:Eue,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:dM},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:yWt,gridWidth:1,labelFontSize:12,labelFont:Ej,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:dM,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Ej,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:dM,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Kw["six-groups-cat-1"],diverging:Kw["diverging-colors"],heatmap:Kw["diverging-colors"],ordinal:Kw["six-groups-seq"],ramp:Kw["shades-blue"]},area:{fill:jl},rect:{fill:jl},line:{color:jl,stroke:jl,strokeWidth:5},trail:{color:jl,stroke:jl,strokeWidth:0,size:1},path:{stroke:jl,strokeWidth:.5},point:{filled:!0},text:{font:mWt,color:jl,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:jl,stroke:null}},arc:{fill:jl},shape:{stroke:jl},symbol:{fill:jl,size:30}},Rm="#3366CC",kue="#ccc",fM="Arial, sans-serif",xWt={arc:{fill:Rm},area:{fill:Rm},path:{stroke:Rm},rect:{fill:Rm},shape:{stroke:Rm},symbol:{stroke:Rm},circle:{fill:Rm},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:fM,fontSize:12},"guide-title":{font:fM,fontSize:12},"group-title":{font:fM,fontSize:12}},title:{font:fM,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:kue,tickColor:kue,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},ZY=e=>e*(1/3+1),Rue=ZY(9),Tue=ZY(10),Mue=ZY(12),Qw="Segoe UI",Aue="wf_standard-font, helvetica, arial, sans-serif",Oue="#252423",Zw="#605E5C",Due="transparent",SWt="#C8C6C4",$c="#118DFF",wWt="#12239E",CWt="#E66C37",_Wt="#6B007B",EWt="#E044A7",kWt="#744EC2",RWt="#D9B300",TWt="#D64550",OAe=$c,DAe="#DEEFFF",Pue=[DAe,OAe],MWt=[DAe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",OAe],AWt={view:{stroke:Due},background:Due,font:Qw,header:{titleFont:Aue,titleFontSize:Mue,titleColor:Oue,labelFont:Qw,labelFontSize:Tue,labelColor:Zw},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Zw,labelFontSize:Rue,titleFont:Aue,titleColor:Oue,titleFontSize:Mue,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:SWt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:$c},line:{stroke:$c,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Qw,fontSize:Rue,fill:Zw},arc:{fill:$c},area:{fill:$c,line:!0,opacity:.6},path:{stroke:$c},rect:{fill:$c},point:{fill:$c,filled:!0,size:75},shape:{stroke:$c},symbol:{fill:$c,strokeWidth:1.5,size:50},legend:{titleFont:Qw,titleFontWeight:"bold",titleColor:Zw,labelFont:Qw,labelFontSize:Tue,labelColor:Zw,symbolType:"circle",symbolSize:75},range:{category:[$c,wWt,CWt,_Wt,EWt,kWt,RWt,TWt],diverging:Pue,heatmap:Pue,ordinal:MWt}},kj='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',OWt='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',Rj=400,pM={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},DWt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],PWt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function V5({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=pM.gridBg[e],i=pM.textPrimary[e],o=pM.textSecondary[e],s=n==="dark"?DWt:PWt,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:kj,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:OWt,labelFontWeight:Rj,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:pM.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:kj,fill:o,fontWeight:Rj},"guide-title":{font:kj,fill:o,fontWeight:Rj}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const IWt=V5({theme:"white",background:"#ffffff"}),$Wt=V5({theme:"g10",background:"#f4f4f4"}),FWt=V5({theme:"g90",background:"#262626"}),NWt=V5({theme:"g100",background:"#161616"}),LWt=nWt.version,jWt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:$Wt,carbong100:NWt,carbong90:FWt,carbonwhite:IWt,dark:rWt,excel:iWt,fivethirtyeight:aWt,ggplot2:lWt,googlecharts:xWt,latimes:fWt,powerbi:AWt,quartz:pWt,urbaninstitute:bWt,version:LWt,vox:hWt},Symbol.toStringTag,{value:"Module"}));function pS(e,t,n){return e.fields=t||[],e.fname=n,e}function zWt(e){return e.length===1?BWt(e[0]):UWt(e)}const BWt=e=>function(t){return t[e]},UWt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Tj(e){throw Error(e)}function HWt(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)c(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?c():s=a+1:l==="["?(a>s&&c(),i=s=a+1):l==="]"&&(i||Tj("Access path missing open bracket: "+e),i>0&&c(),i=0,s=a+1)}return i&&Tj("Access path missing closing bracket: "+e),r&&Tj("Access path missing closing quote: "+e),a>s&&(a++,c()),t}function VWt(e,t,n){const r=HWt(e);return e=r.length===1?r[0]:e,pS(zWt(r),[e],e)}VWt("id");pS(e=>e,[],"identity");pS(()=>0,[],"zero");pS(()=>1,[],"one");pS(()=>!0,[],"true");pS(()=>!1,[],"false");var WWt=Array.isArray;function Iue(e){return e===Object(e)}function qWt(e){return typeof e=="string"}function GWt(e,t,n,r){if(WWt(e))return`[${e.map(i=>t(qWt(i)?i:$ue(i,n))).join(", ")}]`;if(Iue(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const c of l){let u=a[c];u!==void 0&&(Iue(u)&&(u=$ue(u,n)),i+=`<tr><td class="key">${t(c)}</td><td class="value">${t(u)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function YWt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function $ue(e,t){return JSON.stringify(e,YWt(t))}var XWt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const PAe="vg-tooltip-element",KWt={offsetX:10,offsetY:10,id:PAe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:QWt,maxDepth:2,formatTooltip:GWt,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function QWt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function ZWt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return XWt.toString().replace(PAe,e)}function IAe(e,t,{offsetX:n,offsetY:r}){const i=$Ae({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),o=["bottom-right","bottom-left","top-right","top-left"];for(const s of o)if(FAe(i[s],t))return i[s];return i["top-left"]}function JWt(e,t,n,r,i){const{position:o,offsetX:s,offsetY:a}=i,l=e._el.getBoundingClientRect(),c=e._origin,u=eqt(l,c,n),d=$Ae(u,r,s,a),f=Array.isArray(o)?o:[o];for(const p of f)if(FAe(d[p],r)&&!tqt(t,d[p],r))return d[p];return IAe(t,r,i)}function eqt(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,o=e.top+t[1]+r.y1,s=n;for(;s.mark.group;)s=s.mark.group,i+=s.x??0,o+=s.y??0;const a=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+a,y1:o,y2:o+l}}function $Ae(e,t,n,r){const i=(e.x1+e.x2)/2,o=(e.y1+e.y2)/2,s=e.x1-t.width-n,a=i-t.width/2,l=e.x2+n,c=e.y1-t.height-r,u=o-t.height/2,d=e.y2+r;return{top:{x:a,y:c},bottom:{x:a,y:d},left:{x:s,y:u},right:{x:l,y:u},"top-left":{x:s,y:c},"top-right":{x:l,y:c},"bottom-left":{x:s,y:d},"bottom-right":{x:l,y:d}}}function FAe(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function tqt(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class nqt{constructor(t){this.options={...KWt,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=ZWt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=this.options.anchor==="mark"?JWt(t,n,r,this.el.getBoundingClientRect(),this.options):IAe(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var Mj={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var rqt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iqt=Object.prototype.hasOwnProperty;function h9(e,t){return iqt.call(e,t)}function g9(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)h9(e,i)&&r.push(i);return r}function tl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function m9(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function $m(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function NAe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function y9(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(y9(e[t]))return!0}else if(typeof e=="object"){for(var r=g9(e),i=r.length,o=0;o<i;o++)if(y9(e[r[o]]))return!0}}return!1}function Fue(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var LAe=function(e){rqt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,Fue(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=Fue(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),ki=LAe,oqt=tl,wb={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=eP(n,this.path);r&&(r=tl(r));var i=E0(n,{op:"remove",path:this.from}).removed;return E0(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=eP(n,this.from);return E0(n,{op:"add",path:this.path,value:tl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:TE(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},sqt={add:function(e,t,n){return m9(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:wb.move,copy:wb.copy,test:wb.test,_get:wb._get};function eP(e,t){if(t=="")return e;var n={op:"_get",path:t};return E0(e,n),n.value}function E0(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):tP(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=eP(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=TE(e,t.value),s.test===!1)throw new ki("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new ki("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=tl(e));var a=t.path||"",l=a.split("/"),c=e,u=1,d=l.length,f=void 0,p=void 0,g=void 0;for(typeof n=="function"?g=n:g=tP;;){if(p=l[u],p&&p.indexOf("~")!=-1&&(p=NAe(p)),i&&(p=="__proto__"||p=="prototype"&&u>0&&l[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(c[p]===void 0?f=l.slice(0,u).join("/"):u==d-1&&(f=t.path),f!==void 0&&g(t,0,e,f)),u++,Array.isArray(c)){if(p==="-")p=c.length;else{if(n&&!m9(p))throw new ki("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);m9(p)&&(p=~~p)}if(u>=d){if(n&&t.op==="add"&&p>c.length)throw new ki("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=sqt[t.op].call(t,c,p,e);if(s.test===!1)throw new ki("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(u>=d){var s=wb[t.op].call(t,c,p,e);if(s.test===!1)throw new ki("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(c=c[p],n&&u<d&&(!c||typeof c!="object"))throw new ki("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function W5(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new ki("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=tl(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=E0(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function aqt(e,t,n){var r=E0(e,t);if(r.test===!1)throw new ki("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function tP(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new ki("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(wb[e.op]){if(typeof e.path!="string")throw new ki("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new ki('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new ki("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new ki("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&y9(e.value))throw new ki("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new ki("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new ki("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=jAe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new ki("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new ki("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function jAe(e,t,n){try{if(!Array.isArray(e))throw new ki("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)W5(tl(t),tl(e),n||!0);else{n=n||tP;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof ki)return i;throw i}}function TE(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!TE(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!TE(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var lqt=Object.freeze({__proto__:null,JsonPatchError:ki,_areEquals:TE,applyOperation:E0,applyPatch:W5,applyReducer:aqt,deepClone:oqt,getValueByPointer:eP,validate:jAe,validator:tP});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var JY=new WeakMap,cqt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),uqt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function dqt(e){return JY.get(e)}function fqt(e,t){return e.observers.get(t)}function pqt(e,t){e.observers.delete(t.callback)}function hqt(e,t){t.unobserve()}function gqt(e,t){var n=[],r,i=dqt(e);if(!i)i=new cqt(e),JY.set(e,i);else{var o=fqt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=tl(e),t){r.callback=t,r.next=null;var s=function(){v9(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){v9(r),clearTimeout(r.next),pqt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new uqt(t,r)),r}function v9(e,t){t===void 0&&(t=!1);var n=JY.get(e.object);eX(n.value,e.object,e.patches,"",t),e.patches.length&&W5(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function eX(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=g9(t),s=g9(e),a=!1,l=s.length-1;l>=0;l--){var c=s[l],u=e[c];if(h9(t,c)&&!(t[c]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var d=t[c];typeof u=="object"&&u!=null&&typeof d=="object"&&d!=null&&Array.isArray(u)===Array.isArray(d)?eX(u,d,n,r+"/"+$m(c),i):u!==d&&(i&&n.push({op:"test",path:r+"/"+$m(c),value:tl(u)}),n.push({op:"replace",path:r+"/"+$m(c),value:tl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+$m(c),value:tl(u)}),n.push({op:"remove",path:r+"/"+$m(c)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var c=o[l];!h9(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+$m(c),value:tl(t[c])})}}}function mqt(e,t,n){n===void 0&&(n=!1);var r=[];return eX(e,t,r,"",n),r}var yqt=Object.freeze({__proto__:null,compare:mqt,generate:v9,observe:gqt,unobserve:hqt});Object.assign({},lqt,yqt,{JsonPatchError:LAe,deepClone:tl,escapePathComponent:$m,unescapePathComponent:NAe});function vqt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Aj,Nue;function bqt(){if(Nue)return Aj;Nue=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return Aj=e,Aj}var Oj,Lue;function tX(){if(Lue)return Oj;Lue=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Oj=r=>r?typeof r!="object"?e:r:t,Oj}var hM={exports:{}},Dj,jue;function nX(){if(jue)return Dj;jue=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return Dj={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Dj}var Pj,zue;function q5(){return zue||(zue=1,Pj=typeof process=="object"&&Mj&&Mj.NODE_DEBUG&&/\bsemver\b/i.test(Mj.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),Pj}var Bue;function rX(){return Bue||(Bue=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=nX(),o=q5();t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],c=t.t={};let u=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],p=m=>{for(const[v,b]of f)m=m.split(`${v}*`).join(`${v}{0,${b}}`).split(`${v}+`).join(`${v}{1,${b}}`);return m},g=(m,v,b)=>{const S=p(v),C=u++;o(m,C,v),c[m]=C,l[C]=v,s[C]=new RegExp(v,b?"g":void 0),a[C]=new RegExp(S,b?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${d}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(hM,hM.exports)),hM.exports}var Ij,Uue;function xqt(){if(Uue)return Ij;Uue=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),s=e.test(i);return o&&s&&(r=+r,i=+i),r===i?0:o&&!s?-1:s&&!o?1:r<i?-1:1};return Ij={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},Ij}var $j,Hue;function iX(){if(Hue)return $j;Hue=1;const e=q5(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=nX(),{safeRe:r,t:i}=rX(),o=tX(),{compareIdentifiers:s}=xqt();class a{constructor(c,u){if(u=o(u),c instanceof a){if(c.loose===!!u.loose&&c.includePrerelease===!!u.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const d=c.trim().match(u.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const p=+f;if(p>=0&&p<n)return p}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof a)){if(typeof c=="string"&&c===this.version)return 0;c=new a(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof a||(c=new a(c,this.options)),s(this.major,c.major)||s(this.minor,c.minor)||s(this.patch,c.patch)}comparePre(c){if(c instanceof a||(c=new a(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let u=0;do{const d=this.prerelease[u],f=c.prerelease[u];if(e("prerelease compare",u,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++u)}compareBuild(c){c instanceof a||(c=new a(c,this.options));let u=0;do{const d=this.build[u],f=c.build[u];if(e("build compare",u,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++u)}inc(c,u,d){switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,d),this.inc("pre",u,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,d),this.inc("pre",u,d);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(!u&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[f];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(u===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(u){let p=[u,f];d===!1&&(p=[u]),s(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return $j=a,$j}var Fj,Vue;function hS(){if(Vue)return Fj;Vue=1;const e=iX();return Fj=(n,r,i)=>new e(n,i).compare(new e(r,i)),Fj}var Nj,Wue;function Sqt(){if(Wue)return Nj;Wue=1;const e=hS();return Nj=(n,r,i)=>e(n,r,i)===0,Nj}var Lj,que;function wqt(){if(que)return Lj;que=1;const e=hS();return Lj=(n,r,i)=>e(n,r,i)!==0,Lj}var jj,Gue;function Cqt(){if(Gue)return jj;Gue=1;const e=hS();return jj=(n,r,i)=>e(n,r,i)>0,jj}var zj,Yue;function _qt(){if(Yue)return zj;Yue=1;const e=hS();return zj=(n,r,i)=>e(n,r,i)>=0,zj}var Bj,Xue;function Eqt(){if(Xue)return Bj;Xue=1;const e=hS();return Bj=(n,r,i)=>e(n,r,i)<0,Bj}var Uj,Kue;function kqt(){if(Kue)return Uj;Kue=1;const e=hS();return Uj=(n,r,i)=>e(n,r,i)<=0,Uj}var Hj,Que;function Rqt(){if(Que)return Hj;Que=1;const e=Sqt(),t=wqt(),n=Cqt(),r=_qt(),i=Eqt(),o=kqt();return Hj=(a,l,c,u)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof c=="object"&&(c=c.version),a===c;case"!==":return typeof a=="object"&&(a=a.version),typeof c=="object"&&(c=c.version),a!==c;case"":case"=":case"==":return e(a,c,u);case"!=":return t(a,c,u);case">":return n(a,c,u);case">=":return r(a,c,u);case"<":return i(a,c,u);case"<=":return o(a,c,u);default:throw new TypeError(`Invalid operator: ${l}`)}},Hj}var Vj,Zue;function Tqt(){if(Zue)return Vj;Zue=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,d){if(d=n(d),u instanceof t){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=u.match(d);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return o(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,d).test(u.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||o(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||o(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Vj=t;const n=tX(),{safeRe:r,t:i}=rX(),o=Rqt(),s=q5(),a=iX(),l=zAe();return Vj}var Wj,Jue;function zAe(){if(Jue)return Wj;Jue=1;const e=/\s+/g;class t{constructor($,L){if(L=i(L),$ instanceof t)return $.loose===!!L.loose&&$.includePrerelease===!!L.includePrerelease?$:new t($.raw,L);if($ instanceof o)return this.raw=$.value,this.set=[[$]],this.formatted=void 0,this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=$.trim().replace(e," "),this.set=this.raw.split("||").map(V=>this.parseRange(V.trim())).filter(V=>V.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const V=this.set[0];if(this.set=this.set.filter(q=>!m(q[0])),this.set.length===0)this.set=[V];else if(this.set.length>1){for(const q of this.set)if(q.length===1&&v(q[0])){this.set=[q];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let $=0;$<this.set.length;$++){$>0&&(this.formatted+="||");const L=this.set[$];for(let V=0;V<L.length;V++)V>0&&(this.formatted+=" "),this.formatted+=L[V].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange($){const V=((this.options.includePrerelease&&p)|(this.options.loose&&g))+":"+$,q=r.get(V);if(q)return q;const U=this.options.loose,z=U?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];$=$.replace(z,I(this.options.includePrerelease)),s("hyphen replace",$),$=$.replace(l[c.COMPARATORTRIM],u),s("comparator trim",$),$=$.replace(l[c.TILDETRIM],d),s("tilde trim",$),$=$.replace(l[c.CARETTRIM],f),s("caret trim",$);let B=$.split(" ").map(K=>S(K,this.options)).join(" ").split(/\s+/).map(K=>F(K,this.options));U&&(B=B.filter(K=>(s("loose invalid filter",K,this.options),!!K.match(l[c.COMPARATORLOOSE])))),s("range list",B);const G=new Map,Y=B.map(K=>new o(K,this.options));for(const K of Y){if(m(K))return[K];G.set(K.value,K)}G.size>1&&G.has("")&&G.delete("");const Q=[...G.values()];return r.set(V,Q),Q}intersects($,L){if(!($ instanceof t))throw new TypeError("a Range is required");return this.set.some(V=>b(V,L)&&$.set.some(q=>b(q,L)&&V.every(U=>q.every(z=>U.intersects(z,L)))))}test($){if(!$)return!1;if(typeof $=="string")try{$=new a($,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if(j(this.set[L],$,this.options))return!0;return!1}}Wj=t;const n=bqt(),r=new n,i=tX(),o=Tqt(),s=q5(),a=iX(),{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:f}=rX(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:g}=nX(),m=M=>M.value==="<0.0.0-0",v=M=>M.value==="",b=(M,$)=>{let L=!0;const V=M.slice();let q=V.pop();for(;L&&V.length;)L=V.every(U=>q.intersects(U,$)),q=V.pop();return L},S=(M,$)=>(s("comp",M,$),M=T(M,$),s("caret",M),M=_(M,$),s("tildes",M),M=A(M,$),s("xrange",M),M=D(M,$),s("stars",M),M),C=M=>!M||M.toLowerCase()==="x"||M==="*",_=(M,$)=>M.trim().split(/\s+/).map(L=>E(L,$)).join(" "),E=(M,$)=>{const L=$.loose?l[c.TILDELOOSE]:l[c.TILDE];return M.replace(L,(V,q,U,z,B)=>{s("tilde",M,V,q,U,z,B);let G;return C(q)?G="":C(U)?G=`>=${q}.0.0 <${+q+1}.0.0-0`:C(z)?G=`>=${q}.${U}.0 <${q}.${+U+1}.0-0`:B?(s("replaceTilde pr",B),G=`>=${q}.${U}.${z}-${B} <${q}.${+U+1}.0-0`):G=`>=${q}.${U}.${z} <${q}.${+U+1}.0-0`,s("tilde return",G),G})},T=(M,$)=>M.trim().split(/\s+/).map(L=>k(L,$)).join(" "),k=(M,$)=>{s("caret",M,$);const L=$.loose?l[c.CARETLOOSE]:l[c.CARET],V=$.includePrerelease?"-0":"";return M.replace(L,(q,U,z,B,G)=>{s("caret",M,q,U,z,B,G);let Y;return C(U)?Y="":C(z)?Y=`>=${U}.0.0${V} <${+U+1}.0.0-0`:C(B)?U==="0"?Y=`>=${U}.${z}.0${V} <${U}.${+z+1}.0-0`:Y=`>=${U}.${z}.0${V} <${+U+1}.0.0-0`:G?(s("replaceCaret pr",G),U==="0"?z==="0"?Y=`>=${U}.${z}.${B}-${G} <${U}.${z}.${+B+1}-0`:Y=`>=${U}.${z}.${B}-${G} <${U}.${+z+1}.0-0`:Y=`>=${U}.${z}.${B}-${G} <${+U+1}.0.0-0`):(s("no pr"),U==="0"?z==="0"?Y=`>=${U}.${z}.${B}${V} <${U}.${z}.${+B+1}-0`:Y=`>=${U}.${z}.${B}${V} <${U}.${+z+1}.0-0`:Y=`>=${U}.${z}.${B} <${+U+1}.0.0-0`),s("caret return",Y),Y})},A=(M,$)=>(s("replaceXRanges",M,$),M.split(/\s+/).map(L=>P(L,$)).join(" ")),P=(M,$)=>{M=M.trim();const L=$.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return M.replace(L,(V,q,U,z,B,G)=>{s("xRange",M,V,q,U,z,B,G);const Y=C(U),Q=Y||C(z),K=Q||C(B),te=K;return q==="="&&te&&(q=""),G=$.includePrerelease?"-0":"",Y?q===">"||q==="<"?V="<0.0.0-0":V="*":q&&te?(Q&&(z=0),B=0,q===">"?(q=">=",Q?(U=+U+1,z=0,B=0):(z=+z+1,B=0)):q==="<="&&(q="<",Q?U=+U+1:z=+z+1),q==="<"&&(G="-0"),V=`${q+U}.${z}.${B}${G}`):Q?V=`>=${U}.0.0${G} <${+U+1}.0.0-0`:K&&(V=`>=${U}.${z}.0${G} <${U}.${+z+1}.0-0`),s("xRange return",V),V})},D=(M,$)=>(s("replaceStars",M,$),M.trim().replace(l[c.STAR],"")),F=(M,$)=>(s("replaceGTE0",M,$),M.trim().replace(l[$.includePrerelease?c.GTE0PRE:c.GTE0],"")),I=M=>($,L,V,q,U,z,B,G,Y,Q,K,te)=>(C(V)?L="":C(q)?L=`>=${V}.0.0${M?"-0":""}`:C(U)?L=`>=${V}.${q}.0${M?"-0":""}`:z?L=`>=${L}`:L=`>=${L}${M?"-0":""}`,C(Y)?G="":C(Q)?G=`<${+Y+1}.0.0-0`:C(K)?G=`<${Y}.${+Q+1}.0-0`:te?G=`<=${Y}.${Q}.${K}-${te}`:M?G=`<${Y}.${Q}.${+K+1}-0`:G=`<=${G}`,`${L} ${G}`.trim()),j=(M,$,L)=>{for(let V=0;V<M.length;V++)if(!M[V].test($))return!1;if($.prerelease.length&&!L.includePrerelease){for(let V=0;V<M.length;V++)if(s(M[V].semver),M[V].semver!==o.ANY&&M[V].semver.prerelease.length>0){const q=M[V].semver;if(q.major===$.major&&q.minor===$.minor&&q.patch===$.patch)return!0}return!1}return!0};return Wj}var qj,ede;function Mqt(){if(ede)return qj;ede=1;const e=zAe();return qj=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},qj}var Aqt=Mqt(),BAe=vqt(Aqt);function Oqt(e,t,n){const r=e.open(t),i=250,{origin:o}=new URL(t);let s=40;function a(c){c.source===r&&(s=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function l(){s<=0||(r.postMessage(n,o),setTimeout(l,i),s-=1)}setTimeout(l,i)}var Dqt=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function UAe(e,...t){for(const n of t)Pqt(e,n);return e}function Pqt(e,t){for(const n of Object.keys(t))Vx(e,n,t[n],!0)}const Fc=szt;let ME=eWt;const gM=typeof window<"u"?window:void 0;var Mde;ME===void 0&&((Mde=gM==null?void 0:gM.vl)!=null&&Mde.compile)&&(ME=gM.vl);const Iqt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},$qt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},OC={vega:"Vega","vega-lite":"Vega-Lite"},nP={vega:Fc.version,"vega-lite":ME?ME.version:"not available"},Fqt={vega:e=>e,"vega-lite":(e,t)=>ME.compile(e,{config:t}).spec},Nqt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,Lqt="chart-wrapper";function jqt(e){return typeof e=="function"}function tde(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${OC[r]} JSON Source`}function zqt(e,t){if(e.$schema){const n=AAe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${OC[n.library]}, but mode argument sets ${OC[t]??t}.`);const r=n.library;return BAe(nP[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${OC[r]} ${n.version}, but the current version of ${OC[r]} is v${nP[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function HAe(e){return!!(e&&"load"in e)}function nde(e){return HAe(e)?e:Fc.loader(e)}function Bqt(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Mt(t.defaultStyle)&&(t.defaultStyle=!1),t}async function Uqt(e,t,n={}){let r,i;Mt(t)?(i=nde(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=Bqt(r),s=o.loader;(!i||s)&&(i=nde(n.loader??s));const a=await rde(o,i),l=await rde(n,i),c={...UAe(l,a),config:Hx(l.config??{},a.config??{})};return await Vqt(e,r,c,i)}async function rde(e,t){const n=Mt(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Mt(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function Hqt(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function Vqt(e,t,n={},r){const i=n.theme?Hx(jWt[n.theme],n.config??{}):n.config,o=Ng(n.actions)?n.actions:UAe({},Iqt,n.actions??{}),s={...$qt,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??Fc.Warn,c=n.downloadFileName??"visualization",u=typeof e=="string"?document.querySelector(e):e;if(!u)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const E="vega-embed-style",{root:T,rootContainer:k}=Hqt(u);if(!T.getElementById(E)){const A=document.createElement("style");A.id=E,A.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?Dqt.toString():n.defaultStyle,k.appendChild(A)}}const d=zqt(t,n.mode);let f=Fqt[d](t,i);if(d==="vega-lite"&&f.$schema){const E=AAe(f.$schema);BAe(nP.vega,`^${E.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${E.version}, but current version is v${nP.vega}.`)}u.classList.add("vega-embed"),o&&u.classList.add("has-actions"),u.innerHTML="";let p=u;if(o){const E=document.createElement("div");E.classList.add(Lqt),u.appendChild(E),p=E}const g=n.patch;if(g&&(f=g instanceof Function?g(f):W5(f,g,!0,!1).newDocument),n.formatLocale&&Fc.formatLocale(n.formatLocale),n.timeFormatLocale&&Fc.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const E in n.expressionFunctions){const T=n.expressionFunctions[E];"fn"in T?Fc.expressionFunction(E,T.fn,T.visitor):T instanceof Function&&Fc.expressionFunction(E,T)}const{ast:m}=n,v=Fc.parse(f,d==="vega-lite"?{}:i,{ast:m}),b=new(n.viewClass||Fc.View)(v,{loader:r,logLevel:l,renderer:a,...m?{expr:Fc.expressionInterpreter??n.expr??wzt}:{}});if(b.addSignalListener("autosize",(E,T)=>{const{type:k}=T;k=="fit-x"?(p.classList.add("fit-x"),p.classList.remove("fit-y")):k=="fit-y"?(p.classList.remove("fit-x"),p.classList.add("fit-y")):k=="fit"?p.classList.add("fit-x","fit-y"):p.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:E,tooltip:T}=n,k=E&&!HAe(E)?E==null?void 0:E.baseURL:void 0,A=jqt(T)?T:new nqt({baseURL:k,...T===!0?{}:T}).call;b.tooltip(A)}let{hover:S}=n;if(S===void 0&&(S=d==="vega"),S){const{hoverSet:E,updateSet:T}=typeof S=="boolean"?{}:S;b.hover(E,T)}n&&(n.width!=null&&b.width(n.width),n.height!=null&&b.height(n.height),n.padding!=null&&b.padding(n.padding)),await b.initialize(p,n.bind).runAsync();let C;if(o!==!1){let E=u;if(n.defaultStyle!==!1||n.forceActionsMenu){const k=document.createElement("details");k.title=s.CLICK_TO_VIEW_ACTIONS,u.append(k),E=k;const A=document.createElement("summary");A.innerHTML=Nqt,k.append(A),C=P=>{k.contains(P.target)||k.removeAttribute("open")},document.addEventListener("click",C)}const T=document.createElement("div");if(E.append(T),T.classList.add("vega-actions"),o===!0||o.export!==!1){for(const k of["svg","png"])if(o===!0||o.export===!0||o.export[k]){const A=s[`${k.toUpperCase()}_ACTION`],P=document.createElement("a"),D=At(n.scaleFactor)?n.scaleFactor[k]:n.scaleFactor;P.text=A,P.href="#",P.target="_blank",P.download=`${c}.${k}`,P.addEventListener("mousedown",async function(F){F.preventDefault();const I=await b.toImageURL(k,D);this.href=I}),T.append(P)}}if(o===!0||o.source!==!1){const k=document.createElement("a");k.text=s.SOURCE_ACTION,k.href="#",k.addEventListener("click",function(A){tde(a4(t),n.sourceHeader??"",n.sourceFooter??"",d),A.preventDefault()}),T.append(k)}if(d==="vega-lite"&&(o===!0||o.compiled!==!1)){const k=document.createElement("a");k.text=s.COMPILED_ACTION,k.href="#",k.addEventListener("click",function(A){tde(a4(f),n.sourceHeader??"",n.sourceFooter??"","vega"),A.preventDefault()}),T.append(k)}if(o===!0||o.editor!==!1){const k=n.editorUrl??"https://vega.github.io/editor/",A=document.createElement("a");A.text=s.EDITOR_ACTION,A.href="#",A.addEventListener("click",function(P){Oqt(window,k,{config:i,mode:g?"vega":d,renderer:a,spec:a4(g?f:t)}),P.preventDefault()}),T.append(A)}}function _(){C&&document.removeEventListener("click",C),b.finalize()}return{view:b,spec:t,vgSpec:f,finalize:_,embedOptions:n}}function Wqt(e){return!!e&&{}.toString.call(e)==="[object Function]"}function qqt(e,t,n){n&&(Wqt(n)?n(e.data(t)):e.change(t,Fc.changeset().remove(()=>!0).insert(n)))}function Gqt(e,t){Object.keys(t).forEach(n=>{qqt(e,n,t[n])})}function VAe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const WAe=()=>{};function Gj(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}var Yj,ide;function Yqt(){return ide||(ide=1,Yj=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),Yj}var Xqt=Yqt();const Kqt=kg(Xqt);function Qqt(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=VAe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!Kqt(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function ode(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function Xj(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function DC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qAe extends hn.PureComponent{constructor(){super(...arguments),DC(this,"containerRef",hn.createRef()),DC(this,"resultPromise",void 0),DC(this,"handleError",t=>{const{onError:n=WAe}=this.props;n(t,this.containerRef.current),console.warn(t)}),DC(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=VAe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=Qqt(Xj(this.props),Xj(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!aB(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&ode(a,o),i&&Gj(a,i)),a.run()})}else aB(i,o)||this.modifyView(s=>{o&&ode(s,o),i&&Gj(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=Xj(this.props);this.resultPromise=Uqt(this.containerRef.current,a,s).then(l=>{if(l){const{view:c}=l;Gj(c,r)&&c.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return hn.createElement("div",{ref:this.containerRef,className:t,style:n})}}DC(qAe,"propTypes",{className:ee.string,onError:ee.func});function b9(){return b9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b9.apply(this,arguments)}function x9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zqt={};class oX extends hn.PureComponent{constructor(){super(...arguments),x9(this,"vegaEmbed",hn.createRef()),x9(this,"handleNewView",t=>{this.update();const{onNewView:n=WAe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){aB(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{Gqt(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return hn.createElement(qAe,b9({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}x9(oX,"defaultProps",{data:Zqt});const Jqt="https://vega.github.io/schema/vega/v5.json",eGt="An implementation of the classic video game Pacman.",tGt=800,nGt=800,rGt=JSON.parse(`[{"name":"grid","value":{"width":15,"height":15}},{"name":"rangeWidthDelta","update":"(width - blockSize*grid.width)/2"},{"name":"rangeHeightDelta","update":"(height - blockSize*grid.height)/2"},{"name":"blockSize","init":"min(width/grid.width, height/grid.height)"},{"name":"pacManIsOpen","init":"true","on":[{"events":{"type":"timer","throttle":500},"update":"!pacManIsOpen"}]},{"name":"superPower","init":"0","on":[{"events":{"signal":"pacManX || pacManY"},"force":true,"update":"superPower > 0 ? superPower - 1 : 0"},{"events":{"signal":"testPowerEaten"},"update":"testPowerEaten? 30 : superPower"}]},{"name":"restart","on":[{"events":"timer:500","update":"!superPower && ((gRedX === pacManX && gRedY === pacManY) || (gBlueX === pacManX && gBlueY === pacManY) || (gGreenX === pacManX && gGreenY === pacManY) || (gOrangeX === pacManX && gOrangeY === pacManY))"}]},{"name":"testEatenGhost","update":"superPower ? ((gRedX === pacManX && gRedY === pacManY) ? gRed : (gBlueX === pacManX && gBlueY === pacManY) ? gBlue : (gGreenX === pacManX && gGreenY === pacManY) ? gGreen : (gOrangeX === pacManX && gOrangeY === pacManY) ? gOrange : null) : null"},{"name":"testEaten","update":"!restart && (indata('gums', 'key', pacManX+'-'+pacManY) && !indata('eatenGums', 'key', pacManX+'-'+pacManY)) ? {x:pacManX, y:pacManY, key:pacManX+'-'+pacManY} : null"},{"name":"testPowerEaten","update":"!restart && (indata('powerGums', 'key', pacManX+'-'+pacManY) && !indata('eatenGums', 'key', pacManX+'-'+pacManY)) ? {x:pacManX, y:pacManY, key:pacManX+'-'+pacManY} : null"},{"name":"score","init":"0","on":[{"events":{"signal":"testEaten"},"update":"testEaten ? score + 10 : score"},{"events":{"signal":"testPowerEaten"},"update":"testPowerEaten ? score + 50 : score"},{"events":{"signal":"testEatenGhost"},"update":"testEatenGhost ? score + 100 : score"},{"events":{"signal":"restart"},"force":true,"update":"restart ? 0 : score"}]},{"name":"hiScore","init":"0","on":[{"events":{"signal":"score"},"update":"max(score,hiScore)"}]},{"name":"gRed","init":"data('ghosts')[0]"},{"name":"gRedDelta","update":"{dx:pacManX-gRedX, dy: pacManY-gRedY}"},{"name":"gRedLastDir","update":"gRedDirection"},{"name":"gRedPreferences","update":"setdata('gRedDecisions',[{d:'up', i: (gRedLastDir === 'down' ? 4 : (abs(gRedDelta.dy) > abs(gRedDelta.dx) ? (gRedDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gRedDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gRedLastDir === 'up' ? 4 : (abs(gRedDelta.dy) > abs(gRedDelta.dx) ? (gRedDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gRedDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gRedLastDir === 'right' ? 4 : (abs(gRedDelta.dy) < abs(gRedDelta.dx) ? (gRedDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gRedDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gRedLastDir === 'left' ? 4 : abs(gRedDelta.dy) < abs(gRedDelta.dx) ? (gRedDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gRedDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gRedHasWallX","update":"(gRedOffsetX<0 && !gRedCanLeft) || (gRedOffsetX>0 && !gRedCanRight) ? true : false"},{"name":"gRedHasWallY","update":"(gRedOffsetY<0 && !gRedCanUp) || (gRedOffsetY>0 && !gRedCanDown) ? true : false"},{"name":"gRedCanLeft","update":"indata('walls', 'key', gRedX + '-' + gRedY + '-true') ? false : true"},{"name":"gRedCanUp","update":"indata('walls', 'key', gRedX + '-' + gRedY + '-false')? false : true"},{"name":"gRedCanRight","update":"indata('walls', 'key', (gRedX + 1) + '-' + gRedY + '-true') ? false : true"},{"name":"gRedCanDown","update":"indata('walls', 'key', gRedX + '-' + (gRedY+1) + '-false')? false : true"},{"name":"gRedHasPacMan","update":"superPower && ((gRedX + gRedOffsetX === pacManX) && (gRedY + gRedOffsetY === pacManY))"},{"name":"gRedBlocked","on":[{"events":{"signal":"gRedProposedDirection"},"force":true,"update":"!gRedProposedDirection ||(gRedProposedDirection === 'up' && !gRedCanUp) || (gRedProposedDirection === 'down' && !gRedCanDown) || (gRedProposedDirection === 'left' && !gRedCanLeft) || (gRedProposedDirection === 'right' && !gRedCanRight) ? true : false"}]},{"name":"gRedTry","on":[{"events":{"type":"timer","throttle":400},"update":"gRedBlocked && gRedTry <3 ? gRedTry+1 : 0"}]},{"name":"gRedDecision","update":"data('gRedDecisions')[gRedTry]"},{"name":"gRedProposedDirection","on":[{"events":{"signal":"gRedDecision"},"force":true,"update":"gRedDecision ? gRedDecision.d : 'none'"}]},{"name":"gRedDirection","update":"gRedProposedDirection && !gRedBlocked ? gRedProposedDirection : gRedDirection"},{"name":"gRedOffsetX","update":"gRedDirection === 'left'? - 1 : gRedDirection === 'right'? 1 : 0"},{"name":"gRedOffsetY","update":"gRedDirection === 'up'? -1 : gRedDirection === 'down' ? 1 : 0"},{"name":"gRedX","init":"gRed.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'red') ? 6 : (!restart && !gRedHasWallX && !gRedHasPacMan ? ((gRedOffsetX <0 && gRedX <= 0) ? grid.width - 1 : ((gRedOffsetX > 0 && gRedX >= grid.width -1) ? 0 : (gRedX + gRedOffsetX))) : gRedX)"},{"events":{"signal":"restart"},"update":"gRed.x","force":true}]},{"name":"gRedY","init":"gRed.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'red') ? 7 : (!restart && !gRedHasWallY && !gRedHasPacMan ? ((gRedOffsetY <0 && gRedY <= 0) ? grid.height-1 : (gRedOffsetY > 0 && gRedY >= grid.height - 1)? 0 : gRedY + gRedOffsetY) : gRedY)"},{"events":{"signal":"restart"},"force":true,"update":"gRed.y"}]},{"name":"gBlue","init":"data('ghosts')[1]"},{"name":"gBlueDelta","update":"{dx:pacManX-gBlueX, dy: pacManY-gBlueY}"},{"name":"gBlueLastDir","update":"gBlueDirection"},{"name":"gBluePreferences","update":"setdata('gBlueDecisions',[{d:'up', i: (gBlueLastDir === 'down' ? 4 : (abs(gBlueDelta.dy) > abs(gBlueDelta.dx) ? (gBlueDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gBlueDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gBlueLastDir === 'up' ? 4 : (abs(gBlueDelta.dy) > abs(gBlueDelta.dx) ? (gBlueDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gBlueDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gBlueLastDir === 'right' ? 4 : (abs(gBlueDelta.dy) < abs(gBlueDelta.dx) ? (gBlueDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gBlueDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gBlueLastDir === 'left' ? 4 : abs(gBlueDelta.dy) < abs(gBlueDelta.dx) ? (gBlueDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gBlueDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gBlueHasWallX","update":"(gBlueOffsetX<0 && !gBlueCanLeft) || (gBlueOffsetX>0 && !gBlueCanRight) ? true : false"},{"name":"gBlueHasWallY","update":"(gBlueOffsetY<0 && !gBlueCanUp) || (gBlueOffsetY>0 && !gBlueCanDown) ? true : false"},{"name":"gBlueHasGhost","update":"(gBlueX == gRedX && gBlueY === gRedY)"},{"name":"gBlueHasPacMan","update":"superPower && ((gBlueX + gBlueOffsetX === pacManX) && (gBlueY + gBlueOffsetY === pacManY)) "},{"name":"gBlueCanLeft","update":"indata('walls', 'key', gBlueX + '-' + gBlueY + '-true') ? false : true"},{"name":"gBlueCanUp","update":"indata('walls', 'key', gBlueX + '-' + gBlueY + '-false')? false : true"},{"name":"gBlueCanRight","update":"indata('walls', 'key', (gBlueX + 1) + '-' + gBlueY + '-true') ? false : true"},{"name":"gBlueCanDown","update":"indata('walls', 'key', gBlueX + '-' + (gBlueY+1) + '-false')? false : true"},{"name":"gBlueBlocked","on":[{"events":{"signal":"gBlueProposedDirection"},"force":true,"update":"!gBlueProposedDirection || (gBlueProposedDirection === 'up' && !gBlueCanUp) || (gBlueProposedDirection === 'down' && !gBlueCanDown) || (gBlueProposedDirection === 'left' && !gBlueCanLeft) || (gBlueProposedDirection === 'right' && !gBlueCanRight) ? true : false"}]},{"name":"gBlueTry","on":[{"events":{"type":"timer","throttle":400},"update":"gBlueBlocked && gBlueTry <=3 ? gBlueTry+1 : 0"}]},{"name":"gBlueDecision","update":"data('gBlueDecisions')[gBlueTry]"},{"name":"gBlueProposedDirection","on":[{"events":{"signal":"gBlueDecision"},"force":true,"update":"gBlueDecision ? gBlueDecision.d : 'none'"}]},{"name":"gBlueDirection","update":"gBlueProposedDirection && !gBlueBlocked ? gBlueProposedDirection : gBlueDirection"},{"name":"gBlueOffsetX","update":"gBlueDirection === 'left'? - 1 : gBlueDirection === 'right'? 1 : 0"},{"name":"gBlueOffsetY","update":"gBlueDirection === 'up' ? -1 : gBlueDirection === 'down' ? 1 : 0"},{"name":"gBlueX","init":"gBlue.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'steelblue') ? 7 : (!restart && !gBlueHasWallX && !gBlueHasGhost && !gBlueHasPacMan ? ((gBlueOffsetX <0 && gBlueX <= 0) ? grid.width - 1 : ((gBlueOffsetX > 0 && gBlueX >= grid.width -1) ? 0 : (gBlueX + gBlueOffsetX))) : gBlueX)"},{"events":{"signal":"restart"},"update":"gBlue.x","force":true}]},{"name":"gBlueY","init":"gBlue.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'steelblue') ? 7 : (!restart && !gBlueHasWallY && !gBlueHasGhost && !gBlueHasPacMan ? ((gBlueOffsetY <0 && gBlueY <= 0) ? grid.height-1 : (gBlueOffsetY > 0 && gBlueY >= grid.height - 1)? 0 : gBlueY + gBlueOffsetY) : gBlueY)"},{"events":{"signal":"restart"},"force":true,"update":"gBlue.y"}]},{"name":"gGreen","init":"data('ghosts')[2]"},{"name":"gGreenDelta","update":"{dx:pacManX-gGreenX, dy: pacManY-gGreenY}"},{"name":"gGreenLastDir","update":"gGreenDirection"},{"name":"gGreenPreferences","update":"setdata('gGreenDecisions',[{d:'up', i: (gGreenLastDir === 'down' ? 4 : (abs(gGreenDelta.dy) > abs(gGreenDelta.dx) ? (gGreenDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gGreenDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gGreenLastDir === 'up' ? 4 : (abs(gGreenDelta.dy) > abs(gGreenDelta.dx) ? (gGreenDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gGreenDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gGreenLastDir === 'right' ? 4 : (abs(gGreenDelta.dy) < abs(gGreenDelta.dx) ? (gGreenDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gGreenDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gGreenLastDir === 'left' ? 4 : abs(gGreenDelta.dy) < abs(gGreenDelta.dx) ? (gGreenDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gGreenDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gGreenHasWallX","update":"(gGreenOffsetX<0 && !gGreenCanLeft) || (gGreenOffsetX>0 && !gGreenCanRight) ? true : false"},{"name":"gGreenHasWallY","update":"(gGreenOffsetY<0 && !gGreenCanUp) || (gGreenOffsetY>0 && !gGreenCanDown) ? true : false"},{"name":"gGreenHasGhost","update":"(gGreenX === gRedX && gGreenY === gRedY) || (gGreenX === gBlueX && gGreenY+gGreenOffsetY === gBlueY)"},{"name":"gGreenHasPacMan","update":"superPower && ((gGreenX + gGreenOffsetX === pacManX) && (gGreenY + gGreenOffsetY === pacManY)) "},{"name":"gGreenCanLeft","update":"indata('walls', 'key', gGreenX + '-' + gGreenY + '-true') ? false : true"},{"name":"gGreenCanUp","update":"indata('walls', 'key', gGreenX + '-' + gGreenY + '-false')? false : true"},{"name":"gGreenCanRight","update":"indata('walls', 'key', (gGreenX + 1) + '-' + gGreenY + '-true') ? false : true"},{"name":"gGreenCanDown","update":"indata('walls', 'key', gGreenX + '-' + (gGreenY+1) + '-false')? false : true"},{"name":"gGreenBlocked","on":[{"events":{"signal":"gGreenProposedDirection"},"force":true,"update":"!gGreenProposedDirection || (gGreenProposedDirection === 'up' && !gGreenCanUp) || (gGreenProposedDirection === 'down' && !gGreenCanDown) || (gGreenProposedDirection === 'left' && !gGreenCanLeft) || (gGreenProposedDirection === 'right' && !gGreenCanRight) ? true : false"}]},{"name":"gGreenTry","on":[{"events":{"type":"timer","throttle":400},"update":"gGreenBlocked && gGreenTry <=3 ? gGreenTry+1 : 0"}]},{"name":"gGreenDecision","update":"data('gGreenDecisions')[gGreenTry]"},{"name":"gGreenProposedDirection","on":[{"events":{"signal":"gGreenDecision"},"force":true,"update":"gGreenDecision ? gGreenDecision.d : 'none'"}]},{"name":"gGreenDirection","update":"gGreenProposedDirection && !gGreenBlocked ? gGreenProposedDirection : gGreenDirection"},{"name":"gGreenOffsetX","update":"gGreenDirection === 'left'? - 1 : gGreenDirection === 'right'? 1 : 0"},{"name":"gGreenOffsetY","update":"gGreenDirection === 'up' ? -1 : gGreenDirection === 'down' ? 1 : 0"},{"name":"gGreenX","init":"gGreen.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'green') ? 8 : (!restart && !gGreenHasWallX && !gGreenHasGhost && !gGreenHasPacMan ? ((gGreenOffsetX <0 && gGreenX <= 0) ? grid.width - 1 : ((gGreenOffsetX > 0 && gGreenX >= grid.width -1) ? 0 : (gGreenX + gGreenOffsetX))) : gGreenX)"},{"events":{"signal":"restart"},"update":"gGreen.x","force":true}]},{"name":"gGreenY","init":"gGreen.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'green') ? 7 : (!restart && !gGreenHasWallY && !gGreenHasGhost && !gGreenHasPacMan ? ((gGreenOffsetY <0 && gGreenY <= 0) ? grid.height-1 : (gGreenOffsetY > 0 && gGreenY >= grid.height - 1)? 0 : gGreenY + gGreenOffsetY) : gGreenY)"},{"events":{"signal":"restart"},"force":true,"update":"gGreen.y"}]},{"name":"gOrange","init":"data('ghosts')[3]"},{"name":"gOrangeDelta","update":"{dx:pacManX-gOrangeX, dy: pacManY-gOrangeY}"},{"name":"gOrangeLastDir","update":"gOrangeDirection"},{"name":"gOrangePreferences","update":"setdata('gOrangeDecisions',[{d:'up', i: (gOrangeLastDir === 'down' ? 4 : (abs(gOrangeDelta.dy) > abs(gOrangeDelta.dx) ? (gOrangeDelta.dy<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gOrangeDelta.dy<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'down', i:(gOrangeLastDir === 'up' ? 4 : (abs(gOrangeDelta.dy) > abs(gOrangeDelta.dx) ? (gOrangeDelta.dy<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gOrangeDelta.dy<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2))))}, {d:'left', i: (gOrangeLastDir === 'right' ? 4 : (abs(gOrangeDelta.dy) < abs(gOrangeDelta.dx) ? (gOrangeDelta.dx<0 ? (superPower ? 4 : 1) : (superPower ? 1 : 4)) : (gOrangeDelta.dx<0 ? (superPower ? 3 : 2) : (superPower ? 2 : 3))))}, {d:'right', i:(gOrangeLastDir === 'left' ? 4 : abs(gOrangeDelta.dy) < abs(gOrangeDelta.dx) ? (gOrangeDelta.dx<0 ? (superPower ? 1 : 4) : (superPower ? 4 : 1)) : (gOrangeDelta.dx<0 ? (superPower ? 2 : 3) : (superPower ? 3 : 2)))}])"},{"name":"gOrangeHasWallX","update":"(gOrangeOffsetX<0 && !gOrangeCanLeft) || (gOrangeOffsetX>0 && !gOrangeCanRight) ? true : false"},{"name":"gOrangeHasWallY","update":"(gOrangeOffsetY<0 && !gOrangeCanUp) || (gOrangeOffsetY>0 && !gOrangeCanDown) ? true : false"},{"name":"gOrangeHasGhost","update":"(gOrangeX === gRedX && gOrangeY === gRedY) || (gOrangeX === gBlueX && gOrangeY === gBlueY) || (gOrangeX === gGreenX && gOrangeY === gGreenY)"},{"name":"gOrangeCanLeft","update":"indata('walls', 'key', gOrangeX + '-' + gOrangeY + '-true') ? false : true"},{"name":"gOrangeCanUp","update":"indata('walls', 'key', gOrangeX + '-' + gOrangeY + '-false')? false : true"},{"name":"gOrangeCanRight","update":"indata('walls', 'key', (gOrangeX + 1) + '-' + gOrangeY + '-true') ? false : true"},{"name":"gOrangeCanDown","update":"indata('walls', 'key', gOrangeX + '-' + (gOrangeY+1) + '-false')? false : true"},{"name":"gOrangeBlocked","on":[{"events":{"signal":"gOrangeProposedDirection"},"force":true,"update":"!gOrangeProposedDirection || (gOrangeProposedDirection === 'up' && !gOrangeCanUp) || (gOrangeProposedDirection === 'down' && !gOrangeCanDown) || (gOrangeProposedDirection === 'left' && !gOrangeCanLeft) || (gOrangeProposedDirection === 'right' && !gOrangeCanRight) ? true : false"}]},{"name":"gOrangeTry","on":[{"events":{"type":"timer","throttle":400},"update":"gOrangeBlocked && gOrangeTry <=3 ? gOrangeTry+1 : 0"}]},{"name":"gOrangeHasPacMan","update":"superPower && ((gOrangeX + gOrangeOffsetX === pacManX) && (gOrangeY + gOrangeOffsetY === pacManY)) "},{"name":"gOrangeDecision","update":"data('gOrangeDecisions')[gOrangeTry]"},{"name":"gOrangeProposedDirection","on":[{"events":{"signal":"gOrangeDecision"},"force":true,"update":"gOrangeDecision ? gOrangeDecision.d : 'none'"}]},{"name":"gOrangeDirection","update":"gOrangeProposedDirection && !gOrangeBlocked ? gOrangeProposedDirection : gOrangeDirection"},{"name":"gOrangeOffsetX","update":"gOrangeDirection === 'left'? - 1 : gOrangeDirection === 'right'? 1 : 0"},{"name":"gOrangeOffsetY","update":"gOrangeDirection === 'up' ? -1 : gOrangeDirection === 'down' ? 1 : 0"},{"name":"gOrangeX","init":"gOrange.x","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'orange') ? 7 : (!restart && !gOrangeHasWallX && !gOrangeHasGhost && !gOrangeHasPacMan ? ((gOrangeOffsetX <0 && gOrangeX <= 0) ? grid.width - 1 : ((gOrangeOffsetX > 0 && gOrangeX >= grid.width -1) ? 0 : (gOrangeX + gOrangeOffsetX))) : gOrangeX)"},{"events":{"signal":"restart"},"update":"gOrange.x","force":true}]},{"name":"gOrangeY","init":"gOrange.y","on":[{"events":"timer:500","update":"indata('eatenGhosts', 'color', 'orange') ? 7 : (!restart && !gOrangeHasWallY && !gOrangeHasGhost && !gOrangeHasPacMan  ? ((gOrangeOffsetY <0 && gOrangeY <= 0) ? grid.height-1 : (gOrangeOffsetY > 0 && gOrangeY >= grid.height - 1)? 0 : gOrangeY + gOrangeOffsetY) : gOrangeY)"},{"events":{"signal":"restart"},"force":true,"update":"gOrange.y"}]},{"name":"pacManX","init":"7","on":[{"events":"timer:500","update":"!restart && canMoveX ? ((xOffset <0 && pacManX <= 0) ? grid.width - 1 : ((xOffset > 0 && pacManX >= grid.width -1) ? 0 : (pacManX + xOffset))) : pacManX"},{"events":{"signal":"restart"},"update":"7","force":true}]},{"name":"pacManY","init":"7","on":[{"events":"timer:500","update":"! restart && canMoveY ? ((yOffset <0 && pacManY <= 0) ? grid.height-1 : (yOffset > 0 && pacManY >= grid.height - 1)? 0 : pacManY + yOffset) : pacManY"},{"events":{"signal":"restart"},"force":true,"update":"7"}]},{"name":"canMoveX","update":"!hasWallX && !hasGhost"},{"name":"canMoveY","update":"!hasWallY && !hasGhost"},{"name":"hasGhost","update":"!superPower && (((pacManX + xOffset === gRedX) && (pacManY + yOffset === gRedY)) || ((pacManX + xOffset === gBlueX) && (pacManY + yOffset === gBlueY)) || ((pacManX + xOffset === gGreenX) && (pacManY + yOffset === gGreenY)) || ((pacManX + xOffset === gOrangeX) && (pacManY + yOffset === gOrangeY)))"},{"name":"hasWallX","update":"(xOffset<=0 && indata('walls', 'key', pacManX + '-' + pacManY + '-true')) || (xOffset>=0 && indata('walls', 'key', (pacManX + 1) + '-' + pacManY + '-true')) ? true : false"},{"name":"hasWallY","update":"(yOffset<=0 && indata('walls', 'key', pacManX + '-' + pacManY + '-false')) || (yOffset>=0 && indata('walls', 'key', pacManX + '-' + (pacManY+1) + '-false')) ? true : false"},{"name":"xOffset","update":"key === 'ArrowRight' ? 1 : key === 'ArrowLeft' ? -1 : 0"},{"name":"yOffset","update":"key === 'ArrowUp' ? -1 : key === 'ArrowDown' ? 1 : 0"},{"name":"key","on":[{"events":"window:keydown","update":"event.code"}]}]`),iGt=[{name:"scaleX",type:"band",domain:{data:"columns",field:"data"},range:[{signal:"rangeWidthDelta"},{signal:"width-rangeWidthDelta"}],padding:0},{name:"scaleY",type:"band",domain:{data:"rows",field:"data"},range:[{signal:"rangeHeightDelta"},{signal:"height-rangeHeightDelta"}]}],oGt=[{type:"rect",encode:{enter:{width:{signal:"width"},height:{signal:"height"},fill:{value:"black"}}}},{type:"rect",from:{data:"walls"},encode:{enter:{x:{signal:"datum.x < grid.width ? datum.x : grid.width-1",scale:"scaleX",offset:{signal:"datum.vertical? (datum.x < grid.width ? datum.x === 0 ? 0 : -1 : blockSize - 2):0"}},y:{signal:"datum.y < grid.height ? datum.y : grid.height-1",scale:"scaleY",offset:{signal:"datum.vertical? 0: datum.y < grid.height? datum.y === 0 ? 0 : -1 : blockSize -2"}},fill:{value:"green"},width:{signal:"datum.vertical?blockSize/10:blockSize"},height:{signal:"datum.vertical?blockSize:blockSize/10"}}}},{type:"text",encode:{enter:{x:{value:7,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:3,scale:"scaleY",offset:{signal:"blockSize/2"}},fill:{value:"yellow"},align:{value:"center"},baseline:{value:"middle"},fontSize:{value:14}},update:{text:{value:"score"}}}},{type:"text",encode:{enter:{x:{value:7,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:4,scale:"scaleY"},fill:{value:"yellow"},align:{value:"center"},baseline:{value:"middle"},fontSize:{value:25}},update:{text:{signal:"score"}}}},{type:"text",encode:{enter:{x:{value:5,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:11,scale:"scaleY",offset:{signal:"blockSize/2"}},fill:{value:"lightblue"},align:{value:"left"},baseline:{value:"middle"},fontSize:{value:14}},update:{opacity:{signal:"hiScore?1:0"},text:{value:"high score"}}}},{type:"text",encode:{enter:{x:{value:8,scale:"scaleX",offset:{signal:"blockSize/2"}},y:{value:11,scale:"scaleY",offset:{signal:"blockSize/2"}},fill:{value:"lightblue"},align:{value:"center"},baseline:{value:"middle"},fontSize:{value:20}},update:{opacity:{signal:"hiScore?1:0"},text:{signal:"hiScore"}}}},{type:"image",from:{data:"gums"},encode:{enter:{width:{signal:"blockSize*0.5"},height:{signal:"blockSize*0.5"},url:{value:"corn.png"},x:{field:"x",scale:"scaleX",offset:{signal:"blockSize/3"}},y:{field:"y",scale:"scaleY",offset:{signal:"blockSize/3"}},fill:{value:"yellow"}},update:{opacity:[{test:"indata('eatenGums', 'key', datum.x+'-'+datum.y)",value:0},{value:1}]}}},{type:"symbol",from:{data:"powerGums"},encode:{enter:{x:{field:"x",scale:"scaleX",offset:{signal:"blockSize/2"}},y:{field:"y",scale:"scaleY",offset:{signal:"blockSize/2"}},size:{value:200},fill:{value:"white"}},update:{opacity:[{test:"indata('eatenGums', 'key', datum.x+'-'+datum.y)",value:0},{value:1}]}}},{type:"group",name:"pacMan",encode:{update:{x:{signal:"pacManX",scale:"scaleX"},y:{signal:"pacManY",scale:"scaleY"},width:{scale:"scaleX",band:!0},height:{scale:"scaleY",band:!0}}},marks:[{type:"arc",encode:{enter:{outerRadius:{signal:"(blockSize/2)*0.8"},stroke:{value:"black"},x:{signal:"blockSize/2"},y:{signal:"blockSize/2"}},update:{fill:{signal:"superPower ? 'red': 'yellow'"},endAngle:{signal:"(pacManIsOpen? 5*PI/2-PI/6:5*PI/2-0.001)*(xOffset === 0 ? 1: xOffset)"},startAngle:{signal:"(pacManIsOpen? PI/2+PI/6:PI/2)*(xOffset === 0 ? 1: xOffset)"}}}},{type:"symbol",encode:{enter:{y:{signal:"blockSize/2",offset:{signal:"-blockSize/5"}},size:{signal:"pow(blockSize/10, 2)"},fill:{value:"black"}},update:{x:{signal:"blockSize/2",offset:{signal:"2*(xOffset === 0 ? 1: xOffset)"}}}}}]},{type:"group",from:{data:"ghosts"},name:"ghost",encode:{update:{x:{signal:"datum.color === 'red' ? gRedX : datum.color === 'steelblue'? gBlueX : datum.color === 'green'? gGreenX : gOrangeX",scale:"scaleX"},y:{signal:"datum.color === 'red' ? gRedY : datum.color === 'steelblue'? gBlueY : datum.color === 'green'? gGreenY : gOrangeY",scale:"scaleY"},width:{scale:"scaleX",band:!0},height:{scale:"scaleY",band:!0}}},marks:[{type:"image",encode:{enter:{width:{signal:"blockSize*1.1"},height:{signal:"blockSize*1.1"},url:{value:"harvester.png"},x:{signal:"blockSize/8"},y:{signal:"blockSize/9"}},update:{fill:{signal:"superPower? 'white' :parent.color"},opacity:{signal:"superPower?0.7:1"}}}}]}],sGt=JSON.parse(`[{"name":"columns","transform":[{"type":"sequence","start":0,"stop":{"signal":"grid.width"},"step":1}]},{"name":"rows","transform":[{"type":"sequence","start":0,"stop":{"signal":"grid.height"},"step":1}]},{"name":"ghosts","values":[{"x":0,"y":0,"color":"red"},{"x":14,"y":0,"color":"steelblue"},{"x":0,"y":14,"color":"green"},{"x":14,"y":14,"color":"orange"}]},{"name":"eatenGhosts","on":[{"trigger":"testEatenGhost","insert":"testEatenGhost"},{"trigger":"!superPower","remove":"!superPower"}]},{"name":"gRedDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gBlueDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gGreenDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gOrangeDecisions","values":[],"transform":[{"type":"collect","sort":{"field":"i"}}]},{"name":"gums","values":[{"x":0,"y":1},{"x":0,"y":2},{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":7},{"x":0,"y":10},{"x":0,"y":11},{"x":0,"y":12},{"x":0,"y":14},{"x":1,"y":0},{"x":1,"y":2},{"x":1,"y":4},{"x":1,"y":7},{"x":1,"y":10},{"x":1,"y":12},{"x":1,"y":13},{"x":1,"y":14},{"x":2,"y":0},{"x":2,"y":2},{"x":2,"y":3},{"x":2,"y":4},{"x":2,"y":7},{"x":2,"y":10},{"x":2,"y":13},{"x":2,"y":14},{"x":3,"y":0},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":8},{"x":3,"y":9},{"x":3,"y":10},{"x":3,"y":12},{"x":3,"y":13},{"x":3,"y":14},{"x":4,"y":0},{"x":4,"y":2},{"x":4,"y":6},{"x":4,"y":10},{"x":4,"y":11},{"x":4,"y":12},{"x":4,"y":14},{"x":5,"y":0},{"x":5,"y":2},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5},{"x":5,"y":6},{"x":5,"y":7},{"x":5,"y":8},{"x":5,"y":10},{"x":5,"y":12},{"x":5,"y":14},{"x":6,"y":0},{"x":6,"y":2},{"x":6,"y":5},{"x":6,"y":6},{"x":6,"y":7},{"x":6,"y":8},{"x":6,"y":10},{"x":6,"y":12},{"x":6,"y":13},{"x":6,"y":14},{"x":7,"y":0},{"x":7,"y":1},{"x":7,"y":2},{"x":7,"y":6},{"x":7,"y":8},{"x":7,"y":9},{"x":7,"y":10},{"x":7,"y":14},{"x":14,"y":0},{"x":14,"y":1},{"x":14,"y":2},{"x":14,"y":3},{"x":14,"y":4},{"x":14,"y":7},{"x":14,"y":10},{"x":14,"y":11},{"x":14,"y":12},{"x":14,"y":14},{"x":13,"y":0},{"x":13,"y":2},{"x":13,"y":4},{"x":13,"y":7},{"x":13,"y":10},{"x":13,"y":12},{"x":13,"y":13},{"x":13,"y":14},{"x":12,"y":0},{"x":12,"y":2},{"x":12,"y":3},{"x":12,"y":4},{"x":12,"y":7},{"x":12,"y":10},{"x":12,"y":13},{"x":12,"y":14},{"x":11,"y":0},{"x":11,"y":1},{"x":11,"y":2},{"x":11,"y":4},{"x":11,"y":5},{"x":11,"y":6},{"x":11,"y":7},{"x":11,"y":8},{"x":11,"y":9},{"x":11,"y":10},{"x":11,"y":12},{"x":11,"y":13},{"x":11,"y":14},{"x":10,"y":0},{"x":10,"y":2},{"x":10,"y":6},{"x":10,"y":10},{"x":10,"y":11},{"x":10,"y":12},{"x":10,"y":14},{"x":9,"y":0},{"x":9,"y":2},{"x":9,"y":3},{"x":9,"y":4},{"x":9,"y":5},{"x":9,"y":6},{"x":9,"y":7},{"x":9,"y":8},{"x":9,"y":10},{"x":9,"y":12},{"x":9,"y":14},{"x":8,"y":0},{"x":8,"y":2},{"x":8,"y":5},{"x":8,"y":6},{"x":8,"y":7},{"x":8,"y":8},{"x":8,"y":10},{"x":8,"y":12},{"x":8,"y":13},{"x":8,"y":14}],"transform":[{"type":"formula","expr":"datum.x+'-'+datum.y","as":"key"}]},{"name":"powerGums","values":[{"x":0,"y":0},{"x":14,"y":0},{"x":0,"y":14},{"x":14,"y":14}],"transform":[{"type":"formula","expr":"datum.x+'-'+datum.y","as":"key"}]},{"name":"eatenGums","on":[{"trigger":"testEaten","insert":"testEaten"},{"trigger":"testPowerEaten","insert":"testPowerEaten"},{"trigger":"restart","remove":"restart"}]},{"name":"walls","values":[{"x":0,"y":0,"vertical":false},{"x":1,"y":0,"vertical":false},{"x":2,"y":0,"vertical":false},{"x":3,"y":0,"vertical":false},{"x":4,"y":0,"vertical":false},{"x":5,"y":0,"vertical":false},{"x":6,"y":0,"vertical":false},{"x":7,"y":0,"vertical":false},{"x":8,"y":0,"vertical":false},{"x":9,"y":0,"vertical":false},{"x":10,"y":0,"vertical":false},{"x":11,"y":0,"vertical":false},{"x":12,"y":0,"vertical":false},{"x":13,"y":0,"vertical":false},{"x":14,"y":0,"vertical":false},{"x":0,"y":15,"vertical":false},{"x":1,"y":15,"vertical":false},{"x":2,"y":15,"vertical":false},{"x":3,"y":15,"vertical":false},{"x":4,"y":15,"vertical":false},{"x":5,"y":15,"vertical":false},{"x":6,"y":15,"vertical":false},{"x":7,"y":15,"vertical":false},{"x":8,"y":15,"vertical":false},{"x":9,"y":15,"vertical":false},{"x":10,"y":15,"vertical":false},{"x":11,"y":15,"vertical":false},{"x":12,"y":15,"vertical":false},{"x":13,"y":15,"vertical":false},{"x":14,"y":15,"vertical":false},{"x":0,"y":0,"vertical":true},{"x":0,"y":1,"vertical":true},{"x":0,"y":2,"vertical":true},{"x":0,"y":3,"vertical":true},{"x":0,"y":4,"vertical":true},{"x":0,"y":5,"vertical":false},{"x":1,"y":5,"vertical":false},{"x":2,"y":5,"vertical":false},{"x":0,"y":7,"vertical":false},{"x":1,"y":7,"vertical":false},{"x":2,"y":7,"vertical":false},{"x":0,"y":8,"vertical":false},{"x":1,"y":8,"vertical":false},{"x":0,"y":10,"vertical":false},{"x":1,"y":10,"vertical":false},{"x":2,"y":10,"vertical":false},{"x":2,"y":8,"vertical":false},{"x":3,"y":5,"vertical":true},{"x":3,"y":6,"vertical":true},{"x":3,"y":8,"vertical":true},{"x":3,"y":9,"vertical":true},{"x":0,"y":10,"vertical":true},{"x":0,"y":11,"vertical":true},{"x":0,"y":12,"vertical":true},{"x":0,"y":13,"vertical":true},{"x":0,"y":14,"vertical":true},{"x":15,"y":0,"vertical":true},{"x":15,"y":1,"vertical":true},{"x":15,"y":2,"vertical":true},{"x":15,"y":3,"vertical":true},{"x":15,"y":4,"vertical":true},{"x":12,"y":5,"vertical":true},{"x":14,"y":5,"vertical":false},{"x":13,"y":5,"vertical":false},{"x":14,"y":7,"vertical":false},{"x":13,"y":7,"vertical":false},{"x":12,"y":7,"vertical":false},{"x":12,"y":5,"vertical":false},{"x":12,"y":6,"vertical":true},{"x":14,"y":8,"vertical":false},{"x":13,"y":8,"vertical":false},{"x":14,"y":10,"vertical":false},{"x":13,"y":10,"vertical":false},{"x":12,"y":10,"vertical":false},{"x":12,"y":8,"vertical":false},{"x":12,"y":8,"vertical":true},{"x":12,"y":9,"vertical":true},{"x":15,"y":10,"vertical":true},{"x":15,"y":11,"vertical":true},{"x":15,"y":12,"vertical":true},{"x":15,"y":13,"vertical":true},{"x":15,"y":14,"vertical":true},{"x":6,"y":5,"vertical":false},{"x":7,"y":5,"vertical":true},{"x":7,"y":6,"vertical":false},{"x":8,"y":5,"vertical":true},{"x":8,"y":5,"vertical":false},{"x":7,"y":5,"vertical":true},{"x":7,"y":3,"vertical":false},{"x":8,"y":3,"vertical":false},{"x":6,"y":3,"vertical":false},{"x":6,"y":4,"vertical":true},{"x":9,"y":3,"vertical":true},{"x":9,"y":4,"vertical":true},{"x":6,"y":3,"vertical":true},{"x":3,"y":3,"vertical":false},{"x":4,"y":3,"vertical":false},{"x":3,"y":3,"vertical":true},{"x":5,"y":3,"vertical":true},{"x":3,"y":4,"vertical":false},{"x":4,"y":4,"vertical":true},{"x":5,"y":4,"vertical":true},{"x":4,"y":5,"vertical":true},{"x":5,"y":5,"vertical":true},{"x":4,"y":6,"vertical":false},{"x":10,"y":3,"vertical":false},{"x":11,"y":3,"vertical":false},{"x":10,"y":3,"vertical":true},{"x":12,"y":3,"vertical":true},{"x":11,"y":4,"vertical":false},{"x":10,"y":4,"vertical":true},{"x":11,"y":4,"vertical":true},{"x":10,"y":5,"vertical":true},{"x":11,"y":5,"vertical":true},{"x":10,"y":6,"vertical":false},{"x":1,"y":1,"vertical":true},{"x":1,"y":1,"vertical":false},{"x":2,"y":1,"vertical":false},{"x":1,"y":2,"vertical":false},{"x":2,"y":2,"vertical":false},{"x":3,"y":1,"vertical":true},{"x":4,"y":1,"vertical":true},{"x":4,"y":1,"vertical":false},{"x":4,"y":2,"vertical":false},{"x":5,"y":1,"vertical":false},{"x":6,"y":1,"vertical":false},{"x":5,"y":2,"vertical":false},{"x":6,"y":2,"vertical":false},{"x":7,"y":1,"vertical":true},{"x":8,"y":1,"vertical":true},{"x":8,"y":1,"vertical":false},{"x":9,"y":1,"vertical":false},{"x":8,"y":2,"vertical":false},{"x":9,"y":2,"vertical":false},{"x":11,"y":1,"vertical":true},{"x":10,"y":1,"vertical":false},{"x":10,"y":2,"vertical":false},{"x":12,"y":1,"vertical":true},{"x":12,"y":1,"vertical":false},{"x":13,"y":1,"vertical":false},{"x":12,"y":2,"vertical":false},{"x":13,"y":2,"vertical":false},{"x":14,"y":1,"vertical":true},{"x":1,"y":3,"vertical":true},{"x":2,"y":3,"vertical":true},{"x":1,"y":3,"vertical":false},{"x":13,"y":4,"vertical":false},{"x":13,"y":3,"vertical":true},{"x":14,"y":3,"vertical":true},{"x":13,"y":3,"vertical":false},{"x":1,"y":4,"vertical":false},{"x":6,"y":7,"vertical":true},{"x":9,"y":7,"vertical":true},{"x":7,"y":8,"vertical":false},{"x":6,"y":8,"vertical":false},{"x":8,"y":8,"vertical":false},{"x":4,"y":7,"vertical":false},{"x":4,"y":10,"vertical":false},{"x":5,"y":10,"vertical":false},{"x":6,"y":10,"vertical":false},{"x":4,"y":7,"vertical":true},{"x":4,"y":8,"vertical":true},{"x":4,"y":9,"vertical":true},{"x":5,"y":7,"vertical":true},{"x":5,"y":8,"vertical":true},{"x":7,"y":9,"vertical":true},{"x":6,"y":10,"vertical":false},{"x":6,"y":9,"vertical":false},{"x":5,"y":9,"vertical":false},{"x":10,"y":7,"vertical":false},{"x":10,"y":10,"vertical":false},{"x":9,"y":10,"vertical":false},{"x":8,"y":10,"vertical":false},{"x":10,"y":7,"vertical":true},{"x":10,"y":8,"vertical":true},{"x":11,"y":9,"vertical":true},{"x":11,"y":7,"vertical":true},{"x":11,"y":8,"vertical":true},{"x":8,"y":9,"vertical":true},{"x":6,"y":10,"vertical":false},{"x":9,"y":9,"vertical":false},{"x":8,"y":9,"vertical":false},{"x":5,"y":11,"vertical":false},{"x":6,"y":11,"vertical":false},{"x":7,"y":11,"vertical":false},{"x":8,"y":11,"vertical":false},{"x":9,"y":11,"vertical":false},{"x":10,"y":11,"vertical":true},{"x":5,"y":11,"vertical":true},{"x":5,"y":12,"vertical":false},{"x":6,"y":12,"vertical":false},{"x":8,"y":12,"vertical":false},{"x":9,"y":12,"vertical":false},{"x":7,"y":12,"vertical":true},{"x":8,"y":12,"vertical":true},{"x":7,"y":13,"vertical":true},{"x":8,"y":13,"vertical":true},{"x":7,"y":14,"vertical":false},{"x":1,"y":13,"vertical":true},{"x":0,"y":13,"vertical":false},{"x":0,"y":14,"vertical":false},{"x":2,"y":11,"vertical":false},{"x":3,"y":11,"vertical":false},{"x":1,"y":12,"vertical":false},{"x":1,"y":11,"vertical":false},{"x":2,"y":13,"vertical":false},{"x":3,"y":12,"vertical":false},{"x":4,"y":11,"vertical":true},{"x":2,"y":12,"vertical":true},{"x":1,"y":11,"vertical":true},{"x":3,"y":12,"vertical":true},{"x":4,"y":13,"vertical":false},{"x":5,"y":13,"vertical":false},{"x":4,"y":14,"vertical":false},{"x":5,"y":14,"vertical":false},{"x":4,"y":13,"vertical":true},{"x":6,"y":13,"vertical":true},{"x":9,"y":13,"vertical":false},{"x":10,"y":13,"vertical":false},{"x":9,"y":14,"vertical":false},{"x":10,"y":14,"vertical":false},{"x":9,"y":13,"vertical":true},{"x":11,"y":13,"vertical":true},{"x":14,"y":13,"vertical":true},{"x":14,"y":13,"vertical":false},{"x":14,"y":14,"vertical":false},{"x":11,"y":11,"vertical":false},{"x":13,"y":11,"vertical":false},{"x":11,"y":12,"vertical":false},{"x":12,"y":11,"vertical":false},{"x":12,"y":13,"vertical":false},{"x":13,"y":12,"vertical":false},{"x":14,"y":11,"vertical":true},{"x":12,"y":12,"vertical":true},{"x":11,"y":11,"vertical":true},{"x":13,"y":12,"vertical":true}],"transform":[{"type":"formula","expr":"datum.x+'-'+datum.y+'-'+datum.vertical","as":"key"}]}]`),aGt={$schema:Jqt,description:eGt,width:tGt,height:nGt,signals:rGt,scales:iGt,marks:oGt,data:sGt},lGt=Da("/eastereggs/pacman")({component:cGt});function cGt(){return x.jsx(Pg,{sx:{marginTop:10},children:x.jsx(oX,{spec:aGt})})}const uGt=()=>{const e=(o,s="param")=>o.getState({signals:a=>a.includes(s)}).signals,t=o=>o.getState({signals:s=>s.includes("click")}).signals,n=(o,s)=>{for(const a of s){let l=Object.keys(a)[0],c=o.filter(u=>u.length>0&&Object.keys(u[0]).includes(l));if(c.length===1)return c[0]}return o.reduce((a,l)=>l.length>a.length?l:a,[])},r=o=>{if(typeof o=="string"&&o.split("T").length===2){let a=o.split("T")[0].split("-").length===3,l=o.split("T")[1].split(":").length===3;if(a&&l){let c=new Date(o);if(!isNaN(c))return c.getTime()}}return o};return{getCurrentBrushSelectionsFromView:e,getClickSignalFromView:t,filterViewDataWithSelections:(o,s,a=["data"])=>{let l=a.map(d=>o.data(d));return l.length===0?[]:n(l,s).filter(d=>{for(const f of s)for(const[p,g]of Object.entries(f))if(g.length===2&&typeof g[0]=="number"){let[m,v]=g,b=r(d[p]);if(isNaN(+b)||b<m||b>v)return!1}else if(!g.includes(d[p]))return!1;return!0})}}},dGt=({data:e,pipeId:t,nodeId:n,username:r,block:i,config:o,reloadData:s=void 0,rowCount:a=void 0,isLoading:l=!1,minMax:c})=>{var pe;const[u,d]=O.useState(!1),f=Ett(),[p,g]=O.useState({}),m=lr(),{api:v}=O.useContext(un),{currentUserIsAdmin:b}=Xi(),S=bu(r),[C,_]=O.useState([]),[E,T]=O.useState(""),[k,A]=O.useState([]),[P,D]=O.useState({pageIndex:0,pageSize:10}),{isDarkMode:F}=vy(),[I,j]=O.useState({}),[M,$]=O.useState(null),[L,V]=O.useState(""),q=((pe=i==null?void 0:i.blueprint)==null?void 0:pe.type)==="show_table",U=b&&q&&!S();O.useEffect(()=>{q&&v.getBlock(t,n,r).then(W=>{const se=W.data.data.value;se&&(se.updated_order&&K(se.updated_order),se.hide_columns&&g(se.hide_columns)),d(!0)}).catch(W=>{console.error("Error fetching saved column order:",W),d(!0)})},[t,n,r]),O.useEffect(()=>{var W;q&&(i!=null&&i.data)&&j((W=i==null?void 0:i.data)==null?void 0:W.value)},[i]),O.useEffect(()=>{u&&f.mutate({pipeId:t,nodeId:n,username:r,order:Q,hiddenColumns:p})},[p]);const z=O.useCallback(W=>W&&W.length>0?Object.keys(W[0]).filter(se=>!se.includes("Unnamed")):[],[]),B=O.useMemo(()=>z(e),[e,z]),[G,Y]=O.useState(()=>B.map(W=>({accessorKey:W,header:W,enableHiding:q}))),[Q,K]=O.useState(()=>(B.length>0,B));O.useEffect(()=>{K((B.length>0,B))},[B,B]),O.useEffect(()=>{var X,Z;const W=(X=o==null?void 0:o.elements)==null?void 0:X.find(oe=>oe.name==="Color Coding");K(Q);const se=(Z=W==null?void 0:W.selected_values)==null?void 0:Z[0];let ae=se!=null&&se!=="";Y(oe=>B.map(ge=>{const de=oe.find(xe=>xe.accessorKey===ge)??{accessorKey:ge,header:ge};let Re=null;if(se==="Whole Table"){let xe=0,ue=0;B.forEach(we=>{c[we]&&(xe=Math.min(xe,c[we].min),ue=Math.max(ue,c[we].max))}),Re={min:xe,max:ue}}else c!=null&&c[ge]&&(Re=c[ge]);if(Re&&(c!=null&&c[ge])){const{min:xe,max:ue}=Re;return se==="Correlations"&&!(xe>=-1&&ue<=1)&&(ae=!1),{...de,muiTableBodyCellProps:({cell:we})=>{const Oe=we.getValue(),ke=parseFloat(String(Oe).replace(/,/g,""));let Ie=(ke-xe)/(ue-xe);return Ie=Math.min(Math.max(Ie,0),1),{style:{backgroundColor:ae?te(ke,xe,ue,se,Ie):m.palette.background.tableCell,color:ae?Ie<=.1||Ie>=.9?"white":"black":F?"white":"black"}}}}}return de}))},[B,e,c,o]);const te=(W,se,ae,X,Z)=>W==null||isNaN(W)?m.palette.background.tableCell:X==="Correlations"?se>=-1&&ae<=1?Dse(Z):m.palette.background.tableCell:Dse(Z);O.useEffect(()=>{s!==void 0&&s(C,E,P.pageIndex,P.pageSize,k)},[C,E,P.pageIndex,P.pageSize,k]);const ce=W=>{var se;$(W.id),V(((se=G.find(ae=>ae.accessorKey===W.id))==null?void 0:se.header)||"")},ie=()=>{var W;if(M!==null&&L.trim()!==""){Y(X=>X.map(Z=>Z.accessorKey===M?{...Z,header:L}:Z));const se={...I},ae=(W=Object.entries(se).find(([X,Z])=>Z===M))==null?void 0:W[0];ae?se[ae]=L.trim():se[M]=L.trim(),v.renameColumnHeader({pipe_id:t,node_id:n,username:r,header_mapping:se}).then(X=>{window.location.reload(),j(se),re()}).catch(X=>{console.error("Failed to save column rename to backend:",X),re()})}},re=()=>{$(null),V("")},he=W=>{W.key==="Enter"?ie():W.key==="Escape"&&re()},fe=O.useCallback(({column:W})=>{const se=M===W.id,ae=G.find(X=>X.accessorKey===W.id);return ae?se?x.jsx(Ir,{value:L,onChange:X=>V(X.target.value),onBlur:ie,onKeyDown:he,autoFocus:!0,size:"small",variant:"standard"}):x.jsx("span",{onClick:X=>{X.stopPropagation()},onDoubleClick:()=>{U&&ce(W)},title:U?"Double-click to rename":"",style:{cursor:U?"text":"default"},children:ae.header}):W.columnDef.header},[M,L,G]),ne=W=>{if(!u)return;const se=W.filter(ae=>ae!=="mrt-row-spacer");K(se),f.mutate({pipeId:t,nodeId:n,username:r,order:se,hiddenColumns:p})};return x.jsx(XU,{columns:G.map(W=>({...W,Header:fe})),data:hbe(e),columnOrder:Q,enableStickyHeader:!0,enableDensityToggle:!1,enableTopToolbar:q,enableClickToCopy:!1,enableColumnOrdering:q,enableColumnResizing:!0,enableFullScreenToggle:!1,enableColumnPinning:!0,manualFiltering:!0,manualPagination:!0,manualSorting:!0,onColumnVisibilityChange:g,onColumnOrderChange:ne,onColumnFiltersChange:_,onGlobalFilterChange:T,onPaginationChange:D,onSortingChange:A,rowCount:a,selectAllMode:"all",displayColumnDefOptions:{"mrt-row-select":{size:20},"mrt-row-actions":{size:20}},initialState:{density:"compact",columnOrder:Q,columnVisibility:p,sorting:Q.length>0?[{id:Q[0],desc:!1}]:[]},muiTablePaginationProps:{labelRowsPerPage:""},state:{columnOrder:Q,columnVisibility:p,columnFilters:C,globalFilter:E,pagination:P,showProgressBars:l,sorting:k},mrtTheme:KU(m)})},gk=hn.memo(({pipeId:e,nodeId:t,username:n,block:r,reloadPipeCounter:i,preview:o=!1,config:s=void 0})=>{const[a,l]=O.useState([]),[c,u]=O.useState({pagination:{pageIndex:0,pageSize:10},filters:{columnFilters:[],globalFilter:""},sorting:[]}),{data:d=[],isLoading:f,refetch:p}=Stt({pipeId:e,nodeId:t,username:n,preview:o,pagination:c.pagination,filters:c.filters,sorting:c.sorting});O.useEffect(()=>{d&&d.length>0&&l(d)},[d]),O.useEffect(()=>{i&&(console.log("Refetching table data"),p())},[i,p]);const g=O.useMemo(()=>{var _;const v=a.length;if(v===0)return[0,0,0];const b=a[0],S=((_=b.meta)==null?void 0:_.length)??b.df.length;if(b.df.length===0)return[v,0,0];const C=Object.keys(b.df[0]).length;return[v,S,C]},[a]),m=(v,b,S,C,_)=>{u({pagination:{pageIndex:S,pageSize:C},filters:{columnFilters:v,globalFilter:b},sorting:_})};return x.jsxs(en,{direction:"column",sx:{overflow:"scroll"},children:[x.jsx(en,{direction:"row",spacing:2,children:a.map((v,b)=>x.jsxs(lt,{sx:{width:"100%"},children:[x.jsx(it,{variant:"h6",align:"center",children:v.meta.breakout}),x.jsx(dGt,{data:v.df,pipeId:e,nodeId:t,username:n,block:r,config:s,reloadData:m,rowCount:v.meta.length,isLoading:f,checkboxSelection:!0,minMax:v.meta.min_max})]},b))}),x.jsx(it,{variant:"body",children:g.join(" x ")})]})}),fGt=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,isDashboardItem:i,onViewLoaded:o=l=>{},patchVegaSpec:s=l=>{},use80percentWidth:a})=>{const{height:l,width:c}=HI(),[u,d]=O.useState({}),f=bu(n),{isPresentationMode:p}=Ox(),{isDarkMode:g}=vy(),{data:m,isLoading:v,isRefetching:b,isError:S,refetch:C,error:_}=wtt({pipeId:e,blockId:t,username:n,height:l*.7,width:a?c*(2.8/4):i?c*(5/6):c*(3.32/5),presentationMode:p,darkMode:g});O.useEffect(()=>{C()},[r]),O.useEffect(()=>{if(m)try{const{spec:A}=m;T(A)}catch(A){or.error("Error processing spec data:",A)}},[m]);const E=A=>{A&&A.getState().signals.background!==null&&o(A)},T=A=>{let P=A;A.$schema.includes("vega-lite")&&(P=MAe(A).spec),s(P),f()&&(P={...P,config:{events:{view:!1}}}),d(P)},k=g?{theme:"dark"}:void 0;return x.jsxs(en,{direction:"column",children:[x.jsx(wd,{loading:v||b}),S&&x.jsx(lt,{sx:{p:2,color:"error.main"},children:x.jsxs(it,{variant:"body1",children:["Error loading plot: ",(_==null?void 0:_.message)||"Unknown error occurred"]})}),x.jsx("div",{id:"vega-container",children:!S&&x.jsx(oX,{spec:u,renderer:"canvas",onNewView:E,actions:!1,tooltip:k})})]})},pGt=({pipeId:e,nodeId:t,reloadCounter:n,onSelectionChanged:r,usernameFromPath:i,loadStaticPlot:o=!1,showTable:s=!0,isDashboardItem:a,use80percentWidth:l})=>{const c=uGt(),{api:u}=O.useContext(un),[d,f]=O.useState(0),[p,g]=O.useState([]),[m,v]=O.useState(0),[b,S]=O.useState([]);Xi();var C=void 0,_=!1;const E=I=>{v(I)},T=I=>{C||(C=setTimeout(function(){I(),C=void 0},1e3))},k=I=>{I.signals&&(I.signals.push({name:"mouseup",on:[{events:"mouseup",update:"event"}]}),I.signals.push({name:"click",on:[{events:"click",update:"event"}]}))},A=I=>{let j=c.getCurrentBrushSelectionsFromView(I);Object.keys(j).forEach($=>{I.addSignalListener($,(L,V)=>{T(()=>{D(I)})})}),c.getClickSignalFromView(I)&&I.addSignalListener("click",($,L)=>{if(!(P(I).length>0)&&L.item&&L.item.tooltip){let V=L.item.tooltip,q={};Object.keys(V).forEach(U=>{let z=parseFloat(V[U]);isNaN(z)||(q[U]=[z,z])}),Object.keys(q).length>0&&S([q])}}),_=!0,D(I);const M=I.container();M&&v(M.scrollWidth)},P=I=>{let j=c.getCurrentBrushSelectionsFromView(I);return Object.entries(j).filter(([$,L])=>L&&!Array.isArray(L)&&Object.keys(L).length>0).map(([$,L])=>L)},D=I=>{if(_){_=!1;return}let j=P(I);S(j),!a&&j!==p&&F(j)},F=I=>{!isNaN(e)&&!isNaN(t)&&I&&u.updateNodeInPipe(e,t,i,I).then(j=>(g(I),r(),f(M=>M+1),j))};return x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(en,{direction:"column",mb:2,sx:{overflow:"scroll",alignItems:"center",marginBottom:"3rem!important"},children:o?x.jsx(kxe,{pipeId:e,nodeId:t,usernameFromPath:i,reload:n,onImageWidthCalculated:E,use80percentWidth:l}):x.jsx(fGt,{pipeId:e,nodeId:t,reload:n,isDashboardItem:a,usernameFromPath:i,onViewLoaded:A,patchVegaSpec:k,use80percentWidth:l})}),s&&x.jsx(gk,{pipeId:e,nodeId:t,username:i,reloadPipeCounter:d}),a&&document.getElementById(`block-${t}-details-button-portal`)&&gp.createPortal(x.jsx(x.Fragment,{children:b.length>0&&x.jsx(Yt,{title:"Apply & Reload page",children:x.jsx(Ft,{variant:"contained",color:"primary",onClick:I=>{I.stopPropagation(),F(b)},startIcon:x.jsx(C1,{}),children:"Apply"})})}),document.getElementById(`block-${t}-details-button-portal`))]})},hGt=({block:e,pipeId:t,usernameFromPath:n,isForeignPipe:r=!1,isOnDashboard:i=!0,showStaticPlot:o=!0,onSelectionChanged:s=()=>{},onShowInteractivePlotClicked:a=()=>{},isFilterCategoriesSideBlock:l=!1})=>{const{api:c}=O.useContext(un),{user:u}=O.useContext(Ig),d=Oa(),[f,p]=O.useState(e.title??""),[g,m]=O.useState(e.description??""),{setEditBlockDialogOpen:v}=pU(),b=xme.includes(e.blueprint.type),[S,C]=O.useState(e.skip),_=e.configuration.elements.some(B=>B.is_synced),[E,T]=O.useState(_),k=e.configuration.elements.some(B=>(B.name==="Y Columns"||B.name==="Y Axis"||B.name==="Columns")&&B.is_synced!=null),[A,P]=O.useState(!1),D=e==null?void 0:e.flow_id,F=i&&!r(),I=i&&rO.includes(e.blueprint.type)&&o,{height:j}=HI(),{isDarkMode:M}=vy(),{isPresentationMode:$}=Ox();O.useEffect(()=>{p(e.title??""),m(e.description??"")},[e]);const L=()=>{P(!0),c.getPlotPreview({pipe_id:t,block_id:D,username:n,sparsify:!1,height:Math.round(j*.55),width:Math.round(j*.75),signal:null,darkMode:M,presentationMode:$,includeDescription:!0,format:"png",download:!0}).then(B=>{const G=new Blob([B.data],{type:B.headers["content-type"]}),Y=window.URL.createObjectURL(G),Q=document.createElement("a");Q.href=Y,Q.download=`${f||"plot"}.png`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),window.URL.revokeObjectURL(Y),P(!1)}).catch(B=>{P(!1),console.error("Failed to download plot:",B)})},V=()=>{const B=!E;T(B);const G=e.configuration.elements.map(Y=>Y.name==="Y Columns"||Y.name==="Y Axis"||Y.name==="Columns"?{...Y,is_synced:B}:Y);c.updateNodeConfiguration(t,e.flow_id,n,{elements:G}).then(()=>{s()}).catch(Y=>{console.error("Failed to update sync state: "+Y),T(!B)})},q=B=>{B.stopPropagation(),c.updateNodeSkipFlag(t,D,u.username,!S).then(()=>{C(G=>!G),s()}).catch(G=>{or.error("Error updating the block: "+JSON.stringify(G))})},U=()=>{d({to:`/pipe/${Sd(n,t)}/block/${e.flow_id}`})},z=()=>{a()};return x.jsx(x.Fragment,{children:x.jsxs(en,{spacing:1,sx:{width:"100%",maxWidth:"700px"},children:[x.jsxs(lt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:l?"column":"row"},children:[x.jsxs(en,{direction:"row",alignItems:"center",spacing:1,sx:{width:"100%"},children:[x.jsx(it,{variant:"h5",children:f}),!l&&x.jsx(D0,{sx:{fontSize:"0.7rem",boxShadow:1},label:e.blueprint.title,size:"small"})]}),x.jsxs(en,{direction:"row",spacing:1,sx:{flexWrap:l?"wrap":"nowrap",width:l?"100%":"auto",justifyContent:l?"flex-start":"flex-end"},children:[F&&x.jsx(Yt,{title:"Open block details",children:x.jsx(sn,{onClick:B=>{B.stopPropagation(),U()},children:x.jsx(BZe,{})})}),!r()&&x.jsxs(x.Fragment,{children:[I&&x.jsx(Yt,{title:"Make plot interactive",children:x.jsx(sn,{onClick:B=>{B.stopPropagation(),z()},children:x.jsx(oZe,{})})}),b&&!l&&x.jsx(Yt,{title:S?"Activate block":"Skip block",children:x.jsx(sn,{onClick:B=>{q(B)},children:x.jsx(KZe,{color:S?"disabled":"inherit"})})}),i&&k&&x.jsx(Yt,{title:E?"Unsync axes":"Sync axes",children:x.jsx(sn,{onClick:V,sx:{color:E?"primary.main":"inherit"},children:E?x.jsx(pme,{}):x.jsx(hme,{})})}),rO.includes(e.blueprint.type)&&(A?x.jsx(au,{size:30,color:"inherit"}):x.jsx(Yt,{title:"Download Plot as Image",children:x.jsx(sn,{onClick:B=>{B.stopPropagation(),L()},children:x.jsx(cU,{})})})),x.jsx(Yt,{title:"Edit block details",children:x.jsx(sn,{onClick:()=>{v({pipeId:t,nodeId:D,username:n,title:e.title,description:e.description})},children:x.jsx(Ax,{})})}),x.jsx("div",{id:`block-${D}-details-button-portal`})]})]})]}),x.jsx(it,{sx:{whiteSpace:"break-spaces"},variant:"body",children:g})]})})};var gGt={},m_=function(){return m_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m_.apply(this,arguments)};function bA(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(c){try{l(r.next(c))}catch(u){o(u)}}function a(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(s,a)}l((r=r.apply(e,[])).next())})}function xA(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(u[0]===6&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(d){u=[6,d],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}var mGt=function(e){var t=e.setSize,n=e.setControllerCallback,r=e.setPercentageCallback,i=e.setErrorCallback;return function(o){if(!o.ok)throw console.error("".concat(o.status," ").concat(o.type," ").concat(o.statusText)),o;if(!o.body)throw Error("ReadableStream not yet supported in this browser.");var s=o.body,a=o.headers.get("content-encoding"),l=o.headers.get(a?"x-file-size":"content-length"),c=parseInt(l||"0",10);t(function(){return c});var u=0,d=new ReadableStream({start:function(f){n(f);var p=s.getReader();return function g(){return bA(this,void 0,void 0,function(){return xA(this,function(m){return[2,p.read().then(function(v){var b=v.done,S=v.value;return b?f.close():(u+=(S==null?void 0:S.byteLength)||0,S&&f.enqueue(S),r({loaded:u,total:c}),g())}).catch(function(v){return i(v),p.cancel("Cancelled"),f.error(v)})]})})}()}});return new Response(d)}},yGt=function(e,t,n){var r=new Blob([e],{type:"application/octet-stream"}),i=window;if(i.navigator.msSaveBlob!==void 0)return i.navigator.msSaveBlob(r,t);var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),s=document.createElement("a");return s.style.display="none",s.href=o,s.setAttribute("download",t),s.download===void 0&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(o)},200)};function vGt(e){var t,n=this;e===void 0&&(e={});var r=!1;try{r=!!process&&!!(!((t=process==null?void 0:gGt)===null||t===void 0)&&t.REACT_APP_DEBUG_MODE)}catch{r=!1}var i=O.useState(0),o=i[0],s=i[1],a=O.useState(0),l=a[0],c=a[1],u=O.useState(0),d=u[0],f=u[1],p=O.useState(null),g=p[0],m=p[1],v=O.useState(!1),b=v[0],S=v[1],C=O.useRef(null),_=O.useCallback(function(D){var F=D.loaded,I=D.total,j=Math.round(F/I*100);c(function(){return j})},[]),E=O.useCallback(function(D){var F={"Failed to execute 'enqueue' on 'ReadableStreamDefaultController': Cannot enqueue a chunk into an errored readable stream":"Download canceled","The user aborted a request.":"Download timed out"};m(function(){return{errorMessage:F[D.message]?F[D.message]:D.message}})},[]),T=O.useCallback(function(D){C.current=D},[]),k=O.useCallback(function(){C.current&&C.current.error()},[]),A=O.useCallback(function(){T(null),s(function(){return 0}),c(function(){return 0}),f(function(){return 0}),S(function(){return!1})},[T]),P=O.useCallback(function(D,F,I,j){return I===void 0&&(I=0),j===void 0&&(j={}),bA(n,void 0,void 0,function(){var M,$,L,V,q=this;return xA(this,function(U){return b?[2,null]:(A(),m(function(){return null}),S(function(){return!0}),M=setInterval(function(){return s(function(z){return z+1})},r?1:1e3),$=mGt({setSize:f,setControllerCallback:T,setPercentageCallback:_,setErrorCallback:E}),L=new AbortController,V=setTimeout(function(){I>0&&L.abort()},I),[2,fetch(D,m_(m_(m_({method:"GET"},e),j),{signal:L.signal})).then($).then(function(z){return z.blob()}).then(function(z){return yGt(z,F)}).then(function(){return A(),clearInterval(M)}).catch(function(z){return bA(q,void 0,void 0,function(){var B,G=this;return xA(this,function(Y){switch(Y.label){case 0:return A(),[4,bA(G,void 0,void 0,function(){var Q,K;return xA(this,function(te){switch(te.label){case 0:return z instanceof Response?(z.headers.get("Content-Type")||"").includes("application/json")?[4,z.json().catch(function(){return null})]:[3,2]:[3,5];case 1:return K=te.sent(),[3,4];case 2:return[4,z.text().catch(function(){return null})];case 3:K=te.sent(),te.label=4;case 4:return Q=K,[2,["".concat(z.status," - ").concat(z.statusText),Q==null?void 0:Q.error,(Q==null?void 0:Q.reason)||(typeof Q=="string"?Q:null)].filter(Boolean).join(": ")];case 5:return[2,(z==null?void 0:z.message)||"An unknown error occurred."]}})})];case 1:return B=Y.sent(),m({errorMessage:B}),clearTimeout(V),clearInterval(M),[2]}})})})])})})},[b,A,r,T,_,E,e]);return O.useMemo(function(){return{elapsed:o,percentage:l,size:d,download:P,cancel:k,error:g,isInProgress:b}},[o,l,d,P,k,g,b])}const bGt=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,showTable:i=!0})=>{const o=rI().getAccessToken(),{percentage:s,download:a,cancel:l,error:c,isInProgress:u}=vGt({mode:"cors",headers:{Authorization:`Bearer ${o}`}});let d=`https://redpill.nomaze.com//user/${n}/pipe/${e}/export/${t}?pipe_url=${encodeURIComponent(window.location.href)}`;const{data:f,isLoading:p}=c2(e,n,!1);return p?x.jsx(wd,{loading:!0}):x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(it,{variant:"body",children:"Clicking the button will download a ZIP file containing the data as Excel file and all plots as SVG files. Please note that this process could take a minute depending on your data."}),x.jsxs(en,{spacing:2,sx:{width:"fit-content"},children:[x.jsxs(en,{direction:"row",spacing:2,children:[x.jsx(Ft,{startIcon:x.jsx(wZe,{}),variant:"contained",onClick:()=>a(d,`${f.name}.zip`),disabled:u,sx:{width:"fit-content"},children:u?`Downloading... ${s}%`:"Export"}),u&&x.jsx(Ft,{variant:"outlined",color:"error",onClick:l,sx:{width:"fit-content"},children:"Cancel"})]}),c&&x.jsxs(it,{color:"error",children:["Error downloading file: ",c.errorMessage]})]}),i&&x.jsx(lt,{sx:{width:"100%",mt:3},children:x.jsx(gk,{pipeId:e,nodeId:t,username:n,reloadPipeCounter:r})})]})};function xGt(e){return et("MuiMasonry",e)}nt("MuiMasonry",["root"]);const fh=e=>Number(e.replace("px","")),SGt={flexBasis:"100%",width:0,margin:0,padding:0},wGt=e=>{const{classes:t}=e;return Ke({root:["root"]},xGt,t)},CGt=({ownerState:e,theme:t})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(e.isSSR){const c={},u=fh(t.spacing(e.defaultSpacing));for(let d=1;d<=e.defaultColumns;d+=1)c[`&:nth-of-type(${e.defaultColumns}n+${d%e.defaultColumns})`]={order:d};return r.height=e.defaultHeight,r.margin=-(u/2),r["& > *"]={...n["& > *"],...c,margin:u/2,width:`calc(${(100/e.defaultColumns).toFixed(2)}% - ${u}px)`},{...n,...r}}const i=Lf({values:e.spacing,breakpoints:t.breakpoints.values}),o=QE(t);n=Li(n,Uo({theme:t},i,c=>{let u;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const d=Number(c);u=dd(o,d)}else u=c;return{margin:`calc(0px - (${u} / 2))`,"& > *":{margin:`calc(${u} / 2)`},...e.maxColumnHeight&&{height:typeof u=="number"?Math.ceil(e.maxColumnHeight+fh(u)):`calc(${e.maxColumnHeight}px + ${u})`}}}));const a=Lf({values:e.columns,breakpoints:t.breakpoints.values});return n=Li(n,Uo({theme:t},a,c=>{const d=`${(100/Number(c)).toFixed(2)}%`,f=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?dd(o,Number(i)):"0px";return{"& > *":{width:`calc(${d} - ${f})`}}})),typeof i=="object"&&(n=Li(n,Uo({theme:t},i,(c,u)=>{if(u){const d=Number(c),f=Object.keys(a).pop(),p=dd(o,d);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[u]||a[f]:a)).toFixed(2)}%`} - ${p})`}}}return null}))),n},_Gt=ye("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(e,t)=>[t.root]})(CGt),EGt=O.forwardRef(function(t,n){const r=wn({props:t,name:"MuiMasonry"}),{children:i,className:o,component:s="div",columns:a=4,spacing:l=1,sequential:c=!1,defaultColumns:u,defaultHeight:d,defaultSpacing:f,...p}=r,g=O.useRef(),[m,v]=O.useState(),b=!m&&d&&u!==void 0&&f!==void 0,[S,C]=O.useState(b?u-1:0),_={...r,spacing:l,columns:a,maxColumnHeight:m,defaultColumns:u,defaultHeight:d,defaultSpacing:f,isSSR:b},E=wGt(_),T=O.useCallback(P=>{if(!g.current||!P||P.length===0)return;const D=g.current,F=g.current.firstChild,I=D.clientWidth,j=F.clientWidth;if(I===0||j===0)return;const M=window.getComputedStyle(F),$=fh(M.marginLeft),L=fh(M.marginRight),V=Math.round(I/(j+$+L)),q=new Array(V).fill(0);let U=!1,z=1;D.childNodes.forEach(B=>{if(B.nodeType!==Node.ELEMENT_NODE||B.dataset.class==="line-break"||U)return;const G=window.getComputedStyle(B),Y=fh(G.marginTop),Q=fh(G.marginBottom),K=fh(G.height)?Math.ceil(fh(G.height))+Y+Q:0;if(K===0){U=!0;return}for(let te=0;te<B.childNodes.length;te+=1){const ce=B.childNodes[te];if(ce.tagName==="IMG"&&ce.clientHeight===0){U=!0;break}}if(!U)if(c)q[z-1]+=K,B.style.order=z,z+=1,z>V&&(z=1);else{const te=q.indexOf(Math.min(...q));q[te]+=K;const ce=te+1;B.style.order=ce}}),U||gp.flushSync(()=>{v(Math.max(...q)),C(V>0?V-1:0)})},[c]);li(()=>{if(typeof ResizeObserver>"u")return;let P;const D=new ResizeObserver(()=>{P=requestAnimationFrame(T)});return g.current&&g.current.childNodes.forEach(F=>{D.observe(F)}),()=>{P&&cancelAnimationFrame(P),D&&D.disconnect()}},[a,l,i,T]);const k=Ln(n,g),A=new Array(S).fill("").map((P,D)=>x.jsx("span",{"data-class":"line-break",style:{...SGt,order:D+1}},D));return x.jsxs(_Gt,{as:s,className:Ne(E.root,o),ref:k,ownerState:_,...p,children:[i,A]})});function GAe(e){const t=O.useRef();return O.useEffect(()=>{t.current=e}),t.current}const kGt=({disabled:e,initialTitle:t,onSaveButtonClick:n})=>{const[r,i]=O.useState("");return O.useEffect(()=>{i(t)},[t]),x.jsxs(en,{direction:"row",spacing:2,sx:{alignItems:"center"},children:[x.jsx(it,{variant:"body3",children:"Name of the subgroup:"}),x.jsx(Ir,{required:!0,margin:"dense",id:"name",label:"Subgroup Name",value:r,onChange:o=>{i(o.target.value)}}),x.jsx(Ft,{variant:"contained",onClick:()=>{n(r)},disabled:e,sx:{ml:2,mt:1,mb:0},children:"Save"})]})};function RGt(e,t){return e.filter(n=>t.indexOf(n)!==-1)}const TGt=({title:e,items:t,filterIndex:n,isChecked:r,isForeignPipe:i,handleFilterChange:o,disabledRows:s,isLoading:a=!1})=>{const{exludeImplicitDeselectedOptionsFromFilter:l}=Xi(),c=RGt(t,t.filter(v=>r(v))),u=l?t.filter(v=>{var b;return!((b=s[e])!=null&&b.includes(v[e]))}):t,d=c.reduce((v,b)=>(b[e]!==void 0&&(v[b[e]]=!0),v),{}),f=O.useRef(d),p=O.useRef(null),g=O.useCallback(v=>{f.current=v;const b=Object.keys(v).some(S=>v[S]!==d[S])||Object.keys(d).some(S=>!(S in v)&&d[S]);b&&p.current?p.current.style.display="block":!b&&p.current&&(p.current.style.display="none")},[d]),m=()=>{o(Object.keys(f.current).filter(v=>f.current[v])),p.current&&(p.current.style.display="none")};return x.jsxs(VP,{children:[x.jsx(bH,{data:u,categoricalFilter:!0,category:e,isForeignPipe:i,handleFilterChange:g,initialSelectionState:d,disabledRows:s[e],isLoading:a}),x.jsx(lt,{ref:p,style:{display:"none"},children:x.jsxs(en,{direction:"row",sx:{margin:2},children:[x.jsx(Ft,{variant:"contained",onClick:m,disabled:i(),children:"Save"}),x.jsx(it,{variant:"body2",sx:{ml:"auto",mr:3,alignContent:"center"},children:parseInt(n)+1})]})})]})},MGt=({columnName:e,column:t,userInput:n,filterChanged:r,isForeignPipe:i})=>{const[o,s]=O.useState(n.min??t.min),[a,l]=O.useState(n.max??t.max);return O.useEffect(()=>{s(n.min),l(n.max)},[n]),x.jsxs(VP,{children:[x.jsx(yVe,{sx:{px:2,py:1},avatar:x.jsx(C1,{}),title:e}),x.jsx(ag,{}),x.jsxs(uVe,{sx:{padding:0},children:[x.jsxs(Tx,{dense:!0,children:[x.jsxs(en,{direction:"row",children:[x.jsx($0,{children:x.jsx(Ir,{id:"outlined-required",label:"Min",value:o,onChange:c=>{s(c.target.value)},disabled:i()})}),x.jsxs(it,{sx:{alignContent:"center",whiteSpace:"nowrap",mr:2},children:["(",Number(t.min).toFixed(2),")"]})]}),x.jsxs(en,{direction:"row",children:[x.jsx($0,{children:x.jsx(Ir,{id:"outlined-required",label:"Max",value:a,onChange:c=>{l(c.target.value)},disabled:i()})}),x.jsxs(it,{sx:{alignContent:"center",whiteSpace:"nowrap",mr:2},children:["(",Number(t.max).toFixed(2),")"]})]})]}),x.jsx(Ft,{variant:"contained",onClick:()=>{r(o,a)},disabled:i(),sx:{ml:2,mt:1,mb:0},children:"Save"})]})]})},AGt=({pipeId:e,nodeId:t,blockType:n,usernameFromPath:r,showTable:i=!0,onSelectionChanged:o=()=>{},isFilterCategoriesSideBlock:s=!1})=>{const[a,l]=O.useState({}),[c,u]=O.useState({}),[d,f]=O.useState({}),p=GAe(c),[g,m]=O.useState(0),[v,b]=O.useState(""),S=bu(r),{hideCountColumn:C}=Xi(),[_,E]=O.useState(!1),{data:T,isLoading:k}=utt(e,t,r),{mutate:A,isPending:P}=dtt();O.useEffect(()=>{if(T){let{filter_config:z,user_input:B,disabled_rows:G}=T;C&&Object.keys(z.categorical_deps).forEach(Q=>{z.categorical_deps[Q].values=z.categorical_deps[Q].values.map(K=>(K.hasOwnProperty("count")&&delete K.count,K))});let Y=Object.assign(z.numeric_deps,z.categorical_deps,z.ordinal_deps);F(B,Y),l(Y),f(G)}},[T]);const D=(z,B)=>{if(typeof z!=typeof B)return!1;if(typeof z>"u")return!0;if(typeof z=="string"||typeof B=="number")return z===B;if(typeof z=="object")if(Array.isArray(z)){if(z.length!==B.length)return!1;let G=z.sort(),Y=B.sort();return G.every((Q,K)=>D(Q,Y[K]))}else return Object.keys(z).length!==Object.keys(B).length?!1:z.type&&z.type==="n"?z.min===B.min&&z.max===B.max:Object.keys(z).filter(Y=>D(z[Y],B[Y])).length===Object.keys(z).length;else return console.log(`Unknown object type ${typeof z}`),!1};O.useEffect(()=>{if(c&&Object.keys(c).length>0&&a&&Object.keys(a).length===Object.keys(c).filter(z=>z!=="subgroup_title").length){if(p&&D(p,c))return;let z={...c};Object.entries(c).forEach(([B,G])=>{let Y=a[B];B==="subgroup_title"||(Y.type==="o"||Y.type==="c"?G.length===Y.values.length&&delete z[B]:Y.type==="n"&&G.min===Y.min&&G.max===Y.max&&delete z[B])}),A({pipeId:e,nodeId:t,username:r,config:z},{onSuccess:()=>{m(B=>B+1)}})}},[c]);const F=(z,B)=>{let G={...z},Y=Object.keys(B);Object.keys(G).forEach(Q=>{if(Q==="subgroup_title"){b(G.subgroup_title);return}Y.includes(Q)||delete G[Q]}),Y.forEach(Q=>{if(!(Q in G)){let K=B[Q];K.type==="n"?G[Q]=K:G[Q]=K.values.map(te=>te[Q])}}),u(G)},I=()=>{if(Object.keys(a).length===0)return[];var z=Object.entries(a);let B=z.filter(([Y,Q])=>Q.type==="c"),G=z.filter(([Y,Q])=>Q.type==="n");return z=B.sort((Y,Q)=>Y[1].values.length-Q[1].values.length).concat(G),z},j=(z,B)=>{if(a[z].type==="n")return!1;let G=structuredClone(c);G[z]=B,u(G),E(!0)},M=(z,B)=>{var G;return((G=c[z])==null?void 0:G.indexOf(B))!==-1},$=(z,B,G)=>{let Y=structuredClone(c);Y[z].min=B,Y[z].max=G,u(Y)},L=z=>{let B=structuredClone(c);B.subgroup_title=z,u(B)},V=()=>{let z=structuredClone(c);Object.keys(z).forEach(B=>{var Y;let G=a[B];z[B].type==="n"&&G.type==="n"?z[B]={min:G.min,max:G.max}:B!=="subgroup_title"&&(z[B]=(Y=G.values)==null?void 0:Y.map(Q=>Q[B]))}),u(z)},q=()=>{var z=!0;let B=Object.values(a).filter(Y=>Y.type==="c");B.length>0&&B[0].values.length>0&&(z=Object.keys(B[0].values[0]).length>1);var G={onecol:1};return z?(G.twocol=2,G.threecol=3,G.fourcol=4,G.fivecol=5,G.sixcol=6):(G.twocol_small=2,G.threecol_small=3,G.fourcol_small=4,G.fivecol_small=5,G.sixcol_small=6),G},U=()=>I().map(([z,B],G)=>{if(B.type==="c"){const Y=Object.keys(c).indexOf(z);return x.jsx(lt,{children:x.jsx(TGt,{title:z,items:B.values,filterIndex:Y,isChecked:Q=>M(z,Q[z]),isForeignPipe:S,handleFilterChange:Q=>j(z,Q),disabledRows:d,isLoading:k||P})},G)}else if(B.type==="n"&&n!=="create_subgroup")return x.jsx(lt,{children:x.jsx(MGt,{columnName:z,column:B,userInput:c[z],filterChanged:(Y,Q)=>{$(z,Y,Q)},isForeignPipe:S})},G)});return x.jsxs(lt,{sx:s?{minWidth:"14.7vw"}:{},children:[s?x.jsx(en,{direction:"column",spacing:2,children:U()}):x.jsx(EGt,{columns:q(),children:U()}),document.getElementById(`block-${t}-details-button-portal`)&&n!=="create_subgroup"&&gp.createPortal(x.jsxs(en,{direction:"row",spacing:1,children:[x.jsx(Yt,{title:"Reset all filters",children:x.jsx(sn,{color:"inherit",onClick:z=>{z.stopPropagation(),V()},children:x.jsx(mme,{})})}),_&&x.jsx(Yt,{title:"Apply filters & Reload page",children:x.jsx(Ft,{variant:"contained",color:"primary",onClick:z=>{z.stopPropagation(),o()},startIcon:x.jsx(C1,{}),children:"Apply"})})]}),document.getElementById(`block-${t}-details-button-portal`)),n==="create_subgroup"&&x.jsx(kGt,{disabled:S(),initialTitle:v,onSaveButtonClick:L}),i&&x.jsx(lt,{sx:{mt:3},children:x.jsx(gk,{pipeId:e,nodeId:t,username:r,reloadPipeCounter:g})})]})},OGt=({pipeId:e,open:t,onClose:n,file_uuid:r,isForeignPipe:i})=>{const{api:o}=O.useContext(un),[s,a]=O.useState({}),l=ott(),c=s&&s.mapping&&Object.keys(s.mapping).length>0;O.useEffect(()=>{r!==void 0&&o.getFile(r).then(d=>{a(d.data.dtype_mapping)}).catch(d=>{or.error(d)})},[r]),O.useEffect(()=>{c&&r!==void 0&&o.updateFileDTypeMapping(r,s.mapping,s.sources).then(()=>{l(e)}).catch(d=>{or.error(d)})},[s]);const u=(d,f)=>{a(p=>({mapping:{...p.mapping,[d]:f},sources:{...p.sources,[d]:"user_specified"}}))};return x.jsx(IWe,{anchor:"right",open:t,onClose:n,children:c&&x.jsx(lt,{sx:{mt:8,width:250},role:"presentation",children:x.jsx(Tx,{children:Object.entries(s.mapping).map(([d,f],p)=>x.jsx($0,{width:"300px",children:x.jsxs(en,{direction:"column",sx:{width:"100%"},children:[x.jsx(it,{variant:"h6",children:d}),x.jsx(RI,{config:{options:["Number","Date","Text"],selected_values:[f]},onSelectOption:g=>{u(d,g)},isForeignPipe:i,allowMultiple:!1})]})},p))})})})};function By(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const DGt=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function mx(e,t,n){const r=PGt(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&sde(r,"path",o),sde(r,"relativePath",o),r}function PGt(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=DGt.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function sde(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const IGt=[".DS_Store","Thumbs.db"];function $Gt(e){return By(this,void 0,void 0,function*(){return rP(e)&&FGt(e.dataTransfer)?zGt(e.dataTransfer,e.type):NGt(e)?LGt(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?jGt(e):[]})}function FGt(e){return rP(e)}function NGt(e){return rP(e)&&rP(e.target)}function rP(e){return typeof e=="object"&&e!==null}function LGt(e){return S9(e.target.files).map(t=>mx(t))}function jGt(e){return By(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>mx(n))})}function zGt(e,t){return By(this,void 0,void 0,function*(){if(e.items){const n=S9(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(BGt));return ade(YAe(r))}return ade(S9(e.files).map(n=>mx(n)))})}function ade(e){return e.filter(t=>IGt.indexOf(t.name)===-1)}function S9(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function BGt(e){if(typeof e.webkitGetAsEntry!="function")return lde(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?XAe(t):lde(e,t)}function YAe(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?YAe(n):[n]],[])}function lde(e,t){var n;if(typeof e.getAsFileSystemHandle=="function")return e.getAsFileSystemHandle().then(o=>By(this,void 0,void 0,function*(){const s=yield o.getFile();return s.handle=o,mx(s)}));const r=e.getAsFile();if(!r)return Promise.reject(`${e} is not a File`);const i=mx(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0);return Promise.resolve(i)}function UGt(e){return By(this,void 0,void 0,function*(){return e.isDirectory?XAe(e):HGt(e)})}function XAe(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function o(){t.readEntries(s=>By(this,void 0,void 0,function*(){if(s.length){const a=Promise.all(s.map(UGt));i.push(a),o()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),s=>{r(s)})}o()})}function HGt(e){return By(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=mx(r,e.fullPath);t(i)},r=>{n(r)})})})}var mM={},cde;function VGt(){return cde||(cde=1,mM.__esModule=!0,mM.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0}),mM}var WGt=VGt();const Kj=kg(WGt);function ude(e){return YGt(e)||GGt(e)||QAe(e)||qGt()}function qGt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GGt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YGt(e){if(Array.isArray(e))return w9(e)}function dde(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dde(Object(n),!0).forEach(function(r){KAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dde(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KAe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AE(e,t){return QGt(e)||KGt(e,t)||QAe(e,t)||XGt()}function XGt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(e,t){if(e){if(typeof e=="string")return w9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w9(e,t)}}function w9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KGt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function QGt(e){if(Array.isArray(e))return e}var ZGt=typeof Kj=="function"?Kj:Kj.default,JGt="file-invalid-type",eYt="file-too-large",tYt="file-too-small",nYt="too-many-files",rYt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:JGt,message:"File type must be ".concat(r)}},pde=function(t){return{code:eYt,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},hde=function(t){return{code:tYt,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},iYt={code:nYt,message:"Too many files"};function ZAe(e,t){var n=e.type==="application/x-moz-file"||ZGt(e,t);return[n,n?null:rYt(t)]}function JAe(e,t,n){if(Hm(e.size))if(Hm(t)&&Hm(n)){if(e.size>n)return[!1,pde(n)];if(e.size<t)return[!1,hde(t)]}else{if(Hm(t)&&e.size<t)return[!1,hde(t)];if(Hm(n)&&e.size>n)return[!1,pde(n)]}return[!0,null]}function Hm(e){return e!=null}function oYt(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var c=ZAe(l,n),u=AE(c,1),d=u[0],f=JAe(l,r,i),p=AE(f,1),g=p[0],m=a?a(l):null;return d&&g&&!m})}function iP(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function yM(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function gde(e){e.preventDefault()}function sYt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function aYt(e){return e.indexOf("Edge/")!==-1}function lYt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return sYt(e)||aYt(e)}function Bu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!iP(r)&&a&&a.apply(void 0,[r].concat(o)),iP(r)})}}function cYt(){return"showOpenFilePicker"in window}function uYt(e){if(Hm(e)){var t=Object.entries(e).filter(function(n){var r=AE(n,2),i=r[0],o=r[1],s=!0;return eOe(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(tOe))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=AE(r,2),o=i[0],s=i[1];return fde(fde({},n),{},KAe({},o,s))},{});return[{description:"Files",accept:t}]}return e}function dYt(e){if(Hm(e))return Object.entries(e).reduce(function(t,n){var r=AE(n,2),i=r[0],o=r[1];return[].concat(ude(t),[i],ude(o))},[]).filter(function(t){return eOe(t)||tOe(t)}).join(",")}function fYt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function pYt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function eOe(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function tOe(e){return/^.*\.[\w]+$/.test(e)}var hYt=["children"],gYt=["open"],mYt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],yYt=["refKey","onChange","onClick"];function vYt(e){return SYt(e)||xYt(e)||nOe(e)||bYt()}function bYt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xYt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SYt(e){if(Array.isArray(e))return C9(e)}function Qj(e,t){return _Yt(e)||CYt(e,t)||nOe(e,t)||wYt()}function wYt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nOe(e,t){if(e){if(typeof e=="string")return C9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C9(e,t)}}function C9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CYt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function _Yt(e){if(Array.isArray(e))return e}function mde(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mde(Object(n),!0).forEach(function(r){_9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mde(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oP(e,t){if(e==null)return{};var n=EYt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EYt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var sX=O.forwardRef(function(e,t){var n=e.children,r=oP(e,hYt),i=iOe(r),o=i.open,s=oP(i,gYt);return O.useImperativeHandle(t,function(){return{open:o}},[o]),hn.createElement(O.Fragment,null,n(pi(pi({},s),{},{open:o})))});sX.displayName="Dropzone";var rOe={disabled:!1,getFilesFromEvent:$Gt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};sX.defaultProps=rOe;sX.propTypes={children:ee.func,accept:ee.objectOf(ee.arrayOf(ee.string)),multiple:ee.bool,preventDropOnDocument:ee.bool,noClick:ee.bool,noKeyboard:ee.bool,noDrag:ee.bool,noDragEventsBubbling:ee.bool,minSize:ee.number,maxSize:ee.number,maxFiles:ee.number,disabled:ee.bool,getFilesFromEvent:ee.func,onFileDialogCancel:ee.func,onFileDialogOpen:ee.func,useFsAccessApi:ee.bool,autoFocus:ee.bool,onDragEnter:ee.func,onDragLeave:ee.func,onDragOver:ee.func,onDrop:ee.func,onDropAccepted:ee.func,onDropRejected:ee.func,onError:ee.func,validator:ee.func};var E9={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function iOe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=pi(pi({},rOe),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,f=t.onDrop,p=t.onDropAccepted,g=t.onDropRejected,m=t.onFileDialogCancel,v=t.onFileDialogOpen,b=t.useFsAccessApi,S=t.autoFocus,C=t.preventDropOnDocument,_=t.noClick,E=t.noKeyboard,T=t.noDrag,k=t.noDragEventsBubbling,A=t.onError,P=t.validator,D=O.useMemo(function(){return dYt(n)},[n]),F=O.useMemo(function(){return uYt(n)},[n]),I=O.useMemo(function(){return typeof v=="function"?v:yde},[v]),j=O.useMemo(function(){return typeof m=="function"?m:yde},[m]),M=O.useRef(null),$=O.useRef(null),L=O.useReducer(kYt,E9),V=Qj(L,2),q=V[0],U=V[1],z=q.isFocused,B=q.isFileDialogActive,G=O.useRef(typeof window<"u"&&window.isSecureContext&&b&&cYt()),Y=function(){!G.current&&B&&setTimeout(function(){if($.current){var ue=$.current.files;ue.length||(U({type:"closeDialog"}),j())}},300)};O.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[$,B,j,G]);var Q=O.useRef([]),K=function(ue){M.current&&M.current.contains(ue.target)||(ue.preventDefault(),Q.current=[])};O.useEffect(function(){return C&&(document.addEventListener("dragover",gde,!1),document.addEventListener("drop",K,!1)),function(){C&&(document.removeEventListener("dragover",gde),document.removeEventListener("drop",K))}},[M,C]),O.useEffect(function(){return!r&&S&&M.current&&M.current.focus(),function(){}},[M,S,r]);var te=O.useCallback(function(xe){A?A(xe):console.error(xe)},[A]),ce=O.useCallback(function(xe){xe.preventDefault(),xe.persist(),ge(xe),Q.current=[].concat(vYt(Q.current),[xe.target]),yM(xe)&&Promise.resolve(i(xe)).then(function(ue){if(!(iP(xe)&&!k)){var we=ue.length,Oe=we>0&&oYt({files:ue,accept:D,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:P}),ke=we>0&&!Oe;U({isDragAccept:Oe,isDragReject:ke,isDragActive:!0,type:"setDraggedFiles"}),c&&c(xe)}}).catch(function(ue){return te(ue)})},[i,c,te,k,D,s,o,a,l,P]),ie=O.useCallback(function(xe){xe.preventDefault(),xe.persist(),ge(xe);var ue=yM(xe);if(ue&&xe.dataTransfer)try{xe.dataTransfer.dropEffect="copy"}catch{}return ue&&d&&d(xe),!1},[d,k]),re=O.useCallback(function(xe){xe.preventDefault(),xe.persist(),ge(xe);var ue=Q.current.filter(function(Oe){return M.current&&M.current.contains(Oe)}),we=ue.indexOf(xe.target);we!==-1&&ue.splice(we,1),Q.current=ue,!(ue.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),yM(xe)&&u&&u(xe))},[M,u,k]),he=O.useCallback(function(xe,ue){var we=[],Oe=[];xe.forEach(function(ke){var Ie=ZAe(ke,D),ve=Qj(Ie,2),_e=ve[0],$e=ve[1],De=JAe(ke,s,o),ot=Qj(De,2),Me=ot[0],ze=ot[1],Qe=P?P(ke):null;if(_e&&Me&&!Qe)we.push(ke);else{var Rt=[$e,ze];Qe&&(Rt=Rt.concat(Qe)),Oe.push({file:ke,errors:Rt.filter(function(Et){return Et})})}}),(!a&&we.length>1||a&&l>=1&&we.length>l)&&(we.forEach(function(ke){Oe.push({file:ke,errors:[iYt]})}),we.splice(0)),U({acceptedFiles:we,fileRejections:Oe,isDragReject:Oe.length>0,type:"setFiles"}),f&&f(we,Oe,ue),Oe.length>0&&g&&g(Oe,ue),we.length>0&&p&&p(we,ue)},[U,a,D,s,o,l,f,p,g,P]),fe=O.useCallback(function(xe){xe.preventDefault(),xe.persist(),ge(xe),Q.current=[],yM(xe)&&Promise.resolve(i(xe)).then(function(ue){iP(xe)&&!k||he(ue,xe)}).catch(function(ue){return te(ue)}),U({type:"reset"})},[i,he,te,k]),ne=O.useCallback(function(){if(G.current){U({type:"openDialog"}),I();var xe={multiple:a,types:F};window.showOpenFilePicker(xe).then(function(ue){return i(ue)}).then(function(ue){he(ue,null),U({type:"closeDialog"})}).catch(function(ue){fYt(ue)?(j(ue),U({type:"closeDialog"})):pYt(ue)?(G.current=!1,$.current?($.current.value=null,$.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(ue)});return}$.current&&(U({type:"openDialog"}),I(),$.current.value=null,$.current.click())},[U,I,j,b,he,te,F,a]),pe=O.useCallback(function(xe){!M.current||!M.current.isEqualNode(xe.target)||(xe.key===" "||xe.key==="Enter"||xe.keyCode===32||xe.keyCode===13)&&(xe.preventDefault(),ne())},[M,ne]),W=O.useCallback(function(){U({type:"focus"})},[]),se=O.useCallback(function(){U({type:"blur"})},[]),ae=O.useCallback(function(){_||(lYt()?setTimeout(ne,0):ne())},[_,ne]),X=function(ue){return r?null:ue},Z=function(ue){return E?null:X(ue)},oe=function(ue){return T?null:X(ue)},ge=function(ue){k&&ue.stopPropagation()},be=O.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ue=xe.refKey,we=ue===void 0?"ref":ue,Oe=xe.role,ke=xe.onKeyDown,Ie=xe.onFocus,ve=xe.onBlur,_e=xe.onClick,$e=xe.onDragEnter,De=xe.onDragOver,ot=xe.onDragLeave,Me=xe.onDrop,ze=oP(xe,mYt);return pi(pi(_9({onKeyDown:Z(Bu(ke,pe)),onFocus:Z(Bu(Ie,W)),onBlur:Z(Bu(ve,se)),onClick:X(Bu(_e,ae)),onDragEnter:oe(Bu($e,ce)),onDragOver:oe(Bu(De,ie)),onDragLeave:oe(Bu(ot,re)),onDrop:oe(Bu(Me,fe)),role:typeof Oe=="string"&&Oe!==""?Oe:"presentation"},we,M),!r&&!E?{tabIndex:0}:{}),ze)}},[M,pe,W,se,ae,ce,ie,re,fe,E,T,r]),de=O.useCallback(function(xe){xe.stopPropagation()},[]),Re=O.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ue=xe.refKey,we=ue===void 0?"ref":ue,Oe=xe.onChange,ke=xe.onClick,Ie=oP(xe,yYt),ve=_9({accept:D,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:X(Bu(Oe,fe)),onClick:X(Bu(ke,de)),tabIndex:-1},we,$);return pi(pi({},ve),Ie)}},[$,n,a,fe,r]);return pi(pi({},q),{},{isFocused:z&&!r,getRootProps:be,getInputProps:Re,rootRef:M,inputRef:$,open:X(ne)})}function kYt(e,t){switch(t.type){case"focus":return pi(pi({},e),{},{isFocused:!0});case"blur":return pi(pi({},e),{},{isFocused:!1});case"openDialog":return pi(pi({},E9),{},{isFileDialogActive:!0});case"closeDialog":return pi(pi({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return pi(pi({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return pi(pi({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return pi({},E9);default:return e}}function yde(){}function RYt({setFiles:e}){const t=lr(),{acceptedFiles:n,getRootProps:r,getInputProps:i,isDragActive:o,isDragAccept:s,isDragReject:a}=iOe({accept:{"text/csv":[".csv"],"application/json":[".json"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDrop:e}),l=O.useMemo(()=>({display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:t.palette.primary.main,borderStyle:"dashed",transition:"border .3s ease-in-out",...o?{borderColor:"#2196f3"}:{},...s?{borderColor:"#00e676"}:{},...a?{borderColor:"#ff1744"}:{}}),[o,a,s,t]);return x.jsxs(lt,{children:[x.jsxs(lt,{...r({className:"dropzone",style:l}),children:[x.jsx("input",{...i()}),x.jsx(it,{variant:"body1",children:"Drag and drop some files here, or click to select files"}),x.jsx(it,{variant:"body1",children:"only accepts .csv, .xlsx and .json"})]}),n.length>0&&x.jsxs(lt,{sx:{mt:2},children:[x.jsx(it,{variant:"h5",children:"Selected Files"}),n.map((c,u)=>x.jsxs("div",{children:[c.path," - ",(c.size/(1024*1024)).toFixed(2)," MB"]},u))]})]})}const TYt=({message:e})=>x.jsx(WP,{sx:{mt:10},anchorOrigin:{vertical:"top",horizontal:"center"},open:e!==null,children:x.jsx(K7,{style:{backgroundColor:"#5ed569"},message:e!==null&&x.jsxs(lt,{sx:{display:"inline-flex",flexDirection:"row"},children:[x.jsx(fme,{}),x.jsx(lt,{sx:{ml:2,display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(it,{children:e})})]})})}),MYt=({onUploadComplete:e=t=>{}})=>{const{api:t}=O.useContext(un),[n,r]=O.useState([]);let[i,o]=O.useState(0),[s,a]=O.useState(null),[l,c]=O.useState(null),[u,d]=O.useState(null);const f=(g,m)=>{m?(a(g),setTimeout(()=>{a(null)},5e3)):(c(g),setTimeout(()=>{c(null)},5e3))},p=(g=!1)=>{let m=n;o(0),t.uploadFiles(m,g,v=>{o(Math.round(90*v.loaded/v.total))}).then(v=>{o(100),f("File successfully uploaded",!0),e(m)}).catch(v=>{o(0),v.response&&v.response.status===409&&v.response.data.error_code==="FILE_ALREADY_EXISTS"?d(v.response.data.filename):f("Error uploading file",!1)})};return x.jsxs(lt,{children:[x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx(RYt,{setFiles:g=>{r(g),o(0)}}),x.jsxs(lt,{textAlign:"center",children:[n.length>0&&x.jsx("div",{className:"progress mb-3",children:x.jsxs("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar",style:{width:i+"%"},children:[i,"%"]})}),x.jsx(Ft,{variant:"contained",sx:{ml:"auto"},disabled:n.length===0||i>0,onClick:()=>p(!1),children:"Upload"})]})]}),x.jsxs(Ri,{open:!!u,onClose:()=>d(null),"aria-labelledby":"file-exists-dialog-title","aria-describedby":"file-exists-dialog-description",children:[x.jsx(Aa,{id:"file-exists-dialog-title",children:"File Already Exists"}),x.jsx(Ma,{children:x.jsxs(gl,{id:"file-exists-dialog-description",children:['A file "',u,'" already exists. Do you want to overwrite it?']})}),x.jsxs(Gs,{children:[x.jsx(Ft,{onClick:()=>d(null),color:"primary",children:"Cancel"}),x.jsx(Ft,{onClick:()=>{d(null),p(!0)},color:"primary",variant:"contained",autoFocus:!0,children:"Overwrite"})]})]}),x.jsx(x6,{error:l}),x.jsx(TYt,{message:s})]})},AYt=({files:e,selectedFileIndex:t,setSelectedFilename:n,configureFileClicked:r,toggleVisibilityClicked:i,deleteFileClicked:o,isForeignPipe:s})=>{const{currentUserIsAdmin:a}=Xi(),l=()=>{let m={};return t!==void 0&&t!==-1&&(m[t]=!0),m},c=m=>{r(e[m])},u=m=>{i(e[m])},d=m=>{o(e[m])},f=m=>{n(e[m])},p=()=>e.map(m=>({"File name":m.filename,"Created at":m.creation_date,"Cost centers":m.cost_centers})),g=({closeMenu:m,row:v})=>[x.jsx(ir,{disabled:s(),onClick:()=>{m(),c(v.index)},children:"Configure"},0),x.jsx(ir,{disabled:!a,onClick:()=>{m(),u(v.index)},children:"Change visibility"},1),x.jsx(ir,{disabled:s(),onClick:()=>{m(),d(v.index)},children:"Delete"},2)];return x.jsx(bH,{data:p(),initialSelectionState:l(),onRowSelection:f,generateRowActionItems:g,isForeignPipe:s})},OYt=({pipeId:e,nodeId:t,usernameFromPath:n,showTable:r=!0,onSelectionChanged:i=()=>{}})=>{var I,j;const{api:o}=O.useContext(un),[s,a]=O.useState(void 0),[l,c]=O.useState(0),[u,d]=O.useState([]),[f,p]=O.useState(void 0),g=GAe(f),[m,v]=O.useState(void 0),[b,S]=O.useState(void 0),C=bu(n),[_,E]=O.useState(void 0);O.useEffect(()=>{o.getUserFiles(n).then(M=>{d(M.data),T()}).catch(M=>{console.log(M)})},[l]),O.useEffect(()=>{if(s&&Object.keys(s.data.value).length>0&&u.length>0){let M=s.data.value[0].uuid,L=u.map(V=>V.uuid).indexOf(M);if(L!==-1){let V=u[L];V.uuid!==f&&p(V.uuid)}}},[s]),O.useEffect(()=>{if(_&&u.findIndex($=>$.uuid===_)!==-1){if(_===g)return;P(_),E(void 0)}},[_,u]);const T=()=>{o.getBlock(e,t,n).then(M=>{a(M.data)}).catch(M=>{or.error(`ListFilesPageComponent: Could not get block ${t} in pipe ${e}`,M)})},k=lr(),A=M=>{let $=u.findIndex(L=>L.uuid===M);if($!==-1)return u[$]},P=M=>{if(C()||f===M.uuid)return;let $=A(M.uuid);if($===void 0)return;let L={0:{uuid:$.uuid,filename:$.filename}};o.updateNodeInPipe(e,t,n,L).then(V=>{or.info("Successfully changed node selection in pipe"),T(),c(l+1),i()}).catch(V=>{or.error("Error updating user pipe: "+JSON.stringify(V))})},D=M=>{M&&o.deleteFile(M.uuid).then($=>{c(l+1)}).catch($=>{or.error(`Could not delete file ${M.filename}`,$)})},F=M=>{E(M.uuid),c(l+1)};return x.jsxs(Zee,{direction:"column",spacing:3,children:[x.jsxs(Zee,{direction:"row",children:[x.jsx(lt,{sx:{width:"100%",mt:0},children:x.jsx(AYt,{files:u,selectedFileIndex:u.findIndex(M=>M.uuid===f),setSelectedFilename:P,configureFileClicked:M=>v(M.uuid),toggleVisibilityClicked:M=>S(M.uuid),deleteFileClicked:D,isForeignPipe:C})}),!C()&&x.jsx(Us,{additionalSx:{ml:2,maxWidth:325,mt:0,cursor:"pointer",backgroundColor:k.palette.background.default,border:"1px solid",borderColor:k.palette.border},children:x.jsx(MYt,{onUploadComplete:F})})]}),r&&x.jsx(gk,{reloadPipeCounter:l,pipeId:e,nodeId:t,username:n}),x.jsx(OGt,{pipeId:e,open:m!==void 0,onClose:()=>v(void 0),file_uuid:m,isForeignPipe:C}),x.jsx(Ri,{open:b!==void 0,onClose:()=>S(void 0),children:x.jsx(xH,{target:(I=A(b))==null?void 0:I.filename,originalCostCentersValue:(j=A(b))==null?void 0:j.cost_centers,onClose:(M,$)=>{S(void 0),o.updateFileCostCenters(b,M).then(L=>{o.updateFileOrganization(b,$).then(V=>{c(l+1)})})}})})]})},DYt=({pipeId:e,usernameFromPath:t,isDashboardItem:n,reload:r,showStaticPlot:i,swapCounter:o,setSwapCounter:s,onSelectionChanged:a,showTable:l=!0,parentBlocks:c=[]})=>{let u=O.useMemo(()=>c.map(d=>x.jsx(aX,{pipeId:e,nodeId:d.flow_id,usernameFromPath:t,reload:r,overrideShowStaticPlot:i,showTable:l,isDashboardItem:n,hideBlockDetails:!0,onSelectionChanged:a},`${d.flow_id}-${i}`)),[c,e,t,r,i,l,n]);return x.jsxs(en,{direction:"column",children:[x.jsx(lt,{children:x.jsx(Yt,{title:"Switch to alternative block",children:x.jsx(Ft,{variant:"contained",startIcon:x.jsx(JZe,{}),onClick:()=>{s(o+1)},children:"Swap"})})}),u.map((d,f)=>x.jsx(lt,{sx:{display:f===o%u.length?"block":"none"},children:d},f))]})},aX=({pipeId:e,nodeId:t,usernameFromPath:n,reload:r,expanded:i,toggleExpansion:o,overrideShowStaticPlot:s,showTable:a=!0,isDashboardItem:l=!1,hideBlockDetails:c=!1,onSelectionChanged:u=()=>{},use80percentWidth:d,isFilterCategoriesSideBlock:f=!1})=>{var Y,Q,K;const[p,g]=O.useState(0),m=bu(n),[v,b]=O.useState(!1),{data:S,isLoading:C,isError:_,error:E,refetch:T}=Yme(e,t,n);O.useEffect(()=>{r&&T()},[r,T]);const k=te=>{var ce;return((ce=te==null?void 0:te.blueprint)==null?void 0:ce.type)??""},[A,P]=O.useState(0),D=O.useRef(null),[F,I]=O.useState(l),{enableDashboardAccordions:j}=Xi(),M=()=>k(S)==="plot_swap"?S.parent_blocks[A%S.parent_blocks.length]:S,$=lr(),L=()=>{b(!v)};O.useEffect(()=>{g(p+1)},[r]),O.useEffect(()=>{s!==void 0&&I(s)},[s]);const V=te=>{or.info("Configuration update triggered")};if(C)return x.jsx(wd,{loading:!0});if(_)return x.jsx(Us,{children:x.jsxs(lt,{sx:{p:2,color:"error.main"},children:[x.jsx(it,{variant:"h6",children:"Error Loading Block"}),x.jsx(it,{variant:"body1",children:((Q=(Y=E==null?void 0:E.response)==null?void 0:Y.data)==null?void 0:Q.type)||"An unknown error occurred while loading the block."}),x.jsx(Ft,{variant:"contained",onClick:()=>T(),sx:{mt:2},children:"Retry"})]})});if(!S)return x.jsx(Us,{children:x.jsx(it,{variant:"body1",children:"No block data available"})});const q=te=>{Array.from(D.current.querySelectorAll("*")).includes(te.target)&&o()};let U=()=>{var te=S;return k(S)==="plot_swap"&&(te=S.parent_blocks[A%S.parent_blocks.length]),x.jsx(hGt,{pipeId:e,usernameFromPath:n,block:te,isForeignPipe:m,isOnDashboard:l,onSelectionChanged:u,showStaticPlot:F,reload:r,onShowInteractivePlotClicked:()=>{I(!F)},isFilterCategoriesSideBlock:f})},z=()=>{let te=k(S);return te==="import"?x.jsx(OYt,{pipeId:e,nodeId:t,usernameFromPath:n,showTable:a,onSelectionChanged:u}):rO.includes(te)?x.jsx(pGt,{pipeId:e,nodeId:t,reloadCounter:p,onSelectionChanged:u,showTable:a,usernameFromPath:n,loadStaticPlot:F,isDashboardItem:l,use80percentWidth:d}):Fne.includes(te)?!a&&!Nne.includes(k(S))?x.jsx(x.Fragment,{}):x.jsx(gk,{pipeId:e,nodeId:t,block:S,username:n,reloadPipeCounter:r,config:S.configuration}):["filter_categories","create_subgroup"].includes(te)?x.jsx(AGt,{pipeId:e,nodeId:t,blockType:te,usernameFromPath:n,reload:r,showTable:a,onSelectionChanged:u,isDashboardItem:l,isFilterCategoriesSideBlock:f}):te==="export"?x.jsx(bGt,{pipeId:e,nodeId:t,usernameFromPath:n,reload:r,showTable:a}):te==="plot_swap"?x.jsx(DYt,{pipeId:e,nodeId:t,usernameFromPath:n,reload:r,isDashboardItem:l,showTable:a,showStaticPlot:F,swapCounter:A,setSwapCounter:P,onSelectionChanged:u,parentBlocks:S.parent_blocks}):x.jsx("div",{style:{margin:10},children:"Loading..."})},B=()=>{if(c)return x.jsx("div",{style:{padding:"10px"},children:z()});if(l&&j&&!f)return x.jsx("div",{style:{marginBottom:"10px",alignItems:"center",display:"flex",flexDirection:"column"},children:x.jsxs(Yhe,{expanded:i,onClick:q,children:[x.jsx(Khe,{expandIcon:x.jsx(lU,{}),"aria-controls":"panel1a-content",id:"panel1a-header",ref:D,children:U()}),x.jsx(Xhe,{children:z()})]},S.id)});{let te=l&&Fne.includes(k(S))&&!Nne.includes(k(S));return x.jsxs("div",{className:"pipe-item",style:{marginTop:l?"0px":"90px",marginBottom:"0px",padding:"3rem 0",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:l?$.palette.background.paper:"unset",borderRadius:"8px"},children:[x.jsx("div",{style:{marginBottom:"40px",padding:"10px",display:"flex",maxWidth:"800px",width:"100%"},children:U()}),!te&&x.jsx("div",{style:{padding:"10px",alignItems:"stretch",display:"flex",flexDirection:"column",width:"95%"},children:z()})]},S.id)}};if(S&&k(S)!=="import"&&!l&&!c&&k(S)!=="export")return x.jsxs(kb,{container:!0,spacing:4,children:[x.jsx(wd,{loading:C}),x.jsx(kb,{item:!0,size:9,children:B()}),x.jsx(kb,{item:!0,size:3,sx:{maxHeight:"90px"},children:S&&a&&x.jsx(Tmt,{onSaveConfig:te=>V(),isForeignPipe:m,initialConfig:M().configuration,isShowTableBlock:k(M())==="show_table",isAdminMode:v,onAdminModeToggle:L,pipeId:e,nodeId:(K=M())==null?void 0:K.flow_id,username:n})})]});if(S)return B()},PYt=hn.memo(({pipeId:e,usernameFromPath:t})=>{const[n,r]=O.useState([]),[i,o]=O.useState(0),{data:s={},refetch:a}=c2(e,t);O.useEffect(()=>{s&&s.blocks&&r(s.blocks.map(S=>S.flow_id))},[s]);const l=S=>{r(C=>C.includes(S)?C.filter(_=>_!==S):[...C,S])},c=()=>{a(),o(S=>S+1)},u=O.useMemo(()=>(s.blocks||[]).filter(S=>{var C;return((C=S.dashboard_configuration)==null?void 0:C.view_in_dashboard)&&S.order!=null&&S.order>0}),[s.blocks]),{sidebarFilterBlock:d,mainBlocks:f,sideFilterBlockId:p,filterCategoriesBlocks:g}=O.useMemo(()=>{const S=u.filter(T=>T.blueprint.type==="filter_categories");let C=[],_=[...u],E=null;if(S.length>0){S.sort((k,A)=>k.order-A.order);const T=S[0];C=[T],E=T.flow_id,_=_.filter(k=>k!==T)}return{sidebarFilterBlock:C,mainBlocks:_,sideFilterBlockId:E,filterCategoriesBlocks:S}},[s.blocks]),m=g.length>0,v=(S,C)=>x.jsx(aX,{pipeId:e,nodeId:parseInt(S.flow_id),usernameFromPath:t,reload:i,showTable:!1,isDashboardItem:!0,onSelectionChanged:c,expanded:n.includes(S.flow_id),toggleExpansion:()=>l(S.flow_id),use80percentWidth:m,isFilterCategoriesSideBlock:S.flow_id===p},C),b=S=>S.map((C,_)=>v(C,_));return O.useEffect(()=>(m?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[m]),x.jsx(x.Fragment,{children:m?x.jsx(lt,{sx:{height:"100vh",overflow:"hidden"},children:x.jsxs(kb,{container:!0,spacing:4,sx:{height:"100%"},children:[x.jsx(kb,{item:!0,className:"aside",size:3,sx:{paddingTop:6,paddingBottom:5,overflowY:"auto",height:"100%",minWidth:"325px",backgroundColor:"unset"},children:b(d)}),x.jsx(kb,{item:!0,className:"main",size:"grow",sx:{paddingTop:6,paddingLeft:1,paddingBottom:6.2,overflowY:"auto",height:"100%"},children:b(f)})]})}):x.jsx(lt,{sx:{mt:7,flexDirection:"column"},children:b(f)})})}),IYt=Da("/dashboard/$pipeId")({path:"$pipeId",component:$Yt});function $Yt(){const{pipeId:e,username:t,isTemplate:n}=xu();return x.jsx(VI,{pipeId:e,username:t,isTemplate:n,shouldShowBackToPipeButton:!0,children:x.jsx(PYt,{pipeId:e,usernameFromPath:t})})}const FYt=Da("/admin/user-management")({component:NYt});function NYt(){return x.jsx(Imt,{})}const LYt=Da("/admin/login")({component:jYt});function jYt({isWidget:e}){const t=Oa(),[n,r]=O.useState(""),[i,o]=O.useState(""),[s,a]=O.useState(""),l=e===!0?{flexDirection:"column",padding:"20px",margin:"20px",height:"100%"}:{padding:5,width:320,ml:"auto",mr:"auto"},c=Jet(),u=async()=>{var d,f;if(n===""||i===""){a("You have to fill in the values!");return}try{await c.mutateAsync({user:n,password:i}),or.info("Login success"),a(""),t({to:Mi.Home})}catch(p){or.error("Login error: "+JSON.stringify(p)),(f=(d=p==null?void 0:p.response)==null?void 0:d.data)!=null&&f.type?a(p.response.data.type):p!=null&&p.message?a(p.message):a("An error occurred during login")}};return x.jsx(Pg,{maxWidth:"lg",sx:{marginTop:6,padding:4},children:x.jsx(Us,{additionalSx:l,children:x.jsxs(en,{direction:"column",spacing:2,children:[x.jsx("h2",{children:"Login"}),x.jsx(Ir,{label:"username",value:n,onChange:d=>{r(d.target.value)}}),x.jsx(Ir,{label:"password",type:"password",value:i,onChange:d=>{o(d.target.value)},onKeyUp:d=>{d.key==="Enter"&&u()}}),x.jsx(Ft,{variant:"contained",onClick:u,disabled:c.isPending,children:c.isPending?"Logging in...":"Login"}),s&&x.jsx("div",{className:"alert alert-light",role:"alert",children:s})]})})})}const zYt=Da("/pipe/$pipeId/")({component:BYt});function BYt(){const{pipeId:e,username:t,isTemplate:n}=xu();return x.jsx(x.Fragment,{children:x.jsx(VI,{pipeId:e,username:t,isTemplate:n,shouldShowBackToDashboardButton:!0,children:x.jsx(Rxe,{})})})}const UYt=Da("/pipe/$pipeId/block/$blockId")({component:HYt});function HYt(){const{pipeId:e,nodeId:t,username:n,isTemplate:r}=xu();return x.jsx(x.Fragment,{children:x.jsx(VI,{pipeId:e,username:n,isTemplate:r,nodeId:t,usernameFromPath:n,children:x.jsx(aX,{pipeId:e,nodeId:t,usernameFromPath:n})})})}const VYt=Da("/licenses")(),WYt=VYt.update({id:"/licenses",path:"/licenses",getParentRoute:()=>Ys}).lazy(()=>_s(()=>import("./licenses.lazy-Chdwid80.js"),[]).then(e=>e.Route)),qYt=odt.update({id:"/changelog",path:"/changelog",getParentRoute:()=>Ys}),GYt=adt.update({id:"/auth-callback",path:"/auth-callback",getParentRoute:()=>Ys}),YYt=cdt.update({id:"/",path:"/",getParentRoute:()=>Ys}),XYt=$mt.update({id:"/templates/$username",path:"/templates/$username",getParentRoute:()=>Ys}),KYt=fwt.update({id:"/template/$pipeId",path:"/template/$pipeId",getParentRoute:()=>Ys}),QYt=hwt.update({id:"/pipes/$username",path:"/pipes/$username",getParentRoute:()=>Ys}),ZYt=mwt.update({id:"/files/$username",path:"/files/$username",getParentRoute:()=>Ys}),JYt=lGt.update({id:"/eastereggs/pacman",path:"/eastereggs/pacman",getParentRoute:()=>Ys}),eXt=IYt.update({id:"/dashboard/$pipeId",path:"/dashboard/$pipeId",getParentRoute:()=>Ys}),tXt=FYt.update({id:"/admin/user-management",path:"/admin/user-management",getParentRoute:()=>Ys}),nXt=LYt.update({id:"/admin/login",path:"/admin/login",getParentRoute:()=>Ys}),rXt=zYt.update({id:"/pipe/$pipeId/",path:"/pipe/$pipeId/",getParentRoute:()=>Ys}),iXt=UYt.update({id:"/pipe/$pipeId/block/$blockId",path:"/pipe/$pipeId/block/$blockId",getParentRoute:()=>Ys}),oXt={IndexRoute:YYt,AuthCallbackRoute:GYt,ChangelogRoute:qYt,LicensesLazyRoute:WYt,AdminLoginRoute:nXt,AdminUserManagementRoute:tXt,DashboardPipeIdRoute:eXt,EastereggsPacmanRoute:JYt,FilesUsernameRoute:ZYt,PipesUsernameRoute:QYt,TemplatePipeIdRoute:KYt,TemplatesUsernameRoute:XYt,PipePipeIdIndexRoute:rXt,PipePipeIdBlockBlockIdRoute:iXt},sXt=Ys._addFileChildren(oXt)._addFileTypes(),aXt=rQe(),lXt=QQe({routeTree:sXt,history:aXt}),cXt=new IKe({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),uXt=()=>{const{theme:e}=vy(),[t,n]=O.useState(void 0),{data:r}=kl(),{api:i}=O.useContext(un),[o,s]=O.useState(null);return O.useEffect(()=>{if(r&&!window.location.href.includes("/component/demo")&&(console.log("userProfile",r),n(r),a$e({id:r.id})),window.location.href.includes("error_msg")){let l=new URL(window.location.href.replace("#/","")).searchParams.get("error_msg");s(l),setTimeout(()=>{s(null)},3e3)}},[r]),x.jsxs(lt,{children:[x.jsx(nZe,{title:e.text.title.main,favicon:e.img.favicon.main}),x.jsx(x6,{error:i==null?void 0:i.currentError}),x.jsx(x6,{error:o}),x.jsx(Ig.Provider,{value:{user:t,setUser:n},children:x.jsx(eZe,{router:lXt})})]})},dXt=()=>{const e=Zet();return x.jsxs(jKe,{client:cXt,children:[x.jsx(lJe,{children:x.jsx(mJe,{children:x.jsx(un.Provider,{value:{api:e},children:x.jsx(uXt,{})})})}),x.jsx(JKe,{initialIsOpen:!1})]})};eze({dsn:"https://9a97459f2886eb5407776edef0c6659d@o4505233137926144.ingest.us.sentry.io/4508811273699328",environment:"matrix",integrations:[Xje(),Dje()],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/api\.nomaze\.com/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,debug:!1});cze.createRoot(document.getElementById("root")).render(x.jsx(hn.StrictMode,{children:x.jsx(dXt,{})}));export{Yhe as A,au as C,lU as E,Wc as G,it as T,_s as _,Pg as a,Khe as b,mXt as c,Xhe as d,sI as e,Gtt as f,kg as g,x as j,mu as r};
//# sourceMappingURL=index-D3yU7SL5.js.map
